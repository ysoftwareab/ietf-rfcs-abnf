<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BIER Ingress Multicast Flow Overlay using Multicast Listener Discovery Protocols</title>
<meta content="Pierre Pfister" name="author">
<meta content="IJsbrand Wijnands" name="author">
<meta content="Stig Venaas" name="author">
<meta content="Cui(Linda) Wang" name="author">
<meta content="Zheng(Sandy) Zhang" name="author">
<meta content="Markus Stenberg" name="author">
<meta content="
       This document specifies the ingress part of a multicast flow overlay
    for BIER networks. Using existing multicast listener discovery protocols,
    it enables multicast membership information sharing from egress routers,
    acting as listeners, toward ingress routers, acting as queriers. Ingress
    routers keep per-egress-router state, used to construct the BIER bit mask
    associated with IP multicast packets entering the BIER domain. 
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="Bier" name="keyword">
<meta content="MLD" name="keyword">
<meta content="Control" name="keyword">
<meta content="draft-ietf-bier-mld-06" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.4
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.26.0
    setuptools 59.5.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-bier-mld-06-rfxzq_jp.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">MLD BIER overlay</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Pfister, et al.</td>
<td class="center">Expires 9 July 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-bier-mld-06</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01-05" class="published">5 January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-07-09">9 July 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">P. Pfister</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">IJ. Wijnands</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">S. Venaas</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">C. Wang</div>
</div>
<div class="author">
      <div class="author-name">Z. Zhang</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">M. Stenberg</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BIER Ingress Multicast Flow Overlay using Multicast Listener Discovery Protocols</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document specifies the ingress part of a multicast flow overlay
    for BIER networks. Using existing multicast listener discovery protocols,
    it enables multicast membership information sharing from egress routers,
    acting as listeners, toward ingress routers, acting as queriers. Ingress
    routers keep per-egress-router state, used to construct the BIER bit mask
    associated with IP multicast packets entering the BIER domain.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 9 July 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-overview" class="xref">Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-applicability-statement" class="xref">Applicability Statement</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-querier-and-listener-specif" class="xref">Querier and Listener Specifications</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-configuration-parameters" class="xref">Configuration Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-mldv2-instances" class="xref">MLDv2 instances.</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-sending-queries" class="xref">Sending Queries</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="xref">5.2.2</a>.  <a href="#name-sending-reports" class="xref">Sending Reports</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="xref">5.2.3</a>.  <a href="#name-receiving-queries" class="xref">Receiving Queries</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.4">
                    <p id="section-toc.1-1.5.2.2.2.4.1"><a href="#section-5.2.4" class="xref">5.2.4</a>.  <a href="#name-receiving-reports" class="xref">Receiving Reports</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-packet-forwarding" class="xref">Packet Forwarding</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-bier-mld-igmp-extension-typ" class="xref">BIER MLD/IGMP Extension Type</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-bier-use-case-in-data-cente" class="xref">BIER Use Case in Data Centers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-convention-and-terminology" class="xref">Convention and Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-bier-in-data-centers" class="xref">BIER in data centers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-a-bier-mld-solution-for-vir" class="xref">A BIER MLD solution for Virtual Network information</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Bit Index Explicit Replication (BIER - <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>)
    forwarding technique enables IP multicast transport across a BIER domain.
    When receiving or originating a packet, ingress routers have to construct
    a bit mask indicating which BIER egress routers located within the same
    BIER domain will receive the packet. A stateless approach would consist
    of forwarding all incoming packets toward all egress routers, which would
    in turn make a forwarding decision based on local information. But any
    more efficient approach would require ingress routers to keep some state
    about egress routers multicast membership information, hence requiring
    state sharing from egress routers toward ingress routers.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">This document specifies how to use the Multicast Listener Discovery
    protocol version 2 <span>[<a href="#RFC3810" class="xref">RFC3810</a>]</span> (resp. the Internet Group
    Management protocol version 3 <span>[<a href="#RFC3376" class="xref">RFC3376</a>]</span>) as the ingress
    part of a BIER multicast flow overlay (BIER layering is described in
    <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>) for IPv6 (resp. IPv4). It enables multicast
    membership information sharing from egress routers, acting as listeners,
    toward ingress routers, acting as queriers. Ingress routers keep
    per-egress-router state, used to construct the BIER bit mask associated
    with IP multicast packets entering the BIER domain.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This document defines an MLDv2 and IGMPv3 extension type, using the
    extension scheme defined in
    <span>[<a href="#I-D.ietf-pim-igmp-mld-extension" class="xref">I-D.ietf-pim-igmp-mld-extension</a>]</span>,
    that is used to provide BIER specific information about the message
    originator.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This specification is applicable to both IP version 4 and version 6.
    It therefore specifies two separate mechanisms operating independently.
    For the sake of simplicity, the rest of this document uses IPv6
    terminology. It can be applied to IPv4 by replacing 'MLDv2' with 'IGMPv3',
    and following specific requirements when explicitly stated.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
    "OPTIONAL" in this document are to be interpreted as described in BCP 14
    <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when,
    and only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">The terms "Bit-Forwarding Router" (BFR), "Bit-Forwarding Egress Router"
    (BFER), "Bit-Forwarding Ingress Router" (BFIR), "BFR-id" and "BFR-Prefix"
    are to be interpreted as described in <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Additionally, the following definitions are used:<a href="#section-2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-4">
        <dt id="section-2-4.1">BIER Multicast Listener Discovery (BMLD):</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.2">The
     modified version of MLD specified in this document.<a href="#section-2-4.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.3">BMLD Querier:</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.4">A BFR implementing the Querier part
     of this specification. A BMLD Node MAY be both a Querier and a
     Listener.<a href="#section-2-4.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.5">BMLD Listener:</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.6">A BFR implementing the Listener part
     of this specification. A BMLD Node MAY be both a Querier and a
     Listener.<a href="#section-2-4.6" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="overview">
<section id="section-3">
      <h2 id="name-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
      </h2>
<p id="section-3-1">This document proposes to use the mechanisms described in MLDv2 in
    order to enable multicast membership information sharing from BFERs
    toward BFIRs within a given BIER domain. BMLD queries (resp. reports)
    are sent over BIER toward all BMLD Nodes (resp. BMLD Queriers) using
    modified MLDv2 messages which IP destination is set to a configured
    'all BMLD Nodes' (resp. 'all BMLD Queriers') IP multicast address.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">By running MLDv2 instances with per-listener explicit tracking,
    BMLD Queriers are able to map BMLD Listeners with MLDv2 membership
    states. This state is then used to construct the set of BFERs associated
    with each incoming IP multicast data packet.<a href="#section-3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="as">
<section id="section-4">
      <h2 id="name-applicability-statement">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-applicability-statement" class="section-name selfRef">Applicability Statement</a>
      </h2>
<p id="section-4-1">BMLD runs on top of a BIER Layer and provides the ingress part of a BIER multicast flow overlay, i.e, it specifies how BFIRs construct the set of BFERs for each ingress IP multicast data packet. The BFER part of the Multicast Flow Overlay is out of scope of this document.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The BIER Layer MUST be able to transport BMLD messages toward all BMLD Queriers and Listeners. Such packets are IP multicast packets with a BFR-Prefix as source address, a multicast destination address, and containing a MLDv2 message.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">BMLD only requires state to be kept by Queriers, and is therefore more scalable than PIMv2 <span>[<a href="#RFC7761" class="xref">RFC7761</a>]</span> in terms of overall state, but is also likely to be less scalable than PIMv2 in terms of the amount of control traffic and the size of the state that is kept by individual routers.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">This specification is applicable to both IP version 4 and version 6. It therefore specifies two separate mechanisms operating independently. For the sake of simplicity, this document uses IPv6 terminology. It can be applied to IPv4 by replacing 'MLDv2' with 'IGMPv3', and following specific requirements when explicitly stated.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">If multiple BFIRs have connectivity to the same source, a mechanism is needed to determine
    which BFIR should be the forwarder, that is not specified in this document. As a special case,
    if BIER is used end-to-end such that sources would be directly connected to the BFIRs, then an
    election mechanism is needed if there are multiple BFIRs on the same link as the source. One
    option is to utilize PIM DR Election where the DR is the BIER forwarder, but other election
    mechanisms could be used. In order to allow quick failover, the BFIRs that are not forwarders
    should still track BFER interest so that they have the correct state in case they become
    forwarders.<a href="#section-4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="specs">
<section id="section-5">
      <h2 id="name-querier-and-listener-specif">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-querier-and-listener-specif" class="section-name selfRef">Querier and Listener Specifications</a>
      </h2>
<p id="section-5-1">Routers desiring to receive IP multicast traffic (e.g., for their own use, or for forwarding) MUST behave as BMLD Listeners. Routers receiving IP multicast traffic from outside the BIER domain, or originating multicast traffic, MUST behave as BMLD Queriers.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">BMLD Queriers (resp. BMLD Listeners) MUST act as MLDv2 Queriers (resp. MLDv2 Listeners) as specified in <span>[<a href="#RFC3810" class="xref">RFC3810</a>]</span> unless stated otherwise in this section.<a href="#section-5-2" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-configuration-parameters">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-configuration-parameters" class="section-name selfRef">Configuration Parameters</a>
        </h3>
<p id="section-5.1-1">Both Queriers and Listeners MUST operate as BFIRs and BFERs within
 the BIER domain in order to send and receive BMLD messages. They MUST
 therefore be configured accordingly, as specified in
 <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">All Listeners MUST be configured with an 'all BMLD Queriers'
 multicast address and the BFR-ids of all the BMLD Queriers. This is
 used by Listeners to send BMLD reports over BIER toward all Queriers.
 All Queriers MUST be configured to accept BMLD reports sent to this
 address.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">All Queriers MUST be configured with an 'all BMLD Nodes' multicast
 address and the BFR-ids of all the Queriers and Listeners. This
 information is used by Queriers to send BMLD queries over BIER toward
 all BMLD Nodes. All BMLD Nodes MUST be configured to accept BMLD
 queries sent to this address.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">It may be cumbersone to configure the exact set of BFR-ids for
 Queriers and Listeners. One MAY configure the set of BFR-ids to
 contain any potentially used BFR-id, perhaps having all bit positions
 set. There is no harm in configuring unused BFR-ids. Configuring the
 BFR-ids of additional routers would in most cases cause no harm, as a
 router would drop the BMLD message unless it is configured as a
 Querier or a Listener.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">Note that BMLD (unlike MLDv2) makes use of per-instance configured multicast group addresses rather than well-known addresses so that multiple instances of BMLD (using different group addresses) can be run simultaneously within the same BIER domain. Configured group addresses MAY be obtained from allocated IP prefixes using <span>[<a href="#RFC3306" class="xref">RFC3306</a>]</span>. One MAY choose to use the well-known
MLDv2 addresses in one instance, but different instances MUST use different
addresses.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">IP packets coming from outside of the BIER domain and having a destination address set to the configured 'all BMLD Queriers' or the 'all BMLD Nodes' group address MUST be dropped. It is RECOMMENDED that these configured addresses have a limited scope, enforcing this behavior by scope-based filtering on BIER domain's egress interfaces.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-mldv2-instances">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-mldv2-instances" class="section-name selfRef">MLDv2 instances.</a>
        </h3>
<p id="section-5.2-1">BMLD Queriers MUST run a MLDv2 Querier instance with per-host tracking, which means they keep track of the MLDv2 state associated with each BMLD Listener. For that purpose, Listeners are identified by their respective BFR-Prefix, used as IP source address in all BMLD reports.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">BMLD Listeners MUST run a MLDv2 Listener instance expressing their interest in the multicast traffic they are supposed to receive for local use or forwarding.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">BMLD Listeners and Queriers MUST NOT run the MLDv1 (IGMPv2 and IGMPv1 for IPv4) backward compatibility procedures.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<section id="section-5.2.1">
          <h4 id="name-sending-queries">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-sending-queries" class="section-name selfRef">Sending Queries</a>
          </h4>
<p id="section-5.2.1-1">BMLD Queries are IP packets sent over BIER by BMLD Queriers:<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-2.1">Toward all BMLD Nodes (i.e., providing to the BIER
     Layer the BFR-ids of all BMLD Nodes).<a href="#section-5.2.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-2.2">Without the IPv6 router alert option
     <span>[<a href="#RFC2711" class="xref">RFC2711</a>]</span> in the hop-by-hop extension
     header <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span> (or the IPv4 router alert
     option <span>[<a href="#RFC2113" class="xref">RFC2113</a>]</span> for IPv4).<a href="#section-5.2.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-2.3">With the IP destination address set to the 'all BMLD
     Nodes' group address.<a href="#section-5.2.1-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-2.4">With a deterministic IP source address. It is
     RECOMMENDED that the address is a BFR-Prefix of the sender,
     but it MAY be another value. This address is only used for
     querier election.<a href="#section-5.2.1-2.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-2.5">With a TTL value large enough such that the packet can
     be received by all BMLD Nodes, depending on the underlying
     BIER layer (whether it decrements the IP TTL or not) and
     the size of the network. The default value is 64.<a href="#section-5.2.1-2.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-2.6">The extension type defined in <a href="#exttype" class="xref">Section 6</a>
     MUST be included once, specifying the Sub-domain-id,
     BFR-id and BFR-Prefix of the sender. This information may
     be useful for logging and debugging.<a href="#section-5.2.1-2.6" class="pilcrow">¶</a>
</li>
          </ul>
</section>
<section id="section-5.2.2">
          <h4 id="name-sending-reports">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-sending-reports" class="section-name selfRef">Sending Reports</a>
          </h4>
<p id="section-5.2.2-1">BMLD Reports are IP packets sent over BIER by BMLD Listeners:<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-2.1">Toward all BMLD Queriers (i.e., providing to the BIER
     layer the BFR-ids of all BMLD Queriers).<a href="#section-5.2.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.2-2.2">Without the IPv6 router alert option
     <span>[<a href="#RFC2711" class="xref">RFC2711</a>]</span> in the hop-by-hop extension
     header <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span> (or the IPv4 router alert
     option <span>[<a href="#RFC2113" class="xref">RFC2113</a>]</span> for IPv4).<a href="#section-5.2.2-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.2-2.3">With the IP destination address set to the 'all BMLD
     Queriers' group address.<a href="#section-5.2.2-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.2-2.4">With a deterministic IP source address. It is
     RECOMMENDED that the address is a BFR-Prefix of the sender.<a href="#section-5.2.2-2.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.2-2.5">With a TTL value large enough such that the packet
     can be received by all BMLD Queriers, depending on the
     underlying BIER layer (whether it decrements the IP TTL
     or not) and the size of the network. The default value
     is 64.<a href="#section-5.2.2-2.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.2-2.6">The extension type defined in <a href="#exttype" class="xref">Section 6</a>
     MUST be included once, specifying the Sub-domain-id,
     BFR-id and BFR-Prefix of the sender. This information is
     used to create the necessary forwarding state for requested
     flows, and may be useful for logging and debugging.<a href="#section-5.2.2-2.6" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.2-3">Since the reports may contain a large number of records, they
     may become larger than the maximum BIER payload that can be
     delivered to all the BMLD Queriers. Hence an implementation will
     need to either use a small default maximum size, allow
     configuration of a maximum size, or rely on MTU discovery. MTU
     discovery may be done for a sub-domain using BIER MTU Discovery
     <span>[<a href="#I-D.ietf-bier-mtud" class="xref">I-D.ietf-bier-mtud</a>]</span> or for the set of BMLD
     Queriers using Path MTU Discovery
     <span>[<a href="#I-D.ietf-bier-path-mtu-discovery" class="xref">I-D.ietf-bier-path-mtu-discovery</a>]</span>.<a href="#section-5.2.2-3" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2.3">
          <h4 id="name-receiving-queries">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-receiving-queries" class="section-name selfRef">Receiving Queries</a>
          </h4>
<p id="section-5.2.3-1">BMLD Queriers and Listeners MUST check the destination address
   of all the IP packets that are received or forwarded over BIER
   whenever their own BIER bit is set in the packet. If the destination
   address is equal to the 'all BMLD Nodes' group address the packet is
   processed as specified in this section.<a href="#section-5.2.3-1" class="pilcrow">¶</a></p>
<p id="section-5.2.3-2">If the IPv6 (resp. IPv4) packet contains an ICMPv6 (resp. IGMP)
   message of type 'Multicast Listener Query' (resp. of type
   'Membership Query'), and include the extension defined in
   <a href="#exttype" class="xref">Section 6</a>), it is processed
   by the MLDv2 (resp. IGMPv3) instance run by the BMLD Querier.
   It MUST be dropped otherwise.<a href="#section-5.2.3-2" class="pilcrow">¶</a></p>
<p id="section-5.2.3-3">During the MLDv2 processing, the packet MUST NOT be checked
   against the MLDv2 consistency conditions (i.e., the presence of the
   router alert option, the TTL equaling 1 and, for IPv6 only, the
   source address being link-local).<a href="#section-5.2.3-3" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2.4">
          <h4 id="name-receiving-reports">
<a href="#section-5.2.4" class="section-number selfRef">5.2.4. </a><a href="#name-receiving-reports" class="section-name selfRef">Receiving Reports</a>
          </h4>
<p id="section-5.2.4-1">BMLD Queriers MUST check the destination address of all the IP
   packets that are received or forwarded over BIER whenever their own
   BIER bit is set. If the destination address is equal to the 'all
   BMLD Queriers' the packet is processed as specified in this section.<a href="#section-5.2.4-1" class="pilcrow">¶</a></p>
<p id="section-5.2.4-2">If the IPv6 (resp. IPv4) packet contains an ICMPv6 (resp. IGMP)
   message of type 'Multicast Listener Report Message v2' (resp.
   'Version 3 Membership Report'), and include the extension defined in
   <a href="#exttype" class="xref">Section 6</a>), it is processed by the MLDv2 (resp. IGMPv3)
   instance run by the BMLD Querier. It MUST be dropped otherwise.<a href="#section-5.2.4-2" class="pilcrow">¶</a></p>
<p id="section-5.2.4-3">During the MLDv2 processing, the packet MUST NOT be checked
   against the MLDv2 consistency conditions (i.e., the presence of
   the router alert option, the TTL equaling 1 and, for IPv6 only, the
   source address being link-local).<a href="#section-5.2.4-3" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-5.3">
        <h3 id="name-packet-forwarding">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-packet-forwarding" class="section-name selfRef">Packet Forwarding</a>
        </h3>
<p id="section-5.3-1">BMLD Queriers configure the BIER Layer using the information obtained
      using BMLD, and the extension <a href="#exttype" class="xref">Section 6</a>), to track
      membership state, including the Sub-domain-id, BFR-id and BFR-Prefix
      of the members.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">More specifically, the membership state associated with each BMLD
      Listener is provided to the BIER layer such that whenever a multicast
      packet enters the BIER domain, if that packet matches the membership
      information from a BMLD Listener, its Sub-domain-id and BFR-id is
      added to the set of Sub-domains and BFR-ids the packet should be
      forwarded to by the BIER-Layer.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="exttype">
<section id="section-6">
      <h2 id="name-bier-mld-igmp-extension-typ">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-bier-mld-igmp-extension-typ" class="section-name selfRef">BIER MLD/IGMP Extension Type</a>
      </h2>
<p id="section-6-1">A new MLD/IGMP extension type adds BIER specific information to IGMP/MLD
  messages, using the extension scheme defined in
  <span>[<a href="#I-D.ietf-pim-igmp-mld-extension" class="xref">I-D.ietf-pim-igmp-mld-extension</a>]</span>). The BIER specific
  information is the same as the PTA tunnel identifier in
  <span>[<a href="#RFC8556" class="xref">RFC8556</a>]</span> and is shown in <a href="#exttypefigure" class="xref">Figure 1</a>.
  Note that, as defined in the MLD (resp. IGMP), existing implementations
  are supposed to ignore this additional data.<a href="#section-6-1" class="pilcrow">¶</a></p>
<span id="name-mld-igmp-extension-type-for"></span><div id="exttypefigure">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-6-2.1">
<pre>

     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |          Ext Type TBD         |       Extension Length        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Sub-domain ID |   Reserved    |             BFR-ID            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         BFR-Prefix 1                          |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ~                                                               ~
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         BFR-Prefix n                          |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-mld-igmp-extension-type-for" class="selfRef">MLD/IGMP Extension Type for BIER</a>
        </figcaption></figure>
</div>
<p id="section-6-3" class="keepWithPrevious"></p>
<ul class="normal">
<li class="normal" id="section-6-4.1">Ext Type: Assigned by IANA, identifying this BIER extension.<a href="#section-6-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.2">Extension Length: The length in octets of the data after this field. If there are
      n IPv4 prefixes, the length would be 4 + 4 * n, if there are n IPv6 prefixes, the
      length would be 4 + 16 * n.<a href="#section-6-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.3">Sub-domain-id: A single octet containing a
      BIER sub-domain-id (see [<span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>]).  This indicates
      the BIER sub-domain of the router originating the message.<a href="#section-6-4.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.4">Reserved: A single octect, MUST be set to 0 when sending and ignored when receiving.<a href="#section-6-4.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.5">BFR-id: A two-octet field containing the BFR-id,
      in the specified sub-domain, of the router originating the message.<a href="#section-6-4.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.6">BFR-prefix: The BFR-prefix (see [<span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>]) of the
      router that is originating the message. The BFR-prefix will either be
      a /32 IPv4 address or a /128 IPv6 address.<a href="#section-6-4.6" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-6-5">This extension type MUST be present once in all IGMP and MLD messages
  when originated with a BIER header to identify the BIER originator. It is
  expected that any BIER router originating IGMP/MLD messages in BIER supports
  this specification. Any IGMP/MLD messages that do not contain the extension
  <a href="#exttype" class="xref">Section 6</a>) MUST be dropped by the decapsulating router with
  no processing other than potentially logging or debugging. It is expected
  that any BIER router processing IGMP/MLD messages with BIER encapsulation
  supports this specification. If they do not, they will likely ignore the
  report since they cannot identify the BIER receiver, but they may be able
  to derive some of the receiver information from the BIER header.<a href="#section-6-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sc">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">BMLD makes use of IGMPv3/MLDv2 messages transported over BIER in order to
  configure the BIER Layer of BFIRs. BMLD messages MUST be secured, either
  by relying on physical or link-layer security, by securing the IP packets
  (e.g., using IPSec <span>[<a href="#RFC4301" class="xref">RFC4301</a>]</span>), or by relying on security
  features provided by the BIER Layer.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">By spoofing the IP source address, an attacker could become the IGMP/MLD
  querier. Once one becomes the querier, several attack vectors are possible.
  This is similar to regular IGMP/MLD without BIER encapsulation.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">An attacker could send reports with the BIER IGMP/MLD extension
  <a href="#exttype" class="xref">Section 6</a>) specifying a BFR-ID and BIER prefix identifying
  another router. This would allow the attacker to:<a href="#section-7-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-4.1">Redirect undesired traffic toward the spoofed router by subscribing to
    undesired multicast traffic.<a href="#section-7-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-7-4.2">Prevent desired multicast traffic from reaching the spoofed router by
    unsubscribing to some desired multicast traffic.<a href="#section-7-4.2" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="ic">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document requests that IANA assigns a new type called BIER
  information in the registry defined in
  <span>[<a href="#I-D.ietf-pim-igmp-mld-extension" class="xref">I-D.ietf-pim-igmp-mld-extension</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ack">
<section id="section-9">
      <h2 id="name-acknowledgements">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-9-1">Comments concerning this document are very welcome.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2113">[RFC2113]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span>, <span class="refTitle">"IP Router Alert Option"</span>, <span class="seriesInfo">RFC 2113</span>, <span class="seriesInfo">DOI 10.17487/RFC2113</span>, <time datetime="1997-02" class="refDate">February 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2113">https://www.rfc-editor.org/info/rfc2113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3376">[RFC3376]</dt>
        <dd>
<span class="refAuthor">Cain, B.</span>, <span class="refAuthor">Deering, S.</span>, <span class="refAuthor">Kouvelas, I.</span>, <span class="refAuthor">Fenner, B.</span>, and <span class="refAuthor">A. Thyagarajan</span>, <span class="refTitle">"Internet Group Management Protocol, Version 3"</span>, <span class="seriesInfo">RFC 3376</span>, <span class="seriesInfo">DOI 10.17487/RFC3376</span>, <time datetime="2002-10" class="refDate">October 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3376">https://www.rfc-editor.org/info/rfc3376</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3810">[RFC3810]</dt>
        <dd>
<span class="refAuthor">Vida, R., Ed.</span> and <span class="refAuthor">L. Costa, Ed.</span>, <span class="refTitle">"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"</span>, <span class="seriesInfo">RFC 3810</span>, <span class="seriesInfo">DOI 10.17487/RFC3810</span>, <time datetime="2004-06" class="refDate">June 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3810">https://www.rfc-editor.org/info/rfc3810</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8279">[RFC8279]</dt>
        <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Przygienda, T.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"Multicast Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8279</span>, <span class="seriesInfo">DOI 10.17487/RFC8279</span>, <time datetime="2017-11" class="refDate">November 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8279">https://www.rfc-editor.org/info/rfc8279</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-pim-igmp-mld-extension">[I-D.ietf-pim-igmp-mld-extension]</dt>
      <dd>
<span class="refAuthor">Sivakumar, M.</span>, <span class="refAuthor">Venaas, S.</span>, <span class="refAuthor">Zhang, Z.</span>, and <span class="refAuthor">H. Asaeda</span>, <span class="refTitle">"Internet Group Management Protocol version 3 (IGMPv3) and Multicast Listener Discovery version 2 (MLDv2) Message Extension"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-pim-igmp-mld-extension-05</span>, <time datetime="2021-11-07" class="refDate">7 November 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-pim-igmp-mld-extension-05.txt">https://www.ietf.org/archive/id/draft-ietf-pim-igmp-mld-extension-05.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC2711">[RFC2711]</dt>
        <dd>
<span class="refAuthor">Partridge, C.</span> and <span class="refAuthor">A. Jackson</span>, <span class="refTitle">"IPv6 Router Alert Option"</span>, <span class="seriesInfo">RFC 2711</span>, <span class="seriesInfo">DOI 10.17487/RFC2711</span>, <time datetime="1999-10" class="refDate">October 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2711">https://www.rfc-editor.org/info/rfc2711</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3306">[RFC3306]</dt>
        <dd>
<span class="refAuthor">Haberman, B.</span> and <span class="refAuthor">D. Thaler</span>, <span class="refTitle">"Unicast-Prefix-based IPv6 Multicast Addresses"</span>, <span class="seriesInfo">RFC 3306</span>, <span class="seriesInfo">DOI 10.17487/RFC3306</span>, <time datetime="2002-08" class="refDate">August 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3306">https://www.rfc-editor.org/info/rfc3306</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4301">[RFC4301]</dt>
        <dd>
<span class="refAuthor">Kent, S.</span> and <span class="refAuthor">K. Seo</span>, <span class="refTitle">"Security Architecture for the Internet Protocol"</span>, <span class="seriesInfo">RFC 4301</span>, <span class="seriesInfo">DOI 10.17487/RFC4301</span>, <time datetime="2005-12" class="refDate">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4301">https://www.rfc-editor.org/info/rfc4301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5015">[RFC5015]</dt>
        <dd>
<span class="refAuthor">Handley, M.</span>, <span class="refAuthor">Kouvelas, I.</span>, <span class="refAuthor">Speakman, T.</span>, and <span class="refAuthor">L. Vicisano</span>, <span class="refTitle">"Bidirectional Protocol Independent Multicast (BIDIR-PIM)"</span>, <span class="seriesInfo">RFC 5015</span>, <span class="seriesInfo">DOI 10.17487/RFC5015</span>, <time datetime="2007-10" class="refDate">October 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5015">https://www.rfc-editor.org/info/rfc5015</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7348">[RFC7348]</dt>
        <dd>
<span class="refAuthor">Mahalingam, M.</span>, <span class="refAuthor">Dutt, D.</span>, <span class="refAuthor">Duda, K.</span>, <span class="refAuthor">Agarwal, P.</span>, <span class="refAuthor">Kreeger, L.</span>, <span class="refAuthor">Sridhar, T.</span>, <span class="refAuthor">Bursell, M.</span>, and <span class="refAuthor">C. Wright</span>, <span class="refTitle">"Virtual eXtensible Local Area Network (VXLAN): A Framework for Overlaying Virtualized Layer 2 Networks over Layer 3 Networks"</span>, <span class="seriesInfo">RFC 7348</span>, <span class="seriesInfo">DOI 10.17487/RFC7348</span>, <time datetime="2014-08" class="refDate">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7348">https://www.rfc-editor.org/info/rfc7348</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7365">[RFC7365]</dt>
        <dd>
<span class="refAuthor">Lasserre, M.</span>, <span class="refAuthor">Balus, F.</span>, <span class="refAuthor">Morin, T.</span>, <span class="refAuthor">Bitar, N.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Framework for Data Center (DC) Network Virtualization"</span>, <span class="seriesInfo">RFC 7365</span>, <span class="seriesInfo">DOI 10.17487/RFC7365</span>, <time datetime="2014-10" class="refDate">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7365">https://www.rfc-editor.org/info/rfc7365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7761">[RFC7761]</dt>
        <dd>
<span class="refAuthor">Fenner, B.</span>, <span class="refAuthor">Handley, M.</span>, <span class="refAuthor">Holbrook, H.</span>, <span class="refAuthor">Kouvelas, I.</span>, <span class="refAuthor">Parekh, R.</span>, <span class="refAuthor">Zhang, Z.</span>, and <span class="refAuthor">L. Zheng</span>, <span class="refTitle">"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"</span>, <span class="seriesInfo">STD 83</span>, <span class="seriesInfo">RFC 7761</span>, <span class="seriesInfo">DOI 10.17487/RFC7761</span>, <time datetime="2016-03" class="refDate">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7761">https://www.rfc-editor.org/info/rfc7761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8556">[RFC8556]</dt>
        <dd>
<span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Sivakumar, M.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">A. Dolganow</span>, <span class="refTitle">"Multicast VPN Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8556</span>, <span class="seriesInfo">DOI 10.17487/RFC8556</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8556">https://www.rfc-editor.org/info/rfc8556</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bier-mtud">[I-D.ietf-bier-mtud]</dt>
        <dd>
<span class="refAuthor">Venaas, S.</span>, <span class="refAuthor">Wijnands, I.</span>, <span class="refAuthor">Ginsberg, L.</span>, and <span class="refAuthor">M. Sivakumar</span>, <span class="refTitle">"BIER MTU Discovery"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bier-mtud-00</span>, <time datetime="2019-02-27" class="refDate">27 February 2019</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bier-mtud-00.txt">https://www.ietf.org/archive/id/draft-ietf-bier-mtud-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bier-path-mtu-discovery">[I-D.ietf-bier-path-mtu-discovery]</dt>
      <dd>
<span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Przygienda, T.</span>, and <span class="refAuthor">A. Dolganow</span>, <span class="refTitle">"Path Maximum Transmission Unit Discovery (PMTUD) for Bit Index Explicit Replication (BIER) Layer"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bier-path-mtu-discovery-11</span>, <time datetime="2021-10-04" class="refDate">4 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bier-path-mtu-discovery-11.txt">https://www.ietf.org/archive/id/draft-ietf-bier-path-mtu-discovery-11.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-bier-use-case-in-data-cente">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-bier-use-case-in-data-cente" class="section-name selfRef">BIER Use Case in Data Centers</a>
      </h2>
<p id="appendix-A-1">In current data center virtualization, virtual eXtensible Local Area
  Network (VXLAN) <span>[<a href="#RFC7348" class="xref">RFC7348</a>]</span> is a kind of network virtualization
  overlay technology which is overlaid between NVEs and is intended for
  multi-tenancy data center networks, whose reference architecture is
  illustrated as per <a href="#nvo3arch" class="xref">Figure 2</a>.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<span id="name-nvo3-architecture"></span><div id="nvo3arch">
<figure id="figure-2">
        <div class="alignCenter art-text artwork" id="appendix-A-2.1">
<pre>
    +--------+                                             +--------+
    | Tenant +--+                                     +----| Tenant |
    | System |  |                                    (')   | System |
    +--------+  |          ................         (   )  +--------+
                |  +-+--+  .              .  +--+-+  (_)
                |  | NVE|--.              .--| NVE|   |
                +--|    |  .              .  |    |---+
                   +-+--+  .              .  +--+-+
                   /       .              .
                  /        .  L3 Overlay  .  +--+-++--------+
    +--------+   /         .    Network   .  | NVE|| Tenant |
    | Tenant +--+          .              .--|    || System |
    | System |             .              .  +--+-++--------+
    +--------+             ................
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-nvo3-architecture" class="selfRef">NVO3 Architecture</a>
        </figcaption></figure>
</div>
<p id="appendix-A-3">
    And there are two kinds of most common methods about how to forward
    BUM packets in this virtualization overlay network.  One is using PIM
    as underlay multicast routing protocol to build explicit multicast
    distribution tree, such as PIM-SM <span>[<a href="#RFC7761" class="xref">RFC7761</a>]</span> or PIM-BIDIR
    <span>[<a href="#RFC5015" class="xref">RFC5015</a>]</span> multicast routing protocol.  Then, when BUM
    packets arrive
    at NVE, it requires NVE to have a mapping between the VXLAN Network
    Identifier and the IP multicast group.  According to the mapping, NVE
    can encapsulate BUM packets in a multicast packet which group address
    is the mapping IP multicast group address and steer them through
    explicit multicast distribution tree to the destination NVEs.  This
    method has two serious drawbacks.  It need the underlay network
    supports complicated multicast routing protocol and maintains
    multicast related per-flow state in every transit nodes.  What is
    more, how to configure the ratio of the mapping between VNI and IP
    multicast group is also an issue.  If the ratio is 1:1, there should
    be 16M multicast groups in the underlay network at maximum to map to
    the 16M VNIs, which is really a significant challenge for the data
    center devices.  If the ratio is n:1, it would result in inefficiency
    bandwidth utilization which is not optimal in data center networks.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<p id="appendix-A-4">
    The other method is using ingress replication to require each NVE to
    create a mapping between the VXLAN Network Identifier and the remote
    addresses of NVEs which belong to the same virtual network.  When NVE
    receives BUM traffic from the attached tenant, NVE can encapsulate
    these BUM packets in unicast packets and replicate them and tunnel
    them to different remote NVEs respectively.  Although this method can
    eliminate the burden of running multicast protocol in the underlay
    network, it has a significant disadvantage: large waste of bandwidth,
    especially in big-sized data center where there are many receivers.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<p id="appendix-A-5">
    BIER <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span> is
    an architecture that provides optimal multicast forwarding through a
    "BIER domain" without requiring intermediate routers to maintain any
    multicast related per-flow state.  BIER also does not require any
    explicit tree-building protocol for its operation.  A multicast data
    packet enters a BIER domain at a "Bit-Forwarding Ingress Router"
    (BFIR), and leaves the BIER domain at one or more "Bit-Forwarding
    Egress Routers" (BFERs).  The BFIR router adds a BIER header to the
    packet.  The BIER header contains a bit-string in which each bit
    represents exactly one BFER to forward the packet to.  The set of
    BFERs to which the multicast packet needs to be forwarded is
    expressed by setting the bits that correspond to those routers in the
    BIER header.  Specifically, for BIER-TE, the BIER header may also
    contain a bit-string in which each bit indicates the link the flow
    passes through.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
<p id="appendix-A-6">
    The following sub-sections try to propose how to take full advantage of
    overlay multicast protocol to carry virtual network information, and
    create a mapping between the virtual network information and the
    bit-string to implement BUM services in data centers.<a href="#appendix-A-6" class="pilcrow">¶</a></p>
<section id="appendix-A.1">
        <h3 id="name-convention-and-terminology">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-convention-and-terminology" class="section-name selfRef">Convention and Terminology</a>
        </h3>
<p id="appendix-A.1-1">
      The terms about NVO3 are defined in <span>[<a href="#RFC7365" class="xref">RFC7365</a>]</span>.
      The most common terminology used in this appendix is listed below.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A.1-2">
          <dt id="appendix-A.1-2.1">NVE:</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.1-2.2">
   Network Virtualization Edge, which is the entity that implements
   the overlay functionality.  An NVE resides at the boundary between a
   Tenant System and the overlay network.<a href="#appendix-A.1-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.1-2.3">VXLAN:</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.1-2.4">
   Virtual eXtensible Local Area Network<a href="#appendix-A.1-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.1-2.5">VNI:</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.1-2.6">
   VXLAN Network Identifier<a href="#appendix-A.1-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.1-2.7">Virtal Network Context Identifier:</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.1-2.8">
   Field in an overlay encapsulation
   header that identifies the specific VN the packet belongs to.<a href="#appendix-A.1-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="appendix-A.2">
        <h3 id="name-bier-in-data-centers">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-bier-in-data-centers" class="section-name selfRef">BIER in data centers</a>
        </h3>
<p id="appendix-A.2-1">
      This section tries to describe how to use BIER as an optimal scheme
      to forward the broadcast, unknown and multicast (BUM) packets when
      they arrive at the ingress NVE in data centers.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2-2">
      The principle of using BIER to forward BUM traffic is that: firstly,
      it requires each ingress NVE to have a mapping between the Virtual
      Network Context Identifier and the bit-string in which each bit
      represents exactly one egress NVE to forward the packet to.  And
      then, when receiving the BUM traffic, the BFIR/Ingree NVE maps the
      receiving BUM traffic to the mapping bit-string, encapsulates the
      BIER header, and forwards the encapsulated BUM traffic into the BIER
      domain to the other BFERs/Egress NVEs indicated by the bit-string.<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
<p id="appendix-A.2-3">
      Furthermore, as for how each ingress NVE knows the other egress NVEs
      that belong to the same virtual network and creates the mapping is
      the main issue discussed below.  Basically, BIER Multicast Listener
      Discovery is an overlay solution to support ingress routers to keep
      per-egress-router state to construct the BIER bit-string associated
      with IP multicast packets entering the BIER domain.  The following
      section tries to extend BIER MLD to carry virtual network
      information(such as Virtual Network Context identifier), and
      advertise them between NVEs.  When each NVE receive these
      information, they create the mapping between the virtual network
      information and the bit-string representing the other NVEs belonged
      to the same virtual network.<a href="#appendix-A.2-3" class="pilcrow">¶</a></p>
</section>
<section id="appendix-A.3">
        <h3 id="name-a-bier-mld-solution-for-vir">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-a-bier-mld-solution-for-vir" class="section-name selfRef">A BIER MLD solution for Virtual Network information</a>
        </h3>
<p id="appendix-A.3-1">The BIER MLD solution allows having multiple MLD instances by having
     unique pairs of BMLD Nodes and BMLD Querier addresses for each instance.
     Assume for now that we have a unique instance per VNI and that all BMLD
     routers are using the same mapping between VNIs and BMLD address pairs.
     Also for each VNI there is a multicast group used for encapsulation of
     BUM traffic over BIER. This group may potentially be shared by some or
     all of the VNIs.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3-2">
    Each NVE acquires the Virtual Network information, and advertises
    this Virtual Network information to other NVEs through the MLD
    messages. For a given VNI it sends BMLD reports to the BMLD nodes
    address used for that VNI, for the group used for delivering BUM
    traffic for that VNI. This allows all NVE routers to know which other
    NVE routers have interest in BUM traffic for a particular VNI.
    If one attached virtual network is
    migrated, the NVE will withdraw the Virtual Network information by
    sending an unsolicited BMLD report. Note that NVEs also respond to
    periodic queries to BMLD Nodes addresses corresponding to VNIs for
    which they have interest.<a href="#appendix-A.3-2" class="pilcrow">¶</a></p>
<p id="appendix-A.3-3">
    When ingress NVE receives the Virtual Network information
    advertisement message, it builds a mapping between the receiving
    Virtual Network Context Identifier in this message and the bit-string
    in which each bit represents one egress NVE who sends the same
    Virtual Network information.  Subsequently, once this ingress NVE
    receives some other MLD advertisements which include the same Virtual
    Network information from some other NVEs , it updates the bit-string
    in the mapping and adds the corresponding sending NVE to the updated
    bit-string.  Once the ingress NVE removes one virtual network, it
    will delete the mapping corresponding to this virtual network as well
    as send withdraw message to other NVEs.<a href="#appendix-A.3-3" class="pilcrow">¶</a></p>
<p id="appendix-A.3-4">
    After finishing the above interaction of MLD messages, each ingress
    NVE knows where the other egress NVEs are in the same virtual
    network.  When receiving BUM traffic from the attached virtual
    network, each ingress NVE knows exactly how to encapsulate this
    traffic and where to forward them to.<a href="#appendix-A.3-4" class="pilcrow">¶</a></p>
<p id="appendix-A.3-5">
   This can be used in both IPv4 network and IPv6 network.  In IPv4,
   IGMP protocol does the similar extension for carrying Virtual Network
   information TLV in Version 2 membership report message.<a href="#appendix-A.3-5" class="pilcrow">¶</a></p>
<p id="appendix-A.3-6">Note that it is possible to have multiple VNIs map to the same
     pair of BMLD addresses. Provided VNIs that map to the same BMLD
     address uses different multicast groups for encapsulation, this
     is not a problem, because each instance is tracking interest for
     each multicast group separately. If multiple VNIs map to the same
     pair and the multicast group used is not unique, some NVEs may
     receive BUM traffic for which they are not interested. An NVE
     would drop packets for an unknown VNI, but it means wasting some
     bandwidth and processing. This is similar to the non-BIER case
     where there is not a unique multicast group for encapsulation. The
     improvement offered by using BMLD is by using multiple instance,
     hence reducing the problems caused by using the same transport
     group for multiple VNIs.<a href="#appendix-A.3-6" class="pilcrow">¶</a></p>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Pierre Pfister</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="locality">Paris</span></div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:pierre.pfister@darou.fr" class="email">pierre.pfister@darou.fr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">IJsbrand Wijnands</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="street-address">De Kleetlaan 6a</span></div>
<div dir="auto" class="left">
<span class="postal-code">1831</span> <span class="locality">Diegem</span>
</div>
<div dir="auto" class="left"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ice@cisco.com" class="email">ice@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Stig Venaas</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="street-address">Tasman Drive</span></div>
<div dir="auto" class="left">
<span class="locality">San Jose</span>, <span class="region">CA</span> <span class="postal-code">95134</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:stig@cisco.com" class="email">stig@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Cui(Linda) Wang</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lindawangjoy@gmail.com" class="email">lindawangjoy@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Zheng(Sandy) Zhang</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="street-address">No.50 Software Avenue, Yuhuatai District</span></div>
<div dir="auto" class="left"><span class="locality">Nanjing</span></div>
<div dir="auto" class="left">
<span class="region">CA</span>, </div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhang.zheng@zte.com.cn" class="email">zhang.zheng@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Markus Stenberg</span></div>
<div dir="auto" class="left">FI-<span class="postal-code">00930</span> <span class="locality">Helsinki</span>
</div>
<div dir="auto" class="left"><span class="country-name">Finland</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:markus.stenberg@iki.fi" class="email">markus.stenberg@iki.fi</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
