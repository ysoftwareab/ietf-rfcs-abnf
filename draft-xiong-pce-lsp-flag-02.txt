



PCE                                                             Q. Xiong
Internet-Draft                                           ZTE Corporation
Intended status: Standards Track                            June 1, 2020
Expires: December 3, 2020


               LSP Object Flag Extension of Stateful PCE
                      draft-xiong-pce-lsp-flag-02

Abstract

   RFC8231 describes a set of extensions to PCEP to enable stateful
   control of MPLS-TE and GMPLS Label Switched Paths(LSPs) via PCEP.
   One of the extensions is the LSP object which includes a Flag field
   and the length is 12 bits.  However, 11 bits of the Flag field has
   been assigned in RFC8231, RFC8281 and RFC8623 respectively.

   This document proposes to define a new LSP-EXTENDED-FLAG TLV for LSP
   object to extend the length of the flags.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 3, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must



Xiong                   Expires December 3, 2020                [Page 1]

Internet-Draft  LSP Object Flag Extension of Stateful PCE      June 2020


   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
     2.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3
     2.2.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   3.  PCEP Extension  . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  The LSP-EXTENDED-FLAG TLV . . . . . . . . . . . . . . . .   3
     3.2.  Processing  . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Backward Compatibility  . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
     5.1.  LSP Object  . . . . . . . . . . . . . . . . . . . . . . .   4
       5.1.1.  LSP-EXTENDED-FLAG TLV . . . . . . . . . . . . . . . .   4
       5.1.2.  LSP Extended Flags Field  . . . . . . . . . . . . . .   5
     5.2.  PCEP-Error Object . . . . . . . . . . . . . . . . . . . .   5
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   8.  Normative References  . . . . . . . . . . . . . . . . . . . .   6
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   [RFC5440] describes the Path Computation Element Protocol (PCEP)
   which is used between a Path Computation Element (PCE) and a Path
   Computation Client (PCC) (or other PCE) to enable computation of
   Multi-protocol Label Switching (MPLS) for Traffic Engineering Label
   Switched Path (TE LSP).

   PCEP Extensions for the Stateful PCE Model [RFC8231] describes a set
   of extensions to PCEP to enable active control of MPLS-TE and
   Generalized MPLS (GMPLS) tunnels.  One of the extensions is the LSP
   object which contains a flag field indicating to a PCE that the LSP
   State Synchronization is in progress.

   As defined in [RFC8231], the length of the flag field is 12 bits and
   the value from bit 5 to bit 11 is used for operational,
   administrative, remove, synchronize and delegate respectively.  The
   bit value 4 is assigned in [RFC8281] for create.  The bits from 1 to
   3 is assigned in [RFC8623] for ERO-compression, fragmentation and
   P2MP respectively.  Almost all bits of the Flag field has been
   assigned in RFC8231, RFC8281 and RFC8623 respectively.  It is
   required to extend the length of the flag field for other cases.





Xiong                   Expires December 3, 2020                [Page 2]

Internet-Draft  LSP Object Flag Extension of Stateful PCE      June 2020


   This document proposes to define a new LSP-EXTENDED-FLAG TLV for LSP
   object to extend the length of the flag.

2.  Conventions used in this document

2.1.  Terminology

   The terminology is defined as [RFC5440] and [RFC8231].

2.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  PCEP Extension

   The LSP Object is defined in Section 7.3 of [RFC8231].  This document
   proposes to define a new LSP-EXTENDED-FLAG TLV for LSP Object to
   extend the length of the flag.

3.1.  The LSP-EXTENDED-FLAG TLV

   The format of the LSP-EXTENDED-FLAG TLV is as shown in the Figure 1.


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |           Type=TBD            |          Length               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       //                 LSP Extended Flags                          //
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                  Figure 1: LSP-EXTENDED-FLAG TLV Format

   Type (16 bits): the value is TBD1 by IANA.

   Length (16 bits): multiple of 4 octets.

   LSP Extended Flags: this contains an array of units of 32-bit flags
   numbered from the most significant as bit zero, where each bit
   represents one LSP capability or state.



Xiong                   Expires December 3, 2020                [Page 3]

Internet-Draft  LSP Object Flag Extension of Stateful PCE      June 2020


3.2.  Processing

   The LSP Extended Flags field is an array of units of 32 flags and
   being used starting from the least significant bit.  Any bit being
   assigned indicates a special LSP capability or state when the bit is
   set to 0.  No bits are defined in this document and the bits of the
   LSP Extended Flags field MAY be assigned for future uses and IANA
   will manage the space of the LSP Extended Flags.  Unassigned bits are
   reserved and SHOULD be set to zero on transmission and MUST be
   ignored on receipt.

   The LSP-EXTENDED-FLAG TLV MUST be included in the LSP Object when the
   bits of the extended flag field need to be used.  If the TLV is
   missing, the PCE will generate an error with Error-type=6 (Mandatory
   Object missing) and error-value TBD2 (LSP-EXTENDED-FLAG TLV missing)
   and close the session.

4.  Backward Compatibility

   The LSP-EXTENDED-FLAG TLV defined in this document does not introduce
   any interoperability issues.

   A router not supporting the LSP-EXTENDED-FLAG TLV will just silently
   ignore the TLV as specified in section 3.2.

   The LSP-EXTENDED-FLAG TLV MUST be defined as mandatory when a router
   supporting the LSP Object and needs to use the extended flag field.

5.  IANA Considerations

5.1.  LSP Object

5.1.1.  LSP-EXTENDED-FLAG TLV

   IANA has assigned a registry for TLVs carried in the LSP Object
   defined in [RFC8231].  IANA is requested to make allocations for the
   LSP-EXTENDED-FLAG TLV carried within LSP Object from the "PCEP TLV
   Type Indicators" subregistry of the "Path Computation Element
   Protocol (PCEP) Numbers" registry, as follows:

          +---------+------------------------+------------------+
          |  Value  |  Description           |  Reference       |
          +---------+------------------------+------------------+
          | TBD1    | LSP-EXTENDED-FLAG TLV  | [This document]  |
          +---------+------------------------+------------------+

                                  Table 1




Xiong                   Expires December 3, 2020                [Page 4]

Internet-Draft  LSP Object Flag Extension of Stateful PCE      June 2020


5.1.2.  LSP Extended Flags Field

   IANA is requested to create a new subregistry, named "LSP Extended
   Flags Field", from the "Path Computation Element Protocol (PCEP)
   Numbers" registry to manage the LSP Extended Flags field of the LSP-
   EXTENDED-FLAG TLV.  New values MUST request to be assigned by
   Standards Action [RFC8126] and IANA will manage the space of the bit
   flags numbering them in the usual IETF notation starting at zero and
   continuing at least through 31.  Each bit should be tracked with the
   following qualities:

   Bit number (counting from bit 0 as the most significant bit)

   Capability description

   Defining RFC

5.2.  PCEP-Error Object

   IANA is requested to register the following error types and error
   values within the "PCEP-ERROR Object Error Types and Values"
   subregistry of the "Path Computation Element Protocol (PCEP) Numbers"
   registry:

          +--------------+-------------------------------------+
          |  Error-Type  |  Meaning                            |
          +--------------+-------------------------------------+
          |  6           |  Mandatory Object missing           |
          |              |  Error-value                        |
          |              | TBD2: LSP-EXTENDED-FLAG TLV missing |
          +--------------+-------------------------------------+

                                  Table 2

6.  Security Considerations

   For LSP Object procssing security considerations, see [RFC8231].

   No additional security issues are raised in this document beyond
   those that exist in the referenced documents.

7.  Acknowledgements

   Authors would like to thank the comments and suggestions from Dhruv
   Dhody and Farrel Adrian.






Xiong                   Expires December 3, 2020                [Page 5]

Internet-Draft  LSP Object Flag Extension of Stateful PCE      June 2020


8.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

   [RFC8126]  Cotton, M., Leiba, B., and T. Narten, "Guidelines for
              Writing an IANA Considerations Section in RFCs", BCP 26,
              RFC 8126, DOI 10.17487/RFC8126, June 2017,
              <https://www.rfc-editor.org/info/rfc8126>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8231]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", RFC 8231,
              DOI 10.17487/RFC8231, September 2017,
              <https://www.rfc-editor.org/info/rfc8231>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

   [RFC8623]  Palle, U., Dhody, D., Tanaka, Y., and V. Beeram, "Stateful
              Path Computation Element (PCE) Protocol Extensions for
              Usage with Point-to-Multipoint TE Label Switched Paths
              (LSPs)", RFC 8623, DOI 10.17487/RFC8623, June 2019,
              <https://www.rfc-editor.org/info/rfc8623>.

Author's Address

   Quan Xiong
   ZTE Corporation
   No.6 Huashi Park Rd
   Wuhan, Hubei  430223
   China

   Email: xiong.quan@zte.com.cn



Xiong                   Expires December 3, 2020                [Page 6]
