Internet Engineering Task Force                            Juha Heinanen
INTERNET DRAFT                                             Telia Finland
Expires September 2000                                        Dave Allan
                                                         Nortel Networks
                                                          Petri Helenius
                                                        KPNQwest Finland
                                                              Arthur Lin
                                                         Shasta Networks
                                                              March 2000


    PPP Internet Protocol Control Protocol Extensions for IP Subnet
                   <draft-helenius-ppp-subnet-00.txt>



Status of this Memo


   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC 2026.  Internet-Drafts are
   working documents of the Internet Engineering Task Force (IETF), its
   areas, and its working groups.  Note that other groups may also
   distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
   Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

Abstract

   The Point-to-Point Protocol (PPP) [1] provides a standard method for
   transporting multi-protocol datagrams over point-to-point links.  PPP
   defines an extensible Link Control Protocol and a family of Network
   Control Protocols (NCPs) for establishing and configuring different
   network-layer protocols.

   This document extends the NCP for establishing and configuring the
   Internet Protocol over PPP [2] by defining an IP Subnet configuration
   option.

1. Motivation

   The IP-address configuration option [2] allows negotiation of a
   single IP address used on the local end of a PPP link.  It is
   adequate when the the local end is an IP host.  However, when the
   local end is an router, for example an ISDN or ADSL router providing
   IP connectivity for a home or small office LAN, then it should be
   possible to negotiate a whole IP subnet for the LAN rather than a
   single IP address for the local end of the link.

   This document defines an IP subnet configuration option that allows a
   router at the local end of an (unnumbered) PPP link to automatically
   negotiate an IP subnet for a LAN for which it provides IP
   connectivity via the PPP link. The received subnet mask will define
   the subnet in combination of the IP address received from IP address
   negotiation.

   The following section contains the formal definition of the IP Subnet
   configuration option.

2.  IP Subnet IPCP Configuration Option

   The IP Subnet configuration option, x (value to be assigned by IANA),
   is used together with IP-address configuration option to learn an IP
   subnet for a LAN attached to a router on the local end of an
   (unnumbered) PPP link.  The IP Subnet configuration option allows the
   sender of the Configure-Request to request that the peer provides the
   information.  The peer MAY or MAY NOT provide the information by
   ACKing or NAKing the option.  The IP Subnet configuration option MAY
   be present in the Configure-Nak or Configure-Ack only if the option
   was present in the corresponding Configure-Request.

   The format of the IP Subnet configuration option is shown below.  The
   fields are transmitted from left to right.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     Type      |    Length     |     Size      |    Pad        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Type
      To be assigned.

   Length

      8

   Size

      The Size indicates the desired size of the IP subnet, i.e., how
      many most significant bits of the negotiated IP-address belong to
      the network part of the address.  The value of the Mask MUST be
      from 0 to 32.  If the value of the Mask is 0, it indicates a
      request for the peer to provide the Mask information.  Mask value
      32 denotes a single host address. Note that the sender of
      Configure-Request can not propose a mask but can only indicate
      that it would like to receive the mask information on Configure-
      Ack. The value of the Mask in Configure-Request MUST thus always
      be 0.


   Pad

      The Pad is used to make the length of the IP Subnet configuration
      option a multiple of four octets.  It MAY have any value.

   Default

      No IP subnet is assigned.

3. Security Considerations

   The remote end of the PPP link SHOULD verify that the local end is
   authorized to use the requested IP subnet information before ACKing
   the request.

References

   [1] Simpson, W., Editor, "The Point-to-Point Protocol (PPP)", STD 51,
   RFC 1661, Daydreamer, July 1994.

   [2] McGregor, G., "PPP Internet Control Protocol", RFC 1332, Merit,
   May 1992.

Author Information

   Juha Heinanen
   Telia Finland, Inc.
   Myyrmaentie 2
   01600 VANTAA
   Finland
   jh@telia.fi

   Dave Allan
   Nortel Networks
   P.O. Box 3511, Station 'C'
   Ottawa, Ontario
   CANADA, K2B 5P9
   dallan@nortelnetworks.com

   Petri Helenius
   KPNQwest Finland
   Merimiehenkatu 36
   00150  HELSINKI
   FINLAND
   pete@kpnqwest.fi

   Arthur Lin
   Nortel Networks
   Shasta IP Services Business Unit
   4500 Great America Parkway
   Santa Clara, CA 95054
   U.S.A
   alin@shastanets.com










