<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>An Algorithm for Computing Dynamic Flooding Topologies</title>
<meta content="Sarah Chen" name="author">
<meta content="Tony Li" name="author">
<meta content="
       
 Link-state routing protocols suffer from excessive flooding in
 dense network topologies. Dynamic flooding  
 alleviates the problem by decoupling the flooding topology from
 the physical topology. Link-state protocol updates are flooded
 only on the sparse flooding topology while data traffic is still
 forwarded on the physical topology.
       
       
 This document describes an algorithm to obtain a sparse subgraph
 from a dense graph. The resulting subgraph has certain desirable
 properties and can be used as a flooding topology in dynamic
 flooding.
       
       
 This document discloses the algorithm that we have developed in
 order to make it easier for other developers to implement
 similar algorithms. We do not claim that our algorithm is
 optimal, rather it is a pragmatic effort and we expect that
 further research and refinement can improve the results.
       
       
 We are not proposing that this algorithm be standardized, nor
 that the working group use this as a basis for further
 standardization work, however we have no objections if the
 working group chooses to do so.
       
    " name="description">
<meta content="xml2rfc 2.40.1" name="generator">
<meta content="datacenter IGP routing flooding dense graph topology" name="keyword">
<meta content="draft-chen-lsr-dynamic-flooding-algorithm-00" name="ietf.draft">
<link href="/tmp/draft-chen-lsr-dynamic-flooding-algorithm-00-7rlbe_to.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/*
  The margin-left: 0 on <dd> removes all distinction
  between levels from nested <dl>s.  Undo that.
*/
dl.olPercent > dd,
dd {
  margin-left: revert;
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Dynamic Flooding Algorithm</td>
<td class="right">March 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Chen &amp; Li</td>
<td class="center">Expires 4 September 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Internet Engineering Task Force</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-chen-lsr-dynamic-flooding-algorithm-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-03-03" class="published">3 March 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-09-04">4 September 2020</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Chen</div>
<div class="org">Arista Networks</div>
</div>
<div class="author">
      <div class="author-name">T. Li</div>
<div class="org">Arista Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">An Algorithm for Computing Dynamic Flooding Topologies</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
 Link-state routing protocols suffer from excessive flooding in
 dense network topologies. Dynamic flooding <span>[<a href="#I-D.ietf-lsr-dynamic-flooding" class="xref">I-D.ietf-lsr-dynamic-flooding</a>]</span>
 alleviates the problem by decoupling the flooding topology from
 the physical topology. Link-state protocol updates are flooded
 only on the sparse flooding topology while data traffic is still
 forwarded on the physical topology.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
 This document describes an algorithm to obtain a sparse subgraph
 from a dense graph. The resulting subgraph has certain desirable
 properties and can be used as a flooding topology in dynamic
 flooding.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">
 This document discloses the algorithm that we have developed in
 order to make it easier for other developers to implement
 similar algorithms. We do not claim that our algorithm is
 optimal, rather it is a pragmatic effort and we expect that
 further research and refinement can improve the results.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
<p id="section-abstract-4">
 We are not proposing that this algorithm be standardized, nor
 that the working group use this as a basis for further
 standardization work, however we have no objections if the
 working group chooses to do so.<a href="#section-abstract-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 4 September 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-problem-statement" class="xref">Problem Statement</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-algorithm-outline" class="xref">Algorithm Outline</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-algorithm-details" class="xref">Algorithm Details</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-initial-cycle-setup" class="xref">Initial Cycle Setup</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-arc-path-selection" class="xref">Arc Path Selection</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-exceptions" class="xref">Exceptions</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-lans" class="xref">LANs</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-example" class="xref">Example</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
 In <span>[<a href="#I-D.ietf-lsr-dynamic-flooding" class="xref">I-D.ietf-lsr-dynamic-flooding</a>]</span>, dynamic
 flooding is proposed to reduce the flooding of link-state
 protocol packets in the network. The basic idea is to find a
 sparse flooding topology from the physical topology and flood
 link-state protocol data units (LSPDUs or LSPs) only on the
 flooding topology. The flooding topology should have the
 following properties:<a href="#section-1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1-2">
        <li id="section-1-2.1">
   It should include all nodes in the area. This ensures that
   LSPs can reach all nodes.<a href="#section-1-2.1" class="pilcrow">¶</a>
</li>
<li id="section-1-2.2">
   It should be biconnected if possible. This ensures that the
   LSP delivery is resilient to a single node or link failure.<a href="#section-1-2.2" class="pilcrow">¶</a>
</li>
<li id="section-1-2.3">
   It has a limited diameter. Being a subgraph, the flooding
   topology often has a larger diameter than the physical
   topology. A larger diameter indicates a longer convergence
   time. The tradeoff between flooding reduction and
   convergence should be considered during the flooding
   topology computation.<a href="#section-1-2.3" class="pilcrow">¶</a>
</li>
<li id="section-1-2.4">
   It has a balanced degree of distribution. The degree of a
   node on the flooding topology indicates its burden in
   flooding LSPs. It is desirable to balance this burden across
   multiple nodes. Hence, the degree of each node should also
   be considered during flooding topology computation.<a href="#section-1-2.4" class="pilcrow">¶</a>
</li>
</ol>
<p id="section-1-3">
 With the above properties in mind, we propose an iterative algorithm
 to compute the flooding topology.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-problem-statement">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-problem-statement" class="section-name selfRef">Problem Statement</a>
      </h2>
<p id="section-2-1">
 We model the physical topology as an undirected graph. Each system or
 pseudonode in the area is represented by a node in the graph. An edge
 connects two nodes who advertise each other as neighbors. Given the
 set of the nodes and the set of edges, we propose an algorithm to
 compute a biconnected (if possible) subgraph that covers all
 nodes. The subgraph is computed with consideration of diameter and
 node degree.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-algorithm-outline">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-algorithm-outline" class="section-name selfRef">Algorithm Outline</a>
      </h2>
<p id="section-3-1">
 A simple cycle that covers all nodes is a biconnected subgraph
 with balanced node degrees. While it has some desirable
 properties, a simple cycle is not suitable as a flooding
 topology at large scale. With N nodes in the area, a link-state
 update has to take N/2 hops to reach all nodes. The undue
 propagation delay causes a long convergence time.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
 The proposed algorithm constructs a subgraph composed of small
 overlapping cycles. The base graph is denoted by G(V, E), where
 V is the set of all reachable nodes in this area, and E is the
 set of edges. The subgraph to be computed is denoted by G'({},
 {}), which starts with an empty set of nodes and an empty set of
 edges.<a href="#section-3-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-3">
        <li id="section-3-3.1">
   Select a subset of nodes V(0) from V and a subset of edges
   E(0) from E to form an initial cycle. This cycle is added to
   the subgraph: G'(V(0), E(0)).<a href="#section-3-3.1" class="pilcrow">¶</a>
</li>
<li id="section-3-3.2">
   Select a subset of nodes V(i) and a subset of edges E(i),
   that are not included in the current subgraph. That is, V(i)
   is selected from V - V(0) - ... - V(i-1) and E(i) is selected
   from E - E(0) - ... - E(i-1). These nodes and the edges are
   selected to form an arc path whose two endpoints are
   included in the current subgraph. This arc path is added to
   the subgraph: G'( V(0) + V(1) + ... + V(i), E(0) + E(1) + ... +
   E(i) ).<a href="#section-3-3.2" class="pilcrow">¶</a>
</li>
<li id="section-3-3.3">
   Repeat step 2 until all nodes are included in the subgraph
   G'.<a href="#section-3-3.3" class="pilcrow">¶</a>
</li>
</ol>
<p id="section-3-4">
 The subgraph constructed by this algorithm has the following
 properties:<a href="#section-3-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-5">
        <li id="section-3-5.1">
   It covers all nodes in the area.<a href="#section-3-5.1" class="pilcrow">¶</a>
</li>
<li id="section-3-5.2">
   It is biconnected. This can be easily proven by
   induction. Specifically, the initial cycle is
   biconnected. Adding an arc path, whose two endpoints differ,
   to a biconnected subgraph maintains the biconnectivity of
   the subgraph.<a href="#section-3-5.2" class="pilcrow">¶</a>
</li>
<li id="section-3-5.3">
   It has a limited diameter. By selecting small cycles, the
   subgraph will have a smaller diameter. More specifically,
   the implementation can pick endpoints of each arc path to
   reduce the diameter of the subgraph.  The degree of a node
   in the subgraph is determined by the number of arc paths it
   is on. By carefully selecting the arc endpoints, we may
   balance the node degrees.<a href="#section-3-5.3" class="pilcrow">¶</a>
</li>
</ol>
<p id="section-3-6">
 Together with the encoding scheme in <span>[<a href="#I-D.ietf-lsr-dynamic-flooding" class="xref">I-D.ietf-lsr-dynamic-flooding</a>]</span>,
 this algorithm can be used to implement centralized dynamic
 flooding. The area leader can build the base graph from its
 link-state database (LSDB), apply this algorithm to compute
 the flooding topology, and then encode it into the Dynamic
 Flooding Path TLVs specified in <span>[<a href="#I-D.ietf-lsr-dynamic-flooding" class="xref">I-D.ietf-lsr-dynamic-flooding</a>]</span>. In
 a topology change event, the area leader can repeat the above
 process and send out the new flooding topology.<a href="#section-3-6" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-algorithm-details">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-algorithm-details" class="section-name selfRef">Algorithm Details</a>
      </h2>
<p id="section-4-1">
 The outlined algorithm allows for different approaches to find the
 initial cycle and subsequent arc paths. We do not intend to find the
 theoretically optimal solution. Our aim is to find a practical
 approach that works for any connected base graph, and is also easy to
 implement.<a href="#section-4-1" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-initial-cycle-setup">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-initial-cycle-setup" class="section-name selfRef">Initial Cycle Setup</a>
        </h3>
<p id="section-4.1-1">
   The initial cycle forms a base of the subgraph
   computation. Intuitively, we would like to place the initial
   cycle around the centroid of the base graph, and gradually
   expand it outwards. Complicated graph analysis can help, but
   is not desired.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">
   We propose to select a starting node and then search a path
   that ends at this node. We suggest selecting the node with the
   highest degree as the starting node. The degree of each node
   can be easily determined when the base graph is constructed
   from the LSDB. Starting from this node, we perform a
   depth-first search (DFS) for a limited number of steps, and
   then a breadth-first search (BFS) to find the shortest path
   back to the starting node. The restriction of the DFS depths
   and the use of BFS effectively help limit the diameter of the
   initial cycle. Below is a summary of the procedure. We omit
   the details of the well-known DFS and BFS algorithms.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1-3">
          <li id="section-4.1-3.1">
     Let V(0) = [] be the list of nodes on the initial cycle.<a href="#section-4.1-3.1" class="pilcrow">¶</a>
</li>
<li id="section-4.1-3.2">
     Find the starting node, denoted by n0. V(0) = [n0].<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</li>
<li id="section-4.1-3.3">
     Perform DFS starting from n0 until either the first leaf
     is reached or the depth exceeds a preset limit. The
     visited nodes are denoted by n1, n2, ..., ni, where i &lt;
     DFS depth limit, and added to the list V(0) in order.<a href="#section-4.1-3.3" class="pilcrow">¶</a>
</li>
<li id="section-4.1-3.4">
     Mark nodes in V(0) as visited to avoid BFS visiting these
     nodes. Then perform BFS to find the shortest path from ni
     to n0. Append nodes on the shortest path to V(0). Since
     this is a cycle, node n0 appears twice in V(0): the first
     and the last places.<a href="#section-4.1-3.4" class="pilcrow">¶</a>
</li>
</ol>
<p id="section-4.1-4">
   Note that since DFS and BFS do not process a node more than
   once, we are ensured to obtain a cycle (if one exists) from
   the above procedure.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-arc-path-selection">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-arc-path-selection" class="section-name selfRef">Arc Path Selection</a>
        </h3>
<p id="section-4.2-1">
   After obtaining an initial cycle, we recursively add arc paths
   to the subgraph until all nodes are included. Each arc path's
   two endpoints are chosen from the current subgraph. This
   ensures that the resulting subgraph remains biconnected. To
   limit the diameter of the resulting subgraph, we select an arc
   path with limited length and attach it closer to the initial
   cycle.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">
   In each iteration, we have a starting subgraph, which includes
   the initial cycle and the arc paths obtained in earlier
   iterations. We first select a node from the starting subgraph,
   that has at least one neighbor that is not in the starting
   subgraph. To balance the degree distribution, we prefer to
   select a node that has the least degree in the starting
   subgraph. Meanwhile, we intend to place the new arc path
   closer to the initial cycle, which will help reduce the
   diameter of the resulting subgraph. As the number of
   iterations increases, it becomes hard to find such nodes that
   meet both conditions. A tradeoff between the node degree and
   the node distance to the initial cycle has to be made.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">
   Starting from the selected node, we perform a DFS for a
   limited number of steps in the base graph to include nodes and
   edges that do not belong to the starting subgraph. Then BFS is
   performed to find the shortest path back to any node in the
   starting subgraph except the starting node of this
   iteration. The resulting path is combined with the starting
   subgraph to generate a new subgraph, which serves as the
   starting subgraph in the next iteration. The iteration is
   repeated until all nodes in the base graph are included in the
   subgraph.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">
   The procedure in each iteration is very similar to the one
   used to find the initial cycle, except that the two endpoints
   of the new path do not match:<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.2-5">
          <li id="section-4.2-5.1">
     Let V(i) = [] be the list of nodes found in the i-th
     iteration. The starting subgraph includes nodes in V(0) +
     ... + V(i-1), and edges between each pair of adjacent
     nodes in each node list V(j).<a href="#section-4.2-5.1" class="pilcrow">¶</a>
</li>
<li id="section-4.2-5.2">
     Select a starting node n0 for this iteration from the
     starting subgraph. V(i) = [n0].<a href="#section-4.2-5.2" class="pilcrow">¶</a>
</li>
<li id="section-4.2-5.3">
     Mark all nodes in V(0) + ... + V(i-1) as visited. Then
     perform DFS from n0 until either the first leaf is reached
     or the depth exceeds a preset limit. Nodes visited in this
     iteration are denoted by n1, n2, ..., ni in order, and
     appended to the list V(i).<a href="#section-4.2-5.3" class="pilcrow">¶</a>
</li>
<li id="section-4.2-5.4">
     Mark all nodes in V(0) + ... + V(i-1) + V(i) as
     visited. Then perform BFS to find the shortest path from
     ni to any node in V(0) + ... V(i-1) - [n0], where n0 is
     the starting node in this iteration. If a path is found,
     append its nodes to V(i) and repeat the iteration from
     step 1.<a href="#section-4.2-5.4" class="pilcrow">¶</a>
</li>
</ol>
<p id="section-4.2-6">
   By correctly marking the visited nodes before DFS and BFS,
   we ensure that the obtained arc path (if it exists) has
   two endpoints and only these two points on the starting
   subgraph.<a href="#section-4.2-6" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-exceptions">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-exceptions" class="section-name selfRef">Exceptions</a>
        </h3>
<p id="section-4.3-1">
   If the base graph is biconnected, there exists a simple cycle
   between any two nodes. We are thus ensured to find one arc
   path in each iteration and the algorithm described above will
   yield a biconnected subgraph that covers all nodes in the base
   graph. Otherwise, however, we may not be able to find an arc
   path with both endpoints belonging to the starting subgraph in
   that iteration. When this happens, we know that the edge
   between the last node found by DFS and its parent is a cut
   edge in the base graph.  For connectivity, this edge must be
   included in the resulting subgraph. Hence, when step 4 (the
   BFS stage in earlier procedures) fails, we should amend it
   with the following:<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<ol start="5" type="1" class="normal type-1" id="section-4.3-2">
          <li id="section-4.3-2.1">
     If BFS does not find a shortest path from ni, and V(i)
     contains only two nodes, i.e., the cut edge case, then go
     back to step 1 to continue the iteration.<a href="#section-4.3-2.1" class="pilcrow">¶</a>
</li>
<li id="section-4.3-2.2">
     If BFS does not find a shortest path from ni, and V(i)
     contains more than two nodes, then remove the last node
     from V(i), and go back to step 4.<a href="#section-4.3-2.2" class="pilcrow">¶</a>
</li>
</ol>
<p id="section-4.3-3">
   Similarly, we might face the same problem when selecting the
   initial cycle. We can apply step 6 until we find a
   cycle. However, if we happen to find a cut edge, we can change
   the first neighbor of the starting node that is visited by the
   DFS and repeat the procedure. If all edges connecting to the
   starting node are cut edges, we can change the starting
   node. If an initial cycle is not found after all the above
   efforts, indicating that the base graph does not have a cycle,
   then we will return the base graph as the result.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4">
        <h3 id="name-lans">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-lans" class="section-name selfRef">LANs</a>
        </h3>
<p id="section-4.4-1">
   We model a pseudonode as a node in the base graph. The
   proposed algorithm can be applied as-is.  There are,
   however, possible optimizations for the multi-access LAN
   case. First, a pseudonode is not required to be on the
   flooding topology. The algorithm can thus be terminated as
   soon as all real nodes are included in the subgraph. Second,
   if a pseudonode is included on the flooding topology, all
   nodes connecting to this LAN will have to flood their LSPs
   to this LAN (see <span>[<a href="#I-D.ietf-lsr-dynamic-flooding" class="xref">I-D.ietf-lsr-dynamic-flooding</a>]</span>
   Section 6.6). Hence, if a pseudonode is included in the
   subgraph, then it will automatically provide
   uni-connectivity to all its neighbors that are not yet
   included. The algorithm can take advantage of this LAN
   property to reduce the edges in the subgraph.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-5">
      <h2 id="name-example">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-example" class="section-name selfRef">Example</a>
      </h2>
<p id="section-5-1">
 The proposed algorithm can be applied to any connected base
 graph. For ease of explanation, we consider a complete graph of
 10 nodes and 45 edges. To limit the diameter of the resulting
 subgraph, we pre-set the maximum steps in the DFS to 3.<a href="#section-5-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-2">
        <li id="section-5-2.1">
   Let ni, i = 0, 1, ... 9, denote nodes in the base graph.<a href="#section-5-2.1" class="pilcrow">¶</a>
</li>
<li id="section-5-2.2">
          <p id="section-5-2.2.1">
     Find an initial cycle.<a href="#section-5-2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-5-2.2.2">
            <li id="section-5-2.2.2.1">
       Without loss of generality, we select node n0 as the
       starting point.<a href="#section-5-2.2.2.1" class="pilcrow">¶</a>
</li>
<li id="section-5-2.2.2.2">
       Perform DFS from n0 for 3 steps. We obtain a path n0 -
       n1 - n2 - n3.<a href="#section-5-2.2.2.2" class="pilcrow">¶</a>
</li>
<li id="section-5-2.2.2.3">
       Perform BFS from n3 to n0. Since this is a complete
       graph, where every node is directly connected to any
       other node, the shortest path is only one hop away.<a href="#section-5-2.2.2.3" class="pilcrow">¶</a>
</li>
<li id="section-5-2.2.2.4">
       The initial cycle is  found n0 - n1 - n2 - n3 - n0.<a href="#section-5-2.2.2.4" class="pilcrow">¶</a>
</li>
</ol>
</li>
<li id="section-5-2.3">
          <p id="section-5-2.3.1">
     Find the first arc path.<a href="#section-5-2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-5-2.3.2">
            <li id="section-5-2.3.2.1">
       Select a node on the initial cycle, say n0.<a href="#section-5-2.3.2.1" class="pilcrow">¶</a>
</li>
<li id="section-5-2.3.2.2">
       Perform DFS from n0 for 3 steps. We obtain a path n0 -
       n4 - n5 - n6.<a href="#section-5-2.3.2.2" class="pilcrow">¶</a>
</li>
<li id="section-5-2.3.2.3">
       Perform BFS from n6 to any node on the initial cycle
       except n0, i.e., {n1, n2, n3}. These three nodes have
       the same degree. We may select any one of them as the
       endpoint. Suppose that n1 is selected.<a href="#section-5-2.3.2.3" class="pilcrow">¶</a>
</li>
<li id="section-5-2.3.2.4">
       The first arc path is found n0 - n4 - n5 - n6 - n1.<a href="#section-5-2.3.2.4" class="pilcrow">¶</a>
</li>
</ol>
</li>
<li id="section-5-2.4">
          <p id="section-5-2.4.1">
     Find the second arc path.<a href="#section-5-2.4.1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-5-2.4.2">
            <li id="section-5-2.4.2.1">
       When selecting the starting node for this path, we may
       consider the current node degree as well as the node
       distance to n0 (the starting point of the initial
       cycle). We notice that both n0 and n1 have a degree of 3
       while other nodes have a degree of 2. Nodes n1, n3, n4
       are the closest to n0. We select a node with a lower
       degree and closer to n0. Suppose n3 is selected.<a href="#section-5-2.4.2.1" class="pilcrow">¶</a>
</li>
<li id="section-5-2.4.2.2">
       Perform DFS from n3 for 3 steps. We obtain a path n3 -
       n7 -n8 - n9.<a href="#section-5-2.4.2.2" class="pilcrow">¶</a>
</li>
<li id="section-5-2.4.2.3">
       Perform BFS from n9 to any node except n3. Using the
       same criteria in a. to select the endpoint, we select
       n4.<a href="#section-5-2.4.2.3" class="pilcrow">¶</a>
</li>
<li id="section-5-2.4.2.4">
       The second arc path is found n3 - n7 -n8 - n9 - n4.<a href="#section-5-2.4.2.4" class="pilcrow">¶</a>
</li>
</ol>
</li>
<li id="section-5-2.5">
   The subgraph has included all nodes. The iteration ends.<a href="#section-5-2.5" class="pilcrow">¶</a>
</li>
</ol>
<p id="section-5-3">
 The subgraph found by the proposed algorithm can be represented
 by three paths:<a href="#section-5-3" class="pilcrow">¶</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-5-4.1">
   n0 - n1 - n2 - n3 - n0<a href="#section-5-4.1" class="pilcrow">¶</a>
</li>
<li class="ulEmpty" id="section-5-4.2">
   n0 - n4 - n5 - n6 - n1<a href="#section-5-4.2" class="pilcrow">¶</a>
</li>
<li class="ulEmpty" id="section-5-4.3">
   n3 - n7 -n8 - n9 - n4<a href="#section-5-4.3" class="pilcrow">¶</a>
</li>
</ul>
<p id="section-5-5">
 The subgraph has 12 edges, significantly reduced from 45 in the
 base graph. The highest node degree is 3 and the lowest node
 degree is 2. The diameter of the subgraph is 4, increased, as
 expected, from that of the base graph.<a href="#section-5-5" class="pilcrow">¶</a></p>
</section>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">
 This document introduces no new security issues. Security
 issues within dynamic flooding are already discussed in <span>[<a href="#I-D.ietf-lsr-dynamic-flooding" class="xref">I-D.ietf-lsr-dynamic-flooding</a>]</span>.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-informative-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="I-D.ietf-lsr-dynamic-flooding">[I-D.ietf-lsr-dynamic-flooding]</dt>
<dd>
<span class="refAuthor">Li, T.</span><span class="refAuthor">, Psenak, P.</span><span class="refAuthor">, Ginsberg, L.</span><span class="refAuthor">, Chen, H.</span><span class="refAuthor">, Przygienda, T.</span><span class="refAuthor">, Cooper, D.</span><span class="refAuthor">, Jalil, L.</span><span class="refAuthor">, and S. Dontula</span>, <span class="refTitle">"Dynamic Flooding on Dense Graphs"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsr-dynamic-flooding-04</span>, <time datetime="2019-11-26">26 November 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-lsr-dynamic-flooding-04">https://tools.ietf.org/html/draft-ietf-lsr-dynamic-flooding-04</a>&gt;</span>. </dd>
</dl>
</section>
<div id="authors-addresses">
<section id="section-appendix.a">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Sarah Chen</span></div>
<div dir="auto" class="left"><span class="org">Arista Networks</span></div>
<div dir="auto" class="left"><span class="street-address">5453 Great America Parkway</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara</span>, <span class="region">California</span> <span class="postal-code">95054</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:sarahchen@arista.com" class="email">sarahchen@arista.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tony Li</span></div>
<div dir="auto" class="left"><span class="org">Arista Networks</span></div>
<div dir="auto" class="left"><span class="street-address">5453 Great America Parkway</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara</span>, <span class="region">California</span> <span class="postal-code">95054</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tony.li@tony.li" class="email">tony.li@tony.li</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
