


Network Working Group                                       P. Mohapatra
Internet-Draft                                             Cisco Systems
Intended status: Standards Track                             R. Fernando
Expires: September 4, 2009                              Juniper Networks
                                                           March 3, 2009


                 BGP Link Bandwidth Extended Community
               draft-rfernando-idr-link-bandwidth-00.txt

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.  This document may contain material
   from IETF Documents or IETF Contributions published or made publicly
   available before November 10, 2008.  The person(s) controlling the
   copyright in some of this material may not have granted the IETF
   Trust the right to allow modifications of such material outside the
   IETF Standards Process.  Without obtaining an adequate license from
   the person(s) controlling the copyright in such materials, this
   document may not be modified outside the IETF Standards Process, and
   derivative works of it may not be created outside the IETF Standards
   Process, except to format it for publication as an RFC or to
   translate it into languages other than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 4, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Mohapatra & Fernando    Expires September 4, 2009               [Page 1]

Internet-Draft               Link Bandwidth                   March 2009


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   This document describes an application of BGP extended communities
   that allows a router to perform unequal cost load balancing.


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . . . 3
   2.  Link Bandwidth Extended Community . . . . . . . . . . . . . . . 3
   3.  Deployment Considerations . . . . . . . . . . . . . . . . . . . 3
   4.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . 4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . . . 4
   7.  Normative References  . . . . . . . . . . . . . . . . . . . . . 4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 4




























Mohapatra & Fernando    Expires September 4, 2009               [Page 2]

Internet-Draft               Link Bandwidth                   March 2009


1.  Introduction

   When a BGP speaker receives multiple paths from its internal peers,
   it could select more than one path to send traffic to.  In doing so,
   it might be useful to provide the speaker with information that would
   help it distribute the traffic unequally based on the cost of the
   external (DMZ) link.  This document suggests that the external link
   bandwidth be carried in the network using a new extended community
   [RFC4360] - the link bandwidth extended community.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Link Bandwidth Extended Community

   When a BGP speaker receives a route from a directly connected
   external neighbor (the external neighbor that is one IP hop away) and
   advertises this route (via IBGP) to internal neighbors, as part of
   this advertisement the router may carry the bandwidth of the link
   that connects the router with the external neighbor.  The bandwidth
   of such a link is carried in the Link Bandwidth Community.  The
   community is optional non-transitive.  A border router MUST strip the
   link bandwidth community from a route when it advertises the route to
   an external neighbor.  The value of the high-order octet of the
   extended Type Field is 0x40.  The value of the low-order octet of the
   extended type field for this community is 0x04.  The value of the
   Global Administrator subfield in the Value Field SHOULD represent the
   Autonomous System of the router that attaches the Link Bandwidth
   Community.  If four octet AS numbering scheme is used [RFC4893],
   AS_TRANS should be used in the Global Administrator subfield.  The
   bandwidth of the link is expressed as 4 octets in IEEE floating point
   format, units being bytes per second.  It is carried in the Local
   Administrator subfield of the Value Field.


3.  Deployment Considerations

   The usage of this community is restricted to the cases where BGP
   multipath can be safely deployed.  In other words, the IGP distance
   between the load balancing router and the exit points should be the
   same.  Alternatively, the path between the load sharing router and
   the exit points could be label switched.  If there are multiple paths
   to reach a destination and if only some of them have link bandwidth
   community, the receiver should not perform unequal cost load



Mohapatra & Fernando    Expires September 4, 2009               [Page 3]

Internet-Draft               Link Bandwidth                   March 2009


   balancing based on link bandwidths.


4.  Acknowledgments

   The authors would like to thank Yakov Rekhter, Srihari Sangli and Dan
   Tappan for proposing unequal cost load balancing as one possible
   application of the extended community attribute.


5.  IANA Considerations

   This document defines a specific application of the two-octet AS
   specific extended community.  IANA is requested to assign a sub- type
   value of 0x04 for the link bandwidth extended community.


      Name                                           Value
      ----                                           -----
      non-transitive Link Bandwidth Ext. Community  0x4004



6.  Security Considerations

   There are no additional security risks introduced by this design.


7.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC4360]  Sangli, S., Tappan, D., and Y. Rekhter, "BGP Extended
              Communities Attribute", RFC 4360, February 2006.

   [RFC4893]  Vohra, Q. and E. Chen, "BGP Support for Four-octet AS
              Number Space", RFC 4893, May 2007.













Mohapatra & Fernando    Expires September 4, 2009               [Page 4]

Internet-Draft               Link Bandwidth                   March 2009


Authors' Addresses

   Pradosh Mohapatra
   Cisco Systems
   170 W. Tasman Drive
   San Jose, CA  95134
   USA

   Phone:
   Email: pmohapat@cisco.com


   Rex Fernando
   Juniper Networks
   1194 N. Mathilda Ave
   Sunnyvale, CA  94089
   USA

   Phone:
   Email: rex@juniper.net































Mohapatra & Fernando    Expires September 4, 2009               [Page 5]

