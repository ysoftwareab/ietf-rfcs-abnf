<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Unified Identifier in IPv6 Segment Routing Networks</title>
<meta content="Cheng Weiqiang" name="author">
<meta content="Greg Mirsky" name="author">
<meta content="Peng Shaofu" name="author">
<meta content="Liu Aihua" name="author">
<meta content="Gyan S. Mishra" name="author">
<meta content="
       
    Segment Routing architecture leverages the paradigm of source routing.
    It can be realized in a network data plane by prepending the packet with a list of instructions, a.k.a. segments.
    A segment can be encoded as a Multi-Protocol Label Switching (MPLS) label, IPv4 address,
    or IPv6 address. Segment Routing can be applied in the MPLS data plane by encoding segments in the MPLS label stack.
    It also can be applied to the IPv6 data plane by encoding a list of segment identifiers in IPv6 Segment Routing Extension Header (SRH).
    This document extends the use of the SRH to unified segment identifiers encoded, for example,
    as MPLS label or IPv4 address, to compress the SRH, and support more detailed network programming and interworking between SR-MPLS and SRv6 domains.
       
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="Segment Routing" name="keyword">
<meta content="SID" name="keyword">
<meta content="draft-mirsky-6man-unified-id-sr-10" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.2
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.0.4
    six 1.16.0
-->
<link href="/tmp/draft-mirsky-6man-unified-id-sr-10-68pvgepy.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Unified Identifier SRv6</td>
<td class="right">September 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Weiqiang, et al.</td>
<td class="center">Expires 29 March 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-mirsky-6man-unified-id-sr-10</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-09-25" class="published">25 September 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-03-29">29 March 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Weiqiang</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">G. Mirsky</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">P. Shaofu</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">L. Aihua</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">G. Mishra</div>
<div class="org">Verizon Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Unified Identifier in IPv6 Segment Routing Networks</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
    Segment Routing architecture leverages the paradigm of source routing.
    It can be realized in a network data plane by prepending the packet with a list of instructions, a.k.a. segments.
    A segment can be encoded as a Multi-Protocol Label Switching (MPLS) label, IPv4 address,
    or IPv6 address. Segment Routing can be applied in the MPLS data plane by encoding segments in the MPLS label stack.
    It also can be applied to the IPv6 data plane by encoding a list of segment identifiers in IPv6 Segment Routing Extension Header (SRH).
    This document extends the use of the SRH to unified segment identifiers encoded, for example,
    as MPLS label or IPv4 address, to compress the SRH, and support more detailed network programming and interworking between SR-MPLS and SRv6 domains.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 29 March 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-conventions-used-in-this-do" class="xref">Conventions used in this document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1.2.1">
                    <p id="section-toc.1-1.1.2.1.2.1.1" class="keepWithNext"><a href="#section-1.1.1" class="xref">1.1.1</a>.  <a href="#name-acronyms" class="xref">Acronyms</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1.2.2">
                    <p id="section-toc.1-1.1.2.1.2.2.1" class="keepWithNext"><a href="#section-1.1.2" class="xref">1.1.2</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-segment-routing-extension-h" class="xref">Segment Routing Extension Header: Benefits and Challenges</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-unified-sids-in-ipv6-segmen" class="xref">Unified SIDs in IPv6 Segment Routing Extension Header</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-operations-with-unified-seg" class="xref">Operations with Unified Segment Identifier</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-procedures-of-32bits-mpls-l" class="xref">Procedures of 32bits MPLS Label within SRH</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-packet-forwarding-based-on-" class="xref">Packet Forwarding Based on UET-MPLS U-SID</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-procedures-of-32bits-ip-add" class="xref">Procedures of 32bits IP Address within SRH</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-packet-forwarding-based-on-u" class="xref">Packet Forwarding Based on UET-32 U-SID</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-the-use-case-of-unified-seg" class="xref">The Use Case of Unified Segment Identifier</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-nesting-interworking-betwee" class="xref">Nesting Interworking Between SR-MPLS and SRv6 Using Binding U-SID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-flat-interworking-between-d" class="xref">Flat Interworking Between Different UET Domains Using Mixing U-SID</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-uet-capability-advertisemen" class="xref">UET Capability Advertisement</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="xref">5.2.2</a>.  <a href="#name-srv6-sid-allocated-per-uec" class="xref">SRv6 SID Allocated per UEC</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="xref">5.2.3</a>.  <a href="#name-packets-forwarding-procedur" class="xref">Packets Forwarding Procedures</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-control-plane-in-support-of" class="xref">Control Plane in Support of Unified SID</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-srh-with-u-sid-pseudo-code" class="xref">SRH with U-SID Pseudo-code</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-u-sid-supporting-srv6-progr" class="xref">U-SID supporting SRv6 programming</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-benefits" class="xref">Benefits</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-implementation-consideratio" class="xref">Implementation Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
    Segment Routing architecture <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span> leverages the paradigm of source routing.
    It can be realized in a network data plane by prepending the packet with a list of instructions,
    a.k.a. segment identifiers (SIDs). A segment can be encoded as a Multi-Protocol Label Switching (MPLS) label,
    IPv4 address, or IPv6 address. Segment Routing can be applied in MPLS data plane by encoding 20-bits SIDs in MPLS label stack <span>[<a href="#RFC8660" class="xref">RFC8660</a>]</span>.
    It also can be applied to IPv6 data plane by encoding a list of 128-bits SIDs in IPv6 Segment Routing Extension Header (SRH) <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
    This document extends the use of the SRH <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span> to unified identifiers encoded as MPLS label
    or IPv4 address to support more detailed network programming and interworking between SR-MPLS and SRv6 domains.<a href="#section-1-2" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-conventions-used-in-this-do">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions used in this document</a>
        </h3>
<section id="section-1.1.1">
          <h4 id="name-acronyms">
<a href="#section-1.1.1" class="section-number selfRef">1.1.1. </a><a href="#name-acronyms" class="section-name selfRef">Acronyms</a>
          </h4>
<p id="section-1.1.1-1">SR:          Segment Routing<a href="#section-1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1.1-2">SRH:         Segment Routing Extension Header<a href="#section-1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1.1-3">MPLS:        Multiprotocol Label Switching<a href="#section-1.1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1.1-4">SR-MPLS:     Segment Routing using MPLS data plane<a href="#section-1.1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1.1-5">SID:         Segment Identifier<a href="#section-1.1.1-5" class="pilcrow">¶</a></p>
<p id="section-1.1.1-6">IGP:         Interior Gateway Protocol<a href="#section-1.1.1-6" class="pilcrow">¶</a></p>
<p id="section-1.1.1-7">DA:          Destination Address<a href="#section-1.1.1-7" class="pilcrow">¶</a></p>
<p id="section-1.1.1-8">ILM:         Incoming Label Map<a href="#section-1.1.1-8" class="pilcrow">¶</a></p>
<p id="section-1.1.1-9">FEC:         Forwarding Equivalence Class<a href="#section-1.1.1-9" class="pilcrow">¶</a></p>
<p id="section-1.1.1-10">FTN:         FEC-to-NHLFE map<a href="#section-1.1.1-10" class="pilcrow">¶</a></p>
<p id="section-1.1.1-11">OAM:         Operation, Administration, and Maintenance<a href="#section-1.1.1-11" class="pilcrow">¶</a></p>
<p id="section-1.1.1-12">TE:          Traffic Engineering<a href="#section-1.1.1-12" class="pilcrow">¶</a></p>
<p id="section-1.1.1-13">SRv6:        Segment Routing in IPv6<a href="#section-1.1.1-13" class="pilcrow">¶</a></p>
<p id="section-1.1.1-14">U-SID:       Unified Segment Identifier<a href="#section-1.1.1-14" class="pilcrow">¶</a></p>
<p id="section-1.1.1-15">PSP:         Penultimate Segment Popping<a href="#section-1.1.1-15" class="pilcrow">¶</a></p>
<p id="section-1.1.1-16">FIB:         Forwarding Information Base<a href="#section-1.1.1-16" class="pilcrow">¶</a></p>
<p id="section-1.1.1-17">UET:         U-SID Encapsulation Type<a href="#section-1.1.1-17" class="pilcrow">¶</a></p>
<p id="section-1.1.1-18">UEC:         U-SID Encapsulation Capability<a href="#section-1.1.1-18" class="pilcrow">¶</a></p>
</section>
<section id="section-1.1.2">
          <h4 id="name-requirements-language">
<a href="#section-1.1.2" class="section-number selfRef">1.1.2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
          </h4>
<p id="section-1.1.2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1.2-1" class="pilcrow">¶</a></p>
</section>
</section>
</section>
</div>
<div id="srh-benefit">
<section id="section-2">
      <h2 id="name-segment-routing-extension-h">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-segment-routing-extension-h" class="section-name selfRef">Segment Routing Extension Header: Benefits and Challenges</a>
      </h2>
<p id="section-2-1">
Many functions related to Operation, Administration, and Maintenance (OAM) require identification
of the SR tunnel ingress and the path, constructed by segments, between the ingress and the egress SR nodes.
Combination of IPv6 encapsulation <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span> and SRH <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span>, referred to as SRv6,
comply with these requirements while it is challenging when applying SR in MPLS networks, also referred to as SR-MPLS.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
On the other hand, the size of IPv6 SID presents a scaling challenge to use topological instructions
that define strict explicit traffic-engineered (TE) path or support network programming in combination with service-based instructions.
At the same time, that is where SR-MPLS approach provides better results due to the smaller SID length.
It can be used to compress the SRv6 header size when a smaller namespace of available SIDs is sufficient for addressing the particular network.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">
SR-MPLS is broadly used in metro networks. With the gradual deployment of SRv6 in the core networks,
supporting interworking between SR-MPLS and SRv6 becomes necessary for operators. 
It is operationally more efficient and straightforward if SRv6 can use the same size SIDs as in SR-MPLS.
The SRH can be extended to define the same, as in SR-MPLS, SID length to support the unified segment identifier (U-SID).
As a result, end-to-end SR tunnel may use U-SIDs across SR-MPLS and SRv6 domains.<a href="#section-2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="usid-srh-sec">
<section id="section-3">
      <h2 id="name-unified-sids-in-ipv6-segmen">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-unified-sids-in-ipv6-segmen" class="section-name selfRef">Unified SIDs in IPv6 Segment Routing Extension Header</a>
      </h2>
<p id="section-3-1">SRH format has been defined in Section 3 of <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span> as presented in <a href="#srh-fig" class="xref">Figure 1</a><a href="#section-3-1" class="pilcrow">¶</a></p>
<span id="name-srh-format"></span><div id="srh-fig">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-3-2.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Next Header   |  Hdr Ext Len  | Routing Type  | Segments Left |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Last Entry   |     Flags     |              Tag              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    |            Segment List[0] (128 bits IPv6 address)            |
    |                                                               |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    |                                                               |
                                  ...
    |                                                               |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    |            Segment List[n] (128 bits IPv6 address)            |
    |                                                               |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    //                                                             //
    //         Optional Type Length Value objects (variable)       //
    //                                                             //
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-srh-format" class="selfRef">SRH format</a>
        </figcaption></figure>
</div>
<p id="section-3-3">
This document defines a new field Size in the SRH Flags field
as a two-bits field, termed as UET (U-SID Encapsulation Type) flag,
to indicate which type of SIDs are encoded in SRH. The UET flag has the following values:<a href="#section-3-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3-4.1">0b00 - indicate a 128-bits SID, an IPv6 address, termed as UET-128 U-SID.<a href="#section-3-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-3-4.2">
0b01 - indicate a 32-bits SID, termed as UET-32 U-SID.
In some environments, the context could be of IPv4 address, while in some other cases,
it could represent an index of list or range of IPv4/IPv6 addresses.
Another interpretation of 32-bits SID could be as a complementary element of an IPv4/IPv6 prefix.
Setting the interpretation might be made through the control plane-based signaling and is outside the scope of this document.
If this SID represents a complementary part of an IPv4/IPv6 prefix, the original IP address can be re-constructed by using,
for example, mapping, stitching, shifting, or translating operation. Specification of such a mechanism is outside the scope of this document.<a href="#section-3-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-3-4.3">
          <p id="section-3-4.3.1">
0b10 - indicate a 32-bits SID, termed as UET-MPLS U-SID,
which includes an MPLS label in the leftmost 20-bits as displayed in <a href="#usid-mpls-fig" class="xref">Figure 2</a>.
Information in the Context field could be interpreted as a flavor of a particular network programming behavior.
Specification of the network programming using this type of U-SID is outside the scope of this document.
[Ed.note. Replace with reference to the U-SID network programming document.]<a href="#section-3-4.3.1" class="pilcrow">¶</a></p>
<span id="name-format-of-unified-sid-with-"></span><div id="usid-mpls-fig">
<figure id="figure-2">
            <div class="alignLeft art-text artwork" id="section-3-4.3.2.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                MPLS Label             |        Context        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-format-of-unified-sid-with-" class="selfRef">Format of Unified SID with MPLS Label</a>
            </figcaption></figure>
</div>
</li>
        <li class="normal ulEmpty" id="section-3-4.4">
0b11 - indicate a 16-bits SID, termed as UET-16 U-SID.
It is similar to 32bits SID and suitable for scenes with higher compression efficiency<a href="#section-3-4.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-5">
This document also introduces a compatible operation on Segment Left field, also termed as SRH.SL.
The relationship between the value of SRH.UET and the interpretation of the SRH.SL is as follows:<a href="#section-3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-6.1">
 if SRH.UET Flag is UET-128, SRH.SL represents the count of 128bits-SID entries in SRH;<a href="#section-3-6.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-6.2">
if SRH.UET Flag is UET-32 or UET-MPLS, SRH.SL represents the count of 32bits-SID entries in SRH;<a href="#section-3-6.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-6.3">
if SRH.UET Flag is UET-16, SRH.SL represents the count of 16bits-SID entries in SRH.<a href="#section-3-6.3" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="theory-operation">
<section id="section-4">
      <h2 id="name-operations-with-unified-seg">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-operations-with-unified-seg" class="section-name selfRef">Operations with Unified Segment Identifier</a>
      </h2>
<p id="section-4-1">
When SRH is used to include 32-bits long U-SIDs, the ingress and transit nodes of an SR tunnel act
as described in Section 5.1 and Section 5.2 of <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span> respectively.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="procedures-sr-mpls-sec">
<section id="section-4.1">
        <h3 id="name-procedures-of-32bits-mpls-l">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-procedures-of-32bits-mpls-l" class="section-name selfRef">Procedures of 32bits MPLS Label within SRH</a>
        </h3>
<p id="section-4.1-1">
This section describes how the UET-MPLS type of U-SID is used to encode a compressed SRH.
In this case, an ILM (Incoming Label Map) entry can be used to map a U-SID to an IPv6 address.
As a result, it is not necessary to introduce a new type of index-based mapping table.
For the ILM entry of Adjacency-SID, the mapping result copied to DA (Destination Address)
is the remote interface IPv6 address. For the ILM entry of Node-SID,
the mapping result copied into DA is a remote node loopback IPv6 address.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">
Operations on an MPLS label of U-SID type are the same as those defined in <span>[<a href="#RFC8663" class="xref">RFC8663</a>]</span>.
However, SR-MPLS over SRH has the following advantages compared with SR-MPLS over UDP:<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-3.1">SRH is flexible to extend flags or sub-TLVs for service requirements, but not in the case of SR-MPLS over UDP.<a href="#section-4.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-3.2">Labels in SRH can meet 8 bytes alignment requirements as per [RFC8200], but not in the case of SR-MPLS over UDP.<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-3.3">The source address and the complete path information of the SR policy are not discarded, but not in the case of SR-MPLS over UDP.<a href="#section-4.1-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-3.4">
The forwarding performance of SR-MPLS over SRH is better than the UDP method
because it only updates the destination address rather than frequently removing and adding outer headers.<a href="#section-4.1-3.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.1-4">
Procedures of SR-MPLS over IP of <span>[<a href="#RFC8663" class="xref">RFC8663</a>]</span>
described how to construct an adjusted SR-MPLS FTN (FEC-to-NHLFE map)
and ILM entry towards a prefix-SID when next-hops are IP-only routers.
The action of FTN and ILM entry will steer the packet along an outer tunnel
to the destination node that has originated the FEC (Forwarding Equivalence Class).
UDP header is removed and put again at each segment endpoint.
However, for SR-MPLS over SRH in this document, the proposed solution is not dependent on adjusted
FIB (Forwarding Information Base) entry. That is because no action is needed to get from the FIB entry.
A traditional ILM entry (maybe without out-label because of IP-only next-hop) is enough to get the FEC information,
i.e., map a U-SID to an IPv6 address and copy to DA. 
Note that an implementation can get FEC and next-hop/interface forwarding information from the ILM entry, avoiding extra FIB lookup.
An SRv6 policy chosen to encapsulate the U-SID list within SRH is determined at the ingress node of this SRv6 policy.
The SRH is preserved along the SR to the egress. However, in the case of PSP (Penultimate Segment Popping),
the behavior is different from SR-MPLS over IP/UDP method <span>[<a href="#RFC8663" class="xref">RFC8663</a>]</span>,
so the source address (i.e., the ingress of the SRv6 policy) is not discarded.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<div id="packet-forwarding-sec">
<section id="section-4.1.1">
          <h4 id="name-packet-forwarding-based-on-">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-packet-forwarding-based-on-" class="section-name selfRef">Packet Forwarding Based on UET-MPLS U-SID</a>
          </h4>
<p id="section-4.1.1-1">
The packet forwarding based on UET-MPLS U-SID is similar to the processing described in <span>[<a href="#RFC8663" class="xref">RFC8663</a>]</span>.
But it differs from that in FIB action and segment list processing.
For completeness, we repeat the description of <span>[<a href="#RFC8663" class="xref">RFC8663</a>]</span> with modification as follows.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<span id="name-packet-forwarding-example-w"></span><div id="packet-forwarding-fig">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-4.1.1-2.1">
<pre>

     +-----+       +-----+       +-----+        +-----+        +-----+
     |  A  +-------+  B  +-------+  C  +--------+  D  +--------+  H  |
     +-----+       +--+--+       +--+--+        +--+--+        +-----+
                      |             |              |
                      |             |              |
                   +--+--+       +--+--+        +--+--+
                   |  E  +-------+  F  +--------+  G  |
                   +-----+       +-----+        +-----+

          +--------+           +--------+            +--------+
          |IP(A-&gt;E)|           |IP(A-&gt;G)|            |IP(A-&gt;G)|
          +--------+           +--------+            +--------+
          |SRH     |           |SRH     |            |SRH     |(or PSP)
          |  SL:2  |           |  SL:1  |            |  SL:0  |
          |  L(E)  |           |  L(E)  |            |  L(E)  |
          |  L(G)  |           |  L(G)  |            |  L(G)  |
          |  L(H)  |           |  L(H)  |            |  L(H)  |
          +--------+           +--------+            +--------+
          | Packet |   ---&gt;    | Packet |      ---&gt;  | Packet |
          +--------+           +--------+            +--------+

</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-packet-forwarding-example-w" class="selfRef">Packet Forwarding Example with UET-MPLS U-SID</a>
            </figcaption></figure>
</div>
<p id="section-4.1.1-3">
In the example shown in <a href="#packet-forwarding-fig" class="xref">Figure 3</a>,
assume that routers A, E, G, and H are U-SID capable (i.e., both SR-MPLS and SRv6 capable)
while the remaining routers (B, C, D, and F) are only capable of forwarding IP packets. Routers A, E, G,
and H advertise their Segment Routing related information via IS-IS or OSPF.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1-4">
Now assume that router A (the Domain ingress) wants to send a packet to router H (the Domain egress)
via an SRv6 policy with the explicit path {E-&gt;G-&gt;H}. Router A will impose an MPLS label stack within SRH
on the packet corresponding to the explicit path. Router A searches ILM entry by the top label (that indicated router E),
get the FEC information and next-hop/interface forwarding information, a loopback IPv6 address of E,
and then copies to DA and sends the packet. SRH.UET is set to UET-MPLS and the value of SRH.SL is 2.<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1.1-5">
When the IPv6 packet arrives at router E, router E picks the next segment (label) within SRH based on the SRH.SL value of 2,
searches ILM entry by the next label, get the FEC information and next-hop/interface forwarding information,
a loopback IPv6 address of G, and then copy to DA and sends the packet. SRH.UET is set to UET-MPLS, and the value of SRH.SL is 1.<a href="#section-4.1.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1.1-6">
When the IPv6 packet arrives at router G, router G gets the next segment (label) within SRH based on the SRH.SL value of 1,
then looks up ILM entry by the next label, gets the FEC information and next-hop/interface forwarding information,
a loopback IPv6 address of H, and then copies it to IP DA and transmits the packet. Because the value of SRH.SL is 0;
the SRH can be removed if the behavior flavor codepoint of the above next segment (label) is set to PSP.<a href="#section-4.1.1-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="procedures-ipv4-sec">
<section id="section-4.2">
        <h3 id="name-procedures-of-32bits-ip-add">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-procedures-of-32bits-ip-add" class="section-name selfRef">Procedures of 32bits IP Address within SRH</a>
        </h3>
<p id="section-4.2-1">This section describes how the UET-32 type of U-SID is used to encode a compressed SRH.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">
<span>[<a href="#RFC6554" class="xref">RFC6554</a>]</span> specifies the Source Routing Header (to avoid confusion with Segment Routing Header,
we call it SRH3 according to type 3) for use strictly between RPL (Routing Protocol for Low-Power and Lossy Networks) routers in the same RPL routing domain.
It introduces mechanisms to compact the source route entries when all entries share the same prefix with the IPv6 Destination Address of a packet carrying an SRH.
For each entry in Address[1..n] within the Routing header, the shared prefix octets are not carried, but only a shorter truncated piece of the original 128bits.
During packet forwarding, the shorter entry gets one by one and restored to the original IPv6 address.
The Segment Left field represents the number of segments remaining,
i.e., the number of explicitly listed intermediate nodes still to be visited before reaching the final destination, not the number of 128bits entries.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">
The described above mechanism, introduced in SRH3, could also be brought to Segment Routing Header (SRH).
However, unlike in SRH3, using explicit fields within the Routing header to indicate the number of prefix octets
common with the IPv6 Destination Address, this document introduces a new Flavor for Endpoint Behavior,
defined in <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>, termed as UET Flavor, for SRv6 SIDs.
The UET Flavor of the current active SID indicates
the next SID's compressed length  within SRH, thus preparing the next SID of the corresponding length.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">The UET Flavor information of a SID can be stored in the local SID entry of that SID.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">This section defines the following two UET Flavors for Endpoint Behavior:<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.2-6.1">UET-32 Flavor: a SID with UET-32 Flavor means in SRH that the next SID is a 32bits IPv4 address or number.<a href="#section-4.2-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-4.2-6.2">UET-16 Flavor: a SID with UET-16 Flavor means in SRH that the next SID is a 16bits address or number.<a href="#section-4.2-6.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.2-7">
For the convenience of expression, we can use UET-128 Flavor for the case when the next SID is a traditional 128bits IPv6 address.
Note that UET-128 Flavor is not defined in the document.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
<p id="section-4.2-8">An SRv6 SID MUST NOT have multiple UET Flavors at the same time.<a href="#section-4.2-8" class="pilcrow">¶</a></p>
<div id="packet-forwarding-sec-2">
<section id="section-4.2.1">
          <h4 id="name-packet-forwarding-based-on-u">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-packet-forwarding-based-on-u" class="section-name selfRef">Packet Forwarding Based on UET-32 U-SID</a>
          </h4>
<p id="section-4.2.1-1">This section describes the packet forwarding based on UET-32 U-SID. For UET-16 U-SID, it is similar.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<span id="name-packet-forwarding-example-wi"></span><div id="packet-forwarding-fig-2">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-4.2.1-2.1">
<pre>

     +-----+       +-----+       +-----+        +-----+        +-----+
     |  A  +-------+  B  +-------+  C  +--------+  D  +--------+  H  |
     +-----+       +--+--+       +--+--+        +--+--+        +-----+
                      |             |              |
                      |             |              |
                   +--+--+       +--+--+        +--+--+
                   |  E  +-------+  F  +--------+  G  |
                   +-----+       +-----+        +-----+

          +--------+           +--------+            +--------+
          |IP(A-&gt;E)|           |IP(A-&gt;G)|            |IP(A-&gt;G)|
          +--------+           +--------+            +--------+
          |SRH     |           |SRH     |            |SRH     |
          |  SL:2  |           |  SL:1  |            |  SL:0  |
          |  32-H  |           |  32-H  |            |  32-H  |
          |  32-G  |           |  32-G  |            |  32-G  |
          |  32-E  |           |  32-E  |            |  32-E  |
          +--------+           +--------+            +--------+
          | Packet |   ---&gt;    | Packet |      ---&gt;  | Packet |
          +--------+           +--------+            +--------+

</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-packet-forwarding-example-wi" class="selfRef">Packet Forwarding Example with UET-32 U-SID</a>
            </figcaption></figure>
</div>
<p id="section-4.2.1-3">
In the example shown in <a href="#packet-forwarding-fig-2" class="xref">Figure 4</a>, assume that routers A, E, G,
and H are U-SID capable while the remaining routers (B, C, D, and F)
are only capable of forwarding IP packets. Routers A, E, G, and H advertise their
Segment Routing related information via IS-IS or OSPF, especially SRv6 SIDs with SID structure and UET-32 Flavor information.<a href="#section-4.2.1-3" class="pilcrow">¶</a></p>
<p id="section-4.2.1-4">
Suppose that router A allocates an END SID B:32-A::, router E allocates an END SID B:32-E::,
router G allocates an END SID B:32-G::, and router H allocates an END SID B:32-H::.
All these SIDs have the same SID structure, i.e., share the same common prefix B
(also known as the SRv6 SID Locator Block), and the sum of the Node Length, Function Length, Argument Length of each SID are the same.<a href="#section-4.2.1-4" class="pilcrow">¶</a></p>
<p id="section-4.2.1-5">
Now assume that router A (the Domain ingress) wants to send a packet to router H (the Domain egress)
via an SRv6 policy with the explicit path {E-&gt;;G-&gt;H}.
Router A will impose a UET-32 U-SID stack within SRH on the packet that corresponds to that explicit path.
The U-SID stack consists of three shorter 32bits UET-32 U-SIDs, which are 32-E, 32-G, 32-H.
Router A gets the first U-SID 32-E from SRH and restores it to the original IPv6 address B:32-E::,
then copy it to DA and sends the packet according to IPv6 FIB lookup. SRH.UET is initially set to UET-32 and the value of SRH.SL is 2.<a href="#section-4.2.1-5" class="pilcrow">¶</a></p>
<p id="section-4.2.1-6">
When the IPv6 packet arrives at router E, match the local SID entry of B:32-E::.
Router E get the next U-32 32-G within SRH based on the SRH.SL value of 2,
and restore it to the original IPv6 address B:32-G::, then copy it to DA and sends the packet according to IPv6 FIB lookup.
SRH.UET remains unchanged, and the value of SRH.SL is 1.<a href="#section-4.2.1-6" class="pilcrow">¶</a></p>
<p id="section-4.2.1-7">When the IPv6 packet arrives at router G, match the local SID entry of B:32-G::.
Router G gets the next U-32 32-H within SRH based on the SRH.SL value of 1,
and restore it to the original IPv6 address B:32-H::,
then copy it to DA and sends the packet according to IPv6 FIB lookup.
SRH.UET remains unchanged, and the value of SRH.SL is 0.
The SRH can be removed if the local SID entry of B:32-G:: has PSP Flavor.<a href="#section-4.2.1-7" class="pilcrow">¶</a></p>
<p id="section-4.2.1-8">When the IPv6 packet arrives at router H, match the local SID entry of B:32-H:: and Proceed to process the next header in the packet.<a href="#section-4.2.1-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="usid-case-sec">
<section id="section-5">
      <h2 id="name-the-use-case-of-unified-seg">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-the-use-case-of-unified-seg" class="section-name selfRef">The Use Case of Unified Segment Identifier</a>
      </h2>
<p id="section-5-1">
In addition to being used for compression, U-SID can also be used in interworking between SR-MPLS and SRv6 domains.
SR-MPLS is often used in a metro network, for example, in the backhaul metro network of CMCC.
If the core network uses SRv6, for example, the core network of the same operator,
U-SID can be used in the SRv6 domain to interwork with SR-MPLS in the metro network to form an end-to-end SR policy or tunnel.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="interworking-sec">
<section id="section-5.1">
        <h3 id="name-nesting-interworking-betwee">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-nesting-interworking-betwee" class="section-name selfRef">Nesting Interworking Between SR-MPLS and SRv6 Using Binding U-SID</a>
        </h3>
<p id="section-5.1-1">
SR-MPLS uses SR SIDs as MPLS labels in the MPLS stack, and the SIDs are 32-bits long.
SRv6 uses SR SIDs as IPv6 extension header in SRH, and the SIDs are 128-bits long.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">
The type UET-MPLS of U-SID uses the same 32-bits long SIDs in the MPLS stack and SRH. 
Thus, four 32-bits long U-SIDs can be placed in the space of a single 128-bits long header.
The encapsulation is illustrated in <a href="#usid32-encap-fig" class="xref">Figure 5</a>.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<span id="name-32-bits-long-u-sids-encapsu"></span><div id="usid32-encap-fig">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-5.1-3.1">
<pre>
        +---------+          +----------------------------------+
        |         |          |           IPv6 header            |
        | Ethernet|          +----------------------------------+
        |         |          |           SRH                    |
        +---------+          +----------------------------------+
        |  USID1  |          | USID1  | USID2  | ...   | USID4  |
        +---------+          +----------------------------------+
        |  USID2  |          | USID5  |...     | USIDn | Null   |
        +---------+          +----------------------------------+
        | ...     |          +           Payload                |
        +---------+          +----------------------------------+
        |  USIDn  |
        +---------+
        | Payload |
        +---------+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-32-bits-long-u-sids-encapsu" class="selfRef">32-bits long U-SIDs Encapsulation</a>
          </figcaption></figure>
</div>
<p id="section-5.1-4">
This document RECOMMENDS using Binding SID for interworking because Binding SID allows hiding the difference between U-SID types of different domains
Additionally, a headend with only classical SRv6 SRH encapsulation capability,
i.e., no capability to put multiple short U-SIDs to a single 128bits entry, will not need to upgrade.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">
Although Binding SID that is allocated for the specific SR policy instance will bring more states on some domain border nodes,
the SR policy instance itself maybe pre-exist due to other requirements.
The SR policy is created within each UET domain that can be upgraded separately.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">
To interwork, an MPLS Binding SID could be allocated for an SRv6 policy,
used to hide the details of the UET-128 domain (classical SRv6) for a traditional MPLS Label stack.
Similarly, an SRv6 Binding SID could be allocated for an SR-MPLS policy,
used to hide the UET-MPLS domain's details for a conventional SRv6 SRH.
 An SRv6 Binding SID allocated for an SRv6 policy that enables
 the UET-32 compression style will hide the details of the UET-32 domain for a traditional SRv6 SRH.
 There may be other combinations that are not discussed in the document.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<p id="section-5.1-7">Note that in some cases, Binding SID will cause multiple SRH to be inserted in the IPv6 header.<a href="#section-5.1-7" class="pilcrow">¶</a></p>
<p id="section-5.1-8">
The SR-MPLS and SRv6 interworking is illustrated in <a href="#interworking-fig" class="xref">Figure 6</a>.
An end-to-end SR path from A to F crosses the SR-MPLS and SRv6 domains.
The SR-MPLS domain could be using the IPv4 or IPv6 address family.
The SRv6 border nodes (E/G) receive SR-MPLS packets and forward them into the SRv6 domain using an SR-MPLS Binding SID <span>[<a href="#RFC8660" class="xref">RFC8660</a>]</span>.<a href="#section-5.1-8" class="pilcrow">¶</a></p>
<span id="name-sr-mpls-and-srv6-interworki"></span><div id="interworking-fig">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-5.1-9.1">
<pre>
        +-----+           +-----+           +-----+           +-----+
        |  A  +-----------+  B  +-----------+  E  +-----------+  F  |
        +-----+           +--+--+           +--+--+           +--+--+
           |    SR-MPLS      |                 |     SRv6        |
           |                 |                 |                 |
        +-----+           +--+--+           +--+--+           +--+--+
        |  C  |-----------|  D  +-----------+  G  +-----------+  H  |
        +-----+           +-----+           +-----+           +-----+

                                                   +--------------+
                                                   |   Eth(E-&gt;G)  |
           +--------------+                        +--------------+
           |   Eth(A-&gt;B)  |                        |IPv6 DA:G.intf|
           +--------------+    +--------------+    +--------------+
           |   USID(B)    |    |   Eth(B-&gt;E)  |    |SRH           |
           +--------------+    +--------------+    |NH:MPLS   SL:2|
           |   USID(E1)   |    |   USID(E1)   |    |USID(ADJ E-&gt;G)|
           +--------------+    +--------------+    |USID(ADJ G-&gt;H)|
           |   USID(E2)   |    |   USID(E2)   |    |USID(ADJ H-&gt;F)|
           +--------------+    +--------------+    +--------------+
           |Label(service)|    |Label(service)|    |Label(service)|
           +--------------+    +--------------+    +--------------+
           |    Payload   | -&gt; |    Payload   | -&gt; |    Payload   |
           +--------------+    +--------------+    +--------------+

</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-sr-mpls-and-srv6-interworki" class="selfRef">SR-MPLS and SRv6 interworking</a>
          </figcaption></figure>
</div>
<p id="section-5.1-10">
The SRv6 edge node E assigns two SIDs, e.g., E1 and E2, E1 is an SR-MPLS Node-SID, E2 is an SR-MPLS Binding-SID,
which represents an SRv6 policy (from E to F, via segment list E-G-H-F) with U-SID encapsulation.
At the headend A, the end-to-end segment list could be B-E1-E2.
<a href="#packet-forwarding-fig" class="xref">Figure 3</a> demonstrates an example of the packet forwarding, where U-SID is an MPLS label.<a href="#section-5.1-10" class="pilcrow">¶</a></p>
<p id="section-5.1-11">
The reverse interworking is illustrated in <a href="#interworking-fig-2" class="xref">Figure 7</a>.
An end-to-end SR path from F to A crosses the SRv6 and SR-MPLS domains.
The SRv6 border nodes (E/G) receive SRv6 packets and forward them into the SR-MPLS domain using an SR-MPLS Binding SID or normal Prefix/Adjacency SID.<a href="#section-5.1-11" class="pilcrow">¶</a></p>
<span id="name-sr-mpls-and-srv6-reverse-in"></span><div id="interworking-fig-2">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-5.1-12.1">
<pre>
        +-----+           +-----+           +-----+           +-----+
        |  A  +-----------+  B  +-----------+  E  +-----------+  F  |
        +-----+           +--+--+           +--+--+           +--+--+
           |    SR-MPLS      |                 |     SRv6        |
           |                 |                 |                 |
        +-----+           +--+--+           +--+--+           +--+--+
        |  C  |-----------|  D  +-----------+  G  +-----------+  H  |
        +-----+           +-----+           +-----+           +-----+

                                                   +--------------+
                                                   |   Eth(F-&gt;H)  |
                                                   +--------------+
                                                   |IPv6 DA:H.intf|
                                                   +--------------+
                                                   |SRH           |
                                                   |NH:MPLS   SL:2|
                                                   |USID(ADJ F-&gt;H)|
                               +--------------+    |USID(ADJ H-&gt;G)|
                               |   Eth(E-&gt;B)  |    |USID(ADJ G-&gt;E)|
           +--------------+    +--------------+    +--------------+
           |   Eth(B-&gt;A)  |    |   USID(B)    |    |   USID(B)    |
           +--------------+    +--------------+    +--------------+
           |   USID(A)    |    |   USID(A)    |    |   USID(A)    |
           +--------------+    +--------------+    +--------------+
           |Label(service)|    |Label(service)|    |Label(service)|
           +--------------+    +--------------+    +--------------+
           |    Payload   | &lt;- |    Payload   | &lt;- |    Payload   |
           +--------------+    +--------------+    +--------------+

</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-sr-mpls-and-srv6-reverse-in" class="selfRef">SR-MPLS and SRv6 reverse interworking</a>
          </figcaption></figure>
</div>
<p id="section-5.1-13">
The SRv6 edge node F assigns an SR-MPLS Binding-SID F2, which represents an SRv6 policy
(from F to E, via segment list F-H-G-E) with U-SID encapsulation.
At the headend F, the end-to-end segment list could be F2-B-A.<a href="#section-5.1-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="interworking-sec2">
<section id="section-5.2">
        <h3 id="name-flat-interworking-between-d">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-flat-interworking-between-d" class="section-name selfRef">Flat Interworking Between Different UET Domains Using Mixing U-SID</a>
        </h3>
<p id="section-5.2-1">
U-SRH can provide a different interworking scheme to support an end-to-end SR tunnel or policy using a mixing type of U-SIDs
if more headend nodes have been upgraded to support encapsulating mixing U-SID in SRH.
For example, a SID list could contain some 128bits classical SIDs, some 32bits U-SIDs
(IP or Label), and some 16bits U-SIDs at the same time. For this purpose, each U-SID in SRH must meet the alignment requirement.
For example, a UET-32 U-SID is stored in a 4-byte alignment, and a UET-16 U-SID is stored in a 2-byte alignment.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">
The interworking of different UET domains is illustrated in <a href="#usid-interworking-fig" class="xref">Figure 8</a>.
An end-to-end SR tunnel or policy from S to D with segment list &lt;X, ABR1, Y, ABR2, Z, D&gt;,
crosses the UET-128 domain, UET-32 domain and UET-MPLS domain.
Note that any order of UET domains is also possible and is similar to the case displayed in <a href="#usid-interworking-fig" class="xref">Figure 8</a>.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<span id="name-interworking-between-differ"></span><div id="usid-interworking-fig">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-5.2-3.1">
<pre>
  ......................  ....................  .....................
  :                    :  :                  :  :                   :
+----+     +----+     +----+     +----+     +----+     +----+     +----+
| S  +-----+ X  +-----+ABR1+-----+ Y  +-----+ABR2+-----+ Y  +-----+ D  |
+----+     +----+     +----+     +----+     +----+     +----+     +----+
  :                    :  :                  :  :                   :
  ........UET-128.......  .......UET-32.......  .......UET-MPLS......
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-interworking-between-differ" class="selfRef">Interworking between different UET SID</a>
          </figcaption></figure>
</div>
<div id="interworking-mixing-uet-cap">
<section id="section-5.2.1">
          <h4 id="name-uet-capability-advertisemen">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-uet-capability-advertisemen" class="section-name selfRef">UET Capability Advertisement</a>
          </h4>
<p id="section-5.2.1-1">
In an SRv6 network, each node can configure its U-SID Encapsulation Capability (UEC),
and advertise it to other nodes. A controller can collect UEC information of all nodes. Typical UEC is:<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.2.1-2.1">UEC-128: Support classical 128bits SRv6 SID, which is the default capability of an SRv6 node.<a href="#section-5.2.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.1-2.2">UEC-32: Support shorter 32bits IPv4 address or number.<a href="#section-5.2.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.1-2.3">UEC-MPLS: Support shorter 32bits MPLS label.<a href="#section-5.2.1-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.1-2.4">UEC-16: Support shorter 16bits number.<a href="#section-5.2.1-2.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.1-3">
Each node can support one or more UECs. Refer to <a href="#usid-interworking-fig" class="xref">Figure 8</a>,
node S/X/ABR1 can configure to support UEC-128 capability, node ABR1/Y/ABR2 can configure to support UEC-32 capability,
and node ABR2/Y/D can configure to support UEC-MPLS capability.<a href="#section-5.2.1-3" class="pilcrow">¶</a></p>
<p id="section-5.2.1-4">
A UET domain is constructed by several connected SRv6 nodes with the same UEC. For example,
a UET-128 domain is constructed by the connected nodes all with UEC-128.<a href="#section-5.2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="interworking-mixing-uet-sid">
<section id="section-5.2.2">
          <h4 id="name-srv6-sid-allocated-per-uec">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-srv6-sid-allocated-per-uec" class="section-name selfRef">SRv6 SID Allocated per UEC</a>
          </h4>
<p id="section-5.2.2-1">
An SRv6 SID is allocated per UEC. For example, an SRv6 Node can allocate different END SIDs each for UEC-128, UEC-32, UEC-MPLS, etc.<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2.2-2">
The local SID entry of each SRv6 SID allocated per UEC will explicitly have the specific UET Flavor attribute information.<a href="#section-5.2.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2.2-3">
In addition to the two UET Flavors,
i.e., UET-32 and UET-16 Flavors that is defined in <a href="#procedures-ipv4-sec" class="xref">Section 4.2</a>,
below is described a third UET Flavor for SRv6 SID:<a href="#section-5.2.2-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.2.2-4.1">UET-MPLS Flavor: a SID with UET-MPLS Flavor means in SRH the next SID is a 32bits MPLS label.<a href="#section-5.2.2-4.1" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.2-5">
Each node allocates its SRv6 SID per UEC and advertises it to other nodes with additional UET-Flavor.
A controller can collect these SIDs to be used for E2E SID List programming.<a href="#section-5.2.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2.2-6">
To save label resources, an MPLS label is not allocated per UEC.
Relevant UET-Flavor information can be directly inserted in the context field of the label item in SRH.
However, to meet the SRH processing restrictions defined in <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span>,
it is possible to allocate MPLS labels for some of the topology-related SRv6 SIDs, which will consume more label resources.<a href="#section-5.2.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2.2-7">Refer to the scenario presented in <a href="#usid-interworking-fig" class="xref">Figure 8</a>, where each node may allocate the following SRv6 SID per UEC.<a href="#section-5.2.2-7" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.2.2-8.1">Node S: 128bits-END-SID-S for UEC-128.<a href="#section-5.2.2-8.1" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.2-8.2">Node X: 128bits-END-SID-X for UEC-128.<a href="#section-5.2.2-8.2" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.2-8.3">Node ABR1: 128bits-END-SID-ABR1 for UEC-128, and 128bits-END-SID-ABR1' for UEC-32.<a href="#section-5.2.2-8.3" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.2-8.4">Node Y: 128bits-END-SID-Y for UEC-32.<a href="#section-5.2.2-8.4" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.2-8.5">Node ABR2: 128bits-END-SID-ABR2 for UEC-32, and 128bits-END-SID-ABR2' for UEC-MPLS.<a href="#section-5.2.2-8.5" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.2-8.6">Node Z: 32bits-PREFIX-SID-Z. Note that MPLS Label allocation is independent with UEC.<a href="#section-5.2.2-8.6" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.2-8.7">Node D: 32bits-PREFIX-SID-D. Note that MPLS Label allocation is independent with UEC.<a href="#section-5.2.2-8.7" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.2-9">
Note that the above SRv6 SID itself is always a 128bits IPv6 address, with no relationship with its UET Flavor attribute.
The UET Flavor attribute indicates the next SID type, i.e., 128bits classical SID, 32bits IPv4 address, or 32bits MPLS Label, etc.<a href="#section-5.2.2-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="interworking-mixing-procedure">
<section id="section-5.2.3">
          <h4 id="name-packets-forwarding-procedur">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-packets-forwarding-procedur" class="section-name selfRef">Packets Forwarding Procedures</a>
          </h4>
<p id="section-5.2.3-1">Consider that the controller computes an E2E segment list &lt;X, ABR1, Y, ABR2, Z, D&gt;.<a href="#section-5.2.3-1" class="pilcrow">¶</a></p>
<p id="section-5.2.3-2">
For the above E2E segment list, the controller knows which UET domain does each segment node belongs to, especially that ABR1 and ABR2
are the border nodes between different UET domains.
Controller will select appropriate SID with specific UET Flavor attribute to indicate the UET domain which the next SID belongs to,
i.e., whether the next SID is a classical IPv6 address or a shorter truncated value.<a href="#section-5.2.3-2" class="pilcrow">¶</a></p>
<p id="section-5.2.3-3">The SID list informed to headend could be:<a href="#section-5.2.3-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.2.3-4.1">FSU: First SID UET, which indicates the compression result of the first SID, in this example, is set to UET-128.<a href="#section-5.2.3-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-4.2">No.1 SID: 128bits-END-SID-X (with BL|TL info of itself, and UET-128 Flavor to indicate the compression result of the next SID)<a href="#section-5.2.3-4.2" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-4.3">No.2 SID: 128bits-END-SID-ABR1' (with BL|TL info of itself, and UET-32 Flavor to indicate the compression result of the next SID)<a href="#section-5.2.3-4.3" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-4.4">No.3 SID: 128bits-END-SID-Y (with BL|TL info of itself, and UET-32 Flavor to indicate the compression result of the next SID)<a href="#section-5.2.3-4.4" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-4.5">No.4 SID: 128bits-END-SID-ABR2' (with BL|TL info of itself, and UET-MPLS Flavor to indicate the compression result of the next SID)<a href="#section-5.2.3-4.5" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-4.6">No.5 SID: 32bits-PREFIX-SID-Z,  (with UET-MPLS Flavor to indicate the compression result of the next SID)<a href="#section-5.2.3-4.6" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-4.7">No.6 SID: 32bits-PREFIX-SID-D,  (with UET-128 Flavor to indicate the compression result of the next SID)<a href="#section-5.2.3-4.7" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.3-5">Note:<a href="#section-5.2.3-5" class="pilcrow">¶</a></p>
<p id="section-5.2.3-6">FSU indicates the compression result of the first SRv6 SID itself, while the UET Flavor attribute of the first SID just indicates the compression result of the second SRv6 SID.<a href="#section-5.2.3-6" class="pilcrow">¶</a></p>
<p id="section-5.2.3-7">BL is the Block Length of SRv6 SID. TL is the Truncated Length of SRv6 SID, i.e., the compression result.<a href="#section-5.2.3-7" class="pilcrow">¶</a></p>
<p id="section-5.2.3-8">The headend analysis of how to get the compressed SID List:<a href="#section-5.2.3-8" class="pilcrow">¶</a></p>
<p id="section-5.2.3-9">FSU is UET-128, so the first SID 128bits-END-SID-X uses 128 bits.<a href="#section-5.2.3-9" class="pilcrow">¶</a></p>
<p id="section-5.2.3-10">The No.1 SID, 128bits-END-SID-X, has UET-128 Flavor, which means the next SID, 128bits-END-SID-ABR1', also needs to use 128 bits.<a href="#section-5.2.3-10" class="pilcrow">¶</a></p>
<p id="section-5.2.3-11">The No.2 SID, 128bits-END-SID-ABR1' has UET-32 Flavor, which means the next SID, 128bits-END-SID-Y, needs to be compressed as 32 bits IPv4 address.<a href="#section-5.2.3-11" class="pilcrow">¶</a></p>
<p id="section-5.2.3-12">The No.3 SID, 128bits-END-SID-Y, has UET-32 Flavor, which means the next SID, 128bits-END-SID-ABR2', needs to be compressed as 32 bits IPv4 address.<a href="#section-5.2.3-12" class="pilcrow">¶</a></p>
<p id="section-5.2.3-13">The No.4 SID, 128bits-END-SID-ABR2', has UET-MPLS Flavor, which means the next SID, 32bits-PREFIX-SID-Z, needs to use 32 bits.<a href="#section-5.2.3-13" class="pilcrow">¶</a></p>
<p id="section-5.2.3-14">The No.5 SID, 32bits-PREFIX-SID-Z, has UET-MPLS Flavor, which means the next SID, 32bits-PREFIX-SID-D, needs to use 32 bits.<a href="#section-5.2.3-14" class="pilcrow">¶</a></p>
<p id="section-5.2.3-15">The No.6 SID, 32bits-PREFIX-SID-D, has UET-128 Flavor, which means the next SID, maybe a VPN service SRv6 SID, needs to use  128 bits.<a href="#section-5.2.3-15" class="pilcrow">¶</a></p>
<p id="section-5.2.3-16">Note that in some cases, an overlay VPN service SRv6 SID could be compressed.
At that time, the last SID within the underlay segment list may select the UET-32 or UET-16 Flavor attribute.<a href="#section-5.2.3-16" class="pilcrow">¶</a></p>
<p id="section-5.2.3-17">Thus, the headend can get the following compressed SID List:<a href="#section-5.2.3-17" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.2.3-18.1">128 bits-END-SID-X with UET-128 Flavor<a href="#section-5.2.3-18.1" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-18.2">128 bits-END-SID-ABR1' with UET-32 Flavor<a href="#section-5.2.3-18.2" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-18.3">32 bits of 128 bits-END-SID-Y with UET-32 Flavor<a href="#section-5.2.3-18.3" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-18.4">32 bits of 128 bits-END-SID-ABR2' with UET-MPLS Flavor<a href="#section-5.2.3-18.4" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-18.5">32 bits-PREFIX-SID-Z (with UET-MPLS Flavor in context.field)<a href="#section-5.2.3-18.5" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="section-5.2.3-18.6">32 bits-PREFIX-SID-D (with UET-128 Flavor context.field)<a href="#section-5.2.3-18.6" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.3-19">
At the However, to meet the SRH processing restrictions defined in <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span>,
it is possible to allocate MPLS labels for some of the topology-related SRv6 SIDs,
which will consume more label resources.At the headend, the encapsulated SRH could be:<a href="#section-5.2.3-19" class="pilcrow">¶</a></p>
<span id="name-srh-including-different-uet"></span><div id="usid-interworking-srh">
<figure id="figure-9">
            <div class="alignLeft art-text artwork" id="section-5.2.3-20.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Next Header   |  Hdr Ext Len  | Routing Type  | Segments Left |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Last Entry   |   Flags |UET| |              Tag              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ---
~             128bits VPN-SID                                   ~ SN1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ---
|          32bits-PREFIX-SID-D (with UET-128 in context.field)  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          32bits-PREFIX-SID-Z (with UET-MPLS in context.field) |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ SN2
|             32bits of 128bits-END-SID-ABR2' with UET-MPLS     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             32bits of 128bits-END-SID-Y with UET-32           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ---
~             128bits-END-SID-ABR1' with UET-32                 ~ SN3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ---
~             128bits-END-SID-X with UET-128                    ~ SN4
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ---
//                                                             //
//         Optional Type Length Value objects (variable)       //
//                                                             //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-srh-including-different-uet" class="selfRef">SRH including different UET SID</a>
            </figcaption></figure>
</div>
<p id="section-5.2.3-21">
The initial SRH.SL is set to 4: the number of 128bits based SIDs in SRH,
and the initial SRH.UET is set to UET-128, according to FSU, which represents the first UET domain.<a href="#section-5.2.3-21" class="pilcrow">¶</a></p>
<p id="section-5.2.3-22">
During the process of packets passing through multiple UET domains,
if SRH.UET change from UET-128 to UET-32 or UET-MPLS, SRH.SL will quadruple,
i.e., SRH.SL = SRH.SL * 4, which is the number of 32bits based SIDs in SRH.
When SRH.UET changed from UET-32 or UET-MPLS to UET-128, SRH.SL will revert to its original size,
i.e., SRH.SL = SRH.SL / 4, which is the number of 128bits based SIDs in SRH.<a href="#section-5.2.3-22" class="pilcrow">¶</a></p>
<p id="section-5.2.3-23">Similarly, when SRH.UET changes from UET-128 to UET-16, SRH.SL = SRH.SL * 8, from UET-32 to UET-16, SRH.SL = SRH.SL * 2, vice versa.<a href="#section-5.2.3-23" class="pilcrow">¶</a></p>
<p id="section-5.2.3-24">Refer to <a href="#usid-interworking-fig" class="xref">Figure 8</a>, next we will describe the process of packets passing through each UET domain.<a href="#section-5.2.3-24" class="pilcrow">¶</a></p>
<p id="section-5.2.3-25">
Before transmitting packets to segment node 1 (SN1) X, the headend S decrements SRH.SL by one and gets the first 128bits SID from SRH.List[], 128bits-END-SID-X with UET-128.
Then copies to DA, and then the lookups up FIB to where send the packet. Now,  the SRH.SL value is 3 and SRH.UET is UET-128.<a href="#section-5.2.3-25" class="pilcrow">¶</a></p>
<p id="section-5.2.3-26">
At the SN1 X, the local SID matches the DA and has the UET-128 Flavor attribute.
Hence, SRH.UET has not changed. It decrements SRH.SL by one,
gets the next 128bits SID from SRH.List[], 128bits-END-SID-ABR1' with UET-32,
copies the value to DA, and then looks up FIB to where to send the packet. At this time, SRH.SL is 2 and SRH.UET is UET-128.<a href="#section-5.2.3-26" class="pilcrow">¶</a></p>
<p id="section-5.2.3-27">
At the SN2 ABR1, the local SID matches the DA has UET-32 Flavor attribute.
Hence, SRH.UET has changed from UET-128 to UET-32. Tne node will firstly calculate SRH.SL * 4,
then decrement SRH.SL by 1, get the next 32bits SID from SRH.List[], 32bits of 128bits-END-SID-Y with UET-32,
convert it to a complete IPv6 SID, copy to DA, and lookup FIB to send packets.
At this time, SRH.SL is 7 and SRH.UET is UET-32.<a href="#section-5.2.3-27" class="pilcrow">¶</a></p>
<p id="section-5.2.3-28">
At the SN3 Y, the local SID matches the DA has UET-32 Flavor attribute.
Thus, SRH.UET has not changed. The node will decrement SRH.SL by 1,
get the next 32bits SID from SRH.List[], 32bits of 128bits-END-SID-ABR2' with UET-MPLS,
convert it to a complete IPv6 SID, copy to DA, and lookup FIB to send packets.
At this time, SRH.SL is 6, SRH.UET is UET-32.<a href="#section-5.2.3-28" class="pilcrow">¶</a></p>
<p id="section-5.2.3-29">
At the SN4 ABR2, the local SID matches the DA has UET-MPLS Flavor attribute.
Hence, SRH.UET has changed from UET-32 to UET-MPLS. Because the size of SID has not changed,
the node will decrement SRH.SL by 1, get the next 32bits SID from SRH.List[], 32bits-PREFIX-SID-Z
(with UET-MPLS in context.field), map it to a complete IPv6 prefix FEC by ILM entry, copy to DA,
and lookup FIB (or directly get forwarding information from ILM entry) to send packets.
Note that the UET information in the context.field needs to be compared with the value in SRH.UET. Since values are equal
no change and no additional processing. At this time, SRH.SL is 5, SRH.UET is 0b02.<a href="#section-5.2.3-29" class="pilcrow">¶</a></p>
<p id="section-5.2.3-30">
At the SN5 Z, the address route entry matches the DA and has no UET Flavor attribute.
As a result, SRH.UET has not changed. The node decrements SRH.SL by 1,
will get the next 32bits SID from SRH.List[], 32bits-PREFIX-SID-D (with UET-128 in context.field),
map it to a complete IPv6 prefix FEC by ILM entry, copy to DA, and lookup FIB
(or directly get forwarding information from ILM entry) to send packets.
Note that the UET information in context.field needs to be compared to SRH.UET.  Because
it is changed from UET-MPLS to UET-128, the SRH.SL will be reverted to its original size,
i.e., let SRH.SL / 4. At this time, SRH.SL is 1, SRH.UET is UET-128.<a href="#section-5.2.3-30" class="pilcrow">¶</a></p>
<p id="section-5.2.3-31">
At the SN6 D, the address route entry matched by DA has no associated UET Flavor attribute.
Hence, SRH.UET has not changed. The node decrements SRH.SL by 1, will get the next 128bits SID from SRH.List[],
128bits VPN-SID, and follow the rest process described in <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>.<a href="#section-5.2.3-31" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="usid-ctrl-plane-sec">
<section id="section-6">
      <h2 id="name-control-plane-in-support-of">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-control-plane-in-support-of" class="section-name selfRef">Control Plane in Support of Unified SID</a>
      </h2>
<p id="section-6-1">
The introduction of the Unified Identifier may rely on the existing SR extensions to the routing protocols.
But some enhancements in the control plane are still required.
This section analyzes control plane protocols and identifies necessary extensions.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">
Each node in the SRv6 domain needs to advertise its U-SID Encapsulation Capability,
this information can be carried within SRv6-Capabilities sub-TLV defined in <span>[<a href="#I-D.ietf-lsr-isis-srv6-extensions" class="xref">I-D.ietf-lsr-isis-srv6-extensions</a>]</span>
and SRv6 Capabilities TLV defined in <span>[<a href="#I-D.ietf-lsr-ospfv3-srv6-extensions" class="xref">I-D.ietf-lsr-ospfv3-srv6-extensions</a>]</span>.
It need also allocate SRv6 SID (Topology type and Service Function type) per UEC and advertise to other nodes,
the advertisement of SRv6 END SID, END.X SID, LAN END.X SID
defined in <span>[<a href="#I-D.ietf-lsr-isis-srv6-extensions" class="xref">I-D.ietf-lsr-isis-srv6-extensions</a>]</span> and <span>[<a href="#I-D.ietf-lsr-ospfv3-srv6-extensions" class="xref">I-D.ietf-lsr-ospfv3-srv6-extensions</a>]</span>
need to be extended to carry UET-Flavor information.
This information can be collected and sent to the central controller through BGP-LS.
The controller then can send the computed segment list to the headend through BGP or PCEP,
and each segment will include explicit UET Flavor information.
The detailed procedures are outside the scope of this document.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">
The SR-MPLS extensions to Interior Gateway Protocols (IGP), IS-IS <span>[<a href="#RFC8667" class="xref">RFC8667</a>]</span>,
OSPF <span>[<a href="#RFC8665" class="xref">RFC8665</a>]</span>, and OSPFv3 <span>[<a href="#RFC8666" class="xref">RFC8666</a>]</span>,
defined how 20-bits and 32-bits SIDs advertised and bound to SR objects and/or instructions.
Extensions to BGP Link-state address family <span>[<a href="#RFC9085" class="xref">RFC9085</a>]</span>
enabled propagation of segment information of variable length via BGP.
Already defined SR-MPLS extensions can be used to get MPLS U-SID mapping FIB entry,
and it can coexist with SRv6 extensions to the same IGP/BGP-LS instance.
For simplicity, this document suggests using the existing mature SR-MPLS control plane
and FIB entry for the MPLS U-SID advertisement and mapping entry.
However, it is possible to base it on SRv6 related TLVs/sub-TLVs to advertise the MPLS U-SID.
It is outside the scope of this specification and will be discussed in another document.<a href="#section-6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="uet-coding">
<section id="section-7">
      <h2 id="name-srh-with-u-sid-pseudo-code">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-srh-with-u-sid-pseudo-code" class="section-name selfRef">SRH with U-SID Pseudo-code</a>
      </h2>
<p id="section-7-1">Processing of SRH with U-SID is demonstrated in the following pseudo-code:<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">Headend sending packet:<a href="#section-7-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-3">
<pre>

S01. set initial SRH.UET, respond to the FSU, i.e.,
        the compressed result of the first SID;
S02. set initial SRH.SL, it is the count of 128bits-based SIDs;
S03. if (SRH.UET == UET-128) {
S04.   SRH.SL --;
S05.   Get SRH.List[SRH.SL], 128bits, copy to IPv6 Header DA; Or,
       headend know the first SID before SRH encapsulation,
        just copy it to DA.
S06.   FIB lookup according to DA, and forward packet;
S07. }
S08. else if (SRH.UET == UET-32) {
S09.   SRH.SL =  SRH.SL * 4;
S10.   SRH.SL --;
S11.   Get SRH.List[SRH.SL], 32bits, convert to 128bits SRv6 SID, copy
       to IPv6 Header DA; Or, headend know the first SID before SRH
           encapsulation, just copy it to DA;
S12.   FIB lookup according to DA, and forward packet;
S13. }
S14. else if (SRH.UET == UET-MPLS) {
S15.   SRH.SL =  SRH.SL * 4;
S16.   SRH.SL --;
S17.   Get SRH.List[SRH.SL], 32bits, lookup ILM entry and map it to 128
       IPv6 address, copy it to IPv6 Header DA; Or, headend know
       the first SID before SRH encapsulation, just copy it to DA;
S18.   FIB lookup according to DA, or directly get forwarding
       information from ILM entry and forward packet;
S19. }
S20. else if (SRH.UET == UET-16) {
S21.   SRH.SL =  SRH.SL * 8;
S22.   SRH.SL --;
S23.   Get SRH.List[SRH.SL], 16bits, convert to 128bits SRv6 SID, copy
       to IPv6 Header DA; Or, headend know the first SID before SRH
           encapsulation, just copy it to DA;
S24.   FIB lookup based on DA and forward packet;
S25. }

</pre><a href="#section-7-3" class="pilcrow">¶</a>
</div>
<p id="section-7-4">Transit/Egress receive packets:<a href="#section-7-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-5">
<pre>

S01. If DA matched local SID entry, copy the UET attr of local SID entry
     to SRH.UET, check when SRH.UET changed from UET-128 to UET-32 or
         UET-MPLS, SRH.SL*4, when from UET-32 or UET-MPLS to UET-128,
          SRH.SL / 4, similar treatment of UET-16 related SRH.SL update;
         Else If DA matched normal address route entry,
            SRH.UET no update;
S02. if (SRH.SL == 0) {
S03.   process the inner payload;
S04. }
S05. else {
S06.   if (SRH.UET == UET-128) {
S07.     SRH.SL -- ;
S08.     Get SRH.List[SRH.SL], 128bits, copy it to IPv6 Header DA;
S09.     FIB lookup based on DA and forward packet;
S10.   }
S11.   else if (SRH.UET == UET-32) {
S12.     SRH.SL -- ;
S13.     Get SRH.List[SRH.SL], 32bits, convert to 128bits SRv6 SID, copy
         to IPv6 Header DA;
S14.     FIB lookup based on DA and forward packet;
S15.   }
S16.   else if (SRH.UET == UET-MPLS) {
S17.     SRH.SL --
S18.     Get SRH.List[SRH.SL], 32bits, lookup ILM entry, map it to
         128bits IPv6 address, copy it to IPv6 Header DA;
S19.     Get UET info from SRH.List[SRH.SL] Context Field, copy it to
         SRH.UET. Check if  SRH.UET changed from UET-MPLS to UET-128,
         SRH.SL/4;
S20.     FIB lookup according to DA, or, directly get forwarding
         information from ILM entry, and forward packet;
S21.   }
S22.   else if (SRH.UET == UET-16) {
S23.     SRH.SL -- ;
S24.     Get SRH.List[SRH.SL], 16bits, convert to 128bits SRv6 SID, copy
         to IPv6 Header DA;
S25.     FIB lookup based on DA and forward packet;
S26.   }
S27. }

</pre><a href="#section-7-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="usid-support-programming">
<section id="section-8">
      <h2 id="name-u-sid-supporting-srv6-progr">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-u-sid-supporting-srv6-progr" class="section-name selfRef">U-SID supporting SRv6 programming</a>
      </h2>
<p id="section-8-1">U-SID can support SRv6 programming defined by <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>. The details will be described in another document.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="usid-benefit">
<section id="section-9">
      <h2 id="name-benefits">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-benefits" class="section-name selfRef">Benefits</a>
      </h2>
<p id="section-9-1">To be discussed in the next version.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="usid-PoC">
<section id="section-10">
      <h2 id="name-implementation-consideratio">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-implementation-consideratio" class="section-name selfRef">Implementation Considerations</a>
      </h2>
<p id="section-10-1">The Unified SID solution has been already implemented and tested by two companies:<a href="#section-10-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10-2.1">Centec has conducted its PoC, and the report is available at https://cloud.tencent.com/developer/article/1540023.<a href="#section-10-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-10-2.2">Broadcom, in its lab, also conducted PoC testing of the U-SID solution.<a href="#section-10-2.2" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="iana-consider">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">IANA is requested to allocate the two-bits long field from the Segment Routing Header Flags registry referred to as Size.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-12">
      <h2 id="name-security-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-12-1">This specification inherits all security considerations of <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>
and <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span>.<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contr-sec">
<section id="section-13">
      <h2 id="name-contributors">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<div class="alignLeft art-text artwork" id="section-13-1">
<pre>
   Wan Xiaolan
   New H3C Technologies Co. Ltd
   No.8, Yongjia Road, Haidian District
   Beijing
   China

   Email: wxlan@h3c.com


   Cheng Wei
   Centec
   Building B, No.5 Xing Han Street, Suzhou Industrial Park
   Suzhou
   China

   Email: Chengw@centecnetworks.com


   S.Zadok
   Broadcom
   Israel

   Email: shay.zadok@broadcom.com
</pre><a href="#section-13-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-14">
      <h2 id="name-acknowledgements">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-14-1">
         TBD<a href="#section-14-1" class="pilcrow">¶</a></p>
</section>
<section id="section-15">
      <h2 id="name-normative-references">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="I-D.ietf-lsr-isis-srv6-extensions">[I-D.ietf-lsr-isis-srv6-extensions]</dt>
      <dd>
<span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Decraene, B.</span>, and <span class="refAuthor">Z. Hu</span>, <span class="refTitle">"IS-IS Extensions to Support Segment Routing over IPv6 Dataplane"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsr-isis-srv6-extensions-17</span>, <time datetime="2021-06-18" class="refDate">18 June 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-lsr-isis-srv6-extensions-17">https://datatracker.ietf.org/doc/html/draft-ietf-lsr-isis-srv6-extensions-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-lsr-ospfv3-srv6-extensions">[I-D.ietf-lsr-ospfv3-srv6-extensions]</dt>
      <dd>
<span class="refAuthor">Li, Z.</span>, <span class="refAuthor">Hu, Z.</span>, <span class="refAuthor">Cheng, D.</span>, <span class="refAuthor">Talaulikar, K.</span>, and <span class="refAuthor">P. Psenak</span>, <span class="refTitle">"OSPFv3 Extensions for SRv6"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsr-ospfv3-srv6-extensions-02</span>, <time datetime="2021-02-15" class="refDate">15 February 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-lsr-ospfv3-srv6-extensions-02">https://datatracker.ietf.org/doc/html/draft-ietf-lsr-ospfv3-srv6-extensions-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6554">[RFC6554]</dt>
      <dd>
<span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Vasseur, JP.</span>, <span class="refAuthor">Culler, D.</span>, and <span class="refAuthor">V. Manral</span>, <span class="refTitle">"An IPv6 Routing Header for Source Routes with the Routing Protocol for Low-Power and Lossy Networks (RPL)"</span>, <span class="seriesInfo">RFC 6554</span>, <span class="seriesInfo">DOI 10.17487/RFC6554</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6554">https://www.rfc-editor.org/info/rfc6554</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
      <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8660">[RFC8660]</dt>
      <dd>
<span class="refAuthor">Bashandy, A., Ed.</span>, <span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8663">[RFC8663]</dt>
      <dd>
<span class="refAuthor">Xu, X.</span>, <span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Hassan, S.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"MPLS Segment Routing over IP"</span>, <span class="seriesInfo">RFC 8663</span>, <span class="seriesInfo">DOI 10.17487/RFC8663</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8663">https://www.rfc-editor.org/info/rfc8663</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8665">[RFC8665]</dt>
      <dd>
<span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Shakir, R.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"OSPF Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8665</span>, <span class="seriesInfo">DOI 10.17487/RFC8665</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8665">https://www.rfc-editor.org/info/rfc8665</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8666">[RFC8666]</dt>
      <dd>
<span class="refAuthor">Psenak, P., Ed.</span> and <span class="refAuthor">S. Previdi, Ed.</span>, <span class="refTitle">"OSPFv3 Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8666</span>, <span class="seriesInfo">DOI 10.17487/RFC8666</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8666">https://www.rfc-editor.org/info/rfc8666</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8667">[RFC8667]</dt>
      <dd>
<span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Gredler, H.</span>, and <span class="refAuthor">B. Decraene</span>, <span class="refTitle">"IS-IS Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8667</span>, <span class="seriesInfo">DOI 10.17487/RFC8667</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8667">https://www.rfc-editor.org/info/rfc8667</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Dukes, D., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8986">[RFC8986]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="seriesInfo">RFC 8986</span>, <span class="seriesInfo">DOI 10.17487/RFC8986</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9085">[RFC9085]</dt>
    <dd>
<span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Talaulikar, K., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Gredler, H.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"Border Gateway Protocol - Link State (BGP-LS) Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 9085</span>, <span class="seriesInfo">DOI 10.17487/RFC9085</span>, <time datetime="2021-08" class="refDate">August 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9085">https://www.rfc-editor.org/info/rfc9085</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Cheng Weiqiang</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div dir="auto" class="left">
<span class="region">Beijing</span>, </div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:chengweiqiang@chinamobile.com" class="email">chengweiqiang@chinamobile.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Greg Mirsky</span></div>
<div dir="auto" class="left"><span class="org">Ericsson</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gregimirsky@gmail.com" class="email">gregimirsky@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Peng Shaofu</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="street-address">No.50 Software Avenue, Yuhuatai District</span></div>
<div dir="auto" class="left">
<span class="region">Nanjing</span>, </div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:peng.shaofu@zte.com.cn" class="email">peng.shaofu@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Liu Aihua</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="street-address">Zhongxing Industrial Park, Nanshan District</span></div>
<div dir="auto" class="left">
<span class="region">Shenzhen</span>, </div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liu.aihua@zte.com.cn" class="email">liu.aihua@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gyan S. Mishra</span></div>
<div dir="auto" class="left"><span class="org">Verizon Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">13101 Columbia Pike</span></div>
<div dir="auto" class="left">
<span class="locality">Silver Spring</span>,  <span class="postal-code">MD 20904</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:301%20502-1347" class="tel">301 502-1347</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:gyan.s.mishra@verizon.com" class="email">gyan.s.mishra@verizon.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
