

Network Working Group                                         Riza Cetin
Internet Draft                                        Stefaan De Cnodder
Expiration Date: May 2003                                        Alcatel
                                                                        
                                                             Der-Hwa Gan
                                                  Juniper Networks, Inc.
                                                                        
                                                        Thomas D. Nadeau
                                                     Cisco Systems, Inc.
                                                                        
                                                           November 2002


   
   Multiprotocol Label Switching (MPLS) Traffic Engineering Management
                    Information Base for Fast Reroute
                                    
                 draft-ietf-mpls-fastreroute-mib-01.txt
                                    


   Status of this Memo
   
   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026 [1].
   
   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.
   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."
   
   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.
   
   
1. Abstract
   
   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for Multiprotocol Label
   Switching (MPLS) based fast rerouting.
   
2. Table of Contents
   
   
1. ABSTRACT...................................................1
2. TABLE OF CONTENTS..........................................1
3. CONVENTIONS USED IN THIS DOCUMENT..........................2
4. INTRODUCTION...............................................3



IETF MPLS WG                 Expires May 2003                [Page 1]

Internet Draft              MPLS-FRR MIB             November 1, 2002



5. BRIEF DESCRIPTION OF MIB OBJECTS...........................3
5.1. MPLSFRRCONSTTABLE........................................3
5.2. MPLSFRRPLRTABLE..........................................3
5.3. MPLSFRRDETOURTABLE.......................................3
6. MPLS FAST REROUTE MIB DEFINITIONS..........................4
7. SECURITY CONSIDERATIONS...................................29
8. REFERENCEAS...............................................29
9. ACKNOWLEDGMENTS...........................................30
10. Intellectual Property Considerations.....................30
11. AUTHORSÆ ADDRESSES.......................................30
12. FULL COPYRIGHT STATEMENT.................................30


3. Conventions used in this document
   
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [2].

4. Introduction
   
   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for Multiprotocol Label
   Switching (MPLS) based fast rerouting. This MIB should be used in
   conjunction with [3] and [4].
   
5. Brief Description of MIB Objects.
   
   The objects described in this section support the detour
   functionality described in Section 3 of [5]. Bypass tunnels are for
   further study.

5.1. mplsFrrConstTable
   
   This table contains fast-reroute constraints such as setup and
   holding priorities and bandwidth for a tunnel instance to be
   protected by using detour LSPs.
   
   This table is used at the ingress node of the protected tunnel
   instance to configure detour LSP setup constraints.

5.2. mplsFrrPLRTable

   The mplsFrrPLRTable is an optional table that contains lists of PLRs
   that initiated detour LSPs to protect tunnel instances.
   
   When detour LSPs initiated by different PLRs to protect the same
   tunnel instance, are merged together before entering an LSR then at
   this LSR, entries of those PLRs point to the same detour LSP entry in
   the mplsFrrDetourTable.



IETF MPLS WG                 Expires May 2003                [Page 2]

Internet Draft              MPLS-FRR MIB             November 1, 2002



   
5.3. mplsFrrDetourTable
   
   The mplsFrrDetourTable shows the detour LSPs in each node (ingress,
   transit and egress LSRs). An entry of this table represents a detour
   LSP. Each detour is identified by:

   - tunnel index (which is set to the tunnel-id of the LSP protected
     by this detour),
   - tunnel instance (which is set to the LSP-id of the LSP protected
     by this detour),
   - ingress node (which is set to the ingress node of the LSP
     protected by this detour),
   - egress node (which is set to the egress node of the LSP
     protected by this detour), and
   - detour index.
     
   Multiple detours of the same protected LSP may go through the same
   node. In this case, the first four identifiers are not sufficient to
   uniquely identify each detour LSP. Therefore, an additional detour
   index is introduced.
   
   Each entry describes the properties of the detour LSP like bandwidth,
   setup and holding priority,... and also whether or not the detour LSP
   is merged with another detour LSP or with the protected LSP.
   
   mplsFrrDetourTable does not define the in and out segments forming
   the detour. Instead, these are defined by creating rows in the in-
   segment and out-segment tables, defining relationships in the cross-
   connect table and referring to these rows in the mplsFrrDetourTable
   using a cross-connect row pointer (mplsFrrDetourXCPointer). These
   segment and cross-connect related objects are defined in [4].
   
   When detour LSPs are merged, then for each individual detour LSP, an
   entry is created in this table. Each such detour LSP points to a
   different cross-connect entry. These cross-connect entries have the
   same mplsXCIndex and mplsOutSegmentIndex. mplsOutSegmentIndex will
   point to the entry of the out segment table created for the final
   detour LSP selected as a result of the merging rules. This final
   detour LSP is given by mplsFrrDetourMergedDetourIndex object in each
   entry of the merged detour LSPs. In case detour LSPs are merged with
   the protected LSP, mplsOutSegmentIndex will point to the entry of the
   out segment table created for the protected LSP. In this case the
   mplsFrrDetourMergedDetourIndex object is not relevant.

   This table is optional and is only required in case mplsFrrPLRTable
   is supported.

   ED NOTE: Need to add description of Facility-based FRR tables
   and explanation of new MIB structure.



IETF MPLS WG                 Expires May 2003                [Page 3]

Internet Draft              MPLS-FRR MIB             November 1, 2002



   
6. MPLS Fast Reroute MIB Definitions
   

MPLS-FRR-MIB DEFINITIONS ::= BEGIN
   
   IMPORTS
      MODULE-IDENTITY, OBJECT-TYPE,
      Integer32, Unsigned32, Counter32, 
      NOTIFICATION-TYPE, experimental
         FROM SNMPv2-SMI
      MODULE-COMPLIANCE, OBJECT-GROUP, NOTIFICATION-GROUP
         FROM SNMPv2-CONF
      TEXTUAL-CONVENTION, TruthValue, RowStatus, 
      TimeStamp
         FROM SNMPv2-TC
      InterfaceIndex, InterfaceIndexOrZero
         FROM IF-MIB
      MplsTunnelIndex, MplsTunnelInstanceIndex,
      MplsTunnelAffinity, MplsLsrIdentifier
         FROM MPLS-TC-MIB
      InetAddressType, InetAddress
         FROM INET-ADDRESS-MIB
      ;
   
   mplsFrrMIB MODULE-IDENTITY
      LAST-UPDATED
         "200211011200Z" -- 01 November 2002 12:00:00 GMT
      ORGANIZATION
         "Multiprotocol Label Switching (MPLS) Working Group"
      CONTACT-INFO
           "
                    Riza Cetin
            Postal: Alcatel
                    Francis Wellesplein 1
                    B-2018 Antwerp, Belgium
            Tel:    +32-3-2404735
            Email:  riza.cetin@alcatel.be
   
                    Stefaan De Cnodder
            Postal: Alcatel
                    Francis Wellesplein 1
                    B-2018 Antwerp, Belgium
            Tel:    +32-3-2408515
            Email:  Stefaan.de_cnodder@alcatel.be
   
                    Der-Hwa Gan
            Postal: Juniper Networks, Inc.
                    1194 N. Mathilda Avenue
                    Sunnyvale, CA 94089



IETF MPLS WG                 Expires May 2003                [Page 4]

Internet Draft              MPLS-FRR MIB             November 1, 2002



            Tel:    +1-408-745-20-74
            Email:  dhg@juniper.net
   
                    Thomas D. Nadeau
            Postal: Cisco Systems, Inc.
                    250 Apollo Drive
                    Chelmsford, MA 01924
            Tel:    +1-978-244-3051
            Email:  tnadeau@cisco.com
   
           "
      DESCRIPTION
        "This MIB module contains managed object definitions for MPLS
         Fast Reroute (FRR) as defined in:Pan, P., Gan, D., Swallow, G.,
         Vasseur, J.Ph., Cooper, D., Atlas, A., Jork, M., Fast Reroute
         Techniques in RSVP-TE, draft-ietf-mpls-rsvp-lsp-fastreroute-
         00.txt, January 2002."
   
   -- Revision history.
      REVISION
           "200211011200Z" -- 01 November 2002 12:00:00 GMT
      DESCRIPTION
           "Added support for Facility-based FRR.

            Removed tables that were redundant with
              other MPLS MIBs.

            Assigned experimental.120."
   
      REVISION
           "200203221200Z" -- 18 April 2002 12:00:00 GMT
      DESCRIPTION
           "Initial draft version."
   
      ::= { experimental 120 } -- to be assigned under mplsMIB.
   
   -- MPLS Fast Reroute textual-conventions.
   
   MplsFrrDetourIndex ::= TEXTUAL-CONVENTION
      STATUS        current
      DESCRIPTION
        "Index into mplsFrrDetourTable."
      SYNTAX  Integer32 (1..65535)

   -- End of MPLS Fast Reroute textual-conventions.
   
   -- Top level components of this MIB.
   mplsFrrNotif         OBJECT IDENTIFIER ::= { mplsFrrMIB 0 }
   mplsFrrScalars       OBJECT IDENTIFIER ::= { mplsFrrMIB 1 }
   mplsFrrObjects       OBJECT IDENTIFIER ::= { mplsFrrMIB 2 }



IETF MPLS WG                 Expires May 2003                [Page 5]

Internet Draft              MPLS-FRR MIB             November 1, 2002



   
   -- objects that work for either method of FRR
   mplsFrrGeneralObjects OBJECT IDENTIFIER ::= { mplsFrrObjects 1 }
   
   -- objects defined for 1-to-1 style FRR
   mplsFrr1to1Objects   OBJECT IDENTIFIER ::= { mplsFrrObjects 2 }
   
   -- objects defined for Facility Backup style FRR
   mplsFrrFacObjects    OBJECT IDENTIFIER ::= { mplsFrrObjects 3 }
   
   --
   -- Ed Note: need to define two conformance statements: one for
   -- one for 1-2-1 and for Facility.  Might need separate ones for
   -- read-only vs. read-write too.  There is currently just a single
   -- conformance statement due to time constraints. 
   --
   mplsFrrConformance   OBJECT IDENTIFIER ::= { mplsFrrMIB 3 }
   
   -- MPLS Fast Reroute scalars.
   
   mplsFrrDetourIncoming OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "The number of detour LSPs entering the device if
        mplsFrrConstProtectionMethod is set to oneToOneBackup(0), or
        tunnels if mplsFrrConstProtectionMethod is set to
        facilityBackup(1)."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 1 }
   
   mplsFrrDetourOutgoing OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "The number of detour LSPs leaving the device if
        mplsFrrConstProtectionMethod is set to oneToOneBackup(0), or
        tunnels being backed up if mplsFrrConstProtectionMethod is set
        to facilityBackup(1)."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 2 }
   
   mplsFrrDetourOriginating OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "The number of detour LSPs originated at the device if



IETF MPLS WG                 Expires May 2003                [Page 6]

Internet Draft              MPLS-FRR MIB             November 1, 2002



        mplsFrrConstProtectionMethod is set to oneToOneBackup(0), or
        tunnels being backed up if mplsFrrConstProtectionMethod is set
        to facilityBackup(1)."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 3 }
   
   mplsFrrSwitchover OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "The number of tunnel instances that are switched over to their
        corresponding detour LSP if mplsFrrConstProtectionMethod is set
        to oneToOneBackup(0), or tunnels being backed up if
        mplsFrrConstProtectionMethod is set to facilityBackup(1).
         This object is only meaningful when this router behaves as PLR."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 4 }
   
   mplsFrrConfIfs OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Indicates the number of interfaces configured for protection by
         the FRR feature."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 5 }

   mplsFrrActProtectedIfs OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Indicates the number of interfaces currently being protected by
        the FRR feature if mplsFrrConstProtectionMethod is set to
        facilityBackup(1), otherwise this value should return 0."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 6 }
   
   mplsFrrConfProtectedTuns OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Indicates the number of tunnels configured to protect
        facilities on this LSR using the FRR feature if
        mplsFrrConstProtectionMethod is set to facilityBackup(1),
        otherwise this value should return 0."
      DEFVAL { 0 }



IETF MPLS WG                 Expires May 2003                [Page 7]

Internet Draft              MPLS-FRR MIB             November 1, 2002



      ::= { mplsFrrScalars 7 }

   mplsFrrActProtectedTuns OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Indicates the number of by-pass tunnels configured to protect
        facilities on this LSR using the FRR feature if
        mplsFrrConstProtectionMethod is set to facilityBackup(1),
        otherwise this value should return 0."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 8 }
   
   mplsFrrActivelyProtectedLSPs OBJECT-TYPE
      SYNTAX        Unsigned32
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Indicates the number of LSPs currently protected by the FRR
        feature if mplsFrrConstProtectionMethod is set to
        oneToOneBackup(0), otherwise this value should return 0."
      DEFVAL { 0 }
      ::= { mplsFrrScalars 9 }
   
   mplsFrrConstProtectionMethod OBJECT-TYPE
      SYNTAX        INTEGER { oneToOneBackup(0),
                              facilityBackup(1)
                            }
      MAX-ACCESS    read-write
      STATUS        current
      DESCRIPTION
        "Indicates which protection method is to be used for fast
         reroute. Some devices may require a reboot of their routing
         processors if this variable is changed. Please consult the
         device's agent capability statement for more details."
      ::= { mplsFrrScalars 10 }
   
   mplsFrrNotifsEnabled OBJECT-TYPE
       SYNTAX            TruthValue
       MAX-ACCESS        read-write
       STATUS            current
       DESCRIPTION
           "Enables or disables FRR notifications defined in this MIB
           module. Notifications are disabled by default."
       DEFVAL { false }
   ::= { mplsFrrScalars 11 }
      
   mplsFrrLogTableMaxEntries OBJECT-TYPE
       SYNTAX            Unsigned32



IETF MPLS WG                 Expires May 2003                [Page 8]

Internet Draft              MPLS-FRR MIB             November 1, 2002



       MAX-ACCESS        read-write
       STATUS            current
       DESCRIPTION
           "Indicates the maximum number of entries allowed in the FRR
           Log table. Agents receiving SETs for values that cannot be
           used must return an inconsistent value error. If a manager
           sets this value to 0, this indicates that no logging should
           take place.  If this value is returned as 0, this indicates
           that no additional log entries will be added to the current
           table, although agents may wish to not delete existing
           entries. This implies that mplsFrrLogTableCurrEntries that
           when mplsFrrLogTableCurrEntries has exceeded the value of
           this variable, that logging entries may not continue to be
           added to the table, although existing ones may remain."
       DEFVAL { 0 }
   ::= { mplsFrrScalars 12 }
   
   mplsFrrLogTableCurrEntries OBJECT-TYPE
       SYNTAX            Counter32
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "Indicates the current number of entries in the FRR log
           table."
   ::= { mplsFrrScalars 13 }
   
mplsFrrNotifMaxRate OBJECT-TYPE
   SYNTAX       Unsigned32
   MAX-ACCESS   read-write
   STATUS       current
   DESCRIPTION
        "This variable indicates the number of milliseconds
          that must elapse between notification emissions. If
          events occur more rapidly, the implementation may
          simply fail to emit these notifications during that
          period, or may queue them until an appropriate
          time. A value of 0 means no minimum elapsed period
          is specified."
   DEFVAL       { 0 }
   ::= { mplsFrrScalars 14 }

   --
   --  General FRR Table Section
   --
   --  These tables apply to both types of FRR
   --  and should be implemented by all LSRs supporting
   --  FRR.
   --
   
   -- MPLS Fast Reroute Constraints table



IETF MPLS WG                 Expires May 2003                [Page 9]

Internet Draft              MPLS-FRR MIB             November 1, 2002



   
   mplsFrrConstTable OBJECT-TYPE
      SYNTAX        SEQUENCE OF MplsFrrConstEntry
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "This table shows detour setup constraints."
      ::= {  mplsFrrGeneralObjects 1 }
   
   mplsFrrConstEntry OBJECT-TYPE
      SYNTAX        MplsFrrConstEntry
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "An entry in this table represents detour LSP or Tunnel setup
        constraints for a tunnel instance to be protected by detour LSPs
        or a tunnel. Agents must allow entries in this table to be
        created only for tunnel instances that require fast-reroute.
        Entries indexed with mplsFrrConstIfIndex set to 0 apply to all
        interfaces on this device for which the FRR feature can operate
        on."
      INDEX { mplsFrrConstIfIndex,
              mplsFrrConstTunnelIndex,
              mplsFrrConstTunnelInstance
            }
      ::= { mplsFrrConstTable 1 }
   
   MplsFrrConstEntry ::= SEQUENCE {
         mplsFrrConstIfIndex           InterfaceIndexOrZero,
         mplsFrrConstTunnelIndex       MplsTunnelIndex,
         mplsFrrConstTunnelInstance    MplsTunnelInstanceIndex,
         mplsFrrConstProtectionType    INTEGER,
         mplsFrrConstSetupPrio         Unsigned32,
         mplsFrrConstHoldingPrio       Unsigned32,
         mplsFrrConstInclAnyAffinity   MplsTunnelAffinity,
         mplsFrrConstInclAllAffinity   MplsTunnelAffinity,
         mplsFrrConstExclAllAffinity   MplsTunnelAffinity,
         mplsFrrConstHopLimit          Unsigned32,
         mplsFrrConstBandwidth         Integer32,
         mplsFrrConstRowStatus         RowStatus
   }

   mplsFrrConstIfIndex  OBJECT-TYPE
      SYNTAX        InterfaceIndexOrZero
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies an interface for which fast reroute is
        configured. Tabular entries indexed with a 0 value apply to all
        interfaces on this device for which the FRR feature can operate



IETF MPLS WG                Expires May 2003                [Page 10]

Internet Draft              MPLS-FRR MIB             November 1, 2002



        on."
      ::= { mplsFrrConstEntry 1 }

   mplsFrrConstTunnelIndex OBJECT-TYPE
      SYNTAX        MplsTunnelIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies a tunnel for which fast reroute is
        requested."
      ::= { mplsFrrConstEntry 2 }
   
   mplsFrrConstTunnelInstance OBJECT-TYPE
      SYNTAX        MplsTunnelInstanceIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies an instance of this tunnel for which fast
        reroute is requested."
      ::= { mplsFrrConstEntry 3 }

   mplsFrrConstProtectionType OBJECT-TYPE
      SYNTAX        INTEGER { linkProtection(0),
                              nodeProtection(1)
                            }
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "Indicates type of the resource protection."
      DEFVAL { nodeProtection }
      ::= { mplsFrrConstEntry 4 }

   mplsFrrConstSetupPrio OBJECT-TYPE
      SYNTAX        Unsigned32 (0..7)
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "Indicates the setup priority of detour LSP."
      REFERENCE
        "1. RSVP-TE: Extensions to RSVP for LSP Tunnels, Awduche et al,
        RFC 3209, December 2001"
      DEFVAL { 7 }
      ::= { mplsFrrConstEntry 5 }
   
   mplsFrrConstHoldingPrio OBJECT-TYPE
      SYNTAX        Unsigned32 (0..7)
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "Indicates the holding priority for detour LSP."



IETF MPLS WG                Expires May 2003                [Page 11]

Internet Draft              MPLS-FRR MIB             November 1, 2002



      REFERENCE
        "1. RSVP-TE: Extensions to RSVP for LSP Tunnels, Awduche et al,
        RFC 3209, December 2001"
      DEFVAL { 0 }
      ::= { mplsFrrConstEntry 6 }
   
   mplsFrrConstInclAnyAffinity OBJECT-TYPE
      SYNTAX        MplsTunnelAffinity
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "A link satisfies the include-any constraint if and only if the
        constraint is zero, or the link and the constraint have a
        resource class in common."
      REFERENCE
        "1. RSVP-TE: Extensions to RSVP for LSP Tunnels, Awduche et al,
        RFC 3209, December 2001."
      DEFVAL { 0 }
      ::= { mplsFrrConstEntry 7 }
   
   mplsFrrConstInclAllAffinity OBJECT-TYPE
      SYNTAX        MplsTunnelAffinity
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "A link satisfies the include-all constraint if and only if the
        link contains all of the administrative groups specified in the
        constraint."
      REFERENCE
        "1. RSVP-TE: Extensions to RSVP for LSP Tunnels, Awduche et al,
        RFC 3209, December 2001."
      DEFVAL { 0 }
      ::= { mplsFrrConstEntry 8 }
   
   mplsFrrConstExclAllAffinity OBJECT-TYPE
      SYNTAX        MplsTunnelAffinity
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "A link satisfies the exclude-all constraint if and only if the
        link contains none of the administrative groups specified in the
        constraint."
      REFERENCE
        "1. RSVP-TE: Extensions to RSVP for LSP Tunnels, Awduche et al,
        RFC 3209, December 2001."
      DEFVAL { 0 }
      ::= { mplsFrrConstEntry 9 }
   
   mplsFrrConstHopLimit OBJECT-TYPE
      SYNTAX        Unsigned32 (1..255)



IETF MPLS WG                Expires May 2003                [Page 12]

Internet Draft              MPLS-FRR MIB             November 1, 2002



      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "The maximum number of hops that the detour LSP may traverse."
      REFERENCE
        "Pan, P., Gan, D., Swallow, G., Vasseur, J.Ph., Cooper, D.,
        Atlas, A., Jork, M., Fast Reroute Techniques in RSVP-TE, draft-
        ietf-mpls-rsvp-lsp-fastreroute-00.txt, January 2002. Work in
        progress."
      DEFVAL { 32 }
   ::= { mplsFrrConstEntry 10 }
   
   mplsFrrConstBandwidth OBJECT-TYPE
      SYNTAX        Integer32
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "This variable represents the bandwidth for detour LSPs of this
        tunnel, in units of thousands of bits per second (Kbps)."
      DEFVAL { 0 }
      ::= { mplsFrrConstEntry 11 }
   
   mplsFrrConstRowStatus OBJECT-TYPE
      SYNTAX        RowStatus
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "This object is used to create, modify, and/or delete a row in
         this table."
      ::= { mplsFrrConstEntry 12 }

   
   -- Fast Reroute Log Table
   
   mplsFrrLogTable OBJECT-TYPE
       SYNTAX            SEQUENCE OF MplsFrrLogEntry
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
           "The fast reroute log table records fast reroute events such
            as protected links going up or down or the FRR feature
            kicking in."
   ::= { mplsFrrGeneralObjects 2 }
   
   mplsFrrLogEntry OBJECT-TYPE
       SYNTAX            MplsFrrLogEntry
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
           "An entry in this table is created to describe one fast



IETF MPLS WG                Expires May 2003                [Page 13]

Internet Draft              MPLS-FRR MIB             November 1, 2002



            reroute event.  Entries in this table are only created and
            destroyed by the agent implementation. The maximum number 
            of entries in this log is governed by the scalar."
       INDEX { mplsFrrLogIndex }
   ::= { mplsFrrLogTable 1 }
   
   MplsFrrLogEntry ::= SEQUENCE {
       mplsFrrLogIndex                Unsigned32,
       mplsFrrLogEventTime            TimeStamp,
       mplsFrrLogInterface            InterfaceIndexOrZero,
       mplsFrrLogEventType            INTEGER,
       mplsFrrLogEventDuration        TimeTicks,
       mplsFrrLogEventReasonString    OCTET STRING
   }
   
   mplsFrrLogIndex OBJECT-TYPE
       SYNTAX            Unsigned32
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
           "Uniquely identifies a fast reroute event entry."
   ::= { mplsFrrLogEntry 1 }
   
   mplsFrrLogEventTime OBJECT-TYPE
       SYNTAX            TimeStamp
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "This object provides the amount of time ticks since this
           event occured."
   ::= { mplsFrrLogEntry 2 }
   
   mplsFrrLogInterface OBJECT-TYPE
       SYNTAX            InterfaceIndexOrZero
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "This object indicates which interface was affected by this
           FRR event. This value may be set to 0 if
           mplsFrrConstProtectionMethod is set to oneToOneBackup(0)."
   ::= { mplsFrrLogEntry 3 }
   
   mplsFrrLogEventType OBJECT-TYPE
       SYNTAX            INTEGER {
                             other(1),
                             protected(2),
                             unProtected(3)
                         }
       MAX-ACCESS        read-only
       STATUS            current



IETF MPLS WG                Expires May 2003                [Page 14]

Internet Draft              MPLS-FRR MIB             November 1, 2002



       DESCRIPTION
           "This object describes what type of fast reroute event
           occured."
   ::= { mplsFrrLogEntry 4 }
   
   mplsFrrLogEventDuration OBJECT-TYPE
       SYNTAX            TimeTicks
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "This object describes the duration of this event."
   ::= { mplsFrrLogEntry 5 }
   
   mplsFrrLogEventReasonString OBJECT-TYPE
       SYNTAX            OCTET STRING (SIZE(128))
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "This object contains an implementation-specific explanation
           of the event."
   ::= { mplsFrrLogEntry 6 }
   
   
   --
   -- One-to-One Specific Tables
   --
   -- Tables in this section pertain only to the 1-1
   -- style of FRR.
   --
   
   
   -- MPLS Fast Reroute Point of Local Repair table
   
   mplsFrrOne2OnePlrTable  OBJECT-TYPE
      SYNTAX        SEQUENCE OF MplsFrrOne2OnePlrEntry
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "This table shows the lists of PLRs that initiated detour LSPs
        which affect this node."
      ::= { mplsFrr1to1Objects 1 }
   
   mplsFrrOne2OnePlrEntry  OBJECT-TYPE
      SYNTAX        MplsFrrOne2OnePlrEntry
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "An entry in this table represents a PLR together with its
        detour instance. An entry in this table is only created by an
        SNMP agent as instructed by an MPLS signaling protocol."



IETF MPLS WG                Expires May 2003                [Page 15]

Internet Draft              MPLS-FRR MIB             November 1, 2002



      INDEX { mplsFrrOne2OnePlrTunIdIdx,     -- from MPLS-TE MIB
              mplsFrrOne2OnePlrTunInst,      -- mplsTunnelTable
              mplsFrrOne2OnePlrTunIngrLSRId, -- Tunnels must exist
              mplsFrrOne2OnePlrTunEgrLSRId,  -- a priori
              mplsFrrOne2OnePlrId,
              mplsFrrOne2OnePlrDetourInstance }
      ::= { mplsFrrOne2OnePlrTable 1 }
   
   MplsFrrOne2OnePlrEntry ::= SEQUENCE {
         mplsFrrOne2OnePlrTunIdIdx       MplsTunnelIndex,
         mplsFrrOne2OnePlrTunInst        MplsTunnelInstanceIndex,
         mplsFrrOne2OnePlrTunIngrLSRId   MplsLsrIdentifier,
         mplsFrrOne2OnePlrTunEgrLSRId    MplsLsrIdentifier,
         mplsFrrOne2OnePlrId             MplsLsrIdentifier,
         mplsFrrOne2OnePlrDetourInstance MplsTunnelInstanceIndex,
         mplsFrrOne2OnePlrSenderAddrType InetAddressType,
         mplsFrrOne2OnePlrSenderAddr     InetAddress,
         mplsFrrOne2OnePlrAvoidNAddrType InetAddressType,
         mplsFrrOne2OnePlrAvoidNAddr     InetAddress,
         mplsFrrOne2OnePlrDetourIndex    MplsFrrDetourIndex
   }

   mplsFrrOne2OnePlrTunIdIdx OBJECT-TYPE
      SYNTAX        MplsTunnelIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies a row from the mplsTunnelEntry."
      ::= { mplsFrrOne2OnePlrEntry 1 }

   mplsFrrOne2OnePlrTunInst OBJECT-TYPE
      SYNTAX        MplsTunnelInstanceIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies an instance of a tunnel from
         the mplsTunnelEntry. "
      ::= { mplsFrrOne2OnePlrEntry 2 }

   mplsFrrOne2OnePlrTunIngrLSRId OBJECT-TYPE
      SYNTAX        MplsLsrIdentifier
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "The purpose of this object is to uniquely identity a
          tunnel within a network. When the MPLS signalling
          protocol is rsvp(2) this value SHOULD mimic the
          Extended Tunnel Id field in the SESSION object.
          When the MPLS signalling protocol is crldp(3) this
          value SHOULD mimic the Ingress LSR Router ID field



IETF MPLS WG                Expires May 2003                [Page 16]

Internet Draft              MPLS-FRR MIB             November 1, 2002



          in the LSPID TLV object."
      REFERENCE
        "1. RSVP-TE: Extensions to RSVP for LSP Tunnels,
          Awduche et al, RFC 3209, December 2001
         2. Constraint-Based LSP Setup using LDP, Jamoussi
          (Editor), RFC 3212, January 2002"
      ::= { mplsFrrOne2OnePlrEntry 3 }

    mplsFrrOne2OnePlrTunEgrLSRId OBJECT-TYPE
      SYNTAX        MplsLsrIdentifier
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Specifies the egress LSR ID."
      ::= { mplsFrrOne2OnePlrEntry 4 }

   
   mplsFrrOne2OnePlrId OBJECT-TYPE
      SYNTAX        MplsLsrIdentifier
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "This value represents the PLR that has initiated a detour LSP
        to protect a tunnel instance."
      ::= { mplsFrrOne2OnePlrEntry 5 }

   mplsFrrOne2OnePlrDetourInstance OBJECT-TYPE
      SYNTAX        MplsTunnelInstanceIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "This value represents an instance of a detour initiated by this
        PLR."
      ::= { mplsFrrOne2OnePlrEntry 6 }
   
   mplsFrrOne2OnePlrSenderAddrType OBJECT-TYPE
      SYNTAX        InetAddressType
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION
        "Denotes the address type of this detour instance'S sender
        address."
      DEFVAL        { ipv4 }
      ::= { mplsFrrOne2OnePlrEntry 7 }
   
   mplsFrrOne2OnePlrSenderAddr OBJECT-TYPE
      SYNTAX        InetAddress
      MAX-ACCESS    read-create
      STATUS        current
      DESCRIPTION



IETF MPLS WG                Expires May 2003                [Page 17]

Internet Draft              MPLS-FRR MIB             November 1, 2002



        "If mplsFrrOne2OnePlrSenderAddrType is set to ipv4(1), then this value
        will contain the IPv4 address of this detour instance's sender.
        This object is otherwise insignificant and should contain a
        value of 0."
      ::= { mplsFrrOne2OnePlrEntry 8 }
   
   mplsFrrOne2OnePlrAvoidNAddrType OBJECT-TYPE
      SYNTAX        InetAddressType
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Denotes the address type of the node that this PLR tries to
        avoid."
      DEFVAL        { ipv4 }
      ::= { mplsFrrOne2OnePlrEntry 9 }
   
   mplsFrrOne2OnePlrAvoidNAddr OBJECT-TYPE
      SYNTAX        InetAddress
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "If mplsFrrOne2OnePlrAvoidNAddrType is set to ipv4(1), then this
        value will contain the IPv4 address of the avoid node. This
        object is otherwise insignificant and should contain a value of
        0."
      ::= { mplsFrrOne2OnePlrEntry 10 }
   
   mplsFrrOne2OnePlrDetourIndex OBJECT-TYPE
      SYNTAX        MplsFrrDetourIndex
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "The index of the corresponding detour LSP in the
        mplsFrrDetourTable."
   ::= { mplsFrrOne2OnePlrEntry 11 }
   

   -- MPLS One-To-One Fast Reroute Detour table.
   
   mplsFrrDetourTable OBJECT-TYPE
      SYNTAX        SEQUENCE OF MplsFrrDetourEntry
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "This table shows all detour LSPs together with their
        characteristics."
      ::= { mplsFrr1to1Objects 2 }
   
   mplsFrrDetourEntry OBJECT-TYPE
      SYNTAX        MplsFrrDetourEntry



IETF MPLS WG                Expires May 2003                [Page 18]

Internet Draft              MPLS-FRR MIB             November 1, 2002



      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "An entry in this table represents a detour. An entry in this
        table is only created by an SNMP agent as instructed by an MPLS
        signaling protocol. "
      INDEX {
              mplsFrrOne2OnePlrTunIdIdx,     -- from MPLS-TE MIB
              mplsFrrOne2OnePlrTunInst,      -- mplsTunnelTable
              mplsFrrOne2OnePlrTunIngrLSRId, -- Tunnels must exist
              mplsFrrOne2OnePlrTunEgrLSRId,  -- a priori
              mplsFrrDetourIndexIndex
         }
      ::= { mplsFrrDetourTable 1 }
   
   MplsFrrDetourEntry ::= SEQUENCE {
         mplsFrrDetourIndexIndex         MplsFrrDetourIndex,
         mplsFrrDetourActive             TruthValue,
         mplsFrrDetourMerging            INTEGER,
         mplsFrrDetourMergedDetourIndex  MplsFrrDetourIndex,
         mplsFrrDetourCreationTime       TimeStamp
   }

   mplsFrrDetourIndexIndex OBJECT-TYPE
      SYNTAX        MplsFrrDetourIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies this detour."
      ::= { mplsFrrDetourEntry 1 }

   mplsFrrDetourActive OBJECT-TYPE
      SYNTAX        TruthValue
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Indicates whether or not the main LSP has switched over to this
        detour LSP. This is only relevant when the mplsFrrDetourRole is
        head(1)."
      ::= { mplsFrrDetourEntry 2 }
   
   mplsFrrDetourMerging OBJECT-TYPE
      SYNTAX        INTEGER { none(0),
                              protectedTunnel(1),
                              detour(2)
                            }
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "This value represents whether or not this detour is merged.



IETF MPLS WG                Expires May 2003                [Page 19]

Internet Draft              MPLS-FRR MIB             November 1, 2002



        This value MUST be set to none(0) if this detour is not merged.
        This value MUST be set to protectedTunnel(1) if this detour is
        merged with the protected tunnel. This value MUST be set to
        detour(2) if this detour is merged with another detour
        protecting the same tunnel."
      ::= { mplsFrrDetourEntry 3 }
   
   mplsFrrDetourMergedDetourIndex OBJECT-TYPE
      SYNTAX        MplsFrrDetourIndex
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "This value represents the detour entry with which this detour
        is merged. This object is only valid when mplsFrrDetourMerging
        is set to detour(2)."
      ::= { mplsFrrDetourEntry 4 }

   mplsFrrDetourCreationTime OBJECT-TYPE
      SYNTAX        TimeStamp
      MAX-ACCESS    read-only
      STATUS        current
      DESCRIPTION
        "Specifies the value of SysUpTime when the detour came into
        existence."
      ::= { mplsFrrDetourEntry 5 }
   
   --
   -- Facility-based FRR-specific Tables
   --
   
   mplsFrrFacRouteDBTable OBJECT-TYPE
       SYNTAX            SEQUENCE OF MplsFrrFacRouteDBEntry
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
           "The mplsFrrDBTable provides information about the fast
           reroute database.  Each entry belongs to an interface,
           protecting backup tunnel and protected tunnel. MPLS
           interfaces defined on this node are protected by backup
           tunnels and are indexed by mplsInterfaceConfIndex. Backup
           tunnels defined to protect the tunnels traversing an
           interface, and are indexed by mplsTunnelIndex. Note that the
           tunnel instance index is not required, since it is implied
           to be 0, which indicates the tunnel head interface for the
           protecting tunnel. The protecting tunnel is defined to exist
           on the PLR in the FRR specification.  Protected tunnels are
           the LSPs that traverse the protected link.  These LSPs are
           uniquely identified by mplsTunnelIndex, mplsTunnelInstance,
           mplsTunnelIngressLSRId, and mplsTunnelEgressLSRId."
       REFERENCE



IETF MPLS WG                Expires May 2003                [Page 20]

Internet Draft              MPLS-FRR MIB             November 1, 2002



           "Srinivansan, C., and A. Viswanathan, T. Nadeau, MPLS Traffic
           Engineering Management Information Base Using SMIv2,
            draft-ietf-mpls-te-mib-06.txt "
   
   ::= { mplsFrrFacObjects 1 }
   
   
   mplsFrrFacRouteDBEntry OBJECT-TYPE
       SYNTAX            MplsFrrFacRouteDBEntry
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
           "An entry in the mplsFrrDBTable represents a single protected
           LSP, protected by a backup tunnel and defined for a specific
           protected interface. Note that for brevity, managers should
           consult the mplsTunnelTable present in the MPLS-TE MIB for
           additional information about the protecting and protected
           tunnels, and the ifEntry in the IF-MIB for the protected
           interface."
       REFERENCE
           "Srinivansan, C., and A. Viswanathan, T. Nadeau, MPLS Label
            Switch Router Management Information Base Using SMIv2,
            draft-ietf-mpls-lsr-mib-07.txt Srinivansan, C., and A.
            Viswanathan, T. Nadeau, MPLS Traffic Engineering Management
            Information Base Using SMIv2, draft-ietf-mpls-te-mib-
            06.txt."
       INDEX { 
               mplsFrrFacRouteProtIfIdx, -- from MPLS-TE MIB
               mplsFrrFacRouteProtTunIdIdx, -- from MPLS-TE MIB

               mplsFrrFacRouteBkupTunIdIdx, -- from MPLS-TE MIB
               mplsFrrFacRouteBkupTunInst,     -- mplsTunnelTable
               mplsFrrFacRouteBkupTunIngrLSRId, -- Tunnels must exist
               mplsFrrFacRouteBkupTunEgrLSRId }  -- a priori
   ::= { mplsFrrFacRouteDBTable 1 }
   
   MplsFrrFacRouteDBEntry ::= SEQUENCE {
       mplsFrrFacRouteProtIfIdx          InterfaceIndex,
       mplsFrrFacRouteProtTunIdIdx       MplsTunnelIndex,
       mplsFrrFacRouteBkupTunIdIdx       MplsTunnelIndex,
       mplsFrrFacRouteBkupTunInst        MplsTunnelInstanceIndex,
       mplsFrrFacRouteBkupTunIngrLSRId   MplsLsrIdentifier,
       mplsFrrFacRouteBkupTunEgrLSRId    MplsLsrIdentifier,
       mplsFrrFacRouteDBNumProtTunOnIf   Gauge32,
       mplsFrrFacRouteDBNumProtTun       Gauge32,
       mplsFrrFacRouteDBProtTunStatus    INTEGER,
       mplsFrrFacRouteDBProtTunResvBw    Unsigned32
   }

   mplsFrrFacRouteProtIfIdx OBJECT-TYPE



IETF MPLS WG                Expires May 2003                [Page 21]

Internet Draft              MPLS-FRR MIB             November 1, 2002



      SYNTAX        InterfaceIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies the interface configured for FRR protection."
     ::= { mplsFrrFacRouteDBEntry 1 }

   mplsFrrFacRouteProtTunIdIdx OBJECT-TYPE
      SYNTAX        MplsTunnelIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies the mplsTunnelEntry primary index for
         the tunnel head interface designated to protect the 
         interface as specified in the mplsFrrFacRouteIfProtIdx
         (and all of the tunnels using this interface)."
      ::= { mplsFrrFacRouteDBEntry 2 }

   mplsFrrFacRouteBkupTunIdIdx OBJECT-TYPE
      SYNTAX        MplsTunnelIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
       "Uniquely identifies an mplsTunnelEntry that is
         being protected by FRR."
      ::= { mplsFrrFacRouteDBEntry 3 }

   mplsFrrFacRouteBkupTunInst OBJECT-TYPE
      SYNTAX        MplsTunnelInstanceIndex
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies an mplsTunnelEntry that is
         being protected by FRR."
      ::= { mplsFrrFacRouteDBEntry 4 }

   mplsFrrFacRouteBkupTunIngrLSRId OBJECT-TYPE
      SYNTAX        MplsLsrIdentifier
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies an mplsTunnelEntry that is
         being protected by FRR."
      REFERENCE
        "1. RSVP-TE: Extensions to RSVP for LSP Tunnels,
          Awduche et al, RFC 3209, December 2001
         2. Constraint-Based LSP Setup using LDP, Jamoussi
          (Editor), RFC 3212, January 2002"
      ::= { mplsFrrFacRouteDBEntry 5 }




IETF MPLS WG                Expires May 2003                [Page 22]

Internet Draft              MPLS-FRR MIB             November 1, 2002



   mplsFrrFacRouteBkupTunEgrLSRId  OBJECT-TYPE
      SYNTAX        MplsLsrIdentifier
      MAX-ACCESS    not-accessible
      STATUS        current
      DESCRIPTION
        "Uniquely identifies an mplsTunnelEntry that is
         being protected by FRR."
      ::= { mplsFrrFacRouteDBEntry 6 }
   
   mplsFrrFacRouteDBNumProtTunOnIf OBJECT-TYPE
       SYNTAX            Gauge32
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "The number of backup tunnels protecting the specified
           interface."
      ::= { mplsFrrFacRouteDBEntry 7 }
   
   mplsFrrFacRouteDBNumProtTun OBJECT-TYPE
       SYNTAX            Gauge32
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "The number of tunnels protected on this interface."
   ::= { mplsFrrFacRouteDBEntry 8 }
   
   mplsFrrFacRouteDBProtTunStatus OBJECT-TYPE
       SYNTAX            INTEGER {
                             active(1),
                             ready(2),
                             partial(3)
                         }
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "Specifies the state of the protected tunnel.
            
            active  This tunnel's label has been placed in the
                     LFIB and is ready to be applied to incoming
                     packets.
                     
            ready -  This tunnel's label entry has been created but is
                     not yet in the LFIB.
                     
            partial - This tunnel's label entry as not been fully
                      created."
   ::= { mplsFrrFacRouteDBEntry 9 }
   
   mplsFrrFacRouteDBProtTunResvBw  OBJECT-TYPE
       SYNTAX            Unsigned32



IETF MPLS WG                Expires May 2003                [Page 23]

Internet Draft              MPLS-FRR MIB             November 1, 2002



       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
           "Specifies the amount of bandwidth in megabytes per second
            that is actually reserved by the protection tunnel for
            facility backup. This value is repeated here from the MPLS-
            TE MIB because the tunnel entry will reveal the bandwidth
            reserved by the signaling protocol, which is typically 0
            for backup tunnels so as to not over-book bandwidth.
            However, internal reservations are typically made on the
            PLR, thus this value should be revealed here."
    ::= { mplsFrrFacRouteDBEntry 10 }

   -- Notifications

   -- Ed Note: Currently these notifications only apply to 
   --          Facility-based FRR. Do we need to define 
   --          additional notifications for One2One?
   
   mplsFrrProtected NOTIFICATION-TYPE
       OBJECTS { mplsFrrFacRouteDBNumProtTunOnIf,
                 mplsFrrFacRouteDBNumProtTun,
                 mplsFrrFacRouteDBProtTunStatus,
                 mplsFrrFacRouteDBProtTunResvBw
               }
   STATUS      current
   DESCRIPTION
       "This notification is generated when a tunnel running over an
        interface as specified in the mplsFrrConstTable is initially
        protected by the backup tunnel also specified in the
        mplsFrrConstTable. This notification should not be generated
        for each subsequent tunnel that is backed up by the FRR feature
        on this LSR, as this may result in potential scaling issues
        with regard to LSR performance and network loading. Note also
        that notifications MUST be generated in accordance with the
        mplsFrrNotifMaxRate."
       ::= { mplsFrrNotif 1 }
   
   mplsFrrUnProtected NOTIFICATION-TYPE
       OBJECTS { mplsFrrFacRouteDBNumProtTunOnIf,
                 mplsFrrFacRouteDBNumProtTun,
                 mplsFrrFacRouteDBProtTunStatus,
                 mplsFrrFacRouteDBProtTunResvBw
               }
   STATUS      current
   DESCRIPTION
       "This notification is generated when the final tunnel that is
        being protected by a backup tunnel as specified in the
        mplsFrrConstTable is restored to normal operation. This
        notification should not be generated for each restored tunnel,



IETF MPLS WG                Expires May 2003                [Page 24]

Internet Draft              MPLS-FRR MIB             November 1, 2002



        as this may result in potential scaling issues with regard to
        LSR performance and network loading. Note also that 
        notifications MUST be generated in accordance with the
        mplsFrrNotifMaxRate."
       ::= { mplsFrrNotif 2 }
   

   -- Module Conformance Statement
   
   mplsFrrGroups
      OBJECT IDENTIFIER ::= {mplsFrrConformance 1 }
   
   mplsFrrCompliances
      OBJECT IDENTIFIER ::= {mplsFrrConformance 2 }
   
   mplsFrrModuleCompliance MODULE-COMPLIANCE
      STATUS current
      DESCRIPTION
        "Compliance statements for agents that support the MPLS FRR
        MIB."
      MODULE
          MANDATORY-GROUPS {
                            mplsFrrScalarGroup,
                            mplsFrrConstGroup,
                            mplsFrrLogGroup
                           }
   
      GROUP mplsFrrOne2OnePLRDetourGroup
      DESCRIPTION
          "This group is mandatory for devices which support
           the one-to-one FRR mechanism, and is optional for
           those which do not."

      GROUP mplsFrrOne2OnePlrGroup
      DESCRIPTION
          "This group is mandatory for devices which support
           the one-to-one FRR mechanism, and is optional for
           those which do not."

      GROUP mplsFrrFacRouteDBGroup
      DESCRIPTION
          "This group is mandatory for devices which support
           the Facility Backup FRR mechanism, and is optional 
           for those which do not."

      GROUP mplsFrrNotifGroup     
      DESCRIPTION
          "This group is mandatory for devices which support
           the Facility Backup FRR mechanism, and is optional 
           for those which do not."



IETF MPLS WG                Expires May 2003                [Page 25]

Internet Draft              MPLS-FRR MIB             November 1, 2002




      -- mplsFrrConstTable

      OBJECT        mplsFrrConstProtectionMethod
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstProtectionType
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstSetupPrio
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."

      OBJECT        mplsFrrConstHoldingPrio
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstInclAnyAffinity
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstInclAllAffinity
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstExclAllAffinity
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstHopLimit
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstBandwidth
      MIN-ACCESS    read-only
      DESCRIPTION
        "Write access is not required."
   
      OBJECT        mplsFrrConstRowStatus
      MIN-ACCESS    read-only



IETF MPLS WG                Expires May 2003                [Page 26]

Internet Draft              MPLS-FRR MIB             November 1, 2002



      DESCRIPTION
        "Write access is not required."
        
      ::= { mplsFrrCompliances 1 }

   -- Units of conformance
   
   mplsFrrScalarGroup OBJECT-GROUP
      OBJECTS {
               mplsFrrDetourIncoming,
               mplsFrrDetourOutgoing,
               mplsFrrDetourOriginating,
               mplsFrrSwitchover,
               mplsFrrConfIfs,
               mplsFrrActProtectedIfs,
               mplsFrrConfProtectedTuns,
               mplsFrrActProtectedTuns,
               mplsFrrActivelyProtectedLSPs,
               mplsFrrConstProtectionMethod,
               mplsFrrNotifsEnabled,
               mplsFrrLogTableMaxEntries,
               mplsFrrLogTableCurrEntries,
               mplsFrrNotifMaxRate
              }
      STATUS        current
      DESCRIPTION
        "Objects that are required to gather fast reroute statistics."
      ::= { mplsFrrGroups 1 }
   
   mplsFrrConstGroup OBJECT-GROUP
      OBJECTS {
         mplsFrrConstProtectionMethod,
         mplsFrrConstProtectionType,
         mplsFrrConstSetupPrio,
         mplsFrrConstHoldingPrio,
         mplsFrrConstInclAnyAffinity,
         mplsFrrConstInclAllAffinity,
         mplsFrrConstExclAllAffinity,
         mplsFrrConstHopLimit,
         mplsFrrConstBandwidth,
         mplsFrrConstRowStatus
      }
      STATUS        current
      DESCRIPTION
        "Objects that are required to configure fast reroute constraints
        at the ingress LSR of the tunnel that requires fast reroute
        service."
      ::= { mplsFrrGroups 2 }

   mplsFrrOne2OnePLRDetourGroup OBJECT-GROUP



IETF MPLS WG                Expires May 2003                [Page 27]

Internet Draft              MPLS-FRR MIB             November 1, 2002



    OBJECTS {
             mplsFrrDetourActive,
             mplsFrrDetourMerging,
             mplsFrrDetourMergedDetourIndex,
             mplsFrrDetourCreationTime
            }
    STATUS        current
    DESCRIPTION
        "Objects that are required to present the detour LSP information
        at the detour ingress, transit and egress LSRs."
    ::= { mplsFrrGroups 3 }
   
   mplsFrrLogGroup OBJECT-GROUP
   OBJECTS { mplsFrrLogEventTime,
             mplsFrrLogInterface,
             mplsFrrLogEventType,
             mplsFrrLogEventDuration,
             mplsFrrLogEventReasonString
           }
   STATUS        current
   DESCRIPTION
      "Objects that are required to represent FRR logging information
      at the detour ingress, transit and egress LSRs."
   ::= { mplsFrrGroups 4 }

   mplsFrrOne2OnePlrGroup OBJECT-GROUP
     OBJECTS { 
         mplsFrrOne2OnePlrSenderAddrType, 
         mplsFrrOne2OnePlrSenderAddr,     
         mplsFrrOne2OnePlrAvoidNAddrType, 
         mplsFrrOne2OnePlrAvoidNAddr,     
         mplsFrrOne2OnePlrDetourIndex    
        }
   STATUS        current
   DESCRIPTION
      "Objects that are required to represent the FRR 
       One-2-One PLR information."
   ::= { mplsFrrGroups 5 }

   mplsFrrFacRouteDBGroup OBJECT-GROUP
     OBJECTS { mplsFrrFacRouteDBNumProtTunOnIf,
               mplsFrrFacRouteDBNumProtTun,
               mplsFrrFacRouteDBProtTunStatus,
               mplsFrrFacRouteDBProtTunResvBw
       }
   STATUS        current
   DESCRIPTION
      "Objects that are required to represent the FRR 
       Facility Route Database information."
   ::= { mplsFrrGroups 6 }



IETF MPLS WG                Expires May 2003                [Page 28]

Internet Draft              MPLS-FRR MIB             November 1, 2002




   mplsFrrNotifGroup NOTIFICATION-GROUP
   NOTIFICATIONS {
                   mplsFrrProtected,
                   mplsFrrUnProtected
                 }
   STATUS        current
   DESCRIPTION
        "Objects that are required to represent FRR notifications."
   ::= { mplsFrrGroups 7 }

   END


7. Security Considerations
   
   This MIB does not pose any additional security issues compared with
   [3] and [4].
   
8. References

   [1]Bradner, S., "The Internet Standards Process -- Revision 3", BCP
      9, RFC 2026, October 1996.

   [2]Bradner, S., "Key words for use in RFCs to Indicate Requirement
      Levels", BCP 14, RFC 2119, March 1997.

   [3]Srinivasan, C., Viswanathan, A. and T. Nadeau, "Multiprotocol
      Label Switching (MPLS) Traffic Engineering Management Information
      Base", Internet Draft <draft-ietf-mpls-te-mib-08.txt>, January
      2002. Work in progress.

   [4]Srinivasan, C., Viswanathan, A. and T. Nadeau, "MPLS Label Switch
      Router Management Information Base ", Internet Draft <draft-ietf-
      mpls-lsr-mib-08.txt>, January 2002. Work in progress.

   [5]Pan, P., Gan, D., Swallow, G., Vasseur, J.Ph., Cooper, D., Atlas,
      A., Jork, M., Fast Reroute Techniques in RSVP-TE, draft-ietf-mpls-
      rsvp-lsp-fastreroute-00.txt, January 2002. Work in progress.

9. Acknowledgments
   
   We would like to thank Alia Atlas, Yeong Tai and Walter Vanhimbeeck,
   Mike Piecuch and Adrien Grise for the helpful discussions and
   contributions to this document.
   
10. Intellectual Property Considerations
   
   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to per-



IETF MPLS WG                Expires May 2003                [Page 29]

Internet Draft              MPLS-FRR MIB             November 1, 2002



   tain to the implementation or use of the technology described in this
   document or the extent to which any license under such rights might
   or might not be available; neither does it represent that it has made
   any effort to identify any such rights.  Information on the IETF's
   procedures with respect to rights in standards-track and standards-
   related documentation can be found in BCP-11.  Copies of claims of
   rights made available for publication and any assurances of licenses
   to be made available, or the result of an attempt made to obtain a
   general license or permission for the use of such proprietary rights
   by implementers or users of this specification can be obtained from
   the IETF Secretariat.
   
   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.
   
11. AuthorsÆ Addresses
   
   Riza Cetin
   Alcatel
   Francis Wellesplein 1
   B-2018 Antwerp, Belgium
   Email: riza.cetin@alcatel.be
   
   Stefaan De Cnodder
   Alcatel
   Francis Wellesplein 1
   B-2018 Antwerp, Belgium
   Email: stefaan.de_cnodder@alcatel.be
   
   Der-Hwa Gan
   Juniper Networks, Inc.
   1194 N. Mathilda Avenue
   Sunnyvale, CA 94089
   Email: dhg@juniper.net
   
   Thomas D. Nadeau
   Cisco Systems, Inc.
   300 Apollo Drive
   Chelmsford, MA 01824
   Email: tnadeau@cisco.com
   
12. Full Copyright Statement

   Copyright (C) The Internet Society (2001). All Rights Reserved.
   
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it



IETF MPLS WG                Expires May 2003                [Page 30]

Internet Draft              MPLS-FRR MIB             November 1, 2002



   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.
   
   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.
   
   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
































IETF MPLS WG                Expires May 2003                [Page 31]

