

 Internet Engineering Task Force                                 V.Bajaj
                                                 Hughes Software Systems
                                                                  K.Laha
 Internet Draft 
 Document: draft-manyfolks-megaco-caspackage-                Bill Foster
 01.txt 
 Category: Standards Track                                 Cisco Systems
                                                          Kevin Boyle II
                                                          Wendy Bothwell
                                                         Nortel Networks
                                                           Michael Brown
                                                          September 2001
  
  
                     Megaco/H.248 Basic CAS Packages 
  
 Status of this Memo 
  
 This document is an Internet-Draft and is in full conformance with all 
 provisions of Section 10 of RFC2026 [1].  
     
    Internet-Drafts are working documents of the Internet Engineering 
    Task Force (IETF), its areas, and its working groups. Note that 
    other groups may also distribute working documents as Internet-
    Drafts. Internet-Drafts are draft documents valid for a maximum of 
    six months and may be updated, replaced, or obsoleted by other 
    documents at any time. It is inappropriate to use Internet- Drafts 
    as reference material or to cite them other than as "work in 
    progress."  
     
    The list of current Internet-Drafts can be accessed at 
    http://www.ietf.org/ietf/1id-abstracts.txt  
    The list of Internet-Draft Shadow Directories can be accessed at 
    http://www.ietf.org/shadow.html. 
  
 1. Abstract 
     
    This document is work in progress and defines Basic Channel 
    Associated Signalling (CAS) and R1 packages and supplemental CAS 
    packages in association with the Megaco/H.248 Protocol that can be 
    used to control a Media Gateway (MG) from an external controller, 
    called a Media Gateway controller (MGC). It is intended to satisfy 
    the requirements in section 12 of the Megaco/H.248 requirement 
    document [2]. 
     
 2. Conventions used in this document 
     
    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
    "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in 
    this document are to be interpreted as described in RFC-2119 [3]. 
     
     

   
 Manyfolks       Standards Track -- Expires March 2002                1 
                     Megaco/H.248 Basic CAS Package      September 2001  

 3. Document Organization 
     
    The subsequent portion of this draft is organized into the 
    following major sections: 
     
    * Introduction 
    * Assumptions and Partitioning 
    * Description of the Basic CAS package 
    * Description of the Robbed Bit Signalling package 
    * Description of the Operator Services and Emergency Services 
    package 
    * Description of the Operator Services Extension package 
    * References 
    * Author's Addresses 
    * Appendix showing call flows 
     
     
 4. Introduction 
     
    The Basic CAS (Channel Associated Signalling) Package can be used 
    for single stage dialing applications such as interconnect to PBX's 
    using either immediate start, delay start or wink start signalling 
    with either MF, DTMF or dial-pulse (DP) digits used for addressing. 
    It can also be used for inter-exchange signalling. This includes R1 
    as well as Feature Group D (FGD) MF signalling single stage dialing 
    (FGD terminating protocol). It also provides the basis for multi-
    stage dialing applications such as FGD Operator Services and inter-
    exchange signalling [4]. 
     
    In addition, the package can be applied to analog trunking 
    applications such as: 
     
    E&M analog trunks 
    R1 analog trunks  
     
    The RBS (Robbed Bit Signalling) Package, Operator Services and 
    Emergency Services Package and the Operator Services Extension 
    Package can be used to provide functionality required in addition 
    to the Basic CAS Package, such as operator and emergency services 
    capabilities or multi-stage Feature Group D inter-exchange 
    signalling. 
  
     
 5. Assumptions and Partitioning 
     
    The following approach was used in providing functionality in the 
    Basic CAS Package: 
     
    The package provides some basic supervisory signalling 
    It provide an abstract event for "start-dialing"/"proceed-to-send" 
    which is non-specific to the type of CAS. 

   
 Manyfolks       Standards Track -- Expires March 2002                2 
                     Megaco/H.248 Basic CAS Package      September 2001  

    Used in conjunction with MF and DTMF detection and generation 
    packages, it provides the ability to do digit collection and 
    outpulsing of both MF and DTMF digits. 
    It provides error event reporting. 
  
    For some applications, the Basic CAS package provides all of the 
    functionality needed to satisfy the interface. In other cases (e.g. 
    operator services), additional supplementary packages may be needed 
    to meet the complete interface requirements. This internet draft 
    includes three supplementary packages which may be used to provide 
    additional functionality required by some interfaces: 
     
    The Robbed Bit Signalling package provides basic RBS supervisory 
    signalling that is required in addition to the Basic CAS package. 
     
    The Operator Services and Emergency Services package provides 
    supervisory signalling that is specific to both Operator Services 
    and Emergency Services. 
     
    The Operator Services Extension package provides supervisory 
    signalling that is specific to Operator Services and is required in 
    addition to the Operator Services and Emergency Services package.  
     
     
 6. Basic CAS Package Description 
     
 6.1 Package 
     
    Package Name: Basic CAS Package 
    Package ID: bcas (To be allocated through IANA) 
    Description: This package provides basic event and signal handling 
          for terminations that support CAS Signalling. 
    Version: 1 
    Extends: None 
     
 6.2 Properties 
  
    The MG has a provisioned value for each of the following 
    properties. The MG uses the provisioned value by default. Depending 
    on the CAS signalling protocols, it may be necessary for the MGC to 
    change these values for a call.  
     
     
    Property Name: seize signal validation time 
    PropertyID: sztim (0x0001) 
    Description: Specifies the minimum duration for which the "seizing" 
          signal must persist for the same to be reported as an event. 
    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In: TerminationState 
    Characteristics: Read/Write 

   
 Manyfolks       Standards Track -- Expires March 2002                3 
                     Megaco/H.248 Basic CAS Package      September 2001  

     
    Property Name: start dialing timeout 
    PropertyID: sdto (0x0002) 
    Description: Specifies the timer for the receipt of the "start 
          dialing" signal. A value of 0 indicates a timer should not be 
          applied. 
    Type: integer 
    Possible Values: 0 and up in milliseconds. 
    Defined In: TerminationState 
    Characteristics: Read/Write 
     
    Property Name: answer timeout 
    PropertyID: ansto (0x0003) 
    Description: Specifies the timer for the receipt of the "answer" 
          signal. A value of 0 indicates a timer should not be applied. 
    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In: TerminationState 
    Characteristics: Read/Write 
     
    Property Name: answer signal validation time 
    PropertyID: anstim (0x0004) 
    Description: Specifies the minimum duration for which the "answer" 
          signal must persist for the same to be reported as an event. 
    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In: TerminationState 
    Characteristics: Read/Write 
     
    Property Name: clear signal validation time 
    PropertyID: clrtim (0x0005) 
    Description: Specifies the minimum duration for which the gateway, 
          if behaving as an incoming end, validates the "clear-forward" 
          signal (or on-hook). 
    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In: TerminationState 
    Characteristics: Read/Write 
     
 6.3 Events 
     
 6.3.1  
    Event Name: Seizure 
    EventID: sz (0x0001) 
    Description: The Seizure event shall be reported when an incoming 
          "Seizing" signal occurs on the termination. The event is 
          reported by the MG if either the timed transition to this 
          line signal is detected or the line signal already exists. 
          The line signal condition against which the "Seizing" signal 
          is verified is provisioned in the MG. 
    EventsDescriptor Parameters:  

   
 Manyfolks       Standards Track -- Expires March 2002                4 
                     Megaco/H.248 Basic CAS Package      September 2001  

        none defined for this package  
    ObservedEventsDescriptor Parameters: 
        none defined by this package 
     
  
         
 6.3.2 
    Event Name: Start Dialing 
    EventID: sd (0x0002) 
    Description: The "Start Dialing" event indicates that out-pulsing 
          should begin. For R1 interfaces, the event is reported when 
          the "start dialing"/"proceed to send" signal occurs. For wink 
          start trunks, the "Start Dialing" event is reported when the 
          trailing edge of the wink-start signal occurs. For immediate 
          start trunks, the "Start Dialing" event is provided by the 
          media gateway as an immediate response to the request for 
          that event from the MGC.  
    EventsDescriptor Parameters: 
        none defined for this package 
    ObservedEventsDescriptor Parameters: 
        none defined by this package 
         
 6.3.3 
    Event Name: Answer 
    EventID: ans (0x0003) 
    Description: The Answer event shall be reported when an incoming 
          line signal "Answer" occurs on the termination. The event is 
          reported by the MG if either the timed transition to this 
          line signal is detected or the line signal already exists. 
          The line signal condition against which the "Answer" signal 
          is verified is provisioned in the MG. 
    EventsDescriptor Parameters: 
        none defined for this package 
    ObservedEventsDescriptor Parameters: 
        none defined by this package 
          
     
    6.3.4 
    Event Name: Clear Forward 
    EventID: cf (0x0004) 
    Description: This event applies to an incoming interface and is 
          reported when a "Clear" line signal occurs on the 
          termination. For an R1 interface, the Clear Forward event 
          shall be reported when a "Clear-forward" line signal occurs 
          on the termination. For robbed bit signalling digital 
          interfaces, it corresponds to an "on-hook" indication on the 
          termination. The event is reported by the MG if either the 
          timed transition to this line signal is detected or the line 
          signal already exists. The condition against which the signal 
          is verified is provisioned in the MG. The parameter "clear 
          guard timing" can optionally be included.   

   
 Manyfolks       Standards Track -- Expires March 2002                5 
                     Megaco/H.248 Basic CAS Package      September 2001  

    EventsDescriptor Parameters:  
         Parameter Name: Clear Guard Timing 
         ParameterID: clgdt (0x0001) 
         Description: Specifies whether the MG shall start a clear 
         guard timer for the receipt of the "clear forward" signal. The 
         timer value is provisioned on the MG. If the clgdt parameter 
         is not provided, the MG does not perform timing by default.  
         Type: boolean 
         Possible values:  
         True when the clear guard timing is requested and 
         false when the clear guard timing is turned off. 
    ObservedEventsDescriptor Parameters: 
         none defined by this package 
     
    Event Name: Clear Back 
    EventID: cb (0x0005) 
    Description: This event applies to an outgoing interface and is 
          reported when a "Clear" line signal occurs on the 
          termination. For an R1 interface, the Clear Back event shall 
          be reported when a "Clear-back" line signal occurs on the 
          termination. For robbed bit signalling digital interfaces, it 
          corresponds to an "on-hook" indication on the termination. 
          The event is reported by the MG if either the timed 
          transition to this line signal is detected or the line signal 
          already exists. The condition against which the signal is 
          verified is provisioned in the MG. The parameter "clear guard 
          timing" can optionally be included. 
    EventsDescriptor Parameters:  
         Parameter Name: Clear Guard Timing 
         ParameterID: clgdt (0x0001) 
         Description: Specifies whether the MG shall start a clear 
         guard timer for the receipt of the "clear back" signal. The 
         timer value is provisioned on the MG. If the clgdt parameter 
         is not provided, the MG does not perform timing by default.  
         Type: boolean 
         Possible values:  
         True when the clear guard timing is requested and 
         false when the clear guard timing is turned off. 
    ObservedEventsDescriptor Parameters: 
         none defined by this package 
     
     
 6.3.5 
    Event Name: CAS Failure 
    EventID: casf (0x0006) 
    Description: Reports general CAS failures associated with this 
          package. 
    EventsDescriptor Parameters: 
         none defined for this package  
    ObservedEventsDescriptor Parameters: 
         none defined by this package 

   
 Manyfolks       Standards Track -- Expires March 2002                6 
                     Megaco/H.248 Basic CAS Package      September 2001  

  
     
        Parameter Name: Error code 
        ParameterID: ec (0x0001) 
        Description: describes the failure reason 
        Type: enumeration 
        Possible Values:  
          "ULS"  (0x0001) Unexpected line signal 
          "LTO"  (0x0002) Line signal timeout 
          "RTO"  (0x0003) Register signal timeout 
          "SME"  (0x0004) Protocol State machine malfunction 
          "SDO"  (0x0005) Start Dialing Timeout 
          "ANO"  (0x0006) Answer Timeout 
          "ADR"  (0x0007) Error during outpulsing 
          "CLTO" (0x0008) Clear Guard Timeout 
     
 6.4 Signals 
     
     
 6.4.1  
    Signal Name: Seizure 
    SignalID: sz (0x0001) 
    Description: Applies a "Seizing" signal on the termination. The 
          signal that is actually sent on the physical termination is 
          provisioned in the MG. The Seizure signal is not terminated 
          by the MG when an event is detected. 
    Signal Type: (BR) Brief  
    Duration: Not applicable 
    Additional Parameters: None 
  
 6.4.2 
    Signal Name: Answer 
    SignalID: ans (0x0002) 
    Description: Applies an "Answer" signal on the termination. The 
          signal that is actually sent on the physical termination is 
          provisioned in the MG. The Answer signal is not terminated by 
          the MG when an event is detected. 
    Signal Type: (BR) Brief  
    Duration: Not applicable 
    Additional Parameters: None 
     
    6.4.3 
    Signal Name: Clear Forward 
    SignalID: cf (0x0003) 
    Description: This signal applies to an outgoing interface and is
          used to clear a call in the forward direction. The signal 
          type that is actually sent on the physical termination is 
          provisioned in the MG. The Clear Forward signal is not 
          terminated by the MG when an event is detected. 
    Signal Type: (BR) Brief 
    Duration: Provisioned 

   
 Manyfolks       Standards Track -- Expires March 2002                7 
                     Megaco/H.248 Basic CAS Package      September 2001  

    Additional Parameters: None 
     
 6.4.4 
     
    Signal Name: Clear Back 
    SignalID: cb (0x0004) 
    Description: This signal applies to an incoming interface and is 
          used to clear a call in the backward direction. The signal 
          type that is actually sent on the physical termination is 
          provisioned in the MG. The Clear Back signal is not 
          terminated by the MG when an event is detected. 
    Signal Type: (BR) Brief 
    Duration: Provisioned 
    Additional Parameters: None 
         
 6.4.5 
    Signal Name: Address 
    SignalID: addr (0x0005) 
    Description: Applies the address signals in the form of either 
          DTMF, dial-pulse or MF-tones on the trunk. The actual 
          frequency, cadence, duration and amplitude values for the 
          multi-frequency tones that convey the address information are 
          provisioned in the MG. 
    Signal Type: (BR) Brief 
    Duration: Provisioned 
    Additional Parameters:  
        Parameter Name: Digit String 
        ParameterID: ds (0x0001) 
        Description: The digit string that needs to be sent as address 
          signals. 
        Type: string of digits. 
        Possible Values: a sequence of the characters "0" through "9" 
          as well as "A" through "H" ("A" through "H" used for MF 
          signalling - refer to the symbols defined for the digit map 
          in the MF Tone Detection package). 
        Parameter Name: Address Delay 
        ParameterID: ad (0x0002) 
        Description: Specifies a timed delay that is applied prior to 
          signalling the address. The address delay is optional. If the 
          address delay parameter is not provided, the MG uses the 
          provisioned value by default.  
        Type: integer 
        Possible Values: 0 and up in milliseconds 
  
 6.5 Statistics 
    none  
     
 6.6 Procedures 
     
 6.6.1 Glare Procedures 
     

   
 Manyfolks       Standards Track -- Expires March 2002                8 
                     Megaco/H.248 Basic CAS Package      September 2001  

    Gateways may have a configurable glare information element on a 
    per-DS0 basis that can be set to indicate whether the gateway is 
    the controlling or non-controlling "switch".  
     
    In the case of PBX interconnect, PBXs are either pre-configured or 
    can be configured to behave as non-controlling switches. In this 
    case if they see an off-hook that exceeds the allowable wink 
    length, they will attach a receiver, go on-hook, and await digits 
    for a new call. The PBX will in addition retry its original call on 
    another trunk. 
     
    In the case where the DS0 is configured for the non-controlling 
    switch, the gateway will indicate a glare occurrence by reporting a 
    seizure event to the MGC. Upon receipt of the seizure event, the 
    MGC begins procedures to release the outgoing call attempt and 
    begins procedures to process the incoming call attempt. 
     
    If the gateway is a controlling switch, when glare is detected, the 
    gateway will wait for a timeout value (default value of 4 seconds) 
    until the incoming off-hook changes to an on-hook state at which 
    time it will start out-pulsing in the normal manner. If the timeout 
    occurs before the state change to on-hook occurs, the far end has 
    refused to back down. This may occur if both ends of the interface 
    are provisioned as the controlling switch. In this case, when the 
    timeout occurs, the gateway reports the seizure event to the MGC. 
    The MGC, upon receipt of the notify with seizure event, begins 
    procedures to back down on the outgoing call attempt and begins 
    procedures to process the incoming call attempt.  
     
    It is possible for internal glare to occur between the MGC and the 
    gateway. With internal glare, the gateway detects a seizure event 
    on the DS0, signals a start dial and reports the seizure event to 
    the MGC. At the same time the gateway reports the seizure event to 
    the MGC, the MGC sends a request to the gateway to signal a seizure 
    on the DS0. In this case, the start dial has already been signaled 
    by the gateway in response to the incoming seizure. Therefore the 
    MGC must back down on the outgoing call attempt. The gateway, upon 
    receipt of the modify request to signal a seizure, recognizes 
    internal glare has occurred and takes no action on the modify 
    request. The MGC, upon receipt of the notify with seizure event, 
    recognizes internal glare has occurred and begins procedures to 
    back down on the outgoing call attempt and begins procedures to 
    process the incoming call attempt. 
     
 6.6.2 Timestamp Procedures 
     
    Inclusion of a timestamp in the ObservedEvents descriptor is 
    mandatory for the basic CAS package. The timestamp reflects the 
    detection time for the event and may be used by services (e.g. 
    automatic message accounting) on the MGC. 
     

   
 Manyfolks       Standards Track -- Expires March 2002                9 
                     Megaco/H.248 Basic CAS Package      September 2001  

 6.6.3 Signal Procedures 
    The Seizure, Answer, Clear Forward and Clear Back signals shall not 
    be terminated by the MG when an event is detected. If one of these 
    signals is active when the MG detects an event, the MG shall keep 
    the signal active and report the event. 
     
 6.6.4 Error Handling 
    A line signal should always be present on a CAS interface. If the 
    MGC sets a SignalsDescriptor that would result in the removal of a 
    line signal without the specification of a new line signal, such as 
    an empty SignalsDescriptor, the execution of the command fails. The 
    MG SHALL include error code 458 "Illegal action, line signal cannot 
    be stopped" in its response. 
     
 6.7 Error Code 
     
    This package defines a new error code: 
         458 - Illegal action, line signal cannot be stopped 
    The procedure for use with this error code is given in section 
    6.6.4. 
  
 7. Robbed Bit Signalling Package 
     
 7.1 Package 
     
    PackageID: rbs (To be allocated through IANA) 
    Description: This package defines events and signals that are 
          specific to robbed bit signalling and are required in 
          addition to the base CAS functionality provided by the bcas 
          package.  
    Version: 1 
    Extends: None 
     
 7.2 Properties 
  
    The MG has a provisioned value for each of the following 
    properties. The MG uses the provisioned value by default. Depending 
    on the CAS signalling protocols, it may be necessary for the MGC to 
    change these values for a call. 
  
    Property Name: Pulse Generation Duration 
    PropertyID: psgen (0x0001) 
    Description: Specifies the duration for a pulse signal.  
    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In:  TerminationState 
    Characteristics: Read/Write 
  
    Property Name: Minimum Pulse Detection Duration 
    PropertyID: minpsdet (0x0002) 
    Description: Specifies the minimum duration for detecting a pulse. 

   
 Manyfolks       Standards Track -- Expires March 2002               10 
                     Megaco/H.248 Basic CAS Package      September 2001  

    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In: TerminationState 
    Characteristics: Read/Write 
     
    Property Name: Maximum Pulse Detection Duration 
    PropertyID: maxpsdet 
    Description: Specifies the maximum duration for detecting a pulse. 
    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In: TerminationState 
    Characteristics: Read/Write   
     
     
 7.3 Events 
  
 7.3.1 
     
    Event Name: Pulse Off 
    EventID: psoff (0x0001) 
    Description: The MG detects and reports a timed transition from on-
          hook to off-hook (leading edge) to on-hook (trailing edge). 
          The parameter "pulse timeout" can be optionally included to 
          specify a timeout for the receipt of the pulse. The default 
          value for the timer is provisioned in the MG. The minimum and 
          maximum duration of the pulse are defined by the Minimum 
          Pulse Detection Duration and Maximum Pulse Detection Duration 
          properties respectively. 
    EventsDescriptor Parameters: 
        Parameter Name: Pulse Timeout 
        ParameterID: psto (0x0001) 
        Description: Specifies the timer for the receipt of the pulse. 
        A value of 0 indicates a timer should not be applied. 
        Type: integer 
        Possible values: 0 and up in milliseconds 
    ObservedEventsDescriptor Parameters: None 
     
 7.3.2 
    Event Name: Pulse On 
    EventID: pson (0x0002) 
    Description: The MG detects and reports a timed transition from 
          off-hook to on-hook (leading edge) to off-hook (trailing 
          edge). The parameter "pulse timeout" can be optionally 
          included to specify a timeout for the receipt of the pulse. 
          The default value for the timer is provisioned in the MG. The 
          minimum and maximum duration of the pulse are defined by the 
          Minimum Pulse Detection Duration and Maximum Pulse Detection 
          Duration properties respectively. 
    EventsDescriptor Parameters: 
         Parameter Name: Pulse Timeout 
         ParameterID: psto (0x0001) 

   
 Manyfolks       Standards Track -- Expires March 2002               11 
                     Megaco/H.248 Basic CAS Package      September 2001  

         Description: Specifies the timer for the receipt of the pulse. 
         A value of 0 indicates a timer should not be applied. 
         Type: integer 
         Possible values: 0 and up in milliseconds 
    ObservedEventsDescriptor Parameters: None 
     
  
 7.3.3 
    Event Name: RBS Failure 
    EventID: rbsfail (0x0003) 
    Description: Reports a failure condition when an rbs failure 
          occurs.  
    EventsDescriptor Parameters: None. 
    ObservedEventsDescriptor Parameters: 
         Parameter Name: Error Code 
         ParameterID: ec (0x0001) 
         Description: Describes the failure reason 
         Type: enumeration 
         Possible Values: 
                 "psto"  (0x0001) Timeout waiting for a pulse event 
  
 7.4 Signals 
     
 7.4.1 
    Signal Name: Pulse Off-hook 
    SignalID: psoff (0x0001) 
    Description: The MG signals a timed transition from on-hook to off-
          hook (leading edge) to on-hook (trailing edge). 
    Signal Type: Brief 
    Duration: Defined by Pulse Generation Duration property. 
    Additional Parameters: None 
     
 7.4.2 
    Signal Name: Pulse On-hook 
    SignalID: pson (0x0002) 
    Description: The MG signals a timed transition from off-hook to on-
          hook (leading edge) to off-hook (trailing edge). 
    Signal Type: Brief 
    Duration: Defined by Pulse Generation Duration property. 
    Additional Parameters: None 
     
  
 7.5 Statistics 
    None. 
     
 7.6 Procedures 
     
    7.6.1 Timestamp Procedures 
     
    Inclusion of a timestamp in the ObservedEvents descriptor is 
    mandatory for the RBS package. The timestamp reflects the detection 

   
 Manyfolks       Standards Track -- Expires March 2002               12 
                     Megaco/H.248 Basic CAS Package      September 2001  

    time for the event and may be used by services (e.g. automatic 
    message accounting) on the MGC. 
     
     
 8. Operator Services and Emergency Services Package 
     
 8.1 Package 
     
    PackageID: oses (To be allocated through IANA) 
    Description: This package defines CAS events and signals that are 
    required for both Operator Services and Emergency Services.  
    Version: 1 
    Extends: None 
     
 8.2 Properties 
     
    None. 
     
     
 8.3 Events 
     
 8.3.1 
    Event Name: Ringback 
    EventID: rgbk (0x0001) 
    Description: The ringback event is reported when a ringback signal 
          is detected. The type of ringback signal and characteristics 
          of the ringback signal are provisioned in the MG. 
    EventsDescriptor Parameters: None 
    ObservedEventsDescriptor Parameters: None 
     
 8.4 Signals 
     
 8.4.1 
    Signal Name: Ringback 
    SignalID: rgbk (0x0001) 
    Description: Applies a ringback signal on the termination. The type 
          of ringback signal and characteristics of the ringback signal 
          are provisioned on the MG. 
    Signal Type: Brief 
    Duration: Provisioned 
    Additional Parameters: None 
     
     
     
 8.5 Statistics 
    None. 
     
 8.6 Procedures 
    None. 
     
     

   
 Manyfolks       Standards Track -- Expires March 2002               13 
                     Megaco/H.248 Basic CAS Package      September 2001  

     
     
 9. Operator Services Extension Package 
     
 9.1 Package 
     
    PackageID: osext (To be allocated through IANA) 
    Description: This package defines CAS events and signals that are 
          specific to Operator Services and are required in addition to 
          the events and signals defined in the Operator Services and 
          Emergency Services package.  
    Version: 1 
    Extends: oses  (To be allocated through IANA) Version 1 
     
 9.2 Properties 
    None. 
     
 9.3 Events 
     
     
 9.3.1 
    Event Name: Recall 
    EventID: rcl (0x0002) 
    Description: The recall event is reported when a recall signal is 
          detected on a termination. The recall signal is a timed 
          transition from off-hook to on-hook (leading edge) to off-
          hook (trailing edge). The duration of the timed transition is 
          provisioned on the MG. 
    EventsDescriptor Parameters: None 
    ObservedEventsDescriptor Parameters: None 
     
 9.3.2 
    Event Name: Coin Collect 
    EventID: cc (0x0003) 
    Description: The coin collect event is reported when a coin collect 
          signal is detected on a termination. The type of coin collect 
          signal and characteristics of the coin collect signal are 
          provisioned on the MG. 
    EventsDescriptor Parameters: None 
    ObservedEventsDescriptor Parameters: None 
     
 9.3.3 
    Event Name: Coin Return 
    EventID: cr (0x0004) 
    Description: The coin return event is reported when a coin return 
          signal is detected on a termination. The type of coin return 
          signal and characteristics of the coin return signal are 
          provisioned on the MG. 
    EventsDescriptor Parameters: None 
    ObservedEventsDescriptor Parameters: None 
     

   
 Manyfolks       Standards Track -- Expires March 2002               14 
                     Megaco/H.248 Basic CAS Package      September 2001  

 9.3.4 
    Event Name: Operator Attached 
    EventID: oa (0x0005) 
    Description: The operator attached event is reported when an 
          operator attached signal is detected on a termination. The 
          type of operator attached signal and characteristics of the 
          operator attached signal are provisioned on the MG. 
    EventsDescriptor Parameters: None 
    ObservedEventsDescriptor Parameters: None 
     
 9.3.5
    Event Name: Operator Released 
    EventID: or (0x0006) 
    Description: The operator released event is reported when an 
          operator released signal is detected on a termination. The 
          type of operator released signal and characteristics of the 
          operator released signal are provisioned on the MG. 
    EventsDescriptor Parameters: None 
    ObservedEventsDescriptor Parameters: None 
     
     
 9.4 Signals 
     
 9.4.1 
    Signal Name: Recall 
    SignalID: rcl (0x0003) 
    Description: Applies a timed transition from off-hook to on-
          hook(leading edge) to off-hook (trailing edge).  
    Signal Type: Brief 
    Duration: Provisioned 
    Additional Parameters: None 
     
 9.4.2 
    Signal Name: Coin Collect 
    SignalID: cc (0x0004) 
    Description: Applies a coin collect signal on the termination. The 
          type of coin collect signal and characteristics of the coin 
          collect signal are provisioned on the MG.  
    Signal Type: Brief 
    Duration: Provisioned 
    Additional Parameters: None 
     
 9.4.3 
    Signal Name: Coin Return 
    SignalID: cr (0x0005) 
    Description: Applies a coin return signal on the termination. The 
          type of coin return signal and characteristics of the coin 
          return signal are provisioned on the MG. 
    Signal Type: Brief 
    Duration: Provisioned 
    Additional Parameters: None 

   
 Manyfolks       Standards Track -- Expires March 2002               15 
                     Megaco/H.248 Basic CAS Package      September 2001  

     
 9.4.4 
    Signal Name: Operator Attached 
    SignalID: oa (0x0006) 
    Description: Applies an operator attached signal on the 
          termination. The type of operator attached signal and 
          characteristics of the operator attached signal are 
          provisioned on the MG. 
    Signal Type: Brief 
    Duration: Provisioned 
    Additional Parameters: None 
     
 9.4.5 
    Signal Name: Operator Released 
    SignalID: or (0x0007) 
    Description: Applies an operator released signal on the 
          termination. The type of operator released signal and 
          characteristics of the operator released signal are 
          provisioned on the MG. 
    Signal Type: Brief 
    Duration: Provisioned 
    Additional Parameters: None 
     
 9.5 Statistics 
    None. 
     
 9.6 Procedures 
    None. 
     
 10. Formal Syntax 
     
    Not Applicable 
     
     
 11. Security Considerations 
  
    Security considerations are addressed as per Section 10 of RFC-3015 
    [2]. 
     
 12. IANA Considerations 
  
    The packages defined in this document are registered as per Section 
    13, "IANA Considerations", of RFC 3015 [2]. 
  
     
 13. References 
  
 [1] Bradner, S., "The Internet Standards Process -- Revision 3", BCP 
 9, RFC 2026, October 1996. 
  
  

   
 Manyfolks       Standards Track -- Expires March 2002               16 
                     Megaco/H.248 Basic CAS Package      September 2001  

  
 [2] Cuervo, et al., "Megaco Protocol Version 1.0", RFC 3015, 
 November 2000. 
  
 [3] Bradner, S., "Key words for use in RFCs to Indicate Requirement 
 Levels", BCP 14, RFC 2119, March 1997 
  
 [4] Bellcore, Compatibility Information for Feature Group D Switched 
 Access Service, TR-NPL-000258, Issue 1, October 1985. 
  
 [5] Bothwell, W., Boyle, K. and Chapman, K., "MF Tone Generation 
 and Detection Packages", draft-bothwell-megaco-mftonepkgs-02.txt, 
 August 2001. 
    
    
    
14. Author's Addresses 
    
   Vikas Bajaj 
   Hughes Software Systems,Ltd. 
   Gurgaon,Haryana,India. 122015. 
   Ph: (91)-11-6346666.Ex-2804. 
   Fax: (91)-124-6342810 or 811. 
   mEmail: vbajaj@hss.hns.com. 
    
    
   Kushanava Laha 
   Hughes Software Systems,Ltd. 
   Gurgaon,Haryana,India. 122015. 
   Ph: (91)-11-6346666.Ex-3083 
   Email: klaha@hss.hns.com. 
    
   Bill Foster 
   Cisco Systems 
   170 West Tasman Dr 
   San Jose, CA 95134 
   Ph: (408) 527-8791 
   Email: bfoster@cisco.com 
    
   Wendy Bothwell 
   Nortel Networks 
   4008 Chapel Hill Road 
   Research Triangle Park, NC USA 27709 
   Phone: (919) 991-7287 
   Email: bothwell@nortelnetworks.com 
    
   Kevin Boyle II 
   Nortel Networks 
   4008 Chapel Hill Road 
   Research Triangle Park, NC USA 27709 
   Phone: (919) 991-2690 

   
 Manyfolks       Standards Track -- Expires March 2002               17 
                    Megaco/H.248 Basic CAS Package      September 2001  
   Email: kboyle@nortelnetworks.com 
    
   C. Michael Brown 
   1104 Hemingway Drive 
   Raleigh, NC USA 27609 
   Email: cmbrown@mindspring.com 
    














































  
Manyfolks       Standards Track -- Expires March 2002               18 
                    Megaco/H.248 Basic CAS Package      September 2001  
15. Appendix A Call Flows 
    
15.1 Basic Single-Stage MF or DTMF wink start or immediate start. 
         
   Origination: 
    
     PSTN/PBX              MG                        MGC 
    
                            <-- request to be notified seizure, digits        
                                (digit map referenced) 
    
             --seize->       ---- "bcas/sz"--> 
    
    <-- seize ack and start dialing 
    
             --digits-->     ---- "mfd/ce"  --> 
                                    digits available 
                             later when the other end answers: 
            <--off-hook--    <--  "bcas/ans" --- 
    
    
   Termination: 
    
               MGC                      MG                PSTN/PBX 
    
   Start with embedded request to do "sz" and if start dialing ("sd") 
   occurs - automatically outpulse address: 
                 ---embedded request-->     --- Seizure ---> 
    
                 <---- "bcas/sd"-------     <-- wink/delay dial  
                                          followed by proceed to send 
    
   the MG as a reflex action to doing a seizure with request for "sd" 
    
                                            --- digits ---> 
    
                                     Note: digits outpulsed  
                          automatically because of the embedded request 
    
    
15.2 EAOSS Termination - Telephone Company Operator Services Call: 
    
   The following call flow also applies to operator services signalling 
   interfaces defined prior to Exchange Access Operator Services 
   Signalling (EAOSS). 
    
    
   MGC                      MG                     PSTN 
   Start with a request to seize and report the start dialing event. 
   Option - can use an embedded request for the first set of address 
   digits.  
          ---- request ----->         ----seizure---> 
          <----"bcas/sd"-----         <----wink----- 
  
Manyfolks       Standards Track -- Expires March 2002               19 
                    Megaco/H.248 Basic CAS Package      September 2001  
   Send a request to signal the first stage of digits (i.e. called) and 
   look for an answer. Signal Completion event can be (optionally) used 
   to indicate when outpulsing is complete. A timeout is specified for 
   the ansto property. 
          -- signal addr1 -->         -----addr1---->        
          <------"g/sc"------ 
          <----"bcas/ans"----         <-- off-hook-- 
   Send a request to signal the second stage of digits (i.e. ANI). 
   Signal Completion event is used to indicate when outpulsing is 
   complete. 
          -- signal addr2 -->         -----addr2----> 
          <------"g/sc"------ 
 
 
15.3 EAOSS Termination - IC/INC Operator Services Call indirect through 
an Access Tandem (Overlap Outpulsing): 
    
   The following call flow also applies to Feature Group D (FGD) 
   signalling with the exception of an acknowledgment wink in place  
   of the off-hook hold request.  
    
   MGC                      MG                     PSTN 
   Start with a request to seize and report the start dialing event. 
   Option - can use an embedded request for the first set of address 
   digits.  
          ---- request ----->         ----seizure---> 
          <----"bcas/sd"-----         <----wink----- 
   Send a request to signal the first stage of digits and look for a 
   wink (i.e. a pulse). The first stage of digits consists of 
   KP0ZZXXXXST/STP (national) or KP1N'XXXXXCCCST/STP (international). 
          -- signal addr1 -->         -----addr1---->        
          <---"rbs/psoff"----         <-- wink  ---- 
   Send a request to signal the second stage of digits (i.e. ANI). 
   Signal Completion event is used to indicate when outpulsing is 
   complete, which supports overlap outpulsing.  
          -- signal addr2 -->         -----addr2----> 
          <------"g/sc"------ 
   Send a request to signal the third stage of digits (i.e. called)  
   and look for an acknowledgment wink or an off-hook request for  
   hold. 
          -- signal addr3 -->         -----addr3---->   
          <----"rbs/psoff"---         <--- wink  ---- 
   OR 
          <----"bcas/ans"----         <---off-hook--- 
    
   Timeouts for the receipt of the winks are specified using parameter 
   psto. The minimum and maximum durations of the winks are specified 
   using the minpsdet and maxpsdet properties. 
    
    
 


  
Manyfolks       Standards Track -- Expires March 2002               20 
                    Megaco/H.248 Basic CAS Package      September 2001  
15.4 EAOSS Termination - IC/INC Operator Services Call indirect through 
an Access Tandem (No Overlap Outpulsing): 
    
   This call flow is an optimization of the previous call flow when 
   overlap outpulsing is not required. 
    
    
   MGC                      MG                     PSTN 
   Start with a request to seize and report the start dialing event. 
   This call flow includes an embedded request to signal the first set 
   of address digits (i.e. KP0ZZXXXXST/STP for national or 
   KP1N'XXXXXCCCST/STP for international) and report an event of wink 
   (i.e. a pulse). 
          ---- request ----->         ----seizure---> 
          <------"sd"--------         <----wink------ 
                                      -----addr1---->        
          <----"rbs/psoff"---         <-- wink  ---- 
   Send a request that includes a signal list for the second (i.e. 
   ANI)and third (i.e. called) stages of digits. Additionally, look for 
   the acknowledgment wink or off-hook hold request. 
          - signal addr2/3 ->         -----addr2----> 
                                      -----addr3---->   
          <----"rbs/psoff"---         <--- wink  ---- 
   OR 
          <----"bcas/ans"----         <---off-hook--- 
    
   Timeouts for the receipt of the winks are specified using parameter 
   psto. The minimum and maximum durations of the winks are specified 
   using the minpsdet and maxpsdet properties. 
  
    
15.5 EAOSS Termination - IC/INC "National" Operator direct to the 
IC/INC (Overlap Outpulsing): 
 
 
   MGC                      MG                     PSTN 
    
   Start with a request to seize and report the start dialing event. 
   Option - can use an embedded request for the first set of address 
   digits.  
          ---- request ----->         ----seizure---> 
          <---"bcas/sd"------         <----wink----- 
   Send a request to signal the first stage of digits (i.e. ANI). 
   Signal Completion event is used to indicate when outpulsing is 
   complete, which supports overlap outpulsing. 
          -- signal addr1 -->         -----addr1---->        
          <------"g/sc"------ 
   Send a request to signal the second stage of digits (i.e. called) 
   and look for the acknowledgment wink or an offhook request for hold.  
         -- signal addr2 -->         ----seizure---> 
         <--"rbs/psoff"-----         <--- wink  ---- 
   OR 
        ----"bcas/ans"------         <---off-hook--- 
  
Manyfolks       Standards Track -- Expires March 2002               21 
                    Megaco/H.248 Basic CAS Package      September 2001  
    
   The timeouts for the receipt of the wink is specified using 
   parameter psto. The minimum and maximum duration of the wink is 
   specified using the minpsdet and maxpsdet properties. 
    
    
15.6 EAOSS Termination - IC/INC "National" Operator direct to the 
IC/INC (No Overlap Outpulsing): 
 
   This call flow is an optimization of the previous call flow when 
   overlap outpulsing is not required. 
    
    
   MGC                      MG                     PSTN 
   Start with a request to seize and report the start 
   dialing event. Include an embedded request with a signal list and 
   look for an event of wink or offhook.  
          ---- request ----->         ----seizure---> 
          <---"bcas/sd"------         <----wink----- 
                                      -----addr1---->        
                                      -----addr2----> 
          <---"rbs/psoff"----         <--- wink  ---- 
   OR 
          <----"bcas/ans"----         <---off-hook---  
    
   The timeout for the receipt of the wink is specified using parameter 
   psto. The minimum and maximum duration of the wink is specified 
   using the minpsdet and maxpsdet properties. 
 
    
15.7 EAOSS Origination - Telephone Operating Company serves the call: 
    
     
   In this call flow, the MGC is the Telephone Operating Company switch 
   that is providing operator services. The call originates from a PSTN 
   EO and terminates to the MGC for operator handling. Following 
   operator handling, the call completes to the packet network (not 
   shown). 
    
    
   PSTN                      MG                     MGC 
    
   Start with a request to be notified of seizure and report digits 
   (digit map referenced). 
                                      <---- request ----  
        ------seize----->             ---"bcas/sz"-----> 
        <-----wink------- 
        -----addr1------>             -----"mfd/ce"----> 
   Based on the digits received (i.e. KP0ZZXXXXST/STP, 
   KP1N'XXXXXCCCST/STP) and the resulting translation, the MGC 
   determines the call should be served. Send a request to signal a 
   wink and report the next set of digits (i.e. ANI). 
                                      <-- request ---  
  
Manyfolks       Standards Track -- Expires March 2002               22 
                    Megaco/H.248 Basic CAS Package      September 2001  
        <-----wink------- 
        -----addr2------>             -----"mfd/ce"----> 
   Send a request to report the next set of digits and signal an 
   acknowledgment wink or off-hook in place of the acknowledgment wink 
   (i.e. if MGC data indicates hold should be applied for this IC). 
                                      <---- request ----  
        -----addr2------>             -----"mfd/ce"----> 
        <-----wink------- 
   OR 
        <---off-hook----- 
    
    
    
    
    
Full Copyright Statement 
 
   "Copyright (C) The Internet Society (September, 2001). All Rights 
   Reserved. This document and translations of it may be copied and 
   furnished to others, and derivative works that comment on or 
   otherwise explain it or assist in its implementation may be 
   prepared, copied, published and distributed, in whole or in part, 
   without restriction of any kind, provided that the above copyright 
   notice and this paragraph are included on all such copies and 
   derivative works. However, this document itself may not be modified 
   in any way, such as by removing the copyright notice or references 
   to the Internet Society or other Internet organizations, except as 
   needed for the purpose of developing Internet standards in which 
   case the procedures for copyrights defined in the Internet Standards 
   process must be followed, or as required to translate it into 
   languages other than English.  The limited permissions granted above 
   are perpetual and will not be revoked by the Internet Society or its 
   successors or assigns.  This document and the information contained 
   herein is provided on an "AS IS" basis and THE INTERNET SOCIETY AND 
   THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, 
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT 
   THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR 
   ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A 
   PARTICULAR PURPOSE." 
    
16.  Expiration Date 
    
   This memo is filed as <draft-manyfolks-megaco-caspackage-01.txt>, 
   and expires March 18, 2002. 
    
    
    






  
Manyfolks       Standards Track -- Expires March 2002               23 
