<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Using POST to add to Web Distributed Authoring and Versioning (WebDAV) Collections</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Using POST to add to Web Distributed Authoring and Versioning (WebDAV) Collections">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Reschke</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">greenbytes</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">September 22, 2008</td></tr>
<tr><td class="header">Expires: March 26, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Using POST to add to Web Distributed Authoring and Versioning (WebDAV) Collections<br />draft-reschke-webdav-post-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on March 26, 2009.</p>

<h3>Abstract</h3>

<p>
      The Hypertext Transfer Protocol (HTTP) Extensions for the Web Distributed
      Authoring and Versioning (WebDAV) do not define the behavior for the
      "POST" method when applied to collections, as the base specification
      (HTTP) leaves implementers lots of freedom for the semantics of "POST".
    
</p>
<p>
      This has lead to a situation where many WebDAV servers do not implement
      POST for collections at all, although it is well suited to be
      used for the purpose of adding new members to a collection, where the server
      remains in control of the newly assigned URL. As a matter of fact,
      the Atom Publishing Protocol (AtomPub) uses POST exactly for that purpose.
      On the other hand, WebDAV-based protocols such as the Calendar Extensions 
      to WebDAV (CalDAV) frequently
      require clients to pick a unique URL, although the server could easily
      perform that task.
    
</p>
<p>
      This specification defines a discovery mechanism through which servers
      can advertise support for POST requests with the aforementioned
      "add collection member" semantics.
    
</p>
<h3>Editorial Note (To be removed by RFC Editor before publication)</h3>

<p>
      Please send comments to the Distributed Authoring and Versioning (WebDAV)
      working group at <a href='mailto:w3c-dist-auth@w3.org'>mailto:w3c-dist-auth@w3.org</a>, which may
      be joined by sending a message with subject "subscribe" to
      <a href='mailto:w3c-dist-auth-request@w3.org'>mailto:w3c-dist-auth-request@w3.org</a>.  Discussions of the
      WEBDAV working group are archived at
      <a href='http://lists.w3.org/Archives/Public/w3c-dist-auth/'>http://lists.w3.org/Archives/Public/w3c-dist-auth/</a>.
    
</p>
<p>
      Note that although discussion takes place on the WebDAV working
      group's mailing list, this is not a working group document.
    
</p>
<p>
      XML versions, latest edits and the issues list for this document
      are available from <a href='http://greenbytes.de/tech/webdav/#draft-reschke-webdav-post'>http://greenbytes.de/tech/webdav/#draft-reschke-webdav-post</a>.
    
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
<a href="#terminology">2.</a>&nbsp;
Terminology<br />
<a href="#anchor1">3.</a>&nbsp;
Protocol Extension<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">3.1.</a>&nbsp;
Definition of 'Add-Member' URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.2.</a>&nbsp;
Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.2.1.</a>&nbsp;
p:add-member Property<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.2.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.2.3.</a>&nbsp;
add-member Link Relation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.3.</a>&nbsp;
Relation to AtomPub's 'Slug' Header<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.4.</a>&nbsp;
Example Operation<br />
<a href="#internationalization.considerations">4.</a>&nbsp;
Internationalization Considerations<br />
<a href="#anchor9">5.</a>&nbsp;
IANA Considerations<br />
<a href="#security.considerations">6.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.index">&#167;</a>&nbsp;
Index<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
    The Hypertext Transfer Protocol (HTTP) Extensions for the Web Distributed
    Authoring and Versioning (WebDAV) (<a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>, Section 9.5) do not
    define the behavior for the
    "POST" method when applied to collections, as the base specification
    (HTTP) leaves implementers lots of freedom for the semantics of "POST":
  
</p>
<p></p>
<blockquote class="text">
<p>
      9.5 POST for Collections
    
</p>
<p>
      Since by definition the actual function performed by POST is determined
      by the server and often depends on the particular resource, the behavior
      of POST when applied to collections cannot be meaningfully modified
      because it is largely undefined. Thus, the semantics of POST are
      unmodified when applied to a collection.
    
</p>
</blockquote>

<p>
    This has lead to a situation where many WebDAV servers do not implement
    POST for collections at all, although it is well suited to be
    used for the purpose of adding new members to a collection, where the server
    remains in control of the newly assigned URL. As a matter of fact,
    the Atom Publishing Protocol (AtomPub) uses POST exactly for that purpose
    (<a class='info' href='#RFC5023'>[RFC5023]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>, Section 9.2):
  
</p>
<p></p>
<blockquote class="text">
<p>
      9.2 Creating Resources with POST
    
</p>
<p>
      To add members to a Collection, clients send POST requests to the URI of
      the Collection.
    
</p>
</blockquote>

<p>
    On the other hand, WebDAV-based protocols such as Calendaring Extensions to
    WebDAV (CalDAV) frequently
    require clients to pick a unique URL, although the server could easily
    perform that task (<a class='info' href='#RFC4791'>[RFC4791]<span> (</span><span class='info'>Daboo, C., Desruisseaux, B., and L. Dusseault, &ldquo;Calendaring Extensions to WebDAV (CalDAV),&rdquo; March&nbsp;2007.</span><span>)</span></a>, Section 5.3.2):
  
</p>
<p></p>
<blockquote class="text">
<p>
      5.3.2 Creating Calendar Object Resources
    
</p>
<p>
      ...
    
</p>
<p>
      When servers create new resources, it's not hard for the server to choose
      an unmapped URI. It's slightly tougher for clients, because a client
      might not want to examine all resources in the collection and might not
      want to lock the entire collection to ensure that a new resource isn't
      created with a name collision. (...)
    
</p>
</blockquote>

<p></p>
<blockquote class="text">
<p>
      Note: the vCard Extensions to WebDAV (CardDAV) (<a class='info' href='#draft-ietf-vcarddav-carddav'>[draft&#8209;ietf&#8209;vcarddav&#8209;carddav]<span> (</span><span class='info'>Daboo, C., &ldquo;vCard Extensions to WebDAV (CardDAV),&rdquo; July&nbsp;2008.</span><span>)</span></a>)
      suffer from the same issue, and may be able to take advantage of this
      specification.
    
</p>
</blockquote>

<p>
    This specification defines a discovery mechanism through which servers
    can advertise support for POST requests with the aforementioned
    "add collection member" semantics.
  
</p>
<p></p>
<blockquote class="text">
<p>
      Note: the author previously proposed a new HTTP method for
      exactly this purpose (<a class='info' href='#draft-reschke-http-addmember'>[draft&#8209;reschke&#8209;http&#8209;addmember]<span> (</span><span class='info'>Reschke, J., &ldquo;The HTTP ADDMEMBER Method,&rdquo; February&nbsp;2005.</span><span>)</span></a>), 
      but quite a few reviewers pointed out that this would duplicate the
      original semantics of POST. Thus this proposal that avoids adding
      a new HTTP method.
    
</p>
</blockquote>

<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
  The terminology used here follows that in the WebDAV specification
  (<a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>).

</p>
<p>
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
  "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
  interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>. 

</p>
<p>
  This document uses XML DTD fragments 
  (<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fourth Edition),&rdquo; August&nbsp;2006.</span><span>)</span></a>) as a purely notational convention.  In particular:
  </p>
<ul class="text">
<li>Element names use the namespace "http://purl.org/NET/webdav/post#".  When
    an XML element type in this namespace is referenced in this document outside
    of the context of an XML fragment, the string "p:" will be prefixed to the element name.
    <a class='info' href='#comment.ns'>[ns]<span> (</span><span class='info'>With sufficient support from the WebDAV WG's former mailing list and/or the IESG Applications Area the property defined later on could potentially be moved into the DAV: namespace.</span><span>)</span></a><a name='ns'></a>
    
</li>
<li>Element ordering is irrelevant.
</li>
<li>Extension elements/attributes (elements/attributes not already defined
    as valid child elements) may be added anywhere, except when explicitly
    stated otherwise.
</li>
</ul><p>

</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Protocol Extension</h3>

<p>
  Due to the reasons stated in <a class='info' href='#introduction'>Section&nbsp;1<span> (</span><span class='info'>Introduction</span><span>)</span></a>, clients
  can not rely on a specific server behavior when POST is applied to a
  collection. This problem is addressed by this specification by allowing
  servers to advertise a URI that has the desired "add member" semantics.

</p>
<p>
  Note that ervers that already use POST for a different purpose can just
  expose a different URI for that purpose. Other servers can just advertise
  the collection's own URI, thus avoiding to mint another URI for a limited
  purpose.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Definition of 'Add-Member' URI</h3>
<a name='anchor12'></a>
<p>
  The "Add-Member" URI of a WebDAV collection is a URI that will accept
  HTTP POST requests, and will interpret these as requests to store
  the enclosed entity as a new internal member of the collection. The 
  URI of the newly created resource is returned in the HTTP Location
  response header (<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, Section 14.30).

</p>
<p>


</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Discovery</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
p:add-member Property</h3>

<p>
  The p:add-member property is defined on WebDAV collections, and 
  contains the "Add-Member" URI for that collection (embedded inside
  a DAV:href element).

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;!ELEMENT p:add-member (href)&gt;
  &lt;!-- href: defined in [RFC4918], Section 14.7 --&gt;
</pre></div>
<p>
  A PROPFIND/allprop request SHOULD NOT return this property (see
  <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>, Section 9.1).

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Example</h3>

<p>&gt;&gt;Request
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PROPFIND /collection/ HTTP/1.1
Host: example.com
Content-Type: application/xml; charset="utf-8"
Content-Lenght: 163

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;propfind xmlns="DAV:" xmlns:p="http://purl.org/NET/webdav/post#"&gt;
  &lt;prop&gt;
    &lt;p:add-member/&gt;
  &lt;/prop&gt;
&lt;/propfind&gt;
</pre></div>
<p>&gt;&gt;Response
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset="utf-8"
Content-Length: 385

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;multistatus xmlns="DAV:" xmlns:p="http://purl.org/NET/webdav/post#"&gt;
  &lt;response&gt;
    &lt;href&gt;/collection/&lt;/href&gt;
    &lt;propstat&gt;
      &lt;prop&gt;
        &lt;p:add-member&gt;
          &lt;href&gt;/collection/;add-member&lt;/href&gt;
        &lt;/p:add-member&gt;
      &lt;/prop&gt;
      &lt;status&gt;HTTP/1.1 200 OK&lt;/status&gt;
    &lt;/propstat&gt;
  &lt;/response&gt;
&lt;/multistatus&gt;</pre></div>
<p>
  Note that in this case, the server has minted a separate URI for the purpose
  of adding new content.

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
add-member Link Relation</h3>

<p>
  There may be cases in which it is more efficient to expose the Add-Member URI
  in HTTP headers or in (X)HTML content. For this use case, this specification
  defines a new link relation with the name:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  http://purl.org/NET/webdav/post#add-member
</pre></div>
<p>
  It can be uses both in HTTP Link headers (see <a class='info' href='#draft-nottingham-http-link-header'>[draft&#8209;nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;HTTP Header Linking,&rdquo; July&nbsp;2008.</span><span>)</span></a>):

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HEAD /collection/ HTTP/1.1
Host: example.com
</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 200 OK
Link: &lt;/collection/;add-member&gt;;
      rel="http://purl.org/NET/webdav/post#add-member"
</pre></div>
<p>  
  ...and in (X)HTML content:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;Contents of /collection/&lt;/title&gt;
    &lt;link rel="http://purl.org/NET/webdav/post#add-member"
          href="/collection/;add-member" /&gt;
  &lt;/head
  &lt;body&gt;...&lt;/body&gt;
&lt;/html&gt;
</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Relation to AtomPub's 'Slug' Header</h3>

<p>
  In the AtomPub protocol, clients can use the entity header "Slug" to
  suggest parts of the URI to be created (see <a class='info' href='#RFC5023'>[RFC5023]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>, Section 9.7). Note that servers are free to ignore
  this suggestion, or to use whatever algorithm that makes sense to
  generate the new URI.

</p>
<p>
  The same applies to the extension defined here: clients can use the
  "Slug" header as by its definition of a generic HTTP header. Servers should
  process it exactly the way defined by AtomPub.

</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Example Operation</h3>

<p>&gt;&gt;Request
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
POST /collection/;add-member HTTP/1.1
Host: example.com
Content-Type: text/plain
Slug: Sample Text
Content-Lenght: 12

Sample text.
</pre></div>
<p>&gt;&gt;Response
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 201 Created
Location: http://example.com/collection/sample%20text
</pre></div>
<a name="internationalization.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Internationalization Considerations</h3>

<p>
  This document does not introduce any new internationalization considerations
  beyond those discussed in Section 20 of <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>.

</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
  This specification does not require any actions from IANA.

</p>
<a name="security.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
  All security considerations connected to HTTP/WebDAV and XML apply for
  this specification as well, namely, <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a> (Section 20)
  and <a class='info' href='#RFC3470'>[RFC3470]<span> (</span><span class='info'>Hollenbeck, S., Rose, M., and L. Masinter, &ldquo;Guidelines for the Use of Extensible Markup Language (XML) within IETF Protocols,&rdquo; January&nbsp;2003.</span><span>)</span></a> (Section 7).

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4918">[RFC4918]</a></td>
<td class="author-text"><a href="mailto:ldusseault@commerce.net">Dusseault, L., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4918">HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>,&rdquo; RFC&nbsp;4918, June&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="XML">[XML]</a></td>
<td class="author-text"><a href="mailto:tbray@textuality.com">Bray, T.</a>, <a href="mailto:jeanpa@microsoft.com">Paoli, J.</a>, <a href="mailto:cmsmcq@uic.edu">Sperberg-McQueen, C.</a>, <a href="mailto:eve.maler@east.sun.com">Maler, E.</a>, and <a href="mailto:francois@yergeau.com">F. Yergeau</a>, &ldquo;<a href="http://www.w3.org/TR/2006/REC-xml-20060816">Extensible Markup Language (XML) 1.0 (Fourth Edition)</a>,&rdquo; W3C&nbsp;REC-xml-20060816, August&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-nottingham-http-link-header">[draft-nottingham-http-link-header]</a></td>
<td class="author-text"><a href="mailto:mnot@mnot.net">Nottingham, M.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nottingham-http-link-header-02.txt">HTTP Header Linking</a>,&rdquo; draft-nottingham-http-link-header-02 (work in progress), July&nbsp;2008.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3470">[RFC3470]</a></td>
<td class="author-text"><a href="mailto:shollenbeck@verisign.com">Hollenbeck, S.</a>, <a href="mailto:mrose@dbc.mtview.ca.us">Rose, M.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3470">Guidelines for the Use of Extensible Markup Language (XML) within IETF Protocols</a>,&rdquo; RFC&nbsp;3470, BCP&nbsp;70, January&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4791">[RFC4791]</a></td>
<td class="author-text"><a href="mailto:cyrus@daboo.name">Daboo, C.</a>, <a href="mailto:bernard.desruisseaux@oracle.com">Desruisseaux, B.</a>, and <a href="mailto:ldusseault@commerce.net">L. Dusseault</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4791">Calendaring Extensions to WebDAV (CalDAV)</a>,&rdquo; RFC&nbsp;4791, March&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5023">[RFC5023]</a></td>
<td class="author-text"><a href="mailto:joe@bitworking.org">Gregorio, J.</a> and <a href="mailto:bill@dehora.net">B. de hOra</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5023">The Atom Publishing Protocol</a>,&rdquo; RFC&nbsp;5023, October&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-ietf-vcarddav-carddav">[draft-ietf-vcarddav-carddav]</a></td>
<td class="author-text"><a href="mailto:cyrus@daboo.name">Daboo, C.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-vcarddav-carddav-01.txt">vCard Extensions to WebDAV (CardDAV)</a>,&rdquo; draft-ietf-vcarddav-carddav-01 (work in progress), July&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-reschke-http-addmember">[draft-reschke-http-addmember]</a></td>
<td class="author-text"><a href="mailto:julian.reschke@greenbytes.de">Reschke, J.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-reschke-http-addmember-00.txt">The HTTP ADDMEMBER Method</a>,&rdquo; draft-reschke-http-addmember-00 (work in progress), February&nbsp;2005.</td></tr>
</table>
<a name="rfc.index"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Index</h3>
<table>
<tr><td><strong>A</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor12">Add-Member URI</a></td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Julian F. Reschke</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">greenbytes GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hafenweg 16</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Muenster, NW  48155</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 251 2807760</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:julian.reschke@greenbytes.de">julian.reschke@greenbytes.de</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
