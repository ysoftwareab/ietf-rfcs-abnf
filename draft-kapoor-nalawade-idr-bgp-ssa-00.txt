





Network Working Group                                    Ruchi Kapoor
Internet Draft                                         Gargi Nalawade
Expires: December 2003                                Chandra Appanna

                                                        Cisco Systems


                     BGPv4 SAFI-Specific Attribute

                draft-kapoor-nalawade-idr-bgp-ssa-00.txt



1. Status of this Memo


      This document is an Internet-Draft and is in full conformance with
      all provisions of Section 10 of RFC2026.

      Internet-Drafts are working documents of the Internet Engineering
      Task Force (IETF), its areas, and its working groups.  Note that
      other groups may also distribute working documents as Internet-
      Drafts.

      Internet-Drafts are draft documents valid for a maximum of six
      months and may be updated, replaced, or obsoleted by other
      documents at any time. It is inappropriate to use Internet-Drafts
      as reference material or to cite them other than as "work in
      progress."

      The list of current Internet-Drafts can be accessed at
      http://www.ietf.org/ietf/1id-abstracts.txt

      The list of Internet-Draft Shadow Directories can be accessed at
      http://www.ietf.org/shadow.html.


   2. Abstract

      This document defines a new BGP attribute called the "SAFI
      [IANA-SAFI] Specific Attribute" (SSA). This attribute consists
      of a set of TLVs (it MUST contain atleast one TLV; it MAY contain
      more than one TLV). Each Subsequent Address Family Identifier
      (SAFI) that uses this attribute MUST define the Typecodes that
      are valid for the respective SAFI.


   3. Introduction



draft-kapoor-nalawade-idr-bgp-ssa-00.txt                                [Page 1]

Internet Draft draft-kapoor-nalawade-idr-bgp-ssa-00.txt                June 2003


      This document defines a new BGP attribute called the "SAFI
      Specific Attribute" (SSA). The value part of the SSA consists
      of a set of TLVs (it MUST contain atleast one TLV; it MAY contain
      more than one TLVs). The intent behind SSA is to introduce an
      attribute, which is flexible enough so that it has utility for
      multiple applications.

      The SSA provides a general way of encoding application (AFI/SAFI)
      specific data. AFI/SAFIs may encode data in the form of TLVs. The
      AFI/SAFI specific data does not necessarily have global meaning
      across all AFI/SAFIs, i.e. some typecodes of the TLVs could be
      relevant to only one AFI/SAFI. Each AFI/SAFI MUST specify the
      Typecodes that are valid for the respective AFI/SAFI.

      The SSA TLV is a variable length entity.


   4. Format of the SAFI-Specific Attribute

      The format of the BGP SSA attribute will be as follows:



      |  Attr. Flags  | Attr.Type Code|
                  0                   1
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |1|1|0|?|UNUSED | Type = TBD    | Length (2 Octets)             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      |                      Attribute Value                          |
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



   The BGP SSA is a variable length, optional transitive attribute. The
   Value field of the attribute may contain one or more SSA TLVs. The
   Value field of the SSA Attribute is encoded as follows and may
   contain one or more tuples of the following:

      - Type Field  : 2 octets
      - Length Field: 2 octets
      - Value Field : Variable


       0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1



draft-kapoor-nalawade-idr-bgp-ssa-00.txt                                [Page 2]

Internet Draft draft-kapoor-nalawade-idr-bgp-ssa-00.txt                June 2003


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Type                    |       Length                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         Value                                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Type Field: The format of the Type Field is as shown below:

             0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            |T|                             |
            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


            T - Transitive bit

            Value 1: The SSA type is transitive across ASes

            Value 0: The SSA type is non-transitive across ASes

            Remaining 15 bits: Indicate the type of the SSA TLV.

   Length Field: The Length is 2 octets long and indicates the length
   of the Value field.

   The value contained in this Length field MUST not exceed the total
   length of the BGP SSA Attribute minus the total length of any prior
   TLVs.

   Value Field: The Value Field contains a TLV where the Types of the
   TLV are defined by the respective SAFIs.  The TLV in the Value field
   of this Attribute will be of the form :

      - Type Field  : 2 octets
      - Length Field: 2 octets
      - Value Field : Variable

   The Value field will have a fixed part as specified by the
   respective SAFI-Specific Types and may have a variable part in the
   form of Sub-TLVs encoded as follows :

      - Sub-Type Field  : 1 octets
      - Length Field: 1 octets
      - Value Field : Variable


5.  Operation



draft-kapoor-nalawade-idr-bgp-ssa-00.txt                                [Page 3]

Internet Draft draft-kapoor-nalawade-idr-bgp-ssa-00.txt                June 2003


   A BGP speaker that supports a SAFI, MUST accept any SSA TLVs that
   are defined as valid for the SAFI. If the SSA TLV is transitive,
   the BGP speaker MUST forward it even if it does not understand it.
   Operation rules are governed by those for the SAFI. This attribute
   only requires that it be forwarded even when it is not understood.

   When sending an UPDATE message for this SAFI to a peer, a BGP speaker
   MUST only advertise the SSA TLVs that are defined and are valid for
   that SAFI.

   A Capability has not been defined for this attribute intentionally.
   For newer SAFIs, it is concieved that presence of the SAFI would
   imply understanding the SSA attribute and the SSA TLVs. If existing
   SAFIs make use of this Attribute, a capability may be defined
   depending on the operational rules defined when the valid Typecodes
   for this attribute are defined for that SAFI.


6. Security Considerations

   This extension to BGP does not change the underlying security
   issues.


7. Acknowledgements

   We would like to thank Dan Tappan, Arjun Sreekantiah, Jim Guichard,
   Shyam Suri and John Scudder for their comments and suggestions.


8. Normative References

   [BGP-4]  Rekhter, Y. and T. Li (editors), "A Border Gateway Protocol
   4 (BGP-4)", Internet Draft draft-ietf-idr-bgp4-17.txt, January 2002.

   [BGP-CAP] Chandra, R., Scudder, J., "Capabilities Advertisement with
   BGP-4", draft-ietf-idr-rfc2842bis-02.txt, April 2002.

   [IANA-AFI] http://www.iana.org/assignments/address-family-numbers.

   [IANA-SAFI] http://www.iana.org/assignments/safi-namespace.


9. Authors' Addresses

      Ruchi Kapoor
      Cisco Systems, Inc
      170 West Tasman Drive



draft-kapoor-nalawade-idr-bgp-ssa-00.txt                                [Page 4]

Internet Draft draft-kapoor-nalawade-idr-bgp-ssa-00.txt                June 2003


      San Jose, CA 95134
      Email:ruchi@cisco.com

      Gargi Nalawade
      Cisco Systems, Inc
      170 West Tasman Drive
      San Jose, CA 95134
      Email:gargi@cisco.com

      Chandra Appanna
      Cisco Systems, Inc
      170 West Tasman Drive
      San Jose, CA 95134
      Email: achandra@cisco.com


10. Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards- related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances
   of licenses to be made available, or the result of an attempt made
   to obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification
   can be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


11. Full Copyright Statement

   Copyright (C) The Internet Society (2001).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph



draft-kapoor-nalawade-idr-bgp-ssa-00.txt                                [Page 5]

Internet Draft draft-kapoor-nalawade-idr-bgp-ssa-00.txt                June 2003


   are included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.  The limited permissions granted above are perpetual and
   will not be revoked by the Internet Society or its successors or
   assigns.  This document and the information contained herein is
   provided on an "AS IS" basis and THE INTERNET SOCIETY AND THE
   INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."


12. Expiration Date

   This memo is filed as <draft-kapoor-nalawade-idr-bgp-ssa-00.txt>, and
   expires Dec, 2003.






























draft-kapoor-nalawade-idr-bgp-ssa-00.txt                                [Page 6]

