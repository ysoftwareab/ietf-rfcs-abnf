<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>EVPN multi-homing port-active load-balancing</title>
<meta content="Patrice Brissette" name="author">
<meta content="Ali Sajassi" name="author">
<meta content="Luc Andre Burdet" name="author">
<meta content="Samir Thoria" name="author">
<meta content="Bin Wen" name="author">
<meta content="Edward Leyton" name="author">
<meta content="Jorge Rabadan" name="author">
<meta content="
       The Multi-Chassis Link Aggregation Group (MC-LAG) technology enables
   establishing a logical link-aggregation connection with a
   redundant group of independent nodes. The purpose of multi-chassis
   LAG is to provide a solution to achieve higher network availability,
   while providing different modes of sharing/balancing of traffic.
   RFC7432 defines EVPN based MC-LAG with single-active and all-active
   multi‑homing load‑balancing mode. The current draft expands on
   existing redundancy mechanisms supported by EVPN and introduces
   support for port-active load‑balancing mode. 
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="Port-Active" name="keyword">
<meta content="EVPN" name="keyword">
<meta content="Multi-homing" name="keyword">
<meta content="draft-ietf-bess-evpn-mh-pa-05" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-bess-evpn-mh-pa-05-fmc8rp86.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">EVPN MH Port-Active</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Brissette, et al.</td>
<td class="center">Expires 8 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">BESS Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-bess-evpn-mh-pa-05</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-07" class="published">7 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-08">8 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">P. Brissette, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">A. Sajassi</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">LA. Burdet, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">S. Thoria</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">B. Wen</div>
<div class="org">Comcast</div>
</div>
<div class="author">
      <div class="author-name">E. Leyton</div>
<div class="org">Verizon Wireless</div>
</div>
<div class="author">
      <div class="author-name">J. Rabadan</div>
<div class="org">Nokia</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">EVPN multi-homing port-active load-balancing</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The Multi-Chassis Link Aggregation Group (MC-LAG) technology enables
   establishing a logical link-aggregation connection with a
   redundant group of independent nodes. The purpose of multi-chassis
   LAG is to provide a solution to achieve higher network availability,
   while providing different modes of sharing/balancing of traffic.
   RFC7432 defines EVPN based MC-LAG with single-active and all-active
   multi‑homing load‑balancing mode. The current draft expands on
   existing redundancy mechanisms supported by EVPN and introduces
   support for port-active load‑balancing mode.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-10">
<a href="#name-status-of-this-memo-10" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 8 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-10">
<a href="#name-copyright-notice-10" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-10">
<a href="#name-table-of-contents-10" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-10" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-requirements-language-3" class="xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-multi-chassis-link-aggregat" class="xref">Multi-Chassis Link Aggregation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-port-active-load-balancing-" class="xref">Port-active Load-balancing Procedure</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-designated-forwarder-algori" class="xref">Designated Forwarder Algorithm to Elect per Port-active PE</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-capability-flag" class="xref">Capability Flag</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-modulo-based-algorithm" class="xref">Modulo-based Algorithm</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-hrw-algorithm" class="xref">HRW Algorithm</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-preference-based-df-electio" class="xref">Preference-based DF Election</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-ac-influenced-df-election" class="xref">AC-Influenced DF Election</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-convergence-considerations" class="xref">Convergence considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-primary-backup-per-ethernet" class="xref">Primary / Backup per Ethernet-Segment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-backward-compatibility" class="xref">Backward Compatibility</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-applicability" class="xref">Applicability</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-overall-advantages" class="xref">Overall Advantages</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations-8" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations-10" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-acknowledgements-6" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-references-9" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-normative-references-10" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-informative-references-9" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses-10" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction-10">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-10" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">EVPN, as per <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>, provides all-active per flow load‑balancing
     for multi‑homing. It also defines single-active with service carving
     mode, where one of the PEs, in redundancy relationship, is active per
     service.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">While these two multi‑homing scenarios are most widely utilized in
     data center and service provider access networks, there are scenarios
     where active-standby per interface multi‑homing load‑balancing is useful
     and required. The main consideration for this mode of load‑balancing is
     the determinism of traffic forwarding through a specific interface
     rather than statistical per flow load‑balancing across multiple PEs
     providing multi‑homing. The determinism provided by active-standby
     per interface is also required for certain QOS features to work.
     While using this mode, customers also expect minimized convergence
     during failures.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">A new type of load‑balancing mode, port-active load‑balancing, is defined.
     This draft describes how the new load‑balancing mode can be supported
     via EVPN. The new mode may also be referred to as per interface
   active/standby.<a href="#section-1-3" class="pilcrow">¶</a></p>
<span id="name-mc-lag-topology"></span><div id="Topology">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-1-4.1">
<pre>

                 +-----+
                 | PE3 |
                 +-----+
              +-----------+
              |  MPLS/IP  |
              |  CORE     |
              +-----------+
            +-----+   +-----+
            | PE1 |   | PE2 |
            +-----+   +-----+
               |         |
               I1       I2
                 \     /
                  \   /
                  +---+
                  |CE1|
                  +---+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-mc-lag-topology" class="selfRef">MC-LAG Topology</a>
        </figcaption></figure>
</div>
<p id="section-1-5"><a href="#Topology" class="xref">Figure 1</a> shows a MC-LAG multi‑homing topology where PE1 and PE2 are
     part of the same redundancy group providing multi‑homing to CE1 via
     interfaces I1 and I2. Interfaces I1 and I2 are members of a LAG running LACP
     protocol. The core, shown as IP or MPLS
     enabled, provides wide range of L2 and L3 services. MC-LAG multi‑homing
     functionality is decoupled from those services in the core and
     it focuses on providing multi‑homing to the CE. With per-port
     active/standby load‑balancing, only one of the two interface I1 or I2
     would be in forwarding, the other interface will be in standby. This
     also implies that all services on the active interface are in active
     mode and all services on the standby interface operate in standby
     mode.<a href="#section-1-5" class="pilcrow">¶</a></p>
<div id="requirements">
<section id="section-1.1">
        <h3 id="name-requirements-language-3">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language-3" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
          "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
          RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
          interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>
          <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in
          all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<section id="section-2">
      <h2 id="name-multi-chassis-link-aggregat">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-multi-chassis-link-aggregat" class="section-name selfRef">Multi-Chassis Link Aggregation</a>
      </h2>
<p id="section-2-1">When a CE is multi‑homed to a set of PE nodes using the <span>[<a href="#IEEE.802.1AX_2014" class="xref">IEEE.802.1AX_2014</a>]</span>
   Link Aggregation Control Protocol (LACP), the PEs must act as if they
   were a single LACP speaker for the Ethernet links to form and operate as a Link Aggregation Group (LAG). To achieve this, the
   PEs connected to the same multi‑homed CE must synchronize LACP
   configuration and operational data among them. Interchassis
   Communication Protocol (ICCP) <span>[<a href="#RFC7275" class="xref">RFC7275</a>]</span> has been used for that purpose.
   EVPN LAG simplifies greatly that solution. Along with the
   simplification come a few assumptions:<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">a CE device connected to multi‑homing PEs may have a single LAG with
     all its active links i.e. links in the LAG operate in
     all-active load‑balancing mode.<a href="#section-2-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.2">Same LACP parameters MUST be configured on peering PEs such as
     system id, port priority and port key.<a href="#section-2-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-3">Any discrepancies from this list are out of the scope of this document, as are mis-configuration and mis-wiring detection across
   peering PEs.<a href="#section-2-3" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-port-active-load-balancing-">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-port-active-load-balancing-" class="section-name selfRef">Port-active Load-balancing Procedure</a>
      </h2>
<p id="section-3-1">Following steps describe the proposed procedure with EVPN LAG to
   support port-active load‑balancing mode:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-3-2">
        <li id="section-3-2.1">The Ethernet-Segment Identifier (ESI) MUST be assigned per access
        interface as described in  <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>, which may be auto derived or
        manually assigned. Access interface MAY be a Layer‑2 or Layer‑3
        interface. The usage of ESI over Layer‑3 interface is newly described in
        this document.<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.2">Ethernet-Segment (ES) MUST be configured in port-active load‑balancing
        mode on peering PEs for specific access interface.<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.3">Peering PEs MAY exchange only Ethernet-Segment (ES) route (Route Type‑4)
        when ESI is configured on a Layer‑3 interface.<a href="#section-3-2.3" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.4">PEs in the redundancy group leverage the DF election defined in
        <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> to determine which PE keeps the port in active mode and
        which one(s) keep it in standby mode.  While the DF election defined
        in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> is per [ES, Ethernet Tag] granularity, for port-active
         mode of multi‑homing, the DF election is done per &lt;ES&gt;.  The details
        of this algorithm are described in <a href="#df_algo" class="xref">Section 4</a>.<a href="#section-3-2.4" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.5">DF router MUST keep corresponding access interface in up and
        forwarding active state for that Ethernet-Segment<a href="#section-3-2.5" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.6">
          <p id="section-3-2.6.1">Non-DF routers will by default implement a bidirectional blocking scheme for all
        traffic in line with <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> Single-Active blocking scheme, albeit across all VLANS.<a href="#section-3-2.6.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.6.2.1">Non-DF routers MAY bring and keep peering access interface attached to it in
            operational down state.<a href="#section-3-2.6.2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3-2.6.2.2">If the interface is running LACP protocol, then the non-DF PE MAY also set the LACP state to OOS
            (Out of Sync) as opposed to interface state down. This allows for
            better convergence on standby to active transition.<a href="#section-3-2.6.2.2" class="pilcrow">¶</a>
</li>
          </ul>
</li>
        <li id="section-3-2.7">For EVPN-VPWS service, the usage of primary/backup bits of EVPN
     Layer‑2 attributes extended community <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span> is highly recommended
     to achieve better convergence.<a href="#section-3-2.7" class="pilcrow">¶</a>
</li>
      </ol>
</section>
<div id="df_algo">
<section id="section-4">
      <h2 id="name-designated-forwarder-algori">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-designated-forwarder-algori" class="section-name selfRef">Designated Forwarder Algorithm to Elect per Port-active PE</a>
      </h2>
<p id="section-4-1">The ES routes, running in port-active load‑balancing mode, are
      advertised with the new Port Mode Load-Balancing capability in the DF Election Extended
      Community defined in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>. Moreover, the ES associated to the
      port leverages existing procedure of Single-Active, and signals
      Single-Active(RED=01) Multihomed site redundancy mode along with Ethernet-AD per-ES route
      (<span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-rfc7432bis-04#section-7.5" class="relref">Section 7.5</a> of [<a href="#I-D.ietf-bess-rfc7432bis" class="xref">I-D.ietf-bess-rfc7432bis</a>]</span>). Finally the ESI-label based
      split-horizon procedures in <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> should be used
      to avoid transient echo'ed packets when Layer‑2 circuits are involved.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The various algorithms for DF Election are discussed in Sections <a href="#modulo" class="xref">4.2</a> to <a href="#ac_df" class="xref">4.5</a> for completeness, although the choice of algorithm
      in this solution doesn't affect complexity or performance as in other load-balancing modes.<a href="#section-4-2" class="pilcrow">¶</a></p>
<div id="cap_flag">
<section id="section-4.1">
        <h3 id="name-capability-flag">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-capability-flag" class="section-name selfRef">Capability Flag</a>
        </h3>
<p id="section-4.1-1">
        <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> defines a DF Election extended community, and a Bitmap
       field to encode "capabilities" to use with the DF election algorithm
       in the DF algorithm field. Bitmap (2 octets) is extended by the
     following value:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<span id="name-amended-bitmap-field-in-the"></span><div id="Bitmap">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.1-2.1">
<pre>

                         1 1 1 1 1 1
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |D|A|     |P|                   |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-amended-bitmap-field-in-the" class="selfRef">Amended Bitmap field in the DF Election Extended Community</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.1-3">
          <dt id="section-4.1-3.1">Bit 0:</dt>
          <dd style="margin-left: 5.0em" id="section-4.1-3.2">D bit or 'Don't Preempt' bit, as explained in <span>[<a href="#I-D.ietf-bess-evpn-pref-df" class="xref">I-D.ietf-bess-evpn-pref-df</a>]</span>.<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.3">Bit 1:</dt>
          <dd style="margin-left: 5.0em" id="section-4.1-3.4">AC-DF Capability (AC-Influenced DF election), as explained in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>.<a href="#section-4.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.5">Bit 5:</dt>
          <dd style="margin-left: 5.0em" id="section-4.1-3.6">(corresponds to Bit 29 of the DF Election Extended 
             Community and it is defined by this document): 
             'Port Mode Load-Balancing' Capability (P bit hereafter), determines 
             that the DF-Algorithm should be modified to consider 
             the port ES only and not the Ethernet Tags.<a href="#section-4.1-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="modulo">
<section id="section-4.2">
        <h3 id="name-modulo-based-algorithm">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-modulo-based-algorithm" class="section-name selfRef">Modulo-based Algorithm</a>
        </h3>
<p id="section-4.2-1">The default DF Election algorithm, or modulus-based algorithm as in
      <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> and updated by <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>, is used here, at the granularity
     of ES only. Given that ES-Import Route Target extended community may be auto-derived and
     directly inherits its auto-derived value from ESI bytes 1-6, many operators differentiate ESI
     primarily within these bytes.
     As a result, bytes 3‑6 are used to determine the designated forwarder using Modulo-based DF
     assignment, achieving good entropy during Modulo calculation across ESIs:<br>
     Assuming a redundancy group of N PE nodes, the PE with ordinal i is the DF for an &lt;EE&gt;
     when (Es mod N) = i, where Es represents bytes 3‑6 of that ESI.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="hrw">
<section id="section-4.3">
        <h3 id="name-hrw-algorithm">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-hrw-algorithm" class="section-name selfRef">HRW Algorithm</a>
        </h3>
<p id="section-4.3-1">
       Highest Random Weight (HRW) algorithm defined in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> MAY also
       be used and signaled, and modified to operate at the granularity of
       &lt;ES&gt; rather than per &lt;ES, VLAN&gt;.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2"><span><a href="https://rfc-editor.org/rfc/rfc8584#section-3.2" class="relref">Section 3.2</a> of [<a href="#RFC8584" class="xref">RFC8584</a>]</span> describes computing a 32 bit CRC over the concatenation of
       Ethernet Tag and ESI. For port-active load‑balancing mode, the
       Ethernet Tag is simply removed from the CRC computation.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">DF(Es) denotes the DF and BDF(Es) denote the BDF for the ESI es; Si is the IP address of PE i; and Weight is a function of Si, and Es.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.3-4">
           <li id="section-4.3-4.1">DF(Es) = Si| Weight(Es, Si) &gt;= Weight(Es, Sj), for all j.
           In the case of a tie, choose the PE whose IP address is
           numerically the least.  Note that 0 &lt;= i,j &lt; number of PEs in the
           redundancy group.<a href="#section-4.3-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.3-4.2">BDF(Es) = Sk| Weight(Es, Si) &gt;= Weight(Es, Sk), and
            Weight(Es, Sk) &gt;= Weight(Es, Sj).  In the case of a tie,
            choose the PE whose IP address is numerically the least.<a href="#section-4.3-4.2" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-4.3-5">Where:<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-6.1">DF(Es) is defined to be the address Si (index i) for which
           Weight(Es, Si) is the highest; 0 &lt;= i &lt; N-1.<a href="#section-4.3-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-6.2">BDF(Es) is defined as that PE with address Sk for which the
           computed Weight is the next highest after the Weight of the DF.
           j is the running index from 0 to N-1; i and k are selected values.<a href="#section-4.3-6.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="pref_df">
<section id="section-4.4">
        <h3 id="name-preference-based-df-electio">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-preference-based-df-electio" class="section-name selfRef">Preference-based DF Election</a>
        </h3>
<p id="section-4.4-1"> When the new capability 'Port-Mode' is signaled, the algorithm is
       modified to consider the port only and not any associated Ethernet
       Tags. Furthermore, the "port-based" capability MUST be compatible
       with the "Don't Preempt" bit. When an interface recovers,
       a peering PE signaling D-bit will enable non-revertive behaviour at
       the port level.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ac_df">
<section id="section-4.5">
        <h3 id="name-ac-influenced-df-election">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-ac-influenced-df-election" class="section-name selfRef">AC-Influenced DF Election</a>
        </h3>
<p id="section-4.5-1">The AC-DF bit MUST be set to 0 when advertising Port Mode Load-Balancing capability
        (P=1).
        When an AC (sub-interface) goes down, it does not influence the DF election. The peer's
        Ethernet A-D per EVI is ignored in all Port Mode DF Election algorthms.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2">Upon receiving AC-DF bit set (A=1) from a remote PE, it MUST be ignored when performing
        Port-Mode DF Election.<a href="#section-4.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-5">
      <h2 id="name-convergence-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-convergence-considerations" class="section-name selfRef">Convergence considerations</a>
      </h2>
<p id="section-5-1">To improve the convergence, upon failure and recovery, when port‑active
   load‑balancing mode is used, some advanced synchronization
   between peering PEs may be required. Port-active is challenging in a
   sense that the "standby" port is in down state. It takes some time to
   bring a "standby" port in up-state and settle the network. For IRB
   and L3 services, ARP / ND cache may be synchronized. Moreover,
   associated VRF tables may also be synchronized. For L2 services, MAC
   table synchronization may be considered.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Finally, for members of a LAG running LACP the
   ability to set the "standby" port in "out-of-sync" state a.k.a "warm‑standby"
   can be leveraged.<a href="#section-5-2" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-primary-backup-per-ethernet">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-primary-backup-per-ethernet" class="section-name selfRef">Primary / Backup per Ethernet-Segment</a>
        </h3>
<p id="section-5.1-1">The EVPN Layer 2 Attributes Control Flags extended community SHOULD be advertised in Ethernet A-D per ES route
        for fast convergence.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">Only the P and B bits are relevant to this document, and only in the context of
        Ethernet A-D per ES routes:<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-3.1">When advertised, the EVPN Layer 2 Attributes Control Flags extended community SHALL have
            only P or B bits set and all other bits and fields MUST be zero.<a href="#section-5.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.1-3.2">A remote PE receiving the optional EVPN Layer 2 Attributes Control Flags extended community in Ethernet A-D per ES routes
            SHALL consider only P and B bits.<a href="#section-5.1-3.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-4">For EVPN Layer 2 Attributes Control Flags extended community sent and received in Ethernet A-D per EVI
     routes used in <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span>, <span>[<a href="#I-D.ietf-bess-rfc7432bis" class="xref">I-D.ietf-bess-rfc7432bis</a>]</span> and <span>[<a href="#I-D.ietf-bess-evpn-vpws-fxc" class="xref">I-D.ietf-bess-evpn-vpws-fxc</a>]</span>:<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-5.1">P and B bits received are overridden by "parent" bits on Ethernet A-D per ES above.<a href="#section-5.1-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.1-5.2">Other fields and bits of the extended community are used according to the procedures
            of those documents.<a href="#section-5.1-5.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="section-5.2">
        <h3 id="name-backward-compatibility">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-backward-compatibility" class="section-name selfRef">Backward Compatibility</a>
        </h3>
<p id="section-5.2-1">Implementations that comply with <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> or <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span> only (i.e., implementations 
    that predate this document) will not advertise the EVPN Layer 2 Attributes Control Flags extended community
    in Ethernet A-D per ES routes.  That means that all remote PEs in the ES will
    not receive P and B bit per ES and will continue to receive and honour
    the P and B bits received in Ethernet A-D per EVI route(s).
    Similarly, an implementation that complies with <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> or <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span> only and
    that receives an EVPN Layer 2 Attributes Control Flags extended community will ignore it and will continue
    to use the default path resolution algorithm.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-6">
      <h2 id="name-applicability">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-applicability" class="section-name selfRef">Applicability</a>
      </h2>
<p id="section-6-1">A common deployment is to provide L2 or L3 service on the PEs
   providing multi‑homing. The services could be any L2 EVPN such as
   EVPN VPWS, EVPN  <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>, etc. L3 service could be in VPN context
   <span>[<a href="#RFC4364" class="xref">RFC4364</a>]</span> or in global routing context. When a PE provides first hop
   routing, EVPN IRB could also be deployed on the PEs. The mechanism
   defined in this document is used between the PEs providing L2 and/or
   L3 services, when per interface single-active load‑balancing is desired.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">A possible alternate solution is the one described in this draft is
   MC-LAG with ICCP <span>[<a href="#RFC7275" class="xref">RFC7275</a>]</span> active-standby redundancy. However, ICCP
   requires LDP to be enabled as a transport of ICCP messages. There are
   many scenarios where LDP is not required e.g. deployments with VXLAN
   or SRv6. The solution defined in this draft with EVPN does not
   mandate the need to use LDP or ICCP and is independent of the
   underlay encapsulation.<a href="#section-6-2" class="pilcrow">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-overall-advantages">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-overall-advantages" class="section-name selfRef">Overall Advantages</a>
      </h2>
<p id="section-7-1">The use of port-active multi‑homing brings the following benefits to
   EVPN networks:<a href="#section-7-1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-7-2">
<li id="section-7-2.1">Open standards based per interface single-active load‑balancing
     mechanism that eliminates the need to run ICCP and LDP (e.g. they may be running VXLAN or SRv6 in the
     network).<a href="#section-7-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-7-2.2">Agnostic of underlay technology (MPLS, VXLAN, SRv6) and associated
     services (L2, L3, Bridging, E-LINE, etc).<a href="#section-7-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-7-2.3">Provides a way to enable deterministic QOS over MC-LAG attachment
     circuits.<a href="#section-7-2.3" class="pilcrow">¶</a>
</li>
        <li id="section-7-2.4">Fully compliant with  <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>, does not require any new protocol
     enhancement to existing EVPN RFCs.<a href="#section-7-2.4" class="pilcrow">¶</a>
</li>
        <li id="section-7-2.5">Can leverage various DF election algorithms e.g. modulo, HRW, etc.<a href="#section-7-2.5" class="pilcrow">¶</a>
</li>
        <li id="section-7-2.6">
          <p id="section-7-2.6.1">Replaces legacy MC-LAG ICCP-based solution, and offers following
     additional benefits:<a href="#section-7-2.6.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-2.6.2.1">Efficiently supports 1+N redundancy mode (with EVPN using BGP
       RR) where as ICCP requires full mesh of LDP sessions among PEs in
       redundancy group.<a href="#section-7-2.6.2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7-2.6.2.2">Fast convergence with mass-withdraw is possible with EVPN, no
       equivalent in ICCP.<a href="#section-7-2.6.2.2" class="pilcrow">¶</a>
</li>
          </ul>
</li>
      </ol>
</section>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations-8">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations-8" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document solicits the allocation of the following values:<a href="#section-8-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-2.1">Bit 5 in the  <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> DF Election Capabilities registry, 
     with name "P" for Port Mode Load-Balancing.<a href="#section-8-2.1" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<section id="section-9">
      <h2 id="name-security-considerations-10">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations-10" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">The same Security Considerations described in <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> and  <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> are valid for this
      document.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">By introducing a new capability, a new requirement for unanimity (or lack thereof) between PEs is
      added. Without consensus on the new DF election procedures and Port Mode,
      the DF election algorithm falls back to the default DF
      election as provided in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>, <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> and <span>[<a href="#I-D.ietf-bess-rfc7432bis" class="xref">I-D.ietf-bess-rfc7432bis</a>]</span>.
      This behavior could be exploited by an attacker that manages to modify the configuration of one PE in
      the ES so that the DF election algorithm and capabilities in all the
      PEs in the ES fall back to the default DF election.  If that is the
      case, the PEs will be exposed to the same unfair load balancing, service
      disruption, and possibly black-holing or duplicate traffic mentioned in those documents and their security
      sections.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-acknowledgements-6">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-acknowledgements-6" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-10-1">The authors thank Anoop Ghanwani for his comments and suggestions and Stephane Litkowski
      for his careful review.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
<section id="section-11">
      <h2 id="name-references-9">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references-9" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references-10">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references-10" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-bess-evpn-pref-df">[I-D.ietf-bess-evpn-pref-df]</dt>
        <dd>
<span class="refAuthor">Rabadan, J.</span>, <span class="refAuthor">Sathappan, S.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Lin, W.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Sajassi, A.</span>, and <span class="refAuthor">satyamoh@cisco.com</span>, <span class="refTitle">"Preference-based EVPN DF Election"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-pref-df-08</span>, <time datetime="2021-09-23" class="refDate">23 September 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bess-evpn-pref-df-08.txt">https://www.ietf.org/archive/id/draft-ietf-bess-evpn-pref-df-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-rfc7432bis">[I-D.ietf-bess-rfc7432bis]</dt>
        <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Burdet, L. A.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-rfc7432bis-04</span>, <time datetime="2022-03-07" class="refDate">7 March 2022</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bess-rfc7432bis-04.txt">https://www.ietf.org/archive/id/draft-ietf-bess-rfc7432bis-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7432">[RFC7432]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Isaac, A.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="seriesInfo">RFC 7432</span>, <span class="seriesInfo">DOI 10.17487/RFC7432</span>, <time datetime="2015-02" class="refDate">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7432">https://www.rfc-editor.org/info/rfc7432</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8214">[RFC8214]</dt>
        <dd>
<span class="refAuthor">Boutros, S.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"Virtual Private Wire Service Support in Ethernet VPN"</span>, <span class="seriesInfo">RFC 8214</span>, <span class="seriesInfo">DOI 10.17487/RFC8214</span>, <time datetime="2017-08" class="refDate">August 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8214">https://www.rfc-editor.org/info/rfc8214</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8584">[RFC8584]</dt>
      <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Mohanty, S., Ed.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Nagaraj, K.</span>, and <span class="refAuthor">S. Sathappan</span>, <span class="refTitle">"Framework for Ethernet VPN Designated Forwarder Election Extensibility"</span>, <span class="seriesInfo">RFC 8584</span>, <span class="seriesInfo">DOI 10.17487/RFC8584</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8584">https://www.rfc-editor.org/info/rfc8584</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references-9">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informative-references-9" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-bess-evpn-vpws-fxc">[I-D.ietf-bess-evpn-vpws-fxc]</dt>
        <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Brissette, P.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Boutros, S.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"EVPN VPWS Flexible Cross-Connect Service"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-vpws-fxc-05</span>, <time datetime="2022-02-08" class="refDate">8 February 2022</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bess-evpn-vpws-fxc-05.txt">https://www.ietf.org/archive/id/draft-ietf-bess-evpn-vpws-fxc-05.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE.802.1AX_2014">[IEEE.802.1AX_2014]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks -- Link Aggregation"</span>, <span class="seriesInfo">IEEE 802.1AX-2014</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2014.7055197</span>, <time datetime="2014-12-24" class="refDate">24 December 2014</time>, <span>&lt;<a href="http://ieeexplore.ieee.org/servlet/opac?punumber=6997981">http://ieeexplore.ieee.org/servlet/opac?punumber=6997981</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4364">[RFC4364]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span> and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP/MPLS IP Virtual Private Networks (VPNs)"</span>, <span class="seriesInfo">RFC 4364</span>, <span class="seriesInfo">DOI 10.17487/RFC4364</span>, <time datetime="2006-02" class="refDate">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4364">https://www.rfc-editor.org/info/rfc4364</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7275">[RFC7275]</dt>
      <dd>
<span class="refAuthor">Martini, L.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Bocci, M.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">T. Nadeau</span>, <span class="refTitle">"Inter-Chassis Communication Protocol for Layer 2 Virtual Private Network (L2VPN) Provider Edge (PE) Redundancy"</span>, <span class="seriesInfo">RFC 7275</span>, <span class="seriesInfo">DOI 10.17487/RFC7275</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7275">https://www.rfc-editor.org/info/rfc7275</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses-10">
<a href="#name-authors-addresses-10" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Patrice Brissette (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left">
<span class="locality">Ottawa</span> <span class="region">ON</span> </div>
<div dir="auto" class="left"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:pbrisset@cisco.com" class="email">pbrisset@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ali Sajassi</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:sajassi@cisco.com" class="email">sajassi@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Luc Andre Burdet (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lburdet@cisco.com" class="email">lburdet@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Samir Thoria</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:sthoria@cisco.com" class="email">sthoria@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bin Wen</span></div>
<div dir="auto" class="left"><span class="org">Comcast</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Bin_Wen@comcast.com" class="email">Bin_Wen@comcast.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Edward Leyton</span></div>
<div dir="auto" class="left"><span class="org">Verizon Wireless</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:edward.leyton@verizonwireless.com" class="email">edward.leyton@verizonwireless.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jorge Rabadan</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jorge.rabadan@nokia.com" class="email">jorge.rabadan@nokia.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
