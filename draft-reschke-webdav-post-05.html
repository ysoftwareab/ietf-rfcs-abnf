<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Using POST to add Members to Web Distributed Authoring and Versioning (WebDAV) Collections</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Using POST to add Members to Web Distributed Authoring and Versioning (WebDAV) Collections">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Reschke</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">greenbytes</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">November 22, 2009</td></tr>
<tr><td class="header">Expires: May 26, 2010</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Using POST to add Members to Web Distributed Authoring and Versioning (WebDAV) Collections<br />draft-reschke-webdav-post-05</h1>

<h3>Abstract</h3>

<p>
      The Hypertext Transfer Protocol (HTTP) Extensions for the Web Distributed
      Authoring and Versioning (WebDAV) do not define the behavior for the
      "POST" method when applied to collections, as the base specification
      (HTTP) leaves implementers lots of freedom for the semantics of "POST".
    
</p>
<p>
      This has led to a situation where many WebDAV servers do not implement
      POST for collections at all, although it is well suited to be
      used for the purpose of adding new members to a collection, where the server
      remains in control of the newly assigned URL. As a matter of fact,
      the Atom Publishing Protocol (AtomPub) uses POST exactly for that purpose.
      On the other hand, WebDAV-based protocols such as the Calendar Extensions 
      to WebDAV (CalDAV) frequently
      require clients to pick a unique URL, although the server could easily
      perform that task.
    
</p>
<p>
      This specification defines a discovery mechanism through which servers
      can advertise support for POST requests with the aforementioned
      "add collection member" semantics.
    
</p>
<h3>Editorial Note (To be removed by RFC Editor before publication)</h3>

<p>
      Please send comments to the Distributed Authoring and Versioning (WebDAV)
      working group at <a href='mailto:w3c-dist-auth@w3.org'>mailto:w3c-dist-auth@w3.org</a>, which may
      be joined by sending a message with subject "subscribe" to
      <a href='mailto:w3c-dist-auth-request@w3.org'>mailto:w3c-dist-auth-request@w3.org</a>.  Discussions of the
      WEBDAV working group are archived at
      <a href='http://lists.w3.org/Archives/Public/w3c-dist-auth/'>http://lists.w3.org/Archives/Public/w3c-dist-auth/</a>.
    
</p>
<p>
      Note that although discussion takes place on the WebDAV working
      group's mailing list, this is not a working group document.
    
</p>
<p>
      XML versions, latest edits and the issues list for this document
      are available from <a href='http://greenbytes.de/tech/webdav/#draft-reschke-webdav-post'>http://greenbytes.de/tech/webdav/#draft-reschke-webdav-post</a>.
    
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 26, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
<a href="#terminology">2.</a>&nbsp;
Terminology<br />
<a href="#anchor1">3.</a>&nbsp;
Protocol Extension<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">3.1.</a>&nbsp;
Definition of 'Add-Member' URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#discovery">3.2.</a>&nbsp;
Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.2.1.</a>&nbsp;
DAV:add-member Property (protected)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.2.2.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.3.</a>&nbsp;
Relation to AtomPub's 'Slug' Header Field<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.4.</a>&nbsp;
Example Operation<br />
<a href="#anchor7">4.</a>&nbsp;
Additional Semantics for existing Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.1.</a>&nbsp;
Additional Preconditions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">4.2.</a>&nbsp;
Example: Failed PUT Request<br />
<a href="#anchor10">5.</a>&nbsp;
Relationship to WebDAV Access Control Protocol<br />
<a href="#internationalization.considerations">6.</a>&nbsp;
Internationalization Considerations<br />
<a href="#anchor11">7.</a>&nbsp;
IANA Considerations<br />
<a href="#security.considerations">8.</a>&nbsp;
Security Considerations<br />
<a href="#anchor12">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">10.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">10.2.</a>&nbsp;
Informative References<br />
<a href="#anchor15">Appendix&nbsp;A.</a>&nbsp;
Change Log (to be removed by RFC Editor before publication)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">A.1.</a>&nbsp;
since draft-reschke-webdav-post-00<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">A.2.</a>&nbsp;
since draft-reschke-webdav-post-01<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">A.3.</a>&nbsp;
since draft-reschke-webdav-post-02<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">A.4.</a>&nbsp;
since draft-reschke-webdav-post-03<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">A.5.</a>&nbsp;
since draft-reschke-webdav-post-04<br />
<a href="#anchor21">Appendix&nbsp;B.</a>&nbsp;
Open issues (to be removed by RFC Editor prior to publication)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">B.1.</a>&nbsp;
edit<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">B.2.</a>&nbsp;
collection<br />
<a href="#rfc.index">&#167;</a>&nbsp;
Index<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
    The Hypertext Transfer Protocol (HTTP) Extensions for the Web Distributed
    Authoring and Versioning (WebDAV) (<a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>, Section 9.5) do not
    define the behavior for the
    "POST" method when applied to collections, as the base specification
    (HTTP) leaves implementers lots of freedom for the semantics of "POST":
  
</p>
<p></p>
<blockquote class="text">
<p>
      9.5 POST for Collections
    
</p>
<p>
      Since by definition the actual function performed by POST is determined
      by the server and often depends on the particular resource, the behavior
      of POST when applied to collections cannot be meaningfully modified
      because it is largely undefined. Thus, the semantics of POST are
      unmodified when applied to a collection.
    
</p>
</blockquote>

<p>
    This has led to a situation where many WebDAV servers do not implement
    POST for collections at all, although it is well suited to be
    used for the purpose of adding new members to a collection, where the server
    remains in control of the newly assigned URL. As a matter of fact,
    the Atom Publishing Protocol (AtomPub) uses POST exactly for that purpose
    (<a class='info' href='#RFC5023'>[RFC5023]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>, Section 9.2):
  
</p>
<p></p>
<blockquote class="text">
<p>
      9.2 Creating Resources with POST
    
</p>
<p>
      To add members to a Collection, clients send POST requests to the URI of
      the Collection.
    
</p>
</blockquote>

<p>
    On the other hand, WebDAV-based protocols such as Calendaring Extensions to
    WebDAV (CalDAV) frequently require clients to pick a unique URL, although
    the server could easily perform that task (<a class='info' href='#RFC4791'>[RFC4791]<span> (</span><span class='info'>Daboo, C., Desruisseaux, B., and L. Dusseault, &ldquo;Calendaring Extensions to WebDAV (CalDAV),&rdquo; March&nbsp;2007.</span><span>)</span></a>, Section 5.3.2):
  
</p>
<p></p>
<blockquote class="text">
<p>
      5.3.2 Creating Calendar Object Resources
    
</p>
<p>
      ...
    
</p>
<p>
      When servers create new resources, it's not hard for the server to choose
      an unmapped URI. It's slightly tougher for clients, because a client
      might not want to examine all resources in the collection and might not
      want to lock the entire collection to ensure that a new resource isn't
      created with a name collision. (...)
    
</p>
</blockquote>

<p>
    As a matter of fact, letting the server choose the member URI not only is a 
    simplification for certain types of clients, but can also reduce the complexity
    of the server (in that it doesn't need to persist an additional
    client-supplied identifier where it already has an internal one like
    a UUID or a primary key).
  
</p>
<p></p>
<blockquote class="text">
<p>
      Note: the vCard Extensions to WebDAV (CardDAV) (<a class='info' href='#draft-ietf-vcarddav-carddav'>[draft&#8209;ietf&#8209;vcarddav&#8209;carddav]<span> (</span><span class='info'>Daboo, C., &ldquo;vCard Extensions to WebDAV (CardDAV),&rdquo; November&nbsp;2009.</span><span>)</span></a>)
      suffer from the same issue, and may be able to take advantage of this
      specification.
    
</p>
</blockquote>

<p>
    This specification defines a discovery mechanism through which servers
    can advertise support for POST requests with the aforementioned
    "add collection member" semantics.
  
</p>
<p>
    Note that this specification deliberately only adresses the use case of
    creating new non-collection resources, and that it was not a goal to
    supply the same functionality for creating collection resources (MKCOL),
    or for other operations that require the client to specify a new URL
    (LOCK, MOVE, or COPY). 
  
</p>
<p></p>
<blockquote class="text">
<p>
      Note: the author previously proposed a new HTTP method for
      exactly this purpose (<a class='info' href='#draft-reschke-http-addmember'>[draft&#8209;reschke&#8209;http&#8209;addmember]<span> (</span><span class='info'>Reschke, J., &ldquo;The HTTP ADDMEMBER Method,&rdquo; February&nbsp;2005.</span><span>)</span></a>), 
      but quite a few reviewers pointed out that this would duplicate the
      original semantics of POST. Thus this proposal that avoids adding
      a new HTTP method is made.
    
</p>
</blockquote>

<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
  The terminology used here follows that in the WebDAV specification
  (<a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>).

</p>
<p>
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
  "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
  interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>. 

</p>
<p>
  This document uses XML DTD fragments 
  (<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>) as a purely notational convention.  In particular:
  </p>
<ul class="text">
<li>Element ordering is irrelevant.
</li>
<li>Extension elements/attributes (elements/attributes not already defined
    as valid child elements) may be added anywhere, except when explicitly
    stated otherwise.
</li>
</ul><p>

</p>
<p></p>
<blockquote class="text">
<p>
    Note: this specification defines new properties and precondition
    names in the "DAV:" namespace, which the WebDAV specification reserves for
    use by the IETF (<a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>, Section 21.1). However,
    there was rough consensus in the WebDAV community that the specification is
    of general applicability to other WebDAV related standards efforts, and thus
    deserves inclusion into the base namespace.  
  
</p>
</blockquote>

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Protocol Extension</h3>

<p>
  Due to the reasons stated in <a class='info' href='#introduction'>Section&nbsp;1<span> (</span><span class='info'>Introduction</span><span>)</span></a>, clients
  can not rely on a specific server behavior when POST is applied to a
  collection. This problem is addressed by this specification by allowing
  servers to advertise a URI that has the desired "add member" semantics.

</p>
<p>
  Note that servers that already use POST for a different purpose can just
  expose a separate URI. Other servers can just advertise
  the collection's own URI, thus avoiding minting another URI for a limited
  purpose.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Definition of 'Add-Member' URI</h3>
<a name='anchor24'></a>
<p>
  The "Add-Member" URI of a WebDAV collection is a URI that will accept
  HTTP POST requests, and will interpret these as requests to store
  the enclosed entity as a new internal member of the collection (see
  Section 3 of <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a> for the definition of "internal
  member").
  It MUST identify a resource on the same server as the WebDAV collection
  (the host and port components (<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, Section 3.2.2) of the URIs must match).
  

</p>
<p>
  If there are pre-conditions related to creating a resource in the collection
  using a PUT request, then those same pre-conditions apply to the new POST
  request behavior, and the same HTTP response body will returned on failure.

</p>
<p>
  The URI of the newly created resource is returned in the HTTP Location
  response header field (<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, Section 14.30).

</p>
<p></p>
<blockquote class="text">
<p>
    Note: the fact that a server advertises an "Add-Member" URI
    does not imply any special semantics of the collection itself. For instance,
    member URIs assigned by the server are not necessarily unique over time (a member
    URI may be assigned again to a new resource when it previously was removed).
  
</p>
</blockquote>

<p></p>
<blockquote class="text">
<p>
    Note: the "Add-Member" URI can be the identical to the collection's 
    URI (in which case the server just advertises the fact that POST to the
    WebDAV collection's URI is supported as defined within this specification).
    But it can also be different from it, in which case it doesn't need to
    have any relation to the collection's URI.
  
<p>Given a collection URI of 
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   /docs/collection/
</pre></div>
  
<p>all of the URIs below might occur as "Add-Member" URIs:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   /docs/collection/
   /docs/collection/;post
   /docs/collection;post/
   /docs/collection/&amp;post
   /post-service?path=/collection/
</pre></div>

<p>
    The remainder of the document uses the same format just for reasons
    of consistency; any other HTTP URI on the same server would do as well.
  
</p>
</blockquote>

<a name="discovery"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Discovery</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
DAV:add-member Property (protected)</h3>

<p>
  DAV:add-member is a protected property (see <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>, Section 15)  defined on WebDAV collections, and 
  contains the "Add-Member" URI for that collection (embedded inside
  a DAV:href element).

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;!ELEMENT add-member (href)&gt;
&lt;!-- href: defined in [RFC4918], Section 14.7 --&gt;
</pre></div>
<p>
  A PROPFIND/allprop request SHOULD NOT return this property (see
  <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>, Section 9.1). Servers
  MUST implement the DAV:supported-live-property-set property defined
  in Section 3.1.4 of <a class='info' href='#RFC3253'>[RFC3253]<span> (</span><span class='info'>Clemm, G., Amsden, J., Ellison, T., Kaler, C., and J. Whitehead, &ldquo;Versioning Extensions to WebDAV,&rdquo; March&nbsp;2002.</span><span>)</span></a>, and report the property
  DAV:add-member as a supported live property.

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Example</h3>

<p>&gt;&gt;Request
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PROPFIND /collection/ HTTP/1.1
Host: example.com
Content-Type: application/xml; charset="utf-8"
Content-Length: 118

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;propfind xmlns="DAV:"&gt;
  &lt;prop&gt;
    &lt;add-member/&gt;
  &lt;/prop&gt;
&lt;/propfind&gt;
</pre></div>
<p>&gt;&gt;Response
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset="utf-8"
Content-Length: 340

&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;multistatus xmlns="DAV:"&gt;
  &lt;response&gt;
    &lt;href&gt;/collection/&lt;/href&gt;
    &lt;propstat&gt;
      &lt;prop&gt;
        &lt;add-member&gt;
          &lt;href&gt;/collection;add-member/&lt;/href&gt;
        &lt;/add-member&gt;
      &lt;/prop&gt;
      &lt;status&gt;HTTP/1.1 200 OK&lt;/status&gt;
    &lt;/propstat&gt;
  &lt;/response&gt;
&lt;/multistatus&gt;
</pre></div>
<p>
  Note that in this case, the server has minted a separate URI for the purpose
  of adding new content.

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Relation to AtomPub's 'Slug' Header Field</h3>

<p>
  In the AtomPub protocol, clients can use the entity header field "Slug" to
  suggest parts of the URI to be created (see <a class='info' href='#RFC5023'>[RFC5023]<span> (</span><span class='info'>Gregorio, J. and B. de hOra, &ldquo;The Atom Publishing Protocol,&rdquo; October&nbsp;2007.</span><span>)</span></a>, Section 9.7). Note that servers are free to ignore
  this suggestion, or to use whatever algorithm that makes sense to
  generate the new URI.

</p>
<p>
  The same applies to the extension defined here: clients can use the
  "Slug" header field as by its definition of a generic HTTP header field. Servers should
  process it exactly in the way defined by AtomPub.

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Example Operation</h3>

<p>&gt;&gt;Request
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
POST /collection;add-member/ HTTP/1.1
Host: example.com
Content-Type: text/plain
Slug: Sample Title
Content-Length: 12

Sample text.
</pre></div>
<p>&gt;&gt;Response
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 201 Created
Location: http://example.com/collection/sample%20title
</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Additional Semantics for existing Methods</h3>

<p>
  One important use case for this specification are collections that act
  as WebDAV collections for the purpose of read access (PROPFIND Depth 1/Infinity),
  but which only support internal member URIs assigned by the server.
  These collections will not allow a client to create a new member using
  methods like PUT, MKCOL, LOCK, COPY or MOVE. Therefore, this specification
  defines a new precondition name (<a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>, Section 16)
  that can be used to provide the client with additional information about
  why exactly the request failed.

</p>
<p></p>
<blockquote class="text">
<p>
  Note: although the precondition defined below can be used for
  methods other than PUT, the "Add-Member" mechanism defined by this
  specification deliberately is restricted to PUT.

</p>
</blockquote>

<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Additional Preconditions</h3>
<a name='anchor25'></a><a name='anchor26'></a><a name='anchor27'></a><a name='anchor28'></a><a name='anchor29'></a>
<p>
  <a name='anchor30'></a>
  <a name='anchor31'></a>
  (DAV:allow-client-defined-URI): the server allows clients to specify
  the last path segment for newly created resources.

</p>
<p>
  The precondition element MAY contain a add-member-uri
  XML element specifying the "Add-Member" URI associated with the collection,
  on which the creation of a new child resource was attempted:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;!ELEMENT allow-client-defined-uri (add-member?)&gt;
</pre></div>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Example: Failed PUT Request</h3>

<p>
  In this example, the client tries to use PUT to create a new internal
  member of /collection/.

</p>
<p>&gt;&gt;Request
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PUT /collection/new.txt HTTP/1.1
Host: example.com
Content-Type: text/plain
Content-Length: 12

Sample text.
</pre></div>
<p>&gt;&gt;Response
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 405 Method Not Allowed
Allow: GET, HEAD, TRACE, PROPFIND, COPY, MOVE
Content-Type: application/xml; charset=UTF-8
Content-Length: 172

&lt;error xmlns="DAV:"&gt;
  &lt;allow-client-defined-uri&gt;
    &lt;add-member&gt;
      &lt;href&gt;/collection;add-member/&lt;/href&gt;
    &lt;/add-member&gt;
  &lt;/allow-client-defined-uri&gt;
&lt;/error&gt;
</pre></div>
<p>
  The request fails with a 405 (Method Not Allowed) status, but also provides
  the reason, and a pointer to the "Add-Member" URI in the response body.

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Relationship to WebDAV Access Control Protocol</h3>

<p>
  The WebDAV ACL specification requires the DAV:bind privilege to be granted
  on a collection for the client to be able add new collection members (<a class='info' href='#RFC3744'>[RFC3744]<span> (</span><span class='info'>Clemm, G., Reschke, J., Sedlar, E., and J. Whitehead, &ldquo;Web Distributed Authoring and Versioning (WebDAV) Access Control Protocol,&rdquo; May&nbsp;2004.</span><span>)</span></a>, Section 3.9). Consistent with that, a server
  MUST reject a POST request to the Add-Member URI of a collection unless
  the principal executing the request is granted DAV:bind privilege on the associated
  WebDAV collection resource.

</p>
<a name="internationalization.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Internationalization Considerations</h3>

<p>
  This document does not introduce any new internationalization considerations
  beyond those discussed in Section 20 of <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a>.

</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>
  This specification does not require any actions from IANA.

</p>
<a name="security.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>
  All security considerations connected to HTTP/WebDAV and XML apply for
  this specification as well, namely, <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., Ed., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a> (Section 20)
  and <a class='info' href='#RFC3470'>[RFC3470]<span> (</span><span class='info'>Hollenbeck, S., Rose, M., and L. Masinter, &ldquo;Guidelines for the Use of Extensible Markup Language (XML) within IETF Protocols,&rdquo; January&nbsp;2003.</span><span>)</span></a> (Section 7).

</p>
<p>
  Furthermore, servers should be aware that deriving the member path from the
  data being stored in the resource could potentially expose confidential
  information. This could even be the case when only a hash code of the
  content is used.

</p>
<p>
  In addition, on servers that do not support this specification, a malevolent
  user could set the DAV:add-member URI as a custom property, tricking other
  users to post content to an entirely different URI. Clients can protect
  themselves against this scenario by
  </p>
<ul class="text">
<li>not following DAV:add-member URIs to different servers, and/or
</li>
<li>verifying that the DAV:add-member property is indeed a live property (this
    can be achieved by testing the DAV:supported-live-property-set property, or
    by checking whether DAV:add-member is returned upon PROPFIND/allprop)
</li>
</ul><p>

</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>
  This document has benefited from thoughtful discussion by Cyrus Daboo and
  Bernard Desruissaux.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3253">[RFC3253]</a></td>
<td class="author-text"><a href="mailto:geoffrey.clemm@rational.com">Clemm, G.</a>, <a href="mailto:jamsden@us.ibm.com">Amsden, J.</a>, <a href="mailto:tim_ellison@uk.ibm.com">Ellison, T.</a>, <a href="mailto:ckaler@microsoft.com">Kaler, C.</a>, and <a href="mailto:ejw@cse.ucsc.edu">J. Whitehead</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3253">Versioning Extensions to WebDAV</a>,&rdquo; RFC&nbsp;3253, March&nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3744">[RFC3744]</a></td>
<td class="author-text"><a href="mailto:geoffrey.clemm@us.ibm.com">Clemm, G.</a>, <a href="mailto:julian.reschke@greenbytes.de">Reschke, J.</a>, <a href="mailto:eric.sedlar@oracle.com">Sedlar, E.</a>, and <a href="mailto:ejw@cse.ucsc.edu">J. Whitehead</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3744">Web Distributed Authoring and Versioning (WebDAV) Access Control Protocol</a>,&rdquo; RFC&nbsp;3744, May&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4918">[RFC4918]</a></td>
<td class="author-text"><a href="mailto:ldusseault@commerce.net">Dusseault, L., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4918">HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>,&rdquo; RFC&nbsp;4918, June&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="XML">[XML]</a></td>
<td class="author-text"><a href="mailto:tbray@textuality.com">Bray, T.</a>, <a href="mailto:jeanpa@microsoft.com">Paoli, J.</a>, <a href="mailto:cmsmcq@uic.edu">Sperberg-McQueen, C.</a>, <a href="mailto:eve.maler@east.sun.com">Maler, E.</a>, and <a href="mailto:francois@yergeau.com">F. Yergeau</a>, &ldquo;<a href="http://www.w3.org/TR/2008/REC-xml-20081126/">Extensible Markup Language (XML) 1.0 (Fifth Edition)</a>,&rdquo; W3C&nbsp;REC-xml-20081126, November&nbsp;2008.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3470">[RFC3470]</a></td>
<td class="author-text"><a href="mailto:shollenbeck@verisign.com">Hollenbeck, S.</a>, <a href="mailto:mrose@dbc.mtview.ca.us">Rose, M.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3470">Guidelines for the Use of Extensible Markup Language (XML) within IETF Protocols</a>,&rdquo; RFC&nbsp;3470, BCP&nbsp;70, January&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4791">[RFC4791]</a></td>
<td class="author-text"><a href="mailto:cyrus@daboo.name">Daboo, C.</a>, <a href="mailto:bernard.desruisseaux@oracle.com">Desruisseaux, B.</a>, and <a href="mailto:ldusseault@commerce.net">L. Dusseault</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4791">Calendaring Extensions to WebDAV (CalDAV)</a>,&rdquo; RFC&nbsp;4791, March&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5023">[RFC5023]</a></td>
<td class="author-text"><a href="mailto:joe@bitworking.org">Gregorio, J.</a> and <a href="mailto:bill@dehora.net">B. de hOra</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5023">The Atom Publishing Protocol</a>,&rdquo; RFC&nbsp;5023, October&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-ietf-vcarddav-carddav">[draft-ietf-vcarddav-carddav]</a></td>
<td class="author-text"><a href="mailto:cyrus@daboo.name">Daboo, C.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-vcarddav-carddav-10.txt">vCard Extensions to WebDAV (CardDAV)</a>,&rdquo; draft-ietf-vcarddav-carddav-10 (work in progress), November&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-reschke-http-addmember">[draft-reschke-http-addmember]</a></td>
<td class="author-text"><a href="mailto:julian.reschke@greenbytes.de">Reschke, J.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-reschke-http-addmember-00.txt">The HTTP ADDMEMBER Method</a>,&rdquo; draft-reschke-http-addmember-00 (work in progress), February&nbsp;2005.</td></tr>
</table>

<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Change Log (to be removed by RFC Editor before publication)</h3>

<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
since draft-reschke-webdav-post-00</h3>

<p>
  Added Acknowledgements.

</p>
<p>
  Added and resolved issues "acl",
  "forbidden-put",
  "member-uri-content",
  "post-error-semantics",
  "property-trust",
  "rational-server-uri", 
  ""remote-uri",
  "uri-format" and
  "uri-uniqueness".

</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
since draft-reschke-webdav-post-01</h3>

<p>
  Add and resolve issue "containment".

</p>
<p>
  Update draft-ietf-vcarddav-carddav reference.

</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.3"></a><h3>A.3.&nbsp;
since draft-reschke-webdav-post-02</h3>

<p>
  Update XML, draft-ietf-vcarddav-carddav and draft-nottingham-http-link-header references.

</p>
<p>
  Add and resolve issues "link-header" and "ns".

</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.4"></a><h3>A.4.&nbsp;
since draft-reschke-webdav-post-03</h3>

<p>
  Add and resolve issues "put-only" and "protected".

</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.5"></a><h3>A.5.&nbsp;
since draft-reschke-webdav-post-04</h3>

<p>
  Update vcarddav reference. In the example, do not use the same content for
  Slug header field and request body. Add issue "collection".

</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Open issues (to be removed by RFC Editor prior to publication)</h3>

<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.1"></a><h3>B.1.&nbsp;
edit</h3>

<p>
      Type: edit
</p>
<p>julian.reschke@greenbytes.de (2008-09-22): 
    Umbrella issue for editorial fixes/enhancements.
  
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.2"></a><h3>B.2.&nbsp;
collection</h3>

<p>
      Type: change
</p>
<p>cyrus@daboo.name (2009-11-05): 
I have heard from some implementors that they would like collection 
creation to also be part of this draft. In particular, CalDAV and/or 
CardDAV clients creating calendars or address books would prefer to leave 
specification of the resource name to the client.
<br />

Proposal:
<br />

- Add a DAV:add-collection property containing a URI (which must be 
different than DAV:add-member)
<br />
- A POST on that URI creates a collection within the parent collection, 
with a server chosen resource name
<br />
- If the POST contains an XML body with DAV:mkcol as the root element, then 
that body is interpreted the same way as MKCOL ext.
  
</p><a name="rfc.index"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Index</h3>
<table>
<tr><td><strong>A</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor24">Add-Member URI</a></td></tr>
<tr><td><strong>C</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Condition Names</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor31"><b>DAV:allow-client-defined-URI (pre)</b></a></td></tr>
<tr><td>&nbsp;</td><td>COPY method</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor29">Additional Preconditions</a></td></tr>
<tr><td><strong>D</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor30"><b>DAV:allow-client-defined-URI</b></a></td></tr>
<tr><td><strong>L</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>LOCK method</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor27">Additional Preconditions</a></td></tr>
<tr><td><strong>M</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>MKCOL method</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor26">Additional Preconditions</a></td></tr>
<tr><td>&nbsp;</td><td>MOVE method</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor28">Additional Preconditions</a></td></tr>
<tr><td><strong>P</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>PUT method</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor25">Additional Preconditions</a></td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Julian F. Reschke</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">greenbytes GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hafenweg 16</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Muenster, NW  48155</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 251 2807760</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:julian.reschke@greenbytes.de">julian.reschke@greenbytes.de</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></td></tr>
</table>
</body></html>
