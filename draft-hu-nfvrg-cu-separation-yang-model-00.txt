



NFVRG                                                        Fangwei. Hu
Internet-Draft                                             RongRong. Hua
Intended status: Informational                           ZTE Corporation
Expires: October 22, 2017                                     Shujun. Hu
                                                               Lu. Huang
                                                            China Mobile
                                                          April 20, 2017


 YANG Data Model for Configuration Interface of Control-Plane and User-
                          Plane separation BNG
             draft-hu-nfvrg-cu-separation-yang-model-00.txt

Abstract

   This document defines the YANG data model for operation management of
   Control-Plane and User-Plane separation BNG.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on October 22, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of




Hu, et al.              Expires October 22, 2017                [Page 1]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Concept and Terminology . . . . . . . . . . . . . . . . . . .   4
     2.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   4
   3.  Information model . . . . . . . . . . . . . . . . . . . . . .   4
     3.1.  overview  . . . . . . . . . . . . . . . . . . . . . . . .   4
     3.2.  vBRAS interface configuration . . . . . . . . . . . . . .   4
     3.3.  Controller channel configuration  . . . . . . . . . . . .   5
     3.4.  Acl Configuration . . . . . . . . . . . . . . . . . . . .   5
     3.5.  QoS Configuration . . . . . . . . . . . . . . . . . . . .   6
   4.  vBRAS YANG Data Model . . . . . . . . . . . . . . . . . . . .   6
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .  10
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  10
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  10
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  11
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .  11
     8.2.  Informative References  . . . . . . . . . . . . . . . . .  11
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  12

1.  Introduction

   Cloud-based BNG with C/U separated conception is raised
   [I-D.gu-nfvrg-cloud-bng-architecture].  The main idea of Control-
   Plane and User-Plane separation method is to extract and centralize
   the user management functions of multiple BNG devices, forming an
   unified and centralized control plane (CP), while the traditional
   router's Control Plane and forwarding plane are both preserved on BNG
   devices in the form of a user plane (UP).

   The architecture of C/U separated BRAS is shown as the following
   figure[I-D.huang-nvo3-vxlan-extension-for-vbras].
















Hu, et al.              Expires October 22, 2017                [Page 2]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


                      +----------------------------------+
                      |                                  |
                      |              BRAS-CP             |
                      |                                  |
                      +--+--------------+--------------+-+
                         |              |              |
               Signaling |   Management | Configuration|
               Interface |   Interface  |    Interface |
                   |     |       |      |        |     |
                 VxLAN   |    OpenFlow  |      NETCONF |
                         |              |              |
                      +--+--------------+--------------+-+
                      |                                  |
                      |              BRAS-UP             |
                      |                                  |
                      +-----------------+----------------+
                                        |
                                        |
                               +--------+--------+
                               |                 |
                               | Access Network  |
                               |                 |
                               +--------+--------+
                                        |
                                   +----+----+
                                   |         |
                                   |   User  |
                                   |         |
                                   +---------+
                 Figure 1: Architecture of C/U separated vBRAS


   There are three interfaces between BRAS-CP and BRAS-UP: Signaling
   interface , Configuration interface and management interface.  The
   signaling interface is used to carry PPPoE/IPoE signaling packets
   between user plane and control plane.  The requirement and possible
   solution is defined in the
   [I-D.huang-nvo3-vxlan-extension-for-vbras].  Management interface is
   used for seting forwarding entries of user plane through OpenFlow
   [I-D.wcg-i2rs-cu-separation-infor-model].  Configuration interface is
   used by CP to carry out basic configurations of user plane through
   NETCONF.  The YANG data model about the configuration information is
   defined in this document.

   Though BRAS-CP and BRAS-UP are connected with network management,
   most of the configuration information for BRAS-UP are through the
   BRAS-CP by netconf protocol[RFC6241], which simplifies the
   implementation of BRAS-UP in the C/U separated BNG architecture.



Hu, et al.              Expires October 22, 2017                [Page 3]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


   Very few configuration parameters (such as IP address for netconf
   protocol) for BRAS-UP are configured through the network management
   directly.

2.  Concept and Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.1.  Terminology

   BNG: Broadband Network Gateway.  A broadband remote access server
   (BRAS, B-RAS or BBRAS) routes traffic to and from broadband remote
   access devices such as digital subscriber line access multiplexers
   (DSLAM) on an Internet service provider's (ISP) network.  BRAS can
   also be referred to as a Broadband Network Gateway (BNG).

   CP: Control Plane.  The CP is a user control management component
   which support to manage UP's resources such as the user entry and
   forwarding policy.

   UP: User Plane.  UP is a network edge and user policy implementation
   component.

3.  Information model

3.1.  overview

   The vBRAS UP or CP part can be a physical or logical network element.
   We augment [I-D.ietf-rtgwg-lne-model] to define the information model
   for vBRAS CP and UP.

   module: ietf-vbras
     augment /lne:logical-network-elements/lne:logical-network-element:
       +--rw ietf-vbras
          +--rw vbras-name?         string

3.2.  vBRAS interface configuration

   The vBRAS interface configuration is to cofigure the basic interface
   informations of vBRAS UP element, such as interface name, the VLAN
   parameters for the sub-interface.

   The tree structure for vBRAS interface configuration is as following:






Hu, et al.              Expires October 22, 2017                [Page 4]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


          +--rw interfaces
          |  +--rw interface* [name]
          |     +--rw name      if:interface-ref
          |     +--rw ethernet
          |     |  +--rw lacp?   boolean
          |     +--rw mac-offset?   uint32
          |     +--rw vlans
          |        +--rw tag* [index]
          |           +--rw index    uint8
          |           +--rw tag
          |              +--rw tag-type?   string
          |              +--rw vlan-id?    vlan-id

3.3.  Controller channel configuration

   The controller channel configuration is to configure the OpenFlow
   channel parameters and the VXLAN tunnel parameters.

   The OpenFlow channel parameters include: ofls-name, dpid, of-port.
   The tree structure for OpenFlow channel configuration parameters are
   as following:

          +--rw openflow-channel
          |  +--rw ofls-name?   string
          |  +--rw dpid?        uint32
          |  +--rw of-port?     uint32

   It is suggestion that the static VXLAN tunnel used for vBRAS CP and
   UP.  The VXLAN tunnel parameters include: tunnel-source-ip,tunnel-
   destination-ip, vxlan-id, vxlan-tunnel-id, vxlan-tunnel-name,etc.

          +--rw vxlan-channel* [vxlan-tunnel-id]
             +--rw vxlan-tunnel-id      uint32
             +--rw vxlan-tunnel-name?   string
             +--rw address-family* [af]
                +--rw af                       address-family-type
                +--rw tunnel-source-ip?        address-family-type
                +--rw tunnel-destination-ip?   address-family-type
                +--rw bind-vxlan-id* [vxlan-id]
                   +--rw vxlan-id    vxlan-id


3.4.  Acl Configuration

   The acl information for BRAS-UP is configured through netconf from
   BRAS-CP.  The ACL information includes ipv4-acl,ipv6-acl,link-
   acl,etc.  The YANG data model for ACL can refer to
   [I-D.ietf-netmod-acl-model]



Hu, et al.              Expires October 22, 2017                [Page 5]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


3.5.  QoS Configuration

   The QoS information for BRAS-UP is also configured through netconf
   from BRAS-CP.  The vBRAS support QoS information includes IP-DSCP,
   MPLS,VPLS, VPWS etc.  The YANG data model for QoS refer to
   [I-D.chen-rtgwg-qos-yang]

4.  vBRAS YANG Data Model


   <CODE BEGINS> file "ietf-vbras@2017-04-15.yang"
    module ietf-vbras{
    namespace "urn:ietf:params:xml:ns:yang:ietf-vbras";
    prefix "vbras";


    import ietf-interfaces {
      prefix if;
     }

    import ietf-logical-network-element {
          prefix lne;
        }

/*
    import ietf-yang-types {
       prefix yang;
     }
*/

    organization
      "IETF NETCONF Working Group";

      contact
       "
         WG List:  <mailto:netconf@ietf.org>

         Editor:   Fangwei Hu
                   <mailto:hu.fangwei@zte.com.cn>

        ";

    description
       "The YANG module defines a generic configuration
         model for vbras";

    revision 2017-04-13 {
      description "Initial revision";



Hu, et al.              Expires October 22, 2017                [Page 6]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


      reference
         "draft-hu-nfvrg-cu-separation-yang-model-00";
    }



   /* Typedefs  */

         typedef vlan-id {
      type uint16 {
           range "0..4094";
          }
      description
        "Typedef for VxLAN ID.";
    }

        typedef vxlan-id {
      type uint32;
      description
        "Typedef for VxLAN ID.";
    }

         typedef address-family-type {
       type enumeration {
         enum ipv4 {
           description
             "IPv4";
         }
         enum ipv6 {
           description
             "IPv6";
         }
       }
       description
         "Typedef for address family type.";
     }

    /* Configuration Data */

    augment /lne:logical-network-elements/lne:logical-network-element {
     container ietf-vbras{
        leaf vbras-name  {
                  type string;
                  description "configure vbras name";
                 }

        container interfaces {
                  list interface {



Hu, et al.              Expires October 22, 2017                [Page 7]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


                    key name;
                        leaf name {
                           type if:interface-ref;
                           description "interface name";
                          }
                        container ethernet {
              leaf lacp {
               type boolean;
               description "enable lacp function";
               }
                           description "configure ethernet interface";
                          }
            leaf mac-offset {
               type uint32;
               description "configure mac offset";
              }

                        container vlans {
                list tag {
                                    key index;
                                        max-elements 2;
                    leaf index {
                       type uint8 {
                                             range "0..1";
                                                 }

                                         must ". = 0 or
                       count(../../tag[index = 0]/index) > 0" {
                       error-message "An inner tag can only be specified if an
                                outer tag has also been specified";
                      description "Ensure that an inner tag cannot be
                              specified without an outer tag'";
                      }

                     description "The index into the tag stack, outermost tag
                            assigned index 0";
                    }

                                        container tag{
                                          leaf tag-type {
                                             type string;
                                                 description "tag type";
                                                 }
                                          leaf vlan-id {
                                            type vlan-id;
                                            description "vlan id value";
                                           }




Hu, et al.              Expires October 22, 2017                [Page 8]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


                        description "tag";
                   }
                  description "tag list";
                }
              description "vlans";
                        }
                   description "interfaces list";
          }
         description "interface container";
        }

                container openflow-channel {
                  leaf ofls-name {
                    type string;
                        description "openflow logical name";
                        }
                  leaf dpid {
                    type uint32;
                        description "dpid value";
                        }
                  leaf of-port {
            type uint32;
            description "openflow channel udp port number";
           }
                  description "configure openflow channel value";
                 }

        list vxlan-channel{
            key vxlan-tunnel-id;
            leaf vxlan-tunnel-id {
               type uint32;
               description
                     "Static VxLAN tunnel ID.";
            }

            leaf vxlan-tunnel-name {
               type string;
               description
               "Name of the static VxLAN tunnel.";
            }

            list address-family {
               key "af";
               leaf af {
                 type address-family-type;
                 description
                 "Address family type value.";
               }



Hu, et al.              Expires October 22, 2017                [Page 9]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


               leaf tunnel-source-ip {
                 type address-family-type;
                 description
                 "Source IP address for the static VxLAN tunnel";
               }

               leaf tunnel-destination-ip {
                  type address-family-type;
                  description
                   "Destination IP address for the static VxLAN tunnel";
               }

               list bind-vxlan-id {
                  key vxlan-id;
                  leaf vxlan-id {
                    type vxlan-id;
                    description
                       "VxLAN ID.";
                  }
                  description
                     "VxLAN ID list for the VTEP.";
               }

                description
                   "Per-af params.";
             }
            description
              "Configure the VxLAN channel";
        }


          description "ietf-vbras configuration!";
    }
   description "augment lne model";
 }
}
 <CODE ENDS>

5.  Security Considerations

6.  Acknowledgements

7.  IANA Considerations

   This document requires no IANA Actions.  Please remove this section
   before RFC publication.





Hu, et al.              Expires October 22, 2017               [Page 10]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


8.  References

8.1.  Normative References

   [I-D.chen-rtgwg-qos-yang]
              Chen, I., "YANG Data Model for QoS", draft-chen-rtgwg-qos-
              yang-04 (work in progress), October 2016.

   [I-D.ietf-netmod-acl-model]
              Bogdanovic, D., Koushik, K., Huang, L., and D. Blair,
              "Network Access Control List (ACL) YANG Data Model",
              draft-ietf-netmod-acl-model-10 (work in progress), March
              2017.

   [I-D.ietf-rtgwg-lne-model]
              Berger, L., Hopps, C., Lindem, A., and D. Bogdanovic,
              "YANG Logical Network Elements", draft-ietf-rtgwg-lne-
              model-02 (work in progress), March 2017.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC6241]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
              and A. Bierman, Ed., "Network Configuration Protocol
              (NETCONF)", RFC 6241, DOI 10.17487/RFC6241, June 2011,
              <http://www.rfc-editor.org/info/rfc6241>.

8.2.  Informative References

   [I-D.gu-nfvrg-cloud-bng-architecture]
              Gu, R. and S. Hu, "Control and User Plane Seperation
              Architecture of Cloud based BNG", draft-gu-nfvrg-cloud-
              bng-architecture-00 (work in progress), February 2017.

   [I-D.huang-nvo3-vxlan-extension-for-vbras]
              Huang, L. and S. Hu, "VxLAN Extension Requirement for
              Signaling Exchange Between Control and User Plane of
              vBras", draft-huang-nvo3-vxlan-extension-for-vbras-00
              (work in progress), March 2017.

   [I-D.wcg-i2rs-cu-separation-infor-model]
              Wang, Z., iqjie@mail.ustc.edu.cn, i., and R. Gu,
              "Information Model of Control-Plane and User-Plane
              separation BNG", draft-wcg-i2rs-cu-separation-infor-
              model-00 (work in progress), March 2017.




Hu, et al.              Expires October 22, 2017               [Page 11]

Internet-DraYANG data model for CU Separation BNG Configurat  April 2017


Authors' Addresses

   Fangwei Hu
   ZTE Corporation
   No.889 Bibo Rd
   Shanghai  201203
   China

   Phone: +86 21 68896273
   Email: hu.fangwei@zte.com.cn


   RongRong Hua
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Email: hua.rongrong@zte.com.cn


   Shujun hu
   China Mobile
   32 Xuanwumen West Ave, Xicheng District
   Beijing  100053
   China

   Email: 13488683482@139.com


   Lu Huang
   China Mobile
   32 Xuanwumen West Ave, Xicheng District
   Beijing  100053
   China

   Email: hlisname@yahoo.com














Hu, et al.              Expires October 22, 2017               [Page 12]
