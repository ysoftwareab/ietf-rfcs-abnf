<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>IS-IS Registry Extension for Purges </title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Requirements Language">
<link href="#rfc.section.2" rel="Chapter" title="2 Registry Changes">
<link href="#rfc.section.3" rel="Chapter" title="3 Purges and Authentication">
<link href="#rfc.section.4" rel="Chapter" title="4 IANA Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="6 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="IANA maintains the IS-IS TLV Codepoint Registry.  This registry documents which TLVs can appear in different types of IS-IS Protocol Data Units (PDUs), but does not document which TLVs can be found in zero Remaining Lifetime Link State PDUs (LSPs, a.k.a., purges).  This document extends the existing registry to record the set of TLVs that are permissible in purges, and updates the rules for generating and processing purges in the presence of authentication.  " />
  <meta name="description" content="IANA maintains the IS-IS TLV Codepoint Registry.  This registry documents which TLVs can appear in different types of IS-IS Protocol Data Units (PDUs), but does not document which TLVs can be found in zero Remaining Lifetime Link State PDUs (LSPs, a.k.a., purges).  This document extends the existing registry to record the set of TLVs that are permissible in purges, and updates the rules for generating and processing purges in the presence of authentication.  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">IS-IS Working Group</td>
<td class="right">T. Li</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">L. Ginsberg</td>
</tr>
<tr>
<td class="left">Updates: 3563 5304 5310 (if approved)</td>
<td class="right">Cisco Systems, Inc.</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">March 01, 2011</td>
</tr>
<tr>
<td class="left">Expires: September 02, 2011</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">IS-IS Registry Extension for Purges <br />
  <span class="filename">draft-ietf-isis-reg-purge-01</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>IANA maintains the IS-IS TLV Codepoint Registry.  This registry documents which TLVs can appear in different types of IS-IS Protocol Data Units (PDUs), but does not document which TLVs can be found in zero Remaining Lifetime Link State PDUs (LSPs, a.k.a., purges).  This document extends the existing registry to record the set of TLVs that are permissible in purges, and updates the rules for generating and processing purges in the presence of authentication.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 02, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>1.1.   <a href="#rfc.section.1.1">Requirements Language</a>
</li>
<li>2.   <a href="#rfc.section.2">Registry Changes</a>
</li>
<li>3.   <a href="#rfc.section.3">Purges and Authentication</a>
</li>
<li>4.   <a href="#rfc.section.4">IANA Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">Security Considerations</a>
</li>
<li>6.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">The IS-IS <a href="#ISO%2010589">[ISO 10589]</a> routing protocol maintains a link state database of the topology of its routing domain by flooding a set of Link State Protocol Data Units (LSPs).  When the protocol no longer needs the information stored in an LSP, it uses the purge mechanism to cause the Intermediate Systems (ISs) in its domain to discard the information contained in the LSP.  The process for generating purges can be found in Section 7.3.16.4 of <a href="#ISO%2010589">[ISO 10589]</a>.  This process retains only the LSP header, discarding any TLVs that had been carried within the LSP.  </p>
<p id="rfc.section.1.p.2">Subsequent enhancements to IS-IS, such as <a href="#RFC5304">[RFC5304]</a> <a href="#RFC5310">[RFC5310]</a>, amend the process of generating a purge and allow the inclusion of certain TLVs in purges.  </p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> Requirements Language</h1>
<p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Registry Changes</h1>
<p id="rfc.section.2.p.1">This document extends the current IS-IS TLV Codepoint Registry, defined in <a href="#RFC3563">[RFC3563]</a>, to record the set of TLVs that MAY be found in purges.  All other TLVs MUST NOT appear in purges.  This will serve as an aid to subsequent documents, which can then refer to the registry as the definitive list of the TLVs allowed in purges.  This will also act as an aid to implementers, providing them with an easily accessible compendium of allowable TLVs.  </p>
<p id="rfc.section.2.p.2">The purge status defined for a given TLV applies to all sub-TLVs defined for that TLV.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Purges and Authentication</h1>
<p id="rfc.section.3.p.1">Previous documents on Authentication <a href="#RFC5304">[RFC5304]</a> <a href="#RFC5310">[RFC5310]</a> required that an IS only accept a purge if it only contained the Authentication TLV.  </p>
<p id="rfc.section.3.p.2">This document updates and generalizes that behavior as follows: an implementation that implements Authentication MUST NOT accept a purge that contains any TLV listed in the registry that is not acceptable in a purge.  An implementation MUST NOT accept a purge that contains a TLV not listed in the registry unless the purge also contains the Purge Originator Identification (POI) TLV <a href="#I-D.ietf-isis-purge-tlv">[I-D.ietf-isis-purge-tlv]</a>.  Purges that are accepted MUST be propagated without removal of TLVs.  If multiple purges are received for the same LSP, then the implementation MAY propagate any one of the purges.  </p>
<p id="rfc.section.3.p.3">If an implementation that implements Authentication accepts a purge that does not include the POI TLV and it chooses to insert the POI TLV, it MUST also recompute Authentication.  </p>
<p id="rfc.section.3.p.4">ISs MUST NOT accept LSPs with a non-zero Remaining Lifetime that contain the POI TLV.  </p>
<p id="rfc.section.3.p.5">Purge generation is updated as follows: an implementation that implements Authentication generates a purge by first removing any TLVs that are not listed in the registry as being acceptable in purges. The POI TLV MUST be added.  Then any other TLVs that MAY be in purges, as shown by the registry, MAY be added.  Finally, Authentication, if any, is added.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> IANA Considerations</h1>
<p id="rfc.section.4.p.1">This document requests that IANA modify the IS-IS 'TLV Codepoints Registry' by adding a column in the registry for 'Purge'.  A 'y' in this column indicates that the TLV for this row MAY be found in a purge.  A 'n' in this column indicates that the TLV for this row MUST NOT be found in a purge.  </p>
<p id="rfc.section.4.p.2">The 'Purge' column should initially contain a 'y' for TLV type 10 (Authentication) and for TLV type 137 (Dynamic hostname).  All other entries in this column should have an 'n'.  Other additions to this registry should explicitly specify their value for this column.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#security" id="security">Security Considerations</a>
</h1>
<p id="rfc.section.5.p.1">This document introduces no new security issues.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">6.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="ISO 10589">[ISO 10589]</b></td>
<td class="top">
<a>ISO</a>, "<a>Intermediate system to Intermediate system routeing information exchange protocol for use in conjunction with the Protocol for providing the Connectionless-mode Network Service (ISO 8473) </a>", ISO/IEC 10589:2002, .</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-isis-purge-tlv">[I-D.ietf-isis-purge-tlv]</b></td>
<td class="top">
<a>Wei, F</a>, <a>Qin, Y</a>, <a>Li, Z</a>, <a>Li, T</a> and <a>J Dong</a>, "<a href="http://tools.ietf.org/html/draft-ietf-isis-purge-tlv-05">Purge Originator Identification TLV for IS-IS</a>", Internet-Draft draft-ietf-isis-purge-tlv-05, October 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3563">[RFC3563]</b></td>
<td class="top">
<a>Zinin, A.</a>, "<a href="http://tools.ietf.org/html/rfc3563">Cooperative Agreement Between the ISOC/IETF and ISO/IEC Joint Technical Committee 1/Sub Committee 6 (JTC1/SC6) on IS-IS Routing Protocol Development</a>", RFC 3563, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5304">[RFC5304]</b></td>
<td class="top">
<a>Li, T.</a> and <a>R. Atkinson</a>, "<a href="http://tools.ietf.org/html/rfc5304">IS-IS Cryptographic Authentication</a>", RFC 5304, October 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5310">[RFC5310]</b></td>
<td class="top">
<a>Bhatia, M.</a>, <a>Manral, V.</a>, <a>Li, T.</a>, <a>Atkinson, R.</a>, <a>White, R.</a> and <a>M. Fanto</a>, "<a href="http://tools.ietf.org/html/rfc5310">IS-IS Generic Cryptographic Authentication</a>", RFC 5310, February 2009.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Tony Li</span> 
	  <span class="n hidden">
		<span class="family-name">Li</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>170 W. Tasman Dr.</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95134</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tony.li@tony.li">tony.li@tony.li</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Les Ginsberg</span> 
	  <span class="n hidden">
		<span class="family-name">Ginsberg</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>170 W. Tasman Dr.</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95134</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ginsberg@cisco.com">ginsberg@cisco.com</a></span>

  </address>
</div>

</body>
</html>