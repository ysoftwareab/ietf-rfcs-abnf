
MMUSIC Working Group                                        G. Camarillo
Internet-Draft                                                  Ericsson
Expires: April 15, 2005                                 October 15, 2004


   Session Description Protocol (SDP) Format for Binary Floor Control
                        Protocol (BFCP) Streams
                 draft-camarillo-mmusic-sdp-bfcp-00.txt

Status of this Memo

   This document is an Internet-Draft and is subject to all provisions
   of section 3 of RFC 3667.  By submitting this Internet-Draft, each
   author represents that any applicable patent or other IPR claims of
   which he or she is aware have been or will be disclosed, and any of
   which he or she become aware will be disclosed, in accordance with
   RFC 3668.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on April 15, 2005.

Copyright Notice

   Copyright (C) The Internet Society (2004).

Abstract

   This document specifies how to describe BFCP streams in a SDP session
   description.  User agents using the offer/answer model to establish
   BFCP streams use this format in their offers and their answers.







Camarillo                Expires April 15, 2005                 [Page 1]

Internet-Draft                    BFCP                      October 2004


Table of Contents

   1.   Introduction . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.   Terminology  . . . . . . . . . . . . . . . . . . . . . . . . . 3
   3.   Fields in the m Line . . . . . . . . . . . . . . . . . . . . . 3
   4.   The confid and userid SDP Parameters . . . . . . . . . . . . . 4
   5.   The k line . . . . . . . . . . . . . . . . . . . . . . . . . . 4
   6.   TCP Connection Management  . . . . . . . . . . . . . . . . . . 4
   7.   Association between Streams and Floors . . . . . . . . . . . . 5
   8.   Example  . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
   9.   Security Considerations  . . . . . . . . . . . . . . . . . . . 6
   10.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 6
     10.1   SDP Attributes Registration  . . . . . . . . . . . . . . . 6
   11.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . 6
   12.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 6
   12.1   Normative References . . . . . . . . . . . . . . . . . . . . 6
   12.2   Informational References . . . . . . . . . . . . . . . . . . 7
        Author's Address . . . . . . . . . . . . . . . . . . . . . . . 7
        Intellectual Property and Copyright Statements . . . . . . . . 8
































Camarillo                Expires April 15, 2005                 [Page 2]

Internet-Draft                    BFCP                      October 2004


1.  Introduction

   As discussed in the BFCP specification [5], a given BFCP client needs
   a set of data in order to establish a BFCP connection to a floor
   control server.  These data include the transport address of the
   server, the conference identifier, and the user identifier.

   Clients can obtain this information in different ways, one of them
   consisting of using an offer/answer [3] exchange.  This document
   specifies how to encode this information in the SDP session
   descriptions which are part of an offer/answer exchange.

   User agents typically use the offer/answer model to establish a
   number of media streams of different types.  Following this model, a
   BFCP connection is described as any other media stream by using an
   SDP 'm' line, possibly followed by a number of attributes encoded in
   'a' lines.

2.  Terminology

   In this document, the key words "MUST", "MUST NOT", "REQUIRED",
   "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
   RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as
   described in BCP 14, RFC 2119 [1] and indicate requirement levels for
   compliant implementations.

3.  Fields in the m Line

   According to RFC 2327 [2], the 'm'line format is the following:

      m=<media> <port> <transport> <fmt list>

   The media field MUST have a value of "application".  The port field
   is not used by BFCP, and MAY be set to any value chosen by the
   endpoint.  A port field value of zero has the standard SDP meaning
   (i.e., rejection of the media stream).

   The port field is set following the rules in [4].  Depending on the
   value of the setup attribute (disccused in Section 6), the port field
   contains the port the remote endpoint will initiate its TCP
   connection to, or is irrelevant (i.e., the endpoint will initiate the
   connection towards the remote endpoint) and should be set to a value
   of 9, which is the discard port.  Since BFCP only runs on top of TCP,
   the port is always a TCP port.

   We define two new values for the transport field: TCP/BFCP and TCP/
   TLS/BFCP.




Camarillo                Expires April 15, 2005                 [Page 3]

Internet-Draft                    BFCP                      October 2004


   The fmt (format) list is ignored for BFCP.  The fmt list of BFCP m
   lines SHOULD contain a single "*" character.

   The following is an example of an m line for a BFCP connection:

   m=application 20000 TCP/BFCP *

4.  The confid and userid SDP Parameters

   We define the confid and the userid SDP media-level attributes.
   Their syntax is:



   confid-attribute      = "a=confid: " conference-id
   conference-id         = token

   userid-attribute      = "a=userid: " user-id
   user-id               = token

   The confid and the userid attributes carry the integer representation
   of a conference ID and a user ID respectively.

   Endpoints which use the offer/answer model to establish BFCP
   connections MUST support the confid and the userid attributes.  A
   floor control server acting as an offerer or as an answerers SHOULD
   include these attributes in its session descriptions.

5.  The k line

   If the offer/answer exchange is encrypted and integrity protected,
   the offerer MAY use an SDP 'k' line to provide the answerer with a
   shared secret to be used to calculate the value of the DIGEST TLVs.
   The following is an example of a 'k' line:



   k=base64:c2hhcmVkLXNlY3JldA==


6.  TCP Connection Management

   The management of the TCP connection used to transport BFCP is
   performed using the setup and 'connection' attributes as defined in
   [4].

   The setup attribute indicates which of the endpoints (client or floor
   control server) initiates the TCP connection.  The 'connection'



Camarillo                Expires April 15, 2005                 [Page 4]

Internet-Draft                    BFCP                      October 2004


   attribute handles TCP connection reestablishment.

   Editor's note: need to address loss and re-establishment of TCP
   connections.

7.  Association between Streams and Floors

   We define the floorid SDP media-level attribute.  Its syntax is:



   floor-id-attribute    = "a=floorid:" token " mstream:" 1*(token)

   The floorid attribute is used in BFCP m lines and associates a floor
   ID with a media stream.  The token representing the floor ID is the
   integer representation of the 16-bit floorid to be used in BFCP.  The
   token representing the media stream is a pointer to the media stream,
   which is identified by an SDP label attribute [6]

   Endpoints which use the offer/answer model to establish BFCP
   connections MUST support the floorid and the label attributes.  A
   floor control server acting as an offerer or as an answerers SHOULD
   include these attributes in its session descriptions.

8.  Example

   The following is an example of an offer sent by a conference server
   to a user.  For the purpose of brevity, the main portion of the
   session description is omitted in the examples, which only show m=
   lines and their attributes.


   m=application 20000 TCP/BFCP *
   k=base64:c2hhcmVkLXNlY3JldA==
   a=setup:passive
   a=connection:new
   a=confid:4321
   a=userid:1234
   a=floorid:1 m-stream:10
   a=floorid:2 m-stream:11
   m=audio 20000 RTP/AVP 0
   a=label:10
   m=video 30000 RTP/AVP 31
   a=label:11

   The following is the answer returned by the user.





Camarillo                Expires April 15, 2005                 [Page 5]

Internet-Draft                    BFCP                      October 2004


   m=application 9 TCP/BFCP *
   a=setup:active
   a=connection:new
   m=audio 25000 RTP/AVP 0
   m=video 35000 RTP/AVP 31


9.  Security Considerations

   TBD.

10.  IANA Considerations

   TBD.

10.1  SDP Attributes Registration

   TBD:

11.  Acknowledgments

   Joerg Ott, Keith Drage, and Alan Johnston provided useful ideas for
   this document.

12.  References

12.1  Normative References

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", BCP 14, RFC 2119, March 1997.

   [2]  Handley, M. and V. Jacobson, "SDP: Session Description
        Protocol", RFC 2327, April 1998.

   [3]  Rosenberg, J. and H. Schulzrinne, "An Offer/Answer Model with
        Session Description Protocol (SDP)", RFC 3264, June 2002.

   [4]  Yon, D., "Connection-Oriented Media Transport in the Session
        Description Protocol  (SDP)", draft-ietf-mmusic-sdp-comedia-08
        (work in progress), July 2004.

   [5]  Camarillo, G., "The Binary Floor Control Protocol (BFCP)",
        draft-ietf-xcon-bfcp-01 (work in progress), August 2004.

   [6]  Levin, O. and G. Camarillo, "The SDP (Session Description
        Protocol) Label Attribute",
        draft-levin-mmmusic-sdp-media-label-00 (work in progress), July
        2004.



Camarillo                Expires April 15, 2005                 [Page 6]

Internet-Draft                    BFCP                      October 2004


12.2  Informational References


Author's Address

   Gonzalo Camarillo
   Ericsson
   Hirsalantie 11
   Jorvas  02420
   Finland

   EMail: Gonzalo.Camarillo@ericsson.com







































Camarillo                Expires April 15, 2005                 [Page 7]

Internet-Draft                    BFCP                      October 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Camarillo                Expires April 15, 2005                 [Page 8]

