


Network Working Group                                           R. Sayre
Internet-Draft                                          October 25, 2005
Expires: April 28, 2006


                     APP Service Description Format
              draft-sayre-atompub-protocol-outline-01.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on April 28, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   This memo presents an XML format used to describe Atom Publishing
   Protocol services.  These services typically expose one or more
   groupings of resources.  On a blogging service, for example, each
   grouping might represent a distinct blog and associated resources.

Editorial Note

   To provide feedback on this Internet-Draft, join the atom-protocol
   mailing list <http://www.imc.org/atom-protocol/index.html>.



Sayre                    Expires April 28, 2006                 [Page 1]

Internet-Draft       APP Service Description Format         October 2005


Table of Contents

   1.   Introduction . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.   Notational Conventions . . . . . . . . . . . . . . . . . . . . 3
   3.   APP Service Description Documents  . . . . . . . . . . . . . . 3
   4.   User Agent Conformance . . . . . . . . . . . . . . . . . . . . 4
   5.   Relax NG Schema  . . . . . . . . . . . . . . . . . . . . . . . 5
   6.   Sample APP Service Description Documents . . . . . . . . . . . 6
   7.   Security Considerations  . . . . . . . . . . . . . . . . . . . 6
   8.   IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 6
   9.   Normative References . . . . . . . . . . . . . . . . . . . . . 7
        Author's Address . . . . . . . . . . . . . . . . . . . . . . . 8
        Intellectual Property and Copyright Statements . . . . . . . . 9






































Sayre                    Expires April 28, 2006                 [Page 2]

Internet-Draft       APP Service Description Format         October 2005


1.  Introduction

   Many Atom Publishing Protocol [APP] applications require a basic
   resource layout in order to ease configuration requirements.  XML
   [W3C.REC-xml-20040204] documents are organized hierarchically, but
   XML does not differentiate between elements serving as structural
   divisions and elements serving as structural properties.  This
   specification defines two elements which outline the structure of APP
   services, and defines minimal user agent conformance rules.

   Example APP Service Description Document:

   <app>
     <service name="My Blog" class="feed"
      href="http://example.com/entries">
       <service name="Photos" class="media feed"
        href="http://example.com/photos"/>
       <service name="Drafts" class="feed"
        href="http://example.com/drafts"/>
     </service>
     <service class="special details" name="Some details...">
       <service name="xyzzy" href="http://example.org/details"/>
       <service name="thud" href="http://example.net/details"/>
     </service>
   </app>

2.  Notational Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in BCP 14, [RFC2119], as
   scoped to those conformance targets.

   This specification includes a normative RELAX NG Compact schema
   [RELAX-NG].

   The terms 'URI' and 'IRI' are shorthand for the identifiers specified
   in [RFC3986] and [RFC3987].

3.  APP Service Description Documents

   APP Service Description Documents MUST be well-formed XML [W3C.REC-
   xml-20040204].

   The root element of an APP Service Description Document is "<app>".
   This specification does not define any attributes of the <app>
   element, but the element MAY have any number of attributes.




Sayre                    Expires April 28, 2006                 [Page 3]

Internet-Draft       APP Service Description Format         October 2005


   Zero or more <service> elements MAY appear as child elements of
   <app>.  Also, <service> elements MAY contain zero or more <service>
   elements.  This specification defines three attributes of the
   <service> element. <service> elements MUST contain at least one of
   those attributes.

   Service properties that are too large to efficiently include in
   attribute values MAY appear as child elements of the service element.
   <app> elements MAY contain any number of elements that are not
   <service> elements, and <service> elements MAY contain any number of
   elements that are not <service> elements.

3.1  The 'name' Attribute

   The 'name' attribute contains a short string describing the service
   element.  Entities such as "&amp;" and "&lt;" represent their
   corresponding characters ("&" and "<" respectively), not markup.

3.2  The 'href' Attribute

   The 'href' attribute contains an IRI reference interpreted relative
   to the in-scope base IRI [RFC3987].  Most protocols require URIs
   [RFC3986], so IRIs usually need to be converted to URIs before being
   dereferenced.

3.3  The 'class' Attribute

   The 'class' attribute contains a space-separated list of strings used
   to classify the service element.  This specification defines two
   values for the 'class' attribute:

   o  feed
   o  media feed

   These values correspond to standard feeds and media feeds,
   respectively [APP].

4.  User Agent Conformance

   Foreign markup is markup not defined by this specification.

   Software consuming APP Service Description Documents MUST NOT not
   halt processing when any foreign markup is encountered.  Software MAY
   ignore the markup and process any content of foreign elements as
   though the surrounding markup were not present.  For example,
   software may process





Sayre                    Expires April 28, 2006                 [Page 4]

Internet-Draft       APP Service Description Format         October 2005


       <app>
         <workspace>
            <service name="My Blog" href="http://example.com/entries">
              <service name="Photos" href="http://example.com/jpgs"/>
              <view title="Archives" seek="...">
                <view title="2005" href="..." />
                ...
              </view>
            </service>
         </workspace>
       </app>

   as though the <workspace> and <view> elements were not present.

   Software conforming to this specification MAY halt processing when
   documents that do not conform to the schema below are encountered.

5.  Relax NG Schema

   This schema is normative.

   start = app

   app = element app {
     anyAttribute*,
     (service* & anyElement*)
   }

   service = element service {
     (nameAtt | classAtt | hrefAtt), anyAttribute*,
     (service* & anyElement*)
   }

   nameAtt = attribute name { text }
   hrefAtt = attribute href { text }
   classAtt = attribute class { text }

   anyElement = element * { (anyAttribute | text | anyElement)* }
   anyAttribute = attribute * { text }












Sayre                    Expires April 28, 2006                 [Page 5]

Internet-Draft       APP Service Description Format         October 2005


6.  Sample APP Service Description Documents

   Simple APP Service Description Document:

   <app>
     <service name="Stuff">
       <service class="feed" href="http://example.org"/>
       <service name="media feed" href="http://example.net"/>
     </service>
   </app>

   Valid APP Service Description Document with extensions:

   <app foo="bar">
     <some-extension>hmm</some-extension>
     <service name="Baz" qux="feed qux" href="http://example.com">
       <service class="garply" name="Xyzzy" href="http://example.org"/>
       <service class="foo bar" name="Thud" href="http://example.net"/>
       <some-other-extension>hmm</some-other-extension>
     </service>
   </app>

7.  Security Considerations

   TBD.

8.  IANA Considerations

   An APP Service Description Document can be identified with the
   following media type:

   MIME media type name: application
   MIME subtype name: sdf+xml
   Mandatory parameters: None.
   Optional parameters:
      "charset": This parameter has identical semantics to the charset
         parameter of the "application/xml" media type as specified in
         [RFC3023].
   Encoding considerations: Identical to those of "application/xml" as
      described in [RFC3023], section 3.2.
   Security considerations: As defined in this specification.
      In addition, as this media type uses the "+xml" convention, it
      shares the same security considerations as described in [RFC3023],
      section 10.







Sayre                    Expires April 28, 2006                 [Page 6]

Internet-Draft       APP Service Description Format         October 2005


   Interoperability considerations: There are no known interoperability
      issues.
   Published specification: This specification.
   Applications that use this media type: No known applications
      currently use this media type.

   Additional information:

   Magic number(s): As specified for "application/xml" in [RFC3023],
      section 3.2.
   File extension: .ao
   Fragment identifiers: As specified for "application/xml" in
      [RFC3023], section 5.
   Base URI: As specified in [RFC3023], section 6.
   Macintosh File Type code: TEXT
   Person and email address to contact for further information: Robert
      Sayre <rfsayre@boswijck.com>
   Intended usage: COMMON
   Author/Change controller: IESG

9.  Normative References

   [APP]      Gregorio, J. and B. de hOra, "The Atom Publishing
              Protocol", November 2005.

   [RELAX-NG]
              Clark, J., "RELAX NG Compact Syntax", December 2001.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3023]  Murata, M., St. Laurent, S., and D. Kohn, "XML Media
              Types", RFC 3023, January 2001.

   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              RFC 3986, January 2005.

   [RFC3987]  Duerst, M. and M. Suignard, "Internationalized Resource
              Identifiers (IRIs)", RFC 3987, January 2005.

   [W3C.REC-xml-20040204]
              Yergeau, F., Paoli, J., Sperberg-McQueen, C., Bray, T.,
              and E. Maler, "Extensible Markup Language (XML) 1.0 (Third
              Edition)", W3C REC REC-xml-20040204, February 2004.






Sayre                    Expires April 28, 2006                 [Page 7]

Internet-Draft       APP Service Description Format         October 2005


Author's Address

   Robert Sayre

   Email: rfsayre@boswijck.com
   URI:   http://boswijck.com













































Sayre                    Expires April 28, 2006                 [Page 8]

Internet-Draft       APP Service Description Format         October 2005


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

   The IETF has been notified of intellectual property rights claimed in
   regard to some or all of the specification contained in this
   document.  For more information consult the online list of claimed
   rights.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.





Sayre                    Expires April 28, 2006                 [Page 9]

Internet-Draft       APP Service Description Format         October 2005


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.















































Sayre                    Expires April 28, 2006                [Page 10]

