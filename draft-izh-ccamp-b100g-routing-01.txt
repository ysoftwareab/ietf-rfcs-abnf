



CCAMP Working Group                                               R. Rao
Internet-Draft                                                I. Hussain
Intended status: Informational                               R. Valiveti
Expires: March 2, 2018                              Infinera Corporation
                                                            Q. Wang, Ed.
                                                                Y. Zhang
                                                                     ZTE
                                                             H. Helvoort
                                                         Hai Gaoming B.V
                                                         August 29, 2017


Traffic Engineering Extensions to OSPF for GMPLS Control of Beyond-100G
                    G.709 Optical Transport Networks
                    draft-izh-ccamp-b100g-routing-01

Abstract

   This document describes Open Shortest Path First - Traffic
   Engineering (OSPF-TE) routing protocol extensions to support GMPLS
   control of Optical Transport Networks (OTNs) specified in ITU-T
   Recommendation G.709 published in 2016.  The 2016 version of G.709
   [ITU-T_G709_2016] introduces support for higher rate OTU signals,
   termed OTUCn (which have a nominal rate of 100n Gbps).  The newly
   introduced OTUCn represent a very powerful extension to the OTN
   capabilities, and one which naturally scales to transport any newer
   clients with bit rates in excess of 100G, as they are introduced.
   This document extends the mechanisms defined in [RFC7138].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 2, 2018.






Rao, et al.               Expires March 2, 2018                 [Page 1]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3
   2.  OSPF-TE Extensions  . . . . . . . . . . . . . . . . . . . . .   3
   3.  TE-Link Representation  . . . . . . . . . . . . . . . . . . .   3
   4.  ISCD Format Extensions  . . . . . . . . . . . . . . . . . . .   4
     4.1.  Switching Capability Specific Information . . . . . . . .   5
       4.1.1.  Switching Capability Specific Information for ODUCn
               containers  . . . . . . . . . . . . . . . . . . . . .   5
   5.  Examples  . . . . . . . . . . . . . . . . . . . . . . . . . .   6
     5.1.  MAX LSP Bandwidth Fields in the ISCD  . . . . . . . . . .   7
     5.2.  Example of T, S, and TS Granularity Utilization . . . . .   9
     5.3.  Example of ODUflex Advertisement  . . . . . . . . . . . .   9
     5.4.  Example of Single-Stage Muxing  . . . . . . . . . . . . .   9
     5.5.  Example of Multi-Stage Muxing -- Unbundled Link . . . . .  11
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  13
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  13
   8.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  13
   9.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  13
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  13
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  13
     10.2.  Informative References . . . . . . . . . . . . . . . . .  14
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  14

1.  Introduction

   The current GMPLS routing extensions RFC [RFC7138] includes coverage
   for all the OTN capabilities that were defined in the 2012 version of
   G.709 [ITU-T_G709_2012].  The 2016 version of G.709 [ITU-T_G709_2016]
   introduces the following key extensions:

   a.  OTUCn signals with bandwidth larger than 100G (n*100G)



Rao, et al.               Expires March 2, 2018                 [Page 2]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


   b.  ODUCn signals with bandwidth larger than 100G.

   c.  ODUflex signals with bandwidth larger than 100G

   d.  mapping client signals with bandwidth larger than 100G into the
       corresponding ODUflex containers.

   e.  Tributary Slot Granularity of 5G

   This document provides extensions required in GMPLS OSPF-TE for B100G
   OTN technology.  For a short overview of OTN evolution and
   implications of B100G on GMPLS routing, please refer to
   [I-D.zih-ccamp-otn-b100g-fwk].

1.1.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.  OSPF-TE Extensions

   As discussed in [I-D.zih-ccamp-otn-b100g-fwk], OSPF-TE must be
   extended to advertise the termination, Switching and multiplexing
   Capabilities for ODUCn and OTUCn (Optical Transport Unit) links.
   These capabilities are carried in the Switching Capability specific
   information field of the Interface Switching Capability Descriptor
   (ISCD) using formats defined in this document.

3.  TE-Link Representation

   G.709 ODUCn/OTUCn links are represented as TE-Links in GMPLS Traffic
   Engineering Topology for supporting ODUj layer switching.  These TE-
   Links can be modeled in multiple ways.  Figure 1 below provides an
   illustration of one-hop OTUCn TE-Links.


           +-------+                +-------+                +-------+
           |  OTN  |                |  OTN  |                |  OTN  |
           |Switch |<- OTUCn Link ->|Switch |<- OTUCn Link ->|Switch |
           |   A   |                |   B   |                |   C   |
           +-------+                +-------+                +-------+

                   |<-- TE-Link -->|       |<-- TE-Link -->|

                         Figure 1: OTUCn TE-Links





Rao, et al.               Expires March 2, 2018                 [Page 3]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


4.  ISCD Format Extensions

   The ISCD describes the Switching Capability of an interface and is
   defined in [RFC4203].  This document resues the switching capability
   defined in [RFC7138] but introduces a new encoding type (to be
   assigned) as follows:

   o  G.709-2106 ODUCn (Digital Section): One codepoint (applicable to
      all values of n) needs to be defined in the signaling extensions
      [TBD].  The same value is used for advertising fixed rate ODUs, as
      well as ODUflex signals supported by an ODUCn link.  When the
      Switching Capability and Encoding fields are set to values as
      stated above, the Interface Switching Capability Descriptor MUST
      be interpreted as defined in [RFC7138].

   The MAX LSP Bandwidth field is used according to [RFC4203], i.e., 0
   <= MAX LSP Bandwidth <= rate (ODUCn).  The bandwidth is expressed in
   bytes/second and the encoding MUST be in IEEE floating point format.
   The discrete rates for new ODUs introduced in G709-2016 are shown in
   Table 1.

   +-------------+---------------------------------------+-------------+
   |   ODU Type  |              ODU Bit Rate             |     IEEE    |
   |             |                                       | encoding of |
   |             |                                       |      bw     |
   |             |                                       | (bytes/sec) |
   +-------------+---------------------------------------+-------------+
   | ODUflex for |    s x 239/238 x 5 156 250 kbit/s:    |     TBD     |
   |  IMP mapped |           s=2,8,5*n, n >= 1           |             |
   |    packet   |                                       |             |
   |   traffic   |                                       |             |
   | ODUflex for |  103 125 000 x 240/238 x n/20 kbit/s, |     TBD     |
   | FlexE aware |  where n is total number of available |             |
   |  transport  |  tributary slots among all PHYs which |             |
   |             |    have been crunched and combined.   |             |
   +-------------+---------------------------------------+-------------+

     Note that this table doesn't include ODUCn -- since it cannot be
   generated by mapping a non-OTN signal.  An ODUCn is always formed by
                      multiplexing multiple LO-ODUs.

        Table 1: Types and rates of ODUs usable for client mappings

   ISCD advertisement and processing rules are exactly as specified in
   [RFC7138].






Rao, et al.               Expires March 2, 2018                 [Page 4]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


4.1.  Switching Capability Specific Information

   The technology-specific part of the OTN-TDM ISCD may include a
   variable number of sub-TLVs called Bandwidth sub-TLVs.  Each sub-TLV
   is encoded with the sub-TLV header as defined in [RFC7138].  The
   muxing hierarchy tree MUST be encoded as an order-independent list.
   In addition to the sub-TLVs of types 1 and 2 defined in [RFC7138],
   Section 4.1.1 introduces a new sub-TLV type 3 to advertise ODUCn
   Information.

   The Switching Capability specific information (SCSI) for OTUCn links
   MUST include a Type 3 TLV at the beginning, followed by Type 1 and/or
   Type 2 sub-TLVs as defined in [RFC7138].

   With respect to ODUflex, new Signal Types need to be defined for the
   new ODUflex signals introduced in Table 1:

   o  23 - ODUflex (IMP)

   o  24 - ODUflex (FlexE)

   Each ODUflex signal MUST always be advertised in a separate Type 2
   sub-TLV as per [RFC7138].

4.1.1.  Switching Capability Specific Information for ODUCn containers

   The format of the Bandwidth sub-TLV for ODUCn signals is depicted in
   the following figure:


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Type = 3 (Unres-ODUC, TBA) |             Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig Type=ODUCn | N Value       |T|S| TSG | Res |    Priority   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                   Figure 2: Bandwidth Sub-TLV -- Type 3

   The values of the fields in the Bandwidth sub-TLV shown in Figure 2
   are explained below.

   o  Signal Type (8 bits): Indicates the ODU type being advertised.
      For this sub-TLV type, a new signal type needs to be defined for
      ODUCn signals.  Rather than define a unique signal type for each
      value of the parameter 'n', this draft proposes that we allocate a



Rao, et al.               Expires March 2, 2018                 [Page 5]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


      single signal type for the ODUCn signal family, and encode the
      value of 'n' as a separate field.  The first row after Type and
      Lengh MUST be followed by ODUCn information as shown.

   o  N-Value (8 bits): Indicates the value of 'n' in ODUCn field.  The
      value of this field is an integer in the range 1...256 as per
      [ITU-T_G709_2016].

   o  Flags (8 bits):

      *  T Flag (bit 17): Indicates whether the advertised bandwidth can
         be terminated per [RFC7138].  Since an ODUCn MUST be advertised
         as non-switchable and terminated, the T field MUST be set to 1.

      *  S Flag (bit 18): Indicates whether the advertised bandwidth can
         be switched.  Since an ODUCn MUST be advertised as non-
         switchable and terminated, the S field MUST be set to 0.

   o  TSG (3 bits): Tributary Slot Granularity.  Used for the
      advertisement of the supported tributary slot granularity.  This
      document defines a new value for 5 Gbps time slots - which MUST be
      used when advertising OTUCn links.  The values in the range 0-3
      MUST be interpreted as defined in [RFC7138].

      *  0 - Ignored

      *  1 - 1.25 Gbps / 2.5 Gbps

      *  2 - 2.5 Gbps only

      *  3 - 1.25 Gbps only

      *  4 - 5.0 Gbps only [TBA by IANA]

      *  5-7 - Reserved

   o  Priority (8 bits): The meaning and usage of priority field MUST
      same as in [RFC7138].

5.  Examples

   The examples in the following pages are not normative and are not
   intended to imply or mandate any specific implementation.








Rao, et al.               Expires March 2, 2018                 [Page 6]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


5.1.  MAX LSP Bandwidth Fields in the ISCD

   This example shows how the MAX LSP Bandwidth fields of the ISCD are
   filled according to TE-Link bandwidth occupancy.  In this example, an
   OTUC4 link is considered, with (a) supported priorities 0,2,4,7 (b)
   300G of bandwidth already consumed (c) 100G bandwidth available, and
   able to support an ODU4 LSP.

   At time T0, the advertisement would be as shown in Figure 3:


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | SwCap=OTN_TDM | Encoding = TBA|    Reserved (all zeros)       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           MAX LSP Bandwidth at priority 0 = 100 Gpbs          +
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           MAX LSP Bandwidth at priority 1 = 0                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           MAX LSP Bandwidth at priority 2 = 100 Gpbs          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 3 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 4 = 100 Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 5 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 6 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 7 = 100 Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             Switching Capability Specific Information         |
   |                        (variable length)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

           Figure 3: MAX LSP Bandwidth Fields in the ISCD at T0

   At time T1, an ODU3 at priority 2 is set up.  Once the ODU3 is
   carried over the ODUC4, the unreserved bandwidth reduces to 60G and
   consequently MAX LSP Bandwidth is advertised as ODU3, since no more
   ODU4s are available and the next supported ODUj in the hierarchy is
   ODU3.  The updated advertisement is as shown in Figure 4:








Rao, et al.               Expires March 2, 2018                 [Page 7]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | SwCap=OTN_TDM | Encoding = TBA|    Reserved (all zeros)       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 0 = 100 Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 1 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 2 = 40 Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 3 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 4 = 40 Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 5 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 6 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 7 = 40 Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             Switching Capability Specific Information         |
   |                        (variable length)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

           Figure 4: MAX LSP Bandwidth Fields in the ISCD at T1

   At time T2, an ODU2 at priority 4 is set up.  The Max LSP bandwidth
   is still advertised as ODU3 as in Figure 4 since the remaining
   bandwidth is 50G.  When the available BW drops below 40G, the max LSP
   BW is advertised as 10G.  The advertisement is updated as shown in
   Figure 5:



















Rao, et al.               Expires March 2, 2018                 [Page 8]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | SwCap=OTN_TDM | Encoding =TBA |    Reserved (all zeros)       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 0 = 100 Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 1 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 2 = 40 Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 3 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 4 = 10 Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 5 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 6 = 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             MAX LSP Bandwidth at priority 7 = 10 Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             Switching Capability Specific Information         |
   |                        (variable length)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

           Figure 5: MAX LSP Bandwidth Fields in the ISCD at T2

5.2.  Example of T, S, and TS Granularity Utilization

   To be added later.

5.3.  Example of ODUflex Advertisement

   To be added later.

5.4.  Example of Single-Stage Muxing

   Suppose there is 1 OTUC4 link supporting single-stage muxing of ODU1,
   ODU2, ODU3, and ODUflex, the supported hierarchy can be summarized in
   a tree as in the following figure.  For the sake of simplicity, we
   also assume that only priorities 0 and 3 are supported.


          ODU1 ODU2  ODU3 ODU4 ODUflex
             \   \    /   /    /
              \   \  /   /    /
               \   \/   /    /
                    ODUC4



Rao, et al.               Expires March 2, 2018                 [Page 9]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


   The related SCSIs are as follows:


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 3 (Unres-fix)   |           Length = 8          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODUCn | N-value=4    |1|0|  4  |0 0 0|0|0|0|0|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU1  | #stages= 1   |X|X|X X X|0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODUCn |            Padding (all zeros)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU1 at Prio 0 =160   |    Unres ODU1 at Prio 3 =160  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  | #stages= 1   |X|X|X X X|0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODUCn |            Padding (all zeros)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU2 at Prio 0 =40    |    Unres ODU2 at Prio 3 =40   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU3  | #stages= 1   |X|X|X X X|0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODUCn |            Padding (all zeros)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU3 at Prio 0 =10     |    Unres ODU3 at Prio 3 =10  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Type = 2 (Unres/MAX-var)   |           Length = 24         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODUCn | N-value=4    |1|0|  4  |0 0 0|0|0|0|0|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S. type=ODUflex| #stages= 1   |X|X|X X X|0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODUCn|            Padding (all zeros)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 0 =400 Gbps       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 3 =400 Gbps       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              MAX LSP Bandwidth at priority 0 =400 Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



Rao, et al.               Expires March 2, 2018                [Page 10]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


   |              MAX LSP Bandwidth at priority 3 =400 Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                       Figure 6: Single-Stage Muxing

5.5.  Example of Multi-Stage Muxing -- Unbundled Link

   Suppose there is 1 OTUC4 link with muxing capabilities as shown in
   the following figure:


          ODU2 ODU0    ODUflex ODU0
             \ /            \ /
              |              |
            ODU3           ODU2
               \            /
                \          /
                 \        /
                  \      /
                    ODUC4

   The ODUC4 is not a switchable entity.  It is advertised with zero
   counts to show TSG information.  Considering only supported
   priorities 0 and 3, the advertisement is composed by the
   followingBandwidth sub-TLVs:


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 3 (Unres-fix)   |           Length = 8          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODUCn | N-value=4    |1|0|4    |0 0 0|0|0|0|0|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU3  | #stages= 1   |X|X|  1  |0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODUCn|         Padding (all zeros)                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU3 at Prio 0 =10    |    Unres ODU3 at Prio 3 =10   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  | #stages= 1   |X|X|  1  |0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODUCn |         Padding (all zeros)                   |



Rao, et al.               Expires March 2, 2018                [Page 11]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU2 at Prio 0 =40    |    Unres ODU2 at Prio 3 =40   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  | #stages= 2   |X|X|  0  |0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU3  | Stage#2=ODUCn |    Padding (all zeros)        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU2 at Prio 0 =40    |    Unres ODU2 at Prio 3 =40   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU0  | #stages= 2   |X|X|  0  |0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU3  | Stage#2=ODUCn |    Padding (all zeros)        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU0 at Prio 0 =320   |    Unres ODU0 at Prio 3 =320  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (Unres-fix)   |           Length = 12         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU0  | #stages= 2   |X|X|  0  |0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU2  | Stage#2=ODUCn |    Padding (all zeros)        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODU0 at Prio 0 =320   |    Unres ODU0 at Prio 3 =320  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Type = 2 (Unres/MAX-var)   |           Length = 24         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S.type=ODUflex | #stages= 2    |X|X|  0  |0 0 0|1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU2  | Stage#2=ODUCn |    Padding (all zeros)        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 0 =400 Gbps       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 3 =400 Gbps       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 0 =10 Gbps           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 3 =10 Gbps           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

              Figure 7: Multi-Stage Muxing -- Unbundled Link








Rao, et al.               Expires March 2, 2018                [Page 12]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


6.  Security Considerations

   Please refer to [RFC5920] for details on security threats; defensive
   techniques; monitoring, detection, and reporting of security attacks;
   and requirements.

7.  IANA Considerations

   TBD

8.  Contributors

9.  Acknowledgements

10.  References

10.1.  Normative References

   [I-D.zih-ccamp-otn-b100g-fwk]
              Wang, Q., Zhang, Y., Valiveti, R., Hussain, I., Rao, R.,
              and H. Helvoort, "GMPLS Routing and Signaling Framework
              for B100G", draft-zih-ccamp-otn-b100g-fwk-00 (work in
              progress), February 2017.

   [ITU-T_G709_2012]
              ITU-T, "ITU-T G.709: Optical Transport Network
              Interfaces",
               http://www.itu.int/rec/T-REC-G..709-201202-S/en, February
              2012.

   [ITU-T_G709_2016]
              ITU-T, "ITU-T G.709: Optical Transport Network
              Interfaces",
               http://www.itu.int/rec/T-REC-G..709-201606-P/en, July
              2016.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997, <https://www.rfc-
              editor.org/info/rfc2119>.

   [RFC4203]  Kompella, K., Ed. and Y. Rekhter, Ed., "OSPF Extensions in
              Support of Generalized Multi-Protocol Label Switching
              (GMPLS)", RFC 4203, DOI 10.17487/RFC4203, October 2005,
              <https://www.rfc-editor.org/info/rfc4203>.






Rao, et al.               Expires March 2, 2018                [Page 13]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


   [RFC7138]  Ceccarelli, D., Ed., Zhang, F., Belotti, S., Rao, R., and
              J. Drake, "Traffic Engineering Extensions to OSPF for
              GMPLS Control of Evolving G.709 Optical Transport
              Networks", RFC 7138, DOI 10.17487/RFC7138, March 2014,
              <https://www.rfc-editor.org/info/rfc7138>.

10.2.  Informative References

   [RFC5920]  Fang, L., Ed., "Security Framework for MPLS and GMPLS
              Networks", RFC 5920, DOI 10.17487/RFC5920, July 2010,
              <https://www.rfc-editor.org/info/rfc5920>.

Authors' Addresses

   Rajan Rao
   Infinera Corporation
   140 Caspian CT.
   Sunnyvale, CA-94089
   USA

   EMail: rrao@infinera.com


   Iftekhar Hussain
   Infinera Corporation
   140 Caspian CT.
   Sunnyvale, CA-94089
   USA

   EMail: IHussain@infinera.com


   Radha Valiveti
   Infinera Corporation
   140 Caspian CT.
   Sunnyvale, CA-94089
   USA

   EMail: rvaliveti@infinera.com


   Qilei Wang (editor)
   ZTE
   Nanjing
   CN

   EMail: wang.qilei@zte.com.cn




Rao, et al.               Expires March 2, 2018                [Page 14]

Internet-Draft  OSPF-TE Extensions for B100G OTN Support     August 2017


   Yuanbin Zhang
   ZTE
   Beijing
   CN

   EMail: zhang.yuanbin@zte.com.cn


   Huub van Helvoort
   Hai Gaoming B.V

   EMail: huubatwork@gmail.com







































Rao, et al.               Expires March 2, 2018                [Page 15]
