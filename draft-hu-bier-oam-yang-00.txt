



BIER WG                                                      Fangwei. Hu
Internet-Draft                                                 Ran. Chen
Intended status: Standards Track                         ZTE Corporation
Expires: June 7, 2017                                              R. Gu
                                                            China Mobile
                                                        December 4, 2016


                      YANG Data Model for BIER OAM
                     draft-hu-bier-oam-yang-00.txt

Abstract

   This document defines YANG data model for Bit Index Explicit
   Replication (BIER) Operations, Administration, and Maintenance (OAM).
   It extends from the basic YANG data model for Layer independent OAM
   Management defined in [I-D.ietf-lime-yang-connectionless-oam] with
   BIER technology specifics.  It includes BIER OAM related
   configuration and state.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on June 7, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must



Hu, et al.                Expires June 7, 2017                  [Page 1]

Internet-Draft                  BIER YANG                  December 2016


   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions and Terminology . . . . . . . . . . . . . . . . .   2
     2.1.  Conventions . . . . . . . . . . . . . . . . . . . . . . .   3
     2.2.  Terminologies . . . . . . . . . . . . . . . . . . . . . .   4
   3.  Architecture of OAM YANG Model and Relationship to BIER OAM .   4
   4.  BIER Extensions to LIME connectionless YANG Model . . . . . .   5
     4.1.  Test Point Locations  . . . . . . . . . . . . . . . . . .   5
   5.  BIER OAM YANG Data Design . . . . . . . . . . . . . . . . . .   5
   6.  BIER OAM YANG model . . . . . . . . . . . . . . . . . . . . .   6
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   YANG [RFC6020] is a data modeling language used to model
   configuration and state data manipulated by the Network Configuration
   Protocol (NETCONF) [RFC6241], NETCONF remote procedure calls (RPC),
   and NETCONF notifications.  This document defines the YANG data model
   for Bit Index Explicit Replication (BIER)OAM [I-D.ietf-bier-ping].
   The BIER OAM YANG module involves the OAM configuration, and
   notifications, etc.

   Currently, [I-D.ietf-lime-yang-connectionless-oam] proposes a basic
   YANG data model for technology-independent abstraction of key OAM
   constructs for connectionless protocols.  BIER OAM YANG data model
   can be defined by directly extending the basic model with BIER
   technology specifics.  It can bring some obvious benefits such as
   unified format, reusable parts, and correlation of defects, faults,
   network failure at the specific layer.

   In addition, various components in the BIER technology specific YANG
   data model defined in [I-D.ietf-bier-bier-yang] can be directly
   reused in this draft to define the BIER OAM YANG data model.

2.  Conventions and Terminology







Hu, et al.                Expires June 7, 2017                  [Page 2]

Internet-Draft                  BIER YANG                  December 2016


2.1.  Conventions

    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
    document are to be interpreted as described in [RFC2119].

    The following terms are defined in [RFC6241] and are not redefined
    here:

    o  client

    o  configuration data

    o  server

    o  state data

    The following terms are defined in [RFC6020] and are not redefined
    here:

    o  augment

    o  data model

    o  data node

    The terminology for describing YANG data models is found in
    [RFC6020].

    The following notations are used within the data tree and carry the
    meaning as noted below.

    Each node is printed as:

    <status> <flags> <name> <opts> <type>

    <status> is one of:
         +  for current
         x  for deprecated
         o  for obsolete


    <flags> is one of:

        rw for configuration data
        ro for non-configuration data
        -x for rpcs
        -n for notifications



Hu, et al.                Expires June 7, 2017                  [Page 3]

Internet-Draft                  BIER YANG                  December 2016


    <name> is the name of the node

    If the node is augmented into the tree from another module, its name
    is printed as <prefix>:<name>.

    <opts> is one of:

         ?  for an optional leaf or choice
         !  for a presence container
         *  for a leaf-list or list
         [<keys>] for a list's keys

    <type> is the name of the type for leafs and leaf-lists

    In this document, these words will appear with that interpretation
    only when in ALL CAPS.  Lower case uses of these words are not to be
    interpreted as carrying RFC2119 significance.


2.2.  Terminologies

   BFR-ID: Bit-Forwarding Router identify [I-D.ietf-bier-architecture]

   BIER: Bit Index Explicit Replication[I-D.ietf-bier-architecture]

   BSL: Bit String Lenght [I-D.ietf-bier-architecture]

   LIME: Layer Independent OAM Management
   [I-D.ietf-lime-yang-connectionless-oam]

   OAM: Operations, Administration, and Maintenance [RFC6291]

3.  Architecture of OAM YANG Model and Relationship to BIER OAM

   Layer independent OAM YANG model
   [I-D.ietf-lime-yang-connectionless-oam] is used as the basis for all
   the other connectionless OAM YANG models.  This allows users to span
   across OAM tools of different technologies through a uniform API.
   The following Figure depicts the relationship of BIER OAM YANG model
   to the Layer Independent OAM YANG Model.











Hu, et al.                Expires June 7, 2017                  [Page 4]

Internet-Draft                  BIER YANG                  December 2016


                          +-+-+-+-+-+-+-+-+-+
                          |  Gen OAM YANG   |
                          |(connectionless) |
                          +-+-+-+-+-+-+-+-+-+
                                   |
                                   O
                                   |
          +-----------+----------+----------+--------------+
          |           |          |          |              |
      +-+-+-+-++ +-+-++--++ +-+-+++-++ +-+--+--++      +-+-+-+-++
      |  BIER  | | NVO3   | | MPLS   | | IP     | . . .|  foo   |
      |OAM YANG| |OAM YANG| |OAM YANG| |OAM YANG|      |OAM YANG|
      +-+-+-+-++ +-+-++--++ +-+-++--++ +-+-++--++      +-+-+-+-++
            |         |          |          |              |
            |    +-+-++--++ +-+-++--++      |          +-+-+-+-++
            |    | NVO3   | | MPLS   |      |     . . .|  foo   |
            |    |sub tech| |sub tech|      |          |sub tech|
            |    +-+-++--++ +-+-++--++      |          +-+-+-+-++
            |         |          |          |              |
            |         |          |          |              |
          +--------------------------------------------------------+
          |                      Uniform API                       |
          +--------------------------------------------------------+
      Figure 1 Relationship of BIER OAM YANG model to Layer independent
                            OAM YANG  model


4.  BIER Extensions to LIME connectionless YANG Model

4.1.  Test Point Locations

   BIER protocol uses BSL ,sub-domain id and BFR-id for the forwarding
   indicators.  So we augment the definition of BSL,sub-domain id and
   BFR-id from BIER yang data model as the test point locations for BIER
   OAM YANG data model.

5.  BIER OAM YANG Data Design














Hu, et al.                Expires June 7, 2017                  [Page 5]

Internet-Draft                  BIER YANG                  December 2016


module: ietf-bier-oam
  augment /nd:networks/nd:network/nd:node/coam:location-type/coam:ip-prefix-location-type/coam:test-point-ip-prefix-location-list/coam:test-point-locations:
    +--rw bier-test-point-location-list
       +--rw test-point-locations* [bier-bsl bier-subdomainid bier-bfrid]
          +--rw bier-bsl            bier-bsl
          +--rw bier-subdomainid    bier-subdomainid
          +--rw bier-bfrid          bier-bfrid
  augment /nd:networks/nd:network/nd:node/coam:location-type/coam:ip-prefix-location-type/coam:test-point-ip-prefix-location-list/coam:test-point-locations/coam:technology:
    +--:(bier-oam-string)
       +--rw bier-icmp?   string
  augment /nd:networks/nd:network/nd:node/coam:location-type/coam:ip-prefix-location-type/coam:test-point-ip-prefix-location-list/coam:test-point-locations/coam:oam-layers:
    +--rw af
       +--rw ipv4* [bitstringlength bier-mpls-label-base]
       |  +--rw bitstringlength               uint16
       |  +--rw bier-mpls-label-base          mpls:mpls-label
       |  +--rw bier-mpls-label-range-size?   bier-mpls-label-range-size
       +--rw ipv6* [bitstringlength bier-mpls-label-base]
          +--rw bitstringlength               uint16
          +--rw bier-mpls-label-base          mpls:mpls-label
          +--rw bier-mpls-label-range-size?   bier-mpls-label-range-size



6.  BIER OAM YANG model

<CODE BEGINS> file "ietf-bier-oam@2016-12-05.yang"
module ietf-bier-oam {
    namespace "urn:ietf:params:xml:ns:yang:ietf-bier-oam";
    prefix bieroam;

    import ietf-bier {
      prefix bier;
    }

    import ietf-connectionless-oam {
      prefix coam;
    }
        import ietf-network{
      prefix nd;
    }

     organization
       "IETF BIER(Bit Indexed Explicit Replication ) Working Group";

     contact
        "WG List:  <mailto:bier@ietf.org>
        WG Chair: Tony Przygienda
                  <mailto:tonysietf@gmail.com>



Hu, et al.                Expires June 7, 2017                  [Page 6]

Internet-Draft                  BIER YANG                  December 2016


        WG Chair: Greg Shepherd
                  <mailto:gjshep@gmail.com>
        Editor:   Fangwei Hu
                   <mailto:hu.fangwei@zte.com.cn>
        Editor:   Ran Chen
                   <mailto:chen.ran@zte.com.cn>
        Editor:   Rong Gu
                   <mailto:gurong@chinamobile.com>
        ";

        description
         "The YANG module defines BIER OAM data model.";

         revision 2016-12-05{
         description
           "00 revision";
         reference
           "draft-hu-bier-oam-yang-00";
       }

      typedef bier-bsl {
       type leafref {
                path "/bier:bier/bier:bier-global/bier:sub-domain/bier:bitstringlength";
                }
         description "bsl type";
     }

     typedef bier-subdomainid {
       type leafref {
                path "/bier:bier/bier:bier-global/bier:sub-domain/bier:sub-domain-id";
         }
         description "sub-domain-id type";
      }

      typedef bier-bfrid {
       type leafref {
                path "/bier:bier/bier:bier-global/bier:sub-domain/bier:bfr-id";
                }
         description "bfr-id type";

     }

    identity bier-type {
      base coam:tp-address-type;
      description "bier type";
    }

     augment "/nd:networks/nd:network/nd:node/coam:location-type/coam:ip-prefix-location-type"



Hu, et al.                Expires June 7, 2017                  [Page 7]

Internet-Draft                  BIER YANG                  December 2016


         +"/coam:test-point-ip-prefix-location-list/coam:test-point-locations" {
           container bier-test-point-location-list {
             list test-point-locations {
                key "bier-bsl bier-subdomainid bier-bfrid";

                leaf bier-bsl {
                   type bier-bsl;
                   description "bier bsl";
                 }

                leaf bier-subdomainid {
                    type bier-subdomainid;
                    description "bier sub-domain id";
                 }

                leaf bier-bfrid {
                     type bier-bfrid;
                     description "bfr id";
                 }

               description "test point locations list ";
             }
             description "bier-test-point-location-list";
            }
           description "bier-location-type";
    }

     augment "/nd:networks/nd:network/nd:node/coam:location-type/coam:ip-prefix-location-type"
         +"/coam:test-point-ip-prefix-location-list/coam:test-point-locations/coam:technology" {
      case bier-oam-string{
           leaf bier-icmp{
            type string;
                description
                "bier icmp";
           }
           description  "bier oam icmp case.";
          }
      description "bier icmp technology.";
        }

    augment "/nd:networks/nd:network/nd:node/coam:location-type/coam:ip-prefix-location-type"
         +"/coam:test-point-ip-prefix-location-list/coam:test-point-locations/coam:oam-layers" {
        container af {
          list ipv4 {
           key "bitstringlength bier-mpls-label-base";
           uses bier:bier-mpls-cfg;
           description
           "Defines the necessary label ranges per bitstring length in ipv4.";



Hu, et al.                Expires June 7, 2017                  [Page 8]

Internet-Draft                  BIER YANG                  December 2016


          }
           list ipv6 {
            key "bitstringlength bier-mpls-label-base";
            uses bier:bier-mpls-cfg;
            description
            "Defines the necessary label ranges per bitstring length in ipv6.";
          }
             description    "Bier mapping entries.";
        }
             description "bier af.";
   }
  }
 <CODE ENDS>


7.  Security Considerations

   TBD.

8.  Acknowledgements

   TBD.

9.  IANA Considerations

   TBD.

10.  Normative References

   [I-D.ietf-bier-architecture]
              Wijnands, I., Rosen, E., Dolganow, A., Przygienda, T., and
              S. Aldrin, "Multicast using Bit Index Explicit
              Replication", draft-ietf-bier-architecture-05 (work in
              progress), October 2016.

   [I-D.ietf-bier-bier-yang]
              Chen, R., hu, f., Zhang, Z., dai.xianxian@zte.com.cn, d.,
              and M. Sivakumar, "YANG Data Model for BIER Protocol",
              draft-ietf-bier-bier-yang-00 (work in progress), July
              2016.

   [I-D.ietf-bier-ping]
              Kumar, N., Pignataro, C., Akiya, N., Zheng, L., Chen, M.,
              and G. Mirsky, "BIER Ping and Trace", draft-ietf-bier-
              ping-00 (work in progress), July 2016.






Hu, et al.                Expires June 7, 2017                  [Page 9]

Internet-Draft                  BIER YANG                  December 2016


   [I-D.ietf-lime-yang-connectionless-oam]
              Kumar, D., Wang, Z., Wu, Q., Rahman, R., and S. Raghavan,
              "Generic YANG Data Model for Connectionless Operations,
              Administration, and Maintenance(OAM) protocols", draft-
              ietf-lime-yang-connectionless-oam-02 (work in progress),
              October 2016.

   [RFC6020]  Bjorklund, M., Ed., "YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)", RFC 6020,
              DOI 10.17487/RFC6020, October 2010,
              <http://www.rfc-editor.org/info/rfc6020>.

   [RFC6241]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
              and A. Bierman, Ed., "Network Configuration Protocol
              (NETCONF)", RFC 6241, DOI 10.17487/RFC6241, June 2011,
              <http://www.rfc-editor.org/info/rfc6241>.

   [RFC6291]  Andersson, L., van Helvoort, H., Bonica, R., Romascanu,
              D., and S. Mansfield, "Guidelines for the Use of the "OAM"
              Acronym in the IETF", BCP 161, RFC 6291,
              DOI 10.17487/RFC6291, June 2011,
              <http://www.rfc-editor.org/info/rfc6291>.

Authors' Addresses

   Fangwei Hu
   ZTE Corporation
   No.889 Bibo Rd
   Shanghai  201203
   China

   Phone: +86 21 68896273
   Email: hu.fangwei@zte.com.cn


   Ran Chen
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Phone: +86 025 88014636
   Email: chen.ran@zte.com.cn








Hu, et al.                Expires June 7, 2017                 [Page 10]

Internet-Draft                  BIER YANG                  December 2016


   Rong Gu
   China Mobile
   32 Xuanwumen West Ave, Xincheng District
   Beijing  100053
   China

   Email: gurong@chinamobile.com












































Hu, et al.                Expires June 7, 2017                 [Page 11]
