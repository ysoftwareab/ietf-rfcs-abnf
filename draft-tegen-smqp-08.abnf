name = definition 
version = 1*DIGIT "." 1*DIGIT ; <major>.<minor> 
status = ( "Ready" | "Not Available" ) 
server-ident = <string> 
 
    
REDIRECT = ip-address ":" ip-port 
PASSWORD = ( "PASSWORD" | "PASS" ) 1*SP account 1*SP password 
      
TOPIC = "Topic" ":" topic 
            REQUIRED topic of the user's account and associated 
            channel.  The client application SHOULD subscribe to this 
            topic so it MAY receive system and reply messages. 
           
TIMEOUT = "Timeout" ":" timeout 
            OPTIONAL server default message timeout.  Messages that do 
            not specify a timeout will default to the server's timeout 
            period.  If the server does not return a TIMEOUT attribute 
            on login, it is RECOMMENDED that the client sets a timeout 
            period for all messages. 
           
TIME = "Time" ":" date-time 
            The REQUIRED TIME is the current date/time of the server.  
            This can be used to correlate messages published and 
            received to and from the server.  The client SHOULD assume 
            some measure of latency in the actual time of the server, 
            and the time it took to deliver the reply.  Time is 
            delivered at GMT. 
           
SUID = "Suid" ":" suid 
            The server shall return a Server Unique Identifier (SUID) 
            that is network unique that identifies its instance to the 
            client.  This MAY be the server's host address, port, and 
            other text concatenated together.  The same SUID of the 
            server is sent to each client login initiation. 
      
     
                 Simple Message Queue Protocol (SMQP)        July 2002 
    
CONNECTTO = "CONNECTTO" 1*SP account "/" channel 1*SP 
                 [ address ":" ] port 
      
NAME = "Name" ":" text-UTF8 
          A message may have a context.  This can be viewed as the 
          subject of the message.  The name does not have to be unique 
          in a given topic.  The name is free formed but shall be 
          limited to one line of no more than 128 characters.  The NAME 
          attribute is OPTIONAL.  An example of this attribute is: 
           
            Name: New Protocol Release; charset="iso-8859-4" 
        
PRIORITY = ( "Priority" | "Pri" ) ":" positive-number 
          PRIORITY is a numeric value greater than zero that can 
          OPTIONALLY define the priority of the message in the topic's 
          queue.  Messages are normally processed FIFO in a topic's 
          queue.  Messages that define a priority are organized so that 
          higher priority numbers are sent before lower priority 
          numbers (priority of 10 is sent before a priority of 2). 
        
CREATED = "Created" ":" date-time 
          CREATED is the REQUIRED date/time the message was created, 
          just prior to being streamed to the server.  The date/time is 
          REQUIRED to be based on GMT (Zulu) zone and seconds are 
          expressed in fractions of a second. The CREATED date/time MAY 
          be used by the subscriber to verify the ordering of messages 
          received. 
        
RECEIPT = "Receipt" ":" ( "NONE" | "ONE" | "ALL" ) 
          RECEIPT is an OPTIONAL attribute that informs the server to 
          return a message to the publisher that the message was 
          successfully delivered to none, one, or all subscriber(s).  
          By default, the server SHOULD assume a value of "NONE" if the 
          attribute is not provided in the header.  Recipient messages 
          are published to the login account's system topic/queue. 
           
          NONE : No receipt is provided to the publisher; default. 
          ONE  : Receipt is provided to the publisher when the message 
                 is delivered to the first available subscriber within 
                 the timeout period. 
          ALL  : Receipt is provided to the publisher when the message 
                 is delivered to all subscribers within the timeout 
                 period. 
           
          If subscriber(s) were unavailable by the time the message 
          timeout period expires, the publisher would receive a receipt 
          message informing the number of subscribers the server was 
          trying to deliver to and the number of subscriber(s) that 
          received the message in the form of "X/Y".  For example "4/6" 
          would indicate that the receipt was marked as "ALL", and only 
          4 of the possible 6 subscribers received the message.  A 
          receipt message will always be returned for ONE and ALL in at 
          most the timeout period of the message. 
        
     
                 Simple Message Queue Protocol (SMQP)        July 2002 
    
REPLY = "Reply" ":" boolean 
          REPLY is an OPTIONAL, Boolean attribute that informs the 
          subscriber that the publisher is expecting some kind of reply 
          message upon successful receipt of the published message.  If 
          the REPLY is set to YES, the subscriber SHOULD reply to the 
          message appropriately.  If the attribute is missing from the 
          header, the subscriber MUST assume that no reply is needed.  
          Reply messages are published to the login account's system 
          topic/queue. 
        
TIMEOUT = "Timeout" ":" timeout 
          TIMEOUT is the OPTIONAL period of time a message will persist 
          on the server after the current subscribers have been sent 
          the published message.  If the attribute is missing from the 
          header, the server will default to the timeout period defined 
          by the topic's queue.  Timeout of ( "INFINITE" | "INF" ) 
          indicates a state message and the message will persist for an 
          infinite period of time until the message is REMOVED. 
        
DEPTH = "Depth" ":" number 
          DEPTH is an OPTIONAL, numeric value that determines how deep 
          (number of hops) a published message will be routed to other 
          SMQP servers.  A depth of zero (0) will only route a message 
          to local subscribers of the server.  Depths greater than zero 
          will allow the message to be routed to adjoining servers to 
          the given depth, at which point, the message will no longer 
          be routed.  A depth of (-1) assumes no limit to the server 
          depth.  If the attribute is not included in the header, the 
          server MUST assume a depth of zero, or only those subscribers 
          on the local server. 
        
SEQUENCE = ( "Sequence" | "Seq" ) ":" positive-number 
          SEQUENCE is an OPTIONAL, positive number that assists the 
          subscriber in knowing the sequence of a series of messages 
          from a particular publisher and topic/queue.  If a publisher 
          needs to ensure that published messages are received in a 
          particular order, the publisher would increment the SEQUENCE 
          value by one each time a new message is generated.  It is the 
          responsibility of the subscriber to cache messages that MAY 
          have been received out of sequence.  The SEQUENCE is unique 
          for a HOST, TOPIC, and CMUID.  The subscriber MAY also be 
          able to use the CREATED attribute to help determine message 
          sequential latency at the source of the message. 
           
GUARANTEE = ( "Guarantee" | "Guar" ) ":" boolean 
          GUARANTEE is an OPTIONAL attribute that informs the server 
          and the subscriber that the published message needs to be 
          delivered unconditionally.  By default, all implementations 
          SHALL assume messages are guaranteed. 
           
          The server acknowledges published, guaranteed messages.  
          Messages delivered to subscribers have a two-phase commit 
          acknowledgement.  Non-guaranteed messages (set to NO) avoid 
          all acknowledgements (both publisher to server and server to 
     
                 Simple Message Queue Protocol (SMQP)        July 2002 
    
          subscriber).  A publisher, sending a non-guaranteed message, 
          SHOULD NOT wait for a reply.  Likewise, subscribers SHOULD 
          NOT reply with an acknowledgement nor expect any additional 
          data for that particular message. 
           
          Publishers who do not care if any subscribers ever receive 
          the message use non-guaranteed messages.  These publishers 
          are usually sending out a large volume of messages, that any 
          missed messages would not impact subscribers.  Additionally, 
          the removal of acknowledgement increases overall throughput.  
          An example implementation of non-guaranteed messages could be 
          a client publishing joystick or mouse movements. 
 
DELIVERY = "Delivery" ":" delivery-mode 
          DELIVERY allows the message to define to how many subscribers 
          of the topic the message is being sent to.  The possible 
          delivery-mode options are either "ALL" or "ONE".  If the 
          attribute is missing, the default mode is "ALL", meaning that 
          all the subscribers, during the message's timeout period will 
          receive the message.  A delivery mode of "ONE" indicates that 
          the message will only be sent to one subscriber. 
           
          A message's delivery mode cannot over-ride the delivery mode 
          of the topic as defined by the command SET TOPIC DELIVERY. 
        
HOPS = "Hops" ":" *domain 
          Each time the message is routed to another SMQP server, shall 
          append to the HOPS attribute.  Each server would append its 
          domain name/address to the value, separated by a comma (,).  
          The HOPS attribute is to help prevent a message to be re-
          routed to a server that has already processed the message. 
           
          An example of this attribute, after a few hops may look like: 
          Hops:smqp.net,host.com,smqp.org:1232 
        
MIME-VERSION = "MIME-Version" ":" major "." minor 
          MIME-VERSION is an OPTIONAL attribute that informs which 
          version of the MIME specification is being supported with the 
          current message.  The subscriber MAY use this information to 
          help it understand the CONTENT-TYPE of the data. 
        
CONTENT-DESCRIPTION = "Content-Description" ":" text 
          CONTENT-DESCRIPTION is an OPTIONAL, one-line description of 
          the content.  Other content specific attributes describe the 
          type, size, encryption, and compression, but this attribute 
          allows a context to be added to the item.  For example, the 
          content description may be "Satellite image", or "30 day 
          price index". 
        
        
        
     
                 Simple Message Queue Protocol (SMQP)        July 2002 
    
CONTENT-ID = "Content-ID" ":" text 
          CONTENT-ID is an OPTIONAL alpha-numeric identification with 
          the content object.  This may be used to reference the 
          content from another content data.  For example, a content 
          section may represent an image that is referenced in the HTML 
          body of another content section. 
        
CONTENT-TYPE = "Content-Type" ":" media-type 
          CONTENT-TYPE is a REQUIRED attribute after the header.  There 
          is a content type for each data section in the message.  The 
          content type uses the MIME specification that describes the 
          format of the data to follow.  The CONTENT-TYPE belongs to 
          the header section of the data.  It is preceded by <CRLF> 
          that separates the header from the data section. 
           
          Example of this attribute is 
          Content-Type: application/x-rft 
          Content-Type: text/plain; charset="ISO-8859-4" 
        
CONTENT-LENGTH = "Content-Length" ":" 1*DIGIT 
          The CONTENT-LENGTH is a REQUIRED attribute after the header.  
          The content length is for each data section in the message.  
          The content type is the number of bytes in the data to 
          follow. 
        
CONTENT-ENCODING = "Content-Encoding" ":" 1#content-coding 
          When present, its value indicates what additional content 
          coding have been applied to the data, and thus what decoding 
          mechanism must be applied in order to obtain the media-type 
          referenced by the Content-Type.  Content-Encoding is 
          primarily used to allow a document to be compressed without 
          losing the identity of its underlying media type. 
           
          Example of this attribute is 
          Content-Encoding: zip 
        
CONTENT-ENCRYPTION = "Content-Encryption" o Added:" encryption-
encryption-scheme = method "/" version 
           
SMUID = "Smuid" ":" host "/" uid 
               SMUID is the REQUIRED Server Message Unique Identifier.  
               This is the UID generated by the server, when the 
               publisher first published the message.  This UID is 
               always globally unique for a particular server and does 
               not get re-circulated over time. 
             
CMUID = "Cmuid" ":" uid 
               CMUID is the REQUIRED Client Message Unique Identifier.  
               The publisher generates this UID.  
             
ACCOUNT = "Account" ":" account ":" channel "@" host 
               ACCOUNT is the REQUIRED account information of the 
               publisher of the message.  The server adds this 
               information.  This information is used to reply to the 
               given message.  
             
