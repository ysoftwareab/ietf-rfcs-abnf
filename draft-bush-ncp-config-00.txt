
Internet Draft                                             Stephen Bush
Expires in June 1997                                    Sunil Jagannath
<draft-bush-ncp-config-00.txt>                                     ITTC
                                                       January 16, 1997


Network Control Protocol for the Configuration of Mobile Wireless Beam-
                       formed GPS-Based Networks

Status of this Memo


   This document is a submission by the Information and Telecommunica-
   tions Technologies Center (ITTC) at the University of Kansas. Com-
   ments should be submitted to sbush@tisl.ukans.edu.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft.  Internet-Drafts are working doc-
   uments of the Internet Engineering Task Force (IETF), its areas, and
   its working groups.  Note that other groups may also distribute work-
   ing documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference mate-
   rial or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet- Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

Abstract

   The Network Control Protocol (NCP) facilitates the configuration and
   rapid reconfiguration of mobile wireless beam-formed networks. It
   controls the operation of a network of omni-directional packet radios
   (orderwire) that overlays the mobile wireless network. Each network
   element in this network uses Global Positioning System (GPS) informa-
   tion to control a beamforming antenna subsystem which provides for
   spatial reuse. The GPS information is shared among the network ele-
   ments over the orderwire and an optimal topology for the beam-formed
   links is determined.

Network Control Protocol Description




Bush & Jagannath          Expires in June 1997                  [Page 1]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


 Network Control Protocol Terminology


   This section defines some of the terminology used in the Description
   of the NCP operation.



     o   "AX.25"

         Asynchronous X.25 Protocol (See [1]).

     o   "Callsign"

         The packet radio callsign is assigned by the FCC and
         identifies the packet radio operator.

     o   "Edge Switch" (ES)

         A node which either resides within the wireless
         network or at the edge of the fixed and
         wireless network and which serves as a base station.

     o   "Global Positioning System" (GPS)

          Satellite system which provides location and time.

     o   "Remote Node" (RN)

         A host with the ability to connect via a beamforming
         antenna to an edge switch (ES).


 Network Control Protocol Operation


   At the physical level we will be using the orderwire to exchange
   position, time and link quality information and to setup the wireless
   connections. The process of setting up the wireless connections
   involves setting up links between ESs and between ESs and RNs.

   The network will have one master ES, which will run a topology con-
   figuration algorithm and distribute the resulting topology informa-
   tion to all the connected ESs over point-to-point orderwire packet
   radio links. The point-to-point link layer for the orderwire uses
   AX.25 [1].  The master ES is initially the first active ES, and any
   ES has the capability of playing the role of the master.




Bush & Jagannath          Expires in June 1997                  [Page 2]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   The first ES to become active initially broadcasts its callsign and
   start-up-time in a MYCALL packet, and listens for responses from any
   other ESs. In this prototype system, the packet radio callsign is
   assigned by the FCC and identifies the radio operator.  Since it is
   the first active ES, there would be no responses in a given time
   period, say T. At the end of T seconds, the ES rebroadcasts its
   MYCALL packet and waits another T seconds. At the end of 2T seconds,
   if there are still no responses from other ESs, the ES assumes that
   it is the first ES active and takes on the role of the master. If the
   first two or more ESs start up within T seconds of each other, at the
   end of the interval T, the ESs compare the start-up times in all the
   received MYCALL packets and the ES with the oldest start-up time
   becomes the master. In this system, accurate time stamps are provided
   by the GPS.

   Each successive ES that becomes active initially broadcasts its call-
   sign in a MYCALL packet. The master on receipt of a MYCALL packet
   extracts the callsign of the source, establishes a point-to-point
   link to the new ES and sends it a NEWSWITCH packet. The new ES on
   receipt of the NEWSWITCH packet over a point-to-point orderwire link,
   obtains its position from its GPS receiver and sends its position to
   the master as a SWITCHPOS packet over the point-to-point orderwire
   link.  On receipt of a SWITCHPOS packet, the master records the posi-
   tion of the new ES in its switch position table, which is a table of
   ES positions, and runs the topology configuration algorithm to deter-
   mine the best possible interconnection of all the ESs. The master
   then distributes the resulting information to all the ESs in the form
   of a TOPOLOGY packet over the point-to-point orderwire links. Each ES
   then uses this information to setup the inter-ES links as specified
   by the topology algorithm. The master also distributes a copy of its
   switch position table to all the ESs over the point-to-point order-
   wire links, which they can use in configuring RNs as discussed below.
   Also, the ES then uses the callsign information in the switch posi-
   tion table to setup any additional point-to-point orderwire packet
   radio links corresponding to the inter ES links required to exchange
   any link quality information. Thus this scheme results in a point-to-
   point star network of orderwire links with the master at the center
   of the star and also point-to-point orderwire links between those ESs
   that have a corresponding inter ES link.

   In the event of failure of the master node which can be detected by
   listening for the AX-25 messages generated on node failure, the
   remaining ESs exchange MYCALL packets, elect a new master node, and
   the network of ESs is reconfigured.

   Each RN that becomes active obtains its position from its GPS
   receiver and broadcasts its position as a USER_POS packet over the
   orderwire network. This packet is received by all the nearby ESs.



Bush & Jagannath          Expires in June 1997                  [Page 3]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   Each candidate ES then computes the distance between the RN and all
   the candidate ESs which is possible since each ES has the positions
   of all the other ESs from the switch position table. An initial guess
   at the best ES to handle the RN is the closest ES. This ES then feeds
   the new RN's position information along with the positions of all its
   other connected RNs to a beamforming algorithm that returns the
   steering angles for each of the beams on the ES so that all the RNs
   can be configured.  If the beamforming algorithm determines that a
   beam and TDMA time slot are available to support the new RN, the ES
   steers its beams so that all its connected RNs and the new RN are
   configured. It also records the new RN's position in its user posi-
   tion table which contains positions of connected RNs, establishes a
   point-to-point orderwire link to the new RN and sends it a HANDOFF
   packet with link setup information indicating that the RN is con-
   nected to it. If the new RN cannot be accommodated, the ES sends it a
   HANDOFF packet with the callsign of the next closest ES, to which the
   RN sends another USER_POS packet over a point-to-point orderwire
   link. This ES then uses the beamform algorithm to determine if it can
   handle the RN.

   This scheme uses feedback from the beamforming algorithm together
   with the distance information to configure the RN. It should be noted
   that the underlying AX.25 protocol [3] provides error free transmis-
   sions over point-to-point orderwire links. Also the point-to-point
   orderwire link can be established from either end and the handshake
   mechanism for setting up such a link is handled by AX.25. If the RN
   does not receive a HANDOFF packet within a given time it uses a retry
   mechanism to ensure successful broadcast of its USER_POS packet.

   A point-to-point orderwire link is retained as long as a RN is con-
   nected to a particular ES and a corresponding high-speed link exists
   between them to enable exchange of link quality information. The link
   can be torn down when the mobile RN migrates to another ES in case of
   a hand-off. Thus at the end of this network configuration process,
   three overlaid networks are setup, namely, an orderwire network, an
   RN to ES network and an inter-ES network. The orderwire network has
   links between the master ES and every other active ES in a star con-
   figuration, links between ESs connected by inter-ES links as well as
   links between RNs and the ESs to which they are connected.  Raw pipes
   for the user data links between RNs and appropriate ESs as well as
   for the user data links between ESs are also set up.

   Finally, see [2] and [3] for the definition of managed objects for
   the NCP and Virtual Network Configuration (VNC).

 Network Control Protocol Packet Types





Bush & Jagannath          Expires in June 1997                  [Page 4]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   The network control protocol uses the following packet types shown
   below.



      -----------------------------------------------------------------------
     |MYCALL    | Callsign, Boot-Time                                        |
      -----------------------------------------------------------------------
     |NEWSWITCH | empty packet                                               |
      -----------------------------------------------------------------------
     |SWITCHPOS | GPS Time, GPS Position                                     |
      -----------------------------------------------------------------------
     |TOPOLOGY  | Callsign and Position of each node with inter-connections  |
      -----------------------------------------------------------------------
     |USER_POS  | Callsign, GPS Time, GPS Position                           |
      -----------------------------------------------------------------------
     |HANDOFF   | Frequency, Time Slot, ES GPS Position                      |
      -----------------------------------------------------------------------



   The MYCALL packet contains the ES identifier (packet radio Callsign)
   and the time it powered-up.

   The NEWSWITCH packet is an empty packet which serves as an acknowl-
   edgment and completes the handshake between the ES and RN.

   The SWITCHPOS packet contains the current ES time and location.

   The TOPOLOGY packet contains packet radio callsigns and positions of
   all nodes and the beamformed links to be established between them.

   The USER_POS packet contains the callsign, current time, and position
   of an RN.

   The HANDOFF packet contains the frequency, time slot, and ES posi-
   tion. It is sent by an ES to a RN indicating handoff to this ES.

Security Considerations


   All orderwire packets are DES encrypted.

References

   [1] AX.25 Amateur Packet Radio Link-Layer Protocol, IEEE  October
       (1984).




Bush & Jagannath          Expires in June 1997                  [Page 5]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   [2] The Definition of Managed Objects for the Configuration of Mobile
       Wireless Beamformed GPS-Based Networks, draft-bush-rdrn-
   mib-00.txt,
       Stephen F. Bush, Sunil Jagannath.

   [3] The Definition of Managed Objects for Virtual Network Configura-
   tion,
       draft-bush-vnc-mib-00.txt, Stephen F. Bush, Sunil Jagannath.

Author's Address


   Stephen F. Bush
   Sunil Jagannath
   Information and Telecommunications Technologies Center (ITTC)
   University of Kansas
   Lawrence, Kansas 66045

   Phone: (913) 864-7761

   EMail: sbush@tisl.ukans.edu






























Bush & Jagannath          Expires in June 1997                  [Page 6]

