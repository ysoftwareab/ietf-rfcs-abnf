<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Route Configuration by DHCPv6 Option for Hosts with Multiple Interfaces</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Route Configuration by DHCPv6 Option for Hosts with Multiple Interfaces">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">MIF
Working Group</td><td class="header">T. Sun</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">H. Deng</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">D. Liu</td></tr>
<tr><td class="header">Expires: January 28, 2011</td><td class="header">China
Mobile</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 27, 2010</td></tr>
</table></td></tr></table>
<h1><br />Route Configuration by DHCPv6 Option for Hosts with Multiple Interfaces<br />draft-sun-mif-route-config-dhcp6-03</h1>

<h3>Abstract</h3>

<p>
 	Currently, more and more hosts have multiple interfaces such as GPRS, WiFi etc. 
 	One key issue is how to make the applications on the host access the network 
 	accordingly through the proper interfaces. The approach presented in this document 
 	is to define new DHCPv6 option to configure route tables of the hosts. In this way, 
 	the hosts can select a appropriate route.
   
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on January 28, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Requirements Notation<br />
<a href="#intro">2.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">2.1.</a>&nbsp;
Background<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Scenarios">2.2.</a>&nbsp;
Scenario Descriptions<br />
<a href="#Define Option">3.</a>&nbsp;
Route Information Option Format<br />
<a href="#anchor3">4.</a>&nbsp;
Route Information Option Format Usage<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">4.1.</a>&nbsp;
DHCPv6 Client Behavior <br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.2.</a>&nbsp;
DHCPv6 Server Behavior <br />
<a href="#anchor6">5.</a>&nbsp;
Implementation Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.1.</a>&nbsp;
Conflict of Route Rules<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.2.</a>&nbsp;
Not Limited to DHCPv6 Servers<br />
<a href="#anchor9">6.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor10">7.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements Notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
            "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
            and "OPTIONAL" in this document are to be interpreted as
            described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Background</h3>

<p> A host such as a laptop or a smart-phone may have multiple interfaces for connections, 
  	e.g., a wired Ethernet LAN, a 802.11 LAN, a 3G cellular network, one or multiple VPNs or tunnels. 
  	In view of more and more versatile applications, users may expect a host to utilize 
  	several interfaces simultaneously. Issues in such scenarios are summarized in
  	<a class='info' href='#I-D.blanchet-mif-problem-statement'>[I&#8209;D.blanchet&#8209;mif&#8209;problem&#8209;statement]<span> (</span><span class='info'>Blanchet, M. and P. Seite, &ldquo;Multiple Interfaces Problem Statement,&rdquo; July&nbsp;2010.</span><span>)</span></a> .
  
</p>
<p> An application uses certain interface through select the corresponding source 
  	IP address. if the application does not specify it, the transport layer must ask the IP
  	layer. According to <a class='info' href='#RFC1122'>[RFC1122]<span> (</span><span class='info'>Braden, R., &ldquo;Requirements for Internet Hosts - Communication Layers,&rdquo; October&nbsp;1989.</span><span>)</span></a>	all the packets whose destination IP addresses
  	are not specified in 
  	the route table will be sent to the default gateway for forwarding. Accordingly, 
  	the IP address corresponding to the default gateway will be chosen as the source IP address.  
  
</p>
<p> To avoid all packets passing through the same interface corresponding to the default gateway, 
  	the approach proposed in this document configures certain routes in route tables of the host.
  	 The configuration information is obtained through defining a new DHCPv6 option based on <a class='info' href='#RFC3315'>[RFC3315]<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a>.
  
</p>
<p>
   An optional extension to Router Advertisement messages is described in 
   <a class='info' href='#RFC4191'>[RFC4191]<span> (</span><span class='info'>Draves, R. and D. Thaler, &ldquo;Default Router Preferences and More-Specific Routes,&rdquo; November&nbsp;2005.</span><span>)</span></a> for communicating default router preferences and 
   more-specific routes from routers to hosts. To address multi-homed problems in a flexible way, 
   <a class='info' href='#I-D.hui-mif-dhcpv4-routing-03'>[I&#8209;D.hui&#8209;mif&#8209;dhcpv4&#8209;routing&#8209;03]<span> (</span><span class='info'>Hui, M. and H. Deng, &ldquo;Extension of DHCPv4 for policy routing of multiple interfaces terminal,&rdquo; March&nbsp;2010.</span><span>)</span></a> through introducing TOS 
   and specific routes into DHCPv4 options. This document considers the situations 
   for IPv6 cases. 
   
</p>
<a name="Scenarios"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Scenario Descriptions</h3>

<p>
	 The scenario addressed by the approach proposed in this document is illustrated in <a class='info' href='#fig_scenario'>Figure&nbsp;1<span> (</span><span class='info'>The MIF host scenario</span><span>)</span></a>.
	 In the figure, the MIF host have three interfaces connected to the access network Ethernet, WiFi and 3G respectively.
	
</p><br /><hr class="insert" />
<a name="fig_scenario"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

                    +---------+
                    |   3G    |
                    +---------+
                         |
                      I3 |
                         ^
                         |
+-----------+   I1   +--------+   I2   +-----------+
| Ethernet  |&lt;------&gt;|MIF Host|&lt;------&gt;|   WiFi    |
+-----------+        +--------+        +-----------+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: The MIF host scenario&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The procedures that an application employs an interface for network access are
 depicted in <a class='info' href='#fig_1'>Figure&nbsp;2<span> (</span><span class='info'>The procedures of updating a routing table and select an interface for an application</span><span>)</span></a> as steps a1) to a4).
</p>
<blockquote class="text"><dl>
<dt>a1)</dt>
<dd>
	An application calls sockets to build IP packets.
	
</dd>
<dt>a2)</dt>
<dd>
		The socket selects source address based on the routing table.
	
</dd>
<dt>a3)</dt>
<dd>
	The socket sends packets to the corresponding interface.
		
</dd>
<dt>a4)</dt>
<dd>
		The interface will forward the packets to the next hop (the corresponding gateway).
		
</dd>
</dl></blockquote><p>
		
</p><br /><hr class="insert" />
<a name="fig_1"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

                +---------+   b4     +-------+
                |Interface|---------&gt;|Network|
                +---------+          +-------+
                      |
                   b3 |
                      ^
                      |
+-----------+ b1  +------+       +-----------+
|Application|----&gt;|Socket|&lt;------|Route Table|
+-----------+     +------+  b2   +-----------+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: The procedures of updating a routing table and select an interface for an application&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
	Notice that the approach proposed in this document 
	is feasible under the strong ES model as defined in <a class='info' href='#RFC1122'>[RFC1122]<span> (</span><span class='info'>Braden, R., &ldquo;Requirements for Internet Hosts - Communication Layers,&rdquo; October&nbsp;1989.</span><span>)</span></a>.	

</p>
<a name="Define Option"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Route Information Option Format</h3>

<p>
	 	The DHCPv6 option is extended to contain multiple 
	 	pieces of route information. Each piece of route 
	 	information contains TOS, metric, destination IP address 
	 	and the next hop IP address. The ROUTE_INFO option 
	 	is depicted in <a class='info' href='#fig_2'>Figure&nbsp;3<span> (</span><span class='info'>The Route Information Option</span><span>)</span></a>.
 
</p><br /><hr class="insert" />
<a name="fig_2"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     OPTION_ROUTE_INFO         |         option-len            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Pref. 1   |     TOS 1     |       Metric 1                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-++-+-+-
| Dest.Pref.Len |                                               |
+-+-+-+-+-+-+-+-+                                               |
|                                                               |
|                        Dest.Pref.                             |
|                                                               |
|               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               |                                               |
+-+-+-+-+-+-+-+-+                                               |
|                        Next Hop Pref.                         |
|                                                               |
|                                                               |
|               -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-++-+-+ |
|               |                                               .
+-+-+-+-+-+-+-+-+                                               .
.                                                               .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Pref. N   |     TOS N     |       Metric N                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-++-+-+-
| Dest.Pref.Len |                                               |
+-+-+-+-+-+-+-+-+                                               |
|                                                               |
|                        Dest.Pref.                             |
|                                                               |
|               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               |                                               |
+-+-+-+-+-+-+-+-+                                               |
|                        Next Hop Pref.                         |
|                                                               |
|                                                               |
|               -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-++-+-+ |
|               |
+-+-+-+-+-+-+-+-+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: The Route Information Option&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>  
  option-code:OPTION_ROUTE_INFO (should be defined by IANA).
  
</p>
<p> 
  option-len: length of the route rule field in octets.
   
</p>
<p> 
   Pref.N: An integer to indicate the priority of applying the Nth route rule.
   The Preference identified the priority of a rule. if there are conflictions, 
   e.g., two rules have the same "Dest. Add. Pref." but
   different "Next Hop IPv6 Address", the rule with high preference SHOULD be 
   applied by the host.
    
</p>
<p>
    TOS N: The Nth TOS (Type-of-Service, 8 bits).
    
</p>
<p>
    Metric N:The Nth route metric, an 16-bit unsigned integer ranging from 1 to 9999.
    
</p>
<p>
    Dest.Pref.Len: Length of the IPv6 destination subnet prefix, 
    an 8-bit unsigned integer ranging from 0 to 128.
    
</p>
<p>
    Dest.Pref.: The IPv6 destination address prefix
     
</p>
<p>
     Next Hop Pref.: A 128-bit IPv6 prefix that 
     will be used as the next hop when forwarding packets.
      
</p>
<p>
      In the above, the “Preference” of one route rule comes before the “metric.” 
      Namely, if there are conflict routes for one destination, 
      the one with highest preference value should be used. 
      For example, the network administrator may prefer one route in 
      a connection for security or reliability considerations, 
      even though the metric of the route is large.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Route Information Option Format Usage</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
DHCPv6 Client Behavior </h3>

<p>
  The MIF host(DHCPv6 client) supports Route Information extension, 
  SHOULD send Option Request Option that includes OPTION_ROUTE_INFO 
  to indicate that Route Information Option is requested.
  The Route Information option MUST NOT appear in any messages
   other than the following ones : Solicit, Request, Renew,
   Rebind, Information-Request.


</p>
<p>
   If the MIF host receives no route information, it MAY try another server or
   retransmit the ORO message. In this situation, the host MUST limit the rate
   of the retransmition.
	 
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
DHCPv6 Server Behavior </h3>

<p>
   The DHCPv6 server MUST NOT send Route Option in messages other than ADVERTISE or
   REPLY.
	 
</p>
<p>
	 The maximum number of routing information in one DHCPv6
      message depend on the maximum
      DHCPv6 message size defined in <a class='info' href='#RFC3315'>[RFC3315]<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a>.
       
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Implementation Considerations</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Conflict of Route Rules</h3>

<p>
	The host can use such information obtained from the DHCPv6 message to
	build a "connection manager" on the host or to update the "Policy Table" 
	defined in <a class='info' href='#RFC3484'>[RFC3484]<span> (</span><span class='info'>Draves, R., &ldquo;Default Address Selection for Internet Protocol version 6 (IPv6),&rdquo; February&nbsp;2003.</span><span>)</span></a>. For the situations where 
	a route option conflicts with 
	one previous route rules, the latter one will override the previous rule.
	 
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Not Limited to DHCPv6 Servers</h3>

<p>
	 	The solution presented in this document is with 
	 	the context of DHCPv6 message. It should be pointed 
	 	out that similar message may not be conveyed by 
	 	certain node in the network instead of a DHCPv6 server.
	 	Such a node, for example in mobile network, may be the 
	 	"ANDSF (Access Network Discovery and Selection function)" defined in TS 23.402.
	 	
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>
The option code of OPTION_ROUTE_INFO will be defined by IANA.

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>
The interface selection is affected by the routing and address 
selection rules sent from servers. Therefore, incorrect information 
received by hosts will cause improper interface selection leading 
to bad user experiences. Attacks such as deny of services (DoS) 
or man-in-the-middle may redirect host’s solicitation, change the 
information or flood the host with invalidate messages. Approaches 
to guarantee the communication securities between hosts and servers 
should be applied based on the network access types of the interfaces.

</p>
<p>
DHCP authentication option <a class='info' href='#RFC3118'>[RFC3118]<span> (</span><span class='info'>Droms, R. and W. Arbaugh, &ldquo;Authentication for DHCP Messages,&rdquo; June&nbsp;2001.</span><span>)</span></a> MAY be used for security.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1122">[RFC1122]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1122">Requirements for Internet Hosts - Communication Layers</a>,&rdquo; STD&nbsp;3, RFC&nbsp;1122, October&nbsp;1989 (<a href="http://www.rfc-editor.org/rfc/rfc1122.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3118">[RFC3118]</a></td>
<td class="author-text">Droms, R. and W. Arbaugh, &ldquo;<a href="http://tools.ietf.org/html/rfc3118">Authentication for DHCP Messages</a>,&rdquo; RFC&nbsp;3118, June&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3118.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3315">[RFC3315]</a></td>
<td class="author-text">Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;<a href="http://tools.ietf.org/html/rfc3315">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>,&rdquo; RFC&nbsp;3315, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3315.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3484">[RFC3484]</a></td>
<td class="author-text">Draves, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3484">Default Address Selection for Internet Protocol version 6 (IPv6)</a>,&rdquo; RFC&nbsp;3484, February&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3484.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4191">[RFC4191]</a></td>
<td class="author-text">Draves, R. and D. Thaler, &ldquo;<a href="http://tools.ietf.org/html/rfc4191">Default Router Preferences and More-Specific Routes</a>,&rdquo; RFC&nbsp;4191, November&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4191.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.blanchet-mif-problem-statement">[I-D.blanchet-mif-problem-statement]</a></td>
<td class="author-text">Blanchet, M. and P. Seite, &ldquo;<a href="draft-ietf-mif-problem-statement-05 (work in progress)">Multiple Interfaces Problem Statement</a>,&rdquo; July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.hui-mif-dhcpv4-routing-03">[I-D.hui-mif-dhcpv4-routing-03]</a></td>
<td class="author-text">Hui, M. and H. Deng, &ldquo;<a href="draft-hui-mif-dhcpv4-routing-03(work in progress)">Extension of DHCPv4 for policy routing of multiple interfaces terminal</a>,&rdquo; March&nbsp;2010.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tao Sun</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China
Mobile</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Unit2, 28 Xuanwumenxi Ave,Xuanwu District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing
100053</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:suntao@chinamobile.com">suntao@chinamobile.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hui Deng</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China
Mobile</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Unit2, 28 Xuanwumenxi Ave,Xuanwu District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing
100053</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:denghui@chinamobile.com">denghui@chinamobile.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dapeng Liu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China
Mobile</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Unit2, 28 Xuanwumenxi Ave,Xuanwu District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing
100053</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:liudapeng@chinamobile.com">liudapeng@chinamobile.com</a></td></tr>
</table>
</body></html>
