



Network Working Group                                              X. Xu
Internet-Draft                                                    Huawei
Intended status: Informational                                 R. Raszuk
Expires: September 3, 2015                                 Mirantis Inc.
                                                             U. Chunduri
                                                                Ericsson
                                                            L. Contreras
                                                          Telefonica I+D
                                                           March 2, 2015


            Connecting MPLS-SPRING Islands over IP Networks
             draft-xu-spring-islands-connection-over-ip-04

Abstract

   MPLS-SPRING is an MPLS-based source routing paradigm in which a
   sender of a packet is allowed to partially or completely specify the
   route the packet takes through the network by imposing stacked MPLS
   labels to the packet.  To facilitate the incremental deployment of
   this new technology, this document describes a mechanism which allows
   the outermost LSP be replaced by an IP-based tunnel.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 3, 2015.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of



Xu, et al.              Expires September 3, 2015               [Page 1]

Internet-Draft                                                March 2015


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Packet Forwarding Procedures  . . . . . . . . . . . . . . . .   3
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   MPLS-SPRING [I-D.ietf-spring-segment-routing-mpls] is a MPLS-based
   source routing paradigm in which a sender of a packet is allowed to
   partially or completely specify the route the packet takes through
   the network by imposing stacked MPLS labels to the packet.  To
   facilitate the incremental deployment of this new technology, this
   document describes a mechanism which allows the outermost LSP to be
   replaced by an IP-based tunnel (e.g., MPLS-in-IP/GRE tunnel
   [RFC4023], MPLS-in-L2TPv3 tunnel [RFC4817] or MPLS-in-UDP tunnel
   [I-D.ietf-mpls-in-udp] and etc) when the nexthop along the LSP is not
   MPLS-SPRING-enabled.  The tunnel destination address would be the
   address of the egress of the outmost LSP (e.g., the egres of the
   active segment).

   This mechanism is much useful in the MPLS-SPRING-based Service
   Function Chainning (SFC) case [I-D.xu-sfc-using-mpls-spring] where
   only a few specific routers (e.g., Service Function Forwarders (SFF)
   and classifiers) are required to be MPLS-SPRING-capable while the
   other immediate routers are just required to support IP forwarding
   capability.  In addition, this mechanism is also useful in some
   specific Traffic Engineering scenarios where only a few routers
   (e.g., the entry and exit nodes of each plane in the dual-plane
   network ) are specified as segments of explicit paths.  In this way,
   only a few routers are required to support the MPLS-SPRING capability
   while all the other routers just need to support IP forwarding
   capability, which would significantly reduce the deployment cost of



Xu, et al.              Expires September 3, 2015               [Page 2]

Internet-Draft                                                March 2015


   this new technology.  Furthermore, since there is no need to run any
   other label distribution protocols (e.g., LDP), the network
   provisioning is greatly simplified, which is one of the major claimed
   benefits of the MPLS-SPRING technology.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  Terminology

   This memo makes use of the terms defined in [RFC3031],
   [I-D.ietf-spring-segment-routing-mpls] and
   [I-D.xu-sfc-using-mpls-spring] .

3.  Packet Forwarding Procedures

   Assume an MPLS-SPRING-enabled router X prepares to forward an MPLS
   packet to the next segment (i.e., the node segment of MPLS-SPRING-
   enabled router Y) which is identified by the top label of the MPLS
   packet.  If the next-hop router of the best path to Y is a non-MPLS
   router, X couldn't map the packet's top label into an Next Hop Label
   Forwarding Entry (NHLFE) , even though the top label itself is a
   valid incoming label.  If the label is not a Penultimate Hop Popping
   (PHP) label (i.e., the NP-flag
   [I-D.ietf-isis-segment-routing-extensions] associated with the
   corresponding prefix SID of that top label is set), X SHOULD swap the
   top label to the corresponding label significant to Y and then
   encapsulate the MPLS packet into an IP-based tunnel.  The tunnel
   destination address is the IP address of Y (e.g., the /32 or /128
   prefix FEC associated with that top label) and the tunnel source
   address is the IP address of X.  If the top label is a PHP label and
   not at the bottom of the label stack, X SHOULD pop that top label
   before performing the above encapsulation.  The IP encapsulated
   packet would be forwarded according to the IP forwarding table.  Upon
   receipt of that IP encapsulated packet, Y would decapsulate it and
   then process the decapsulated MPLS packet accordingly.

   As for which tunnel encapsulation type should be used by X, it can be
   manually specified on X or learnt from Y's advertisement of its
   tunnel encapsulation capability.  How to advertise the tunnel
   encapsulation capability using IS-IS or OSPF are specified in
   [I-D.xu-isis-encapsulation-cap] and [I-D.xu-ospf-encapsulation-cap]
   respectively.  In addition, how to advertise the tunnel encapsulation
   capability using BGP are specified in [RFC5512] and
   [I-D.xu-bess-encaps-udp].



Xu, et al.              Expires September 3, 2015               [Page 3]

Internet-Draft                                                March 2015


4.  Acknowledgements

   Thanks Joel Halpern, Bruno Decraene and Loa Andersson for their
   insightful comments on this draft.

5.  IANA Considerations

   No action is required for IANA.

6.  Security Considerations

   TBD.

7.  References

7.1.  Normative References

   [I-D.ietf-spring-segment-routing-mpls]
              Filsfils, C., Previdi, S., Bashandy, A., Decraene, B.,
              Litkowski, S., Horneffer, M., Shakir, R., Tantsura, J.,
              and E. Crabbe, "Segment Routing with MPLS data plane",
              draft-ietf-spring-segment-routing-mpls-00 (work in
              progress), December 2014.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3031]  Rosen, E., Viswanathan, A., and R. Callon, "Multiprotocol
              Label Switching Architecture", RFC 3031, January 2001.

7.2.  Informative References

   [I-D.ietf-isis-segment-routing-extensions]
              Previdi, S., Filsfils, C., Bashandy, A., Gredler, H.,
              Litkowski, S., Decraene, B., and J. Tantsura, "IS-IS
              Extensions for Segment Routing", draft-ietf-isis-segment-
              routing-extensions-03 (work in progress), October 2014.

   [I-D.ietf-mpls-in-udp]
              Xu, X., Sheth, N., Yong, L., Callon, R., and D. Black,
              "Encapsulating MPLS in UDP", draft-ietf-mpls-in-udp-11
              (work in progress), January 2015.

   [I-D.xu-bess-encaps-udp]
              Xu, X., Sheth, N., and R. Asati, "BGP Tunnel Encapsulation
              Attribute for UDP", draft-xu-bess-encaps-udp-00 (work in
              progress), February 2015.




Xu, et al.              Expires September 3, 2015               [Page 4]

Internet-Draft                                                March 2015


   [I-D.xu-isis-encapsulation-cap]
              Xu, X., Raszuk, R., Chunduri, U., and L. Contreras,
              "Advertising Encapsulation Capability Using IS-IS", draft-
              xu-isis-encapsulation-cap-03 (work in progress), February
              2015.

   [I-D.xu-ospf-encapsulation-cap]
              Xu, X., Raszuk, R., Chunduri, U., and L. Contreras,
              "Advertising Encapsulation Capability Using OSPF", draft-
              xu-ospf-encapsulation-cap-00 (work in progress), February
              2015.

   [I-D.xu-sfc-using-mpls-spring]
              Xu, X., Li, Z., Shah, H., and L. Contreras, "Service
              Function Chaining Using MPLS-SPRING", draft-xu-sfc-using-
              mpls-spring-01 (work in progress), October 2014.

   [RFC4023]  Worster, T., Rekhter, Y., and E. Rosen, "Encapsulating
              MPLS in IP or Generic Routing Encapsulation (GRE)", RFC
              4023, March 2005.

   [RFC4817]  Townsley, M., Pignataro, C., Wainner, S., Seely, T., and
              J. Young, "Encapsulation of MPLS over Layer 2 Tunneling
              Protocol Version 3", RFC 4817, March 2007.

   [RFC5512]  Mohapatra, P. and E. Rosen, "The BGP Encapsulation
              Subsequent Address Family Identifier (SAFI) and the BGP
              Tunnel Encapsulation Attribute", RFC 5512, April 2009.

Authors' Addresses

   Xiaohu Xu
   Huawei

   Email: xuxiaohu@huawei.com


   Robert Raszuk
   Mirantis Inc.

   Email: robert@raszuk.net


   Uma Chunduri
   Ericsson

   Email: uma.chunduri@ericsson.com




Xu, et al.              Expires September 3, 2015               [Page 5]

Internet-Draft                                                March 2015


   Luis M. Contreras
   Telefonica I+D
   Ronda de la Comunicacion, s/n
   Sur-3 building, 3rd floor
   Madrid,  28050
   Spain

   Email: luismiguel.contrerasmurillo@telefonica.com
   URI:   http://people.tid.es/LuisM.Contreras/










































Xu, et al.              Expires September 3, 2015               [Page 6]
