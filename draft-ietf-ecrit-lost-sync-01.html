<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Synchronizing Location-to-Service Translation
(LoST) Servers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Synchronizing Location-to-Service Translation
(LoST) Servers">
<meta name="keywords" content="Internet-Draft, Location">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">ECRIT</td><td class="header">H. Schulzrinne</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Columbia U.</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">H. Tschofenig</td></tr>
<tr><td class="header">Expires: May 7, 2009</td><td class="header">NSN</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 03, 2008</td></tr>
</table></td></tr></table>
<h1><br />Synchronizing Location-to-Service Translation
(LoST) Servers<br />draft-ietf-ecrit-lost-sync-01</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 7, 2009.</p>

<h3>Abstract</h3>

<p>The LoST (Location-to-Service Translation) protocol is used to map
locations to service URLs.  This document defines a set of LoST
extensions that allow LoST servers to synchronize their lists of
mappings.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#terminology">2.</a>&nbsp;
Terminology<br />
<a href="#anchor2">3.</a>&nbsp;
Distributing Mappings via &lt;pushMappings> and
&lt;pushMappingsResponse><br />
<a href="#anchor3">4.</a>&nbsp;
Synchronizing Mapping Stores via &lt;getMappings>
and &lt;getMappingsResponse><br />
<a href="#anchor4">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor5">6.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">6.1.</a>&nbsp;
LoST Synchronization Namespace Registration<br />
<a href="#anchor7">7.</a>&nbsp;
Acknowledgments<br />
<a href="#anchor8">8.</a>&nbsp;
RelaxNG<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The <a class='info' href='#RFC5222'>LoST (Location-to-Service
Translation) protocol<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5222] maps geographic locations to service URLs. 
As specified in the <a class='info' href='#I-D.ietf-ecrit-mapping-arch'>LoST
architecture description<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Location-to-URL Mapping Architecture and Framework,&rdquo; March&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;ecrit&#8209;mapping&#8209;arch], there are a variety of LoST servers
that cooperate to provide a global, scalable and resilient mapping
service.  The LoST protocol specification only describes the protocol
used for individual seeker-originated queries.  This document adds LoST
operations that allow forest guides, resolver clusters and authoritative
servers to synchronize their database of mappings.
</p>
<p>In the LoST architecture, servers can peer, i.e., have an on-going
data exchange relationship.  Peering relationships are set up manually,
based on local policies.  A server can peer with any number of other
servers.  Forest guides peer with other forest guides; resolvers peer
with forest guides and other resolvers (in the same cluster);
authoritative mapping servers peer with forest guides and other
authoritative servers, either in the same cluster or above or below them
in the tree.  If the type of LoST role does not matter, we refer to LoST
protocol participants as LoST nodes.
</p>
<p>Authoritative mapping servers push coverage regions "up" the tree,
i.e., from child nodes to parent nodes.  The child informs the parent of
the geospatial or civic region that it covers.
</p>
<p>The coverage regions of different authoritative servers can overlap. 
This should only happen if the authoritative servers are misconfigured
or if there is a political dispute that involves competing claims for
the same region.  A server MUST detect such colliding claims and
implement a policy to resolve the collision, either through an automated
policy mechanism or manual intervention.
</p>
<p>This extension defines two new requests, &lt;pushMappings> and
&lt;getMappings>, that allow peering servers to exchange mappings. 
These requests are used for all peering relationships and always contain
mapping entries, but naturally the content of the data exchanged
differs.  &lt;pushMappings> allows a peer to send newer mappings
to another peer; with a &lt;getMappings> query, a node can obtain
mappings that are newer than those it already has.
</p>
<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT","RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>This document reuses terminology introduced by the <a class='info' href='#I-D.ietf-ecrit-mapping-arch'>mapping architecture
document<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Location-to-URL Mapping Architecture and Framework,&rdquo; March&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;ecrit&#8209;mapping&#8209;arch].
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Distributing Mappings via &lt;pushMappings> and
&lt;pushMappingsResponse></h3>

<p>When a LoST node obtains new information that is of interest to its
peers, it pushes the new mappings to its peers.  This information might
arrive through non-LoST means, such as a manual addition to the local
mappings database, or through another LoST node, via a &lt;pushMappings>
request or a &lt;getMappingsResponse> described later.
</p>
<p>Each peer keeps track of which peer it has exchanged which mapping
elements with.  As discussed in Section 5.1 of <a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>,
mapping elements are identified by the 'source', 'sourceID' and
'lastUpdated' attributes.  A mapping is considered the same if these
three attributes match.  Nodes never push the same information to the
same peer twice.
</p>
<p>To delete a mapping, the content of the mapping is left empty.  The
node can delete the mapping from its internal mapping database, but has
to remember which peers it has distributed this update to. The 'expires'
attribute is required, but ignored. If the querier attempts to remove a
non-existent mapping, the query is silently ignored.
</p>
<p>The response to a &lt;pushMappings> request is a
&lt;pushMappingsResponse>, currently without additional elements, if the
request was successful or an &lt;errors> response if the request failed. 
Only the &lt;badRequest>, &lt;forbidden>, &lt;internalError> or
&lt;serverTimeout> errors defined in Section 13.1 of <a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a> are used.  Neither the &lt;redirect> nor the
&lt;warnings> messages are used for this query.
</p>
<p>If the set of nodes that are synchronizing their data does not form a
tree, it is possible that the same information arrives through several
other nodes.  This is unavoidable, but generally only imposes a modest
overhead.  (It would be possible to create a spanning tree in the same
fashion as IP multicast, but the complexity does not seem warranted,
giving the relatively low volume of data.)
</p>
<p>A newly received mapping M' replaces an existing mapping M if all of
the following conditions hold:
</p>
<ol class="text">
<li>M'.source equals M.source, ignoring case
</li>
<li>M'.sourceID' equals M.sourceID, ignoring case
</li>
<li>M'.lastUpdated greater or equal to M.lastUpdated
</li>
</ol><p>

</p>
<p>An example is shown in <a class='info' href='#pushMappings'>Figure&nbsp;1<span> (</span><span class='info'>Example &lt;pushMappings></span><span>)</span></a>.  In the
example, the mappings with sourceId 7e3f40b098c711dbb6060800200c9a66
sourceId 7e3f40b098c711dbb606011111111111 are added by the recipient. 
The last mapping, with source 'nj.us.example' and sourceID 'englewood',
is removed.
</p>
<p>
<br /><hr class="insert" />
<a name="pushMappings"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;sync:pushMappings
  xmlns:sync="urn:ietf:params:xml:ns:lost-sync1"
  xmlns:p2="http://www.opengis.net/gml"
  xmlns="urn:ietf:params:xml:ns:lost1:sync"&gt;
&lt;sync:mappings&gt;
  &lt;mapping source="leonia.nj.us.example"
    sourceId="7e3f40b098c711dbb6060800200c9a66"
    lastUpdated="2008-11-26T01:00:00Z"
    expires="2009-12-26T01:00:00Z"&gt;
    &lt;displayName xml:lang="en"&gt;
      Leonia Police Department
    &lt;/displayName&gt;
    &lt;service&gt;urn:service:sos.police&lt;/service&gt;
    &lt;serviceBoundary
      profile="urn:ietf:params:lost:location-profile:basic-civic"&gt;
      &lt;civicAddress
        xmlns="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"&gt;
        &lt;country&gt;US&lt;/country&gt;
        &lt;A1&gt;NJ&lt;/A1&gt;
        &lt;A3&gt;Leonia&lt;/A3&gt;
        &lt;PC&gt;07605&lt;/PC&gt;
      &lt;/civicAddress&gt;
    &lt;/serviceBoundary&gt;
    &lt;uri&gt;sip:police@leonianj.example.org&lt;/uri&gt;
    &lt;serviceNumber&gt;911&lt;/serviceNumber&gt;
  &lt;/mapping&gt;

  &lt;mapping source="authoritative.example"
    sourceId="7e3f40b098c711dbb606011111111111"
    expires="2009-01-01T01:44:33Z"
    lastUpdated="2008-11-01T01:00:00Z"&gt;
    &lt;displayName xml:lang="en"&gt;
      New York City Police Department
    &lt;/displayName&gt;
    &lt;service&gt;urn:service:sos.police&lt;/service&gt;
    &lt;serviceBoundary profile="geodetic-2d"&gt;
      &lt;p2:Polygon srsName="urn:ogc:def::crs:EPSG::4326"&gt;
        &lt;p2:exterior&gt;
          &lt;p2:LinearRing&gt;
            &lt;p2:pos&gt;37.775 -122.4194&lt;/p2:pos&gt;
            &lt;p2:pos&gt;37.555 -122.4194&lt;/p2:pos&gt;
            &lt;p2:pos&gt;37.555 -122.4264&lt;/p2:pos&gt;
            &lt;p2:pos&gt;37.775 -122.4264&lt;/p2:pos&gt;
            &lt;p2:pos&gt;37.775 -122.4194&lt;/p2:pos&gt;
          &lt;/p2:LinearRing&gt;
        &lt;/p2:exterior&gt;
      &lt;/p2:Polygon&gt;
    &lt;/serviceBoundary&gt;
    &lt;uri&gt;sip:nypd@example.com&lt;/uri&gt;
    &lt;uri&gt;xmpp:nypd@example.com&lt;/uri&gt;
    &lt;serviceNumber&gt;911&lt;/serviceNumber&gt;
  &lt;/mapping&gt;

  &lt;mapping source="nj.us.example"
   sourceId="englewood"
   lastUpdated="2008-11-01T01:00:00Z"
   expires="2008-11-01T01:00:00Z"/&gt;

&lt;/sync:mappings&gt;
&lt;/sync:pushMappings&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Example &lt;pushMappings>&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


</p>
<p>In response, the peer performs the necessary operation and updates
its mapping database.  In particular, it will check whether the querier
is authorized to perform the update and whether the elements and
attributes contain values that it understands.  In our example, a
positive response is returned as shown in <a class='info' href='#pushMappingsResponse'>Figure&nbsp;2<span> (</span><span class='info'>Example &lt;pushMappingsResponse></span><span>)</span></a>.
</p>
<p>
<br /><hr class="insert" />
<a name="pushMappingsResponse"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;pushMappingsResponse xmlns="urn:ietf:params:xml:ns:lost1:sync" /&gt;
&lt;/pushMappingsResponse&gt;

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Example &lt;pushMappingsResponse>&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Synchronizing Mapping Stores via &lt;getMappings>
and &lt;getMappingsResponse></h3>

<p>Instead of pushing mappings to another LoST node, a LoST client can
declare all the mappings it has, via a sequence of &lt;m> elements in
the &lt;getMappings>, and then obtain any missing or outdated mappings
in the &lt;getMappingsResponse>. Specifying the existing mappings avoids
retransmitting data that the querier has already stored.
</p>
<p>If the &lt;getMappings> query has no attributes, the
&lt;getMappingsResponse> contains all mappings that are either newer
than the &lt;m> elements or not contained in the sequence of &lt;m>
elements.  The querier can restrict the mappings returned by adding
'source' and 'sourceId' attributes to the &lt;getMappings> query.  Only
the combinations
</p>
<ul class="text">
<li>source
</li>
<li>source, sourceID
</li>
</ul><p>
are allowed.
</p>
<p>If the 'source' attribute is specified, only mappings with that
particular source attribute are considered.  Similarly, the 'sourceId'
attribute restricts mappings to those matching the attribute from the
'source' named.
</p>
<p>&lt;m> elements MUST only contain the 'source', 'sourceId' and
'lastUpdated' attributes that are not contained in the &lt;GetMappings>
element itself.  Extra attributes that do not match the values of the
&lt;getMappings> attributes are silently ignored.  (This structure
reduces the query size for the common case that there are many mappings
from the same source.)
</p>
<p>Processing a &lt;getMappings> message may lead to a successful
response in the form of a &tl;getMappingsResponse> or an &lt;errors>
message.  Only the &lt;badRequest>, &lt;forbidden>, &lt;internalError>,
&lt;serverTimeout> errors defined in <a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a> are used. 
Neither the &lt;redirect> nor the &lt;warnings> messages are used for
this query.
</p>
<p>An example request is shown in <a class='info' href='#getMappings'>Figure&nbsp;3<span> (</span><span class='info'>Example &lt;getMappings> request</span><span>)</span></a>, the
corresponding response in <a class='info' href='#getMappingsResponse'>Figure&nbsp;4<span> (</span><span class='info'>Example &lt;getMappingsResponse></span><span>)</span></a>. In the
example, the queried node did not have anything newer for mapping
7e3f40b098c711dbb606011111111111, but did have a mapping with sourceId
7b7c9630-a93b-11dd-ad8b-0800200c9a66 that matched the source parameter
'authoritative.example'.
</p>
<p><br /><hr class="insert" />
<a name="getMappings"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;getMappings xmlns="urn:ietf:params:xml:ns:lost1:sync"
  source="authoritative.example"&gt;
  &lt;m sourceId="7e3f40b098c711dbb606011111111111"
    lastUpdated="2008-11-26T01:00:00Z" /&gt;
&lt;/getMappings&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Example &lt;getMappings> request&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


</p>
<p><br /><hr class="insert" />
<a name="getMappingsResponse"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;sync:getMappingsResponse
  xmlns="urn:ietf:params:xml:ns:lost1:sync"
  xmlns:sync="urn:ietf:params:xml:ns:lost-sync1"&gt;
  &lt;sync:mappings&gt;
    &lt;mapping
       expires="2007-01-01T01:44:33Z"
       lastUpdated="2006-11-01T01:00:00Z"
       source="authoritative.example"
       sourceId="7b7c9630-a93b-11dd-ad8b-0800200c9a66"
       &lt;displayName xml:lang="en"&gt;
         Englewood Police Department
       &lt;/displayName&gt;
       &lt;service&gt;urn:service:sos.police&lt;/service&gt;
       &lt;serviceBoundary profile="civic"&gt;
       ...
       &lt;/serviceBoundary&gt;
       &lt;uri&gt;sip:police@englewood.example.com&lt;/uri&gt;
       &lt;serviceNumber&gt;911&lt;/serviceNumber&gt;
     &lt;/mapping&gt;
  &lt;/sync:mappings&gt;
&lt;/sync:getMappingsResponse&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Example &lt;getMappingsResponse>&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>The LoST security considerations are discussed in <a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>.  The operations described in this document involve
mutually-trusting LoST nodes.  These nodes need to authenticate each
other, using mechanisms such as <a class='info' href='#RFC2617'>HTTP
Digest<span> (</span><span class='info'>Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S., Leach, P., Luotonen, A., and L. Stewart, &ldquo;HTTP Authentication: Basic and Digest Access Authentication,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2617], <a class='info' href='#RFC2617'>HTTP Basic<span> (</span><span class='info'>Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S., Leach, P., Luotonen, A., and L. Stewart, &ldquo;HTTP Authentication: Basic and Digest Access Authentication,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2617] over <a class='info' href='#RFC5246'>TLS<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5246] or TLS client and server certificates. 
Nodes implementing LoST MUST implement HTTP Basic authentication over
TLS and MAY implement other authentication mechanisms.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
LoST Synchronization Namespace Registration</h3>

<p>
</p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd>urn:ietf:params:xml:ns:lost1:sync
</dd>
<dt>Registrant Contact:</dt>
<dd>IETF ECRIT Working Group, Henning
Schulzrinne (hgs@cs.columbia.edu).
</dd>
<dt>XML:</dt>
<dd>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
BEGIN
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
  "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;meta http-equiv="content-type"
        content="text/html;charset=iso-8859-1"/&gt;
  &lt;title&gt;LoST Synchronization Namespace&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Namespace for LoST server synchronization&lt;/h1&gt;
  &lt;h2&gt;urn:ietf:params:xml:ns:lost1:sync&lt;/h2&gt;
&lt;p&gt;See &lt;a href="[URL of published RFC]"&gt;RFCXXXX
    [NOTE TO IANA/RFC-EDITOR:
     Please replace XXXX with the RFC number of this
    specification.]&lt;/a&gt;.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
END
</pre></div>

</dd>
</dl></blockquote><p>

</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<p>Robins George, Cullen Jennings and Andrew Newton provided helpful input.
Jari Urpalainen assisted with the Relax NG schema.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
RelaxNG</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;

&lt;grammar ns="urn:ietf:params:xml:ns:lost-sync1"
   xmlns="http://relaxng.org/ns/structure/1.0"
   xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
   datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"&gt;

   &lt;include href="lost.rng"/&gt;

   &lt;start combine="choice"&gt;

       &lt;a:documentation&gt; Location-to-Service Translation (LoST)
Synchronization Protocol&lt;/a:documentation&gt;

       &lt;choice&gt;
           &lt;ref name="pushMappings"/&gt;
           &lt;ref name="pushMappingsResponse"/&gt;
           &lt;ref name="getMappings"/&gt;
           &lt;ref name="getMappingsResponse"/&gt;
       &lt;/choice&gt;
   &lt;/start&gt;


   &lt;define name="pushMappings"&gt;
       &lt;element name="pushMappings"&gt;
           &lt;element name="mappings"&gt;
               &lt;oneOrMore&gt;
                   &lt;ref name="mapping"/&gt;
               &lt;/oneOrMore&gt;
           &lt;/element&gt;

           &lt;ref name="extensionPoint"/&gt;
       &lt;/element&gt;
   &lt;/define&gt;

   &lt;define name="pushMappingsResponse"&gt;
       &lt;element name="pushMappingsResponse"&gt;
           &lt;ref name="extensionPoint"/&gt;
       &lt;/element&gt;
   &lt;/define&gt;

   &lt;define name="getMappings"&gt;
       &lt;element name="getMappings"&gt;
           &lt;choice&gt;
              &lt;ref name="ScopeSource"/&gt;
              &lt;ref name="ScopeSourceId"/&gt;
           &lt;/choice&gt;
           &lt;oneOrMore&gt;
               &lt;element name="m"&gt;
                   &lt;choice&gt;
                       &lt;ref name="ScopeSource"/&gt;
                       &lt;ref name="ScopeSourceId"/&gt;
                       &lt;ref name="ScopeLastUpdated"/&gt;
                   &lt;/choice&gt;
               &lt;/element&gt;
           &lt;/oneOrMore&gt;
           &lt;ref name="extensionPoint"/&gt;
       &lt;/element&gt;
   &lt;/define&gt;

   &lt;define name="getMappingsResponse"&gt;
       &lt;element name="getMappingsResponse"&gt;

           &lt;element name="mappings"&gt;
               &lt;oneOrMore&gt;
                   &lt;ref name="mapping"/&gt;
               &lt;/oneOrMore&gt;
           &lt;/element&gt;

           &lt;ref name="extensionPoint"/&gt;

       &lt;/element&gt;
   &lt;/define&gt;

   &lt;define name="ScopeSource"&gt;
       &lt;attribute name="source"&gt;
           &lt;data type="token"/&gt;
       &lt;/attribute&gt;
   &lt;/define&gt;

   &lt;define name="ScopeSourceId"&gt;
       &lt;attribute name="source"&gt;
           &lt;data type="token"/&gt;
       &lt;/attribute&gt;
       &lt;attribute name="sourceId"&gt;
           &lt;data type="token"/&gt;
       &lt;/attribute&gt;
   &lt;/define&gt;

   &lt;define name="ScopeLastUpdated"&gt;
       &lt;attribute name="source"&gt;
           &lt;data type="token"/&gt;
       &lt;/attribute&gt;
       &lt;attribute name="sourceId"&gt;
           &lt;data type="token"/&gt;
       &lt;/attribute&gt;
       &lt;attribute name="lastUpdated"&gt;
           &lt;data type="dateTime"/&gt;
       &lt;/attribute&gt;
   &lt;/define&gt;

&lt;/grammar&gt;
</pre></div>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2617">[RFC2617]</a></td>
<td class="author-text"><a href="mailto:john@math.nwu.edu">Franks, J.</a>, <a href="mailto:pbaker@verisign.com">Hallam-Baker, P.</a>, <a href="mailto:jeff@AbiSource.com">Hostetler, J.</a>, <a href="mailto:lawrence@agranat.com">Lawrence, S.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, Luotonen, A., and <a href="mailto:stewart@OpenMarket.com">L. Stewart</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2617">HTTP Authentication: Basic and Digest Access Authentication</a>,&rdquo; RFC&nbsp;2617, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2617.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2617.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2617.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5222">[RFC5222]</a></td>
<td class="author-text">Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;<a href="http://tools.ietf.org/html/rfc5222">LoST: A Location-to-Service Translation Protocol</a>,&rdquo; RFC&nbsp;5222, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5222.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5246">[RFC5246]</a></td>
<td class="author-text">Dierks, T. and E. Rescorla, &ldquo;<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>,&rdquo; RFC&nbsp;5246, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5246.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-ecrit-mapping-arch">[I-D.ietf-ecrit-mapping-arch]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-mapping-arch-04.txt">Location-to-URL Mapping Architecture and Framework</a>,&rdquo; draft-ietf-ecrit-mapping-arch-04 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-mapping-arch-04.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Henning Schulzrinne</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Columbia University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Department of Computer Science</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">450 Computer Science Building</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">New York, NY  10027</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 212 939 7004</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:hgs+ecrit@cs.columbia.edu">hgs+ecrit@cs.columbia.edu</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.cs.columbia.edu">http://www.cs.columbia.edu</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hannes Tschofenig</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Linnoitustie 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Espoo  02600</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358 (50) 4871445</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Hannes.Tschofenig@gmx.net">Hannes.Tschofenig@gmx.net</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.tschofenig.priv.at">http://www.tschofenig.priv.at</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
