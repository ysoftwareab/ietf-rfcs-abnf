<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Operational Considerations for BRSKI Registrar</title>
<meta content="Michael Richardson" name="author">
<meta content="
       This document describes a number of operational modes that a
BRSKI Registration Authority (Registrar) may take on. 
       Each mode is defined, and then each mode is given a relevance
within an over applicability of what kind of organization the
Registrar is deployed into.
This document does not change any protocol mechanisms. 
       This document includes operational advice about avoiding unwanted
consequences. 
    " name="description">
<meta content="xml2rfc 2.35.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-richardson-anima-registrar-considerations-02" name="ietf.draft">
<link href="/tmp/registrar-operational-considerations.v2v3-x_R5mR.xml" type="application/rfc+xml" rel="alternate">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .sourcecode {
    margin-bottom: 1em;
  }
}</style>
<link href="rfc-local.css" type="text/css" rel="stylesheet">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Registrar Considerations</td>
<td class="right">December 2019</td>
</tr></thead>
<tfoot><tr>
<td class="left">Richardson</td>
<td class="center">Expires 7 June 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">anima Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-richardson-anima-registrar-considerations-02</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2019-12-05" class="published">5 December 2019</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-06-07">7 June 2020</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Richardson</div>
<div class="org">Sandelman Software Works</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Operational Considerations for BRSKI Registrar</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes a number of operational modes that a
BRSKI Registration Authority (Registrar) may take on.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Each mode is defined, and then each mode is given a relevance
within an over applicability of what kind of organization the
Registrar is deployed into.
This document does not change any protocol mechanisms.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">This document includes operational advice about avoiding unwanted
consequences.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 7 June 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2019 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-reference-network-and-diagr" class="xref">Reference Network and Diagrams</a><a href="#section-toc.1-1.1.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1.2.2.2.1">
                    <p id="section-toc.1-1.1.2.2.2.1.1"><a href="#section-1.2.1" class="xref">1.2.1</a>.  <a href="#name-tier-1-network" class="xref">Tier-1 Network</a><a href="#section-toc.1-1.1.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.1.2.2.2.2">
                    <p id="section-toc.1-1.1.2.2.2.2.1"><a href="#section-1.2.2" class="xref">1.2.2</a>.  <a href="#name-enterprise-network" class="xref">Enterprise Network</a><a href="#section-toc.1-1.1.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.1.2.2.2.3">
                    <p id="section-toc.1-1.1.2.2.2.3.1"><a href="#section-1.2.3" class="xref">1.2.3</a>.  <a href="#name-home-network" class="xref">Home Network</a><a href="#section-toc.1-1.1.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-internal-architectural-view" class="xref">Internal architectural view</a><a href="#section-toc.1-1.1.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1.2.3.2.1">
                    <p id="section-toc.1-1.1.2.3.2.1.1"><a href="#section-1.3.1" class="xref">1.3.1</a>.  <a href="#name-pledge-interface-southbound" class="xref">Pledge Interface (Southbound Interface)</a><a href="#section-toc.1-1.1.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.1.2.3.2.2">
                    <p id="section-toc.1-1.1.2.3.2.2.1"><a href="#section-1.3.2" class="xref">1.3.2</a>.  <a href="#name-masa-client-northbound-inte" class="xref">MASA client (Northbound Interface)</a><a href="#section-toc.1-1.1.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.1.2.3.2.3">
                    <p id="section-toc.1-1.1.2.3.2.3.1"><a href="#section-1.3.3" class="xref">1.3.3</a>.  <a href="#name-join-proxy-southbound-inter" class="xref">Join Proxy (Southbound Interface)</a><a href="#section-toc.1-1.1.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.1.2.3.2.4">
                    <p id="section-toc.1-1.1.2.3.2.4.1"><a href="#section-1.3.4" class="xref">1.3.4</a>.  <a href="#name-est-and-brski-grasp-announc" class="xref">EST and BRSKI GRASP announcements</a><a href="#section-toc.1-1.1.2.3.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.1.2.3.2.5">
                    <p id="section-toc.1-1.1.2.3.2.5.1"><a href="#section-1.3.5" class="xref">1.3.5</a>.  <a href="#name-certificate-authority" class="xref">Certificate Authority</a><a href="#section-toc.1-1.1.2.3.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.1.2.3.2.6">
                    <p id="section-toc.1-1.1.2.3.2.6.1"><a href="#section-1.3.6" class="xref">1.3.6</a>.  <a href="#name-management-interface" class="xref">Management Interface</a><a href="#section-toc.1-1.1.2.3.2.6.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-connecting-the-autonomic-co" class="xref">Connecting the Autonomic Control Plane to the Network Operations Center (NOC)</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-public-key-infrastructure-r" class="xref">Public Key Infrastructure Recommendations for the Registrar</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-pki-recommendations-for-tie" class="xref">PKI recommendations for Tier-1/ISP Networks</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-enterprise-network-2" class="xref">Enterprise Network</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-home-network-2" class="xref">Home Network</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-architecture-considerations" class="xref">Architecture Considerations for the Registrar</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-completely-synchronous-regi" class="xref">Completely Synchronous Registrar</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-partially-synchronous-regis" class="xref">Partially Synchronous Registrar</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-asynchronous-registrar" class="xref">Asynchronous Registrar</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-certificates-needed-for-the" class="xref">Certificates needed for the Registrar</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-tls-server-certificate-for-" class="xref">TLS Server Certificate for BRSKI-EST</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-tls-client-certificate-for-" class="xref">TLS Client Certificate for BRSKI-MASA</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-use-of-publically-anchored-" class="xref">Use of Publically Anchored TLS Client Certificate with BRSKI-MASA connection</a><a href="#section-toc.1-1.5.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-certificate-for-signing-of-" class="xref">Certificate for signing of Voucher-Requests</a><a href="#section-toc.1-1.5.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-autonomic-control-plane-add" class="xref">Autonomic Control Plane Addressing</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-denial-of-service-attacks-a" class="xref">Denial of Service Attacks against the Registrar</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-loss-of-keys-corruption-of-" class="xref">Loss of Keys/Corruption of Infrastructure</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-changelog" class="xref">Changelog</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.12.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.12.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> introduces a mechanism for
new devices (called pledges) to be onboarded into a network without
intervention from an expert operator.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">A key aspect of this is that there has to be a thing for the pledge to join!
<span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> refers to this thing as the
"Domain", identified technically by the "DomainID".  The domain is embodied
by the Registrar component. Membership in the domain is proven by
possession of a valid Local DeviceID, a form of <span>[<a href="#ieee802-1AR" class="xref">ieee802-1AR</a>]</span> certificate.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The Registrar is the component that implements the domain, authorizing new devices (pledges) to join.  Proper and efficient operation of the Registrar is key aspect for the Autonomic mechanisms, and for enabling secure onboarding.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document provides implementation, deployment and operational guidance for the BRSKI Registrar.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">There are however several classes of operator of a local domain: ISP and large
managed multi-side Enterprises are the primary target for this document.
Medium sized single site Enterprises and Industrial Plant users are a
secondary target for this document.  Unmanaged small enterprises and home
users are addressed in a separate section at the end as special case.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">This document first introduces the different scales of deployment as a reference for further discussion and contrasts, and then provides analyses some consequences of architectural choices that may be appropriate for different scales of deployments.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">The document includes security best practices for the management of the certificates and the certificate authorities.<a href="#section-1-7" class="pilcrow">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.1-1">::boilerplate bcp14<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">This document, while a Best Current Practices, makes use of BCP14 language to indicate which
practices are mandatory, and which ones are just recommendations.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="reference-network-and-diagrams">
<section id="section-1.2">
        <h3 id="name-reference-network-and-diagr">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-reference-network-and-diagr" class="section-name selfRef">Reference Network and Diagrams</a>
        </h3>
<p id="section-1.2-1">In order to deal with the full complexity and generality of operations, the
reference network described herein is a bit more complicated than many
networks actually are.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<div id="tier-1-network">
<section id="section-1.2.1">
          <h4 id="name-tier-1-network">
<a href="#section-1.2.1" class="section-number selfRef">1.2.1. </a><a href="#name-tier-1-network" class="section-name selfRef">Tier-1 Network</a>
          </h4>
<p id="section-1.2.1-1">In this guide one target is a world-wide Tier-1 ISP.  It has three network
operations centers (NOC), the two major ones in Frankfurt and Denver, with an
secondary center located in Perth, Australia.  The exact location of these
NOCs is not important: the locations have been chosen to have an hour
overlap in their 8-6 daytime shift, typical of world-wide operations.
This overlap is also not important, it just adds a degree of realism to this
discussion.  The use of actual names makes subsequent discussion about
failures easier.<a href="#section-1.2.1-1" class="pilcrow">¶</a></p>
<span id="name-reference-tier-1-isp-networ"></span><figure id="figure-1">
            <div class="artwork art-text alignCenter art-WHOLEFLOW" id="section-1.2.1-2.1">
<pre>

               .---------.    .-----.
               | Denver  |    | NYC |
          .----|---------|----| rtr |--.  .-----------.
         /     | NOC/JRC |    '-----'   \ | Frankfurt |
        '      '---------'               '|-----------|
   .---------.                            | NOC/JRC   |
   | SanJose |                            '-----------'
   | rtr     |                                  .
   '---------'                                 /
       .-                                     /
      '                                      /
.-----------.                               /
|   Perth   |              .-------.       /
|-----------|              | Tokyo |      /
| NOC/EST   |--------------| rtr   |-----'
|           |              '-------'
'-----------'                  '
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-reference-tier-1-isp-networ" class="selfRef">Reference Tier-1 ISP network</a>
            </figcaption></figure>
</section>
</div>
<div id="enterprise-network">
<section id="section-1.2.2">
          <h4 id="name-enterprise-network">
<a href="#section-1.2.2" class="section-number selfRef">1.2.2. </a><a href="#name-enterprise-network" class="section-name selfRef">Enterprise Network</a>
          </h4>
<p id="section-1.2.2-1">A second target is a medium Enterprise that has a single (probably on-premise) data
center.  The Enterprise has Information Technology (IT) operations that
include the routers and systems supporting it's office staff in it's
buildings.  It has Building Operations which integrates the IoT devices found
in the buildings that it owns, and it has Operations Technology (OT) that
manages the automated systems in it's on-site manufacturing facilities.<a href="#section-1.2.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2.2-2">INSERT DIAGRAM<a href="#section-1.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="home-network">
<section id="section-1.2.3">
          <h4 id="name-home-network">
<a href="#section-1.2.3" class="section-number selfRef">1.2.3. </a><a href="#name-home-network" class="section-name selfRef">Home Network</a>
          </h4>
<p id="section-1.2.3-1">A third target is a resident with a single CPE device.  The home owner has a
few medium sized devices (a home NAS) as well as a few IoT devices (light
bulbs, clothes washing machine).<a href="#section-1.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="internal-architectural-view">
<section id="section-1.3">
        <h3 id="name-internal-architectural-view">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-internal-architectural-view" class="section-name selfRef">Internal architectural view</a>
        </h3>
<p id="section-1.3-1">A Registrar will have four major interfaces, connected together by a common database.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<span id="name-reference-internal-architec"></span><div id="tier1isp">
<figure id="figure-2">
          <div class="artwork art-text alignCenter art-ARCHVIEW" id="section-1.3-2.1">
<pre>
                  .------------.
                  |    MASA    |
                  |   client   |
                  | BRSKI-MASA |
                  '------------'
                         ^
                         |
 .------------.          |           .-------------.
 | management |    .----------.      | certificate |
 | interface  |&lt;---| database |-----&gt;| authority   |
 '------------'    '----------'      '-------------'
                         |
                         |
                         v
.------------.     .-----------.       .------------.
| Join Proxy |     |  Pledge   |--.    | EST/BRSKI  |
|------------|     | Interface |  |    |------------|
| GRASP      |     | BRSKI-EST |e |    | full-GRASP |
| (DULL)     |     '-----------'T |    '------------'
'------------'        '-----------'
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-reference-internal-architec" class="selfRef">Reference Internal Architecture for Registrar</a>
          </figcaption></figure>
</div>
<div id="pledge-interface-southbound-interface">
<section id="section-1.3.1">
          <h4 id="name-pledge-interface-southbound">
<a href="#section-1.3.1" class="section-number selfRef">1.3.1. </a><a href="#name-pledge-interface-southbound" class="section-name selfRef">Pledge Interface (Southbound Interface)</a>
          </h4>
<p id="section-1.3.1-1">The pledge interface is the southbound interface.  This interface runs the
BRSKI-EST protocol.  This interface faces into the operator's network,
receiving requests from devices to join the network.<a href="#section-1.3.1-1" class="pilcrow">¶</a></p>
<p id="section-1.3.1-2">For <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> use, the pledge interface is an
HTTPS interface.  It may run on arbitrary port numbers and due to the way
that the voucher interface pins the associated certificate it does not need
to have a specific DNS name, as it will not be verified by the pledge.<a href="#section-1.3.1-2" class="pilcrow">¶</a></p>
<p id="section-1.3.1-3">For <span>[<a href="#I-D.ietf-anima-constrained-voucher" class="xref">I-D.ietf-anima-constrained-voucher</a>]</span> use, the pledge interface is a CoAP or
CoAPS interface over UDP.  For use with CoAP/EDHOC, then a plain CoAP interface is
used, and the security (EDHOC and OSCORE) lives above CoAP.
For CoAP/DTLS (CoAPS) then there is DTLS layer below the CoAP layer.<a href="#section-1.3.1-3" class="pilcrow">¶</a></p>
<p id="section-1.3.1-4"><span>[<a href="#I-D.richardson-anima-state-for-joinrouter" class="xref">I-D.richardson-anima-state-for-joinrouter</a>]</span> offers some additional
mechanisms, one of which involves dynamically created IPIP tunnels.  If these
mechanisms are in use, then the southbound interface would need to support
these options as well.<a href="#section-1.3.1-4" class="pilcrow">¶</a></p>
<p id="section-1.3.1-5">The Pledge Interface requires a TLS ServerCertificate, and <a href="#brskiestcert" class="xref">Section 5.1</a>
discusses option for creating this certificate.<a href="#section-1.3.1-5" class="pilcrow">¶</a></p>
<p id="section-1.3.1-6">The Pledge Inteface does not require a public IP address, nor does it have have to run on port 443.<a href="#section-1.3.1-6" class="pilcrow">¶</a></p>
<p id="section-1.3.1-7">In an ACP application (<span>[<a href="#I-D.ietf-anima-autonomic-control-plane" class="xref">I-D.ietf-anima-autonomic-control-plane</a>]</span>), the Pledge Interface SHOULD
have an IPv6 ULA address from the prefix allocated to the ACP.  <a href="#acpnoc" class="xref">Section 2</a>
provides some options for how the Pledge Interface can be best connected to
the ACP.<a href="#section-1.3.1-7" class="pilcrow">¶</a></p>
<p id="section-1.3.1-8">Outside of the ACP context, running the Pledge interface on an IP address that has a
FQDN that resolves to that IP address (if only internally), and operating it on port 443 may have operational advantages.<a href="#section-1.3.1-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="masa-client-northbound-interface">
<section id="section-1.3.2">
          <h4 id="name-masa-client-northbound-inte">
<a href="#section-1.3.2" class="section-number selfRef">1.3.2. </a><a href="#name-masa-client-northbound-inte" class="section-name selfRef">MASA client (Northbound Interface)</a>
          </h4>
<p id="section-1.3.2-1">The MASA client interface connects outward to the Internet to speak to the
Manufacturer Authorized Signing Authority (MASA).  This is a TLS Client
interface.<a href="#section-1.3.2-1" class="pilcrow">¶</a></p>
<p id="section-1.3.2-2">Use of a TLSClientCertificate is RECOMMENDED as this may be the best way for
a manufacturer to identify clients. <a href="#brskimasacert" class="xref">Section 5.2</a> discusses options for
signing this certificate.<a href="#section-1.3.2-2" class="pilcrow">¶</a></p>
<p id="section-1.3.2-3">The MASA client interface is outgoing only and does not require any special
connectivity.  It may be placed behind a typical enterprise or residential
NAT44 gateway. IPv6 connectivity is RECOMMENDED.  It does need access to DNS,
and the DNS lookups SHOULD be validated with DNSSEC.<a href="#section-1.3.2-3" class="pilcrow">¶</a></p>
<p id="section-1.3.2-4">The MASA client interface will need to validate the server certificates of
the MASA, and to do this it will need access to the common public WebPKI (<span>[<a href="#WebPKI" class="xref">WebPKI</a>]</span>)
trust anchors to validate the MASA.  The MASA client MAY also require access to a
database of pinned certificates to validate specific manufacturers as called out for in
<span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> section 2.8 and section 5.4.<a href="#section-1.3.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="join-proxy-southbound-interface">
<section id="section-1.3.3">
          <h4 id="name-join-proxy-southbound-inter">
<a href="#section-1.3.3" class="section-number selfRef">1.3.3. </a><a href="#name-join-proxy-southbound-inter" class="section-name selfRef">Join Proxy (Southbound Interface)</a>
          </h4>
<p id="section-1.3.3-1">In the ACP context, the Registrar is expected to have a Join Proxy operating on the Southbound Interface in order to announce the existence of the Registrar to the local network, for the benefit of directly connected devices.  This permits the machines in the NOC itself to autonomically join the domain.<a href="#section-1.3.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3.3-2">The Join Proxy MAY announce the IP address (ULA) and port of the actual Pledge Interface, rather than announcing a link-local address and then performing a proxy operation.<a href="#section-1.3.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="est-and-brski-grasp-announcements">
<section id="section-1.3.4">
          <h4 id="name-est-and-brski-grasp-announc">
<a href="#section-1.3.4" class="section-number selfRef">1.3.4. </a><a href="#name-est-and-brski-grasp-announc" class="section-name selfRef">EST and BRSKI GRASP announcements</a>
          </h4>
<p id="section-1.3.4-1">As specified in <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> section 4.3, in an ACP context, the Registrar
MUST announce itself inside the ACP using GRASP.  The Registrar MUST incorporate enough of a GRASP daemon in order to perform the M_FLOOD announcements.<a href="#section-1.3.4-1" class="pilcrow">¶</a></p>
<p id="section-1.3.4-2">As specified in <span>[<a href="#I-D.ietf-anima-autonomic-control-plane" class="xref">I-D.ietf-anima-autonomic-control-plane</a>]</span> section 6.1.2, in an ACP context,
if the Registrar will also be providing for renewal of certificates using EST, then it SHOULD
announce itself inside the ACP using GRASP.  Unless made impossible due to loading concerns,
it is RECOMMENDED that all Registrar instances offer certificate renewal services in this fashion.<a href="#section-1.3.4-2" class="pilcrow">¶</a></p>
<p id="section-1.3.4-3">The use of <span>[<a href="#I-D.ietf-acme-star" class="xref">I-D.ietf-acme-star</a>]</span> Short-Term Automatically-Renewed Certificates is RECOMMENDED.
This mandates that the EST server be highly available.
If STAR-style renewals are not used, then the Certificate Authority will need to make OCSP or CRL Distribution points available.<a href="#section-1.3.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="certificate-authority">
<section id="section-1.3.5">
          <h4 id="name-certificate-authority">
<a href="#section-1.3.5" class="section-number selfRef">1.3.5. </a><a href="#name-certificate-authority" class="section-name selfRef">Certificate Authority</a>
          </h4>
<p id="section-1.3.5-1">If the Enterprise/ISP has an existing certificate authority system that it wishes to use, then an interface to it has to be enabled.  This may run protocols like EST, CMP or ACME.<a href="#section-1.3.5-1" class="pilcrow">¶</a></p>
<p id="section-1.3.5-2">Smaller Enterprises and Residential uses of BRSKI are encouraged to use an internal (private) certificate authority. See <a href="#certauthsecurity" class="xref">Section 3</a> for a discussion of securing this CA.<a href="#section-1.3.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="management-interface">
<section id="section-1.3.6">
          <h4 id="name-management-interface">
<a href="#section-1.3.6" class="section-number selfRef">1.3.6. </a><a href="#name-management-interface" class="section-name selfRef">Management Interface</a>
          </h4>
<p id="section-1.3.6-1">The Registrar will require a management interface.  As is the trend, this will often be a web-based single page application using AJAX API calls to perform communications.  This interface SHOULD be made available on the Southbound NOC interface only, and it MUST be on a different IP address and port number then the BRSKI-EST interface.  It should be secured with HTTPS, and use of a public (<span>[<a href="#WebPKI" class="xref">WebPKI</a>]</span>) anchor is reasonable as it may be that the internal certificate authority may be unavailable or require maintenance.<a href="#section-1.3.6-1" class="pilcrow">¶</a></p>
<p id="section-1.3.6-2">An entirely separate process is justified with the only connection to the other procesess being the database. (This does not mean it can not share code modules)<a href="#section-1.3.6-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="acpnoc">
<section id="section-2">
      <h2 id="name-connecting-the-autonomic-co">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-connecting-the-autonomic-co" class="section-name selfRef">Connecting the Autonomic Control Plane to the Network Operations Center (NOC)</a>
      </h2>
<p id="section-2-1"><span>[<a href="#I-D.ietf-anima-autonomic-control-plane" class="xref">I-D.ietf-anima-autonomic-control-plane</a>]</span> section 8.1 describes a mechanism
to connect non-ACP capable systems to the ACP.  The use of this mechanism is critical to incremental deployment of ANIMA and BRSKI in operators.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">The deployment of BRSKI capable equipment would ideally occur in a concentric ring outward from the NOC.  This would start by an upgrade of the router that connects the NOC to the production network.  This device needs to support the ACP connect functionality.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">It is possible, but beyond the scope of this document, to do initial connectivity of the ACP and of multiple NOCs by manually configured IPsec tunnels.  This is likely an
important step for incremental initial deployment.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">The Registrar described in the next section either needs to be connected via one of the above mentioned tunnels, or it must be located on a network with ACP Connect, or it must itself be part of an automatically configured ACP.  It is quite reasonable for the Registrar to be part of a larger appliance that also includes an ACP Connect functionality.<a href="#section-2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="certauthsecurity">
<section id="section-3">
      <h2 id="name-public-key-infrastructure-r">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-public-key-infrastructure-r" class="section-name selfRef">Public Key Infrastructure Recommendations for the Registrar</a>
      </h2>
<p id="section-3-1">The Registrar requires access to, or must contain a Certificate Authority (CA).<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">This section deals with the situation where the CA is provided internally.
<span>[<a href="#I-D.friel-acme-integrations" class="xref">I-D.friel-acme-integrations</a>]</span> deals with the case where the CA is provided by an external service, and the CA trust anchors are public.  These use ACME (<span>[<a href="#RFC8555" class="xref">RFC8555</a>]</span>) is used as the interface.  That is out of scope for this document.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">There are also a number of commercial offerings where a private CA is operated by an external entity using a wide variety of protocols, including proprietary ones. Those are also out of scope for this document.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">The requirements for the PKI depends upon what kind of network is being managed.<a href="#section-3-4" class="pilcrow">¶</a></p>
<div id="pki-recommendations-for-tier-1isp-networks">
<section id="section-3.1">
        <h3 id="name-pki-recommendations-for-tie">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-pki-recommendations-for-tie" class="section-name selfRef">PKI recommendations for Tier-1/ISP Networks</a>
        </h3>
<p id="section-3.1-1">A three-tier PKI infrastructure is appropriate for an ISP.  This entails having a root CA created with the key kept offline, and a number of intermediate CAs that have online keys that issue "day-to-day" certificates.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Whether the root private key is secured by applying secret-splitting, and then storing the results on multiple USBs key kept in multiple safes, or via Hardware Security Module is a local decision informed by best current practices.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">The root CA is then used to sign a number of intermediate entities: this will include an intermediate CA for the Registrar that is deployed into each redundant NOC location.  Multiple intermediate CAs with a common root provides significantly more security and operational flexibility than attempts to share a private key among locations.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">While the root CA should have a longevity of at least 5 years, after which it can be resigned rather than re-generated, the intermediate CA keys need only have a 1-2 year duration, and at the end of their lifetime, a new private key should be generated.
Shorter periods are possible, but until there is more experience with them, not recommended.  The intermediate CA key should be regenerated because the intermediate CA private key will need to be online, available to the Registrar CA system.
There are many more opportunities for the key to leak, such as into backups.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">The intermediate CA is then used to sign End-Entity certificates which are returned as part of the BRSKI-EST mechanism.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">The Registrar needs client and server certificates for it's BRSKI-EST and BRSKI-MASA connections.  It is recommended that an additional intermediate CA be created for
manually issued certificates such as these.  This intermediate CA could be called
the NOC Infrastructure CA, and could be used to issue certificates for all manner
of infrastructure such as web-based monitoring tools.
The private root CA certificate should be installed into the browsers of NOC personnel.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">The document <span>[<a href="#I-D.moskowitz-ecdsa-pki" class="xref">I-D.moskowitz-ecdsa-pki</a>]</span> provides some practical instructions on setting up this kind of system.  This document recommends the use of ECDSA keys for the root
and intermediate CAs, but there may be operational reasons why an RSA intermediate
CA will be required for some legacy equipment.<a href="#section-3.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="enterprise-network-1">
<section id="section-3.2">
        <h3 id="name-enterprise-network-2">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-enterprise-network-2" class="section-name selfRef">Enterprise Network</a>
        </h3>
<p id="section-3.2-1">Enterprises that have multiple Network Operations Center should consider the recommendations above for an ISP.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">This section applies to Enterprises that have all NOC operations/personel into a single location.  This is not a hard rule for scaling, but the intent is that physical security
for the ACP Connect network is rather easy, that only a single legal jurisdiction will apply, and that it is possible to get people together easily to do things like resign keys.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">A three-tier PKI infrastructure is still recommended for the reason that
it provides operational continuity options not available with a two-level system.
The recommendation is to have a root CA mechanism installed on a Virtual Machine
which is not connected to a network.  The root CA private key is kept offline,
secret split among a number of USB keys, kept in the possession of key personnel.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">The secret split should have at least five components, of which at least three are required to reconstruct the key.  See <span>[<a href="#I-D.hallambaker-mesh-udf" class="xref">I-D.hallambaker-mesh-udf</a>]</span> section 4.5 for one such mechanism, there are many others, and there are no interoperability requirements for the secret split.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">The essential point is that the Enterprise is able to recover the root CA key
even without some number of personnel and is able to continue operating it's network.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">As in the ISP case, the intermediate CA is then used to sign End-Entity certificates which  are returned as part of the BRSKI-EST mechanism.  One intermediate CA key suffices as there
is only one NOC location with a Registrar.  Incidental keys for internal operations,
and for the BRSKI-EST server certificate can be done with this single intermediate CA.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7">The BRSKI-MASA TLS Client Certificate key for an enterprise may not be needed;
it depends upon the policies of the manufacturers which are involved.
It may be simpler to use a certificate produced by a public CA (such as
LetsEncrypt), as this makes it easier for manufacturers to validate the
provided certificate.<a href="#section-3.2-7" class="pilcrow">¶</a></p>
<p id="section-3.2-8">The document <span>[<a href="#I-D.moskowitz-ecdsa-pki" class="xref">I-D.moskowitz-ecdsa-pki</a>]</span> provides some practical instructions on setting up this kind of system.  This document recommends the use of ECDSA keys for the root
and intermediate CAs.  In an Enterprise, there are likely many more legacy
devices that might need to become involved in the secure domain.  It is
recommended that an RSA root and intermediate CA be more strongly considered.<a href="#section-3.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="home-network-1">
<section id="section-3.3">
        <h3 id="name-home-network-2">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-home-network-2" class="section-name selfRef">Home Network</a>
        </h3>
<p id="section-3.3-1">Home networks and small offices that use residential class equipment are the
most challenging situation.  The three-tier PKI architecture is not justified
because the ability to keep the root CA offline has no operational value.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">The home network registrar should be initialized with a single key pair used
as the certificate authority.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">Secret splitting is useful in order to save the generated key with a few
neighbours.  It is recommended that the entire PKI system database (including
CA private key) be encrypted with a symmetric key and the results made
available regularly for download to a variety of devices.
The symmetric key is split among the neighbours.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">The most difficult part of the Home Network PKI and Registrar is where to
locate it.  Generally it should be located on a device that is fully owned by
the home user.  This is sometimes the Home Router, but in a lot of situations
the Home Router is the ISP's CPE router.  If the home has a Network Attached
Storage (NAS) system, then running it there is probably better.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5">A compromise for CPE devices owned by the ISP that can run containers is for
the Registrar to be located on detachable storage that is inserted into the
CPE.  The detachable storage is owned by the home owner, and can be removed
from the CPE device if it is replaced.   More experience will be necessary in
order to determine if this is a workable solution.<a href="#section-3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="arch">
<section id="section-4">
      <h2 id="name-architecture-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-architecture-considerations" class="section-name selfRef">Architecture Considerations for the Registrar</a>
      </h2>
<p id="section-4-1">There are a number of ways to scale the Registrar.  Web framework three-tier
mechanisms are the most obvious.  See <span>[<a href="#threetier" class="xref">threetier</a>]</span> for an overview.  This
architecture is very familiar and can work well for a Registrar.
There are a few small issues that need to be addressed relating to the TLS
connections.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The BRSKI-EST connection uses TLS Client Certificate information, so it is
necessary for the presentation tier to pass the entire certificate through to
the application layer.  The presentation tier MUST accept all Client
Certificates, many of which might it might not have anchors for.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">In addition, the Registrar Voucher-Request MUST be signed using the same key
pair that is used to terminate the TLS connection, so the application layer
will need access to the same keypair that the presentation tier uses.  This
can be operationally challenging if the presentation tier is provided by a
hardware-based TLS load balancer.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">For this reason, an alternate architecture where the front-end load balancer
provides TCP level load balancing, leaving the TLS operations to software TLS
implementations in the application layer may be simpler to build.
Given that the Registrar is an inward facing system, and is not subject to the
Internet-scale loads typical of "Black Friday" web system, the same kind of
extreme scaling is not necessary.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">The BRSKI-EST flow includes a back-end call to the BRSKI-MASA flow.
That is, during the BRSKI-EST /voucherrequest call, a voucher will need to be
fetched from the MASA using a BRSKI-MASA connection.  There are three ways to
do this.<a href="#section-4-5" class="pilcrow">¶</a></p>
<div id="completely-synchronous-registrar">
<section id="section-4.1">
        <h3 id="name-completely-synchronous-regi">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-completely-synchronous-regi" class="section-name selfRef">Completely Synchronous Registrar</a>
        </h3>
<p id="section-4.1-1">In this simplest version the Registrar operates as a single thread,
processing the voucher-request from the Pledge, and then starting a
BRSKI-MASA client session, while the connection from the Pledge waits.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">This flow is very simple to implement, but requires an entire processing
thread to block while the BRSKI-MASA protocol executes.  The Pledge may
timeout on this request, disconnect and retry.  Experience so far is that
typical default timeouts work fine.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">It is recommended that the voucher-request be recorded in a database, and if
a corresponding fresh voucher is also found in the database, that it be
returned rather than fetching a new voucher from the MASA.  This accomodates
the situation where the Pledge did timeout, but the BRSKI-MASA protocol did
complete.  This results in the Pledge receiving the voucher upon retrying
without having to go through the process of getting a new voucher.
This only works if the Pledge retries with the same Nonce each time.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="partially-synchronous-registrar">
<section id="section-4.2">
        <h3 id="name-partially-synchronous-regis">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-partially-synchronous-regis" class="section-name selfRef">Partially Synchronous Registrar</a>
        </h3>
<p id="section-4.2-1">A slightly more complicated version is for the Registrar to look in a
database for a matching voucher-request, and if none is found, to
return a 202 code upon the voucher-request, asking the Pledge to
retry.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">In the meantime the BRSKI-MASA connection can be performed, and the resulting
voucher stored in a database.  The connection can be done in the same thread
that just deferred the connection, or in another thread kicked off for this
purpose.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="asynchronous-registrar">
<section id="section-4.3">
        <h3 id="name-asynchronous-registrar">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-asynchronous-registrar" class="section-name selfRef">Asynchronous Registrar</a>
        </h3>
<p id="section-4.3-1">In the completely asynchronous architecture, things work as with the
Partially Synchronous version.  The voucher request is placed into a database
as before.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">A completely separate system, probably with different network connectivity,
but connected to the same database,  performs the BRSKI-MASA processing, then
fills the database with the answer.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">This version may have a noticeably higher latency as it requires a database
operation and a database trigger to invoke the process.  This architecture
has the advantage that the internal facing Registrar never connects to the
Internet.  Furthermore, the number of internal facing Registrar instances can
be tuned independently from the number of outward facing clients.  This may
be an advantage for networks that need to deal with a high number of
malicious or lost internal clients.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="certificates-needed-for-the-registrar">
<section id="section-5">
      <h2 id="name-certificates-needed-for-the">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-certificates-needed-for-the" class="section-name selfRef">Certificates needed for the Registrar</a>
      </h2>
<p id="section-5-1">In addition to hosting a PKI root, the Registrar needs several other key
pairs.  They are:<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="brskiestcert">
<section id="section-5.1">
        <h3 id="name-tls-server-certificate-for-">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-tls-server-certificate-for-" class="section-name selfRef">TLS Server Certificate for BRSKI-EST</a>
        </h3>
<p id="section-5.1-1">A certificate to be used to answer TLS connections from new devices
(pledges).  This must be of a type that expected pledges can understand.
Returning an RSA key to a client that can validate only ECDSA chains is a
problem.  The constrained IoT ecosystem prefers ECDSA, and often does not
have code that can verify RSA.  Meanwhile, older FIPS-140 validated libraries
present in many router operating systems support only RSA!<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">The recommendation is to use ECDSA keys, with a sensitiviity to when a
majority of systems might support EdDSA.    There are well established
mechanisms in most TLS server libraries to permit multiple certificates to be
loaded and to return an appropriate key based upon the client capabilities.
This should be used.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">The certificate used for the BRSKI-EST end point is not validated by the
BRSKI pledge using public trust anchors, but rather it is pinned by the
<span>[<a href="#RFC8366" class="xref">RFC8366</a>]</span> voucher.  As such it can come from the private CA, as recommended
above: either signed by a specific intermediate CA or via a root CA as
appropriate for the environment.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="brskimasacert">
<section id="section-5.2">
        <h3 id="name-tls-client-certificate-for-">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-tls-client-certificate-for-" class="section-name selfRef">TLS Client Certificate for BRSKI-MASA</a>
        </h3>
<p id="section-5.2-1">A certificate may optionally be used for authentication of the Registrar to
the MASA.  It is recommended to always include one.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">It can be the same certificate used by TLS Server Certificate above, and this
is most appropriate in small Registrars which are not distributed, such as
ones aimed as Residential/Home networks.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">In larger, distributed Registrars, cryptographic hygiene dictates that the
private key not be distributed, so a unique certificate per Registrar client
is appropriate.
They should all be signed by the same intermediate CA, with the intermediate and root CA certificates being supplied in the TLS connection.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<div id="use-of-publically-anchored-tls-client-certificate-with-brski-masa-connection">
<section id="section-5.2.1">
          <h4 id="name-use-of-publically-anchored-">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-use-of-publically-anchored-" class="section-name selfRef">Use of Publically Anchored TLS Client Certificate with BRSKI-MASA connection</a>
          </h4>
<p id="section-5.2.1-1">The use TLS Client Certificate which has a public anchor (such as from LetsEncrypt) has an advantage that is makes it easier for the MASA to reject malicious clients.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<p id="section-5.2.1-2">If the Registrar is not using a supply chain integration that includes the MASA being aware of the cryptographic identity of the Registrar, then the use of a publically anchored certificate is RECOMMENDED.<a href="#section-5.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="brskivoucherrequest">
<section id="section-5.3">
        <h3 id="name-certificate-for-signing-of-">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-certificate-for-signing-of-" class="section-name selfRef">Certificate for signing of Voucher-Requests</a>
        </h3>
<p id="section-5.3-1">As part of the BRSKI voucher-request process the Pledge's Voucher-Request is
wrapped by the Registrar in another voucher-request and signed.
It is this certificate which which pinned by MASA to validate the connection.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">The certificate used to sign the voucher-request MUST be the same as the one
that is used for the TLS Server Connection.  This implies that the signed
voucher-request MUST be constructed on the same machine that terminates the
BRSKI-EST MASA connection.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="autonomic-control-plane-addressing">
<section id="section-6">
      <h2 id="name-autonomic-control-plane-add">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-autonomic-control-plane-add" class="section-name selfRef">Autonomic Control Plane Addressing</a>
      </h2>
<p id="section-6-1">In the Enterprise and ISP use cases, the creation of an <span>[<a href="#I-D.ietf-anima-autonomic-control-plane" class="xref">I-D.ietf-anima-autonomic-control-plane</a>]</span> Autonomic Control Plane is assumed.
(The use of an ACP for the Home Network of IoT devices is considered unnecessary due to HNCP)<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">In these context the certificates which are returned by the Registrar MUST contain a unique IPv6 ULA address.
{{-ACP} section 6.10 outlines several addressing schemes for the ULA addresses.
The use of the ACP Vlong Addressing Sub-Scheme (6.10.5) is recommended as it provides the most flexibility for
devices.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">The use of this mode limits the number of nodes in the network to between 32768 and 8 Million.
32K routers in an ISP network seems like quite a lot already, but use of F=0
addresses provides for up to 8 Million devices, each with 256 management end points.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">It should be noted that a mix of F=0 and F=1 addresses may be used, but the BRSKI protocol does not directly provide a way to negotiated this.
This could be done as part of the Certificate Signing Request: the device
could decide which kind of address to ask for by changing the address that it
asks for, but this is non-standardized and may not work.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">A network manager that saw that a device was running out of F=0 space, that
is if 256 addresses was not enough for a device, could allocate an F=1
address in a management interface.
At the next certificate renewal (which could be forced by a management
action), then a new certificate would be issues with the larger address space.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">256 addresses for a single device may seem like a lot, but it is increasing
the case that routers may have a large number of virtualized functions within
and each may reasonably need to be separately connected to it's SDN controller.<a href="#section-6-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privacy-considerations">
<section id="section-7">
      <h2 id="name-privacy-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-7-1">Section 10.2 of <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> details a number of things that are revealed by the
BRSKI-EST protocol.   A multi-location Registrar with different TLS Server
Certificates will have a different privacy profile than a Registrar that uses
only a single certificate.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">Section 10.3 of <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> details what is revealed by the BRSKI-MASA
protocol.   The operational recommendations of this document do not affect or
mitigate things at all.<a href="#section-7-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">Section 11 of <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> does not deal with any attacks against the Registrar,
as the Registrar is considered to be an internally facing system.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">In the context of the Autonomic Control Plane (<span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> section 9, and
<span>[<a href="#I-D.ietf-anima-autonomic-control-plane" class="xref">I-D.ietf-anima-autonomic-control-plane</a>]</span>) it is expected that the majority
of equipment attached to a network are connected by wired ethernet.  The
opportunity for a massive attack against the Registrar is considered low in
an ISP, or multi-side Enterprise backbone network.<a href="#section-8-2" class="pilcrow">¶</a></p>
<div id="denial-of-service-attacks-against-the-registrar">
<section id="section-8.1">
        <h3 id="name-denial-of-service-attacks-a">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-denial-of-service-attacks-a" class="section-name selfRef">Denial of Service Attacks against the Registrar</a>
        </h3>
<p id="section-8.1-1">However, there are some exposures which need to be taken into account,
particular in the Enterprise or Institutional Campus network: typically these
networks have large number of access ports, one for each desktop system.
Those systems can be infected with Malware, or may be located in student
computer labs physically accessible with minimal authorization.  While an
attack on the Registrar might be part of some kind of student protest, an
attack by malware seems more likely.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">The different architectures proposed in <a href="#arch" class="xref">Section 4</a> of this document provides
some recommendations on differing scales.  The use of a fully asynchronous
design is recommended for Enterprise uses of BRSKI where there may be a large
number of IoT devices that are expected to onboard.  The ability to scale the
BRSKI-EST Pledge Interface without having the scale the rest of the system
provides for resiliency of the Registrary.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<p id="section-8.1-3">It bears repeating that the use of of a stateless technology in the Join
Proxy moves the load due to attacking systems from the Join Proxy into the
Registrar.  This increases the network bandwidth required from the Join Proxy
to the Registrar with the benefit of simplifying the Join Proxy.<a href="#section-8.1-3" class="pilcrow">¶</a></p>
<p id="section-8.1-4">This is an intentional design decision to centralize the impact into the
purpose built Registrar system(s).<a href="#section-8.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="loss-of-keyscorruption-of-infrastructure">
<section id="section-8.2">
        <h3 id="name-loss-of-keys-corruption-of-">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-loss-of-keys-corruption-of-" class="section-name selfRef">Loss of Keys/Corruption of Infrastructure</a>
        </h3>
<p id="section-8.2-1">In Home/Residential Network ("homenet") uses of <span>[<a href="#I-D.ietf-anima-bootstrapping-keyinfra" class="xref">I-D.ietf-anima-bootstrapping-keyinfra</a>]</span> the biggest risk
is likely that of loss of the Registrar's key pairs.  Not to a malicious
entity that steals them with intent to cause damage, but from outright loss.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">This can be due to failure to backup the database followed by a CPE device
failure, but the case where a CPE device is simply thrown away to be replaced
by an uninformed technician is probably the most likely situation.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<p id="section-8.2-3">This situation results in loss of control for all devices in the home, and
much frustration from the home owner who has to go through an onboarding
process for all the devices.  The use of a standardized onboarding protocol
significantly mitigates the hassle; the current "state of the art" proccess
involves a series of appliance-specific smartphone applications, which may or
not not actually work on more recent devices.<a href="#section-8.2-3" class="pilcrow">¶</a></p>
<p id="section-8.2-4">This is why the focus on saving of the database along with a secret splitting
process to secure it.   At present there is no cross-vendor format for this
database, so the saved data is only useable with a Registrar from the same
vendor.  So this protects against device failure, where it is replaced by an
identical device or an upward compatible device from the same manufacturer,
but not against changes of vendor.<a href="#section-8.2-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">This document makes no IANA allocations.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgements">
<section id="section-10">
      <h2 id="name-acknowledgements">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-10-1">Your name here.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changelog">
<section id="section-11">
      <h2 id="name-changelog">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-changelog" class="section-name selfRef">Changelog</a>
    </h2>
</section>
</div>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-acme-star">[I-D.ietf-acme-star]</dt>
        <dd>
<span class="refAuthor">Sheffer, Y.</span><span class="refAuthor">, Lopez, D.</span><span class="refAuthor">, Dios, O.</span><span class="refAuthor">, Pastor, A.</span><span class="refAuthor">, and T. Fossati</span>, <span class="refTitle">"Support for Short-Term, Automatically-Renewed (STAR) Certificates in Automated Certificate Management Environment (ACME)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-acme-star-11</span>, <time datetime="2019-10-24">24 October 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-acme-star-11.txt">http://www.ietf.org/internet-drafts/draft-ietf-acme-star-11.txt</a>&gt;</span>. </dd>
<dt id="I-D.ietf-anima-autonomic-control-plane">[I-D.ietf-anima-autonomic-control-plane]</dt>
        <dd>
<span class="refAuthor">Eckert, T.</span><span class="refAuthor">, Behringer, M.</span><span class="refAuthor">, and S. Bjarnason</span>, <span class="refTitle">"An Autonomic Control Plane (ACP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-autonomic-control-plane-21</span>, <time datetime="2019-11-03">3 November 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-anima-autonomic-control-plane-21.txt">http://www.ietf.org/internet-drafts/draft-ietf-anima-autonomic-control-plane-21.txt</a>&gt;</span>. </dd>
<dt id="I-D.ietf-anima-bootstrapping-keyinfra">[I-D.ietf-anima-bootstrapping-keyinfra]</dt>
        <dd>
<span class="refAuthor">Pritikin, M.</span><span class="refAuthor">, Richardson, M.</span><span class="refAuthor">, Eckert, T.</span><span class="refAuthor">, Behringer, M.</span><span class="refAuthor">, and K. Watsen</span>, <span class="refTitle">"Bootstrapping Remote Secure Key Infrastructures (BRSKI)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-bootstrapping-keyinfra-30</span>, <time datetime="2019-11-17">17 November 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-anima-bootstrapping-keyinfra-30.txt">http://www.ietf.org/internet-drafts/draft-ietf-anima-bootstrapping-keyinfra-30.txt</a>&gt;</span>. </dd>
<dt id="I-D.ietf-anima-constrained-voucher">[I-D.ietf-anima-constrained-voucher]</dt>
        <dd>
<span class="refAuthor">Richardson, M.</span><span class="refAuthor">, Stok, P.</span><span class="refAuthor">, and P. Kampanakis</span>, <span class="refTitle">"Constrained Voucher Artifacts for Bootstrapping Protocols"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-constrained-voucher-05</span>, <time datetime="2019-07-08">8 July 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-anima-constrained-voucher-05.txt">http://www.ietf.org/internet-drafts/draft-ietf-anima-constrained-voucher-05.txt</a>&gt;</span>. </dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dt id="RFC8366">[RFC8366]</dt>
      <dd>
<span class="refAuthor">Watsen, K.</span><span class="refAuthor">, Richardson, M.</span><span class="refAuthor">, Pritikin, M.</span><span class="refAuthor">, and T. Eckert</span>, <span class="refTitle">"A Voucher Artifact for Bootstrapping Protocols"</span>, <span class="seriesInfo">RFC 8366</span>, <span class="seriesInfo">DOI 10.17487/RFC8366</span>, <time datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8366">https://www.rfc-editor.org/info/rfc8366</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.friel-acme-integrations">[I-D.friel-acme-integrations]</dt>
        <dd>
<span class="refAuthor">Friel, O.</span><span class="refAuthor">, Barnes, R.</span><span class="refAuthor">, and R. Shekh-Yusef</span>, <span class="refTitle">"ACME Integrations"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-friel-acme-integrations-02</span>, <time datetime="2019-10-24">24 October 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-friel-acme-integrations-02.txt">http://www.ietf.org/internet-drafts/draft-friel-acme-integrations-02.txt</a>&gt;</span>. </dd>
<dt id="I-D.hallambaker-mesh-udf">[I-D.hallambaker-mesh-udf]</dt>
        <dd>
<span class="refAuthor">Hallam-Baker, P.</span>, <span class="refTitle">"Mathematical Mesh 3.0 Part II: Uniform Data Fingerprint."</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-hallambaker-mesh-udf-07</span>, <time datetime="2019-10-18">18 October 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-hallambaker-mesh-udf-07.txt">http://www.ietf.org/internet-drafts/draft-hallambaker-mesh-udf-07.txt</a>&gt;</span>. </dd>
<dt id="I-D.moskowitz-ecdsa-pki">[I-D.moskowitz-ecdsa-pki]</dt>
        <dd>
<span class="refAuthor">Moskowitz, R.</span><span class="refAuthor">, Birkholz, H.</span><span class="refAuthor">, Xia, L.</span><span class="refAuthor">, and M. Richardson</span>, <span class="refTitle">"Guide for building an ECC pki"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-moskowitz-ecdsa-pki-07</span>, <time datetime="2019-08-13">13 August 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-moskowitz-ecdsa-pki-07.txt">http://www.ietf.org/internet-drafts/draft-moskowitz-ecdsa-pki-07.txt</a>&gt;</span>. </dd>
<dt id="I-D.richardson-anima-state-for-joinrouter">[I-D.richardson-anima-state-for-joinrouter]</dt>
        <dd>
<span class="refAuthor">Richardson, M.</span>, <span class="refTitle">"Considerations for stateful vs stateless join router in ANIMA bootstrap"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-richardson-anima-state-for-joinrouter-02</span>, <time datetime="2018-01-25">25 January 2018</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-richardson-anima-state-for-joinrouter-02.txt">http://www.ietf.org/internet-drafts/draft-richardson-anima-state-for-joinrouter-02.txt</a>&gt;</span>. </dd>
<dt id="ieee802-1AR">[ieee802-1AR]</dt>
        <dd>
<span class="refAuthor">IEEE Standard, .</span>, <span class="refTitle">"IEEE 802.1AR Secure Device Identifier"</span>, <time datetime="2009">2009</time>, <span>&lt;<a href="http://standards.ieee.org/findstds/standard/802.1AR-2009.html">http://standards.ieee.org/findstds/standard/802.1AR-2009.html</a>&gt;</span>. </dd>
<dt id="RFC7030">[RFC7030]</dt>
        <dd>
<span class="refAuthor">Pritikin, M., Ed.</span><span class="refAuthor">, Yee, P., Ed.</span><span class="refAuthor">, and D. Harkins, Ed.</span>, <span class="refTitle">"Enrollment over Secure Transport"</span>, <span class="seriesInfo">RFC 7030</span>, <span class="seriesInfo">DOI 10.17487/RFC7030</span>, <time datetime="2013-10">October 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7030">https://www.rfc-editor.org/info/rfc7030</a>&gt;</span>. </dd>
<dt id="RFC8555">[RFC8555]</dt>
        <dd>
<span class="refAuthor">Barnes, R.</span><span class="refAuthor">, Hoffman-Andrews, J.</span><span class="refAuthor">, McCarney, D.</span><span class="refAuthor">, and J. Kasten</span>, <span class="refTitle">"Automatic Certificate Management Environment (ACME)"</span>, <span class="seriesInfo">RFC 8555</span>, <span class="seriesInfo">DOI 10.17487/RFC8555</span>, <time datetime="2019-03">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8555">https://www.rfc-editor.org/info/rfc8555</a>&gt;</span>. </dd>
<dt id="threetier">[threetier]</dt>
        <dd>
<span class="refAuthor">Wikipedia, .</span>, <span class="refTitle">"Multitier architecture"</span>, <time datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Multitier_architecture">https://en.wikipedia.org/wiki/Multitier_architecture</a>&gt;</span>. </dd>
<dt id="WebPKI">[WebPKI]</dt>
      <dd>
<span class="refAuthor">CA/Browser Forum, .</span>, <span class="refTitle">"CA/Browser Forum Baseline Requirements for the Issuance and Management of Publicly-Trusted Certificates, v.1.2.2"</span>, <time datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://cabforum.org/wp-content/uploads/BRv1.2.2.pdf">https://cabforum.org/wp-content/uploads/BRv1.2.2.pdf</a>&gt;</span>. </dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="section-appendix.a">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael Richardson</span></div>
<div dir="auto" class="left"><span class="org">Sandelman Software Works</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mcr+ietf@sandelman.ca" class="email">mcr+ietf@sandelman.ca</a>
</div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>
</body>
</html>
