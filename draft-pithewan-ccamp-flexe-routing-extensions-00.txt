 



INTERNET-DRAFT                                               K. Pithewan
                                                              I. Hussain
                                                             R. Valiveti
Intended Status: Proposed Standard                              Infinera
Expires: January 7, 2017                                    July 6, 2016


                     FlexE GMPLS Routing Extension 
            draft-pithewan-ccamp-flexe-routing-extensions-00


Abstract

   This document specifies routing extensions in support of carrying  
   link state information for Generalized Multi-Protocol Label Switching
   (GMPLS) for Flex Ethernet.



Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html


Copyright and License Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
 


K. Pithewan             Expires January 7, 2017                 [Page 1]

INTERNET DRAFT       FlexE GMPLS Routing Extension          July 6, 2016


   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document. Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Table of Contents

   1  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1  Terminology . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  FlexE TE Link  . . . . . . . . . . . . . . . . . . . . . . . .  3
   3. Flex link property  . . . . . . . . . . . . . . . . . . . . . .  4
   4. OSPF TE-LSA Extension . . . . . . . . . . . . . . . . . . . . .  4
     4.1. Interface Switch Capability Descriptor  . . . . . . . . . .  5
   3  Security Considerations . . . . . . . . . . . . . . . . . . . .  8
   4  IANA Considerations . . . . . . . . . . . . . . . . . . . . . .  8
   5  References  . . . . . . . . . . . . . . . . . . . . . . . . . .  8
     5.1  Normative References  . . . . . . . . . . . . . . . . . . .  8
     5.2  Informative References  . . . . . . . . . . . . . . . . . .  8
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . .  8
























 


K. Pithewan             Expires January 7, 2017                 [Page 2]

INTERNET DRAFT       FlexE GMPLS Routing Extension          July 6, 2016


1  Introduction

   FlexE implementation agreement version 1.0 as specified by OIF
   supports flexible size Ethernet interfaces supported by one or more
   Ethernet PHY(s). FlexE interface represents the aggregate bandwidth
   of underlying PHY(s). In order to compute a path for a FlexE LSP that
   spans over one or more FlexE links, the bandwidth of FlexE interface
   needs to be advertised and flooded in routing domain. This document
   specifies the OSPF routing extension for FlexE interfaces and enables
   GMPLS control plane to flood FlexE link bandwidth in routing domain.


1.1  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  FlexE TE Link

   FlexE mechanism operates using calendar that assigns 66bit block
   positions to sub-calendars on each PHY of the FlexE group. The
   calendar has a granularity of 5G, and has a length of 20 slots per
   100G of FlexE group capacity. Two calendar configurations are
   supported, referred as "A" and "B". At any given time, one of the
   calendar configurations is used for mapping the FlexE clients into
   the FlexE group. The two calendar configurations are provided to
   facilitate reconfiguration. To add or remove FlexE clients from the
   FlexE group, the clients are added to (or removed from) the inactive
   calendar and configuration is switched to make it effective. The
   effective bandwidth is represented by active calendar.

   The effective bandwidth between two FlexE group (or interfaces) is
   represented by FlexE TE Link.


           +-------+               +-------+               +-------+
           |FlexE  |               |FlexE  |               |FlexE  |
           |Switch |<- FlexE Link->|Switch |<- FlexE Link->|Switch |
           |   A   |               |   B   |               |   C   |
           +-------+               +-------+               +-------+

                   |<-- TE-Link -->|       |<-- TE-Link -->|

                             Figure-1: FlexE TE-Link


 


K. Pithewan             Expires January 7, 2017                 [Page 3]

INTERNET DRAFT       FlexE GMPLS Routing Extension          July 6, 2016


   In Figure-1 FlexE Switch A,B,C operates in FlexE aware mode (i.e., 
   these switches terminate FlexE shim) and are capable of multiplexing
   and de-multiplexing FlexE group. In other words, the FlexE switches
   instantiate the FlexE Shim functions (as specified in the OIF IA) at
   each FlexE interface. The mux-demux capability of FlexE switch allows
   it to select time-slots for FlexE LSP at each hop. FlexE Link (TE-
   Link) exist between each FlexE aware switch.




           +-------+ <------------ FlexE Link------------->+-------+
           |FlexE  |               +-------+               |FlexE  |
           |Switch |               |unaware|               |Switch |
           |   A   |               |  (B)  |               |   C   |
           +-------+               +-------+               +-------+

                   |<-------------- TE-Link -------------->|

                             Figure-2: FlexE TE-Link



   In Figure-2 A and C are FlexE aware switches and B is unaware. In
   this case, FlexE group is terminated by the switch A and C.
   Therefore, TE-link will also exist between A and C. BW modeled by TE-
   link and switch capability of FlexE aware switch is used for end-to-
   end path calculation for FleXE LSP.

3. Flex link property

   FlexE group realized by the FlexE SHIM needs to have same number of
   components (i.e., grouped PHYs), number of slots and slot granularity
   on both ends.

   The bandwidth of a TE Link is represented by number of slots and size
   of the slots. Theoretically, it is conceivable that a FlexE TE link
   could be constructed out of heterogeneous collection of Ethernet
   PHY(s), with different rates, which may result in a FlexE TE Link
   bandwidth realized by multiple sets of slots where each set may have
   different granularity/size. However, OIF agreement doesn't support
   different granularity/size, hence, it is out of scope for this
   document.


4. OSPF TE-LSA Extension

   This section describes the OSPF TE-LSA Extensions to support
 


K. Pithewan             Expires January 7, 2017                 [Page 4]

INTERNET DRAFT       FlexE GMPLS Routing Extension          July 6, 2016


   bandwidth encoding for FlexE TE-Links.

4.1. Interface Switch Capability Descriptor

      The Interface Switching Capability Descriptor (ISCD) describes
   switching capability of an interface [RFC 4202]. The Switching
   capability is essentially described by

      - Interface Switching Capability
      - Encoding
      - Reservable Bandwidth

   For FlexE interfaces this proposal uses L2 Switching Capability
   (L2SC) for Switching Type and proposes new encoding type

           Value       Type
           -----       ----
           15         Flex Ethernet (FlexE)



       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Switching Cap |   Encoding    |           Reserved            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 0              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 1              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 2              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 3              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 4              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 5              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 6              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Max LSP Bandwidth at priority 7              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |         FlexE - Switch Capability Specific Information        |
       |                        (variable length)                      |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Nodes advertising FlexE switching BW for for its links must use
        Switching Type and Encoding values as follows:
 


K. Pithewan             Expires January 7, 2017                 [Page 5]

INTERNET DRAFT       FlexE GMPLS Routing Extension          July 6, 2016


      Switching Type :
                L2SC [as defined in RFC4202]
      Encoding Type  :
                FlexE [as defined in this document]
      Max LSP Bandwidth :
               The FlexE SHIM nominal rate (in kbps)

   Reservable Bandwidth is advertised as part of Switch Capability
   Specific Information which is variable field in ISCD. Unused or
   available or reservable bandwidth is expressed as combination of
   [Number of Slots, Granularity]

   As per OIF agreement Granularity has only one value i.e. 5G. In
   future additional values may be defined.




       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  Type=1           |           Length                          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  Granularity      |           Reserved                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 0                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 1                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 2                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 3                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 4                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 5                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 6                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Available Slots at priority 7                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Granularity : This is 8 bit field and takes values like Enum. Current
   OIF agreement only allow 5G granularity. In future, this field can
   have more values, as further granularity are defined.


 


K. Pithewan             Expires January 7, 2017                 [Page 6]

INTERNET DRAFT       FlexE GMPLS Routing Extension          July 6, 2016


     Value  - Granularity
   -----------------------
       1    -   5G


   Reserved : This field is reserved and marked as 0.

   Available Slots : This field (32 bits) indicates the maximum number
   of slots available at priority 'p' on active calendar of the TE
   Link.






































 


K. Pithewan             Expires January 7, 2017                 [Page 7]

INTERNET DRAFT       FlexE GMPLS Routing Extension          July 6, 2016


3  Security Considerations

   TBD


4  IANA Considerations

   New Encoding type is defined in this document for Flex Ethernet.
   Proposed value is 15


5  References

5.1  Normative References

   [RFC4202] Kompella, K. and Y. Rekhter, "Routing Extensions in Support
             of Generalized Multi-Protocol Label Switching (GMPLS)"

   [RFC4203] Kompella, K. and Y. Rekhter, "OSPF Extensions in Support   
             of Generalized Multi-Protocol Label Switching (GMPLS)"

   [OIFFLEXE1] OIF, "FLex Ethernet Implementation Agreement Version 1.0 
               (OIF-FLEXE-01.0)", March 2016.



5.2  Informative References



Authors' Addresses


   Khuzema Pithewan
   169 W Java Dr, Sunnyvale, CA, USA
   EMail: kpithewan@infinera.com

   Iftekhar Hussain
   169 W Java Dr, Sunnyvale, CA, USA
   EMail: ihussain@infinera.com

   Radha Valiveti
   169 W Java Dr, Sunnyvale, CA, USA
   EMail: rvaliveti@infinera.com







K. Pithewan             Expires January 7, 2017                 [Page 8]
