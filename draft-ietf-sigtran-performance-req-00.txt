Internet Engineering Task Force 
INTERNET DRAFT 						 	    Authors
Signaling Transport Working Group 	 		     Huai-An P. Lin
June 26, 1999						        Taruni Seth
Expires December 26, 1999	 			    Albert Broscius
							  Christian Huitema
 Telcordia Technologies


      VoIP Signaling Performance Requirements and Expectations
            <draft-ietf-sigtran-performance-req-00.txt>


Status of this document

This document is an Internet-Draft and is in full conformance with all 
provisions of Section 10 of RFC2026.  Internet-Drafts are working 
documents of the Internet Engineering Task Force (IETF), its areas, and 
its working groups.  Note that other groups may also distribute working 
documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six months 
and may be updated, replaced, or obsoleted by other documents at any 
time.  It is inappropriate to use Internet-Drafts as reference material 
or to cite them other than as "work in progress."

The list of current Internet-Drafts can be accessed at 
http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at 
http://www.ietf.org/shadow.html.


Abstract

This document serves as input into the IETF SIGTRAN requirements 
process. It includes call setup delay requirements, derived from 
relevant ISDN and SS7 standards published by ITU-T (International 
Telecommunications Union--Telecommunications Standardization Sector) and 
generic requirements published by Telcordia Technologies (formerly 
Bellcore). To gain user acceptance of Voice-over-IP (VoIP) services and 
to enable interoperability between Switched Circuit Networks (SCNs) and 
VoIP systems, it is imperative that the VoIP signaling performance be 
comparable to that of the current SCNs. The requirements given in this 
Internet Draft are intended to be the worst-case requirements, for at 
least in United States SCN calls are typically set up far faster than 
the derived requirements.



1. Introduction

This document serves as input into the IETF SIGTRAN requirements 
process. It includes call setup delay requirements, derived from 
relevant ISDN and SS7 standards published by ITU-T (International 
Telecommunications Union--Telecommunications Standardization Sector) and 
generic requirements published by Telcordia Technologies (formerly 
Bellcore). To gain user acceptance of Voice-over-IP (VoIP) services and 


Lin, Seth, Broscius, Huitema					[Page 1]


to enable interoperability between Switched Circuit Networks (SCNs) and 
VoIP systems, it is imperative that the VoIP signaling performance be 
comparable to that of the current SCNs. The requirements given in this 
Internet Draft are intended to be the worst-case requirements, since at 
least in United States SCN calls are typically set up within one to two 
seconds [1]--far faster than the derived requirements.

The call setup delay, also known as the post-dialing delay, in an ISDN-
SS7 environment is the period that starts when an ISDN user dials the 
last digit of the called number and ends when the user receives the last 
bit of the Alerting message. Call setup delays are not explicitly given 
in the existing SCN performance requirements; rather, performances of 
SCNs are typically expressed in terms of cross-switch (or cross-office) 
transfer times. This Internet Draft uses ITU-TÆs SS7 Hypothetical 
Signaling Reference Connection (HSRC) [2], cross-STP (Signaling Transfer 
Point) time [3], TelcordiaÆs switch response time generic requirements 
[4], and a simple ISDN-SS7 call flow to derive the call setup delay 
requirements. ITU-TÆs cross-switch time requirements [5] are listed as 
references but not used, since the ISDN timings are missing.



2. Hypothetical Signaling Reference Connection (HSRC)

HSRC is specified in ITU-T Recommendation Q.709. A HSRC is made up by a 
set of signaling points and STPs that are connected in series by 
signaling data links to produce a signaling connection. Recommendation 
Q.709 distinguishes the ônationalö components from the ôinternationalö 
components. A HSRC for international working consists of an 
international component and two national components. The size of each 
country is considered; however, the definitions of ôlargeö and ôaverageö 
countries was not completely precise:

ôWhen the maximum distance between an international switching center and 
a subscriber who can be reached from it does not exceed 1000 km or, 
exceptionally, 1500 km, and when the country has less than n Ú 10E7 
subscribers, the country is considered to be of average-size. A country 
with a larger distance between an international switching center and a 
subscriber, or with more than n Ú 10E7 subscribers, is considered to be 
of large-size. (The value of n is for further study.)ö

Recommendation Q.709 uses a probabilistic approach to specify the number 
of signaling points and STPs on a signaling connection. The maximum 
number of signaling points and STPs allowed in a national component and 
an international component are listed in Tables 1 and 2, respectively.


  Table 1: Maximum Number of Signaling Points and STPs in a National
        Component (Source: ITU-T Recommendation Q.709, Table 3)

  Country size	Percent of	Number of	Number of
	        connections	STPs	        signaling points*

  Large-size	   50%	   	    3     	      3
	  	   95%	 	    4		      4



Lin, Seth, Broscius, Huitema					[Page 2]



  Average-size	   50%		    2		      2
		   95%		    3		      3


* The terms signaling points and switches are used interchangeably in 
this Internet Draft.


 Table 2: Maximum Number of Signaling Points and STPs in International
        Component (Source: ITU-T Recommendation Q.709, Table 1)

  Country size	Percent of	Number of	Number of
		connections	STPs		signaling points

  Large-size	   50%		    3		      3
  to
  Large-size	   95%		    4		      3

  Large-size  	   50%		    4		      4
  to
  Average-size	   95%		    5		      4

  Average-size	   50%		    5		      5
  to
  Average-size	   95%		    7		      5



3. Switch Response Time (aka Cross-switch Transfer Time)

Most of SCN performance requirements are specified in terms of switch 
response times, which are also referred to as cross-switch transport 
time or cross-switch delay. This section reviews the meanings of switch 
response times, several other related terms, and the generally accepted 
values of switch response times published by Telcordia Technologies. The 
corresponding ITU-TÆs cross-switch timing requirements are also listed 
as references.

This Internet Draft reviews the switch response time requirements 
intended to apply under normal loading. Normal loading is usually 
associated with the notion of the Average Busy Season Busy Hour (ABSBH) 
load. Simply put, it is expected that the switch response times that a 
particular switch experiences at this load will be virtually load-
independent.

Switch response time is the period that starts when a stimulus occurs at 
the switch and ends when the switch completes its response to the 
stimulus. The occurrence of a stimulus often means the switch receives 
the last bit of a message from an incoming signaling link, and 
completion of a response means the switch transmits the last bit of the 
message on the outgoing signaling link. If the switchÆs response to a 
stimulus involves the switch sending a message on the outgoing signaling 
link, then switch processing time is the sum of the switch processing 
time and the link output delay:

   switch response time = switch processing time + link output delay




Lin, Seth, Broscius, Huitema					[Page 3]


Switch processing time is the period that starts when a stimulus occurs 
at the switch and ends when the switch places the last bit of the 
message in the output signaling link controller buffer. The period 
between the switch placing the message in the output signaling link 
controller buffer and the switch transmitting the last bit of the 
message on the outgoing signaling link is defined as the link output 
delay. Link output delay can be further divided into the queuing delay 
and message emission time. There are separate delay requirements for 
switch processing time and link output delay; however, for simplicity 
only the combined delay requirements for switch response time, as given 
in Table 3, will be listed in this Internet Draft.


     Table 3: Switch Response Time Assuming Typical Traffic Mix and
      Message Lengths (Source: Telcordia GR-1364-CORE, Table 5-1)

Type of Call Segment	 Switch Response Time (ms)
	  		  Mean		   95%
ISUP Message		205-218		<=337-349
Alerting		400		<=532
ISDN Access Message	220-227		<=352-359
TCAP Message		210-222		<=342-354
Announcement/Tone	300		<=432
Connection		300		<=432


Telcordia GR-1364 specifies switch response time using ôswitch call 
segmentsö as a convenient way to refer to the various phases of call 
processing that switches are involved in. (An alternative would be 
proposing switch processing requirements for every possible type of 
switch processing. Obviously, this would become burdensome and would 
necessitate adding to the requirements every time an additional type of 
switch processing was required.) Listed in Table 3 are:

1. ISUP message call segments that involve the switch sending an ISUP 
   message as a result of a stimulus.
2. Alerting call segments that involve the switch alerting the 
   originating and/or terminating lines as a result of a stimulus.
3. ISDN access message call segments that involve the switch sending an 
   ISDN access message (other than an ISDN access ALERT message) as a 
   result of stimulus. ISDN access message call segment processing  
   occurs at originating or terminating switches where the originating 
   or terminating line, respectively, is an ISDN line.
4. TCAP message call segments that involve the switch sending a TCAP
   message as a result of a stimulus.
5. Announcement/tone call segments that involve the switch playing an
   announcement, placing a tone on, or removing a tone from the 
   originating or terminating line as a result of a stimulus. However,
   the announcement/tone call segments do not include dial-tone delay,
   of which the delay requirements can be found in Telcordia
   TR-TSY-000511[6].
6. Connection call segments involve the switch connecting one or more
   users as a result of a stimulus.

The ITU-TÆs cross-switch timing requirements are listed below as 



Lin, Seth, Broscius, Huitema					[Page 4]


references. It is noted that the ITU-TÆs requirements are noticeably 
stringent that those of Telcordia under the normal loading. However, 
since the ITU-TÆs values are stated as ôprovisionalö and they do not 
provide the timing requirements for ISDN, TelcordiaÆs values will be 
used to derive the call setup delay requirements.


               Table 4: ITU-T Cross-Switch Transfer Time
             (Source: ITU-T Recommendation Q.725, Table 3)
		   Exchange call 		Cross-Switch Transfer
		    				      Time (ms)*	
  Message typ 	   attempt loading		Mean		95%

  Simple 	   Normal			110		220
  (e.g. answer)	   +15% 			165		330
	 	   +30%				275		550

  Processing 	   Normal 			180		360
  intensive	   +15% 			270		540
  (e.g. IAM)	   +30%				450		900

* Provisional values.			



4. Cross-STP Delay

Message delay through an STP is specified as the cross-STP delay. It is 
the interval that begins when the STP receives the last bit of a message 
from the incoming signaling link, and ends when the STP transmits the 
last bit of the message on the outgoing signaling link. As with the 
switch response time discussed in the previous section, the cross-STP 
can be divided into processor handling time and link output delay. This 
Internet Draft adopts the cross-STP delay requirements specified in ITU-
T Q.706 Recommendation.


               Table 5: Message transfer time at an STP 
             (Source: ITU-T Recommendation Q.706, Table 5)

	       Message transfer Time (ms)
STP signaling traffic load	        Mean		95%
	
  Normal			         20		 40
  +15%	         			 40		 80
  +30%	       				100		200



5. Maximum End-to-End Signaling Delays

Using the HSRC, switch response times, and cross-STP delays, one can 
compute the maximum signaling transfer delays for ISUP messages under 
normal load. As with Telcordia GR-1364, it is assumed that the 
distribution of switch response time for each call segment is 
approximately a normal distribution. It is further assumed that switch 
response times of different switches are independent. Under these 
assumptions, the end-to-end (from originating switch to terminating 


Lin, Seth, Broscius, Huitema					[Page 5]


switch) delays for each national component and for international calls 
are listed in Tables 6 and 7, respectively. The 20 ms cross-STP delay is 
assumed in all cases. It should be noted that all these values must be 
increased by the transmission propagation delays, which are listed in 
Table 8.


Table 6: Maximum ISUP Signal Transfer Delays for Each National Component

  Country size	 	Percent of	             Delay (ms)
			connections 	       Mean               95%

  Large-size		   50%		      675-714	      <=904-941 
			   95%		      900-952	      <=1164-1214

  Average-size		   50%		      450-476	      <=637-661
	 		   95%		      675-714	      <=904-941


 Table 7: Maximum ISUP Signal Transfer Delays for International Calls

  Country size	 	Percent of	             Delay (ms)
			connections 	       Mean               95%

  Large-size to		   50%		    2025-2142	      <=2421-2538
  Large-size		   95%		    2495-2638	      <=2933-3076

  Large-size to		   50%		    2250-2380	      <=2677-2797
  Average-size	 	   95%		    2720-2876	      <=3177-3333

  Average-size to	   50%		    2475-2618	      <=2913-3056
  Average-size	 	   95%		    2965-3134	      <=3441-3610


  Table 8: Calculated Terrestrial Transmission Delays for Various Call 
        Distances (Source: ITU-T Recommendation Q.706, Table 1)

 Arc length	        Delay terrestrial (ms)
   (km)		 Wire		Fibre		Radio
    500		  2.4		  2.5		 1.7
   1000		  4.8		  5.0		 3.3
   2000		  9.6	 	 10.0		 6.6
   5000		 24.0		 25.0		16.5
  10000		 48.0		 50.0		33.0
  15000		 72.0	 	 75.0		49.5
  17737		 85.1		 88.7		58.5
  20000		 96.0		100.0		66.0
  25000		120.0		125.0		82.5



6. Basic Call Flow and Call Setup Delays

The following figure illustrates the simplest call flow for call setup 
in an ISDN-SS7 environment. The end user terminals are assumed to be 
ISDN phones and use Q.931 messages (i.e., Setup and Alerting). The 
switches use ISUP messages to establish inter-switch trunks for the 
subsequent voice communication.


Lin, Seth, Broscius, Huitema					[Page 6]


               Figure 1: Simple Call Setup Signaling Flow

     Caller	     Originating		   Terminating	     Called
    Terminal  	       Switch			     Switch	   Terminal
	|	 	  |				|		|
	|	Setup	  |				|		|
	|---------------->|				|		|
	|		  |   IAM		 IAM	|		|
	|		  |---------> . . . . --------->|		|
	|		  |				|     Setup	|
	|		  |				|-------------->|
	|		  |				|		|
	|		  |				|   Alerting    |
	|		  |				|<--------------|
	|		  |   ACM		  ACM   |		|
	|		  |<--------- . . . . <---------|		|
	|	Alerting  |				|		|
	|<----------------|				|		|
	|		  |				|		|
	|		  |				|		|


Using the above call flow, the end-to-end message transfer delays in 
Tables 6 and 7, and the switch response times for Q.931 messages in 
Table 3, one can derive the call setup times given in the following 
tables. Again, all these values must be increased by the transmission 
propagation delays listed in Table 8.


        Table 9: Call Setup Delays for Each National Component

  Country size 		Percent of	       Call Setup Delay (ms)
			connections 	       Mean              95%

  Large-size		   50%		     2590-2682	     <=3007-3099
			   95%		     3040-3158	     <=3497-3615
	
  Average-size		   50%		     2140-2206	     <=2513-2579
	 		   95%		     2590-2682       <=3007-3099


          Table 10: Call Setup Delays for International Calls

  Country size 		Percent of	             Delay (ms)
			connections 	       Mean              95%

  Large-size to		   50%		     5290-5538	     <=5909-6157
  Large-size		   95%		     6230-6530	     <=6903-7203

  Large-size to		   50%		     5740-6014	     <=6387-6661
  Average-size		   95%		     6680-7006	     <=7378-7704

  Average-size to	   50%		     6190-6490	     <=6863-7163
  Average-size		   95%		     7170-7522	     <=7893-8245





Lin, Seth, Broscius, Huitema					[Page 7]




8. User Expectations


The requirements derived in the previous section should be interpreted 
as the worst-case requirements. At least in the United States, users of 
SCN typically experience far less setup delays than the derived delay 
requirements. With the maturing of Common Channel Signaling (CCS) 
Network, call setup time has been reduced to a mere one to two seconds 
[1]. The VoIP networks are expected to achieve the same level of delay 

There is no known study on expected setup delays for international 
calls. As discussed, a HSRC for international working consists of an 
international component and two national components, and the maximum 
number of signaling points and STPs in a national component is roughly 
the same as the number in an international component (Tables 1 and 2). 
As a consequence, the end-to-end ISUP delays in an international call 
are roughly three times of those in a national call. On the other hand, 
the Q.931 signals occur only at the two ends for both national and 
international calls. Based on these observations, one may expect 2.5-5 
second call setup delays to be reasonable for international calls.		



Acknowledgements

The authors would like to express their gratitude to Dr. Daniel Luan of 
AT&T Labs for his insight into network operation and valuable 
suggestions for calculating end-to-end signaling delays as well as call 
setup delays.



References

[1] AT&T Webpage, 
    www.att.com/technology/technologists/fellows/lawser.html.

[2] ITU-T Recommendation Q.709, Specifications of Signaling System No.
    7--Hypothetical Signaling Reference Connection, March 1993.

[3] Telcordia Technologies Generic Requirements GR-1364-CORE, Issue 1,
    LSSGR: Switch Processing Time Generic Requirements Section 5.6, June
    1995.

[4] ITU-T Recommendation Q.706, Specifications of Signaling System No.
    7ùMessage Transfer Part Signaling Performance, March 1993.

[5] ITU-T Recommendation Q.706, Specifications of Signaling System No.
    7ùSignaling performance in the Telephone Application, March 1993.

[6] Telcordia Technologies TR-TSY-000511, LSSGR: Service Standards,
    Section 11, Issue 2, July 1987.


Authors' addresses


Lin, Seth, Broscius, Huitema					[Page 8]


        Huai-An Lin
        Telcordia Technologies
        445 South Street, MCC-1A216R
        Morristown, NJ 07960-6438
        Phone: 973 829-2412
        Email: hlin@research.telcordia.com

  	Taruni Seth
  	Telcordia Technologies 
	445 South Street, MCC-1G209R
        Morristown, NJ 07960-6438        Phone: 973 829-4046
        Email: taruni@research.telcordia.com

        Albert Broscius
 	Telcordia Technologies 
        445 South Street, MCC-1A264B
        Morristown, NJ 07960-6438
        Phone: 973 829-4781
  	Email: broscius@research.telcordia.com

        Christian Huitema
 	Telcordia Technologies 
        445 South Street, MCC-1J244B
        Morristown, NJ 07960-6438
        Phone: 973 829-4266
        Email: huitema@research.telcordia.com
































Lin, Seth, Broscius, Huitema					[Page 9]
