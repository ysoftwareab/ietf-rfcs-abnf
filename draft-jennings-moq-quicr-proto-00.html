<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>QuicR - Media Delivery Protocol over QUIC</title>
<meta content="Cullen Jennings" name="author">
<meta content="Suhas Nandakumar" name="author">
<meta content="
       Recently new usecases have emerged requiring higher scalability of
delivery for interactive realtime applications and much lower latency for streaming applications and a combination thereof.
draft-jennings-moq-quicr-arch specifies architectural aspects of
QuicR, a media delivery protocol based on publish/subscribe metaphor and Relay based delivery tree, that enables a wide range
of realtime applications with different resiliency and latency needs. 
       This specification defines the protocol aspects of the QuicR architecture. 
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="realtime" name="keyword">
<meta content="quicr" name="keyword">
<meta content="draft-jennings-moq-quicr-proto-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-jennings-moq-quicr-proto-tjfajl5c.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">quicr</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Jennings &amp; Nandakumar</td>
<td class="center">Expires 5 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-jennings-moq-quicr-proto-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-04" class="published">4 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-05">5 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Jennings</div>
<div class="org">cisco</div>
</div>
<div class="author">
      <div class="author-name">S. Nandakumar</div>
<div class="org">Cisco</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">QuicR - Media Delivery Protocol over QUIC</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Recently new usecases have emerged requiring higher scalability of
delivery for interactive realtime applications and much lower latency for streaming applications and a combination thereof.
draft-jennings-moq-quicr-arch specifies architectural aspects of
QuicR, a media delivery protocol based on publish/subscribe metaphor and Relay based delivery tree, that enables a wide range
of realtime applications with different resiliency and latency needs.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This specification defines the protocol aspects of the QuicR architecture.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-3">
<a href="#name-status-of-this-memo-3" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-3">
<a href="#name-copyright-notice-3" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-3">
<a href="#name-table-of-contents-3" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-2" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-contributing" class="xref">Contributing</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-terminology-2" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-quicr-protocol" class="xref">QuicR Protocol</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-publish-api-and-publish-mes" class="xref">Publish API and PUBLISH  Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-subscribe-api-and-subscribe" class="xref">Subscribe API and SUBSCRIBE Message</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-aggregating-subscriptions" class="xref">Aggregating Subscriptions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-wildcarded-names" class="xref">Wildcarded Names</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-publish_intent-and-publish_" class="xref">PUBLISH_INTENT and PUBLISH_INTENT_OK Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-subscribe_reply-message" class="xref">SUBSCRIBE_REPLY Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-subscribe_cancel-message" class="xref">SUBSCRIBE_CANCEL Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-relay_redirect-message" class="xref">RELAY_REDIRECT Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="xref">4.7</a>.  <a href="#name-fragmentation-and-reassembl" class="xref">Fragmentation and Reassembly</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-relay-function-and-relays" class="xref">Relay Function and Relays</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-relay-fail-over" class="xref">Relay fail over</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-relay-discovery" class="xref">Relay Discovery</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-quicr-manifest" class="xref">QuicR Manifest</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-quic-mapping" class="xref">QUIC Mapping</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-streams-vs-datagrams" class="xref">Streams vs Datagrams</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-quicr-usages" class="xref">QuicR Usages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-real-time-conferencing-appl" class="xref">Real-time Conferencing Application</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.1">
                    <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="xref">8.1.1</a>.  <a href="#name-naming" class="xref">Naming</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.2">
                    <p id="section-toc.1-1.8.2.1.2.2.1"><a href="#section-8.1.2" class="xref">8.1.2</a>.  <a href="#name-manifest" class="xref">Manifest</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.3">
                    <p id="section-toc.1-1.8.2.1.2.3.1"><a href="#section-8.1.3" class="xref">8.1.3</a>.  <a href="#name-example" class="xref">Example</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-push-to-talk-media-delivery" class="xref">Push To Talk Media Delivery Application</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.1">
                    <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="xref">8.2.1</a>.  <a href="#name-naming-2" class="xref">Naming</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.2">
                    <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="xref">8.2.2</a>.  <a href="#name-manifest-2" class="xref">Manifest</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-low-latency-streaming-appli" class="xref">Low Latency Streaming Applications</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3.2.1">
                    <p id="section-toc.1-1.8.2.3.2.1.1"><a href="#section-8.3.1" class="xref">8.3.1</a>.  <a href="#name-naming-and-manifest-conside" class="xref">Naming and Manifest Considerations</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security" class="xref">Security</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-todo" class="xref">TODO</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-acknowledgments-3" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses-2" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction-2">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-2" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Recently new usecases have emerged requiring higher scalability of
delivery for interactive realtime applications and much lower latency
for streaming applications and a combination thereof. On one side are
use cases such as normal web conferences wanting to distribute out to
millions of viewers and allow viewers to instantly move to
being a presenter. On the other side are usescases such as streaming a
soccer game to millions of people including people in the stadium
watching the game live. Viewers watching an e-sports event want to be
able to comment with low latency to ensure the interactivity aspects
between what different viewers are seeing. All of these usescases
push towards latencies that are in the order of 100ms over the
natural latency the network causes.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The architecture for this specification is outlined in
draft-jennings-moq-quicr-arch, where the principal idea is
that the Client endpoints publish and subscribe to named objects that
is sent to, and received from, relays that forms an overlay
delivery network similar to what CDN provides today.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The architecture specification, draft-jennings-moq-quicr-arch, is a
prequisite to read this specification.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This specification defines the protocol specifics of the
QuicR Architecture.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contributing">
<section id="section-2">
      <h2 id="name-contributing">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-contributing" class="section-name selfRef">Contributing</a>
      </h2>
<p id="section-2-1">All significant discussion of development of this protocol is in the
GitHub issue tracker at: <code>
https://github.com/fluffy/draft-jennings-moq-proto</code><a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-3">
      <h2 id="name-terminology-2">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology-2" class="section-name selfRef">Terminology</a>
      </h2>
<ul class="normal">
<li class="normal" id="section-3-1.1">
          <p id="section-3-1.1.1">Relay Function: Functionality of the QuicR architecture, that
implements store and forward behavior at the minimum. Such a function
typically receives subscriptions and publishes data to the other
endpoints that have subscribed to the named data. Such functions may
cache the data as well for optimizing the delivery experience.<a href="#section-3-1.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-1.2">
          <p id="section-3-1.2.1">Relay: Server component (physical/logical) in the cloud that
implements the Relay Function.<a href="#section-3-1.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-1.3">
          <p id="section-3-1.3.1">Publisher: An endpoint that sends named objects to a
Relay. [ also referred to as producer of the named object]<a href="#section-3-1.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-1.4">
          <p id="section-3-1.4.1">Subscriber: An endpoint that subscribes and receives the named
objects. Relays can act as subscribers to other relays. Subscribers
can also be referred to as consumers.<a href="#section-3-1.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-1.5">
          <p id="section-3-1.5.1">Client/QuicR Client: An endpoint that acts as a Publisher, Subscriber,
or both. May also implement a Relay Function in certain contexts.<a href="#section-3-1.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-1.6">
          <p id="section-3-1.6.1">Named Object: Application level chunk of Data that has a unique Name,
a limited lifetime, priority and is transported via this protocol.<a href="#section-3-1.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-1.7">
          <p id="section-3-1.7.1">Origin server: Component managing the QuicR namespace for a specific
application and is responsible for establishing trust between clients
and relays. Origin servers can implement other QuicR functions.<a href="#section-3-1.7.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="quicr-protocol">
<section id="section-4">
      <h2 id="name-quicr-protocol">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-quicr-protocol" class="section-name selfRef">QuicR Protocol</a>
      </h2>
<div id="publish-api-and-publish-message">
<section id="section-4.1">
        <h3 id="name-publish-api-and-publish-mes">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-publish-api-and-publish-mes" class="section-name selfRef">Publish API and PUBLISH  Message</a>
        </h3>
<p id="section-4.1-1">Entities the want to send named objects will use Publish API to
trigger <code>PUBLISH</code> messages from a QuicR client to the Origin server
(via Relay(s) if present). The publish message identifies active flow
of named objects, such a data can be originating from a given QuicR
endpoint client or a might be relayed by other entities. In the latter
case, the relaying entity MUST NOT change the name associated with
the object being published unless the intermediary is a publisher.
All the publishes MUST be authorized by the Origin server for<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">In general, the Publish API specifies following thing about
the named objects being published.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-3">
<pre>  NAME           (String)
  RELIABLE       (Boolean)
  PRIORITY       (Enumeration)
  BESTBEFORE     (Number)
  TIMESTAMP      (Number)
  DISCARDABLE    (Boolean)
  Payload        (Bytes)
</pre><a href="#section-4.1-3" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-4.1-4.1">
            <p id="section-4.1-4.1.1">NAME: Every <code>PUBLISH</code> message MUST have a name to identify the
object to the QuicR components (relays/origin-server/other clients).<a href="#section-4.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-4.2">
            <p id="section-4.1-4.2.1">PAYLOAD: End-to-End encrypted application data associated with
the named object to be published (e.g audio sample, video frame,
game move), which are typically timestamped buffers of application data.<a href="#section-4.1-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-4.3">
            <p id="section-4.1-4.3.1">RELIABLE: Boolean flag to indicate the if QuicR should use
QUIC Streams (true value) or QUIC datagrams (false value).<a href="#section-4.1-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-4.4">
            <p id="section-4.1-4.4.1">BESTBEFORE:  Time to live defines the time after which the named
object can be discarded from the caches.<a href="#section-4.1-4.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-4.5">
            <p id="section-4.1-4.5.1">PRIORITY: Enumeration specifying relative priority of named objects
being published by this end-point. This can help Relay to make
dropping/caching decisions.<a href="#section-4.1-4.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-4.6">
            <p id="section-4.1-4.6.1">DISCARDABLE: Provides an hint to the relays for making drop decisions.<a href="#section-4.1-4.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-5">The QuicR <code>PUBLISH</code> message(s) are represented as below and
are encapsulated in QUIC packets.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6"><code>A&gt; All the integer fields are variable length encoded</code><a href="#section-4.1-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-7">
<pre>PUBLISH {
  ORIGIN            (String)
  NAME              (Number128)
  FLAGS             (Byte)
  FRAGMENT_ID       (Number16)
  BESTBEFORE        (Number64)
  TIMESTAMP         (Number64)
  PAYLOAD           (ByteArray)
}

Flags := Reserved (4) | IsDiscardable (1) | Priority (3)
</pre><a href="#section-4.1-7" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="subscribe-api-and-subscribe-message">
<section id="section-4.2">
        <h3 id="name-subscribe-api-and-subscribe">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-subscribe-api-and-subscribe" class="section-name selfRef">Subscribe API and SUBSCRIBE Message</a>
        </h3>
<p id="section-4.2-1">Entities that intend to receive named objects will do so via
subscriptions to the named objects. The Subscribe API triggers
sending <code>SUBSCRIBE</code> messages. Subscriptions are sent from
the QuicR clients to the origin server(s) (via relays, if present)
and are typically processed by the relays. See {#relay_behavior}
for further details. All the subscriptions MUST be authorized.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Subscriptions are typically long-lived transactions and they stay
active until one of the following happens<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-3.1">a client local policy dictates expiration of a subscription.<a href="#section-4.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-3.2">optionally, a server policy dicates subscription expiration.<a href="#section-4.2-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-3.3">the underlying transport is disconnected.<a href="#section-4.2-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.2-4">When an explicit indication is preferred to indicate the expiry of
subscription, it is indicated via <code>SUBSCRIPTION_EXPIRY</code> message.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">Until the subscription is active for a given name, the Relay(s)
should send named objects it receives to all the matching subscribers.
The Relays may optionally cache the objects.
A QuicR client can renew its subscriptions at any point by sending a
new <code>SUBSCRIBE</code> message to the Origin server. Such subscriptions
MUST refresh the existing subscriptions for that name. A renewal
period of 5 seconds is RECOMMENDED.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2-6">
<pre>SUBSCRIBE {
  ORIGIN             (String)
  SUBSCRIPTION_ID    (Number64)
  NAMES              [NAME]
  INTENT             [Enumeration]
}

NAME {
 name               (Number128)
 mask               (Number7)
}

</pre><a href="#section-4.2-6" class="pilcrow">¶</a>
</div>
<p id="section-4.2-7">The <code>ORIGIN</code> field identifies the Origin server for which this
subscription is targeted. <code>SUBSCRIPTION_ID</code> is a randomly chosen
to identify the subscription by a given client and is
local to the client's session. <code>NAMES</code> identify the fully formed
names or wildcarded names along with the appropriate bitmask length.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
<p id="section-4.2-8">The <code>INTENT</code> field specifies how the Relay should provide the
named objects to the client. Following options are defined for
the <code>INTENT</code><a href="#section-4.2-8" class="pilcrow">¶</a></p>
<p id="section-4.2-9">IMMEDIATE: Deliver any new objects it receives that match the name<a href="#section-4.2-9" class="pilcrow">¶</a></p>
<p id="section-4.2-10">CATHCH_UP: Deliver any new objects it receives and in addition send any previous
objects it has received that are in the same group that matches the name.<a href="#section-4.2-10" class="pilcrow">¶</a></p>
<p id="section-4.2-11">WAIT_UP: Wait until an object that has a objectId that matches the name is
received then start sending any objects that match the name.<a href="#section-4.2-11" class="pilcrow">¶</a></p>
<p id="section-4.2-12">MOST_RECENT: Deliver any new objects it receives and in addition send
the most recent object it has received that is in the same group that
matches the name.<a href="#section-4.2-12" class="pilcrow">¶</a></p>
<div id="aggregating-subscriptions">
<section id="section-4.2.1">
          <h4 id="name-aggregating-subscriptions">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-aggregating-subscriptions" class="section-name selfRef">Aggregating Subscriptions</a>
          </h4>
<p id="section-4.2.1-1">Subscriptions are aggregated at entities that perform Relay Function.
Aggregating subscriptions helps reduce the number of subscriptions
for a given named objects in transit and also enables efficient
disrtibution of published media with minimal copies between the
client and the Origin server , as well as reduce the latencies when
there are multiple subscribers for a given named object behind a
common set of cloud server.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="wildcarded-names">
<section id="section-4.2.2">
          <h4 id="name-wildcarded-names">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-wildcarded-names" class="section-name selfRef">Wildcarded Names</a>
          </h4>
<p id="section-4.2.2-1">The names used in <code>SUBSCRIBE</code> can be truncated by skipping the right
most segments of the name that is application specific, in which case it
will act as a wildcard subscription to all names that match the provided
part of the name. The same is indicated via bitmask associated
with the name in <code>SUBSRIBE</code> messages. Wildcard search on Relay(s) thus
turns into a bitmask at the appropriate bit location of the hashed name.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">For example, in an web conferencing use case, the client
may subscribe to just the origin and meetingID to get all the media for a
particular conference.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="publish-intent-and-publish-intent-ok-message">
<section id="section-4.3">
        <h3 id="name-publish_intent-and-publish_">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-publish_intent-and-publish_" class="section-name selfRef">PUBLISH_INTENT and PUBLISH_INTENT_OK Message</a>
        </h3>
<p id="section-4.3-1">The <code>PUBLISH_INTENT</code> message indicates the names chosen by a Publisher
for transmitting named objects within a session. This message is sent to
the Origin Server whenever a given publisher intends to publish on
a new name (which can be at the beginning of the session or during mid session).
This message is authorized by the Origin server and thus requires a mechanism
to setup the initial trust (via out of band) between the publisher and
the origin server.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">A <code>PUBLISH_INTENT</code> message is represented as below:<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-3">
<pre> PUBLISH_INTENT {
  ORIGIN         (String)
  PUBLISHER_ID   (Number64)
  NAMES          [Number64]
 }
</pre><a href="#section-4.3-3" class="pilcrow">¶</a>
</div>
<p id="section-4.3-4">The <code>ORIGIN</code> field is used by the cloud Relays to choose the Origin
 server to forward the <code>PUBLISH_INTENT</code> message.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">On a successful validation at the Origin server, a
 <code>PUBLISH_INTENT_OK</code> message is returned by the Origin server.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-6">
<pre> PUBLISH_INTENT_OK {
  PUBLISHER_ID   (Number64)
  NAMES          [Number64]
 }
</pre><a href="#section-4.3-6" class="pilcrow">¶</a>
</div>
<p id="section-4.3-7">This message enables cloud relays to know the authorized names from a
 given Publisher. This helps to make caching decisions, dealing with collisions
 and so on.<a href="#section-4.3-7" class="pilcrow">¶</a></p>
<p id="section-4.3-8">A cloud relay may start caching the data associated with the names that has
 not been validated yet by the origin server and decide to flush its cache
 if no PUBLISH<em>INTENT</em>OK is received within a given implementation defined
 timeout. This is an optimization that would allow publishers to start
 transmitting the data without needing to wait a RTT.<a href="#section-4.3-8" class="pilcrow">¶</a></p>
<p id="section-4.3-9">Names chosen by the publishers MUST be unique with in a given session
 to avoid collisions. It is up to the application to define the necessary rules to
 ensure the uniqueness constraint. Cloud entities like Relays are agnostic
 to these rules and handle collisions by either overriding or dropping
 the associated data.<a href="#section-4.3-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="subscribe-reply-message">
<section id="section-4.4">
        <h3 id="name-subscribe_reply-message">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-subscribe_reply-message" class="section-name selfRef">SUBSCRIBE_REPLY Message</a>
        </h3>
<p id="section-4.4-1">A <code>SUBSCRIBE_REPLY</code> provides result of the subscriptions. It lists the
names that were successful in subscriptions and ones that failed to do so.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4-2">
<pre>SUBSCRIBE_REPLY
{
    SUBSCRIPTION_ID     (Number64)
    NAMES_SUCCESS       [Number128]
    NAMES_FAIL          [Number128]
}
</pre><a href="#section-4.4-2" class="pilcrow">¶</a>
</div>
<p id="section-4.4-3">Field SUBSCRIPTION_ID MUST match the equivalent field in
the <code>SUBSCRIBE</code> message to which this reply applies.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="subscribe-cancel-message">
<section id="section-4.5">
        <h3 id="name-subscribe_cancel-message">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-subscribe_cancel-message" class="section-name selfRef">SUBSCRIBE_CANCEL Message</a>
        </h3>
<p id="section-4.5-1">A <code>SUBSCRIBE_CANCEL</code> message indicates a given subscription is no
longer valid. This message is an optional message and is sent to indicate
the peer about discontinued interest in a given named data.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.5-2">
<pre>SUBSCRIBE_CANCEL
{
    SUBSCRIPTION_ID (Number64)
    Reason       (Optional String)
}
</pre><a href="#section-4.5-2" class="pilcrow">¶</a>
</div>
<p id="section-4.5-3">Field SUBSCRIPTION<em>ID MUST match the equivalent field in
the <code>SUBSCRIBE</code> message to which this reply applies.
The Reason is an optional string provided for application
consumption. <code>SUBSCRIBE_CANCEL</code> message implies canceling
of all the subscriptions for the given SUBSCRIPTION</em>ID.<a href="#section-4.5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="relay-redirect-message">
<section id="section-4.6">
        <h3 id="name-relay_redirect-message">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-relay_redirect-message" class="section-name selfRef">RELAY_REDIRECT Message</a>
        </h3>
<p id="section-4.6-1"><code>RELAY_REDIRECT</code> message enables relay failover scenarios
that is sent in response to <code>PUBLISH</code>, <code>PUBLISH_INTENT</code>
and <code>SUBSCRIBE</code> messages indicating the new relay
to the clients.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.6-2">
<pre>RELAY_REDIRECT
{
  RELAY_ADDRESS  (String)
}
</pre><a href="#section-4.6-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="fragmentation-and-reassembly">
<section id="section-4.7">
        <h3 id="name-fragmentation-and-reassembl">
<a href="#section-4.7" class="section-number selfRef">4.7. </a><a href="#name-fragmentation-and-reassembl" class="section-name selfRef">Fragmentation and Reassembly</a>
        </h3>
<p id="section-4.7-1">Application data may need to be fragmented to fit the underlying transport
packet size requirements. QuicR protocol is responsbile for performing necessary
fragmentation and reassembly. Each fragment needs to be small enough to
send in a single QUIC packet. The low order bit is also a Last
Fragment Flag to know the number of Fragments. The upper bits are used
as a fragment counter with the first fragment starting at 1.
The <code>FRAGMENT_ID</code> with in the <code>PUBLISH</code> message identifies the individual
fragments.<a href="#section-4.7-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="relay_behavior">
<section id="section-5">
      <h2 id="name-relay-function-and-relays">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-relay-function-and-relays" class="section-name selfRef">Relay Function and Relays</a>
      </h2>
<p id="section-5-1">Clients may be configured to connect to a local relay which then does a
Publish/Subscribe for the appropriate named data towards the origin  or
towards another Relay. These relays can aggregate the subscriptions from
multiple clients. This allows a relay in the LAN to aggregate request from
multiple clients in subscription to the same data such that only one copy of
the data flows across the WAN. In the case where there is only one client,
this may still provides benefit in that a client that is experiencing loss
on WIFI WAN has a very short RTT to the local relay so can recover the lost
data much faster, and with less impact on end user QoE, than having to go
across the LAN to recover the data.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Relays can also be deployed in classic CDN cache style for large scale
streaming applications yet still provide much lower latency than traditional
CDNs using Dash or HLS. Moving these relays into the 5G network close to
clients may provide additional increase in QoE.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">At a high level, Relay Function within QuicR architecture support store and
forward behavior. Relay function can be realized in any component of the
QuicR architecture depending on the application. Typical use-cases might
require the intermediate servers (caches) and the origin server to implement
the relay function. However the endpoint themselves can implement the Relay
function in a Isomorphic deployment, if needed.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">Non normatively, the Relay function is responsible carryout the following
actions to enable the QuicR protocol:<a href="#section-5-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-5">
<li id="section-5-5.1">
          <p id="section-5-5.1.1">On reception of <code>SUBSCRIBE</code> message, forward the message to the
Origin server, and on the receipt of  <code>SUBSCRIBE_REPLY</code>, store the
subscriber info against the names in the NAMES_SUCCESS field of the
<code>SUBSCRIBE_REPLY</code> message. If an entry for the name exists already, add the
new subscriber to the list of Subscibers. [ See Subscribe Aggregations].<a href="#section-5-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-5-5.2">
          <p id="section-5-5.2.1">If there exists a matching named object for a subscription in the cache,
forward the data to the subscriber(s) based on the subscribe INTENT.<a href="#section-5-5.2.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-5-5.3">
          <p id="section-5-5.3.1">On reception of <code>PUBLISH_INTENT</code> message, forward the
message to the Origin server, and on the receipt of
<code>PUBLISH_INTENT_OK</code>, store the names as authorized against a
given publisher.<a href="#section-5-5.3.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-5-5.4">
          <p id="section-5-5.4.1">If a named object arrives at the relay via <code>PUBLISH</code> message ,
cache the name and the associated data, also distribute the same to
all the active subscribers, if any, matching the given name.<a href="#section-5-5.4.1" class="pilcrow">¶</a></p>
</li>
      </ol>
<p id="section-5-6">The payload associated with a given <code>PUBLISH</code> message MUST not be
cached longer than the <strong>BESTBEFORE</strong> time specified. Also to note, the
local policies dicatated by the caching service provider can always
overwrite the caching duration for the published data.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">Relays MUST NOT modify the either the <code>Name</code> or the contents of
<code>PUBLISH/SUBSCRIBE</code> messags expect for performing the necessary
forwarding and caching operations as described above.<a href="#section-5-7" class="pilcrow">¶</a></p>
<div id="relay-fail-over">
<section id="section-5.1">
        <h3 id="name-relay-fail-over">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-relay-fail-over" class="section-name selfRef">Relay fail over</a>
        </h3>
<p id="section-5.1-1">A relay that wants to shutdown and use the redirect message to move traffic
to a new relay. If a relay has failed and restarted or been load balanced
to a different relay, the client will need to resubscribe to the new relay
after setting up the connection.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">TODO: Cluster so high reliable relays should share subscription info and
publication to minimize of loss of data during a full over.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="relay-discovery">
<section id="section-5.2">
        <h3 id="name-relay-discovery">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-relay-discovery" class="section-name selfRef">Relay Discovery</a>
        </h3>
<p id="section-5.2-1">Local relays can be discovered via MDNS query to TODO. Cloud relays
are discovered via application defined ways that is out of scope
of this document. A Relay can send a message to client with the
address of new relay. Client moves to the new relay with all of its
Subscriptions and then Client unsubscribes from old relay and closes
connection to it.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">This allows for make before break transfer from one relay to another
so that no data is lost during transition. One of the uses of this
is upgrade of the Relay software during operation.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="quicr-manifest">
<section id="section-6">
      <h2 id="name-quicr-manifest">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-quicr-manifest" class="section-name selfRef">QuicR Manifest</a>
      </h2>
<p id="section-6-1">Names can be optionally discovered via manifests. In such cases, the
role of the manifest is to identify the names as well as aspects
pertaining to the associated data in a given usage context of the
application.<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-2.1">
          <p id="section-6-2.1.1">Typically a manifest identifies the domain and application aspects for
the set of names that can be published.<a href="#section-6-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.2">
          <p id="section-6-2.2.1">The content of Manifest is application defined and end-to-end
encrypted.<a href="#section-6-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.3">
          <p id="section-6-2.3.1">The manifest is owned by the application's origin server and are
accessed as a protected resources by the authorized QuicR clients.<a href="#section-6-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.4">
          <p id="section-6-2.4.1">The QuicR protocol treats Manifests as a named object, thus allowing
for clients to subscribe for the purposes of bootstrapping into the
session as well as to follow manifest changes during a session
[ new members joining a conference for example].<a href="#section-6-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.5">
          <p id="section-6-2.5.1">The manifest has well known name on the Origin server.<a href="#section-6-2.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-6-3">Also to note, a given application might provide non QuicR mechanisms to
retrieve the manifest.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">Below is a sample manifest for streaming application where a media
presentation server describes media streams available for
distribution. For downstream distribution of media data to clients
with varying requirements, the central server (along with the source)
generate different quality media representations. Each such quality is
represented with a unique name and subscribers are made know of
the same via the Manifest.<a href="#section-6-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-5">
<pre>{
  "liveSessionID" : "jon.doe.music.live.tv",
  "streams: [
      {
      "id": "1234",
      "codec": "av1",
      "quality": "1280x720_30fps",
      "bitrate": "1200kbps",
      "crypto": "aes128-gcm",
      },
      {
      "id": "5678",
      "codec": "av1",
      "quality": "3840x2160_30fps",
      "bitrate": "4000kbps",
      "crypto": "aes256-gcm",
      },
      {
      "id": "9999",
      "codec": "av1",
      "quality": "640x480_30fps",
      "crypto": "aes128-gcm",
      },
  ]
}

</pre><a href="#section-6-5" class="pilcrow">¶</a>
</div>
<p id="section-6-6">Given the above manifest, a subscriber who is interested in 4K stream
shall subscribe to the name<a href="#section-6-6" class="pilcrow">¶</a></p>
<p id="section-6-7"><code>quicr://jon.doe.music.live.tv/video/5678/*</code><a href="#section-6-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="quic-mapping">
<section id="section-7">
      <h2 id="name-quic-mapping">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-quic-mapping" class="section-name selfRef">QUIC Mapping</a>
      </h2>
<div id="streams-vs-datagrams">
<section id="section-7.1">
        <h3 id="name-streams-vs-datagrams">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-streams-vs-datagrams" class="section-name selfRef">Streams vs Datagrams</a>
        </h3>
<p id="section-7.1-1">Publishers of the named-data can specify the reliability gaurantees that is
expected from the QUIC transport. Setting of <code>IS_RELIABLE</code> flag to true
enables sending the application data as QUIC streams, otherwise as QUIC Datagrams.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2"><code>SUBSCRIBE</code> for manifest always happens over QUIC Stream. Each new
<code>SUBSCRIBE</code> will be sent on a new QUIC Stream.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3"><code>PUBLISH</code> messages per name are sent over their own QUIC Stream or as
QUIC DATAGRAM based on <code>IS_RELILABLE</code> setting. When using QUIC
streams, all the objects belonging to a group are sent on
the same QUIC Stream, whereas, different groups are sent in their
own QUIC Streams.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="quicr-usages">
<section id="section-8">
      <h2 id="name-quicr-usages">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-quicr-usages" class="section-name selfRef">QuicR Usages</a>
      </h2>
<div id="real-time-conferencing-application">
<section id="section-8.1">
        <h3 id="name-real-time-conferencing-appl">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-real-time-conferencing-appl" class="section-name selfRef">Real-time Conferencing Application</a>
        </h3>
<p id="section-8.1-1">This subsection expands on using QuicR as the media delivery protocol for a
real-time multiparty A/V conferencing applications.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<div id="naming">
<section id="section-8.1.1">
          <h4 id="name-naming">
<a href="#section-8.1.1" class="section-number selfRef">8.1.1. </a><a href="#name-naming" class="section-name selfRef">Naming</a>
          </h4>
<p id="section-8.1.1-1">Below provides one possible way to subdivide the application
component portion for a conferencing scenario.<a href="#section-8.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1.1-2.1">
              <p id="section-8.1.1-2.1.1">MeetingID: A identifier for the context of a single group session. Is unique
with in scope of Origin.<a href="#section-8.1.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-8.1.1-2.2">
              <p id="section-8.1.1-2.2.1">SenderID: Identifies a single endpoint client within the MeetingID that
publishes data.<a href="#section-8.1.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-8.1.1-2.3">
              <p id="section-8.1.1-2.3.1">SourceID: Identifies a stream of media or content from that Sender.
Example: A client that was sending media from a camera, a mic, and
screen share might use a different sourceID for each one. A scalable
codec with multiple layers or simulcast streams each would use a
different sourceID for each quality representation.<a href="#section-8.1.1-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-8.1.1-2.4">
              <p id="section-8.1.1-2.4.1">QualityID: Identifies media quality level - hi/low/medium<a href="#section-8.1.1-2.4.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-8.1.1-3">For A/V conference, the encoded media frames are formed into
group of objects, where each group defines an independent
decodeable object set. In case of video, each group
comprises of objects on I-Frame boundaries, for audio a group
would map to an encoded audio sample for codecs used today.<a href="#section-8.1.1-3" class="pilcrow">¶</a></p>
<p id="section-8.1.1-4">A conforming name is formatted as URLs like:<a href="#section-8.1.1-4" class="pilcrow">¶</a></p>
<p id="section-8.1.1-5"><code>quicr://domain:port/MeetingID/SenderID/SourceID/QualityID/Group/Object</code><a href="#section-8.1.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="manifest">
<section id="section-8.1.2">
          <h4 id="name-manifest">
<a href="#section-8.1.2" class="section-number selfRef">8.1.2. </a><a href="#name-manifest" class="section-name selfRef">Manifest</a>
          </h4>
<p id="section-8.1.2-1">As a prerequisite step, participants exchange their transmit and
receive capabilities like sources, qualities, media types and so on,
with application server (can be origin server). This is done
out-of-band and is not in the scope of QuicR protocol.<a href="#section-8.1.2-1" class="pilcrow">¶</a></p>
<p id="section-8.1.2-2">However, as a outcome of this step is generation of the manifest data
that describes the names, qualities and other information that aid in
carrying out media delivery with QuicR protocol. This would for example
setup unique SourceID sub-part of the application component for each media
source or quality layers or a combination thereof. Similarly the SenderID
may get mapped from a roster equivalent for the meeting.<a href="#section-8.1.2-2" class="pilcrow">¶</a></p>
<p id="section-8.1.2-3">A manifest may get updated several times during a session - either due to
capabilities updates from existing participants or new participants joinings
or so on.<a href="#section-8.1.2-3" class="pilcrow">¶</a></p>
<p id="section-8.1.2-4">Participants who wish to receive media from a given meeting in a web conference
will do so by subscribing to the meeting's manifest. The manifest will list
the name of the active publishers.<a href="#section-8.1.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example">
<section id="section-8.1.3">
          <h4 id="name-example">
<a href="#section-8.1.3" class="section-number selfRef">8.1.3. </a><a href="#name-example" class="section-name selfRef">Example</a>
          </h4>
<p id="section-8.1.3-1">Below picture depicts a simplified QuicR Publish/Subscribe protocol flow
where participants exchange audio in a 3-party realtime audio conference.<a href="#section-8.1.3-1" class="pilcrow">¶</a></p>
<div id="section-8.1.3-2">
<pre class="lang-ascii-art sourcecode">                           ┌──────────┐
                           │          │
                           ▼          │
                 ┌───────────────────┐│  sub:meeting123/*
                 │ acme.meetings.com ││
                 └─▲─────────────┬───┘│
                   │             │    │
                   │   pub:alice │    │
                   │     medi┌───▼─────────────┐
 pub:alice  ┌──────┘         │      Relay      │────┐
 ,meeting1  │                └┬────────────────┘    │
   23..     │                 │ sub:meeting123/*    │
            │        pub:alice│      ▲▲             │
            │          media  │┌─────┘└──────┐      │
            │                 ▼│             │      │
      ┌───────────┐       ┌────────┐    ┌─────────┐ │
      │   Alice   │       │  Bob   │    │  Carl   │ │   pub:alice
      └───────────┘       └────────┘    └─────────┘ │     media
                                             ▲      │
                                             │      │
                                             └──────┘%
</pre><a href="#section-8.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-8.1.3-3">In the depicted protocol flow, Alice is the publisher while Bob and Carl
are the subscribers. As part of joining into the conference, Bob and Carl
subscribe to the name <code>quicr://acme.meetings.com/meeting123/*</code>  to receive
all the media streams being published for the meeting instance <code>meeting123</code>.
Their subscriptions are sent to Origin Server via a Relay.The Relay aggregates
the subscriptions from Bob and Carl, forwarding just one subscribe message. On
Alice publishing her media stream fragments from a camera source to the
Origin server, the same is forwarded to Relay. The relay will in turn forward
the same to Bob and Carl based on their subscriptions.<a href="#section-8.1.3-3" class="pilcrow">¶</a></p>
<p id="section-8.1.3-4">Here is another scenario, where Alice has 2 media sources (mic, camera) and
is able to send 2 simulcast streams for video (corresponding to 2
quality levels) and audio encoded via 2 different
codecs, might have different sourceIDs as listed below<a href="#section-8.1.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1.3-5">
<pre>Source       --&gt; SourceID
------------------------
mic_codec_1  --&gt; audio_opus
mic_codec_2  --&gt; audio_lyra
vid_simul_1  --&gt; video_hi
vid_simul_2  --&gt; video_low

Alice's SenderID -&gt; Alice and she is joining meeting with id
meeting123

Names that Alice can publish includes:

quicr://acme.meetings.com/meeting123/Alice/audio_opus/...
quicr://acme.meetings.com/meeting123/Alice/audio_lyra/...
quicr://acme.meetings.com/meeting123/Alice/video_hi/...
quicr://acme.meetings.com/meeting123/Alice/video_low/...

</pre><a href="#section-8.1.3-5" class="pilcrow">¶</a>
</div>
<p id="section-8.1.3-6">Manifest encoded as json objects might capture the information as below.<a href="#section-8.1.3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1.3-7">
<pre>{
    "origin": "acme.meetings.com"
    "meeting": "meeting123",
    publisher {
        id: "Alice",
        source: [
            {
                "type" : "audio",
                "sourceId": "alice-mic",
                "streams": [
                    {
                        "id": "audio_opus,
                        "codec": "opus",
                        "quality": "48khz",
                    }, {
                        "id" : "audio_lyra",
                        ....
                    }
                ]
            }, {
            "type": "video",
            "sourceId": "alice-cam",
            "streams": [
                {
                    "id": "video_hi",
                    "codec:" : "av1",
                    "quality" : "1920x720_60fps"
                },
                {
                    "id": "video_lo",
                    "codec:" : "av1",
                    "quality" : "640x480_30fps"
                }
            ],
            },
        ]
    }
}

</pre><a href="#section-8.1.3-7" class="pilcrow">¶</a>
</div>
<p id="section-8.1.3-8">With the names as above, any subscriber retrieving the manifest has the
necessary information to send <code>SUBSCRIBE</code> for the named data of interest.
The same happens when the manifest is updated once the session is in progress.<a href="#section-8.1.3-8" class="pilcrow">¶</a></p>
<p id="section-8.1.3-9">A sample subscribe for lyra audio and low-res video from Alice would
have the form:<a href="#section-8.1.3-9" class="pilcrow">¶</a></p>
<p id="section-8.1.3-10"><code>quicr://meetings.com/meeting123/alice/audio/alice-mic/audio_lyra/*</code><a href="#section-8.1.3-10" class="pilcrow">¶</a></p>
<p id="section-8.1.3-11"><code>quicr://meetings.com/meeting123/alice/video/alice-cam/video_lo/*</code><a href="#section-8.1.3-11" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="push-to-talk-media-delivery-application">
<section id="section-8.2">
        <h3 id="name-push-to-talk-media-delivery">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-push-to-talk-media-delivery" class="section-name selfRef">Push To Talk Media Delivery Application</a>
        </h3>
<p id="section-8.2-1">Frontline communications application like Push To Talk have close semblances
with the publish/subscribe metaphor. In a typical setup, say a retail store,
there are mutiple channels (bakery, garden) and retail workers with PTT
communication devices access the chatter over such channels by tuning into
them. In a typical use-case, the retails workers might want to tune into one
or more channels of their interest and expect the media delivery system to
deliver the media asynchornusly as talk spurts.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">In general such a system needs the following:<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-3.1">A way for the end users to tune to their channels of interest and have
these interests be longlived transactions.<a href="#section-8.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-3.2">A way for system to efficiently distribute the media to all the tuned in
end users per channel.<a href="#section-8.2-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-3.3">A way for end user to catch up and playback when switching the channels.<a href="#section-8.2-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<div id="naming-1">
<section id="section-8.2.1">
          <h4 id="name-naming-2">
<a href="#section-8.2.1" class="section-number selfRef">8.2.1. </a><a href="#name-naming-2" class="section-name selfRef">Naming</a>
          </h4>
<p id="section-8.2.1-1">In the case of PTT, the following mappings can be one way to defined
the application subcomponents.<a href="#section-8.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.1-2.1">StoreID   - Identifier for store at various locations.<a href="#section-8.2.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.1-2.2">ChannelID - Each PTT channel represents its own high level resource<a href="#section-8.2.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.1-2.3">SenderID  - Authenticated user's Id who is actively checkedin into a
frontline workplace (ex: a store).<a href="#section-8.2.1-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-8.2.1-3">With above division of <code>Application Component</code>, a sample QuicR named
object might have following form<a href="#section-8.2.1-3" class="pilcrow">¶</a></p>
<p id="section-8.2.1-4"><code>quicr://wallmart.com/store22/ch3/alice/groupID/objectID</code><a href="#section-8.2.1-4" class="pilcrow">¶</a></p>
<p id="section-8.2.1-5">In the above example, StoreID is store22, with ChannelID being channel 3
and the media corresponds to user, alice. The group of objects in this case
map to the QuicR audio objects for audio delivery.<a href="#section-8.2.1-5" class="pilcrow">¶</a></p>
<p id="section-8.2.1-6">A <code>SUBSCRIBE</code> for all the PTT messages sent over channel 3, could
be represented as<a href="#section-8.2.1-6" class="pilcrow">¶</a></p>
<p id="section-8.2.1-7"><code>quicr://wallmart.com/store22/ch3/*</code><a href="#section-8.2.1-7" class="pilcrow">¶</a></p>
<p id="section-8.2.1-8">This will trigger the Relay Function to forward PTT audio from
everyone on channel-3 to sent to the subscriber, as is
typically expected in a frontline applications.<a href="#section-8.2.1-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="manifest-1">
<section id="section-8.2.2">
          <h4 id="name-manifest-2">
<a href="#section-8.2.2" class="section-number selfRef">8.2.2. </a><a href="#name-manifest-2" class="section-name selfRef">Manifest</a>
          </h4>
<p id="section-8.2.2-1">For PTT application, a manifest describes various active PTT channels as
the main resource. Subsribers who tune into channels typically get the names
from the manifest to do so. Publishers publish their media to channels that
they are authorized to.<a href="#section-8.2.2-1" class="pilcrow">¶</a></p>
<div id="example-1">
<section id="section-8.2.2.1">
            <h5 id="name-example-2">
<a href="#section-8.2.2.1" class="section-number selfRef">8.2.2.1. </a><a href="#name-example-2" class="section-name selfRef">Example</a>
            </h5>
<p id="section-8.2.2.1-1">An example retail store scenario where users Alice, Bob subscribe to the
bakery channel and Carl subscribes to the gardening channel. Also an
annoucement from the store manager Tom, on bakery channel gets
delivered to Alice and Bob but not Carl.<a href="#section-8.2.2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.2.2.1-2">
<pre>Alice: authorized to talk/listen on Channel Bakery
Bob:   authorized to talk/listen on Channel Bakery
Carl:  authorized to talk/listen on Channel GARDENING
Tom:   authorized to talk/listen on channels Bakery
       and Gardening

Bakery Channel Id -&gt; bakery
Gardening Channel Id -&gt; gardening

</pre><a href="#section-8.2.2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-8.2.2.1-3">Manifest encoded as json objects might capture the information as below.
[This encoded is for information purposes only.]<a href="#section-8.2.2.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.2.2.1-4">
<pre>{
    "origin": "walmart.com",
    "storeId": "store22
    "channel": [
        {
            "name": "bakery",
            "id" : "bakery",
            "codec": "opus",
            "quality": "48khz",
            ....
        },
        {
            "name": "gardening",
            "id" : "gardening",
            "codec": "opus",
            "quality": "48khz",
            ...
        },
    ]
}

</pre><a href="#section-8.2.2.1-4" class="pilcrow">¶</a>
</div>
<p id="section-8.2.2.1-5">Alice and Bob shall subscribe to channel Bakery
<code>quicr://wamart.com/store22/bakery/*</code>
and Carl subscribe to channel Gargdening
<code>quicr://wamart.com/store22/gardening/*</code>.<a href="#section-8.2.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="low-latency-streaming-applications">
<section id="section-8.3">
        <h3 id="name-low-latency-streaming-appli">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-low-latency-streaming-appli" class="section-name selfRef">Low Latency Streaming Applications</a>
        </h3>
<p id="section-8.3-1">A typical streaming application can be divided into 2 halves - media ingest
and media distribution. Media ingestion is done via pushing one or more
streams of different qualities to a central server. Media Distribution
downstream is customized (via quality/rate adapation) per consumer by
the central server.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<p id="section-8.3-2">One can model ingestion as sending <code>PUBLISH</code> mesages and the
associated sources as publishers. Similarly, the consumers/end
clients of the streaming media <code>SUBSCRIBE</code> to the media elements
whose names are defined in the manifest. Manifest describes the
name and qualities associated with media being published. The central
severs (Origin) themselves act as publisher for producing streams
with different qualities.<a href="#section-8.3-2" class="pilcrow">¶</a></p>
<p id="section-8.3-3">Streaming use-cases requiring lower latencies and high degree of
realtime interactivity (chat for example) can easilt fit into QuicR's media
delivery protocol.<a href="#section-8.3-3" class="pilcrow">¶</a></p>
<p id="section-8.3-4">Lower latencies can be achieved by the relay forwarding the data as
they arrive to the subscribed clients.<a href="#section-8.3-4" class="pilcrow">¶</a></p>
<p id="section-8.3-5">Few sample scenarios that have such constrainsts are listed below:<a href="#section-8.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-6.1">
            <p id="section-8.3-6.1.1">Professional streamers (gamers/musicians) interacting with a
live audience on social media, often via a directly coupled chat
function in the viewing app/environment.  A high degree of
interactivity between the performer and the audience is required
to enable engagement.<a href="#section-8.3-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-6.2">
            <p id="section-8.3-6.2.1">Live Auctions are another category of applications where an
auction is broadcasted to serveral participants. The content must be
delivered with low latency and more importantly within a well-defined
sync across endpoints so customers trust the auction is fair.<a href="#section-8.3-6.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.3-7">Visual and aural quality are secondary in priority in these scenarios to
sync and latency. This in turn increases revenue potential from a
game/event.<a href="#section-8.3-7" class="pilcrow">¶</a></p>
<div id="naming-and-manifest-considerations">
<section id="section-8.3.1">
          <h4 id="name-naming-and-manifest-conside">
<a href="#section-8.3.1" class="section-number selfRef">8.3.1. </a><a href="#name-naming-and-manifest-conside" class="section-name selfRef">Naming and Manifest Considerations</a>
          </h4>
<p id="section-8.3.1-1">For downstream distribution of media data to clients with varying
requirements, the central server (along with the source) generate
different quality media representations. Each such quality is
represented with a unique name and subscribers are made know of
the same via the Manifest.<a href="#section-8.3.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.3.1-2">
<pre>{
  "resource" : "jon.doe.music.live.tv",
  "streams: [
      {
      "id": "1234",
      "codec": "av1",
      "quality": "1920x720_60fps"
      },
      {
      "id": "5678",
      "codec": "av1",
      "quality": "3840x2160_30fps"
      },
      {
      "id": "9999",
      "codec": "av1",
      "quality": "640x480_30fps"
      },
  ]
}

</pre><a href="#section-8.3.1-2" class="pilcrow">¶</a>
</div>
<p id="section-8.3.1-3">Consumers end points subscribe to one or more names representing the
quality based on their capabilities. This enables the relay to forward
the ingested data to be sent as they arrive to the subscribers.<a href="#section-8.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-9">
      <h2 id="name-security">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security" class="section-name selfRef">Security</a>
      </h2>
<p id="section-9-1">Security considerations defined in <code>draft-jennings-moq-quicr-arch</code> applies
here as well.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="todo">
<section id="section-10">
      <h2 id="name-todo">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-todo" class="section-name selfRef">TODO</a>
      </h2>
<ol start="1" type="1" class="normal type-1" id="section-10-1">
<li id="section-10-1.1">Define trust establishment flows between QuicR Endpoints,
Cloud Relays and the Origin Server. Also add security toke to
the messages.<a href="#section-10-1.1" class="pilcrow">¶</a>
</li>
        <li id="section-10-1.2">Messages needs some security considerations - integrity
protection and so on.<a href="#section-10-1.2" class="pilcrow">¶</a>
</li>
        <li id="section-10-1.3">Define constructs for End to End Encryption<a href="#section-10-1.3" class="pilcrow">¶</a>
</li>
        <li id="section-10-1.4">Fix the notation of the messages<a href="#section-10-1.4" class="pilcrow">¶</a>
</li>
      </ol>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments-3">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-acknowledgments-3" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">Thanks to Nermeen Ismail, Mo Zanaty,  for contributions and suggestions to this
specification.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses-2">
<a href="#name-authors-addresses-2" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Cullen Jennings</span></div>
<div dir="auto" class="left"><span class="org">cisco</span></div>
<div dir="auto" class="left"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fluffy@iii.ca" class="email">fluffy@iii.ca</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Suhas Nandakumar</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:snandaku@cisco.com" class="email">snandaku@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
