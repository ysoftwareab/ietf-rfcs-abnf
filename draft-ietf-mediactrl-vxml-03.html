<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>SIP Interface to VoiceXML Media Services</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="SIP Interface to VoiceXML Media Services">
<meta name="keywords" content="VoiceXML, SIP, MRF, IVR, IMS">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Mediactrl</td><td class="header">D. Burke</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Google</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">M. Scott</td></tr>
<tr><td class="header">Expires: July 12, 2009</td><td class="header">Genesys</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">January 08, 2009</td></tr>
</table></td></tr></table>
<h1><br />SIP Interface to VoiceXML Media Services<br />draft-ietf-mediactrl-vxml-03.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on July 12, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
   This document describes a SIP interface to VoiceXML media services.
   Commonly, application servers controlling media servers use this
   protocol for pure VoiceXML processing capabilities.  This protocol
   is an adjunct to the full MEDIACTRL protocol and packages mechanism.

</p>
<h3>Comments</h3>

<p>Please send comments on this draft to the MEDIACTRL mail list, mediactrl@ietf.org.

</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Use Cases<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.1.1.</a>&nbsp;
IVR Services with Application Servers<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">1.1.2.</a>&nbsp;
PSTN IVR Service Node<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">1.1.3.</a>&nbsp;
3GPP IMS Media Resource Function (MRF)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">1.1.4.</a>&nbsp;
CCXML &lt;-&gt; VoiceXML Interaction<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">1.1.5.</a>&nbsp;
Other Use Cases<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">1.2.</a>&nbsp;
Terminology<br />
<a href="#anchor9">2.</a>&nbsp;
VoiceXML Session Establishment and Termination<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">2.1.</a>&nbsp;
Service Identification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">2.2.</a>&nbsp;
Initiating a VoiceXML Session<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">2.3.</a>&nbsp;
Preparing a VoiceXML Session<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">2.4.</a>&nbsp;
Session Variable Mappings<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">2.5.</a>&nbsp;
Terminating a VoiceXML Session<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">2.6.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">2.6.1.</a>&nbsp;
Basic Session Establishment<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">2.6.2.</a>&nbsp;
VoiceXML Session Preparation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">2.6.3.</a>&nbsp;
MRCP Establishment<br />
<a href="#anchor19">3.</a>&nbsp;
Media Support<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">3.1.</a>&nbsp;
Offer/Answer<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">3.2.</a>&nbsp;
Early Media<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">3.3.</a>&nbsp;
Modifying the Media Session<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">3.4.</a>&nbsp;
Audio and Video Codecs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">3.5.</a>&nbsp;
DTMF<br />
<a href="#anchor25">4.</a>&nbsp;
Returning Data to the Application Server<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">4.1.</a>&nbsp;
HTTP Mechanism<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">4.2.</a>&nbsp;
SIP Mechanism<br />
<a href="#anchor28">5.</a>&nbsp;
Outbound Calling<br />
<a href="#anchor29">6.</a>&nbsp;
Call Transfer<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">6.1.</a>&nbsp;
Blind<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">6.2.</a>&nbsp;
Bridge<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">6.3.</a>&nbsp;
Consultation<br />
<a href="#anchor33">7.</a>&nbsp;
Contributors<br />
<a href="#anchor34">8.</a>&nbsp;
Acknowledgements<br />
<a href="#Security">9.</a>&nbsp;
Security Considerations<br />
<a href="#IANA">10.</a>&nbsp;
IANA Considerations<br />
<a href="#Changes">11.</a>&nbsp;
Changes since last version:<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#Notes">Appendix&nbsp;A.</a>&nbsp;
Notes on Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
VoiceXML <a class='info' href='#VXML20'>[VXML20]<span> (</span><span class='info'>McGlashan, S., Burnett, D., Carter, J., Danielsen, P., Ferrans, J., Hunt, A., Lucas, B., Porter, B., Rehor, K., and S. Tryphonas, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.0,&rdquo; March&nbsp;2004.</span><span>)</span></a>, <a class='info' href='#VXML21'>[VXML21]<span> (</span><span class='info'>Oshry, M., Auburn, R J., Baggia, P., Bodell, M., Burke, D., Burnett, D., Candell, E., Kilic, H., McGlashan, S., Lee, A., Porter, B., and K. Rehor, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.1,&rdquo; June&nbsp;2005.</span><span>)</span></a> is a World Wide Web Consortium (W3C)
standard for creating audio and video dialogs that feature synthesized speech, digitized audio,
recognition of spoken and DTMF key input, recording of audio and video, 
telephony, and mixed initiative conversations. VoiceXML allows Web-based
development and content delivery paradigms to be used with interactive
video and voice response applications.

</p>
<p>
   This document describes a SIP <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> interface to VoiceXML media services.
   Commonly, application servers controlling media servers use this
   protocol for pure VoiceXML processing capabilities.  SIP is responsible for initiating a media session
   to the VoiceXML media server and simultaneously triggering the execution of a specified VoiceXML application. This protocol
   is an adjunct to the full MEDIACTRL protocol and packages mechanism.

</p>
<p>
The interface described here leverages a mechanism for identifying dialog media services first described in <a class='info' href='#RFC4240'>[RFC4240]<span> (</span><span class='info'>Burger, E., Van Dyke, J., and A. Spitzer, &ldquo;Basic Network Media Services with SIP,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
The interface has been updated and extended to support the W3C Recommendation for
VoiceXML 2.0 <a class='info' href='#VXML20'>[VXML20]<span> (</span><span class='info'>McGlashan, S., Burnett, D., Carter, J., Danielsen, P., Ferrans, J., Hunt, A., Lucas, B., Porter, B., Rehor, K., and S. Tryphonas, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.0,&rdquo; March&nbsp;2004.</span><span>)</span></a> and VoiceXML 2.1 <a class='info' href='#VXML21'>[VXML21]<span> (</span><span class='info'>Oshry, M., Auburn, R J., Baggia, P., Bodell, M., Burke, D., Burnett, D., Candell, E., Kilic, H., McGlashan, S., Lee, A., Porter, B., and K. Rehor, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.1,&rdquo; June&nbsp;2005.</span><span>)</span></a>. A set of commonly implemented
functions and extensions have been specified including VoiceXML dialog preparation, outbound calling, video media support, 
and transfers. VoiceXML session variable mappings have been defined for SIP with an extensible mechanism
for passing application-specific values into the VoiceXML application. Mechanisms for returning data to the
Application Server have also been added.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Use Cases</h3>

<p>
The VoiceXML media service user in this document is generically referred
to as an Application Server. In practice, it is intended that the
interface defined by this document is applicable across a wide range of use
cases. Several intended use cases are described below.

</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1.1"></a><h3>1.1.1.&nbsp;
IVR Services with Application Servers</h3>

<p>
SIP Application Servers provide services to users of the network. Typically, there may
be several Application Servers in the same network, each specialised in providing
a particular service. Throughout this specification and without loss of generality,
we posit the presence of an Application Server specialised in providing IVR services. 
A typical configuration for this use case is illustrated below.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                           +--------------+
                           |              |
                           |  Application |\
                           |    Server    | \
                           |              |  \ HTTP
                      SIP  +--------------+   \
                           /               \   \
          +-------------+ /             SIP \ +--------------+
          |             |/                   \|              |
          |     SIP     |                     |   VoiceXML   |
          | User Agent  |      RTP/SRTP       | Media Server |
          |             |=====================|              |
          +-------------+                     +--------------+

</pre></div>
<p>
Assuming the Application Server also supports HTTP, the VoiceXML application may be hosted on it
and served up via HTTP <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>. Note, however, that the Web model allows the VoiceXML
application to be hosted on a separate (HTTP) Application Server from the (SIP) Application Server 
that interacts with the VoiceXML Media Server via this specification.  It is also possible for 
a static VoiceXML application to be stored locally on the VoiceXML Media Server, leveraging the 
VoiceXML 2.1 <a class='info' href='#VXML21'>[VXML21]<span> (</span><span class='info'>Oshry, M., Auburn, R J., Baggia, P., Bodell, M., Burke, D., Burnett, D., Candell, E., Kilic, H., McGlashan, S., Lee, A., Porter, B., and K. Rehor, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.1,&rdquo; June&nbsp;2005.</span><span>)</span></a> &lt;data> mechanism to interact
with a Web/Application Server when dynamic behavior is required.  The viability of static VoiceXML
applications is further enhanced by the mechanisms defined in section 2.4, through which the 
Application Server can make session-specific information available within the VoiceXML session context.

</p>
<p>
The approach described in this document is sometimes termed the "delegation model" - the Application Server
is essentially delegating programmatic control of the human-machine interactions to one
or more VoiceXML documents running on the VoiceXML Media Server. During the human-machine
interactions, the Application Server remains in the signaling path and can respond to 
results returned from the VoiceXML Media Server or other external network events.   

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1.2"></a><h3>1.1.2.&nbsp;
PSTN IVR Service Node</h3>

<p>
While this document is intended to enable enhanced use of VoiceXML as a
component of larger systems and services, it is intended that devices
that are completely unaware of this specification remain capable of
invoking VoiceXML services offered by a VoiceXML Media Server compliant with this document. 
A typical configuration for this use case is as follows:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
          +-------------+         SIP         +--------------+
          |             |---------------------|              |
          |   IP/PSTN   |                     |   VoiceXML   |
          |   Gateway   |      RTP/SRTP       | Media Server |
          |             |=====================|              |
          +-------------+                     +--------------+
</pre></div>
<p>
Note also that beyond the invocation and termination of a VoiceXML
dialog, the semantics defined for call transfers using REFER are
intended to be compatible with standard, existing IP/PSTN gateways.

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1.3"></a><h3>1.1.3.&nbsp;
3GPP IMS Media Resource Function (MRF)</h3>

<p>
The 3GPP IP Multimedia Subsystem (IMS) <a class='info' href='#TS23002'>[TS23002]<span> (</span><span class='info'>, &ldquo;3rd Generation Partnership Project: Network architecture (Release 6),&rdquo; December&nbsp;2004.</span><span>)</span></a> defines a Media
Resource Function (MRF) used to offer media processing services such as
conferencing, transcoding, and prompt/collect.  The capabilities offered
by VoiceXML are ideal for offering richer media processing services in
the context of the MRF.  In this architecture, the interface defined
here corresponds to the "Mr" interface to the MRFC; the implementation
of this interface might use separated MRFC and MRFP elements (as per the
IMS architecture), or might be an integrated MRF (as is common
practice).

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
          +----------+
          |   App    |
          |  Server  |
          +----------+
               |
               | SIP (ISC)
               |
          +----------+   SIP (Mr)    +--------------+
          |  S-CSCF  |---------------|   VoiceXML   |
          |          |               |     MRF      |
          +----------+               +--------------+
                                            ||
                                            || RTP/SRTP (Mb)
                                            ||
</pre></div>
<p>
The above diagram is highly simplified and shows a subset of nodes
typically involved in MRF interactions. It should be noted that while
the MRF will primarily be used by the Application Server via the S-CSCF, 
it is also possible for calls to be routed directly to the MRF
without the involvement of an Application Server.

</p>
<p>
Although the above is described in terms of the 3GPP IMS architecture,
it is intended that it is also applicable to 3GPP2, NGN, and PacketCable
architectures that are converging with 3GPP IMS standards.

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1.4"></a><h3>1.1.4.&nbsp;
CCXML &lt;-&gt; VoiceXML Interaction</h3>

<p>
Call Control eXtensible Markup Language (CCXML) 1.0 <a class='info' href='#CCXML10'>[CCXML10]<span> (</span><span class='info'>Auburn, R J., &ldquo;Voice Browser Call Control: CCXML Version 1.0,&rdquo; June&nbsp;2005.</span><span>)</span></a> applications provide services mainly through
controlling the interaction between Connections, Conferences, and
Dialogs.  Although CCXML is capable of supporting arbitrary dialog
environments, VoiceXML is commonly used as a dialog environment in
conjunction with CCXML applications; CCXML is specifically designed to
effectively support the use of VoiceXML. CCXML 1.0 defines language 
elements that allow for Dialogs to be prepared, started, and terminated; 
it further allows for data to be returned by the dialog environment, for 
call transfers to be requested (by the dialog) and responded to by the CCXML
application, and for arbitrary eventing between the CCXML application and 
running dialog application.  

</p>
<p>
The interface described in this document can be used by CCXML 1.0 implementations 
to control VoiceXML Media Servers.  Note, however, that some CCXML language features
require eventing facilities between CCXML and VoiceXML sessions that go beyond what
is defined in this specification.  For example, VoiceXML-controlled call transfers
and mid-dialog application-defined events cannot be fully realized using this
specification alone. A SIP event package <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> MAY be used 
in addition to this specification to provide extended eventing.

</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1.5"></a><h3>1.1.5.&nbsp;
Other Use Cases</h3>

<p>
In addition to the use cases described in some detail above, there are a
number of other intended use cases that are not described in detail,
such as:

</p>
<ol class="text">
<li>Use of a VoiceXML Media Server as an adjunct to an IP-based
PBX/ACD, possibly to provide voicemail/messaging, automated attendant,
or other capabilities.
</li>
<li>Invocation and control of a VoiceXML session that provides the
voice modality component in a multimodal system.
</li>
</ol><p>

</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Terminology</h3>

<p>
</p>
<blockquote class="text"><dl>
<dt>Application Server:</dt>
<dd>A SIP Application Server hosts and executes services, 
in particular by terminating SIP sessions on a media server. The Application Server
MAY also act as an HTTP server <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> in interactions with media servers.
</dd>
<dt>VoiceXML Media Server:</dt>
<dd>A VoiceXML interpreter including a SIP-based interpreter context
and the requisite media processing capabilities to support VoiceXML functionality.
</dd>
<dt>VoiceXML Session:</dt>
<dd>A VoiceXML Session is a multimedia session comprising of at least a
SIP user agent, a VoiceXML Media Server, the data streams between them, and an executing VoiceXML application.
</dd>
<dt>VoiceXML Dialog:</dt>
<dd>Equivalent to VoiceXML Session.
</dd>
</dl></blockquote><p>

</p>
<p>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in
this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.

</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
VoiceXML Session Establishment and Termination</h3>

<p>
This section describes how to establish a VoiceXML Session, with or without preparation, 
and how to terminate a session.  This section also addresses how session information is
made available to VoiceXML applications.

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Service Identification</h3>

<p>
The SIP Request-URI is used to identify the VoiceXML media service.
The user part of the SIP Request-URI is fixed to "dialog".  This is
done to ensure compatibility with <a class='info' href='#RFC4240'>[RFC4240]<span> (</span><span class='info'>Burger, E., Van Dyke, J., and A. Spitzer, &ldquo;Basic Network Media Services with SIP,&rdquo; December&nbsp;2005.</span><span>)</span></a>, since this document
extends the dialog interface defined in that specification, and
because this convention from <a class='info' href='#RFC4240'>[RFC4240]<span> (</span><span class='info'>Burger, E., Van Dyke, J., and A. Spitzer, &ldquo;Basic Network Media Services with SIP,&rdquo; December&nbsp;2005.</span><span>)</span></a> is widely adopted by existing
media servers.

</p>
<p>
Standardizing the SIP Request-URI including the user part also
improves interoperability between application servers and media
servers, and reduces the provisioning overhead that would be
required if use of a media server by an application server required
an individually provisioned URI.  In this respect, this document
(and <a class='info' href='#RFC4240'>[RFC4240]<span> (</span><span class='info'>Burger, E., Van Dyke, J., and A. Spitzer, &ldquo;Basic Network Media Services with SIP,&rdquo; December&nbsp;2005.</span><span>)</span></a>) do not add semantics to the user part, but rather
standardize the way that targets on media servers are provisioned.
Further, since application servers – and not human beings – are
generally the clients of media servers, issues such as interpretation
and internationalization do not apply.

</p>
<p>
The initial VoiceXML document is specified with the "voicexml" parameter.
In addition, parameters are defined that control how the VoiceXML
Media Server fetches the specified VoiceXML document.  The list of
parameters defined by this specification is as follows (note the parameter
names are case-insensitive):

</p>
<blockquote class="text"><dl>
<dt>voicexml:</dt>
<dd>
   URI of the initial VoiceXML document to fetch.  This will typically contain an HTTP URI, but may use
   other URI schemes, for example to refer to local, static VoiceXML documents.  If the "voicexml" 
   parameter is omitted, the VoiceXML Media Server may select the initial VoiceXML document
   by other means, such as by applying a default, or may reject the request.

</dd>
<dt>maxage:</dt>
<dd>
  Used to set the max-age value of the Cache-Control header in conjunction with VoiceXML documents fetched
  using HTTP, as per <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>.  If omitted, the VoiceXML Media Server will use a default
  value.

</dd>
<dt>maxstale:</dt>
<dd>
  Used to set the max-stale value of the Cache-Control header in conjunction with VoiceXML documents fetched
  using HTTP, as per <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>.  If omitted, the VoiceXML Media Server will use a default
  value.

</dd>
<dt>method:</dt>
<dd>
  Used to set the HTTP method applied in the fetch of the initial VoiceXML document. Allowed values
  are "get" or "post" (case-insensitive). Default is "get".

</dd>
<dt>postbody:</dt>
<dd>
  Used to set the application/x-www-form-urlencoded encoded <a class='info' href='#HTML4'>[HTML4]<span> (</span><span class='info'>Raggett, D., Le Hors, A., and I. Jacobs, &ldquo;HTML 4.01 Specification,&rdquo; Dec&nbsp;1999.</span><span>)</span></a> HTTP body 
  for "post" requests  (or is otherwise ignored). 

</dd>
<dt>ccxml:</dt>
<dd>
  This parameter is used to specify a "JSON value" <a class='info' href='#RFC4627'>[RFC4627]<span> (</span><span class='info'>Crockford, D., &ldquo;The application/json Media Type for JavaScript Object Notation (JSON),&rdquo; July&nbsp;2006.</span><span>)</span></a> that is mapped
  to the session.connection.ccxml VoiceXML session variable - see section 2.4

</dd>
<dt>aai:</dt>
<dd>
  This parameter is used to specify a "JSON value" <a class='info' href='#RFC4627'>[RFC4627]<span> (</span><span class='info'>Crockford, D., &ldquo;The application/json Media Type for JavaScript Object Notation (JSON),&rdquo; July&nbsp;2006.</span><span>)</span></a> that is mapped
  to the session.connection.aai VoiceXML session variable - see section 2.4

</dd>
</dl></blockquote><p>

</p>
<p>
Other application-specific parameters may be added to the Request-URI and are exposed in
VoiceXML session variables (see section 2.4).

</p>
<p>
    Formally, the Request-URI for the VoiceXML media service has a fixed user part 
    'dialog'. Seven URI parameters are defined (see the definition of uri-parameter in Section 25.1 of [RFC 3261]).
    
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

 dialog-param      = "voicexml=" vxml-url ; vxml-url follows the URI
                                          ; syntax defined in [RFC3986]
 maxage-param      = "maxage=" 1*DIGIT

 maxstale-param    = "maxstale=" 1*DIGIT

 method-param      = "method=" ("get" / "post")

 postbody-param    = "postbody=" token

 ccxml-param       = "ccxml=" json-value

 aai-param         = "aai=" json-value

 json-value        =  false /
                      null /
                      true /
                      object /
                      array /
                      number /
                      string ; defined in [RFC 4627]

</pre></div><p>

    

</p>
<p>
Parameters of the Request-URI in subsequent re-INVITEs are ignored. One consequence of this is that the
VoiceXML Media Server cannot be instructed by the Application Server to change the executing VoiceXML
Application after a VoiceXML Session has been started.

</p>
<p>
Special characters contained in the dialog-param, postbody-param, ccxml-param, and aai-param values must be URL-encoded ("escaped") as required by the SIP URI syntax, for example '?' (%3f), '=' (%3d), and ';' (%3b).  The VoiceXML Media Server MUST therefore unescape these parameter values before making use of them or exposing them to running VoiceXML
applications. It is important that the VoiceXML Media Server only unescape the parameter values once
since the desired VoiceXML URI value could itself be URL encoded, for example. 

</p>
<p>
Informative note: With respect to the postbody-param value, since the application/x-www-form-urlencoded content itself escapes non-alphanumeric characters by inserting %HH replacements, the escaping rules above will result in the '%' characters being further escaped in addition to the '&amp;' and '=' name/value separators. 

</p>
<p>
As an example, the following SIP Request-URI identifies the use of VoiceXML media services, with
'http://appserver.example.com/promptcollect.vxml' as the initial VoiceXML document, to be fetched
with max-age/max-stale values of 3600s/0s respectively:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    sip:dialog@mediaserver.example.com; \
       voicexml=http://appserver.example.com/promptcollect.vxml; \
       maxage=3600;maxstale=0
</pre></div>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Initiating a VoiceXML Session</h3>

<p>
A VoiceXML Session is initiated via the Application Server using a SIP INVITE. 
Typically, the Application Server will be specialized in providing VoiceXML services. At a minimum, the Application
Server may behave as a simple proxy by rewriting the Request-URI received from the User Agent to a Request-URI
suitable for consumption by the VoiceXML Media Server (as specified in section 2.1). For example, a User Agent
might present a dialed number:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    tel:+1-201-555-0123
</pre></div>
<p>
which the Application Server maps to a directory assistance application on the VoiceXML Media Server
with a Request-URI of:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    sip:dialog@ms1.example.com; \
       voicexml=http://as1.example.com/da.vxml
</pre></div>
<p>
Certain header values in the INVITE message to the VoiceXML Media Server are mapped into
VoiceXML session variables and are specified in section 2.4. 

</p>
<p>
On receipt of the INVITE, the VoiceXML Media Server issues a provisional response, 
100 Trying, and commences the fetch of the initial VoiceXML document. The 200 OK
response indicates that the VoiceXML document has been fetched and parsed correctly
and is ready for execution. Application execution commences on receipt of the ACK
(except if the dialog is being prepared as specified in section 2.3). 
Note that the 100 Trying response will usually be sent on receipt of the INVITE in accordance
with <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>, since the VoiceXML Media Server cannot in general guarantee that the
initial fetch will complete in less than 200 ms.  However, certain implementations may
be able to guarantee response times to the initial INVITE, and thus may not need to send
a 100 Trying response. 

</p>
<p>As an optimization, prior to sending the 200 OK response, the VoiceXML Media Server MAY execute
the application up to the point of the first VoiceXML waiting state or prompt flush. 

</p>
<p>
A VoiceXML Media Server, like any SIP User Agent, may be unable to accept the INVITE request
for a variety of reasons.  For instance, an SDP offer contained in the INVITE might require
the use of codecs that are not supported by the Media Server.  In such cases, the Media Server
should respond as defined by <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>.  However, there are error conditions
specific to VoiceXML, as follows: 

</p>
<ol class="text">
<li>If the Request-URI does not conform to this specification, a 400 Bad Request MUST 
     be returned (unless it is used to select other services not defined by this specification).
</li>
<li>If an init-param is repeated, then the request MUST be rejected with a 400 Bad
     Request response.
</li>
<li>If the Request-URI does not include a "voicexml" parameter, and the VoiceXML Media Server
     does not elect to use a default page, the VoiceXML Media Server MUST return a final
     response of 400 Bad Request, and SHOULD include a Warning header
     with a 3-digit code of 399 and a human readable error message.
</li>
<li>If the VoiceXML document cannot be fetched or parsed, the VoiceXML Media Server MUST
     return a final response of 500 Server Internal Error and SHOULD include a Warning header
     with a 3-digit code of 399 and a human readable error message.
</li>
</ol><p>

</p>
<p>
Informational note: Certain applications may pass a significant amount of data to the VoiceXML dialog
in the form of Request-URI parameters.  This may cause the total size of the INVITE request to exceed
the MTU of the underlying network.  In such cases, applications/implementations must take care either
to use a transport appropriate to these larger messages (such as TCP), or to use alternative means of
passing the required information to the VoiceXML dialog (such as supplying a unique session identifier in
the initial VoiceXML URI and later using that identifier as a key to retrieve data from the HTTP server). 

</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Preparing a VoiceXML Session</h3>

<p>
In certain scenarios, it is beneficial to prepare a VoiceXML Session for execution prior
to running it. A previously prepared VoiceXML Session is expected to execute with 
minimal delay when instructed to do so.

</p>
<p> 
If a media-less SIP dialog is established with the initial INVITE to the VoiceXML 
Media Server, the VoiceXML Application will not execute after receipt of the ACK. To
run the VoiceXML Application, the AS must issue a re-INVITE to establish a media session.

</p>
<p>
A media-less SIP dialog can be established by sending SDP containing no media lines 
in the initial INVITE.  Alternatively, if no SDP is sent in the initial
INVITE, the VoiceXML Media Server will include an offer in the 200 OK message, which
can be responded to with an answer in the ACK with the media port(s) set to 0.

</p>
<p>
Once a VoiceXML Application is running, a re-INVITE which disables the media streams
(i.e. sets the ports to 0) will not otherwise affect the executing application (except
that recognition actions initiated while the media streams are disabled will result in
noinput timeouts). 

</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
Session Variable Mappings</h3>

<p>
The standard VoiceXML session variables are assigned values according to:

</p>
<p>
</p>
<blockquote class="text"><dl>
<dt>session.connection.local.uri:</dt>
<dd>Evaluates to the SIP URI specified in the To: header of the initial INVITE.
</dd>
<dt>session.connection.remote.uri:</dt>
<dd>Evaluates to the SIP URI specified in the From: header of the initial INVITE.
</dd>
<dt>session.connection.redirect:</dt>
<dd>This array is populated by information contained in the History-Info <a class='info' href='#RFC4244'>[RFC4244]<span> (</span><span class='info'>Barnes, M., &ldquo;An Extension to the Session Initiation Protocol (SIP) for Request History Information,&rdquo; November&nbsp;2005.</span><span>)</span></a> header in the initial INVITE or is otherwise undefined.  Each entry (hi-entry) in the History-Info header is mapped, in reverse order, into an element of the session.connection.redirect array.  Properties of each element of the array are determined as follows:

<ul class="text">
<li>uri - Set to the hi-targeted-to-uri value of the History-Info entry
</li>
<li>pi - Set to 'true' if hi-targeted-to-uri contains a 'Privacy=history' parameter, or if the INVITE Privacy header includes 'history'; 'false' otherwise
</li>
<li>si - Set to the value of the 'si' parameter if it exists, undefined otherwise
</li>
<li>reason - Set verbatim to the value of the 'Reason' parameter of hi-targeted-to-uri
</li>
</ul>

</dd>
<dt>session.connection.protocol.name:</dt>
<dd>Evaluates to "sip".  Note that this is intended to reflect the use of SIP in general,
and does not distinguish between whether the media server was accessed via SIP or SIPS procedures.
</dd>
<dt>session.connection.protocol.version:</dt>
<dd>Evaluates to "2.0".
</dd>
<dt>session.connection.protocol.sip.headers:</dt>
<dd>This is an associative array where each key in the array is the
non-compact name of a SIP header in the initial INVITE converted to lower-case (note the case conversion does not apply
to the header value). If multiple header fields of the same field name are present, the values are combined into a single 
comma-separated value. Implementations MUST at a minimum include the Call-ID header and MAY include other headers. 
For example, session.connection.protocol.sip.headers["call-id"] evaluates to the Call-ID of the SIP dialog.
</dd>
<dt>session.connection.protocol.sip.requesturi:</dt>
<dd>This is an associative array where the array keys and values 
are formed from the URI parameters on the SIP Request-URI of the initial INVITE. The array key is the URI
parameter name converted to lower-case (note the case conversion does not apply to the parameter value). 
The corresponding array value is obtained by evaluating the URI parameter value as a "JSON value" [RFC4627] in the case of the ccxml-param and aai-param values and otherwise as a string. In addition, the array's toString() function returns the full SIP Request-URI.
 For example, assuming a Request-URI of sip:dialog@example.com;voicexml=http://example.com;aai=%7b"x":1%2c"y":true%7d then
    session.connection.protocol.sip.requesturi["voicexml"] evaluates to "http://example.com",
    session.connection.protocol.sip.requesturi["aai"].x  evaluates to 1 (type Number),
    session.connection.protocol.sip.requesturi["aai"].y  evaluates to true (type Boolean), and
    session.connection.protocol.sip.requesturi evaluates to the complete Request-URI (type String) 'sip:dialog@example.com;voicexml=http://example.com;aai={"x":1,"y":true}'.

</dd>
<dt>session.connection.aai:</dt>
<dd>Evaluates to session.connection.protocol.sip.requesturi["aai"]
</dd>
<dt>session.connection.ccxml:</dt>
<dd>Evaluates to session.connection.protocol.sip.requesturi["ccxml"]
</dd>
<dt>session.connection.protocol.sip.media:</dt>
<dd>This is an array where each array element is an object
with the following properties:
    

<ul class="text">
<li>
    type: - This required property indicates the type of the media associated with the stream. 
          The value is a string. It is strongly recommended that the following values are used for common types
          of media: "audio" for audio media, and "video" for video media.
 
</li>
<li>
    direction: - This required property indicates the directionality of the media relative
               to session.connection.originator. Defined values are sendrecv, sendonly, recvonly, and
               inactive. 
 
</li>
<li>
    format: - This property is optional. If defined, the value of the property is an array. Each array
            element is an object which specifies information about one format of the media
            (there is an array element for each payload type on the m-line). The object contains at least one property
            called name whose value is the MIME subtype of the media format (MIME subtypes are registered in
            <a class='info' href='#RFC4855'>[RFC4855]<span> (</span><span class='info'>Casner, S., &ldquo;Media Type Registration of RTP Payload Formats,&rdquo; February&nbsp;2007.</span><span>)</span></a>). Other properties may be defined with string values; these correspond
            to required and, if defined, optional parameters of the format.
 
</li>
</ul>

As a consequence of this definition, there is an array entry in session.connection.protocol.sip.media for
each non-disabled m-line for the negotiated media session. Note that this session variable is updated if
the media session characteristics for the VoiceXML Session change (i.e. due to a re-INVITE).
For an example, consider a connection with bi-directional G.711 mu-law audio sampled at 8kHz. In this case, 
session.connection.protocol.sip.media[0].type evaluates to "audio", session.connection.protocol.sip.media[0].direction
to "sendrecv", and session.connection.protocol.sip.media[0].format[0].name evaluates to "audio/PCMU" and 
session.connection.protocol.sip.media[0].format[0].rate evaluates to "8000".

</dd>
</dl></blockquote><p>

</p>
<p>Note that when accessing SIP headers and Request-URI parameters via the session.connection.protocol.sip.headers
and session.connection.protocol.sip.requesturi associative arrays defined above, applications can choose between
two semantically equivalent ways of referring to the array.  For example, either of the following can be used to 
access a Request-URI parameter named 'foo':

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    session.connection.protocol.sip.requesturi["foo"]
    session.connection.protocol.sip.requesturi.foo
</pre></div>
<p>
However, it is important to note that not all SIP header names or Request-URI parameter names are valid ECMAScript identifiers, and as such, can only be accessed using the first form (array notation).  For example, the Call-ID header can only be accessed as session.connection.protocol.sip.headers["call-id"]; attempting to access the same value as
session.connection.protocol.sip.headers.call-id would result in an error.

</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.5"></a><h3>2.5.&nbsp;
Terminating a VoiceXML Session</h3>

<p>
The Application Server can terminate a VoiceXML Session by issuing a BYE to the 
VoiceXML Media Server.  Upon receipt of a BYE in the context of an existing
VoiceXML Session, the VoiceXML Media Server MUST send a 200 OK response,
and MUST throw a 'connection.disconnect.hangup' event to the VoiceXML application.
If the Reason header <a class='info' href='#RFC3326'>[RFC3326]<span> (</span><span class='info'>Schulzrinne, H., Oran, D., and G. Camarillo, &ldquo;The Reason Header Field for the Session Initiation Protocol (SIP),&rdquo; December&nbsp;2002.</span><span>)</span></a> is present on the BYE Request, then the 
value of the Reason header is provided verbatim via the '_message' variable within 
the catch element's anonymous variable scope.

</p>
<p>
The VoiceXML Media Server may also initiate termination of the session by issuing
a BYE request.  This will typically occur as a result of encoutering a &lt;disconnect> 
or &lt;exit> in the VoiceXML application, due to the VoiceXML application running
to completion, or due to unhandled errors within the VoiceXML application.

</p>
<p>
See Section 4 for mechanisms to return data to the Application Server. 

</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6"></a><h3>2.6.&nbsp;
Examples</h3>

<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6.1"></a><h3>2.6.1.&nbsp;
Basic Session Establishment</h3>

<p>
This example illustrates an Application Server setting up a VoiceXML Session on behalf of a User Agent.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                      SIP               VoiceXML              HTTP
User              Application            Media            Application
Agent               Server               Server              Server
 |                    |                    |                    |
 |(1) INVITE [offer]  |                    |                    |
 |-------------------&gt;|(2) INVITE [offer]  |                    |
 |(3) 100 Trying      |-------------------&gt;|                    |
 |&lt;-------------------|(4) 100 Trying      |                    |
 |                    |&lt;-------------------|                    |
 |                    |                    |                    |
 |                    |                    |(5) GET             |
 |                    |                    |-------------------&gt;|
 |                    |                    |(6) 200 OK [VXML]   |
 |                    |                    |&lt;-------------------|
 |                    |                    |                    |
 |                    |(7) 200 OK [answer] |                    |
 |(8) 200 OK [answer] |&lt;-------------------|                    |
 |&lt;-------------------|                    |                    |
 |(9) ACK             |                    |                    |
 |-------------------&gt;|(10) ACK            |                    |
 |                    |-------------------&gt;| (execute           |
 |(11) RTP/SRTP       |                    |  VoiceXML          |
 |.........................................|  application)      |
 |                    |                    |                    |

</pre></div>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6.2"></a><h3>2.6.2.&nbsp;
VoiceXML Session Preparation</h3>

<p>
This example demonstrates the preparation of a VoiceXML Session.  In this
example, the VoiceXML session is prepared prior to placing an outbound call
to a User Agent, and is started as soon as the User Agent answers.
</p>
<p> 
The [answer1:0] notation is used to indicate an SDP answer with the media ports set to 0.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                      SIP               VoiceXML              HTTP
User              Application            Media            Application
Agent               Server               Server              Server
 |                    |                     |                    |
 |                    |(1) INVITE           |                    |
 |                    |--------------------&gt;|                    |
 |                    |(2) 100 Trying       |                    |
 |                    |&lt;--------------------|                    |
 |                    |                     |                    |
 |                    |                     |(3) GET             |
 |                    |                     |-------------------&gt;|
 |                    |                     |(4) 200 OK [VXML]   |
 |                    |                     |&lt;-------------------|
 |                    |                     |                    |
 |                    |(5) 200 OK [offer1]  |                    |
 |                    |&lt;--------------------|                    |
 |                    |(6) ACK [answer1:0]  |                    |
 |(7) INVITE          |--------------------&gt;|                    |
 |&lt;-------------------|                     |                    |
 |(8) 200 OK [offer2] |                     |                    |
 |-------------------&gt;|(9) INVITE [offer2'] |                    |
 |                    |--------------------&gt;|                    |
 |                    |(10) 100 Trying      |                    |
 |                    |&lt;--------------------|                    |
 |                    |(11) 200 OK [answer2]|                    |
 |(12) ACK [answer2]  |&lt;--------------------|                    |
 |&lt;-------------------|(13) ACK             |                    |
 |                    |--------------------&gt;| (execute           |
 |(14) RTP/SRTP                             |  VoiceXML          |
 |..........................................|  application)      |
 |                    |                     |                    |

</pre></div>
<p>
Implementation detail: offer2' is derived from offer2 - it duplicates
the m-lines and a-lines from offer2. However, offer2' differs
from offer2 since it must contain the same o-line as used in answer1:0
but with the version number incremented. Also, if offer1 has more m-lines
than offer2, then offer2' must be padded with extra (rejected) m-lines.

</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6.3"></a><h3>2.6.3.&nbsp;
MRCP Establishment</h3>

<p>
MRCP [MRCPv2] is a protocol that enables clients such as a VoiceXML
Media Server to control media service resources such as speech synthesizers, 
recognizers, verifiers and identifiers residing in servers on the network.

</p>
<p>
The example below illustrates how a VoiceXML Media Server 
may establish an MRCP session in response to an initial INVITE.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                    VoiceXML                                  HTTP
User                Media                 MRCPv2          Application
Agent               Server                Server             Server
 |                    |                      |                  |
 |(1) INVITE [offer1] |                      |                  |
 |-------------------&gt;|                      |                  |
 |(2) 100 Trying      |                      |                  |
 |&lt;-------------------|(3) GET               |                  |
 |                    |----------------------------------------&gt;|
 |                    |                      |                  |
 |                    |(4) 200 OK [VXML]     |                  |
 |                    |&lt;----------------------------------------|
 |                    |                      |                  |
 |                    |(5) INVITE [offer2]   |                  |
 |                    |---------------------&gt;|                  |
 |                    |                      |                  |
 |                    |(6) 200 OK [answer2]  |                  |
 |                    |&lt;---------------------|                  |
 |                    |                      |                  |
 |                    |(7) ACK               |                  |
 |                    |---------------------&gt;|                  |
 |                    |                      |                  |
 |                    |(8) MRCP connection   |                  |
 |                    |&lt;--------------------&gt;|                  |
 |(9) 200 OK [answer1]|                      |                  |
 |&lt;-------------------|                      |                  |
 |                    |                      |                  |
 |(10) ACK            |                      |                  |
 |-------------------&gt;|                      |                  |
 |                    |                      |                  |
 |(11) RTP/SRTP       |                      |                  |
.............................................|                  |
 |                    |                      |                  |

</pre></div>
<p>
In this example, the VoiceXML Media Server is responsible for establishing a session with the 
MRCPv2 Media Resource Server prior to sending the 200 OK response to the initial INVITE.
The VoiceXML Media Server will perform the appropriate offer/answer with the MRCPv2 Media Resource Server
based on the SDP capabilities of the Application Server and the MRCPv2 Media Resource Server.
The VoiceXML Media Server will change the offer received from step 1 to establish a MRCPv2 session in step (5) 
and will re-write the SDP to include an m-line for each MRCPv2 resource to be used
and other required SDP modifications as specified by MRCPv2.
Once the VoiceXML Media Server performs the offer/answer with the MRCPv2 Media Resource Server, it will
establish a MRCPv2 control channel in step (8). The MRCPv2 resource is deallocated when the VoiceXML
Media Server receives or sends a BYE (not shown). 

</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Media Support</h3>

<p>
This section describes the mandatory and optional media support required by this interface.

</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Offer/Answer</h3>

<p>
The VoiceXML Media Server MUST support the standard offer/answer mechanism of <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a>. 
In particular, if an SDP offer is not present in the INVITE, the VoiceXML Media Server will
make an offer in the 200 OK response listing its supported codecs.

</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Early Media</h3>

<p>
The VoiceXML Media Server MAY support early establishment of media streams as described in <a class='info' href='#RFC3960'>[RFC3960]<span> (</span><span class='info'>Camarillo, G. and H. Schulzrinne, &ldquo;Early Media and Ringing Tone Generation in the Session Initiation Protocol (SIP),&rdquo; December&nbsp;2004.</span><span>)</span></a>.
This allows the Application Server to establish media streams between a user agent and the VoiceXML Media Server in 
parallel with the initial VoiceXML document being processed (which may involve dynamic VoiceXML page generation
and interaction with databases or other systems). This is useful primarily for minimizing the delay in starting
a VoiceXML Session, particularly in cases where a session with the user agent already exists but the media stream
associated with that session needs to be redirected to a VoiceXML Media Server.

</p>
<p>
The following flow demonstrates the use of early media (using the Gateway model defined in <a class='info' href='#RFC3960'>[RFC3960]<span> (</span><span class='info'>Camarillo, G. and H. Schulzrinne, &ldquo;Early Media and Ringing Tone Generation in the Session Initiation Protocol (SIP),&rdquo; December&nbsp;2004.</span><span>)</span></a>):

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                      SIP               VoiceXML              HTTP
User              Application            Media            Application
Agent               Server               Server              Server
 |                      |                   |                   |
 |..(existing session)..|                   |                   |
 |                      |(1) INVITE         |                   |
 |                      |------------------&gt;|                   |
 |                      |                   |(2) HTTP GET       |
 |                      |                   |------------------&gt;|
 |                      |(3) 183    [offer] |                   |
 |(4) re-INVITE [offer] |&lt;------------------|                   |
 |&lt;---------------------|                   |                   |
 |(5) 200 OK [answer]   |                   |                   |
 |---------------------&gt;|                   |                   |
 |(6) ACK               |                   |                   |
 |&lt;---------------------|                   |                   |
 |                      | (7) PRACK [answer]|                   |
 |                      |------------------&gt;|                   |
 |                      | (8) PRACK 200 OK  |                   |
 |                      |&lt;------------------|                   |
 |(9) RTP/SRTP          |                   |                   |
 |..........................................|                   |
 |                      |                   |(10) 200 OK [VXML] |
 |                      |                   |&lt;------------------|
 |                      |                   |                   |
 |                      |(11) 200 OK        |                   |
 |                      |&lt;------------------|                   |
 |                      |(12) ACK           |                   |
 |                      |------------------&gt;| (execute          |
 |                      |                   |  VoiceXML         |
 |                      |                   |  application)     |
 |                      |                   |                   |

</pre></div>
<p>
Although <a class='info' href='#RFC3960'>[RFC3960]<span> (</span><span class='info'>Camarillo, G. and H. Schulzrinne, &ldquo;Early Media and Ringing Tone Generation in the Session Initiation Protocol (SIP),&rdquo; December&nbsp;2004.</span><span>)</span></a> prefers the use of the Application Server model for early media over the Gateway model, the primary issue with the Gateway model – forking – is significantly less common when issuing requests to VoiceXML Media Servers.  This is because VoiceXML Media Servers respond to all requests with 200 OK responses in the absence of unusual errors, and typically do so within several hundred milliseconds.  This makes them unlikely targets in forking scenarios, since alternative targets of the forking process would virtually never be able to respond more quickly than an automated system, unless they are themselves automated systems – in which case there is little point in setting up a response time race between two automated systems.  Issues with ringing tone generation in the Gateway model are also mitigated, both by the typically quick 200 OK response time, and because this specification mandates that no media packets are generated until the receipt of an ACK (thus eliminating the need for the user agent to perform media packet analysis).

</p>
<p>
Note that the offer of early media by a VoiceXML Media Server does not imply that the referenced
VoiceXML application can always be fetched and executed successfully.  For instance, if the HTTP
Application Server were to return a 4xx response in step 10 above, or if the provided VoiceXML
content was not valid, the VoiceXML Media Server would still return a 500 response (as per section 2.2).
At this point, it would be the responsibility of the application server to tear down any media
streams established with the media server.

</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Modifying the Media Session</h3>

<p>
The VoiceXML Media Server MUST allow the media session to be modified via a re-INVITE and SHOULD support the 
UPDATE method <a class='info' href='#RFC3311'>[RFC3311]<span> (</span><span class='info'>Rosenberg, J., &ldquo;The Session Initiation Protocol (SIP) UPDATE Method,&rdquo; October&nbsp;2002.</span><span>)</span></a> for the same purpose. In particular, it MUST be possible to change
streams between sendrecv, sendonly, and recvonly as specified in <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a>. 

</p>
<p>
Unidirectional streams are useful for announcement- or listening-only (hotword). The preferred
mechanism for putting the media session on hold is specified in <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a>,
i.e. the UA modifies the stream to be sendonly and mutes its own stream. Modification of
the media session does not affect VoiceXML application execution (except
that recognition actions initiated while on hold will result in noinput timeouts).

</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Audio and Video Codecs</h3>

<p>
For the purposes of achieving a basic level of interoperability,
this section specifies a minimal subset of codecs and RTP <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> payload
formats that MUST be supported by the VoiceXML Media Server.

</p>
<p>
For audio-only applications, G.711 mu-law and A-law MUST be supported using the RTP payload 
type 0 and 8 <a class='info' href='#RFC3551'>[RFC3551]<span> (</span><span class='info'>Schulzrinne, H. and S. Casner, &ldquo;RTP Profile for Audio and Video Conferences with Minimal Control,&rdquo; July&nbsp;2003.</span><span>)</span></a>.  Other codecs and payload formats MAY be supported.

</p>
<p>
Video telephony applications, which employ a video stream in addition
to the audio stream, are possible in VoiceXML 2.0/2.1 through the use of
multimedia file container formats such as the .3gp <a class='info' href='#TS26244'>[TS26244]<span> (</span><span class='info'>, &ldquo;Transparent end-to-end packet switched streaming service (PSS); 3GPP file format (3GP),&rdquo; December&nbsp;2004.</span><span>)</span></a> and .mp4
formats <a class='info' href='#IEC14496-14'>[IEC14496&#8209;14]<span> (</span><span class='info'>, &ldquo;Information technology. Coding of audio-visual objects. MP4 file format,&rdquo; October&nbsp;2003.</span><span>)</span></a>. Video support is optional for this specification. 
If video is supported then:
</p>
<ol class="text">
<li>H.263 Baseline <a class='info' href='#RFC4629'>[RFC4629]<span> (</span><span class='info'>Ott, H., Bormann, C., Sullivan, G., Wenger, S., and R. Even, &ldquo;RTP Payload Format for ITU-T Rec,&rdquo; January&nbsp;2007.</span><span>)</span></a> MUST be supported. For legacy reasons,
       the 1996 version of H.263 MAY be supported using the RTP payload
       format defined in <a class='info' href='#RFC2190'>[RFC2190]<span> (</span><span class='info'>Zhu, C., &ldquo;RTP Payload Format for H.263 Video Streams,&rdquo; September&nbsp;1997.</span><span>)</span></a> (payload type 34 <a class='info' href='#RFC3551'>[RFC3551]<span> (</span><span class='info'>Schulzrinne, H. and S. Casner, &ldquo;RTP Profile for Audio and Video Conferences with Minimal Control,&rdquo; July&nbsp;2003.</span><span>)</span></a>).
</li>
<li>AMR-NB audio <a class='info' href='#RFC4867'>[RFC4867]<span> (</span><span class='info'>Sjoberg, J., Westerlund, M., Lakaniemi, A., and Q. Xie, &ldquo;RTP Payload Format and File Storage Format for the Adaptive Multi-Rate (AMR) and Adaptive Multi-Rate Wideband (AMR-WB) Audio Codecs,&rdquo; April&nbsp;2007.</span><span>)</span></a> SHOULD be supported.
</li>
<li>MPEG-4 video <a class='info' href='#RFC3016'>[RFC3016]<span> (</span><span class='info'>Kikuchi, Y., Nomura, T., Fukunaga, S., Matsui, Y., and H. Kimata, &ldquo;RTP Payload Format for MPEG-4 Audio/Visual Streams,&rdquo; November&nbsp;2000.</span><span>)</span></a> SHOULD be supported.
</li>
<li>MPEG-4 AAC audio <a class='info' href='#RFC3016'>[RFC3016]<span> (</span><span class='info'>Kikuchi, Y., Nomura, T., Fukunaga, S., Matsui, Y., and H. Kimata, &ldquo;RTP Payload Format for MPEG-4 Audio/Visual Streams,&rdquo; November&nbsp;2000.</span><span>)</span></a> SHOULD be supported.
</li>
<li>Other codecs and payload formats MAY be supported.
</li>
</ol><p>

</p>
<p>
Video record operations carried out by the VoiceXML Media Server typically require receipt of an
intra-frame before the recording can commence. The VoiceXML Media Server SHOULD use the mechanism 
described in <a class='info' href='#RFC4585'>[RFC4585]<span> (</span><span class='info'>Ott, J., Wenger, S., Sato, N., Burmeister, C., and J. Rey, &ldquo;Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF),&rdquo; July&nbsp;2006.</span><span>)</span></a> to request that a new intra-frame be sent.

</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
DTMF</h3>

<p>
DTMF events <a class='info' href='#RFC4733'>[RFC4733]<span> (</span><span class='info'>Schulzrinne, H. and T. Taylor, &ldquo;RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals,&rdquo; December&nbsp;2006.</span><span>)</span></a> MUST be supported. When the user agent does
not indicate support for <a class='info' href='#RFC4733'>[RFC4733]<span> (</span><span class='info'>Schulzrinne, H. and T. Taylor, &ldquo;RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals,&rdquo; December&nbsp;2006.</span><span>)</span></a> the VoiceXML Media Server
MAY perform DTMF detection using other means such as detecting DTMF tones in the
audio stream. Implementation note: the reason why only <a class='info' href='#RFC4733'>[RFC4733]<span> (</span><span class='info'>Schulzrinne, H. and T. Taylor, &ldquo;RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals,&rdquo; December&nbsp;2006.</span><span>)</span></a>
telephone-events must be used when the user agent indicates support of it is to
avoid the risk of double detection of DTMF if detection on the audio stream was
simultaneously applied.

</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Returning Data to the Application Server</h3>

<p>
This section discusses the mechanisms for returning data (e.g. collected utterance or digit information)
from the VoiceXML Media Server to the Application Server. 

</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
HTTP Mechanism</h3>

<p>
At any time during the execution of the VoiceXML application, data can be
returned to the Application Server via a HTTP POST using standard VoiceXML
elements such as &lt;submit> or &lt;subdialog>. Notably, the &lt;data> element
in VoiceXML 2.1 <a class='info' href='#VXML21'>[VXML21]<span> (</span><span class='info'>Oshry, M., Auburn, R J., Baggia, P., Bodell, M., Burke, D., Burnett, D., Candell, E., Kilic, H., McGlashan, S., Lee, A., Porter, B., and K. Rehor, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.1,&rdquo; June&nbsp;2005.</span><span>)</span></a> allows data to be sent to the Application Server
efficiently without requiring a VoiceXML page transition and is ideal
for short VoiceXML applications such as "prompt and collect".

</p>
<p>
For most applications, it is necessary to correlate the information being passed
over HTTP with a particular VoiceXML Session. One way this can be achieved is to
include the SIP Call-ID (accessible in VoiceXML via the
session.connection.protocol.sip.headers array) within the HTTP POST fields. 
Alternatively, a unique "POST-back URI" can be specified as an application-specific URI
parameter in the Request-URI of the initial INVITE (accessible in VoiceXML via the
session.connection.protocol.sip.requesturi array). 

</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
SIP Mechanism</h3>

<p>
Data can be returned to the Application Server via the expr or namelist attribute on &lt;exit> 
or the namelist attribute on &lt;disconnect>. A VoiceXML Media Server MUST support encoding
of the expr / namelist data in the message body of a BYE request sent from the VoiceXML Media Server
as a result of encountering the &lt;exit> or &lt;disconnect> element. A VoiceXML Media Server MAY
support inclusion of the expr / namelist data in the message body of the 200 OK message in
response to a received BYE request (i.e. when the VoiceXML Application responds to the
connection.disconnect.hangup event and subsequently executes an &lt;exit> element
with the expr or namelist attribute specified).

</p>
<p>
Note that sending expr/namelist data in the 200 OK response requires that the VoiceXML Media Server
delay the final response to the received BYE request until the VoiceXML Application's post-disconnect
final processing state terminates. This mechanism is subject to the constraint that the VoiceXML
Media Server must respond before the UAC's timer F expires (defaults to 32 seconds). Moreover, 
for unreliable transports, the UAC will retransmit the BYE request according to the rules of
<a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>. The VoiceXML Media Server SHOULD implement the recommendations of
<a class='info' href='#RFC4320'>[RFC4320]<span> (</span><span class='info'>Sparks, R., &ldquo;Actions Addressing Identified Issues with the Session Initiation Protocol's (SIP) Non-INVITE Transaction,&rdquo; January&nbsp;2006.</span><span>)</span></a> regarding when to send the 100 Trying provisional response to the BYE request.

</p>
<p>
If a VoiceXML Application executes a &lt;disconnect> <a class='info' href='#VXML21'>[VXML21]<span> (</span><span class='info'>Oshry, M., Auburn, R J., Baggia, P., Bodell, M., Burke, D., Burnett, D., Candell, E., Kilic, H., McGlashan, S., Lee, A., Porter, B., and K. Rehor, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.1,&rdquo; June&nbsp;2005.</span><span>)</span></a> and 
then subsequently executes an &lt;exit> with namelist information, the namelist
information from the &lt;exit> element is discarded.

</p>
<p>
Namelist variables are first converted to to their JSON value equivalent <a class='info' href='#RFC4627'>[RFC4627]<span> (</span><span class='info'>Crockford, D., &ldquo;The application/json Media Type for JavaScript Object Notation (JSON),&rdquo; July&nbsp;2006.</span><span>)</span></a>
and encoded in the message body using the application/x-www-form-urlencoded format
content type <a class='info' href='#HTML4'>[HTML4]<span> (</span><span class='info'>Raggett, D., Le Hors, A., and I. Jacobs, &ldquo;HTML 4.01 Specification,&rdquo; Dec&nbsp;1999.</span><span>)</span></a>. The behavior resulting from specifying
a recording variable in the namelist or an ECMAScript object with circular references
is not defined.  If the expr attribute is specified on the &lt;exit> 
element instead of the namelist attribute, the reserved name __exit is
used. 

</p>
<p>
To allow the application server to differentiate between a BYE resulting from a &lt;disconnect>
from one resulting from an &lt;exit>, the reserved name __reason is used, with a value of 
"disconnect" (without brackets) to reflect the use of VoiceXML's &lt;disconnect> element,
and a value of "exit" (without brackets) to an explicit &lt;exit> in the VoiceXML
document. If the session terminates for other reasons (such as the media
server encountering an error), this parameter may be omitted, or may take on platform-specific
values prefixed with an underscore.

</p>
<p>
This specification extends the application/x-www-form-urlencoded by replacing non-ASCII
characters with one or more octets of the UTF-8 representation of the character, with
each octet in turn replaced by %HH, where HH represents the uppercase hexadecimal notation
for the octet value and % is a literal character. As a consequence, the Content-Type header
field in a BYE message containing expr/namelist data MUST be set to
application/x-www-form-urlencoded;charset=utf-8.

</p>
<p>
The following table provides some examples of &lt;exit> usage and the 
corresponding result content. 
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 +----------------------------------------------------------------+
 |&lt;exit&gt; Usage                  | Result Content                  |
 |------------------------------|---------------------------------|
 |&lt;exit/&gt;                       | __reason=exit                   |
 |&lt;exit expr="5"/&gt;              | __exit=5&amp;__reason=exit          |
 |&lt;exit expr="'done'"/&gt;         | __exit="done"&amp;__reason=exit     |
 |&lt;exit expr="userAuthorized"/&gt; | __exit=true&amp;__reason=exit       |
 |&lt;exit namelist="pin errors"/&gt; | pin=1234&amp;errors=0&amp;__reason=exit |
 +----------------------------------------------------------------+
 assuming the following VoiceXML variables and values:
     userAuthorized = true
     pin = 1234
     errors = 0
</pre></div><p>


</p>
<p>

For example, consider the VoiceXML snippet:
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    ...
    &lt;exit namelist="id pin"/&gt;
    ...
</pre></div><p>


If id equals 1234 and pin equals 9999, say, the BYE message would look similar to:

</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   BYE sip:user@pc33.example.com SIP/2.0
   Via: SIP/2.0/UDP 192.0.2.4;branch=z9hG4bKnashds10
   Max-Forwards: 70
   From: sip:dialog@example.com;tag=a6c85cf
   To: sip:user@example.com;tag=1928301774
   Call-ID: a84b4c76e66710
   CSeq: 231 BYE
   Content-Type: application/x-www-form-urlencoded;charset=utf-8
   Content-Length: 30

   id=1234&amp;pin=9999&amp;__reason=exit
</pre></div><p>



</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Outbound Calling</h3>

<p>
Outbound calls can be triggered via the Application Server using third party call
control <a class='info' href='#RFC3725'>[RFC3725]<span> (</span><span class='info'>Rosenberg, J., Peterson, J., Schulzrinne, H., and G. Camarillo, &ldquo;Best Current Practices for Third Party Call Control (3pcc) in the Session Initiation Protocol (SIP),&rdquo; April&nbsp;2004.</span><span>)</span></a>.
</p>
<p>
Flow IV from <a class='info' href='#RFC3725'>[RFC3725]<span> (</span><span class='info'>Rosenberg, J., Peterson, J., Schulzrinne, H., and G. Camarillo, &ldquo;Best Current Practices for Third Party Call Control (3pcc) in the Session Initiation Protocol (SIP),&rdquo; April&nbsp;2004.</span><span>)</span></a> is recommended in conjunction with the
VoiceXML Session preparation mechanism. This flow has several advantages
over others, namely:
</p>
<ol class="text">
<li>Selection of a VoiceXML Media Server and preparation of the VoiceXML Application can
     occur before the call is placed to avoid the callee experiencing delays.
</li>
<li>Avoids timing difficulties that could occur with other flows due to the time taken to 
     fetch and parse the initial VoiceXML document.
</li>
<li>The flow is IPv6 compatible.
</li>
</ol><p>

</p>
<p>
An example flow for an Application Server initiated outbound call is provided in section 2.6.2.

</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Call Transfer</h3>

<p>
While VoiceXML is at its core a dialog language, it also provides optional call transfer
capability. VoiceXML's transfer capability is particularly suited to the PSTN IVR Service Node
use-case described in section 1.1.2. It is NOT RECOMMENDED to use VoiceXML's call
transfer capability in networks involving Application Servers. Rather, the Application Server
itself can provide call routing functionality by taking signaling actions based on the data
returned to it from the VoiceXML Media Server via HTTP or in the SIP BYE message. 

</p>
<p>
If VoiceXML transfer is supported, the mechanism described in this section MUST be employed. 
The transfer flows specified here are selected on the basis that they provide the
best interworking across a wide range of SIP devices. CCXML&lt;->VoiceXML implementations, 
which require tight-coupling in the form of bi-directional eventing to support all
transfer types defined in VoiceXML, may benefit from
other approaches, such as the use of SIP event packages <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a>.

</p>
<p>
In what follows, the provisional responses have been omitted for clarity.

</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Blind</h3>

<p>
The blind transfer sequence is initiated by the VoiceXML Media Server via a REFER message <a class='info' href='#RFC3515'>[RFC3515]<span> (</span><span class='info'>Sparks, R., &ldquo;The Session Initiation Protocol (SIP) Refer Method,&rdquo; April&nbsp;2003.</span><span>)</span></a> 
on the original SIP dialog. The Refer-To header contains the URI for the called party, as specified via the
'dest' or 'destexpr' attributes on the VoiceXML &lt;transfer> tag.

</p>
<p>
If the REFER request is accepted, in which case the VoiceXML Media Server will receive a 2xx response,
the VoiceXML Media Server throws the connection.disconnect.transfer event and will terminate the 
VoiceXML Session with a BYE message. For blind transfers, implementations MAY use <a class='info' href='#RFC4488'>[RFC4488]<span> (</span><span class='info'>Levin, O., &ldquo;Suppression of Session Initiation Protocol (SIP) REFER Method Implicit Subscription,&rdquo; May&nbsp;2006.</span><span>)</span></a>
to suppress the implicit subscription associated with the REFER message. 

</p>
<p>
If the REFER request results in a non-2xx response, the &lt;transfer>'s form item variable (or event raised)
depends on the SIP response and is specified in the following table.  Note that this indicates that 
the transfer request was rejected.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

 +-------------------------+-----------------------------------+
 | SIP Response            | &lt;transfer&gt; variable / event       |
 +-------------------------+-----------------------------------+
 | 404 Not Found           | error.connection.baddestination   |
 | 405 Method Not Allowed  | error.unsupported.transfer.blind  |
 | 503 Service Unavailable | error.connection.noresource       |
 | (No response)           | network_busy                      |
 | (Other 3xx/4xx/5xx/6xx) | unknown                           |
 +-------------------------+-----------------------------------+

</pre></div>
<p> 
An example is illustrated below (provisional responses and NOTIFY
messages corresponding to provisional responses have been omitted
for clarity).

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
User Agent 1        VoiceXML        User Agent 2
  (Caller)        Media Server        (Callee)
     |                 |                 |
     |(0) RTP/SRTP     |                 |
     |.................|                 |
     |                 |                 |
     |(1) REFER        | &lt;transfer&gt;      |
     |&lt;----------------|                 |
     |(2) 202 Accepted |                 |
     |----------------&gt;|                 |
     |(3) BYE          |                 |
     |&lt;----------------|                 |
     |(4) 200 OK       |                 |
     |----------------&gt;|                 |
     |                 | Stop RTP (0)    |
     |(5) INVITE                         |
     |----------------------------------&gt;|
     |(6) 200 OK                         |
     |&lt;----------------------------------|
     |(7) NOTIFY       |                 |
     |----------------&gt;|                 |
     |(8) 200 OK       |                 |
     |&lt;--------------- |                 |
     |(9) ACK                            |
     |----------------------------------&gt;|
     |(10) RTP/SRTP                      |
     |...................................|
     |                 |                 |

</pre></div>
<p>
If the "aai" or "aaiexpr" attribute is present on &lt;transfer>, it is appended to the Refer-To URI
as a parameter named "aai" in the REFER method. Reserved characters are URL-encoded as required for SIP/SIPS
URIs <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>. The mapping of values outside of the ASCII range is platform specific.

</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Bridge</h3>

<p>
The bridge transfer function results in the creation of a small multi-party session 
involving the Caller, the VoiceXML Media Server, and the Callee. The VoiceXML Media 
Server invites the Callee to the session and will eject the Callee if the transfer
is terminated.

</p>
<p>
If the "aai" or "aaiexpr" attribute is present on &lt;transfer>, it is appended to the Request-URI
in the INVITE as a URI parameter named "aai". Reserved characters are URL-encoded as required for SIP/SIPS
URIs <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>. The mapping of values outside of the ASCII range is platform specific.

</p>
<p>
During the transfer attempt, audio specified in
the transferaudio attribute of &lt;transfer> is streamed to User Agent 1. A
VoiceXML Media Server MAY play early media received from the Callee to the Caller
if the transferaudio attribute is omitted.

</p>
<p>
The bridge transfer sequence is illustrated below. The VoiceXML Media Server
(acting as a UAC) makes a call to User Agent 2 with the same codecs used by
User Agent 1. When the call setup is complete, RTP flows between User Agent 2
and the VoiceXML Media Server. This stream is mixed with User Agent 1's. 

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
User Agent 1         VoiceXML          User Agent 2
  (Caller)         Media Server          (Callee)
    |                   |                   |
    |(0)RTP/SRTP        |                   |
    |...................|                   |
    |                   |                   |
    |         &lt;transfer&gt;|(1)INVITE [offer]  |
    |                   |------------------&gt;|
    |                   |(2) 200 OK [answer]|
    |                   |&lt;------------------|
    |                   |(3) ACK            |
    |                   |------------------&gt;|
    |                   |(4) RTP/SRTP       |
    |              mix  |...................|
    |            (0)+(4)|                   |

</pre></div>
<p>
If a final response is not received from User Agent 2 from the INVITE and the connecttimeout
expires (specified as an attribute of &lt;transfer>), the VoiceXML Media Server will issue a CANCEL
to terminate the transaction and the &lt;transfer>'s form item variable is set to noanswer.

</p>
<p>
If INVITE results in a non-2xx response, the &lt;transfer>'s form item variable (or event raised)
depends on the SIP response and is specified in the following table.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

 +-------------------------+-----------------------------------+
 | SIP Response            | &lt;transfer&gt; variable / event       |
 +-------------------------+-----------------------------------+
 | 404 Not Found           | error.connection.baddestination   |
 | 405 Method Not Allowed  | error.unsupported.transfer.bridge |
 | 408 Request Timeout     | noanswer                          |
 | 486 Busy Here           | busy                              |
 | 503 Service Unavailable | error.connection.noresource       |
 | (No response)           | network_busy                      |
 | (Other 3xx/4xx/5xx/6xx) | unknown                           |
 +-------------------------+-----------------------------------+

</pre></div>
<p>
Once the transfer is established, the VoiceXML Media Server can "listen" to the media stream
from User Agent 1 to perform speech or DTMF hotword, which when matched results in a
near-end disconnect, i.e. the VoiceXML Media Server issues a BYE to User Agent 2 and
the VoiceXML Application continues with User Agent 1. A BYE will also be issued to
User Agent 2 if the call duration exceeds the maximum duration specified in the
maxtime attribute on &lt;transfer>. 

</p>
<p>
If User Agent 2 issues a BYE during the transfer, the transfer terminates and the VoiceXML
&lt;transfer>'s form item variable receives the value far_end_disconnect. If User Agent 1
issues a BYE during the transfer, the transfer terminates and the VoiceXML event
connection.disconnect.transfer is thrown.

</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Consultation</h3>

<p>
The consultation transfer (also called attended transfer <a class='info' href='#SIPEX'>[SIPEX]<span> (</span><span class='info'>Johnston, A., Sparks, R., Cunningham, C., Donovan, S., and K. Summers, &ldquo;Session Initiation Protocol Examples,&rdquo; July&nbsp;2005.</span><span>)</span></a>) is similar to
a blind transfer except that the outcome of the transfer call setup is known
and the Caller is not dropped as a result of an unsuccessful transfer attempt.

</p>
<p>
Consultation transfer commences with the same flow as for bridge transfer 
except that the RTP streams are not mixed at step (4)
and error.unsupported.transfer.consultation supplants error.unsupported.transfer.bridge.
Assuming a new SIP dialog with User Agent 2 is created, the remainder of the
sequence follows as illustrated below (provisional responses and NOTIFY
messages corresponding to provisional responses have been omitted for clarity). 
Consultation transfer makes use of the Replaces: header <a class='info' href='#RFC3891'>[RFC3891]<span> (</span><span class='info'>Mahy, R., Biggs, B., and R. Dean, &ldquo;The Session Initiation Protocol (SIP) &quot;Replaces&quot; Header,&rdquo; September&nbsp;2004.</span><span>)</span></a> such
that User Agent 1 calls User Agent 2 and replaces the latter's SIP dialog with the
VoiceXML Media Server with a new SIP dialog between the Caller and Callee.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
User Agent 1        VoiceXML       User Agent 2
  (Caller)        Media Server       (Callee)
     |                 |                 |
     |(0) RTP/SRTP     |                 |
     |.................|(4) RTP/SRTP     |
     |                 |.................|
     |(5) REFER        |                 |
     |&lt;----------------|                 |
     |(6) 202 Accepted |                 |
     |----------------&gt;|                 |
     |(7) INVITE Replaces:ms1.example.com|
     |----------------------------------&gt;|
     |(8) 200 OK                         |
     |&lt;----------------------------------|
     |(9) ACK                            |
     |----------------------------------&gt;|
     |(10) RTP/SRTP                      |
     |...................................|
     |                 |(11) BYE         |
     |                 |&lt;----------------|
     |                 |(12) 200 OK      |
     |                 |----------------&gt;| Stop
     |(13) NOTIFY      |                 | RTP (4)
     |----------------&gt;|                 |
     |(14) 200 OK      |                 |
     |&lt;----------------|                 |
     |(15) BYE         |                 |
     |&lt;----------------|                 |
     |(16) 200 OK      |                 |
     |----------------&gt;| Stop            |
     |                 | RTP (0)         |
</pre></div>
<p>
If a response other than 202 Accepted is recevied in response to the REFER request sent to User Agent 1,
the transfer terminates, and an error.unsupported.transfer.consultation event is raised.  In addition, a
BYE is sent to User Agent 2 to terminate the established outbound leg.

</p>
<p>
The VoiceXML Media Server uses receipt of a NOTIFY message with a sipfrag message of 200 OK to 
determine that the consultation transfer has succeeded.  When this occurs, the connection.disconnect.transfer
event will be thrown to the VoiceXML application, and a BYE is sent to User Agent 1 to terminate the session. 
A NOTIFY message with a non-2xx final response sipfrag message body will result in the transfer terminating 
and the associated VoiceXML input item variable being set to 'unknown'. Note that as a consequence of this mechanism, 
implementations MUST NOT use <a class='info' href='#RFC4488'>[RFC4488]<span> (</span><span class='info'>Levin, O., &ldquo;Suppression of Session Initiation Protocol (SIP) REFER Method Implicit Subscription,&rdquo; May&nbsp;2006.</span><span>)</span></a> to suppress the implicit subscription associated
with the REFER message for consultation transfers.

</p>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Contributors</h3>

<p>
The bulk of the early work for this effort was carried out on weekly teleconferences and over e-mail. The authors would particularly like to recognize the contributions of R. J. Auburn (Voxeo), Jeff Haynie (Hakano), and Scott McGlashan (Hewlett-Packard).

</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgements</h3>

<p>
This document owes its genesis to the expired Internet-Draft, "A SIP Interface to VoiceXML Dialog Servers", authored by J. Rosenberg, P. Mataga, and D. Ladd. The following people had input to the current document:
</p>
<blockquote class="text">
<p>R. J. Auburn (Voxeo) 
</p>
<p>Hans Bjurstrom (Hewlett-Packard) 
</p>
<p>Emily Candell (Comverse) 
</p>
<p>Peter Danielsen (Lucent) 
</p>
<p>Brian Frasca (Tellme) 
</p>
<p>Jeff Haynie (Hakano) 
</p>
<p>Scott McGlashan (Hewlett-Packard) 
</p>
<p>Matt Oshry (Tellme) 
</p>
<p>Rao Surapaneni (Tellme) 
</p>
</blockquote><p>
The authors would like to acknowledge the support of Cullen Jennings and the
Mediactrl chairs, Eric Burger and Spencer Dawkins.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>
   Exposing network services with well-known addresses may enhance the possibility of
   exploitation. The VoiceXML Media Server MUST support digest authentication of
   requesting endpoints.

</p>
<p>
   The transfer mechanism described in section 6 makes it
   possible for application developers to initiate outbound calls that consume network
   resources, have billing implications, and may create untraceable calls. The VoiceXML Media 
   Server is RECOMMENDED to provide local policies for authorizing and limiting call placement in addition
   to providing call detail recording for the purposes of generating audit trails and billing.

</p>
<p>
   Some applications may choose to transfer confidential information to
   or from the VoiceXML Media Server. The VoiceXML Media Server MUST implement
   the sips: and https: schemes to provide data confidentiality. 

</p>
<p>
   The VoiceXML Media Server MUST support Secure RTP (SRTP) <a class='info' href='#RFC3711'>[RFC3711]<span> (</span><span class='info'>Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;The Secure Real-time Transport Protocol (SRTP),&rdquo; March&nbsp;2004.</span><span>)</span></a> 
   to provide confidentiality, authentication, and replay protection for RTP media 
   streams (including RTCP control traffic).

</p>
<p>
   To mitigate against the possibility for denial of service attacks,
   the VoiceXML Media Server is RECOMMENDED to have local policies such as time-limiting
   VoiceXML application execution.

</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>IANA SHALL register the following parameters
   in the SIP/SIPS URI Parameters registry, following the specification 
   required policy of RFC 3969:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Parameter Name    Predefined Values    Reference
--------------    -----------------    ---------
maxage                   no               TBD
maxstale                 no               TBD
method              "get" / "post"        TBD
postbody                 no               TBD
</pre></div>
<a name="Changes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Changes since last version:</h3>

<p>
 </p>
<ul class="text">
<li>Added rationale for standardizing the SIP URI user part to 'dialog'
</li>
<li>Specified that the Request-URI parameter names are case-insensitive and the
      corresponding array keys are converted to lower-case
</li>
</ul><p>
 
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="HTML4">[HTML4]</a></td>
<td class="author-text">Raggett, D., Le Hors, A., and I. Jacobs, &ldquo;HTML 4.01 Specification,&rdquo; W3C&nbsp;Recommendation, Dec&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3016">[RFC3016]</a></td>
<td class="author-text">Kikuchi, Y., Nomura, T., Fukunaga, S., Matsui, Y., and H. Kimata, &ldquo;<a href="http://tools.ietf.org/html/rfc3016">RTP Payload Format for MPEG-4 Audio/Visual Streams</a>,&rdquo; RFC&nbsp;3016, November&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc3016.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3264">[RFC3264]</a></td>
<td class="author-text">Rosenberg, J. and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3264">An Offer/Answer Model with Session Description Protocol (SDP)</a>,&rdquo; RFC&nbsp;3264, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3264.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3265">[RFC3265]</a></td>
<td class="author-text">Roach, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3265">Session Initiation Protocol (SIP)-Specific Event Notification</a>,&rdquo; RFC&nbsp;3265, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3265.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3311">[RFC3311]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc3311">The Session Initiation Protocol (SIP) UPDATE Method</a>,&rdquo; RFC&nbsp;3311, October&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3311.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3326">[RFC3326]</a></td>
<td class="author-text">Schulzrinne, H., Oran, D., and G. Camarillo, &ldquo;<a href="http://tools.ietf.org/html/rfc3326">The Reason Header Field for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3326, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3326.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3515">[RFC3515]</a></td>
<td class="author-text">Sparks, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3515">The Session Initiation Protocol (SIP) Refer Method</a>,&rdquo; RFC&nbsp;3515, April&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3515.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3551">[RFC3551]</a></td>
<td class="author-text">Schulzrinne, H. and S. Casner, &ldquo;<a href="http://tools.ietf.org/html/rfc3551">RTP Profile for Audio and Video Conferences with Minimal Control</a>,&rdquo; STD&nbsp;65, RFC&nbsp;3551, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3551.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3711">[RFC3711]</a></td>
<td class="author-text">Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP)</a>,&rdquo; RFC&nbsp;3711, March&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3711.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3725">[RFC3725]</a></td>
<td class="author-text">Rosenberg, J., Peterson, J., Schulzrinne, H., and G. Camarillo, &ldquo;<a href="http://tools.ietf.org/html/rfc3725">Best Current Practices for Third Party Call Control (3pcc) in the Session Initiation Protocol (SIP)</a>,&rdquo; BCP&nbsp;85, RFC&nbsp;3725, April&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3725.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3891">[RFC3891]</a></td>
<td class="author-text">Mahy, R., Biggs, B., and R. Dean, &ldquo;<a href="http://tools.ietf.org/html/rfc3891">The Session Initiation Protocol (SIP) "Replaces" Header</a>,&rdquo; RFC&nbsp;3891, September&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3891.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4244">[RFC4244]</a></td>
<td class="author-text">Barnes, M., &ldquo;<a href="http://tools.ietf.org/html/rfc4244">An Extension to the Session Initiation Protocol (SIP) for Request History Information</a>,&rdquo; RFC&nbsp;4244, November&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4244.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4320">[RFC4320]</a></td>
<td class="author-text">Sparks, R., &ldquo;<a href="http://tools.ietf.org/html/rfc4320">Actions Addressing Identified Issues with the Session Initiation Protocol's (SIP) Non-INVITE Transaction</a>,&rdquo; RFC&nbsp;4320, January&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4320.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4488">[RFC4488]</a></td>
<td class="author-text">Levin, O., &ldquo;<a href="http://tools.ietf.org/html/rfc4488">Suppression of Session Initiation Protocol (SIP) REFER Method Implicit Subscription</a>,&rdquo; RFC&nbsp;4488, May&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4488.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4585">[RFC4585]</a></td>
<td class="author-text">Ott, J., Wenger, S., Sato, N., Burmeister, C., and J. Rey, &ldquo;<a href="http://tools.ietf.org/html/rfc4585">Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)</a>,&rdquo; RFC&nbsp;4585, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4585.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4627">[RFC4627]</a></td>
<td class="author-text">Crockford, D., &ldquo;<a href="http://tools.ietf.org/html/rfc4627">The application/json Media Type for JavaScript Object Notation (JSON)</a>,&rdquo; RFC&nbsp;4627, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4627.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4629">[RFC4629]</a></td>
<td class="author-text">Ott, H., Bormann, C., Sullivan, G., Wenger, S., and R. Even, &ldquo;<a href="http://tools.ietf.org/html/rfc4629">RTP Payload Format for ITU-T Rec</a>,&rdquo; RFC&nbsp;4629, January&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4629.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4733">[RFC4733]</a></td>
<td class="author-text">Schulzrinne, H. and T. Taylor, &ldquo;<a href="http://tools.ietf.org/html/rfc4733">RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals</a>,&rdquo; RFC&nbsp;4733, December&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4733.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4855">[RFC4855]</a></td>
<td class="author-text">Casner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc4855">Media Type Registration of RTP Payload Formats</a>,&rdquo; RFC&nbsp;4855, February&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4855.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4867">[RFC4867]</a></td>
<td class="author-text">Sjoberg, J., Westerlund, M., Lakaniemi, A., and Q. Xie, &ldquo;<a href="http://tools.ietf.org/html/rfc4867">RTP Payload Format and File Storage Format for the Adaptive Multi-Rate (AMR) and Adaptive Multi-Rate Wideband (AMR-WB) Audio Codecs</a>,&rdquo; RFC&nbsp;4867, April&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4867.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="VXML20">[VXML20]</a></td>
<td class="author-text">McGlashan, S., Burnett, D., Carter, J., Danielsen, P., Ferrans, J., Hunt, A., Lucas, B., Porter, B., Rehor, K., and S. Tryphonas, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.0,&rdquo; W3C&nbsp;Recommendation, March&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="VXML21">[VXML21]</a></td>
<td class="author-text">Oshry, M., Auburn, R J., Baggia, P., Bodell, M., Burke, D., Burnett, D., Candell, E., Kilic, H., McGlashan, S., Lee, A., Porter, B., and K. Rehor, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.1,&rdquo; W3C&nbsp;Candidate Recommendation, June&nbsp;2005.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="CCXML10">[CCXML10]</a></td>
<td class="author-text">Auburn, R J., &ldquo;Voice Browser Call Control: CCXML Version 1.0,&rdquo; W3C&nbsp;Working Draft (work in progress), June&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="IEC14496-14">[IEC14496-14]</a></td>
<td class="author-text">&ldquo;Information technology. Coding of audio-visual objects. MP4 file format,&rdquo; ISO/IEC&nbsp;ISO/IEC 14496-14:2003, October&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="MRCPv2">[MRCPv2]</a></td>
<td class="author-text">Shanmugham, S. and D. Burnett, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-speechsc-mrcpv2-13.txt">Media Resource Control Protocol Version 2</a>,&rdquo; draft-ietf-speechsc-mrcpv2-13 (work in progress), Sep&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2190">[RFC2190]</a></td>
<td class="author-text"><a href="mailto:czhu@ibeam.intel.com">Zhu, C.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2190">RTP Payload Format for H.263 Video Streams</a>,&rdquo; RFC&nbsp;2190, September&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2190.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2190.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2190.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3960">[RFC3960]</a></td>
<td class="author-text">Camarillo, G. and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3960">Early Media and Ringing Tone Generation in the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3960, December&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3960.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3969">[RFC3969]</a></td>
<td class="author-text">Camarillo, G., &ldquo;<a href="http://tools.ietf.org/html/rfc3969">The Internet Assigned Number Authority (IANA) Uniform Resource Identifier (URI) Parameter Registry for the Session Initiation Protocol (SIP)</a>,&rdquo; BCP&nbsp;99, RFC&nbsp;3969, December&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3969.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4240">[RFC4240]</a></td>
<td class="author-text">Burger, E., Van Dyke, J., and A. Spitzer, &ldquo;<a href="http://tools.ietf.org/html/rfc4240">Basic Network Media Services with SIP</a>,&rdquo; RFC&nbsp;4240, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4240.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SIPEX">[SIPEX]</a></td>
<td class="author-text">Johnston, A., Sparks, R., Cunningham, C., Donovan, S., and K. Summers, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sipping-service-examples.txt">Session Initiation Protocol Examples</a>,&rdquo; draft-ietf-sipping-service-examples (work in progress), July&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="TS23002">[TS23002]</a></td>
<td class="author-text">&ldquo;3rd Generation Partnership Project: Network architecture (Release 6),&rdquo; 3GPP&nbsp;TS 23.002 v6.6.0, December&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="TS26244">[TS26244]</a></td>
<td class="author-text">&ldquo;Transparent end-to-end packet switched streaming service (PSS); 3GPP file format (3GP),&rdquo; 3GPP&nbsp;TS 26.244 v6.4.0, December&nbsp;2004.</td></tr>
</table>

<a name="Notes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Notes on Normative References</h3>

<p>We make a "downref" normative reference to [RFC4627] - an Informational Draft describing a proprietary (but extremely popular) format.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dave Burke</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Google</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Belgrave House, 76 Buckingham Palace Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">London  SW1W 9TQ</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">United Kingdom</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:daveburke@google.com">daveburke@google.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mark Scott</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Genesys</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1120 Finch Avenue West, 8th floor</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Toronto, Ontario  M3J 3H7</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Canada</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Mark.Scott@genesyslab.com">Mark.Scott@genesyslab.com</a></td></tr>
</table>
</body></html>
