


Network Working Group                                        B. Sarikaya
Internet-Draft                                                    F. Xia
Expires: August 20, 2008                                      Huawei USA
                                                       February 17, 2008


     Prefix Management for MIPv6 Home Link Operation over P2P Links
         draft-sarikaya-mext-homelink-prefix-delegation-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 20, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2008).














Sarikaya & Xia           Expires August 20, 2008                [Page 1]

Internet-Draft              Prefix Delegation              February 2008


Abstract

   In Mobile IPv6 home link operation on point-to-point links requires
   that one prefix can only be assigned to one mobile node by the home
   agent (HA) and different mobile nodes can not share this home network
   prefix.  Managing Per-MN home network prefixes is likely to increase
   the processing load at the HA.  Based on the idea that DHCPv6 servers
   can manage prefixes, we propose a new technique in which HA offloads
   delegation and release tasks of the prefixes to the DHCPv6 server.
   HA requests a prefix for an incoming mobile station to the DHCPv6
   server.  Based on this prefix, the mobile node can create a home
   address.  When the mobile node leaves the network, the prefix is
   returned to the DHCPv6 server.


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . . . 4
   3.  Mobile IPv6 Home Network Prefix Delegation  . . . . . . . . . . 4
   4.  Prefix Release Procedure  . . . . . . . . . . . . . . . . . . . 5
   5.  Miscellaneous Considerations  . . . . . . . . . . . . . . . . . 6
   6.  Security Considerations . . . . . . . . . . . . . . . . . . . . 6
   7.  IANA considerations . . . . . . . . . . . . . . . . . . . . . . 6
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 6
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 6
     9.1.  Normative References  . . . . . . . . . . . . . . . . . . . 6
     9.2.  Informative References  . . . . . . . . . . . . . . . . . . 7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 7
   Intellectual Property and Copyright Statements  . . . . . . . . . . 8





















Sarikaya & Xia           Expires August 20, 2008                [Page 2]

Internet-Draft              Prefix Delegation              February 2008


1.  Introduction

   Mobile IPv6 (MIPv6) provides client-based mobility solution to the
   mobile nodes (MN).  In point-to-point links, home link operation
   should make sure to assign a unique prefix to MN.  MN's home address
   should be configured from the home network prefix (HNP).  However, in
   per-MN prefix model, prefix management is an issue.

   When an MN enters the network, its HA requests one or more prefixes
   for the MN for MIPv6.  The prefixes should be released when the MN
   leaves the network.  When an operator wants to renumber its network,
   the prefixes with different lifetime are advertised to the MN.

   DHCPv6 is a preferable way to manage the prefixes.  AAA protocols,
   RADIUS or Diameter, can be involved in prefix allocation as defined
   in [RFC4818].  However, an AAA-based prefix delegation application is
   yet to be defined.

   In this document we propose DHCPv6 based home network prefix
   allocation to MIPv6 MNs.  Section 3 describes Mobile IPv6 home link
   prefix allocation, Section 4 describes how prefixes are released and
   Section 5 presents miscellaneous considerations that apply.





























Sarikaya & Xia           Expires August 20, 2008                [Page 3]

Internet-Draft              Prefix Delegation              February 2008


2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in BCP 14 [RFC2119].

   This document uses the terminology defined in [RFC3315], [RFC3633].
   All MIPv6 related terms are defined in [RFC3775].


3.  Mobile IPv6 Home Network Prefix Delegation

   Home agents (HA) MUST use per-MN home network prefixes in order to
   avoid multi-link subnet issues.  Prefix management becomes an issue
   for HAs.  DHCPv6 based prefix delegation can be used for this purpose
   as part of home link operation
   [I-D.devarapalli-mext-mipv6-home-link].

   Mobile IPv6 per-MN prefix delegation procedure is shown in Figure 1
   using DHCPv6.

         MN      AR       HA      DHCPS    AAA
         |-------|--------|--------|--------|  1. IKEv2 SA Establishment
         |       |------->|        |        |  2. CFG_REQUEST
         |       |        |------->|        |  3. DHCP Solicit
         |       |        |<-------|        |  4. DHCP Advertise
         |       |        |------->|        |  5. DHCP Request (HNP)
         |       |        |<-------|        |  6. DHCP Reply (HNP)
         |       |<-------|        |        |  7. CFG_REPLY (HoA) with
         |-------|--------|--------|--------|     IKEv2 SA Establishment
         |<------|        |        |        |  8. RA for CoA
         |------>|        |        |        |  9. DAD NS for CoA

                    Figure 1: Prefix request procedure

   1.  MN solicits security association establishment using IKEv2.
   2.  HA gets configuration request message [RFC4877].
   3.  DHCP Client at the HA initiates DHCP Solicit procedure to request
       prefixes for the MN.  HA creates and transmits a Solicit message
       as described in sections 17.1.1, "Creation of Solicit Messages"
       and 17.1.2, "Transmission of Solicit Messages" of RFC 3315.  HA
       creates an IA_PD and assigns it an IAID.  HA MUST include the
       IA_PD option in the Solicit message.
   4.  The DHCP server sends an Advertise message to HA in the same way
       as described in section 17.2.2, "Creation and transmission of
       Advertise messages" of RFC 3315.





Sarikaya & Xia           Expires August 20, 2008                [Page 4]

Internet-Draft              Prefix Delegation              February 2008


   5.  HA uses the same message exchanges as described in section 18,
       "DHCP Client-Initiated Configuration Exchange" of RFC 3315 to
       obtain or update prefixes from a DHCP server.  HA and the DHCP
       server use the IA_PD Prefix option to exchange information about
       prefixes in much the same way as IA Address options are used for
       assigned addresses.
   6.  HA stores the prefix information it received in the Reply
       message.
   7.  HA sends back the reply to configuration request with HoA.  MN
       uses HoA in sending BU message to register its care of address.
   8.  The care of address configuration.
   9.  The care of address configuration.

   Note that home address can be assigned during the bootstrapping
   process and downloaded into the AR as part of the policy store.  In
   this case, HA will be triggered by HAAA-HA protocol and HA MUST get a
   per-MN prefix from DHCP server using steps 3-6 in Figure 1 and MUST
   assign HoA from this prefix.

   MN can receive the bootstrapping parameters by sending DHCP Info-
   Request message and receiving DHCP Info-Reply message.


4.  Prefix Release Procedure

   Prefixes can be released in two ways, prefix aging or DHCP release
   procedure.  In the former way, a prefix SHOULD not be used by an MN
   when the prefix ages, and the DHCP Server can delegate it to another
   MN.  A prefix lifetime is delivered from the DHCPv6 server to the
   requesting router (HA) through DHCP IA_PD Prefix option [RFC3633] and
   RA Prefix Information option [RFC4861].

   In case of Mobile IPv6, Figure 2 can be used to release prefixes.

        MN        HA       DHCPS
         |------->|        |    1. MN's link down
         |        |------->|    2. DHCP Release (HNP)
         |        |<-------|    3. DHCP Reply
         |        |        |

                      Figure 2: MIPv6 Prefix release

   HA MUST release MN's home link prefix when MN returns home and goes
   off.  The prefix release signaling is as shown in Figure 2.

   Site renumbering is an open issue for RADIUS/ Diameter protocols to
   manage prefixes.  [RFC3576] MAY be used for renumbering.




Sarikaya & Xia           Expires August 20, 2008                [Page 5]

Internet-Draft              Prefix Delegation              February 2008


5.  Miscellaneous Considerations

   The considerations on how to generate IAIDs and to delegate prefixes
   described in [I-D.sarikaya-16ng-prefix-delegation] on the access
   routers (AR) apply here on the the home agents (HA).


6.  Security Considerations

   This draft introduces no additional messages.  Comparing to
   [RFC3633], there is no additional threats to be introduced.  DHCPv6
   security procedures apply.


7.  IANA considerations

   None.


8.  Acknowledgements


9.  References

9.1.  Normative References

   [I-D.devarapalli-mext-mipv6-home-link]
              Devarapalli, V., Kant, N., and H. Lim, "Mobile IPv6 Home
              Link Operation over SDO point-to-point links",
              draft-devarapalli-mext-mipv6-home-link-00 (work in
              progress), February 2008.

   [I-D.sarikaya-16ng-prefix-delegation]
              Xia, F. and B. Sarikaya, "Using DHCPv6 for Prefix
              Delegation in IEEE 802.16 Networks",
              draft-sarikaya-16ng-prefix-delegation-02 (work in
              progress), November 2007.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", RFC 3315, July 2003.

   [RFC3576]  Chiba, M., Dommety, G., Eklund, M., Mitton, D., and B.
              Aboba, "Dynamic Authorization Extensions to Remote
              Authentication Dial In User Service (RADIUS)", RFC 3576,



Sarikaya & Xia           Expires August 20, 2008                [Page 6]

Internet-Draft              Prefix Delegation              February 2008


              July 2003.

   [RFC3633]  Troan, O. and R. Droms, "IPv6 Prefix Options for Dynamic
              Host Configuration Protocol (DHCP) version 6", RFC 3633,
              December 2003.

   [RFC3775]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support
              in IPv6", RFC 3775, June 2004.

   [RFC4818]  Salowey, J. and R. Droms, "RADIUS Delegated-IPv6-Prefix
              Attribute", RFC 4818, April 2007.

   [RFC4861]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", RFC 4861,
              September 2007.

9.2.  Informative References

   [RFC4877]  Devarapalli, V. and F. Dupont, "Mobile IPv6 Operation with
              IKEv2 and the Revised IPsec Architecture", RFC 4877,
              April 2007.


Authors' Addresses

   Behcet Sarikaya
   Huawei USA
   1700 Alma Dr. Suite 100
   Plano, TX  75075

   Email: sarikaya@ieee.org


   Frank Xia
   Huawei USA
   1700 Alma Dr. Suite 100
   Plano, TX  75075

   Phone: +1 972-509-5599
   Email: xiayangsong@huawei.com











Sarikaya & Xia           Expires August 20, 2008                [Page 7]

Internet-Draft              Prefix Delegation              February 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Sarikaya & Xia           Expires August 20, 2008                [Page 8]


