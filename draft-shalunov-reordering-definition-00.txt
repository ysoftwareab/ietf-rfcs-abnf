





                                                      Stanislav Shalunov
Internet Draft                                                 Internet2
Expiration Date: June 2002
                                                           December 2001

               Definition of IP Packet Reordering Metric
             <draft-shalunov-reordering-definition-00.txt>


1. Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft shadow directories can be accessed at
   http://www.ietf.org/shadow.html

   This memo provides information for the Internet community.  This memo
   does not specify an Internet standard of any kind.  Distribution of
   this memo is unlimited.


2. Abstract

   Various pieces of network testing equipment currently often report a
   characteristic that is referred to as a "degree (or percentage) of
   packet reordering".  The way this metric is computed is often
   undocumented and it differs between vendors.  Having a useful numeric
   measure of the degree of packet reordering is important for
   applications such as TCP and VoIP on different ends of the spectrum.
   However, the metric that makes sense for one application may have no
   or little applicability to another.  This document introduces a
   definition of reordering metric that is hoped to be applicable to a
   number of different applications by parametrizing the metric.




Stanislav Shalunov                                              [Page 1]

INTERNET-DRAFT  Definition of IP Packet Reordering Metric  December 2001


3. N-Reordering Metric Definition

   Notation: Let N be a non-negative integer (a parameter).  Let K be a
   positive integer (sample size, the number of packets sent).  Let L be
   a non-negative integer representing the number of packets that were
   received out of the K packets sent.  Assign each sent packet a
   sequence number, 1 to K.  Let <S_1, ..., S_L> be the original
   sequence numbers of the received packets, in the order of arrival.

   Definition 1: Received packet number I (1 <= I <= L) is called *N-
   reordered* IFF there exist N+1 different numbers I_J (J = 1, ...,
   N+1) such that for all J, I_J < I and S_{I_J} > S_I.

   Let M be the number of N-reordered packets in the sample.

   Definition 2: The degree of N-reordering of the sample is M/K.

   The degree of N-reoreding may be expressed in percentage points, in
   which case the number from definition 2 is multiplied by 100.


4. Examples

   This section is non-normative.

   For sample size 2 and received packets with sequence numbers <2, 1>
   the degree of 0-reordering is 0.5 (or 50%).  The degree of N-
   reordering for N > 0 is 0.  (Informally, an application that
   processes packets as they arrive and has a reordering buffer of size
   0, one packet--or 50% of packets sent--will be as good as lost; for
   any larger reordering buffer size, no packets will be as good as
   lost.)

   For sample size 5 and received packets with sequence numbers <1, 4,
   3, 2, 5> the degree of 0-reordering is 0.4; the degree of
   1-reordering is 0.2; the degree of N-reordering for N > 1 is 0.

   For sample size 5 and received packets with sequence numbers <1, 4,
   3, 2> the degrees of N-reordering are the same as in previous example
   for all non-negative integers N.

   For sample size 5 and received packets with sequence numbers <5, 4,
   3, 2, 1> the degree of 0-reordering is 0.8; the degree of
   1-reordering is 0.6; the degree of 2-reordering is 0.4; the degree of
   3-reordering is 0.2; the degree of N-reordering for N > 3 is 0.






Stanislav Shalunov                                              [Page 2]

INTERNET-DRAFT  Definition of IP Packet Reordering Metric  December 2001


5. RFC 2330 Considerations

   Within the framework of [RFC2330], the N-reordering metrics can only
   be interpreted in a meaningful fashion if, along with the metrics
   themselves and sample size, type of each packet and time when each
   packet was sent is reported.


6. Area of Applicability and Choice of Parameter Values

   This section is non-normative.

   Different applications will require different parameter values to
   obtain a metric that will be relevant to them.

   For example, for a (hypothetical) VoIP application that has no buffer
   to accomodate reordering, 0-reordering metric on its traffic is
   meaningful.  Namely, the sum of loss and 0-reordering will be the
   percentage of packets that the application cannot play back.

   For bulk TCP, 2- or 3-reordering (plus loss) of its traffic will be
   more meaningful (because of Fast Retransmit).

   If the metrics were to be computed with simulated traffic so that
   behavior of real applications with their real traffic could be
   extrapolated, different types of packets and different send schedules
   would of course be required to come up with meaningful numbers (e.g.,
   not implying that these are necessarily the best choices, it could be
   evenly spaced stream of small UDP packets for VoIP or bursts of back-
   to-back MTU-sized TCP packets for TCP).


7. Security Considerations

   This document doesn't define any protocol.  The metric definition per
   se is believed to have no security implications.


8. IANA Considerations

   This document requires nothing from IANA.










Stanislav Shalunov                                              [Page 3]

INTERNET-DRAFT  Definition of IP Packet Reordering Metric  December 2001


9. References


   [RFC2330] V. Paxson, G. Almes, J. Mahdavi, M. Mathis, "Framework for
        IP Performance Metrics", RFC 2330, May 1998.


10. Author's Address

   Stanislav Shalunov <shalunov@internet2.edu>

   Expiration date: June 2002







































Stanislav Shalunov                                              [Page 4]

