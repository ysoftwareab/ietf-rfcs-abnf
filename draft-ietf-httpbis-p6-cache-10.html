<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>HTTP/1.1, part 6: Caching</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="HTTP/1.1, part 6: Caching">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">HTTPbis Working Group</td><td class="header">R. Fielding, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Day Software</td></tr>
<tr><td class="header">Obsoletes: <a href='http://tools.ietf.org/html/rfc2616'>2616</a> (if&nbsp;approved)</td><td class="header">J. Gettys</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Alcatel-Lucent</td></tr>
<tr><td class="header">Expires: January 13, 2011</td><td class="header">J. Mogul</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">HP</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">H. Frystyk</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">L. Masinter</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Adobe Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">P. Leach</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">T. Berners-Lee</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">W3C/MIT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Y. Lafon, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">W3C</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Nottingham, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Reschke, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">greenbytes</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 12, 2010</td></tr>
</table></td></tr></table>
<h1><br />HTTP/1.1, part 6: Caching<br />draft-ietf-httpbis-p6-cache-10</h1>

<h3>Abstract</h3>

<p>
  The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed,
  collaborative, hypermedia information systems. This document is Part 6 of the seven-part
  specification that defines the protocol referred to as "HTTP/1.1" and, taken together,
  obsoletes RFC 2616. Part 6 defines requirements on HTTP caches and the associated header
  fields that control cache behavior or indicate cacheable response messages.

</p>
<h3>Editorial Note (To be removed by RFC Editor)</h3>

<p>
    Discussion of this draft should take place on the HTTPBIS working group
    mailing list (ietf-http-wg@w3.org). The current issues list is
    at <a href='http://tools.ietf.org/wg/httpbis/trac/report/3'>http://tools.ietf.org/wg/httpbis/trac/report/3</a>
    and related documents (including fancy diffs) can be found at
    <a href='http://tools.ietf.org/wg/httpbis/'>http://tools.ietf.org/wg/httpbis/</a>.
  
</p>
<p>
    The changes in this draft are summarized in <a class='info' href='#changes.since.09'>Appendix&nbsp;C.11<span> (</span><span class='info'>Since draft-ietf-httpbis-p6-cache-09</span><span>)</span></a>.
  
</p>
<h3>Status of This Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on January 13, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#caching">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#intro.purpose">1.1.</a>&nbsp;
Purpose<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#intro.terminology">1.2.</a>&nbsp;
Terminology<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#intro.requirements">1.3.</a>&nbsp;
Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#notation">1.4.</a>&nbsp;
Syntax Notation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#core.rules">1.4.1.</a>&nbsp;
Core Rules<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#abnf.dependencies">1.4.2.</a>&nbsp;
ABNF Rules defined in other Parts of the Specification<br />
<a href="#caching.overview">2.</a>&nbsp;
Cache Operation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#response.cacheability">2.1.</a>&nbsp;
Response Cacheability<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#errors.or.incomplete.response.cache.behavior">2.1.1.</a>&nbsp;
Storing Partial and Incomplete Responses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#constructing.responses.from.caches">2.2.</a>&nbsp;
Constructing Responses from Caches<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#expiration.model">2.3.</a>&nbsp;
Freshness Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#calculating.freshness.lifetime">2.3.1.</a>&nbsp;
Calculating Freshness Lifetime<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#age.calculations">2.3.2.</a>&nbsp;
Calculating Age<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#serving.stale.responses">2.3.3.</a>&nbsp;
Serving Stale Responses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#validation.model">2.4.</a>&nbsp;
Validation Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#invalidation.after.updates.or.deletions">2.5.</a>&nbsp;
Request Methods that Invalidate<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#caching.authenticated.responses">2.6.</a>&nbsp;
Shared Caching of Authenticated Responses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#caching.negotiated.responses">2.7.</a>&nbsp;
Caching Negotiated Responses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#combining.headers">2.8.</a>&nbsp;
Combining Responses<br />
<a href="#header.fields">3.</a>&nbsp;
Header Field Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.age">3.1.</a>&nbsp;
Age<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.cache-control">3.2.</a>&nbsp;
Cache-Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cache-request-directive">3.2.1.</a>&nbsp;
Request Cache-Control Directives<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cache-response-directive">3.2.2.</a>&nbsp;
Response Cache-Control Directives<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cache.control.extensions">3.2.3.</a>&nbsp;
Cache Control Extensions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.expires">3.3.</a>&nbsp;
Expires<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.pragma">3.4.</a>&nbsp;
Pragma<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.vary">3.5.</a>&nbsp;
Vary<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.warning">3.6.</a>&nbsp;
Warning<br />
<a href="#history.lists">4.</a>&nbsp;
History Lists<br />
<a href="#IANA.considerations">5.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cache.directive.registration">5.1.</a>&nbsp;
Cache Directive Registry<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#message.header.registration">5.2.</a>&nbsp;
Message Header Registration<br />
<a href="#security.considerations">6.</a>&nbsp;
Security Considerations<br />
<a href="#ack">7.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#compatibility">Appendix&nbsp;A.</a>&nbsp;
Compatibility with Previous Versions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2068">A.1.</a>&nbsp;
Changes from RFC 2068<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2616">A.2.</a>&nbsp;
Changes from RFC 2616<br />
<a href="#collected.abnf">Appendix&nbsp;B.</a>&nbsp;
Collected ABNF<br />
<a href="#change.log">Appendix&nbsp;C.</a>&nbsp;
Change Log (to be removed by RFC Editor before publication)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">C.1.</a>&nbsp;
Since RFC2616<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">C.2.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-00<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">C.3.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-01<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.02">C.4.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-02<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.03">C.5.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-03<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.04">C.6.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-04<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.05">C.7.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-05<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.06">C.8.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-06<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.07">C.9.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-07<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.08">C.10.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-08<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.09">C.11.</a>&nbsp;
Since draft-ietf-httpbis-p6-cache-09<br />
<a href="#rfc.index">&#167;</a>&nbsp;
Index<br />
</p>
<br clear="all" />

<a name="caching"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
  HTTP is typically used for distributed information systems, where performance can be
  improved by the use of response caches. This document defines aspects of HTTP/1.1 related to
  caching and reusing response messages.

</p>
<a name="intro.purpose"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Purpose</h3>
<a name='anchor6'></a>
<p>
  An HTTP cache is a local store of response messages and the subsystem that
  controls its message storage, retrieval, and deletion. A cache stores cacheable responses
  in order to reduce the response time and network bandwidth consumption on future,
  equivalent requests. Any client or server may include a cache, though a cache cannot be
  used by a server that is acting as a tunnel.

</p>
<p>
  Caching would be useless if it did not significantly improve performance. The goal of
  caching in HTTP/1.1 is to reuse a prior response message to satisfy a current request. In
  some cases, a stored response can be reused without the need for a network request,
  reducing latency and network round-trips; a "freshness" mechanism is used for this purpose
  (see <a class='info' href='#expiration.model'>Section&nbsp;2.3<span> (</span><span class='info'>Freshness Model</span><span>)</span></a>). Even when a new request is required, it is often
  possible to reuse all or parts of the payload of a prior response to satisfy the request,
  thereby reducing network bandwidth usage; a "validation" mechanism is used for this
  purpose (see <a class='info' href='#validation.model'>Section&nbsp;2.4<span> (</span><span class='info'>Validation Model</span><span>)</span></a>).

</p>
<a name="intro.terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Terminology</h3>

<p>
  This specification uses a number of terms to refer to the roles played by participants
  in, and objects of, HTTP caching.

</p>
<p>
  <a name='anchor7'></a>
  cacheable
  </p>
<blockquote class="text">
<p>A response is cacheable if a cache is allowed to store a copy of the response message
      for use in answering subsequent requests. Even when a response is cacheable, there may
      be additional constraints on whether a cache can use the cached copy to satisfy a
      particular request.
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor8'></a>
  explicit expiration time
  </p>
<blockquote class="text">
<p>The time at which the origin server intends that an entity should no longer be
      returned by a cache without further validation.
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor9'></a>
  heuristic expiration time
  </p>
<blockquote class="text">
<p>An expiration time assigned by a cache when no explicit expiration time is
    available.
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor10'></a>
  age
  </p>
<blockquote class="text">
<p>The age of a response is the time since it was sent by, or successfully validated
      with, the origin server.
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor11'></a>
  first-hand
  </p>
<blockquote class="text">
<p>A response is first-hand if the freshness model is not in use; i.e., its age is
    0.
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor12'></a>
  freshness lifetime
  </p>
<blockquote class="text">
<p>The length of time between the generation of a response and its expiration time. 
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor13'></a>
  fresh
  </p>
<blockquote class="text">
<p>A response is fresh if its age has not yet exceeded its freshness lifetime.
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor14'></a>
  stale
  </p>
<blockquote class="text">
<p>A response is stale if its age has passed its freshness lifetime (either explicit or heuristic).
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor15'></a>
  validator
  </p>
<blockquote class="text">
<p>A protocol element (e.g., an entity tag or a Last-Modified time) that is used to find
      out whether a stored response is an equivalent copy of an entity.
</p>
</blockquote><p>

</p>
<p>
  <a name='anchor16'></a>
  shared cache
  </p>
<blockquote class="text">
<p>A cache that is accessible to more than one user. A non-shared cache is
      dedicated to a single user.
</p>
</blockquote><p>

</p>
<a name="intro.requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Requirements</h3>

<p>
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.

</p>
<p>
   An implementation is not compliant if it fails to satisfy one or more
   of the "MUST" or "REQUIRED" level requirements for the protocols it
   implements. An implementation that satisfies all the "MUST" or "REQUIRED"
   level and all the "SHOULD" level requirements for its protocols is said
   to be "unconditionally compliant"; one that satisfies all the "MUST"
   level requirements but not all the "SHOULD" level requirements for its
   protocols is said to be "conditionally compliant".

</p>
<a name="notation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.4"></a><h3>1.4.&nbsp;
Syntax Notation</h3>

<p>
  This specification uses the ABNF syntax defined in Section 1.2 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a> (which
  extends the syntax defined in <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a> with a list rule).
  <a class='info' href='#collected.abnf'>Appendix&nbsp;B<span> (</span><span class='info'>Collected ABNF</span><span>)</span></a> shows the collected ABNF, with the list
  rule expanded.

</p>
<p>
  The following core rules are included by
  reference, as defined in <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a>, Appendix B.1:
  ALPHA (letters), CR (carriage return), CRLF (CR LF), CTL (controls),
  DIGIT (decimal 0-9), DQUOTE (double quote),
  HEXDIG (hexadecimal 0-9/A-F/a-f), LF (line feed),
  OCTET (any 8-bit sequence of data), SP (space),
  VCHAR (any visible USASCII character),
  and WSP (whitespace).

</p>
<a name="core.rules"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.4.1"></a><h3>1.4.1.&nbsp;
Core Rules</h3>

<p>
  The core rules below are defined in Section 1.2.2 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a>:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  quoted-string = &lt;quoted-string, defined in [Part1], Section 1.2.2&gt;
  token         = &lt;token, defined in [Part1], Section 1.2.2&gt;
  OWS           = &lt;OWS, defined in [Part1], Section 1.2.2&gt;
</pre></div>
<a name="abnf.dependencies"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.4.2"></a><h3>1.4.2.&nbsp;
ABNF Rules defined in other Parts of the Specification</h3>

<p>
  The ABNF rules below are defined in other parts: 

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  field-name    = &lt;field-name, defined in [Part1], Section 3.2&gt;
  HTTP-date     = &lt;HTTP-date, defined in [Part1], Section 6.1&gt;
  port          = &lt;port, defined in [Part1], Section 2.6&gt;
  pseudonym     = &lt;pseudonym, defined in [Part1], Section 9.9&gt;
  uri-host      = &lt;uri-host, defined in [Part1], Section 2.6&gt;
</pre></div>
<a name="caching.overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Cache Operation</h3>

<a name="response.cacheability"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Response Cacheability</h3>

<p>
  A cache MUST NOT store a response to any request, unless:
  </p>
<ul class="text">
<li>The request method is understood by the cache and defined as being cacheable, and
</li>
<li>the response status code is understood by the cache, and
</li>
<li>the "no-store" cache directive (see <a class='info' href='#header.cache-control'>Section&nbsp;3.2<span> (</span><span class='info'>Cache-Control</span><span>)</span></a>) does not
       appear in request or response headers, and
</li>
<li>the "private" cache response directive (see <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
       does not appear in the response, if the cache is shared, and
</li>
<li>the "Authorization" header (see Section 3.1 of <a class='info' href='#Part7'>[Part7]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 7: Authentication,&rdquo; July&nbsp;2010.</span><span>)</span></a>) does not appear in the request, if
       the cache is shared, unless the response explicitly allows it (see <a class='info' href='#caching.authenticated.responses'>Section&nbsp;2.6<span> (</span><span class='info'>Shared Caching of Authenticated Responses</span><span>)</span></a>), and
</li>
<li>the response either:
      
<ul class="text">
<li>contains an Expires header (see <a class='info' href='#header.expires'>Section&nbsp;3.3<span> (</span><span class='info'>Expires</span><span>)</span></a>), or
</li>
<li>contains a max-age response cache directive (see <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>), or
</li>
<li>contains a s-maxage response cache directive and the cache is shared, or
</li>
<li>contains a Cache Control Extension (see <a class='info' href='#cache.control.extensions'>Section&nbsp;3.2.3<span> (</span><span class='info'>Cache Control Extensions</span><span>)</span></a>) that allows it to be cached, or
</li>
<li>has a status code that can be served with heuristic freshness (see <a class='info' href='#heuristic.freshness'>Section&nbsp;2.3.1.1<span> (</span><span class='info'>Calculating Heuristic Freshness</span><span>)</span></a>).
</li>
</ul>
    
</li>
</ul><p>

</p>
<p>
  In this context, a cache has "understood" a request method or a response status
  code if it recognises it and implements any cache-specific behaviour. In
  particular, 206 Partial Content responses cannot be cached by an
  implementation that does not handle partial content
  (see <a class='info' href='#errors.or.incomplete.response.cache.behavior'>Section&nbsp;2.1.1<span> (</span><span class='info'>Storing Partial and Incomplete Responses</span><span>)</span></a>).

</p>
<p>
  Note that in normal operation, most caches will not store a response that has neither a
  cache validator nor an explicit expiration time, as such responses are not usually
  useful to store. However, caches are not prohibited from storing such responses.

</p>
<a name="errors.or.incomplete.response.cache.behavior"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.1"></a><h3>2.1.1.&nbsp;
Storing Partial and Incomplete Responses</h3>

<p>
  A cache that receives an incomplete response (for example, with fewer bytes of data
  than specified in a Content-Length header) can store the response, but MUST 
  treat it as a partial response <a class='info' href='#Part5'>[Part5]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 5: Range Requests and Partial Responses,&rdquo; July&nbsp;2010.</span><span>)</span></a>. Partial responses
  can be combined as described in Section 4 of <a class='info' href='#Part5'>[Part5]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 5: Range Requests and Partial Responses,&rdquo; July&nbsp;2010.</span><span>)</span></a>; the result might be a
  full response or might still be partial. A cache MUST NOT return a partial
  response to a client without explicitly marking it as such using the 206 (Partial
  Content) status code.

</p>
<p>
  A cache that does not support the Range and Content-Range headers MUST NOT store
  incomplete or partial responses.

</p>
<a name="constructing.responses.from.caches"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Constructing Responses from Caches</h3>

<p>
  For a presented request, a cache MUST NOT return a stored response, unless: 
  </p>
<ul class="text">
<li>The presented Effective Request URI (Section 4.3 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a>) and that of the stored response match, and
</li>
<li>the request method associated with the stored response allows it to be 
      used for the presented request, and
</li>
<li>selecting request-headers nominated by the stored response (if any) match those presented (see <a class='info' href='#caching.negotiated.responses'>Section&nbsp;2.7<span> (</span><span class='info'>Caching Negotiated Responses</span><span>)</span></a>), and
</li>
<li>the presented request and stored response are free from directives that would prevent
      its use (see <a class='info' href='#header.cache-control'>Section&nbsp;3.2<span> (</span><span class='info'>Cache-Control</span><span>)</span></a> and <a class='info' href='#header.pragma'>Section&nbsp;3.4<span> (</span><span class='info'>Pragma</span><span>)</span></a>),
      and
</li>
<li>the stored response is either:
      
<ul class="text">
<li>fresh (see <a class='info' href='#expiration.model'>Section&nbsp;2.3<span> (</span><span class='info'>Freshness Model</span><span>)</span></a>), or
</li>
<li>allowed to be served stale (see <a class='info' href='#serving.stale.responses'>Section&nbsp;2.3.3<span> (</span><span class='info'>Serving Stale Responses</span><span>)</span></a>), or
</li>
<li>successfully validated (see <a class='info' href='#validation.model'>Section&nbsp;2.4<span> (</span><span class='info'>Validation Model</span><span>)</span></a>).
</li>
</ul>
    
</li>
</ul><p>

</p>
<p>
  <a class='info' href='#comment.TODO-method-cacheability'>[TODO-method-cacheability]<span> (</span><span class='info'>define method cacheability for GET, HEAD and POST in p2-semantics.</span><span>)</span></a><a name='TODO-method-cacheability'></a>

</p>
<p>
  When a stored response is used to satisfy a request, caches MUST include a
  single Age header field (<a class='info' href='#header.age'>Section&nbsp;3.1<span> (</span><span class='info'>Age</span><span>)</span></a>) in the response with a value equal to the stored response's
  current_age; see <a class='info' href='#age.calculations'>Section&nbsp;2.3.2<span> (</span><span class='info'>Calculating Age</span><span>)</span></a>. 
  <a class='info' href='#comment.DISCUSS-includes-validated'>[DISCUSS-includes-validated]<span> (</span><span class='info'>this currently includes successfully validated responses.</span><span>)</span></a><a name='DISCUSS-includes-validated'></a>

</p>
<p>
  Requests with methods that are unsafe (Section 7.1.1 of <a class='info' href='#Part2'>[Part2]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 2: Message Semantics,&rdquo; July&nbsp;2010.</span><span>)</span></a>) MUST be written through the cache to
  the origin server; i.e., a cache must not reply to such a request before having forwarded the request and having received a
  corresponding response.

</p>
<p>
  Also, note that unsafe requests might invalidate already stored responses; see
  <a class='info' href='#invalidation.after.updates.or.deletions'>Section&nbsp;2.5<span> (</span><span class='info'>Request Methods that Invalidate</span><span>)</span></a>.

</p>
<p>
  Caches MUST use the most recent response (as determined by the Date header) when
  more than one suitable response is stored. They can also forward a request with
  "Cache-Control: max-age=0" or "Cache-Control: no-cache" to disambiguate which response to
  use.

</p>
<a name="expiration.model"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Freshness Model</h3>

<p>
  When a response is "fresh" in the cache, it can be used to satisfy subsequent
  requests without contacting the origin server, thereby improving efficiency.

</p>
<p>
  The primary mechanism for determining freshness is for an origin server to provide an
  explicit expiration time in the future, using either the Expires header (<a class='info' href='#header.expires'>Section&nbsp;3.3<span> (</span><span class='info'>Expires</span><span>)</span></a>) or the max-age response cache directive (<a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>). Generally, origin servers will assign future
  explicit expiration times to responses in the belief that the entity is not likely to
  change in a semantically significant way before the expiration time is reached.

</p>
<p>
  If an origin server wishes to force a cache to validate every request, it can
  assign an explicit expiration time in the past. This means that the response is always
  stale, so that caches should validate it before using it for subsequent requests.
  <a class='info' href='#comment.TODO-response-stale'>[TODO-response-stale]<span> (</span><span class='info'>This wording may cause confusion, because the response may still be served stale.</span><span>)</span></a><a name='TODO-response-stale'></a>

</p>
<p>
  Since origin servers do not always provide explicit expiration times, HTTP caches may
  also assign heuristic expiration times when they are not specified, employing algorithms that
  use other header values (such as the Last-Modified time) to estimate a plausible
  expiration time. The HTTP/1.1 specification does not provide specific algorithms, but does
  impose worst-case constraints on their results.

</p>
<p>
  The calculation to determine if a response is fresh is:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   response_is_fresh = (freshness_lifetime &gt; current_age)
</pre></div>
<p>
  The freshness_lifetime is defined in <a class='info' href='#calculating.freshness.lifetime'>Section&nbsp;2.3.1<span> (</span><span class='info'>Calculating Freshness Lifetime</span><span>)</span></a>;
  the current_age is defined in <a class='info' href='#age.calculations'>Section&nbsp;2.3.2<span> (</span><span class='info'>Calculating Age</span><span>)</span></a>.

</p>
<p>
  Additionally, clients may need to influence freshness calculation. They can do this using
  several request cache directives, with the effect of either increasing or loosening
  constraints on freshness. See <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>.

</p>
<p>
  <a class='info' href='#comment.ISSUE-no-req-for-directives'>[ISSUE-no-req-for-directives]<span> (</span><span class='info'>there are not requirements directly applying to cache-request-directives and freshness.</span><span>)</span></a><a name='ISSUE-no-req-for-directives'></a>

</p>
<p>
  Note that freshness applies only to cache operation; it cannot be used to force a user agent 
  to refresh its display or reload a resource. See <a class='info' href='#history.lists'>Section&nbsp;4<span> (</span><span class='info'>History Lists</span><span>)</span></a> for an explanation of
  the difference between caches and history mechanisms.

</p>
<a name="calculating.freshness.lifetime"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.1"></a><h3>2.3.1.&nbsp;
Calculating Freshness Lifetime</h3>

<p>
  A cache can calculate the freshness lifetime (denoted as freshness_lifetime) of a
  response by using the first match of:
  </p>
<ul class="text">
<li>If the cache is shared and the s-maxage response cache directive (<a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>) is present, use its value, or
</li>
<li>If the max-age response cache directive (<a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>) is present, use its value, or
</li>
<li>If the Expires response header (<a class='info' href='#header.expires'>Section&nbsp;3.3<span> (</span><span class='info'>Expires</span><span>)</span></a>) is present, use
      its value minus the value of the Date response header, or
</li>
<li>Otherwise, no explicit expiration time is present in the response. A heuristic
      freshness lifetime might be applicable; see <a class='info' href='#heuristic.freshness'>Section&nbsp;2.3.1.1<span> (</span><span class='info'>Calculating Heuristic Freshness</span><span>)</span></a>.
</li>
</ul><p>

</p>
<p>
  Note that this calculation is not vulnerable to clock skew, since all of the
  information comes from the origin server.

</p>
<a name="heuristic.freshness"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.1.1"></a><h3>2.3.1.1.&nbsp;
Calculating Heuristic Freshness</h3>

<p>
  If no explicit expiration time is present in a stored response that has a status code
  of 200, 203, 206, 300, 301 or 410, a heuristic expiration time can be
  calculated. Heuristics MUST NOT be used for other response status codes.

</p>
<p>
  When a heuristic is used to calculate freshness lifetime, the cache SHOULD
  attach a Warning header with a 113 warn-code to the response if its current_age is
  more than 24 hours and such a warning is not already present.

</p>
<p>
  Also, if the response has a Last-Modified header (Section 6.6 of <a class='info' href='#Part4'>[Part4]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 4: Conditional Requests,&rdquo; July&nbsp;2010.</span><span>)</span></a>), the
  heuristic expiration value SHOULD be no more than some fraction of the interval
  since that time. A typical setting of this fraction might be 10%.

</p>
<p></p>
<blockquote class="text">
<p>
    Note: RFC 2616 (<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, Section 13.9)
    required that caches do not calculate heuristic freshness for URLs with
    query components (i.e., those containing '?'). In practice, this has not
    been widely implemented. Therefore, servers are encouraged to send explicit
    directives (e.g., Cache-Control: no-cache) if they wish to preclude
    caching.
  
</p>
</blockquote>

<a name="age.calculations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.2"></a><h3>2.3.2.&nbsp;
Calculating Age</h3>

<p>
  HTTP/1.1 uses the Age response-header to convey the estimated age of the response
  message when obtained from a cache. The Age field value is the cache's estimate of the
  amount of time since the response was generated or validated by the origin server. In
  essence, the Age value is the sum of the time that the response has been resident in
  each of the caches along the path from the origin server, plus the amount of time it has
  been in transit along network paths.

</p>
<p>
  The following data is used for the age calculation:

</p>
<p>
  age_value
  </p>
<blockquote class="text">
<p>
      The term "age_value" denotes the value of the Age header (<a class='info' href='#header.age'>Section&nbsp;3.1<span> (</span><span class='info'>Age</span><span>)</span></a>),
      in a form appropriate for arithmetic operation; or 0, if not available.
    
</p>
</blockquote><p>

</p>
<p>
  date_value
  </p>
<blockquote class="text">
<p>
      HTTP/1.1 requires origin servers to send a Date header, if possible,
      with every response, giving the time at which the response was generated.
      The term "date_value" denotes the value of the Date header, in a form
      appropriate for arithmetic operations. See Section 9.3 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a> for the definition
      of the Date header, and for requirements regarding responses without a
      Date response header.
    
</p>
</blockquote><p>

</p>
<p>
  now
  </p>
<blockquote class="text">
<p>
      The term "now" means "the current value of the clock at the host
      performing the calculation". Hosts that use HTTP, but especially hosts
      running origin servers and caches, SHOULD use NTP
      (<a class='info' href='#RFC1305'>[RFC1305]<span> (</span><span class='info'>Mills, D., &ldquo;Network Time Protocol (Version 3) Specification, Implementation,&rdquo; March&nbsp;1992.</span><span>)</span></a>) or some similar protocol to synchronize their
      clocks to a globally accurate time standard.
    
</p>
</blockquote><p>

</p>
<p>
  request_time
  </p>
<blockquote class="text">
<p>
      The current value of the clock at the host at the time the request
      resulting in the stored response was made.
    
</p>
</blockquote><p>

</p>
<p>
  response_time
  </p>
<blockquote class="text">
<p>
      The current value of the clock at the host at the time the response was
      received.
    
</p>
</blockquote><p>

</p>
<p>
  A response's age can be calculated in two entirely independent ways:
  </p>
<ol class="text">
<li>the "apparent_age": response_time minus date_value, if the local clock is reasonably well synchronized to the
      origin server's clock. If the result is negative, the result is replaced by zero.
</li>
<li>the "corrected_age_value", if all of the caches along the response path implement HTTP/1.1;
      note this value MUST be interpreted relative to the time the
      request was initiated, not the time that the response was received.
</li>
</ol><p>

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  apparent_age = max(0, response_time - date_value);

  response_delay = response_time - request_time;
  corrected_age_value = age_value + response_delay;
</pre></div>
<p>These are combined as
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  corrected_initial_age = max(apparent_age, corrected_age_value);
</pre></div>
<p>
  The current_age of a stored response can then be calculated by adding the amount of
  time (in seconds) since the stored response was last validated by the origin server to
  the corrected_initial_age.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  resident_time = now - response_time;
  current_age = corrected_initial_age + resident_time;
</pre></div>
<a name="serving.stale.responses"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.3"></a><h3>2.3.3.&nbsp;
Serving Stale Responses</h3>

<p>
  A "stale" response is one that either has explicit expiry information or is allowed to
  have heuristic expiry calculated, but is not fresh according to the calculations in
  <a class='info' href='#expiration.model'>Section&nbsp;2.3<span> (</span><span class='info'>Freshness Model</span><span>)</span></a>.

</p>
<p>
  Caches MUST NOT return a stale response if it is prohibited by an explicit
  in-protocol directive (e.g., by a "no-store" or "no-cache" cache directive, a
  "must-revalidate" cache-response-directive, or an applicable "s-maxage" or
  "proxy-revalidate" cache-response-directive; see <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>).

</p>
<p>
  Caches SHOULD NOT return stale responses unless they are
  disconnected (i.e., it cannot contact the origin server or otherwise find a forward path) 
  or otherwise explicitly allowed (e.g., the max-stale request directive; see <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>).

</p>
<p>
  Stale responses SHOULD have a Warning header with the 110 warn-code (see <a class='info' href='#header.warning'>Section&nbsp;3.6<span> (</span><span class='info'>Warning</span><span>)</span></a>). Likewise, the 112 warn-code SHOULD be sent on stale responses if 
  the cache is disconnected.

</p>
<p>
  If a cache receives a first-hand response (either an entire response, or a 304 (Not
  Modified) response) that it would normally forward to the requesting client, and the
  received response is no longer fresh, the cache SHOULD forward it to the
  requesting client without adding a new Warning (but without removing any existing
  Warning headers). A cache SHOULD NOT attempt to validate a response simply because
  that response became stale in transit.

</p>
<a name="validation.model"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
Validation Model</h3>

<p>
  When a cache has one or more stored responses for a requested URI, but cannot  
  serve any of them (e.g., because they are not fresh, or one cannot be selected; 
  see <a class='info' href='#caching.negotiated.responses'>Section&nbsp;2.7<span> (</span><span class='info'>Caching Negotiated Responses</span><span>)</span></a>), 
  it can use the conditional request mechanism <a class='info' href='#Part4'>[Part4]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 4: Conditional Requests,&rdquo; July&nbsp;2010.</span><span>)</span></a> in the forwarded 
  request to give the origin server an opportunity to both select a valid stored 
  response to be used, and to update it. This process is known as "validating" 
  or "revalidating" the stored response.

</p>
<p>
  When sending such a conditional request, the cache SHOULD add an If-Modified-Since 
  header whose value is that of the Last-Modified header from the selected 
  (see <a class='info' href='#caching.negotiated.responses'>Section&nbsp;2.7<span> (</span><span class='info'>Caching Negotiated Responses</span><span>)</span></a>) stored response, if available.

</p>
<p>
  Additionally, the cache SHOULD add an If-None-Match header whose value  
  is that of the ETag header(s) from all responses stored for the requested URI, 
  if present. However, if any of the stored responses contains only partial
  content, its entity-tag SHOULD NOT be included in the If-None-Match header 
  field unless the request is for a range that would be fully satisfied by 
  that stored response.

</p>
<p>
  A 304 (Not Modified) response status code indicates that the stored 
  response can be updated and reused; see <a class='info' href='#combining.headers'>Section&nbsp;2.8<span> (</span><span class='info'>Combining Responses</span><span>)</span></a>.

</p>
<p>
  A full response (i.e., one with a response body) indicates that none  
  of the stored responses nominated in the conditional request is
  suitable. Instead, the full response is used both to satisfy the
  request and replace the stored response. <a class='info' href='#comment.TODO-req-missing'>[TODO-req-missing]<span> (</span><span class='info'>Should there be a requirement here?</span><span>)</span></a><a name='TODO-req-missing'></a>

</p>
<p>
  If a cache receives a 5xx response while attempting to validate a response, it MAY
  either forward this response to the requesting client, or act as if the server failed to
  respond. In the latter case, it MAY return a previously stored response (see <a class='info' href='#serving.stale.responses'>Section&nbsp;2.3.3<span> (</span><span class='info'>Serving Stale Responses</span><span>)</span></a>).

</p>
<a name="invalidation.after.updates.or.deletions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.5"></a><h3>2.5.&nbsp;
Request Methods that Invalidate</h3>

<p>
  Because unsafe methods (Section 7.1.1 of <a class='info' href='#Part2'>[Part2]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 2: Message Semantics,&rdquo; July&nbsp;2010.</span><span>)</span></a>) have the potential for changing state on the
  origin server, intervening caches can use them to keep their contents
  up-to-date.

</p>
<p>
  The following HTTP methods MUST cause a cache to invalidate the Effective Request URI (Section 4.3 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a>) as well
  as the URI(s) in the Location and Content-Location headers (if present):
  </p>
<ul class="text">
<li>PUT
</li>
<li>DELETE
</li>
<li>POST
</li>
</ul><p>

</p>
<p>
  An invalidation based on a URI from a Location or Content-Location header MUST NOT
  be performed if the host part of that URI differs from the host part in the Effective Request URI (Section 4.3 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a>).
  This helps prevent denial of service attacks.

</p>
<p>
  <a class='info' href='#comment.TODO-def-host-part'>[TODO-def-host-part]<span> (</span><span class='info'>&quot;host part&quot; needs to be specified better.</span><span>)</span></a><a name='TODO-def-host-part'></a>

</p>
<p>
  A cache that passes through requests for methods it does not understand SHOULD
  invalidate the Effective Request URI (Section 4.3 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a>).

</p>
<p>
  Here, "invalidate" means that the cache will either remove all stored responses related
  to the Effective Request URI, or will mark these as "invalid" and in need of a mandatory validation
  before they can be returned in response to a subsequent request.

</p>
<p>
  Note that this does not guarantee that all appropriate responses are invalidated. For
  example, the request that caused the change at the origin server might not have gone
  through the cache where a response is stored.

</p>
<p>
  <a class='info' href='#comment.TODO-spec-success-invalidate'>[TODO-spec-success-invalidate]<span> (</span><span class='info'>specify that only successful (2xx, 3xx?) responses invalidate.</span><span>)</span></a><a name='TODO-spec-success-invalidate'></a>

</p>
<a name="caching.authenticated.responses"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6"></a><h3>2.6.&nbsp;
Shared Caching of Authenticated Responses</h3>

<p>Shared caches MUST NOT use a cached response to a request with an Authorization header (Section 3.1 of <a class='info' href='#Part7'>[Part7]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 7: Authentication,&rdquo; July&nbsp;2010.</span><span>)</span></a>) to satisfy any subsequent request unless a cache directive that allows such responses to be stored is present in the response.
</p>
<p>In this specification, the following Cache-Control response directives (<a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>) have such an effect: must-revalidate, public, s-maxage.
</p>
<p>Note that cached responses that contain the "must-revalidate" and/or "s-maxage" response directives are not allowed to be served stale (<a class='info' href='#serving.stale.responses'>Section&nbsp;2.3.3<span> (</span><span class='info'>Serving Stale Responses</span><span>)</span></a>) by shared caches. In particular, a response with either "max-age=0, must-revalidate" or "s-maxage=0" cannot be used to satisfy a subsequent request without revalidating it on the origin server.
</p>
<a name="caching.negotiated.responses"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.7"></a><h3>2.7.&nbsp;
Caching Negotiated Responses</h3>

<p>
  When a cache receives a request that can be satisfied by a stored response
  that has a Vary header field (<a class='info' href='#header.vary'>Section&nbsp;3.5<span> (</span><span class='info'>Vary</span><span>)</span></a>), it MUST NOT use that 
  response unless all of the selecting request-headers nominated by the Vary header match
  in both the original request (i.e., that associated with the stored response),
  and the presented request.

</p>
<p>
  The selecting request-headers from two requests are defined to match
  if and only if those in the first request can be transformed to those in the
  second request by applying any of the following:
  </p>
<ul class="text">
<li>
      adding or removing whitespace, where allowed in the header's syntax
    
</li>
<li>
      combining multiple message-header fields with the same field name (see
      Section 3.2 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a>)
    
</li>
<li>
      normalizing both header values in a way that is known to have identical
      semantics, according to the header's specification (e.g., re-ordering field values
      when order is not significant; case-normalization, where values are defined to be
      case-insensitive)   
    
</li>
</ul><p>

</p>
<p>
  If (after any normalisation that may take place) a header field is absent
  from a request, it can only match another request if it is also absent there.

</p>
<p>
  A Vary header field-value of "*" always fails to match, and subsequent requests to that
  resource can only be properly interpreted by the origin server.

</p>
<p>
  The stored response with matching selecting request-headers is known as the
  selected response.

</p>
<p>
  If no selected response is available, the cache MAY forward the presented 
  request to the origin server in a conditional request; see <a class='info' href='#validation.model'>Section&nbsp;2.4<span> (</span><span class='info'>Validation Model</span><span>)</span></a>.

</p>
<a name="combining.headers"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8"></a><h3>2.8.&nbsp;
Combining Responses</h3>

<p>
  When a cache receives a 304 (Not Modified) response or a 206 (Partial Content) response
  (in this section, the "new" response"), it needs to created an updated response by combining
  the stored response with the new one, so that the updated response can be used to satisfy the request.

</p>
<p>
  If the new response contains an ETag, it identifies the stored  
  response to use. <a class='info' href='#comment.TODO-mention-CL'>[TODO-mention-CL]<span> (</span><span class='info'>may need language about Content-Location   here</span><span>)</span></a><a name='TODO-mention-CL'></a><a class='info' href='#comment.TODO-inm-mult-etags'>[TODO-inm-mult-etags]<span> (</span><span class='info'>cover case where INM with multiple etags was sent</span><span>)</span></a><a name='TODO-inm-mult-etags'></a>

</p>
<p>
  If the status code is 206 (partial content), both the stored and new  
  responses MUST have validators, and those validators MUST match using the strong  
  comparison function (see Section 4 of <a class='info' href='#Part4'>[Part4]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 4: Conditional Requests,&rdquo; July&nbsp;2010.</span><span>)</span></a>). Otherwise, the  
  responses MUST NOT be combined.

</p>
<p>
  The stored response headers are used as those of the updated response, except that
  </p>
<ul class="text">
<li>any stored Warning headers with warn-code 1xx (see <a class='info' href='#header.warning'>Section&nbsp;3.6<span> (</span><span class='info'>Warning</span><span>)</span></a>)
      MUST be deleted from the stored response and the updated response.
</li>
<li>any stored Warning headers with warn-code 2xx MUST be retained in the stored
      response and the updated response.
</li>
<li>any headers provided in the new response MUST replace the corresponding
      headers from the stored response.
</li>
</ul><p>

</p>
<p>
  If a header field-name in the new response matches more than one  
  header in the stored response, all such stored headers MUST be replaced.

</p>
<p>
  The updated response can <a class='info' href='#comment.TODO-is-req'>[TODO-is-req]<span> (</span><span class='info'>requirement?</span><span>)</span></a><a name='TODO-is-req'></a> be used to replace the  
  stored response in cache. In the case of a 206 response, the combined  
  entity-body MAY be stored.

</p>
<p>
  <a class='info' href='#comment.ISSUE-how-head'>[ISSUE-how-head]<span> (</span><span class='info'>discuss how to handle HEAD updates</span><span>)</span></a><a name='ISSUE-how-head'></a>

</p>
<a name="header.fields"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Header Field Definitions</h3>

<p>
  This section defines the syntax and semantics of HTTP/1.1 header fields
  related to caching.

</p>
<p>
  For entity-header fields, both sender and recipient refer to either the client or the
  server, depending on who sends and who receives the entity.

</p>
<a name="header.age"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Age</h3>
<a name='anchor17'></a><a name='anchor18'></a>
<p>
  The "Age" response-header field conveys the sender's estimate of the amount
  of time since the response was generated or successfully validated at the
  origin server. Age values are calculated as specified in
  <a class='info' href='#age.calculations'>Section&nbsp;2.3.2<span> (</span><span class='info'>Calculating Age</span><span>)</span></a>.

</p><a name='anchor19'></a><a name='anchor20'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Age   = "Age" ":" OWS Age-v
  Age-v = delta-seconds
</pre></div>
<p>
  
  Age field-values are non-negative integers, representing time in seconds.

</p><a name='anchor21'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  delta-seconds  = 1*DIGIT
</pre></div>
<p>
  If a cache receives a value larger than the largest positive integer it can represent, or
  if any of its age calculations overflows, it MUST transmit an Age header with a
  field-value of 2147483648 (2^31). Caches SHOULD use an arithmetic type
  of at least 31 bits of range.

</p>
<p>
  The presence of an Age header field in a response implies that a response is not
  first-hand. However, the converse is not true, since HTTP/1.0 caches may not implement the
  Age header field.

</p>
<a name="header.cache-control"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Cache-Control</h3>
<a name='anchor22'></a><a name='anchor23'></a>
<p>
  The "Cache-Control" general-header field is used to specify directives for
  caches along the request/response chain. Such cache directives are
  unidirectional in that the presence of a directive in a request does not
  imply that the same directive is to be given in the response.

</p>
<p>
  HTTP/1.1 caches MUST obey the requirements of the Cache-Control directives
  defined in this section. See <a class='info' href='#cache.control.extensions'>Section&nbsp;3.2.3<span> (</span><span class='info'>Cache Control Extensions</span><span>)</span></a> for
  information about how Cache-Control directives defined elsewhere are handled.

</p>
<p></p>
<blockquote class="text">
<p>
    Note: HTTP/1.0 caches might not implement Cache-Control and
    might only implement Pragma: no-cache (see <a class='info' href='#header.pragma'>Section&nbsp;3.4<span> (</span><span class='info'>Pragma</span><span>)</span></a>).
  
</p>
</blockquote>

<p>
  Cache directives MUST be passed through by a proxy or gateway application,
  regardless of their significance to that application, since the directives might be
  applicable to all recipients along the request/response chain. It is not possible to
  target a directive to a specific cache.

</p><a name='anchor24'></a><a name='anchor25'></a><a name='anchor26'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Cache-Control   = "Cache-Control" ":" OWS Cache-Control-v
  Cache-Control-v = 1#cache-directive

  cache-directive = cache-request-directive
     / cache-response-directive

  cache-extension = token [ "=" ( token / quoted-string ) ]
</pre></div>
<a name="cache-request-directive"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Request Cache-Control Directives</h3>
<a name='anchor27'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  cache-request-directive =
       "no-cache"
     / "no-store"
     / "max-age" "=" delta-seconds
     / "max-stale" [ "=" delta-seconds ]
     / "min-fresh" "=" delta-seconds
     / "no-transform"
     / "only-if-cached"
     / cache-extension
</pre></div>
<p>
  no-cache
  <a name='anchor28'></a>
  <a name='anchor29'></a>
  </p>
<blockquote class="text">
<p>The no-cache request directive indicates that a stored response MUST NOT be
      used to satisfy the request without successful validation on the origin server.
</p>
</blockquote><p>

</p>
<p>
  no-store
  <a name='anchor30'></a>
  <a name='anchor31'></a>
  </p>
<blockquote class="text">
<p>The no-store request directive indicates that a cache MUST NOT store any part
      of either this request or any response to it. This directive applies to both
      non-shared and shared caches. "MUST NOT store" in this context means that the
      cache MUST NOT intentionally store the information in non-volatile storage,
      and MUST make a best-effort attempt to remove the information from volatile
      storage as promptly as possible after forwarding it.
</p>
<p>This directive is NOT a reliable or sufficient mechanism for ensuring privacy. In
      particular, malicious or compromised caches might not recognize or obey this
      directive, and communications networks may be vulnerable to eavesdropping.
</p>
</blockquote><p>

</p>
<p>
  max-age
  <a name='anchor32'></a>
  <a name='anchor33'></a>
  </p>
<blockquote class="text">
<p>The max-age request directive indicates that the client is willing to accept a
      response whose age is no greater than the specified time in seconds. Unless
      the max-stale request directive is also present, the client is not willing to accept a stale
      response.
</p>
</blockquote><p>

</p>
<p>
  max-stale
  <a name='anchor34'></a>
  <a name='anchor35'></a>
  </p>
<blockquote class="text">
<p>The max-stale request directive indicates that the client is willing to accept a
      response that has exceeded its expiration time. If max-stale is assigned a value,
      then the client is willing to accept a response that has exceeded its expiration
      time by no more than the specified number of seconds. If no value is assigned to
      max-stale, then the client is willing to accept a stale response of any age. <a class='info' href='#comment.TODO-staleness'>[TODO-staleness]<span> (</span><span class='info'>mnot: of any staleness?</span><span>)</span></a><a name='TODO-staleness'></a>
</p>
</blockquote><p>

</p>
<p>
  min-fresh
  <a name='anchor36'></a>
  <a name='anchor37'></a>
  </p>
<blockquote class="text">
<p>The min-fresh request directive indicates that the client is willing to accept a
      response whose freshness lifetime is no less than its current age plus the specified
      time in seconds. That is, the client wants a response that will still be fresh for
      at least the specified number of seconds.
</p>
</blockquote><p>

</p>
<p>
  no-transform
  <a name='anchor38'></a>
  <a name='anchor39'></a>
  </p>
<blockquote class="text">
<p>The no-transform request directive indicates that an intermediate cache or proxy
      MUST NOT change the Content-Encoding, Content-Range or Content-Type request
      headers, nor the request entity-body.
</p>
</blockquote><p>

</p>
<p>
  only-if-cached
  <a name='anchor40'></a>
  <a name='anchor41'></a>
  </p>
<blockquote class="text">
<p>The only-if-cached request directive indicates that the client only wishes to
      return a stored response. If it receives this directive, a cache SHOULD either
      respond using a stored response that is consistent with the other constraints of the
      request, or respond with a 504 (Gateway Timeout) status. If a group of caches is
      being operated as a unified system with good internal connectivity, such a request
      MAY be forwarded within that group of caches.
</p>
</blockquote><p>

</p>
<a name="cache-response-directive"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Response Cache-Control Directives</h3>
<a name='anchor42'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  cache-response-directive =
       "public"
     / "private" [ "=" DQUOTE 1#field-name DQUOTE ]
     / "no-cache" [ "=" DQUOTE 1#field-name DQUOTE ]
     / "no-store"
     / "no-transform"
     / "must-revalidate"
     / "proxy-revalidate"
     / "max-age" "=" delta-seconds
     / "s-maxage" "=" delta-seconds
     / cache-extension
</pre></div>
<p>
  public
  <a name='anchor43'></a>
  <a name='anchor44'></a>
  </p>
<blockquote class="text">
<p>The public response directive indicates that the response MAY be cached, even
      if it would normally be non-cacheable or cacheable only within a non-shared cache.
      (See also Authorization, Section 3.1 of <a class='info' href='#Part7'>[Part7]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 7: Authentication,&rdquo; July&nbsp;2010.</span><span>)</span></a>, for additional details.) 
</p>
</blockquote><p>

</p>
<p>
  private
  <a name='anchor45'></a>
  <a name='anchor46'></a>
  </p>
<blockquote class="text">
<p>The private response directive indicates that the response message is intended for
      a single user and MUST NOT be stored by a shared cache. A private (non-shared)
      cache MAY store the response.
</p>
<p>If the private response directive specifies one or more field-names, this
      requirement is limited to the field-values associated with the listed response
      headers. That is, the specified field-names(s) MUST NOT be stored by a shared
      cache, whereas the remainder of the response message MAY be.
</p>
<p>
      Note: This usage of the word private only controls where the response may
      be stored, and cannot ensure the privacy of the message content.
      Also, private response directives with field-names are often handled by
      implementations as if an unqualified private directive was received; i.e.,
      the special handling for the qualified form is not widely implemented.
</p>
</blockquote><p>

</p>
<p>
  no-cache
  <a name='anchor47'></a>
  <a name='anchor48'></a>
  </p>
<blockquote class="text">
<p>The no-cache response directive indicates that the response MUST NOT be used to
      satisfy a subsequent request without successful validation on the origin server.
      This allows an origin server to prevent caching even by caches that have been
      configured to return stale responses.
</p>
<p>If the no-cache response directive specifies one or more field-names, this
      requirement is limited to the field-values associated with the listed response
      headers. That is, the specified field-name(s) MUST NOT be sent in the response
      to a subsequent request without successful validation on the origin server. This
      allows an origin server to prevent the re-use of certain header fields in a
      response, while still allowing caching of the rest of the response.
</p>
<p>
      Note: Most HTTP/1.0 caches will not recognize or obey this directive.
      Also, no-cache response directives with field-names are often handled by
      implementations as if an unqualified no-cache directive was received; i.e.,
      the special handling for the qualified form is not widely implemented.
    
</p>
</blockquote><p>

</p>
<p>
  no-store
  <a name='anchor49'></a>
  <a name='anchor50'></a>
  </p>
<blockquote class="text">
<p>The no-store response directive indicates that a cache MUST NOT store any
      part of either the immediate request or response. This directive applies to both
      non-shared and shared caches. "MUST NOT store" in this context means that the
      cache MUST NOT intentionally store the information in non-volatile storage,
      and MUST make a best-effort attempt to remove the information from volatile
      storage as promptly as possible after forwarding it.
</p>
<p>This directive is NOT a reliable or sufficient mechanism for ensuring privacy. In
      particular, malicious or compromised caches might not recognize or obey this
      directive, and communications networks may be vulnerable to eavesdropping.
</p>
</blockquote><p>

</p>
<p>
  must-revalidate
  <a name='anchor51'></a>
  <a name='anchor52'></a>
  </p>
<blockquote class="text">
<p>The must-revalidate response directive indicates that once it has become stale, the response MUST NOT be 
     used to satisfy subsequent requests without successful validation on the origin server.
</p>
<p>The must-revalidate directive is necessary to support reliable operation for
      certain protocol features. In all circumstances an HTTP/1.1 cache MUST obey
      the must-revalidate directive; in particular, if the cache cannot reach the origin
      server for any reason, it MUST generate a 504 (Gateway Timeout) response.
</p>
<p>Servers SHOULD send the must-revalidate directive if and only if failure to
      validate a request on the entity could result in incorrect operation, such as a
      silently unexecuted financial transaction.
</p>
</blockquote><p>

</p>
<p>
  proxy-revalidate
  <a name='anchor53'></a>
  <a name='anchor54'></a>
  </p>
<blockquote class="text">
<p>The proxy-revalidate response directive has the same meaning as the must-revalidate
      response directive, except that it does not apply to non-shared caches.
</p>
</blockquote><p>

</p>
<p>
  max-age
  <a name='anchor55'></a>
  <a name='anchor56'></a>
  </p>
<blockquote class="text">
<p>The max-age response directive indicates that response is to be considered stale
      after its age is greater than the specified number of seconds.
</p>
</blockquote><p>

</p>
<p>
  s-maxage
  <a name='anchor57'></a>
  <a name='anchor58'></a>
  </p>
<blockquote class="text">
<p>The s-maxage response directive indicates that, in shared caches, the maximum age
      specified by this directive overrides the maximum age specified by either the
      max-age directive or the Expires header. The s-maxage directive also implies the
      semantics of the proxy-revalidate response directive.
</p>
</blockquote><p>

</p>
<p>
  no-transform
  <a name='anchor59'></a>
  <a name='anchor60'></a>
  </p>
<blockquote class="text">
<p>The no-transform response directive indicates that an intermediate cache or proxy
      MUST NOT change the Content-Encoding, Content-Range or Content-Type response
      headers, nor the response entity-body.
</p>
</blockquote><p>

</p>
<a name="cache.control.extensions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
Cache Control Extensions</h3>

<p>
  The Cache-Control header field can be extended through the use of one or more
  cache-extension tokens, each with an optional value. Informational extensions (those
  that do not require a change in cache behavior) can be added without changing the
  semantics of other directives. Behavioral extensions are designed to work by acting as
  modifiers to the existing base of cache directives. Both the new directive and the
  standard directive are supplied, such that applications that do not understand the new
  directive will default to the behavior specified by the standard directive, and those
  that understand the new directive will recognize it as modifying the requirements
  associated with the standard directive. In this way, extensions to the cache-control
  directives can be made without requiring changes to the base protocol.

</p>
<p>
  This extension mechanism depends on an HTTP cache obeying all of the cache-control
  directives defined for its native HTTP-version, obeying certain extensions, and ignoring
  all directives that it does not understand.

</p>
<p>
  For example, consider a hypothetical new response directive called "community" that
  acts as a modifier to the private directive. We define this new directive to mean that,
  in addition to any non-shared cache, any cache that is shared only by members of the
  community named within its value may cache the response. An origin server wishing to
  allow the UCI community to use an otherwise private response in their shared cache(s)
  could do so by including

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Cache-Control: private, community="UCI"
</pre></div>
<p>
  A cache seeing this header field will act correctly even if the cache does not
  understand the community cache-extension, since it will also see and understand the
  private directive and thus default to the safe behavior.

</p>
<p>
  Unrecognized cache directives MUST be ignored; it is assumed that any cache
  directive likely to be unrecognized by an HTTP/1.1 cache will be combined with standard
  directives (or the response's default cacheability) such that the cache behavior will
  remain minimally correct even if the cache does not understand the extension(s).

</p>
<p>
  The HTTP Cache Directive Registry defines the name space for the cache
  directives.

</p>
<p>
  Registrations MUST include the following fields:
  </p>
<ul class="text">
<li>Cache Directive Name
</li>
<li>Pointer to specification text
</li>
</ul><p>

</p>
<p>
  Values to be added to this name space are subject to IETF review
  (<a class='info' href='#RFC5226'>[RFC5226]<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; May&nbsp;2008.</span><span>)</span></a>, Section 4.1).

</p>
<p>
  The registry itself is maintained at <a href='http://www.iana.org/assignments/http-cache-directives'>http://www.iana.org/assignments/http-cache-directives</a>.

</p>
<a name="header.expires"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Expires</h3>
<a name='anchor61'></a><a name='anchor62'></a>
<p>
  The "Expires" entity-header field gives the date/time after which the response is
  considered stale. See <a class='info' href='#expiration.model'>Section&nbsp;2.3<span> (</span><span class='info'>Freshness Model</span><span>)</span></a> for further discussion of the
  freshness model.

</p>
<p>
  The presence of an Expires field does not imply that the original resource will change or
  cease to exist at, before, or after that time.

</p>
<p>
  The field-value is an absolute date and time as defined by HTTP-date in Section 6.1 of <a class='info' href='#Part1'>[Part1]<span> (</span><span class='info'>Fielding, R., Ed., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T., Lafon, Y., Ed., and J. Reschke, Ed., &ldquo;HTTP/1.1, part 1: URIs, Connections, and Message Parsing,&rdquo; July&nbsp;2010.</span><span>)</span></a>;
  it MUST be sent in rfc1123-date format.

</p><a name='anchor63'></a><a name='anchor64'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Expires   = "Expires" ":" OWS Expires-v
  Expires-v = HTTP-date
</pre></div>
<p>For example
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Expires: Thu, 01 Dec 1994 16:00:00 GMT
</pre></div>
<p></p>
<blockquote class="text">
<p>
    Note: If a response includes a Cache-Control field with the max-age
    directive (see <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>), that directive overrides
    the Expires field. Likewise, the s-maxage directive overrides Expires in shared caches.
  
</p>
</blockquote>

<p>
  HTTP/1.1 servers SHOULD NOT send Expires dates more than one year in the future.

</p>
<p>
  HTTP/1.1 clients and caches MUST treat other invalid date formats, especially
  including the value "0", as in the past (i.e., "already expired").

</p>
<a name="header.pragma"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Pragma</h3>
<a name='anchor65'></a><a name='anchor66'></a>
<p>
  The "Pragma" general-header field is used to include implementation-specific directives
  that might apply to any recipient along the request/response chain. All pragma directives
  specify optional behavior from the viewpoint of the protocol; however, some systems
  MAY require that behavior be consistent with the directives.

</p><a name='anchor67'></a><a name='anchor68'></a><a name='anchor69'></a><a name='anchor70'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Pragma            = "Pragma" ":" OWS Pragma-v
  Pragma-v          = 1#pragma-directive
  pragma-directive  = "no-cache" / extension-pragma
  extension-pragma  = token [ "=" ( token / quoted-string ) ]
</pre></div>
<p>
  When the no-cache directive is present in a request message, an application SHOULD
  forward the request toward the origin server even if it has a cached copy of what is being
  requested. This pragma directive has the same semantics as the no-cache response directive
  (see <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>) and is defined here for backward
  compatibility with HTTP/1.0. Clients SHOULD include both header fields when a
  no-cache request is sent to a server not known to be HTTP/1.1 compliant. HTTP/1.1 caches
  SHOULD treat "Pragma: no-cache" as if the client had sent "Cache-Control: no-cache".

</p>
<p></p>
<blockquote class="text">
<p>
    Note: Because the meaning of "Pragma: no-cache" as a response-header field
    is not actually specified, it does not provide a reliable replacement for
    "Cache-Control: no-cache" in a response.
  
</p>
</blockquote>

<p>
  This mechanism is deprecated; no new Pragma directives will be defined in HTTP.

</p>
<a name="header.vary"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Vary</h3>
<a name='anchor71'></a><a name='anchor72'></a>
<p>
  The "Vary" response-header field conveys the set of request-header fields
  that were used to select the representation.

</p>
<p>
  Caches use this information, in part, to determine whether a stored response
  can be used to satisfy a given request; see
  <a class='info' href='#caching.negotiated.responses'>Section&nbsp;2.7<span> (</span><span class='info'>Caching Negotiated Responses</span><span>)</span></a>.
  determines, while the response is fresh, whether a cache is permitted to use the
  response to reply to a subsequent request without validation; see <a class='info' href='#caching.negotiated.responses'>Section&nbsp;2.7<span> (</span><span class='info'>Caching Negotiated Responses</span><span>)</span></a>.

</p>
<p>
  In uncacheable or stale responses, the Vary field value advises the user agent about 
  the criteria that were used to select the representation.

</p><a name='anchor73'></a><a name='anchor74'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Vary   = "Vary" ":" OWS Vary-v
  Vary-v = "*" / 1#field-name
</pre></div>
<p>
  The set of header fields named by the Vary field value is known as the selecting
  request-headers.

</p>
<p>
  Servers SHOULD include a Vary header field with any cacheable response that is
  subject to server-driven negotiation. Doing so allows a cache to properly interpret future
  requests on that resource and informs the user agent about the presence of negotiation on
  that resource. A server MAY include a Vary header field with a non-cacheable
  response that is subject to server-driven negotiation, since this might provide the user
  agent with useful information about the dimensions over which the response varies at the
  time of the response.

</p>
<p>
  A Vary field value of "*" signals that unspecified parameters not limited to the
  request-headers (e.g., the network address of the client), play a role in the selection of
  the response representation; therefore, a cache cannot determine whether this response is
  appropriate. The "*" value MUST NOT be generated by a proxy server;
  it may only be generated by an origin server.

</p>
<p>
  The field-names given are not limited to the set of standard request-header fields
  defined by this specification. Field names are case-insensitive.

</p>
<a name="header.warning"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
Warning</h3>
<a name='anchor75'></a><a name='anchor76'></a>
<p>
  The "Warning" general-header field is used to carry additional information about the status
  or transformation of a message that might not be reflected in the message. This
  information is typically used to warn about possible incorrectness introduced by caching
  operations or transformations applied to the entity body of the message.

</p>
<p>
  Warnings can be used for other purposes, both cache-related and otherwise. The use of a
  warning, rather than an error status code, distinguishes these responses from true failures.

</p>
<p>
  Warning headers can in general be applied to any message, however some warn-codes are
  specific to caches and can only be applied to response messages.

</p><a name='anchor77'></a><a name='anchor78'></a><a name='anchor79'></a><a name='anchor80'></a><a name='anchor81'></a><a name='anchor82'></a><a name='anchor83'></a><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Warning    = "Warning" ":" OWS Warning-v
  Warning-v  = 1#warning-value

  warning-value = warn-code SP warn-agent SP warn-text
                                        [SP warn-date]

  warn-code  = 3DIGIT
  warn-agent = ( uri-host [ ":" port ] ) / pseudonym
                  ; the name or pseudonym of the server adding
                  ; the Warning header, for use in debugging
  warn-text  = quoted-string
  warn-date  = DQUOTE HTTP-date DQUOTE
</pre></div>
<p>
  Multiple warnings can be attached to a response (either by the origin server or by
  a cache), including multiple warnings with the same code number, only differing
  in warn-text.

</p>
<p>
  When this occurs, the user agent SHOULD inform the user of as many of them as
  possible, in the order that they appear in the response.

</p>
<p>
  Systems that generate multiple Warning headers SHOULD order them with this user
  agent behavior in mind. New Warning headers SHOULD be added after any existing
  Warning headers.

</p>
<p>
  Warnings are assigned three digit warn-codes. The first digit indicates whether the
  Warning is required to be deleted from a stored response after validation:
  </p>
<ul class="text">
<li>1xx Warnings describe the freshness or validation status of the response, and so
      MUST be deleted by caches after validation. They can only be generated by a cache
      when validating a cached entry, and MUST NOT be generated in any other situation.
</li>
<li>2xx Warnings describe some aspect of the entity body or entity headers that is
      not rectified by a validation (for example, a lossy compression of the entity bodies)
      and MUST NOT be deleted by caches after validation, unless a full response is
      returned, in which case they MUST be.
</li>
</ul><p>

</p>
<p>
  If an implementation sends a message with one or more Warning headers to a receiver whose
  version is HTTP/1.0 or lower, then the sender MUST include in each warning-value a
  warn-date that matches the Date header in the message.

</p>
<p>
  If an implementation receives a message with a warning-value that includes a warn-date,
  and that warn-date is different from the Date value in the response, then that
  warning-value MUST be deleted from the message before storing, forwarding, or using
  it. (preventing the consequences of naive caching of Warning header fields.) If all of the
  warning-values are deleted for this reason, the Warning header MUST be deleted as
  well.

</p>
<p>
  The following warn-codes are defined by this specification, each with a recommended
  warn-text in English, and a description of its meaning.

</p>
<p>

  110 Response is stale
  </p>
<blockquote class="text">
<p>SHOULD be included whenever the returned response is stale.
</p>
</blockquote><p>

</p>
<p>

  111 Revalidation failed
  </p>
<blockquote class="text">
<p>SHOULD be included if a cache returns a stale response because an attempt to
      validate the response failed, due to an inability to reach the server.
</p>
</blockquote><p>

</p>
<p>

  112 Disconnected operation
  </p>
<blockquote class="text">
<p>SHOULD be included if the cache is intentionally disconnected from the rest of
      the network for a period of time.
</p>
</blockquote><p>

</p>
<p>

  113 Heuristic expiration
  </p>
<blockquote class="text">
<p>SHOULD be included if the cache heuristically chose a freshness lifetime
      greater than 24 hours and the response's age is greater than 24 hours.
</p>
</blockquote><p>

</p>
<p>

  199 Miscellaneous warning
  </p>
<blockquote class="text">
<p>The warning text can include arbitrary information to be presented to a human
      user, or logged. A system receiving this warning MUST NOT take any automated
      action, besides presenting the warning to the user.
</p>
</blockquote><p>

</p>
<p>

  214 Transformation applied
  </p>
<blockquote class="text">
<p>MUST be added by an intermediate cache or proxy if it applies any
      transformation changing the content-coding (as specified in the Content-Encoding
      header) or media-type (as specified in the Content-Type header) of the response, or
      the entity-body of the response, unless this Warning code already appears in the
      response.
</p>
</blockquote><p>

</p>
<p>

  299 Miscellaneous persistent warning
  </p>
<blockquote class="text">
<p>The warning text can include arbitrary information to be presented to a human
      user, or logged. A system receiving this warning MUST NOT take any automated
      action.
</p>
</blockquote><p>

</p>
<a name="history.lists"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
History Lists</h3>

<p>
  User agents often have history mechanisms, such as "Back" buttons and history lists, that
  can be used to redisplay an entity retrieved earlier in a session.

</p>
<p>
  The freshness model (<a class='info' href='#expiration.model'>Section&nbsp;2.3<span> (</span><span class='info'>Freshness Model</span><span>)</span></a>) does not necessarily apply to history mechanisms. I.e., 
  a history mechanism can display a previous representation even if it has expired.

</p>
<p>
  This does not prohibit the history mechanism from telling the user that a
  view might be stale, or from honoring cache directives (e.g., Cache-Control: no-store).
  
</p>
<a name="IANA.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<a name="cache.directive.registration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Cache Directive Registry</h3>

<p>
  The registration procedure for HTTP Cache Directives is defined by 
  <a class='info' href='#cache.control.extensions'>Section&nbsp;3.2.3<span> (</span><span class='info'>Cache Control Extensions</span><span>)</span></a> of this document.

</p>
<p>
   The HTTP Cache Directive Registry should be created at <a href='http://www.iana.org/assignments/http-cache-directives'>http://www.iana.org/assignments/http-cache-directives</a>
   and be populated with the registrations below:

</p><br /><hr class="insert" />
<a name="iana.cache.directive.registration.table"></a>
<table class="full" align="left" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">Cache Directive</th><th align="left">Reference</th></tr>
<tr>
<td align="left">max-age</td>
<td align="left">
      <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>, <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">max-stale</td>
<td align="left">
      <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">min-fresh</td>
<td align="left">
      <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">must-revalidate</td>
<td align="left">
      <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">no-cache</td>
<td align="left">
      <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>, <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">no-store</td>
<td align="left">
      <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>, <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">no-transform</td>
<td align="left">
      <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>, <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">only-if-cached</td>
<td align="left">
      <a class='info' href='#cache-request-directive'>Section&nbsp;3.2.1<span> (</span><span class='info'>Request Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">private</td>
<td align="left">
      <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">proxy-revalidate</td>
<td align="left">
      <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">public</td>
<td align="left">
      <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">s-maxage</td>
<td align="left">
      <a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">stale-if-error</td>
<td align="left">
      <a class='info' href='#RFC5861'>[RFC5861]<span> (</span><span class='info'>Nottingham, M., &ldquo;HTTP Cache-Control Extensions for Stale Content,&rdquo; April&nbsp;2010.</span><span>)</span></a>, Section 4
   </td>
</tr>
<tr>
<td align="left">stale-while-revalidate</td>
<td align="left">
      <a class='info' href='#RFC5861'>[RFC5861]<span> (</span><span class='info'>Nottingham, M., &ldquo;HTTP Cache-Control Extensions for Stale Content,&rdquo; April&nbsp;2010.</span><span>)</span></a>, Section 3
   </td>
</tr>
</table>
<br clear="all" />

<a name="message.header.registration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Message Header Registration</h3>

<p>
  The Message Header Registry located at <a href='http://www.iana.org/assignments/message-headers/message-header-index.html'>http://www.iana.org/assignments/message-headers/message-header-index.html</a>
  should be updated with the permanent registrations below (see <a class='info' href='#RFC3864'>[RFC3864]<span> (</span><span class='info'>Klyne, G., Nottingham, M., and J. Mogul, &ldquo;Registration Procedures for Message Header Fields,&rdquo; September&nbsp;2004.</span><span>)</span></a>):

</p><br /><hr class="insert" />
<a name="iana.header.registration.table"></a>
<table class="full" align="left" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left">Header Field Name</th><th align="left">Protocol</th><th align="left">Status</th><th align="left">Reference</th></tr>
<tr>
<td align="left">Age</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.age'>Section&nbsp;3.1<span> (</span><span class='info'>Age</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">Cache-Control</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.cache-control'>Section&nbsp;3.2<span> (</span><span class='info'>Cache-Control</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">Expires</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.expires'>Section&nbsp;3.3<span> (</span><span class='info'>Expires</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">Pragma</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.pragma'>Section&nbsp;3.4<span> (</span><span class='info'>Pragma</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">Vary</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.vary'>Section&nbsp;3.5<span> (</span><span class='info'>Vary</span><span>)</span></a>
   </td>
</tr>
<tr>
<td align="left">Warning</td>
<td align="left">http</td>
<td align="left">standard</td>
<td align="left">
      <a class='info' href='#header.warning'>Section&nbsp;3.6<span> (</span><span class='info'>Warning</span><span>)</span></a>
   </td>
</tr>
</table>
<br clear="all" />

<p>
  The change controller is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".

</p>
<a name="security.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
  Caches expose additional potential vulnerabilities, since the contents of the cache
  represent an attractive target for malicious exploitation. Because cache contents persist
  after an HTTP request is complete, an attack on the cache can reveal information long after
  a user believes that the information has been removed from the network. Therefore, cache
  contents should be protected as sensitive information.

</p>
<a name="ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<p>
  Much of the content and presentation of the caching design is due to suggestions and
  comments from individuals including: Shel Kaphan, Paul Leach, Koen Holtman, David Morris,
  and Larry Masinter.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="Part1">[Part1]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@freedesktop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p1-messaging-10.txt">HTTP/1.1, part 1: URIs, Connections, and Message Parsing</a>,&rdquo; draft-ietf-httpbis-p1-messaging-10 (work in progress), July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="Part2">[Part2]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@freedesktop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p2-semantics-10.txt">HTTP/1.1, part 2: Message Semantics</a>,&rdquo; draft-ietf-httpbis-p2-semantics-10 (work in progress), July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="Part4">[Part4]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@freedesktop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p4-conditional-10.txt">HTTP/1.1, part 4: Conditional Requests</a>,&rdquo; draft-ietf-httpbis-p4-conditional-10 (work in progress), July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="Part5">[Part5]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@freedesktop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p5-range-10.txt">HTTP/1.1, part 5: Range Requests and Partial Responses</a>,&rdquo; draft-ietf-httpbis-p5-range-10 (work in progress), July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="Part7">[Part7]</a></td>
<td class="author-text"><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a>, <a href="mailto:jg@freedesktop.org">Gettys, J.</a>, <a href="mailto:JeffMogul@acm.org">Mogul, J.</a>, <a href="mailto:henrikn@microsoft.com">Frystyk, H.</a>, <a href="mailto:LMM@acm.org">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:ylafon@w3.org">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-httpbis-p7-auth-10.txt">HTTP/1.1, part 7: Authentication</a>,&rdquo; draft-ietf-httpbis-p7-auth-10 (work in progress), July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text"><a href="mailto:dcrocker@bbiw.net">Crocker, D., Ed.</a> and <a href="mailto:paul.overell@thus.net">P. Overell</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1305">[RFC1305]</a></td>
<td class="author-text"><a href="mailto:mills@udel.edu">Mills, D.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1305">Network Time Protocol (Version 3) Specification, Implementation</a>,&rdquo; RFC&nbsp;1305, March&nbsp;1992.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3864">[RFC3864]</a></td>
<td class="author-text"><a href="mailto:GK-IETF@ninebynine.org">Klyne, G.</a>, <a href="mailto:mnot@pobox.com">Nottingham, M.</a>, and <a href="mailto:JeffMogul@acm.org">J. Mogul</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>,&rdquo; BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5226">[RFC5226]</a></td>
<td class="author-text"><a href="mailto:narten@us.ibm.com">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no">H. Alvestrand</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;5226, May&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5861">[RFC5861]</a></td>
<td class="author-text"><a href="mailto:mnot@yahoo-inc.com">Nottingham, M.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5861">HTTP Cache-Control Extensions for Stale Content</a>,&rdquo; RFC&nbsp;5861, April&nbsp;2010.</td></tr>
</table>

<a name="compatibility"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Compatibility with Previous Versions</h3>

<a name="changes.from.rfc.2068"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
Changes from RFC 2068</h3>

<p>
  A case was missed in the Cache-Control model of HTTP/1.1; s-maxage was introduced to add
  this missing case.
  (Sections <a class='info' href='#response.cacheability'>2.1<span> (</span><span class='info'>Response Cacheability</span><span>)</span></a>, <a class='info' href='#header.cache-control'>3.2<span> (</span><span class='info'>Cache-Control</span><span>)</span></a>).

</p>
<p>
  Range request responses would become very verbose if all meta-data were always returned;
  by allowing the server to only send needed headers in a 206 response, this problem can be
  avoided.
  (<a class='info' href='#combining.headers'>Section&nbsp;2.8<span> (</span><span class='info'>Combining Responses</span><span>)</span></a>)

</p>
<p>
  The Cache-Control: max-age directive was not properly defined for responses.
  (<a class='info' href='#cache-response-directive'>Section&nbsp;3.2.2<span> (</span><span class='info'>Response Cache-Control Directives</span><span>)</span></a>)

</p>
<p>
  Warnings could be cached incorrectly, or not updated appropriately. (Section <a class='info' href='#expiration.model'>2.3<span> (</span><span class='info'>Freshness Model</span><span>)</span></a>, <a class='info' href='#combining.headers'>2.8<span> (</span><span class='info'>Combining Responses</span><span>)</span></a>, <a class='info' href='#header.cache-control'>3.2<span> (</span><span class='info'>Cache-Control</span><span>)</span></a>,
  and <a class='info' href='#header.warning'>3.6<span> (</span><span class='info'>Warning</span><span>)</span></a>) Warning also needed to be a general
  header, as PUT or other methods may have need for it in requests.

</p>
<a name="changes.from.rfc.2616"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
Changes from RFC 2616</h3>

<p>
  Make the specified age calculation algorithm less conservative.
  (<a class='info' href='#age.calculations'>Section&nbsp;2.3.2<span> (</span><span class='info'>Calculating Age</span><span>)</span></a>)

</p>
<p>
  Remove requirement to consider Content-Location in successful responses
  in order to determine the appropriate response to use.
  (<a class='info' href='#validation.model'>Section&nbsp;2.4<span> (</span><span class='info'>Validation Model</span><span>)</span></a>)

</p>
<p>
  Clarify denial of service attack avoidance requirement.
  (<a class='info' href='#invalidation.after.updates.or.deletions'>Section&nbsp;2.5<span> (</span><span class='info'>Request Methods that Invalidate</span><span>)</span></a>)

</p>
<p>
  Do not mention RFC 2047 encoding and multiple languages in Warning headers
  anymore, as these aspects never were implemented. 
  (<a class='info' href='#header.warning'>Section&nbsp;3.6<span> (</span><span class='info'>Warning</span><span>)</span></a>)

</p>
<a name="collected.abnf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Collected ABNF</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
<dfn>Age</dfn> = "<span class='str'>Age:</span>" <cite class='id'>OWS</cite> <cite class='id'>Age-v</cite>
<dfn>Age-v</dfn> = <cite class='id'>delta-seconds</cite>

<dfn>Cache-Control</dfn> = "<span class='str'>Cache-Control:</span>" <cite class='id'>OWS</cite> <cite class='id'>Cache-Control-v</cite>
<dfn>Cache-Control-v</dfn> = <span class='rep'>*</span>( "<span class='str'>,</span>" <cite class='id'>OWS</cite> ) <cite class='id'>cache-directive</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ <cite class='id'>OWS</cite>
 <cite class='id'>cache-directive</cite> ] )

<dfn>Expires</dfn> = "<span class='str'>Expires:</span>" <cite class='id'>OWS</cite> <cite class='id'>Expires-v</cite>
<dfn>Expires-v</dfn> = <cite class='id'>HTTP-date</cite>

<dfn>HTTP-date</dfn> = &lt;<span class='str'>HTTP-date, defined in [Part1], Section 6.1</span>&gt;

<dfn>OWS</dfn> = &lt;<span class='str'>OWS, defined in [Part1], Section 1.2.2</span>&gt;

<dfn>Pragma</dfn> = "<span class='str'>Pragma:</span>" <cite class='id'>OWS</cite> <cite class='id'>Pragma-v</cite>
<dfn>Pragma-v</dfn> = <span class='rep'>*</span>( "<span class='str'>,</span>" <cite class='id'>OWS</cite> ) <cite class='id'>pragma-directive</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ <cite class='id'>OWS</cite>
 <cite class='id'>pragma-directive</cite> ] )

<dfn>Vary</dfn> = "<span class='str'>Vary:</span>" <cite class='id'>OWS</cite> <cite class='id'>Vary-v</cite>
<dfn>Vary-v</dfn> = "<span class='str'>*</span>" / ( <span class='rep'>*</span>( "<span class='str'>,</span>" <cite class='id'>OWS</cite> ) <cite class='id'>field-name</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ <cite class='id'>OWS</cite> <cite class='id'>field-name</cite>
 ] ) )

<dfn>Warning</dfn> = "<span class='str'>Warning:</span>" <cite class='id'>OWS</cite> <cite class='id'>Warning-v</cite>
<dfn>Warning-v</dfn> = <span class='rep'>*</span>( "<span class='str'>,</span>" <cite class='id'>OWS</cite> ) <cite class='id'>warning-value</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ <cite class='id'>OWS</cite> <cite class='id'>warning-value</cite>
 ] )

<dfn>cache-directive</dfn> = <cite class='id'>cache-request-directive</cite> / <cite class='id'>cache-response-directive</cite>
<dfn>cache-extension</dfn> = <cite class='id'>token</cite> [ "<span class='str'>=</span>" ( <cite class='id'>token</cite> / <cite class='id'>quoted-string</cite> ) ]
<dfn>cache-request-directive</dfn> = "<span class='str'>no-cache</span>" / "<span class='str'>no-store</span>" / ( "<span class='str'>max-age=</span>"
 <cite class='id'>delta-seconds</cite> ) / ( "<span class='str'>max-stale</span>" [ "<span class='str'>=</span>" <cite class='id'>delta-seconds</cite> ] ) / (
 "<span class='str'>min-fresh=</span>" <cite class='id'>delta-seconds</cite> ) / "<span class='str'>no-transform</span>" / "<span class='str'>only-if-cached</span>" /
 <cite class='id'>cache-extension</cite>
<dfn>cache-response-directive</dfn> = "<span class='str'>public</span>" / ( "<span class='str'>private</span>" [ "<span class='str'>=</span>" <cite class='key'>DQUOTE</cite> <span class='rep'>*</span>( "<span class='str'>,</span>"
 <cite class='id'>OWS</cite> ) <cite class='id'>field-name</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ <cite class='id'>OWS</cite> <cite class='id'>field-name</cite> ] ) <cite class='key'>DQUOTE</cite> ] ) / (
 "<span class='str'>no-cache</span>" [ "<span class='str'>=</span>" <cite class='key'>DQUOTE</cite> <span class='rep'>*</span>( "<span class='str'>,</span>" <cite class='id'>OWS</cite> ) <cite class='id'>field-name</cite> <span class='rep'>*</span>( <cite class='id'>OWS</cite> "<span class='str'>,</span>" [ <cite class='id'>OWS</cite>
 <cite class='id'>field-name</cite> ] ) <cite class='key'>DQUOTE</cite> ] ) / "<span class='str'>no-store</span>" / "<span class='str'>no-transform</span>" /
 "<span class='str'>must-revalidate</span>" / "<span class='str'>proxy-revalidate</span>" / ( "<span class='str'>max-age=</span>" <cite class='id'>delta-seconds</cite>
 ) / ( "<span class='str'>s-maxage=</span>" <cite class='id'>delta-seconds</cite> ) / <cite class='id'>cache-extension</cite>

<dfn>delta-seconds</dfn> = <span class='rep'>1*</span><cite class='key'>DIGIT</cite>

<dfn>extension-pragma</dfn> = <cite class='id'>token</cite> [ "<span class='str'>=</span>" ( <cite class='id'>token</cite> / <cite class='id'>quoted-string</cite> ) ]

<dfn>field-name</dfn> = &lt;<span class='str'>field-name, defined in [Part1], Section 3.2</span>&gt;

<dfn>port</dfn> = &lt;<span class='str'>port, defined in [Part1], Section 2.6</span>&gt;
<dfn>pragma-directive</dfn> = "<span class='str'>no-cache</span>" / <cite class='id'>extension-pragma</cite>
<dfn>pseudonym</dfn> = &lt;<span class='str'>pseudonym, defined in [Part1], Section 9.9</span>&gt;

<dfn>quoted-string</dfn> = &lt;<span class='str'>quoted-string, defined in [Part1], Section 1.2.2</span>&gt;

<dfn>token</dfn> = &lt;<span class='str'>token, defined in [Part1], Section 1.2.2</span>&gt;

<dfn>uri-host</dfn> = &lt;<span class='str'>uri-host, defined in [Part1], Section 2.6</span>&gt;

<dfn>warn-agent</dfn> = ( <cite class='id'>uri-host</cite> [ "<span class='str'>:</span>" <cite class='id'>port</cite> ] ) / <cite class='id'>pseudonym</cite>
<dfn>warn-code</dfn> = <span class='rep'>3</span><cite class='key'>DIGIT</cite>
<dfn>warn-date</dfn> = <cite class='key'>DQUOTE</cite> <cite class='id'>HTTP-date</cite> <cite class='key'>DQUOTE</cite>
<dfn>warn-text</dfn> = <cite class='id'>quoted-string</cite>
<dfn>warning-value</dfn> = <cite class='id'>warn-code</cite> <cite class='key'>SP</cite> <cite class='id'>warn-agent</cite> <cite class='key'>SP</cite> <cite class='id'>warn-text</cite> [ <cite class='key'>SP</cite> <cite class='id'>warn-date</cite>
 ]
</pre></div>
<p>ABNF diagnostics:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
; Age defined but not used
; Cache-Control defined but not used
; Expires defined but not used
; Pragma defined but not used
; Vary defined but not used
; Warning defined but not used
</pre></div>
<a name="change.log"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Change Log (to be removed by RFC Editor before publication)</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.1"></a><h3>C.1.&nbsp;
Since RFC2616</h3>

<p>Extracted relevant partitions from <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.2"></a><h3>C.2.&nbsp;
Since draft-ietf-httpbis-p6-cache-00</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/9'>http://tools.ietf.org/wg/httpbis/trac/ticket/9</a>: "Trailer" (<a href='http://purl.org/NET/http-errata#trailer-hop'>http://purl.org/NET/http-errata#trailer-hop</a>)
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/12'>http://tools.ietf.org/wg/httpbis/trac/ticket/12</a>: "Invalidation after Update or Delete" (<a href='http://purl.org/NET/http-errata#invalidupd'>http://purl.org/NET/http-errata#invalidupd</a>)
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/35'>http://tools.ietf.org/wg/httpbis/trac/ticket/35</a>: "Normative and Informative references"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/48'>http://tools.ietf.org/wg/httpbis/trac/ticket/48</a>: "Date reference typo"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/49'>http://tools.ietf.org/wg/httpbis/trac/ticket/49</a>: "Connection header text"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/65'>http://tools.ietf.org/wg/httpbis/trac/ticket/65</a>: "Informative references"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/66'>http://tools.ietf.org/wg/httpbis/trac/ticket/66</a>: "ISO-8859-1 Reference"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/86'>http://tools.ietf.org/wg/httpbis/trac/ticket/86</a>: "Normative up-to-date references"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/87'>http://tools.ietf.org/wg/httpbis/trac/ticket/87</a>: "typo in 13.2.2"
</li>
</ul><p>

</p>
<p>
  Other changes:
  </p>
<ul class="text">
<li>Use names of RFC4234 core rules DQUOTE and HTAB (work in progress on <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/36'>http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>)
</li>
</ul><p>

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.3"></a><h3>C.3.&nbsp;
Since draft-ietf-httpbis-p6-cache-01</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/82'>http://tools.ietf.org/wg/httpbis/trac/ticket/82</a>: "rel_path not used"
</li>
</ul><p>

</p>
<p>
  Other changes:
  </p>
<ul class="text">
<li>Get rid of duplicate BNF rule names ("host" -&gt; "uri-host") (work in progress
      on <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/36'>http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>)
</li>
<li>Add explicit references to BNF syntax and rules imported from other parts of the
      specification.
</li>
</ul><p>

</p>
<a name="changes.since.02"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.4"></a><h3>C.4.&nbsp;
Since draft-ietf-httpbis-p6-cache-02</h3>

<p>
  Ongoing work on IANA Message Header Registration (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/40'>http://tools.ietf.org/wg/httpbis/trac/ticket/40</a>):
  </p>
<ul class="text">
<li>Reference RFC 3984, and update header registrations for headers defined in this
      document.
</li>
</ul><p>

</p>
<a name="changes.since.03"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.5"></a><h3>C.5.&nbsp;
Since draft-ietf-httpbis-p6-cache-03</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/106'>http://tools.ietf.org/wg/httpbis/trac/ticket/106</a>: "Vary header classification"
</li>
</ul><p>

</p>
<a name="changes.since.04"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.6"></a><h3>C.6.&nbsp;
Since draft-ietf-httpbis-p6-cache-04</h3>

<p>
  Ongoing work on ABNF conversion (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/36'>http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>):
  </p>
<ul class="text">
<li>
      Use "/" instead of "|" for alternatives.
    
</li>
<li>
      Introduce new ABNF rules for "bad" whitespace ("BWS"), optional
      whitespace ("OWS") and required whitespace ("RWS").
    
</li>
<li>
      Rewrite ABNFs to spell out whitespace rules, factor out
      header value format definitions.
    
</li>
</ul><p>

</p>
<a name="changes.since.05"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.7"></a><h3>C.7.&nbsp;
Since draft-ietf-httpbis-p6-cache-05</h3>

<p>
  This is a total rewrite of this part of the specification.

</p>
<p>
  Affected issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/54'>http://tools.ietf.org/wg/httpbis/trac/ticket/54</a>: "Definition of 1xx Warn-Codes"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/60'>http://tools.ietf.org/wg/httpbis/trac/ticket/60</a>: "Placement of 13.5.1 and 13.5.2"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/138'>http://tools.ietf.org/wg/httpbis/trac/ticket/138</a>: "The role of Warning and Semantic Transparency in Caching"
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/139'>http://tools.ietf.org/wg/httpbis/trac/ticket/139</a>: "Methods and Caching"
</li>
</ul><p>

</p>
<p>
  In addition: Final work on ABNF conversion (<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/36'>http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>):
  </p>
<ul class="text">
<li>
      Add appendix containing collected and expanded ABNF, reorganize ABNF introduction.
    
</li>
</ul><p>

</p>
<a name="changes.since.06"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.8"></a><h3>C.8.&nbsp;
Since draft-ietf-httpbis-p6-cache-06</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/161'>http://tools.ietf.org/wg/httpbis/trac/ticket/161</a>:
      "base for numeric protocol elements"
    
</li>
</ul><p>

</p>
<p>
  Affected issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/37'>http://tools.ietf.org/wg/httpbis/trac/ticket/37</a>: 
      Vary and non-existant headers
    
</li>
</ul><p>

</p>
<a name="changes.since.07"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.9"></a><h3>C.9.&nbsp;
Since draft-ietf-httpbis-p6-cache-07</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/54'>http://tools.ietf.org/wg/httpbis/trac/ticket/54</a>:
      "Definition of 1xx Warn-Codes"
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/167'>http://tools.ietf.org/wg/httpbis/trac/ticket/167</a>:
      "Content-Location on 304 responses"
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/169'>http://tools.ietf.org/wg/httpbis/trac/ticket/169</a>:
      "private and no-cache CC directives with headers"
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/187'>http://tools.ietf.org/wg/httpbis/trac/ticket/187</a>:
      "RFC2047 and warn-text"
    
</li>
</ul><p>

</p>
<a name="changes.since.08"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.10"></a><h3>C.10.&nbsp;
Since draft-ietf-httpbis-p6-cache-08</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/147'>http://tools.ietf.org/wg/httpbis/trac/ticket/147</a>:
      "serving negotiated responses from cache: header-specific canonicalization"
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/197'>http://tools.ietf.org/wg/httpbis/trac/ticket/197</a>:
      "Effect of CC directives on history lists"
    
</li>
</ul><p>

</p>
<p>
  Affected issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/199'>http://tools.ietf.org/wg/httpbis/trac/ticket/199</a>: 
      Status codes and caching
    
</li>
</ul><p>

</p>
<p>
  Partly resolved issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/60'>http://tools.ietf.org/wg/httpbis/trac/ticket/60</a>:
      "Placement of 13.5.1 and 13.5.2"
    
</li>
</ul><p>

</p>
<a name="changes.since.09"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.11"></a><h3>C.11.&nbsp;
Since draft-ietf-httpbis-p6-cache-09</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/29'>http://tools.ietf.org/wg/httpbis/trac/ticket/29</a>:
      "Age calculation"
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/168'>http://tools.ietf.org/wg/httpbis/trac/ticket/168</a>:
      "Clarify differences between / requirements for request and response CC directives"
    
</li>
<li>
		<a href='http://tools.ietf.org/wg/httpbis/trac/ticket/174'>http://tools.ietf.org/wg/httpbis/trac/ticket/174</a>:
		"Caching authenticated responses"
	
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/208'>http://tools.ietf.org/wg/httpbis/trac/ticket/208</a>:
      "IANA registry for cache-control directives"
    
</li>
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/211'>http://tools.ietf.org/wg/httpbis/trac/ticket/211</a>:
      "Heuristic caching of URLs with query components"
    
</li>
</ul><p>

</p>
<p>
  Partly resolved issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/196'>http://tools.ietf.org/wg/httpbis/trac/ticket/196</a>:
      "Term for the requested resource's URI"
    
</li>
</ul><p>

</p><a name="rfc.index"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Index</h3>
<table>
<tr><td><strong>A</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor10">age</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor17"><b>Age header</b></a></td></tr>
<tr><td><strong>C</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor6">cache</a></td></tr>
<tr><td>&nbsp;</td><td>Cache Directives</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>max-age</b>  <a href="#anchor32">1</a>, <a href="#anchor55">2</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor34"><b>max-stale</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor36"><b>min-fresh</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor51"><b>must-revalidate</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>no-cache</b>  <a href="#anchor28">1</a>, <a href="#anchor47">2</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>no-store</b>  <a href="#anchor30">1</a>, <a href="#anchor49">2</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>no-transform</b>  <a href="#anchor38">1</a>, <a href="#anchor59">2</a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor40"><b>only-if-cached</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor45"><b>private</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor53"><b>proxy-revalidate</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor43"><b>public</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor57"><b>s-maxage</b></a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor22"><b>Cache-Control header</b></a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor7">cacheable</a></td></tr>
<tr><td><strong>E</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor61"><b>Expires header</b></a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor8">explicit expiration time</a></td></tr>
<tr><td><strong>F</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor11">first-hand</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor13">fresh</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor12">freshness lifetime</a></td></tr>
<tr><td><strong>G</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Grammar</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor19"><b>Age</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor20"><b>Age-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor24"><b>Cache-Control</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor25"><b>Cache-Control-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor26"><b>cache-extension</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor27"><b>cache-request-directive</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor42"><b>cache-response-directive</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor21"><b>delta-seconds</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor63"><b>Expires</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor64"><b>Expires-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor70"><b>extension-pragma</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor67"><b>Pragma</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor69"><b>pragma-directive</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor68"><b>Pragma-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor73"><b>Vary</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor74"><b>Vary-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor81"><b>warn-agent</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor80"><b>warn-code</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor83"><b>warn-date</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor82"><b>warn-text</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor77"><b>Warning</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor78"><b>Warning-v</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor79"><b>warning-value</b></a></td></tr>
<tr><td><strong>H</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Headers</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor18"><b>Age</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor23"><b>Cache-Control</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor62"><b>Expires</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor66"><b>Pragma</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor72"><b>Vary</b></a></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor76"><b>Warning</b></a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor9">heuristic expiration time</a></td></tr>
<tr><td><strong>M</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>max-age</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>Cache Directive</b>  <a href="#anchor33">1</a>, <a href="#anchor56">2</a></td></tr>
<tr><td>&nbsp;</td><td>max-stale</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor35"><b>Cache Directive</b></a></td></tr>
<tr><td>&nbsp;</td><td>min-fresh</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor37"><b>Cache Directive</b></a></td></tr>
<tr><td>&nbsp;</td><td>must-revalidate</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor52"><b>Cache Directive</b></a></td></tr>
<tr><td><strong>N</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>no-cache</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>Cache Directive</b>  <a href="#anchor29">1</a>, <a href="#anchor48">2</a></td></tr>
<tr><td>&nbsp;</td><td>no-store</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>Cache Directive</b>  <a href="#anchor31">1</a>, <a href="#anchor50">2</a></td></tr>
<tr><td>&nbsp;</td><td>no-transform</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<b>Cache Directive</b>  <a href="#anchor39">1</a>, <a href="#anchor60">2</a></td></tr>
<tr><td><strong>O</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>only-if-cached</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor41"><b>Cache Directive</b></a></td></tr>
<tr><td><strong>P</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor65"><b>Pragma header</b></a></td></tr>
<tr><td>&nbsp;</td><td>private</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor46"><b>Cache Directive</b></a></td></tr>
<tr><td>&nbsp;</td><td>proxy-revalidate</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor54"><b>Cache Directive</b></a></td></tr>
<tr><td>&nbsp;</td><td>public</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor44"><b>Cache Directive</b></a></td></tr>
<tr><td><strong>S</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>s-maxage</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor58"><b>Cache Directive</b></a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor14">stale</a></td></tr>
<tr><td><strong>V</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>validator  <a href="#anchor15">1</a>, <a href="#anchor16">2</a></td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor71"><b>Vary header</b></a></td></tr>
<tr><td><strong>W</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor75"><b>Warning header</b></a></td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Roy T. Fielding (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Day Software</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">23 Corporate Plaza DR, Suite 280</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Newport Beach, CA  92660</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-949-706-5300</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+1-949-706-5305</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">fielding@gbiv.com</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://roy.gbiv.com/">http://roy.gbiv.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jim Gettys</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alcatel-Lucent Bell Labs</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">21 Oak Knoll Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Carlisle, MA  01741</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">jg@freedesktop.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://gettys.wordpress.com/">http://gettys.wordpress.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jeffrey C. Mogul</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hewlett-Packard Company</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">HP Labs, Large Scale Systems Group</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1501 Page Mill Road, MS 1177</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Palo Alto, CA  94304</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">JeffMogul@acm.org</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Henrik Frystyk Nielsen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1 Microsoft Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redmond, WA  98052</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">henrikn@microsoft.com</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Larry Masinter</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Adobe Systems, Incorporated</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">345 Park Ave</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95110</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">LMM@acm.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://larry.masinter.net/">http://larry.masinter.net/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Paul J. Leach</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1 Microsoft Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redmond, WA  98052</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">paulle@microsoft.com</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tim Berners-Lee</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">World Wide Web Consortium</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">MIT Computer Science and Artificial Intelligence Laboratory</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">The Stata Center, Building 32</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">32 Vassar Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cambridge, MA  02139</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">timbl@w3.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.w3.org/People/Berners-Lee/">http://www.w3.org/People/Berners-Lee/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yves Lafon (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">World Wide Web Consortium</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">W3C / ERCIM</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2004, rte des Lucioles</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sophia-Antipolis, AM  06902</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">ylafon@w3.org</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.raubacapeu.net/people/yves/">http://www.raubacapeu.net/people/yves/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mark Nottingham (editor)</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">mnot@mnot.net</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.mnot.net/">http://www.mnot.net/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Julian F. Reschke (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">greenbytes GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hafenweg 16</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Muenster, NW  48155</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 251 2807760</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+49 251 2807761</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text">julian.reschke@greenbytes.de</td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></td></tr>
</table>
</body></html>
