



ISIS Work Group                                              Fangwei. Hu
Internet-Draft                                                 Qiang. Wu
Intended status: Standards Track                         ZTE Corporation
Expires: June 21, 2015                                        Andrew. Qu
                                                                MediaTec
                                                       December 18, 2014


                     ISIS LSP Flooding Optimization
             draft-hu-isis-lsp-flooding-optimization-00.txt

Abstract

   This proposal introduces a LSP flooding optimization mechanism for
   the Non-SPF Calculation-based LSP.  The Non-SPF Calculation-based LSP
   is forwarded through the interfaces belonging to a distribution tree
   rather than all the adjacencies interfaces of the IS.  There is no
   backward compatibility issue for this solution.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on June 21, 2015.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Hu, et al.                Expires June 21, 2015                 [Page 1]

Internet-Draft                  ISIS LSP                   December 2014


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  O Bit Flag  . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Distribution Tree for Non-SPF Calculation-based LSP Flooding    4
   5.  LSP Flooding  . . . . . . . . . . . . . . . . . . . . . . . .   4
   6.  Backward Compatibility Considerations . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   Once acquiring its directly connected neighbors and building up
   adjacencies through Hello PDU, the IS (Intermediate System)
   originates the LSP (Link States PDU) to describe its link state
   information and sends it to the network through all the interfaces
   established adjacencies with neighbors.  The IS also receives and
   stores the LSP from all the other LSPs in the whole network and forms
   as LSDB (Link State Database).  The IS calculates the best forwarding
   path for the destination based on the LSDB and SPF algorithm.  When
   receiving LSPs from an interface, they will forwards these LSP to
   their neighbors through all the other interfaces except the received
   interface.  As a result, all the ISs in the giving scope have the
   same LSDB.  We call this procedure as LSP flooding[IS-IS].

   Usually, LSP needs to be fragmented before sending, and the Fragment-
   ID indicates what fragment number the LSP is.  The LSP fragment zero
   and some of the Non-zero fragments contain the mandatory information
   for SPF computation, we name them as SPF Calculation-based LSP, and
   the other Non-zero fragments are named as Non-SPF Calculation-based
   LSP, which is not used for the SPF computation.  If all the IS have
   flooded the Calculation-based LSP in the entire network, we could
   establish a distribution tree based on the SPF algorithm and the
   information announced by the Calculation-based LSP.  The distribution
   tree coves all the IS node in the network, and could be used to
   forward the Non-SPF Calculation-based LSP, which reduces the number
   of Non-SPF Calculation-based LSP, because the IS only forwards the
   Non-SPF Calculation-based LSP through the interfaces belonging to the
   distribution tree rather than all the interfaces of that IS node.





Hu, et al.                Expires June 21, 2015                 [Page 2]

Internet-Draft                  ISIS LSP                   December 2014


2.  Terminology

   Distribution Tree: is used for Non-SPF calculation-based LSP flooding
   in this document.

   Non-SPF Calculation-based LSP: some of the non-zero fragment LSPs
   which don't contain the neighbor information.  The information in
   Non-SPF calculation-based LSP usually is the IP reachabilities
   information, and is not used for SPF calculation.

   SPF Calculation-based LSP: the zero fragment LSPs and the LSPs
   containing the neighbor information.  SPF calculation-based LSP
   carries the vital information for SPF calculation.

3.  O Bit Flag

   The first reserved bit in the common LSP header(Figure 1) is
   redefined as O bit in this document.  If O bit is set to 0, the LSP
   is SPF Calculation-based LSP, and if set to 1, the LSP is Non-SPF
   Calculation-based LSP.

              +--------------------------------------------+
              |Intra-domain Touting Protocol Discriminator |
              +--------------------------------------------+
              |          Header Length Indicator           |
              +--------------------------------------------+
              |        Version/Protocol ID Extension       |
              +--------------------------------------------+
              |              ID Length                     |
              +--------------------------------------------+
              | O | R | R |             PDU Type           |
              +--------------------------------------------+
              |              PDU Version                   |
              +--------------------------------------------+
              |                Reserved                    |
              +--------------------------------------------+
              |         Maximum Area Addresses             |
              +--------------------------------------------+
              |          PDU Specific Fields               |
              |                                            |
              +--------------------------------------------+
              |            TLV Section                     |
              |                                            |
              +--------------------------------------------+

                           IS-IS common header





Hu, et al.                Expires June 21, 2015                 [Page 3]

Internet-Draft                  ISIS LSP                   December 2014


4.  Distribution Tree for Non-SPF Calculation-based LSP Flooding

   The IS uses distribution tree to flood the Non-SPF Calculation-based
   LSP.  The IS with maximum system-ID elected as the root for that
   distribution tree, and the metric of neighbour announced by the non-
   pseudo node is 1.  The OL (overload) flag is ignored when calculating
   the distribution tree, which ensure that the tree could cover all the
   IS node in the network.

5.  LSP Flooding

   The IS floods LSP based on the distribution tree rather than all the
   other interfaces.  The details flood procedure is as following:

   o  When IS originates SPF Calculation-based LSP, it sets the O bit
      flag to zero in the common header of LSP, and sends the LSP
      through all the interfaces.  We should pay attention that the SPF
      calculation LSPs are always forwarded through all the interfaces
      whether O bit flag is set or not for that LSPs.

   o  The IS should forwards the self-originated Non-SPF Calculation-
      based LSPs (the O bit is set to 1 of the LSP) through the
      interfaces belonged to the distribution tree rather than all the
      interfaces.  The IS forwards the received Non-SPF Calculation-
      based LSPs through the interfaces belonged to the distribution
      tree, but except the interfaces received that LSPs.

   o  If the distribution tree is failed and could not forward LSPs, the
      IS should forward all the self-originated LSPs besides the Non-SPF
      Calculation-based LSP through all the interfaces of the IS, and
      forward the received LSPs through all the other interfaces except
      the interface received that LSPs.

6.  Backward Compatibility Considerations

   There is no backward compatibility issue for this solution.  The IS
   does not support O bit and distribution tree forwarding for Non-SPF
   Calculation-based LSP would ignore the O bit when received the LSP
   with O bit set, and forward that LSP through all the interfaces
   except the interfaces received that LSP.

7.  Security Considerations

8.  Acknowledgements







Hu, et al.                Expires June 21, 2015                 [Page 4]

Internet-Draft                  ISIS LSP                   December 2014


9.  IANA Considerations

10.  Normative References

   [IS-IS]    ISO/IEC 10589:2002, Second Edition,, "Intermediate System
              to Intermediate System Intra-Domain Routing Exchange
              Protocol for use in Conjunction with the Protocol for
              Providing the Connectionless-mode Network Service (ISO
              8473)", 2002.

Authors' Addresses

   Fangwei Hu
   ZTE Corporation
   No.889 Bibo Rd
   Shanghai  201203
   China

   Phone: +86 21 68897637
   Email: hu.fangwei@zte.com.cn


   Qiang Wu
   ZTE Corporation
   No.86 Zijinhua Rd
   Nanjing, Jiang Su  210012
   China

   Email: wu.qiang4@zte.com.cn


   Andrew Qu
   MediaTec

   Email: andrew.qu@mediatek.com
















Hu, et al.                Expires June 21, 2015                 [Page 5]
