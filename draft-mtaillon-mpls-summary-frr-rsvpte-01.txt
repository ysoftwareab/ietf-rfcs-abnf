 



MPLS Working Group                                          Mike Taillon
INTERNET-DRAFT                                                Tarek Saad
Intended Status: Standards Track                      Cisco Systems Inc.
Expires: January 7, 2016                                    Nicholas Tan
                                                         Arista Networks
                                                       Abhishek Deshmukh
                                                             Markus Jork
                                                     Vishnu Pavan Beeram
                                                        Juniper Networks
                                                            July 6, 2015


                RSVP-TE Summary Fast Reroute Extensions
                            for LSP Tunnels 
               draft-mtaillon-mpls-summary-frr-rsvpte-01


Abstract

   This document defines RSVP-TE signaling extensions that reduce the
   amount of RSVP signaling required for Fast Reroute (FRR) procedures
   and subsequently improve the scalability of the RSVP-TE signaling
   when undergoing FRR convergence post a link or node failure.  Such
   extensions allow the RSVP message exchange between the Point of Local
   Repair (PLR) and the Merge Point (MP) to be independent of the number
   of protected LSPs traversing between them (eg. when bypass LSP FRR
   protection is used). The new signaling extensions are fully backwards
   compatible with nodes that do not support them.

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
 


Taillon, et al.         Expires January 7, 2016                 [Page 1]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


   http://www.ietf.org/shadow.html


Copyright and License Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document. Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Table of Contents

   1. Introduction  . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1. Summary FRR LSP Groups  . . . . . . . . . . . . . . . . . .  3
     1.2. Terminology . . . . . . . . . . . . . . . . . . . . . . . .  4
   2. Bypass Tunnel Assignment Coordination . . . . . . . . . . . . .  4
     2.1. SUMMARY_FRR_BYPASS_ASSIGNMENT RECORD_ROUTE subobject  . . .  4
     2.2. Bypass Tunnel Assignment Signaling Procedure  . . . . . . .  7
       2.2.1. PLR Path Signaling Procedure  . . . . . . . . . . . . .  8
       2.2.2. MP Signaling Procedure  . . . . . . . . . . . . . . . .  8
       2.2.3. PLR Resv Signaling Procedure  . . . . . . . . . . . . .  9
   3. Post FRR Trigger Signaling  . . . . . . . . . . . . . . . . . .  9
     3.1. SUMMARY_FRR_BYPASS_ACTIVE object  . . . . . . . . . . . . . 10
     3.2. PLR Summary FRR Path Signaling Procedure  . . . . . . . . . 10
     3.3. MP Summary FRR Path Signaling Procedure . . . . . . . . . . 11
     3.4. MP Summary FRR Resv Signaling Procedure . . . . . . . . . . 11
     3.5. Refreshing Summary FRR Active LSPs  . . . . . . . . . . . . 12
   4. Compatibilty  . . . . . . . . . . . . . . . . . . . . . . . . . 12
   5. Security Considerations . . . . . . . . . . . . . . . . . . . . 12
   6. IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 12
   7.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 12
     7.1.  Normative References . . . . . . . . . . . . . . . . . . . 12
     7.2.  Informative References . . . . . . . . . . . . . . . . . . 13
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 13




 


Taillon, et al.         Expires January 7, 2016                 [Page 2]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


1. Introduction

   Fast Reroute (FRR) procedures defined in [RSVP-TE-FRR] describe the
   mechanism for the Point of Local Repair (PLR) to reroute traffic and
   signaling of a protected RSVP-TE LSP onto the bypass tunnel in the
   event of a TE link or node failure. These signaling procedures are
   performed individually for each affected LSP and can lead to
   scalability and latency issues when the failure event affect a large
   number of protected LSPs between the same PLR and MP.

   In a scaled deployment, a single P node acting as a PLR may host tens
   of thousands of protected RSVP-TE LSPs egressing the same link, and
   likewise, act as a Merge Point (MP) for similar number of LSPs
   ingressing the same link. In the event of the failure of the link or
   neighbor node, the RSVP-TE control plane of PLR and MP becomes busy
   rerouting protected LSPs signaling over the bypass tunnel(s) in one
   direction, and merging signaling of received messages over bypass
   tunnels in the other direction, respectively. At the same time, head-
   end PE nodes that are notified of the local repair, attempt to
   (re)converge affected RSVP-TE LSPs over newly computed paths,
   possibly traversing the same P node. As a result, the RSVP-TE control
   plane at the PLR and MP becomes overwhelmed by the FRR processing
   overhead following link or node failure while also competing for CPU
   processing power with other control plane protocol(s) (e.g. IGP) also
   undergoing convergence.

   The extensions defined in this document enable a MP to become aware
   of the PLR's bypass assignment and allow FRR procedures between PLR
   and MP to be signaled and processed on groups of LSPs.  Further,
   MESSAGE_ID objects for the rerouted PATH and RESV states are
   exchanged prior to the fault such that Summary Refresh
   procedures defined in [RSVP-SUMMARY-REFRESH] can be used to
   immediately refresh rerouted state after fast reroute has occurred.

1.1. Summary FRR LSP Groups

   The PLR creates and manages Summary FRR LSP groups
   (Bypass_Group_Identifiers)  and shares them with the MP via
   signaling.  Protected LSPs sharing the same egress link and bypass
   assignment are grouped together and are assigned the same group.  The
   MP maintains the PLR group assignments learned via signaling, and
   acknowledges the group assignments via signaling. Once the PLR
   receives the acknowledgement, FRR signaling can now be group based.





 


Taillon, et al.         Expires January 7, 2016                 [Page 3]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


1.2. Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [KEYWORDS].

2. Bypass Tunnel Assignment Coordination

   This document defines a new subobject in RSVP RECORD_ROUTE object,
   SUMMARY_FRR_BYPASS_ASSIGNMENT, to extend RSVP-TE for summary fast-
   reroute signaling. This object is backward compatible with LSRs that
   do not recognize it (see section 4.4.5 in [RSVP-TE]).

2.1. SUMMARY_FRR_BYPASS_ASSIGNMENT RECORD_ROUTE subobject

   When used within an RSVP Path message, the
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is used to inform the MP of
   the bypass tunnel being used by the PLR, the assigned Summary FRR
   Bypass_Group_Identifier for the protected LSP, and the MESSAGE_ID
   object that the PLR will use to refresh the protected LSP PATH state
   post FRR trigger.  When used within a RSVP Resv message, the
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is used by the MP to
   acknowledge the PLR's bypass tunnel assignment, and provide the
   MESSAGE_ID object that the MP will use to refresh the protected LSP
   RESV state post FRR trigger (and also indicates support for this
   extension).

   The IPv4 SUMMARY_FRR_BYPASS_ASSIGNMENT subobject has the following
   format:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |       Type    |      Length     |    Bypass_Tunnel_ID         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Source_IPv4_Address                     |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Destination_IPv4_Address                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Group_Identifier                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Summary_FRR_MESSAGE_ID                         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Type: 8 bits

               (TBD-1) IPv4 Summary FRR Bypass Assignment 

 


Taillon, et al.         Expires January 7, 2016                 [Page 4]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


         Length: 8 bits

               The Length contains the total length of the subobject in 
         bytes, including the Type and Length fields.


         Bypass_Tunnel_ID: 16 bits

               The bypass tunnel identifier.


         Bypass_Source_IPv4_Address: 32 bits

               The bypass tunnel source IPV4 address.


         Bypass_Destination_IPv4_Address: 32 bits

               The bypass tunnel destination IPV4 address.


         Bypass_Group_Identifier: 32 bits

               The bypass tunnel group identifier.


         Summary_FRR_MESSAGE_ID

               A MESSAGE_ID object as defined by [RSVP-SUMMARY-REFRESH].



















 


Taillon, et al.         Expires January 7, 2016                 [Page 5]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


   The IPv6 SUMMARY_FRR_BYPASS_ASSIGNMENT subobject has the following
   format:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |       Type    |      Length     |    Bypass_Tunnel_ID         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       +                                                               +
       |                                                               |
       +                Bypass_Source_IPv6_Address                     +
       |                                                               |
       +                                                               +
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       +                                                               +
       |                                                               |
       +                Bypass_Destination_IPv6_Address                +
       |                                                               |
       +                                                               +
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Group_Identifier                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Summary_FRR_MESSAGE_ID                         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Type: 8 bits

               (TBD-2) IPv6 Summary FRR Bypass Assignment 

         Length: 8 bits

               The Length contains the total length of the subobject in 
         bytes, including the Type and Length fields.


         Bypass_Tunnel_ID: 16 bits

               The bypass tunnel identifier.


         Bypass_Source_IPv6_Address: 128 bits

               The bypass tunnel source IPV4 address.

 


Taillon, et al.         Expires January 7, 2016                 [Page 6]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


         Bypass_Destination_IPv6_Address: 128 bits

               The bypass tunnel destination IPV4 address.


         Bypass_Group_Identifier: 32 bits

               The bypass tunnel group identifier.


         Summary_FRR_MESSAGE_ID

               A MESSAGE_ID object as defined by [RSVP-SUMMARY-REFRESH].

2.2. Bypass Tunnel Assignment Signaling Procedure    

   Before Summary FRR procedures can be used, a handshake MUST be
   completed between the PLR and MP.  This handshake is performed using
   RECORD_ROUTE subobject SUMMARY_FRR_BYPASS_ASSIGNMENT within both the
   RSVP Path and Resv messages.

   The PLR assigns a bypass tunnel and Bypass_Group_Identifier for each
   protected LSP.  The same Bypass_Group_Identifier is used for the set
   of protected LSPs that share the same bypass tunnel and traverse the
   same egress link and are not already rerouted.  The PLR also
   generates a MESSAGE_ID object (flags SHOULD be clear, Epoch and
   Message_Identifier MUST be set according to [RSVP-SUMMARY-REFRESH])
   that is used by the PLR to later match the last sent subobject and
   eliminate timing issues.

   The PLR MUST generate a new Message_Identifier each time the
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject contents change;  for
   example, when PLR changes the bypass tunnel assignment.  

   The PLR notifies the MP of the bypass tunnel assignment via adding a
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject to the RSVP Path message
   RECORD_ROUTE object for the protected LSP using procedure described
   in section 2.2.1. 

   The MP acknowledges the PLR's assignment by signalling a
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject within the RSVP Resv messsage
   RECORD_ROUTE object.  With exception of the MESSAGE_ID object, all
   other fields of the received SUMMARY_FRR_BYPASS_ASSIGNMENT subobject
   are copied into the SUMMARY_FRR_BYPASS_ASSIGNMENT of the Resv
   message. The MESSAGE_ID object is set according to [RSVP-SUMMARY-
   REFRESH], with the Flags being clear.  A new Message_Identifier MUST
   be used to acknowledge an updated PLR assignment.

 


Taillon, et al.         Expires January 7, 2016                 [Page 7]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


   The PLR considers the protected LSP as Summary FRR capable only if
   the SUMMARY_FRR_BYPASS_ASSIGNMENT subobjects within the sent RSVP
   Path message RECORD_ROUTE and the received RSVP Resv message
   RECORD_ROUTE match (with exception of the MESSAGE_ID object). If a
   matching subobject does not exist, or is later absent in a subsequent
   refresh, the PLR MUST consider the protected LSP as not Summary FRR
   capable.  


2.2.1. PLR Path Signaling Procedure

   The SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is added to the
   RECORD_ROUTE object by each PLR in the RSVP Path message of the
   protected LSP to record the bypass tunnel assignment. This subobject
   is updated every time the PLR updates the bypass tunnel assignment
   (which triggers an RSVP Path change message). Upon updating the
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject, the PLR MUST consider the
   protected LSP as not Summary FRR capable until a new handshake has
   completed.

   The SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is added in the
   RECORD_ROUTE object prior to adding the node's IP address. A node
   MUST NOT add a SUMMARY_FRR_BYPASS_ASSIGNMENT subobject without also
   adding the node's IPv4 or IPv6 subobject.

2.2.2. MP Signaling Procedure

   Upon receiving an RSVP Path message with RECORD_ROUTE object, the MP
   processes all (there may be multiple PLRs for a single MP)
   SUMMARY_FRR_BYPASSS_ASSIGNMENT subobjects with a matching Bypass
   Destination address.  

   The MP first ensures the existence of the bypass tunnel and that the
   Bypass_Group_Identifier is not already active.  That is, an LSP
   cannot join a group that is already active.

   The MP builds a mirrored Summary FRR Group database per PLR, which is
   determined using the Bypass_Source_Address field.  The MESSAGE_ID is
   extracted and recorded for the protected LSP PATH state. To
   acknowledge each PLR bypass assignment, a matching
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is prepared as per 2.2.
   Note, a MP may received more than a Path message with the
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject from different upstream PLRs.
   In this case, the MP is expected to save all the received 
   MESSAGE_IDs from the different PLRs. Post failure, the MP determines
   and activates the associated Sumamry Refresh ID to use once it
   receives and processes the SUMMARY_FRR_BYPASS_ACTIVE from the PLR.

   Each SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is added in the
   RECORD_ROUTE object prior to adding the node's IP address. A node
   MUST NOT add a SUMMARY_FRR_BYPASS_ASSIGNMENT subobject without also
   adding an IPv4 or IPv6 subobject.

   When forwarding an RSVP Path message downstream, the MP MAY remove
   any/all SUMMARY_FRR_BYPASS_ASSIGNMENT subobjects with a matching
 


Taillon, et al.         Expires January 7, 2016                 [Page 8]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


   Bypass_Destination_Address.

2.2.3. PLR Resv Signaling Procedure

   Upon receiving an RSVP Resv message with RECORD_ROUTE object, the PLR
   checks if the expected SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is
   present.  If present, the PLR determines if the MP has acknowledged
   the current PLR assignment.

   To be a valid acknowledgement, the received
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject within the Resv message MUST
   match the latest SUMMARY_FRR_BYPASS_ASSIGNMENT subobject sent with
   the Path message (with exception of the MESSAGE_ID) and the received
   Message_Identifier MUST be different (to prevent race condition
   during bypass assignment flip-flop).  If the MP has acknowledged the
   bypass assignment then the LSP is now ready for Summary FRR.  

   When forwarding an RSVP Resv message upstream, the PLR MAY remove
   any/all SUMMARY_FRR_BYPASS_ASSIGNMENT subobjects with a matching
   Bypass_Source_Address.

3. Post FRR Trigger Signaling

   Upon detection of the fault (egress link or node failure) the PLR
   first performs the object modification procedures described by
   section 6.4.3 of [RSVP-TE-FRR] for all affected protected LSPs. For
   Summary FRR LSPs assigned to the same bypass tunnel a common RSVP_HOP
   and SENDER_TEMPLATE MUST be used. 

   The PLR MUST first signal non-Summary FRR LSPs over the bypass tunnel
   before signaling the Summary FRR LSPs.  This is needed to allow for
   the case when the PLR has recently changed a bypass assignment which
   the MP may not have processed the change yet. 

   A new object SUMMARY_FRR_BYPASS_ACTIVE is defined and sent within the
   RSVP Path message of the bypass tunnel for reroute signaling of
   Summary FRR LSPs.











 


Taillon, et al.         Expires January 7, 2016                 [Page 9]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


3.1. SUMMARY_FRR_BYPASS_ACTIVE object

   Sent within an RSVP Path message, the SUMMARY_FRR_BYPASS_ACTIVE
   object is used to inform the MP (bypass tunnel destination) that one
   or more groups of protected LSPs that are being protected by the
   bypass tunnel are being rerouted.

   The SUMMARY_FRR_BYPASS_ACTIVE object has the following format:

      SUMMARY_FRR_BYPASS_ACTIVE Class = TBD (of the form 11bbbbbb)

      Class = SUMMARY_FRR_BYPASS_ACTIVE Class, C_Type = 1 (TBD)

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           RSVP_HOP_Object                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       Bypass_Group_Identifier                 |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                 :                             |
      //                                :                            //
      |                                 :                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       Bypass_Group_Identifier                 |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      RSVP_HOP_Object: Class 3, as defined by [RSVP]

          Replacement HOP object to be applied to all LSPs associated
      with each of the following Bypass_Group_Identifiers

      Bypass_Group_Identifier: 32 bits

          Bypass_Group_Identifier field from the RECORD_ROUTE object
      SUMMARY_FRR_BYPASS_ASSIGNMENT subobject(s) corresponding to all
      LSPs that the bypass headend (PLR) advertised this specific
      Bypass_Group_Identifier for.  One or more
      Bypass_Group_Identifiers may be included.

3.2. PLR Summary FRR Path Signaling Procedure 

   An individual RSVP Path message for each Summary FRR LSP is not
   signaled.

   To reroute Summary FRR LSPs via the bypass tunnel, the PLR adds the
   SUMMARY_FRR_BYPASS_ACTIVE object in the RSVP Path message of the
   bypass tunnel.  
 


Taillon, et al.         Expires January 7, 2016                [Page 10]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


   The RSVP_HOP_Object field of the SUMMARY_FRR_BYPASS_ACTIVE object is
   set to the common RSVP_HOP that was used during section 3. 

   The previously received MESSAGE_ID from the MP is activated, meaning
   that the MP may now refresh the protected rerouted RESV state using
   Summary Refresh procedures.

   For each affected Summary FRR group, its group identifier is added to
   the SUMMARY_FRR_BYPASS_ACTIVE object.

3.3. MP Summary FRR Path Signaling Procedure

   Upon receiving an RSVP Path message with a SUMMARY_FRR_BYPASS_ACTIVE
   object, the MP performs normal merging processing for each LSP
   associated with each Bypass_Group_Identifier, as if it received
   individual RSVP Path messages for each Summary FRR LSP.

   For each Summary FRR LSP being merged, the MP first modifies the Path
   state as follows:

      1. The RSVP_HOP object is copied from the
      SUMMARY_FRR_BYPASS_ACTIVE RSVP_HOP_Object field.

      2. The SENDER_TEMPLATE object SrcAddress field is copied from the
      bypass tunnel SENDER_TEMPLATE object. For the case where PLR is
      also the headend, and SENDER_TEMPLATE SrcAddress of the protected
      LSP and bypass tunnel are the same, the MP MUST use the modified
      HOP Hop Address field instead.

      3. The ERO object is modified as per section 6.4.4. of [RSVP-TE-
      FRR]

   Once the above modifications are completed, the MP then performs the
   merge processing as per [RSVP-TE-FRR]. 

   The previously received MESSAGE_ID from the PLR is activated, meaning
   that the PLR may now refresh the protected rerouted PATH state using
   Summary Refresh procedures.

   A failure during merge processing of any individual rerouted LSP MUST
   result in an RSVP Path Error message and the LSP MUST not be removed
   from the Bypass_Group -- this is to cover the case where the RSVP
   Path Error message doesn't reach the PLR and the RSVP Path Error
   message may need to be resignaled. 

3.4. MP Summary FRR Resv Signaling Procedure

   An individual RSVP Resv message for each successfully merged Summary
 


Taillon, et al.         Expires January 7, 2016                [Page 11]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


   FRR LSP is not signaled.  The MP SHOULD immediately use Summary
   Refresh to refresh the protected LSP RESV state.

3.5. Refreshing Summary FRR Active LSPs

   Refreshing of Summary FRR active LSPs is performed using Summary
   Refresh as defined by [RSVP-SUMMARY-REFRESH].

4. Compatibilty

   The new SUMMARY_FRR_BYPASS_ACTIVE object is to be defined with a
   class number in the form 11bbbbbb, which ensures compatibility with
   non- supporting nodes. Per [RSVP], nodes not supporting this
   extension will ignore the object but forward it, unexamined and
   unmodified, in all messages.

   The new SUMMARY_FRR_BYPASS_ASSIGNMENT RECORD_ROUTE subobject, as per
   section 4.4.5. of [RSVP-TE], if not recognized SHOULD be ignored and
   forwarded.  

5. Security Considerations

   This document introduces new RSVP subobjects. Thus in the event of
   the interception of a signaling message, slightly more could be
   deduced about the state of the network than was previously the case.


6. IANA Considerations

   IANA is requested to administer assignment of new values for the
   namespace defined in this document and summarized in this section.

   IANA maintains a name space for RSVP-TE TE parameters "Resource
   Reservation Protocol (RSVP) Parameters" (see
   http://www.iana.org/assignments/rsvp-parameters).  From the
   registries in this namespace "Route Record" types, allocation of two
   new RECORD_ROUTE object sub-types (IPv4 and IPv6) for the new
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject are required.

   A new RSVP Class (of the form 11bbbbbb) and C-type for the new
   SUMMARY_FRR_BYPASS_ACTIVE object is required.

7.  References

7.1.  Normative References

   [RSVP]     Braden, R., Ed., Zhang, L., Berson, S., Herzog, S., and S.
              Jamin, "Resource ReSerVation Protocol (RSVP) -- Version 1
 


Taillon, et al.         Expires January 7, 2016                [Page 12]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


              Functional Specification", RFC 2205, September 1997.

   [RSVP-TE]  Steinberger, R. and O. Nicklass, "Definitions of Managed
              Objects for Frame Relay Service Level Definitions",
              RFC 3202, January 2002.

   [RSVP-TE-FRR] Pan, P., Ed., Swallow, G., Ed., and A. Atlas, "Fast
              Reroute Extensions to RSVP-TE for LSP Tunnels", RFC 4090,
              May 2005.

   [RSVP-SUMMARY-REFRESH] Berger, L., Gan, D., Swallow, G., Pan, P.,
              Tommasi, F., and S. Molendini, "RSVP Refresh Overhead
              Reduction Extensions", RFC 2961, April 2001.

   [KEYWORDS] Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.


7.2.  Informative References



Authors' Addresses


   Mike Taillon
   Cisco Systems, Inc.

   EMail: mtaillon@cisco.com


   Tarek Saad
   Cisco Systems, Inc.

   EMail: tsaad@cisco.com


   Nicholas Tan
   Arista Networks

   Email: ntan@arista.com

   Abhishek Deshmukh
   Juniper Networks

   EMail: adeshmukh@juniper.net

   Markus Jork
 


Taillon, et al.         Expires January 7, 2016                [Page 13]
INTERNET DRAFT            RSVP-TE Summary FRR               July 6, 2015


   Juniper Networks

   EMail: mjork@juniper.net

   Vishnu Pavan Beerram
   Juniper Networks

   EMail: vbeeram@juniper.net











































Taillon, et al.         Expires January 7, 2016                [Page 14]
