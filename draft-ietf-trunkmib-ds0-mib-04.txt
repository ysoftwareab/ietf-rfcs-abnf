INTERNET-DRAFT                  DS0 MIB                        June 1997


                     Definitions of Managed Objects
               for the DS0 and DS0 Bundle Interface Type

                      Mon Jun  2 14:52:40 EDT 1997


                   draft-ietf-trunkmib-ds0-mib-04.txt

                         David Fowler (editor)
                           Newbridge Networks
                          davef@newbridge.com



Status of this Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups. Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
   Directories on ds.internic.net (US East Coast), nic.nordu.net
   (Europe), ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific
   Rim).

Abstract

   This memo defines an experimental portion of the Management
   Information Base (MIB) for use with network management protocols in
   the Internet community.  In particular, it describes objects used for
   managing DS0 and DS0 Bundle interfaces.  This document is a companion
   document with Definitions of Managed Objects for the DS1/E1/DS2/E2,
   DS3/E3 and SONET/SDH Interface Types, rfcTBD [6], rfcTBD [7] and
   rfc1595 [8].

   This memo specifies a MIB module in a manner that is both compliant
   to the SNMPv2 SMI, and semantically identical to the peer SNMPv1
   definitions.


Expires December 1997                                           [Page 1]

INTERNET-DRAFT                  DS0 MIB                        June 1997


   This memo does not specify a standard for the Internet community.

1.  The SNMPv2 Network Management Framework

   The SNMPv2 Network Management Framework consists of four major
   components.  They are:

   o    the SMI, described in RFC 1902 [1] - the mechanisms used for
        describing and naming objects for the purpose of management.

   o    the MIB-II, STD 17, RFC 1213 [2] - the core set of managed
        objects for the Internet suite of protocols.

   o    the protocol, STD 15, RFC 1157 [3] and/or RFC 1905 [4], - the
        protocol for accessing managed objects.

   The Framework permits new objects to be defined for the
   purpose of experimentation and evaluation.




























Expires December 1997                                           [Page 2]

INTERNET-DRAFT                  DS0 MIB                        June 1997


2.  Objects

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  Objects in the MIB are
   defined using the subset of Abstract Syntax Notation One (ASN.1)
   defined in the SMI.  In particular, each object type is named by an
   OBJECT IDENTIFIER, an administratively assigned name.  The object
   type together with an object instance serves to uniquely identify a
   specific instantiation of the object.  For human convenience, we
   often use a textual string, termed the descriptor, to also refer to
   the object type.



































Expires December 1997                                           [Page 3]

INTERNET-DRAFT                  DS0 MIB                        June 1997


3.  Overview

   These objects are used when the particular media being used to
   realize an interface is a DS0 interface.  At present, this applies to
   these values of the ifType variable in the Internet-standard MIB:

        ds0 (81)
        ds0Bundle (82)


3.1.  BONDing Terminology   Please reference The BONDing Spec {9] for
definitions of terms used to describe bonding modes.


3.2.  Use of ifTable for DS0 Layer

The following items are defined in rfc1573 [5].

   Only the ifGeneralGroup needs to be supported.

           ifTable Object    Use for DS0 Layer
======================================================================
           ifIndex           Interface index.

           ifDescr           See interfaces MIB [5]

           ifType            ds0(81) or ds0Bundle (82)

           ifSpeed           64000 for ds0 regardless of the setting
                             of robbed bit signalling
                             n * 64000 for ds0Bundle

           ifPhysAddress     The value of the Circuit Identifier.
                             If no Circuit Identifier has been assigned
                             this object should have an octet string
                             with zero length.

           ifAdminStatus     See interfaces MIB [5]

           ifOperStatus      See interfaces MIB [5]

           ifLastChange      See interfaces MIB [5]

           ifName            See interfaces MIB [5]


Expires December 1997                                           [Page 4]

INTERNET-DRAFT                  DS0 MIB                        June 1997


           ifLinkUpDownTrapEnable   Set to disabled(2).
                                    Supports read-only access.

           ifHighSpeed        0

           ifConnectorPresent Set to false(2).


3.3.  Using ifStackTable

   This section describes by example how to use ifStackTable to
   represent the relationship of ds0 and ds0Bundles with ds1 interfaces.
   Implementors of the stack table for ds0 and ds0Bundle interfaces
   should look at the appropriate RFC for the service being stacked on
   ds0s and ds0Bundles.  Examples given below are for illustration
   purposes only.

   Example: A Frame Relay Service is being carried on 4 ds0s of a ds1.

        +---------------------+
        | Frame Relay Service |
        +---------------------+
                   |
        +---------------------+
        | ds0Bundle           |
        +---------------------+
          |     |     |     |
        +---+ +---+ +---+ +---+
        |ds0| |ds0| |ds0| |ds0|
        +---+ +---+ +---+ +---+
          |     |     |     |
        +---------------------+
        | ds1                 |
        +---------------------+

   The assignment of the index values could for example be:

           ifIndex  Description
           1        FrameRelayService (type 44)
           2        ds0Bundle         (type 82)
           3        ds0 #1            (type 81)
           4        ds0 #2            (type 81)
           5        ds0 #3            (type 81)
           6        ds0 #4            (type 81)
           7        ds1               (type 18)


Expires December 1997                                           [Page 5]

INTERNET-DRAFT                  DS0 MIB                        June 1997


   The ifStackTable is then used to show the relationships between the
   various interfaces.

           ifStackTable Entries

           HigherLayer   LowerLayer
           0             1
           1             2
           2             3
           2             4
           2             5
           2             6
           3             7
           4             7
           5             7
           6             7
           7             0


   In the case where the frameRelayService is using a single ds0, then
   the ds0Bundle is not required.

        +---------------------+
        | Frame Relay Service |
        +---------------------+
          |
        +---+
        |ds0|
        +---+
          |
        +---------------------+
        | ds1                 |
        +---------------------+

   The assignment of the index values could for example be:

           ifIndex  Description
           1        FrameRelayService (type 44)
           2        ds0               (type 81)
           3        ds1               (type 18)

   The ifStackTable is then used to show the relationships between the
   various interfaces.

           ifStackTable Entries


Expires December 1997                                           [Page 6]

INTERNET-DRAFT                  DS0 MIB                        June 1997


           HigherLayer   LowerLayer
           0             1
           1             2
           2             3
           3             0









































Expires December 1997                                           [Page 7]

INTERNET-DRAFT                  DS0 MIB                        June 1997


4.  Object Definitions for Ds0

          DS0-MIB DEFINITIONS ::= BEGIN

          IMPORTS
               MODULE-IDENTITY, OBJECT-TYPE,
               transmission                     FROM SNMPv2-SMI
               MODULE-COMPLIANCE, OBJECT-GROUP  FROM SNMPv2-CONF
               TruthValue                       FROM SNMPv2-TC
               ifIndex                          FROM IF-MIB;

          --  This is the MIB module for the DS0 Interface objects.

          ds0 MODULE-IDENTITY
              LAST-UPDATED "9609261755Z"
              ORGANIZATION "IETF Trunk MIB Working Group"
              CONTACT-INFO
                "        David Fowler

                 Postal: Newbridge Networks Corporation
                         600 March Road
                         Kanata, Ontario, Canada K2K 2E6

                         Tel: +1 613 591 3600
                         Fax: +1 613 599 3669

                 E-mail: davef@newbridge.com"
              DESCRIPTION
                   "The MIB module to describe
                    DS0 interfaces objects."

              ::= { transmission 81 }














Expires December 1997                                           [Page 8]

INTERNET-DRAFT                  DS0 MIB                        June 1997


          -- The DS0 Config Group

          -- Implementation of this group is optional for all
          -- systems that use a DS0 Interface.

          -- The DS0 Config Group consists of one table:
          --    DS0 Configuration

          -- the DS0 Configuration Table

          dsx0ConfigTable OBJECT-TYPE
              SYNTAX  SEQUENCE OF Dsx0ConfigEntry
              MAX-ACCESS  not-accessible
              STATUS  current
              DESCRIPTION
                      "The DS0 Configuration table."
              ::= { ds0 1 }

          dsx0ConfigEntry OBJECT-TYPE
              SYNTAX  Dsx0ConfigEntry
              MAX-ACCESS  not-accessible
              STATUS  current
              DESCRIPTION
                      "An entry in the DS0 Configuration table."
              INDEX   { ifIndex }
              ::= { dsx0ConfigTable 1 }

          Dsx0ConfigEntry ::=
              SEQUENCE {
                  dsx0Ds0Number            INTEGER,
                  dsx0RobbedBitSignalling  TruthValue
          }

          dsx0Ds0Number OBJECT-TYPE
              SYNTAX  INTEGER(1..31)
              MAX-ACCESS  read-write
              STATUS  current
              DESCRIPTION
                      "This object indicates the channel number of the
                      ds0 on its ds1/e1."
              ::= { dsx0ConfigEntry 1 }

          dsx0RobbedBitSignalling OBJECT-TYPE
              SYNTAX  TruthValue
              MAX-ACCESS  read-write


Expires December 1997                                           [Page 9]

INTERNET-DRAFT                  DS0 MIB                        June 1997


              STATUS  current
              DESCRIPTION
                      "This object indicates if Robbed Bit Signalling is
                      turned on or off for a given ds0.  This only
                      applies to DS0s on a T1 link."
              ::= { dsx0ConfigEntry 2 }

          -- conformance information

          ds0Conformance OBJECT IDENTIFIER ::= { ds0 2 }

          ds0Groups      OBJECT IDENTIFIER ::= { ds0Conformance 1 }
          ds0Compliances OBJECT IDENTIFIER ::= { ds0Conformance 2 }



          -- compliance statements

          ds0Compliance MODULE-COMPLIANCE
              STATUS  current
              DESCRIPTION
                      "The compliance statement for DS0 interfaces."
              MODULE  -- this module
                  GROUP       ds0ConfigGroup
                  DESCRIPTION
                      "Implementation of this group is optional for all
                      systems that attach to a DS0 Interface."
              ::= { ds0Compliances 1 }

          -- units of conformance

          ds0ConfigGroup  OBJECT-GROUP
              OBJECTS { dsx0Ds0Number,
                        dsx0RobbedBitSignalling }
              STATUS  current
              DESCRIPTION
                      "A collection of objects providing configuration
                      information applicable to all DS0 interfaces."
              ::= { ds0Groups 1 }

          END





Expires December 1997                                          [Page 10]

INTERNET-DRAFT                  DS0 MIB                        June 1997


5.  Object Definitions for Ds0 Bundle

          DS0BUNDLE-MIB DEFINITIONS ::= BEGIN

          IMPORTS
               MODULE-IDENTITY, OBJECT-TYPE,
               transmission                      FROM SNMPv2-SMI
               MODULE-COMPLIANCE, OBJECT-GROUP   FROM SNMPv2-CONF
               RowStatus, TestAndIncr            FROM SNMPv2-TC
               ifIndex, InterfaceIndex           FROM IF-MIB;

          --  This is the MIB module for the DS0Bundle Interface
          --  objects.

          ds0Bundle MODULE-IDENTITY
              LAST-UPDATED "9609261755Z"
              ORGANIZATION "IETF Trunk MIB Working Group"
              CONTACT-INFO
                "        David Fowler

                 Postal: Newbridge Networks Corporation
                         600 March Road
                         Kanata, Ontario, Canada K2K 2E6

                         Tel: +1 613 591 3600
                         Fax: +1 613 599 3669

                 E-mail: davef@newbridge.com"
              DESCRIPTION
                   "The MIB module to describe
                    DS0 Bundle interfaces objects."

              ::= { transmission 82 }













Expires December 1997                                          [Page 11]

INTERNET-DRAFT                  DS0 MIB                        June 1997


          -- The DS0 Bonding Group

          -- Implementation of this group is optional for all
          -- systems that use a DS0Bundle Interface.

          -- The DS0 Bonding Group consists of one table:
          --    DS0 Bonding

          -- the DS0 Bonding Table

          dsx0BondingTable OBJECT-TYPE
              SYNTAX  SEQUENCE OF Dsx0BondingEntry
              MAX-ACCESS  not-accessible
              STATUS  current
              DESCRIPTION
                      "The DS0 Bonding table."
              ::= { ds0Bundle 1 }

          dsx0BondingEntry OBJECT-TYPE
              SYNTAX  Dsx0BondingEntry
              MAX-ACCESS  not-accessible
              STATUS  current
              DESCRIPTION
                      "An entry in the DS0 Bonding table."
              INDEX   { ifIndex }
              ::= { dsx0BondingTable 1 }

          Dsx0BondingEntry ::=
              SEQUENCE {
                  dsx0BondMode            INTEGER,
                  dsx0BondStatus          INTEGER,
                  dsx0BondRowStatus       RowStatus
          }

          dsx0BondMode OBJECT-TYPE
              SYNTAX  INTEGER {
                          dsx0BondModeNone(1),
                          dsx0BondModeOther(2),
                          dsx0BondMode0(3),
                          dsx0BondMode1(4),
                          dsx0BondMode2(5),
                          dsx0BondMode3(6)
              }
              MAX-ACCESS  read-create
              STATUS  current


Expires December 1997                                          [Page 12]

INTERNET-DRAFT                  DS0 MIB                        June 1997


              DESCRIPTION
                      "This object indicates which BONDing mode is used,
                      if any, for a ds0Bundle.  Mode0 provides parameter
                      and number exchange with no synchronization.  Mode
                      1 provides parameter and number exchange.  Mode 1
                      also provides synchronization during
                      initialization but does not include inband
                      monitoring.  Mode 2 provides all of the above plus
                      inband monitoring.  Mode 2 also steals 1/64th of
                      the bandwidth of each channel (thus not supporting
                      n x 56/64 kbit/s data channels for most values of
                      n). Mode 3 provides all of the above, but also
                      provides n x 56/64 kbit/s data channels.  Most
                      common implementations of Mode 3 add an extra
                      channel to support the inband monitoring overhead.
                      ModeNone should be used when the interface is not
                      performing bandwidth-on-demand."
              ::= { dsx0BondingEntry 1 }

          dsx0BondStatus OBJECT-TYPE
              SYNTAX  INTEGER {
                          dsx0BondIdle(1),
                          dsx0BondCallSetup(2),
                          dsx0BondDataTransfer(3)
              }
              MAX-ACCESS  read-create
              STATUS  current
              DESCRIPTION
                      "This object indicates the current status of the
                      bonding call using this ds0Bundle. dsx0BondIdle
                      (1) should be used when the bonding mode is set to
                      dsx0BondModeNone (1)."
              ::= { dsx0BondingEntry 2 }

          dsx0BondRowStatus OBJECT-TYPE
              SYNTAX  RowStatus
              MAX-ACCESS  read-create
              STATUS  current
              DESCRIPTION
                      "This object is used to create new rows in this
                      table, modify existing rows, and to delete
                      existing rows."
              ::= { dsx0BondingEntry 3 }



Expires December 1997                                          [Page 13]

INTERNET-DRAFT                  DS0 MIB                        June 1997


          --
          -- The DS0 Bundle Stub Group
          --

          dsx0BundleStubNextIndex OBJECT-TYPE
              SYNTAX  TestAndIncr
              MAX-ACCESS  read-write
              STATUS  current
              DESCRIPTION
                      "This object is used to assist the manager in
                      selecting a value for dsx0BundleStubIndex.
                      Because this object is of syntax TestAndIncr (see
                      the SNMPv2-TC document, RFC1903) it can also be
                      used to avoid race conditions with multiple
                      managers trying to create rows in the table. The
                      alorithm is:
                      while done == false
                          index = GET (dsx0BundleStubNextIndex.0)
                          SET (dsx0BundleStubNextIndex.0=index,
                               dsx0BundleStubRowStatus.index=createAndGo)

                          if errorindex == 1 (failure was because of the
                                             TestAndIncr object)
                              done = false
                          else
                              done = true
                              other error handling"
              ::= { ds0Bundle 2 }

          dsx0BundleStubTable OBJECT-TYPE
              SYNTAX  SEQUENCE OF Dsx0BundleStubEntry
              MAX-ACCESS  not-accessible
              STATUS  current
              DESCRIPTION
                      "This table is used to (indirectly) create rows in
                      the ifTable with ifType='ds0Bundle(82)'."
              ::= { ds0Bundle 3 }

          dsx0BundleStubEntry OBJECT-TYPE
              SYNTAX  Dsx0BundleStubEntry
              MAX-ACCESS  not-accessible
              STATUS  current
              DESCRIPTION
                      "A 'stub' for a ds0Bundle interface."
              INDEX   { dsx0BundleStubIndex }


Expires December 1997                                          [Page 14]

INTERNET-DRAFT                  DS0 MIB                        June 1997


              ::= { dsx0BundleStubTable 1 }

          Dsx0BundleStubEntry ::=
              SEQUENCE {
                  dsx0BundleStubIndex     INTEGER,
                  dsx0BundleStubIfIndex   InterfaceIndex,
                  dsx0BundleStubRowStatus RowStatus
          }

          dsx0BundleStubIndex OBJECT-TYPE
              SYNTAX  INTEGER (0..65535)
              MAX-ACCESS  read-create
              STATUS  current
              DESCRIPTION
                      "A unique identifier for a ds0Bundle stub. This is
                      not the same value as ifIndex. This table is not
                      indexed by ifIndex because the manager has to
                      choose the index in a createable row and the agent
                      must be allowed to select ifIndex values."
              ::= { dsx0BundleStubEntry 1 }

          dsx0BundleStubIfIndex OBJECT-TYPE
              SYNTAX  InterfaceIndex
              MAX-ACCESS  read-only
              STATUS  current
              DESCRIPTION
                      "The ifIndex value the agent selected for the new
                      ds0Bundle interface."
              ::= { dsx0BundleStubEntry 2 }

          dsx0BundleStubRowStatus OBJECT-TYPE
              SYNTAX  RowStatus
              MAX-ACCESS  read-create
              STATUS  current
              DESCRIPTION
                      "This object is used to create and delete rows in
                      this table."
              ::= { dsx0BundleStubEntry 3 }


          -- conformance information

          ds0BundleConformance OBJECT IDENTIFIER ::= { ds0Bundle 4}

          ds0BundleGroups      OBJECT IDENTIFIER


Expires December 1997                                          [Page 15]

INTERNET-DRAFT                  DS0 MIB                        June 1997


              ::= { ds0BundleConformance 1 }

          ds0BundleCompliances OBJECT IDENTIFIER
              ::= { ds0BundleConformance 2 }



          -- compliance statements

          ds0BundleCompliance MODULE-COMPLIANCE
              STATUS  current
              DESCRIPTION
                      "The compliance statement for DS0Bundle
                      interfaces."
              MODULE  -- this module
                  GROUP       ds0BondingGroup
                  DESCRIPTION
                      "Implementation of this group is optional for all
                      systems that attach to a DS0Bundle Interface."

                  GROUP       ds0BundleStubGroup
                  DESCRIPTION
                      "Implementation of this group is optional for all
                      systems that attach to a DS0Bundle Interface."
              ::= { ds0BundleCompliances 1 }

          -- units of conformance

          ds0BondingGroup  OBJECT-GROUP
              OBJECTS { dsx0BondMode,
                        dsx0BondStatus,
                        dsx0BondRowStatus }
              STATUS  current
              DESCRIPTION
                      "A collection of objects providing configuration
                      information applicable to all DS0 interfaces."
              ::= { ds0BundleGroups 1 }

          ds0BundleStubGroup  OBJECT-GROUP
              OBJECTS { dsx0BundleStubNextIndex,
                        dsx0BundleStubIndex,
                        dsx0BundleStubIfIndex,
                        dsx0BundleStubRowStatus }
              STATUS  current
              DESCRIPTION


Expires December 1997                                          [Page 16]

INTERNET-DRAFT                  DS0 MIB                        June 1997


                      "A collection of objects providing the ability to
                      create a new ds0Bundle in the ifTable."
              ::= { ds0BundleGroups 2 }
          END


6.  Acknowledgments

   This document was produced by the Trunk MIB Working Group:





































Expires December 1997                                          [Page 17]

INTERNET-DRAFT                  DS0 MIB                        June 1997


7.  References

   [1]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
        S. Waldbusser, "Structure of Management Information for Version
        2 of the Simple Network Management Protocol (SNMPv2)", RFC 1902,
        January 1996.

   [2]  McCloghrie, K., and M. Rose, Editors, "Management
        Information Base for Network Management of TCP/IP-based
        internets: MIB-II", STD 17, RFC 1213, Hughes LAN Systems,
        Performance Systems International, March 1991.

   [3]  Case, J., Fedor, M., Schoffstall, M., and J. Davin. " A Simple
        Network Management Protocol (SNMP)", STD 15, RFC 1157, SNMP
        Research, Performance Systems International, MIT Lab for
        Computer Science, May 1990.

   [4]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
        S. Waldbusser, "Protocol Operations for Version 2 of the Simple
        Network Management Protocol (SNMPv2)", RFC 1905, January 1996.

   [5]  McCloghrie, K. and F. Kastenholz, "Evolution of the
        Interfaces Group of MIB-II", draft-ietf-ifmib-mib-03.txt, Cisco,
        FTP Software, March 1996.

   [6]  Fowler, D., "Definitions of Managed Objects for the
        DS1/E1/DS2/E2 Interface Types",
        draft-ietf-trunkmib-ds1-mib-03.txt Newbridge Networks,
        March 1996.

   [7]  Fowler, D., "Definitions of Managed Objects
        for the DS3/E3 Interface Types", RFC1407,
        Newbridge Networks, February 1996.

   [8]  Brown, T., and Tesink, K., "Definitions of Managed Objects
        for the SONET/SDH Interface Type", RFC1595, Bell Communications
        Research, March 1994.

   [9]  Sharp, H. (Editor), "Interoperability Requirements for Nx56/64
        kbit/s Calls", BONDING Spec Version 1.0, BONDING Consortium,
        Sept 1992.





Expires December 1997                                          [Page 18]

INTERNET-DRAFT                  DS0 MIB                        June 1997


8.  Security Considerations

   Security issues are not discussed in this memo.


9.  Authors' Addresses

      David Fowler
      Newbridge Networks
      600 March Road
      Kanata, Ontario, Canada K2K 2E6

      Phone: (613) 599-3600, ext 6559

      EMail: davef@newbridge.com































Expires December 1997                                          [Page 19]

INTERNET-DRAFT                  DS0 MIB                        June 1997


   Table of Contents


   1 The SNMPv2 Network Management Framework ......................    2
   2 Objects ......................................................    3
   3 Overview .....................................................    4
   3.1 BONDing Terminology ........................................    4
   3.2 Use of ifTable for DS0 Layer ...............................    4
   3.3 Using ifStackTable .........................................    5
   4 Object Definitions for Ds0 ...................................    8
   4.1 The DS0 Config Group .......................................    9
   4.1.1 The DS0 Configuration Table ..............................    9
   5 Object Definitions for Ds0 Bundle ............................   11
   5.1 The DS0 Bonding Group ......................................   12
   5.1.1 The DS0 Bonding Table ....................................   12
   6 Acknowledgments ..............................................   17
   7 References ...................................................   18
   8 Security Considerations ......................................   19
   9 Authors' Addresses ...........................................   19



























Expires December 1997                                          [Page 20]
