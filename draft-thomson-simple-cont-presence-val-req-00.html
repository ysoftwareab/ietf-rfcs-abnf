<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Requirements for the Support of Continuously Varying Values in Presence</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Requirements for the Support of Continuously Varying Values in Presence">
<meta name="keywords" content="Internet-Draft, Presence, Location, Continuous, GEOPRIV">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">SIMPLE</td><td class="header">M. Thomson</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Andrew</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">October 23, 2008</td></tr>
<tr><td class="header">Expires: April 26, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Requirements for the Support of Continuously Varying Values in Presence<br />draft-thomson-simple-cont-presence-val-req-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 26, 2009.</p>

<h3>Abstract</h3>

<p>The attributes of continuous-valued data are examined in respect to presence systems.  The limitations of the existing presence system with respect to continuous-valued data is examined.  Requirements are formulated that would enable the use of the presence system for this data, with an emphasis on providing the watcher with a means of control over the measurement process.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#conventions">1.1.</a>&nbsp;
Conventions used in this document<br />
<a href="#cont">2.</a>&nbsp;
Continous-Valued Data and Measurement<br />
<a href="#anchor1">3.</a>&nbsp;
Logical Model: Presence Sources<br />
<a href="#anchor2">4.</a>&nbsp;
Problem Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">4.1.</a>&nbsp;
Unguided Measurement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">4.2.</a>&nbsp;
Presence Filters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.3.</a>&nbsp;
Quality<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.4.</a>&nbsp;
Watcher Feedback<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.5.</a>&nbsp;
Active and Passive Sources<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.6.</a>&nbsp;
Triggering Measurement<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">4.6.1.</a>&nbsp;
Immediate Triggering of Measurement<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">4.6.2.</a>&nbsp;
Periodic Triggering of Measurement<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#value-seek">4.6.3.</a>&nbsp;
Value-based Triggering of Measurement<br />
<a href="#anchor11">5.</a>&nbsp;
Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.1.</a>&nbsp;
Quality Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">5.2.</a>&nbsp;
Immediate Triggering Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">5.3.</a>&nbsp;
Periodic Triggering Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">5.4.</a>&nbsp;
Value-Seeking Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">5.5.</a>&nbsp;
Timeliness Requirements<br />
<a href="#security">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor17">7.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#anchor20">Appendix&nbsp;A.</a>&nbsp;
Presence Agent and Source Interactions<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The provision of continuously varying parameters using presence requires specific support by the <a class='info' href='#RFC2778'>presence infrastructure<span> (</span><span class='info'>Day, M., Rosenberg, J., and H. Sugano, &ldquo;A Model for Presence and Instant Messaging,&rdquo; February&nbsp;2000.</span><span>)</span></a> [RFC2778].  Existing methods assume that perfect information is always available to the Presence Agent (PA).  These methods rely on filtering, which limit the data provided to a watcher, but do not provide the watcher any control over the quality of the actual data.   The current presence system is ill-equipped to handle imperfect data.
      
</p>
<p>Perfect information is available with no delay; perfect information is absolutely accurate.  The absence of perfectly accurate information, can be inversely characterized as the existence of uncertainty.  The measurement of any physical property is subject to some degree of uncertainty.  The impact of this depends on the purpose that the information is intended for.  If a low standard of quality is demanded of the data, the existence of uncertainty might be ignored without negative consequences.  However, in some cases uncertainty can be significant to the intended use of the information.
      
</p>
<p>Timely availability of information also affects the service provided by the PA.  For a continuously varying value, the amount of time required to acquire a value increases as the required accuracy increases.  The relationship between time and accuracy is likely to be non-linear; gains in accuracy follow the law of diminishing returns.  Futhermore, as an actual value changes over time, the value provided to a watcher could be invalidated by the time the watcher receives the information.
      
</p>
<p>Dealing with imperfect information using presence requires additional protocol support.  To properly support continuous-valued data the presence system needs to provide a way for a watcher to indicate their preferences for data quality and timeliness.  This document outlines requirements for presence that enable the use of continuously varying parameters.
      
</p>
<p>Location information is used throughout this document as an exemplary example of a continuous-valued datum.  The requirements in this document are intended to provide a basis for the definition of presence features that support location while giving due consideration to support of other continuous variables.
      
</p>
<p></p>
<blockquote class="text">
<p>This document specifies requirements that might already be covered by existing publications.  However, to ensure the integrity of the overall concept, those requirements are retained.
      
</p>
</blockquote>

<a name="conventions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Conventions used in this document</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
        
</p>
<p></p>
<blockquote class="text">
<p>Paragraphs that are indented like this one contain motivation, examples, speculation and other such non-normative gibberish.
        
</p>
</blockquote>

<a name="cont"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Continous-Valued Data and Measurement</h3>

<p>Continuous-valued data are defined by this document as having a continuous value space.  Therefore, the set of possible values for any Continuous-valued datum is infinite.  In contrast, many existing presence elements are discrete-valued.  Discrete-valued elements have a limited number of possible values.  Continuous-valued data is most regularly numerical, or is composed of numerical data.
      
</p>
<p>Physical properties are a prime example of the use of continuous-valued data.  Any value expressed in the SI units (metres, kilograms, seconds, ampere, kelvin, mole or candela) and units derived from these are within the scope of the general remit of this document.
      
</p>
<p></p>
<blockquote class="text"><dl>
<dt>Note:</dt>
<dd>For those with an interest in physics, this document does not concern itself with quantum effects.  At the point that presence concerns itself with quantum physics, this document is most likely long redundant.
      
</dd>
</dl></blockquote>

<p>Examples of continuous-valued presence elements could include descriptions of the physical characteristics of a presentity or its immediate environment.  This could include position in space; weather related values such as ambient temperature and wind speed; light or noise intensity; remaining battery life of a device; weight and size.  In contrast, the many elements defined in <a class='info' href='#RFC4480'>RFC 4480<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4480] are all discrete-valued.
      
</p>
<p>The act of determining a continuous value is an act of measurement.  The value that is represented in a presence document is the product of a measurement process.  All measurement processes are subject to measurement uncertainty, a well-documented phenomenom <a class='info' href='#ISO.GUM'>[ISO.GUM]<span> (</span><span class='info'>ISO/IEC, &ldquo;Guide to the expression of uncertainty in measurement (GUM),&rdquo; 1995.</span><span>)</span></a>.
      
</p>
<p>This document applies to the inclusion of continuous-valued data in presence, with any of the following constraints:

      </p>
<ol class="text">
<li>The process of measurement has non-zero&mdash;or at least non-negligible&mdash;cost.  Cost can be defined in any number of ways, but could include time, processing resources, network utilisation, labour or financial.
        
</li>
<li>The measurement process has limited accuracy, resulting in uncertainty that is&mdash;or could be&mdash;significant.
        
</li>
</ol><p>
      Cost and accuracy are somewhat related.  In general, improvements in one result in degradation of the other.  For continuous-valued information that is not subject to these constraints, some requirements from this document could still apply.
      
</p>
<p>From the above constraints, one aim of any system that handles such continuous-valued data is to minimise both cost and uncertainty using different trade-offs.  A common factor amoungst systems that handle continuous-valued data is the desire to be able to ignore the effects of these constraints.  Where ignorance is not viable, systems exhibit a range of traits: iterative measurement collection, caching of results, fuzzy logic, maximum likelihood estimation and other forms of statistical analysis.
      
</p>
<p>A significant example of a continuously varying parameter is the position of an entity in space, or its location.  Location information as an element of presence was established in <a class='info' href='#RFC4079'>[RFC4079]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence Architecture for the Distribution of GEOPRIV Location Objects,&rdquo; July&nbsp;2005.</span><span>)</span></a> and a format specified in <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.  Uncertainty in location information, described in more detail in <a class='info' href='#I-D.thomson-geopriv-uncertainty'>[I&#8209;D.thomson&#8209;geopriv&#8209;uncertainty]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Representation of Uncertainty and Confidence in PIDF-LO,&rdquo; November&nbsp;2009.</span><span>)</span></a>, is a product of the method of location generation used and can vary greatly; likewise, the amount of time required to ascertain location within specific quality constraints is highly variable.
      
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Logical Model: Presence Sources</h3>

<p>The entity that measures continuous-valued data&mdash;and the process of measurement&mdash;are crucial in determining the resulting information.  <a class='info' href='#RFC3856'>RFC 3856<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a> [RFC3856] notes that presence data can be sourced by a variety of means, but does not attach any significance to the source of presence data.  This document adopts a model that distinguishes between the PA and the presence source.
      
</p><br /><hr class="insert" />
<a name="logical"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   +----------+             +----------+              +---------+
   | Presence |_____________| Presence |______________| Watcher |
   |  Source  |  (Various)  |  Agent   |  (Presence)  |         |
   +----------+             +----------+              +---------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Logical Model&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Specifics of the interaction between presence source and PA are out of scope for this document.  There might be formalised protocols, or the PA might use unspecified or informal methods to acquire data.  Formalised exchanges include <a class='info' href='#RFC3903'>SIP PUBLISH<span> (</span><span class='info'>Niemi, A., &ldquo;Session Initiation Protocol (SIP) Extension for Event State Publication,&rdquo; October&nbsp;2004.</span><span>)</span></a> [RFC3903]; informal interactions include those that are briefly described in Section 7 of <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>.
      
</p>
<p>For location information, the <a class='info' href='#RFC3693'>GEOPRIV architecture<span> (</span><span class='info'>Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;Geopriv Requirements,&rdquo; February&nbsp;2004.</span><span>)</span></a> [RFC3693] [[Ed: maybe <a class='info' href='#I-D.barnes-geopriv-lo-sec'>[I&#8209;D.barnes&#8209;geopriv&#8209;lo&#8209;sec]<span> (</span><span class='info'>Barnes, R., Lepinski, M., Cooper, A., Morris, J., Tschofenig, H., and H. Schulzrinne, &ldquo;An Architecture for Location and Location Privacy in Internet Applications,&rdquo; March&nbsp;2009.</span><span>)</span></a> instead of or as well as]] defines the Location Generator.  The Location Generator is the presence source of this model; the entity that generates, or measures, the continuous value.  In the GEOPRIV architecture the Location Server is the analogue of the PA and the Location Recipient corresponds to the Watcher.  Other forms of continuous-valued data might have similarly formal architectures and nomenclature.
      
</p>
<p>In an end-to-end system, the model is potentially iterative.  An entity that acts as a presence source to a PA could equally acquire its information from a separate source; from a different perspective, the PA becomes a watcher and the presence source becomes a PA.  The discussion in this document concentrates on the simple model; a presence source in text generally refers to the ultimate presence source: the entity that performs measurement.
      
</p><br /><hr class="insert" />
<a name="iterative"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                   +----------+    +----------+    +---------+
                   | Presence |    | Presence |____| Watcher |
                   |  Source  |    |  Agent   |    |         |
   +----------+    |    or    +----+    or    |    +---------+
   | Presence |____| Presence |    |  Watcher |
   |  Source  |    |  Agent   |    |          |
   +----------+    +----------+    +----------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Iterative Application of the Logical Model&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Problem Statement</h3>

<p>Continuous-valued data cannot always be treated in the same fashion as discrete-valued data.  This section outlines a number of considerations that distinguish continuous-valued data.  These considerations affect how the presence system uses continuous-valued data.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Unguided Measurement</h3>

<p>A presence source is responsible for the measurement of presence data.  Unless the watcher is able to communicate preferences to the presence source, the process of measurement is unguided.
        
</p>
<p>In the event that a PA and watcher operate independently of the presence data source, there is a risk that continuous-valued data is measured inappropriately.  Values might be measured too frequently or with unneeded degree of accuracy, that is, accuracy is favoured too highly over cost.  Conversely, if cost is optimised, measurements might be insufficient in frequency or accuracy.
        
</p>
<p>Communicating watcher preferences to the presence source addresses this problem by making information about what the watcher wants available to the presence source.  With this information the measurement process is no longer unguided.
        
</p>
<p>Communicating watcher preferences to the presence source is especially critical if the watcher also incurs costs relating to the measuring of the continuous value.  The most direct cost is in time: the watcher might be forced to wait for measuring of information to an accuracy more stringent than needed.  However, it need not be limited to time.
        
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Presence Filters</h3>

<p>It is possible to resolve the problem of unguided measurement without resorting to explicit protocol mechanisms.  <a class='info' href='#RFC4660'>Presence filters<span> (</span><span class='info'>Khartabil, H., Leppanen, E., Lonnfors, M., and J. Costa-Requena, &ldquo;Functional Description of Event Notification Filtering,&rdquo; September&nbsp;2006.</span><span>)</span></a> [RFC4660] are able to convey much of a watcher's preferences to the PA.  If the PA has a means of communicating with a presence source, it is able to request measurement of continuous-valued data according to the preferences it is aware of.  By communicating the watcher's preferences in this manner, the presence source is able to measure accordingly.  Additional changes to presence subscriptions (<a class='info' href='#I-D.niemi-sipping-event-throttle'>[I&#8209;D.niemi&#8209;sipping&#8209;event&#8209;throttle]<span> (</span><span class='info'>Niemi, A., Kiss, K., and S. Loreto, &ldquo;Session Initiation Protocol (SIP) Event Notification Extension for  Notification Throttling,&rdquo; February&nbsp;2009.</span><span>)</span></a>) and filter extensions (<a class='info' href='#I-D.ietf-geopriv-loc-filters'>[I&#8209;D.ietf&#8209;geopriv&#8209;loc&#8209;filters]<span> (</span><span class='info'>Mahy, R., Rosen, B., and H. Tschofenig, &ldquo;Filtering Location Notifications in the Session Initiation Protocol (SIP),&rdquo; March&nbsp;2010.</span><span>)</span></a>) make more information available to the PA; this information could be passed on.
        
</p>
<p><a class='info' href='#filters'>Figure&nbsp;3<span> (</span><span class='info'>Presence Agent Model</span><span>)</span></a> shows a simplified model of the existing system of filtering for presence data.  The system assumes that presence information is perfect.  If this is not the case, the only option for a PA is to project the illusion that this is the case.  The only information available to the PA is to use the filter and throttling data available to it to limit the costs it incurs in retrieving information from sources.
        
</p><br /><hr class="insert" />
<a name="filters"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   +--------------------------------------------------------+
   |    Presence Agent (PA)                                 |
   |                                                        |
   |         ,-----------------+&lt;--------------+&lt;--------------
   |        / (Presentity     /               /   SUBSCRIBE |
   |       |   Identifier)   /               /              |
   |       V                /               /               |
   |  ,----------.         |               |                |
   |  |          |         V               V                |
   |  | Presence |    \---------\     \----------\          |
   |  |  Master  |----&gt;) Filter  )----&gt;) Throttle )------------&gt;
   |  |   Data   |    /---------/     /----------/   NOTIFY |
   |  |          |         |              /                 |
   |  `----------'         |,------------'                  |
   |    ^  ^  ^   ,-.      /                                |
   |    |  |  |  ( ? ) &lt;--'            +----------+         |
   |    |   \  \  `-'                  | Internal |         |
   |    |    \  `----------------------| Presence |         |
   |    |     `.                       | Source   |         |
   |    |       `-.                    +----------+         |
   |    |          `.                                       |
   +----+------------+--------------------------------------+
        |             `.
        |               \
   +----------+    +----------+
   | Presence |    | Presence |
   |  Source  |    |  Source  |
   +----------+    +----------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Presence Agent Model&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Quality</h3>

<p>Filters are not ideal indications of when and how to measure.  The purpose of a filter is to limit notifications to a watcher.  It is possible, in some cases to make an intelligent decision about how to take measurements based on filter; but filters can be misleading.  To re-purpose filters to the task of advising sources on how and when to measure can result in problems.
        
</p>
<p>In particular, a filter specification based on information quality can be particularly misleading.  If a watcher specifies a filter that requests a particular quality, the dual purposes that filters are used for potentially conspire to degrade the service provided to the watcher.
        
</p>
<p></p>
<blockquote class="text">
<p>This is best illustrated with an example.  Suppose a watcher, Bob, is watching the location of a presentity, Alice.  Bob specifies a filter that specifies a maximum uncertainty of 50m.  If this is used to advise the presence source, the source attempts to determine a location within that uncertainty.  If the source is unable to meet the requirement, the filter ensures that no notification is sent to Bob.  Bob could handle uncertainty of up to 1000m if necessary.  However, if he specified a larger constraint, the source might use cheaper methods that never produce a result with the accuracy Bob really wants.  How does Bob specify that he wants uncertainty of 50m, but that he will settle for anything up to 1000m?
        
</p>
</blockquote>

<p>From this example, it can be seen that "soft" quality preferences are useful where continuous-valued data is the subject.  These preferences are used to guide the measurement process, but aren't restrictive of the final result.
        
</p>
<p>Quality constraints can be used to ensure that cached data is not used.  For instance, a constraint might be placed on the timestamp that forces the measurement of new data.
        
</p>
<p>The hard, boolean nature of a filter is not tolerant of variation in quality.  Of course, it is possible to expand the goals of the filter document to include the requirements of this document.  The requirements here defined do not presume to exclude that possibility.
        
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Watcher Feedback</h3>

<p>A watcher requires adequate feedback from the PA about how its preferences are being acted upon.  To a watcher, a PA that fully communicates watcher preferences to a presence source, remains indistinguishable from a PA that is either less able to acquire data (because it relies on <a class='info' href='#RFC3903'>PUBLISH<span> (</span><span class='info'>Niemi, A., &ldquo;Session Initiation Protocol (SIP) Extension for Event State Publication,&rdquo; October&nbsp;2004.</span><span>)</span></a> [RFC3903]), or simply chooses not to perform this communication.
        
</p>
<p>In some cases, a watcher is able to compensate for any limitations imposed by the PA.  As shown in <a class='info' href='#value-seek'>Section&nbsp;4.6.3<span> (</span><span class='info'>Value-based Triggering of Measurement</span><span>)</span></a> adaptive polling can be used to seek a particular value.  However, if a watcher uses polling for value-seeking, this potentially duplicates similar efforts from the PA or presence source.
        
</p>
<p>In other circumstances, shortcomings cannot be addressed by the watcher.  For instance, perhaps the presence source is capable of providing information to a certain high degree of accuracy, but unless requested it does not do so (the cost is too high).  If the PA never requests highly accurate information, that information is never available to the watcher.  If filter documents are used as a medium for communicating watcher preferences, the watcher could set a filter that only selects highly accurate information, which could inadvertently suppress all notifications.
        
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Active and Passive Sources</h3>

<p>For a particular presence datum, the means by which the PA is able to acquire updated information varies.  For some forms of discrete-valued data&mdash;such as basic status&mdash;the PA might be considered absolutely authoritative, in that the information is absolutely correct by definition.  Data can be made available to the PA either passively or actively.
        </p>
<blockquote class="text"><dl>
<dt>Passive Acquisition:</dt>
<dd>The PA is a passive recipient of updated information with no means to trigger measurement.  <a class='info' href='#RFC3903'>SIP PUBLISH<span> (</span><span class='info'>Niemi, A., &ldquo;Session Initiation Protocol (SIP) Extension for Event State Publication,&rdquo; October&nbsp;2004.</span><span>)</span></a> [RFC3903] is an example of how the PA could passively acquire data.
          
</dd>
<dt>Active Acquisition:</dt>
<dd>The PA is able to seek updated information, and does so based on one or more triggers.
          
</dd>
</dl></blockquote><p>
        
</p>
<p>Providing the watcher information on the nature of a particular presence source is an important part of the feedback provided by the PA.  If the PA only passively acquires data, much of the considerations presented in this document become moot.  More significantly, if the PA does not provide any options to the watcher to influence its interactions with the presence source, the same applies.  Thus, it is when the PA provides some means of conveying watcher preferences to the presence source that active acquisition becomes useful.
        
</p>
<p></p>
<blockquote class="text">
<p>Back to Bob and Alice:  This time, Bob wants to know when Alice passes by the library where Bob works.  Bob sets a filter, requesting that he only be notified when Alice passes within 100m of the library.  If the PA is passive, it could be that it never receives information when Alice passes by&mdash;the presence source might not publish the necessary information at the crucial moment.
        
</p>
</blockquote>

<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
Triggering Measurement</h3>

<p>Stimulating the generation of a value for the continuous variable can be done through several methods:
        </p>
<ul class="text">
<li>immediate or on-demand triggers
</li>
<li>time-based or periodic triggers (polling)
</li>
<li>value-based triggers
</li>
</ul><p>
        
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6.1"></a><h3>4.6.1.&nbsp;
Immediate Triggering of Measurement</h3>

<p>An immediate request for measurement provides the simplest means of directly providing the presence source with necessary information.  A watcher makes a request to the PA, including its preferences.  The PA then acquires information from the presence source, passing watcher preferences directly to the source.
          
</p>
<p>For SIP presence, the means of communicating preferences available to a watcher is the SUBSCRIBE request.  This presents a challenge for the SIP presence framework if the presence source is not able to provide the requested information immediately.  <a class='info' href='#RFC3265'>RFC 3265<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3265] states:
          </p>
<blockquote class="text">
<p>When a SUBSCRIBE request is answered with a 200-class response, the notifier MUST immediately construct and send a NOTIFY request to the subscriber.
          
</p>
</blockquote>

<p>If the PA is unable to provide an immediate notification due to lack of information, it must indicate this to the watcher.  A presence document might be a composit of continuous- and discrete-valued data.  Any solution for continuous-valued data cannot affect the conveyance of discrete-valued data.  Compatibility with existing the existing presence framework is also desirable.  Therefore, an immediate notification is still necessary.
          
</p>
<p>Some time after the initial request, when the continuous-valued data becomes available, a second notification can be sent.  However, another conflict arises with event rate throttling.  When information becomes available, the notification might be suppressed due to a short elapsed time since the initial notification.
          
</p>
<p>Any means of triggering immediate measurement needs to consider these problems.
          
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6.2"></a><h3>4.6.2.&nbsp;
Periodic Triggering of Measurement</h3>

<p>Periodic notifications of the value of presence data are not assumed to be necessary by the existing work.  Values are assumed to change infrequently, or if frequent changes are necessary, solutions have concentrated on means of throttling notifications.  <a class='info' href='#RFC3265'>RFC 3265<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3265] recommends that event packages specify a minimum interval between notifications; and <a class='info' href='#I-D.niemi-sipping-event-throttle'>[I&#8209;D.niemi&#8209;sipping&#8209;event&#8209;throttle]<span> (</span><span class='info'>Niemi, A., Kiss, K., and S. Loreto, &ldquo;Session Initiation Protocol (SIP) Event Notification Extension for  Notification Throttling,&rdquo; February&nbsp;2009.</span><span>)</span></a> provides a direct means of controlling this interval.
          
</p>
<p>If the watcher has an interest in the value of a particular datum over time, it is useful to be able to have the PA provide notifications at regular intervals.
          
</p>
<p>A similar time-based problem exists for periodic notification as did for the immediate request.   The PA cannot request presence information at the time that a notification is required&mdash;the presence source is unlikely to be able to produce a result so quickly.  The PA needs to allow the presence source sufficient time to make a measurement.  This time can be allocated before the notification is required so that all the necessary data is available for the notification.
          
</p>
<p>Deciding how much time to allow the presence source presents another problem.  Relying upon a value specified by the watcher ensures that the measurement process is guided appropriately.
          
</p>
<a name="value-seek"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6.3"></a><h3>4.6.3.&nbsp;
Value-based Triggering of Measurement</h3>

<p>A watcher might only be interested in a value if that value enters a particular range. For instance, for location, the watcher might be interested when the presentity is in the vicinity of a particular landmark, or even the when two presentities approach each other.  A watcher that monitors the temperature of a presentity might be interested if the temperature exceeds a certain threshold.
          
</p>
<p>Value-seeking can be performed in different ways.  Given certain assumptions or knowledge about the rate of change of a value and the desired responsiveness, an adaptive polling method can be used.  The rate of polling can increase in frequency in proportion to the proximity of the current value to the target range.  In addition, time and quality constraints can be relaxed or made more stringent as appropriate.  The advantage of polling is that it can be performed with only a small amount of information; a PA or watcher is able to use polling for value-seeking.
          
</p>
<p>A presence source can potentially use alternative information to assist in value-seeking.  For data that is derived from other measurements, the value of the unprocessed measurements might provide an adequate indication of the value to obviate any need to continue measurement.  For instance, the set of wireless transmitters that can be observed by a wireless device can be used as a rough indication of location.
          
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Requirements</h3>

<p>The requirements documented in this section relate to subscriptions for continuous-valued data. These requirements do not make any assumptions about the nature of the relationship between PA and presence source.  A presence source is assumed to be present only to the extent that the measurement of a particular presence element affects the results observed by the watcher.
      
</p>
<p>A solution that addresses these requirements MAY address them based on a specific type of data.  Some requirements might not suit a generic solution.
      
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Quality Requirements</h3>

<p></p>
<blockquote class="text"><dl>
<dt>Q1.</dt>
<dd>The system MUST provide a watcher the ability to express non-binding requirements on information quality for continuous-valued presence data.
          <br />

          Motivation: Having a means to express preferences in non-binding fashion can have the desired effect in influencing the measurement process at the presence source without other side-effects.
          
</dd>
<dt>Q2.</dt>
<dd>The system MUST provide a means to indicate how information quality preferences are used or propagated.
          <br />

          Motivation: Providing adequate feedback to a watcher assists the watcher in making decisions about its behaviour.  From the perspective of a PA, this requirement can only be fulfilled based on the knowledge it has available; it can know whether or not it is the presence source, but it cannot assume that the entity it requests information from is the ultimate source of the information.  Publishing information about the ultimate source of the data isn't necessary, but the watcher needs to know if its preferences are getting to that source.
          <br />
<br />

          For instance, the PA or presence source might limit the extent to which quality parameters are able to bypass caches.
          
</dd>
</dl></blockquote>

<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Immediate Triggering Requirements</h3>

<p></p>
<blockquote class="text"><dl>
<dt>I1.</dt>
<dd>The system MUST provide a means for a watcher to explicitly and immediately request measurement of a specified continuous-valued datum.
          <br />

          Motivation: A direct request for data ensures that the presence source is properly advised of the constraints of a request.  It also ensures that a watcher has access to updated information.
          
</dd>
<dt>I2.</dt>
<dd>The system MUST provide a means for the watcher to communicate time constraints on the measurement process.
          <br />

          Motivation: Specifying time constraints ensures that the information is available to the watcher when required.  It also ensures that the presence source applies appropriate methods in measuring.
          
</dd>
<dt>I3.</dt>
<dd>The system MUST provide a means for a PA to limit support for immediate requests.
          <br />

          Motivation: Making a direct request to the presence source increases the load on the presence source and PA.  A PA implementation might want to constrain access to immediate requests to prevent denial of service.
          
</dd>
<dt>I4.</dt>
<dd>The system MUST provide a means for a PA to indicate support for immediate requests, including any limits or constraints on that support.
          <br />

          Motivation: Providing adequate feedback to the watcher ensures that the watcher is able to modify its behaviour accordingly.
          
</dd>
</dl></blockquote>

<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Periodic Triggering Requirements</h3>

<p></p>
<blockquote class="text"><dl>
<dt>P1.</dt>
<dd>The system MUST provide a means to request periodic measurement of a continuous-valued datum at a specified interval.
          <br />

          Motivation: Periodic measurement is the most basic means of enabling tracking of a value over time.  More sophisticated methods might be used, but this sets a minimum level of capability that can be exploited for any type of continuous-valued data.
          
</dd>
<dt>P2.</dt>
<dd>The system MUST provide a means for a PA to limit support for periodic requests.
          <br />

          Motivation: Excessive polling rates might result in denial of service through excessive requests.
          
</dd>
<dt>P3.</dt>
<dd>The system MUST provide a means for a PA to indicate support for periodic measurement, including any limits or constraints.
          
</dd>
<dt>P4.</dt>
<dd>The system MUST provide a means for a watcher to explicitly limit the rate of notifications.
          <br />

          Motivation: Even without perfect information, the defining characteristic of continuous variables is the potential for continuous change.  This manifests in presence as a continuous stream of data from the PA to the watcher.  For a range of reasons&mdash;protection of network utilization not-withstanding&mdash;this is not desirable.
          <br />
<br />

          References: <a class='info' href='#I-D.niemi-sipping-event-throttle'>[I&#8209;D.niemi&#8209;sipping&#8209;event&#8209;throttle]<span> (</span><span class='info'>Niemi, A., Kiss, K., and S. Loreto, &ldquo;Session Initiation Protocol (SIP) Event Notification Extension for  Notification Throttling,&rdquo; February&nbsp;2009.</span><span>)</span></a>
          
</dd>
</dl></blockquote>

<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Value-Seeking Requirements</h3>

<p></p>
<blockquote class="text"><dl>
<dt>V1.</dt>
<dd>The system MAY provide a means for a watcher to indicate a particular range of values to seek.
          <br />

          Motivation: If a watcher is only interested in a certain range of values, limiting measurement and notification protects resources on both the presence source and watcher.
          
</dd>
<dt>V2.</dt>
<dd>The system MUST provide a means for a PA to indicate support for value-seeking requests, including any limits or constraints on that support.
          <br />

          Motivation: Providing adequate feedback to the watcher ensures that the watcher is able to modify its behaviour accordingly.
          
</dd>
</dl></blockquote>

<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Timeliness Requirements</h3>

<p></p>
<blockquote class="text"><dl>
<dt>T1.</dt>
<dd>Continuous-valued data MUST always have a timestamp that indicates when the value was measured.
          <br />

          Motivation: A continuously varying datum is, by its nature, inevitably out of date at the time that the watcher receives it.  In practice, this is only a problem if the time between measurement and receipt of the data is large.  Since this is a matter of degree, providing a timestamp ensures that a watcher is able to make a judgment about validity.
          <br />
<br />

          If time information is not included, the recipient of continuous-valued information has no means of judging how current the information is.  <a class='info' href='#RFC3863'>PIDF<span> (</span><span class='info'>Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &ldquo;Presence Information Data Format (PIDF),&rdquo; August&nbsp;2004.</span><span>)</span></a> [RFC3863] specifies a <tt>timestamp</tt> element, but this element is optional.  This requirement makes the value mandatory.
          <br />
<br />

          The corollary to this that an item of continuous-valued data is automatically invalid if it is not timestamped.
          
</dd>
<dt>T2.</dt>
<dd>The system MUST provide a watcher the ability to limit the age of data that it is provided.
          <br />

          Motivation: This ensures that caching of data is only used to the extent that it is acceptable to the watcher.
          <br />
<br />

          References: <a class='info' href='#I-D.thomson-geopriv-location-quality'>[I&#8209;D.thomson&#8209;geopriv&#8209;location&#8209;quality]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Specifying Location Quality Requirements in Location Protocols,&rdquo; January&nbsp;2010.</span><span>)</span></a>
          
</dd>
<dt>T3.</dt>
<dd>The system MUST provide a means for a watcher to indicate how long measurement of continuous-valued data is allowed to take.
          <br />

          Motivation: This indication assists the PA and presence source in making decisions about how much time to allocate to measurement; for periodic measurement, it provides a hint on when to start measurement.
          
</dd>
</dl></blockquote>

<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>A number of requirements involve a PA making information about its operation available to a watcher.  This information might be consider sensitive by the operators of a PA.  Any solution that addresses these requirements MUST provide an option to suppress this information and MAY include guidance on when this might be appropriate.
      
</p>
<p>Many of the requirements in this document potentially result in PA behaviour being controlled to some extent by a watcher.  Due to the potential for increased load on the PA, a malicious watcher could attempt a denial of service attack by making repeated requests.  A periodic request or a request that includes value-seeking, in particular, require significant processing in order to service a relatively simple request.  Limiting the rate at which information is requested or generated can be used to mitigate this attack.  Any solution that addresses these requirements MUST consider the implications of denial of service on the PA.
      
</p>
<p>Caching of results can limit the load imposed by multiple requests for the same information.  To protect against denial of service, a PA MAY choose to suppress any options for bypassing cached data.
      
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgements</h3>

<p>This document is a clumsy attempt to formalize the output of discussions on the nature of presence and its applicability to location information.  Adam Roach has been helpful in destroying misconceptions about presence, although this document might demonstrate that he wasn't entirely successful; any remaining misconceptions are entirely those of the author.  Thanks also to Richard Barnes, Robert Sparks, James Winterbottom.
      
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2778">[RFC2778]</a></td>
<td class="author-text"><a href="mailto:mday@alum.mit.edu">Day, M.</a>, <a href="mailto:jdrosen@dynamicsoft.com">Rosenberg, J.</a>, and <a href="mailto:suga@flab.fujitsu.co.jp">H. Sugano</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2778">A Model for Presence and Instant Messaging</a>,&rdquo; RFC&nbsp;2778, February&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2778.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3265">[RFC3265]</a></td>
<td class="author-text">Roach, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3265">Session Initiation Protocol (SIP)-Specific Event Notification</a>,&rdquo; RFC&nbsp;3265, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3265.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3693">[RFC3693]</a></td>
<td class="author-text">Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;<a href="http://tools.ietf.org/html/rfc3693">Geopriv Requirements</a>,&rdquo; RFC&nbsp;3693, February&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3693.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3856">[RFC3856]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc3856">A Presence Event Package for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3856, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3856.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3863">[RFC3863]</a></td>
<td class="author-text">Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &ldquo;<a href="http://tools.ietf.org/html/rfc3863">Presence Information Data Format (PIDF)</a>,&rdquo; RFC&nbsp;3863, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3863.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3903">[RFC3903]</a></td>
<td class="author-text">Niemi, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3903">Session Initiation Protocol (SIP) Extension for Event State Publication</a>,&rdquo; RFC&nbsp;3903, October&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3903.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4079">[RFC4079]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4079">A Presence Architecture for the Distribution of GEOPRIV Location Objects</a>,&rdquo; RFC&nbsp;4079, July&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4079.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4119">[RFC4119]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>,&rdquo; RFC&nbsp;4119, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4480">[RFC4480]</a></td>
<td class="author-text">Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;<a href="http://tools.ietf.org/html/rfc4480">RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF)</a>,&rdquo; RFC&nbsp;4480, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4480.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4660">[RFC4660]</a></td>
<td class="author-text">Khartabil, H., Leppanen, E., Lonnfors, M., and J. Costa-Requena, &ldquo;<a href="http://tools.ietf.org/html/rfc4660">Functional Description of Event Notification Filtering</a>,&rdquo; RFC&nbsp;4660, September&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4660.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-lbyr-requirements">[I-D.ietf-geopriv-lbyr-requirements]</a></td>
<td class="author-text">Marshall, R., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-lbyr-requirements-09.txt">Requirements for a Location-by-Reference Mechanism</a>,&rdquo; draft-ietf-geopriv-lbyr-requirements-09 (work in progress), November&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-lbyr-requirements-09.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-loc-filters">[I-D.ietf-geopriv-loc-filters]</a></td>
<td class="author-text">Mahy, R., Rosen, B., and H. Tschofenig, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-loc-filters-11.txt">Filtering Location Notifications in the Session Initiation Protocol (SIP)</a>,&rdquo; draft-ietf-geopriv-loc-filters-11 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-loc-filters-11.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.barnes-geopriv-lo-sec">[I-D.barnes-geopriv-lo-sec]</a></td>
<td class="author-text">Barnes, R., Lepinski, M., Cooper, A., Morris, J., Tschofenig, H., and H. Schulzrinne, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-barnes-geopriv-lo-sec-05.txt">An Architecture for Location and Location Privacy in Internet Applications</a>,&rdquo; draft-barnes-geopriv-lo-sec-05 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-barnes-geopriv-lo-sec-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.garcia-simple-indirect-presence-publish">[I-D.garcia-simple-indirect-presence-publish]</a></td>
<td class="author-text">Garcia, M., Tschofenig, H., and H. Schulzrinne, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-garcia-simple-indirect-presence-publish-01.txt">Indirect Presence Publication with the Session Initiation Protocol(SIP)</a>,&rdquo; draft-garcia-simple-indirect-presence-publish-01 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-garcia-simple-indirect-presence-publish-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.niemi-sipping-event-throttle">[I-D.niemi-sipping-event-throttle]</a></td>
<td class="author-text">Niemi, A., Kiss, K., and S. Loreto, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-niemi-sipping-event-throttle-08.txt">Session Initiation Protocol (SIP) Event Notification Extension for  Notification Throttling</a>,&rdquo; draft-niemi-sipping-event-throttle-08 (work in progress), February&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-niemi-sipping-event-throttle-08.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.thomson-geopriv-uncertainty">[I-D.thomson-geopriv-uncertainty]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-uncertainty-04.txt">Representation of Uncertainty and Confidence in PIDF-LO</a>,&rdquo; draft-thomson-geopriv-uncertainty-04 (work in progress), November&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-uncertainty-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.thomson-geopriv-location-quality">[I-D.thomson-geopriv-location-quality]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-location-quality-05.txt">Specifying Location Quality Requirements in Location Protocols</a>,&rdquo; draft-thomson-geopriv-location-quality-05 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-location-quality-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="ISO.GUM">[ISO.GUM]</a></td>
<td class="author-text">ISO/IEC, &ldquo;Guide to the expression of uncertainty in measurement (GUM),&rdquo; Guide&nbsp;98:1995, 1995.</td></tr>
</table>

<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Presence Agent and Source Interactions</h3>

<p>[[Ed: this section has some informational value, but need to determine how much that contributes to the document.]]
</p>
<p>This document specifies requirements that expose the nature of the association between PA and presence source.  While there are no direct requirements on this interface and proprietary solutions are entirely appropriate, it is hoped that these requirements will influence the design of any protocol mechanisms used on this interface.
      
</p>
<p>Associations between PA and presence sources could be largely static in nature, as is true of the methods described in <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>.  Establishing dynamic associations between PA and presence source is an option where disparate presence sources are required.  This is especially true for location information, where close physical proximity between presentity and source is usually required; consequently the presence source can dynamically change as the presentity moves.
      
</p>
<p><a class='info' href='#I-D.ietf-geopriv-lbyr-requirements'>Location by-reference<span> (</span><span class='info'>Marshall, R., &ldquo;Requirements for a Location-by-Reference Mechanism,&rdquo; November&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;geopriv&#8209;lbyr&#8209;requirements] provides a means whereby a relationship between any entity and the Location Generator can be established.  By contacting the Location Generator, a requester is able to specify preferences for how location information is generated/measured.  A location reference forms the basis for establishing an association between Location Generator and a Location Server.
      
</p>
<p>For presence, <a class='info' href='#I-D.garcia-simple-indirect-presence-publish'>Indirect publish<span> (</span><span class='info'>Garcia, M., Tschofenig, H., and H. Schulzrinne, &ldquo;Indirect Presence Publication with the Session Initiation Protocol(SIP),&rdquo; March&nbsp;2009.</span><span>)</span></a> [I&#8209;D.garcia&#8209;simple&#8209;indirect&#8209;presence&#8209;publish] describes how a PA is able to use the indirection provided by a URI.  The URI is used to establish a link between the generator of presence information and the PA.  The URI is distinguished by two characteristics:
      </p>
<ul class="text">
<li>the host serving the URI is the presence source
        
</li>
<li>additional information in the URI provides enough information to uniquely identify the presentity to the presence source
        
</li>
</ul><p>
      
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martin Thomson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PO Box U40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wollongong University Campus, NSW  2500</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AU</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+61 2 4221 2915</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:martin.thomson@andrew.com">martin.thomson@andrew.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.andrew.com/">http://www.andrew.com/</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
