



Network Working Group                             Kireeti Kompella
Internet Draft                                    Juniper Networks
Expiration Date: September 2002                      Yakov Rekhter
                                                  Juniper Networks
                                                     Alan Kullberg
                                                  NetPlane Systems


                 Signalling Unnumbered Links in CR-LDP

                   draft-ietf-mpls-crldp-unnum-05.txt


1. Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


2. Abstract

   Current signalling used by MPLS TE doesn't provide support for
   unnumbered links.  This document defines procedures and extensions to
   CR-LDP, one of the MPLS TE signalling protocols, that are needed in
   order to support unnumbered links.










draft-ietf-mpls-crldp-unnum-05.txt                              [Page 1]





Internet Draft     draft-ietf-mpls-crldp-unnum-05.txt         March 2002


3. Overview

   Supporting MPLS TE over unnumbered links (i.e., links that do not
   have IP addresses) involves two components: (a) the ability to carry
   (TE) information about unnumbered links in IGP TE extensions (ISIS or
   OSPF), and (b) the ability to specify unnumbered links in MPLS TE
   signalling.  The former is covered in [ISIS-TE, OSPF-TE]. The focus
   of this document is on the latter.

   Current signalling used by MPLS TE doesn't provide support for
   unnumbered links because the current signalling doesn't provide a way
   to indicate an unnumbered link in its Explicit Route Objects.  This
   document proposes simple procedures and extensions that allow CR-LDP
   signalling [CR-LDP] to be used with unnumbered links.


4. Link Identifiers

   An unnumbered link has to be a point-to-point link. An LSR at each
   end of an unnumbered link assigns an identifier to that link. This
   identifier is a non-zero 32-bit number that is unique within the
   scope of the LSR that assigns it. The IS-IS and/or OSPF and RSVP
   modules on an LSR must agree on the identifiers.

   There is no a priori relationship between the identifiers assigned to
   a link by the LSRs at each end of that link.

   LSRs at the two end points of an unnumbered link exchange with each
   other the identifiers they assign to the link. Exchanging the
   identifiers may be accomplished by configuration, by means of a
   protocol such as LMP ([LMP]), by means of RSVP/CR-LDP (especially in
   the case where a link is a Forwarding Adjacency, see below), or by
   means of IS-IS or OSPF extensions ([ISIS-GMPLS], [OSPF-GMPLS]).

   Consider an (unnumbered) link between LSRs A and B. LSR A chooses an
   idenfitier for that link. So is LSR B.  From A's perspective we refer
   to the identifier that A assigned to the link as the "link local
   identifier" (or just "local identifier"), and to the identifier that
   B assigned to the link as the "link remote identifier" (or just
   "remote identifier"). Likewise, from B's perspective the identifier
   that B assigned to the link is the local identifier, and the
   identifier that A assigned to the link is the remote identifier.

   This section is equally applicable to the case of unnumbered
   component links (see [LINK-BUNDLE]).






draft-ietf-mpls-crldp-unnum-05.txt                              [Page 2]





Internet Draft     draft-ietf-mpls-crldp-unnum-05.txt         March 2002


5. Unnumbered Forwarding Adjacencies

   If an LSR that originates an LSP advertises this LSP as an unnumbered
   Forwarding Adjacency in IS-IS or OSPF (see [LSP-HIER]), or the LSR
   uses the Forwarding Adjacency formed by this LSP as an unnumbered
   component link of a bundled link (see [LINK-BUNDLE]), the LSR MUST
   allocate an identifier to that Forwarding Adjacency (just like for
   any other unnumbered link). Moreover, the REQUEST message used for
   establishing the LSP that forms the Forwarding Adjacency MUST contain
   an LSP_TUNNEL_INTERFACE_ID TLV (described below), with the LSR's
   Router ID set to the head end's Router ID, and the Interface ID set
   to the identifier that the LSR allocated to the Forwarding Adjacency.

   If the REQUEST message contains the LSP_TUNNEL_INTERFACE_ID TLV, then
   the tail-end LSR MUST allocate an identifier to that Forwarding
   Adjacency (just like for any other unnumbered link).  Furthermore,
   the MAPPING message for the LSP MUST contain an
   LSP_TUNNEL_INTERFACE_ID TLV, with the LSR's Router ID set to the
   tail-end's Router ID, and the Interface ID set to the identifier
   allocated by the tail-end LSR.

   For the purpose of processing the ERO and the Interface ID TLV, an
   unnumbered Forwarding Adjacency is treated as an unnumbered (TE) link
   or an unnumbered component link as follows. The LSR that originates
   the Adjacency sets the link local identifier for that link to the
   value that the LSR allocates to that Forwarding Adjacency, and the
   link remote identifier to the value carried in the Interface ID field
   of the Reverse Interface ID TLV (for the definition of Reverse
   Interface ID TLV see below). The LSR that is a tail-end of that
   Forwarding Adjacency sets the link local identifier for that link to
   the value that the LSR allocates to that Forwarding Adjacency, and
   the link remote identifier to the value carried in the Interface ID
   field of the Forward Interface ID TLV (for the definition of Forward
   Interface ID see below).


5.1. LSP_TUNNEL_INTERFACE_ID TLV

   The LSP_TUNNEL_INTERFACE ID TLV has Type to be determined by IETF
   consensus and length 8.  The format is given below.


   This TLV can optionally appear in either a REQUEST message or a
   MAPPING message.  In the former case, we call it the "Forward
   Interface ID" for that LSP; in the latter case, we call it the
   "Reverse Interface ID" for the LSP.





draft-ietf-mpls-crldp-unnum-05.txt                              [Page 3]





Internet Draft     draft-ietf-mpls-crldp-unnum-05.txt         March 2002


   Figure 1: LSP_TUNNEL_INTERFACE_ID TLV

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |0|0|            Type           |            Length             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        LSR's Router ID                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Interface ID (32 bits)                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

6. Signalling Unnumbered Links in EROs

   A new subobject of the Explicit Route Object (ERO) is used to specify
   unnumbered links.  This subobject has the following format:

   Figure 2: Unnumbered Interface ID Subobject

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |0|0|     Type = 0x0805         |            Length = 12        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |L|                         Reserved                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           Router ID                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Interface ID (32 bits)                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   The Type is 0x0805 (Unnumbered Interface ID) and the Length is 12.
   The L bit is set to indicate a loose hop, and cleared to indicate a
   strict hop.

   The Interface ID is the identifier assigned to the link by the LSR
   specified by the router ID.


6.1. Processing the IF_ID TLV

   When an LSR receives a REQUEST message containing the IF_ID TLV (see
   [GMPLS-CRLDP]) with the IF_INDEX TLV, the LSR processes this TLV as
   follows. The LSR must have information about the identifiers assigned
   by its neighbors to the unnumbered links between the neighbors and
   the LSR. The LSR uses this information to find a link with tuple
   <Router ID, local identifier> matching the tuple <IP Address,



draft-ietf-mpls-crldp-unnum-05.txt                              [Page 4]





Internet Draft     draft-ietf-mpls-crldp-unnum-05.txt         March 2002


   Interface ID> carried in the IF_INDEX TLV. If the matching tuple is
   found, the match identifies the link for which the LSR has to perform
   label allocation.

   Otherwise, the LSR SHOULD return an error.


6.2. Processing the ERO object

   The Unnumbered Interface ID subobject is defined to be a part of a
   particular abstract node if that node has the Router ID that is equal
   to the Router ID field in the subobject, and if the node has an
   (unnumbered) link or an (unnumbered) Forwarding Adjacency whose local
   identifier (from that node's point of view) is equal to the value
   carried in the Interface ID field of the subobject.

   With this in mind, the ERO processing in the presence of the
   Unnumbered Interface ID subobject follows the rules specified in
   section 4.8.1 of [CR-LDP].

   As part of the ERO processing, or to be more precise, as part of the
   next hop selection, if the outgoing link is unnumbered, the REQUEST
   message that the node sends to the next hop MUST include the IF_ID
   TLV, with the IP address field of that TLV set to the Router ID of
   the node, and the Interface ID field of that TLV set to the
   identifier assigned to the link by the node.


7. Security Considerations

   This document raises no new security concerns for CR-LDP.


8. Acknowledgments

   Thanks to Rahul Aggarwal for his comments on the text.  Thanks too to
   Bora Akyol and Vach Kompella.














draft-ietf-mpls-crldp-unnum-05.txt                              [Page 5]





Internet Draft     draft-ietf-mpls-crldp-unnum-05.txt         March 2002


9. References

   [LINK-BUNDLE] Kompella, K., Rekhter, Y., and Berger, L., "Link
   Bundling in MPLS Traffic Engineering", draft-kompella-mpls-
   bundle-05.txt (work in progress)

   [CR-LDP] Jamoussi, B., editor, "Constraint-Based LSP Setup using
   LDP", draft-ietf-mpls-cr-ldp-04.txt (work in progress)

   [GMPLS-SIG] Ashwood, P., et al., "Generalized MPLS - Signalling
   Functional Description", draft-ietf-generalized-mpls-
   signalling-05.txt

   [GMPLS-CRLDP] Ashwood, P., et al., "Generalized MPLS Signaling - CR-
   LDP Extensions", draft-ietf-mpls-generalized-cr-ldp-04.txt

   [ISIS-TE] Smit, H., and Li, T., "IS-IS extensions for Traffic
   Engineering", draft-ietf-isis-traffic-02.txt (work in progress)

   [LSP-HIER] Kompella, K., and Rekhter, Y., "LSP Hierarchy with MPLS
   TE", draft-ietf-mpls-lsp-hierarchy-02.txt (work in progress)

   [OSPF-TE] Katz, D., and Yeung, D., "Traffic Engineering Extensions to
   OSPF", draft-katz-yeung-ospf-traffic-04.txt (work in progress)


10. Author Information
























draft-ietf-mpls-crldp-unnum-05.txt                              [Page 6]





Internet Draft     draft-ietf-mpls-crldp-unnum-05.txt         March 2002



Kireeti Kompella
Juniper Networks, Inc.
1194 N. Mathilda Ave.
Sunnyvale, CA 94089
e-mail: kireeti@juniper.net

Yakov Rekhter
Juniper Networks, Inc.
1194 N. Mathilda Ave.
Sunnyvale, CA 94089
e-mail: yakov@juniper.net

Alan Kullberg
NetPlane Systems, Inc.
Westwood Executive Center
200 Lowder Brook Drive
Westwood, MA  02090
e-mail: akullber@netplane.com
































draft-ietf-mpls-crldp-unnum-05.txt                              [Page 7]


