



anima Working Group                                        M. Richardson
Internet-Draft                                  Sandelman Software Works
Intended status: Standards Track                         25 January 2021
Expires: 29 July 2021


           CBOR tags for IPv4 and IPv6 addresses and prefixes
               draft-richardson-cbor-network-addresses-00

Abstract

   This document describes two CBOR Tags to be used with IPv4 and IPv6
   addresses and prefixes.

   RFC-EDITOR-please remove: This work is tracked at
   https://github.com/mcr/cbor-network-address.git

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 29 July 2021.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.




Richardson                Expires 29 July 2021                  [Page 1]

Internet-Draft                   CBOR-IP                    January 2021


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Protocol  . . . . . . . . . . . . . . . . . . . . . . . . . .   2
     2.1.  IPv4  . . . . . . . . . . . . . . . . . . . . . . . . . .   2
     2.2.  IPv6  . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Security Considerations . . . . . . . . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   3
     4.1.  TBD1 - IPv4 . . . . . . . . . . . . . . . . . . . . . . .   3
     4.2.  TBD2 - IPv6 . . . . . . . . . . . . . . . . . . . . . . .   3
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   3
   6.  Changelog . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   3
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   [RFC8949] defines a number of CBOR Tags for common items.

   Not included are ones to indicate if the item is an IPv4 or IPv6
   address, or if it is an address plus prefix length.  This document
   defines them.

2.  Protocol

   These tags can applied to byte strings to represent a single address.

   When applied to an array, the represent a CIDR-style prefix.  When a
   byte string (without prefix) appears in a context where a prefix is
   expected, then it is to be assumed that all bits are relevant.  That
   is, for IPv4, a /32 is implied, and for IPv6, a /128 is implied.

2.1.  IPv4

   IANA has allocated tag TBD1 for IPv4 uses.

   An IPv4 address is to be encoded as a four-byte bytestring ([RFC8949]
   section, 3.1, major type 2), prefixed with tag TBD1.  Trailing zero
   octets may be omitted.

   An IPv4 prefix, such as 192.0.0.1/24 is to be encoded as a two
   element array:

       TBD1([ h'C0000001', 24])







Richardson                Expires 29 July 2021                  [Page 2]

Internet-Draft                   CBOR-IP                    January 2021


2.2.  IPv6

   IANA has allocated tag TBD2 for IPv6 uses.

   An IPv6 address is to be encoded as up to sixteen-byte bytestring
   ([RFC8949] section, 3.1, major type 2), prefixed with tag TBD2.
   Trailing zero octets may be omitted.

   An IPv6 prefix, such as 2001:db8:1234::/48 is to be encoded as a two
   element array:

       TBD2([ h'20010db81234', 24])

3.  Security Considerations

   Identifying which byte sequences in a protocol are addresses may
   allow an attacker or eavesdropper to better understand what parts of
   a packet to attack.

   Reading the relevant RFC may provide more information, so it would
   seem that any additional security that was provided by not being able
   to identify what are IP addresses falls into the security by
   obscurity category.

4.  IANA Considerations

   IANA is asked to allocate two tags from the Specification Required
   area, in the ("1+1") area.

4.1.  TBD1 - IPv4

   Data Item: byte-string and array
   Semantics: IPv4 or [IPv4,prefixlen]

4.2.  TBD2 - IPv6

   Data Item: byte-string and array
   Semantics: IPv6 or [IPv6,prefixlen]

5.  Acknowledgements

   none yet

6.  Changelog

7.  Normative References





Richardson                Expires 29 July 2021                  [Page 3]

Internet-Draft                   CBOR-IP                    January 2021


   [BCP14]    Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8949]  Bormann, C. and P. Hoffman, "Concise Binary Object
              Representation (CBOR)", STD 94, RFC 8949,
              DOI 10.17487/RFC8949, December 2020,
              <https://www.rfc-editor.org/info/rfc8949>.

Author's Address

   Michael Richardson
   Sandelman Software Works

   Email: mcr+ietf@sandelman.ca




































Richardson                Expires 29 July 2021                  [Page 4]
