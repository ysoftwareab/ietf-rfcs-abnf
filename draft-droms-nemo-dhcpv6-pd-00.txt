

Network Working Group                                           R. Droms
Internet-Draft                                                     Cisco
Expires: December 22, 2003                                 June 23, 2003


                   DHCPv6 Prefix Delegation for NEMO
                   draft-droms-nemo-dhcpv6-pd-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 22, 2003.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   One aspect of network mobility support is the assignment of a prefix
   or prefixes to a mobile router (MR) for use on the links in the
   mobile network.  DHCPv6 prefix delegation can be used for this
   configuration task.

1. Introduction

   One aspect of network mobility support is the assignment of a prefix
   or prefixes to a mobile router for use on the links in the mobile
   network.  DHCPv6 prefix delegation [1] (DHCPv6PD) can be used for
   this configuration task.




Droms                   Expires December 22, 2003               [Page 1]

Internet-Draft      DHCPv6 Prefix Delegation for NEMO          June 2003


2. Terminology

   The key words MUST, MUST NOT, REQUIRED, SHALL, SHALL NOT, SHOULD,
   SHOULD NOT, RECOMMENDED, MAY, and OPTIONAL in this document are to be
   interpreted as described in RFC2119 [2].

   The following terms used in this document are defined in the IPv6
   Addressing Architecture document [3]:

      link-local unicast address

      link-local scope multicast address

   The following terms used in this document are defined in the mobile
   IPv6 specification [4]:

      home agent (HA)

      home link

   The following terms used in this document are defined in the mobile
   network terminology document [5]:

      mobile router (MR)

      mobile network

   The following terms used in this document are defined in the DHCPv6
   [6] and DHCPv6 prefix delegation [1] specifications:

      delegating router (DR)

      requesting router (RR)

      DHCPv6 relay agent


3. Application of DHCPv6 prefix delegation to mobile networks

   The network mobility requirements document [7] defines a solution for
   mobile IPv6 networks based on the mobile IPv6 protocol [4].  In this
   solution, a MR uses the mobile IPv6 protocol to establish a maintain
   a session with its HA, and uses bidirectional tunneling between the
   MR and HA to provide a path through which hosts attached to links in
   the mobile network can maintain connectivity with nodes not in the
   mobile network.

   The requirements for basic network mobility support [8] include the



Droms                   Expires December 22, 2003               [Page 2]

Internet-Draft      DHCPv6 Prefix Delegation for NEMO          June 2003


   ability of the MR to receive delegated prefixes that can then be
   assigned to links in the mobile network.  DHCPv6PD can be used to
   meet this requirement for prefix delegation.

   To use DHCPv6PD for mobile networks, the HA assumes the role of the
   DR and the MR assumes the role of the RR.  Throughout the remainder
   of this document, the HA will be assumed to be acting as a DHCPv6PD
   DR and the MR will be assumed to be acting as a RR.

   The HA and MR exchange DHCPv6PD protocol messages through the tunnel
   connecting them.  The tunnel acts as the link labeled "DSL to
   subscriber premises" in figure 1 of the DHCPv6PD specification.

   The HA (acting as the DR) is provisioned with prefixes to be assigned
   using any of the prefix assignment mechanisms described in the
   DHCPv6PD specifications.  Other updates to the HA data structures
   required as a side effect of prefix delegation are specified by the
   particular network mobility protocol.  For example, in the case of
   "Basic Network Mobility Support" [8], the HA would add an entry in
   its binding cache registering the delegated prefix to the MR to which
   the prefix was delegated.

3.1 Use of HA-MR tunnel for DHCPv6 messages

   The DHCPv6 specification requires the use of link-local unicast and
   link-local scope multicast addresses in DHCPv6 messages (except in
   certain cases as defined in section 22.12 of the DHCPv6
   specification).  Section 10.4.2 of the mobile IPv6 specification
   describes forwarding of intercepted packets, and the third paragraph
   of that section begins:

      However, packets addressed to the mobile node's link-local address
      MUST NOT be tunneled to the mobile node.

   The DHCPv6 messages exchanged between the HA and the MR originate
   only with the HA and the MR, and therefore are not "intercepted
   packets" and are may be forwarded between the HA and the MR through
   the tunnel.

3.2 Exchanging DHCPv6 messages when HA and MR are on the same link

   When the MR is on its home link, the HA uses the home link to
   exchange DHCPv6PD messages with the MR, even if there is a tunnel
   across the home link between the MR and the HA.  It is the
   responsibility of the implementation to determine when the MR is on
   its home link and to avoid use of any existing tunnel.





Droms                   Expires December 22, 2003               [Page 3]

Internet-Draft      DHCPv6 Prefix Delegation for NEMO          June 2003


3.3 Location of DHCPv6PD Delegating Router function

   The DHCPv6PD DR function MUST be implemented in the HA for the MR.
   The use of a DHCPv6 relay agent is not defined for DHCPv6PD.

3.4 Use of DHCPv6 for other configuration information

   The DHCPv6 messages exchanged between the MR and the HA may also be
   used for other DHCPv6 functions in addition to DHCPv6PD.  For
   example, the HA may assign global addresses to the MR and may pass
   other configuration information such as a list of available DNS
   recursive resolvers to the MR using the same DHCPv6 messages as used
   for DHCPV6PD.

4. Security Considerations

   This document describes the use of DHCPv6 for prefix delegation in
   mobile networks.  It does not introduce any additional security
   considerations beyond those described in the "Security
   Considerations" section of the DHCPv6 base specification [6] and the
   "Security Considerations" of the DHCPv6 Prefix Delegation
   specification [1].

   Following the DHCPv6 Prefix Delegation specification, HAs and MRs
   SHOULD use DHCPv6 authentication as described in section
   "Authentication of DHCP messages" of the DHCPv6 specification [6], to
   guard against attacks mounted through prefix delegation.

5. IANA Considerations

   This document describes the use of DHCPv6 for prefix delegation in
   mobile networks.  It does not introduce any additional IANA
   considerations.

Normative References

   [1]  Troan, O. and R. Droms, "IPv6 Prefix Options for DHCPv6", draft-
        ietf-dhc-dhcpv6-opt-prefix-delegation-04 (work in progress),
        June 2003.

   [2]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", BCP 14, RFC 2119, March 1997.

   [3]  Hinden, R. and S. Deering, "Internet Protocol Version 6 (IPv6)
        Addressing Architecture", RFC 2460, December 1998.

   [4]  Johnson, D., Perkins, C. and J. Arkko, "Mobility Support in
        IPv6", draft-ietf-mobileip-ipv6-23 (work in progress), May 2003.



Droms                   Expires December 22, 2003               [Page 4]

Internet-Draft      DHCPv6 Prefix Delegation for NEMO          June 2003


   [5]  Ernst, T., "Network Mobility Support Terminology", draft-ietf-
        nemo-terminology-00 (work in progress), May 2003.

   [6]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C. and M.
        Carney, "Dynamic Host Configuration Protocol for IPv6 (DHCPv6)",
        draft-ietf-dhc-dhcpv6-28 (work in progress), November 2002.

   [7]  Ernst, T., "Network Mobility Support Goals and Requirements",
        draft-ietf-nemo-requirements-01 (work in progress), May 2003.

   [8]  Wakikawa, R., Mitsuya, K., Uehara, K. and T. Ernst, "Basic
        Network Mobility Support", draft-wakikawa-nemo-basic-00 (work in
        progress), February 2003.


Author's Address

   Ralph Droms
   Cisco
   1414 Massachusetts Avenue
   Boxborough, MA  01719
   Japan

   Phone: +1 978.936.1674
   EMail: rdroms@cisco.com


























Droms                   Expires December 22, 2003               [Page 5]

Internet-Draft      DHCPv6 Prefix Delegation for NEMO          June 2003


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Droms                   Expires December 22, 2003               [Page 6]

