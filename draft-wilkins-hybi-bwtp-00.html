<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Bidirectional Web Transfer Protocol -- BWTP/1.0</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Bidirectional Web Transfer Protocol -- BWTP/1.0">
<meta name="keywords" content="I-D, Internet-Draft, , , ">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">G. Wilkins</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Webtide</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">P. Hintjens</td></tr>
<tr><td class="header">Expires: April 23, 2010</td><td class="header">October 20, 2009</td></tr>
</table></td></tr></table>
<h1><br />Bidirectional Web Transfer Protocol -- BWTP/1.0<br />draft-wilkins-hybi-bwtp-00</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 23, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>The Bidirectional Web Transfer Protocol (BWTP) is an application-level protocol that can be used to upgrade a HTTP/1.1 connection,
     as defined by [RFC2616] to a bidirectional channel capable of exchanging messages.  It is intended that BWTP can be used as a
     transport protocol for the HTML 5 Websocket API, as well as for other uses.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#Intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Purpose">1.1.</a>&nbsp;
Purpose<br />
<a href="#anchor1">2.</a>&nbsp;
Terminology<br />
<a href="#overall">3.</a>&nbsp;
Overall Operation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Interm">3.1.</a>&nbsp;
Intermediaries<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Channel">3.2.</a>&nbsp;
Channel Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Message">3.3.</a>&nbsp;
Message Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Simple-ex">3.4.</a>&nbsp;
A Simple Example<br />
<a href="#notation-con">4.</a>&nbsp;
Notational Conventions and Generic Grammar<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#abnf">4.1.</a>&nbsp;
Augmented BNF<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#basic-rules">4.2.</a>&nbsp;
Basic Rules<br />
<a href="#protocol-parameters">5.</a>&nbsp;
Protocol Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#BWTP-versions">5.1.</a>&nbsp;
BWTP Versions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#uri">5.2.</a>&nbsp;
Uniform Resource Identifiers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#character-sets">5.3.</a>&nbsp;
Character Sets<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#missing-charset">5.4.</a>&nbsp;
Missing Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#content-codings">5.5.</a>&nbsp;
Content Codings<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#media-types">5.6.</a>&nbsp;
Media Types<br />
<a href="#frames">6.</a>&nbsp;
Frames<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header-frames">6.1.</a>&nbsp;
Header Frames<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#open-header-frames">6.1.1.</a>&nbsp;
OPEN Header Frame<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#opened-header-frames">6.1.2.</a>&nbsp;
OPENED Header Frame<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#message-header-frames">6.1.3.</a>&nbsp;
MESSAGE Header Frame<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#close-header-frames">6.1.4.</a>&nbsp;
CLOSE Header Frame<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#closed-header-frames">6.1.5.</a>&nbsp;
CLOSED Header Frame<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#messages-frames">6.1.6.</a>&nbsp;
Message Frames<br />
<a href="#messages">7.</a>&nbsp;
Messages<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#single-frame-messages">7.1.</a>&nbsp;
Single Frame Messages<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#multi-frame-messages">7.2.</a>&nbsp;
Multi Frame Messages<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#message-meta-data">7.3.</a>&nbsp;
Message Meta Data<br />
<a href="#Channels-1">8.</a>&nbsp;
Channels<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#opening-Channels-1">8.1.</a>&nbsp;
Opening Channels<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#closing-Channels-1">8.2.</a>&nbsp;
Closing Channels<br />
<a href="#connection">9.</a>&nbsp;
Connection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#opening-connections">9.1.</a>&nbsp;
Opening Connections<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Upgrade-Request">9.1.1.</a>&nbsp;
Upgrade Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Upgrade-Response">9.1.2.</a>&nbsp;
Upgrade Response<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Direct-Connection">9.1.3.</a>&nbsp;
Direct Connection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Flow-Control">9.2.</a>&nbsp;
Flow Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Closing-Connections">9.3.</a>&nbsp;
Closing Connections<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Spontaneous-Connection-close">9.3.1.</a>&nbsp;
Spontaneous Connection close<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Orderly-Connection-close">9.3.2.</a>&nbsp;
Orderly Connection close<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Idle-Connection-close">9.3.3.</a>&nbsp;
Idle Connection close<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Proxy-Connections">9.4.</a>&nbsp;
Proxy Connections<br />
<a href="#Message-Meta-Data">10.</a>&nbsp;
Message Meta Data<br />
<a href="#Access-Authentication">11.</a>&nbsp;
Access Authentication<br />
<a href="#Security-Considerations">12.</a>&nbsp;
Security Considerations<br />
<a href="#IANA-Considerations">13.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor2">14.</a>&nbsp;
Acknowledgments<br />
<a href="#iana">15.</a>&nbsp;
IANA Considerations<br />
<a href="#security">16.</a>&nbsp;
Security Considerations<br />
<a href="#anchor3">17.</a>&nbsp;
Appendices<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">17.1.</a>&nbsp;
Appendix B. Mapping to the WebSocket API.<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">17.2.</a>&nbsp;
Appendix B. Carrying HTTP request and reponses<br />
<a href="#rfc.references1">18.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="Intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<a name="Purpose"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Purpose</h3>

<p>This IETF draft is intended for further discussion in the
     hybi@ietf.org mailing list for "Bidirectional communication for
     hypertext".
</p>
<p>The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypermedia information systems. HTTP has been in use by the World-Wide Web global information initiative since 1990, but it is intrinsically a request/response
     protocol and cannot well service the growing use-case for data to be pushed from a server to a client.
</p>
<p>The Bidirectional Web Transfer Protocol (BWTP) is an application-level protocol that can be used to upgrade a HTTP/1.1 connection to
     be able to exchange bidirectional MIME-like messages, containing meta information about the data transferred.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
In this document, the key words "MUST", "MUST NOT", "REQUIRED",
"SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as described
in BCP 14, <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119] and indicate
requirement levels for compliant implementations.
	
</p>
<p>An implementation is not compliant if it fails to satisfy one or
     more of the MUST or REQUIRED level requirements for the protocols
     it implements. An implementation that satisfies all the MUST or
     REQUIRED level and all the SHOULD level requirements for its protocols is said to be "unconditionally compliant"; one that satisfies
     all the MUST level requirements but not all the SHOULD level
     requirements for its protocols is said to be "conditionally compliant".
</p>
<p>This specification uses a number of terms to refer to the roles
     played by participants in, and objects of, the HTTP or BWTP communication.
</p>
<p>
     </p>
<blockquote class="text"><dl>
<dt>connection:</dt>
<dd> A transport layer virtual circuit established between two programs for the purpose of communication.
</dd>
<dt>frame:</dt>
<dd>The basic unit of BWTP communication, consisting of a structured sequence of octets matching the syntax defined in section 4 and transmitted via the connection.
</dd>
<dt>message:</dt>
<dd>The basic unit of application communication, consisting of one
	  or more BWTP frames.
</dd>
<dt>channel:</dt>
<dd>A stream of BWTP frames for which a definite start, ordering
	  and completion are defined.
</dd>
<dt>request:</dt>
<dd>A HTTP request message, as defined in section 5 of <a class='info' href='#RFC2616'>RFC 2616<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616].
</dd>
<dt>response:</dt>
<dd>A HTTP response message, as defined in section 6 of <a class='info' href='#RFC2616'>RFC 2616<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616].
</dd>
<dt>resource:</dt>
<dd>A network data object or service that can be identified by a URI, as defined in section 3.2. Resources may be available in multiple representations (e.g. multiple languages, data formats, size, and resolutions) or vary in other ways.
</dd>
<dt>client:</dt>
<dd>A program that establishes connections for the purpose of sending HTTP requests or upgrading to BWTP.
</dd>
<dt>user agent:</dt>
<dd>The client which initiates a connection. These are often browsers, editors, spiders (web-traversing robots), or other end user tools.
</dd>
<dt>server:</dt>
<dd>An application program that accepts connections.  Any given program may be capable of being both a client and a server; our use of these terms refers only to the role being performed by the program for a particular connection, rather than to the
program's capabilities in general. Likewise, any server may act as an origin server, proxy, gateway, or tunnel, switching behavior based on the nature of each message.
</dd>
<dt>origin server:</dt>
<dd>The server on which a given resource resides or is to be created.
</dd>
<dt>end point:</dt>
<dd>Either an origin server or user agent.
</dd>
<dt>proxy:</dt>
<dd>An intermediary program which acts as both a server and a client for the purpose of making requests on behalf of other clients.  Requests are serviced internally or by passing them on, with possible translation, to other servers. A proxy MUST
implement both the client and server requirements of this specification. A "transparent proxy" is a proxy that does not modify the request or response beyond what is required for proxy authentication and identification. A "non-transparent proxy" is a proxy that modifies the request or response in order to provide some added service to the user agent, such as group annotation services, media type transformation, protocol reduction, or anonymity filtering. Except where either transparent or non-transparent behavior is explicitly stated, the HTTP proxy requirements apply to both types of proxies.
</dd>
<dt>gateway:</dt>
<dd>A server which acts as an intermediary for some other server. Unlike a proxy, a gateway receives requests as if it were the origin server for the requested resource; the requesting client may not be aware that it is communicating with a gateway.
</dd>
<dt>tunnel:</dt>
<dd>An intermediary program which is acting as a blind relay between two connections. Once active, a tunnel is not considered a party to the HTTP communication, though the tunnel may have been initiated by an HTTP request. The tunnel ceases to exist when both ends of the relayed connections are closed.
</dd>
<dt>upstream:</dt>
<dd> Upstream describes the flow of a message from an upstream source to a downstream destination.
</dd>
<dt>upstream/downstream:</dt>
<dd>Downstream describes the flow of a message from an upstream source to a downstream destination.
</dd>
<dt>inbound:</dt>
<dd>Inbound applies to frames and messages that are sent towards the origin server.
</dd>
<dt>outbound:</dt>
<dd>Outbound applies to frames and messages that are sent towards the user agent.
</dd>
</dl></blockquote><p>
      
</p>
<a name="overall"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Overall Operation</h3>

<p>The BWTP protocol is designed to be used with the HTTP upgrade mechanism as defined by section 14.42 of [RFC2616].  A client makes
     an HTTP upgrade request to the server in order to establish a BWTP connection.  After a successful upgrade, the BWTP connection implements two independent and asynchronous streams of BWTP length delimited frames, one inbound and one outbound.
</p>
<p>BWTP communication usually takes place over TCP/IP connections. The default port is TCP 80, but other ports can be used. This does not preclude BWTP from being implemented on top of any other protocol on the Internet, or on other networks. BWTP only presumes a HTTP
     connection can be established over a reliable transport; any protocol that provides such guarantees can be used.
</p>
<p>The following diagram shows how the User Agent (UA) initiates the BWTP connection by sending an upgrade request (an HTTP request) to
     the Origin Server (OS), over a connection (v):
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA -------------------v------------------- OS
	     upgrade request ----------------------&gt;
	     &lt;----------------- 101 upgrade response
	     &lt;------------ BWTP Frames ------------&gt;
</pre></div>
<p>Following the upgrade request-response, both server and client can immediately start to send each other frames.  The inbound and out-
     bound frames streams are independent and asynchronous (frames do not have responses).
</p>
<a name="Interm"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Intermediaries</h3>

<p>One or more intermediaries may be present in a chain between a User Agent (UA) and an Origin Server (OS). There are three common forms of intermediary: proxy, gateway, and tunnel. A proxy is a forwarding agent, receiving a message for a URI in its absolute form,     rewriting all or part of the message, and forwarding the reformatted request toward the server identified by the URI. A gateway is a
     receiving agent, acting as a layer above some other server(s) and, if necessary, translating the requests to the underlying server's
     protocol. A tunnel acts as a relay point between two connections without changing the messages; tunnels are used when the communication needs to pass through an intermediary (such as a firewall) even when the intermediary cannot understand the contents of the
     messages.
</p>
<p>The figure below shows three intermediaries (A, B, and C) between the user agent and origin server. All intermediaries must accept
     the initial upgrade request and pass it onwards towards the origin server. If any intermediary does not understand the upgrade
     request, the BWTP connection will not be established.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA ----v---- A ----v---- B ----v---- C ----v---- OS
	     upgrade request ----------------------------&gt;
	     &lt;----------------------- 101 upgrade response
	     &lt;---------------- BWTP Frames --------------&gt;
</pre></div>
<p>A frame that travels this chain will pass through four separate connections. Although the diagram above is linear, each participant
     may be engaged in multiple, simultaneous communications. For example, B may be receiving requests from many sources other than A,
     and/or forwarding requests to destinations other than C, at the same time that it is handling A's frames.
</p>
<p>Any party to the communication which is not acting as a tunnel may inject frames into either the inbound or outbound stream, so long
     as the resulting stream of frames is legal with respect to this specification.
</p>
<p>The following diagram illustrates if B has injected an inbound frame:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA ----v---- A ----v---- B ----v---- C ----v---- OS
	     upgrade request ----------------------------&gt;
	     &lt;----------------------- 101 upgrade response
	     &lt;--------------- BWTP Frames ---------------&gt;
				    ----inbound frame ---&gt;
	     &lt;--------------- BWTP Frames ---------------&gt;
</pre></div>
<a name="Channel"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Channel Overview</h3>

<p>A BWTP connection can carry multiple channels and each frame contains a channel ID and frames for different channels may be inter-
     leaved.  A channel must be opened with a header frame, which sets origin resource and the default meta-data (eg content type and
     character encoding) for the channel. Once opened, frames for the channel may be sent in both directions.  A user agent, origin
     server or intermediary may close a channel, even if it did not open it.
</p>
<p>The following diagram shows a possible interaction of frames for a single channel, where the end point that opened the channel eventually closes the channel:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA|OS -------------------v------------------- OS|UA
		OPEN channel 1 -----------------------&gt;
		&lt;----------------------OPENED channel 1
		&lt;-------- frames channel 1 -----------&gt;
		CLOSED channel 1 ---------------------&gt;
		&lt;--------------------- frames channel 1
		&lt;----------------------CLOSED channel 1
</pre></div>
<p>The following diagram shows a possible interaction of frames for two channels, where one end point opens two channels and then each
     endpoint closes one of the channels.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA|OS -------------------v------------------- OS|UA
		OPEN channel 1 -----------------------&gt;
		&lt;----------------------OPENED channel 1
		&lt;-------- frames channel 1 -----------&gt;
		OPEN channel 3 -----------------------&gt;
		&lt;----------------------OPENED channel 3
		&lt;-------- frames channel 1 &amp; 3 -------&gt;
		CLOSED channel 1 ---------------------&gt;
		&lt;--------------------- frames channel 1
		&lt;---------- frames channel 3 ---------&gt;
		&lt;----------------------CLOSED channel 1
		&lt;-------- frames channel 3 -----------&gt;
		&lt;----------------------CLOSED channel 3
		frames channel 3 ---------------------&gt;
		CLOSED channel 3 ---------------------&gt;
</pre></div>
<a name="Message"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Message Overview</h3>

<p>A BWTP message is sent in 1 or more message frames on a channel and may be proceeded by a header frame containing meta-data. The minimal message is a single message frame containing binary data. Any meta-data (eg content-type) sent when the channel was opened will
apply to the message.
</p>
<p>The following diagram shows a single message frame being sent:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA|OS -------------------v------------------- OS|UA
		message frame channel 1 --------------&gt;
</pre></div>
<p>Meta-data for a message may be sent in a header frame prior to the  message frames. The following diagram shows a single frame message with meta data being sent:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA|OS -------------------v------------------- OS|UA
		header frame channel 1 ---------------&gt;
		message frame channel 1 --------------&gt;
</pre></div>
<p>A message may be transmitted as multiple message frames. Typically this is done so that a large message sent on a single channel will
     not unduly delay the transmission of small messages on other channels.  The partial message frames for a message on a channel must
     be sent in order and they may not be interleaved with any other frames for the same channel, but may be interleaved with frames for
     other channels.  The following diagrame shows the transmission of a multi-frame message with meta data interleaved with frames for
     another channel.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  UA|OS -------------------v------------------- OS|UA
		header frame channel 1 ---------------&gt;
		message frame 1 of 3 channel 1 -------&gt;
		frame channel 3 ----------------------&gt;
		message frame 2 of 3 channel 1 -------&gt;
		frame channel 5 ----------------------&gt;
		message frame 3 of 3 channel 1 -------&gt;
</pre></div>
<a name="Simple-ex"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
A Simple Example</h3>

<p>The following diagram shows the a BWTP connection being established, a single channel being opened and several messages being
     exchanged:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  User-Agent | Origin-Server
	  -----------------------------------------------------------
	  GET /path HTTP/1.1
	  Host: host.com:80
	  Upgrade: BWTP/1.0
	  Connection: Upgrade

		       HTTP/1.1 101 BWTP/1.0

	  BWH 0 38 OPEN /chat/room
	  Content-Type: text/json;charset=utf-8
	  Accept-Language: en

		       BWH 0 32 OPENED
		       Content-Origin: www.mychat.com
		       Content-Language: en

	  BWM 0 46
	  {user="Bill" text="Bill has joined the room!"}

		       BWM 0 43
		       {user="Ted" text="Hello Bill, how are you"}

	  BWM 0 37
	  {user="Bill" text="I'm fine thanks"}

		       BWM 0 47
		       {user="System" text="the room is closed"}
		       BWH 0 0 CLOSED

	  BWH 0 0 CLOSED
</pre></div>
<a name="notation-con"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Notational Conventions and Generic Grammar</h3>

<a name="abnf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Augmented BNF</h3>

<p>All of the mechanisms specified in this document are described in both prose and an augmented Backus-Naur Form (BNF) as defined by
     section 2.1 of [RFC2616].
</p>
<p>Implementers will need to be familiar with the notation in order to understand this specification.
</p>
<a name="basic-rules"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Basic Rules</h3>

<p>The Basic Rules as defined by section 2.2 of [RFC2616] are used throughout this specification to describe basic parsing constructs.
     The US-ASCII coded character set is defined by ANSI X3.4-1986.
</p>
<a name="protocol-parameters"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Protocol Parameters</h3>

<a name="BWTP-versions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
BWTP Versions</h3>

<p>BWTP uses a "&lt;major&gt;.&lt;minor&gt;" numbering scheme to indicate versions of the protocol. The protocol versioning policy is intended to allow the sender to indicate the format of a message and its capacity for understanding further BWTP communication, rather than the features obtained via that communication. No change is made to the version number for the addition of message components which do not    affect communication behavior or which only add to extensible field values.  The &lt;minor&gt; number is incremented when the changes made to
the protocol add features which do not change the general message parsing algorithm, but which may add to the message semantics and imply additional capabilities of the sender. The &lt;major&gt; number is incremented when the format of a message within the protocol is     changed. See RFC2145 for a fuller explanation.
</p>
<p>All messages on a BWTP connection will be of the same version that is negotiated with the upgrade request and response that estab-
     lishes the BWTP connection:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWTP-Version	 = "BWTP" "/" 1*DIGIT "." 1*DIGIT
</pre></div>
<p>Note that the major and minor numbers MUST be treated as separate integers and that each MAY be incremented higher than a single
     digit.  Thus, BWTP/2.4 is a lower version than BWTP/2.13, which in turn is lower than BWTP/12.3. Leading zeros MUST be ignored by
     recipients and MUST NOT be sent.
</p>
<p>The BWTP version of a connection is the highest BWTP version for which all intermediaries and the agent and origin server can handle.
</p>
<a name="uri"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Uniform Resource Identifiers</h3>

<p>BWTP uses URIs as defined by 3.2 of RFC2616 are used to identify BWTP resources.
</p>
<a name="character-sets"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Character Sets</h3>

<p>BWTP uses the same definition of the term "character set" as that described in section 3.4 of RFC2616.
</p>
<a name="missing-charset"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Missing Charset</h3>

<p>If not otherwise specified, a character set of UTF-8 may be assumed.
</p>
<a name="content-codings"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Content Codings</h3>

<p>The content codings defined by section 3.5 of RFC2616 and registered with the Internet Assigned Numbers Authority (IANA) MAY be
     applied to a BWTP message.
</p>
<a name="media-types"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6"></a><h3>5.6.&nbsp;
Media Types</h3>

<p>HTTP uses Internet Media Types in the Content-Type header field in order to provide open and extensible data typing and type negotia-
     tion. The media-type is defined in section 3.7 of RFC2616 as:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  media-type	 = type "/" subtype *( ";" parameter )
	  type		 = token
	  subtype	 = token
</pre></div>
<a name="frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Frames</h3>

<p>A BWTP frame is the basic unit of data exchange over a BWTP connection and is defined by:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWTP-Frame   = Start-Line  CRLF
			 Frame-Body

	  Start-Line   = Frame-Type  SP
			 Channel-ID  SP
			 Frame-Size [ '/' Message-Size ]
			 *(SP Frame-Field)

	  Frame-Body   = *OCTECT

	  Frame-Type   = "BWH" | "BWM"

	  Channel-ID   = "*" | 1*DIGIT

	  Frame-Size   = 1*DIGIT

	  Message-Size = "*" | 1*DIGIT

	  Frame-Field  = token
</pre></div>
<p>Frames are either header frames containing meta data, or messages frames containing the content of the message.
</p>
<a name="header-frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Header Frames</h3>

<p>A header frame is denoted with a "BWH" Frame-Type and carries meta-data.  Header frames are defined as:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	Header-Frame	 = Header-Line CRLF
			     Header-Body

	Header-Line	 = "BWH" SP
			   Channel-ID SP
			   Frame-Size SP
			   Header-Fields
			   URI

	Header-Fields    = "OPEN" URI
			   | "OPENED"
			   | "MESSAGE"
			   | "CLOSE"
			   | "CLOSED"
			   | *(SP Frame-Field)

	  Header-Body	 = *( Message-Header CRLF )

	  Message-Header = Field-Name ":" [ Field-Value ]

	  Field-Name	 = Content-Header
			   | token

	  Field-Value	 = *( Field-Content | LWS )

	  Field-Content  = &lt;the OCTETs making up the field-value
			   and consisting of either *TEXT or
                           combinations of token, separators,
                           and quoted-string&gt;
</pre></div>
<p>The header fields	on the header line define a channel action and/or meta data related to the channel. The header body of a
     header frame contains message headers that represent meta data about subsequent messages sent on the channel.
</p>
<p>The channel ID of a frame is either an integer identifying a specific channel or "*" which denotes all known channels.
</p>
<a name="open-header-frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
OPEN Header Frame</h3>

<p>An OPEN header frame has "OPEN" as the first header field and a URI as the second.  An OPEN header frame MUST be sent as the first
     frame on a channel. A BWTP implementation MUST ignore any frames for a channel that has not been opened. A BWTP implementation MUST
     ignore any OPEN header frames sent on a channel that has already been opened.
</p>
<p>The URI in the open header frame identifies a resource such that Inbound messages are sent to the resource and Outbound messages are
     sent from the resource. Relative URI's are relative to the URI used in the upgrade request that established the connection. There is no
     requirement for the resources identified to be accessible via normal HTTP requests.
</p>
<p>The message header fields of an OPEN header frame are the base meta-data for all messages sent on the channel, unless they are
     replaced by a similarly named message header field in a MESSAGE header frame. Typically the message header fields in a OPEN header
     frames are used to carry meta-data that is invarient for all messages in the channel.
</p>
<p>The channel ID is an integer that is allocated by the opener of a Channel. To avoid ID collisions, User-Agents MUST always create
     even numbered channel IDs and Origin Servers MUST always create odd numbered channel IDs.
</p>
<p>Below is an example OPEN header frame that opens channel 1 for the URI /greeting/service and defines the content type and language of
     the channel messages to be english in plain text encoded as iso-8859-1:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWH 1 57 OPEN /greeting/service
	  Content-Type: text/plain;charset=iso-8859-1
	  Content-Language: en
</pre></div>
<a name="opened-header-frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.2"></a><h3>6.1.2.&nbsp;
OPENED Header Frame</h3>

<p>An OPENED header frame has "OPENED" as the first header field and is sent in response to an OPEN hader frame. When a user agent or
     origin server receives an OPEN header frame, to accept the channel it MUST send an OPENED header frame with any additional or negotiated meta-data for the channel.
</p>
<p>A BWTP implementation MUST ignore OPENED header frames that are not the first message sent for the channel by the end point that
     received the OPEN header frame.
</p>
<p>Below is an example OPENED header frame that set's an origin for the channel and a locale language:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWH 0 32 OPENED
	  Content-Origin: www.mychat.com
	  Content-Language: en
</pre></div>
<a name="message-header-frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.3"></a><h3>6.1.3.&nbsp;
MESSAGE Header Frame</h3>

<p>A MESSAGE header frame has "MESSAGE" as the first header field. A MESSAGE header frame carries message headers which define meta data
     that applies to the next message sent on the channel. Message headers in a MESSAGE header frame are replace headers with the same
     name sent in the OPEN header frame.  Typically MESSAGE header frames are used to carry message headers that vary from message to
     message (eg "Content-MD5" or "Transport-Encoding").
</p>
<p>Below is an example MESSAGE header frame that sends a MD5 checkssum for the following message.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWH 1 38 MESSAGE
	  Content-MD5: 0bbbf28091f83b97246e8a9037a037d5
</pre></div>
<a name="close-header-frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.4"></a><h3>6.1.4.&nbsp;
CLOSE Header Frame</h3>

<p>A CLOSE header frame MAY be sent by an intermediary to initiate an orderly shutdown of a channel.
</p>
<p>Below is a CLOSE header frame that initiates an orderly shutdown on all known channels:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWH * 0 CLOSE
</pre></div>
<a name="closed-header-frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.5"></a><h3>6.1.5.&nbsp;
CLOSED Header Frame</h3>

<p>A CLOSE header frame is sent by a user agent or origin server to either initiate or complete an orderly shutdown of a channel.
</p>
<p>Below is a CLOSED header frame that completes an orderly shutdown on channel 3:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWH 3 0 CLOSED
</pre></div>
<a name="messages-frames"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.6"></a><h3>6.1.6.&nbsp;
Message Frames</h3>

<p>A message frame is denoted with a "BWM" Frame-Type and contains the binary data of either a complete or partial BWTP message.	Message frames are defined as:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  Message-Frame   = Message-Line CRLF
			    Frame-Body [CRLF]

	  Message-Line	  = "BWM" SP
			    Channel-ID SP
			    Frame-Size [ '/' Message-Size ]

	  Frame-Body	  = *OCTECT
</pre></div>
<p>The message body is any finate sequence of octets. The interpretation of these bytes can be guided by the meta-data sent in the OPEN
     header frame and/or in a preceding MESSAGE header frame.  A message frame with a message size in the message line is part of a multi-frame message.
</p>
<a name="messages"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Messages</h3>

<p>BWTP messages are composed of an optional MESSAGE header frame followed by 1 or more message frames. The sequence of frames for a
     message is defined by
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  BWTP-Message	= [Message-Header-Frame] Message-Frame *Message-Frame

  Message-Header-Frame = &lt;Header-Frame conforming to 4.1.1&gt;
</pre></div>
<p>Frames other channels MAY be interleaved between the frames of a message.
</p>
<a name="single-frame-messages"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Single Frame Messages</h3>

<p>A message may be sent in a single message frame. A single frame message does not have message size in the frame start line and the
     actual message size is equal to the frame size.
</p>
<p>Below is an example BWTP message frame that carries a single BTWP message on channel 1:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  BWM 1 11
	  HelloWorld!
</pre></div>
<a name="multi-frame-messages"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Multi Frame Messages</h3>

<p>A message may be sent in multiple frames when a message size is provided in the start line. Typically this is done so that a large
     message sent on a single channel will not unduly delay the transmission of small messages on other channels. A BTWP implementation
     SHOULD segment a message into multiple frames if transmission of the message as a significant frame would unduly delay the transmission of messages on other channels.
</p>
<p>The message frames for a message MUST be sent in order and they MAY NOT be interleaved with any other frames for the same channel, but MAY be interleaved with frames for other channels.  When the message size is known, then the message is complete when sufficient
     bytes have been sent. Below is an example 11 octet message that is carried in 2 message frames on channel 1:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  BWM 1 5/11
	  Hello

	  BWM 1 6/11
	  World!

</pre></div>
<p>If the message size is not known to the sender, then "*" may be given as the message size and the end of the message is indicated
     by sending a zero length message frame, which SHOULD contain the now known message length. Below is an example 11 octet message that
     is sent with unknown message size:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  BWM 1 5/*
	  Hello

	  BWM 1 6/*
	  World!

	  BWM 1 0/11

</pre></div>
<a name="message-meta-data"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Message Meta Data</h3>

<p>The meta data for a message consists of the message headers sent in the OPEN header frame combined with an optional MESSAGE header
     frame sent before each message. If a header field name exists in both the OPEN header frame and a MESSAGE header frame, then the
     value(s) from the MESSAGE header frame replace those in the OPEN message frame.
</p>
<p>The following sequence of frames illustrates how message headers are combined:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  BWH 1 57 OPEN /greeting/service
	  Content-Type: text/plain;charset=iso-8859-1
	  Content-Language: en

	  BWM 1 11
	  HelloWorld1

	  BWH 1 38 MESSAGE
	  Content-MD5: 85fc82ddb24bce38954df11c818c0fc1

	  BWM 1 11
	  HelloWorld2

	  BWH 1 38 MESSAGE
	  Content-Language: it

	  BWM 1 11
	  Buongiorno3

	  BWM 1 11
	  HelloWorld4

</pre></div>
<p>In the sequence above: all messages have a Content-Type of "text/plain;charset=iso-8859-1"; the first, second and forth mes-
     sages are in English; the third message is Italian; the second message has a MD5 checksum.
</p>
<a name="Channels-1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Channels</h3>

<p>A channel represents a stream of related BWTP frames. A BWTP implementation MUST process messages with the same channel in the order
     they are received. There is no ordering guarantee given for messages in different channels. Header frames provide meta data that apply to subsequent frames on the same channel and BWTP messages may be partitioned into multiple frames on the same channel. Channels are created dynamically when an OPEN header frame is sent.
</p>
<p>The sequence of possible frames sent by the opener of the channel is defined by:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  BWTP-Channel-Opener = Open-Header-Frame
			*( BWTP-Message | Header-Frame )
			[Closed-Header-Frame]

  Open-Header-Frame   = &lt;Header-Frame conforming to 4.1.1&gt;

  Closed-Header-Frame = &lt;Header-Frame conforming to 4.1.5&gt;

</pre></div>
<p>The sequence of possible frames sent by the non-opener of the channel is defined by:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  BWTP-Channel	      = [Origin-Header-Frame]
			*( BWTP-Message | Header-Frame )
			[Closed-Header-Frame]

  Origin-Header-Frame = &lt;Header-Frame conforming to 4.1.2&gt;

</pre></div>
<a name="opening-Channels-1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Opening Channels</h3>

<p>Either the user agent or the origin server MAY open a channel by sending an OPEN header frame on an open connection. A connection
     should only be used to open a channel if it has been newly established or if it has other open channels.
</p>
<p>When a user agent or origin server receives an OPENED header frame, it can accept the new channel by sending an OPENED header frame
     with additional or negotiated meta data for the channel.  If the new channel is not accepted, a CLOSED header frame MUST be sent.
</p>
<p>The following example shows an user-agent opening a connection and the origin server setting additional and negotiated meta data:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  User-Agent | Origin-Server
  ---------------------------------------------------
  BWH 0 38 OPEN /chat/room
  Content-Type: text/json;charset=utf-8
  Accept-Language: en,it,fr

	       BWH 0 32 OPENED
	       Content-Origin: www.myhost.com
	       Content-Language: it

</pre></div>
<p>A end point that opens a channel SHOULD wait until an OPENED frame is received before sending messages.
</p>
<a name="closing-Channels-1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
Closing Channels</h3>

<p>Either the user agent or the origin server MAY initiate the close of a channel by sending a CLOSED header frame for the channel. An
     intermediary MAY initiate the close of a channel by sending a CLOSE header frame on either the inbound or outbound channel.
</p>
<p>If a user-agent or origin server receives a CLOSE header frame or CLOSED header frame for an open channel, then it MUST: stop accept-
     ing new messages from the application for the channel; flush all queued messages for the channel; send a CLOSED header frame. Any
     messages received after the CLOSED header should be handled normally.
</p>
<p>If a user-agent or origin server receives a CLOSED header frame for a channel on which it has already sent a CLOSED header, then the
     channel can be considered closed and the implementation MUST ignore all other frames for that channel other than a new OPEN header
     frame for the channel.
</p>
<p>The interaction below shows a user agent or origin server closing a channel:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  UA|OS -------------------v------------------- OS|UA
		&lt;-------- frames channel 1 -----------&gt;
		CLOSED channel 1 ---------------------&gt;
		&lt;--------------------- frames channel 1
		&lt;----------------------CLOSED channel 1

</pre></div>
<p>The interaction below shows an intermediary I closing a channel:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  UA|OS ----------v---------- I ----------v---------- OS|UA
		&lt;---------- frames channel 1 ---------------&gt;
				      CLOSE channel 1 ------&gt;
		&lt;--------------------------- frames channel 1
		&lt;--------------------------- CLOSED channel 1
		frames channel 1 ---------------------------&gt;
		CLOSED channel 1 ---------------------------&gt;

</pre></div>
<a name="connection"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Connection</h3>

<p>A BWTP connection is sequence of BWTP frames which MAY be separated by multiple CRLF characters:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  BWTP-Connection     = *( *CRLF BWTP-Frame )

</pre></div>
<a name="opening-connections"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Opening Connections</h3>

<p>The BWTP protocol is an HTTP upgrade protocol.  A client makes an
     HTTP upgrade request to the server in order to establish a BWTP
     connection.  After a successful upgrade, the BWTP connection implements two independent and asynchronous streams of BWTP frames, one
     inbound and one outbound.
</p>
<a name="Upgrade-Request"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1.1"></a><h3>9.1.1.&nbsp;
Upgrade Request</h3>

<p>A BWTP connection is initiated by a client issuing an upgrade
     request, which is a valid HTTP/1.1 GET request with an Upgrade
     header field set to the desired BWTP-Version:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  BWTP-Upgrade-Request = "GET" SP URI SP "HTTP/1.1" CRLF
			       *(message-header CRLF)
			       "Upgrade" ":" BWTP-Version
			       *(message-header CRLF)
			       CRLF
			       [ message-body ]

</pre></div>
<p>Since Upgrade is only for the immediate connection, the Upgrade
     Request SHOULD also contain a Connection header with "Upgrade" in
     its values.
</p>
<p>Below is an example of an Upgrade Request with basic authentication:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  GET /path HTTP/1.1
	  Host: host.com:80
	  Upgrade: BWTP/1.0
	  Connection: Upgrade
	  Authorization: BASIC amd73ksosh3hj210sd3d0dk1

</pre></div>
<p>If an intermediary in the HTTP connection accept the upgrade, they
     MUST forward the Upgrade header in their requests towards the origin server.
</p>
<a name="Upgrade-Response"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1.2"></a><h3>9.1.2.&nbsp;
Upgrade Response</h3>

<p>When an origin server receives an Upgrade request and the resource
     specified by the URI accepts the upgrade, then acceptance is indicated by sending an Upgrade Response:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  BWTP-Upgrade-Response = "HTTP/1.1" SP 101 SP "BWTP/1.0" CRLF
			*(message-header CRLF)
			"Upgrade" ":" BWTP-Version
			*(message-header CRLF)
			CRLF

</pre></div>
<p>Below is an example of an Upgrade Response:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  HTTP/1.1 101 BWTP/1.0
	  Content-Origin: the.origin.com

</pre></div>
<a name="Direct-Connection"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1.3"></a><h3>9.1.3.&nbsp;
Direct Connection</h3>

<p>It would be possible to support direct creation of BWTP connections
     with the use of a bwtp:// uri schema.  A future version of this
     document may contain such a proposal
</p>
<a name="Flow-Control"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2"></a><h3>9.2.&nbsp;
Flow Control</h3>

<p>BWTP servers SHOULD maintain connections and use TCP's flow control
     mechanisms to resolve temporary overloads, rather than terminating
     connections with the expectation that clients will retry.	The latter technique can exacerbate network congestion.
</p>
<p>A BWTP implementation SHOULD NOT read from a connection more data
     than it has the capacity to handle.  In practice this will mean
     imposing limits either on: the amount of unprocessed data; the number of unprocessed messages held; the number of channels with
     unprocessed messages; a combination of these limits.
</p>
<a name="Closing-Connections"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3"></a><h3>9.3.&nbsp;
Closing Connections</h3>

<a name="Spontaneous-Connection-close"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3.1"></a><h3>9.3.1.&nbsp;
Spontaneous Connection close</h3>

<p>Either the client or server or any intermediary MAY at any time close the BWTP connection. Message delivery is not guaranteed if a
     spontaneous close is performed.  Clients, servers and intermediaries SHOULD use orderly connection close if guaranteed delivery is
     required.
</p>
<a name="Orderly-Connection-close"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3.2"></a><h3>9.3.2.&nbsp;
Orderly Connection close</h3>

<p>Either the user agent or origin server or any intermediary MAY initiate an orderly close of a BWTP connection by initializing the
     close of all known channels. Any OPEN header frames received during orderly close should immediately be closed. Once the has closed all
     channels on the connection, the connection may be closed.
</p>
<a name="Idle-Connection-close"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3.3"></a><h3>9.3.3.&nbsp;
Idle Connection close</h3>

<p>When the last open channel on a connection is close, the connection
     should be closed.
</p>
<a name="Proxy-Connections"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4"></a><h3>9.4.&nbsp;
Proxy Connections</h3>

<p>TBD
</p>
<a name="Message-Meta-Data"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Message Meta Data</h3>

<p>The meta data message headers that can be sent in a header frame
     are meta data related only to the message body and do not affect
     the protocol or transport. The headers are extensible and applications are able to define new headers.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  Content-Header = "Content-Encoding"
			 | "Content-Language"
			 | "Content-Location"
			 | "Content-MD5"
			 | "Content-Origin"
			 | "Content-Type"
		      | "Access-Control-Allow-Origin"
		      | Token

</pre></div>
<a name="Access-Authentication"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Access Authentication</h3>

<p>HTTP provides several OPTIONAL challenge-response authentication
     mechanisms which can be used by a server to challenge a client
     request and by a client to provide authentication information. The
     general framework for access authentication, and the specification
     of "basic" and "digest" authentication, are specified in RFC2617.
     This specification adopts the definitions of "challenge" and "cre-
     dentials" from that specification.
</p>
<a name="Security-Considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Security Considerations</h3>

<p>BWTP uses the origin model used by Web browsers to restrict which
     messages can be seen or sent by third party code running withing a
     user agent. The origin may refer to either the source of a message
     from an origin server or the source of the code executing within
     the user agent.
</p>
<p>Unless overridden by a "Access-Control-Allow-Origin" header applied
     to a channel or to a message, the same origin security policy is
     applied.
</p>
<a name="IANA-Considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
IANA Considerations</h3>

<p>This document has no actions for IANA.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14"></a><h3>14.&nbsp;
Acknowledgments</h3>

<p>Giants with large shoulders.
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.15"></a><h3>15.&nbsp;
IANA Considerations</h3>

<p>This document does not require any actions by the IANA.
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16"></a><h3>16.&nbsp;
Security Considerations</h3>

<p>To follow.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.17"></a><h3>17.&nbsp;
Appendices</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.17.1"></a><h3>17.1.&nbsp;
Appendix B. Mapping to the WebSocket API.</h3>

<p>HTML5 defines the WebSocket javascript API for two-way communica-
     tion with a remote host from a web browser. The API is defined as:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

	  interface WebSocket {
	    readonly attribute DOMString URL;

	    // ready state
	    const unsigned short CONNECTING = 0;
	    const unsigned short OPEN = 1;
	    const unsigned short CLOSED = 2;
	    readonly attribute long readyState;

	    // networking
	    attribute Function onopen;
	    attribute Function onmessage;
	    attribute Function onclose;
	    void send(in DOMString data);
	    void close();
	  };

</pre></div>
<p>Each instance of the WebSocket is mapped to a BWTP channel created
     by the user agent:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

+  when a WebSocket instance is created a new BWTP channel of
   Content-Type "text/plain;charset=utf-8" MUST be opened.

+  when the user agent receives an OPENED header frame, it MUST
   call the onopen function of the associated WebSocket instance.

+  when the user agent receives a CLOSED header frame or the con-
   nection is closed, it MUST call the onclose function of the
   associated WebSocket instance.

+  when the user agent receives a message that is of a text mime
   type of a known encoding, it MUST call the onmessage function
   of the associated WebSocket instance.

+  when the send(in DOMString data) function is called, a message
   is sent on the associated channel

+  when the close() function is called, a CLOSE header frame for
   the channel is sent.

</pre></div>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.17.2"></a><h3>17.2.&nbsp;
Appendix B. Carrying HTTP request and reponses</h3>

<p>HTTP request and responses may be carried by using header fields in
     header frames to carry methods, status etc.  The request/response
     ordering of HTTP applies only within a given channel, so requests
     issued on different channels may receive responses out of order.
     HTTP style pipelining is supported within a single channel, however
     it would be subject to the same limitations as pipelining over a
     single connection. The use of multiple channels for simultaneous
     requests is recommended rather than pipelining.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

User-Agent	| Origin-Server
---------------------------------------------------------

  BWH 0 24 HTTP GET /index.html
  Accept-Encoding: gzip

		  BWH 0 24 HTTP 200 OK
		  Content-Type: text/html

		  BWM 0 27
		  &lt;html&gt;&lt;h1&gt;hello&lt;/h1&gt;&lt;/html&gt;


</pre></div>
<p> With such a mapping, a client and server could communicate both
     HTTP and Websocket API traffic over a single connection.  It is
     anticipated that the full mapping of HTTP to BWTP will be the sub-
     ject of another IETF draft.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>18.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Greg Wilkins</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Webtide</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:gregw@webtide.com">gregw@webtide.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Pieter Hintjens</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ph@imatix.com">ph@imatix.com</a></td></tr>
</table>
</body></html>
