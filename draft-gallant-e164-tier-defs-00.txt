
                                                                        
   Internet Draft                                            A. Gallant 
   Document: draft-gallant-e164-tier-defs-00.txt          NeuStar, Inc. 
   Expires:  January 10, 2002                             July 11, 2001 
 
 
                              Numbering Tiers 
                   <draft-gallant-e164-tier-defs-00.txt> 
 
 
Status of this Memo 
 
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC 2026.  Internet-Drafts are 
   working documents of the Internet Engineering Task Force (IETF), its 
   areas, and its working groups.  Note that other groups may also 
   distribute working documents as Internet-Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other documents 
   at any time.  It is inappropriate to use Internet-Drafts as 
   reference material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html. 
    
   This document is an individual submission and is not the product of 
   any working group.  Comments should be sent to the author. 
 
 
Abstract 
    
   Describing numbering tiers has been informal to date.  This document 
   proposes a simple recognition principle for tiers in terms of the 
   protocol mapping of an E.164 numbering resource to a DNS domain 
   name, as described for ENUM in RFC 2916.  Tier value is a formal 
   attribute of the digit string for an arbitrary E.164 resource, and 
   it applies also to the resulting domain name.  No assumptions about 
   assignment, existence, or delegation are involved. 
    
   The lower boundaries for Tier 1 and Tier 2 are a complete E.164 
   country code and a complete E.164 number, respectively.  The Tier 1 
   attribute would apply when an E.164 resource contains a complete 
   E.164 country code but does not contain a complete E.164 number. 
    
   This document suggests terms for sub-tiers in Tier 1.  It also looks 
   at some confusion and ambiguity that arise when talking about tiers 
   as attributes in a DNS context, e.g., for domains or zones, or as 
   attributes in ENUM administration, such as Tier 1 entities (T1Es). 
 
 
 
    
     
   Gallant             Expires January 10, 2002                      1 
                           Numbering Tiers              July 11, 2001 
    
     
Table of Contents 
    
   1.  Introduction...................................................2 
   2.  Terminology and Assumptions....................................3 
   3.  ENUM Mapping from E.164 Resources to DNS Domain Names..........3 
   4.  Defined Levels of E.164 Resources..............................4 
   5.  Recognition Principle..........................................5 
   6.  Suggestions on Usage...........................................6 
   7.  Flavors Beyond Vanilla.........................................9 
   8.  Security Considerations........................................9 
   9.  Acknowledgement...............................................10 
   10. References....................................................10 
   11. Author's Address..............................................10 
    
    
1.  Introduction 
    
   A mapping between telephone numbers and domain names is defined for 
   ENUM and is described in RFC 2916 [1].  At the heart of ENUM is the 
   domain name representation of an E.164 number [2].  For example: 
    
   -  the E.164 number  "+1 202 533 2812"  is mapped to 
    
   -  the domain name  "2.1.8.2.3.3.5.2.0.2.1.e164.arpa." 
    
   In E.164 numbering, E.164 resources are administered at certain 
   distinct levels, such as E.164 numbers, E.164 country codes, or the 
   E.164 numbering plan itself.  Informally, the terms Tier 2, Tier 1, 
   and Tier 0, respectively, have been used to characterize entities, 
   zones, functions, etc., at those levels.  This practice was useful 
   when discussing concepts. 
    
   However, some significant problems arose from the informal usage of 
   "tier" terms in ENUM.  One problem is that "tier" terms are not well 
   defined, and the resolution of technical, administrative, and 
   coordination matters is impaired as a result. 
    
   Another problem is the use of "tier" terms with other specific terms 
   (such as a "Tier 1 zone" or a "Tier 2 entity") that appears to 
   conflict with existing usage.  Terms already defined and used for 
   DNS have also been used beyond a DNS-specific context, especially 
   when considering how ENUM would be implemented and administered to 
   reflect how E.164 resources are administered.   
    
   However useful or well-intentioned the broader use of terminology 
   was, it increased the discussion of meta-issues such as what context 
   a term is used in, or which organization is authoritative for a 
   definition.  This document seeks to remedy some of those problems. 
    
    
     
   Gallant             Expires January 10, 2002                      2 
                           Numbering Tiers              July 11, 2001 
    
     
   This document contains a simple recognition principle for numbering 
   tiers in ENUM, and it takes into account the mapping from E.164 
   resources to DNS domain names for ENUM.  It also discusses how this 
   approach could be useful in certain ENUM-related aspects of 
   coordinating administrative functions for ENUM. 
    
    
2.  Terminology and Assumptions 
    
   For this document, some conventions are based on those in RFC 2916, 
   such as the use of "e164.arpa" for writing "ENUM names" for E.164 
   numbers.  In addition, terminology about E.164 and about DNS is used 
   in accordance with the respective context of each:  "country code" 
   is an E.164 term, "zone" is a DNS term, etc. 
    
   The mapping from numbers to names is an abstract function from a 
   "numbering space" to a name space.  This mapping is one-to-one:  two 
   different digit strings map to two different names, never to the 
   same name.  Therefore, an attribute of a number may also, in theory, 
   be used as an attribute of the name that the number maps to. 
    
   There is a difference between a set and its contents.  An E.164 
   country code is not the same as the set of all numbers that begin 
   with that country code.  Likewise, an attribute of a domain name is 
   not the same as an attribute of members of a subset of that domain.  
   This is important to remember when talking about tiers. 
    
   It is important to note that no assumptions are made about whether 
   or not an E.164 number is assigned, whether or not a domain or its 
   related DNS Resource Records exist, or delegation.  Note also that 
   this document does not discuss "registry/registrar" terms. 
    
    
3.  ENUM Mapping from E.164 Resources to DNS Domain Names 
    
   RFC 2916 describes a method for mapping an E.164 number to a fully 
   qualified domain name (an "ENUM name").  That ENUM name (for the 
   E.164 number) is used to identify DNS Resource Records associated 
   with that domain name.   
    
   For ENUM, the RRs include NAPTR records, each containing a service-
   specific URI associated with the given E.164 number.  The following, 
   based on RFC 2916, Section 3.2.1 Example 1, illustrates this: 
    
     $ORIGIN 4.3.2.1.6.7.9.8.6.4.e164.arpa. 
     @ IN NAPTR 100 10 "u" "sip+E2U"    "!^.*$!sip:info@tele2.se!"    . 
       IN NAPTR 102 10 "u" "mailto+E2U" "!^.*$!mailto:info@tele2.se!" . 
    
   The mapping used in ENUM can be applied to any single E.164 
   resource.  In particular, any leading digit string (LDS) of an E.164 
   number can be mapped into a domain name.  Note that this mapping is 
   completely unrelated to whether or not the domain actually exists.   
    
     
   Gallant             Expires January 10, 2002                      3 
                           Numbering Tiers              July 11, 2001 
    
     
    
   That domain contains the domain name that was mapped from the whole 
   number.  This is illustrated by the following example, based on the 
   RFC 2916 Appendix A Scenario: 
    
   -  The E.164 number is:                            +46 8 976 1234. 
   -  A leading digit string of the number is:        +46 8 976. 
   -  The string maps to:                      6.7.9.8.6.4.e164.arpa. 
   -  The whole number maps to:        4.3.2.1.6.7.9.8.6.4.e164.arpa. 
    
   It is clear that the mapped image of the number is a sub-domain of 
   the mapped image of the leading string of the number, at least in 
   theory.  As mentioned above, the number-to-name mapping is an 
   abstract function, and no assumptions are made about actual number 
   assignments, existence of a domain name's RRs, or delegation. 
    
    
4.  Defined Levels of E.164 Resources 
    
   Roughly speaking, there are three distinct levels of E.164 
   resources.  The highest level is the E.164 numbering plan, as 
   described in ITU-T Rec. E.164 and related recommendations.  The next 
   level is the Country Code level.  Below that is the level of the 
   E.164 number itself. 
    
   Assignment of E.164 country codes, as well as management of the 
   overall E.164 numbering plan, are international matters.  The use of 
   E.164 resources within a country code, and the assignment of E.164 
   numbers, are national matters.   
    
4.1  Tiers in ENUM 
    
   Informally, "tier" terms were used as attributes (e.g., "Tier 2 
   Entity") to describe the level of an E.164 numbering resource: 
    
   -  Tier 0 referred to the E.164 numbering plan; 
   -  Tier 1 referred to an E.164 country code; and 
   -  Tier 2 referred to an E.164 number. 
    
   When some models for ENUM administration were described, "tier" 
   terms were very useful for looking at different levels of functions, 
   entities, and sets of domain names.   
    
   For example, Tier 0 was used to discuss issues about the ENUM "root" 
   (e.g., a convention from RFC 2916 is to write "e164.arpa").  Tier 1 
   has been used to refer to different options for structuring ENUM 
   administration for national numbering resources (see Section 4.2 
   below).  Then, Tier 2 was used to refer to "where the NAPTRs live," 
   depending on how a particular model might be nationally implemented.  
   It was convenient to assume that an actual delegated zone for a 
   number would be created to hold its NAPTR RRs, but this does not 
   have to be the case. 
    
     
   Gallant             Expires January 10, 2002                      4 
                           Numbering Tiers              July 11, 2001 
    
     
    
   Note that "Tier 3" was sometimes used in an ENUM-related sense to 
   refer to specific services (e.g., SIP, LDAP) whose URIs are in the 
   "Tier 2" NAPTR records for an E.164 number.  However, "Tier 3" is 
   not formally a part of ENUM.  Instead, client software for ENUM 
   would end after receiving a definitive response to an ENUM query, 
   which when successful provides all of the NAPTR records (from "Tier 
   2") for a number.  After that, other client software would likely 
   take over, based in part on analysis of the records returned. 
    
4.2  Problems with Using "Tier" Terms 
    
   One complication of the use of "tier" terms comes from the different 
   varieties of national (or integrated) numbering plans.  For example, 
   some plans use an NDC (national destination code) field.  The North 
   American Numbering Plan (for E.164 Country Code 1) uses NPA 
   (Numbering Plan Area) codes. 
    
   A further complication is the possible options for structuring ENUM 
   administration within a country code.  The possibilities range from 
   a single monolithic structure to a mix of multiple structures (see 
   for example the RFC 2916 Appendix A Scenario, where a single 
   national level lies above several intermediate levels, one of which 
   lies above the E.164 number used in the example). 
    
    
5.  Recognition Principle 
    
   One specific way to identify ENUM tiers as attributes is suggested 
   by considering the level of the E.164 resource that is mapped to an 
   ENUM domain name.  The recognition principle extends this attribute 
   to apply to any digit string that could be an E.164 number. 
    
   Tier Recognition Principle: 
    
   -  Input:  A (possibly empty) decimal digit string preceded by "+". 
    
   -  Case 0:  If the digit string is empty or does not begin with a 
   complete E.164 country code, then it is a Tier 0 string. 
    
   -  Case 1:  If the digit string begins with a complete E.164 country 
   code but is not a complete E.164 number, then it is a Tier 1 string. 
    
   -  Case 2:  If the digit string is a complete E.164 number, then it 
   is a Tier 2 string. 
    
   Notes: 
    
     1.  The input is to be interpreted as a (possibly empty) leading 
   digit string of an E.164 number.  The empty string is included 
   because it maps to "e164.arpa" (as per the RFC 2916 convention).  
    
    
     
   Gallant             Expires January 10, 2002                      5 
                           Numbering Tiers              July 11, 2001 
    
     
     2.  Equivalently, this recognition principle could be written in 
   terms of the domain names to which digit strings would be mapped.  
   It is unambiguous because the mapping is one-to-one. 
    
     3.  For the domain-name-based formulation, the input is equivalent 
   to a (possibly empty) string of labels, where each label is a single 
   decimal digit, the labels are separated by "."s, and the string ends 
   with "e164.arpa.".  Also recall that the "ENUM name" of a complete 
   E.164 number would be a sub-domain of the "ENUM name" of any leading 
   digit string of that number, as in the Section 3 example above. 
    
   For digit strings, the Tier cases are illustrated by the following 
   table, based on the RFC 2916 example E.164 number of +46 8 976 1234: 
    
   Leading Digit String    ENUM Tier    Note 
   ====================    =========    ===================== 
   (+)                     Tier 0       (See Note 1 above.) 
    
   (+)4                    Tier 0 
    
   (+)46                   Tier 1       A complete E.164 Country Code. 
    
   (+)46 8                 Tier 1 
   (+)46 8 9               Tier 1 
   (+)46 8 97              Tier 1 
   (+)46 8 976             Tier 1       (See Sections 6.2 and 7 below.) 
   (+)46 8 976 1           Tier 1 
   (+)46 8 976 12          Tier 1 
   (+)46 8 976 123         Tier 1 
    
   (+)46 8 976 1234        Tier 2       A complete E.164 Number. 
    
   The (+) is used here for digit strings in the E.164 numbering space. 
    
    
6.  Suggestions on Usage 
    
   The proposed recognition principle for ENUM tiers provides an exact 
   and unambiguous characterization of the specific ENUM tier of an 
   E.164 resource.  Then, "tier" terms may be used as attributes 
   whenever an E.164 resource is mentioned. 
    
   One benefit of the recognition principle is that a tier value can be 
   assigned even if an E.164 resource is not a complete number or a 
   complete country code.  The tier value that this gets is consistent 
   with that of the complete resource (e.g., country code) above it. 
    
6.1  Tier 0 
    
   Tier 0 is the attribute for "above the country code level".  For 
   example, Tier 0 could refer to "e164.arpa" and related aspects 
   involving the E.164 numbering plan as a whole.   
    
     
   Gallant             Expires January 10, 2002                      6 
                           Numbering Tiers              July 11, 2001 
    
     
    
   Note that while the E.164 numbering plan deals with country codes, 
   an E.164 country code is a Tier 1 resource.  This is an example of 
   the need to be specific about is being described by a tier value. 
    
6.2  Tier 1 
    
   Tier 1 is the attribute for national numbering resources that E.164 
   country codes or that are within a country code but are not complete 
   E.164 numbers.  For example, in the RFC 2916 Appendix A Scenario, 
   both the "regulator" (for +46) and "Telco-A" (for +46 8 976) would 
   be "Tier 1 entities".   
    
   Note again that while an E.l64 country code is a Tier 1 resource, 
   and an E.164 number begins with a country code, a complete E.164 
   number is a Tier 2 resource. 
    
6.3  Tier 2 
    
   Tier 2 is the attribute for an E.164 number.  For example, in the 
   RFC 2916 Appendix A Scenario, the "Redirection Service company" (for 
   the complete number +46 8 976 1234) would be a "Tier 2 entity". 
    
6.4  DNS Zones 
    
   With the understanding that "zone" is a DNS-specific term, and as 
   long as ENUM "tiers" are understand in terms of attributes of mapped 
   E.164 resources, then "tier" terms could be used for zones in ENUM, 
   but only if care is taken to avoid confusion and ambiguity. 
    
   For example, in one hypothetical model for ENUM administration, in 
   the spirit of the canonical example (in Appendix A of RFC 2916): 
    
   -  e164.arpa is the Tier 0 zone, 
   -  6.4.e164.arpa is the Tier 1 zone for the country code +46, and 
   -  4.3.2.1.6.7.9.8.6.4.e164.arpa is the Tier 2 zone for the number. 
    
   This particular hypothetical model depends on the assumption that 
   DNS delegations would be made to those zones.  However, this is not 
   a necessary assumption.  
    
   Consider, for a different hypothetical example, that the NAPTR 
   records associated with an E.164 number could in fact be part of the 
   zone file for a country code's zone, without the need to create a 
   zone specifically for that number.  DNS queries would still work. 
    
   Therefore, issues about zones for ENUM would have aspects of both 
   numbering administration and ENUM administration, in addition to 
   issues that would be specific to DNS administration. 
    
    
     
   Gallant             Expires January 10, 2002                      7 
                           Numbering Tiers              July 11, 2001 
    
     
   Coordination of these multi-administration aspects is a necessary 
   part of defining and managing the specific zone structure of a 
   particular implementation of ENUM.   
    
   A restatement of the previous example illustrates the need for 
   clarity during coordination: 
    
   - a complete E.164 number                is a Tier 2 resource, 
    
   - a NAPTR record for a complete number   is a Tier 2 RR, but 
    
   - the DNS zone containing such a NAPTR record could be a Tier 2 
     zone, a Tier 1 zone, or possibly even the Tier 0 zone. 
    
6.5  Sets or Contents 
    
   Discussing relationships between resources and possible zone 
   delegations identifies special cases of a more general problem. 
    
   Talking about a set is different than talking about its contents.  
    
   An E.164 country code is not the same as the set of all numbers that 
   begin with that country code.  Likewise, an attribute of a domain 
   name (such as its tier value) is not necessarily the same as an 
   attribute of some or all of the members that domain.  There are 
   times, such as delegation, when this is an important distinction. 
    
   In particular, experience suggests that great care be taken when 
   discussing zones.  The convention used in this document is that a 
   zone should be identified by its name (i.e., origin).  It is 
   dangerous and confusing to refer to a zone by its contents.   
    
   For example, "What kind of zone is a telephone number in?" is 
   ambiguous at best.  In a hypothetical model where a zone is 
   delegated for a number, it is a Tier 2 zone, and its origin is the 
   domain name that is the mapped image of the number.  There would 
   then be an appropriate SOA RR defining that Tier 2 zone.  The NS 
   records delegating "to the number" would live in Tier 1 (or above).   
    
   Consider the simple hypothetical model where there is one Tier 1 
   zone for an E.164 country code, and where that zone contains the 
   delegations to the Tier 2 zones for each number.  Then, roughly 
   speaking, there are Tier 2 RRs in Tier 2 zones, and there are Tier 2 
   RRs in the Tier 1 zone!  That's why it is confusing, even with clear 
   terminology, to talk about tiers and zones at the same time. 
    
   Discussing tiers becomes even more problematic for zones that might 
   contain RRs for a mix of leading digit strings and complete numbers.  
   These topics are inherently complex, and more precise use of terms 
   is needed to deal with these complexities. 
    
    
    
     
   Gallant             Expires January 10, 2002                      8 
                           Numbering Tiers              July 11, 2001 
    
     
7.  Flavors Beyond Vanilla 
    
   With suitable care, it is possible to discuss different flavors of 
   attributes, especially when options for Tier 1 are discussed.  Here, 
   "options for Tier 1" refers to the many different ways that ENUM 
   administration of Tier 1 resources could be structured.  It is 
   important to note that Tier 1 options are national matters. 
    
   Very briefly, when describing certain sets of E.164 resources, the 
   attribute "Tier 1" could be flavored by the following modifiers: 
    
   -  "upper" Tier 1: E.164 resources including the country code, 
    
   -  "lower" Tier 1: E.164 resources directly above numbers, 
    
   -  "middle" Tier 1: neither upper nor lower, and 
    
   -  "complete" Tier 1:  both upper and lower. 
    
   For example, in the RFC 2916 Appendix A Scenario, the "regulator" 
   (for +46) would be an "upper Tier 1 entity", and "Telco-A" (for +46 
   8 976) would be a "lower Tier 1 entity". 
    
   Again, "tier" terms are not to be considered as defining anything 
   about DNS.  Instead, "tier" terms describe aspects of how ENUM would 
   be administered to take into account how numbering resource are 
   administered, and in particular, how those various aspects are then 
   handled when E.164 resources are mapped into DNS using ENUM. 
    
   The development of criteria and procedures for managing the non-DNS 
   aspects of ENUM administration is not discussed in this document. 
    
8.  Security Considerations 
    
   RFC 2916 discussed security considerations related to ENUM.  The 
   discussion of terminology in this document indicates the importance 
   of effective coordination of numbering resource administration, ENUM 
   administration, and DNS administration functions in general. 
    
   More specifically, looking at "tiers" has highlighted some of the 
   complexity involved with the delegation of zones for ENUM.  It would 
   be desirable for ENUM-related delegations to be carefully planned 
   well in advance of implementation. 
    
   There is a range of possible options for structuring ENUM 
   administration functions, and there are many different factors 
   involved.  Delegation of zones for ENUM is likely to be an area of 
   some concern with respect to Tier 1 resource administration, which 
   is a national matter, and effective use of terminology should help 
   make addressing such matters more manageable. 
    
    
    
     
   Gallant             Expires January 10, 2002                      9 
                           Numbering Tiers              July 11, 2001 
    
     
9.  Acknowledgement 
    
   Inputs on some of the intricacies of DNS terminology and 
   administration were provided by Patrik Faltstrom. 
    
    
10. References 
    
   1  RFC 2916, "E.164 number and DNS." P. Faltstrom. September 2000. 
    
   2  ITU-T Recommendation E.164 (05/97), "The international public 
      telecommunication numbering plan." 
    
    
11. Author's Address 
    
   Andrew Gallant 
   NeuStar, Inc. 
   1120 Vermont Avenue NW, 4th Floor 
   Washington, DC  20005  USA 
   Tel:    +1 202 533 2812 
   Fax:    +1 202 533 2987 
   Email:  andrew.gallant@neustar.com 
    
    
    
     
   Gallant             Expires January 10, 2002                     10 