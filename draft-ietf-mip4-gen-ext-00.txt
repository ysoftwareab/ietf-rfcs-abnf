


Network Working Group                                        J. Bharatia
Internet-Draft                                           Nortel Networks
Expires: September 4, 2006                                  K. Chowdhury
                                                        Starent Networks
                                                                 A. Lior
                                                     Bridgewater Systems
                                                                K. Leung
                                                           Cisco Systems
                                                           March 3, 2006


           MIPv4 Extension for Configuration Options Exchange
                     draft-ietf-mip4-gen-ext-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 4, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   This document describes the mechanism for providing the host
   configuration information during Mobile IP registration.  One or more
   Configuration Options Exchange Extensions may be included in the



Bharatia, et al.        Expires September 4, 2006               [Page 1]

Internet-Draft                                                March 2006


   registration message to provide the Mobile Node the configuration
   parameters needed for network service usage (e.g.  DNS).


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Glossary of Terms  . . . . . . . . . . . . . . . . . . . .  3
     1.2.  Conventions used in this document  . . . . . . . . . . . .  3
   2.  Configuration Options Exchange Extension . . . . . . . . . . .  4
   3.  Processing of Configuration Options Exchange Extension . . . .  6
   4.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  8
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . .  9
   6.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . 10
   7.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 10
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 11
   Intellectual Property and Copyright Statements . . . . . . . . . . 12


































Bharatia, et al.        Expires September 4, 2006               [Page 2]

Internet-Draft                                                March 2006


1.  Introduction

   Mobile IPv4 lacks the capability to dynamically configure the
   interface parameters (e.g. home subnet mask) and network service
   elements (e.g.  DNS servers) on the Mobile Node.  These information
   are required to be manually configured today.  There are possible
   ways to deliver foreign network's configuration information to the
   Mobile Node, but there is no method for the home network (where the
   Mobile Node is logically anchored) to provide these parameters.

   To configure the Mobile Node with the configuration parameters at the
   time of MIPv4 registration an extension should be defined to carry
   such information.  This document defines this MIPv4 extension.

1.1.  Glossary of Terms

      DNS - Domain Name System [RFC 1035]

      DHCP - Dynamic Host Configuration Protocol [RFC 2131]

1.2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].


























Bharatia, et al.        Expires September 4, 2006               [Page 3]

Internet-Draft                                                March 2006


2.  Configuration Options Exchange Extension

   The Mobile IPv4 extension has the format shown in this section to
   carry configuration information.  This extension MAY be included as a
   part of Mobile IP Registration Request or Registration Reply.

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |    Length     | Entity-Type   |   Sub-Type    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Config-Data
   +-+-+-+-+-+-...


   Figure 1: Configuration Options Exchange Extension

      Type

         IPV4-CONF-OPTIONS-EXT-TYPE (This extension value will be
         assigned by IANA from the numbering space defined in [RFC3344]
         for skippable extensions)

      Length

         Indicates the length (in bytes) of the data field within this
         Extension.  The length does NOT include the Type and Length
         bytes.  This field MUST be set to 2 plus the total length of
         the Config-Data field.

      Entity-Type

         This field indicates which Mobility Agent was asked or inserted
         the extension in the Registration Request or Registration
         Reply, respectively.  The Home Agent or Foreign Agent may
         include the extension in the Registration Reply, whereas the
         Mobile Node may append the extension in the Registration
         Request to ask the Home Agent and/or Foreign Agent for
         configuration information.  Currently the following types are
         defined:

         Home Agent = 1 (to be assigned by IANA)

         Foreign Agent = 2 (to be assigned by IANA)

      Sub-Type





Bharatia, et al.        Expires September 4, 2006               [Page 4]

Internet-Draft                                                March 2006


         At this time the following values are defined:

         0: Reserved.

         1: DHCP Options.

         All other values are reserved for future use.

      Config-Data

         The configuration parameters are packed in DHCP-based formats
         in the Config-Data field.  Since the size of the Config-Data
         field is limited to 253 bytes, the Mobility Agent needs to add
         multiple extensions with this subtype when the configuration
         information exceeds the boundary.  The DHCP option must be
         contained within one extension and never split up across
         multiple extensions.


































Bharatia, et al.        Expires September 4, 2006               [Page 5]

Internet-Draft                                                March 2006


3.  Processing of Configuration Options Exchange Extension

   The Mobile Node may request values for specific configuration
   parameters from the Home Agent and/or Foreign Agent by including the
   'Parameter Request List' option in the Registration Request.  The
   list of requested parameters is specified as a string of octets,
   where each octet is a valid DHCP option code as defined in [RFC2132].
   If this extension is included in the Registration Request, the Home
   Agent or Foreign Agent (indicated in the Entity-Type field) should
   provide requested information in the Registration Reply.  The
   Configuration Options Exchange extension should be repeated in the
   Registration Request for parameter(s) request based on the Entity-
   Type.  If there are no Configuration Options Exchange Extension in
   the Registration Request, it's up to the Home Agent or Foreign Agent
   to decide which configuration parameter to include in the
   Configuration Options Exchange extension.  The configuration
   parameter(s) should not be overwritten by the Foreign Agent if the
   Home Agent has included them in the Configuration Options Exchange
   extension.  The Entity-Type field is set to the Mobility Agent that
   appended the extension in the Registration Reply.

   When a network entity (identified in the Entity-Type field of the
   extension) adds a Configuration Options Exchange Extension to a
   Registration Request or Registration Reply message, this extension
   MUST appear prior to any authentication extensions added by that
   entity.

   Example:

   Mobile Node wants to obtain the home network prefix mask and DNS
   servers' IP addresses from its Home Agent during registration.  The
   Registration Request would contain the following values in the
   Configuration Options Exchange Extension.

   0               1                   2               3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     <Type>    |     <Len>=6   |    <Ent>=1    |    <Rsv>=0    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  <OpCode>=55  |   <OpLen>=2   |  <NetMask>=1  |    <DNS>=6    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Figure 2: Requested Configuration Parameters

   Home Agent sends a Registration Reply that contains the following
   values in the Configuration Options Exchange Extension.





Bharatia, et al.        Expires September 4, 2006               [Page 6]

Internet-Draft                                                March 2006


   0               1                   2               3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     <Type>    |     <Len>=18  |    <Ent>=1    |    <Rsv>=0    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  <OpCode>=1   |    <OpLen>=4  |       <Home Network Prefix>
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              ...                  |   <OpCode>=6  |  <OpLen>=8    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 <Primary DNS Server Address>                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                <Secondary DNS Server Address>                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




   Figure 3: Configuration Values in Response

































Bharatia, et al.        Expires September 4, 2006               [Page 7]

Internet-Draft                                                March 2006


4.  IANA Considerations

   This draft defines new Mobile IPv4 extension of types IPV4-CONF-
   OPTIONS-EXT-TYPE as defined in Section 2 of this document.  This
   value MUST be assigned by IANA from the Mobile IP numbering space for
   skippable extensions.













































Bharatia, et al.        Expires September 4, 2006               [Page 8]

Internet-Draft                                                March 2006


5.  Security Considerations

   There are no additional security aspects imposed by this document in
   addition to the one defined in [RFC3344].















































Bharatia, et al.        Expires September 4, 2006               [Page 9]

Internet-Draft                                                March 2006


6.  Acknowledgments

   Authors like to thank Curtis Provost, Tom Hiller, Henrik Levkowetz
   and Sri Gundavelli for their valuable input to this document.

7.  References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2131]  Droms, R., "Dynamic Host Configuration Protocol",
              RFC 2131, March 1997.

   [RFC2132]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
              Extensions", RFC 2132, March 1997.

   [RFC3344]  Perkins, C., "IP Mobility Support for IPv4", RFC 3344,
              August 2002.

































Bharatia, et al.        Expires September 4, 2006              [Page 10]

Internet-Draft                                                March 2006


Authors' Addresses

   Jayshree Bharatia
   Nortel Networks
   2221, Lakeside Blvd
   Richardson, TX  75082

   Phone: +1 972-684-5767
   Email: jayshree@nortelnetworks.com


   Kuntal Chowdhury
   Starent Networks
   30 International Place
   Tewksbury, MA  01876

   Phone: +1 214-550-1416
   Email: kchowdhury@starentnetworks.com


   Avi Lior
   Bridgewater Systems
   303 Terry Fox Drive, Suite 100
   Ottawa, Ontario, Canada  K2K 3J1

   Phone: +1 613-591-6655
   Email: avi@bridgewatersystems.com


   Kent Leung
   Cisco Systems
   170 West Tasman Drive
   San Jose, CA  95134

   Phone: +1 408-526-5030
   Email: kleung@cisco.com















Bharatia, et al.        Expires September 4, 2006              [Page 11]

Internet-Draft                                                March 2006


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2006).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Bharatia, et al.        Expires September 4, 2006              [Page 12]

