

                  CAPWAP Working Group                                       Song Yubo 
                  Internet Draft                                               Li Ying 
                  Expires: May 2006                                       Yang Xiaohui 
                                                                   Southest University 
                                                                         November 2005 
                   
                   
                                  Virtual AP for 802.11 Seamless Handoff 
                                 draft-song-80211-seamless-handoff-00.txt 
                   
                   
               Status of this Memo 
                   
                  By submitting this Internet-Draft, each author represents that any 
                  applicable patent or other IPR claims of which he or she is aware 
                  have been or will be disclosed, and any of which he or she becomes 
                  aware will be disclosed, in accordance with Section 6 of BCP 79. 
                   
                  Internet-Drafts are working documents of the Internet Engineering 
                  Task Force (IETF), its areas, and its working groups.  Note that      
                  other groups may also distribute working documents as Internet-Drafts. 
                   
                  Internet-Drafts are draft documents valid for a maximum of six months 
                  and may be updated, replaced, or obsoleted by other documents at any 
                  time.  It is inappropriate to use Internet-Drafts as reference 
                  material or to cite them other than as "work in progress." 
                   
                  The list of current Internet-Drafts can be accessed at 
                       http://www.ietf.org/ietf/1id-abstracts.txt 
                  The list of Internet-Draft Shadow Directories can be accessed at 
                       http://www.ietf.org/shadow.html. 
                   
                  Copyright (C) The Internet Society (2005). 
                   
               Abstract 
                   
                  This memo documents the concept of virtual AP which refers to using 
                  multi physical APs to simulate only one virtual AP, method and 
                  process used for seamless handoff between APs upon IEEE802.11 network. 
                  It defines the stages to actualize smooth handoff, mentions the 
                  concepts, theories and requirements in these stages. 
                   
                   
               Conventions used in this document 
                   
                  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
                  "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this 
                  document are to be interpreted as described in RFC-2119 [i]. 
                   
               Table of Contents 
                
                
               Yubo, et al.             Expires - May, 2006                 [Page 1] 
                           draft-song-80211-seemless-handoff-00.txt  November 2005 
                
                
                   
                  1. Introduction...................................................2 
                  2. Terminology....................................................2 
                  3. The realization of virtual AP..................................3 
                     3.1 The concept of virtual AP..................................3 
                     3.2 The issues of virtual AP...................................4 
                  4. The procedure of 802.11 seamless handoff.......................4 
                     4.1 Association phase..........................................4 
                     4.2 Handoff detection phase....................................4 
                     4.3 Handoff execution phase....................................5 
                  5. Formal Syntax..................................................5 
                  6. Security Considerations........................................5 
                  7. References.....................................................5 
                  Author's Addresses................................................6 
                  Full Copyright Statement..........................................6 
                   
                   
               1.                   Introduction 
                   
                  The handoff duration could affect the quality of packet transition in 
                  the wireless channel between AP and station. When a user is using 
                  wireless terminal to receive voice stream by connecting with AP 
                  through wireless channel and moving from one AP’s coverage region to 
                  another, handoff may take place in the overlay region. We must seek 
                  an effect method to narrow down the duration existing in the handoff 
                  process to maintain the high quality of corresponding. 
                   
                  As most of the duration is existing in the detection and search 
                  stages, we use virtual AP to reduce the most part in these stages. 
                  IEEE802.11f protocol also works in this method for solving the main 
                  problems of exclusive channel collision and corresponding between APs. 
                   
               2.                   Terminology 
                   
                  access point (AP) 
                  Any entity that has station functionality and provides access to the 
                  distribution services, via the wireless medium (WM) for associated 
                  stations [1]. 
                   
                  association 
                  The service used to establish access point/station (AP/STA) mapping 
                  and enable STA invocation of the distribution system services (DSSs). 
                   
                  disassociation 
                  The service that removes an existing association. 
                   
                  distribution system (DS) 


                
                
               Yubo, et al.              Expires - May,2006                  [Page 2] 
                           draft-song-80211-seemless-handoff-00.txt  November 2005 
                
                
                  A system used to interconnect a set of basic service sets (BSSs) and 
                  integrated local area networks (LANs) to create an extended service 
                  set (ESS). 
                   
                  handoff 
                  The handoff refers to the process of the association exchanged by a 
                  mobile station from one AP to another. 
                   
                  handoff duraion 
                  The handoff duration, which is often referred to as the handover 
                  latency or handover delay, is the period when the STA in unable to 
                  exchange data traffic via its old and new AP. 
                   
                  mobile station 
                  A type of station that uses network communications while in motion. 
                   
                  station (STA) 
                  Any device that contains an IEEE 802.11 conformant medium access 
                  control (MAC)and physical layer (PHY) interface to the wireless 
                  medium (WM). 
                   
                  virtual Access Point(virtual AP) 
                  A virtual AP is a logical entity that to a STA is indistinguishable 
                  from a physical AP residing within the same enclosure. 
                   
                  wireless medium (WM) 
                  The medium used to implement the transfer of protocol data units 
                  (PDUs) between peer physical layer (PHY) entities of a wireless local 
                  area network (LAN). 
                   
               3.                   The realization of virtual AP 
                
               3.1                    The concept of virtual AP 
                   
                  A virtual AP is a logical entity that to a STA is indistinguishable 
                  from a physical AP residing within the same enclosure [2]. As with 
                  all idealizations, a virtual AP implementation may approximate the 
                  ideal behavior to a greater or lesser degree. 
                   
                  Although there may be many different physical APs in one distributed 
                  system, STAs which is under the coverage area will consider itself 
                  only associates with one AP. So, when a STA is moving from the 
                  coverage area of one AP to another, it will not detect the loss of 
                  the association.  
                   
                  In order to provide STAs with the illusion of only one physical AP 
                  within the same enclosure, it is necessary for virtual APs to emulate 
                  the same operation at the MAC layer.  
                   
                
                
               Yubo, et al.              Expires - May,2006                  [Page 3] 
                           draft-song-80211-seemless-handoff-00.txt  November 2005 
                
                
                  Virtual APs emulate the MAC layer behavior of physical APs by 
                  operating with the same BSSIDs, SSIDs, channel, mac address, 
                  capability advertisements and default key sets. 
                   
               3.2                    The issues of virtual AP 
                   
                  1) multiple association 
                  In the 802.11 standard [1], the station MUST have only one single 
                  association at a given time. But when the sta move into the overlap 
                  region, it may connect to not only one AP at the same time because 
                  all the MAC layer parameters of APs are the same. 
                   
                  In order to solve this problem, we use the 802.11f [3] standard to 
                  provide the enforcement of the restriction of ISO/IEC 802-11:1999[1] 
                  that a STA may have only a single association at any given time. 
                   
                  2) channel collision 
                  As the working channels of all APs are set identically, the channel 
                  collision probabilities are becoming larger than before. To make it 
                  worse, serious collision can make the packet transition rate much 
                  lower, or even obstruct this transition. The capability of the DS 
                  using virtual AP will obviously becomes smaller than the normal 
                  situation. But we think it is acceptable for users. 
                   
                  3) security problem 
                   
               4.                   The procedure of 802.11 seamless handoff 
                   
               4.1                    Association phase 
                   
                  When a STA is trying to associates with one AP using an 802.11 
                  association request frame in the coverage area, AP which receives the 
                  association request will send an IAPP-notify packet to inform other 
                  APs in the same DS. There may be more than one AP receiving the 
                  association request of the STA, which often happens when the STA is 
                  in the overlap region. To solve this problem, we add a timestamp in 
                  IAPP-notify frame. By comparing the timestamp of each IAPP-notify 
                  frame sent by the APs, we can conclude which AP to associate with the 
                  STA. Once the association is established, a Layer 2 Update Frame will 
                  be sent to cause the forwarding tables of layer 2 internetworking 
                  devices, e.g. bridges and switches, to be updated. 
                   
               4.2                    Handoff detection phase 
                   
                  The actions during the detection phase vary depending on which entity 
                  initiated the handover. However, the most common handover is the one 
                  initiated by the station, in which stations have to detect the lack 
                  of radio connectivity based on failed frame transmissions. Most STAs 
                  will explicitly probe the link by sending probe requests after a 
                
                
               Yubo, et al.              Expires - May,2006                  [Page 4] 
                           draft-song-80211-seemless-handoff-00.txt  November 2005 
                
                
                  series of unsuccessful transmissions [4]. Different cards showed 
                  different detection times depending on the number of failed frames 
                  allowed and the number of probes sent. Commonly, this will cause 
                  obvious handoff delay. In Virtual AP circumstance, the handoff is 
                  network initiated. The AP determines when the handoff takes place by 
                  detecting the radio signal strength. This will avoid the handoff 
                  delay due to the handoff initiated by the station. 
                   
               4.3                    Handoff execution phase 
                   
                  Once other AP received data frames from the move station that this 
                  station has move into the AP coverage area, it will attempt to send 
                  an IAPP MOVE-notify packet to the AP with which the move STA was 
                  previously associated to notify that AP of the STA’s association. 
                   
               5.                   Formal Syntax 
                   
                  The following syntax specification uses the augmented Backus-Naur 
                  Form (BNF) as described in RFC-2234 [ii]. 
                   
               6.                   Security Considerations 
                   
                  The current version of this document does not change the underlying 
                  security issues inherent in the existing 802.11 standard. In the 
                  future versions, new security requirements may be added. 
                   
               7.                   References 
                   
                                    
               7.1 Normative reference  
                   
                  i  Bradner, S., "Key words for use in RFCs to Indicate Requirement 
                     Levels", BCP 14, RFC 2119, March 1997 
                   
                  ii  Crocker, D. and Overell, P.(Editors), "Augmented BNF for Syntax 
                     Specifications: ABNF", RFC 2234, Internet Mail Consortium and 
                     Demon Internet Ltd., November 1997 
                   
               7.2 Informative reference 
                   
                  [1] IEEE Std 802.11, 1999 Edition (R2003) (ISO/IEC 8802-11: 1999), 
                     IEEE Standard for Information Technology—Telecommunications and 
                     Information Exchange between Systems—Local and Metropolitan Area 
                     Network—Specific Requirements—Part 11: Wireless LAN Medium Access 
                     Control (MAC) and Physical Layer (PHY) Specifications. 
                   
                  [2] Bernard Aboba, “Virtual Access Points”, 11-03-154r1-I-Virtual-
                     Access-Points.doc, May 22, 2003 

                
                
               Yubo, et al.              Expires - May,2006                  [Page 5] 
                           draft-song-80211-seemless-handoff-00.txt  November 2005 
                
                
                   
                  [3] IEEE Std 802.11F, 2003, IEEE Trial-Use Recommended Practice for 
                     Multi-Vendor Access Point Interoperability via an Inter-Access 
                     Point Protocol Across Distribution Systems Supporting IEEE 802.11 
                     Operation. 
                   
                  [4] Héctor Velayos and Gunnar Karlsson, “Techniques to Reduce IEEE 
                     802.11b MAC Layer Handover Time”, www.it.kth.se/~hvelayos/papers/, 
                     Apirl 2003. 
                   
               Author's Addresses 
                   
                  Song Yubo 
                  Southeast University 
                  2# Sipailou, Nanjing, Jiangsu Province, China 
                  Email: songyubo@mail.edu.cn 
                   
                  Li Ying 
                  Southeast University 
                  2# Sipailou, Nanjing, Jiangsu Province, China 
                  Email: lyly110513@163.com 
                   
                  Yang Xiaohui 
                  Southeast University 
                  2# Sipailou, Nanjing, Jiangsu Province, China 
                  Email: xhyang@seu.edu.cn 
                   
               Full Copyright Statement   
                   
                  Copyright (C) The Internet Society (2005). This document is subject 
                  to the rights, licenses and restrictions contained in BCP 78, and 
                  except as set forth therein, the authors retain all their rights. 
                   
                  This document and the information contained herein are provided on an 
                  "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
                  OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
                  ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
                  INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
                  INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
                  WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 









                
                
               Yubo, et al.              Expires - May,2006                  [Page 6] 
