



Network Working Group                                             X. Liu
Internet-Draft                                       Kuatro Technologies
Intended status: Standards Track                              I. Bryskin
Expires: May 2, 2017                                 Huawei Technologies
                                                               V. Beeram
                                                        Juniper Networks
                                                                 T. Saad
                                                       Cisco Systems Inc
                                                                 H. Shah
                                                                   Ciena
                                                     O. Gonzalez de Dios
                                                              Telefonica
                                                        October 29, 2016


               YANG Data Model for Layer 3 TE Topologies
                   draft-liu-teas-yang-l3-te-topo-02

Abstract

   This document defines a YANG data model for layer 3 traffic
   engineering topologies.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 2, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of



Liu, et al.                Expires May 2, 2017                  [Page 1]

Internet-Draft             YANG L3 TE Topology              October 2016


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Modeling Considerations . . . . . . . . . . . . . . . . . . .   3
     2.1.  Relationship Between Layer 3 Topology and TE topology . .   3
     2.2.  Relationship Modeling . . . . . . . . . . . . . . . . . .   3
   3.  Model Structure . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Layer 3 TE Topology Module  . . . . . . . . . . . . . . .   3
     3.2.  Packet Switching TE Topology Module . . . . . . . . . . .   4
   4.  YANG Modules  . . . . . . . . . . . . . . . . . . . . . . . .  16
     4.1.  Layer 3 TE Topology Module  . . . . . . . . . . . . . . .  16
     4.2.  Packet Switching TE Topology Module . . . . . . . . . . .  19
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  29
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  30
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  30
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .  30
     7.2.  Informative References  . . . . . . . . . . . . . . . . .  31
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  31

1.  Introduction

   This document defines a YANG [RFC7950] data model for describing the
   relationship between a layer 3 network topology
   [I-D.ietf-i2rs-yang-l3-topology] and a TE topology
   [I-D.ietf-teas-yang-te-topo].

   When traffic engineering is enabled on a layer 3 network topology,
   there will be a corresponding TE topology.  The TE topology may or
   may not be congruent to the layer 3 network topology.  When such a
   congruent TE topology exists, there will be a one-to-one association
   between the one modeling element in the layer 3 topology to another
   element in the TE topology.  When such a congruent TE topology does
   not exist, the association will not be one-to-one.  This YANG data
   model allows both cases.

1.1.  Terminology

   The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and




Liu, et al.                Expires May 2, 2017                  [Page 2]

Internet-Draft             YANG L3 TE Topology              October 2016


   "OPTIONAL" in this document are to be interpreted as described in BCP
   14, [RFC2119].

   The following terms are defined in [RFC7950] and are not redefined
   here:

   o  augment

   o  data model

   o  data node

2.  Modeling Considerations

2.1.  Relationship Between Layer 3 Topology and TE topology

   In general, layer 3 network topology model and TE topology model can
   be used independently.  When traffic engineering is enabled on a
   layer 3 network topology, there will be associations between objects
   in layer 3 network topologies and objects in TE topologies.  The
   properties of these relations are:

   o  The associations are between objects of the same class, i.e. node
      to node or link to link.

   o  The multiplicity of such an association is: 0..1 to 0..1.  An
      object in a layer 3 network may have zero or one associated object
      in the corresponding TE network.

2.2.  Relationship Modeling

   YANG data type leafref is used to model the association relationship
   between a layer 3 network topology and a TE topology.  YANG must
   statements are used to enforce the referenced objects are in the
   topologies of proper type.

3.  Model Structure

3.1.  Layer 3 TE Topology Module

   The model tree structure of the layer 3 TE topology module is as
   shown below:









Liu, et al.                Expires May 2, 2017                  [Page 3]

Internet-Draft             YANG L3 TE Topology              October 2016


   module: ietf-l3-te-topology
   augment /nw:networks/nw:network/nw:network-types/
   l3t:l3-unicast-topology:
      +--rw l3-te!
   augment /nw:networks/nw:network/l3t:l3-topology-attributes:
      +--rw l3-te-topology-attributes
         +--rw network-ref?   leafref
   augment /nw:networks/nw:network/nw:node/l3t:l3-node-attributes:
      +--rw l3-te-node-attributes
         +--rw node-ref?      leafref
         +--rw network-ref?   leafref
   augment /nw:networks/nw:network/nw:node/nt:termination-point/
   l3t:l3-termination-point-attributes:
      +--rw l3-te-tp-attributes
         +--rw tp-ref?        leafref
         +--rw node-ref?      leafref
         +--rw network-ref?   leafref
   augment /nw:networks/nw:network/nt:link/l3t:l3-link-attributes:
      +--rw l3-te-link-attributes
         +--rw link-ref?      leafref
         +--rw network-ref?   leafref



3.2.  Packet Switching TE Topology Module

   This is an augmentation to base TE topology model.


   module: ietf-te-topology-packet
   augment /nw:networks/nw:network/nw:node/tet:te/tet:config/
   tet:te-node-attributes/tet:connectivity-matrix:
      +--rw performance-metric {te-performance-metric}?
      |  +--rw measurement
      |  |  +--rw unidirectional-delay?                 uint32
      |  |  +--rw unidirectional-min-delay?             uint32
      |  |  +--rw unidirectional-max-delay?             uint32
      |  |  +--rw unidirectional-delay-variation?       uint32
      |  |  +--rw unidirectional-packet-loss?           decimal64
      |  |  +--rw unidirectional-residual-bandwidth?    decimal64
      |  |  +--rw unidirectional-available-bandwidth?   decimal64
      |  |  +--rw unidirectional-utilized-bandwidth?    decimal64
      |  +--rw normality
      |     +--rw unidirectional-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-max-delay?



Liu, et al.                Expires May 2, 2017                  [Page 4]

Internet-Draft             YANG L3 TE Topology              October 2016


   te-types:performance-metric-normality
      |     +--rw unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--rw unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--rw unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--rw unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--rw unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--rw performance-metric-throttle {te-performance-metric}?
         +--rw unidirectional-delay-offset?           uint32
         +--rw measure-interval?                      uint32
         +--rw advertisement-interval?                uint32
         +--rw suppression-interval?                  uint32
         +--rw threshold-out
         |  +--rw unidirectional-delay?                 uint32
         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64
         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-in
         |  +--rw unidirectional-delay?                 uint32
         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64
         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-accelerated-advertisement
            +--rw unidirectional-delay?                 uint32
            +--rw unidirectional-min-delay?             uint32
            +--rw unidirectional-max-delay?             uint32
            +--rw unidirectional-delay-variation?       uint32
            +--rw unidirectional-packet-loss?           decimal64
            +--rw unidirectional-residual-bandwidth?    decimal64
            +--rw unidirectional-available-bandwidth?   decimal64
            +--rw unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/nw:network/nw:node/tet:te/tet:state/
   tet:te-node-attributes/tet:connectivity-matrix:
      +--ro performance-metric {te-performance-metric}?
      |  +--ro measurement
      |  |  +--ro unidirectional-delay?                 uint32



Liu, et al.                Expires May 2, 2017                  [Page 5]

Internet-Draft             YANG L3 TE Topology              October 2016


      |  |  +--ro unidirectional-min-delay?             uint32
      |  |  +--ro unidirectional-max-delay?             uint32
      |  |  +--ro unidirectional-delay-variation?       uint32
      |  |  +--ro unidirectional-packet-loss?           decimal64
      |  |  +--ro unidirectional-residual-bandwidth?    decimal64
      |  |  +--ro unidirectional-available-bandwidth?   decimal64
      |  |  +--ro unidirectional-utilized-bandwidth?    decimal64
      |  +--ro normality
      |     +--ro unidirectional-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--ro unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--ro unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--ro performance-metric-throttle {te-performance-metric}?
         +--ro unidirectional-delay-offset?           uint32
         +--ro measure-interval?                      uint32
         +--ro advertisement-interval?                uint32
         +--ro suppression-interval?                  uint32
         +--ro threshold-out
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-in
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-accelerated-advertisement



Liu, et al.                Expires May 2, 2017                  [Page 6]

Internet-Draft             YANG L3 TE Topology              October 2016


            +--ro unidirectional-delay?                 uint32
            +--ro unidirectional-min-delay?             uint32
            +--ro unidirectional-max-delay?             uint32
            +--ro unidirectional-delay-variation?       uint32
            +--ro unidirectional-packet-loss?           decimal64
            +--ro unidirectional-residual-bandwidth?    decimal64
            +--ro unidirectional-available-bandwidth?   decimal64
            +--ro unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/nw:network/nw:node/tet:te/tet:state/
   tet:information-source-entry/tet:connectivity-matrix:
      +--ro performance-metric {te-performance-metric}?
      |  +--ro measurement
      |  |  +--ro unidirectional-delay?                 uint32
      |  |  +--ro unidirectional-min-delay?             uint32
      |  |  +--ro unidirectional-max-delay?             uint32
      |  |  +--ro unidirectional-delay-variation?       uint32
      |  |  +--ro unidirectional-packet-loss?           decimal64
      |  |  +--ro unidirectional-residual-bandwidth?    decimal64
      |  |  +--ro unidirectional-available-bandwidth?   decimal64
      |  |  +--ro unidirectional-utilized-bandwidth?    decimal64
      |  +--ro normality
      |     +--ro unidirectional-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--ro unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--ro unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--ro performance-metric-throttle {te-performance-metric}?
         +--ro unidirectional-delay-offset?           uint32
         +--ro measure-interval?                      uint32
         +--ro advertisement-interval?                uint32
         +--ro suppression-interval?                  uint32
         +--ro threshold-out
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64



Liu, et al.                Expires May 2, 2017                  [Page 7]

Internet-Draft             YANG L3 TE Topology              October 2016


         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-in
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-accelerated-advertisement
            +--ro unidirectional-delay?                 uint32
            +--ro unidirectional-min-delay?             uint32
            +--ro unidirectional-max-delay?             uint32
            +--ro unidirectional-delay-variation?       uint32
            +--ro unidirectional-packet-loss?           decimal64
            +--ro unidirectional-residual-bandwidth?    decimal64
            +--ro unidirectional-available-bandwidth?   decimal64
            +--ro unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/nw:network/nw:node/tet:te/
   tet:tunnel-termination-point/tet:config/tet:local-link-connectivity:
      +--rw performance-metric {te-performance-metric}?
      |  +--rw measurement
      |  |  +--rw unidirectional-delay?                 uint32
      |  |  +--rw unidirectional-min-delay?             uint32
      |  |  +--rw unidirectional-max-delay?             uint32
      |  |  +--rw unidirectional-delay-variation?       uint32
      |  |  +--rw unidirectional-packet-loss?           decimal64
      |  |  +--rw unidirectional-residual-bandwidth?    decimal64
      |  |  +--rw unidirectional-available-bandwidth?   decimal64
      |  |  +--rw unidirectional-utilized-bandwidth?    decimal64
      |  +--rw normality
      |     +--rw unidirectional-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--rw unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--rw unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--rw unidirectional-available-bandwidth?
   te-types:performance-metric-normality



Liu, et al.                Expires May 2, 2017                  [Page 8]

Internet-Draft             YANG L3 TE Topology              October 2016


      |     +--rw unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--rw performance-metric-throttle {te-performance-metric}?
         +--rw unidirectional-delay-offset?           uint32
         +--rw measure-interval?                      uint32
         +--rw advertisement-interval?                uint32
         +--rw suppression-interval?                  uint32
         +--rw threshold-out
         |  +--rw unidirectional-delay?                 uint32
         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64
         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-in
         |  +--rw unidirectional-delay?                 uint32
         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64
         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-accelerated-advertisement
            +--rw unidirectional-delay?                 uint32
            +--rw unidirectional-min-delay?             uint32
            +--rw unidirectional-max-delay?             uint32
            +--rw unidirectional-delay-variation?       uint32
            +--rw unidirectional-packet-loss?           decimal64
            +--rw unidirectional-residual-bandwidth?    decimal64
            +--rw unidirectional-available-bandwidth?   decimal64
            +--rw unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/nw:network/nw:node/tet:te/
   tet:tunnel-termination-point/tet:state/tet:local-link-connectivity:
      +--ro performance-metric {te-performance-metric}?
      |  +--ro measurement
      |  |  +--ro unidirectional-delay?                 uint32
      |  |  +--ro unidirectional-min-delay?             uint32
      |  |  +--ro unidirectional-max-delay?             uint32
      |  |  +--ro unidirectional-delay-variation?       uint32
      |  |  +--ro unidirectional-packet-loss?           decimal64
      |  |  +--ro unidirectional-residual-bandwidth?    decimal64
      |  |  +--ro unidirectional-available-bandwidth?   decimal64
      |  |  +--ro unidirectional-utilized-bandwidth?    decimal64
      |  +--ro normality
      |     +--ro unidirectional-delay?



Liu, et al.                Expires May 2, 2017                  [Page 9]

Internet-Draft             YANG L3 TE Topology              October 2016


   te-types:performance-metric-normality
      |     +--ro unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--ro unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--ro unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--ro performance-metric-throttle {te-performance-metric}?
         +--ro unidirectional-delay-offset?           uint32
         +--ro measure-interval?                      uint32
         +--ro advertisement-interval?                uint32
         +--ro suppression-interval?                  uint32
         +--ro threshold-out
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-in
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-accelerated-advertisement
            +--ro unidirectional-delay?                 uint32
            +--ro unidirectional-min-delay?             uint32
            +--ro unidirectional-max-delay?             uint32
            +--ro unidirectional-delay-variation?       uint32
            +--ro unidirectional-packet-loss?           decimal64
            +--ro unidirectional-residual-bandwidth?    decimal64
            +--ro unidirectional-available-bandwidth?   decimal64
            +--ro unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/tet:te/tet:templates/tet:link-template/



Liu, et al.                Expires May 2, 2017                 [Page 10]

Internet-Draft             YANG L3 TE Topology              October 2016


   tet:te-link-attributes:
      +--rw performance-metric {te-performance-metric}?
      |  +--rw measurement
      |  |  +--rw unidirectional-delay?                 uint32
      |  |  +--rw unidirectional-min-delay?             uint32
      |  |  +--rw unidirectional-max-delay?             uint32
      |  |  +--rw unidirectional-delay-variation?       uint32
      |  |  +--rw unidirectional-packet-loss?           decimal64
      |  |  +--rw unidirectional-residual-bandwidth?    decimal64
      |  |  +--rw unidirectional-available-bandwidth?   decimal64
      |  |  +--rw unidirectional-utilized-bandwidth?    decimal64
      |  +--rw normality
      |     +--rw unidirectional-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--rw unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--rw unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--rw unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--rw unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--rw performance-metric-throttle {te-performance-metric}?
         +--rw unidirectional-delay-offset?           uint32
         +--rw measure-interval?                      uint32
         +--rw advertisement-interval?                uint32
         +--rw suppression-interval?                  uint32
         +--rw threshold-out
         |  +--rw unidirectional-delay?                 uint32
         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64
         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-in
         |  +--rw unidirectional-delay?                 uint32
         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64



Liu, et al.                Expires May 2, 2017                 [Page 11]

Internet-Draft             YANG L3 TE Topology              October 2016


         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-accelerated-advertisement
            +--rw unidirectional-delay?                 uint32
            +--rw unidirectional-min-delay?             uint32
            +--rw unidirectional-max-delay?             uint32
            +--rw unidirectional-delay-variation?       uint32
            +--rw unidirectional-packet-loss?           decimal64
            +--rw unidirectional-residual-bandwidth?    decimal64
            +--rw unidirectional-available-bandwidth?   decimal64
            +--rw unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/nw:network/nt:link/tet:te/tet:config/
   tet:te-link-attributes:
      +--rw performance-metric {te-performance-metric}?
      |  +--rw measurement
      |  |  +--rw unidirectional-delay?                 uint32
      |  |  +--rw unidirectional-min-delay?             uint32
      |  |  +--rw unidirectional-max-delay?             uint32
      |  |  +--rw unidirectional-delay-variation?       uint32
      |  |  +--rw unidirectional-packet-loss?           decimal64
      |  |  +--rw unidirectional-residual-bandwidth?    decimal64
      |  |  +--rw unidirectional-available-bandwidth?   decimal64
      |  |  +--rw unidirectional-utilized-bandwidth?    decimal64
      |  +--rw normality
      |     +--rw unidirectional-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--rw unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--rw unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--rw unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--rw unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--rw unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--rw performance-metric-throttle {te-performance-metric}?
         +--rw unidirectional-delay-offset?           uint32
         +--rw measure-interval?                      uint32
         +--rw advertisement-interval?                uint32
         +--rw suppression-interval?                  uint32
         +--rw threshold-out
         |  +--rw unidirectional-delay?                 uint32



Liu, et al.                Expires May 2, 2017                 [Page 12]

Internet-Draft             YANG L3 TE Topology              October 2016


         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64
         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-in
         |  +--rw unidirectional-delay?                 uint32
         |  +--rw unidirectional-min-delay?             uint32
         |  +--rw unidirectional-max-delay?             uint32
         |  +--rw unidirectional-delay-variation?       uint32
         |  +--rw unidirectional-packet-loss?           decimal64
         |  +--rw unidirectional-residual-bandwidth?    decimal64
         |  +--rw unidirectional-available-bandwidth?   decimal64
         |  +--rw unidirectional-utilized-bandwidth?    decimal64
         +--rw threshold-accelerated-advertisement
            +--rw unidirectional-delay?                 uint32
            +--rw unidirectional-min-delay?             uint32
            +--rw unidirectional-max-delay?             uint32
            +--rw unidirectional-delay-variation?       uint32
            +--rw unidirectional-packet-loss?           decimal64
            +--rw unidirectional-residual-bandwidth?    decimal64
            +--rw unidirectional-available-bandwidth?   decimal64
            +--rw unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/nw:network/nt:link/tet:te/tet:state/
   tet:te-link-attributes:
      +--ro performance-metric {te-performance-metric}?
      |  +--ro measurement
      |  |  +--ro unidirectional-delay?                 uint32
      |  |  +--ro unidirectional-min-delay?             uint32
      |  |  +--ro unidirectional-max-delay?             uint32
      |  |  +--ro unidirectional-delay-variation?       uint32
      |  |  +--ro unidirectional-packet-loss?           decimal64
      |  |  +--ro unidirectional-residual-bandwidth?    decimal64
      |  |  +--ro unidirectional-available-bandwidth?   decimal64
      |  |  +--ro unidirectional-utilized-bandwidth?    decimal64
      |  +--ro normality
      |     +--ro unidirectional-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--ro unidirectional-packet-loss?
   te-types:performance-metric-normality



Liu, et al.                Expires May 2, 2017                 [Page 13]

Internet-Draft             YANG L3 TE Topology              October 2016


      |     +--ro unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--ro performance-metric-throttle {te-performance-metric}?
         +--ro unidirectional-delay-offset?           uint32
         +--ro measure-interval?                      uint32
         +--ro advertisement-interval?                uint32
         +--ro suppression-interval?                  uint32
         +--ro threshold-out
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-in
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-accelerated-advertisement
            +--ro unidirectional-delay?                 uint32
            +--ro unidirectional-min-delay?             uint32
            +--ro unidirectional-max-delay?             uint32
            +--ro unidirectional-delay-variation?       uint32
            +--ro unidirectional-packet-loss?           decimal64
            +--ro unidirectional-residual-bandwidth?    decimal64
            +--ro unidirectional-available-bandwidth?   decimal64
            +--ro unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/nw:network/nt:link/tet:te/tet:state/
   tet:information-source-entry:
      +--ro performance-metric {te-performance-metric}?
      |  +--ro measurement
      |  |  +--ro unidirectional-delay?                 uint32
      |  |  +--ro unidirectional-min-delay?             uint32
      |  |  +--ro unidirectional-max-delay?             uint32
      |  |  +--ro unidirectional-delay-variation?       uint32
      |  |  +--ro unidirectional-packet-loss?           decimal64
      |  |  +--ro unidirectional-residual-bandwidth?    decimal64



Liu, et al.                Expires May 2, 2017                 [Page 14]

Internet-Draft             YANG L3 TE Topology              October 2016


      |  |  +--ro unidirectional-available-bandwidth?   decimal64
      |  |  +--ro unidirectional-utilized-bandwidth?    decimal64
      |  +--ro normality
      |     +--ro unidirectional-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-min-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-max-delay?
   te-types:performance-metric-normality
      |     +--ro unidirectional-delay-variation?
   te-types:performance-metric-normality
      |     +--ro unidirectional-packet-loss?
   te-types:performance-metric-normality
      |     +--ro unidirectional-residual-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-available-bandwidth?
   te-types:performance-metric-normality
      |     +--ro unidirectional-utilized-bandwidth?
   te-types:performance-metric-normality
      +--ro performance-metric-throttle {te-performance-metric}?
         +--ro unidirectional-delay-offset?           uint32
         +--ro measure-interval?                      uint32
         +--ro advertisement-interval?                uint32
         +--ro suppression-interval?                  uint32
         +--ro threshold-out
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-in
         |  +--ro unidirectional-delay?                 uint32
         |  +--ro unidirectional-min-delay?             uint32
         |  +--ro unidirectional-max-delay?             uint32
         |  +--ro unidirectional-delay-variation?       uint32
         |  +--ro unidirectional-packet-loss?           decimal64
         |  +--ro unidirectional-residual-bandwidth?    decimal64
         |  +--ro unidirectional-available-bandwidth?   decimal64
         |  +--ro unidirectional-utilized-bandwidth?    decimal64
         +--ro threshold-accelerated-advertisement
            +--ro unidirectional-delay?                 uint32
            +--ro unidirectional-min-delay?             uint32
            +--ro unidirectional-max-delay?             uint32
            +--ro unidirectional-delay-variation?       uint32
            +--ro unidirectional-packet-loss?           decimal64



Liu, et al.                Expires May 2, 2017                 [Page 15]

Internet-Draft             YANG L3 TE Topology              October 2016


            +--ro unidirectional-residual-bandwidth?    decimal64
            +--ro unidirectional-available-bandwidth?   decimal64
            +--ro unidirectional-utilized-bandwidth?    decimal64
   augment /nw:networks/tet:te/tet:templates/tet:link-template/
   tet:te-link-attributes/tet:interface-switching-capability:
      +--rw packet-switch-capable
         +--rw minimum-lsp-bandwidth?   decimal64
         +--rw interface-mtu?           uint16
   augment /nw:networks/nw:network/nt:link/tet:te/tet:config/
   tet:te-link-attributes/tet:interface-switching-capability:
      +--rw packet-switch-capable
         +--rw minimum-lsp-bandwidth?   decimal64
         +--rw interface-mtu?           uint16
   augment /nw:networks/nw:network/nt:link/tet:te/tet:state/
   tet:te-link-attributes/tet:interface-switching-capability:
      +--ro packet-switch-capable
         +--ro minimum-lsp-bandwidth?   decimal64
         +--ro interface-mtu?           uint16
   augment /nw:networks/nw:network/nt:link/tet:te/tet:state/
   tet:information-source-entry/tet:interface-switching-capability:
      +--ro packet-switch-capable
         +--ro minimum-lsp-bandwidth?   decimal64
         +--ro interface-mtu?           uint16



4.  YANG Modules

4.1.  Layer 3 TE Topology Module


   <CODE BEGINS> file "ietf-l3-te-topology@2016-10-28.yang"
   module ietf-l3-te-topology {
     yang-version 1.1;
     namespace "urn:ietf:params:xml:ns:yang:ietf-l3-te-topology";
     prefix "l3tet";

     import ietf-network {
       prefix "nw";
     }
     import ietf-network-topology {
       prefix "nt";
     }
     import ietf-l3-unicast-topology {
       prefix "l3t";
     }
     import ietf-te-topology {
       prefix "tet";



Liu, et al.                Expires May 2, 2017                 [Page 16]

Internet-Draft             YANG L3 TE Topology              October 2016


     }

     organization "TBD";
     contact "TBD";
     description "L3 TE Topology model";

     revision 2016-10-28 {

       description "Initial revision";
       reference "TBD";
     }

     grouping l3-te-topology-type {
       description
         "Identifies the L3 TE topology type.";
       container l3-te {
         presence "indiates L3 TE Topology";
         description
           "Its presence identifies the L3 TE topology type.";
       }
     }

     augment "/nw:networks/nw:network/nw:network-types/"
       + "l3t:l3-unicast-topology" {
       description
         "Defines the L3 TE topology type.";
       uses l3-te-topology-type;
     }

     augment "/nw:networks/nw:network/l3t:l3-topology-attributes" {
       when "../nw:network-types/l3t:l3-unicast-topology/l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment topology configuration";
       uses l3-te-topology-attributes;
     }

     augment "/nw:networks/nw:network/nw:node/l3t:l3-node-attributes" {
       when "../../nw:network-types/l3t:l3-unicast-topology/l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment node configuration";
       uses l3-te-node-attributes;
     }

     augment "/nw:networks/nw:network/nw:node/nt:termination-point/"
       + "l3t:l3-termination-point-attributes" {
       when "../../../nw:network-types/l3t:l3-unicast-topology/"



Liu, et al.                Expires May 2, 2017                 [Page 17]

Internet-Draft             YANG L3 TE Topology              October 2016


         + "l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment termination point configuration";
       uses l3-te-tp-attributes;
     }

     augment "/nw:networks/nw:network/nt:link/l3t:l3-link-attributes" {
       when "../../nw:network-types/l3t:l3-unicast-topology/l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment link configuration";
       uses l3-te-link-attributes;
     }

     grouping l3-te-topology-attributes {
       description "L3 TE topology scope attributes";
       container l3-te-topology-attributes {
         must "/nw:networks/nw:network"
           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE topology references";
         uses nw:network-ref;
       } // l3-te-topology-attributes
     } // l3-te-topology-attributes

     grouping l3-te-node-attributes {
       description "L3 TE node scope attributes";
       container l3-te-node-attributes {
         must "/nw:networks/nw:network"
           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE node references";
         uses nw:node-ref;
       } // l3-te
     } // l3-te-node-attributes

     grouping l3-te-tp-attributes {



Liu, et al.                Expires May 2, 2017                 [Page 18]

Internet-Draft             YANG L3 TE Topology              October 2016


       description "L3 TE termination point scope attributes";
       container l3-te-tp-attributes {
         must "/nw:networks/nw:network"
           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE termination point references";
         uses nt:tp-ref;
       } // l3-te
     } // l3-te-tp-attributes

     grouping l3-te-link-attributes {
       description "L3 TE link scope attributes";
       container l3-te-link-attributes {
         must "/nw:networks/nw:network"
           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE link references";
         uses nt:link-ref;
       }
     } // l3-te-link-attributes
   }
   <CODE ENDS>



4.2.  Packet Switching TE Topology Module


   <CODE BEGINS> file "ietf-te-topology-packet@2016-10-28.yang"
   module ietf-te-topology-packet {
     yang-version 1;
     namespace "urn:ietf:params:xml:ns:yang:ietf-te-topology-packet";

     prefix "tet-pkt";

     import ietf-network {
       prefix "nw";
     }



Liu, et al.                Expires May 2, 2017                 [Page 19]

Internet-Draft             YANG L3 TE Topology              October 2016


     import ietf-network-topology {
       prefix "nt";
     }

     import ietf-te-topology {
       prefix "tet";
     }

     import ietf-te-types {
       prefix "te-types";
     }

     organization
       "Traffic Engineering Architecture and Signaling (TEAS)
        Working Group";

     contact
       "WG Web:   <http://tools.ietf.org/wg/teas/>
        WG List:  <mailto:teas@ietf.org>

        WG Chair: Lou Berger
                  <mailto:lberger@labn.net>

        WG Chair: Vishnu Pavan Beeram
                  <mailto:vbeeram@juniper.net>

        Editors:  Xufeng Liu
                  <mailto:xliu@kuatrotech.com>

                  Igor Bryskin
                  <mailto:Igor.Bryskin@huawei.com>

                  Vishnu Pavan Beeram
                  <mailto:vbeeram@juniper.net>

                  Tarek Saad
                  <mailto:tsaad@cisco.com>

                  Himanshu Shah
                  <mailto:hshah@ciena.com>

                  Oscar Gonzalez De Dios
                  <mailto:oscar.gonzalezdedios@telefonica.com>";

     description "TE topology model";

     revision 2016-10-28 {
       description "Initial revision";



Liu, et al.                Expires May 2, 2017                 [Page 20]

Internet-Draft             YANG L3 TE Topology              October 2016


       reference "TBD";
     }

     /*
      * Features
      */

     feature te-performance-metric {
       description
         "This feature indicates that the system supports
          TE performance metric.";
       reference
         "RFC7471: OSPF Traffic Engineering (TE) Metric Extensions.
          RFC7810: IS-IS Traffic Engineering (TE) Metric Extensions.
          RFC7823: Performance-Based Path Selection for Explicitly
          Routed Label Switched Paths (LSPs) Using TE Metric
          Extensions";
     }

     /*
      * Groupings
      */
     grouping packet-switch-capable-container {
       description
         "The container of packet switch capable attributes.";
       container packet-switch-capable {
         description
           "Interface has packet-switching capabilities.";
         leaf minimum-lsp-bandwidth {
           type decimal64 {
             fraction-digits 2;
           }
           description
             "Minimum LSP Bandwidth. Units in bytes per second";
         }
         leaf interface-mtu {
           type uint16;
           description
             "Interface MTU.";
         }
       }
     }

     grouping performance-metric-attributes {
       description
         "Link performance information in real time.";
       reference
         "RFC7471: OSPF Traffic Engineering (TE) Metric Extensions.



Liu, et al.                Expires May 2, 2017                 [Page 21]

Internet-Draft             YANG L3 TE Topology              October 2016


          RFC7810: IS-IS Traffic Engineering (TE) Metric Extensions.
          RFC7823: Performance-Based Path Selection for Explicitly
          Routed Label Switched Paths (LSPs) Using TE Metric
          Extensions";
       leaf unidirectional-delay {
         type uint32 {
           range 0..16777215;
         }
         description "Delay or latency in micro seconds.";
       }
       leaf unidirectional-min-delay {
         type uint32 {
           range 0..16777215;
         }
         description "Minimum delay or latency in micro seconds.";
       }
       leaf unidirectional-max-delay {
         type uint32 {
           range 0..16777215;
         }
         description "Maximum delay or latency in micro seconds.";
       }
       leaf unidirectional-delay-variation {
         type uint32 {
           range 0..16777215;
         }
         description "Delay variation in micro seconds.";
       }
       leaf unidirectional-packet-loss {
         type decimal64 {
           fraction-digits 6;
           range "0 .. 50.331642";
         }
         description
           "Packet loss as a percentage of the total traffic sent
            over a configurable interval. The finest precision is
            0.000003%.";
       }
       leaf unidirectional-residual-bandwidth {
         type decimal64 {
           fraction-digits 2;
         }
         description
           "Residual bandwidth that subtracts tunnel
            reservations from Maximum Bandwidth (or link capacity)
            [RFC3630] and provides an aggregated remainder across QoS
            classes.";
       }



Liu, et al.                Expires May 2, 2017                 [Page 22]

Internet-Draft             YANG L3 TE Topology              October 2016


       leaf unidirectional-available-bandwidth {
         type decimal64 {
           fraction-digits 2;
         }
         description
           "Available bandwidth that is defined to be residual
            bandwidth minus the measured bandwidth used for the
            actual forwarding of non-RSVP-TE LSP packets.  For a
            bundled link, available bandwidth is defined to be the
            sum of the component link available bandwidths.";
       }
       leaf unidirectional-utilized-bandwidth {
         type decimal64 {
           fraction-digits 2;
         }
         description
           "Bandwidth utilization that represents the actual
            utilization of the link (i.e. as measured in the router).
            For a bundled link, bandwidth utilization is defined to
            be the sum of the component link bandwidth
            utilizations.";
       }
     } // performance-metric-attributes

     grouping performance-metric-container {
       description
         "A container containing performance metric attributes.";
       container performance-metric {
         if-feature te-performance-metric;
         description
           "Link performance information in real time.";
         reference
           "RFC7471: OSPF Traffic Engineering (TE) Metric Extensions.
            RFC7810: IS-IS Traffic Engineering (TE) Metric Extensions.
            RFC7823: Performance-Based Path Selection for Explicitly
            Routed Label Switched Paths (LSPs) Using TE Metric
            Extensions";
         container measurement {
           description
             "Measured performance metric values. Static configuration
              and manual overrides of these measurements are also
              allowed.";
           uses performance-metric-attributes;
         }
         container normality
         {
           description
             "Performance metric normality values.";



Liu, et al.                Expires May 2, 2017                 [Page 23]

Internet-Draft             YANG L3 TE Topology              October 2016


           uses performance-metric-normality-attributes;
         }
       }
     } // performance-metric-container

     grouping performance-metric-normality-attributes {
       description
         "Link performance metric normality attributes.";
       reference
         "RFC7471: OSPF Traffic Engineering (TE) Metric Extensions.
          RFC7810: IS-IS Traffic Engineering (TE) Metric Extensions.
          RFC7823: Performance-Based Path Selection for Explicitly
          Routed Label Switched Paths (LSPs) Using TE Metric
          Extensions";
       leaf unidirectional-delay {
         type te-types:performance-metric-normality;
         description "Delay normality.";
       }
       leaf unidirectional-min-delay {
         type te-types:performance-metric-normality;
         description "Minimum delay or latency normality.";
       }
       leaf unidirectional-max-delay {
         type te-types:performance-metric-normality;
         description "Maximum delay or latency normality.";
       }
       leaf unidirectional-delay-variation {
         type te-types:performance-metric-normality;
         description "Delay variation normality.";
       }
       leaf unidirectional-packet-loss {
         type te-types:performance-metric-normality;
         description "Packet loss normality.";
       }
       leaf unidirectional-residual-bandwidth {
         type te-types:performance-metric-normality;
         description "Residual bandwidth normality.";
       }
       leaf unidirectional-available-bandwidth {
         type te-types:performance-metric-normality;
         description "Available bandwidth normality.";
       }
       leaf unidirectional-utilized-bandwidth {
         type te-types:performance-metric-normality;
         description "Bandwidth utilization normality.";
       }
     } // performance-metric-normality-attributes




Liu, et al.                Expires May 2, 2017                 [Page 24]

Internet-Draft             YANG L3 TE Topology              October 2016


     grouping performance-metric-throttle-container {
       description
         "A container controlling performance metric throttle.";
       container performance-metric-throttle {
         if-feature te-performance-metric;
         must "suppression-interval >= measure-interval" {
           error-message
             "suppression-interval cannot be less then
              measure-interval.";
           description
             "Constraint on suppression-interval and
              measure-interval.";
         }
         description
           "Link performance information in real time.";
         reference
           "RFC7471: OSPF Traffic Engineering (TE) Metric Extensions.
            RFC7810: IS-IS Traffic Engineering (TE) Metric Extensions.
            RFC7823: Performance-Based Path Selection for Explicitly
            Routed Label Switched Paths (LSPs) Using TE Metric
            Extensions";
         leaf unidirectional-delay-offset {
           type uint32 {
             range 0..16777215;
           }
           description
             "Offset value to be added to the measured delay value.";
         }
         leaf measure-interval {
           type uint32;
           default 30;
           description
             "Interval in seconds to measure the extended metric
              values.";
         }
         leaf advertisement-interval {
           type uint32;
           description
             "Interval in seconds to advertise the extended metric
              values.";
         }
         leaf suppression-interval {
           type uint32 {
             range "1 .. max";
           }
           default 120;
           description
             "Interval in seconds to suppress advertising the extended



Liu, et al.                Expires May 2, 2017                 [Page 25]

Internet-Draft             YANG L3 TE Topology              October 2016


              metric values.";
         }
         container threshold-out {
           uses performance-metric-attributes;
           description
             "If the measured parameter falls outside an upper bound
              for all but the min delay metric (or lower bound for
              min-delay metric only) and the advertised value is not
              already outside that bound, anomalous announcement will be
              triggered.";
         }
         container threshold-in {
           uses performance-metric-attributes;
           description
             "If the measured parameter falls inside an upper bound
              for all but the min delay metric (or lower bound for
              min-delay metric only) and the advertised value is not
              already inside that bound, normal (anomalous-flag cleared)
              announcement will be triggered.";
         }
         container threshold-accelerated-advertisement {
           description
             "When the difference between the last advertised value and
              current measured value exceed this threshold, anomalous
              announcement will be triggered.";
           uses performance-metric-attributes;
         }
       }
     } // performance-metric-throttle-container

     /*
      * Augmentations
      */
     /* Augmentations to connectivity-matrix */
     augment "/nw:networks/nw:network/nw:node/tet:te/tet:config/"
           + "tet:te-node-attributes/tet:connectivity-matrix" {
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     augment "/nw:networks/nw:network/nw:node/tet:te/tet:state/"
           + "tet:te-node-attributes/tet:connectivity-matrix" {
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;



Liu, et al.                Expires May 2, 2017                 [Page 26]

Internet-Draft             YANG L3 TE Topology              October 2016


     }

     augment "/nw:networks/nw:network/nw:node/tet:te/tet:state/"
           + "tet:information-source-entry/tet:connectivity-matrix" {
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     /* Augmentations to tunnel-termination-point */
     augment "/nw:networks/nw:network/nw:node/tet:te/"
           + "tet:tunnel-termination-point/tet:config/"
           + "tet:local-link-connectivity" {
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     augment "/nw:networks/nw:network/nw:node/tet:te/"
           + "tet:tunnel-termination-point/tet:state/"
           + "tet:local-link-connectivity" {
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     /* Augmentations to te-link-attributes */
     augment "/nw:networks/tet:te/tet:templates/"
           + "tet:link-template/tet:te-link-attributes" {
       when "tet:interface-switching-capability "
         + "[tet:switching-capability = 'switching-psc1']" {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:config/"
           + "tet:te-link-attributes" {
       when "tet:interface-switching-capability "
         + "[tet:switching-capability = 'switching-psc1']" {
         description "Valid only for PSC";
       }



Liu, et al.                Expires May 2, 2017                 [Page 27]

Internet-Draft             YANG L3 TE Topology              October 2016


       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:state/"
           + "tet:te-link-attributes" {
       when "tet:interface-switching-capability "
         + "[tet:switching-capability = 'switching-psc1']" {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:state/"
           + "tet:information-source-entry" {
       when "tet:interface-switching-capability "
         + "[tet:switching-capability = 'switching-psc1']" {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses performance-metric-container;
       uses performance-metric-throttle-container;
     }

     /* Augmentations to interface-switching-capability */
     augment "/nw:networks/tet:te/tet:templates/"
           + "tet:link-template/tet:te-link-attributes/"
           + "tet:interface-switching-capability" {
       when "tet:switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:config/"
           + "tet:te-link-attributes/"
           + "tet:interface-switching-capability" {
       when "tet:switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }



Liu, et al.                Expires May 2, 2017                 [Page 28]

Internet-Draft             YANG L3 TE Topology              October 2016


       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:state/"
           + "tet:te-link-attributes/"
           + "tet:interface-switching-capability" {
       when "tet:switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:state/"
           + "tet:information-source-entry/"
           + "tet:interface-switching-capability" {
       when "tet:switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }
   }
   <CODE ENDS>



5.  IANA Considerations

   RFC Ed.: In this section, replace all occurrences of 'XXXX' with the
   actual RFC number (and remove this note).

   This document registers the following namespace URIs in the IETF XML
   registry [RFC3688]:

    --------------------------------------------------------------------
    URI: urn:ietf:params:xml:ns:yang:ietf-l3-te-topology
    Registrant Contact: The IESG.
    XML: N/A, the requested URI is an XML namespace.
    --------------------------------------------------------------------







Liu, et al.                Expires May 2, 2017                 [Page 29]

Internet-Draft             YANG L3 TE Topology              October 2016


    --------------------------------------------------------------------
    URI: urn:ietf:params:xml:ns:yang:ietf-te-topology-packet
    Registrant Contact: The IESG.
    XML: N/A, the requested URI is an XML namespace.
    --------------------------------------------------------------------

   This document registers the following YANG modules in the YANG Module
   Names registry [RFC6020]:

    --------------------------------------------------------------------
    name:         ietf-l3-te-topology
    namespace:    urn:ietf:params:xml:ns:yang:ietf-l3-te-topology
    prefix:       l3te
    reference:    RFC XXXX
    --------------------------------------------------------------------

    --------------------------------------------------------------------
    name:         ietf-te-topology-packet
    namespace:    urn:ietf:params:xml:ns:yang:ietf-te-topology-packet
    prefix:       tet-pkt
    reference:    RFC XXXX
    --------------------------------------------------------------------

6.  Security Considerations

   The configuration, state, action and notification data defined in
   this document are designed to be accessed via the NETCONF protocol
   [RFC6241].  The data-model by itself does not create any security
   implications.  The security considerations for the NETCONF protocol
   are applicable.  The NETCONF protocol used for sending the data
   supports authentication and encryption.

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC6021]  Schoenwaelder, J., Ed., "Common YANG Data Types",
              RFC 6021, DOI 10.17487/RFC6021, October 2010,
              <http://www.rfc-editor.org/info/rfc6021>.

   [RFC7950]  Bjorklund, M., Ed., "The YANG 1.1 Data Modeling Language",
              RFC 7950, DOI 10.17487/RFC7950, August 2016,
              <http://www.rfc-editor.org/info/rfc7950>.



Liu, et al.                Expires May 2, 2017                 [Page 30]

Internet-Draft             YANG L3 TE Topology              October 2016


7.2.  Informative References

   [I-D.ietf-i2rs-yang-l3-topology]
              Clemm, A., Medved, J., Varga, R., Tkacik, T., Liu, X.,
              Bryskin, I., Guo, A., Ananthakrishnan, H., Bahadur, N.,
              and V. Beeram, "A YANG Data Model for Layer 3 Topologies",
              draft-ietf-i2rs-yang-l3-topology-04 (work in progress),
              September 2016.

   [I-D.ietf-teas-yang-te-topo]
              Liu, X., Bryskin, I., Beeram, V., Saad, T., Shah, H., and
              O. Dios, "YANG Data Model for TE Topologies", draft-ietf-
              teas-yang-te-topo-06 (work in progress), October 2016.

Authors' Addresses

   Xufeng Liu
   Kuatro Technologies
   8281 Greensboro Drive, Suite 200
   McLean  VA 22102
   USA

   EMail: xliu@kuatrotech.com


   Igor Bryskin
   Huawei Technologies

   EMail: Igor.Bryskin@huawei.com


   Vishnu Pavan Beeram
   Juniper Networks

   EMail: vbeeram@juniper.net


   Tarek Saad
   Cisco Systems Inc

   EMail: tsaad@cisco.com


   Himanshu Shah
   Ciena

   EMail: hshah@ciena.com




Liu, et al.                Expires May 2, 2017                 [Page 31]

Internet-Draft             YANG L3 TE Topology              October 2016


   Oscar Gonzalez de Dios
   Telefonica

   EMail: oscar.gonzalezdedios@telefonica.com















































Liu, et al.                Expires May 2, 2017                 [Page 32]
