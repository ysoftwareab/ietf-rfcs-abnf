



LEMONADE Working Group                                           S. Maes
Internet-Draft                                                    Oracle
Expires: July 23, 2006                 Editors to be updated as document
                                                   becomes IETF WG draft
                                                        January 19, 2006


          Proposed initial version of LEMONADE profile phase 2
           draft-maes-proposed-lemonade-profile-phase2-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on July 23, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   This document proposes an initial draft for LEMONADE profile phase 2.
   It is based on a combination of the content of LEMONADE profile [4]
   and the OMA MEM realization internet draft [21] initially considered
   for internet draft publication as information or standard track by
   LEMONADE.

   This also provides an initial proposal on how to divide the



Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 1]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


   specification work between OMA MEM and LEMONADE for a LEMONADE
   realization of the OMA MEM enabler.

Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [1].


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  LEMONADE Profile . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  OMA MEM Requirement document . . . . . . . . . . . . . . . . .  5
   4.  OMA MEM Architecture . . . . . . . . . . . . . . . . . . . . .  6
   5.  OMA MEM Deployment Issues  . . . . . . . . . . . . . . . . . .  7
   6.  OMA MEM proxy  . . . . . . . . . . . . . . . . . . . . . . . .  8
   7.  IETF LEMONADE Architecture . . . . . . . . . . . . . . . . . .  9
   8.  LEMONADE Profile Phase 2 logical architecture  . . . . . . . . 11
     8.1.  Relationship between the OMA MEM and LEMONADE logical
           architectures  . . . . . . . . . . . . . . . . . . . . . . 11
     8.2.  LEMONADE realization of OMA MEM with non-LEMONADE
           compliant servers  . . . . . . . . . . . . . . . . . . . . 12
       8.2.1.  LEMONADE realization of OMA MEM with non-LEMONADE
               enhanced IMAP servers  . . . . . . . . . . . . . . . . 12
       8.2.2.  LEMONADE realization of OMA MEM with non-IMAP
               servers  . . . . . . . . . . . . . . . . . . . . . . . 13
   9.  Filters and server to client notifications and LEMONADE  . . . 15
   10. Analysis of Lemonade Technology Support of OMA MEM enabler . . 17
   11. Security considerations  . . . . . . . . . . . . . . . . . . . 25
   12. IANA considerations  . . . . . . . . . . . . . . . . . . . . . 26
   13. Future work  . . . . . . . . . . . . . . . . . . . . . . . . . 27
   14. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 28
   15. References . . . . . . . . . . . . . . . . . . . . . . . . . . 28
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 30
   Intellectual Property and Copyright Statements . . . . . . . . . . 31














Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 2]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


1.  Introduction

   This document describes an initial proposal for the LEMONADE profile
   phase 2.  It is based on LEMONADE profile [4] with extensions to
   provide in the view of LEMONADE the support to a realization of OMA
   mobile email enabler (MEM) using Internet Mail protocols defined by
   the IETF.  Many of these protocols have been enhanced by the LEMONADE
   work group for use in the mobile environment and are summarized in
   the LEMONADE profile [4].  This document also shows how the
   requirements captured in OMA MEM Requirement document [3] and
   mechanisms of the OMA MEM Architecture [2] can be satisfied from a
   Lemonade point of view.

   This document contains the current view of the work.  It refers to
   stable specifications and work in progress.  As the work progress, it
   is expected that this document will evolve and be updated
   accordingly.

   <Editor's note: As a result some of the statements about some
   specification may not yet supported by the references.  When it is
   the case, these specifications are expected to be be updated.>

   <Editor's note: Caveats to be removed and / or updated when work
   stabilizes.>

   Also, it is to be noted that this document solely describes
   normatively the LEMONADE profile phase 2.  It discusses LEMONADE
   understanding of the work in progress at OMA MEM ([3] and [2] but
   does not provide a normative reading of these documents.  Readers
   MUST refer to the open mobiel alliance web site for normative
   references on the Mobile Email Enabler (OMA MEM).  LEMONADE assumes
   that the LEMONADE profile phase 2 can be used as basis for an OMA
   technical specification of a realization based on LEMONADE of the OMA
   MEM enabler.

















Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 3]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


2.  LEMONADE Profile

   LEMONADE profile phase 2 incorporates normatively the LEMONADE
   profile [4].

   <Editor's note: The LEMONADE profile is currently included by
   reference.  As it stabilizes as RFC, the text will be explicitly
   included and changes to the text will be explicitly made inline.>











































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 4]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


3.  OMA MEM Requirement document

   The OMA MEM activity has collected a set of use cases and derived
   requirements for a mobile email enabler (MEM). the resulting work is
   summarized in OMA MEM Requirement document [3].  Some requirements
   relates to email protocols, some involve other OMA technologies
   outside the scope of IETF and some relate to implementations and
   normative interoperability statements for clients and servers.











































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 5]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


4.  OMA MEM Architecture

   The OMA MEM activity has derived a logical architecture from the
   requirements and use cases described in [3].  The logical
   architecture, its elements and interfaces and the notations that it
   uses can be found in [2].













































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 6]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


5.  OMA MEM Deployment Issues

   The OMA MEM Architecture document [2] further identifies deployment
   models.

   Certain of these deployment models are not what IETF has
   conventionally modeled.  They require special attention to end-to-end
   security aspects and may warrant introduction of additional security
   measures (e.g. object level encryption).










































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 7]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


6.  OMA MEM proxy

   The OMA MEM Architecture document [2] identifies OMA MEM server
   proxies as server components that may be deployed ahead of firewalls
   to facilitate traversal of firewalls.

   Both IMAP and SMTP generally are compatible with proxies between the
   client and the server.  Such proxies may disrupt end-to-end
   encryption, with the transport-level encryption ending at the proxy
   and re-generating from the proxy to the server.  Again this may
   require additional security measures like object level encryption.








































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 8]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


7.  IETF LEMONADE Architecture

   This section gives a brief introduction to the LEMONADE Architecture.

   The IETF LEMONADE activity has derived a LEMONADE profile [4] with
   the logical architecture represented in Figure 1, where arrows
   indicate content flows.

                            ______________
                           |              |
                  _________| Notification |
                 |         | Mechanism    |
                 |         |______________|
                 |Notif.              ^
                 |Protocol            |
                 |                 ___|______
                 |                |          |                 _____
               __v__    IMAP      | LEMONADE |      ESMTP     |     |
              |     |<----------->| IMAP     |<---------------| MTA |
              | MUA |-            | Store    |                |_____|
              |_____| \           |__________|
                       \               |
                        \              |URLAUTH
                         \SUBMIT       |
                          \        ____v_____
                           \      |          |                 _____
                            \     | LEMONADE |      ESMTP     |     |
                             ---->| Submit   |--------------->| MTA |
                                  | Server   |                |_____|
                                  |__________|

   Figure 1: LEMONADE logical architecture

   The LEMONADE profile phase 2 assumes:

   o  IMAP protocol [5] including LEMONADE profile extensions [4]

   o  SUBMIT protocol (SMTP [7], ...) including LEMONADE profile
      extensions

   o  LEMONADE profile compliant IMAP store. connected to MTA (Mail
      Transfer Agent) via ESMTP [6]

   o  LEMONADE profile compliant Submit server. connected to MTA via
      ESMTP

   o  Lemonade profile message store / submit server protocols (URLAUTH)
      (see [4]).



Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 9]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


   o  Outband server to client notifications relying on external
      notification mechanisms (and notification protocols) that may be
      out of scope of the LEMONADE profile phase 2.

   o  A LEMONADE aware MUA (Mail User Agent).  While use of outband
      notification is described in the LEMONADE profile phase 2, support
      for the underlying notifications mechanisms/protocols is out of
      scope of the LEMONADE specifications.

   Further details on the IETF email protcol stack and architecture can
   be found in [8]

   Note that in Figure 1 the IMAP server and Submit server are
   represented connected to MTAs (Mail Transfer Agents) via ESMTP [6].
   This is not really essential.  It could as well be X.400 so long as
   the message is in the store in an onternet form.

   OMA MEM identifies other functionalities.  These are considered as
   out of scope of the LEMONADE work and will need to be specified by
   OMA MEM.































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 10]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


8.  LEMONADE Profile Phase 2 logical architecture

   This section details the LEMONADE profile phase 2 logical
   architecture.  Thsi architecture is also expected to support the OMA
   MEM logical Architecture.

8.1.  Relationship between the OMA MEM and LEMONADE logical
      architectures

   Figure 2 illustrates the mapping of the IETF LEMONADE logical
   architecture on the OMA MEM logical architecture.


                          _____________________
                         | Other_Mob. Enablers |
                         | |--------------|    |
                  _________| Notification |    |
                 |       | | Mechanism    |    |
                 |       | |______________|    |
                 |Notif. |____________^________|
                 |Protocol      ______|__________
            ME-4 |             |   ___|_ME-3_    |
              ___|____         |  |          |   |         _____
             | __v__ |  IMAP   |  | LEMONADE |   |  ESMTP |     |
             ||     |<----------->| IMAP     |<-----------| MTA |
             || MUA ||   ME-2a |  | Store    |   |        |_____|
             ||_____||\ME-1    |  |__________|   |
             | MEM   | \       |       |         |
             | Client|  \      |       |URLAUTH  |
             |_______|   \SUBMIT       |         |
                          \    |   ____v_____    |
                           \   |  |          |   |         _____
                            \  |  | LEMONADE |   |  ESMTP |     |
                             ---->| Submit   |----------->| MTA |
                         ME-2b |  | Server   |   |        |_____|
                               |  |__________|   |
                               |MEM        Email |
                               |Server     Server|
                               |_________________|
                                        ^
                                        |ME-5
                                        |

   Figure 2: Mapping of LEMONADE profile phase 2 logical architecture
   onto the OMA MEM logical architecture.

   As described in Section 7, the LEMONADE profile phase 2 assumes
   LEMONADE profile phase 2 compliant IMAP stores and Submit servers.



Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 11]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


   Because the LEMONADE profile phase 2 extends the IMAP store and the
   submit server, the mobile enablement of email provided by the
   LEMONADE profile phase 2 is directly provided in these server.
   Mapped to OMA MEM logical architecture, for the case considered and
   specified by the LEMONADE profile phase 2, the MEM server and email
   server logically combined.  They are however split into distinct
   LEMONADE message store and LEMONADE submit server.  The OMA MEM
   interfaces ME-2 ([2]) consists of two interfaces ME-2a and ME-2b
   associated respectively to IMAP extended according to the LEMONADE
   profile phase 2 and SUBMIT extended according to the LEMONADE profile
   phase 2.

   The MUA is part of the MEM client.

   External notifications mechanism can be part of the other OMA enabler
   specified by OMA (or other activities).

8.2.  LEMONADE realization of OMA MEM with non-LEMONADE compliant
      servers

   The OMA MEM activity is not limited to enabling Lemonade compliant
   servers.  It explicitly identifies the need to support other
   backends.

8.2.1.  LEMONADE realization of OMA MEM with non-LEMONADE enhanced IMAP
        servers

   Figure 3 illustrates the case of IMAP servers that are not (yet)
   LEMONADE compliant / enhanced with LEMONADE.  In such case, the I2
   interface between the MEM server components and the IMAP store and
   submit server are IMAP and SUBMIT.




















Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 12]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


                 ______________
                |              |
       _________| Notification |
      |         | Mechanism    |
      |         |______________|
      |Notif.            ^
      |Protocol          |
      |               ___|______          _____________
      |              | LEMONADE |        |             |        _____
    __v__    IMAP    | MEM      |  IMAP  |NON-LEMONADE | ESMTP |     |
   |     |<--------->|Enabler   |<------>|IMAP         |<----->| MTA |
   | MUA |\   ME-2a  | Server   |        |Store        |       |_____|
   |_____| \         |__________|        |_____________|
            \             |
             \            |URLAUTH
              \SUBMIT     |
               \      ____v_____          _____________
                \    |          |        |             |        _____
                 \   | LEMONADE | SUBMIT |NON-LEMONADE | ESMTP |     |
                  -->|  MEM     |        |Submit       |       |     |
                     | Enabler  |------->|Server       |------>| MTA |
              ME-2b  | Server   |        |             |       |_____|
                     |__________|        |_____________|


   Figure 3: Architecture to support non-LEMONADE enhanced IMAP  servers
   with a LEMONADE realization of OMA MEM enabler.

8.2.2.  LEMONADE realization of OMA MEM with non-IMAP servers

   Figure 4 illustrates the cases where the message store and submit
   servers are not IMAP store or submit servers.  They may be POP3
   servers or other proprietary message stores.


















Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 13]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


                 ______________
                |              |
       _________| Notification |
      |         | Mechanism    |
      |         |______________|
      |Notif.            ^
      |Protocol          |
      |               ___|______          _____________
      |              | LEMONADE |        |             |        _____
    __v__    IMAP    | MEM      |    I2  |Proprietary  | ESMTP |     |
   |     |<--------->|Enabler   |<------>|Message      |<----->| MTA |
   | MUA |\   ME-2a  | Server   |        |Store        |       |_____|
   |_____| \         |__________|        |_____________|
            \             |
             \            |URLAUTH
              \SUBMIT     |
               \      ____v_____          _____________
                \    |          |        |             |        _____
                 \   | LEMONADE |    I2  |Proprietary  | ESMTP |     |
                  -->| MEM      |        |Submit       |       |     |
                     | Enabler  |------->|Server       |------>| MTA |
              ME-2b  | Server   |        |             |       |_____|
                     |__________|        |_____________|


   Figure 4: Architecture to support non-IMAP servers with a LEMONADE
   realization of OMA MEM enabler.

   I2 designates proprietary adapters to the backends.  They may invoved
   functions performed in the message stores or submit server as well as
   in the MEM enabler server.




















Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 14]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


9.  Filters and server to client notifications and LEMONADE

   OMA MEM RD [3] and AD [2] emphasize the need to provide mechanisms
   for server to client notifications of email events and filtering.
   Figure 5 illustrates how notification and filterings are introduced
   in LEMONADE profile phase 2.



                   ______________
                  |              |
         _________| Notification |
        |         | Mechanism    |
        |         |______________|
        |Notif.              ^
        |Protocol -------\  _|_
        |   ______|    ___\>|NF|____
        |  |          |     ----    |                 _____
      __v__|   IMAP   |__  LEMONADE |___   ESMTP   __|     |
     |     |<-------->|VF| IMAP     |DF |<--------|AF| MTA |
     | MUA |\   ME-2a |--  Store    |-^-           --|_____|
     |_____| \        |_____________| |
            \_\_______________|_______|
               \              |URLAUTH
                \SUBMIT       |
                 \        ____v_____
                  \      |          |                 _____
                   \     | LEMONADE |      ESMTP     |     |
                    ---->| Submit   |--------------->| MTA |
                ME-2b    | Server   |                |_____|
                         |__________|


   Figure 5: Filtering mechanism defined in LEMONADE architecture

   In Figure 5, four categories of filters are defined:

   o  AF: Administrative Filters - Set up by email service provider.  AF
      are typically not configured by the user and set to apply policies
      content filtering, virus protection, spam filtering etc...

   o  DF: Deposit Filters - Filters that are executed on deposit of new
      emails.  They can be defined as SIEVE filters [9].  They can
      include vacation notices.

   o  VF: View Filters - Filters that define which emails are visible to
      the MUA.  View filters can be defined as virtual folders [10] as
      described in [11].



Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 15]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


   o  NF: Notification Filters - Filters that define for what email
      server event an outband notification is sent to the client.

   The filters are manageable from the MUA:

   o  NF and DF: via SIEVE management protocol <Editor's note: Still to
      be defined>

   o  VF: via LFILTER as virtual folder as defined in [11]










































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 16]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


10.  Analysis of Lemonade Technology Support of OMA MEM enabler

   The OMA MEM AD [2] analyzes the technical features needed to support
   its requirements [3].  The present section discussed how these are
   supported or expected to be supported by the LEMONADE profile phase
   2.

   <Editor's note: As the work expands, this section will be restructure
   to normatively describe the additions to the LEMONADE profile [4]
   that would not be added inline in section Section 2

   In the present section we explain how these features extracted from
   the OMA MEM AD are supported with a LEMONADE realization.

   Items maked as ** indicate how it is currently thought that this is
   addressed by LEMONADE. ++ refers to OMA aspects. -- refers to issues
   that are not within the scope of LEMONADE specifications or that are
   still unresolved at the level of LEMONADE.

   1.   Mechanisms to align, fetch and update email messages between the
        MEM client and the email server via the MEM server.  The mobile
        email enabler focuses solely on the interaction between the MEM
        client and MEM server.

        *  ** This is supported by IMAP base capabilities.

   2.   Mechanisms for event-based server to client alignment:

        *  Defines the relationship between notification mechanisms and
           MEM protocol.

        *  ** This is supported by server to client notifications [11]

           +  To minimize the latency observed for email events on the
              email server to be reflected in the MEM client.

           +  To avoid unnecessary polling and requests from the MEM
              clients:

              -  To reduce the total amount of data to be exchanged
                 between MEM server and client, e.g. by allowing the MEM
                 client to select which messages to align.

              -  To reduce the amount of transactions.

        *  Needs to cope with possible lost or delayed notifications





Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 17]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


        *  ** This is supported by ensuring that the LEMONADE protocol
           does not require that the notification have been received by
           the MUA.

        *  Support in-band (ME-1/ME-2 exchanges) and out-band
           notifications (Exchanged via ME-3/ME-4 via other enablers).

        *  ** In-band notifications are supported by IMAP IDLE [12]
           acting on the virtual folder defined by VF

        *  ** Outband notifications are generated by SIEVE bound (See
           also [22]) to message store events [13] and acting on the
           virtual folder defined by VF.

           +  Specified in ways that are network transport independent
              but may contain some bindings to particular notification
              channels (e.g.  SMS binary, WAP Push, SIP Notification,
              ...)

           +  When the MEM client is connected to the MEM server, only
              inband notifications shall take place

        *  Defines notification payload for inband and outband
           mechanisms.

        *  ** For inband this is defined by IMAP IDLE

        *  ++ For outband this is specified by server to client
           notifications [11].  It is expected to be based on OMA EMN
           server to client notifications [14] plus possible extensions.

        *  Server-side filtering to decide which messages will be
           accessible by the MEM client.

           +  Filtering results into the following logical types:

           +  ** This is achieved by usage of view filters defined as
              virtual folders, SIEVE binding to message store events.

              -  Type A: Messages filtered out and not accessible by the
                 MEM client (no notification, no header access, no
                 access)

              -  ** Achieved via VF as view filter defined as virtual
                 folder.  No notification will affect events related to
                 these messages by restricting that NF applies only on
                 the view.  Otherwise, NF and VF must be synchronized.




Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 18]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


              -  Type B: Messages that are accessible by the MEM client
                 but no outband notification takes place.  Inband
                 notification might however take place if MEM client is
                 already connected to MEM server.

              -  ** Achieved via VF as view filter defined as virtual
                 folder.  NF is then set to suppress (i.e. not produce)
                 notifications even when tehse messages are made
                 available by VF.

              -  Type C: Messages that are accessible by the MEM client
                 for which notifications (outband or inband) are always
                 sent to the MEM client.

              -  ** Achieved via NF using SIEVE and bindings to messages
                 store events.

           +  Notions of Filters:

              -  View filters: Filters that determine which email
                 messages are of type B and C or A

              -  ** VF is defined as as virtual folder.  This may be
                 updated from the client via LFILTER mechanisms [11].

              -  Notification filters: Filters that determine which
                 email messages are of type C or B

              -  Event filters: Filters that determines what events are
                 to be notified to the client

           +  Mechanisms to allow the user to update the filters from
              the MEM client

           +  ** This can be achieved by LFILTER.

   3.   Client-side download and storage preferences:

        *  Manage which of the accessible messages are maintained on MEM
           client

        *  ** This is achieved via the view filter defined as virtual
           folder.

        *  -- From a LEMONADE point of view, client specific additional
           aspects are left to specifications of the MEM client
           implementations or to OMA MEM specifications (out of scope of
           LEMONADE): the user may set local client preferences to cache



Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 19]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


           less than their view filter.  For example, the client may
           cache only the last N days while receiving view updates on
           all messages within the "urgent" view.

        *  Manage which parts are maintained on MEM client

        *  ** This is achieved by IMAP

        *  -- Aspects are left to specifications of the MEM client
           implementations or to OMA MEM specifications (out of scope of
           LEMONADE).

        *  Configurable by user

        *  -- This is left to specifications of the MEM client
           implementations or to OMA MEM specifications (out of scope of
           LEMONADE).

        *  MEM client may support encrypting and password protecting the
           messages.

        *  -- This is left to specifications of the MEM client
           implementations or to OMA MEM specifications (out of scope of
           LEMONADE).

   4.   Client-side event filtering:

        *  Local message store delete: ability to delete email message
           from the MEM client view while retaining the message on the
           email server.  Some information may be passed to the MEM
           server.

        *  -- This is left to specifications of the MEM client
           implementations (out of scope of LEMONADE).

        *  Attachment local delete: Ability to delete from the MEM
           client the attachment while maintaining the view that an
           attachment is available for download from the email server.

        *  -- This is left to specifications of the MEM client
           implementations (out of scope of LEMONADE).

        *  Remote delete: ability to delete email messages both on the
           MEM client and on the email server.

        *  ** Support by IMAP





Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 20]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


   5.   Mechanisms for media conversion

        *  ** This is supported by CONVERT [15].

        *  Allows the MEM client to request conversion - including
           transcoding - of a body part or attachment from the MEM
           server when the email message part is fetched from the
           server.

           +  The client may request conversion to a specific format/
              size, or

           +  The client may request conversion to a server-selected
              format/size - where the server decides the format/size
              credentials based on any knowledge (e.g. client
              capabilities, user preferences) it may have.

        *  Conversion does not alter the messages in the email server.

   6.   Mechanisms for MEM client to submit email to the MEM server.

        *  ** This is achieved by SMTP - Submit

        *  Mechanism to support remote message assembly on the MEM
           server based on email parts (body, address fields and
           attachments) that may not have been downloaded and others
           that may have been locally created or may have been
           downloaded and edited.

        *  This is supported by LEMONADE profile trio: BURL, CATENATE,
           URLAUTH [4]

        *  It may be desirable to support just uploading the differences
           of the body parts (e.g. address fields).

        *  -- This may be achievable by IMAP URL extended with byte
           range (partial) [16].

        *  -- Differences on address fields may require SMTP extensions.
           This is under discussion.

   7.   Mechanisms to allow configuration and exchange of settings
        between the client and the server inband or outband:

        *  Server to client: e.g. server ID, account name, policies, ...

        *  ++ This is achievable by OMA DM / CP <Editor's note: Add
           references>



Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 21]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


        *  ** Most configuration beyond bootstrap is also achievable via
           mailbox annotations <Editor's note: Add references>

        *  Client to server: e.g. rules filters vacation notices,
           notification channel, ...

        *  ** A remote management protocol is to be defined for DF and
           NF that provide SIEVE management.

        *  ** SETPREFS/GETPREFS for server to client notifications [11]

   8.   Mechanisms to optimize bandwidth and/or delays on any data
        exchanges

        *  ** This is addressed by IMAP BINARY, TLS Compression and LZIP
           compression.  Exact usage guidelines are still under
           development

   9.   Mechanisms for encryption of the email data exchanged between
        the email server and the MEM client.

        *  ** This is supported by TLS.  Note TLS just protects between
           the MEM client and the MEM server (or may be just to the MEM
           proxy in front of the MEM server if there is one).

        *  The enabler shall support data remaining encrypted at all
           times even if the MEM server is deployed outside the email
           server domain.

        *  -- This may require object level encryption under some
           circumstances (e.g. to support deployment models where proxy
           / MEM server outside email service provider domain).  This is
           still under discussion.

        *  The mechanism should also be applicable to notifications if
           they carry information worth protecting.

        *  ** The current thought is to reduce the notifications to the
           exchange of information that may not have to be encrypted.
           This is still work in progress.

   10.  Mechanisms for the MEM client to determine the capabilities of
        the server.

        *  ** This can be supported by CAPABILITY, Mailbox annotations.
           The notion of Sieve Capabilities description is also work in
           progress.




Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 22]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


   11.  Mechanisms to manage sessions:

        *  ** Covert by Quick Reconnect [17]

        *  Handling connectivity issues

           +  E.g. dealing with IP address changes

           +  E.g. re-establish secure connection

        *  E.g. suspend and resume minimizing data exchange duplication

   12.  Capability to support the different deployment models in
        appendix of OMA MEM AD [2]

        *  Mobile email must be usable in the presence of firewalls and
           intermediaries found in mobile networks.

        *  ** This is discussed in [20]

        *  ** Best practices exist [19].

        *  -- This may require presence of LEMONADE proxy MEM servers
           (i.e.  Lemonade enhanced IMAP or Submit proxies)

        *  -- This may require the use of HTTP binding [18]

   13.  Mechanisms to ensure integrity of the email data exchanged
        between the email server and the MEM client.

        *  ** This is supported by TLS with the TLS limitations pointed
           out above for confidentiality <Editor's note: Add
           references>.

   14.  Mechanisms for mutual authentication of the MEM client and the
        MEM server.

        *  ** This is supported by TLS <Editor's note: Add references>.

   15.  Mechanism to allow the MEM client to send recall request to the
        email server via the MEM server.

        *  -- This is a feature that we believe can not easily be
           satisfied for internet email.  We note that some proposals
           have been made for addressing this with extensions to the
           MSGTRAK work <Editor's note: Add references>.





Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 23]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


   16.  Mechanisms to sign data exchanged between MEM client and MEM
        server.

        *  ** This is supported by TLS with the TLS limitations
           mentioned above <Editor's note: Add references> and providing
           that having a signature of the MEM server or MEM proxy is
           somehow meaningful.

   17.  Mechanisms to allow the MEM client to work off line or in
        intermittent connectivity:

        *  ** This is already built in IMAP

        *  ** This is addressed by QuickReconnect <Editor's note: Add
           references>

        *  -- This are also aspects left to specifications of the MEM
           client implementations (out of scope of LEMONADE).

        *  Store email and client email event

        *  Detect network availability

        *  Send emails and email client events when network connectivity
           is available


























Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 24]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


11.  Security considerations

   This specification provides no security measures beyond those in the
   referenced Internet Mail and LEMONADE documents.

   We note however the security risks associated to:

   o  Outband notifications

   o  Server configuration by client

   o  Client configuration by server

   o  Presence of MEM proxy servers

   o  Presence of MEM servers as intermediaries

   o  In general the deployment models considered by OMA MEM that are
      not conventional IETF deployment models.

   o  Measures to address the need to traverse firewalls






























Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 25]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


12.  IANA considerations

   No specific IANA considerations have been identified yet that are not
   covered by the different drafts and RFCs included in the realization
   described in this document.














































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 26]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


13.  Future work

   The different drafts and RFCs referenced in thsi document must be
   completed.

   text will be updated as described in editor's notes

   A Lemonade working group LEMONADE profile phase 2 document should be
   derived at some point from teh present document.










































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 27]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


14.  Acknowledgements

   The author acknowledges and appreciates the work and comments of the
   IETF LEMONADE working group and the OMA MEM working group.

   This text was partially co-authored with G. Vaudreuil (Lucent) and
   Eric Burger (Excel) and reviewed in detail by them as well as by Fan
   Xiaohui (China Mobile - CMCC).

   The LEMONADE profile is co-edited with A. Melnikov (Isode).

15.  References

   [1]   Bradner, S., "Key words for use in RFCs to Indicate
         Requirements Levels", RFC 2119, BCP 14, March 1997.

   [2]   "Mobile Email Architecture Document", OMA (Work in Progress),
         http://www.openmobilealliance.org/, October 2005.

   [3]   "Mobile Email RequirementS Document", OMA http://
         www.openmobilealliance.org/release_program/docs/RD/
         OMA-RD-MobileEmail-V1_0_20051018-C.pdf, Oct 2005.

   [4]   Maes, S. and A. Melnikov, "LEMONADE profile",
         draft-ietf-lemonade-profile-0x (work in progress).

   [5]   Crispin, M., "IMAP4, Internet Message Access Protocol Version 4
         rev1", RFC 3501, March 2003.

   [6]   Klensin, J., "SMTP Service Extensions", RFC 1861,
         November 1995.

   [7]   Klensin, J., "Simple Mail Transfer Protocol", RFC 2821,
         April 2001.

   [8]   Crocker, D., "Internet Mail Architecture",
         draft-crocker-email-arch-0x (work in progress).

   [9]   "SIEVE WG",  http://www.ietf.org/html.charters/sieve-
         charter.html.

   [10]  Maes, S. and et Al., "Persistent Search Extensions and Virtual
         Folder to the IMAP Protocol", draft-maes-lemonade-vfolder-0x
         (work in progress).

   [11]  Maes, S. and et Al., "Server to Client Notifications and
         Filtering",
         draft-maes-lemonade-notifications-server-to-client-0x (work in



Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 28]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


         progress).

   [12]  Leiba, B., "IMAP4 IDLE command", RFC 2177, June 1997.

   [13]  Newman, C., "Internet Message Store Events",
         draft-newman-lemonade-msgevent-0x (work in progress).

   [14]  "Open Mobile Alliance Email Notification Version 1.0",
         OMA http://www.openmobilealliance.org/tech/docs/EmailNot/OMA-
         Push-EMN-V1_0-20020830-C.pdf, August 2002.

   [15]  Maes, S. and et Al., "CONVERT", draft-ietf-lemonade-convert-0x
         (work in progress).

   [16]  Melnikov, A. and et Al., "IMAP URL Scheme",
         draft-ietf-lemonade-rfc2192bis-0x (work in progress).

   [17]  Melnikov, A. and et Al., "IMAP4 extension for quick reconnect",
         draft-ietf-lemonade-reconnect-0x (work in progress).

   [18]  Maes, S. and et Al., "Lemonade HTTP Binding",
         draft-maes-lemonade-http-binding-0x (work in progress).

   [19]  Freed, N., "Behavior of and Requirements for Internet
         Firewalls", RFC 2979, October 2000.

   [20]  Maes, S., "Lemonade and the challenges of Intermediaries",
         draft-smaes-lemonade-intermediary-challenges-0x (work in
         progress).

   [21]  Maes, S. and G. Parsons, "Realization of OMA Mobile Email (MEM)
         Architecture using Internet Mail",
         draft-ietf-lemonade-oma-mem-realization-0x (work in progress).

   [22]  Leiba, B., "Support for Sieve in Internet Message Access
         Protocol (IMAP4)", draft-ietf-lemonade-imap-sieve-0x (work in
         progress).














Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 29]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


Authors' Addresses

   Stephane H. Maes
   Oracle
   MS 4op634, 500 Oracle Parkway
   Redwood Shores, CA  94539
   USA

   Phone: +1-203-300-7786
   Email: stephane.maes@oracle.com









































Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 30]

Internet-Draft  Proposed version LEMONADE profile phase 2   January 2006


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2006).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Maes & Editors to be updated as document becomes IETF WG draft  Expires July 23, 2006    [Page 31]


