





INTERNET-DRAFT                                      Kurt D. Zeilenga
Intended Category: Standard Track                OpenLDAP Foundation
Expires: 13 May 2002                                13 November 2001



                          LDAP AuthzId Operation
                   <draft-zeilenga-ldap-authzid-00.txt>


Status of this Memo

  This document is an Internet-Draft and is in full conformance with all
  provisions of Section 10 of RFC2026.

  This document is intended to be, after appropriate review and
  revision, submitted to the RFC Editor as a Standard Track document.
  Distribution of this memo is unlimited.  Technical discussion of this
  document will take place on the IETF LDAP Extension Working Group
  mailing list <ietf-ldapext@netscape.com>.  Please send editorial
  comments directly to the author <Kurt@OpenLDAP.org>.

  Internet-Drafts are working documents of the Internet Engineering Task
  Force (IETF), its areas, and its working groups.  Note that other
  groups may also distribute working documents as Internet-Drafts.
  Internet-Drafts are draft documents valid for a maximum of six months
  and may be updated, replaced, or obsoleted by other documents at any
  time.  It is inappropriate to use Internet-Drafts as reference
  material or to cite them other than as ``work in progress.''

  The list of current Internet-Drafts can be accessed at
  <http://www.ietf.org/ietf/1id-abstracts.txt>. The list of
  Internet-Draft Shadow Directories can be accessed at
  <http://www.ietf.org/shadow.html>.

  Copyright 2001, The Internet Society.  All Rights Reserved.

  Please see the Copyright section near the end of this document for
  more information.


Abstract

  This specification describes an extended operation to obtain the
  authorization identity which an LDAP server has associated with the
  client.  This specification offers an alternative approach to
  [AUTHCTL].




Zeilenga                     LDAP Authzid Op                    [Page 1]

INTERNET-DRAFT       draft-zeilenga-ldap-authzid-00          13 May 2002


  The key words ``MUST'', ``MUST NOT'', ``REQUIRED'', ``SHALL'', ``SHALL
  NOT'', ``SHOULD'', ``SHOULD NOT'', ``RECOMMENDED'',  and ``MAY'' in
  this document are to be interpreted as described in BCP 14 [RFC2119].


1. Background and Intent of Use

  This specification describes an extended operation to obtain the
  authorization identity which an LDAP server has associated with the
  client.

  This specification offers an alternative approach to [AUTHCTL] which
  uses Bind request and response controls to request and return an
  authzId.   However, Bind controls are not protected by the security
  layers established by the Bind operation which they are transferred as
  part of.  An extended operation sent after a Bind operation is
  protected by the security layers established by the Bind operation.

  There are also cases where it is desirable to request the authzId
  which server associated with the client separately from the Bind
  operation.  In particular, the authzId extended operation can be
  augmented with a proxy authorization control [PROXYCTL] to determine
  the authzid to which the server associates with the identity asserted
  in the proxy control.  The authzId extended operation can also be used
  to determine the authorization identity associated with a proxy group
  [PROXYGRP].


2. AuthzId Operation

  The AuthzId operation is defined as a LDAPv3 Extended Operation
  [RFC2251, Section 4.12] identified by the authzIdOID Object Identifier
  (OID).  This section details the syntax of the AuthzId operation's
  request and response messages.

       authzIdOID :== OID.TBD


2.1. AuthzId Request

  The AuthzId request is an ExtendedRequest with the requestName field
  containing authzIdOID OID and a requestValue field is absent.


2.2. AuthzId Response

  The AuthzId response is an ExtendedResponse where the responseName is
  absent and the response field is absent or contains an authzId



Zeilenga                     LDAP Authzid Op                    [Page 2]

INTERNET-DRAFT       draft-zeilenga-ldap-authzid-00          13 May 2002


  [RFC2829].


3. Operational Semantics

  The function of the AuthzId Operation is to request that the server
  return the authzId it has associated with the client.

  The client requests this authzId by issuing an AuthzId Request.  The
  server responds to this request with an AuthzId Response.

  If the server is willing and able to provide the authzId it associates
  with the client, the server returns an AuthzId Response message with a
  success resultCode.  If the server is treating the client as an
  anonymous entity, the server response field SHALL be absent.
  Otherwise the server SHALL be the authzId [RFC2829] the server
  associates with the client.

  If the server is unwilling or unable to provide the authzId it
  associates with the client, the server SHALL return an AuthzId
  Response message with a non-success resultCode and an absent response
  field.


4. Extending the AuthzId options with controls

  Future specifications MAY extend the authzId operation using the
  control mechanism.  When extended by control, the authzId operation
  returns the authzId associated to the client in a particular context
  as defined by the control's specification.


5. Security Considerations

  Identities associated with users may be sensitive information.  When
  so, security layers [RFC2829][RFC2830] SHOULD be established to
  protect this information.  This mechanism is specifically designed to
  allow security layers established by a Bind operation to protect the
  integrity and/or confidentiality of the authorization identity.

  As with any other extended operations, general LDAP considerations
  apply.  These are detailed in [RFC2251], [RFC2829], and [RFC2830].


5. Acknowledgment

  This document borrows from prior work in this area including the
  "Authentication Response Control" [AUTHCTL] by Rob Weltman, Mark Smith



Zeilenga                     LDAP Authzid Op                    [Page 3]

INTERNET-DRAFT       draft-zeilenga-ldap-authzid-00          13 May 2002


  and Mark Wahl.


6. Author's Address

  Kurt D. Zeilenga
  OpenLDAP Foundation
  <Kurt@OpenLDAP.org>


References

  [RFC2219]  S. Bradner, "Key words for use in RFCs to Indicate
             Requirement Levels", RFC 2119, March 1997.

  [RFC2251]  M. Wahl, T. Howes, S. Kille, "Lightweight Directory Access
             Protocol (v3)", RFC 2251, December 1997.

  [RFC2829]  M. Wahl, H. Alvestrand, J. Hodges, RL "Bob" Morgan,
             "Authentication Methods for LDAP", RFC 2829, June 2000.

  [RFC2830]  J. Hodges, R. Morgan, and M. Wahl, "Lightweight Directory
             Access Protocol (v3): Extension for Transport Layer
             Security", RFC 2830, May 2000.

  [AUTHCTL]  R. Weltman, M. Smith, M. Wahl, "LDAP Authentication
             Response Control", draft-weltman-ldapv3-auth-response-
             xx.txt (a work in progress).

  [PROXYCTL] R. Weltman, "LDAP Proxied Authentication Control", draft-
             weltman-ldapv3-proxy-xx.txt (a work in progress).

  [PROXYGRP] K. Zeilenga, "LDAP Proxy Group", draft-zeilenga-ldap-
             proxygrp-xx.txt (a work in progress).


Copyright 2001, The Internet Society.  All Rights Reserved.

  This document and translations of it may be copied and furnished to
  others, and derivative works that comment on or otherwise explain it
  or assist in its implementation may be prepared, copied, published and
  distributed, in whole or in part, without restriction of any kind,
  provided that the above copyright notice and this paragraph are
  included on all such copies and derivative works.  However, this
  document itself may not be modified in any way, such as by removing
  the copyright notice or references to the Internet Society or other
  Internet organizations, except as needed for the  purpose of
  developing Internet standards in which case the procedures for



Zeilenga                     LDAP Authzid Op                    [Page 4]

INTERNET-DRAFT       draft-zeilenga-ldap-authzid-00          13 May 2002


  copyrights defined in the Internet Standards process must be followed,
  or as required to translate it into languages other than English.

  The limited permissions granted above are perpetual and will not be
  revoked by the Internet Society or its successors or assigns.

  This document and the information contained herein is provided on an
  "AS IS" basis and THE AUTHORS, THE INTERNET SOCIETY, AND THE INTERNET
  ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED,
  INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
  INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
  WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.







































Zeilenga                     LDAP Authzid Op                    [Page 5]

