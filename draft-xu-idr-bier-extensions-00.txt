



Network Working Group                                              X. Xu
Internet-Draft                                                    Huawei
Intended status: Standards Track                                K. Patel
Expires: August 20, 2015                                           Cisco
                                                                 M. Chen
                                                                  Huawei
                                                             I. Wijnands
                                                                   Cisco
                                                       February 16, 2015


                        BGP Extensions for BIER
                    draft-xu-idr-bier-extensions-00

Abstract

   Bit Index Explicit Replication (BIER) is a new multicast forwarding
   architecture which doesn't require an explicit tree-building protocol
   and doesn't require intermediate routers to maintain any multicast
   state.  BIER is applicable in a multi-tenant data center network
   envioronment for efficient delivery of Broadcast, Unknown-unicast and
   Multicast (BUM) traffic while eliminating the need for maitaining a
   huge amount of multicast state in an underlay.  This document
   describes BGP extensions for advertising the BIER-specific
   information.  These extesnions are applicable in those multi-tenant
   data centers where BGP instead of IGP is deployed as an underlay for
   network reachability advertisement.  These extensions may also be
   applicable in other scenarios.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 20, 2015.






Xu, et al.               Expires August 20, 2015                [Page 1]

Internet-Draft           BGP Extensions for BIER           February 2015


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  BIER Path Attribute . . . . . . . . . . . . . . . . . . . . .   3
   4.  Originating BIER Attribute  . . . . . . . . . . . . . . . . .   4
   5.  Restrictions on Sending/Receiving . . . . . . . . . . . . . .   5
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     9.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   Bit Index Explicit Replication (BIER)
   [I-D.wijnands-bier-architecture] is a new multicast forwarding
   architecture which doesn't require an explicit tree-building protocol
   and doesn't require intermediate routers to maintain any multicast
   state.  BIER is applicable in a multi-tenant data center network
   envioronment for efficient delivery of Broadcast, Unknown-unicast and
   Multicast (BUM) traffic while eliminating the need for maitaining a
   huge amount of multicast state in an
   underlay[I-D.kumar-bier-use-cases].  This document describes BGP
   extensions for advertising the BIER-specific information.  More
   specifically, in this document, we define a new optional, non-
   transitive BGP attribute, referred to as the BIER attribute, to
   convey the BIER-specific information such as BFR-ID, bitstring length
   and so on.  In addition, this document specifies procedures to
   prevent the BIER attribute from "leaking out" of a BIER domain .



Xu, et al.               Expires August 20, 2015                [Page 2]

Internet-Draft           BGP Extensions for BIER           February 2015


   These extensions are applicable in those multi-tenant data centers
   where BGP instead of IGP is used as an underlay
   [I-D.ietf-rtgwg-bgp-routing-large-dc].  These extensions may also be
   applicable to other BGP based network scenarios.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  Terminology

   This memo makes use of the terms defined in [RFC4271].

3.  BIER Path Attribute

   This draft defines a new optional, transitive BGP path attribute,
   referred to as the BIER attribute.  This attribute can be attached to
   a BGP UPDATE message by the originator so as to indicate the BIER-
   specific information of a particular BFR which is identified by the
   /32 or /128 address prefix contained in the NLRI.

   The attribute type code for the BIER Attribute is TBD.  The value
   field of the BIER Attribute is defined here to contain a set of TLVs.
   Each such TLV is encoded as shown in Figure 1.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |     Type      |         Length                |               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               |
       ~                                                               ~
       |                           Value                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+..........................
                             Figure 1:BIER TLV

      Type: A single octet encoding the TLV Type.

      Length: A single octet encoding the length in octets of the TLV,
      including the type and length fields.  The length is encoded as an
      unsigned binary integer.  (Note that the minimum length is 3,
      indicating that no value field is present.)

      Value: A variable-length field containing zero or more octets.

   This document defines three such TLVs including "BFR-ID TLV" , "BSL
   TLV" and "MPLS BIER Encapsulation TLV".  The first one is used to



Xu, et al.               Expires August 20, 2015                [Page 3]

Internet-Draft           BGP Extensions for BIER           February 2015


   convey the BFR-ID of the BFR which is indicated by the NLRI.  The
   second one is used to indicate the BitString Length that the BFR
   which is indicated by the NLRI can support.  The third one is used to
   indicate the MPLS label range available for the MPLS-BIER
   encapsulation purpose [I-D.wijnands-mpls-bier-encapsulation].  Other
   TLVs are to be defined in the future.

   The BFR-ID TLV is encoded as follows:

      Type:TBD2

      Length:5

      Value: contains a two-octet BFR-ID.

   The BSL TLV is encoded as follows:

      Type:TBD3

      Length:4

      Value: contains a one-octet BSL which indicates the length of the
      Bitstring in 4-octets.

   The BIER MPLS Encapsualtion TLV is encoded as follows:

      Type:TBD4

      Length:7

      Value: contains a one-octet Label Range Size field indicating the
      size of the label range, and a 3-octect Label Rang Base field
      where the 20 rightmost bits represent the first label in the label
      range.

4.  Originating BIER Attribute

   An implementation that supports the BIER attribute MUST support a
   policy to enable or disable the creation of the BIER attribute and
   its attachment to specific BGP routes.  An implementation MAY disable
   the creation of the BIER attribute unless explicitly configured to do
   so otherwise.  A BGP speaker MUST only attach the locally created
   BIER attribute to a BGP UPDATE message in which one of its local
   addresses (e.g., a loopback address) is contained in the NLRI.







Xu, et al.               Expires August 20, 2015                [Page 4]

Internet-Draft           BGP Extensions for BIER           February 2015


5.  Restrictions on Sending/Receiving

   An implementation that supports the BIER attribute MUST support a
   per-EBGP-session policy, that indicates whether the attribute is
   enabled or disabled for use on that session.  The BIER attribute MUST
   NOT be sent on any EBGP peers for which the session policy is not
   configured.  If an BIER attribute is received on a BGP session for
   which session policy is not configured, then the received attribute
   MUST be treated exactly as if it were an unrecognized non-transitive
   attribute.  That is, "it MUST be quietly ignored and not passed along
   to other BGP peers".

   To prevent the BIER attribute from "leaking out" of an BIER domain,
   each BGP router on the BIER domain MUST support an outbound route
   announcement policy.Such a policy MUST be disabled on each EBGP
   session by default unless explicitly configured.

6.  Acknowledgements

   TBD.

7.  IANA Considerations

   IANA is requested to assign a codepoint in the "BGP Path Attributes"
   registry to the BIER attribute.  IANA shall create a registry for
   "BGP BIER Attribute Types".  The type field consists of a single
   octet, with possible values from 1 to 255.  (The value 0 is
   "reserved".)  The allocation policy for this field is to be
   "Standards Action".  Type codes should be allocated for BFR-ID TLV,
   BSL TLV and BIER MPLS Encapsualtion TLV respectively.

8.  Security Considerations

   TBD.

9.  References

9.1.  Normative References

   [I-D.wijnands-bier-architecture]
              Wijnands, I., Rosen, E., Dolganow, A., Przygienda, T., and
              S. Aldrin, "Multicast using Bit Index Explicit
              Replication", draft-wijnands-bier-architecture-04 (work in
              progress), February 2015.







Xu, et al.               Expires August 20, 2015                [Page 5]

Internet-Draft           BGP Extensions for BIER           February 2015


   [I-D.wijnands-mpls-bier-encapsulation]
              Wijnands, I., Rosen, E., Dolganow, A., Tantsura, J., and
              S. Aldrin, "Encapsulation for Bit Index Explicit
              Replication in MPLS Networks", draft-wijnands-mpls-bier-
              encapsulation-02 (work in progress), December 2014.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC4271]  Rekhter, Y., Li, T., and S. Hares, "A Border Gateway
              Protocol 4 (BGP-4)", RFC 4271, January 2006.

9.2.  Informative References

   [I-D.ietf-rtgwg-bgp-routing-large-dc]
              Lapukhov, P., Premji, A., and J. Mitchell, "Use of BGP for
              routing in large-scale data centers", draft-ietf-rtgwg-
              bgp-routing-large-dc-01 (work in progress), February 2015.

   [I-D.kumar-bier-use-cases]
              Kumar, N., Asati, R., Chen, M., Xu, X., Dolganow, A.,
              Przygienda, T., arkadiy.gulko@thomsonreuters.com, a., and
              D. Robinson, "BIER Use Cases", draft-kumar-bier-use-
              cases-02 (work in progress), February 2015.

Authors' Addresses

   Xiaohu Xu
   Huawei

   Email: xuxiaohu@huawei.com


   Keyur Patel
   Cisco

   Email: keyupate@cisco.com


   Mach Chen
   Huawei

   Email: mach.chen@huawei.com








Xu, et al.               Expires August 20, 2015                [Page 6]

Internet-Draft           BGP Extensions for BIER           February 2015


   IJsbrand Wijnands
   Cisco

   Email: ice@cisco.com















































Xu, et al.               Expires August 20, 2015                [Page 7]
