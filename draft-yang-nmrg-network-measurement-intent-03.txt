



Internet Research Task Force                                     D. Chen
Internet-Draft                                                   H. Yang
Intended status: Informational                                    K. Yao
Expires: April 28, 2022                                     China Mobile
                                                             G. Fioccola
                                                     Huawei Technologies
                                                        October 25, 2021


                       Network measurement intent
             draft-yang-nmrg-network-measurement-intent-03

Abstract

   As an important technical means to detect network state, network
   measurement has attracted more and more attention in the development
   of network.  However, the current network measurement technology has
   the problem that the measurement method and the measurement purpose
   cannot match well.  To solve this problem, this memo introduces
   network measurement intent, namely the process of realizing user or
   network operator to allocate network states as needed.  And it can be
   as a specified user case of intent based network.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 28, 2022.






Chen, et al.             Expires April 28, 2022                 [Page 1]

Internet-Draft            Network Working Group             October 2021


Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Definitions and Acronyms  . . . . . . . . . . . . . . . . . .   3
   3.  Connections to Existing Documents . . . . . . . . . . . . . .   3
   4.  Overview  . . . . . . . . . . . . . . . . . . . . . . . . . .   4
   5.  Concrete Examples . . . . . . . . . . . . . . . . . . . . . .   6
     5.1.  SLA measurement intent  . . . . . . . . . . . . . . . . .   7
     5.2.  Clustered performance measurement intent  . . . . . . . .   9
   6.  Classification of NMI . . . . . . . . . . . . . . . . . . . .  10
     6.1.  Static NMI  . . . . . . . . . . . . . . . . . . . . . . .  11
     6.2.  Dynamic NMI . . . . . . . . . . . . . . . . . . . . . . .  11
   7.  Summary . . . . . . . . . . . . . . . . . . . . . . . . . . .  11
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  11
   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  12
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  12
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  12
     10.2.  Informative References . . . . . . . . . . . . . . . . .  12
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  12

1.  Introduction

   With the rapid development of the current network, the scale of the
   network is getting larger and larger, while users' requirements for
   the network are getting higher and higher.  At the same time, network
   resources are increasingly restrained.  In order to realize the
   efficient allocation of network resources, it is necessary to
   understand the running state of the network, and network measurement,
   as a technical means to detect the network, has been paid of more and
   more attention.  The continuous development of network measurement
   technology has also satisfied the higher and higher precision of
   network perception.  However, both the traditional network
   measurement technology and the network telemetry technology, which



Chen, et al.             Expires April 28, 2022                 [Page 2]

Internet-Draft            Network Working Group             October 2021


   has emerged with the development of software-defined network in
   recent years, need to occupy the network resources when detecting the
   network state and feeding back the detection results.  Therefore, to
   some extent, the choice of network measurement methods, in addition
   to different accuracy of measurement results, will also cause
   different degrees of burden to the network.

   In order to balance the accuracy of network measurement results with
   the network load, it is very important to choose the appropriate
   network measurement method according to the different requirements of
   network measurement.  As a result, accurate on-demand network
   measurement technology is becoming more and more important.  At the
   same time, the development of Intent based Network (IBN) enables the
   network to be configured according to users' or network
   administrators' intent.  Therefore, we can combine network
   measurement with IBN, that is, the users' or network administrators'
   perceived demand for network state is regarded as network measurement
   intent.

   We want to use the network measurement intent to achieve network
   performance acquisition based on user/network administrator intent-
   based, verify whether network measurement results meet the
   measurement intent, and further improve the accuracy of the
   configuration in IBN.

2.  Definitions and Acronyms

   CLI: Command-line Interface.

   IBN: Intent based Network.

   Policy: A set of rules that governs the choices in behavior of a
   system.

   NMI: Network Measurement Intent, refers to based on user/network
   operator's demand for network status, and automatically collect
   network status information on demand.

   SLA: Service Level Agreement.

3.  Connections to Existing Documents

   As the rise of IBN, different groups have different definitions of
   intent.  For example, the document
   [I-D.irtf-nmrg-ibn-concepts-definitions] defines intent as intent
   fulfillment and intent assurance.  However, all different definitions
   of intent have some common characteristics, and can be classified
   according to [I-D.irtf-nmrg-ibn-intent-classification].  And in order



Chen, et al.             Expires April 28, 2022                 [Page 3]

Internet-Draft            Network Working Group             October 2021


   to combine the network measurement intent with the existing drafts of
   IBN, we define the components of the network measurement intent
   processing process as follows:

   At the same time, according to
   [I-D.irtf-nmrg-ibn-concepts-definitions], network measurement intent
   can be classified as network intent, operational task intent or some
   other kinds of intent.  And a detailed flow of network measurement
   intents will be given

   And in order to combine the NMI with the existing drafts of IBN, in
   this document we define the components of the NMI processing process
   as follows:

   o  NMI Recognition and Acquisition

   o  NMI Translation

   o  NMI Policy

   o  NMI Orchestration and pre-Verification

   o  Data Collection and Analytics

   o  NMI Compliance Assessment

4.  Overview

   As mentioned above, NMI refers to the on-demand measurement of the
   network state based on the user/network operators' perceived intent
   of the network state.  We will present the detailed process of it
   within each part and take the measurement of busy network
   performances as a simple example.

   o  NMI Recognition and Acquisition.

      *  In this function, NMI will be recognized by "ingesting" users'
         or network operators' measurement intent.  They have the
         ability to identify the NMI of a certain network performance
         that users want to measure, such as delay, jitter, etc., and at
         the same time allow users to express the NMI of network
         performance in a variety of interactive ways to ensure the
         accuracy of the identification of the NMI.  To achieve this
         functionality, such an interaction requires the use of the
         intent-northbound interface defined in the IBN.

   o  NMI Translation.




Chen, et al.             Expires April 28, 2022                 [Page 4]

Internet-Draft            Network Working Group             October 2021


      *  In this function, NMI needs to be translated into corresponding
         measurement policy, which includes but is not limited to
         network performance parameters to be measured (such as delay,
         jitter, and packet loss), time period to be measured, and
         measurement precision.  For a simple example, in the
         measurement of busy network performances, due to dynamic
         changes such as daily network bandwidth occupancy rate, the
         period of network busy time is not fixed.  As a result, NMI
         Policy generated by NMI Translation can determine the threshold
         when the network state is busy on the same day based on the
         historical data learned by AI.

   o  NMI Policy

      *  In this function, NMI policy needs to be translated into
         actions and requests taken against the specified network
         element.  Therefore, NMI policy generated by NMI Translation
         must be executable, that is, corresponding underlying network
         devices must be able to support policy execution.. If the
         generated policy cannot be executed by the underlying device,
         the policy needs to be adjusted.  And if the measurement
         results cannot meet the requirements, the policy also needs to
         be adjusted.

   o  NMI Orchestration and pre-Verification.

      *  In this function, according to the previous NMI Translation and
         NMI Policy step, NMI Orchestration and pre-Verification
         determines the measurement scheme according to the measurement
         policy generated by NMI Policy, and pre-verifies whether the
         measurement scheme is feasible.

      *  Take busy time network measurement as an example, except for
         choosing of measurement schemes and contents, it also needs to
         determine whether the network is busy according to the current
         network state.  In addition, this function performs automatic
         network deployment, such as in CLI mode.

   o  Data Collection and Analytics.

      *  In NMI, data collection and analysis should be based on the
         selected measurement scheme and the content to be measured that
         determined in previous steps, automatically realize the
         collection on demand, and generate corresponding data analysis
         results.

   o  NMI Compliance Assessment.




Chen, et al.             Expires April 28, 2022                 [Page 5]

Internet-Draft            Network Working Group             October 2021


      *  At the end, this function verifies whether the results meets
         the requirement and whether the NMI is satisfied.  If either of
         the two conditions is not satisfied, the NMI should be modified
         and re-enter the NMI Policy.

   And he measurement flow diagram is shown as the following figure:

               +                  ^
     NMI input|                  |
    +---------v-------+          |
    | NMI Recognition |          |Measurement
    | and Acquistion  |          |Results
    +--------+--------+          |Feedback
             |                   |
    +--------v--------+          |
    | NMI Translation |          |
    +--------+--------+          |
             |               +---+----- -----+
    +--------v--------+      |NMI Compliance |
    |   NMI Policy    <------+Assessment     |
    +--------+--------+      +--^------------+
             |                  |
   +---------v-----------+   +--+--------------+
   | NMI Orchestration   |   | Data Collection |
   | and pre+Verification|   | and Analytics   |
   +---------+-----------+   +--^--------------+
             |                  |
         +---v------------------+---+
         |   Network Infrastructure |
         +--------------------------+

5.  Concrete Examples

   In this section, we will take SLA measurement intent as an example to
   illustrate each step of the process.

   With the development of measurement technology in recent years,
   network measurement can be divided into active measurement, passive
   measurement and a combination of active and passive measurement.  As
   mentioned above, no matter which measurement technology will occupy
   network resources.  For example, if the transmission frequency of
   active measurement message is too fast, it will occupy too much
   bandwidth resources and affect the normal operation of actual
   business.  While if the transmission frequency is too slow, some
   instantaneous network anomalies will be missed and the network status
   cannot be accurately reflected.  Passive measurement requires real-
   time collection of actual business data.  If the sampling rate is too
   high, a large amount of data will be accumulated in a short time.



Chen, et al.             Expires April 28, 2022                 [Page 6]

Internet-Draft            Network Working Group             October 2021


   The analysis system for real-time analysis of these data needs strong
   processing capacity; if the sampling rate is too low, some network
   anomalies will also be omitted.

   How to balance and accurately measure the network state, especially
   the abnormal network affecting the service, while occupying as little
   network bandwidth as possible, and the processing capacity of the
   data analysis system is not high, this is the function that the NMI
   scheme based on IBN should realize.

   In this section, we will consider two examples to illustrate each
   step of the process.

5.1.  SLA measurement intent

   Taking network SLA performance index -- time delay measurement as an
   example, the simple schematic diagram is as follows, different
   thresholds, warning value and alert value should be set for network
   delay in advance.  When the delay value is below warning, the network
   is normal and the business is normal.  When the delay is between
   warning value and alert value, the network fluctuation is abnormal,
   but the business is normal.  When the delay exceeds the alert value,
   both the network and business are abnormal.  For delay in different
   thresholds, different measurement strategies should be adopted:

   o  When the network delay exceeds the alert value, or when the
      historical data predict that the delay will exceed the alert
      value, passive measurement requires 100% sampling of business
      data, and the transmission frequency of active measurement is
      modulated to the maximum.  At the same time, the log and alarm
      data of the whole network equipment are collected to realize the
      most fine-grained measurement of the network, locate the root
      cause of the problem and repair the network in time.

   o  When the network delay exceeds warning value but is lower than
      alert value, passive measurement samples 60% of business data, and
      the transmission message frequency of the active measurement is
      adjusted to the median value, and the running state data of some
      key devices in the network is collected synchronously.

   o  When the network delay is less than warning value, passive
      measurement data is sampled at 20%, and active measurement message
      frequency is adjusted to the lowest, and the network equipment
      running state of key nodes can be collected as needed.







Chen, et al.             Expires April 28, 2022                 [Page 7]

Internet-Draft            Network Working Group             October 2021


           ^ms
           |
           |
           |                         XX
           |                        X X            Sampling Rate 100%
           |                       XX X
     alert +--------------------------------------------------------+
           |                      X   X             Sampling Rate 60%
           |                     X    XX
           |                    X      X                XX
           |          XX        X      X                XXX
           |          XXX       X       X              X  X
           |         XX X      X        X             X   XX
           |         X   XX    X        X  XX   XX    X    XX
   warning +-------------------------------------------------------+
           |         X    XX  X          XX X  XX X  XX      XX
           |     XX  X     X  X          X   XX   XX X        X
           |    XX X X     X  X          X   XX    XXX         X
           |   X   XX       XXX          X         XX          X
           |   X   XX       XX           X
           |        X       XX                      Sampling Rate 20%
           |
           +----------------------------------------------------------->

   Based on the above SLA time delay index measurement, different
   thresholds adopt different measurement strategies, the concrete steps
   of SLA measurement intent are as follows:

   o  In NMI Recognition and Acquisition, SLA measurement intent is
      recognized, and business requirements and performance metrics are
      identified by interacting with users.  Then the NMI Recognition
      and Acquisition module inputs the SLA measurement intent into the
      NMI Translation module.

   o  The NMI Translation module combines the SLA measurement intent
      with the measurement policy in NMI Policy, and outputs the
      executable measurement policy, such as the message transmission
      frequency of active measurement, the sampling rate of passive
      measurement, the collection range of equipment running state, etc.

   o  The NMI Orchestration and pre-Verification module arranges the
      measurement policy into the specific configuration and execution
      time of each device in the tested network.  The NMI Orchestration
      and pre-Verification module verifies the implementation of the
      policy in the equipment and preanalyzes the measurement results.

   o  The Data Collection and Analysis module will collect the
      measurement data according to the requirements of the previous



Chen, et al.             Expires April 28, 2022                 [Page 8]

Internet-Draft            Network Working Group             October 2021


      step, make a simple analysis of the collected data, and then send
      the collected measurement data to the NMI Compliance Assessment
      module.  After that, it feedback the measurement results to the
      user to complete the closed loop of the measurement task.

   o  According to the change of delay data in the measured data, the
      NMI Compliance Assessment module notifies the NMI Orchestration
      and pre-Verification module to modify the execution time of the
      policy in time, and at the same time updates the measured results
      to the delay history database to improve the accuracy of delay
      prediction.  The NMI Compliance Assessment module evaluates
      whether the actual measurement results are in line with the user's
      intent.  If they are, the results will be fed back.  If they are
      not, the NMI Policy module will be informed to adjust the policy,
      and then the measurement will be restarted.

5.2.  Clustered performance measurement intent

   The desired approach is to accurately measure the network state,
   especially when there are some issues affecting the service, but at
   the same time, reduce the resources to be employed to achieve the
   desired accuracy.

   In this regard, the Clustered Alternate-Marking framework [RFC8889]
   adds flexibility to Performance Management (PM), because it can
   reduce the order of magnitude of the packet counters.  This allows
   the NMI Orchestration and pre-Verification module to supervise,
   control, and manage PM in large networks.

   RFC 8889 [RFC8889] introduces the concept of cluster partition of a
   network.  The monitoring network can be considered as a whole or
   split into clusters that are the smallest subnetworks (group-to-group
   segments), maintaining the packet loss property for each subnetwork.
   The clusters can be combined in new connected subnetworks at
   different levels, forming new clusters, depending on the level of
   detail to achieve.

   The clustered performance measurement intent represents the spatial
   accuracy, that is the size of the subnetworks to consider for the
   monitoring.  It is possible to start without examining in depth and,
   in case of necessity, the "network zooming" approach can be used.

   This approach called "network zooming" and can be performed in two
   different ways:

   1.  change the traffic filter and select more detailed flows;





Chen, et al.             Expires April 28, 2022                 [Page 9]

Internet-Draft            Network Working Group             October 2021


   2.  activate new measurement points by defining more specified
       clusters.

   The network-zooming approach implies that some filters, rules or flow
   identifiers are changed.  But these changes must be done in a way
   that do not affect the performance.  Therefore there could be a
   transient time to wait once the new network configuration takes
   effect.  Anyway, if the performance issue is relevant, it is likely
   to last for a time much longer than the transient time.

   The concrete steps of the clustered performance measurement intent
   are as follows:

   o  In NMI Recognition and Acquisition, the clustered performance
      measurement intent is recognized.  Then the NMI Recognition and
      Acquisition module inputs the clustered performance measurement
      intent into the NMI Translation module.

   o  The NMI Translation module analyzes the clustered performance
      measurement intent and outputs the executable measurement policy,
      such as network partition and the spatial accuracy for the
      monitoring.

   o  The NMI Orchestration and pre-Verification module arranges and
      calibrates the measurement with the specific configuration to
      split the whole network into clusters at different levels.

   o  The Data Collection and Analysis module collects the measurement
      data from the different clusters, and then send these data to the
      NMI Compliance Assessment module.  It verifies the performance for
      each cluster and send the measurement results to the user.

   o  The NMI Compliance Assessment module, in case a cluster is
      experiencing a packet loss or the delay is high, notifies the NMI
      Orchestration and pre-Verification module to modify the cluster
      partition of the network for further investigation.  The network
      configuration can be immediately modified in order to perform a
      new partition of the network but only for the cluster with bad
      performance.  In this way, the problem can be localized with
      successive approximation up to a flow detailed analysis.  This is
      the so-called "closed loop" performance management.

6.  Classification of NMI

   In this section, we divide the network measurement intent into static
   NMI and dynamic NMI according to different requirement
   characteristics.




Chen, et al.             Expires April 28, 2022                [Page 10]

Internet-Draft            Network Working Group             October 2021


6.1.  Static NMI

   Static NMI refers to the measurement purposes remain unchanged and is
   independent of the network state/external environment.  Static NMI
   can be translated into determined network performance indicator
   values, such as concrete delay values, network bandwidth occupancy,
   throughput and so on.

   Because the static NMI can be translated into the measurement of the
   determined network performance parameters, the whole process is
   relatively simple and error-prone, and only needs to verify whether
   the measurement results meet the requirements.

6.2.  Dynamic NMI

   Dynamic NMI refers to the measurement purpose remains unchanged but
   the measurement process changes dynamically according to the network
   state/external environment.  Dynamic NMI can also be translated into
   the measurement of determined network performance parameters,
   however, the values of network performance parameters will change
   with the changes of network states and external environment.

   For example, the measurement of busy network performances mentioned
   in the previous.  Although the corresponding network parameters for
   judging whether the network is busy are determined, the corresponding
   network parameters have different values according to different
   network states and external environments.

   Due to the dynamic nature of dynamic NMI, its processing process is
   more complex than static NMI.  It is not only necessary to verify the
   accuracy of demand analysis, but also to verify whether the final
   measurement results meet the requirements.

7.  Summary

   This memo introduces the network measurement intent, and give two
   concrete examples to illustrate the process of network measurement
   intent.  On the basis of existing intent drafts, this memo can be
   used as a use case for IBN.

8.  Security Considerations

   TBD.








Chen, et al.             Expires April 28, 2022                [Page 11]

Internet-Draft            Network Working Group             October 2021


9.  IANA Considerations

   This document has no requests to IANA.

10.  References

10.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8889]  Fioccola, G., Ed., Cociglio, M., Sapio, A., and R. Sisto,
              "Multipoint Alternate-Marking Method for Passive and
              Hybrid Performance Monitoring", RFC 8889,
              DOI 10.17487/RFC8889, August 2020,
              <https://www.rfc-editor.org/info/rfc8889>.

10.2.  Informative References

   [I-D.irtf-nmrg-ibn-concepts-definitions]
              Clemm, A., Ciavaglia, L., Granville, L. Z., and J.
              Tantsura, "Intent-Based Networking - Concepts and
              Definitions", draft-irtf-nmrg-ibn-concepts-definitions-05
              (work in progress), September 2021.

   [I-D.irtf-nmrg-ibn-intent-classification]
              Li, C., Havel, O., Olariu, A., Martinez-Julia, P., Nobre,
              J. C., and D. R. Lopez, "Intent Classification", draft-
              irtf-nmrg-ibn-intent-classification-04 (work in progress),
              September 2021.

Authors' Addresses

   Danyang Chen
   China Mobile
   Beijing  100053
   China

   Email: chendanyang@chinamobile.com










Chen, et al.             Expires April 28, 2022                [Page 12]

Internet-Draft            Network Working Group             October 2021


   Hongwei Yang
   China Mobile
   Beijing  100053
   China

   Email: yanghongwei@chinamobile.com


   Kehan Yao
   China Mobile
   Beijing  100053
   China

   Email: yaokehan@chinamobile.com


   Giuseppe Fioccola
   Huawei Technologies
   Riesstrasse, 25
   Munich  80992
   Germany

   Email: giuseppe.fioccola@huawei.com




























Chen, et al.             Expires April 28, 2022                [Page 13]
