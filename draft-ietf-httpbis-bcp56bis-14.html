<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Building Protocols with HTTP</title>
<meta content="Mark Nottingham" name="author">
<meta content="
       Applications often use HTTP as a substrate to create HTTP-based APIs. This document specifies best practices for writing specifications that use HTTP to define new application protocols. It is written primarily to guide IETF efforts to define application protocols using HTTP for deployment on the Internet, but might be applicable in other situations. 
       This document obsoletes  . 
    " name="description">
<meta content="xml2rfc 3.9.1" name="generator">
<meta content="HTTP API" name="keyword">
<meta content="draft-ietf-httpbis-bcp56bis-14" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.1
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 57.4.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-httpbis-bcp56bis-14-qxvz4g31.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Building Protocols with HTTP</td>
<td class="right">August 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Nottingham</td>
<td class="center">Expires 18 February 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">HTTP</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-httpbis-bcp56bis-14</dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a href="https://www.rfc-editor.org/rfc/rfc3205" class="eref">3205</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-08-17" class="published">17 August 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Best Current Practice</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-02-18">18 February 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Nottingham</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Building Protocols with HTTP</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Applications often use HTTP as a substrate to create HTTP-based APIs. This document specifies best practices for writing specifications that use HTTP to define new application protocols. It is written primarily to guide IETF efforts to define application protocols using HTTP for deployment on the Internet, but might be applicable in other situations.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document obsoletes <span>[<a href="#RFC3205" class="xref">RFC3205</a>]</span>.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-note-to-readers">
<a href="#name-note-to-readers" class="section-name selfRef">Note to Readers</a>
      </h2>
<p id="section-note.1-1"><em>RFC EDITOR: please remove this section before publication</em><a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this draft takes place on the HTTP working group mailing list (ietf-http-wg@w3.org), which is archived at <a href="https://lists.w3.org/Archives/Public/ietf-http-wg/">https://lists.w3.org/Archives/Public/ietf-http-wg/</a>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Working Group information can be found at <a href="http://httpwg.github.io/">http://httpwg.github.io/</a>; source code and issues list for this draft can be found at <a href="https://github.com/httpwg/http-extensions/labels/bcp56bis">https://github.com/httpwg/http-extensions/labels/bcp56bis</a>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 18 February 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-notational-conventions" class="xref">Notational Conventions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-is-http-being-used" class="xref">Is HTTP Being Used?</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-non-http-protocols" class="xref">Non-HTTP Protocols</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-whats-important-about-http" class="xref">What's Important About HTTP</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-generic-semantics" class="xref">Generic Semantics</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-links" class="xref">Links</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-rich-functionality" class="xref">Rich Functionality</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-best-practices-for-specifyi" class="xref">Best Practices for Specifying the Use of HTTP</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-specifying-the-use-of-http" class="xref">Specifying the Use of HTTP</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-specifying-server-behaviour" class="xref">Specifying Server Behaviour</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-specifying-client-behaviour" class="xref">Specifying Client Behaviour</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-specifying-urls" class="xref">Specifying URLs</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="xref">4.4.1</a>.  <a href="#name-discovering-an-applications" class="xref">Discovering an Application's URLs</a></p>
</li>
                  <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="xref">4.4.2</a>.  <a href="#name-considering-uri-schemes" class="xref">Considering URI Schemes</a></p>
</li>
                  <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a href="#section-4.4.3" class="xref">4.4.3</a>.  <a href="#name-transport-ports" class="xref">Transport Ports</a></p>
</li>
                </ul>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-using-http-methods" class="xref">Using HTTP Methods</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.5.2.1">
                    <p id="section-toc.1-1.4.2.5.2.1.1"><a href="#section-4.5.1" class="xref">4.5.1</a>.  <a href="#name-get" class="xref">GET</a></p>
</li>
                  <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.5.2.2">
                    <p id="section-toc.1-1.4.2.5.2.2.1"><a href="#section-4.5.2" class="xref">4.5.2</a>.  <a href="#name-options" class="xref">OPTIONS</a></p>
</li>
                </ul>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-using-http-status-codes" class="xref">Using HTTP Status Codes</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.6.2.1">
                    <p id="section-toc.1-1.4.2.6.2.1.1"><a href="#section-4.6.1" class="xref">4.6.1</a>.  <a href="#name-redirection" class="xref">Redirection</a></p>
</li>
                </ul>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="xref">4.7</a>.  <a href="#name-specifying-http-header-fiel" class="xref">Specifying HTTP Header Fields</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.8">
                <p id="section-toc.1-1.4.2.8.1"><a href="#section-4.8" class="xref">4.8</a>.  <a href="#name-defining-message-content" class="xref">Defining Message Content</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.9">
                <p id="section-toc.1-1.4.2.9.1"><a href="#section-4.9" class="xref">4.9</a>.  <a href="#name-leveraging-http-caching" class="xref">Leveraging HTTP Caching</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.9.2.1">
                    <p id="section-toc.1-1.4.2.9.2.1.1"><a href="#section-4.9.1" class="xref">4.9.1</a>.  <a href="#name-freshness" class="xref">Freshness</a></p>
</li>
                  <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.9.2.2">
                    <p id="section-toc.1-1.4.2.9.2.2.1"><a href="#section-4.9.2" class="xref">4.9.2</a>.  <a href="#name-stale-responses" class="xref">Stale Responses</a></p>
</li>
                  <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.9.2.3">
                    <p id="section-toc.1-1.4.2.9.2.3.1"><a href="#section-4.9.3" class="xref">4.9.3</a>.  <a href="#name-caching-and-application-sem" class="xref">Caching and Application Semantics</a></p>
</li>
                  <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.9.2.4">
                    <p id="section-toc.1-1.4.2.9.2.4.1"><a href="#section-4.9.4" class="xref">4.9.4</a>.  <a href="#name-varying-content-based-upon-" class="xref">Varying Content Based Upon the Request</a></p>
</li>
                </ul>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.10">
                <p id="section-toc.1-1.4.2.10.1"><a href="#section-4.10" class="xref">4.10</a>. <a href="#name-handling-application-state" class="xref">Handling Application State</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.11">
                <p id="section-toc.1-1.4.2.11.1"><a href="#section-4.11" class="xref">4.11</a>. <a href="#name-making-multiple-requests" class="xref">Making Multiple Requests</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.12">
                <p id="section-toc.1-1.4.2.12.1"><a href="#section-4.12" class="xref">4.12</a>. <a href="#name-client-authentication" class="xref">Client Authentication</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.13">
                <p id="section-toc.1-1.4.2.13.1"><a href="#section-4.13" class="xref">4.13</a>. <a href="#name-co-existing-with-web-browsi" class="xref">Co-Existing with Web Browsing</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.14">
                <p id="section-toc.1-1.4.2.14.1"><a href="#section-4.14" class="xref">4.14</a>. <a href="#name-maintaining-application-bou" class="xref">Maintaining Application Boundaries</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.15">
                <p id="section-toc.1-1.4.2.15.1"><a href="#section-4.15" class="xref">4.15</a>. <a href="#name-using-server-push" class="xref">Using Server Push</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.4.2.16">
                <p id="section-toc.1-1.4.2.16.1"><a href="#section-4.16" class="xref">4.16</a>. <a href="#name-allowing-versioning-and-evo" class="xref">Allowing Versioning and Evolution</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact ulBare ulEmpty toc">
<li class="compact ulBare ulEmpty toc" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact ulBare ulEmpty toc" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-changes-from-rfc-3205" class="xref">Changes from RFC 3205</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Applications other than Web browsing often use HTTP <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span> as a substrate, a practice sometimes referred to as creating "HTTP-based APIs", "REST APIs" or just "HTTP APIs". This is done for a variety of reasons, including:<a href="#section-1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">familiarity by implementers, specifiers, administrators, developers and users,<a href="#section-1-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.2">availability of a variety of client, server and proxy implementations,<a href="#section-1-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.3">ease of use,<a href="#section-1-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.4">availability of Web browsers,<a href="#section-1-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.5">reuse of existing mechanisms like authentication and encryption,<a href="#section-1-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.6">presence of HTTP servers and clients in target deployments, and<a href="#section-1-2.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.7">its ability to traverse firewalls.<a href="#section-1-2.7" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-3">These protocols are often ad hoc; they are intended for only deployment by one or a few servers, and consumption by a limited set of clients. As a result, a body of practices and tools has arisen around defining HTTP-based APIs that favours these conditions.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">However, when such an application has multiple, separate implementations, is deployed on multiple uncoordinated servers, and is consumed by diverse clients -- as is often the case for HTTP APIs defined by standards efforts -- tools and practices intended for limited deployment can become unsuitable.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">This mismatch is largely because the API's clients and servers will implement and evolve at different paces, leading to a need for deployments with different features and versions to co-exist. As a result, the designers of HTTP-based APIs intended for such deployments need to more carefully consider how extensibility of the service will be handled and how different deployment requirements will be accommodated.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">More generally, an application protocol using HTTP faces a number of design decisions, including:<a href="#section-1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-7.1">Should it define a new URI scheme? Use new ports?<a href="#section-1-7.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-7.2">Should it use standard HTTP methods and status codes, or define new ones?<a href="#section-1-7.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-7.3">How can the maximum value be extracted from the use of HTTP?<a href="#section-1-7.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-7.4">How does it coexist with other uses of HTTP -- especially Web browsing?<a href="#section-1-7.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-7.5">How can interoperability problems and "protocol dead ends" be avoided?<a href="#section-1-7.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-8">This document contains best current practices for the specification of such applications. <a href="#used" class="xref">Section 2</a> defines when it applies; <a href="#overview" class="xref">Section 3</a> surveys the properties of HTTP that are important to preserve, and <a href="#bp" class="xref">Section 4</a> conveys best practices for specifying them.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">It is written primarily to guide IETF efforts to define application protocols using HTTP for deployment on the Internet, but might be applicable in other situations. Note that the requirements herein do not necessarily apply to the development of generic HTTP extensions.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">This document obsoletes <span>[<a href="#RFC3205" class="xref">RFC3205</a>]</span>, to reflect experience and developments regarding HTTP in the intervening time.<a href="#section-1-10" class="pilcrow">¶</a></p>
<div id="notational-conventions">
<section id="section-1.1">
        <h3 id="name-notational-conventions">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="used">
<section id="section-2">
      <h2 id="name-is-http-being-used">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-is-http-being-used" class="section-name selfRef">Is HTTP Being Used?</a>
      </h2>
<p id="section-2-1">Different applications have different goals when using HTTP. The requirements in this document apply when a specification defines an application that:<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">uses the transport port 80 or 443, or<a href="#section-2-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.2">uses the URI scheme "http" or "https", or<a href="#section-2-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.3">uses an ALPN protocol ID <span>[<a href="#RFC7301" class="xref">RFC7301</a>]</span> that generically identifies HTTP (e.g., "http/1.1", "h2", "h2c"), or<a href="#section-2-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.4">makes registrations in or overall modifications to the IANA registries defined for HTTP.<a href="#section-2-2.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-3">Additionally, when a specification is using HTTP, all of the requirements of the HTTP protocol suite are in force (in particular, <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>, but also other specifications such as the specific version of HTTP in use, and any extensions in use).<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">Note that this document is intended to apply to applications, not generic extensions to HTTP. Furthermore, while it is intended for IETF-specified applications, other standards organisations are encouraged to adhere to its requirements.<a href="#section-2-4" class="pilcrow">¶</a></p>
<div id="non-http-protocols">
<section id="section-2.1">
        <h3 id="name-non-http-protocols">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-non-http-protocols" class="section-name selfRef">Non-HTTP Protocols</a>
        </h3>
<p id="section-2.1-1">An application can rely upon HTTP without meeting the criteria for using it defined above.
For example, an application might wish to avoid re-specifying parts of the message format, but change other aspects of the protocol's operation; or, it might want to use application-specific methods.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">Doing so brings more freedom to modify protocol operations, but loses at least a portion of the benefits outlined in <a href="#overview" class="xref">Section 3</a>, as most HTTP implementations won't be easily adaptable to these changes, and the benefit of mindshare will be lost.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">Such specifications MUST NOT use HTTP's URI schemes, transport ports, ALPN protocol IDs or IANA registries; rather, they are encouraged to establish their own.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="overview">
<section id="section-3">
      <h2 id="name-whats-important-about-http">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-whats-important-about-http" class="section-name selfRef">What's Important About HTTP</a>
      </h2>
<p id="section-3-1">This section examines the characteristics of HTTP that are important to consider when using HTTP to define an application protocol.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="generic-semantics">
<section id="section-3.1">
        <h3 id="name-generic-semantics">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-generic-semantics" class="section-name selfRef">Generic Semantics</a>
        </h3>
<p id="section-3.1-1">Much of the value of HTTP is in its generic semantics -- that is, the protocol elements defined by HTTP are potentially applicable to every resource, not specific to a particular context. Application-specific semantics are best expressed in message content and in header fields, not status codes or methods (although the latter do have generic semantics that relate to application state).<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">This generic/application-specific split allows a HTTP message to be handled by common software (e.g., HTTP servers, intermediaries, client implementations, and caches) without understanding the specific application. It also allows people to leverage their knowledge of HTTP semantics without special-casing them for a particular application.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">Therefore, applications that use HTTP MUST NOT re-define, refine or overlay the semantics of generic protocol elements such as methods, status codes or existing header fields. Instead, they should focus their specifications on protocol elements that are specific to that application; namely their HTTP resources.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">When writing a specification, it's often tempting to specify exactly how HTTP is to be implemented, supported and used. However, this can easily lead to an unintended profile of HTTP's behaviour. For example, it's common to see specifications with language like this:<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.1-5">
<pre>
A `POST` request MUST result in a `201 Created` response.
</pre><a href="#section-3.1-5" class="pilcrow">¶</a>
</div>
<p id="section-3.1-6">This forms an expectation in the client that the response will always be <code>201 Created</code>, when in fact there are a number of reasons why the status code might differ in a real deployment; for example, there might be a proxy that requires authentication, or a server-side error, or a redirection. If the client does not anticipate this, the application's deployment is brittle.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">See <a href="#resource" class="xref">Section 4.2</a> for more details.<a href="#section-3.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="links">
<section id="section-3.2">
        <h3 id="name-links">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-links" class="section-name selfRef">Links</a>
        </h3>
<p id="section-3.2-1">Another common practice is assuming that the HTTP server's name space (or a portion thereof) is exclusively for the use of a single application. This effectively overlays special, application-specific semantics onto that space, precludes other applications from using it.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">As explained in <span>[<a href="#RFC8820" class="xref">RFC8820</a>]</span>, such "squatting" on a part of the URL space by a standard usurps the server's authority over its own resources, can cause deployment issues, and is therefore bad practice in standards.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">Instead of statically defining URI components like paths, it is RECOMMENDED that applications using HTTP define and use links <span>[<a href="#RFC8288" class="xref">RFC8288</a>]</span> to allow flexibility in deployment.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">Using runtime links in this fashion has a number of other benefits -- especially when an application is to have multiple implementations and/or deployments (as is often the case for those that are standardised).<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">For example, navigating with a link allows a request to be routed to a different server without the overhead of a redirection, thereby supporting deployment across machines well.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">It also becomes possible to "mix and match" different applications on the same server, and offers a natural mechanism for extensibility, versioning and capability management, since the document containing the links can also contain information about their targets.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7">Using links also offers a form of cache invalidation that's seen on the Web; when a resource's state changes, the application can change its link to it so that a fresh copy is always fetched.<a href="#section-3.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rich-functionality">
<section id="section-3.3">
        <h3 id="name-rich-functionality">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-rich-functionality" class="section-name selfRef">Rich Functionality</a>
        </h3>
<p id="section-3.3-1">HTTP offers a number of features to applications, such as:<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-2.1">Message framing<a href="#section-3.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.2">Multiplexing (in HTTP/2 <span>[<a href="#I-D.ietf-httpbis-http2bis" class="xref">I-D.ietf-httpbis-http2bis</a>]</span> and HTTP/3 <span>[<a href="#I-D.ietf-quic-http" class="xref">I-D.ietf-quic-http</a>]</span>)<a href="#section-3.3-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.3">Integration with TLS<a href="#section-3.3-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.4">Support for intermediaries (proxies, gateways, Content Delivery Networks)<a href="#section-3.3-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.5">Client authentication<a href="#section-3.3-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.6">Content negotiation for format, language, and other features<a href="#section-3.3-2.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.7">Caching for server scalability, latency and bandwidth reduction, and reliability<a href="#section-3.3-2.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.8">Granularity of access control (through use of a rich space of URLs)<a href="#section-3.3-2.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.9">Partial content to selectively request part of a response<a href="#section-3.3-2.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.10">The ability to interact with the application easily using a Web browser<a href="#section-3.3-2.10" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-3">Applications that use HTTP are encouraged to utilise the various features that the protocol offers, so that their users receive the maximum benefit from it, and to allow it to be deployed in a variety of situations. This document does not require specific features to be used, since the appropriate design tradeoffs are highly specific to a given situation. However, following the practices in <a href="#bp" class="xref">Section 4</a> is a good starting point.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="bp">
<section id="section-4">
      <h2 id="name-best-practices-for-specifyi">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-best-practices-for-specifyi" class="section-name selfRef">Best Practices for Specifying the Use of HTTP</a>
      </h2>
<p id="section-4-1">This section contains best practices for specifying the use of HTTP by applications, including practices for specific HTTP protocol elements.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="specifying-the-use-of-http">
<section id="section-4.1">
        <h3 id="name-specifying-the-use-of-http">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-specifying-the-use-of-http" class="section-name selfRef">Specifying the Use of HTTP</a>
        </h3>
<p id="section-4.1-1">Specifications should use <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span> as the primary reference for HTTP; it is not necessary to reference all of the specifications in the HTTP suite unless there are specific reasons to do so (e.g., a particular feature is called out).<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Because HTTP is a hop-by-hop protocol, a connection can be handled by implementations that are not controlled by the application; for example, proxies, CDNs, firewalls and so on. Requiring a particular version of HTTP makes it difficult to use in these situations, and harms interoperability. Therefore, it is NOT RECOMMENDED that applications using HTTP specify a minimum version of HTTP to be used.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">However, if an application's deployment would benefit from the use of a particular version of HTTP (for example, HTTP/2's multiplexing), this ought be noted.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">Applications using HTTP MUST NOT specify a maximum version, to preserve the protocol's ability to evolve.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">When specifying examples of protocol interactions, applications should document both the request and response messages, with complete header sections, preferably in HTTP/1.1 format <span>[<a href="#I-D.ietf-httpbis-messaging" class="xref">I-D.ietf-httpbis-messaging</a>]</span>. For example:<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<div id="section-4.1-6">
<pre class="sourcecode lang-http-message">
GET /thing HTTP/1.1
Host: example.com
Accept: application/things+json
User-Agent: Foo/1.0

</pre><a href="#section-4.1-6" class="pilcrow">¶</a>
</div>
<div id="section-4.1-7">
<pre class="sourcecode lang-http-message">
HTTP/1.1 200 OK
Content-Type: application/things+json
Content-Length: 500
Server: Bar/2.2

[content here]
</pre><a href="#section-4.1-7" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="resource">
<section id="section-4.2">
        <h3 id="name-specifying-server-behaviour">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-specifying-server-behaviour" class="section-name selfRef">Specifying Server Behaviour</a>
        </h3>
<p id="section-4.2-1">The server-side behaviours of an application are most effectively specified by defining the following protocol elements:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-2.1">Media types <span>[<a href="#RFC6838" class="xref">RFC6838</a>]</span>, often based upon a format convention such as JSON <span>[<a href="#RFC8259" class="xref">RFC8259</a>]</span>,<a href="#section-4.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-2.2">HTTP header fields, as per <a href="#headers" class="xref">Section 4.7</a>, and<a href="#section-4.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-2.3">The behaviour of resources, as identified by link relations <span>[<a href="#RFC8288" class="xref">RFC8288</a>]</span>.<a href="#section-4.2-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.2-3">An application can define its operation by composing these protocol elements to define a set of resources that are identified by link relations and that implement specified behaviours, including:<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-4.1">retrieval of their state using GET, in one or more formats identified by media type;<a href="#section-4.2-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-4.2">resource creation or update using POST or PUT, with an appropriately identified request content format;<a href="#section-4.2-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-4.3">data processing using POST and identified request and response content format(s); and<a href="#section-4.2-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.2-4.4">Resource deletion using DELETE.<a href="#section-4.2-4.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.2-5">For example, an application might specify:<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.2-6">
<pre>
Resources linked to with the "example-widget" link relation type are
Widgets. The state of a Widget can be fetched in the
"application/example-widget+json" format, and can be updated by PUT
to the same link. Widget resources can be deleted.

The "Example-Count" response header field on Widget representations
indicates how many Widgets are held by the sender.

The "application/example-widget+json" format is a JSON [RFC8259]
format representing the state of a Widget. It contains links to
related information in the link indicated by the Link header field
value with the "example-other-info" link relation type.
</pre><a href="#section-4.2-6" class="pilcrow">¶</a>
</div>
<p id="section-4.2-7">Applications can also specify the use of URI Templates <span>[<a href="#RFC6570" class="xref">RFC6570</a>]</span> to allow clients to generate URLs based upon runtime data.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="clients">
<section id="section-4.3">
        <h3 id="name-specifying-client-behaviour">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-specifying-client-behaviour" class="section-name selfRef">Specifying Client Behaviour</a>
        </h3>
<p id="section-4.3-1">An application's expectations for client behaviour ought to be closely aligned with those of Web browsers, to avoid interoperability issues when they are used.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">One way to do this is to define it in terms of <span>[<a href="#FETCH" class="xref">FETCH</a>]</span>, since that is the abstraction that browsers use for HTTP.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Some client behaviours (e.g., automatic redirect handling) and extensions (e.g., Cookies) are not required by HTTP, but nevertheless have become very common. If their use is not explicitly specified by applications using HTTP, there may be confusion and interoperability problems. In particular:<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-4.1">Redirect handling - Applications need to specify how redirects are expected to be handled; see <a href="#redirects" class="xref">Section 4.6.1</a>.<a href="#section-4.3-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-4.2">Cookies - Applications using HTTP should explicitly reference the Cookie specification <span>[<a href="#RFC6265" class="xref">RFC6265</a>]</span> if they are required.<a href="#section-4.3-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-4.3">Certificates - Applications using HTTP should specify that TLS certificates are to be checked according to <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-4.3.4" class="relref">Section 4.3.4</a> of [<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span> when HTTPS is used.<a href="#section-4.3-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.3-5">Applications using HTTP should not statically require HTTP features that are usually negotiated to be supported by clients. For example, requiring that clients support responses with a certain content-coding (<span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-8.4.1" class="relref">Section 8.4.1</a></span>) instead of negotiating for it (<span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-12.5.3" class="relref">Section 12.5.3</a></span>) means that otherwise conformant clients cannot interoperate with the application. Applications can encourage the implementation of such features, though.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="specifying-urls">
<section id="section-4.4">
        <h3 id="name-specifying-urls">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-specifying-urls" class="section-name selfRef">Specifying URLs</a>
        </h3>
<p id="section-4.4-1">In HTTP, the resources that clients interact with are identified with URLs <span>[<a href="#RFC3986" class="xref">RFC3986</a>]</span>. As <span>[<a href="#RFC8820" class="xref">RFC8820</a>]</span> explains, parts of the URL are designed to be under the control of the owner (also known as the "authority") of that server, to give them the flexibility in deployment.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">This means that in most cases, specifications for applications that use HTTP won't contain fixed application URLs or paths; while it is common practice for a specification of a single-deployment API to specify the path prefix "/app/v1" (for example), doing so in an IETF specification is inappropriate.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">Therefore, the specification writer needs some mechanism to allow clients to discovery an application's URLs. Additionally, they need to specify what URL scheme(s) the application should be used with, and whether to use a dedicated port, or reuse HTTP's port(s).<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<div id="discovering-an-applications-urls">
<section id="section-4.4.1">
          <h4 id="name-discovering-an-applications">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-discovering-an-applications" class="section-name selfRef">Discovering an Application's URLs</a>
          </h4>
<p id="section-4.4.1-1">Generally, a client will begin interacting with a given application server by requesting an initial document that contains information about that particular deployment, potentially including links to other relevant resources. Doing so assures that the deployment is as flexible as possible (potentially spanning multiple servers), allows evolution, and also gives the application the opportunity to tailor the 'discovery document' to the client.<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.4.1-2">There are a few common patterns for discovering that initial URL.<a href="#section-4.4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.4.1-3">The most straightforward mechanism for URL discovery is to configure the client with (or otherwise convey to it) a full URL. This might be done in a configuration document, or through another discovery mechanism.<a href="#section-4.4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.4.1-4">However, if the client only knows the server's hostname and the identity of the application, there needs to be some way to derive the initial URL from that information.<a href="#section-4.4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.4.1-5">An application cannot define a fixed prefix for its URL paths; see <span>[<a href="#RFC8820" class="xref">RFC8820</a>]</span>. Instead, a specification for such an application can use one of the following strategies:<a href="#section-4.4.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4.1-6.1">Register a Well-Known URI <span>[<a href="#RFC8615" class="xref">RFC8615</a>]</span> as an entry point for that application. This provides a fixed path on every potential server that will not collide with other applications.<a href="#section-4.4.1-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.4.1-6.2">Enable the server authority to convey a URL Template <span>[<a href="#RFC6570" class="xref">RFC6570</a>]</span> or similar mechanism for generating a URL for an entry point. For example, this might be done in a configuration document or other artefact.<a href="#section-4.4.1-6.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.4.1-7">Once the discovery document is located, it can be fetched, cached for later reuse (if allowed by its metadata), and used to locate other resources that are relevant to the application, using full URIs or URL Templates.<a href="#section-4.4.1-7" class="pilcrow">¶</a></p>
<p id="section-4.4.1-8">In some cases, an application may not wish to use such a discovery document; for example, when communication is very brief, or when the latency concerns of doing so precludes the use of a discovery document. These situations can be addressed by placing all of the application's resources under a well-known location.<a href="#section-4.4.1-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="scheme">
<section id="section-4.4.2">
          <h4 id="name-considering-uri-schemes">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-considering-uri-schemes" class="section-name selfRef">Considering URI Schemes</a>
          </h4>
<p id="section-4.4.2-1">Applications that use HTTP will typically employ the "http" and/or "https" URI schemes. "https" is RECOMMENDED to provide authentication, integrity and confidentiality, as well as mitigate pervasive monitoring attacks <span>[<a href="#RFC7258" class="xref">RFC7258</a>]</span>.<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.4.2-2">However, application-specific schemes can also be defined. When defining an URI scheme for an application using HTTP, there are a number of tradeoffs and caveats to keep in mind:<a href="#section-4.4.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4.2-3.1">Unmodified Web browsers will not support the new scheme. While it is possible to register new URI schemes with Web browsers (e.g. registerProtocolHandler() in <span>[<a href="#HTML" class="xref">HTML</a>]</span>, as well as several proprietary approaches), support for these mechanisms is not shared by all browsers, and their capabilities vary.<a href="#section-4.4.2-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.4.2-3.2">Existing non-browser clients, intermediaries, servers and associated software will not recognise the new scheme. For example, a client library might fail to dispatch the request; a cache might refuse to store the response, and a proxy might fail to forward the request.<a href="#section-4.4.2-3.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.4.2-3.3">Because URLs occur in HTTP artefacts commonly, often being generated automatically (e.g., in the <code>Location</code> response header field), it can be difficult to assure that the new scheme is used consistently.<a href="#section-4.4.2-3.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.4.2-3.4">The resources identified by the new scheme will still be available using "http" and/or "https" URLs. Those URLs can "leak" into use, which can present security and operability issues. For example, using a new scheme to assure that requests don't get sent to a "normal" Web site is likely to fail.<a href="#section-4.4.2-3.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.4.2-3.5">Features that rely upon the URL's origin <span>[<a href="#RFC6454" class="xref">RFC6454</a>]</span>, such as the Web's same-origin policy, will be impacted by a change of scheme.<a href="#section-4.4.2-3.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.4.2-3.6">HTTP-specific features such as cookies <span>[<a href="#RFC6265" class="xref">RFC6265</a>]</span>, authentication <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>, caching <span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>]</span>, HSTS <span>[<a href="#RFC6797" class="xref">RFC6797</a>]</span>, and CORS <span>[<a href="#FETCH" class="xref">FETCH</a>]</span> might or might not work correctly, depending on how they are defined and implemented. Generally, they are designed and implemented with an assumption that the URL will always be "http" or "https".<a href="#section-4.4.2-3.6" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.4.2-3.7">Web features that require a secure context <span>[<a href="#SECCTXT" class="xref">SECCTXT</a>]</span> will likely treat a new scheme as insecure.<a href="#section-4.4.2-3.7" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.4.2-4">See <span>[<a href="#RFC7595" class="xref">RFC7595</a>]</span> for more information about minting new URI schemes.<a href="#section-4.4.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transport-ports">
<section id="section-4.4.3">
          <h4 id="name-transport-ports">
<a href="#section-4.4.3" class="section-number selfRef">4.4.3. </a><a href="#name-transport-ports" class="section-name selfRef">Transport Ports</a>
          </h4>
<p id="section-4.4.3-1">Applications can use the applicable default port (80 for HTTP, 443 for HTTPS), or they can be deployed upon other ports. This decision can be made at deployment time, or might be encouraged by the application's specification (e.g., by registering a port for that application).<a href="#section-4.4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.4.3-2">If a non-default port is used, it needs to be reflected in the authority of all URLs for that resource; the only mechanism for changing a default port is changing the URI scheme (see <a href="#scheme" class="xref">Section 4.4.2</a>).<a href="#section-4.4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.4.3-3">Using a port other than the default has privacy implications (i.e., the protocol can now be distinguished from other traffic), as well as operability concerns (as some networks might block or otherwise interfere with it). Privacy implications should be documented in Security Considerations.<a href="#section-4.4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.4.3-4">See <span>[<a href="#RFC7605" class="xref">RFC7605</a>]</span> for further guidance.<a href="#section-4.4.3-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="using-http-methods">
<section id="section-4.5">
        <h3 id="name-using-http-methods">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-using-http-methods" class="section-name selfRef">Using HTTP Methods</a>
        </h3>
<p id="section-4.5-1">Applications that use HTTP MUST confine themselves to using registered HTTP methods such as GET, POST, PUT, DELETE, and PATCH.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2">New HTTP methods are rare; they are required to be registered in the HTTP Method Registry with IETF Review (see <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>), and are also required to be generic. That means that they need to be potentially applicable to all resources, not just those of one application.<a href="#section-4.5-2" class="pilcrow">¶</a></p>
<p id="section-4.5-3">While historically some applications (e.g., <span>[<a href="#RFC4791" class="xref">RFC4791</a>]</span>) have defined non-generic methods, <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span> now forbids this.<a href="#section-4.5-3" class="pilcrow">¶</a></p>
<p id="section-4.5-4">When authors believe that a new method is required, they are encouraged to engage with the HTTP community early, and document their proposal as a separate HTTP extension, rather than as part of an application's specification.<a href="#section-4.5-4" class="pilcrow">¶</a></p>
<div id="get">
<section id="section-4.5.1">
          <h4 id="name-get">
<a href="#section-4.5.1" class="section-number selfRef">4.5.1. </a><a href="#name-get" class="section-name selfRef">GET</a>
          </h4>
<p id="section-4.5.1-1">GET is the most common and useful HTTP method; its retrieval semantics allow caching, side-effect free linking and underlies many of the benefits of using HTTP.<a href="#section-4.5.1-1" class="pilcrow">¶</a></p>
<p id="section-4.5.1-2">Queries can be performed with GET, often using the query component of the URL; this is a familiar pattern from Web browsing, and the results can be cached, improving efficiency of an often expensive process. In some cases, however, GET might be unwieldy for expressing queries, because of the limited syntax of the URI; in particular, if binary data forms part of the query terms, it needs to be encoded to conform to URI syntax.<a href="#section-4.5.1-2" class="pilcrow">¶</a></p>
<p id="section-4.5.1-3">While this is not an issue for short queries, it can become one for larger query terms, or ones which need to sustain a high rate of requests. Additionally, some HTTP implementations limit the size of URLs they support -- although modern HTTP software has much more generous limits than previously (typically, considerably more than 8000 octets, as required by <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>).<a href="#section-4.5.1-3" class="pilcrow">¶</a></p>
<p id="section-4.5.1-4">In these cases, an application using HTTP might consider using POST to express queries in the request's content; doing so avoids encoding overhead and URL length limits in implementations. However, in doing so it should be noted that the benefits of GET such as caching and linking to query results are lost. Therefore, applications using HTTP that feel a need to allow POST queries ought consider allowing both methods.<a href="#section-4.5.1-4" class="pilcrow">¶</a></p>
<p id="section-4.5.1-5">Applications should not change their state or have other side effects that might be significant to the client, since implementations can and do retry HTTP GET requests that fail, and some GET requests protected by TLS Early Data might be vulnerable to replay attacks (see <span>[<a href="#RFC8470" class="xref">RFC8470</a>]</span>). Note that this does not include logging and similar functions; see <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-9.2.1" class="relref">Section 9.2.1</a></span>.<a href="#section-4.5.1-5" class="pilcrow">¶</a></p>
<p id="section-4.5.1-6">Finally, note that while HTTP allows GET requests to have content syntactically, this is done only to allow parsers to be generic; as per <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-9.3.1" class="relref">Section 9.3.1</a></span>, content on a GET has no meaning, and will be either ignored or rejected by generic HTTP software.<a href="#section-4.5.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="options">
<section id="section-4.5.2">
          <h4 id="name-options">
<a href="#section-4.5.2" class="section-number selfRef">4.5.2. </a><a href="#name-options" class="section-name selfRef">OPTIONS</a>
          </h4>
<p id="section-4.5.2-1">The OPTIONS method was defined for metadata retrieval, and is used both by WebDAV <span>[<a href="#RFC4918" class="xref">RFC4918</a>]</span> and CORS <span>[<a href="#FETCH" class="xref">FETCH</a>]</span>. Because HTTP-based APIs often need to retrieve metadata about resources, it is often considered for their use.<a href="#section-4.5.2-1" class="pilcrow">¶</a></p>
<p id="section-4.5.2-2">However, OPTIONS does have significant limitations:<a href="#section-4.5.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5.2-3.1">It isn't possible to link to the metadata with a simple URL, because OPTIONS is not the default GET method.<a href="#section-4.5.2-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.5.2-3.2">OPTIONS responses are not cacheable, because HTTP caches operate on representations of the resource (i.e., GET and HEAD). If OPTIONS responses are cached separately, their interaction with HTTP cache expiry, secondary keys and other mechanisms needs to be considered.<a href="#section-4.5.2-3.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.5.2-3.3">OPTIONS is "chatty" - always separating metadata out into a separate request increases the number of requests needed to interact with the application.<a href="#section-4.5.2-3.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.5.2-3.4">Implementation support for OPTIONS is not universal; some servers do not expose the ability to respond to OPTIONS requests without significant effort.<a href="#section-4.5.2-3.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.5.2-4">Instead of OPTIONS, one of these alternative approaches might be more appropriate:<a href="#section-4.5.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5.2-5.1">For server-wide metadata, create a well-known URI <span>[<a href="#RFC8615" class="xref">RFC8615</a>]</span>, or use an already existing one if appropriate (e.g., HostMeta <span>[<a href="#RFC6415" class="xref">RFC6415</a>]</span>).<a href="#section-4.5.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.5.2-5.2">For metadata about a specific resource, create a separate resource and link to it using a Link response header field or a link serialised into the response's content. See <span>[<a href="#RFC8288" class="xref">RFC8288</a>]</span>. Note that the Link header field is available on HEAD responses, which is useful if the client wants to discover a resource's capabilities before they interact with it.<a href="#section-4.5.2-5.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="using-http-status-codes">
<section id="section-4.6">
        <h3 id="name-using-http-status-codes">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-using-http-status-codes" class="section-name selfRef">Using HTTP Status Codes</a>
        </h3>
<p id="section-4.6-1">HTTP status codes convey semantics both for the benefit of generic HTTP components -- such as caches, intermediaries, and clients -- and applications themselves. However, applications can encounter a number of pitfalls in their use.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<p id="section-4.6-2">First, status codes are often generated by components other than the application itself. This can happen, for example, when network errors are encountered, a captive portal, proxy or Content Delivery Network is present, when a server is overloaded, or it thinks it is under attack. They can even be generated by generic client software when certain error conditions are encountered. As a result, if an application assigns specific semantics to one of these status codes, a client can be misled about its state, because the status code was generated by a generic component, not the application itself.<a href="#section-4.6-2" class="pilcrow">¶</a></p>
<p id="section-4.6-3">Furthermore, mapping application errors to individual HTTP status codes one-to-one often leads to a situation where the finite space of applicable HTTP status codes is exhausted. This, in turn, leads to a number of bad practices -- including minting new, application-specific status codes, or using existing status codes even though the link between their semantics and the application's is tenuous at best.<a href="#section-4.6-3" class="pilcrow">¶</a></p>
<p id="section-4.6-4">Instead, applications using HTTP should define their errors to use the most applicable status code, making generous use of the general status codes (200, 400 and 500) when in doubt. Importantly, they should not specify a one-to-one relationship between status codes and application errors, thereby avoiding the exhaustion issue outlined above.<a href="#section-4.6-4" class="pilcrow">¶</a></p>
<p id="section-4.6-5">To distinguish between multiple error conditions that are mapped to the same status code, and to avoid the misattribution issue outlined above, applications using HTTP should convey finer-grained error information in the response's message content and/or header fields. <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span> provides one way to do so.<a href="#section-4.6-5" class="pilcrow">¶</a></p>
<p id="section-4.6-6">Because the set of registered HTTP status codes can expand, applications using HTTP should explicitly point out that clients ought to be able to handle all applicable status codes gracefully (i.e., falling back to the generic <code>n00</code> semantics of a given status code; e.g., <code>499</code> can be safely handled as <code>400</code> by clients that don't recognise it). This is preferable to creating a "laundry list" of potential status codes, since such a list won't be complete in the foreseeable future.<a href="#section-4.6-6" class="pilcrow">¶</a></p>
<p id="section-4.6-7">Applications using HTTP MUST NOT re-specify the semantics of HTTP status codes, even if it is only by copying their definition. It is NOT RECOMMENDED they require specific reason phrases to be used; the reason phrase has no function in HTTP, is not guaranteed to be preserved by implementations, and is not carried at all in the HTTP/2 <span class="contact-name">I-D.ietf-httpbis-http2bis</span> message format.<a href="#section-4.6-7" class="pilcrow">¶</a></p>
<p id="section-4.6-8">Applications MUST only use registered HTTP status codes. As with methods, new HTTP status codes are rare, and required (by <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>) to be registered with IETF Review. Similarly, HTTP status codes are generic; they are required (by <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>) to be potentially applicable to all resources, not just to those of one application.<a href="#section-4.6-8" class="pilcrow">¶</a></p>
<p id="section-4.6-9">When authors believe that a new status code is required, they are encouraged to engage with the HTTP community early, and document their proposal as a separate HTTP extension, rather than as part of an application's specification.<a href="#section-4.6-9" class="pilcrow">¶</a></p>
<div id="redirects">
<section id="section-4.6.1">
          <h4 id="name-redirection">
<a href="#section-4.6.1" class="section-number selfRef">4.6.1. </a><a href="#name-redirection" class="section-name selfRef">Redirection</a>
          </h4>
<p id="section-4.6.1-1">The 3xx series of status codes specified in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-15.4" class="relref">Section 15.4</a> of [<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span> direct the user agent to another resource to satisfy the request. The most common of these are 301, 302, 307 and 308, all of which use the Location response header field to indicate where the client should resend the request.<a href="#section-4.6.1-1" class="pilcrow">¶</a></p>
<p id="section-4.6.1-2">There are two ways that the members of this group of status codes differ:<a href="#section-4.6.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6.1-3.1">Whether they are permanent or temporary. Permanent redirects can be used to update links stored in the client (e.g., bookmarks), whereas temporary ones can not. Note that this has no effect on HTTP caching; it is completely separate.<a href="#section-4.6.1-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.1-3.2">Whether they allow the redirected request to change the request method from POST to GET. Web browsers generally do change POST to GET for 301 and 302; therefore, 308 and 307 were created to allow redirection without changing the method.<a href="#section-4.6.1-3.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.6.1-4">This table summarises their relationships:<a href="#section-4.6.1-4" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
            <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1"> </th>
                <th class="text-left" rowspan="1" colspan="1">Permanent</th>
                <th class="text-left" rowspan="1" colspan="1">Temporary</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Allows changing the request method from POST to GET</td>
                <td class="text-left" rowspan="1" colspan="1">301</td>
                <td class="text-left" rowspan="1" colspan="1">302</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Does not allow changing the request method</td>
                <td class="text-left" rowspan="1" colspan="1">308</td>
                <td class="text-left" rowspan="1" colspan="1">307</td>
              </tr>
            </tbody>
          </table>
<p id="section-4.6.1-6">The 303 See Other status code can be used to inform the client that the result of an operation is available at a different location using GET.<a href="#section-4.6.1-6" class="pilcrow">¶</a></p>
<p id="section-4.6.1-7">As noted in <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>, a user agent is allowed to automatically follow a 3xx redirect that has a Location response header field, even if they don't understand the semantics of the specific status code. However, they aren't required to do so; therefore, if an application using HTTP desires redirects to be automatically followed, it needs to explicitly specify the circumstances when this is required.<a href="#section-4.6.1-7" class="pilcrow">¶</a></p>
<p id="section-4.6.1-8">Redirects can be cached (when appropriate cache directives are present), but beyond that they are not 'sticky' -- i.e., redirection of a URI will not result in the client assuming that similar URIs (e.g., with different query parameters) will also be redirected.<a href="#section-4.6.1-8" class="pilcrow">¶</a></p>
<p id="section-4.6.1-9">Applications using HTTP are encouraged to specify that 301 and 302 responses change the subsequent request method from POST (but no other method) to GET, to be compatible with browsers.
Generally, when a redirected request is made, its header fields are copied from the original request's. However, they can be modified by various mechanisms; e.g., sent Authorization (<span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-11" class="relref">Section 11</a></span>) and Cookie (<span>[<a href="#RFC6265" class="xref">RFC6265</a>]</span>) header fields will change if the origin (and sometimes path) of the request changes. An application using HTTP should specify if any request header fields that it defines need to be modified or removed upon a redirect; however, this behaviour cannot be relied upon, since a generic client (like a browser) will be unaware of such requirements.<a href="#section-4.6.1-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="headers">
<section id="section-4.7">
        <h3 id="name-specifying-http-header-fiel">
<a href="#section-4.7" class="section-number selfRef">4.7. </a><a href="#name-specifying-http-header-fiel" class="section-name selfRef">Specifying HTTP Header Fields</a>
        </h3>
<p id="section-4.7-1">Applications often define new HTTP header fields. Typically, using HTTP header fields is appropriate in a few different situations:<a href="#section-4.7-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.7-2.1">The field is useful to intermediaries (who often wish to avoid parsing message content), and/or<a href="#section-4.7-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.7-2.2">The field is useful to generic HTTP software (e.g., clients, servers), and/or<a href="#section-4.7-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.7-2.3">It is not possible to include their values in the message content (usually because a format does not allow it).<a href="#section-4.7-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.7-3">When the conditions above are not met, it is usually better to convey application-specific information in other places; e.g., the message content or the URL query string.<a href="#section-4.7-3" class="pilcrow">¶</a></p>
<p id="section-4.7-4">New header fields MUST be registered, as per <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-16.3" class="relref">Section 16.3</a> of [<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>.<a href="#section-4.7-4" class="pilcrow">¶</a></p>
<p id="section-4.7-5">See <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-16.3.2" class="relref">Section 16.3.2</a> of [<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span> for guidelines to consider when minting new header fields. <span>[<a href="#RFC8941" class="xref">RFC8941</a>]</span> provides a common structure for new header fields, and avoids many issues in their parsing and handling; it is RECOMMENDED that new header fields use it.<a href="#section-4.7-5" class="pilcrow">¶</a></p>
<p id="section-4.7-6">It is RECOMMENDED that header field names be short (even when field compression is used, there is an overhead) but appropriately specific. In particular, if a header field is specific to an application, an identifier for that application can form a prefix to the header field name, separated by a "-".<a href="#section-4.7-6" class="pilcrow">¶</a></p>
<p id="section-4.7-7">For example, if the "example" application needs to create three header fields, they might be called "example-foo", "example-bar" and "example-baz". Note that the primary motivation here is to avoid consuming more generic field names, not to reserve a portion of the namespace for the application; see <span>[<a href="#RFC6648" class="xref">RFC6648</a>]</span> for related considerations.<a href="#section-4.7-7" class="pilcrow">¶</a></p>
<p id="section-4.7-8">The semantics of existing HTTP header fields MUST NOT be re-defined without updating their registration or defining an extension to them (if allowed). For example, an application using HTTP cannot specify that the <code>Location</code> header field has a special meaning in a certain context.<a href="#section-4.7-8" class="pilcrow">¶</a></p>
<p id="section-4.7-9">See <a href="#caching" class="xref">Section 4.9</a> for the interaction between header fields and HTTP caching; in particular, request header fields that are used to "select" a response have impact there, and need to be carefully considered.<a href="#section-4.7-9" class="pilcrow">¶</a></p>
<p id="section-4.7-10">See <a href="#state" class="xref">Section 4.10</a> for considerations regarding header fields that carry application state (e.g., Cookie).<a href="#section-4.7-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="content">
<section id="section-4.8">
        <h3 id="name-defining-message-content">
<a href="#section-4.8" class="section-number selfRef">4.8. </a><a href="#name-defining-message-content" class="section-name selfRef">Defining Message Content</a>
        </h3>
<p id="section-4.8-1">Common syntactic conventions for message contents include JSON <span>[<a href="#RFC8259" class="xref">RFC8259</a>]</span>, XML <span>[<a href="#XML" class="xref">XML</a>]</span>, and CBOR <span>[<a href="#RFC8949" class="xref">RFC8949</a>]</span>. Best practices for their use are out of scope for this document.<a href="#section-4.8-1" class="pilcrow">¶</a></p>
<p id="section-4.8-2">Applications should register distinct media types for each format they define; this makes it possible to identify them unambiguously and negotiate for their use. See <span>[<a href="#RFC6838" class="xref">RFC6838</a>]</span> for more information.<a href="#section-4.8-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="caching">
<section id="section-4.9">
        <h3 id="name-leveraging-http-caching">
<a href="#section-4.9" class="section-number selfRef">4.9. </a><a href="#name-leveraging-http-caching" class="section-name selfRef">Leveraging HTTP Caching</a>
        </h3>
<p id="section-4.9-1">HTTP caching <span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>]</span> is one of the primary benefits of using HTTP for applications; it provides scalability, reduces latency and improves reliability. Furthermore, HTTP caches are readily available in browsers and other clients, networks as forward and reverse proxies, Content Delivery Networks and as part of server software.<a href="#section-4.9-1" class="pilcrow">¶</a></p>
<p id="section-4.9-2">Even when an application using HTTP isn't designed to take advantage of caching, it needs to consider how caches will handle its responses, to preserve correct behaviour when one is interposed (whether in the network, server, client, or intervening infrastructure).<a href="#section-4.9-2" class="pilcrow">¶</a></p>
<div id="freshness">
<section id="section-4.9.1">
          <h4 id="name-freshness">
<a href="#section-4.9.1" class="section-number selfRef">4.9.1. </a><a href="#name-freshness" class="section-name selfRef">Freshness</a>
          </h4>
<p id="section-4.9.1-1">Assigning even a short freshness lifetime (<span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-4.2" class="relref">Section 4.2</a></span>) -- e.g., 5 seconds -- allows a response to be reused to satisfy multiple clients, and/or a single client making the same request repeatedly. In general, if it is safe to reuse something, consider assigning a freshness lifetime.<a href="#section-4.9.1-1" class="pilcrow">¶</a></p>
<p id="section-4.9.1-2">The most common method for specifying freshness is the max-age response directive (<span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-5.2.2.1" class="relref">Section 5.2.2.1</a></span>). The Expires header field (<span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-5.3" class="relref">Section 5.3</a></span>) can also be used, but it is not necessary; all modern cache implementations support Cache-Control, and specifying freshness as a delta is usually more convenient and less error-prone.<a href="#section-4.9.1-2" class="pilcrow">¶</a></p>
<p id="section-4.9.1-3">It is not necessary to add the public response directive (<span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-5.2.2.9" class="relref">Section 5.2.2.9</a></span>) to cache most responses; it is only necessary when it's desirable to store an authenticated response.<a href="#section-4.9.1-3" class="pilcrow">¶</a></p>
<p id="section-4.9.1-4">In some situations, responses without explicit cache freshness directives will be stored and served using a heuristic freshness lifetime; see <span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-4.2.2" class="relref">Section 4.2.2</a></span>. As the heuristic is not under control of the application, it is generally preferable to set an explicit freshness lifetime, or make the response explicitly uncacheable.<a href="#section-4.9.1-4" class="pilcrow">¶</a></p>
<p id="section-4.9.1-5">If caching of a response is not desired, the appropriate response directive is "Cache-Control: no-store". Other directives are not necessary, and no-store only need be sent in situations where the response might be cached; see <span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-3" class="relref">Section 3</a></span>. Note that "Cache-Control: no-cache" allows a response to be stored, just not reused by a cache without validation; it does not prevent caching (despite its name).<a href="#section-4.9.1-5" class="pilcrow">¶</a></p>
<p id="section-4.9.1-6">For example, this response cannot be stored or reused by a cache:<a href="#section-4.9.1-6" class="pilcrow">¶</a></p>
<div id="section-4.9.1-7">
<pre class="sourcecode lang-http-message">
HTTP/1.1 200 OK
Content-Type: application/example+xml
Cache-Control: no-store

[content]
</pre><a href="#section-4.9.1-7" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="stale-responses">
<section id="section-4.9.2">
          <h4 id="name-stale-responses">
<a href="#section-4.9.2" class="section-number selfRef">4.9.2. </a><a href="#name-stale-responses" class="section-name selfRef">Stale Responses</a>
          </h4>
<p id="section-4.9.2-1">Authors should understand that stale responses (e.g., with "Cache-Control: max-age=0") can be reused by caches when disconnected from the origin server; this can be useful for handling network issues.<a href="#section-4.9.2-1" class="pilcrow">¶</a></p>
<p id="section-4.9.2-2">If doing so is not suitable for a given response, the origin should use "Cache-Control: must-revalidate". See <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-4.2.4" class="relref">Section 4.2.4</a> of [<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>]</span>, and also <span>[<a href="#RFC5861" class="xref">RFC5861</a>]</span> for additional controls over stale content.<a href="#section-4.9.2-2" class="pilcrow">¶</a></p>
<p id="section-4.9.2-3">Stale responses can be refreshed by assigning a validator, saving both transfer bandwidth and latency for large responses; see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-13" class="relref">Section 13</a> of [<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>.<a href="#section-4.9.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="caching-and-application-semantics">
<section id="section-4.9.3">
          <h4 id="name-caching-and-application-sem">
<a href="#section-4.9.3" class="section-number selfRef">4.9.3. </a><a href="#name-caching-and-application-sem" class="section-name selfRef">Caching and Application Semantics</a>
          </h4>
<p id="section-4.9.3-1">When an application has a need to express a lifetime that's separate from the freshness lifetime, this should be conveyed separately, either in the response's content or in a separate header field. When this happens, the relationship between HTTP caching and that lifetime needs to be carefully considered, since the response will be used as long as it is considered fresh.<a href="#section-4.9.3-1" class="pilcrow">¶</a></p>
<p id="section-4.9.3-2">In particular, application authors need to consider how responses that are not freshly obtained from the origin server should be handled; if they have a concept like a validity period, this will need to be calculated considering the age of the response (see <span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-4.2.3" class="relref">Section 4.2.3</a></span>).<a href="#section-4.9.3-2" class="pilcrow">¶</a></p>
<p id="section-4.9.3-3">One way to address this is to explicitly specify that all responses be fresh upon use.<a href="#section-4.9.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="varying-content-based-upon-the-request">
<section id="section-4.9.4">
          <h4 id="name-varying-content-based-upon-">
<a href="#section-4.9.4" class="section-number selfRef">4.9.4. </a><a href="#name-varying-content-based-upon-" class="section-name selfRef">Varying Content Based Upon the Request</a>
          </h4>
<p id="section-4.9.4-1">If an application uses a request header field to change the response's header fields or content, authors should point out that this has implications for caching; in general, such resources need to either make their responses uncacheable (e.g., with the "no-store" cache-control directive defined in <span>[<a href="#I-D.ietf-httpbis-cache" class="xref">I-D.ietf-httpbis-cache</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17#section-5.2.2.5" class="relref">Section 5.2.2.5</a></span>) or send the Vary response header field (<span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-12.5.5" class="relref">Section 12.5.5</a></span>) on all responses from that resource (including the "default" response).<a href="#section-4.9.4-1" class="pilcrow">¶</a></p>
<p id="section-4.9.4-2">For example, this response:<a href="#section-4.9.4-2" class="pilcrow">¶</a></p>
<div id="section-4.9.4-3">
<pre class="sourcecode lang-http-message">
HTTP/1.1 200 OK
Content-Type: application/example+xml
Cache-Control: max-age=60
ETag: "sa0f8wf20fs0f"
Vary: Accept-Encoding

[content]
</pre><a href="#section-4.9.4-3" class="pilcrow">¶</a>
</div>
<p id="section-4.9.4-4">can be stored for 60 seconds by both private and shared caches, can be revalidated with If-None-Match, and varies on the Accept-Encoding request header field.<a href="#section-4.9.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="state">
<section id="section-4.10">
        <h3 id="name-handling-application-state">
<a href="#section-4.10" class="section-number selfRef">4.10. </a><a href="#name-handling-application-state" class="section-name selfRef">Handling Application State</a>
        </h3>
<p id="section-4.10-1">Applications can use stateful cookies <span>[<a href="#RFC6265" class="xref">RFC6265</a>]</span> to identify a client and/or store client-specific data to contextualise requests.<a href="#section-4.10-1" class="pilcrow">¶</a></p>
<p id="section-4.10-2">When used, it is important to carefully specify the scoping and use of cookies; if the application exposes sensitive data or capabilities (e.g., by acting as an ambient authority), exploits are possible. Mitigations include using a request-specific token to assure the intent of the client.<a href="#section-4.10-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="multiplex">
<section id="section-4.11">
        <h3 id="name-making-multiple-requests">
<a href="#section-4.11" class="section-number selfRef">4.11. </a><a href="#name-making-multiple-requests" class="section-name selfRef">Making Multiple Requests</a>
        </h3>
<p id="section-4.11-1">Clients often need to send multiple requests to perform a task.<a href="#section-4.11-1" class="pilcrow">¶</a></p>
<p id="section-4.11-2">In HTTP/1 <span>[<a href="#I-D.ietf-httpbis-messaging" class="xref">I-D.ietf-httpbis-messaging</a>]</span>, parallel requests are most often supported by opening multiple connections. Application performance can be impacted when too many simultaneous connections are used, because connections' congestion control will not be coordinated. Furthermore, it can be difficult for applications to decide when and to select which connection to use to issue a given request, further impacting performance.<a href="#section-4.11-2" class="pilcrow">¶</a></p>
<p id="section-4.11-3">HTTP/2 <span>[<a href="#I-D.ietf-httpbis-http2bis" class="xref">I-D.ietf-httpbis-http2bis</a>]</span> and HTTP/3 <span class="contact-name">I-D.ietf-quic-http</span> offer multiplexing to applications, removing the need to use multiple connections. However, application performance can still be significantly affected by how the server chooses to prioritize responses. Depending on the application, it might be best for the server to determine the priority of responses, or for the client to hint its priorities to the server (see, e.g., <span>[<a href="#I-D.ietf-httpbis-priority" class="xref">I-D.ietf-httpbis-priority</a>]</span>).<a href="#section-4.11-3" class="pilcrow">¶</a></p>
<p id="section-4.11-4">In all versions of HTTP, requests are made independently -- you can't rely on the relative order of two requests to guarantee processing order. This is because they might be sent over a multiplexed protocol by an intermediary, sent to different origin servers, or the server might even perform processing in a different order. If two requests need strict ordering, the only reliable way to assure the outcome is to issue the second request when the final response to the first has begun.<a href="#section-4.11-4" class="pilcrow">¶</a></p>
<p id="section-4.11-5">Applications MUST NOT make assumptions about the relationship between separate requests on a single transport connection; doing so breaks many of the assumptions of HTTP as a stateless protocol, and will cause problems in interoperability, security, operability and evolution.<a href="#section-4.11-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="client-auth">
<section id="section-4.12">
        <h3 id="name-client-authentication">
<a href="#section-4.12" class="section-number selfRef">4.12. </a><a href="#name-client-authentication" class="section-name selfRef">Client Authentication</a>
        </h3>
<p id="section-4.12-1">Applications can use HTTP authentication <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17#section-11" class="relref">Section 11</a> of [<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span> to identify clients. As per <span>[<a href="#RFC7617" class="xref">RFC7617</a>]</span>, the Basic authentication scheme is not suitable for protecting sensitive or valuable information unless the channel is secure (e.g., using the "HTTPS" URI scheme). Likewise, <span>[<a href="#RFC7616" class="xref">RFC7616</a>]</span> requires the Digest authentication scheme to be used over a secure channel.<a href="#section-4.12-1" class="pilcrow">¶</a></p>
<p id="section-4.12-2">With HTTPS, clients might also be authenticated using certificates <span>[<a href="#RFC5246" class="xref">RFC5246</a>]</span>.<a href="#section-4.12-2" class="pilcrow">¶</a></p>
<p id="section-4.12-3">When used, it is important to carefully specify the scoping and use of authentication; if the application exposes sensitive data or capabilities (e.g., by acting as an ambient authority), exploits are possible. Mitigations include using a request-specific token to assure the intent of the client.<a href="#section-4.12-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="browser">
<section id="section-4.13">
        <h3 id="name-co-existing-with-web-browsi">
<a href="#section-4.13" class="section-number selfRef">4.13. </a><a href="#name-co-existing-with-web-browsi" class="section-name selfRef">Co-Existing with Web Browsing</a>
        </h3>
<p id="section-4.13-1">Even if there is not an intent for an application to be used with a Web browser, its resources will remain available to browsers and other HTTP clients. This means that all such applications that use HTTP need to consider how browsers will interact with them, particularly regarding security.<a href="#section-4.13-1" class="pilcrow">¶</a></p>
<p id="section-4.13-2">For example, if an application's state can be changed using a POST request, a Web browser can easily be coaxed into cross-site request forgery (CSRF) from arbitrary Web sites.<a href="#section-4.13-2" class="pilcrow">¶</a></p>
<p id="section-4.13-3">Or, if an attacker gains control of content returned from the application's resources (for example, part of the request is reflected in the response, or the response contains external information that the attacker can change), they can inject code into the browser and access data and capabilities as if they were the origin -- a technique known as a cross-site scripting (XSS) attack.<a href="#section-4.13-3" class="pilcrow">¶</a></p>
<p id="section-4.13-4">This is only a small sample of the kinds of issues that applications using HTTP must consider. Generally, the best approach is to consider the application actually as a Web application, and to follow best practices for their secure development.<a href="#section-4.13-4" class="pilcrow">¶</a></p>
<p id="section-4.13-5">A complete enumeration of such practices is out of scope for this document, but some considerations include:<a href="#section-4.13-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.13-6.1">Using an application-specific media type in the Content-Type header field, and requiring clients to fail if it is not used.<a href="#section-4.13-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.13-6.2">Using X-Content-Type-Options: nosniff <span>[<a href="#FETCH" class="xref">FETCH</a>]</span> to assure that content under attacker control can't be coaxed into a form that is interpreted as active content by a Web browser.<a href="#section-4.13-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.13-6.3">Using Content-Security-Policy <span>[<a href="#CSP" class="xref">CSP</a>]</span> to constrain the capabilities of active content (i.e., that which can execute script, such as HTML <span>[<a href="#HTML" class="xref">HTML</a>]</span> and PDF), thereby mitigating Cross-Site Scripting attacks.<a href="#section-4.13-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.13-6.4">Using Referrer-Policy <span>[<a href="#REFERRER-POLICY" class="xref">REFERRER-POLICY</a>]</span> to prevent sensitive data in URLs from being leaked in the Referer request header field.<a href="#section-4.13-6.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.13-6.5">Using the 'HttpOnly' flag on Cookies to assure that cookies are not exposed to browser scripting languages <span>[<a href="#RFC6265" class="xref">RFC6265</a>]</span>.<a href="#section-4.13-6.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.13-6.6">Avoiding use of compression on any sensitive information (e.g., authentication tokens, passwords), as the scripting environment offered by Web browsers allows an attacker to repeatedly probe the compression space; if the attacker has access to the path of the communication, they can use this capability to recover that information.<a href="#section-4.13-6.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.13-7">Depending on how they are intended to be deployed, specifications for applications using HTTP might require the use of these mechanisms in specific ways, or might merely point them out in Security Considerations.<a href="#section-4.13-7" class="pilcrow">¶</a></p>
<p id="section-4.13-8">An example of a HTTP response from an application that does not intend for its content to be treated as active by browsers might look like this:<a href="#section-4.13-8" class="pilcrow">¶</a></p>
<div id="section-4.13-9">
<pre class="sourcecode lang-http-message">
HTTP/1.1 200 OK
Content-Type: application/example+json
X-Content-Type-Options: nosniff
Content-Security-Policy: default-src 'none'
Cache-Control: max-age=3600
Referrer-Policy: no-referrer

[content]
</pre><a href="#section-4.13-9" class="pilcrow">¶</a>
</div>
<p id="section-4.13-10">If an application has browser compatibility as a goal, client interaction ought to be defined in terms of <span>[<a href="#FETCH" class="xref">FETCH</a>]</span>, since that is the abstraction that browsers use for HTTP; it enforces many of these best practices.<a href="#section-4.13-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="other-apps">
<section id="section-4.14">
        <h3 id="name-maintaining-application-bou">
<a href="#section-4.14" class="section-number selfRef">4.14. </a><a href="#name-maintaining-application-bou" class="section-name selfRef">Maintaining Application Boundaries</a>
        </h3>
<p id="section-4.14-1">Because many HTTP capabilities are scoped to the origin <span>[<a href="#RFC6454" class="xref">RFC6454</a>]</span>, applications also need to consider how deployments might interact with other applications (including Web browsing) on the same origin.<a href="#section-4.14-1" class="pilcrow">¶</a></p>
<p id="section-4.14-2">For example, if Cookies <span>[<a href="#RFC6265" class="xref">RFC6265</a>]</span> are used to carry application state, they will be sent with all requests to the origin by default (unless scoped by path), and the application might receive cookies from other applications on the origin. This can lead to security issues, as well as collision in cookie names.<a href="#section-4.14-2" class="pilcrow">¶</a></p>
<p id="section-4.14-3">One solution to these issues is to require a dedicated hostname for the application, so that it has a unique origin. However, it is often desirable to allow multiple applications to be deployed on a single hostname; doing so provides the most deployment flexibility and enables them to be "mixed" together (See <span>[<a href="#RFC8820" class="xref">RFC8820</a>]</span> for details). Therefore, applications using HTTP should strive to allow multiple applications on an origin.<a href="#section-4.14-3" class="pilcrow">¶</a></p>
<p id="section-4.14-4">To enable this, when specifying the use of Cookies, HTTP authentication realms <span>[<a href="#I-D.ietf-httpbis-semantics" class="xref">I-D.ietf-httpbis-semantics</a>]</span>, or other origin-wide HTTP mechanisms, applications using HTTP should not mandate the use of a particular name, but instead let deployments configure them. Consideration should be given to scoping them to part of the origin, using their specified mechanisms for doing so.<a href="#section-4.14-4" class="pilcrow">¶</a></p>
<p id="section-4.14-5">Modern Web browsers constrain the ability of content from one origin to access resources from another, to avoid leaking private information. As a result, applications that wish to expose cross-origin data to browsers will need to implement the CORS protocol; see <span>[<a href="#FETCH" class="xref">FETCH</a>]</span>.<a href="#section-4.14-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="server-push">
<section id="section-4.15">
        <h3 id="name-using-server-push">
<a href="#section-4.15" class="section-number selfRef">4.15. </a><a href="#name-using-server-push" class="section-name selfRef">Using Server Push</a>
        </h3>
<p id="section-4.15-1">HTTP/2 added the ability for servers to "push" request/response pairs to clients in <span>[<a href="#I-D.ietf-httpbis-http2bis" class="xref">I-D.ietf-httpbis-http2bis</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-http2bis-03#section-8.4" class="relref">Section 8.4</a></span>. While server push seems like a natural fit for many common application semantics (e.g., "fanout" and publish/subscribe), a few caveats should be noted:<a href="#section-4.15-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.15-2.1">Server push is hop-by-hop; that is, it is not automatically forwarded by intermediaries. As a result, it might not work easily (or at all) with proxies, reverse proxies, and Content Delivery Networks.<a href="#section-4.15-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.15-2.2">Server push can have negative performance impact on HTTP when used incorrectly; in particular, if there is contention with resources that have actually been requested by the client.<a href="#section-4.15-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.15-2.3">Server push is implemented differently in different clients, especially regarding interaction with HTTP caching, and capabilities might vary.<a href="#section-4.15-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.15-2.4">APIs for server push are currently unavailable in some implementations, and vary widely in others. In particular, there is no current browser API for it.<a href="#section-4.15-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.15-2.5">Server push is not supported in HTTP/1.1 or HTTP/1.0.<a href="#section-4.15-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.15-2.6">Server push does not form part of the "core" semantics of HTTP, and therefore might not be supported by future versions of the protocol.<a href="#section-4.15-2.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.15-3">Applications wishing to optimise cases where the client can perform work related to requests before the full response is available (e.g., fetching links for things likely to be contained within) might benefit from using the 103 (Early Hints) status code; see <span>[<a href="#RFC8297" class="xref">RFC8297</a>]</span>.<a href="#section-4.15-3" class="pilcrow">¶</a></p>
<p id="section-4.15-4">Applications using server push directly need to enforce the requirements regarding authority in <span>[<a href="#I-D.ietf-httpbis-http2bis" class="xref">I-D.ietf-httpbis-http2bis</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-http2bis-03#section-8.4" class="relref">Section 8.4</a></span>, to avoid cross-origin push attacks.<a href="#section-4.15-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="versioning">
<section id="section-4.16">
        <h3 id="name-allowing-versioning-and-evo">
<a href="#section-4.16" class="section-number selfRef">4.16. </a><a href="#name-allowing-versioning-and-evo" class="section-name selfRef">Allowing Versioning and Evolution</a>
        </h3>
<p id="section-4.16-1">It's often necessary to introduce new features into application protocols, and change existing ones.<a href="#section-4.16-1" class="pilcrow">¶</a></p>
<p id="section-4.16-2">In HTTP, backwards-incompatible changes are possible using a number of mechanisms:<a href="#section-4.16-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.16-3.1">Using a distinct link relation type <span>[<a href="#RFC8288" class="xref">RFC8288</a>]</span> to identify a URL for a resource that implements the new functionality.<a href="#section-4.16-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.16-3.2">Using a distinct media type <span>[<a href="#RFC6838" class="xref">RFC6838</a>]</span> to identify formats that enable the new functionality.<a href="#section-4.16-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.16-3.3">Using a distinct HTTP header field to implement new functionality outside the message content.<a href="#section-4.16-3.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document has no requirements for IANA.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1"><a href="#state" class="xref">Section 4.10</a> discusses the impact of using stateful mechanisms in the protocol as ambient authority, and suggests a mitigation.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2"><a href="#scheme" class="xref">Section 4.4.2</a> recommends support for 'https' URLs, and discourages the use of 'http' URLs, to provide authentication, integrity and confidentiality, as well as mitigate pervasive monitoring attacks. Many applications using HTTP perform authentication and authorization with bearer tokens (e.g., in session cookies). If the transport is unencrypted, an attacker that can eavesdrop on HTTP
communications can often escalate their privilege to perform operations on resources.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3"><a href="#browser" class="xref">Section 4.13</a> highlights the implications of Web browsers' capabilities on applications that use HTTP.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4"><a href="#other-apps" class="xref">Section 4.14</a> discusses the issues that arise when applications are deployed on the same origin as Web sites (and other applications).<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5"><a href="#server-push" class="xref">Section 4.15</a> highlights risks of using HTTP/2 server push in a manner other than specified.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">Applications that use HTTP in a manner that involves modification of implementations -- for example, requiring support for a new URI scheme, or a non-standard method -- risk having those implementations "fork" from their parent HTTP implementations, with the possible result that they do not benefit from patches and other security improvements incorporated upstream.<a href="#section-6-6" class="pilcrow">¶</a></p>
<div id="privacy-considerations">
<section id="section-6.1">
        <h3 id="name-privacy-considerations">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
        </h3>
<p id="section-6.1-1">HTTP clients can expose a variety of information to servers. Besides information that's explicitly sent as part of an application's operation (for example, names and other user-entered data), and "on the wire" (which is one of the reasons https is recommended in <a href="#scheme" class="xref">Section 4.4.2</a>), other information can be gathered through less obvious means -- often by connecting activities of a user over time.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">This includes session information, tracking the client through fingerprinting, and mobile code.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">Session information includes things like the IP address of the client, TLS session tickets, Cookies, ETags stored in the client's cache, and other stateful mechanisms. Applications are advised to avoid using session mechanisms unless they are unavoidable or necessary for operation, in which case these risks needs to be documented. When they are used, implementations should be encouraged to allow clearing such state.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">Fingerprinting uses unique aspects of a client's messages and behaviours to connect disparate requests and connections. For example, the User-Agent request header field conveys specific information about the implementation; the Accept-Language request header field conveys the users' preferred language. In combination, a number of these markers can be used to uniquely identify a client, impacting its control over its data. As a result, applications are advised to specify that clients should only emit the information they need to function in requests.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5">Finally, if an application exposes the ability to run mobile code, great care needs to be taken, since any ability to observe its environment can be used as an opportunity to both fingerprint the client and to obtain and manipulate private data (including session information). For example, access to high-resolution timers (even indirectly) can be used to profile the underlying hardware, creating a unique identifier for the system. Applications are advised to avoid allowing the use of mobile code where possible; when it cannot be avoided, the resulting system's security properties need be carefully scrutinised.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-httpbis-semantics">[I-D.ietf-httpbis-semantics]</dt>
        <dd>
<span class="refAuthor">Fielding, R. T.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">J. Reschke</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-semantics-17</span>, <time datetime="2021-07-25" class="refDate">25 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6454">[RFC6454]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"The Web Origin Concept"</span>, <span class="seriesInfo">RFC 6454</span>, <span class="seriesInfo">DOI 10.17487/RFC6454</span>, <time datetime="2011-12" class="refDate">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6648">[RFC6648]</dt>
        <dd>
<span class="refAuthor">Saint-Andre, P.</span>, <span class="refAuthor">Crocker, D.</span>, and <span class="refAuthor">M. Nottingham</span>, <span class="refTitle">"Deprecating the "X-" Prefix and Similar Constructs in Application Protocols"</span>, <span class="seriesInfo">BCP 178</span>, <span class="seriesInfo">RFC 6648</span>, <span class="seriesInfo">DOI 10.17487/RFC6648</span>, <time datetime="2012-06" class="refDate">June 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6648">https://www.rfc-editor.org/rfc/rfc6648</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6838">[RFC6838]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7301">[RFC7301]</dt>
        <dd>
<span class="refAuthor">Friedl, S.</span>, <span class="refAuthor">Popov, A.</span>, <span class="refAuthor">Langley, A.</span>, and <span class="refAuthor">E. Stephan</span>, <span class="refTitle">"Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension"</span>, <span class="seriesInfo">RFC 7301</span>, <span class="seriesInfo">DOI 10.17487/RFC7301</span>, <time datetime="2014-07" class="refDate">July 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7301">https://www.rfc-editor.org/rfc/rfc7301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8288">[RFC8288]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Web Linking"</span>, <span class="seriesInfo">RFC 8288</span>, <span class="seriesInfo">DOI 10.17487/RFC8288</span>, <time datetime="2017-10" class="refDate">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8288">https://www.rfc-editor.org/rfc/rfc8288</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8615">[RFC8615]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Well-Known Uniform Resource Identifiers (URIs)"</span>, <span class="seriesInfo">RFC 8615</span>, <span class="seriesInfo">DOI 10.17487/RFC8615</span>, <time datetime="2019-05" class="refDate">May 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8615">https://www.rfc-editor.org/rfc/rfc8615</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8820">[RFC8820]</dt>
      <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"URI Design and Ownership"</span>, <span class="seriesInfo">BCP 190</span>, <span class="seriesInfo">RFC 8820</span>, <span class="seriesInfo">DOI 10.17487/RFC8820</span>, <time datetime="2020-06" class="refDate">June 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8820">https://www.rfc-editor.org/rfc/rfc8820</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="CSP">[CSP]</dt>
        <dd>
<span class="refAuthor">West, M.</span>, <span class="refTitle">"Content Security Policy Level 3"</span>, <span class="seriesInfo">World Wide Web Consortium WD WD-CSP3-20160913</span>, <time datetime="2016-09-13" class="refDate">13 September 2016</time>, <span>&lt;<a href="https://www.w3.org/TR/2016/WD-CSP3-20160913">https://www.w3.org/TR/2016/WD-CSP3-20160913</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="FETCH">[FETCH]</dt>
        <dd>
<span class="refAuthor">WHATWG</span>, <span class="refTitle">"Fetch - Living Standard"</span>, <span>n.d.</span>, <span>&lt;<a href="https://fetch.spec.whatwg.org">https://fetch.spec.whatwg.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HTML">[HTML]</dt>
        <dd>
<span class="refAuthor">WHATWG</span>, <span class="refTitle">"HTML - Living Standard"</span>, <span>n.d.</span>, <span>&lt;<a href="https://html.spec.whatwg.org">https://html.spec.whatwg.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-httpbis-cache">[I-D.ietf-httpbis-cache]</dt>
        <dd>
<span class="refAuthor">Fielding, R. T.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">J. Reschke</span>, <span class="refTitle">"HTTP Caching"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-cache-17</span>, <time datetime="2021-07-25" class="refDate">25 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cache-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-httpbis-http2bis">[I-D.ietf-httpbis-http2bis]</dt>
        <dd>
<span class="refAuthor">Thomson, M.</span> and <span class="refAuthor">C. Benfield</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 2 (HTTP/2)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-http2bis-03</span>, <time datetime="2021-07-12" class="refDate">12 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-http2bis-03">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-http2bis-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-httpbis-messaging">[I-D.ietf-httpbis-messaging]</dt>
        <dd>
<span class="refAuthor">Fielding, R. T.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">J. Reschke</span>, <span class="refTitle">"HTTP/1.1"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-messaging-17</span>, <time datetime="2021-07-25" class="refDate">25 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-messaging-17">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-messaging-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-httpbis-priority">[I-D.ietf-httpbis-priority]</dt>
        <dd>
<span class="refAuthor">Oku, K.</span> and <span class="refAuthor">L. Pardue</span>, <span class="refTitle">"Extensible Prioritization Scheme for HTTP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-priority-04</span>, <time datetime="2021-07-11" class="refDate">11 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-priority-04">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-priority-04</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-quic-http">[I-D.ietf-quic-http]</dt>
        <dd>
<span class="refAuthor">Bishop, M.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 3 (HTTP/3)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-http-34</span>, <time datetime="2021-02-02" class="refDate">2 February 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-http-34">https://datatracker.ietf.org/doc/html/draft-ietf-quic-http-34</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="REFERRER-POLICY">[REFERRER-POLICY]</dt>
        <dd>
<span class="refAuthor">Eisinger, J.</span> and <span class="refAuthor">E. Stark</span>, <span class="refTitle">"Referrer Policy"</span>, <span class="seriesInfo">World Wide Web Consortium CR CR-referrer-policy-20170126</span>, <time datetime="2017-01-26" class="refDate">26 January 2017</time>, <span>&lt;<a href="https://www.w3.org/TR/2017/CR-referrer-policy-20170126">https://www.w3.org/TR/2017/CR-referrer-policy-20170126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3205">[RFC3205]</dt>
        <dd>
<span class="refAuthor">Moore, K.</span>, <span class="refTitle">"On the use of HTTP as a Substrate"</span>, <span class="seriesInfo">BCP 56</span>, <span class="seriesInfo">RFC 3205</span>, <span class="seriesInfo">DOI 10.17487/RFC3205</span>, <time datetime="2002-02" class="refDate">February 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3205">https://www.rfc-editor.org/rfc/rfc3205</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4791">[RFC4791]</dt>
        <dd>
<span class="refAuthor">Daboo, C.</span>, <span class="refAuthor">Desruisseaux, B.</span>, and <span class="refAuthor">L. Dusseault</span>, <span class="refTitle">"Calendaring Extensions to WebDAV (CalDAV)"</span>, <span class="seriesInfo">RFC 4791</span>, <span class="seriesInfo">DOI 10.17487/RFC4791</span>, <time datetime="2007-03" class="refDate">March 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4791">https://www.rfc-editor.org/rfc/rfc4791</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4918">[RFC4918]</dt>
        <dd>
<span class="refAuthor">Dusseault, L., Ed.</span>, <span class="refTitle">"HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)"</span>, <span class="seriesInfo">RFC 4918</span>, <span class="seriesInfo">DOI 10.17487/RFC4918</span>, <time datetime="2007-06" class="refDate">June 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4918">https://www.rfc-editor.org/rfc/rfc4918</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5246">[RFC5246]</dt>
        <dd>
<span class="refAuthor">Dierks, T.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.2"</span>, <span class="seriesInfo">RFC 5246</span>, <span class="seriesInfo">DOI 10.17487/RFC5246</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5246">https://www.rfc-editor.org/rfc/rfc5246</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5861">[RFC5861]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"HTTP Cache-Control Extensions for Stale Content"</span>, <span class="seriesInfo">RFC 5861</span>, <span class="seriesInfo">DOI 10.17487/RFC5861</span>, <time datetime="2010-05" class="refDate">May 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5861">https://www.rfc-editor.org/rfc/rfc5861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6265">[RFC6265]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"HTTP State Management Mechanism"</span>, <span class="seriesInfo">RFC 6265</span>, <span class="seriesInfo">DOI 10.17487/RFC6265</span>, <time datetime="2011-04" class="refDate">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6265">https://www.rfc-editor.org/rfc/rfc6265</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6415">[RFC6415]</dt>
        <dd>
<span class="refAuthor">Hammer-Lahav, E., Ed.</span> and <span class="refAuthor">B. Cook</span>, <span class="refTitle">"Web Host Metadata"</span>, <span class="seriesInfo">RFC 6415</span>, <span class="seriesInfo">DOI 10.17487/RFC6415</span>, <time datetime="2011-10" class="refDate">October 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6415">https://www.rfc-editor.org/rfc/rfc6415</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6570">[RFC6570]</dt>
        <dd>
<span class="refAuthor">Gregorio, J.</span>, <span class="refAuthor">Fielding, R.</span>, <span class="refAuthor">Hadley, M.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">D. Orchard</span>, <span class="refTitle">"URI Template"</span>, <span class="seriesInfo">RFC 6570</span>, <span class="seriesInfo">DOI 10.17487/RFC6570</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6570">https://www.rfc-editor.org/rfc/rfc6570</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6797">[RFC6797]</dt>
        <dd>
<span class="refAuthor">Hodges, J.</span>, <span class="refAuthor">Jackson, C.</span>, and <span class="refAuthor">A. Barth</span>, <span class="refTitle">"HTTP Strict Transport Security (HSTS)"</span>, <span class="seriesInfo">RFC 6797</span>, <span class="seriesInfo">DOI 10.17487/RFC6797</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6797">https://www.rfc-editor.org/rfc/rfc6797</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7258">[RFC7258]</dt>
        <dd>
<span class="refAuthor">Farrell, S.</span> and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Pervasive Monitoring Is an Attack"</span>, <span class="seriesInfo">BCP 188</span>, <span class="seriesInfo">RFC 7258</span>, <span class="seriesInfo">DOI 10.17487/RFC7258</span>, <time datetime="2014-05" class="refDate">May 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7258">https://www.rfc-editor.org/rfc/rfc7258</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7595">[RFC7595]</dt>
        <dd>
<span class="refAuthor">Thaler, D., Ed.</span>, <span class="refAuthor">Hansen, T.</span>, and <span class="refAuthor">T. Hardie</span>, <span class="refTitle">"Guidelines and Registration Procedures for URI Schemes"</span>, <span class="seriesInfo">BCP 35</span>, <span class="seriesInfo">RFC 7595</span>, <span class="seriesInfo">DOI 10.17487/RFC7595</span>, <time datetime="2015-06" class="refDate">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7595">https://www.rfc-editor.org/rfc/rfc7595</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7605">[RFC7605]</dt>
        <dd>
<span class="refAuthor">Touch, J.</span>, <span class="refTitle">"Recommendations on Using Assigned Transport Port Numbers"</span>, <span class="seriesInfo">BCP 165</span>, <span class="seriesInfo">RFC 7605</span>, <span class="seriesInfo">DOI 10.17487/RFC7605</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7605">https://www.rfc-editor.org/rfc/rfc7605</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7616">[RFC7616]</dt>
        <dd>
<span class="refAuthor">Shekh-Yusef, R., Ed.</span>, <span class="refAuthor">Ahrens, D.</span>, and <span class="refAuthor">S. Bremer</span>, <span class="refTitle">"HTTP Digest Access Authentication"</span>, <span class="seriesInfo">RFC 7616</span>, <span class="seriesInfo">DOI 10.17487/RFC7616</span>, <time datetime="2015-09" class="refDate">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7616">https://www.rfc-editor.org/rfc/rfc7616</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7617">[RFC7617]</dt>
        <dd>
<span class="refAuthor">Reschke, J.</span>, <span class="refTitle">"The 'Basic' HTTP Authentication Scheme"</span>, <span class="seriesInfo">RFC 7617</span>, <span class="seriesInfo">DOI 10.17487/RFC7617</span>, <time datetime="2015-09" class="refDate">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7617">https://www.rfc-editor.org/rfc/rfc7617</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7807">[RFC7807]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">E. Wilde</span>, <span class="refTitle">"Problem Details for HTTP APIs"</span>, <span class="seriesInfo">RFC 7807</span>, <span class="seriesInfo">DOI 10.17487/RFC7807</span>, <time datetime="2016-03" class="refDate">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7807">https://www.rfc-editor.org/rfc/rfc7807</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8297">[RFC8297]</dt>
        <dd>
<span class="refAuthor">Oku, K.</span>, <span class="refTitle">"An HTTP Status Code for Indicating Hints"</span>, <span class="seriesInfo">RFC 8297</span>, <span class="seriesInfo">DOI 10.17487/RFC8297</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8297">https://www.rfc-editor.org/rfc/rfc8297</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8470">[RFC8470]</dt>
        <dd>
<span class="refAuthor">Thomson, M.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">W. Tarreau</span>, <span class="refTitle">"Using Early Data in HTTP"</span>, <span class="seriesInfo">RFC 8470</span>, <span class="seriesInfo">DOI 10.17487/RFC8470</span>, <time datetime="2018-09" class="refDate">September 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8470">https://www.rfc-editor.org/rfc/rfc8470</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8941">[RFC8941]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">P-H. Kamp</span>, <span class="refTitle">"Structured Field Values for HTTP"</span>, <span class="seriesInfo">RFC 8941</span>, <span class="seriesInfo">DOI 10.17487/RFC8941</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8941">https://www.rfc-editor.org/rfc/rfc8941</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8949">[RFC8949]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8949">https://www.rfc-editor.org/rfc/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SECCTXT">[SECCTXT]</dt>
        <dd>
<span class="refAuthor">West, M.</span>, <span class="refTitle">"Secure Contexts"</span>, <span class="seriesInfo">World Wide Web Consortium CR CR-secure-contexts-20160915</span>, <time datetime="2016-09-15" class="refDate">15 September 2016</time>, <span>&lt;<a href="https://www.w3.org/TR/2016/CR-secure-contexts-20160915">https://www.w3.org/TR/2016/CR-secure-contexts-20160915</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="XML">[XML]</dt>
      <dd>
<span class="refAuthor">Bray, T.</span>, <span class="refAuthor">Paoli, J.</span>, <span class="refAuthor">Sperberg-McQueen, M.</span>, <span class="refAuthor">Maler, E.</span>, and <span class="refAuthor">F. Yergeau</span>, <span class="refTitle">"Extensible Markup Language (XML) 1.0 (Fifth Edition)"</span>, <span class="seriesInfo">World Wide Web Consortium Recommendation REC-xml-20081126</span>, <time datetime="2008-11-26" class="refDate">26 November 2008</time>, <span>&lt;<a href="https://www.w3.org/TR/2008/REC-xml-20081126">https://www.w3.org/TR/2008/REC-xml-20081126</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="changes-from-rfc-3205">
<section id="appendix-A">
      <h2 id="name-changes-from-rfc-3205">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-changes-from-rfc-3205" class="section-name selfRef">Changes from RFC 3205</a>
      </h2>
<p id="appendix-A-1"><span>[<a href="#RFC3205" class="xref">RFC3205</a>]</span> captured the Best Current Practice in the early 2000's, based on the concerns facing protocol designers at the time. Use of HTTP has changed considerably since then, and as a result this document is substantially different. As a result, the changes are too numerous to list individually.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mark Nottingham</span></div>
<div dir="auto" class="left">
<span class="locality">Prahran</span> <span class="region">VIC</span> </div>
<div dir="auto" class="left"><span class="country-name">Australia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mnot@mnot.net" class="email">mnot@mnot.net</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://www.mnot.net/" class="url">https://www.mnot.net/</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
