<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RPL Observations</title>
<meta content="Rahul Arvind Jadhav" name="author">
<meta content="Rabi Narayan Sahoo" name="author">
<meta content="Yuefeng Wu" name="author">
<meta content="
       
            This document describes RPL protocol design issues, various
            observations and possible consequences of the design and
            implementation choices.
       
    " name="description">
<meta content="xml2rfc 3.11.1" name="generator">
<meta content="RPL, 6lo, metrics, constraints" name="keyword">
<meta content="draft-ietf-roll-rpl-observations-07" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.11.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.4
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.26.0
    setuptools 59.1.1
    six 1.16.0
-->
<link href="/tmp/draft-ietf-roll-rpl-observations-07-zzw8u608.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">RPL Observations</td>
<td class="right">November 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Jadhav, et al.</td>
<td class="center">Expires 2 June 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ROLL</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-roll-rpl-observations-07</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-11-29" class="published">29 November 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-06-02">2 June 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R.A. Jadhav, <span class="editor">Ed.</span>
</div>
</div>
<div class="author">
      <div class="author-name">R.N. Sahoo</div>
<div class="org">Juniper</div>
</div>
<div class="author">
      <div class="author-name">Y. Wu</div>
<div class="org">Huawei</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">RPL Observations</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
            This document describes RPL protocol design issues, various
            observations and possible consequences of the design and
            implementation choices.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 2 June 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-motivation" class="xref">Motivation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-requirements-language-and-t" class="xref">Requirements Language and Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-dtsn-increment-in-storing-m" class="xref">DTSN increment in storing MOP</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-deliberations" class="xref">Deliberations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-dao-retransmission-and-use-" class="xref">DAO retransmission and use of DAO-ACK in storing MOP</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-significance-of-bidirection" class="xref">Significance of bidirectional Path establishment             indication and relevance of DAO-ACK</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-problems-with-hop-by-hop-da" class="xref">Problems with hop-by-hop DAO-ACK</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-problems-with-end-to-end-da" class="xref">Problems with end-to-end DAO-ACK</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-deliberations-2" class="xref">Deliberations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-implementation-notes" class="xref">Implementation Notes</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-interpreting-trickle-timer" class="xref">Interpreting Trickle Timer</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-handling-resource-unavailab" class="xref">Handling resource unavailability</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-deliberations-3" class="xref">Deliberations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-handling-aggregated-targets" class="xref">Handling aggregated targets</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-deliberations-4" class="xref">Deliberations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-rpl-transit-information-in-" class="xref">RPL Transit Information in DAO</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-deliberations-5" class="xref">Deliberations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-upgrades-or-extensions-to-r" class="xref">Upgrades or Extensions to RPL protocol</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-path-control-bits-handling" class="xref">Path Control bits handling</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-asymmetric-links-and-rpl" class="xref">Asymmetric Links and RPL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-adjacencies-probing-with-rp" class="xref">Adjacencies probing with RPL</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-deliberations-6" class="xref">Deliberations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-control-options-eliding-mec" class="xref">Control Options eliding mechanism in RPL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-managing-persistent-variabl" class="xref">Managing persistent variables across node reboots</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-14.1" class="xref">14.1</a>.  <a href="#name-persistent-storage-and-rpl-" class="xref">Persistent storage and RPL state information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-14.2" class="xref">14.2</a>.  <a href="#name-lollipop-counters" class="xref">Lollipop Counters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3">
                <p id="section-toc.1-1.14.2.3.1"><a href="#section-14.3" class="xref">14.3</a>.  <a href="#name-rpl-state-variables" class="xref">RPL State variables</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3.2.1">
                    <p id="section-toc.1-1.14.2.3.2.1.1"><a href="#section-14.3.1" class="xref">14.3.1</a>.  <a href="#name-dodag-version" class="xref">DODAG Version</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3.2.2">
                    <p id="section-toc.1-1.14.2.3.2.2.1"><a href="#section-14.3.2" class="xref">14.3.2</a>.  <a href="#name-dtsn-field-in-dio" class="xref">DTSN field in DIO</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3.2.3">
                    <p id="section-toc.1-1.14.2.3.2.3.1"><a href="#section-14.3.3" class="xref">14.3.3</a>.  <a href="#name-pathsequence" class="xref">PathSequence</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.4">
                <p id="section-toc.1-1.14.2.4.1"><a href="#section-14.4" class="xref">14.4</a>.  <a href="#name-state-variables-update-freq" class="xref">State variables update frequency</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.5">
                <p id="section-toc.1-1.14.2.5.1"><a href="#section-14.5" class="xref">14.5</a>.  <a href="#name-deliberations-7" class="xref">Deliberations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.6">
                <p id="section-toc.1-1.14.2.6.1"><a href="#section-14.6" class="xref">14.6</a>.  <a href="#name-implementation-notes-2" class="xref">Implementation Notes</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-capabilities-and-its-role-i" class="xref">Capabilities and its role in RPL</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#section-15.1" class="xref">15.1</a>.  <a href="#name-handshaking-node-capabiliti" class="xref">Handshaking node capabilities</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#section-15.2" class="xref">15.2</a>.  <a href="#name-how-do-capabilities-differ-" class="xref">How do Capabilities differ from MOP and Configuration Option?</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.3">
                <p id="section-toc.1-1.15.2.3.1"><a href="#section-15.3" class="xref">15.3</a>.  <a href="#name-deliberations-8" class="xref">Deliberations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="xref">16</a>. <a href="#name-backward-compatibility-issu" class="xref">Backward Compatibility issues with RPL Options</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-17" class="xref">17</a>. <a href="#name-rpl-under-specification" class="xref">RPL under-specification</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#section-18" class="xref">18</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19">
            <p id="section-toc.1-1.19.1"><a href="#section-19" class="xref">19</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.20">
            <p id="section-toc.1-1.20.1"><a href="#section-20" class="xref">20</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.21">
            <p id="section-toc.1-1.21.1"><a href="#section-21" class="xref">21</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.21.2.1">
                <p id="section-toc.1-1.21.2.1.1"><a href="#section-21.1" class="xref">21.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.21.2.2">
                <p id="section-toc.1-1.21.2.2.1"><a href="#section-21.2" class="xref">21.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.22">
            <p id="section-toc.1-1.22.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-additional-stuff" class="xref">Additional Stuff</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.23">
            <p id="section-toc.1-1.23.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-motivation">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-motivation" class="section-name selfRef">Motivation</a>
      </h2>
<p id="section-1-1">
            The primary motivation for this draft is to enlist different issues
            with RPL operation and invoke a discussion within the working
            group. This draft by itself is not intended for RFC tracks but as a
            WG discussion track. This draft may in turn result in other work
            items taken up by the WG which may improvise on the issues
            mentioned herewith.<a href="#section-1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-introduction">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-2-1">
            RPL <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> specifies a proactive distance-vector
            routing scheme designed for LLNs (Low Power and Lossy Networks).
            RPL enables the network to be formed as a DODAG and
            supports storing mode and non-storing mode of operations.
            Non-storing mode allows reduced memory resource usage on the nodes
            by allowing non-BR nodes to operate without managing a routing
            table and involves use of source routing by the Root to direct the
            traffic along a specific path. In storing mode of operation
            intermediate routers maintain routing tables.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
            This work aims to highlight various issues with RPL which
            makes it difficult to handle certain scenarios. This work will
            highlight such issues in context to RPL's mode of operations
            (storing versus non-storing). There are cases where RPL does not
            provide clear rules and implementations have to make their choices
            hindering interoperability and performance.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">
            <span>[<a href="#I-D.clausen-lln-rpl-experiences" class="xref">I-D.clausen-lln-rpl-experiences</a>]</span> provides some
            interesting points. Some sections in this draft may overlap with
            some observations in [clausen], but this is been done to further
            extend some scenarios or observations. It is highly encouraged that
            readers should also visit <span>[<a href="#I-D.clausen-lln-rpl-experiences" class="xref">I-D.clausen-lln-rpl-experiences</a>]</span> for other insights.
            Regardless, this draft is self-sufficient in a way that it does not
            expect to have read [clausen-draft].<a href="#section-2-3" class="pilcrow">¶</a></p>
<section id="section-2.1">
        <h3 id="name-requirements-language-and-t">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-requirements-language-and-t" class="section-name selfRef">Requirements Language and Terminology</a>
        </h3>
<p id="section-2.1-1">
                The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
                NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
                "OPTIONAL" in this document are to be interpreted as described
                in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">
                NS-MOP = RPL Non-storing Mode of Operation<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">
                S-MOP = RPL Storing Mode of Operation<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4">
                This document uses terminology described in <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> and <span>[<a href="#RFC6775" class="xref">RFC6775</a>]</span>.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
</section>
</section>
<div id="DTSNincr">
<section id="section-3">
      <h2 id="name-dtsn-increment-in-storing-m">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-dtsn-increment-in-storing-m" class="section-name selfRef">DTSN increment in storing MOP</a>
      </h2>
<p id="section-3-1">
            DTSN increment has major impact on the overall RPL control traffic
            and on the efficiency of downstream route update.  DTSN is sent as
            part of DIO message and signals the downstream nodes to trigger the
            target advertisement. The 6LR needs to decide when to update the
            DTSN and usually it should do it in a conservative way. The DTSN
            update mechanism determines how soon the downward routes are
            established along the new path. RPL specifications does not provide
            any clear mechanism on how the DTSN update should happen in case of
            storing mode.<a href="#section-3-1" class="pilcrow">¶</a></p>
<span id="name-sample-topology"></span><div id="sample_top">
<figure id="figure-1">
        <div class="alignCenter art-text artwork" id="section-3-2.1">
<pre>
     (6LBR)
        |
        |
        |
       (A)
       / \
      /   \
     /     \
   (B)    -(C)
    |    /  |
    |   /   |
    |  /    |
   (D)-    (E)
     \      ;
      \    ;
       \  ;
        (F)
        / \
       /   \
      /     \
    (G)     (H)
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-sample-topology" class="selfRef">Sample                 topology</a>
        </figcaption></figure>
</div>
<p id="section-3-3">
            Consider example topology shown in <a href="#sample_top" class="xref">Figure 1</a>,
            assume that node D switches the parent from node B to C. Ideally
            the downstream nodes D and its sub-childs should send their target
            advertisement to the new path via node C.  To achieve this result
            in a efficient way is a challenge.  Incrementing DTSN is the only
            way to trigger the DAO on downstream nodes. But this trigger should
            be sent not only on the first hop but to all the grand-child nodes.
            Thus DTSN has to be incremented in the complete sub-DODAG rooted at
            node D thus resulting in DIO/DAO storm along the sub-DODAG. This is
            specifically a big issue in high density networks where the metric
            deteoration might happen transiently even though the signal
            strength is good.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
            The primary implementation issue is whether a child node increment
            its own DTSN when it receives DTSN update from its parent node?
            This would result in DAO-updates in the sub-DODAG, thus the cost
            could be very high. If not incremented it may result in serious
            loss of connectivity for nodes in the sub-DODAG.<a href="#section-3-4" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-deliberations">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-deliberations" class="section-name selfRef">Deliberations</a>
        </h3>
<span class="break"></span><dl class="olPercent" id="section-3.1-1">
<dt>(1)</dt>
<dd id="section-3.1-1.1">
                        In S-MOP, should the child node increment its DTSN on
                        seeing that its preferred parent has updated its DTSN?<a href="#section-3.1-1.1" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-3.1-1.2">
                        What are rules for DTSN increment for S-MOP, which
                        multiple implementations can follow thus allowing
                        consistent performance across different
                        implementations?<a href="#section-3.1-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
</div>
<section id="section-4">
      <h2 id="name-dao-retransmission-and-use-">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-dao-retransmission-and-use-" class="section-name selfRef">DAO retransmission and use of DAO-ACK in storing MOP</a>
      </h2>
<p id="section-4-1">
            <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> has an optional DAO-ACK mechanism using
            which an upstream parent confirms the reception of a DAO from the
            downstream child. In case of storing mode, the DAO is addressed to
            the immediate hop upstream parent resulting in DAO-ACK from the
            parent. There are two implementations possible:<a href="#section-4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-4-2">
<dt>(1)</dt>
<dd id="section-4-2.1">
                    Hop-by-hop ACK: A parent responds with a DAO-ACK
                    immedetialy after receiving the DAO.<a href="#section-4-2.1" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-4-2.2">
                    End-to-End ACK: A node waits for the upstream parent to
                    send DAO-ACK to respond with a DAO-ACK downstream. The
                    upstream parent may do as many attempts to successfully
                    send this DAO upstream. In other words, the parent node
                    accepts the responsibilty of sending the DAO upstream till
                    the point it is ACKed the moment it responds back with its
                    own ACK to the child.<a href="#section-4-2.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<span id="name-hop-by-hop-dao-ack"></span><div id="hbh_ack">
<figure id="figure-2">
        <div class="alignCenter art-text artwork" id="section-4-3.1">
<pre>
           1-&gt;          3-&gt;
           DAO          DAO
(TgtNode)--------(6LR)-------(root)
           ACK          ACK
           &lt;-2          &lt;-4
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-hop-by-hop-dao-ack" class="selfRef">Hop-by-hop DAO-ACK</a>
        </figcaption></figure>
</div>
<span id="name-end-to-end-dao-ack"></span><div id="e2e_ack">
<figure id="figure-3">
        <div class="alignCenter art-text artwork" id="section-4-4.1">
<pre>
           1-&gt;          2-&gt;
           DAO          DAO
(TgtNode)--------(6LR)-------(root)
           ACK          ACK
           &lt;-4          &lt;-3
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-end-to-end-dao-ack" class="selfRef">End-to-End DAO-ACK</a>
        </figcaption></figure>
</div>
<section id="section-4.1">
        <h3 id="name-significance-of-bidirection">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-significance-of-bidirection" class="section-name selfRef">Significance of bidirectional Path establishment             indication and relevance of DAO-ACK</a>
        </h3>
<p id="section-4.1-1">
                Lot of application traffic patterns requires that the
                bidirectional path be established between the target node and
                the root. A typical example is that COAP request with ACK bit
                set would require an acknowledgement from the end receiver and
                thus warrants bidirectional path establishment. It is
                imperative that the target node first ascertains whether such a
                bidirectional path is established before initiating such
                application traffic. In case of non-storing MOP, the DAO-ACK
                works perfectly fine to ascertain such bidirectional
                connectivity since it is an indication that the root which
                usually is the direct destination of the DAO has received the
                DAO. But in case of storing MOP, things are more complicated
                since DAO is sent hop-by-hop and the DAO-ACK semantics are not
                clear enough as per the current specification. As mentioned in
                above section, an implementation can choose to implement
                hop-by-hop ACK or end-to-end ACK.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-problems-with-hop-by-hop-da">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-problems-with-hop-by-hop-da" class="section-name selfRef">Problems with hop-by-hop DAO-ACK</a>
        </h3>
<p id="section-4.2-1">
                The primary issue with this mode is that target node cannot
                ascertain bidirection path connectivity on the reception of the
                DAO-ACK.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-problems-with-end-to-end-da">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-problems-with-end-to-end-da" class="section-name selfRef">Problems with end-to-end DAO-ACK</a>
        </h3>
<p id="section-4.3-1">
                In this case, it is possible for the target node to ascertain
                if the DAO has indeed reached the root since the reception of
                DAO-ACK on target node confirms this. However there is extra
                state information that needs to be maintained on the 6LRs on
                behalf of all the child nodes. Also it is very difficult for
                the target node to ascertain a timer value to decide whether
                the DAO transmission has failed to reach the root.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4">
        <h3 id="name-deliberations-2">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-deliberations-2" class="section-name selfRef">Deliberations</a>
        </h3>
<span class="break"></span><dl class="olPercent" id="section-4.4-1">
<dt>(1)</dt>
<dd id="section-4.4-1.1">
                        How should an implementation interpret the DAO-ACK
                        semantics?<a href="#section-4.4-1.1" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-4.4-1.2">
                        What is the best way for the target node to know that
                        the end to end bidirectional path is successfully
                        installed or updated? In NS-MOP, the DAO-ACK provides a
                        clear way to do this. Can the same be achieved for
                        storing-MOP?<a href="#section-4.4-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(3)</dt>
<dd id="section-4.4-1.3">
                        What happens if the DAO-ACK with Status!=0 is responded by
                        ancestor node?<a href="#section-4.4-1.3" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(4)</dt>
<dd id="section-4.4-1.4">
                        How to selectively NACK subset of targets in case
                        target options are aggregated?<a href="#section-4.4-1.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-4.5">
        <h3 id="name-implementation-notes">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-implementation-notes" class="section-name selfRef">Implementation Notes</a>
        </h3>
<p id="section-4.5-1">
                Current RPL open source implementations have both types of
                DAO-ACK implementations. For e.g. RIOT supports hop-by-hop
                DAO-ACK. Contiki older versions supported hop-by-hop ACK but
                the recent version have changed to end-to-end ACK
                implementation.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2">
                The sequence of sending no-path DAO and DAO matters when
                updating the routing adjacencies on a parent switch. If an
                implementation chooses to send no-path DAO before DAO then it
                results in significantly more overhead for route invalidation.
                This is because no-path DAO would traverse all the way up to
                the BR clearing the routes on the way. In case there is a
                common ancestor post which the old and new path remains same
                then it is better to send regular DAO first thus limiting the
                propagation of subsequent no-path DAO till this common
                ancestor.<a href="#section-4.5-2" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-5">
      <h2 id="name-interpreting-trickle-timer">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-interpreting-trickle-timer" class="section-name selfRef">Interpreting Trickle Timer</a>
      </h2>
<p id="section-5-1">
            Trickle algorithm defines a mechanism to reset the timer. Trickle timer
            reset is unlike regular periodic timers wherein the timer is
            simply reset to start again. Reset of trickle timer implies
            resetting the trickle back to Imin and starting with a new interval
            as mentioned in Section 4.2 of <span>[<a href="#RFC6206" class="xref">RFC6206</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<span id="name-trickle-timer-operation"></span><div id="trickle">
<figure id="figure-4">
        <div class="alignCenter art-text artwork" id="section-5-2.1">
<pre>
|----|--------|----------------|------------------------------| . . . .
 Imin   I2             I3                     I4                    I5
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-trickle-timer-operation" class="selfRef">Trickle Timer Operation</a>
        </figcaption></figure>
</div>
<p id="section-5-3">
            The above figure shows an example of trickle intervals. An interval
            is double that of the previous interval size. Section 4.2. of <span>[<a href="#RFC6206" class="xref">RFC6206</a>]</span> states that,<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">
            "If Trickle hears a transmission that is "inconsistent" and I is
            greater than Imin, it resets the Trickle timer.  To reset the
            timer, Trickle sets I to Imin and starts a new interval as in step
            2.  If I is equal to Imin when Trickle hears an "inconsistent"
            transmission, Trickle does nothing.  Trickle can also reset its
            timer in response to external "events"."<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">
            Thus if the trickle timer has advanced to subsequent intervals
            i.e., &gt;= I2, then a reset of trickle timer implies going back to
            Imin. However, if the trickle timer is currently in Imin and if it hears an
            inconsistent transmission then it does nothing.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">
            In context to multicast DIS/DIO operation, this implies that if the
            DIO trickle timer is already at Imin and if the node hears a
            multicast DIS, then the timer does nothing. It MUST NOT reset the
            timer again in this case.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">
            An implementation MUST never restart the timer within an interval.
            For e.g., in the above figure, if the timer is in interval I2, the
            implementation MUST never restart the timer to the beginning of the
            current interval i.e., I2. If the timer is in interval T2 and if
            the reset is to be done then the interval is set back to Imin. If
            the timer is already in Imin, then the reset should do nothing.<a href="#section-5-7" class="pilcrow">¶</a></p>
</section>
<section id="section-6">
      <h2 id="name-handling-resource-unavailab">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-handling-resource-unavailab" class="section-name selfRef">Handling resource unavailability</a>
      </h2>
<p id="section-6-1">
            The nodes in the constrained networks have to maintain various
            records such as neighbor cache entries and routing entries on
            behalf of other targets to facilitate packet forwarding. Because of
            the constrained nature of the devices the memory available may be
            very limited and thus the path selection algorithm may have to take
            into consideration such resource constraints as well.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">
            RPL currently does not have any mechanism to advertise such
            resource indicator metrics. The primary tables associated with RPL
            are routing table and the neighbor cache. Even though neighbor
            cache is not directly linked with RPL protocol, the maintenance of
            routing adjacencies results in updates to neigbor cache.<a href="#section-6-2" class="pilcrow">¶</a></p>
<section id="section-6.1">
        <h3 id="name-deliberations-3">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-deliberations-3" class="section-name selfRef">Deliberations</a>
        </h3>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-1.1">
                        Is it possible to know that an upstream parent/ancestor
                        cannot hold enough routing entries and thus this path
                        should not be used?<a href="#section-6.1-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-6.1-1.2">
                        Is it possible to know that an upstream parent cannot
                        hold any more neighbor cache entry and thus this
                        upstream parent should not be used?<a href="#section-6.1-1.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
<section id="section-7">
      <h2 id="name-handling-aggregated-targets">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-handling-aggregated-targets" class="section-name selfRef">Handling aggregated targets</a>
      </h2>
<p id="section-7-1">
            RPL allows and defines specific procedures so as to aid target
            aggregation in DAO. Having said that, the specification does not
            mandate use of aggregated targets nor does it make any comment on
            whether a receiving node needs to handle it. Target aggregation is
            an useful tool and especially helps with link layer technologies
            that does not suffer from low MTUs such as PLC. Even if the
            implementation does not support aggregating targets, it should
            atleast mandate reception of aggregated targets in DAO.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
            RPL has a mechanism currently to ACK the DAO but it does not have a
            mechanism to ACK the target option. Thus in case of aggregated
            targets in the DAO, if the subset of the targets fail then it is
            impossible for the DAO-ACK to signal this to the DAO sender.<a href="#section-7-2" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-deliberations-4">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-deliberations-4" class="section-name selfRef">Deliberations</a>
        </h3>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1-1.1">
                        Even if the implementation does not support aggregating
                        targets, should it atleast mandate reception and
                        handling of aggregated targets in DAO?<a href="#section-7.1-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-7.1-1.2">
                        There is a good scope for compressing aggregated
                        targets which can significantly reduce the RPL control
                        overhead.<a href="#section-7.1-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-7.1-1.3">
                        How to selectively NACK subset of targets in case
                        target options are aggregated?<a href="#section-7.1-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-7.1-1.4">
                        The DEFAULT_DAO_DELAY of 1sec does not help much with
                        aggregation. The upstream parent nodes should wait for
                        more time then the child nodes so as to effectively
                        aggregate. Can we have DEFAULT_DAO_DELAY a function of
                        the level/rank the node is at?<a href="#section-7.1-1.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
<section id="section-8">
      <h2 id="name-rpl-transit-information-in-">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-rpl-transit-information-in-" class="section-name selfRef">RPL Transit Information in DAO</a>
      </h2>
<p id="section-8-1">
            RPL allows associating a target or set of targets with a Transit
            Information Option which contains attributes for a path to one
            or more destinations identified by the set of targets. In case of
            NS-MOP, the transit Information will contain the all critical
            Parent Address which allows the common ancestor usually the root to
            identify the source route header for the target node. The Transit
            Information also contains other information such as Path Sequence
            and Path Lifetime which are critical for maintaining route
            adjacencies.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">
            RPL however does not mandate the use of Transit Information
            Option for targets.<a href="#section-8-2" class="pilcrow">¶</a></p>
<section id="section-8.1">
        <h3 id="name-deliberations-5">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-deliberations-5" class="section-name selfRef">Deliberations</a>
        </h3>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-8.1-1.1">
                        Is it ok to let implementations decide on the inclusion
                        of Transit Information Option?<a href="#section-8.1-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-8.1-1.2">
                        Is it possible to achieve interop without mandating use
                        of Transit Information Option?<a href="#section-8.1-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-8.1-1.3">
                        If the Transit Information Option is sent, should
                        the handling of PathSequence be mandated?<a href="#section-8.1-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
<section id="section-9">
      <h2 id="name-upgrades-or-extensions-to-r">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-upgrades-or-extensions-to-r" class="section-name selfRef">Upgrades or Extensions to RPL protocol</a>
      </h2>
<p id="section-9-1">
            RPL extensibility is highly desirable and is controlled by protocol
            elements within the messaging framework. In the pursuit to keep the
            signalling overhead less, RPL specification has been restricting in
            its approach to extend its field ranges, thus in some cases putting
            extensibility at stakes. Consider for example, the mode of
            operation bits which is three bits in the RPL specification. These
            bits are already saturated and it may be difficult to add major
            upgrades without extending these bits.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">
            Addition of new Control Options or new RPL Codes almost certainly
            results in backward compatibility issues. RFC6550 clearly mentions
            that a message with an unknown RPL Code MUST be silently discarded.
            However, no explicit handling is suggested for unknown RPL control
            option types. In some cases, implementations simply copy-forward an
            unknown option as it is while in other cases the unknown option is
            stripped off before forwarding the message.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">
            Deliberations:<a href="#section-9-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-9-4">
<dt>(1)</dt>
<dd id="section-9-4.1">
                    What are the extensibility options RPL could implement? How
                    much overhead would it incur?<a href="#section-9-4.1" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-9-4.2">
                    Most of the extensions are in the form of new control
                    options. Should RPL have a mechanism to only handle such
                    extensions in a backward compatible but in a generic manner?<a href="#section-9-4.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<section id="section-10">
      <h2 id="name-path-control-bits-handling">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-path-control-bits-handling" class="section-name selfRef">Path Control bits handling</a>
      </h2>
<p id="section-10-1">
            RPL uses Path Control bits in the DAO's Transit Information Option
            for installing multiple downward routes to the nodes. These multiple
            routes could be used for reliability, latency or traffic
            load-balancing within a DAG. The path control bits are usable both
            in storing and non-storing mode of operation.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">
            RFC6550 Section 9.9 bullet point 9 requires a mandatory setting of
            Path Control bits in all the unicast DAOs sent by the Target node.
            However, no existing implementation of RPL supports this. There is
            no reason for a network which only requires a single path to the
            root to mandatorily support path control bits.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">
            Deliberations:<a href="#section-10-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-10-4">
<dt>(1)</dt>
<dd id="section-10-4.1">
                    Should the mandatory clause for supporting Path Control Bits
                    in RFC6550 Section 9.9 point 9 be removed?<a href="#section-10-4.1" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-10-4.2">
                    Handling Path Control Bits may be complex. An implementation
                    guideline explaining the use-cases and resource (memory
                    requirements) assumptions would help implementors decide the
                    utility of this technique.<a href="#section-10-4.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<section id="section-11">
      <h2 id="name-asymmetric-links-and-rpl">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-asymmetric-links-and-rpl" class="section-name selfRef">Asymmetric Links and RPL</a>
      </h2>
<p id="section-11-1">
            Section 3.1 of <span>[<a href="#I-D.ietf-intarea-adhoc-wireless-com" class="xref">I-D.ietf-intarea-adhoc-wireless-com</a>]</span>
            explains asymmetric link characteristics and what it takes for a
            protocol to support asymmetric links. RPL depends on bi-directional
            links for control even though near-perfect symmetry is not
            expected. The implication of this is that the upstream and
            downstream path remains same within a given RPL instance for any
            pair of nodes. There are following questions sprouting of this design:<a href="#section-11-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-11-2">
<dt>(1)</dt>
<dd id="section-11-2.1">
                    Is it possible to detect asymmetric links?<a href="#section-11-2.1" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-11-2.2">
                    In the presence of asymmetric links what is the impact on
                    the control overhead and is there a way to possibly
                    mitigate or alleviate any negative impact?<a href="#section-11-2.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-11-3">
            <span>[<a href="#I-D.ietf-roll-aodv-rpl" class="xref">I-D.ietf-roll-aodv-rpl</a>]</span> defines a mechanism to use
            a pair of instances which are coupled. This allows disjoint
            upstream and downstream paths between pair of nodes assuming that
            the link asymmetricity is detected using some outside techniques.
            The link assumes that the link asymmetricity is already known to
            the nodes in the form of static configuration. In case of 6tisch
            networks, the availability of transmission slots information can be
            used to identify link asymmetricity. The challenge with regards to
            detecting link asymmetricity arises from scenarios where, for
            example, the nodes transmit with unequal power levels.<a href="#section-11-3" class="pilcrow">¶</a></p>
</section>
<section id="section-12">
      <h2 id="name-adjacencies-probing-with-rp">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-adjacencies-probing-with-rp" class="section-name selfRef">Adjacencies probing with RPL</a>
      </h2>
<p id="section-12-1">
            RPL avoids periodic hello messaging as compared to other
            distance-vector protocols. It uses trickle timer based mechanism to
            update configuration parameters. This significantly reduces the RPL
            control overhead. One of the fallout of this design choice is that,
            in the absence of regular traffic, the adjacencies could not be
            tested and repaired if broken.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">
            RPL provides a mechanism in the form of unicast DIS to query a
            particular node for its DIO. A node receiving a unicast DIS MUST
            respond with a unicast DIO with Configuration Option. This
            mechanism could as well be made use of for probing adjacencies and
            certain implementations such as Contiki uses this. The periodicity
            of the probing is implementation dependent, but the node is
            expected to invoke probing only when<a href="#section-12-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-12-3">
<dt>(1)</dt>
<dd id="section-12-3.1">
                    There is no data traffic based on which the links could be
                    tested.<a href="#section-12-3.1" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-12-3.2">
                    There is no L2 feedback. In some case, L2 might provide
                    periodic beacons at link layer and the absence of beacons
                    could be used for link tests.<a href="#section-12-3.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<section id="section-12.1">
        <h3 id="name-deliberations-6">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-deliberations-6" class="section-name selfRef">Deliberations</a>
        </h3>
<span class="break"></span><dl class="olPercent" id="section-12.1-1">
<dt>(1)</dt>
<dd id="section-12.1-1.1">
                        Should the probing scheme be standardized? In some
                        cases using multicast based probing may prove
                        advantageous.<a href="#section-12.1-1.1" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-12.1-1.2">
                        In some cases using multicast based probing may prove
                        advantageous. Currently RPL does not have multicast
                        based probing. Multicast DIS/DIO may not be suitable
                        for probing because it could possibly lead to change of
                        states.<a href="#section-12.1-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-13">
      <h2 id="name-control-options-eliding-mec">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-control-options-eliding-mec" class="section-name selfRef">Control Options eliding mechanism in RPL</a>
      </h2>
<p id="section-13-1">
            RPL configuration changes are rare and thus various configuration
            options may not change over a long period of time. RPL provides a way
            for the configuration options to be elided but there are no clear
            guidelines on how the eliding should be handled. In the absence of
            such guidelines, it is possible that certain nodes may end up using
            stale configuration in the event of transient link failures.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
<section id="section-14">
      <h2 id="name-managing-persistent-variabl">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-managing-persistent-variabl" class="section-name selfRef">Managing persistent variables across node reboots</a>
      </h2>
<section id="section-14.1">
        <h3 id="name-persistent-storage-and-rpl-">
<a href="#section-14.1" class="section-number selfRef">14.1. </a><a href="#name-persistent-storage-and-rpl-" class="section-name selfRef">Persistent storage and RPL state information</a>
        </h3>
<p id="section-14.1-1">
                Devices are required to be functional for several years without
                manual maintanence. Usually battery power consumption is
                considered key for operating the devices for several (tens of)
                years. But apart from battery, flash memory endurance may prove
                to be a lifetime bottleneck in constrained networks.  Endurance
                is defined as maximum number of erase-write cycles that a
                NAND/NOR cell can undergo before losing its 'gauranteed' write
                operation. In some cases (cheaper NAND-MLC/TLC), the endurance
                can be as less as 2K cycles. Thus for e.g.  if a given cell is
                written 5 times a day, that NAND-flash cell assuming an
                endurance of 10K cycles may last for less than 6 years.<a href="#section-14.1-1" class="pilcrow">¶</a></p>
<p id="section-14.1-2">
                Wear leveling is a popular technique used in flash memory to
                minimize the impact of limited cell endurance. Wear leveling
                works by arranging data so that erasures and re-writes are
                distributed evenly across the medium. The memory sectors are
                over-provisioned so that the writes are distributed across
                multiple sectors. Many IoT platforms do not necessarily
                consider this over-provisioning and usually provision the
                memory only to what is required. Some scenarios such as
                street-lighting may not require the application layer to write
                any information to the persistent storage and thus the
                over-provisioning is often ignored. In such cases if the
                network stack ends up using persistent storage for maintaining
                its state information then it becomes counter-productive.<a href="#section-14.1-2" class="pilcrow">¶</a></p>
<p id="section-14.1-3">
                In a star topology, the amount of persistent data write done by
                network protocols is very limited. But ad-hoc networks
                employing routing protocols such as RPL assume certain state
                information to be retained across node reboots. In case of IoT
                devices this storage is mostly floating gate based NAND/NOR
                based flash memory. The impact of loss of this state
                information differs depending upon the type (6LN/6LR/6LBR) of
                the node.<a href="#section-14.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-14.2">
        <h3 id="name-lollipop-counters">
<a href="#section-14.2" class="section-number selfRef">14.2. </a><a href="#name-lollipop-counters" class="section-name selfRef">Lollipop Counters</a>
        </h3>
<p id="section-14.2-1">
                <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> Section 7.2. explains sequence counter
                operation defining lollipop <span>[<a href="#Perlman83" class="xref">Perlman83</a>]</span> style
                counters. Lollipop counters specify mechanism in which even if
                the counter value wraps, the algorithm would be able to tell
                whether the received value is the latest or not. This mechanism
                also helps in "some cases" to recover from node reboot, but is
                not foolproof.<a href="#section-14.2-1" class="pilcrow">¶</a></p>
<p id="section-14.2-2">
                Consider an e.g. where Node A boots up and initialises the
                seqcnt to 240 as recommended in <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>. Node
                A communicates to Node B using this seqcnt and node B uses this
                seqcnt to determine whether the information node A sent in the
                packet is latest. Now lets assume, the counter value reaches
                250 after some operations on Node A, and node B keeps receiving
                updated seqcnt from node A. Now consider that node A reboots,
                and since it reinitializes the seqcnt value to 240 and sends
                the information to node B (who has seqcnt of 250 stored on
                behalf of node A). As per section 7.2. of <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span>, when node B receives this packet it
                will consider the information to be old (since 240 &lt; 250).<a href="#section-14.2-2" class="pilcrow">¶</a></p>
<span id="name-example-lollipop-counter-op"></span><div id="lollipop">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-example-lollipop-counter-op" class="selfRef">Example lollipop counter operation</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">A</th>
              <th class="text-center" rowspan="1" colspan="1">B</th>
              <th class="text-center" rowspan="1" colspan="1">Output</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">A&lt;B, old</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">241</td>
              <td class="text-center" rowspan="1" colspan="1">A&lt;B, old</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">::</td>
              <td class="text-center" rowspan="1" colspan="1">A&lt;B, old</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">256</td>
              <td class="text-center" rowspan="1" colspan="1">A&lt;B, old</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">0</td>
              <td class="text-center" rowspan="1" colspan="1">A&lt;B, new</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">A&gt;B, new</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">::</td>
              <td class="text-center" rowspan="1" colspan="1">A&gt;B, new</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">240</td>
              <td class="text-center" rowspan="1" colspan="1">127</td>
              <td class="text-center" rowspan="1" colspan="1">A&gt;B, new</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-14.2-4" class="keepWithPrevious">Default values for lollipop counters considered from
                    <span>[<a href="#RFC6550" class="xref">RFC6550</a>]</span> Section 7.2.<a href="#section-14.2-4" class="pilcrow">¶</a></p>
<p id="section-14.2-5">
                Based on this figure, there is dead zone (240 to 0) in which if
                A operates after reboot then the seqcnt will always be
                considered smaller.  Thus node A needs to maintain the seqcnt
                in persistent storage and reuse this on reboot.<a href="#section-14.2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-14.3">
        <h3 id="name-rpl-state-variables">
<a href="#section-14.3" class="section-number selfRef">14.3. </a><a href="#name-rpl-state-variables" class="section-name selfRef">RPL State variables</a>
        </h3>
<p id="section-14.3-1">
                The impact of loss of RPL state information differs depending
                upon the node type (6LN/6LR/6LBR). Following sections explain
                different state variables and the impact in case this
                information is lost on reboot.<a href="#section-14.3-1" class="pilcrow">¶</a></p>
<section id="section-14.3.1">
          <h4 id="name-dodag-version">
<a href="#section-14.3.1" class="section-number selfRef">14.3.1. </a><a href="#name-dodag-version" class="section-name selfRef">DODAG Version</a>
          </h4>
<p id="section-14.3.1-1">
                    The tuple (RPLInstanceID, DODAGID, DODAGVersionNumber)
                    uniquely identifies a DODAG Version.  DODAGVersionNumber is
                    incremented everytime a global repair is initiated for the
                    instance (global or local). A node receiving an older
                    DODAGVersionNumber will ignore the DIO message assuming it
                    to be from old DODAG version. Thus a 6LBR node (and 6LR
                    node in case of local DODAG) needs to maintain the
                    DODAGVersionNumber in the persistent storage, so as to be
                    available on reboot.  In case the 6LBR could not use the
                    latest DODAGVersionNumber the implication are that it won't
                    be able to recover/re-establish the routing table.<a href="#section-14.3.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-14.3.2">
          <h4 id="name-dtsn-field-in-dio">
<a href="#section-14.3.2" class="section-number selfRef">14.3.2. </a><a href="#name-dtsn-field-in-dio" class="section-name selfRef">DTSN field in DIO</a>
          </h4>
<p id="section-14.3.2-1">
                    DTSN (Destination advertisement Trigger Sequence Number) is
                    a DIO message field used as part of procedure to maintain
                    Downward routes. A 6LBR/6LR node may increment a DTSN in
                    case it requires the downstream nodes to send DAO and thus
                    update downward routes on the 6LBR/6LR node. In case of RPL
                    NS-MOP, only the 6LBR maintains the downward routes and
                    thus controls this field update. In case of S-MOP, 6LRs
                    additionally keep downward routes and thus control this
                    field update.<a href="#section-14.3.2-1" class="pilcrow">¶</a></p>
<p id="section-14.3.2-2">
                    In S-MOP, when a 6LR node switches parent it may have to
                    issue a DIO with incremented DTSN to trigger downstream
                    child nodes to send DAO so that the downward routes are
                    established in all parent/ancestor set. Thus in S-MOP, the
                    frequency of DTSN update might be relatively high (given
                    the node density and hysteresis set by objective function to
                    switch parent).<a href="#section-14.3.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-14.3.3">
          <h4 id="name-pathsequence">
<a href="#section-14.3.3" class="section-number selfRef">14.3.3. </a><a href="#name-pathsequence" class="section-name selfRef">PathSequence</a>
          </h4>
<p id="section-14.3.3-1">
                    PathSequence is part of RPL Transit Option, and associated
                    with RPL Target option. A node whichs owns a target address
                    can associate a PathSequence in the DAO message to denote
                    freshness of the target information. This is especially
                    useful when a node uses multiple paths or multiple parents
                    to advertise its reachability.<a href="#section-14.3.3-1" class="pilcrow">¶</a></p>
<p id="section-14.3.3-2">
                    Loss of PathSequence information maintained on the target
                    node can result in routing adjacencies been lost on
                    6LRs/6LBR/6BBR.<a href="#section-14.3.3-2" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-14.4">
        <h3 id="name-state-variables-update-freq">
<a href="#section-14.4" class="section-number selfRef">14.4. </a><a href="#name-state-variables-update-freq" class="section-name selfRef">State variables update frequency</a>
        </h3>
<span id="name-rpl-state-variables-2"></span><div id="rpl_state">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-rpl-state-variables-2" class="selfRef">RPL State variables</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">State variable</th>
              <th class="text-center" rowspan="1" colspan="1">Update frequency</th>
              <th class="text-center" rowspan="1" colspan="1">Impacts node type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">DODAGVersionNumber</td>
              <td class="text-center" rowspan="1" colspan="1">Low</td>
              <td class="text-center" rowspan="1" colspan="1">6LBR, 6LR(local DODAG)</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">DTSN</td>
              <td class="text-center" rowspan="1" colspan="1">High(SM),Low(NSM)</td>
              <td class="text-center" rowspan="1" colspan="1">6LBR, 6LR</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">PathSequence</td>
              <td class="text-center" rowspan="1" colspan="1">High(SM),Low(NSM)</td>
              <td class="text-center" rowspan="1" colspan="1">6LR, 6LN</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-14.4-2" class="keepWithPrevious">Low=&lt;5 per day, High=&gt;5 per day; SM=Storing MOP, NSM=Non-Storing MOP<a href="#section-14.4-2" class="pilcrow">¶</a></p>
</section>
<section id="section-14.5">
        <h3 id="name-deliberations-7">
<a href="#section-14.5" class="section-number selfRef">14.5. </a><a href="#name-deliberations-7" class="section-name selfRef">Deliberations</a>
        </h3>
<span class="break"></span><dl class="olPercent" id="section-14.5-1">
<dt>(1)</dt>
<dd id="section-14.5-1.1">
                        Is it possible that RPL removes the use of persistent
                        storage for maintaining state information?<a href="#section-14.5-1.1" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-14.5-1.2">
                        In most cases, the node reboots will happen very rarely. Thus
                        doing a persistent storage book-keeping for handling node
                        reboot might not make sense. Is it possible to consider
                        signaling (especially after the node reboots) so as to avoid
                        maintaining this persistent state?  Is it possible to use
                        one-time on-reboot signalling to recover some state
                        information?<a href="#section-14.5-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(3)</dt>
<dd id="section-14.5-1.3">
                        It is necessary that RPL avoids using persistent
                        storage as far as possible. Ideally, extensions to RPL
                        should consider this as a design requirement especially
                        for 6LR and 6LN nodes. DTSN and PathSequence are the
                        primary state variables which have major impact.<a href="#section-14.5-1.3" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-14.6">
        <h3 id="name-implementation-notes-2">
<a href="#section-14.6" class="section-number selfRef">14.6. </a><a href="#name-implementation-notes-2" class="section-name selfRef">Implementation Notes</a>
        </h3>
<p id="section-14.6-1">
                An implementation should use a random DAOSequence number on
                reboot so as to avoid a risk of reusing the same DAOSequence on
                reboot. Regardless the sequence counter size of 8bits does not
                provide much gurantees towards choosing a good random number. A
                parent node will not respond with a DAO-ACK in case it sees a
                DAO with the same previous DAOSequence.<a href="#section-14.6-1" class="pilcrow">¶</a></p>
<p id="section-14.6-2">
                Write-Before-Use: The state information should be written
                to the flash before using it in the messaging. If it is
                done the other way, then the chances are that the node
                power downs before writing to the persistent storage.<a href="#section-14.6-2" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-15">
      <h2 id="name-capabilities-and-its-role-i">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-capabilities-and-its-role-i" class="section-name selfRef">Capabilities and its role in RPL</a>
      </h2>
<p id="section-15-1">
            RPL is a distributed protocol and it requires that the
            participating nodes agree on basic set of primitives to follow.
            RPL currently handles this using MOP (Mode of Operation) bits
            in the DIO. MOP bits inform the nodes the basic mode of operation a
            node MUST support to join the Instance as a 6LR. The MOP is decided
            and advertised by the root of the RPL Instance. A node not
            supporting the given MOP may still join the Instance as a leaf node
            or 6LN.<a href="#section-15-1" class="pilcrow">¶</a></p>
<p id="section-15-2">
            RPL further uses DIO Configuration Option to advertise the
            configuration each node needs to use (for e.g., for trickle timer).<a href="#section-15-2" class="pilcrow">¶</a></p>
<section id="section-15.1">
        <h3 id="name-handshaking-node-capabiliti">
<a href="#section-15.1" class="section-number selfRef">15.1. </a><a href="#name-handshaking-node-capabiliti" class="section-name selfRef">Handshaking node capabilities</a>
        </h3>
<p id="section-15.1-1">
                Currently there exist no mechanism to handshake capabilities of
                the root or 6LRs or 6LNs. If a feature is optional and is
                supported by 6LRs/6LNs then currently there exists no mechanism
                to signal it. There are several RPL extension proposals which
                are possibly optional features. Root needs to know if the
                6LR/6LN supports these optional features to enable the
                extension in that path context. Similarly 6LRs and 6LNs need to
                know whether the root supports certain extensions that it can
                make use of.<a href="#section-15.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-15.2">
        <h3 id="name-how-do-capabilities-differ-">
<a href="#section-15.2" class="section-number selfRef">15.2. </a><a href="#name-how-do-capabilities-differ-" class="section-name selfRef">How do Capabilities differ from MOP and Configuration Option?</a>
        </h3>
<p id="section-15.2-1">
                Unlike MOP and Configuration Option which are issued by the
                root of the Instance, Capabilities can be issued by any node. A
                6LN/6LR node can advertise its capabilities such that those can be
                seen by intermediate 6LRs and the root of the Instance.<a href="#section-15.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-15.3">
        <h3 id="name-deliberations-8">
<a href="#section-15.3" class="section-number selfRef">15.3. </a><a href="#name-deliberations-8" class="section-name selfRef">Deliberations</a>
        </h3>
<span class="break"></span><dl class="olPercent" id="section-15.3-1">
<dt>(1)</dt>
<dd id="section-15.3-1.1">
                        Is it possible for leaf nodes to advertise their set of
                        capabilities, which can be used by root and/or
                        intermediate 6LRs to make run time decisions?<a href="#section-15.3-1.1" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-15.3-1.2">
                        How should these capabilities be carried? Should it be
                        carried in DAO/DIO/DAO-ACK?<a href="#section-15.3-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(3)</dt>
<dd id="section-15.3-1.3">
                        Should the definition of capabilities be same in both
                        directions (upstream/downstream)?<a href="#section-15.3-1.3" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-16">
      <h2 id="name-backward-compatibility-issu">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-backward-compatibility-issu" class="section-name selfRef">Backward Compatibility issues with RPL Options</a>
      </h2>
<p id="section-16-1">
            Most of the new work in ROLL requires addition of new control
            options. Everytime a new control option is added, it is required
            that all the nodes upgrade to support this option. In many cases,
            the new specification declares using a Flag day to switch to the
            new functionality.<a href="#section-16-1" class="pilcrow">¶</a></p>
<p id="section-16-2">
            New control options may not require mandatory handling on every
            node but it requires at-least some processing. For e.g., assume
            that a new control option is added to DIO message. The option does
            not require any handling on the nodes not supporting it but it
            requires at-least for these nodes to forward this new control
            option downstream. Currently the new control option may be stripped
            off.<a href="#section-16-2" class="pilcrow">¶</a></p>
<p id="section-16-3">
            It should be possible for the unknown control options to be copied
            as-is to the downstream/upstream node(s). The specification
            defining the new control option will decide whether a node should
            strip-off or copy the unknown control option.<a href="#section-16-3" class="pilcrow">¶</a></p>
</section>
<section id="section-17">
      <h2 id="name-rpl-under-specification">
<a href="#section-17" class="section-number selfRef">17. </a><a href="#name-rpl-under-specification" class="section-name selfRef">RPL under-specification</a>
      </h2>
<span class="break"></span><dl class="olPercent" id="section-17-1">
<dt>(a)</dt>
<dd id="section-17-1.1">
                    PathSequence: Is it mandatory to use PathSequence in DAO
                    Transit Information Option? RPL mentions that a 6LR/6LBR
                    hosting the routing entry on behalf of
                    target node should refresh the lifetime
                    on reception of a new Path Sequence. But RPL does
                    not necessarily mandate use of Path Sequence. Most of the
                    open source implementation [RIOT] [CONTIKI] currently do
                    not issue Path Sequence in the DAO message.<a href="#section-17-1.1" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(b)</dt>
<dd id="section-17-1.2">
                    Target Option aggregation in DAO: RPL allows multiple
                    targets to be aggregated in a single DAO message and has
                    introduced a notion of DelayDAO using which a 6LR node
                    could delay its DAO to enable such aggregation. But RPL
                    does not have clear text on handling of aggregated DAOs and
                    thus it hinders interoperability.<a href="#section-17-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(c)</dt>
<dd id="section-17-1.3">
                    DTSN Update: RPL does not clearly define in which cases
                    DTSN should be updated in case of storing mode of
                    operation. More details for this are presented in <a href="#DTSNincr" class="xref">Section 3</a>.<a href="#section-17-1.3" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<div id="Acknowledgements">
<section id="section-18">
      <h2 id="name-acknowledgements">
<a href="#section-18" class="section-number selfRef">18. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-18-1">
            Many thanks to Pascal Thubert for hallway chats and for helping
            understand the existing design rationales. Thanks to Michael
            Richardson for Unstrung RPL implementation rationale. Thanks to ML
            discussions, in particular
            (https://www.ietf.org/mail-archive/web/roll/current/msg09443.html).<a href="#section-18-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-19">
      <h2 id="name-iana-considerations">
<a href="#section-19" class="section-number selfRef">19. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-19-1">This memo includes no request to IANA.<a href="#section-19-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-20">
      <h2 id="name-security-considerations">
<a href="#section-20" class="section-number selfRef">20. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-20-1">
            This is an information draft and does add any changes to the
            existing specifications.<a href="#section-20-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-21">
      <h2 id="name-references">
<a href="#section-21" class="section-number selfRef">21. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-21.1">
        <h3 id="name-normative-references">
<a href="#section-21.1" class="section-number selfRef">21.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6206">[RFC6206]</dt>
        <dd>
<span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Clausen, T.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Gnawali, O.</span>, and <span class="refAuthor">J. Ko</span>, <span class="refTitle">"The Trickle Algorithm"</span>, <span class="seriesInfo">RFC 6206</span>, <span class="seriesInfo">DOI 10.17487/RFC6206</span>, <time datetime="2011-03" class="refDate">March 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6206">https://www.rfc-editor.org/info/rfc6206</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6550">[RFC6550]</dt>
        <dd>
<span class="refAuthor">Winter, T., Ed.</span>, <span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Brandt, A.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Kelsey, R.</span>, <span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Struik, R.</span>, <span class="refAuthor">Vasseur, JP.</span>, and <span class="refAuthor">R. Alexander</span>, <span class="refTitle">"RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6550</span>, <span class="seriesInfo">DOI 10.17487/RFC6550</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6550">https://www.rfc-editor.org/info/rfc6550</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6775">[RFC6775]</dt>
      <dd>
<span class="refAuthor">Shelby, Z., Ed.</span>, <span class="refAuthor">Chakrabarti, S.</span>, <span class="refAuthor">Nordmark, E.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Neighbor Discovery Optimization for IPv6 over Low-Power Wireless Personal Area Networks (6LoWPANs)"</span>, <span class="seriesInfo">RFC 6775</span>, <span class="seriesInfo">DOI 10.17487/RFC6775</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6775">https://www.rfc-editor.org/info/rfc6775</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-21.2">
        <h3 id="name-informative-references">
<a href="#section-21.2" class="section-number selfRef">21.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.clausen-lln-rpl-experiences">[I-D.clausen-lln-rpl-experiences]</dt>
        <dd>
<span class="refAuthor">Clausen, T.</span>, <span class="refAuthor">Verdiere, A. C. D.</span>, <span class="refAuthor">Yi, J.</span>, <span class="refAuthor">Herberg, U.</span>, and <span class="refAuthor">Y. Igarashi</span>, <span class="refTitle">"Observations on RPL: IPv6 Routing Protocol for Low power and Lossy Networks"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-clausen-lln-rpl-experiences-11</span>, <time datetime="2018-03-27" class="refDate">27 March 2018</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-clausen-lln-rpl-experiences-11.txt">https://www.ietf.org/archive/id/draft-clausen-lln-rpl-experiences-11.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-intarea-adhoc-wireless-com">[I-D.ietf-intarea-adhoc-wireless-com]</dt>
        <dd>
<span class="refAuthor">Baccelli, E.</span> and <span class="refAuthor">C. E. Perkins</span>, <span class="refTitle">"Multi-hop Ad Hoc Wireless Communication"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-intarea-adhoc-wireless-com-02</span>, <time datetime="2016-07-20" class="refDate">20 July 2016</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-intarea-adhoc-wireless-com-02.txt">https://www.ietf.org/archive/id/draft-ietf-intarea-adhoc-wireless-com-02.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-roll-aodv-rpl">[I-D.ietf-roll-aodv-rpl]</dt>
        <dd>
<span class="refAuthor">Anamalamudi, S.</span>, <span class="refAuthor">Perkins, C. E.</span>, <span class="refAuthor">Anand, S.</span>, and <span class="refAuthor">B. Liu</span>, <span class="refTitle">"Supporting Asymmetric Links in Low Power Networks: AODV-RPL"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-roll-aodv-rpl-11</span>, <time datetime="2021-09-16" class="refDate">16 September 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-roll-aodv-rpl-11.txt">https://www.ietf.org/archive/id/draft-ietf-roll-aodv-rpl-11.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Perlman83">[Perlman83]</dt>
      <dd>
<span class="refAuthor">Perlman, R.</span>, <span class="refTitle">"Fault-Tolerant Broadcast of Routing Information"</span>, <span class="seriesInfo">North-Holland Computer Networks, Vol.7</span>, <span>December 1983</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="app-additional">
<section id="appendix-A">
      <h2 id="name-additional-stuff">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-additional-stuff" class="section-name selfRef">Additional Stuff</a>
    </h2>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rahul Arvind Jadhav (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="street-address">Marathahalli</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560037</span>
</div>
<div dir="auto" class="left"><span class="region">Karnataka</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rahul.ietf@gmail.com" class="email">rahul.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rabi Narayan Sahoo</span></div>
<div dir="auto" class="left"><span class="org">Juniper</span></div>
<div dir="auto" class="left"><span class="street-address">Whitefield</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560037</span>
</div>
<div dir="auto" class="left"><span class="region">Karnataka</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rabinarayans0828@gmail.com" class="email">rabinarayans0828@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yuefeng Wu</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="street-address">No.101, Software Avenue, Yuhuatai District,</span></div>
<div dir="auto" class="left"><span class="locality">Nanjing</span></div>
<div dir="auto" class="left">
<span class="region">Jiangsu</span>, <span class="postal-code">210012</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+86-15251896569" class="tel">+86-15251896569</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:wuyuefeng@huawei.com" class="email">wuyuefeng@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
