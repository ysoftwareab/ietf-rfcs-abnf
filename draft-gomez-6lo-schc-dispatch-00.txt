



6lo Working Group                                               C. Gomez
Internet-Draft                                                       UPC
Intended status: Experimental                              July 13, 2020
Expires: January 14, 2021


 IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Dispatch
                             Type for SCHC
                    draft-gomez-6lo-schc-dispatch-00

Abstract

   A new framework called Static Context Header Compression (SCHC) has
   been designed to support IPv6 over Low Power Wide Area Network
   (LPWAN) technologies [RFC8724].  One of the SCHC components is a
   header compression mechanism.  If used properly, SCHC header
   compression allows a greater compression ratio than that achievable
   with traditional 6LoWPAN header compression [RFC6282].  For this
   reason, it may make sense to use SCHC header compression in some
   6LoWPAN environments.  In its current form, this document proposes a
   number of 6LoWPAN Dispatch type approaches to signal when a packet
   header has been compressed by using SCHC header compression.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 14, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of



Gomez                   Expires January 14, 2021                [Page 1]

Internet-Draft       6LoWPAN Dispatch Type for SCHC            July 2020


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  Frame Format  . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  SCHC Dispatch Type Approaches . . . . . . . . . . . . . . . .   3
     4.1.  Approach 1  . . . . . . . . . . . . . . . . . . . . . . .   4
     4.2.  Approach 2  . . . . . . . . . . . . . . . . . . . . . . .   4
     4.3.  Approach 3  . . . . . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   7.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   5
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   RFC 6282 is the main specification for IPv6 over Low power Wireless
   Personal Area Network (6LoWPAN) IPv6 header compression [RFC6282].
   This RFC was designed assuming IEEE 802.15.4 as the layer below the
   6LoWPAN adaptation layer, and it has also been reused (with proper
   adaptations) for IPv6 header compression over many other technologies
   relatively similar to IEEE 802.15.4 in terms of characteristics such
   as physical layer bit rate, layer 2 maximum payload size, etc.
   Examples of such technologies comprise BLE, DECT-ULE, ITU G.9959, MS/
   TP, NFC, and PLC.  RFC 6282 provides additional functionality, such
   as a mechanism for UDP header compression.

   In the best case, RFC 6282 allows to compress a 40-byte IPv6 header
   down to a 2-byte compressed header (in link-local interactions) or a
   3-byte compressed header (when global IPv6 addresses are used).  On
   the other hand, an RFC 6282 compressed UDP header has a typical size
   of 4 bytes.  Therefore, in advantageous conditions, a 48-byte
   uncompressed IPv6/UDP header may be compressed down to a 7-byte
   format by using RFC 6282.

   Recently, a new framework called Static Context Header Compression
   (SCHC) has been designed to support IPv6 over Low Power Wide Area
   Network (LPWAN) technologies [RFC8724].  SCHC comprises header



Gomez                   Expires January 14, 2021                [Page 2]

Internet-Draft       6LoWPAN Dispatch Type for SCHC            July 2020


   compression and fragmentation functionality tailored to the
   extraordinary constraints of LPWAN technologies, which are more
   severe than those exhibited by IEEE 802.15.4 or other relatively
   similar technologies.

   SCHC header compression allows a greater compression ratio than that
   of RFC 6282.  If used properly, SCHC allows to compress an IPv6/UDP
   header down to e.g. a single byte.  Therefore, it may make sense to
   use SCHC header compression in some 6LoWPAN environments [I-
   D.toutain-6lo-6lo-and-schc], considering its greater efficiency.

   If SCHC header compression is added to the panoply of header
   compression mechanisms used in 6LoWPAN environments, then there is a
   need to signal when a packet header has been compressed by using
   SCHC.  To this end, in its current form, the present document
   proposes a number of 6LoWPAN Dispatch type approaches for SCHC header
   compression, based on exploiting RFC 4944 and/or RFC 8025 Dispatch
   type space [RFC4944][RFC8025].

2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL","SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

3.  Frame Format

   Figure 1 illustrates the content of an encapsulated, SCHC compressed,
   IPv6 datagram:


            +---------------+-------------+---------+
            | SCHC Dispatch | SCHC Header | Payload |
            +---------------+-------------+---------+


           Figure 1: Encapsulated, SCHC compressed IPv6 datagram

   The SCHC Header corresponds to a packet header that has been
   compressed by using SCHC.  As defined in [RFC8724], the SCHC Header
   comprises a Rule ID, and a compression residue.  (Note: more details,
   including a discussion on padding, to be added.)

4.  SCHC Dispatch Type Approaches

   This section presents 3 different approaches for the SCHC Dispatch
   type to be discussed.




Gomez                   Expires January 14, 2021                [Page 3]

Internet-Draft       6LoWPAN Dispatch Type for SCHC            July 2020


4.1.  Approach 1

   A first approach for the SCHC Dispatch Pattern is using Not a LoWPAN
   (NALP) Dispatch type space [RFC4944].  The first two bits in a NALP
   Dispatch type are 00.  Approach 1 defines that a Dispatch starting by
   "001" indicates that a SCHC-compressed packet comes next.

   SCHC Dispatch Pattern: 001XXXXX

   The last 5 bits of the Dispatch (indicated as 'X' above) may be used
   to define 32 different Rule IDs.

   This approach has pros and cons.  A single byte is used for the
   Dispatch plus the Rule ID.  However, is 32 a relatively low number of
   possible Rule ID values?  On the other hand, there may be backwards
   compatibility issues with existing implementations, where SCHC-
   compressed packets might be misunderstood as other types of packets.

4.2.  Approach 2

   A second approach, that also uses NALP Dispatch type space, is:

   SCHC Dispatch Pattern: 001YYYYY YYYYYYYY

   The last 13 bits of the Dispatch (indicated as 'Y' above) may be used
   to define 8192 different Rule IDs.

   With this approach, two bytes are used for the SCHC Dispatch plus the
   Rule ID, but 8192 possible Rule IDs can be used.  The same backwards
   compatibility issues in Approach 1 may exist for Approach 2 as well.

4.3.  Approach 3

   A third approach, which is not based on using NALP space, is using
   the RFC 8025 concept of "pages", which would allocate one page for
   SCHC-compressed headers:

   SCHC Dispatch Pattern: 1111ZZZZ (ZZZZ to be determined)

   With this approach, and with the aim to minimize header overhead, a
   whole page is allocated for the SCHC Dispatch type.  A 1-byte Rule ID
   follows the SCHC Dispatch Pattern.

   In this case, two bytes are used for the SCHC Dispatch plus the Rule
   ID. 256 possible Rule IDs can be used.  There are no backwards
   compatibility issues.





Gomez                   Expires January 14, 2021                [Page 4]

Internet-Draft       6LoWPAN Dispatch Type for SCHC            July 2020


5.  IANA Considerations

   TBD

6.  Security Considerations

   TBD

7.  Acknowledgments

   Ana Minaburo and Laurent Toutain suggested for the first time the use
   of SCHC in environments where 6LoWPAN has traditionally been used.

   Carles Gomez has been funded in part by the Spanish Government
   through project PID2019-106808RA-I00, and by Secretaria
   d'Universitats i Recerca del Departament d'Empresa i Coneixement de
   la Generalitat de Catalunya 2017 through grant SGR 376.

8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC4944]  Montenegro, G., Kushalnagar, N., Hui, J., and D. Culler,
              "Transmission of IPv6 Packets over IEEE 802.15.4
              Networks", RFC 4944, DOI 10.17487/RFC4944, September 2007,
              <https://www.rfc-editor.org/info/rfc4944>.

   [RFC6282]  Hui, J., Ed. and P. Thubert, "Compression Format for IPv6
              Datagrams over IEEE 802.15.4-Based Networks", RFC 6282,
              DOI 10.17487/RFC6282, September 2011,
              <https://www.rfc-editor.org/info/rfc6282>.

   [RFC8025]  Thubert, P., Ed. and R. Cragie, "IPv6 over Low-Power
              Wireless Personal Area Network (6LoWPAN) Paging Dispatch",
              RFC 8025, DOI 10.17487/RFC8025, November 2016,
              <https://www.rfc-editor.org/info/rfc8025>.

   [RFC8724]  Minaburo, A., Toutain, L., Gomez, C., Barthel, D., and JC.
              Zuniga, "SCHC: Generic Framework for Static Context Header
              Compression and Fragmentation", RFC 8724,
              DOI 10.17487/RFC8724, April 2020,
              <https://www.rfc-editor.org/info/rfc8724>.




Gomez                   Expires January 14, 2021                [Page 5]

Internet-Draft       6LoWPAN Dispatch Type for SCHC            July 2020


8.2.  Informative References

   [I-D.toutain-6lo-6lo-and-schc]
              Minaburo, A. and L. Toutain, "Comparison of 6lo and SCHC",
              draft-toutain-6lo-6lo-and-schc-00 (work in progress),
              November 2019.

Author's Address

   Carles Gomez
   UPC
   C/Esteve Terradas, 7
   Castelldefels  08860
   Spain

   Email: carlesgo@entel.upc.edu



































Gomez                   Expires January 14, 2021                [Page 6]
