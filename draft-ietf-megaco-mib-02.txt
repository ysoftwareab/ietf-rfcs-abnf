
Media Gateway Control                                     Matt Holdrege
Internet Draft                                                  ipVerse
Document: draft-ietf-megaco-mib-02.txt                  Ilya Akramovich
Category: Standards Track                           Lucent Technologies
                                                       C. Michael Brown
                                                        Nortel Networks
                                                               May 2001


                               Megaco MIB


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
      all provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as "work in
   progress."
   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


1. Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it defines objects for use by the MEGACO/H.248
   protocol operating on Media Gateways and Media Gateway Controllers.

2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC-2119 [2].

3. Overview

   The MEGACO/H.248 protocol [3] [4] defines communication between the
   elements of a physically decomposed multimedia gateway. Those
   elements are the Media Gateway Controller (MGC) and the Media
   Gateway (MG). This MIB defines objects on these elements that are to
   be used to configure these elements such as through control of
   variable settings, to gather and report management statistics, and


Holdrege, et al.  Standards Track - Expires Nov 2001                 1
                             Megaco MIB                        May 2001


   to report the occurrence of system management events (i.e., traps)
   to the network management system.

   This MIB is defined as per the concepts and specifications of the
   SNMP Management Framework, which consists of 5 parts as follows.

   - An overall architecture, described in RFC 2571 [5].

   - Mechanisms for describing and naming objects and events for the
   purpose of management.  The first version of this Structure of
   Management Information (SMI) is called SMIv1 and described in STD
   16, RFC 1155 [6], STD 16, RFC 1212 [7] and RFC 1215 [8].  The second
   version, called SMIv2, is described in STD 58, RFC 2578 [9], STD 58,
   RFC 2579 [10] and STD 58, RFC 2580 [11].

   - Message protocols for transferring management information.  The
   first version of the SNMP message protocol is called SNMPv1 and
   described in STD 15, RFC 1157 [12].  A second version of the SNMP
   message protocol, which is not an Internet standards track protocol,
   is called SNMPv2c and described in RFC 1901 [13] and RFC 1905 [14].
   The third version of the message protocol is called SNMPv3 and
   described in RFC 2570 [15], RFC 2573 [16] and RFC 2575 [17].

   - Protocol operations for accessing management information.  The
   first set of protocol operations and associated PDU formats is
   described in STD 15, RFC 1157 [12].  A second set of protocol
   operations and associated PDU formats is described in RFC 1905 [14].

   - A set of fundamental applications described in RFC 2573 [16] and
   the view-based access control mechanism described in RFC 2575 [17].

   A more detailed introduction to the current SNMP Management
   Framework can be found in RFC 2570 [15].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  Objects in the MIB are
   defined using the mechanisms defined in the SMI.

   This memo specifies a MIB module that is compliant to the SMIv2.  A
   MIB conforming to the SMIv1 can be produced through the appropriate
   translations.  The resulting translated MIB must be semantically
   equivalent, except where objects or events are omitted because no
   translation is possible (use of Counter64).  Some machine readable
   information in SMIv2 will be converted into textual descriptions in
   SMIv1 during the translation process.  However, this loss of machine
   readable information is not considered to change the semantics of
   the MIB.






Holdrege, et al  Standards Track - Expires November 2001             2
                             Megaco MIB                        May 2001


4. MIB Definition

   --
   ********************************************************************
   *
   -- MEDIA-GATEWAY-MIB
   --    Media Gateway Control MIB (aka Megaco MIB)
   --
   --
   ********************************************************************
   *



   MEDIA-GATEWAY-MIB DEFINITIONS ::= BEGIN

   IMPORTS
      MODULE-IDENTITY, OBJECT-TYPE, NOTIFICATION-TYPE,
      Counter32,
      TimeTicks, Integer32, IpAddress
                                                 FROM SNMPv2-SMI

      TEXTUAL-CONVENTION,
      RowStatus, TestAndIncr, AutonomousType     FROM SNMPv2-TC

      MODULE-COMPLIANCE, OBJECT-GROUP,
      NOTIFICATION-GROUP                         FROM SNMPv2-CONF

      SnmpAdminString                            FROM SNMP-FRAMEWORK-
   MIB

      InterfaceIndex                             FROM IF-MIB;



   mediaGatewayMIB MODULE-IDENTITY
       LAST-UPDATED   "0003201200Z"
       ORGANIZATION   "IETF"
       CONTACT-INFO
          "
           www.ietf.org
          "
       DESCRIPTION
                    "Media Gateway MIB description Initial Version
                    "

       ::= { }


   --
   ********************************************************************
   *

Holdrege, et al  Standards Track - Expires November 2001             3
                             Megaco MIB                        May 2001


   --
   -- OID and Group Definitions
   --
   --
   ********************************************************************
   *

   -- OID for the MIB Objects...
   mediaGatewayMIBObjects    OBJECT IDENTIFIER::= { mediaGatewayMIB 1 }



   --The Media Gateway MIB contains 4 (object) groups

   medGwyConfiguration OBJECT IDENTIFIER::= { mediaGatewayMIBObjects 1
   }
   medGwyStatistics    OBJECT IDENTIFIER::= { mediaGatewayMIBObjects 2
   }
   medGwyConnections   OBJECT IDENTIFIER::= { mediaGatewayMIBObjects 3
   }
   medGwyProperties    OBJECT IDENTIFIER::= { mediaGatewayMIBObjects 4
   }




   --
   ********************************************************************
   *
   --
   -- Textual conventions for the Media Gateway MIB
   --
   --
   ********************************************************************
   *

   MediaGatewayId ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION "Possible Media Gateway Id"
       SYNTAX      INTEGER (1..2147483647)






   --
   ********************************************************************
   *
   --
   -- medGwyLinkIdTable
   --

Holdrege, et al  Standards Track - Expires November 2001             4
                             Megaco MIB                        May 2001


   --   Gateway LinkId Table...
   --
   --   Provides the manager with the nextId for use in creating a
   --   LinkId. There is one entry in this table for each MediaGateway.
   --
   -- Note:
   --   If this table isn't implemented, the manager would be
   --   responsible for providing the (unique) nextId (via retaining
   --   used id's, hashing, etc)
   --
   ********************************************************************
   *


   medGwyLinkIdTable OBJECT-TYPE
       SYNTAX       SEQUENCE OF MedGwyLinkIdEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION
                   "This table contains a nextLinkId for each Gateway.
                    It provides the manager with the nextLinkId for use
                    in creating new Gateway Table Entries."
   ::= { medGwyConfiguration 1}

   medGwyLinkIdEntry OBJECT-TYPE
       SYNTAX       MedGwyLinkIdEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION "
                    This table contains the NextLinkId for this Gateway
                    One entry per mediaGatewayId.
                   "
       INDEX        { medGwyGatewayId }
   ::= { medGwyLinkIdTable 1 }


   MedGwyLinkIdEntry ::= SEQUENCE
   {
       medGwyNextLinkId                    TestAndIncr         -- rw
   }

   medGwyNextLinkId OBJECT-TYPE
       SYNTAX        TestAndIncr
       MAX-ACCESS    read-write
       STATUS        current
       DESCRIPTION
          "The Next Value for a MediaGateway LinkId.  Assists the
           manager in selecting a value for medGwyGatewayLinkId.
           Using the TestAndIncr syntax, A Manager will 'lock' this
           variable, ensuring single access."
   ::= { medGwyLinkIdEntry 1 }


Holdrege, et al  Standards Track - Expires November 2001             5
                             Megaco MIB                        May 2001






   --
   ********************************************************************
   *
   --
   -- medGwyGatewayConfigTable
   --
   --   The Media Gateway Config Table...
   --
   --   There is one entry in this table for each MediaGateway
   --   SignallingLink.
   --
   --
   ********************************************************************
   *

   medGwyGatewayConfigTable       OBJECT-TYPE
       SYNTAX      SEQUENCE OF MedGwyGatewayConfigEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION "A list of medGwyGatewayConfigEntry objects."
   ::= { medGwyConfiguration 2 }

   medGwyGatewayConfigEntry  OBJECT-TYPE
       SYNTAX       MedGwyGatewayConfigEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION "Entry holding configuration information about a
   group of
                    Media Gateway Controllers sharing the same
   signaling link."
       INDEX      { medGwyGatewayId, medGwyGatewayLinkId }
   ::= { medGwyGatewayConfigTable 1 }

   MedGwyGatewayConfigEntry ::= SEQUENCE
   {
       medGwyGatewayId                     MediaGatewayId,     -- na
       medGwyGatewayLinkId                 Integer32,          -- na
       medGwyGatewayLinkName               OCTET STRING,       -- rc
       medGwyGatewayIPAddress              IpAddress,          -- rc
       medGwyGatewayPort                   Integer32,          -- rc
       medGwyGatewayProtocol               INTEGER,            -- rc
       medGwyGatewayAdminStatus            INTEGER,            -- rc
       medGwyGatewayOperStatus             INTEGER,            -- ro
       medGwyGatewayLastStatusChange       TimeTicks,          -- ro
       medGwyGatewayResetStatistics        INTEGER,            -- rc
       medGwyGatewayRowStatus              RowStatus           -- rc
   }


Holdrege, et al  Standards Track - Expires November 2001             6
                             Megaco MIB                        May 2001



   medGwyGatewayId OBJECT-TYPE
       SYNTAX       MediaGatewayId
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION "The Gateway Id."
   ::= { medGwyGatewayConfigEntry 1 }

   medGwyGatewayLinkId OBJECT-TYPE
       SYNTAX       Integer32
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION "The Gateway Id."
   ::= { medGwyGatewayConfigEntry 2 }

   --  SIZE of this may change??
   medGwyGatewayLinkName OBJECT-TYPE
       SYNTAX      OCTET STRING  ( SIZE (0..32) )
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "Name of this media gateway control group."
   ::= { medGwyGatewayConfigEntry 3 }

   medGwyGatewayIPAddress OBJECT-TYPE
       SYNTAX      IpAddress
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "The IP address that the Media Gateway Controller
                    will use to communicate with the Media Gateway.
                    The value 0.0.0.0 is returned if the entry is
                    invalid."
   ::= { medGwyGatewayConfigEntry 4 }

   medGwyGatewayPort OBJECT-TYPE
       SYNTAX      Integer32 (0..65535)
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "TCP port that the Media Gateway Controller will use
                    to communiacte with the Media Gateway. The value
                    0 is returned if the entry is invalid."
   ::= { medGwyGatewayConfigEntry 5 }

   medGwyGatewayProtocol OBJECT-TYPE
       SYNTAX     INTEGER
                  {
                    notApplicable(1),  --
                    other        (2),  -- Other (none from the list
   below)
                    dss1-ip      (3),  -- Q931+
                    ipdc         (4),  -- IPDC
                    megaco       (5)   -- MEGACO/H.248
                  }

Holdrege, et al  Standards Track - Expires November 2001             7
                             Megaco MIB                        May 2001



       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "Type of the control protocol in use."
   ::= { medGwyGatewayConfigEntry 6 }

   medGwyGatewayAdminStatus OBJECT-TYPE
       SYNTAX     INTEGER
                  {
                    up   (1),
                    down (2)
                  }
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "Administrative status for this media gateway
                    control group."
   ::= { medGwyGatewayConfigEntry 7 }

   medGwyGatewayOperStatus  OBJECT-TYPE
       SYNTAX     INTEGER
                  {
                    up     (1),
                    down   (2),
                    unknown(3)
                  }
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Current operational status of the signaling link."
   ::= { medGwyGatewayConfigEntry 8 }

   medGwyGatewayLastStatusChange OBJECT-TYPE
       SYNTAX      TimeTicks
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "The value of sysUpTime at the time the associated
                    link entered its current operational status. If
                    the current status was entered prior to the last
                    re-initialization of the local network management
                    subsystem, then this object contains a zero value."
   ::= { medGwyGatewayConfigEntry 9 }

   medGwyGatewayResetStatistics OBJECT-TYPE
       SYNTAX     INTEGER
                  {
                     notApplicable (1), -- Invalid/unknown.
                     other         (2), -- None from the list below.
                     reset         (3)  -- Reset all statistics now.
                  }
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "This object can be used to reset all statistics
                    collected for this media gateway link so far.

Holdrege, et al  Standards Track - Expires November 2001             8
                             Megaco MIB                        May 2001


                    Statistics will be reset when the object is SET
                    to 'reset'.  Upon reset, the agent changes the
   value
                    of this object to 'notApplicable'."
   ::= { medGwyGatewayConfigEntry 10 }

   medGwyGatewayRowStatus OBJECT-TYPE
       SYNTAX      RowStatus
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "This is used to create new rows in this table,
                    Modify existing rows, and to delete existing rows."
   ::= { medGwyGatewayConfigEntry 11 }



   --
   ********************************************************************
   *
   --
   -- medGwyGatewayControllerTable
   --
   --   The Media Gateway Controller Table...
   --
   --   'List' of Media Gateway Controllers (on a media gateway), and
   --   Configuration Information on these Controllers.
   --
   --   An Entry in this Table is automatically created when a manager
   --   creates an entry in the medGwyGatewayConfigTable
   --
   --
   ********************************************************************
   *

   medGwyGatewayControllerTable OBJECT-TYPE
       SYNTAX       SEQUENCE OF MedGwyGatewayControllerEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION "Addresses of Media Gateway Controllers."
       ::= { medGwyConfiguration 3 }

   medGwyGatewayControllerEntry OBJECT-TYPE
       SYNTAX      MedGwyGatewayControllerEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION "Entry holding information about an individual
                    Media Gateway Controller."
       INDEX      { medGwyGatewayId, medGwyGatewayLinkId }
       ::= { medGwyGatewayControllerTable 1 }

   MedGwyGatewayControllerEntry ::= SEQUENCE
   {

Holdrege, et al  Standards Track - Expires November 2001             9
                             Megaco MIB                        May 2001


       mediaGatewayControllerIPAddress      IpAddress,          -- rw
       mediaGatewayControllerPort           Integer32,          -- rw
       mediaGatewayControllerOperStatus     INTEGER             -- ro
   }


   mediaGatewayControllerIPAddress OBJECT-TYPE
       SYNTAX      IpAddress
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION "The IP address of the Media Gateway Controller. The
                    value 0.0.0.0 is returned if the entry is invalid."
   ::= { medGwyGatewayControllerEntry 1 }

   mediaGatewayControllerPort OBJECT-TYPE
       SYNTAX      Integer32 (0..65535)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION "TCP port of the Media Gateway Controller. The value
                    0 is returned if the entry is invalid."
   ::= { medGwyGatewayControllerEntry 2 }

   mediaGatewayControllerOperStatus OBJECT-TYPE
       SYNTAX     INTEGER
                  {
                     up      (1), -- Up/active.
                     down    (2), -- Down.
                     standby (3)  -- Standby mode.
                  }
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Status of the Media Gateway Controller (and/or)
                    its transportLink."
   ::= { medGwyGatewayControllerEntry 3 }



   --
   ********************************************************************
   *
   --
   -- medGwyGatewayStatsTable
   --
   --   The Media Gateway Stats Table...
   --
   --   There is one entry in this table for each
   --   MediaGateway/SignallingLink. The Agent creates this table, when
   --   a GatewayConfig Table Entry is created.
   --
   --
   ********************************************************************
   *

Holdrege, et al  Standards Track - Expires November 2001            10
                             Megaco MIB                        May 2001


   medGwyGatewayStatsTable       OBJECT-TYPE
       SYNTAX      SEQUENCE OF MedGwyGatewayStatsEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION "A list of mediaGatewayTableEntry objects."
   ::= { medGwyStatistics 1 }

   medGwyGatewayStatsEntry  OBJECT-TYPE
       SYNTAX      MedGwyGatewayStatsEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION "Entry holding stats about a group of
                    Media Gateway Controllers sharing the same
                    signaling link."
       INDEX      { medGwyGatewayId, medGwyGatewayLinkId }
   ::= { medGwyGatewayStatsTable 1 }

   MedGwyGatewayStatsEntry ::= SEQUENCE
   {
       medGwyGatewayNumInMessages           Counter32,          -- ro
       medGwyGatewayNumInOctets             Counter32,          -- ro
       medGwyGatewayNumOutMessages          Counter32,          -- ro
       medGwyGatewayNumOutOctets            Counter32,          -- ro
       medGwyGatewayNumErrors               Counter32,          -- ro
       medGwyGatewayNumTimerRecovery        Counter32,          -- ro
       medGwyGatewayTransportNumLosses      Counter32,          -- ro
       medGwyGatewayTransportNumSwitchover  Counter32,          -- ro
       medGwyGatewayTransportTotalNumAlarms Counter32,          -- ro
       medGwyGatewayTransportLastEvent      INTEGER,            -- ro
       medGwyGatewayTransportLastEventTime  TimeTicks,          -- ro
       medGwyGatewayLastStatisticsReset     TimeTicks           -- ro
   }


   medGwyGatewayNumInMessages OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Total number of messages received on the link."
   ::= { medGwyGatewayStatsEntry 1 }

   medGwyGatewayNumInOctets OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Total number of octets received on the link."
   ::= { medGwyGatewayStatsEntry 2 }

   medGwyGatewayNumOutMessages OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current

Holdrege, et al  Standards Track - Expires November 2001            11
                             Megaco MIB                        May 2001


       DESCRIPTION "Total number of messages sent on the link."
   ::= { medGwyGatewayStatsEntry 3 }

   medGwyGatewayNumOutOctets OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Total number of octets sent on the link."
   ::= { medGwyGatewayStatsEntry 4 }

   medGwyGatewayNumErrors OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Total number of signaling-level errors encountered.
                    Includes, but is not limited to, number of bad
                    messages received, number of failures to sent a
                    message and number of other errors."
   ::= { medGwyGatewayStatsEntry 5 }

   medGwyGatewayNumTimerRecovery OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Number of timer recovery events since the
   statistics
                    was last reset. This reflects all timers."
   ::= { medGwyGatewayStatsEntry 6 }

   medGwyGatewayTransportNumLosses OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Number of times a transport link was lost
   (excluding
                    switch-over cases)."
   ::= { medGwyGatewayStatsEntry 7 }

   medGwyGatewayTransportNumSwitchover OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Number of times when the signaling was switched
                    over to an alternative link."
   ::= { medGwyGatewayStatsEntry 8 }

   medGwyGatewayTransportTotalNumAlarms OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "Total number of all alarms issued for the transport
                    layer."

Holdrege, et al  Standards Track - Expires November 2001            12
                             Megaco MIB                        May 2001


   ::= { medGwyGatewayStatsEntry 9 }

   medGwyGatewayTransportLastEvent OBJECT-TYPE
       SYNTAX     INTEGER
                  {
                     notApplicable   (1), -- Invalid/unknown.
                     other           (2), -- None from the list below.
                     linkUp          (3), -- Transport link is up.
                     linkLoss        (4), -- Transport link loss.
                     persistentError (5), -- No link - persistent
   error.
                     linkShutdown    (6), -- Link is shut down.
                     switchOver      (7)  -- Fail-over.
                  }
       MAX-ACCESS   read-only
       STATUS       current
       DESCRIPTION  "Last event reported by the transport layer."
   ::= { medGwyGatewayStatsEntry 10 }

   medGwyGatewayTransportLastEventTime OBJECT-TYPE
       SYNTAX      TimeTicks
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION "The value of sysUpTime at the time when the event
                    specified by mediaGatewayTransportLastEvent
   occured.
                    If the last event occured prior to the last
                    re-initialization of the local network management
                    subsystem, then this object contains a zero value."
   ::= { medGwyGatewayStatsEntry 11 }

   medGwyGatewayLastStatisticsReset OBJECT-TYPE
       SYNTAX      TimeTicks
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION "The value of sysUpTime at the time when the
                    statistics were reset. If the reset occured prior
   to
                    the last re-initialization of the local network
                    management subsystem, this object contains a zero
                    value."
   ::= { medGwyGatewayStatsEntry 12 }




   --
   ********************************************************************
   *
   --
   -- medGwyTermIdTable
   --

Holdrege, et al  Standards Track - Expires November 2001            13
                             Megaco MIB                        May 2001


   --   TerminationId Table...
   --
   --   Provides the manager with the nextId for use in creating a
   --   Termination. There is one entry in this table for each
   --   MediaGateway.
   --
   -- Note:
   --   If this table isn't implemented, the manager would be
   --   responsible for providing the (unique) nextId (via retaining
   --   used id's, hashing, etc)
   --
   ********************************************************************
   *


   medGwyTermIdTable OBJECT-TYPE
       SYNTAX       SEQUENCE OF MedGwyTermIdEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION
                   "This table contains a nextTerminationId for each
                    Gateway. It provides the manager with the
                    nextTerminationId for use in creating a new
                    TerminationsTable Entry."
   ::= { medGwyConnections 1}

   medGwyTermIdEntry OBJECT-TYPE
       SYNTAX       MedGwyTermIdEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION
                   "This table contains a nextTerminationId for each
                    Gateway, and is indexed by mediaGatewayId."
       INDEX        { medGwyGatewayId }
   ::= { medGwyTermIdTable 1 }


   MedGwyTermIdEntry ::= SEQUENCE
   {
       medGwyNextTerminationId             TestAndIncr         -- rw
   }

   medGwyNextTerminationId OBJECT-TYPE
       SYNTAX        TestAndIncr
       MAX-ACCESS    read-write
       STATUS        current
       DESCRIPTION
          "The Next Value for a MediaGateway TerminationId.  Assists
   the
           manager in selecting a value for medGwyTerminationId.
           Using the TestAndIncr syntax, A Manager will 'lock' this
           variable, ensuring single access."

Holdrege, et al  Standards Track - Expires November 2001            14
                             Megaco MIB                        May 2001


   ::= { medGwyTermIdEntry 1 }



   --
   ********************************************************************
   *
   --
   -- medGwyTerminationsTable
   --
   --   The Terminations Table...
   --
   --   There is one entry in this table for each Termination in a
   MediaGateway.
   --
   --
   ********************************************************************
   *

   medGwyTerminationsTable OBJECT-TYPE
       SYNTAX       SEQUENCE OF MedGwyTerminationsEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION
                   "This table contains information about terminations
                    in a media gateway. It is a list of terminations.
                    The number of entries equals to the total number of
                    terminations for all contexts in a gateway."
   ::= { medGwyConnections 2}

   medGwyTerminationsEntry OBJECT-TYPE
       SYNTAX       MedGwyTerminationsEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION "
                    It contains objects that describe a termination.
                   "
       INDEX        { medGwyGatewayId, medGwyTerminationId }
   ::= { medGwyTerminationsTable 1 }


   MedGwyTerminationsEntry ::= SEQUENCE
   {
       medGwyTerminationId                  Integer32,          -- na
       medGwyTerminationName                SnmpAdminString,    -- rc
       medGwyTerminationStatus              INTEGER,            -- rc
       medGwyTerminationTestStatus          INTEGER,            -- rc
       medGwyTerminationInterfaceIdentifier Integer32,          -- rc
       medGwyTerminationPropertyProfileId   Integer32,          -- rc
       medGwyTerminationRowStatus           RowStatus           -- rc
   }


Holdrege, et al  Standards Track - Expires November 2001            15
                             Megaco MIB                        May 2001


   medGwyTerminationId OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION "An identification number that is assign to
                    the termination by a media gateway. "
   ::= { medGwyTerminationsEntry 1 }

   medGwyTerminationName OBJECT-TYPE
       SYNTAX      SnmpAdminString ( SIZE (0..64) )
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "An Name that is assign to the termination. "
   ::= { medGwyTerminationsEntry 2 }

   medGwyTerminationStatus OBJECT-TYPE
       SYNTAX      INTEGER
                   {
                     in-Service    (1),
                     out-Of-Service(2)
                   }
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "current status of the line"
   ::= { medGwyTerminationsEntry 3 }

   medGwyTerminationTestStatus OBJECT-TYPE
       SYNTAX      INTEGER
                   {
                     in-Test     (1),
                     out-Of-Test (2)
                   }
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "current status of the line"
   ::= { medGwyTerminationsEntry 4 }

   medGwyTerminationInterfaceIdentifier OBJECT-TYPE
       SYNTAX      InterfaceIndex
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "A number that uniquely identifies the interface in
                    the physical gateway."
   ::= { medGwyTerminationsEntry 5 }

   medGwyTerminationPropertyProfileId OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "PropertyId...an index into the PropertyProfile
                    Table"
   ::= { medGwyTerminationsEntry 6 }

Holdrege, et al  Standards Track - Expires November 2001            16
                             Megaco MIB                        May 2001



   medGwyTerminationRowStatus OBJECT-TYPE
       SYNTAX      RowStatus
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "This is used to create new rows in this table,
                    Modify existing rows, and to delete existing rows."
   ::= { medGwyTerminationsEntry 7 }



   --
   ********************************************************************
   *
   --
   -- medGwyPropertyProfileTable
   --
   --   The Media Gateway Property Profile Table...
   --
   --   There are 'N' entries for each Gateway-PropertyProfile
   --   Each entry is a supported property, thus this table gives a
   list
   --   of supported properties for each specified Profile.
   --
   --   Each Property is defined as an Object Identifer in the various
   --   Package Mibs.  That OID is used to identify the particular
   --   Package, and if the Termination supports the property, this
   --   Package OID is included in its list.
   --
   --   Terminations (in the TerminationsTable) will have a
   --   PropertyProfileId which indicate which PropertyProfile this
   --   Termination supports. A Manager builds a Profile of properties,
   --   then ties each termination to a defined profile, via the
   --   PropertyProfileId
   --
   --
   ********************************************************************
   *


   medGwyPropertyProfileTable OBJECT-TYPE
       SYNTAX       SEQUENCE OF MedGwyPropertyProfileEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION
                   "This table contains a list of the properties
                    supported in a Profile.  A Manager builds a Profile
                    of properties, then ties each termination to a
                    defined profile"
   ::= { medGwyConnections 3}



Holdrege, et al  Standards Track - Expires November 2001            17
                             Megaco MIB                        May 2001


   medGwyPropertyProfileEntry OBJECT-TYPE
       SYNTAX       MedGwyPropertyProfileEntry
       MAX-ACCESS   not-accessible
       STATUS       current
       DESCRIPTION "
                    Each row represents a default property of the
                    Property Profile N-entries per
                    mediaGatewayId/PropertyId, 1 per property."
       INDEX        { medGwyGatewayId, medGwyPropertyProfileId,
                      medGwyPropertyProfileIndex }
   ::= { medGwyPropertyProfileTable 1 }


   MedGwyPropertyProfileEntry ::= SEQUENCE
   {
       medGwyPropertyProfileId             Integer32,          -- na
       medGwyPropertyProfileIndex          Integer32,          -- na
       medGwyPropertyProfileProperty       AutonomousType,     -- rc
       medGwyTermPropertyProfileStatus     RowStatus           -- rc
   }


   medGwyPropertyProfileId OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION "PropertyProfile Identifier.  Identifies this
                    Profile, this is the value that each Termination
                    will contain point-to"
   ::= { medGwyPropertyProfileEntry 1 }

   medGwyPropertyProfileIndex OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION "PropertyProfile Index...merely a 'counter' thru the
                    table, ie, property-1, property-2, etc."
   ::= { medGwyPropertyProfileEntry 2 }

   medGwyPropertyProfileProperty OBJECT-TYPE
       SYNTAX      AutonomousType
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION "The Property supported by this Profile.
                    This is an OID defined in a package to identify a
                    Particular property (such as AnalogLines, Tones)."
   ::= { medGwyPropertyProfileEntry 3 }

   medGwyTermPropertyProfileStatus OBJECT-TYPE
       SYNTAX      RowStatus
       MAX-ACCESS  read-create
       STATUS      current

Holdrege, et al  Standards Track - Expires November 2001            18
                             Megaco MIB                        May 2001


       DESCRIPTION
                  "used to create new rows in this table, modify
                   existing rows, and to delete existing rows."
   ::= { medGwyPropertyProfileEntry 4 }




   --
   ********************************************************************
   *
   --
   -- Media-Gatway-MIB Notification Definitions
   --
   --
   ********************************************************************
   *

   mediaGatewayMIBNotifications OBJECT IDENTIFIER ::= { mediaGatewayMIB
   2 }


   medGwyNotifPrefix   OBJECT IDENTIFIER ::= {
   mediaGatewayMIBNotifications 0 }
   medGwyNotifObjects  OBJECT IDENTIFIER ::= {
   mediaGatewayMIBNotifications 1 }

   --
   -- Objects necessary for these Notifications
   --
   medGwyReceivedElement OBJECT-TYPE
       SYNTAX      OCTET STRING  ( SIZE (0..64) )
       MAX-ACCESS  accessible-for-notify
       STATUS      current
       DESCRIPTION "The element name received in a megaco message."
   ::= { medGwyNotifObjects 1 }


   medGwyLinkStatusChange NOTIFICATION-TYPE
       OBJECTS {
                 medGwyGatewayLinkName,
                 medGwyGatewayOperStatus
               }
       STATUS  current
       DESCRIPTION
           "This notification indicates that operational status
            of a media gateway control link has changed."
   ::= { medGwyNotifPrefix 1}

   medGwyInvalidControllerAddress NOTIFICATION-TYPE
       OBJECTS {
                 mediaGatewayControllerIPAddress

Holdrege, et al  Standards Track - Expires November 2001            19
                             Megaco MIB                        May 2001


               }
       STATUS  current
       DESCRIPTION
           "This notification indicates that a message was received
            from a controller that did not match any none valid
            controller IPAddress"
   ::=  { medGwyNotifPrefix 2 }


   medGwyInvalidTerminationId NOTIFICATION-TYPE
       OBJECTS {
                 medGwyTerminationName
               }
       STATUS  current
       DESCRIPTION
           "This notification indicates that a message was received
            from a controller that contained a TerminationId that did
            not match any TerminationId in the TerminationsTable.
            TerminationId is found in the OID of the
            medGwyTerminationName Object."
   ::=  { medGwyNotifPrefix 3 }


   medGwyInvalidPackageElement NOTIFICATION-TYPE
       OBJECTS {
                 medGwyReceivedElement
               }
       STATUS  current
       DESCRIPTION
           "This notification indicates that a message was received
            from a controller that contained an event, signal,
            or descriptor that was not recognized for the
            package."
   ::=  { medGwyNotifPrefix 4 }


   medGwyTerminationStatusChange NOTIFICATION-TYPE
       OBJECTS {
                 medGwyTerminationStatus,
                 medGwyTerminationTestStatus
               }
       STATUS  current
       DESCRIPTION
           "This notification is sent when a termination changes
            status."
   ::=  { medGwyNotifPrefix 5 }



   --
   ********************************************************************
   *

Holdrege, et al  Standards Track - Expires November 2001            20
                             Megaco MIB                        May 2001


   --
   -- Conformance for the Media-Gateway-MIB
   --
   -- To be completed....
   --
   --
   ********************************************************************
   *

   mediaGatewayConformance OBJECT IDENTIFIER ::= { mediaGatewayMIB 3 }


   medGwyCompliances  OBJECT IDENTIFIER ::= { mediaGatewayConformance 1
   }
   medGwyConfGroups   OBJECT IDENTIFIER ::= { mediaGatewayConformance 2
   }


   -- Compliance

   medGwyCompliance MODULE-COMPLIANCE
       STATUS current
       DESCRIPTION
          "Compliance statement for entities which implement
           the Media Gateway MIB.
          "
       MODULE              -- this module
       MANDATORY-GROUPS
       {
           medGwyConfigGroup,
           medGwyStatsGroup,
           medGwyNotificationsGroup
       }


       GROUP medGwyGWControllerGroup
       DESCRIPTION
          "This group is mandatory for all Systems...."

       GROUP medGwyNextIdGroup
       DESCRIPTION
          "This group NOT mandatory for Agents. In this event, the
           Manager is responsible for submitting valid Id's."

       --...

     ::= { medGwyCompliances 1 }


   -- Units of Conformance

   medGwyConfigGroup OBJECT-GROUP

Holdrege, et al  Standards Track - Expires November 2001            21
                             Megaco MIB                        May 2001


       OBJECTS
       {
         medGwyGatewayLinkName,
         medGwyGatewayIPAddress
         -- etc...
       }
       STATUS current
       DESCRIPTION
          "Configuration Information for a Media Gateway"
   ::= { medGwyConfGroups 1 }

   medGwyStatsGroup OBJECT-GROUP
       OBJECTS
       {
         --...
         medGwyGatewayNumErrors,
         medGwyGatewayTransportLastEvent
         --...
       }
       STATUS current
       DESCRIPTION
          "Stats Information for a Media Gateway"
   ::= { medGwyConfGroups 2 }

   medGwyGWControllerGroup OBJECT-GROUP
       OBJECTS
       {
         mediaGatewayControllerIPAddress,
         mediaGatewayControllerPort
         --...
       }
       STATUS current
       DESCRIPTION
          "Stats Information for a Media Gateway"
   ::= { medGwyConfGroups 3 }

   medGwyNextIdGroup OBJECT-GROUP
       OBJECTS
       {
         medGwyNextTerminationId,
         medGwyNextLinkId
         --...
       }
       STATUS current
       DESCRIPTION
          "Agent provides NextId's to the Manager to assist in
   selecting
           and creating new table entries."
   ::= { medGwyConfGroups 4 }

   medGwyNotificationsGroup NOTIFICATION-GROUP
       NOTIFICATIONS

Holdrege, et al  Standards Track - Expires November 2001            22
                             Megaco MIB                        May 2001


       {
         medGwyLinkStatusChange,
         medGwyInvalidControllerAddress,
         medGwyInvalidTerminationId,
         medGwyInvalidPackageElement,
         medGwyTerminationStatusChange
       }
       STATUS current
       DESCRIPTION
          "Notifications that an entity implementing the Media Gateway
           will send."
   ::= { medGwyConfGroups 5 }

   -- etc!

   END

5. Formal Syntax

   The syntax used in the definition of the MIB is as per the SNMP
   Management Framework described in Section 3 of this document.

6. Security Considerations

   Not sure what statement should be made here.


7. References


   1  Bradner, S., "The Internet Standards Process -- Revision 3", BCP
      9, RFC 2026, October 1996.

   2  Bradner, S., "Key words for use in RFCs to Indicate Requirement
      Levels", BCP 14, RFC 2119, March 1997

   3  Cuervo, F., Greene, N., Rayhan, A., Rosen, B., Segers, J.,
      "Megaco Protocol Version 1.0", RFC 3015, November 2000

   4  ITU-T Recommendation H.248 (06/2000), "Gateway Control Protocol"

   5  Harrington, D., Presuhn, R. and B. Wijnen, "An Architecture for
      Describing SNMP Management Frameworks", RFC 2571, April 1999.

   6  Rose, M. and K. McCloghrie, "Structure and Identification of
      Management Information for TCP/IP-based Internets", STD 16, RFC
      1155, May 1990.

   7  Rose, M. and K. McCloghrie, "Concise MIB Definitions", STD 16,
      RFC 1212, March 1991.



Holdrege, et al  Standards Track - Expires November 2001            23
                             Megaco MIB                        May 2001



   8  Rose, M., "A Convention for Defining Traps for use with the
      SNMP", RFC 1215, March 1991.

   9  McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose,
      M. and S. Waldbusser, "Structure of Management Information
      Version 2 (SMIv2)", STD 58, RFC 2578, April 1999.

   10 McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose,
      M. and S. Waldbusser, "Textual Conventions for SMIv2", STD 58,
      RFC 2579, April 1999.

   11 McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose,
      M. and S. Waldbusser, "Conformance Statements for SMIv2", STD 58,
      RFC 2580, April 1999.

   12 Case, J., Fedor, M., Schoffstall, M. and J. Davin, "Simple
      Network Management Protocol", STD 15, RFC 1157, May 1990.

   13 Case, J., McCloghrie, K., Rose, M. and S. Waldbusser,
      "Introduction to Community-based SNMPv2", RFC 1901,

   14 Case, J., McCloghrie, K., Rose, M. and S. Waldbusser, "Protocol
      Operations for Version 2 of the Simple Network Management
      Protocol (SNMPv2)", RFC 1905, January 1996.

   15 Case, J., Mundy, R., Partain, D. and B. Stewart, "Introduction to
      Version 3 of the Internet-standard Network Management Framework",
      RFC 2570, April 1999.

   16 Levi, D., Meyer, P. and B. Stewart, "SNMPv3 Applications", RFC
      2573, April 1999.

   17 Wijnen, B., Presuhn, R. and K. McCloghrie, "View-based Access
      Control Model (VACM) for the Simple Network Management Protocol
      (SNMP)", RFC 2575, April 1999.


8. Acknowledgments

   The authors would like to acknowledge the significant contributions
   to this draft by Pratima Shah (??), Irina Suconick (??), Brian Rosen
   (Marconi), Rod Miller (Nortel Networks), and Thomas Stone
   (Jetstream).

9. Author's Addresses

   Matt Holdrege
   ipVerse
   223 Ximeno Ave.
   Long Beach, CA USA 90803
   Email: matt@ipverse.com

Holdrege, et al  Standards Track - Expires November 2001            24
                             Megaco MIB                        May 2001



   Ilya Akramovich
   Lucent Technologies
   1701 Harbor Bay Parkway
   Alameda, CA USA 94502
   Phone: (510) 769-6001
   Email: iakramov@lucent.com

   C. Michael Brown
   Nortel Networks
   4008 Chapel Hill Road
   Research Triangle Park, NC USA 27709
   Phone: (919) 991-7767
   Email: C.Michael.Brown@nortelnetworks.com



Full Copyright Statement

   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.  The limited permissions granted above are perpetual and
   will not be revoked by the Internet Society or its successors or
   assigns.  This document and the information contained herein is
   provided on an "AS IS" basis and THE INTERNET SOCIETY AND THE
   INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."

10. Expiration Date

   This memo is filed as <draft-ietf-megaco-mib-02.txt>, and expires
   November 23, 2001.








Holdrege, et al  Standards Track - Expires November 2001            25
