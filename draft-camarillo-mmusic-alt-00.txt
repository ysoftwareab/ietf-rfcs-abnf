


Internet Engineering Task Force                                   SIP WG
Internet Draft                                              G. Camarillo
                                                                Ericsson
                                                            J. Rosenberg
                                                             dynamicsoft
draft-camarillo-mmusic-alt-00.txt
February 3, 2003
Expires: August 2003


                 The Alternative Semantics for the Session
                  Description Protocol Grouping Framework

STATUS OF THIS MEMO

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress".

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   To view the list Internet-Draft Shadow Directories, see
   http://www.ietf.org/shadow.html.


Abstract

   This document defines the alternative (ALT) semantics for the SDP
   grouping framework. The ALT semantics allow offering alternative
   media configurations to establish a particular media stream.












G. Camarillo et. al.                                          [Page 1]


Internet Draft                    SIP                   February 3, 2003





                           Table of Contents



   1          Introduction ........................................    3
   1.1        Terminology .........................................    3
   2          ALT Semantics .......................................    3
   2.1        Preference ..........................................    3
   2.2        Media Stream Establishment Attempts .................    4
   2.3        Backward Compatibility and the "alt" SIP Option
              Tag .................................................    5
   2.4        ALT and the Offer/Answer Model ......................    5
   3          Example .............................................    5
   4          IANA Considerations .................................    6
   5          Security Considerations .............................    6
   6          Authors' Addresses ..................................    7
   7          Normative References ................................    7
































G. Camarillo et. al.                                          [Page 2]


Internet Draft                    SIP                   February 3, 2003


1 Introduction

   An SDP [1] session description contains the media parameters to be
   used to establish a number of media streams. For a particular media
   stream, an SDP session description contains, among other parameters,
   the transport addresses and the codec to be used to transfer media.
   SDP allows providing one transport address and a list of codecs per
   media stream. The users can choose to use any of those codecs at any
   point in time during the session, but they only have a single
   transport address to choose from.

   Being able to dynamically change transport address during a session
   is useful when a system cannot determine its own transport address as
   seen from the remote end in presence of a NAT (Network Address
   Translator), but it can provide a list of possible candidates. Having
   several alternative transport addresses for a particular stream also
   provides a fail-over mechanism in case one of the addresses becomes
   unreachable.

   This document defines the alternative (ALT) semantics for the SDP
   grouping framework [2]. The ALT semantics allow expressing
   alternative configurations, including transport addresses and codecs,
   for a particular media stream.

1.1 Terminology

   In this document, the key words "MUST", "MUST NOT", "REQUIRED",
   "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
   and "OPTIONAL" are to be interpreted as described in RFC 2119 [3] and
   indicate requirement levels for compliant SIP implementations.

2 ALT Semantics

   We define a new "semantics" attribute within the SDP grouping
   framework [2]: ALT (Alternative).

   Media lines grouped using ALT semantics represent alternative
   configurations of a single logical media stream. The entity receiving
   a session description with an ALT group MUST be ready to receive
   media over any of the grouped m lines.

2.1 Preference

   The entity generating a session description may have an order of
   preference for all the alternative configurations offered. The
   identifiers of the media streams MUST be listed in order of
   preference in the group line. In the example below, the m line with
   mid=1 has a higher preference than the m line with mid=2.



G. Camarillo et. al.                                          [Page 3]


Internet Draft                    SIP                   February 3, 2003


            a=group:ALT 1 2



   In the ALT context, preferred means that the recipient of the SDP
   SHOULD send data using the m line with the highest preference that is
   acceptable to it.

        In SDP, the codecs within a given media line are listed in
        order of preference. The ALT semantics effectively stretch
        the concept of dynamic changes of codec in the middle of a
        session to dynamic changes of transport addresses and other
        media parameters in the middle of a session. Therefore, we
        have chosen to use the same mechanism (i.e., a list ordered
        by preference) to express preferences among grouped media
        lines.

2.2 Media Stream Establishment Attempts

   An entity receiving a set of streams grouped using ALT semantics
   cannot assume that it will be possible to successfully use all the
   alternative configurations offered. Some of the m lines may contain
   transport addresses that are unreachable for the recipient of the
   session description.

   Such entity SHOULD try to establish the grouped m lines in order of
   preference. How an m line is established depends on the type of the
   media stream. Establishing a TCP-based m line involves establishing a
   TCP connection whereas establishing an RTP-based m line involves
   sending RTP or RTCP packets.

   An entity SHOULD use network feedback (e.g., ICMP messages) and/or
   timeouts to determine whether or not the establishment of the media
   stream has been successful. If the establishment is not successful,
   the receiver of the session description SHOULD try to establish the
   next m line of the ALT group in order of preference.

   An entity MAY try to establish different m lines of the ALT group in
   parallel. However, even if more than one m line are established
   successfully, an entity MUST only send media over one of the
   successfully established m lines.

   During the session, a sender MAY choose to use any of the grouped m
   lines at a particular point in time to send data. This makes it
   possible to use the ALT semantics as a fail-over mechanism for
   ongoing sessions. If once a media stream has been successfully
   established, there is some type of transmission error, the end-points
   can try to use any other configuration from the ALT group to try to



G. Camarillo et. al.                                          [Page 4]


Internet Draft                    SIP                   February 3, 2003


   recover from the error.

2.3 Backward Compatibility and the "alt" SIP Option Tag

   The receiver of a session description with an ALT group is supposed
   to establish only one media stream. However, if the entity receiving
   such a session description does not understand the ALT semantics or
   the grouping framework, it will establish all the streams of the ALT
   group. If this entity sends media in parallel over all the streams at
   the same time, the resulting session bandwidth will be much higher
   than the expected by the creator of the session. The ALT semantics
   MUST NOT be used when this situation is unacceptable.

   Note, however, that there are scenarios where the situation described
   above is not problematic. In sendonly sessions, for instance, this
   problem is minimized, because the creator of the SDP is the only one
   sending media. The receiver that does not understand ALT will be
   receiving media over only one m line at a time.

   Scenarios that involve SIP [4] and the offer/answer model [5] are not
   problematic either, since they can use SIP options tags to ensure
   that the answerer understands the ALT semantics. Therefore, we define
   the option tag "alt" for use in the Require and Supported header
   fields. A SIP entity that includes the "alt" option tag in a
   Supported header field understands the ALT semantics defined in this
   document.

2.4 ALT and the Offer/Answer Model

   An answerer getting a number of m lines grouped using ALT semantics
   may find some of them unacceptable. They may contain codecs that the
   answerer does not support or contain any other parameter that makes
   them unacceptable. Following normal SIP procedures, the answerer will
   set their ports to zero in the answer [5].

   The answerer follows the steps described in Section 2.2 using only
   those m lines that were found, in principle, acceptable.

3 Example

   An end-point receiving the SDP description below needs to choose
   between the destination ports 20000 and 30000. The end-point will be
   able to change dynamically between both ports during the session.


            v=0
            o=Laura 289083124 289083124 IN IP4 one.example.com
            t=0 0



G. Camarillo et. al.                                          [Page 5]


Internet Draft                    SIP                   February 3, 2003


            c=IN IP4 192.0.0.1
            a=group:ALT 1 2
            m=audio 20000 RTP/AVP 0
            a=mid:1
            m=audio 30000 RTP/AVP 0
            a=mid:2



4 IANA Considerations

   IANA needs to register the following new "semantics" attribute for
   the SDP grouping framework [2]:

   Semantics                  Token      Reference
   -------------------        -----      ---------
   Alternative                ALT        [RFCxxxx]


   It should be registered in the SDP parameters registry
   (http://www.iana.org/assignments/sdp-parameters) under Semantics for
   the "group" SDP Attribute.

   This document defines a SIP option tag (alt) in Section 2.3. It
   should be registered in the SIP parameters registry
   (http://www.iana.org/assignments/sip-parameters) under "Option Tags",
   with the description below.

        A SIP entity that includes the "alt" option tag in a
        Supported header field understands the ALT semantics.

5 Security Considerations

   An attacker adding group lines using the ALT semantics to an SDP
   session description could make an end-point use only one out of all
   the streams offered by the remote end, when the intention of the
   remote-end might have been to establish all the streams.

   An attacker removing group lines using ALT semantics could make and
   end-point establish a higher number of media streams. If the end-
   point sends media over all of them, the session bandwidth may
   increase dramatically.

   It is thus STRONGLY RECOMMENDED that integrity protection be applied
   to the SDP session descriptions. For session descriptions carried in
   SIP [4], S/MIME is the natural choice to provide such end-to-end
   integrity protection, as described in RFC 3261. Other applications
   MAY use a different form of integrity protection.



G. Camarillo et. al.                                          [Page 6]


Internet Draft                    SIP                   February 3, 2003


6 Authors' Addresses

   Gonzalo Camarillo
   Ericsson
   Advanced Signalling Research Lab.
   FIN-02420 Jorvas
   Finland
   electronic mail:  Gonzalo.Camarillo@ericsson.com

   Jonathan Rosenberg
   dynamicsoft
   72 Eagle Rock Ave
   East Hanover, NJ 07936
   USA
   electronic mail:  jdrosen@dynamicsoft.com

7 Normative References

   [1] M. Handley and V. Jacobson, "SDP: session description protocol,"
   RFC 2327, Internet Engineering Task Force, Apr. 1998.

   [2] G. Camarillo, G. Eriksson, J. Holler, and H. Schulzrinne,
   "Grouping of media lines in the session description protocol (SDP),"
   RFC 3388, Internet Engineering Task Force, Dec. 2002.

   [3] S. Bradner, "Key words for use in rfcs to indicate requirement
   levels," RFC 2119, Internet Engineering Task Force, Mar. 1997.

   [4] J. Rosenberg, H. Schulzrinne, G. Camarillo, A. R. Johnston, J.
   Peterson, R. Sparks, M. Handley, and E. Schooler, "SIP: session
   initiation protocol," RFC 3261, Internet Engineering Task Force, June
   2002.

   [5] J. Rosenberg and H. Schulzrinne, "An offer/answer model with
   session description protocol (SDP)," RFC 3264, Internet Engineering
   Task Force, June 2002.





   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights. Information on the
   IETF's procedures with respect to rights in standards-track and



G. Camarillo et. al.                                          [Page 7]


Internet Draft                    SIP                   February 3, 2003


   standards-related documentation can be found in BCP-11. Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard. Please address the information to the IETF Executive
   Director.

   Full Copyright Statement

   Copyright (c) The Internet Society (2003). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.











G. Camarillo et. al.                                          [Page 8]


