<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>A JSON Media Type for Describing Partial Modifications to JSON Documents</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Conventions">
<link href="#rfc.section.3" rel="Chapter" title="3 Motivations">
<link href="#rfc.section.4" rel="Chapter" title="4 Patch Object Structure">
<link href="#rfc.section.5" rel="Chapter" title="5 Operations">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 add">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 remove">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 replace">
<link href="#rfc.section.6" rel="Chapter" title="6 Error Handling">
<link href="#rfc.section.7" rel="Chapter" title="7 Acknowledgements">
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Considerations">
<link href="#rfc.section.9" rel="Chapter" title="9 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="10 References">
<link href="#rfc.references.1" rel="Chapter" title="10.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="10.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Examples">
<link href="#rfc.appendix.Appendix%20A.1" rel="Chapter" title="Appendix A.1 Adding an Object Property">
<link href="#rfc.appendix.Appendix%20A.2" rel="Chapter" title="Appendix A.2 Adding an Array Element">
<link href="#rfc.appendix.Appendix%20A.3" rel="Chapter" title="Appendix A.3 Removing an Object Property">
<link href="#rfc.appendix.Appendix%20A.4" rel="Chapter" title="Appendix A.4 Removing an Array Element">
<link href="#rfc.appendix.Appendix%20A.5" rel="Chapter" title="Appendix A.5 Replacing a Value">
<link href="#rfc.appendix.Appendix%20B" rel="Chapter" title="Appendix B Changelog">
<link href="#rfc.appendix.Appendix%20C" rel="Chapter" title="Appendix C Open Issues">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="JSON (JavaScript Object Notation) Patch defines the media type "application/patch+json", a JSON-based document structure for specifying partial modifications to apply to a JSON document.  " />
  <meta name="description" content="JSON (JavaScript Object Notation) Patch defines the media type "application/patch+json", a JSON-based document structure for specifying partial modifications to apply to a JSON document.  " />
  <meta name="keywords" content="json" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Internet Engineering Task Force</td>
<td class="right">P. Bryan, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">ForgeRock US, Inc.</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">June 09, 2011</td>
</tr>
<tr>
<td class="left">Expires: December 11, 2011</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">A JSON Media Type for Describing Partial Modifications to JSON Documents<br />
  <span class="filename">draft-pbryan-json-patch-01</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>JSON (JavaScript Object Notation) Patch defines the media type "application/patch+json", a JSON-based document structure for specifying partial modifications to apply to a JSON document.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 11, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Conventions</a>
</li>
<li>3.   <a href="#rfc.section.3">Motivations</a>
</li>
<li>4.   <a href="#rfc.section.4">Patch Object Structure</a>
</li>
<li>5.   <a href="#rfc.section.5">Operations</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">add</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">remove</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">replace</a>
</li>
<li>6.   <a href="#rfc.section.6">Error Handling</a>
</li>
<li>7.   <a href="#rfc.section.7">Acknowledgements</a>
</li>
<li>8.   <a href="#rfc.section.8">IANA Considerations</a>
</li>
<li>9.   <a href="#rfc.section.9">Security Considerations</a>
</li>
<li>10.   <a href="#rfc.references">References</a>
</li>
<li>10.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>10.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Examples</a>
</li>
<li>Appendix A.1.   <a href="#rfc.appendix.Appendix%20A.1">Adding an Object Property</a>
</li>
<li>Appendix A.2.   <a href="#rfc.appendix.Appendix%20A.2">Adding an Array Element</a>
</li>
<li>Appendix A.3.   <a href="#rfc.appendix.Appendix%20A.3">Removing an Object Property</a>
</li>
<li>Appendix A.4.   <a href="#rfc.appendix.Appendix%20A.4">Removing an Array Element</a>
</li>
<li>Appendix A.5.   <a href="#rfc.appendix.Appendix%20A.5">Replacing a Value</a>
</li>
<li>Appendix B.   <a href="#rfc.appendix.Appendix%20B">Changelog</a>
</li>
<li>Appendix C.   <a href="#rfc.appendix.Appendix%20C">Open Issues</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">This Internet-Draft proposes the JSON-Patch media type "application/patch+json", a JSON structure for specifying partial modifications to apply to a JSON document.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Conventions</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Motivations</h1>
<p><a href="#RFC4627">JavaScript Object Notation (JSON)</a> <cite title="NONE">[RFC4627]</cite> is a popular format for the storage and transmission of structured data. As a result, numerous web service APIs support the JSON media type.  </p>
<p id="rfc.section.3.p.2">The <a href="#RFC5789">HTTP PATCH</a> <cite title="NONE">[RFC5789]</cite> specification extends HTTP with a new method to perform partial modifications to resources. A JSON-based patch document type is required to modify JSON documents using this method.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#Structure" id="Structure">Patch Object Structure</a>
</h1>
<p id="rfc.section.4.p.1">A JSON Patch document is a JSON document that contains an array of objects.  Each object contains a patch operation to apply to a target JSON document.  </p>
<p id="rfc.section.4.p.2">A sample JSON Patch document: </p>
<div id="#rfc.figure.1"></div>
<pre>
[
  { "remove": "/a/b/c" },
  { "add": "/a/b/c", "value": "foo" },
  { "replace": "/a/b/c", "value": "bar" }
]
             </pre>
<p id="rfc.section.4.p.3">Patch operations are applied sequentially in the order they appear in the array. After a patch operation has been applied, the resulting JSON document becomes the target for the next patch operation. This process repeats until all patches are successfully applied.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Operations</h1>
<p id="rfc.section.5.p.1">Operations are specified in the name of a property in the patch operation object, with that property's value being a string containing the <a href="#JSON%20Pointer">[JSON Pointer]</a> that references the node to be affected.  </p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> add</h1>
<p id="rfc.section.5.1.p.1">Adds a new value into an object or array. The value to be added to the object or array is specified in the "value" property.  </p>
<p id="rfc.section.5.1.p.2">If adding to an object, it is an error condition if the property to be added in the object already exists.  </p>
<p id="rfc.section.5.1.p.3">If adding to an array, any elements at or above the specified index are shifted one position to the right (i.e. indexes are incremented). It is an error condition if the addition would result in sparse allocation of any array elements.  </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> remove</h1>
<p id="rfc.section.5.2.p.1">Removes the value specified by the JSON Pointer value.  </p>
<p id="rfc.section.5.2.p.2">If removing an element from an array, any elements above the specified index are shifted one position to the left (i.e. indexes are decremented).  </p>
<p id="rfc.section.5.2.p.3">It is an error condition if the value to be removed does not exist.  </p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> replace</h1>
<p id="rfc.section.5.3.p.1">Replaces the value referenced by the JSON Pointer with a new value.  Syntacically equivalent to performing a "remove" operation, followed immediately by an "add" operation. The value to be replaced is specified in the "value" property.  </p>
<p id="rfc.section.5.3.p.2">It is an error condition if the value to be replaced does not exist.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#Errors" id="Errors">Error Handling</a>
</h1>
<p id="rfc.section.6.p.1">In the event of an error condition, evaluation of the JSON Patch document ceases.  Enforcing safety and/or idempotency of a JSON Patch document is specified by and enforced by the implementation.  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> Acknowledgements</h1>
<p id="rfc.section.7.p.1">The structure of a JSON Patch document was informed by the <a href="#RFC5261">XML Patch document</a> <cite title="NONE">[RFC5261]</cite> specification.  </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.8.p.1">The proposed MIME media type for the JSON Patch document is "application/patch+json".</p>
<p id="rfc.section.8.p.2">Type name: application</p>
<p id="rfc.section.8.p.3">Subtype name: patch+json</p>
<p id="rfc.section.8.p.4">Required parameters: none</p>
<p id="rfc.section.8.p.5">Optional parameters: none</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.9.p.1">This specification is based on the JSON format, therefore has the same security considerations as <a href="#RFC4627">[RFC4627]</a>.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">10.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">10.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4627">[RFC4627]</b></td>
<td class="top">
<a>Crockford, D.</a>, "<a href="http://tools.ietf.org/html/rfc4627">The application/json Media Type for JavaScript Object Notation (JSON)</a>", RFC 4627, July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="JSON Pointer">[JSON Pointer]</b></td>
<td class="top">
<a title="ForgeRock US, Inc.">Bryan, P.</a> and <a title="SitePen (USA)">K. Zyp</a>, "<a>JSON Pointer</a>", June 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">10.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC5261">[RFC5261]</b></td>
<td class="top">
<a>Urpalainen, J.</a>, "<a href="http://tools.ietf.org/html/rfc5261">An Extensible Markup Language (XML) Patch Operations Framework Utilizing XML Path Language (XPath) Selectors</a>", RFC 5261, September 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5789">[RFC5789]</b></td>
<td class="top">
<a>Dusseault, L.</a> and <a>J. Snell</a>, "<a href="http://tools.ietf.org/html/rfc5789">PATCH Method for HTTP</a>", RFC 5789, March 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Examples</h1>
<h1 id="rfc.appendix.Appendix A.1">
<a href="#rfc.appendix.Appendix%20A.1">Appendix A.1.</a> <a href="#Adding-Property" id="Adding-Property">Adding an Object Property</a>
</h1>
<p id="rfc.section.Appendix A.1.p.1">An example target JSON document:</p>
<div id="#rfc.figure.2"></div>
<pre>
{
  "foo": "bar"
}
                 </pre>
<p id="rfc.section.Appendix A.1.p.2">A JSON Patch document:</p>
<div id="#rfc.figure.3"></div>
<pre>
[
  { "add": "/baz", "value": "qux" }
]
                 </pre>
<p id="rfc.section.Appendix A.1.p.3">The resulting JSON document:</p>
<div id="#rfc.figure.4"></div>
<pre>
{
  "baz": "qux",
  "foo": "bar"
}
                 </pre>
<h1 id="rfc.appendix.Appendix A.2">
<a href="#rfc.appendix.Appendix%20A.2">Appendix A.2.</a> <a href="#Adding-Element" id="Adding-Element">Adding an Array Element</a>
</h1>
<p id="rfc.section.Appendix A.2.p.1">An example target JSON document:</p>
<div id="#rfc.figure.5"></div>
<pre>
{
  "foo": [ "bar", "baz" ]
}
                 </pre>
<p id="rfc.section.Appendix A.2.p.2">A JSON Patch document:</p>
<div id="#rfc.figure.6"></div>
<pre>
[
  { "add": "/foo/1", "value": "qux" }
]
                 </pre>
<p id="rfc.section.Appendix A.2.p.3">The resulting JSON document:</p>
<div id="#rfc.figure.7"></div>
<pre>
{
  "foo": [ "bar", "qux", "baz" ]
}
                 </pre>
<h1 id="rfc.appendix.Appendix A.3">
<a href="#rfc.appendix.Appendix%20A.3">Appendix A.3.</a> <a href="#Removing-Property" id="Removing-Property">Removing an Object Property</a>
</h1>
<p id="rfc.section.Appendix A.3.p.1">An example target JSON document:</p>
<div id="#rfc.figure.8"></div>
<pre>
{
  "baz": "qux",
  "foo": "bar"
}
                 </pre>
<p id="rfc.section.Appendix A.3.p.2">A JSON Patch document:</p>
<div id="#rfc.figure.9"></div>
<pre>
[
  { "remove": "/baz" }
]
                 </pre>
<p id="rfc.section.Appendix A.3.p.3">The resulting JSON document:</p>
<div id="#rfc.figure.10"></div>
<pre>
{
  "foo": "bar"
}
                 </pre>
<h1 id="rfc.appendix.Appendix A.4">
<a href="#rfc.appendix.Appendix%20A.4">Appendix A.4.</a> <a href="#Removing-Element" id="Removing-Element">Removing an Array Element</a>
</h1>
<p id="rfc.section.Appendix A.4.p.1">An example target JSON document:</p>
<div id="#rfc.figure.11"></div>
<pre>
{
  "foo": [ "bar", "qux", "baz" ]
}
                 </pre>
<p id="rfc.section.Appendix A.4.p.2">A JSON Patch document:</p>
<div id="#rfc.figure.12"></div>
<pre>
[
  { "remove": "/foo/1" }
]
                 </pre>
<p id="rfc.section.Appendix A.4.p.3">The resulting JSON document:</p>
<div id="#rfc.figure.13"></div>
<pre>
{
  "foo": ["bar", "baz"]
}
                 </pre>
<h1 id="rfc.appendix.Appendix A.5">
<a href="#rfc.appendix.Appendix%20A.5">Appendix A.5.</a> <a href="#Replacing-Value" id="Replacing-Value">Replacing a Value</a>
</h1>
<p id="rfc.section.Appendix A.5.p.1">An example target JSON document:</p>
<div id="#rfc.figure.14"></div>
<pre>
{
  "baz": "qux",
  "foo": "bar"
}
                 </pre>
<p id="rfc.section.Appendix A.5.p.2">A JSON Patch document:</p>
<div id="#rfc.figure.15"></div>
<pre>
[
    { "replace": "/baz", "value": "boo" }
  ]
}
                 </pre>
<p id="rfc.section.Appendix A.5.p.3">The resulting JSON document:</p>
<div id="#rfc.figure.16"></div>
<pre>
{
  "baz": "boo",
  "foo": "bar"
}
                 </pre>
<h1 id="rfc.appendix.Appendix B">
<a href="#rfc.appendix.Appendix%20B">Appendix B.</a> Changelog</h1>
<p id="rfc.section.Appendix B.p.1">Draft 00 </p>

<ul><li>Initial draft.</li></ul>
<p id="rfc.section.Appendix B.p.2">Draft 01 </p>

<ul>
<li>Switched from JSONPath to JSON Pointer to reference nodes.</li>
<li>Removed "op"; property name now contains operation to perform.</li>
<li>Removed "element"; JSON Pointer now contains target node.</li>
<li>Added "replace" operation to decrease operation verbosity.</li>
</ul>
<h1 id="rfc.appendix.Appendix C">
<a href="#rfc.appendix.Appendix%20C">Appendix C.</a> <a href="#Issues" id="Issues">Open Issues</a>
</h1>
<p id="rfc.section.Appendix C.p.1">Interest has been expressed in conforming to a uniform PUT/DELETE interface, and providing for idempotent and non-idempotent operations within the patch document format.  </p>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Paul C. Bryan</span> editor
	  <span class="n hidden">
		<span class="family-name">Bryan</span>
	  </span>
	</span>
	<span class="org vcardline">ForgeRock US, Inc.</span>
	<span class="adr">
	  <span>201 NE Park Plaza Drive Suite 196</span>

	  <span class="vcardline">
		<span class="locality">Vancouver</span>,  
		<span class="region">WA</span> 
		<span class="code">98684</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1 604 783 1481</span>

<span class="vcardline">EMail: <a href="mailto:paul.bryan@forgerock.com">paul.bryan@forgerock.com</a></span>

  </address>
</div>

</body>
</html>