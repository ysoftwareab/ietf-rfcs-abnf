Internet Draft                                                 R. Gellens
Document: draft-gellens-acap-acnt-00.txt           QUALCOMM, Incorporated
Expires: 12 September 1998                                  12 March 1998


                    ACAP Email Account Dataset Class


Status of this Memo:

    This document is an Internet Draft.  Internet Drafts are working
    documents of the Internet Engineering Task Force (IETF), its Areas,
    and its Working Groups.  Note that other groups may also distribute
    working documents as Internet Drafts.

    Internet Drafts are draft documents valid for a maximum of six
    months.  Internet Drafts may be updated, replaced, or obsoleted by
    other documents at any time.  It is not appropriate to use Internet
    Drafts as reference material or to cite them other than as a
    "working draft" or "work in progress."

    To learn the current status of any Internet Draft, please check the
    "1id-abstracts.txt" listing contained in the Internet Drafts shadow
    directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
    munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
    ftp.isi.edu (US West Coast).


    A version of this draft document is intended for submission to the
    RFC editor as a Proposed Standard for the Internet Community.
    Discussion and suggestions for improvement are requested.

    Public comments can be sent to the IETF ACAP mailing list,
    <ietf-acap+@andrew.cmu.edu>.  To subscribe, send a message
    containing SUBSCRIBE to <ietf-acap-request+@andrew.cmu.edu>.
    Private comments should be sent to the author.


1.  Abstract

    It has become common for Internet mail users to have more than one
    account where mail is received, to access multiple accounts from
    the same machine, to access the same accounts from different
    machines, and to use multiple programs which require account
    configuration information.

    The Application Configuration Access Protocol [ACAP] provides an
    ideal mechanism for storage of email account data.

    This specification defines a standard ACAP dataset class for email
    accounts, and a common option for indicating a default.



Gellens                 Expires September 1998                 [Page 1]
Internet Draft        ACAP Email Account Dataset Class        March 1998


2.  Conventions Used in this Document

    The key words "MUST", "MUST NOT", "SHOULD", "SHOULD NOT", and "MAY"
    in this document are to be interpreted as defined in "Key words for
    use in RFCs to Indicate Requirement Levels" [KEYWORDS].


3.  ACAP Standard Options

    This specification defines the MUA Default Account standard option.
    This is a scaler option in the ACAP Standard Option ("/option")
    dataset. The entry name is "mua.default.account".  The
    "option.value" attribute contains the value, which is a URL.
    Generally, this will be an ACAP URL pointing to an entry in an
    Email Account dataset.

    The standard option dataset class is specified in [ACAP-OPTIONS].
    ACAP URLs are defined in [ACAP].


4.  ACAP Email Account Dataset Class

    The ACAP Email Account dataset class defines a set of attributes
    which specify an email account; that is, configuration information
    used for access to email on a POP or IMAP server.


4.1.  ACAP Email Account Dataset Class Prefix

    Datasets whose names begin with "/account" are assumed to contain
    email account entries as defined in this specification.


4.2.  ACAP Email Account Dataset Hierarchy

    Each user may have a set of named email accounts.  The default is
    pointed at by the "mua.default.account" standard option. (See
    section 3 for more information.)

    Inheritance is likely to be useful both for inheriting site or
    group defaults (for example, POP or IMAP servers, and initial
    client configuration in general) as well as for inheriting
    user-specific configuration when using different machines.


5.  Recommended ACAP Email Account Dataset Attributes

    An email account entry MUST have an "entry" attribute.  All other
    attributes are OPTIONAL.





Gellens                 Expires September 1998                 [Page 2]
Internet Draft        ACAP Email Account Dataset Class        March 1998


    Attributes are specified using Augmented Backus-Naur Form [ABNF].
    All attributes are single-valued and textual unless otherwise
    stated.

    The BNF defines the content of the attribute values prior to their
    encoding as an ACAP string.  Clients MUST conform to the syntax
    when generating these attributes, but MUST NOT assume that the
    attribute values will conform to this syntax on access.  Servers
    MUST NOT enforce the syntax.


5.1.  Basic Attributes

    These attributes are defined in ACAP [ACAP] and have meaning in all
    dataset classes.  The section describes how they are used in an
    email account dataset.

    entry
        The "entry" attribute is used to hold a unique name for the
        account.  This name is used for inheritance, so when
        customizing an account which has an entry in an inherited
        dataset, the entry name needs to remain the same.  The name
        should also be descriptive.

    subdataset
        The "subdataset" attribute indicates there is another email
        account dataset underneath this entry.


5.2.  Specific Attributes

    These attributes are specific to the Email Account dataset class.

    account.check-interval
        This specifies the interval, in seconds, between checks (polls)
        for new mail.

        acnt-check-int      = 1*DIGIT

    account.connection-type
        This contains a token indicating the type of connection used
        for this account.  Clients might use this information to modify
        their use of bandwidth.

        acnt-conn           = "direct" / "cable-modem" / "phone-modem"

    account.leave-on-server.flag
        This specifies if the client should delete mail from the server
        after downloading.  This is generally useful only with [POP3]
        servers which support this.

        acnt-lmos-flag      = "0" / "1"


Gellens                 Expires September 1998                 [Page 3]
Internet Draft        ACAP Email Account Dataset Class        March 1998


    account.leave-on-server.days
        When account.leave-on-server.flag is set (value is "1"), this
        attribute specifies the number of days messages should remain
        on the server before being deleted by the client.  This is
        generally useful only with [POP3] servers which support leaving
        mail on the server.

        acnt-lmos-days      = 1*DIGIT

    account.maximum.download-size
        This contains the maximum size (in octets) of messages to be
        downloaded.  This is most useful when accessing messages via
        [POP3].

        acnt-max-dsize      = 1*DIGIT

    account.personality
        This specifies the default personality to assign to messages
        received via this account.  It is generally an ACAP URL to an
        entry in an Email Personality dataset.  The ACAP Email
        Personality dataset class is specified in [ACAP-PERSONALITY].
        ACAP-URLs are defined in [ACAP].

        acnt-personality    = url ;defined in [URL-BASIC]

    account.server.IMAP
        The indicates the default IMAP server to use with this account.
        It is generally an IMAP URL, as specified in [URL-IMAP].

        acnt-imap           = url ;defined in [URL-BASIC]

    account.server.POP
        This specifies the POP server associated with this account.  It
        is generally a POP URL, as defined in [URL-POP].

        acnt-pop            = url ;defined in [URL-BASIC]

    account.sieve.script
        This specifies the text of a Sieve script which will be applied
        by the delivery agent (if supported) to mail arriving at this
        account.  Sieve is specified in [SIEVE].

        acnt-sieve          = 1*UTF8-CHAR

    account.taboo-headers
        This multi-valued attribute is a list of header prefixes.  If
        the client has a mode where it suppresses display of certain
        headers and/or properties of messages, headers which start with
        a prefix included in this attribute are candidates for
        suppression.  Prefix strings should be converted to lower case
        to simplify searching.



Gellens                 Expires September 1998                 [Page 4]
Internet Draft        ACAP Email Account Dataset Class        March 1998


        acnt-taboo          = 1*VCHAR


6.  Examples

        entry                           home
        account.connection-type         phone-modem
        account.personality             home
        account.server.pop              POP://jru;AUTH=APOP@pop.isp.com
        account.sieve.script            IF SIZE OVER 100k
                                            DISCARD;


        entry                           work
        account.connection-type         direct
        account.personality             work
        account.server.imap             IMAP://jru@mail.bigcorp.com
        account.sieve.script            IF HEADER "FROM" IS "BOSS"
                                            FILEINTO "STUFF"


7.  References

    [ABNF] Crocker, Overell, "Augmented BNF for Syntax Specifications:
    ABNF", RFC 2234, Internet Mail Consortium, Demon Internet Ltd.,
    November 1997. <ftp://ftp.isi.edu/in-notes/rfc2234.txt>

    [ACAP] Newman, Myers, "ACAP -- Application Configuration Access
    Protocol", RFC 2244, Innosoft, Netscape, November 1997.
    <ftp://ftp.isi.edu/in-notes/rfc2244.txt>

    [ACAP-OPTIONS] Hole, "ACAP Application Options Dataset Class", The
    Esys Corporation, Work in Progress, February 1998.
    <ftp://ftp.isi.edu/internet-drafts/draft-ietf-acap-options-xx.txt>

    [ACAP-PERSONALITY] Gellens, "ACAP Email Personality Dataset Class",
    QUALCOMM, Incorporated, Work in Progress, March 1998.
    <ftp://ftp.isi.edu/internet-drafts/draft-gellens-acap-pers-xx.txt>

    [KEYWORDS] Bradner, "Key words for use in RFCs to Indicate
    Requirement Levels", RFC 2119, Harvard University, March 1997.
    <ftp://ftp.isi.edu/in-notes/rfc2119.txt>

    [POP3] Myers, J., Rose, M., "Post Office Protocol -- Version 3",
    RFC 1939, Carnegie Mellon, Dover Beach Consulting, Inc., May 1996.
    <ftp://ftp.isi.edu/in-notes/rfc1939.txt>

    [URL-BASIC] Berners-Lee, Masinter, McCahill, "Uniform Resource
    Locators (URL)", RFC 1738, CERN, Xerox Corporation, University of
    Minnesota, December 1994. <ftp://ftp.isi.edu/in-notes/rfc1738.txt>




Gellens                 Expires September 1998                 [Page 5]
Internet Draft        ACAP Email Account Dataset Class        March 1998


    [URL-IMAP] Newman, "IMAP URL Scheme", RFC 2192, Innosoft, September
    1997. <ftp://ftp.isi.edu/in-notes/rfc2192.txt>

    [URL-POP] Gellens, "POP URL Scheme", QUALCOMM Incorporated, Work in
    Progress, February 1998.
    <ftp://ftp.isi.edu/internet-drafts/draft-gellens-pop-url-xx.txt>

    [UTF8] Yergeau, F. "UTF-8, a transformation format of ISO 10646",
    RFC 2279, Alis Technologies, January 1998.
    <ftp://ftp.isi.edu/in-notes/rfc2279.txt>

    [SIEVE] Showalter, "Sieve -- a Mail Filtering Language", Carnegie
    Mellon, Work in Progress, January 1998.
    <ftp://ftp.isi.edu/internet-drafts/draft-showalter-sieve-xx.txt>


8.  Security Considerations

    As with ACAP datasets in general, it is important that access
    controls are set correctly on Email Account datasets.  Besides the
    server URLs, the Sieve script may contain highly personal
    information which should not be disclosed except by explicit owner
    request.


9.  Author's Address

   Randall Gellens                    +1 619 651 5115
   QUALCOMM, Incorporated             +1 619 651 5334 (fax)
   6455 Lusk Blvd.                    Randy@Qualcomm.Com
   San Diego, CA  92121-2779
   U.S.A.






















Gellens                 Expires September 1998                 [Page 6]
