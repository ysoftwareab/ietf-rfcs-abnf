Network Working Group                                   Riza Cetin, Ed.
Internet Draft                                                  Alcatel
Proposed Status: Standards Track
draftExpires: January 2007                         Thomas D. Nadeau, Ed. 
                                                     Cisco Systems, Inc.


                                                             July 2006
                                 


    Multiprotocol Label Switching (MPLS) Traffic Engineering Management
                     Information Base for Fast Reroute

                  draft-ietf-mpls-fastreroute-mib-05.txt



Status of This Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

    This memo defines a portion of the Management Information Base
    for use with network management protocols in the Internet community.
    In particular, it describes managed objects for Multiprotocol Label
    Switching fast rerouting.





MPLS Working Group            Expires January 2007           [Page 1]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



Table of Contents

1.   Introduction...............................................2
2.   Terminology................................................2
3.   The Internet-Standard Management Framework.................3
4.   Brief Description of MIB Module Objects....................3
5.   MPLS-FRR-STD-MIB MIB Module Definitions....................4
6.   Acknowledgments...........................................30
7.   Editors' Addresses........................................30
8.   Contributors' Addresses...................................30
9 .  Full Copyright Statement..................................30
10.  Security Considerations...................................41
11.   References...............................................29
11.1 Normative References......................................37
11.2 Informative References....................................37
12.  IANA Considerations.......................................41
12.1 IANA Considerations for MPLS-FRR-STD-MIB..................41
13.  Intellectual Property Statement...........................41


1. Introduction

   This memo defines a portion of the Management Information Base (MIB)
   containing objects used to manage Multiprotocol Label
   Switching (MPLS)-based fast rerouting features on MPLS Label 
   Switching Routers as defined in [RFC4090]. This MIB module should 
   be used in conjunction with [RFC3812] and [RFC3813].

   Comments should be made directly to the MPLS mailing list at
   mpls@uu.net.
   
1.1.  Conventions Used in This Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [RFC2119].

2.  Terminology

   This document uses terminology from the document describing the MPLS
   architecture [RFC3031] and from the document describing MPLS Fast
   Reroute [RFC4090].
   
3. The Internet-Standard Management Framework

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to section 7 of
   RFC 3410 [RFC3410].




MPLS Working Group            Expires January 2007           [Page 2]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  MIB module objects are 
   generally accessed through the Simple Network Management Protocol 
   (SNMP). Objects in the MIB are defined using the mechanisms defined 
   in the Structure of Management Information (SMI).  This memo 
   specifies a MIB module that is compliant to the SMIv2, which is 
   described in STD 58, RFC 2578 [RFC2578], STD 58, RFC 2579 [RFC2579] 
   and STD 58, RFC 2580 [RFC2580].
   
4. Brief Description of MIB Module Objects.
   
    The specification [RFC4090] stipulates two different approaches 
    to implementing MPLS TE fast reroute: bypass and facility
    backup.  As such, the MIB module defined in this document
    is split into three major components: general, bypass and
    facility backup.  The first section defines 2 tables 
    (mplsFrrConstTable and mplsFrrTunARHopTable) containing objects 
    that apply to any MPLS LSR implementing MPLS TE fast reroute 
    functionality. The latter two sections define objects specific to 
    one of the two methods.  Given that common practice has shown that
    LSRs do not implement both facility and bypass methods
    at the same time, the Agent Compliance section in the module
    defined herein is divided into portions, one for each method
    allowing any LSR to implement only the objects applicable to
    the method they have implemneted.
    
4.1. mplsFrrConstTable

    This table contains objects that apply to all LSRs
    implementing MPLS TE fast reroute functions. In particular,
    this table defines fast reroute constraints such as
    bandwidth for a tunnel instance to be protected by using 
    backup LSPs (detour LSPs or bypass tunnels).

    This table is used at the ingress node of the protected TE
    tunnel instance to configure backup LSP setup constraints.

4.2. mplsFrrTunARHopTable

    This table extends mplsTunnelARHop table (defined in the 
    MPLS-TE-STD-MIB [RFC3812]) with fast-reroute objects which 
    specify the local protection type or types of availability 
    as well as what type or types are actally in-use for each 
    tunnel hop traversed by a protected TE tunnel.

    The support of this table is only required when the
    Record Route Object (RRO) is supported by the implementation.

4.3. mplsFrrOne2OnePlrTable



MPLS Working Group            Expires January 2007           [Page 3]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




    The mplsFrrOne2OnePlrTable is an optional table that contains 
    lists of PLRs that initiated detour LSPs to protect tunnel 
    instances. As such, it is only required for LSRs implementing 
    the detour backup method. In these cases, the detour LSPs 
    are reflected in the mplsFrrDetourTable.

4.4. mplsFrrDetourTable

    The mplsFrrDetourTable shows the detour LSPs in each node 
    (ingress, transit and egress nodes). An entry of this table 
    represents a detour LSP.

    Each detour is identified by the following indexes:

    - mplsTunnelIndex [RFC3812]:
      set to the tunnel-id of an LSP protected by a detour.

    - mplsTunnelInstance [RFC3812]: consists of two parts

      1) lower 16 bits:  - protected TE tunnel instance
                         - uniquely identifies a protected LSP within
                           a tunnel.
      2) higher 16 bits: - detour instance
                         - uniquely identifies a detour LSP of a 
                           protected TE tunnel instance.

                           Multiple detours of the same protected LSP 
                           may go through the same node. In this case, 
                           the higher 16 bits of the tunnel instance 
                           object is used as a detour instance.

    - ingress node's LSR ID (mplsFrrOne2OnePlrTunIngrLSRId):
      set to the ingress node of an LSP protected by a detour.

    - egress node's LSR ID (mplsFrrOne2OnePlrTunEgrLSRId):
      set to the egress node of an LSP protected by a detour.

    A detour LSP is also considered as an instance of a protected 
    TE tunnel. Therefore, each detour LSP will have an entry in 
    the mplsTunnelTable (defined in the MPLS-TE-STD-MIB[RFC3812]).

    In the mplsTunnelTable, the higher 16 bits of the tunnel instance 
    SHOULD be used as detour instance. Note that for the protected 
    TE tunnel instances, the higher 16 bits of the tunnel instance
    MUST all be set to zero.

    This table is optional and is only required in case 
    mplsFrrOne2OnePlrTable is supported.



MPLS Working Group            Expires January 2007           [Page 4]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




4.5. mplsFrrFacRouteDBTable

    The mplsFrrDBTable provides information about the fast
    reroute database for facility-based fast reroute.  
    An entry is created in this table for each tunnel being
    protected by a backup tunnel. Backup tunnels defined 
    to protect the tunnels traversing an interface. 
    The protecting tunnel is defined to exist on the PLR in
    the MPLS TE fast reroute specification.  Protected tunnels are 
    the LSPs that traverse the protected link.

5. MPLS-FRR-STD-MIB MIB Module Definitions

-- Start of MPLS-FRR-STD-MIB

MPLS-FRR-STD-MIB DEFINITIONS ::= BEGIN

    IMPORTS
       MODULE-IDENTITY, OBJECT-TYPE,
       Integer32, Unsigned32,
       NOTIFICATION-TYPE, Gauge32
          FROM SNMPv2-SMI                            -- [RFC2578]
       MODULE-COMPLIANCE, OBJECT-GROUP, 
       NOTIFICATION-GROUP
          FROM SNMPv2-CONF                           -- [RFC2580]
       TruthValue, RowStatus, StorageType
          FROM SNMPv2-TC                             -- [RFC2579]
       InterfaceIndex, InterfaceIndexOrZero,
       ifGeneralInformationGroup, 
       ifCounterDiscontinuityGroup
          FROM IF-MIB                                -- [RFC2863]
       MplsTunnelIndex, MplsTunnelInstanceIndex,
       MplsLsrIdentifier, MplsBitRate, mplsStdMIB
          FROM MPLS-TC-STD-MIB                       -- [RFC3811]
       mplsTunnelGroup, mplsTunnelScalarGroup,
       mplsTunnelARHopListIndex, mplsTunnelARHopIndex
          FROM MPLS-TE-STD-MIB                       -- [RFC3812]
       InetAddressType, InetAddress
          FROM INET-ADDRESS-MIB                      -- [RFC3291]
       ;

    mplsFrrMIB MODULE-IDENTITY
       LAST-UPDATED
          "200508011200Z" -- 01 August 2005 12:00:00 GMT
       ORGANIZATION
          "Multiprotocol Label Switching (MPLS) Working Group"
       CONTACT-INFO
            "



MPLS Working Group            Expires January 2007           [Page 5]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



                     Riza Cetin
              Email: riza.cetin@alcatel.be

                     Thomas D. Nadeau
              Email: tnadeau@cisco.com

                     Stefaan De Cnodder
              Email: Stefaan.de_cnodder@alcatel.be

                     Der-Hwa Gan
              Email: dhg@juniper.net
            "
       DESCRIPTION
         "Copyright (C) 2006 The Internet Society.  This 
          MIB module is part of RFC 4327; see the RFC itself
          for full legal notices.

          This MIB module contains managed object definitions for
          MPLS Traffic Engineering Fast Reroute as defined in
          RFC4090."

    -- Revision history.
       REVISION
          "200508011200Z" -- 01 August 2005 12:00:00 GMT
       DESCRIPTION
          "Initial version. Published as RFC xxxx." 
                          -- RFC-editor pls fill in xxxx
   ::= { mplsStdMIB XXX } -- RFC-editor please fill in
                          -- XXX with value assigned by IANA, 
                          -- see section 18.1 for details

    -- Top level components of this MIB module.
    mplsFrrNotif         OBJECT IDENTIFIER ::= { mplsFrrMIB 0 }
    mplsFrrScalars       OBJECT IDENTIFIER ::= { mplsFrrMIB 1 }
    mplsFrrObjects       OBJECT IDENTIFIER ::= { mplsFrrMIB 2 }

    -- objects that work for either method of FRR
    mplsFrrGeneralObjects OBJECT IDENTIFIER ::= { mplsFrrObjects 1 }

    -- objects defined for 1-to-1 style FRR
    mplsFrrOne2OneObjects OBJECT IDENTIFIER ::= { mplsFrrObjects 2 }

    -- objects defined for Facility Backup style FRR
    mplsFrrFacObjects  OBJECT IDENTIFIER ::= { mplsFrrObjects 3 }

    mplsFrrConformance   OBJECT IDENTIFIER ::= { mplsFrrMIB 3 }


    -- MPLS Fast Reroute scalars.



MPLS Working Group            Expires January 2007           [Page 6]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



    mplsFrrDetourIncoming OBJECT-TYPE
       SYNTAX        Integer32 (-1|0..2147483647)
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "The number of detour LSPs entering the device (greater
          than or equal to 0) if mplsFrrProtectionMethod 
          is set to oneToOneBackup(1), or -1 if 
          mplsFrrProtectionMethod is set to
          facilityBackup(2)."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 1 }

    mplsFrrDetourOutgoing OBJECT-TYPE
       SYNTAX        Integer32 (-1|0..2147483647)
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "The number of detour LSPs leaving the device (greater
          than or equal to 0) if mplsFrrProtectionMethod 
          is set to oneToOneBackup(1), or -1 if 
          mplsFrrProtectionMethod is set to 
          facilityBackup(2)."
       DEFVAL { 0 }
      ::= { mplsFrrScalars 2 }

    mplsFrrDetourOriginating OBJECT-TYPE
       SYNTAX        Integer32(-1|0..2147483647)
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "The number of detour LSPs originating at this PLR 
          (greater than or equal to 0) if 
          mplsFrrProtectionMethod is set to oneToOneBackup(1).  
          This object MUST return -1 if the  
          mplsFrrProtectionMethod is set to facilityBackup(2)."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 3 }

    mplsFrrSwitchover OBJECT-TYPE
       SYNTAX        Unsigned32
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "The number of tunnel instances for which this LSR
          is the ingress that are currently using a detour
          or bypass LSP to reach their egress."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 4 }



MPLS Working Group            Expires January 2007           [Page 7]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




    mplsFrrConfIfs OBJECT-TYPE
       SYNTAX        Integer32(-1|0..2147483647)
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "Indicates the number of MPLS interfaces configured for
          protection by the FRR feature if 
          mplsFrrProtectionMethod
          is set to facilityBackup(2), otherwise this value
          MUST return -1 to indicate that LSPs traversing any
          interface are not protected."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 5 }

    mplsFrrActProtectedIfs OBJECT-TYPE
       SYNTAX        Unsigned32
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "Indicates the number of interfaces currently being 
          protected by the FRR feature if 
          mplsFrrProtectionMethod is set to
          facilityBackup(2), otherwise this value should return 
          0 to indicate that LSPs traversing any interface may  
          not be protected. This value MUST be less than or equal 
          to mplsFrrConfIfs except when mplsFrrConfIfs is
          set to -1, in which case the value of this object
          is meaningless and SHOULD be ignored."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 6 }

    mplsFrrConfProtectionTuns OBJECT-TYPE
       SYNTAX        Unsigned32
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "Indicates the number of bypass tunnels configured to
          protect TE tunnels on this LSR using the FRR feature
          if mplsFrrProtectionMethod is set to
          facilityBackup(2), otherwise this value MUST return
          0 and SHOULD be ignored."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 7 }

    mplsFrrActProtectionTuns OBJECT-TYPE
       SYNTAX        Unsigned32
       MAX-ACCESS    read-only
       STATUS        current



MPLS Working Group            Expires January 2007           [Page 8]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



       DESCRIPTION
         "Indicates the number of bypass tunnels indicated in
          mplsFrrConfProtectionTuns whose operStatus
          is up(1) indicating that they are currently protecting
          TE tunnels on this LSR using the FRR feature. This
          object MUST return 0 if mplsFrrProtectionMethod
          is set to oneToOneBackup(1)."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 8 }

    mplsFrrActProtectedLSPs OBJECT-TYPE
       SYNTAX        Unsigned32
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "Indicates the number of LSPs currently protected by
          the FRR feature where this device acts as the PLR
          for those LSPs. If mplsFrrProtectionMethod 
          is set to facilityBackup(2) this object MUST return 
          0."
       DEFVAL { 0 }
       ::= { mplsFrrScalars 9 }

    mplsFrrProtectionMethod OBJECT-TYPE
       SYNTAX        INTEGER { oneToOneBackup(1),
                               facilityBackup(2)
                             }
       MAX-ACCESS    read-write
       STATUS        current
       DESCRIPTION
         "Indicates which protection method is to be used for fast
          reroute on this device. Some devices may require a reboot 
          if this variable is to take affect after being modified."
       ::= { mplsFrrScalars 10 }

    mplsFrrNotifsEnabled OBJECT-TYPE
        SYNTAX            TruthValue
        MAX-ACCESS        read-write
        STATUS            current
        DESCRIPTION
            "Enables or disables FRR notifications defined in this 
             MIB module. Notifications are disabled by default."
        DEFVAL { false }
    ::= { mplsFrrScalars 11 }

    mplsFrrNotifMaxRate OBJECT-TYPE
       SYNTAX       Unsigned32
       UNITS        "Notifications per Second"
       MAX-ACCESS   read-write



MPLS Working Group            Expires January 2007           [Page 9]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



       STATUS       current
       DESCRIPTION
           "This variable indicates the maximum number of
             notifications issued per second. If events occur
             more rapidly, the implementation may simply fail to
             emit these notifications during that period, or may
             queue them until an appropriate time. A value of 0
             means no throttling is applied and events may be
             notified at the rate at which they occur."
       DEFVAL       { 0 }
    ::= { mplsFrrScalars 12 }

    --
    --  General FRR Table Section
    --
    --  These tables apply to both types of FRR
    --  and should be implemented by all LSRs supporting
    --  FRR.
    --

    -- MPLS Fast Reroute Constraints table

    mplsFrrConstTable OBJECT-TYPE
       SYNTAX        SEQUENCE OF MplsFrrConstEntry
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "This table shows backup LSP setup constraints."
       ::= {  mplsFrrGeneralObjects 1 }

    mplsFrrConstEntry OBJECT-TYPE
       SYNTAX        MplsFrrConstEntry
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "An entry in this table represents detour LSP or 
          bypass tunnel setup constraints for a tunnel 
          instance to be protected by detour LSPs or a 
          tunnel.

          Agents must only allow entries in this table to 
          be created for tunnel instances that require 
          fast-reroute as indicated by the presense of the 
          FAST_REROUTE Object in the signaling for the 
          LSP in question, as speciifed in section 4.1 of 
          RFC4090.
          
          Entries indexed with mplsFrrConstIfIndex set to 0 
          apply to all interfaces on this device for which the 



MPLS Working Group           Expires January 2007           [Page 10]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



          FRR feature can operate.

          Note that as per [RFC3812] the mplsTunnelInstance 
          object set to a value of 0 indicates that the 
          mplsTunnelEntry contains at a tunnel ingress. This 
          is typically how configuration of this feature is 
          performed on devices where the actual protection 
          LSP used is left up to the protecting tunnel. 
          However, in cases where static configuration is 
          possible, any valid tunnel instance is possible; 
          however, in these cases, it is STRONGLY RECOMMENDED 
          that the instance index SHOULD use the following 
          convention to identify backup LSPs:
          
          - lower 16 bits : protected tunnel instance
          - higher 16 bits: must be all zeros
       "
       INDEX { mplsFrrConstIfIndex,
               mplsFrrConstTunnelIndex,
               mplsFrrConstTunnelInstance
             }
       ::= { mplsFrrConstTable 1 }

    MplsFrrConstEntry ::= SEQUENCE {
          mplsFrrConstIfIndex         InterfaceIndexOrZero,
          mplsFrrConstTunnelIndex     MplsTunnelIndex,
          mplsFrrConstTunnelInstance  MplsTunnelInstanceIndex,
          mplsFrrConstProtectionType  INTEGER,
          mplsFrrConstHopLimit        Unsigned32,
          mplsFrrConstBandwidth       MplsBitRate,
          mplsFrrConstStorageType     StorageType,
          mplsFrrConstRowStatus       RowStatus
    }

    mplsFrrConstIfIndex  OBJECT-TYPE
       SYNTAX        InterfaceIndexOrZero
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "Uniquely identifies an interface which a fast reroute 
          protection tunnel is configured to potentially protect
          in the event of a fault. Entries with this index set to 
          0 indicates that the protection tunnel configured protects 
          all interfaces on this device (i.e.: node protection)."
       ::= { mplsFrrConstEntry 1 }

    mplsFrrConstTunnelIndex OBJECT-TYPE
       SYNTAX        MplsTunnelIndex
       MAX-ACCESS    not-accessible



MPLS Working Group           Expires January 2007           [Page 11]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



       STATUS        current
       DESCRIPTION
         "Uniquely identifies a tunnel for which is configured 
          to possibly protect the interface(s) specified by
          mplsFrrConstIfIndex in the event of a fault as 
          must exist in the mplsTunnelTable."
       REFERENCE "mplsTunnelTable from RFC3812."
       ::= { mplsFrrConstEntry 2 }

    mplsFrrConstTunnelInstance OBJECT-TYPE
       SYNTAX        MplsTunnelInstanceIndex
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "Uniquely identifies an existing instance of this tunnel 
          for which fast reroute is requested. Note that a value of 
          0 indicates that the configuration points at a tunnel 
          head (as specified in RFC3812). This is typically how 
          configuration of this feature is performed on devices 
          where the actual protection LSP used is left up to the 
          protecting tunnel. However, in cases where static 
          configuration is possible, any valid tunnel
          instance is permissible.  In these cases, it is recommended
          that the instance index follow the following convention
          as to make identication of backup LSPs easier:
          
          - lower 16 bits : protected tunnel instance
          - higher 16 bits: must be all zeros"
       ::= { mplsFrrConstEntry 3 }

    mplsFrrConstProtectionType OBJECT-TYPE
       SYNTAX        INTEGER { linkProtection(1),
                               nodeProtection(2)
                             }
       MAX-ACCESS    read-create
       STATUS        current
       DESCRIPTION
         "Indicates type of the resource protection:

          linkProtection(1) indicates that this tunnel is
            setup to protect a particular link's resources.

          nodeProtection(2) indicates that this tunnel is
            setup to protect an entire node from failure.
         "
       DEFVAL { nodeProtection }
       ::= { mplsFrrConstEntry 4 }

    mplsFrrConstHopLimit OBJECT-TYPE



MPLS Working Group           Expires January 2007           [Page 12]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



       SYNTAX        Unsigned32
       MAX-ACCESS    read-create
       STATUS        current
       DESCRIPTION
         "The maximum number of hops that the detour LSP may traverse."
       REFERENCE
         "RFC4090."
       DEFVAL { 32 }
    ::= { mplsFrrConstEntry 5 }

    mplsFrrConstBandwidth OBJECT-TYPE
       SYNTAX        MplsBitRate
       UNITS         "kilobits per second"
       MAX-ACCESS    read-create
       STATUS        current
       DESCRIPTION
         "The maximum bandwidth specifically reserved for detour 
          LSPs using this tunnel, in units of thousands of bits 
          per second (Kbps). Note that setting this value to 0 
          indicates best-effort treatment."
       DEFVAL { 0 }
       ::= { mplsFrrConstEntry 6 }

   mplsFrrConstStorageType OBJECT-TYPE
   SYNTAX        StorageType
   MAX-ACCESS    read-create
   STATUS        current
   DESCRIPTION  
        "The storage type for this configuration entry.
         Conceptual rows having the value 'permanent'
         need not allow write-access to any columnar
         objects in the row."
   REFERENCE
        "RFC2579"
   DEFVAL { volatile }
       ::= { mplsFrrConstEntry 7 }

    mplsFrrConstRowStatus OBJECT-TYPE
       SYNTAX        RowStatus
       MAX-ACCESS    read-create
       STATUS        current
       DESCRIPTION
         "This object is used to create, modify, and/or delete 
          a row in this table. When a row in this table is in 
          active(1) state, no objects in that row can be 
          modified by the agent except mplsFrrConstRowStatus 
          and mplsFrrConstStorageType."
       ::= { mplsFrrConstEntry 8 }




MPLS Working Group           Expires January 2007           [Page 13]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



    -- MPLS Fast Reroute Tunnel Actual Route Hop table

    mplsFrrTunARHopTable OBJECT-TYPE
       SYNTAX             SEQUENCE OF MplsFrrTunARHopEntry
       MAX-ACCESS         not-accessible
       STATUS             current
       DESCRIPTION
         "This table sparsely extends mplsTunnelARHopTable defined 
          in the MPLS-TE-STD-MIB MIB module with fast-reroute 
          objects. These objects specify the status of local 
          protection including availability and active use, 
          on a per-hop basis, of hops traversed by a protected 
          tunnel.  Note that object availability in this table 
          is governed by the support of the Record Route Object 
          in the RSVP-TE signaling of the implementation."
       ::= {  mplsFrrGeneralObjects 2 }

    mplsFrrTunARHopEntry  OBJECT-TYPE
       SYNTAX             MplsFrrTunARHopEntry
       MAX-ACCESS         not-accessible
       STATUS             current
       DESCRIPTION
         "This entry contains fast-reroute protection status of a single
          protected tunnel hop."
     INDEX {
       mplsTunnelARHopListIndex,
       mplsTunnelARHopIndex
     }
       ::= { mplsFrrTunARHopTable 1 }

    MplsFrrTunARHopEntry    ::= SEQUENCE {
        mplsFrrTunARHopProtectType      BITS,
        mplsFrrTunARHopProtectTypeInUse BITS
    }

     mplsFrrTunARHopProtectType  OBJECT-TYPE
       SYNTAX                       BITS { path(0), node(1), link(2) }
       MAX-ACCESS                   read-only
       STATUS                       current
       DESCRIPTION
         "This object indicates the protection type or types of the 
          associated path hop object.  Note that since this object is a
          BITS type, one, none or all of the bits may be set to indicate
          various combinations of protection types."
        REFERENCE 
          "See section 4 of RFC4090 where the SESSION_ATTRIBUTE 
           and RECORD_ROUTE objects are extended to
           support bandwidth and node protection features."
       ::= { mplsFrrTunARHopEntry 1 }



MPLS Working Group           Expires January 2007           [Page 14]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




     mplsFrrTunARHopProtectTypeInUse OBJECT-TYPE
       SYNTAX                       BITS { path(0), node(1), 
                                           link(2) }
       MAX-ACCESS                   read-only
       STATUS                       current
       DESCRIPTION
         "This object indicates the protection type or types that are 
          currently in use by the associated path hop object.
          Note that since this object is a BITS type, one, none or all 
          of the bits may be set to indicate various combinations of 
          protection types.  If no bits are set, this indicates that
          no protection types are in use."
        REFERENCE 
          "See section 4 of RFC4090 where the SESSION_ATTRIBUTE 
           and RECORD_ROUTE objects are extended to
           support bandwidth and node protection features."
       ::= { mplsFrrTunARHopEntry 2 }

    --
    -- One-to-One Specific Tables
    --
    -- Tables in this section pertain only to the 1-1
    -- style of FRR.
    --

    -- MPLS Fast Reroute Point of Local Repair table

    mplsFrrOne2OnePlrTable  OBJECT-TYPE
       SYNTAX        SEQUENCE OF MplsFrrOne2OnePlrEntry
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "This table shows a list of protected TE tunnels with
          the corresponding protecting tunnel, as well as the PLR 
          where the protecting tunnel that initiated the detour 
          LSPs that traverse this node."
       ::= { mplsFrrOne2OneObjects 1 }

    mplsFrrOne2OnePlrEntry  OBJECT-TYPE
       SYNTAX        MplsFrrOne2OnePlrEntry
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "An entry in this table represents a protected tunnel LSP
          together with its detour tunnel instance. An entry in 
          this table is only created by an SNMP agent as instructed 
          by an MPLS signaling protocol."
       INDEX { mplsFrrOne2OnePlrTunIdx,       -- from MPLS-TE-STD-MIB



MPLS Working Group           Expires January 2007           [Page 15]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



               mplsFrrOne2OnePlrTunDetourInst,-- mplsTunnelTable
               mplsFrrOne2OnePlrTunIngrLSRId, -- Tunnels must exist
               mplsFrrOne2OnePlrTunEgrLSRId,  -- a priori
               mplsFrrOne2OnePlrId    }
       ::= { mplsFrrOne2OnePlrTable 1 }

    MplsFrrOne2OnePlrEntry ::= SEQUENCE {
          mplsFrrOne2OnePlrTunIdx         MplsTunnelIndex,
          mplsFrrOne2OnePlrTunDetourInst  MplsTunnelInstanceIndex,
          mplsFrrOne2OnePlrTunIngrLSRId   MplsLsrIdentifier,
          mplsFrrOne2OnePlrTunEgrLSRId    MplsLsrIdentifier,
          mplsFrrOne2OnePlrId             MplsLsrIdentifier,
          mplsFrrOne2OnePlrSenderAddrType InetAddressType,
          mplsFrrOne2OnePlrSenderAddr     InetAddress,
          mplsFrrOne2OnePlrAvoidNAddrType InetAddressType,
          mplsFrrOne2OnePlrAvoidNAddr     InetAddress
    }

    mplsFrrOne2OnePlrTunIdx OBJECT-TYPE
       SYNTAX        MplsTunnelIndex
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "Uniquely identifies a tunnel between a pair of LSRs
          from the mplsTunnelEntry."
       ::= { mplsFrrOne2OnePlrEntry 1 }

    mplsFrrOne2OnePlrTunDetourInst OBJECT-TYPE
       SYNTAX        MplsTunnelInstanceIndex
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "Uniquely identifies a detour instance of a tunnel from
          the mplsTunnelEntry.

         - lower 16 bits : protected tunnel instance
         - higher 16 bits: detour instance"
       ::= { mplsFrrOne2OnePlrEntry 2 }

    mplsFrrOne2OnePlrTunIngrLSRId OBJECT-TYPE
       SYNTAX        MplsLsrIdentifier
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "The purpose of this object is to uniquely identity a
           tunnel within a network. When the MPLS signalling
           protocol is rsvp(2) this value SHOULD mimic the
           Extended Tunnel Id field in the SESSION object.
           When the MPLS signalling protocol is crldp(3) this



MPLS Working Group           Expires January 2007           [Page 16]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



           value SHOULD mimic the Ingress LSR Router ID field
           in the LSPID TLV object."
       REFERENCE
         "RFC3209"
       ::= { mplsFrrOne2OnePlrEntry 3 }

     mplsFrrOne2OnePlrTunEgrLSRId OBJECT-TYPE
       SYNTAX        MplsLsrIdentifier
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "Specifies the egress LSR ID."
       ::= { mplsFrrOne2OnePlrEntry 4 }

    mplsFrrOne2OnePlrId OBJECT-TYPE
       SYNTAX        MplsLsrIdentifier
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "This value represents the PLR that has initiated a detour LSP
         to protect a tunnel instance."
       ::= { mplsFrrOne2OnePlrEntry 5 }

    mplsFrrOne2OnePlrSenderAddrType OBJECT-TYPE
       SYNTAX        InetAddressType
       MAX-ACCESS    read-create
       STATUS        current
       DESCRIPTION
         "Denotes the address type of this detour instance's sender
          address."
       DEFVAL        { ipv4 }
       ::= { mplsFrrOne2OnePlrEntry 6 }

    mplsFrrOne2OnePlrSenderAddr OBJECT-TYPE
       SYNTAX        InetAddress
       MAX-ACCESS    read-create
       STATUS        current
       DESCRIPTION
         "If mplsFrrOne2OnePlrSenderAddrType is set to ipv4(1), 
          then this value will contain the IPv4 address of this 
          detour instance's sender. This object is otherwise 
          insignificant and should contain a
          value of 0."
       ::= { mplsFrrOne2OnePlrEntry 7 }

    mplsFrrOne2OnePlrAvoidNAddrType OBJECT-TYPE
       SYNTAX        InetAddressType
       MAX-ACCESS    read-only
       STATUS        current



MPLS Working Group           Expires January 2007           [Page 17]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



       DESCRIPTION
     "Denotes the address type of the node that this PLR tries to
          avoid."
       DEFVAL        { ipv4 }
       ::= { mplsFrrOne2OnePlrEntry 8 }

    mplsFrrOne2OnePlrAvoidNAddr OBJECT-TYPE
       SYNTAX        InetAddress
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "If mplsFrrOne2OnePlrAvoidNAddrType is set to ipv4(1), then 
          this value will contain the IPv4 address of the avoid node. 
          This object is otherwise insignificant and should contain 
          a value of 0.0.0.0, which should be ignored."
       ::= { mplsFrrOne2OnePlrEntry 9 }

    -- MPLS One-To-One Fast Reroute Detour table.

    mplsFrrDetourTable OBJECT-TYPE
       SYNTAX        SEQUENCE OF MplsFrrDetourEntry
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "This table shows detour LSPs."
       ::= { mplsFrrOne2OneObjects 2 }

    mplsFrrDetourEntry OBJECT-TYPE
       SYNTAX        MplsFrrDetourEntry
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "An entry in this table represents a detour. An entry in this
         table is only created by an SNMP agent as instructed by an MPLS
         signaling protocol. "
       INDEX {
               mplsFrrOne2OnePlrTunIdx,        -- from MPLS-TE-STD-MIB
               mplsFrrOne2OnePlrTunDetourInst, -- mplsTunnelTable
               mplsFrrOne2OnePlrTunIngrLSRId,  -- Tunnels must exist
               mplsFrrOne2OnePlrTunEgrLSRId    -- a priori
          }
       ::= { mplsFrrDetourTable 1 }

    MplsFrrDetourEntry ::= SEQUENCE {
          mplsFrrDetourActive             TruthValue,
          mplsFrrDetourMerging            INTEGER,
          mplsFrrDetourMergedDetourInst   MplsTunnelInstanceIndex
    }




MPLS Working Group           Expires January 2007           [Page 18]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



    mplsFrrDetourActive OBJECT-TYPE
       SYNTAX        TruthValue
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "Indicates whether or not the main LSP has switched over to 
          this detour LSP. This is only relevant for detours 
          originated by this node."
       ::= { mplsFrrDetourEntry 1 }

    mplsFrrDetourMerging OBJECT-TYPE
       SYNTAX        INTEGER { none(1),
                               protectedTunnel(2),
                               detour(3)
                             }
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "This value represents whether or not this detour is merged.
          This value MUST be set to none(1) if this detour is not 
          merged.

          This value MUST be set to protectedTunnel(2) if this detour 
          is merged with the protected tunnel. This value MUST be set 
          to detour(3) if this detour is merged with another detour
          protecting the same tunnel."
       ::= { mplsFrrDetourEntry 2 }

    mplsFrrDetourMergedDetourInst OBJECT-TYPE
       SYNTAX        MplsTunnelInstanceIndex
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "This value represents the instance of the detour with 
          which this detour is merged. This object is only valid 
          when mplsFrrDetourMerging is set to detour(3).

          - lower 16 bits : protected tunnel instance
          - higher 16 bits: detour instance"
       ::= { mplsFrrDetourEntry 3 }

    --
    -- Facility-based FRR-specific Tables
    -- 
    -- Tables in this section pertain only to the facility-
    -- based style of FRR.
    --

    mplsFrrFacRouteDBTable OBJECT-TYPE



MPLS Working Group           Expires January 2007           [Page 19]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



        SYNTAX            SEQUENCE OF MplsFrrFacRouteDBEntry
        MAX-ACCESS        not-accessible
        STATUS            current
        DESCRIPTION
            "The mplsFrrDBTable provides information about the fast
             reroute database.  Each entry belongs to a protected 
             interface, protecting backup tunnel and protected tunnel. 
             MPLS interfaces defined on this node are protected by 
             backup tunnels and are indicated by the index 
             mplsFrrFacRouteProtIfIdx. If the interface index is set 
             to 0, this indicates that the remaining indexes apply 
             to all configured protected interfaces.
             The protecting tunnel is indicated by the second two 
             indexes (mplsTunnelIndex and mplsTunnelInstance) and 
             represents a valid mplsTunnelEntry. Note that the tunnel 
             instance index of the protecting tunnel may be set to 0
             which indicates the tunnel head interface for the 
             protecting tunnel, as per RFC3812, but it may also be
             defined using the following semantics:

             - lower 16 bits : protected tunnel instance
             - higher 16 bits: must be all zeros
           "
    ::= { mplsFrrFacObjects 1 }

    mplsFrrFacRouteDBEntry OBJECT-TYPE
       SYNTAX        MplsFrrFacRouteDBEntry
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
            "An entry in the mplsFrrDBTable represents a single
             protected LSP, protected by a backup tunnel on a
             specific protected interface, or if the interface
             index is set to 0, on all interfaces. Note that for
             brevity, managers should consult the mplsTunnelTable
             present in the MPLS-TE-STD-MIB MIB module for
             additional information about the protecting and protected
             tunnels, and the ifEntry in the IF-MIB MIB module
             for the protected interface."
        INDEX {
                mplsFrrFacRouteProtIfIdx,       -- protected ifIndex 	
                mplsFrrFacRouteProtTunIdx,      -- protecting TE tun
                mplsFrrFacRouteBkupTunIdx,      -- protected TE tun
                mplsFrrFacRouteBkupTunInst,     -- LSP
                mplsFrrFacRouteBkupTunIngrLSRId,  
                mplsFrrFacRouteBkupTunEgrLSRId }  
    ::= { mplsFrrFacRouteDBTable 1 }

    MplsFrrFacRouteDBEntry ::= SEQUENCE {



MPLS Working Group           Expires January 2007           [Page 20]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



        mplsFrrFacRouteProtIfIdx          InterfaceIndex,
        mplsFrrFacRouteProtTunIdx         MplsTunnelIndex,
        mplsFrrFacRouteBkupTunIdx         MplsTunnelIndex,
        mplsFrrFacRouteBkupTunInst        MplsTunnelInstanceIndex,
        mplsFrrFacRouteBkupTunIngrLSRId   MplsLsrIdentifier,
        mplsFrrFacRouteBkupTunEgrLSRId    MplsLsrIdentifier,
        mplsFrrFacRouteDBNumProtTunOnIf   Gauge32,
        mplsFrrFacRouteDBNumProtLspOnIf   Gauge32,
        mplsFrrFacRouteDBNumProtTun       Gauge32,
        mplsFrrFacRouteDBProtTunStatus    INTEGER,
        mplsFrrFacRouteDBProtTunResvBw    MplsBitRate
    }

    mplsFrrFacRouteProtIfIdx OBJECT-TYPE
       SYNTAX        InterfaceIndex
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "Uniquely identifies the interface configured for FRR 
          protection. If this object is set to 0, this indicates
          that the remaining indexing combinations for this row 
          applies to all interfaces on this device for which 
          the FRR feature can operate."
      ::= { mplsFrrFacRouteDBEntry 1 }

    mplsFrrFacRouteProtTunIdx OBJECT-TYPE
       SYNTAX        MplsTunnelIndex
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
         "Uniquely identifies the mplsTunnelEntry primary index for
          the tunnel head interface designated to protect the
          interface as specified in the mplsFrrFacRouteIfProtIdx
          (and all of the tunnels using this interface). Note 
          that the corresponding mplsTunnelInstance MUST BE
          0 as per the indexing convention stipulated in RFC3812,
          and thus can be inferred."
       ::= { mplsFrrFacRouteDBEntry 2 }

    mplsFrrFacRouteBkupTunIdx OBJECT-TYPE
       SYNTAX        MplsTunnelIndex
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
        "Uniquely identifies the mplsTunnelEntry primary index for
          the TE tunnel LSP being protected on the specified
          interface as specified in the mplsFrrFacRouteIfProtIdx."
       ::= { mplsFrrFacRouteDBEntry 3 }




MPLS Working Group           Expires January 2007           [Page 21]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



    mplsFrrFacRouteBkupTunInst OBJECT-TYPE
       SYNTAX        MplsTunnelInstanceIndex
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
        "Uniquely identifies the mplsTunnelEntry secondary index 
         for the TE tunnel LSP being protected on the specified
         interface as specified in the mplsFrrFacRouteIfProtIdx."
       ::= { mplsFrrFacRouteDBEntry 4 }

    mplsFrrFacRouteBkupTunIngrLSRId OBJECT-TYPE
       SYNTAX        MplsLsrIdentifier
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
        "Uniquely identifies the mplsTunnelEntry third index 
         for the TE tunnel LSP being protected on the specified
         interface as specified in the mplsFrrFacRouteIfProtIdx."
       REFERENCE
         "RFC3209, RFC3212"
       ::= { mplsFrrFacRouteDBEntry 5 }

    mplsFrrFacRouteBkupTunEgrLSRId  OBJECT-TYPE
       SYNTAX        MplsLsrIdentifier
       MAX-ACCESS    not-accessible
       STATUS        current
       DESCRIPTION
        "Uniquely identifies the mplsTunnelEntry fourth index 
         for the TE tunnel LSP being protected on the specified
         interface as specified in the mplsFrrFacRouteIfProtIdx."
       ::= { mplsFrrFacRouteDBEntry 6 }

    mplsFrrFacRouteDBNumProtTunOnIf OBJECT-TYPE
        SYNTAX            Gauge32
        MAX-ACCESS        read-only
        STATUS            current
        DESCRIPTION
            "The number of backup tunnels protecting the specified
             interface."
       ::= { mplsFrrFacRouteDBEntry 7 }

    mplsFrrFacRouteDBNumProtLspOnIf OBJECT-TYPE
        SYNTAX            Gauge32
        MAX-ACCESS        read-only
        STATUS            current
        DESCRIPTION
            "The number of LSPs currently being protected on 
             the specified interface."
       ::= { mplsFrrFacRouteDBEntry 8 }



MPLS Working Group           Expires January 2007           [Page 22]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




    mplsFrrFacRouteDBNumProtTun OBJECT-TYPE
        SYNTAX            Gauge32
        MAX-ACCESS        read-only
        STATUS            current
        DESCRIPTION
            "The number of tunnels protected on this interface."
    ::= { mplsFrrFacRouteDBEntry 9 }

    mplsFrrFacRouteDBProtTunStatus OBJECT-TYPE
        SYNTAX            INTEGER {
                              active(1),
                              ready(2),
                              partial(3)
                          }
        MAX-ACCESS        read-only
        STATUS            current
        DESCRIPTION
            "Specifies the state of the protected tunnel.

             active  This tunnel's label has been placed in the
                      LFIB and is ready to be applied to incoming
                      packets.

             ready -  This tunnel's label entry has been created but is
                      not yet in the LFIB.

             partial - This tunnel's label entry as not been fully
                       created."
    ::= { mplsFrrFacRouteDBEntry 10 }

    mplsFrrFacRouteDBProtTunResvBw  OBJECT-TYPE
        SYNTAX            MplsBitRate
        UNITS             "kilobits per second"
        MAX-ACCESS        read-only
        STATUS            current
        DESCRIPTION
            "Specifies the amount of bandwidth in units 
             of '1,000 bits per second', actually reserved by 
             the protection tunnel for facility backup purposes. 
             This value is repeated here from the 
             MPLS-TE-STD-MIB MIB module because the tunnel entry will 
             reveal the bandwidth reserved by the signaling protocol, 
             which is typically 0 for backup tunnels so as to not 
             over-book bandwidth. However, internal reservations are 
             typically made on the PLR, thus this value should be 
             revealed here as it is often different from the one found 
             in the MPLS-TE-STD-MIB MIB module."
     ::= { mplsFrrFacRouteDBEntry 11 }



MPLS Working Group           Expires January 2007           [Page 23]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




    -- Notifications

    mplsFrrFacProtected NOTIFICATION-TYPE
        OBJECTS { mplsFrrFacRouteDBNumProtTunOnIf,
                  mplsFrrFacRouteDBNumProtLspOnIf,
                  mplsFrrFacRouteDBNumProtTun,
                  mplsFrrFacRouteDBProtTunStatus,
                  mplsFrrFacRouteDBProtTunResvBw
                }
    STATUS      current
    DESCRIPTION
        "This notification is generated when a tunnel running over an
         interface as specified in the mplsFrrConstTable is initially
         protected by the backup tunnel also specified in the
         mplsFrrConstTable. In some implementations there may be
         a difference between when the control plane triggers 
         this notification and when the hardware is programmed to
         utilize the protection path. Due to the urgency of this
         operation, it is acceptable for the control plane to 
         either issue this notification before or after it programs
         the hardware. In cases where it is the latter approach,
         the notification MUST be sent immediately after the
         data plane has been altered.

         This notification should not be generated
         for each subsequent tunnel that is backed up by the FRR feature
         on this LSR, as this may result in potential scaling issues
         with regard to LSR performance and network loading. Note also
         that notifications MUST be generated in accordance with the
         mplsFrrNotifMaxRate.

         Note this notification only applicable to the facility based
         fastreroute protection method, and should be ignored by
         implementations that do not support this method."
        ::= { mplsFrrNotif 1 }

    mplsFrrFacUnProtected NOTIFICATION-TYPE
        OBJECTS { mplsFrrFacRouteDBNumProtTunOnIf,
                  mplsFrrFacRouteDBNumProtLspOnIf,
                  mplsFrrFacRouteDBNumProtTun,
                  mplsFrrFacRouteDBProtTunStatus,
                  mplsFrrFacRouteDBProtTunResvBw
                }
    STATUS      current
    DESCRIPTION
        "This notification is generated when the final tunnel that is
         being protected by a backup tunnel as specified in the
         mplsFrrConstTable is restored to normal operation. This



MPLS Working Group           Expires January 2007           [Page 24]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



         notification should not be generated for each restored tunnel,
         as this may result in potential scaling issues with regard to
         LSR performance and network loading. Note also that
         notifications MUST be generated in accordance with the
         mplsFrrNotifMaxRate.  
        
         Note this notification only applicable to the facility based
         fastreroute protection method, and should be ignored by
         implementations that do not support this method."
        ::= { mplsFrrNotif 2 }


    -- Module Conformance Statement

    mplsFrrGroups
       OBJECT IDENTIFIER ::= {mplsFrrConformance 1 }

    mplsFrrCompliances
       OBJECT IDENTIFIER ::= {mplsFrrConformance 2 }

    mplsFrrModuleFullCompliance MODULE-COMPLIANCE
       STATUS current
       DESCRIPTION
         "Compliance statements for agents that support the 
          MPLS-FRR-STD-MIB MIB module."

      MODULE IF-MIB -- The Interfaces Group MIB module, RFC 2863.
         MANDATORY-GROUPS {
            ifGeneralInformationGroup,
            ifCounterDiscontinuityGroup
         }

      MODULE MPLS-TE-STD-MIB  -- The MPLS Traffic Engineering 
                              -- MIB module, RFC 3812
         MANDATORY-GROUPS {
            mplsTunnelGroup,
            mplsTunnelScalarGroup
         }

       MODULE -- this module
           MANDATORY-GROUPS {
                             mplsFrrScalarGroup,
                             mplsFrrTunARHopGroup,
                             mplsFrrConstGroup
                            }

       OBJECT       mplsFrrConstRowStatus
       SYNTAX       RowStatus { active(1), notInService(2) }
       WRITE-SYNTAX RowStatus { active(1), notInService(2),



MPLS Working Group           Expires January 2007           [Page 25]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



                                createAndGo(4), destroy(6)
                              }
       DESCRIPTION "Support for createAndWait and notReady is 
                    not required."

       GROUP mplsFrrOne2OnePLRDetourGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the one-to-one FRR mechanism, and is optional for
            those which do not."

       GROUP mplsFrrOne2OnePlrGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the one-to-one FRR mechanism, and is optional for
            those which do not."

       GROUP mplsFrrFacRouteDBGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the Facility Backup FRR mechanism, and is optional
            for those which do not."

       GROUP mplsFrrNotifGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the Facility Backup FRR mechanism, and is optional
            for those which do not."

       ::= { mplsFrrCompliances 1 }

    mplsFrrModuleReadOnlyCompliance MODULE-COMPLIANCE
       STATUS current
       DESCRIPTION
         "Compliance statements for agents that support the MPLS FRR
         MIB."
       MODULE
           MANDATORY-GROUPS {
                             mplsFrrScalarGroup,
                             mplsFrrTunARHopGroup,
                             mplsFrrConstGroup
                            }

       GROUP mplsFrrOne2OnePLRDetourGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the one-to-one FRR mechanism, and is optional for
            those which do not."




MPLS Working Group           Expires January 2007           [Page 26]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



       GROUP mplsFrrOne2OnePlrGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the one-to-one FRR mechanism, and is optional for
            those which do not."

       GROUP mplsFrrFacRouteDBGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the Facility Backup FRR mechanism, and is optional
            for those which do not."

       GROUP mplsFrrNotifGroup
       DESCRIPTION
           "This group is mandatory for devices which support
            the Facility Backup FRR mechanism, and is optional
            for those which do not."

       -- mplsFrrConstTable
       OBJECT        mplsFrrProtectionMethod
       MIN-ACCESS    read-only
       DESCRIPTION
         "Write access is not required."

       OBJECT        mplsFrrConstProtectionType
       MIN-ACCESS    read-only
       DESCRIPTION
         "Write access is not required."

       OBJECT        mplsFrrConstHopLimit
       MIN-ACCESS    read-only
       DESCRIPTION
         "Write access is not required."

       OBJECT        mplsFrrConstStorageType
       MIN-ACCESS    read-only
       DESCRIPTION
         "Write access is not required."

       OBJECT        mplsFrrConstRowStatus
       MIN-ACCESS    read-only
       DESCRIPTION
         "Write access is not required."

       ::= { mplsFrrCompliances 2 }

    -- Units of conformance

    mplsFrrScalarGroup OBJECT-GROUP



MPLS Working Group           Expires January 2007           [Page 27]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



       OBJECTS {
                mplsFrrDetourIncoming,
                mplsFrrDetourOutgoing,
                mplsFrrDetourOriginating,
                mplsFrrSwitchover,
                mplsFrrConfIfs,
                mplsFrrActProtectedIfs,
                mplsFrrConfProtectionTuns,
                mplsFrrActProtectionTuns,
                mplsFrrActProtectedLSPs,
                mplsFrrProtectionMethod,
                mplsFrrNotifsEnabled,
                mplsFrrNotifMaxRate
               }
       STATUS        current
       DESCRIPTION
         "Objects that are required to gather fast reroute statistics."
       ::= { mplsFrrGroups 1 }

    mplsFrrConstGroup OBJECT-GROUP
       OBJECTS {
          mplsFrrConstProtectionType,
          mplsFrrConstHopLimit,
          mplsFrrConstBandwidth,
          mplsFrrConstStorageType,
          mplsFrrConstRowStatus
       }
       STATUS        current
       DESCRIPTION
         "Objects that are required to configure fast reroute
          constraints at the ingress LSR of the tunnel that requires 
          fast reroute service."
       ::= { mplsFrrGroups 2 }

    mplsFrrTunARHopGroup         OBJECT-GROUP
     OBJECTS {
               mplsFrrTunARHopProtectType,
               mplsFrrTunARHopProtectTypeInUse
             }
     STATUS        current
     DESCRIPTION
         "Objects that are required to present per hop fast-reroute
          protection status."
    ::= { mplsFrrGroups 3}

    mplsFrrOne2OnePLRDetourGroup OBJECT-GROUP
     OBJECTS {
              mplsFrrDetourActive,
              mplsFrrDetourMerging,



MPLS Working Group           Expires January 2007           [Page 28]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



              mplsFrrDetourMergedDetourInst
             }
     STATUS        current
     DESCRIPTION
         "Objects that are required to present the detour LSP 
          information at the detour ingress, transit and egress LSRs."
     ::= { mplsFrrGroups 4 }

    mplsFrrOne2OnePlrGroup OBJECT-GROUP
      OBJECTS {
          mplsFrrOne2OnePlrSenderAddrType,
          mplsFrrOne2OnePlrSenderAddr,
          mplsFrrOne2OnePlrAvoidNAddrType,
          mplsFrrOne2OnePlrAvoidNAddr
         }
    STATUS        current
    DESCRIPTION
       "Objects that are required to represent the FRR
        One-2-One PLR information."
    ::= { mplsFrrGroups 5 }

    mplsFrrFacRouteDBGroup OBJECT-GROUP
      OBJECTS { mplsFrrFacRouteDBNumProtTunOnIf,
                mplsFrrFacRouteDBNumProtLspOnIf,
                mplsFrrFacRouteDBNumProtTun,
                mplsFrrFacRouteDBProtTunStatus,
                mplsFrrFacRouteDBProtTunResvBw
        }
    STATUS        current
    DESCRIPTION
       "Objects that are required to represent the FRR
        Facility Route Database information."
    ::= { mplsFrrGroups 6 }

    mplsFrrNotifGroup NOTIFICATION-GROUP
    NOTIFICATIONS { mplsFrrFacProtected,
                    mplsFrrFacUnProtected
                  }
    STATUS        current
    DESCRIPTION
         "Objects that are required to represent FRR notifications."
    ::= { mplsFrrGroups 7 }

    END



-- End of MPLS-FRR-STD-MIB




MPLS Working Group           Expires January 2007           [Page 29]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




6. Security Considerations

   It is clear that these MIB modules are potentially useful for 
   monitoring of MPLS LSRs supporting fast reroute.  This
   MIB module can also be used for configuration of certain objects, 
   and anything that can be configured can be incorrectly configured, 
   with potentially disastrous results.
   
   There are a number of management objects defined in this MIB 
   module with a MAX-ACCESS clause of read-write and/or read-create.  
   Such objects may be considered sensitive or vulnerable in some 
   network environments.  The support for SET operations in a 
   non-secure environment without proper protection can have a 
   negative effect on network operations.  These are the tables and 
   objects and their sensitivity/vulnerability:

   o    the mplsFrrConst table and some objects in the
        mplsFrrScalarGroup contain objects which may be used 
        to provision MPLS fast reroute features.  Unauthorized 
        access to these objects could result in disruption of 
        traffic on the network.  This is especially true if the
        objects in question refer to previously provisioned protection
        tunnels and configuration. The use of stronger 
        mechanisms such as SNMPv3 security should be considered where 
        possible.  Specifically, SNMPv3 VACM and USM MUST be used with 
        any v3 agent which implements this MIB module.  Administrators 
        should consider whether read access to these objects should 
        be allowed, since read access may be undesirable under certain 
        circumstances.

   Some of the readable objects in this MIB module (i.e., objects with a
   MAX-ACCESS other than not-accessible) may be considered sensitive or
   vulnerable in some network environments.  It is thus important to
   control even GET and/or NOTIFY access to these objects and possibly
   to even encrypt the values of these objects when sending them over
   the network via SNMP.  These are the tables and objects and their
   sensitivity/vulnerability:

   o    the mplsFrrOne2OnePlrTable, mplsFrrDetourTable, and 
        mplsFrrTunARHopTable tables and some objects 
        contained in the mplsFrrScalarGroup
        collectively show the MPLS fast reroute interfaces, tunnels,
        and other associated fast reroute feature configurations 
        as well as their linkages to other MPLS-related 
        configuration and/or performanc statistics. 
        Administrators not wishing to reveal this information should
        consider these objects sensitive/vulnerable and take 
        precautions so they are not revealed.



MPLS Working Group           Expires January 2007           [Page 30]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006




   SNMP versions prior to SNMPv3 did not include adequate security.
   Even if the network itself is secure (for example by using IPSec),
   even then, there is no control as to who on the secure network is
   allowed to access and GET/SET (read/change/create/delete) the objects
   in this MIB module.

   It is RECOMMENDED that implementers consider the security features as
   provided by the SNMPv3 framework (see [RFC3410], section 8),
   including full support for the SNMPv3 cryptographic mechanisms (for
   authentication and privacy).

   Further, deployment of SNMP versions prior to SNMPv3 is NOT
   RECOMMENDED. Instead, it is RECOMMENDED to deploy SNMPv3 and to
   enable cryptographic security.  It is then a customer/operator
   responsibility to ensure that the SNMP entity giving access to an
   instance of this MIB module, is properly configured to give access 
   to the objects only to those principals (users) that have legitimate
   rights to indeed GET or SET (change/create/delete) them.

7.  IANA Considerations

   As described in the MPLS-TC-STD-MIB [RFC3811] MIB module, MPLS 
   related standards track MIB modules should be rooted under the 
   mplsStdMIB subtree. There is one MPLS-related
   MIB module contained in this document. The following "IANA
   Considerations" subsection requests IANA for a new assignment under
   the mplsStdMIB subtree.  New assignments can only be made via a
   Standards Action as specified in [RFC2434].

7.1.  IANA Considerations for MPLS-FRR-STD-MIB

   The IANA is requested to assign { mplsStdMIB 12 } to the 
   MPLS-FRR-STD-MIB MIB module specified in this document.


8. Acknowledgments

    We would like to thank Alia Atlas, Yeong Tai, Walter Vanhimbeeck,
    Mike Piecuch, Adrien Grise, Kiran Koushik, and Adrian Farrel for 
    the helpful and colorful discussions about, editorial comments on
    and contributions to this document.

9. References

9.1 Normative References

    [RFC4090] Pan, P., Swallow, G., Atlas, A., "Fast Reroute 
              Extensions to RSVP-TE for LSP Tunnels", RFC4090,



MPLS Working Group           Expires January 2007           [Page 31]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



              May 2005.

   [RFC3812] Srinivasan, C., Viswanathan, A. and T. Nadeau, 
             "Multiprotocol Label Switching (MPLS) Traffic
              Engineering Management Information
              Base", RFC 3812, June 2004

   [RFC3813] Srinivasan, C., Viswanathan, A. and Nadeau, T., 
             "MPLS Label Switch Router Management Information Base ", 
              RFC 3813, June 2004

   [RFC3811]  Nadeau, T. and J. Cucchiara, "Definition of Textual
              Conventions and for Multiprotocol Label Switching (MPLS)
              Management", RFC 3811, June 2004.

   [RFC2119] S. Bradner, "Key Words for use in RFCs to Indicate
             Requirement Levels", RFC 2119, BCP 14, March 1997.

   [RFC3291]  Daniele, M., Haberman, B., Routhier, S., and J.
              Schoenwaelder, "TextualConventions for Internet Network
              Addresses", RFC 3291, May 2002.

   [RFC2863]  McCloghrie, K. and F. Kastenholtz, "The Interfaces Group
              MIB", RFC 2863, June 2000.

   [RFC2578] McCloghrie, K., Perkins, D., Schoenwaelder, J., Case,
             J., Rose, M., and S. Waldbusser, "Structure of
             Management Information Version 2 (SMIv2)", STD 58, RFC
             2578, April 1999.
  
   [RFC2579] McCloghrie, K., Perkins, D., Schoenwaelder, J., Case,
             J., Rose, M., and S. Waldbusser, "Textual Conventions
             for SMIv2", STD 58, RFC 2579, April 1999.
  
   [RFC2580] McCloghrie, K., Perkins, D., Schoenwaelder, J., Case,
             J., Rose, M., and S. Waldbusser, "Conformance
             Statements for SMIv2", STD 58, RFC 2580, April 1999.

9.2 Informative Referencse

   [RFC3031]  Rosen, E., Viswanathan, A., and R. Callon, "Multiprotocol
              Label Switching Architecture", RFC 3031, January 2001.


   [RFC3410]  Case, J., Mundy, R., Partain, D. and B. Stewart,
              "Introduction and Applicability Statements for
              Internet-Standard Management Framework", RFC 3410,
              December 2002.




MPLS Working Group           Expires January 2007           [Page 32]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



   [RFC2434]  Narten, T. and H. Alvestrand.,  "Guidelines for Writing an
              IANA Considerations Section in RFCs", BCP 26, RFC 2434,
              October 1998.



10. Editors' Addresses

    Riza Cetin
    Alcatel
    Francis Wellesplein 1
    B-2018 Antwerp, Belgium
    Email: riza.cetin@alcatel.be

   Thomas D. Nadeau
   Cisco Systems, Inc.
   300 Beaverbrook Drive
   Boxborough, MA 
   Phone: +1-978-936-1470
   Email: tnadeau@cisco.com

8. Contributors' Addresses

    Stefaan De Cnodder
    Alcatel
    Francis Wellesplein 1
    B-2018 Antwerp, Belgium
    Email: stefaan.de_cnodder@alcatel.be

    Der-Hwa Gan
    Juniper Networks, Inc.
    1194 N. Mathilda Avenue
    Sunnyvale, CA 94089
    Email: dhg@juniper.net













Full Copyright Statement




MPLS Working Group           Expires January 2007           [Page 33]

         draft-ietf-mpls-fastreroute-mib-05.txt         July 12, 2006



   Copyright (C) The Internet Society (2006).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).










MPLS Working Group           Expires January 2007           [Page 34]
