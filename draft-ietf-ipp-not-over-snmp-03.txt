Internet Printing Protocol Working Group                    Tom Hastings
INTERNET DRAFT                                                     Xerox
Expires 6 January 2001                                      Ira McDonald
                                                              High North
                                                             6 July 2000

                   Internet Printing Protocol (IPP):
          Notifications over SNMP via Job Monitoring MIB Traps
                 <draft-ietf-ipp-not-over-snmp-03.txt>

    Copyright (C) The Internet Society (2000). All Rights Reserved.


Status of this Memo 

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.  
   
   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress." 
   
     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.

Abstract 

   This document is a submission to the Internet Printing Protocol
   Working Group of the Internet Engineering Task Force (IETF).
   Comments should be submitted to the ipp@pwg.org mailing list.  
   
   This document proposes a mapping of IPP notifications over SNMP via
   new service and job trap extensions defined for the Job Monitoring
   MIB [RFC-2707].  This mapping may be used to deliver printer
   notifications for any printer (not just IPP-capable ones) and also
   job notifications for any job (not just ones submitted via IPP).  
   
   This document proposes (4) new object groups and (4) new SNMP traps
   for addition to the Job Monitoring MIB [RFC 2707].  A working copy of
   this proposal integrated into the original Job Monitoring MIB ASN.1
   is at:  
   ftp://ftp.pwg.org/pub/pwg/ipp/new_NOT/jmp-trap-000706.mib 






Hastings, McDonald            Expires 6 January 2001            [Page 1]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

                           Table of Contents

1.  Introduction ...............................................       3
  1.1.  Terminology for Conformance ............................       3
2.  SNMP Network Management Framework ..........................       3
3.  Managed Object Mapping .....................................       4
  3.1.  SNMP Mapping for IPP Notifications .....................       4
    3.1.1.  SNMP Mapping for IPP Printer Events ................       4
    3.1.2.  SNMP Mapping for IPP Job Events ....................       5
  3.2.  Subscription for IPP Notifications .....................       6
    3.2.1.  Subscription via IPP ...............................       6
    3.2.2.  Subscription via SNMP ..............................       6
  3.3.  Relationship to other MIBs .............................       7
    3.3.1.  MIB-II (RFC 1213) ..................................       7
    3.3.2.  Host Resources MIB (RFC 2790) ......................       7
    3.3.3.  Printer MIB (RFC 1759) .............................       7
4.  Managed Object Definitions .................................       8
  4.1.  Notification Definitions ...............................       8
    4.1.1.  Service Basic Event - Trap .........................       8
    4.1.2.  Job Basic Event - Trap .............................       9
    4.1.3.  Job Completed Event - Trap .........................      11
    4.1.4.  Job Progress Event - Trap ..........................      12
  4.2.  Object Definitions .....................................      13
    4.2.1.  Service Group - Objects ............................      13
    4.2.2.  Service Event Group - Objects ......................      16
    4.2.3.  Job Event Group - Objects ..........................      19
    4.2.4.  Job Progress Group - Objects .......................      22
5.  IANA Considerations ........................................      24
6.  Internationalization Considerations ........................      24
7.  Security Considerations ....................................      24
8.  References .................................................      25
9.  Change Log .................................................      26
10.  Intellectual Property Notice ..............................      29
11.  Authors' Addresses ........................................      29
12.  Full Copyright Statement ..................................      30

















Hastings, McDonald            Expires 6 January 2001            [Page 2]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



1.  Introduction

   This document is a submission to the Internet Printing Protocol
   Working Group of the Internet Engineering Task Force (IETF).
   Comments should be submitted to the ipp@pwg.org mailing list.  
   
   This document proposes a mapping of IPP notifications over SNMP via
   new service and job trap extensions defined for the Job Monitoring
   MIB [RFC-2707].  This mapping may be used to deliver printer
   notifications for any printer (not just IPP-capable ones) and also
   job notifications for any job (not just ones submitted via IPP).  
   
   This document proposes (4) new object groups and (4) new SNMP traps
   for addition to the Job Monitoring MIB [RFC 2707].  A working copy of
   this proposal integrated into the original Job Monitoring MIB ASN.1
   is at:  
   ftp://ftp.pwg.org/pub/pwg/ipp/new_NOT/jmp-trap-000706.mib 
   
   The IPP protocol [IPP-PRO] supports passive monitoring of IPP Printer
   and Job objects, via client polling of IPP object attributes using
   the 'Get-Printer-Attributes' and 'Get-Job-Attributes' operations.  
   
   This document proposes support for dynamic monitoring of IPP Printer
   and Job objects via SNMP traps generated by the service provider
   (server or device).  
   
   
   1.1.  Terminology for Conformance
   
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted per [RFC-2119].  


2.  SNMP Network Management Framework

   See:  Section 1.1 'SNMPv1', section 1.2 'SNMPv2', and section 1.3
         'SNMPv3' of [RFC-2576].












Hastings, McDonald            Expires 6 January 2001            [Page 3]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



3.  Managed Object Mapping

   
   
   3.1.  SNMP Mapping for IPP Notifications
   
   
   
   3.1.1.  SNMP Mapping for IPP Printer Events
   
   IPP Printer event attribute         Job Monitoring MIB object mapping
   ---------------------------         ---------------------------------
   version-number                      [no mapping - not useful]
   status-code                         [implicit in each generated trap]
   notify-sequence-number              [request-id in SNMP trap header]
   notify-charset                      [no mapping - strings are UTF-8]
   notify-natural-language             [no mapping - no text bindings]
   subscription-id                     [no mapping]
   notify-subscribed-event             jmServiceEventNotifyEvent
   notify-printer-uri                  jmServiceURI
   printer-up-time                     [sysUpTime in SNMP trap bindings]
   printer-current-time                [hrSystemDate in Host Res MIB]
   notify-user-data                    [no mapping]
   notify-text                         [no mapping]
   printer-state                       jmServiceState
   printer-state-reasons               jmServiceStateReasons
   printer-is-accepting-jobs           [jmServiceStateReasons keyword]























Hastings, McDonald            Expires 6 January 2001            [Page 4]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

   
   
   3.1.2.  SNMP Mapping for IPP Job Events
   
   IPP Job event attribute             Job Monitoring MIB object mapping
   -----------------------             ---------------------------------
   version-number                      [no mapping - not useful]
   status-code                         [implicit in each generated trap]
   notify-sequence-number              [request-id in SNMP trap header]
   notify-charset                      [no mapping - strings are UTF-8]
   notify-natural-language             [no mapping - no text bindings]
   subscription-id                     [no mapping]
   notify-subscribed-event             jmJobEventNotifyEvent
   notify-printer-uri                  jmServiceURI
   job-id                              [via jmJobState OID instance]
   printer-up-time                     [sysUpTime in SNMP trap bindings]
   printer-current-time                [hrSystemDate in Host Res MIB]
   notify-user-data                    [no mapping]
   notify-text                         [no mapping]
   job-state                           jmJobState
   job-state-reasons                   jmJobEventJobStateReasons
                                       [jmJobStateReasons1 plus zero or]
                                       [more jobStateReasonsN in a strin
   
   [job-completed and job-purged - extra bindings]
   job-k-octets-processed              jmJobKOctetsProcessed
   job-impressions-completed           jmJobImpressionsCompleted
   
   [job-progress - extra bindings]
   job-k-octets                        jmJobKOctetsPerCopyRequested
   job-impressions                     jmJobImpressionsPerCopyRequested
   job-copies                          jmProgressJobCopiesRequested
   job-collation-type                  jmProgressJobCollationType
   job-media-sheets-completed          jmProgressMediaSheetsCompleted
   sheet-completed-copy-number         jmProgressSheetCompletedCopyNum
   sheet-completed-document-number     jmProgressSheetCompletedDocNum
















Hastings, McDonald            Expires 6 January 2001            [Page 5]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

   
   
   3.2.  Subscription for IPP Notifications
   
   IPP Clients MAY subscribe for IPP Notifications delivered via SNMP by
   either of the following two standard methods:  
   
   
   3.2.1.  Subscription via IPP
   
   IPP Job creation (Create-Job, Print-Job, Print-URI) and
   Create-Subscription operations MAY be used to create per-Printer or
   per-Job IPP Subscription objects and MAY specify 
   
     "notify-recipient-uri" = 'snmpnotify://hostname[.port]' 
     
     "notify-events" = <events of interest, e.g., 'job-completed'> 
   
   
   3.2.2.  Subscription via SNMP
   
   The SNMP Notification MIB and SNMP Target MIB (both in [RFC-2573])
   MAY be used to create SNMP subscriptions.  
   
   To create a subscription via SNMP, the IPP Client MAY use an SNMP
   Set-Request operation to create an appropriate row in the SNMP
   Notification MIB with the following variable-bindings:  
   
   1)  'snmpNotifyTag'
       - tag of this notification - see 'snmpTargetAddrTagList' below
   2)  'snmpNotifyType'
       - deliver via SNMP Trap (unacknowledged) or Inform (acknowledged)
   3)  'snmpNotifyStorageType'
       - persistence (volatile, nonVolatile, permanent, readOnly)
   
   Note:  The SNMP Notification MIB uses persistence instead of the
   lease duration supported in IPP Subscription objects.  
   
   
   To complete a subscription via SNMP, the IPP Client MAY use an SNMP
   Set-Request operation to create an appropriate row in the SNMP Target
   MIB with the following variable-bindings:  
   
   1)  'snmpTargetAddrTDomain' and 'snmpTargetAddrTAddress'
       - notification target (client) transport protocol and address
         (corresponds to IPP 'notify-recipient-uri')
   2)  'snmpTargetAddressTimeout' and 'snmpTargetAddrRetryCount'
       - retry timeout and limit (for acknowledged SNMP Inform only)
   3)  'snmpTargetAddrTagList'
       - tags of notifications to be sent to this target (client)
   4)  'snmpTargetAddrParamsEntry'

Hastings, McDonald            Expires 6 January 2001            [Page 6]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

       - notification security and SNMP protocol version
   5)  'snmpTargetAddrStorageType'
       - persistence (volatile, nonVolatile, permanent, readOnly)
   
   Note:  The SNMP Target MIB uses persistence instead of the lease
   duration supported in IPP Subscription objects.  
   
   
   3.3.  Relationship to other MIBs
   
   
   
   3.3.1.  MIB-II (RFC 1213)
   
   All SNMPv1 trap messages include 'time-stamp' which is the value of
   the 'sysUpTime' object from MIB-II [RFC-1213].  
   
   All SNMPv2 trap bindings include the 'sysUpTime' object from MIB-II
   [RFC-1213].  
   
   
   3.3.2.  Host Resources MIB (RFC 2790)
   
   The 'jmServiceTable' defined in this document MAY have a sparse
   mapping to the 'hrDeviceTable' (same indices) in Host Resources MIB
   [RFC-2790].  
   
   
   3.3.3.  Printer MIB (RFC 1759)
   
   The 'jmServiceTable' defined in this document MAY have a sparse
   mapping to the 'hrDeviceTable' (same indices) in Host Resources MIB
   [RFC-2790], thus offering access to the Printer MIB via a
   'hrDeviceIndex' value.  


















Hastings, McDonald            Expires 6 January 2001            [Page 7]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



4.  Managed Object Definitions



4.1.  Notification Definitions



4.1.1.  Service Basic Event - Trap

--  Service Basic Event Group (CONDITIONALLY MANDATORY)
--
--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which send this Service traps via SNMP.

--  The jmServiceBasicEventGroup consists entirely of the
--  jmServiceBasicV2Event notification.

jmServiceBasicV1Enterprise OBJECT-IDENTITY
    STATUS      current
    DESCRIPTION
        "The value of the enterprise-specific OID in an SNMPv1 trap
        for a Service basic event sent by this managed system."
    ::= { jobmonMIBNotifications 1 }

jmServiceBasicV2EventPrefix
    OBJECT IDENTIFIER ::= { jmServiceBasicV1Enterprise 0 }

jmServiceBasicV2Event NOTIFICATION-TYPE
    OBJECTS {
        jmServiceEventNotifyEvent,
        jmServiceState,
        jmServiceStateReasons
    }
    STATUS      current
    DESCRIPTION
        "This SMIv2 trap corresponds to an IPP Printer basic event.

        The value of 'jmServiceIndex' for
        use with 'jmServiceTable' for this Service is conveyed in the
        instance qualifier (OID suffix) of 'jmServiceState'.

        This trap is sent when requested by a prior subscription.
        The subscribed event type is in 'jmServiceEventNotifyEvent'.

        Standard Printer event types defined in [IPP-NOT] are:
        - 'printer-state-changed'
          - 'printer-restarted'
          - 'printer-shutdown'

Hastings, McDonald            Expires 6 January 2001            [Page 8]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

        - 'printer-config-changed'
          - 'printer-media-changed'
          - 'printer-finishings-changed'
        - 'printer-queue-order-changed'
        - 'printer-full'
        - 'printer-no-longer-full'
        - 'printer-almost-idle'
        - 'printer-not-almost-idle'

        Standard Service event types generalized from [IPP-NOT] are:
        - 'service-state-changed'
          - 'service-restarted'
          - 'service-shutdown'
        - 'service-config-changed'
          - 'service-media-changed'
          - 'service-finishings-changed'
        - 'service-queue-order-changed'
        - 'service-full'
        - 'service-no-longer-full'
        - 'service-almost-idle'
        - 'service-not-almost-idle'
        - and (optionally) vendor extension event types

        Additional variable-bindings SHOULD be appended to this trap:
        - Systems with the Host Resources MIB (RFC 2790) SHOULD add
          'hrSystemDate'
          (compare to IPP 'printer-current-time')

        Additional variable-bindings MAY be appended to this trap
        for all printer-specific events:
        - Systems with the Host Resources MIB (RFC 2790) MAY add
          'hrDeviceStatus'
          (compare to IPP 'printer-state')
          'hrPrinterStatus'
          (compare to IPP 'printer-state') and
          'hrPrinterDetectedErrorState'
          (compare to IPP 'printer-state-reasons')

        Systems MAY add other variable-bindings from any MIB.

        See:    Section 5.3.2 'notify-events' in [IPP-NOT];
                Section 8.1 'notify-subscribed-event' in [IPP-NOT];
                Section 9 'Event Notification Content' in [IPP-NOT]."
    ::= { jmServiceBasicV2EventPrefix 1 }



4.1.2.  Job Basic Event - Trap

--  Job Basic Event Group (CONDITIONALLY MANDATORY)
--

Hastings, McDonald            Expires 6 January 2001            [Page 9]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which send this Job traps via SNMP.

--  The jmJobBasicEventGroup consists entirely of the
--  jmJobBasicV2Event notification.

jmJobBasicV1Enterprise OBJECT-IDENTITY
    STATUS      current
    DESCRIPTION
        "The value of the enterprise-specific OID in an SNMPv1 trap
        for a Job basic event sent by this managed system."
    ::= { jobmonMIBNotifications 2 }

jmJobBasicV2EventPrefix
    OBJECT IDENTIFIER ::= { jmJobBasicV1Enterprise 0 }

jmJobBasicV2Event NOTIFICATION-TYPE
    OBJECTS {
        jmJobEventNotifyEvent,
        jmJobState,
        jmJobEventJobStateReasons
    }
    STATUS      current
    DESCRIPTION
        "This SMIv2 trap corresponds to an IPP Job basic event.

        The values of 'jmGeneralJobSetIndex' and 'jmJobIndex' for
        use with 'jmJobTable' for this Job are conveyed in the
        instance qualifier (OID suffix) of 'jmJobState'.

        This trap is sent when requested by a prior subscription.
        The subscribed event type is in 'jmJobEventNotifyEvent'.

        Event types reported via 'jmJobBasicV2Event' include:
        - 'job-state-changed'
          - 'job-created'
          - 'job-completed'
          - 'job-purged'
        - 'job-config-changed'
        - and (optionally) vendor extension event types

        Additional variable-bindings SHOULD be appended to this trap:
        - Systems with the Host Resources MIB (RFC 2790) SHOULD add
          'hrSystemDate'
          (compare to IPP 'printer-current-time')

        Systems MAY add other variable-bindings from any MIB.

        See:    Section 5.3.2 'notify-events' in [IPP-NOT];
                Section 8.1 'notify-subscribed-event' in [IPP-NOT];
                Section 9 'Event Notification Content' in [IPP-NOT]."

Hastings, McDonald           Expires 6 January 2001            [Page 10]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

    ::= { jmJobBasicV2EventPrefix 1 }



4.1.3.  Job Completed Event - Trap

--  Job Completed Event Group (CONDITIONALLY MANDATORY)
--
--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which send this Job traps via SNMP.

jmJobCompletedV1Enterprise OBJECT-IDENTITY
    STATUS      current
    DESCRIPTION
        "The value of the enterprise-specific OID in an SNMPv1 trap
        for a Job completed event sent by this managed system."
    ::= { jobmonMIBNotifications 3 }

jmJobCompletedV2EventPrefix
    OBJECT IDENTIFIER ::= { jmJobCompletedV1Enterprise 0 }

jmJobCompletedV2Event NOTIFICATION-TYPE
    OBJECTS {
        jmJobEventNotifyEvent,
        jmJobState,
        jmJobEventJobStateReasons,
        jmJobKOctetsProcessed,
        jmJobImpressionsCompleted
    }
    STATUS      current
    DESCRIPTION
        "This SMIv2 trap corresponds to an IPP 'job-completed' event.

        The values of 'jmGeneralJobSetIndex' and 'jmJobIndex' for
        use with 'jmJobTable' for this Job are conveyed in the
        instance qualifier (OID suffix) of 'jmJobState'.

        This trap is sent when requested by a prior subscription.
        The subscribed event type is in 'jmJobEventNotifyEvent'.

        Event types reported via 'jmJobCompletedV2Event' include:
        - 'job-completed'
        - 'job-purged'
        - and (optionally) vendor extension event types

        Additional variable-bindings SHOULD be appended to this trap:
        - Systems with the Host Resources MIB (RFC 2790) SHOULD add
          'hrSystemDate'
          (compare to IPP 'printer-current-time')

        Systems MAY add other variable-bindings from any MIB.

Hastings, McDonald           Expires 6 January 2001            [Page 11]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000


        See:    Section 5.3.2 'notify-events' in [IPP-NOT];
                Section 8.1 'notify-subscribed-event' in [IPP-NOT];
                Section 9 'Event Notification Content' in [IPP-NOT]."
    ::= { jmJobCompletedV2EventPrefix 1 }



4.1.4.  Job Progress Event - Trap

--  Job Progress Event Group (CONDITIONALLY MANDATORY)
--
--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which send this Job traps via SNMP.

jmJobProgressV1Enterprise OBJECT-IDENTITY
    STATUS      current
    DESCRIPTION
        "The value of the enterprise-specific OID in an SNMPv1 trap
        for a Job progress event sent by this managed system."
    ::= { jobmonMIBNotifications 4 }

jmJobProgressV2EventPrefix
    OBJECT IDENTIFIER ::= { jmJobProgressV1Enterprise 0 }

jmJobProgressV2Event NOTIFICATION-TYPE
    OBJECTS {
        jmJobKOctetsPerCopyRequested,
        jmJobKOctetsProcessed,
        jmJobImpressionsPerCopyRequested,
        jmJobImpressionsCompleted,
        jmProgressJobCopiesRequested,
        jmProgressJobCollationType,
        jmProgressMediaSheetsCompleted,
        jmProgressSheetCompletedCopyNum,
        jmProgressSheetCompletedDocNum
    }
    STATUS      current
    DESCRIPTION
        "This SMIv2 trap corresponds to an IPP 'job-progress' event.

        The values of 'jmGeneralJobSetIndex' and 'jmJobIndex' for
        use with 'jmJobTable' for this Job are conveyed in the
        instance qualifier (OID suffix) of 'jmJobKOctetsProcessed'.

        This trap is sent when requested by a prior subscription.
        The event type is 'job-progress'.

        Additional variable-bindings SHOULD be appended to this trap:
        - Systems with the Host Resources MIB (RFC 2790) SHOULD add
          'hrSystemDate'

Hastings, McDonald           Expires 6 January 2001            [Page 12]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

          (compare to IPP 'printer-current-time')

        Systems MAY add other variable-bindings from any MIB.

        See:    Section 5.3.2 'notify-events' in [IPP-NOT];
                Section 8.1 'notify-subscribed-event' in [IPP-NOT];
                Section 9 'Event Notification Content' in [IPP-NOT]."
    ::= { jmJobProgressV2EventPrefix 1 }



4.2.  Object Definitions



4.2.1.  Service Group - Objects

--  The Service Group (CONDITIONALLY MANDATORY)
--
--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which show Service state via SNMP.

--  The jmServiceGroup consists entirely of the jmServiceTable

jmService  OBJECT IDENTIFIER ::= { jobmonMIBObjects 7 }

jmServiceTable  OBJECT-TYPE
    SYNTAX      SEQUENCE OF JmServiceEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The jmServiceTable consists of basic service state and status
        information for each service which offers one or more job
        services on this managed system.

        An entry SHALL exist in this table for each service, no matter
        what the state of that service.  A service MAY support multiple
        configured job sets and configured devices.

        See:    'jmServiceJobSetsConfigured' and
                'jmServiceDevicesConfigured' bit-arrays in this MIB."
    ::= { jmService 1 }


jmServiceEntry  OBJECT-TYPE
    SYNTAX      JmServiceEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Basic service state and status information."
    INDEX  { jmServiceIndex }

Hastings, McDonald           Expires 6 January 2001            [Page 13]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

    ::= { jmServiceTable 1 }


JmServiceEntry ::= SEQUENCE {
    jmServiceIndex                      Integer32 (1..2147483647),
    jmServiceName                       JmUTF8StringTC (SIZE (0..63)),
    jmServiceURI                        JmUTF8StringTC (SIZE (0..63)),
    jmServiceJobServiceTypes            JmJobServiceTypesTC,
    jmServiceJobSetsConfigured          OCTET STRING (SIZE (0..255)),
    jmServiceDevicesConfigured          OCTET STRING (SIZE (0..255)),
    jmServiceState                      JmServiceStateTC,
    jmServiceStateReasons               SnmpAdminString (SIZE (0..255))
}

jmServiceIndex OBJECT-TYPE
    SYNTAX      Integer32 (1..2147483647)
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The unique identifier for this service on this managed system.

        See:    'jmServiceEventServiceIndex' object in this MIB."
    ::= { jmServiceEntry 1 }

jmServiceName OBJECT-TYPE
    SYNTAX      JmUTF8StringTC (SIZE(0..63))    -- 127 in IPP
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The human readable name of this managed service.

        See:    'deviceNameRequested' job attribute in this MIB;
                'physicalDevice' job attribute in this MIB;
                Section 4.4.4 'printer-name' in [IPP-MOD]."
    DEFVAL      { ''H }                 -- no service name
    ::= { jmServiceEntry 2 }

jmServiceURI OBJECT-TYPE
    SYNTAX      JmUTF8StringTC (SIZE(0..63))    -- 1023 in IPP
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "A URI for this managed service (valid for job services).

        See:    Section 4.3.3 'job-printer-uri' in [IPP-MOD];
                Section 4.4.1 'printer-uri-supported' in [IPP-MOD]."
    DEFVAL      { ''H }                 -- no service URI
    ::= { jmServiceEntry 3 }

jmServiceJobServiceTypes OBJECT-TYPE
    SYNTAX      JmJobServiceTypesTC

Hastings, McDonald           Expires 6 January 2001            [Page 14]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The types of job services supported by this managed service.

        See:    'JmJobServiceTypesTC' textual convention in this MIB;
                'jobServiceTypes' job attribute in this MIB."
    DEFVAL      { 0 }                   -- no job services
    ::= { jmServiceEntry 4 }

jmServiceJobSetsConfigured OBJECT-TYPE
    SYNTAX      OCTET STRING (SIZE(0..255))
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "A bit-array that specifies the job sets configured for this
        service, where each bit '2**n' is set if 'jmGeneralJobSetIndex'
        is a configured job set.   Uses network byte order (big-endian)
        rules - the high-order bit of the first octet corresponds to
        'jmGeneralJobSetIndex' of '0' (reserved) - the low-order bit of
        the first octet corresponds to 'jmGeneralJobSetIndex' of '7'.
        Supports values of 'jmGeneralJobSetIndex' from '1' to '2039'.

        Compare to the BITS pseudotype defined in IETF SMIv2 (RFC 2578)
        which has the same bit ordering rules (big-endian).

        See:    'queueNameRequested' job attribute in this MIB;
                'jmGeneralJobSetIndex' table index in this MIB."
    DEFVAL      { ''H }                 -- no job sets configured
    ::= { jmServiceEntry 5 }

jmServiceDevicesConfigured OBJECT-TYPE
    SYNTAX      OCTET STRING (SIZE(0..255))
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "A bit-array that specifies the devices configured for this
        service, where each bit '2**n' is set if 'hrDeviceIndex'
        is a configured device.   Uses network byte order (big-endian)
        rules - the high-order bit of the first octet corresponds to
        'hrDeviceIndex' of '0' (reserved) - the low-order bit of
        the first octet corresponds to 'hrDeviceIndex' of '7'.
        Supports values of 'hrDeviceIndex' from '1' to '2039'.

        Compare to the BITS pseudotype defined in IETF SMIv2 (RFC 2578)
        which has the same bit ordering rules (big-endian).

        See:    'physicalDevice' job attribute in this MIB;
                'hrDeviceIndex' in IETF Host MIB (RFC 2790)."
    DEFVAL      { ''H }                 -- no devices configured
    ::= { jmServiceEntry 6 }

Hastings, McDonald           Expires 6 January 2001            [Page 15]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000


jmServiceState OBJECT-TYPE
    SYNTAX      JmServiceStateTC
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The current state of this managed service.

        See:    'jmServiceEventServiceState' object in this MIB;
                'jmJobState' object in this MIB;
                Section 4.4.11 'printer-state' in [IPP-MOD]."
    DEFVAL      { unknown }             -- unknown service state
    ::= { jmServiceEntry 7 }

jmServiceStateReasons OBJECT-TYPE
    SYNTAX      SnmpAdminString (SIZE (0..255)) -- multi-valued in IPP
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The service state reasons associated with this service state
        (as a comma-separated list) or the empty string (if none).

        See:    'jmServiceEventServiceStateReasons' object in this MIB;
                'jmJobStateReasons1' object in this MIB;
                Section 4.4.12 'printer-state-reasons' in [IPP-MOD]."
    DEFVAL      { ''H }                 -- no service state reasons
    ::= { jmServiceEntry 8 }



4.2.2.  Service Event Group - Objects

--  The Service Event Group (CONDITIONALLY MANDATORY)
--
--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which show Service events via SNMP.

--  The jmServiceEventGroup consists entirely of the jmServiceEventTable

jmServiceEvent  OBJECT IDENTIFIER ::= { jobmonMIBObjects 8 }

jmServiceEventTable  OBJECT-TYPE
    SYNTAX      SEQUENCE OF JmServiceEventEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The jmServiceEventTable contains service event entries for the
        services which offer job services on this managed system."
    ::= { jmServiceEvent 1 }



Hastings, McDonald           Expires 6 January 2001            [Page 16]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000


jmServiceEventEntry  OBJECT-TYPE
    SYNTAX      JmServiceEventEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Basic service event information."
    INDEX  { jmServiceEventIndex }
    ::= { jmServiceEventTable 1 }


JmServiceEventEntry ::= SEQUENCE {
    jmServiceEventIndex                 Integer32 (1..2147483647),
    jmServiceEventNotifyEvent           SnmpAdminString (SIZE (0..63)),
    jmServiceEventNotifyTime            TimeTicks,
    jmServiceEventServiceIndex          Integer32 (1..2147483647),
    jmServiceEventServiceState          JmServiceStateTC,
    jmServiceEventServiceStateReasons   SnmpAdminString (SIZE (0..255))
}

jmServiceEventIndex OBJECT-TYPE
    SYNTAX      Integer32 (1..2147483647)
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The unique identifier for this event on this managed system."
    ::= { jmServiceEventEntry 1 }

jmServiceEventNotifyEvent OBJECT-TYPE
    SYNTAX      SnmpAdminString (SIZE (0..63))   -- 255 in [IPP-NOT]
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The event type that created this row in 'jmServiceEventTable'.

        Standard Printer event types defined in [IPP-NOT] are:
        - 'printer-state-changed'
          - 'printer-restarted'
          - 'printer-shutdown'
        - 'printer-config-changed'
          - 'printer-media-changed'
          - 'printer-finishings-changed'
        - 'printer-queue-order-changed'
        - 'printer-full'
        - 'printer-no-longer-full'
        - 'printer-almost-idle'
        - 'printer-not-almost-idle'

        Standard Service event types generalized from [IPP-NOT] are:
        - 'service-state-changed'
          - 'service-restarted'

Hastings, McDonald           Expires 6 January 2001            [Page 17]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

          - 'service-shutdown'
        - 'service-config-changed'
          - 'service-media-changed'
          - 'service-finishings-changed'
        - 'service-queue-order-changed'
        - 'service-full'
        - 'service-no-longer-full'
        - 'service-almost-idle'
        - 'service-not-almost-idle'

        Conformance:    The natural language for keywords
        in subscribed event type SHALL always be US English.

        Conformance:    This subscribed event type SHALL be valid
        and reported in ALL Job Monitoring MIB notifications.

        See:    Section 8.1 'notify-subscribed-event' in [IPP-NOT]."
    DEFVAL      { ''H }                 -- no notify subscribed event
    ::= { jmServiceEventEntry 2 }

jmServiceEventNotifyTime OBJECT-TYPE
    SYNTAX      TimeTicks
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The time of this service event.

        Usage:  Conforming management agents, which MUST implement the
        IETF MIB-II (RFC 1213), SHALL set 'jmServiceEventNotifyTime' to
        'sysUpTime' when a service event row is created.

        See:    'sysUpTime' in IETF MIB-II (RFC 1213);
                Section 5.4.4 'notify-printer-up-time' in [IPP-NOT];
                Section 4.4.29 'printer-up-time' in [IPP-MOD]."
    ::= { jmServiceEventEntry 3 }

jmServiceEventServiceIndex OBJECT-TYPE
    SYNTAX      Integer32 (1..2147483647)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The unique identifier for this service on this managed system.

        See:    'jmServiceIndex' object in this MIB."
    ::= { jmServiceEventEntry 4 }

jmServiceEventServiceState OBJECT-TYPE
    SYNTAX      JmServiceStateTC
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION

Hastings, McDonald           Expires 6 January 2001            [Page 18]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

        "The state of this managed service at the time of this event.

        See:    'jmServiceState' object in this MIB;
                'jmJobState' object in this MIB;
                Section 4.4.11 'printer-state' in [IPP-MOD]."
    DEFVAL      { unknown }             -- unknown service state
    ::= { jmServiceEventEntry 5 }

jmServiceEventServiceStateReasons OBJECT-TYPE
    SYNTAX      SnmpAdminString (SIZE (0..255)) -- multi-valued in IPP
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The service state reasons associated with this service state
        (as a comma-separated list) or the empty string (if none).

        See:    'jmServiceStateReasons' object in this MIB;
                'jmJobStateReasons1' object in this MIB;
                Section 4.4.12 'printer-state-reasons' in [IPP-MOD]."
    DEFVAL      { ''H }                 -- no service state reasons
    ::= { jmServiceEventEntry 6 }



4.2.3.  Job Event Group - Objects

--  The Job Event Group (CONDITIONALLY MANDATORY)
--
--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which show Job events via SNMP.

--  The jmJobEventGroup consists entirely of the jmJobEventTable

jmJobEvent  OBJECT IDENTIFIER ::= { jobmonMIBObjects 9 }

jmJobEventTable  OBJECT-TYPE
    SYNTAX      SEQUENCE OF JmJobEventEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The jmJobEventTable contains job event entries for the
        jobs present on this managed system."
    ::= { jmJobEvent 1 }


jmJobEventEntry  OBJECT-TYPE
    SYNTAX      JmJobEventEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "Basic job event information."

Hastings, McDonald           Expires 6 January 2001            [Page 19]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

    INDEX  { jmJobEventIndex }
    ::= { jmJobEventTable 1 }


JmJobEventEntry ::= SEQUENCE {
    jmJobEventIndex                     Integer32 (1..2147483647),
    jmJobEventNotifyEvent               SnmpAdminString (SIZE (0..63)),
    jmJobEventNotifyTime                TimeTicks,
    jmJobEventJobSetIndex               Integer32 (1..32767),
    jmJobEventJobIndex                  Integer32 (1..2147483647),
    jmJobEventJobState                  JmJobStateTC,
    jmJobEventJobStateReasons           OCTET STRING (SIZE (4..16))
}

jmJobEventIndex OBJECT-TYPE
    SYNTAX      Integer32 (1..2147483647)
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "The unique identifier for this event on this managed system."
    ::= { jmJobEventEntry 1 }

jmJobEventNotifyEvent OBJECT-TYPE
    SYNTAX      SnmpAdminString (SIZE (0..63))   -- 255 in [IPP-NOT]
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The event type that created this row in 'jmJobEventTable'.

        Standard Job event types defined in [IPP-NOT] are:
        - 'job-state-changed'
          - 'job-created'
          - 'job-completed'
          - 'job-purged'
        - 'job-config-changed'
        - 'job-progress'

        Conformance:    The natural language for keywords
        in subscribed event type SHALL always be US English.

        Conformance:    This subscribed event type SHALL be valid
        and reported in ALL Job Monitoring MIB notifications.

        See:    Section 8.1 'notify-subscribed-event' in [IPP-NOT]."
    DEFVAL      { ''H }                 -- no notify subscribed event
    ::= { jmJobEventEntry 2 }

jmJobEventNotifyTime OBJECT-TYPE
    SYNTAX      TimeTicks
    MAX-ACCESS  read-only
    STATUS      current

Hastings, McDonald           Expires 6 January 2001            [Page 20]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

    DESCRIPTION
        "The time of this job event.

        Usage:  Conforming management agents, which MUST implement the
        IETF MIB-II (RFC 1213), SHALL set 'jmJobEventNotifyTime' to
        'sysUpTime' when a job event row is created.

        See:    'sysUpTime' in IETF MIB-II (RFC 1213);
                Section 5.4.4 'notify-printer-up-time' in [IPP-NOT];
                Section 4.4.29 'printer-up-time' in [IPP-MOD]."
    ::= { jmJobEventEntry 3 }

jmJobEventJobSetIndex OBJECT-TYPE
    SYNTAX      Integer32 (1..32767)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The unique identifier for this job set on this managed system.

        See:    'jmGeneralJobSetIndex' object in this MIB."
    ::= { jmJobEventEntry 4 }

jmJobEventJobIndex OBJECT-TYPE
    SYNTAX      Integer32 (1..2147483647)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The unique identifier for this job on this managed system,
        when prefixed with 'jmJobEventJobSetIndex'.

        See:    'jmJobIndex' object in this MIB."
    ::= { jmJobEventEntry 5 }

jmJobEventJobState OBJECT-TYPE
    SYNTAX      JmJobStateTC
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The state of this managed job at the time of this event.

        See:    'jmJobState' in this MIB;
                Section 4.3.7 'job-state' in [IPP-MOD]."
    DEFVAL      { unknown }             -- unknown job state
    ::= { jmJobEventEntry 6 }

jmJobEventJobStateReasons OBJECT-TYPE
    SYNTAX      OCTET STRING (SIZE (4..16)) -- multi-valued in IPP
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The job state reasons associated with this job state

Hastings, McDonald           Expires 6 January 2001            [Page 21]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

        represented as one to four concatenated 32-bit integers
        in network byte order (big-endian).

        Usage:  Conforming management stations SHALL always report the
        value of the object 'jmJobStateReasons1' in the first four
        octets of 'jmJobEventJobStateReasons' and SHOULD report values
        of the attributes 'jobStateReasons2', 'jobStateReasons3', and
        'jobStateReasons4' in subsequent octets.

        See:    'jmJobStateReasons1' in this MIB;
                Section 4.3.8 'job-state-reasons' in [IPP-MOD]."
    DEFVAL      { '00000000'H }         -- no job state reasons
    ::= { jmJobEventEntry 7 }



4.2.4.  Job Progress Group - Objects

--  The Job Progress Group (CONDITIONALLY MANDATORY)
--
--  Implementation of this group is conditionally mandatory;
--  mandatory for systems which send Job progress traps via SNMP.

--  The jmProgressGroup consists entirely of leaf objects for traps

jmProgress  OBJECT IDENTIFIER ::= { jobmonMIBObjects 10 }

jmProgressJobCopiesRequested OBJECT-TYPE
    SYNTAX      Integer32 (-2..2147483647)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of copies of this job requested by the client.

        See:    'jobCopiesRequested' attribute in this MIB."
    DEFVAL      { -2 }                  -- unknown job copies
    ::= { jmProgress 1 }

jmProgressJobCollationType OBJECT-TYPE
    SYNTAX      JmJobCollationTypeTC
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of copies of this job requested by the client.

        See:    'jobCollationType' attribute in this MIB;
                'job-collation-type' in [IPP-PROG];
                Section 9 'Event Notification Content' in [IPP-NOT]."
    DEFVAL      { unknown }             -- unknown job collation type
    ::= { jmProgress 2 }


Hastings, McDonald           Expires 6 January 2001            [Page 22]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000


jmProgressMediaSheetsCompleted OBJECT-TYPE
    SYNTAX      Integer32 (-2..2147483647)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of media sheets completed for this job.

        See:    'sheetsCompleted' attribute in this MIB;
                Section 4.3.18.3 'job-media-sheets-completed'
                in [IPP-MOD];
                Section 9 'Event Notification Content' in [IPP-NOT]."
    DEFVAL      { -2 }                  -- unknown job progress
    ::= { jmProgress 3 }

jmProgressSheetCompletedCopyNum OBJECT-TYPE
    SYNTAX      Integer32 (-2..2147483647)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of the job copy currently being stacked for the
        current document or zero (if none) or '-2' (unknown).

        See:    'sheetCompletedCopyNumber' attribute in this MIB;
                'sheet-completed-copy-number' in [IPP-PROG];
                Section 9 'Event Notification Content' in [IPP-NOT]."
    DEFVAL      { -2 }                  -- unknown sheet complete copy
    ::= { jmProgress 4 }

jmProgressSheetCompletedDocNum OBJECT-TYPE
    SYNTAX      Integer32 (-2..2147483647)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The number of the job document currently being stacked for the
        current job or zero (if none) or '-2' (unknown).

        See:    'sheetCompletedDocumentNumber' attribute in this MIB;
                'sheet-completed-document-number' in [IPP-PROG];
                Section 9 'Event Notification Content' in [IPP-NOT]."
    DEFVAL      { -2 }                  -- unknown sheet complete doc
    ::= { jmProgress 5 }










Hastings, McDonald           Expires 6 January 2001            [Page 23]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



5.  IANA Considerations

   None.  


6.  Internationalization Considerations

   The 'jmServiceStateReasons', 'jmServiceEventServiceStateReasons',
   'jmServiceEventNotifyEvent', and 'jmJobEventNotifyEvent', text string
   objects defined in this document are of type 'SnmpAdminString' (UTF-8
   stream-encoded ISO 10646/Unicode text) defined in the SNMPv3
   Framework MIB [RFC-2571].  The natural language of these objects is
   US English (they contain keywords).  
   


7.  Security Considerations

   This IPP Notifications over SNMP mapping defines only 'read-only'
   objects.  It is suitable for use with any version of SNMP, as no
   update security is required (because no configuration updates are
   supported).  
   
   No sensitive information is available via IPP Notifications over
   SNMP.  

























Hastings, McDonald           Expires 6 January 2001            [Page 24]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



8.  References

   [IPP-MOD] R. deBry, T. Hastings, R. Herriot, S. Isaacson, P. Powell.
   IPP/1.1 Model and Semantics, <draft-ietf-ipp-model-v11-07.txt>
   (work-in-progress), May 2000.  
   
   [IPP-NOT] S. Isaacson, J. Martin, R. deBry, T. Hastings, M. Shepherd,
   R. Bergman.  IPP Event Notification Specification,
   <draft-ietf-ipp-not-spec-02.txt> (work-in-progress), March 2000.  
   
   [IPP-PROG] T. Hastings, R. Bergman, H. Lewis.  Proposed Job Progress
   Attributes for IPP, <draft-ietf-ipp-job-prog-00.txt>
   (work-in-progress), February 2000.  
   
   [RFC-1213] K. McCloghrie, M. Rose.  MIB-II, RFC 1213, March 1991.  
   
   [RFC-1759] R. Smith, F. Wright, T. Hastings, S. Zilles,
   J. Gyllenskog.  Printer MIB, RFC 1759, March 1995.  
   
   [RFC-2571] D. Harrington, R. Presuhn, B. Wijnen.  Architecture for
   SNMP Management Frameworks, RFC 2571, April 1999.  
   
   [RFC-2573] D. Levi, P. Meyer, B. Stewart.  SNMP Applications, RFC
   2573, April 1999.  
   
   [RFC-2576] R. Frye, D. Levi, S. Routhier, B. Wijnen.  Coexistence
   between Version 1, Version 2, and Version 3 of the Internet-standard
   Network Management Framework, RFC 2576, March 2000.  
   
   [RFC-2707] R. Bergman, T. Hastings, S. Isaacson, H. Lewis.  Job
   Monitoring MIB v1.0, RFC 2707, November 1999 
   
   [RFC-2790] P. Grillo, S. Waldbusser.  Host Resources MIB, RFC 2790,
   March 2000.  
















Hastings, McDonald           Expires 6 January 2001            [Page 25]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



9.  Change Log

   Changes in reverse chronological order (most recent first).  
   
   <draft-ietf-ipp-not-over-snmp-03.txt> - 6 July 2000 
   1)  Added 'SnmpAdminString' to IMPORTS clause for new objects.  
   2)  Corrected OID in MODULE-IDENTITY to use forward reference to
       definition of 'pwg' from 'enterprises' and 'mibs' from 'pwg'.  
   3)  Added 'JmServiceStateTC' textual convention.  
   4)  Added 'jmMirrorAttr' and 'jmSystem' object identifiers reserved
       for future extensions.  
   5)  Major rewrite, per email discussion on IETF IPP WG list, to
       specify four new small (traditional) SNMP traps for:
       'jmServiceBasicV2Event' (generalized from IPP Printer event),
       'jmJobBasicV2Event' (corresponds IPP Job event),
       'jmJobCompletedV2Event' (corresponds IPP Job completed event),
       'jmJobProgressV2Event' (corresponds IPP Job progress event).  
   6)  Major rewrite, per email discussion on IETF IPP WG list, to
       specify four new SNMP object groups:  'jmServiceTable' (name,
       URI, state, etc.  - from IPP Printer), 'jmServiceEventTable'
       (records IPP Printer events for polling), 'jmJobEventTable'
       (records IPP Job events for polling), 'jmJobProgressGroup' (leaf
       objects for IPP Job progress event).  
   7)  Revised section 3.1 'SNMP Mapping for IPP Printer Events' and
       section 3.2 'SNMP Mapping for IPP Job Events', to agree with
       above.  
   8)  Deleted obsolete section 3.3 'Rules for Encoding Notifications', 
       as event bindings now always fit over all SNMP transport
       protocols.  
   
   <draft-ietf-ipp-not-over-snmp-02.txt> - 19 March 2000 
   1)  Renamed Printer Event notification group to Device Basic Event
       and 'jmPrinterEventV2Event' notification to
       'jmDeviceBasicV2Event', to better align with IPP and to support
       non-printing jobs.  
   2)  Revised 'jmDeviceBasicV2Event' notification to remove
       'hrDeviceStatus', 'hrPrinterStatus',
       'hrPrinterDetectedErrorState' from mandatory trap bindings
       because they were redundant, per request of Ron Bergman.  
   3)  Renamed Job Event notification group to Job Basic Event and
       'jmJobEventV2Event' notification to 'jmJobBasicV2Event', to
       better align with IPP and to support variant job events.  
   4)  Defined new Job Completed Event notification group and defined
       new Job Progress Event notification group, to better align with
       IPP and to support variant job events.  
   5)  Renamed Event object group to Event Binding,
       'jmEventPrinterState' to 'jmEventDeviceState',
       'jmEventPrinterStateReasons' to 'jmEventDeviceStateReasons',
       'jmEventPrinterIsAcceptingJobs' to

Hastings, McDonald           Expires 6 January 2001            [Page 26]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

       'jmEventDeviceIsAcceptingJobs', to support non-printing jobs.  
   6)  Revised Event Binding object group, adding explicit objects
       'jmEventDeviceURI', 'jmEventDeviceName', 'jmEventJobSetIndex',
       'jmEventJobIndex', 'jmEventJobName', 'jmEventJobState',
       'jmEventJobStateReasons', 'jmEventJobKOctets',
       'jmEventJobKOctetsProcessed', 'jmEventJobImpressions',
       'jmEventJobImpressionsCompleted', 'jmEventJobMediaSheets',
       'jmEventJobMediaSheetsCompleted',
       'jmEventJobImpressionsCompletedCC', 'jmEventJobCollationType',
       'jmEventJobSheetCompletedCopyNum',
       'jmEventJobSheetCompletedDocNum', per request of Ron Bergman.  
   7)  Revised SYNTAX of 'jmEventTriggerEvent' object from from
       'JmUTF8StringTC' (string) to IPP-aligned enumeration, per request
       of Ron Bergman.  
   8)  Removed all references to Printer MIB v2, as they were of limited
       value, per request of Ron Bergman.  
   9)  Revised 'SNMP Mapping for IPP Printer Events' section for renamed
       event binding objects, per request of Ron Bergman.  
   10) Revised 'Rules for Encoding Notifications' section to truncate
       additional string bindings, per request of Ron Bergman.  
   11) Revised 'Registration via IPP' section, to change scheme name
       from 'ipp-snmp:' to 'snmpnotify:', per request of Ron Bergman.  
   
   <draft-ietf-ipp-not-over-snmp-01.txt> - 1 December 1999 
   1)  Deleted 'JmTriggerEventTC' textual convention (see below).  
   2)  Revised SYNTAX of 'jmEventTriggerEvent' object from
       'JmTriggerEventTC' (enumeration) to 'JmUTF8StringTC' (string), to
       support use of IPP standard keywords.  
   3)  Added 'jmEventPrinterState', 'jmEventPrinterStateReasons', and
       'jmEventPrinterIsAcceptingJobs' objects for consistency w/
       [IPP-NOT] and to reduce ambiguity about printer states inherent
       in RFC 1759.  
   4)  Revised DESCRIPTION of 'jmPrinterEventV2Event' notification to
       add SHOULD (recommendation) for 'jmEventPrinterState',
       'jmEventPrinterStateReasons', and 'jmEventPrinterIsAcceptingJobs'
       objects.  
   5)  Revised 'SNMP Mapping for IPP Printer Events' section to add
       direct mapping of IPP notification attributes to
       'jmEventPrinterState', 'jmEventPrinterStateReasons', and
       'jmEventPrinterIsAcceptingJobs' objects.  
   6)  Revised 'Rules for Encoding Notifications' section to add
       'jmEventPrinterState' and 'jmEventPrinterStateReasons'.  
   7)  Revised 'IANA Considerations' section to specify there are none -
       no enumerated or keyword textual conventions are now defined in
       this document.  
   8)  Revised 'Internationalization Considerations' section to specify
       that US English keywords are used in 'jmEventTriggerEvent',
       'jmEventPrinterState', and 'jmEventPrinterStateReasons' objects
       and thus no explicit natural language tagging is required.  
   
   <draft-ietf-ipp-not-over-snmp-00.txt> - 10 October 1999 

Hastings, McDonald           Expires 6 January 2001            [Page 27]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000

   1)  Initial version.  



















































Hastings, McDonald           Expires 6 January 2001            [Page 28]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



10.  Intellectual Property Notice

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the 
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementers or users of this specification can
   be obtained from the IETF Secretariat.  
   
   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive 
   Director.  


11.  Authors' Addresses

   Tom Hastings
   Xerox Corporation
   701 S Aviation Blvd, MS 834-03E
   El Segundo, CA  90245
   
   Phone: +1 310-333-6413
   Email: hastings@cp10.es.xerox.com
   
   
   Ira McDonald
   High North Inc
   221 Ridge Ave
   Grand Marais, MI  49839
   
   Phone: +1 906-494-2434 or +1 906-494-2697
   Email: imcdonald@sharplabs.com
   Email: imcdonal@sdsp.mc.xerox.com








Hastings, McDonald           Expires 6 January 2001            [Page 29]

Internet Draft     IPP Notify - Job Monitoring MIB Traps     6 July 2000



12.  Full Copyright Statement

   Copyright (C) The Internet Society (2000).  All Rights Reserved.  
   
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it 
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.  
   
   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.  
   
   This document and the information contained herein is provided on an 
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  























Hastings, McDonald           Expires 6 January 2001            [Page 30]
