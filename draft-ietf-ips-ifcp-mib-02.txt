

                                                          Kevin Gibbons
   Internet Draft                                         Charles Monia
   <draft-ietf-ips-ifcp-mib-02.txt>                          Josh Tseng
   Expires: February 2003                                Nishan Systems

                                                      Franco Travostino
                                                                 Nortel

                                                            August 2002



                   Definitions of Managed Objects
                             For iFCP

Status of this Memo

      This document is an Internet-Draft and is in full conformance
      with all provisions of Section 10 of RFC2026.

      Internet-Drafts are working documents of the Internet Engineering
      Task Force (IETF), its areas, and its working groups. Note that
      other groups may also distribute working documents as Internet-
      Drafts.

      Internet-Drafts are draft documents valid for a maximum of six
      months and may be updated, replaced, or obsoleted by other
      documents at any time. It is inappropriate to use Internet-
      Drafts as reference material or to cite them other than as "work
      in progress."

      The list of current Internet-Drafts can be accessed at
      http://www.ietf.org/ietf/1id-abstracts.txt.

      The list of Internet-Draft Shadow Directories can be accessed at
      http://www.ietf.org/shadow.html.

Copyright Notice

      Copyright (C) The Internet Society (2002). All Rights Reserved.

Abstract

      This memo defines a portion of the Management Information Base
      (MIB) for use with network management protocols in the Internet
      community.  In particular, it defines a basic set of managed
      objects for SNMP-based monitoring and management of the Internet
      Fibre Channel Protocol (iFCP).

      This memo specifies a MIB module in a manner that is compliant to
      the SMIv2.  The set of objects is consistent with the SNMP
      framework and existing SNMP standards.

      This memo is a product of the IP Storage (IPS) working group

   Gibbons              Expires February 2003                       1

   Internet Draft              iFCP MIB                    August 2002

      within the Internet Engineering Task Force.  Comments are
      solicited and should be addressed to the working group's mailing
      list at ips@ece.cmu.edu and/or the authors.

Table of Contents


   Status of this Memo................................................1

   Copyright Notice...................................................1

   Abstract...........................................................1

   Table of Contents..................................................2

   1.  Introduction...................................................3

   2.  The SNMP Management Framework..................................3

   3.  Change Log.....................................................4

   4.  Overview.......................................................4

   5.  Technical Description..........................................5

   6.  MIB Definition.................................................5

   7.  Security Considerations.......................................20

   8.  References....................................................21

   8.  Authors∆ Addresses............................................22

   9.  Full Copyright Statement......................................23



















   Gibbons              Expires February 2003                       2

   Internet Draft              iFCP MIB                    August 2002


1.  Introduction

   The iFCP protocol provides Fibre Channel fabric functionality on an
   IP network in which TCP/IP switching and routing elements replace
   Fibre Channel components.  This draft provides a mechanism to
   monitor and control iFCP Gateway instances, and their associated
   sessions, using SNMP.

2.  The SNMP Management Framework

      The SNMP Management Framework presently consists of five major
      components:

       o   An overall architecture, described in RFC 2571 [RFC2571].

       o   Mechanisms for describing and naming objects and events for
           the purpose of management.  The first version of this
           Structure of Management Information (SMI) is called SMIv1
           and described in STD 16, RFC 1155 [RFC1155], STD 16, RFC
           1212 [RFC1212] and RFC 1215 [RFC1215].  The second version,
           called SMIv2, is described in STD 58, RFC 2578 [RFC2578],
           STD 58, RFC 2579 [RFC2579] and STD 58, RFC 2580 [RFC2580].

       o   Message protocols for transferring management information.
           The first version of the SNMP message protocol is called
           SNMPv1 and described in STD 15, RFC 1157 [RFC1157].  A
           second version of the SNMP message protocol, which is not an
           Internet standards track protocol, is called SNMPv2c and
           described in RFC 1901 [RFC1901] and RFC 1906 [RFC1906].  The
           third version of the message protocol is called SNMPv3 and
           described in RFC 1906 [RFC1906], RFC 2572 [RFC2572] and RFC
           2574 [RFC2574].

       o   Protocol operations for accessing management information.
           The first set of protocol operations and associated PDU
           formats is described in STD 15, RFC 1157 [RFC1157].  A
           second set of protocol operations and associated PDU formats
           is described in RFC 1905 [RFC1905].

       o   A set of fundamental applications described in RFC 2573
           [RFC2573] and the view-based access control mechanism
           described in RFC 2575 [RFC2575].

      A more detailed introduction to the current SNMP Management
      Framework can be found in RFC 2570 [RFC2570].

      Managed objects are accessed via a virtual information store,
      termed the Management Information Base or MIB.  Objects in the
      MIB are defined using the mechanisms defined in the SMI.

      This memo specifies a MIB module that is compliant to the SMIv2.
      A MIB conforming to the SMIv1 can be produced through the
      appropriate translations.  The resulting translated MIB must be

   Gibbons              Expires February 2003                       3

   Internet Draft              iFCP MIB                    August 2002

      semantically equivalent, except where objects or events are
      omitted because no translation is possible (use of Counter64).
      Some machine readable information in SMIv2 will be converted into
      textual descriptions in SMIv1 during the translation process.
      However, this loss of machine readable information is not
      considered to change the semantics of the MIB.

3.  Change Log

   This section is a summary of the changes made to the iFCP MIB during
   development and will be deleted prior to publication as an RFC.

         REVISION "0111010000Z"
         DESCRIPTION " v1.0 (11/01/01):
               The first IPS standard track version.
                     "

         REVISION "0205150000Z"
         DESCRIPTION " v1.1 (5/15/02):
               Updated references for FC ID and FC WWN.
               Added REFERENCES
                     "

         REVISION "0208280000Z"
         DESCRIPTION " v1.2 (8/28/02):
               Modified session table to allow creation
               Added iFCP device/gateway configuration
               Changed variables to use the term gateway instead of
                device in order to clarify the variables.
               Updated REFERENCES
                     "

4.  Overview

   The iFCP protocol can be used by FC to IP based storage gateways for
   FCP storage interconnects.  Figure 1 provides an example
   interconnect between iFCP gateways.

        Gateway Region                   Gateway Region
    +--------+  +--------+           +--------+  +--------+
    |   FC   |  |  FC    |           |   FC   |  |   FC   |
    | Device |  | Device |           | Device |  | Device |  Fibre
    |........|  |........| FC        |........|  |........|  Channel
    | N_PORT |  | N_PORT |<.........>| N_PORT |  | N_PORT |  Device
    +---+----+  +---+----+ Traffic   +----+---+  +----+---+  Domain
        |           |                     |           |         ^
    +---+----+  +---+----+           +----+---+  +----+---+     |
    | F_PORT |  | F_PORT |           | F_PORT |  | F_PORT |     |
   =+========+==+========+===========+========+==+========+==========
    |    iFCP Layer      |<--------->|     iFCP Layer     |     |
    |....................|     ^     |....................|     |
    |     iFCP Portal    |     |     |     iFCP Portal    |     v
    +--------+-----------+     |     +----------+---------+    IP
         iFCP|Gateway      Control          iFCP|Gateway      Network

   Gibbons              Expires February 2003                       4

   Internet Draft              iFCP MIB                    August 2002

             |              Data                |
             |                                  |
             |                                  |
             |<------Encapsulated Frames------->|
             |      +------------------+        |
             |      |                  |        |
             +------+    IP Network    +--------+
                    |                  |
                    +------------------+

   The iFCP MIB is designed to allow SNMP to be used to monitor and
   manage local iFCP gateway instances, including the configuration of
   iFCP sessions between gateways.

5.  Technical Description

   The MIB is divided into sections for iFCP local gateway instance
   management, iFCP session management, and iFCP session statistics.

   The section for iFCP gateway management provides default settings
   and information about each local instance.  A single management
   entity can monitor multiple local gateway instances.  Each local
   gateway is conceptually an independent gateway that has both Fibre
   Channel and IP interfaces.  Other standard MIBs, such as the Fibre
   Management MIB [FCMGT01], the Interfaces Group MIB [RFC2863] and MIB
   II [RFC1213] can be used to manage non-iFCP specific gateway
   parameters.  The local gateway instance section provides iFCP
   specific information as well as optional links to other standard
   management MIBs.

   The iFCP session management section provides information on iFCP
   sessions that are using one of the local iFCP gateway instances.
   This section allows the management of specific iFCP parameters.

   The iFCP session statistics section provides statistical information
   on the iFCP sessions that are using one of the local iFCP gateways.
   These tables augment the session management table.  Additional
   statistical information for an iFCP gateway or session, that is not
   iFCP specific, can be obtained using other standard MIBs.  The iFCP
   statistics are provided in both standard and low-capacity
   (counter32) methods.

6.  MIB Definition

   IFCP-MGMT-MIB DEFINITIONS ::= BEGIN
   --
   --  IETF iFCP Management Information Base (MIB)
   --
   IMPORTS
       MODULE-IDENTITY,
       OBJECT-TYPE,
       Counter32,
       Counter64,
       Integer32,

   Gibbons              Expires February 2003                       5

   Internet Draft              iFCP MIB                    August 2002

       Unsigned32,
       experimental
            FROM SNMPv2-SMI

       OBJECT-GROUP,
       MODULE-COMPLIANCE
            FROM SNMPv2-CONF

       TEXTUAL-CONVENTION,
       TruthValue
            FROM SNMPv2-TC

   --  From RFC 2571
       SnmpAdminString
              FROM SNMP-FRAMEWORK-MIB

   --  From RFC 2851
       InetAddressType,
       InetAddress
            FROM INET-ADDRESS-MIB

   --  From IETF Fibre Channel Management MIB, RFC TBD
       FcNameIdOrZero,
       FcAddressId
            FROM FC-MGMT-MIB
         ;

   ifcpMgmtMIB  MODULE-IDENTITY
         LAST-UPDATED "0208280000Z"
         ORGANIZATION "IETF IPS Working Group"
         CONTACT-INFO "
           Attn: Kevin Gibbons
                 Nishan Systems
                 3850 North First Street
                 San Jose, CA 95134
                 USA
                 Tel : +1 408 519-3700
                 email : kgibbons@nishansystems.com

                 Charles Monia
                 Nishan Systems
                 3850 North First Street
                 San Jose, CA 95134
                 USA
                 Tel : +1 408 519-3700
                 email : cmonia@nishansystems.com

                 Josh Tseng
                 Nishan Systems
                 3850 North First Street
                 San Jose, CA 95134
                 USA
                 Tel : +1 408 519-3700
                 email : jtseng@nishansystems.com

   Gibbons              Expires February 2003                       6

   Internet Draft              iFCP MIB                    August 2002


                 Franco Travostino
                 Nortel Networks
                 3 Federal Street
                 Billerica, MA  01821
                 USA
                 Tel : +1 978 288-7708
                 email : travos@nortelnetworks.com
                       "

         DESCRIPTION "The MIB for internet Fibre Channel Protocol
                      (iFCP) management."

         -- an IETF number has not yet been assigned
              ::=  {experimental 4371}

     IfIndexType      ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION    "Represents possible interface indexes that
                       can be used on the iFCP gateway.  This can
                       be used as an index for the IF-MIB ifTable,
                       if supported by the system, or other
                       interface table, to obtain additional
                       information about the interface."
       REFERENCE      "RFC 2863, The Interfaces Group MIB (IF-MIB)"
       SYNTAX         Integer32 (1..2147483647)

     IfcpVersionType  ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION    "Represents the iFCP version supported."
       SYNTAX         INTEGER (0..255)

     PortType         ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION    "The value for a TCP Port being used for
                       an iFCP session.  The canonical port for
                       iFCP is 3420."
       REFERENCE      "draft-ietf-ips-ifcp-13.txt"
       SYNTAX         INTEGER (0..65535)

     IpTOVor0Type     ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION    "The maximum propagation delay, in seconds, for
                       an encapsulated FC frame to traverse the IP
                       network. A value of 0 implies fibre channel
                       frame lifetime limits will not be enforced."
       REFERENCE      "draft-ietf-ips-ifcp-13.txt"
       SYNTAX         INTEGER (0..3600)

     LTIor0Type   ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION    "The value for the Liveness Test Interval (LTI)
                       being used in an iFCP connection, in seconds.
                       A value of 0 implies no Liveness Test Interval

   Gibbons              Expires February 2003                       7

   Internet Draft              iFCP MIB                    August 2002

                       will be used."
       REFERENCE      "draft-ietf-ips-ifcp-13.txt"
       SYNTAX         INTEGER (0..65535)

     IfcpSessionStateType ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION    "The value for an iFCP session state."
       SYNTAX         INTEGER {down(0), openPending(1), open(2)}

     IfcpAddressModeType ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION    "The values for iFCP Address Translation Mode."
       REFERENCE      "draft-ietf-ips-ifcp-13.txt"
       SYNTAX         INTEGER {addressTransparent(0),
                               addressTranslation(1)}

   --
   -- Internet Fibre Channel Protocol (iFCP)
   --

   ifcpGatewayObj          OBJECT IDENTIFIER ::= {ifcpMgmtMIB 1}
   ifcpGatewayConformance  OBJECT IDENTIFIER ::= {ifcpMgmtMIB 2}

   --
   -- Local iFCP Gateway Instance Information --------------------
   --

   ifcpLclGatewayObjInfo OBJECT IDENTIFIER ::= {ifcpGatewayObj 1}

   ifcpLclGtwyInstTable OBJECT-TYPE
       SYNTAX            SEQUENCE OF IfcpLclGtwyInstEntry
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
   "Information about all local iFCP Gateway instances that can be
    monitored and controled.  This table contains an entry for each
    local iFCP Gateway instance that is being managed."
       ::= {ifcpLclGatewayObjInfo 1}

   ifcpLclGtwyInstEntry OBJECT-TYPE
       SYNTAX            IfcpLclGtwyInstEntry
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
   "An entry in the local iFCP Gateway Instance table.
    Parameters and settings for the gateway are found here."
       INDEX { ifcpLclGtwyInstIndex }
       ::= {ifcpLclGtwyInstTable 1}

   IfcpLclGtwyInstEntry ::= SEQUENCE {
       ifcpLclGtwyInstIndex             Unsigned32,
       ifcpLclGtwyInstPhyIndex          Unsigned32,
       ifcpLclGtwyInstVersionMin        IfcpVersionType,
       ifcpLclGtwyInstVersionMax        IfcpVersionType,

   Gibbons              Expires February 2003                       8

   Internet Draft              iFCP MIB                    August 2002

       ifcpLclGtwyInstAddrTransMode     IfcpAddressModeType,
       ifcpLclGtwyInstFcBrdcstSupport   TruthValue,
       ifcpLclGtwyInstDefaultIpTOV      IpTOVor0Type,
       ifcpLclGtwyInstDefaultLTInterval LTIor0Type,
       ifcpLclGtwyInstDescr             SnmpAdminString,
       ifcpLclGtwyInstNumActiveSessions Unsigned32
                                     }

   ifcpLclGtwyInstIndex  OBJECT-TYPE
       SYNTAX            Unsigned32 (1..2147483647)
       MAX-ACCESS        not-accessible
       STATUS            current
       DESCRIPTION
   "An arbitrary integer value to uniquely identify this iFCP
    Gateway from other local Gateway instances."
       ::= {ifcpLclGtwyInstEntry      1}

   ifcpLclGtwyInstPhyIndex OBJECT-TYPE
       SYNTAX            Unsigned32 (0..2147483647)
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
   "An index indicating the location of this local gateway within
    a larger entity, if one exists.  If supported, this is the
    entPhysicalIndex from the Entity MIB (Version 2), for this iFCP
    Gateway.  If not supported it is either an index into a chassis
    MIB, as supported by the system, or 0."
       REFERENCE      "RFC 2737, Entity MIB (Version 2)"
       ::= {ifcpLclGtwyInstEntry      2}

   ifcpLclGtwyInstVersionMin OBJECT-TYPE
       SYNTAX            IfcpVersionType
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
   "The minimum iFCP protocol version supported by the local iFCP
    gateway instance."
       REFERENCE      "draft-ietf-ips-ifcp-13.txt"
       ::= {ifcpLclGtwyInstEntry      3}

   ifcpLclGtwyInstVersionMax OBJECT-TYPE
       SYNTAX            IfcpVersionType
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
   "The maximum iFCP protocol version supported by the local iFCP
    gateway instance."
       REFERENCE      "draft-ietf-ips-ifcp-13.txt"
       ::= {ifcpLclGtwyInstEntry      4}

   ifcpLclGtwyInstAddrTransMode OBJECT-TYPE
       SYNTAX            IfcpAddressModeType
       MAX-ACCESS        read-write
       STATUS            current

   Gibbons              Expires February 2003                       9

   Internet Draft              iFCP MIB                    August 2002

       DESCRIPTION
   "The local iFCP gateway operating mode.  Changing this value may
    cause existing sessions to be disrupted."
       DEFVAL            { addressTranslation }
       ::= {ifcpLclGtwyInstEntry      5}

   ifcpLclGtwyInstFcBrdcstSupport OBJECT-TYPE
       SYNTAX            TruthValue
       MAX-ACCESS        read-write
       STATUS            current
       DESCRIPTION
   "Whether the local iFCP gateway supports FC Broadcast.  Changing
    this value may cause existing sessions to be disrupted."
       DEFVAL            { false }
       ::= {ifcpLclGtwyInstEntry      6}

   ifcpLclGtwyInstDefaultIpTOV OBJECT-TYPE
       SYNTAX            IpTOVor0Type
       MAX-ACCESS        read-write
       STATUS            current
       DESCRIPTION
   "The default IP_TOV used for iFCP sessions at this gateway.
    This is the default maximum propagation delay that will be
    used for an iFCP session.  The value can be changed on a
    per-session basis.  The valid range is 0 - 3600 seconds.
    A value of 0 implies that fibre channel frame lifetime limits
    will not be enforced."
       DEFVAL            { 6 }
       ::= {ifcpLclGtwyInstEntry      7}

   ifcpLclGtwyInstDefaultLTInterval OBJECT-TYPE
       SYNTAX            LTIor0Type
       MAX-ACCESS        read-write
       STATUS            current
       DESCRIPTION
   "The default Liveness Test Interval (LTI), in seconds, used
    for iFCP sessions at this gateway.  This is the default
    value for an iFCP session and can be changed on a
    per-session basis.  The valid range is 0 - 65535 seconds.
    A value of 0 implies no Liveness Test Interval will be
    performed on a session."
       DEFVAL            { 10 }
       ::= {ifcpLclGtwyInstEntry      8}

   ifcpLclGtwyInstDescr  OBJECT-TYPE
       SYNTAX            SnmpAdminString (SIZE (0..64))
       MAX-ACCESS        read-write
       STATUS            current
       DESCRIPTION
   "A user entered description for this iFCP Gateway."
       DEFVAL            { "" }
       ::= {ifcpLclGtwyInstEntry      9}

   ifcpLclGtwyInstNumActiveSessions OBJECT-TYPE

   Gibbons              Expires February 2003                      10

   Internet Draft              iFCP MIB                    August 2002

       SYNTAX            Unsigned32 (0..4294967295)
       MAX-ACCESS        read-only
       STATUS            current
       DESCRIPTION
   "The current total number of iFCP sessions in the open or
    open-pending state."
       ::= {ifcpLclGtwyInstEntry      10}

   --
   -- iFCP N Port Session Information ------------------------------
   --

   ifcpNportSessionInfo     OBJECT IDENTIFIER ::= {ifcpGatewayObj 2}

   ifcpSessionAttributesTable OBJECT-TYPE
       SYNTAX                         SEQUENCE OF
                                       IfcpSessionAttributesEntry
       MAX-ACCESS                     not-accessible
       STATUS                         current
       DESCRIPTION
   "An iFCP session consists of the pair of N_PORTs comprising
    the session endpoints joined by a single TCP/IP connection.
    This table provides information on each iFCP session currently
    using a local iFCP Gateway instance.  iFCP sessions are created
    and removed by the iFCP Gateway instances, which are reflected
    in this table."
       ::= {ifcpNportSessionInfo 1}

   ifcpSessionAttributesEntry OBJECT-TYPE
       SYNTAX                         IfcpSessionAttributesEntry
       MAX-ACCESS                     not-accessible
       STATUS                         current
       DESCRIPTION
   "An entry in the session table."
       INDEX { ifcpLclGtwyInstIndex, ifcpSessionIndex }
       ::= {ifcpSessionAttributesTable 1}

   IfcpSessionAttributesEntry ::= SEQUENCE {
       ifcpSessionIndex               Integer32,
       ifcpSessionLclPrtlIfIndex      IfIndexType,
       ifcpSessionLclPrtlAddrType     InetAddressType,
       ifcpSessionLclPrtlAddr         InetAddress,
       ifcpSessionLclPrtlTcpPort      PortType,
       ifcpSessionLclNpWwun           FcNameIdOrZero,
       ifcpSessionLclNpFcid           FcAddressId,
       ifcpSessionRmtNpWwun           FcNameIdOrZero,
       ifcpSessionRmtPrtlIfAddrType   InetAddressType,
       ifcpSessionRmtPrtlIfAddr       InetAddress,
       ifcpSessionRmtPrtlTcpPort      PortType,
       ifcpSessionRmtNpFcid           FcAddressId,
       ifcpSessionRmtNpFcidAlias      FcAddressId,
       ifcpSessionIpTOV               IpTOVor0Type,
       ifcpSessionLclLTIntvl          LTIor0Type,
       ifcpSessionRmtLTIntvl          LTIor0Type,

   Gibbons              Expires February 2003                      11

   Internet Draft              iFCP MIB                    August 2002

       ifcpSessionBound               TruthValue
                                          }

   ifcpSessionIndex                   OBJECT-TYPE
       SYNTAX                         Integer32 (1..2147483647)
       MAX-ACCESS                     not-accessible
       STATUS                         current
       DESCRIPTION
   "The iFCP session index is a unique value used as an index
    to the table, along with a specific local iFCP Gateway instance.
    This index is used because the local N Port and remote N Port
    information would create an complex index that would be
    difficult to implement."
       ::= {ifcpSessionAttributesEntry 1}

   ifcpSessionLclPrtlIfIndex          OBJECT-TYPE
       SYNTAX                         IfIndexType
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "This is the local interface in the ifTable being used as the
    local portal in this session, as described in the IF-MIB.
    This can be used as an index for the ifTable to obtain
    additional information about the interface."
       REFERENCE      "RFC 2863, The Interfaces Group MIB (IF-MIB)"
       ::= {ifcpSessionAttributesEntry 2}

   ifcpSessionLclPrtlAddrType         OBJECT-TYPE
       SYNTAX                         InetAddressType
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The type of address in ifcpSessionLclIfAddr."
       ::= {ifcpSessionAttributesEntry 3}

   ifcpSessionLclPrtlAddr             OBJECT-TYPE
       SYNTAX                         InetAddress
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "This is the external IP address of the interface being used
    for the iFCP local portal in this session."
       ::= {ifcpSessionAttributesEntry 4}

   ifcpSessionLclPrtlTcpPort          OBJECT-TYPE
       SYNTAX                         PortType
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "This is the TCP port number that is being used for the iFCP
    local portal in this session.  This is normally an ephemeral
    port number selected by the gateway."
       ::= {ifcpSessionAttributesEntry 5}


   Gibbons              Expires February 2003                      12

   Internet Draft              iFCP MIB                    August 2002

   ifcpSessionLclNpWwun               OBJECT-TYPE
       SYNTAX                         FcNameIdOrZero
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "World Wide Unique Name of the local N Port.  For an unbound
    session this variable will be empty."
       DEFVAL                         { "" }
       ::= {ifcpSessionAttributesEntry 6}

   ifcpSessionLclNpFcid               OBJECT-TYPE
       SYNTAX                         FcAddressId
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "Fibre Channel Identifier of the local N Port.  For an unbound
    session this variable will be empty"
       ::= {ifcpSessionAttributesEntry 7}

   ifcpSessionRmtNpWwun               OBJECT-TYPE
       SYNTAX                         FcNameIdOrZero
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "World Wide Unique Name of the remote N Port.  For an unbound
    session this variable will be empty."
       DEFVAL                         { "" }
       ::= {ifcpSessionAttributesEntry 8}

   ifcpSessionRmtPrtlIfAddrType       OBJECT-TYPE
       SYNTAX                         InetAddressType
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The type of address in ifcpSessionRmtPrtlIfAddr."
       ::= {ifcpSessionAttributesEntry 9}

   ifcpSessionRmtPrtlIfAddr           OBJECT-TYPE
       SYNTAX                         InetAddress
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "This is the remote gateway IP address being used for the portal
    on the remote iFCP gateway."
       ::= {ifcpSessionAttributesEntry 10}

   ifcpSessionRmtPrtlTcpPort          OBJECT-TYPE
       SYNTAX                         PortType
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "This is the TCP port number being used for the portal on the
    remote iFCP gateway.  Generally, this will be the iFCP canonical
    port."

   Gibbons              Expires February 2003                      13

   Internet Draft              iFCP MIB                    August 2002

       DEFVAL                         { 3420 }
       ::= {ifcpSessionAttributesEntry 11}

   ifcpSessionRmtNpFcid               OBJECT-TYPE
       SYNTAX                         FcAddressId
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "Fibre Channel Identifier of the remote N Port.  For an unbound
    session this variable will be empty."
       ::= {ifcpSessionAttributesEntry 12}

   ifcpSessionRmtNpFcidAlias          OBJECT-TYPE
       SYNTAX                         FcAddressId
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "Fibre Channel Identifier Alias assigned by the local gateway
    for the remote N Port.  For an unbound session this variable
    will be empty."
       ::= {ifcpSessionAttributesEntry 13}

   ifcpSessionIpTOV                   OBJECT-TYPE
       SYNTAX                         IpTOVor0Type
       MAX-ACCESS                     read-write
       STATUS                         current
       DESCRIPTION
   "The IP_TOV being used for this iFCP session.  This is the
    maximum propagation delay that will be used for the iFCP
    session.  The value can be changed on a per-session basis
    and initially defaults to ifcpLclGtwyInstDefaultIpTOV for
    the local gateway instance. The valid range is 0 - 3600
    seconds. A value of 0 implies fibre channel frame lifetime
    limits will not be enforced."
       ::= {ifcpSessionAttributesEntry 14}

   ifcpSessionLclLTIntvl              OBJECT-TYPE
       SYNTAX                         LTIor0Type
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The Liveness Test Interval (LTI) used for this iFCP session.
    The value can be changed on a per-session basis and initially
    defaults to ifcpLclGtwyInstDefaultLTInterval for the local
    gateway instance.  The valid range is 0 - 65535 seconds.
    A value of 0 implies that the gateway will not originate
    Liveness Test messages for the session."
       ::= {ifcpSessionAttributesEntry 15}

   ifcpSessionRmtLTIntvl              OBJECT-TYPE
       SYNTAX                         LTIor0Type
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION

   Gibbons              Expires February 2003                      14

   Internet Draft              iFCP MIB                    August 2002

   "The Liveness Test Interval (LTI) as requested by the remote
    gateway instance to use for this iFCP session.  This value may
    change over the life of the session. The valid range is 0 -
    65535 seconds.  A value of 0 implies that the remote gateway has
    not been requested to originate Liveness Test messages for the
    session."
       ::= {ifcpSessionAttributesEntry 16}

   ifcpSessionBound                   OBJECT-TYPE
       SYNTAX                         TruthValue
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "This value indicates whether this session is bound to a specific
    local and remote N Port.  Sessions by default are unbound and ready
    for future assignment to a local and remote N Port."
       ::= {ifcpSessionAttributesEntry 17}

   --
   -- Local iFCP Gateway Instance Session Statistics ------------------
   --

   ifcpSessionStatsTable              OBJECT-TYPE
       SYNTAX                         SEQUENCE OF IfcpSessionStatsEntry
       MAX-ACCESS                     not-accessible
       STATUS                         current
       DESCRIPTION
   "This table provides statistics on an iFCP session."
       ::= {ifcpNportSessionInfo 2}

   ifcpSessionStatsEntry              OBJECT-TYPE
       SYNTAX                         IfcpSessionStatsEntry
       MAX-ACCESS                     not-accessible
       STATUS                         current
       DESCRIPTION
   "iFCP specific statistics per session."
       AUGMENTS {ifcpSessionAttributesEntry}
       ::= {ifcpSessionStatsTable 1}

   IfcpSessionStatsEntry ::= SEQUENCE {
       ifcpSessionState               IfcpSessionStateType,
       ifcpSessionDuration            Unsigned32,
       ifcpSessionTxFrames            Counter64,
       ifcpSessionRxFrames            Counter64,
       ifcpSessionStaleFrames         Counter64,
       ifcpSessionHeaderCRCErrors     Counter64,
       ifcpSessionFcPayloadCRCErrors  Counter64,
       ifcpSessionOtherErrors         Counter64
                                      }

   ifcpSessionState                   OBJECT-TYPE
       SYNTAX                         IfcpSessionStateType
       MAX-ACCESS                     read-only
       STATUS                         current

   Gibbons              Expires February 2003                      15

   Internet Draft              iFCP MIB                    August 2002

       DESCRIPTION
   "The current session operating state."
       ::= {ifcpSessionStatsEntry 1}

   ifcpSessionDuration                OBJECT-TYPE
       SYNTAX                         Unsigned32 (0..4294967295)
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "This indicates, in seconds, how long the iFCP session has
    been in an open or open-pending state.  When a session is
    down the value is reset to 0."
       ::= {ifcpSessionStatsEntry 2}

   ifcpSessionTxFrames                OBJECT-TYPE
       SYNTAX                         Counter64
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of iFCP frames transmitted since the
    connection was first established."
       ::= {ifcpSessionStatsEntry 3}

   ifcpSessionRxFrames                OBJECT-TYPE
       SYNTAX                         Counter64
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of iFCP frames received since the
    connection was first established."
       ::= {ifcpSessionStatsEntry 4}

   ifcpSessionStaleFrames             OBJECT-TYPE
       SYNTAX                         Counter64
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of received iFCP frames that were stale and
    discarded since the connection was first established."
       ::= {ifcpSessionStatsEntry 5}

   ifcpSessionHeaderCRCErrors         OBJECT-TYPE
       SYNTAX                         Counter64
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of CRC errors that occurred in the frame
    header, detected since the connection was first established.
    Usually, a single Header CRC error is sufficient to
    terminate an iFCP session."
       ::= {ifcpSessionStatsEntry 6}

   ifcpSessionFcPayloadCRCErrors      OBJECT-TYPE
       SYNTAX                         Counter64

   Gibbons              Expires February 2003                      16

   Internet Draft              iFCP MIB                    August 2002

       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of CRC errors that occurred in the Fibre
    Channel frame payload detected since the connection was first
    established."
       ::= {ifcpSessionStatsEntry 7}

   ifcpSessionOtherErrors             OBJECT-TYPE
       SYNTAX                         Counter64
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of errors, other then errors explicitly
    measured, detected since the connection was first established."
       ::= {ifcpSessionStatsEntry 8}

   --
   -- Low Capacity Statistics
   --

   ifcpSessionLcStatsTable            OBJECT-TYPE
       SYNTAX                         SEQUENCE OF
   IfcpSessionLcStatsEntry
       MAX-ACCESS                     not-accessible
       STATUS                         current
       DESCRIPTION
   "This table provides low capacity statistics on an iFCP session.
    This is provided for backward compatibility with systems that do
    not support Counter64."
       ::= {ifcpNportSessionInfo 3}

   ifcpSessionLcStatsEntry            OBJECT-TYPE
       SYNTAX                         IfcpSessionLcStatsEntry
       MAX-ACCESS                     not-accessible
       STATUS                         current
       DESCRIPTION
   "iFCP specific statistics per session."
       AUGMENTS {ifcpSessionAttributesEntry}
       ::= {ifcpSessionLcStatsTable 1}

   IfcpSessionLcStatsEntry ::= SEQUENCE {
       ifcpSessionLcTxFrames            Counter32,
       ifcpSessionLcRxFrames            Counter32,
       ifcpSessionLcStaleFrames         Counter32,
       ifcpSessionLcHeaderCRCErrors     Counter32,
       ifcpSessionLcFcPayloadCRCErrors  Counter32,
       ifcpSessionLcOtherErrors         Counter32
                                      }

   ifcpSessionLcTxFrames              OBJECT-TYPE
       SYNTAX                         Counter32
       MAX-ACCESS                     read-only
       STATUS                         current

   Gibbons              Expires February 2003                      17

   Internet Draft              iFCP MIB                    August 2002

       DESCRIPTION
   "The total number of iFCP frames transmitted since the
    connection was first established."
       ::= {ifcpSessionLcStatsEntry 1}

   ifcpSessionLcRxFrames              OBJECT-TYPE
       SYNTAX                         Counter32
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of iFCP frames received since the
    connection was first established."
       ::= {ifcpSessionLcStatsEntry 2}

   ifcpSessionLcStaleFrames           OBJECT-TYPE
       SYNTAX                         Counter32
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of received iFCP frames that were stale and
    discarded since the connection was first established."
       ::= {ifcpSessionLcStatsEntry 3}

   ifcpSessionLcHeaderCRCErrors       OBJECT-TYPE
       SYNTAX                         Counter32
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of CRC errors that occurred in the frame
    header, detected since the connection was first established.
    Usually, a single Header CRC error is sufficient to
    terminate an iFCP session."
       ::= {ifcpSessionLcStatsEntry 4}

   ifcpSessionLcFcPayloadCRCErrors    OBJECT-TYPE
       SYNTAX                         Counter32
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of CRC errors that occurred in the Fibre
    Channel frame payload detected since the connection was first
    established."
       ::= {ifcpSessionLcStatsEntry 5}

   ifcpSessionLcOtherErrors           OBJECT-TYPE
       SYNTAX                         Counter32
       MAX-ACCESS                     read-only
       STATUS                         current
       DESCRIPTION
   "The total number of errors, other then errors explicitly
    measured, detected since the connection was first established."
       ::= {ifcpSessionLcStatsEntry 6}

   ------------------------------------------------------------

   Gibbons              Expires February 2003                      18

   Internet Draft              iFCP MIB                    August 2002


   ifcpGroups OBJECT IDENTIFIER ::= {ifcpGatewayConformance 1}

   ifcpLclGatewayGroup OBJECT-GROUP
       OBJECTS {
       ifcpLclGtwyInstPhyIndex,
       ifcpLclGtwyInstVersionMin,
       ifcpLclGtwyInstVersionMax,
       ifcpLclGtwyInstAddrTransMode,
       ifcpLclGtwyInstFcBrdcstSupport,
       ifcpLclGtwyInstDefaultIpTOV,
       ifcpLclGtwyInstDefaultLTInterval,
       ifcpLclGtwyInstDescr,
       ifcpLclGtwyInstNumActiveSessions
              }
       STATUS current
       DESCRIPTION
           "iFCP local device info group"
       ::= {ifcpGroups 1}

   ifcpLclGatewaySessionGroup OBJECT-GROUP
       OBJECTS {
       ifcpSessionLclPrtlIfIndex,
       ifcpSessionLclPrtlAddrType,
       ifcpSessionLclPrtlAddr,
       ifcpSessionLclPrtlTcpPort,
       ifcpSessionLclNpWwun,
       ifcpSessionLclNpFcid,
       ifcpSessionRmtNpWwun,
       ifcpSessionRmtPrtlIfAddrType,
       ifcpSessionRmtPrtlIfAddr,
       ifcpSessionRmtPrtlTcpPort,
       ifcpSessionRmtNpFcid,
       ifcpSessionRmtNpFcidAlias,
       ifcpSessionIpTOV,
       ifcpSessionLclLTIntvl,
       ifcpSessionRmtLTIntvl,
       ifcpSessionBound
              }
       STATUS current
       DESCRIPTION
           "iFCP Session group"
       ::= {ifcpGroups 4}

   ifcpLclGatewaySessionStatsGroup OBJECT-GROUP
       OBJECTS {
       ifcpSessionState,
       ifcpSessionDuration,
       ifcpSessionTxFrames,
       ifcpSessionRxFrames,
       ifcpSessionStaleFrames,
       ifcpSessionHeaderCRCErrors,
       ifcpSessionFcPayloadCRCErrors,
       ifcpSessionOtherErrors

   Gibbons              Expires February 2003                      19

   Internet Draft              iFCP MIB                    August 2002

              }
       STATUS current
       DESCRIPTION
           "iFCP Session Statistics group"
       ::= {ifcpGroups 5}

   ifcpLclGatewaySessionLcStatsGroup OBJECT-GROUP
       OBJECTS {
       ifcpSessionLcTxFrames,
       ifcpSessionLcRxFrames,
       ifcpSessionLcStaleFrames,
       ifcpSessionLcHeaderCRCErrors,
       ifcpSessionLcFcPayloadCRCErrors,
       ifcpSessionLcOtherErrors
              }
       STATUS current
       DESCRIPTION
           "iFCP Session Low Capacity Statistics group"
       ::= {ifcpGroups 6}

   ifcpCompliances OBJECT IDENTIFIER ::= {ifcpGatewayConformance 2}

   ifcpGatewayComplianceV1 MODULE-COMPLIANCE
       STATUS current
       DESCRIPTION
   "Minimum implementation for iFCP MIB compliance."
       MODULE       -- this module
       MANDATORY-GROUPS {
           ifcpLclGatewayGroup
                        }
       ::= {ifcpCompliances 1}

   END

7.  Security Considerations

      There are a number of management objects defined in this MIB that
      have a MAX-ACCESS clause of read-write and/or read-create.  Such
      objects may be considered sensitive or vulnerable in some network
      environments.  The support for SET operations in a non-secure
      environment without proper protection can have a negative effect
      on network operations.

      SNMPv1 by itself is not a secure environment.  Even if the
      network itself is secure (for example by using IPSec), even then,
      there is no control as to who on the secure network is allowed to
      access and GET/SET (read/change/create/delete) the objects in
      this MIB.

      It is recommended that the implementers consider the security
      features as provided by the SNMPv3 framework.  Specifically, the
      use of the User-based Security Model RFC 2574 [RFC2574] and the
      View-based Access Control Model RFC 2575 [RFC2575] is
      recommended.

   Gibbons              Expires February 2003                      20

   Internet Draft              iFCP MIB                    August 2002


      It is then a customer/user responsibility to ensure that the SNMP
      entity giving access to an instance of this MIB, is properly
      configured to give access to the objects only to those principals
      (users) that have legitimate rights to indeed GET or SET
      (change/create/delete) them.

8.  References

   [IFCP001]   Charles Monia, Rod Mullendore, Franco Travostino,
               Wayland Jeong, Mark Edwards, "iFCP - A Protocol for
               Internet Fibre Channel Storage Networking", <draft-ietf-
               ips-ifcp-13.txt>, Expires February 2003

   [ISNS001]   Josh Tseng, Kevin Gibbons, Franco Travostino, Curt Du
               Laney, Joe Souza "iSNS Internet Storage Name Service",
               <draft-ietf-ips-isns-12.txt>, Expires February 2003

   [FCMGT01]   Keith McCloghrie, "Fibre Channel Management MIB",
               <draft-ietf-ips-fcmgmt-mib-02.txt>, Expires December
               2002

   [RFC2863]   McCloghrie, K., Kastenholz, F., "The Interfaces Group
               MIB (IF-MIB)", RFC 2863, June 2000.

   [RFC2737]   McCloghrie, K., Bierman, A., "Entity MIB (Version 2)",
               RFC 2737, December 1999.

   [RFC2851]   M. Daniele, B. Haberman, S. Routhier, J. Schoenwaelder
               "Textual Conventions for Internet Network Addresses",
               RFC 2851, June 2000.

   [T11FCGS3]  Fibre Channel - Generic Services 3, NCITS 348-2000.

   [RFC2571]   Harrington, D., Presuhn, R., and B. Wijnen, "An
               Architecture for Describing SNMP Management Frameworks",
               RFC 2571, April 1999.

   [RFC1155]   Rose, M., and K. McCloghrie, "Structure and
               Identification of Management Information for TCP/IP-
               based Internets", STD 16, RFC 1155, May 1990.

   [RFC1212]   Rose, M., and K. McCloghrie, "Concise MIB Definitions",
               STD 16, RFC 1212, March 1991.

   [RFC1215]   M. Rose, "A Convention for Defining Traps for use with
               the SNMP", RFC 1215, March 1991.

   [RFC2578]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case,
               J., Rose, M., and S. Waldbusser, "Structure of
               Management Information Version 2 (SMIv2)", STD 58, RFC
               2578, April 1999.

   [RFC2579]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case,

   Gibbons              Expires February 2003                      21

   Internet Draft              iFCP MIB                    August 2002

               J., Rose, M., and S. Waldbusser, "Textual Conventions
               for SMIv2", STD 58, RFC 2579, April 1999.

   [RFC2580]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case,
               J., Rose, M., and S. Waldbusser, "Conformance Statements
               for SMIv2", STD 58, RFC 2580, April 1999.

   [RFC1157]   Case, J., Fedor, M., Schoffstall, M., and J. Davin,
               "Simple Network Management Protocol", STD 15, RFC 1157,
               May 1990.

   [RFC1901]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
               "Introduction to Community-based SNMPv2", RFC 1901,
               January 1996.

   [RFC1906]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
               "Transport Mappings for Version 2 of the Simple Network
               Management Protocol (SNMPv2)", RFC 1906, January 1996.

   [RFC2572]   Case, J., Harrington D., Presuhn R., and B. Wijnen,
               "Message Processing and Dispatching for the Simple
               Network Management Protocol (SNMP)", RFC 2572, April
               1999.

   [RFC2574]   Blumenthal, U., and B. Wijnen, "User-based Security
               Model (USM) for version 3 of the Simple Network
               Management Protocol (SNMPv3)", RFC 2574, April 1999.

   [RFC1905]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
               "Protocol Operations for Version 2 of the Simple Network
               Management Protocol (SNMPv2)", RFC 1905, January 1996.

   [RFC2573]   Levi, D., Meyer, P., and B. Stewart, "SNMPv3
               Applications", RFC 2573, April 1999.

   [RFC2575]   Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based
               Access Control Model (VACM) for the Simple Network
               Management Protocol (SNMP)", RFC 2575, April 1999.

   [RFC2570]   Case, J., Mundy, R., Partain, D., and B. Stewart,
               "Introduction to Version 3 of the Internet-standard
               Network Management Framework", RFC 2570, April 1999.

8.  Authors∆ Addresses

          Kevin Gibbons
          E-mail: kgibbons@NishanSystems.com,
          Charles Monia
          E-mail: cmonia@NishanSystems.com,
          Josh Tseng
          E-mail: jtseng@NishanSystems.com,
          Postal: Nishan Systems
          3850 North First Street
          San Jose, CA 95134-1702

   Gibbons              Expires February 2003                      22

   Internet Draft              iFCP MIB                    August 2002

          USA

          Tel: (408) 519-3700
          Fax: (408) 519-3705



          Franco Travostino
          Nortel Networks
          3 Federal Street
          Billerica, MA  01821
          USA

          Tel: (978) 288-7708

          E-mail: travos@nortelnetworks.com

9.  Full Copyright Statement

      "Copyright (C) The Internet Society 2002. All Rights Reserved.
      This document and translations of it may be copied and furnished
      to others, and derivative works that comment on or otherwise
      explain it or assist in its implementation may be prepared,
      copied, published and distributed, in whole or in part, without
      restriction of any kind, provided that the above copyright notice
      and this paragraph are included on all such copies and derivative
      works. However, this document itself may not be modified in any
      way, such as by removing the copyright notice or references to
      the Internet Society or other Internet organizations, except as
      needed for the purpose of developing Internet standards in which
      case the procedures for copyrights defined in the Internet
      Standards process must be followed, or as required to translate
      it into languages other than English.

      The limited permissions granted above are perpetual and will not
      be revoked by the Internet Society or its successors or assigns.

      This document and the information contained herein is provided on
      An "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET
      ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
      IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE
      OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
      IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
      PURPOSE."











   Gibbons              Expires February 2003                      23
