CCAMP Working Group                                              Y. Lee
Internet Draft                                                 H. Zheng
Intended Status: Standard Track                                 I. Busi
                                                                 Huawei
Expires: October 9, 2019
                                                               N. Sambo
                                             Scuola Superiore Sant'Anna

                                                               V. Lopez
                                                             Telefonica

                                                          G. Galimberti
                                                          G. Martinelli
                                                                  Cisco

                                                          Jean Luc Auge
                                                        Ester LE Rouzic
                                                          Julien Meuric
                                                                 Orange

                                                              D. Beller
                                                             S. Belotti
                                                             E. Griseri
                                                                  Nokia

                                                           Gert Grammel
                                                                Juniper


                                                          April 9, 2019

          A Yang Data Model for Optical Impairment-aware Topology


           draft-ietf-ccamp-optical-impairment-topology-yang-00


Abstract

   In order to provision an optical connection through optical
   networks, a combination of path continuity, resource availability,
   and impairment constraints must be met to determine viable and
   optimal paths through the network. The determination of appropriate
   paths is known as Impairment-Aware Routing and Wavelength Assignment
   (IA-RWA) for WSON, while it is known as Impairment-Aware Routing and
   Spectrum Assigment (IA-RSA) for SSON.

   This document provides a YANG data model for the impairment-aware TE
   topology in optical networks.



Lee, et al.              Expires October 2019                  [Page 1]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019




Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with
   the provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on October 9, 2019.

Copyright Notice



   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.



   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document.  Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Table of Contents




Lee, et al.              Expires October 2019                  [Page 2]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   1. Introduction...................................................3
      1.1. Terminology...............................................4
      1.2. Tree diagram..............................................4
      1.3. Prefixes in Data Node Names...............................5
   2. Reference Architecture.........................................6
      2.1. Control Plane Architecture................................6
      2.2. Transport Data Plane......................................7
      2.3. OMS Media Links...........................................7
         2.3.1. Optical Tributary Signal Group (OTSiG)...............8
      2.4. Amplifiers................................................9
         2.4.1. In-Line Amplifier...................................10
      2.5. Transponders.............................................10
      2.6. WSS/Filter...............................................10
      2.7. Optical Fiber............................................10
   3. YANG Model (Tree Structure)...................................11
   4. Optical Impairment Topology YANG Model........................12
   5. Security Considerations.......................................31
   6. IANA Considerations...........................................31
   7. Acknowledgments...............................................32
   8. References....................................................33
      8.1. Normative References.....................................33
      8.2. Informative References...................................33
   9. Contributors..................................................34
   Authors' Addresses...............................................34

1. Introduction

   In order to provision an optical connection (an optical path)
   through a wavelength switched optical networks (WSONs) or spectrum
   switched optical networks (SSONs), a combination of path continuity,
   resource availability, and impairment constraints must be met to
   determine viable and optimal paths through the network. The
   determination of appropriate paths is known as Impairment-Aware
   Routing and Wavelength Assignment (IA-RWA) [RFC6566] for WSON, while
   it is known as IA-Routing and Spectrum Assigment (IA-RSA) for SSON.

   This document provides a YANG data model for the impairment-aware
   Traffic Engineering (TE) topology in WSONs and SSONs. The YANG model
   described in this document is a WSON/SSON technology-specific Yang
   model based on the information model developed in [RFC7446] and the
   two encoding documents [RFC7581] and [RFC7579] that developed
   protocol independent encodings based on [RFC7446].

   The intent of this document is to provide a Yang data model, which
   can be utilized by a Multi-Domain Service Coordinator (MDSC) to
   collect states of WSON impairment data from the Transport PNCs to
   enable impairment-aware optical path computation according to the


Lee, et al.              Expires October 2019                  [Page 3]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   ACTN Architecture [RFC8453]. The communication between controllers
   is done via a NETCONF [RFC8341]. Similarly, this model can also be
   exported by the MDSC to a Customer Network Controller (CNC), which
   can run an offline planning process to map latter the services in
   the network.

   This document augments the generic TE topology draft [TE-TOPO] where
   possible.

   This document defines one YANG module: ietf-optical-impairment-
   topology (Section 3) according to the new Network Management
   Datastore Architecture [RFC8342].

1.1. Terminology

   Refer to [RFC4847] and [RFC5253] for the key terms used in this
   document.

   The following terms are defined in [RFC7950] and are not redefined
   here:

   o client

   o server

   o augment

   o data model

   o data node

   The following terms are defined in [RFC6241] and are not redefined
   here:

   o  configuration data

   o  state data

   The terminology for describing YANG data models is found in
   [RFC7950].

1.2. Tree diagram

   A simplified graphical representation of the data model is used in
   Section 2 of this this document.  The meaning of the symbols in
   these diagrams is defined in [RFC8340].



Lee, et al.              Expires October 2019                  [Page 4]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


1.3. Prefixes in Data Node Names

   In this document, names of data nodes and other data model objects
   are prefixed using the standard prefix associated with the
   corresponding YANG imported modules, as shown in Table 1.

   +------------------+----------------------------------+------------+
   | Prefix           | YANG module                      | Reference  |
   +------------------+----------------------------------+------------+
   | optical-imp-topo | ietf-optical-impairment-topology | [RFC XXXX] |
   | layer0-types     | ietf-layer0-types                | [WSON-topo]|
   | nw               | ietf-network                     | [RFC8345]  |
   | nt               | ietf-network-topology            | [RFC8345]  |
   | tet              | ietf-te-topology                 | [TE-TOPO]  |
   +------------------+----------------------------------+------------+

             Table 1: Prefixes and corresponding YANG modules

   Note: The RFC Editor will replace XXXX with the number assigned to
   the RFC once this draft becomes an RFC.





























Lee, et al.              Expires October 2019                  [Page 5]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


2. Reference Architecture

2.1. Control Plane Architecture

   Figure 1 shows the control plane architecture.


























                   Figure 1. Control Plane Architecture



   The models developed in this document is an abstracted Yang model
   that may be used in the interfaces colored in yellow in Figure 1. It
   is not intended to support detailed device congiuration model.
   Device configuration model is supported by the models presented in
   [draft-ietf-ccamp-dwdm-if-parameter-yang].









Lee, et al.              Expires October 2019                  [Page 6]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


2.2. Transport Data Plane

   This section provides the description of the reference optical
   network architecture and its relevant components to support optical
   impairment-aware path computation.

   Figure 2 shows the reference architecture.



      +-------------------+                                    +-------------------+
      |     ROADM Node    |                                    |     ROADM Node    |
      |                   |                                    |                   |
      | PA  +-------+ BA  |          ILA         ILA           | PA  +-------+ BA  |
      | +-+ |  WSS/ | +-+ |  _____   +--+  ____  +--+  _____   | +-+ |  WSS/ | +-+ |
   ---|-| |-|Filter |-| |-|-()____)--|  |-()___)-|  |-()____)--|-| |-|Filter |-| |-|---
      | +-+ |       | +-+ |          +--+        +--+          | +-+ |       | +-+ |
      |     +-------+     |  optical                           |     +-------+     |
      |       | | |       |   fiber                            |       | | |       |
      |       | | |       |                                    |       | | |       |
      |       o-o-o       |                                    |       o-o-o       |
      |    transponders   |                                    |    transponders   |
      +-------------------+                                    +-------------------+
                           OTS Link      OTS Link     OTS Link
                          ----------->   -------->   ----------->

                                         OMS Link
                      ---------------------------------------------->


   PA: Pre-Amplifier
   BA: Booster Amplifier
   ILA: In-Line Amplifier

      Figure 2. Reference Architecture for Optical Transport Network

   BA (on the left side ROADM) is the ingress Amplifier and PA (on the
   right side ROADM is the egress amplifier for the OMS link shown in
   the Figure.

2.3. OMS Media Links

   According to [G.872], OMS Media Link represents a media link between
   two ROADM. Specifically, it originates at the ROADM's Filter in the
   source ROADM and terminates at the ROADM's Filter in the destination
   ROADM.

   OTS Media Link represents a media link:



Lee, et al.              Expires October 2019                  [Page 7]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   (i)   between ROADM's BA and ILA;
   (ii)  between a pair of ILAs;
   (iii) between ILA and ROADM's PA.

   OMS Media link can be decomposed of a number of elements, which are
   basically OTS links type (i), (ii), and (iii) as discussed above.
   OMS Media link would give an abstracted view of impairment data
   (e.g., power, OSNR, etc.) to the network controller.

2.3.1. Optical Tributary Signal Group (OTSiG)

   The Media Channel and Network Media Channel are well modelled by the
   RFC7698, RFC7699 and RFC7792 reflecting the ITU-T Recommendations
   G.694.1 and G.698.2.

   Some work is in progress in ITU-T SG15/Q12 to define Network Media
   Channel (group) that is capable of accommodating  the optical
   tributary signals (OTSi) belonging to optical tributary signal group
   (OTSiG). ( see new ITU-T Draft Recommendation G.807)).

   Currently, no models exist (in the IETF nor ITU-T SG15) that define
   how the optical tributary signals are described inside the Network
   Media Channel Group in terms of OTSi identifier, OTSi carrier
   frequency and OTSi signal width.

   There are several options how the mentioned parameters can be
   described. One option is to use the description defined in draft-
   ggalimbe-ccamp-flexigrid-carrier-label.

   A second option is to describe the OTsi carrier frequency relative
   to the anchor frequency 193.1THz based on a well-defined granularity
   (e.g. OTSi carrier frequency = 193100 (GHz) + K * granularity (GHz)
   where K is a signed integer value).

   A third option is to explicitly describe the OTSi carrier frequency
   and the OTSi signal width in GHz with a certain accuracy.

   It is proposed to use the third option which is independent of the
   n, m values alredy define in ITU-T Recommendation G.694.1.

   The OTSi carrier frequency is described in GHz with 3 fractional
   digits (decimal 64 fraction digits 3).






Lee, et al.              Expires October 2019                  [Page 8]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   The OTSi signal width is described  in GHz with 3 fractional digits
   (decimal 64 fraction digits 3) and includes the signal roll off as
   well as some guard band.

   The accuracy of 0.001 GHz does not impose a requirement on the
   optical transceiver components (optical transmitter) in terms of
   carrier frequency tuneability precision. Today's components
   typically provide a tunability precision in the range of 1..1.5GHz
   (carrier frequency offset compared to the configured nominal carrier
   frequency). Future components may provide a better precision as
   technology evolves.

   If needed, a controller may retrieve the transceiver  properties in
   terms of carrier frequency tuneability precision in order to be
   capable of properly configuring the underlying transceiver.



   [Note from the Editor]:

   As this description is arbitrarily proposed by the authors to cover
   a lack of information in IETF and ITU-T, a liaison request to ITU-T
   is needed.

   The authors are willing to contribute to Liaison editing and to
   consider any feedback and proposal from ITU-T.



2.4. Amplifiers

   There are three basic types of amplifiers. ILA is In-Line Amplifier
   which is a separate node type while Pre-Amplifier and Booster
   Amplifier are integral elements of ROADM node. From a data modeling
   perspective, Pre-Amplifier and Booster Amplifier are internal
   functions of a ROADM node and as such these elements are hidden
   within ROADM node. In this document, we would avoid internal node
   details, but attempt to abstract as much as possible.

   One modeling consideration of the ROADM internal is to model power
   parameter through the ROADM, factoring the output power from the
   Pre-Amplifier minus the ROADM power loss would give the input power
   to the Booster Amplifier. In other words, Power_in (@ ROADM Booster)




Lee, et al.              Expires October 2019                  [Page 9]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   = Power_out (@ ROADM Pre-Amplifier) - Power_loss (@ ROADM
   WSS/Filter).


2.4.1. In-Line Amplifier

   (Need to explain details including VOA)


2.5. Transponders

   A Transponder is the element that sends and receives the optical
   signal from a fiber. A transponder is typically characterized by its
   data rate and the maximum distance the signal can travel. Channel
   frequency, per channel input power, FEC and Modulation are also
   associated with a transponder. From a path computation point of
   view, the selection of the compatible source and destination
   transponders is an important factor for optical signal to traverse
   through the fiber. There are three main approaches to determine
   optical signal compatibility. Application Code based on G.682.2 is
   one approach that only checks the code at both ends of the
   interface. Another approach is organization codes that are specific
   to an organization or a vendor. The third approach is specify all
   the relevant parameters explicitly, e.g., FEC type, Modulation type,
   etc.

2.6. WSS/Filter

   WSS separates the incoming light input spectrally as well as
   spatially, then chooses the wavelength that is of interest by
   deflecting it from the original optical path and then couple it to
   another optical fibre port. WSS/Filter is internal to ROADM. So this
   document does not model the inside of ROADM.

2.7. Optical Fiber

   There are various optical fiber types defined by ITU-T. There are
   several fiber-level parameters that need to be factored in, such as,
   fiber-type, length, loss coefficient, pmd, connectors (in/out).

   ITU-T G.652 defines Standard Singlemode Fiber; G.654 Cutoff Shifted
   Fiber; G.655 Non-Zero Dispersion Shifted Fiber; G.656 Non-Zero
   Dispersion for Wideband Optical Transport; G.657 Bend-Insensitive
   Fiber. There may be other fiber-types that need to be considered.



Lee, et al.              Expires October 2019                 [Page 10]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019




3. YANG Model (Tree Structure)

   module: ietf-optical-impairment-topology
     augment /nw:networks/nw:network/nw:network-types/tet:te-topology:
       +--rw optical-impairment-topology!
     augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes:
       +--ro OMS-attributes
          +--ro generalized-snr?                        decimal64
          +--ro equalization-mode                       identityref
          +--ro (power-param)?
          |  +--:(channel-power)
          |  |  +--ro nominal-channel-power?            decimal64
          |  +--:(power-spectral-density)
          |     +--ro nominal-power-spectral-density?   decimal64
          +--ro network-media-channel-group* [i]
          |  +--ro i                   int16
          |  +--ro current-channels* [flex-n]
          |  |  +--ro flex-n    uint16
          |  |  +--ro flex-m?   uint16
          |  +--ro OTSiG-container* [carrier-id]
          |     +--ro carrier-id                int16
          |     +--ro OTSi-carrier-frequency?   decimal64
          |     +--ro OTSi-signal-width?        decimal64
          |     +--ro channel-delta-power?      decimal64
          +--ro OMS-elements* [elt-index]
             +--ro elt-index    uint16
             +--ro uid?         string
             +--ro type         identityref
             +--ro element
                +--ro (element)?
                   +--:(amplifier)
                   |  +--ro amplifier
                   |     +--ro type_variety    string
                   |     +--ro operational
                   |        +--ro actual-gain           decimal64
                   |        +--ro tilt-target           decimal64
                   |        +--ro out-voa               decimal64
                   |        +--ro in-voa                decimal64
                   |        +--ro (power-param)?
                   |           +--:(channel-power)
                   |           |  +--ro nominal-channel-power?          decimal64
                   |           +--:(power-spectral-density)
                   |              +--ro nominal-power-spectral-density? decimal64
                   +--:(fiber)
                   |  +--ro fiber


Lee, et al.              Expires October 2019                 [Page 11]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


                   |     +--ro type_variety    string
                   |     +--ro length          decimal64
                   |     +--ro loss_coef       decimal64
                   |     +--ro total_loss      decimal64
                   |     +--ro pmd?            decimal64
                   |     +--ro conn_in?        decimal64
                   |     +--ro conn_out?       decimal64
                   +--:(concentratedloss)
                      +--ro concentratedloss
                         +--ro loss?   decimal64
     augment /nw:networks/nw:network/nw:node/tet:te/tet:tunnel-termination-point:
       +--ro transponders-list* [transponder-id]
          +--ro transponder-id                   uint32
          +--ro (mode)?
          |  +--:(G.692.2)
          |  |  +--ro G.692.2?                   layer0-types:standard-mode
          |  +--:(organizational_mode)
          |  |  +--ro operational-mode?          layer0-types:operational-mode
          |  |  +--ro organization-identifier?   layer0-types:vendor-identifier
          |  +--:(explicit_mode)
          |     +--ro available-modulation*      identityref
          |     +--ro modulation-type?           identityref
          |     +--ro available-baud-rates*      uint32
          |     +--ro configured-baud-rate?      uint32
          |     +--ro available-FEC*             identityref
          |     +--ro FEC-type?                  identityref
          |     +--ro FEC-code-rate?             decimal64
          |     +--ro FEC-threshold?             decimal64
          +--ro power?                           int32
          +--ro power-min?                       int32
          +--ro power-max?                       int32
     augment /nw:networks/nw:network/nw:node/tet:te/tet:tunnel-termination-point:
       +--ro transponder-list* [carrier-id]
          +--ro carrier-id    uint32

4. Optical Impairment Topology YANG Model


<CODE BEGINS> file ietf-optical-impairment-topology@2018-02-27.yang

module   ietf-optical-impairment-topology {
  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-optical-impairment-topology";

  prefix "optical-imp-topo";



Lee, et al.              Expires October 2019                 [Page 12]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


  import ietf-network {
    prefix "nw";
  }

  import ietf-network-topology {
    prefix "nt";
  }

  import ietf-te-topology {
    prefix "tet";
  }

  import ietf-layer0-types {
    prefix "layer0-types";
  }

  organization
    "IETF CCAMP Working Group";

  contact
    "Editor:   Young Lee  <leeyoung@huawei.com>
     Editor:   Haomian Zheng <zhenghaomian@huawei.com>
     Editor:   Nicola Sambo <nicosambo@gmail.com>
     Editor:   Victor Lopez <victor.lopezalvarez@telefonica.com>
     Editor:   Gabriele Galimberti <ggalimbe@cisco.com>
     Editor:   Auge Jean-Luc <jeanluc.auge@orange.com>
     Editor:   Le Rouzic Esther <esther.lerouzic@orange.com>
     Editor:   Julien Meuric <julien.meuric@orange.com>
     Editor:   Italo Busi <Italo.Busi@huawei.com>";


  description
    "This module contains a collection of YANG definitions for
     impairment-aware optical networks.

     Copyright (c) 2019 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD
     License set forth in Section 4.c of the IETF Trust's Legal
     Provisions Relating to IETF Documents
     (http://trustee.ietf.org/license-info).";

  revision 2019-02-27 {
    description
      "Initial Version";
    reference



Lee, et al.              Expires October 2019                 [Page 13]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


      "RFC XXXX: A Yang Data Model for Impairment-aware
       Optical Networks";
  }

  identity modulation {
    description "base identity for modulation type";
  }

  identity QPSK {
    base modulation;
    description
      "QPSK (Quadrature Phase Shift Keying) modulation";
  }

  identity DP_QPSK {
    base modulation;
    description
      "DP-QPSK (Dual Polarization Quadrature
       Phase Shift Keying) modulation";
  }
  identity QAM8 {
    base modulation;
    description
      "8QAM (8-State Quadrature Amplitude Modulation) modulation";
  }
  identity QAM16 {
    base modulation;
    description
      "QAM16 (Quadrature Amplitude Modulation)";
  }
  identity DP_QAM8 {
    base modulation;
    description
      "DP-QAM8 (Dual Polarization Quadrature Amplitude Modulation)";
  }
  identity DC_DP_QAM8 {
    base modulation;
    description
      "DC DP-QAM8 (Dual Polarization Quadrature Amplitude Modulation)";
  }
  identity DP_QAM16 {
    base modulation;
    description
      "DP-QAM16 (Dual Polarization Quadrature Amplitude Modulation)";
  }
  identity DC_DP_QAM16 {
    base modulation;
    description
      "DC DP-QAM16 (Dual Polarization Quadrature Amplitude Modulation)";



Lee, et al.              Expires October 2019                 [Page 14]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


  }


  identity FEC {
    description
      "Enumeration that defines the type of
       Forward Error Correction";
  }
  identity reed-solomon {
    base FEC;
      description
   "Reed-Solomon error correction";
  }
  identity hamming-code {
    base FEC;
      description
   "Hamming Code error correction";
  }
  identity golay {
    base FEC;
      description "Golay error correction";
  }

  typedef fiber-type {
    type enumeration {
      enum G.652 {
       description "G.652 Standard Singlemode Fiber";
      }
      enum G.654 {
        description "G.654 Cutoff Shifted Fiber";
      }
      enum G.653 {
        description "G.653 Dispersion Shifted Fiber";
      }
      enum G.655 {
        description "G.655 Non-Zero Dispersion Shifted Fiber";
      }
      enum G.656 {
        description "G.656 Non-Zero Dispersion for Wideband
                Optical Transport";
      }
      enum G.657 {
        description "G.657 Bend-Insensitive Fiber";
      }
    }
    description
      "ITU-T based fiber-types";
  }




Lee, et al.              Expires October 2019                 [Page 15]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


  grouping transponder-attributes {
    description "Configuration of an optical transponder";

    leaf-list available-modulation {
      type identityref {
       base modulation;
      }
      config false;
     description
       "List determining all the available modulations";
    }

    leaf modulation-type {
      type identityref {
       base modulation;
      }
     config false;
      description
       "Modulation configured for the transponder";
    }

    leaf-list available-baud-rates {
      type uint32;
      units Bd;
      config false;
      description
        "list of available baud-rates. Baud-rate is the unit for
         symbol rate or modulation rate in symbols per second or
         pulses per second. It is the number of distinct symbol
         changes (signaling events) made to the transmission medium
         per second in a digitally modulated signal or a line code";
    }

    leaf configured-baud-rate {
      type uint32;
      units Bd;
     config false;
      description "configured baud-rate";
    }

    leaf-list available-FEC {
      type identityref {
       base FEC;
      }
      config false;
      description "List determining all the available FEC";
    }

    leaf FEC-type {



Lee, et al.              Expires October 2019                 [Page 16]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


      type identityref {
       base FEC;
      }
      config false;
     description
       "FEC type configured for the transponder";
    }

    leaf FEC-code-rate {
      type decimal64 {
       fraction-digits 8;
       range "0..max";
      }
      config false;
      description "FEC-code-rate";
    }

    leaf FEC-threshold {
      type decimal64 {
       fraction-digits 8;
       range "0..max";
      }
      config false;
     description
        "Threshold on the BER, for which FEC is able to correct errors";
    }

  }

  grouping sliceable-transponder-attributes {
    description
      "Configuration of a sliceable transponder.";
    list transponder-list {
      key "carrier-id";
      config false;
      description "List of carriers";
      leaf carrier-id {
        type uint32;
        config false;
        description "Identifier of the carrier";
      }
    }
  }

  grouping optical-fiber-data {
    description
     "optical link (fiber) attributes with impairment data";
    leaf fiber-type {
      type fiber-type;



Lee, et al.              Expires October 2019                 [Page 17]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


      config false;
      description "fiber-type";
    }

    leaf span-length {
      type decimal64 {
        fraction-digits 2;
      }
      units "km";
      config false;
      description "the lenght of the fiber span in km";
    }

    leaf input-power {
      type decimal64 {
        fraction-digits 2;
      }
      units "dBm";
      config false;
      description
       "Average input power level estimated at the receiver
         of the link";
    }

    leaf output-power {
      type decimal64 {
        fraction-digits 2;
      }
      units "dBm";
      description
       "Mean launched power at the transmitter of the link";
    }

    leaf pmd {
      type decimal64 {
        fraction-digits 8;
        range "0..max";
      }
      units "ps/(km)^0.5";
      config false;
      description
       "Polarization Mode Dispersion";
    }

    leaf cd {
      type decimal64 {
        fraction-digits 5;
      }
      units "ps/nm/km";



Lee, et al.              Expires October 2019                 [Page 18]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


      config false;
      description
       "Cromatic Dispersion";
    }

    leaf osnr {
      type decimal64 {
        fraction-digits 5;
      }
      units "dB";
      config false;
      description
       "Optical Signal-to-Noise Ratio (OSNR) estimated
         at the receiver";
    }

    leaf sigma {
      type decimal64 {
        fraction-digits 5;
      }
      units "dB";
      config false;
      description
       "sigma in the Gausian Noise Model";
    }
  }

  grouping optical-channel-data {
   description
     "optical impairment data per channel/wavelength";
   leaf bit-rate {
     type decimal64 {
       fraction-digits 8;
        range "0..max";
     }
     units "Gbit/s";
     config false;
     description
       "Gross bit rate";
   }

    leaf BER {
     type decimal64 {
       fraction-digits 18;
            range "0..max";
     }
     config false;
      description
       "BER (Bit Error Rate)";



Lee, et al.              Expires October 2019                 [Page 19]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   }

    leaf ch-input-power {
          type decimal64 {
           fraction-digits 2;
        }
        units "dBm";
        config false;
        description
     "Per channel average input power level
          estimated at the receiver of the link";
        }

   leaf ch-pmd {
     type decimal64 {
       fraction-digits 8;
       range "0..max";
     }
     units "ps/(km)^0.5";
     config false;
     description
       "per channel Polarization Mode Dispersion";
   }

   leaf ch-cd {
     type decimal64 {
            fraction-digits 5;
     }
     units "ps/nm/km";
     config false;
          description
       "per channel Cromatic Dispersion";
   }

   leaf ch-osnr {
     type decimal64 {
       fraction-digits 5;
     }
      units "dB";
     config false;
     description
       "per channel Optical Signal-to-Noise Ratio
            (OSNR) estimated at the receiver";
        }

    leaf q-factor {
     type decimal64 {
       fraction-digits 5;
     }



Lee, et al.              Expires October 2019                 [Page 20]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


     units "dB";
     config false;
      description
       "q-factor estimated at the receiver";
   }
  }

  grouping standard_mode {
    description
      "ITU-T G.698.2 standard mode that guarantees interoperability.
       It must be an string with the following format:
       B-DScW-ytz(v) where all these attributes are conformant
       to the ITU-T recomendation";

    leaf standard_mode {
      type layer0-types:standard-mode;
      config false;
      description
        "G.698.2 standard mode";
    }
  }

  grouping organizational_mode {
    description
      "Transponder operational mode supported by organizations or
       vendor";

    leaf operational-mode {
      type layer0-types:operational-mode;
      config false;
      description
        "configured organization- or vendor-specific
         application identifiers (AI) supported by the transponder";
    }

    leaf organization-identifier {
      type layer0-types:vendor-identifier;
      config false;
      description
       "organization identifier that uses organizational
         mode";

    }
  }

    /*
   * Identities
   */
  identity type-element {



Lee, et al.              Expires October 2019                 [Page 21]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


    description
      "Base identity for element type";
  }

  identity Fiber {
    base type-element;
    description
      "Fiber element";
  }

  identity Roadm {
    base type-element;
    description
      "Roadm element";
  }

  identity Edfa {
    base type-element;
    description
      "Edfa element";
  }

  identity Concentratedloss {
    base type-element;
    description
      "Concentratedloss element";
  }

  identity type-power-mode {
    description
      "power equalization mode used within the OMS and its elements";
  }

  identity power-spectral-density {
    base type-power-mode;
    description
      "all elements must use power spectral density (W/Hz)";
  }

  identity channel-power {
    base type-power-mode;
    description
      "all elements must use power (dBm)";
  }

  /*
   * Groupings
   */
  grouping amplifier-params {



Lee, et al.              Expires October 2019                 [Page 22]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


    description "describes parameters for an amplifier";
    container amplifier{
     description "amplifier type, operatonal parameters are described";
      leaf type_variety {
        type string ;
        mandatory true ;
        description
          "String identifier of amplifier type referencing
          a specification in a separate equipment catalog";
      }
      container operational {
        description "amplifier operationnal parameters";
        leaf actual-gain {
          type decimal64 {
            fraction-digits 2;
          }
          units dB ;
        mandatory true ;
          description "..";
        }
        leaf tilt-target {
          type decimal64 {
            fraction-digits 2;
          }
          mandatory true ;
          description "..";
        }
        leaf out-voa {
          type decimal64 {
            fraction-digits 2;
          }
          units dB;
        mandatory true;
          description "..";
        }
        leaf in-voa {
          type decimal64 {
            fraction-digits 2;
          }
          units dB;
        mandatory true;
          description "..";
        }
        uses power-param;
      }
    }
  }

  grouping fiber-params {



Lee, et al.              Expires October 2019                 [Page 23]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


    description "String identifier of fiber type referencing a specification in a
separate equipment catalog";
    container fiber {
     description "fiber characteristics";
      leaf type_variety {
        type string ;
      mandatory true ;
        description "fiber type";
      }
      leaf length {
        type decimal64 {
          fraction-digits 2;
        }
        units km;
      mandatory true ;
      description "length of fiber";
      }
      leaf loss_coef {
        type decimal64 {
          fraction-digits 2;
        }
        units dB/km;
      mandatory true ;
      description "loss coefficient of the fiber";
      }
      leaf total_loss {
        type decimal64 {
          fraction-digits 2;
        }
        units dB;
      mandatory true ;
        description
          "includes all losses: fiber loss and conn_in and conn_out losses";
      }
      leaf pmd{
        type decimal64 {
          fraction-digits 2;
        }
        units sqrt(ps);
      description "pmd of the fiber";
      }
      leaf conn_in{
        type decimal64 {
          fraction-digits 2;
        }
        units dB;
      description "connector-in";
      }
      leaf conn_out{



Lee, et al.              Expires October 2019                 [Page 24]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


        type decimal64 {
          fraction-digits 2;
        }
        units dB;
      description "connector-out";
      }
    }
  }

  grouping roadm-params{
    description "roadm parameters description";
    container roadm{
     description "roadm parameters";
      leaf type_variety {
        type string ;
        mandatory true ;
        description "String identifier of roadm type referencing a specification in a
separate equipment catalog";
      }
      leaf loss {
        type decimal64 {
          fraction-digits 2;
        }
        units dB ;
        description "..";
      }
    }
  }

  grouping concentratedloss-params{
    description "concentrated loss";
    container concentratedloss{
     description "concentrated loss";
      leaf loss {
        type decimal64 {
          fraction-digits 2;
        }
        units dB ;
        description "..";
      }
    }
  }

  grouping power-param{
    description
      "optical power or PSD after the ROADM or after the out-voa";
    choice power-param {
      description
        "select the mode: channel power or power spectral density";



Lee, et al.              Expires October 2019                 [Page 25]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


      case channel-power {
  /*      when "../../equalization-mode='channel-power'"; */
        leaf nominal-channel-power{
          type decimal64 {
              fraction-digits 1;
          }
          units dBm ;
          description
            " Reference channel power after the ROADM or after the out-voa. ";
        }
      }
      case power-spectral-density{
  /*      when "../../equalization-mode='power-spectral-density'"; */
        leaf nominal-power-spectral-density{
          type decimal64 {
              fraction-digits 16;
          }
          units W/Hz ;
          description
            " Reference power spectral density after the ROADM or after the out-voa.
              Typical value : 3.9 E-14, resolution 0.1nW/MHz";
        }
      }
    }
  }

  grouping oms-general-optical-params {
    description "OMS link optical parameters";
    leaf generalized-snr {
      type decimal64 {
        fraction-digits 5;
      }
      units "dB@0.1nm";
      description "generalized snr";
    }
    leaf equalization-mode{
      type identityref {
        base type-power-mode;
      }
      mandatory true;
      description "equalization mode";
    }
    uses power-param;
  }

  grouping network-media-channel-group {
    description "network media channel group";
    list network-media-channel-group {
     key "i";



Lee, et al.              Expires October 2019                 [Page 26]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


      description
        "list of network media channel group's member";
      leaf i {
        type int16;
      description "index of network media channel group member";
      }

      list current-channels {
        key "flex-n";
        description
          "list of media channels in the OMS";

        uses layer0-types:flex-grid-channel;
     }

     list OTSiG-container {
        key "carrier-id";
       description
         "list of OTSi under OTSi-G";
      leaf carrier-id {
        type int16;
        description "carrier-id under OTSi-G";
      }
      leaf OTSi-carrier-frequency {
        type decimal64 {
          fraction-digits 3;
        }
        units GHz;
        config false;
        description
          "OTSi carrier frequency";
      }
      leaf OTSi-signal-width {
        type decimal64 {
          fraction-digits 3;
        }
        units GHz;
        config false;
        description
          "OTSi signal width";
      }
        leaf channel-delta-power {
          type decimal64 {
            fraction-digits 2;
          }
          units dB;
        config false;
          description



Lee, et al.              Expires October 2019                 [Page 27]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


            "optional ; delta power to ref channel input-power applied to this
channel";
        }
      }
    }
  }

  grouping oms-element {
    description "OMS description";
    list OMS-elements {
        key "elt-index";
        description
          "defines the spans and the amplifier blocks of the amplified lines";
        leaf elt-index {
          type uint16;
          description
            "ordered list of Index of OMS element (whether it's a Fiber, an EDFA or a
Concentratedloss)";
        }
        leaf uid {
          type string;
          description
            "unique id of the element if it exists";
        }
        leaf type {
          type identityref {
             base type-element;
          }
        mandatory true;
        description "element type";
        }

        container element {
          description "element of the list of elements of the OMS";
          choice element {
          description "OMS element type";
            case amplifier {
      /*        when "../..type = 'Edfa'"; */
              uses amplifier-params ;
            }
            case fiber {
      /*       when "../../type = 'Fiber'"; */
              uses fiber-params ;
            }
            case concentratedloss {
      /*        when "../../type = 'Concentratedloss'"; */
              uses concentratedloss-params ;
            }
          }



Lee, et al.              Expires October 2019                 [Page 28]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


        }
    }
  }

/* Data nodes */

  augment "/nw:networks/nw:network/nw:network-types"
    + "/tet:te-topology" {
    description "optical-impairment topology augmented";
    container optical-impairment-topology {
      presence "indicates an impairment-aware topology of optical networks";
      description
       "Container to identify impairment-aware topology type";
    }
  }

  augment "/nw:networks/nw:network/nt:link/tet:te"
    + "/tet:te-link-attributes"   {
    when "/nw:networks/nw:network/nw:network-types"
      +"/tet:te-topology/optical-imp-topo:optical-impairment-topology" {
      description
        "This augment is only valid for Optical Impairment.";
    }
    description "Optical Link augmentation for impairment data.";
    container OMS-attributes {
       config false;
       description "OMS attributes";
       uses oms-general-optical-params;
      uses network-media-channel-group;
       uses oms-element;
     }
  }

  augment "/nw:networks/nw:network/nw:node/tet:te"
    + "/tet:tunnel-termination-point" {
    when "/nw:networks/nw:network/nw:network-types"
      +"/tet:te-topology/optical-imp-topo:optical-impairment-topology" {
      description
        "This augment is only valid for Impairment with non-sliceable
         transponder model";
    }
    description
      "Tunnel termination point augmentation for non-sliceable
       transponder model.";
     list transponders-list {
         key "transponder-id";
       config false;
         description "list of transponders";
         leaf transponder-id {



Lee, et al.              Expires October 2019                 [Page 29]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


         type uint32;
         description "transponder identifier";
         }

         choice mode {
             description "standard mode, organizational mode or explicit mode";

             case G.692.2 {
               uses standard_mode;
             }

             case organizational_mode {
               uses organizational_mode;
             }

             case explicit_mode {
               uses transponder-attributes;
             }
         }

         leaf power {
           type int32;
           units "dBm";
           config false;
           description "per channel power";
         }

         leaf power-min {
           type int32;
           units "dBm";
           config false;
           description "minimum power of the transponder";
         }

         leaf power-max {
           type int32;
           units "dBm";
           config false;
           description "maximum power of the transponder";
         }
    }
  }

  augment "/nw:networks/nw:network/nw:node/tet:te"
    + "/tet:tunnel-termination-point" {
    when "/nw:networks/nw:network/nw:network-types"
      +"/tet:te-topology/optical-imp-topo:optical-impairment-topology" {
      description
        "This augment is only valid for optical impairment with sliceable



Lee, et al.              Expires October 2019                 [Page 30]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


        transponder model";
    }
    description
      "Tunnel termination point augmentation for sliceable transponder model.";
    uses sliceable-transponder-attributes;
  }
}
<CODE ENDS>



5. Security Considerations

   The configuration, state, and action data defined in this document
   are designed to be accessed via a management protocol with a secure
   transport layer, such as NETCONF [RFC6241].  The NETCONF access
   control model [RFC6536] provides the means to restrict access for
   particular NETCONF users to a preconfigured subset of all available
   NETCONF protocol operations and content.

   A number of configuration data nodes defined in this document are
   read-only; however, these data nodes may be considered sensitive or
   vulnerable in some network environments (TBD).

6. IANA Considerations

   This document registers the following namespace URIs in the IETF XML
   registry [RFC3688]:



   --------------------------------------------------------------------
   URI: urn:ietf:params:xml:ns:yang:ietf-optical-impairment-topology
   Registrant Contact: The IESG.
   XML: N/A, the requested URI is an XML namespace.
   --------------------------------------------------------------------


   This document registers the following YANG modules in the YANG
   Module Names registry [RFC7950]:

   --------------------------------------------------------------------
   name:      ietf-optical-impairment-topology
   namespace: urn:ietf:params:xml:ns:yang:ietf-optical-impairment-
   topology



Lee, et al.              Expires October 2019                 [Page 31]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019



   reference: RFC XXXX (TDB)
   --------------------------------------------------------------------


7. Acknowledgments

   We thank Dieter Bella and Sergio Belotti for useful discussions and
   motivation for this work.







































Lee, et al.              Expires October 2019                 [Page 32]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019




8. References

   8.1. Normative References



   8.2. Informative References

   [RFC6241] Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
             and A. Bierman, Ed., "Network Configuration Protocol
             (NETCONF)", RFC 6241, June 2011.

   [RFC6566]  Y. Lee, G. Bernstein, D. Li, G. Martinelli, "A Framework
             for the Control of Wavelength Switched Optical Networks
             (WSONs) with Impairments", RFC 6566, March 2012.

   [RFC7446]  Y. Lee, G. Bernstein, D. Li, W. Imajuku, "Routing and
             Wavelength Assignment Information Model for Wavelength
             Switched Optical Networks", RFC 7446, Feburary 2015.

   [RFC7579]   G. Bernstein, Y. Lee, D. Li, W. Imajuku, "General
             Network Element Constraint Encoding for GMPLS Controlled
             Networks", RFC 7579, June 2015.

   [RFC7581]  G. Bernstein, Y. Lee, D. Li, W. Imajuku, "Routing and
             Wavelength Assignment Information Encoding for Wavelength
             Switched Optical Networks", RFC 7581, June 2015.

   [RFC7950] Bjorklund, M., Ed., "The YANG 1.1 Data Modeling Language",
             RFC 7950, August 2016.

   [RFC8341] Bierman, A. and M. Bjorklund, "Network Configuration
             Access Control Model", RFC 8341, March 2018.

   [RFC8342]  Bjorklund, M., Schoenwaelder, J., Shafer, P., Watsen, K.,
             and R. Wilton, "Network Management Datastore Architecture
             (NMDA)", RFC 8342, March 2018.

   [RFC8345]  A. Clemm, et al, "A YANG Data Model for Network
             Topologies", RFC 8345, March 2018.

   [TE-TOPO] X. Liu, et al., "YANG Data Model for TE Topologies", work
             in progress: draft-ietf-teas-yang-te-topo.




Lee, et al.              Expires October 2019                 [Page 33]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   [RFC8453] Ceccarelli, D. and Y. Lee, "Framework for Abstraction and
             Control of Traffic Engineered Networks", RFC 8453, August
             2018.

   [WSON-Topo] Y. Lee, Ed., "A Yang Data Model for WSON Optical
             Networks", draft-ietf-ccamp-wson-yang-13, work in
             progress.


9. Contributors

   Jonas Martensson
   Acro

   Email: jonas.martensson@ri.se


Authors' Addresses

   Young Lee
   Huawei Technologies

   Email: leeyoung@huawei.com


   Haomian Zheng
   Huawei Technologies

   Email: zhenghaomian@huawei.com

   Italo Busi
   Huawei Technologies

   Email: Italo.Busi@huawei.com

   Nicola Sambo
   Scuola Superiore Sant'Anna

   Email: nicosambo@gmail.com

   Victor Lopez
   Telefonica

   Email: victor.lopezalvarez@telefonica.com


Lee, et al.              Expires October 2019                 [Page 34]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019



   G. Galimberti
   Cisco

   Email: ggalimbe@cisco.com

   Giovanni Martinelli
   Cisco
   Email: giomarti@cisco.com


   AUGE Jean Luc
   Orange

   Email:  jeanluc.auge@orange.com

   LE ROUZIC Esther
   Orange

   Email: esther.lerouzic@orange.com

   Julien Meuric
   Orange

   Email: julien.meuric@orange.com

   Dieter Beller
   Nokia

   Email: dieter.beller@nokia.com

   Sergio Belotti
   Nokia

   Email: Sergio.belotti@nokia.com


   Griseri Enrico
   Nokia

   Email: enrico.griseri@nokia.com

   Gert Grammel


Lee, et al.              Expires October 2019                 [Page 35]

Internet-Draft   Optical Impairment-Aware YANG Model         April 2019


   Juniper

   Email: ggrammel@juniper.net













































Lee, et al.              Expires October 2019                 [Page 36]

