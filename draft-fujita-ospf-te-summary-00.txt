

Network Working Group                                  Norihito Fujita
Internet Draft                                           Atsushi Iwata
<draft-fujita-ospf-te-summary-00.txt>                  NEC Corporation
Expires in six months
                                                            March 2000


           Traffic Engineering Extensions to OSPF Summary LSA

                 <draft-fujita-ospf-te-summary-00.txt>

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Abstract

   Various Traffic Engineering extensions for OSPF have been proposed in
   [KATZ, OSPFEXT] and others. However, these are basically applicable
   only to intra-area Traffic Engineering since they do not support
   inter-area advertisements of the resource information. This draft
   proposes a new scheme for advertising the summarized resource
   information for Traffic Engineering outside the area. It also
   specifies a new LSA to achieve this advertisement.

1. Introduction

   Advertising resource information in addition to topology information
   using link state protocols is useful for achieving Traffic
   Engineering in a network. Various Traffic Engineering extensions for
   OSPF have been proposed in [KATZ, OSPFEXT] and others. For example,
   [KATZ] proposes to extend OSPF using the Opaque LSA so as to



Fujita & Iwata     draft-fujita-ospf-te-summary-00.txt          [Page 1]

Internet Draft                                                March 2000


   advertise the parameters concerning Traffic Engineering. In these
   proposals, however, the flooding scope of such an advertisement is
   area-local, so the resource information is never advertised across
   area border routers. In a hierarchical OSPF environment, therefore,
   Traffic Engineering with Autonomous System (AS) scope is currently
   impossible.

   This draft proposes to advertise the summarized resource information
   outside the area, which would allow Traffic Engineering with AS
   scope. We specify the summarization schemes and the new LSA for the
   advertisement.

2. Traffic Engineering Extensions to OSPF Summary LSA

2.1. Overview

   We assume that resource information for Traffic Engineering is
   advertised with an area-local scope by the Traffic Engineering LSA
   (TE-LSA) proposed in [KATZ].

   Using this information, the summarized resource information for each
   destination network is computed and advertised in addition to the
   OSPF Summary-LSA. One new LSA, the TE-Summary LSA, is defined for the
   advertisement, which makes use of the Opaque LSA encoding [OPAQUE].

   We address the summarization of the following resource information in
   this draft. The support of other parameters is for further study.

     Traffic Engineering Metric
       The metric to the destination network used for Traffic
       Engineering purposes.

     Maximum Reservable Bandwidth
       The maximum bandwidth that may be reserved on the path to the
       corresponding destination network. This value may be greater than
       the maximum bandwidth along the path, in which case the path may
       be oversubscribed.

     Unreserved Bandwidth
       The amount of bandwidth that is not yet reserved on the path to
       the corresponding destination network. The value is less than or
       equal to the maximum reservable bandwidth.

     Available Bandwidth
       The amount of bandwidth that is not currently occupied by actual
       traffic flows on the path to the corresponding destination
       network. This value can be determined by monitoring the actual
       amount of data traffic.



Fujita & Iwata     draft-fujita-ospf-te-summary-00.txt          [Page 2]

Internet Draft                                                March 2000


   This draft does not address resource class (or color). The resource
   information included in the proposed TE-Summary LSA is aggregated in
   a single class, whose value can be shared by multiple classes.

2.2. Summarization of Resource Information

   The resource information for each destination network is summarized
   at the area border routers and then is advertised throughout the
   neighboring areas. Summarization schemes are different depending on
   whether the destination network is located within the same area as
   the area border router or not.

   In the former case, the summarization of resource information is
   performed based only on resource information from the TE-LSAs
   advertised in the area.

   If the destination network is not located within the same area as the
   area border router, summarization requires resource information from
   outside the area. The summarized resource information that is
   advertised through the TE-Summary LSAs for the corresponding
   destination network is taken into account together with the TE-LSAs.
   This means that the area border router calculates the resource values
   along the end-to-end available paths that go across area border
   routers toward the destination network in the new TE-Summary LSA.

   The methods of computing resource values included in the TE-Summary
   LSAs may have to be standardized, but is left for further study.

2.3. Advertisement of TE-Summary LSA

   The TE-Summary LSA is advertised together whenever a standard
   Summary-LSA is advertised.

   Furthermore, whenever an area border router calculates the summarized
   bandwidth or metric based on the received resource information, it
   compares the calculated value to the value that it advertised
   previously. If the change exceeds the pre-determined threshold value
   or ratio, a TE-Summary LSA with the updated information is re-
   advertised.












Fujita & Iwata     draft-fujita-ospf-te-summary-00.txt          [Page 3]

Internet Draft                                                March 2000


2.4. TE-Summary LSA Format

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            LS age             |     Options   |       10      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Opaque Type  |               Opaque ID                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Advertising Router                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     LS sequence number                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         LS checksum           |             length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Destination IP Network Number               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         Network Mask                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      0        |                 TE Metric                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Maximum Reservable Bandwidth                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Unreserved Bandwidth                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Available Bandwidth                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Opaque Type
     The type value is to be discussed.

   Opaque ID
     The arbitrary value used to maintain multiple TE-Summary LSAs is
     included.

   Destination IP Network Number
     The same value as the Link State ID of the corresponding Summary-
     LSA is included.

   Network Mask
     This indicates the destination network's IP address mask. The same
     value as the Network Mask of the corresponding Summary-LSA is
     included.

   TE Metric
     The TE metric is used for Traffic Engineering purposes. This metric
     may be different than the standard Summary-LSA's TOS 0 metric.




Fujita & Iwata     draft-fujita-ospf-te-summary-00.txt          [Page 4]

Internet Draft                                                March 2000


   Maximum Reservable Bandwidth
     The summarized maximum reservable bandwidth for the corresponding
     destination is included. The bandwidth is encoded in IEEE single-
     precision floating-point format.

   Unreserved Bandwidth
     The summarized unreserved bandwidth for the corresponding
     destination is included. The bandwidth is encoded in IEEE single-
     precision floating-point format.

   Available Bandwidth
     The summarized available bandwidth for the corresponding
     destination is included. The bandwidth is encoded in IEEE single-
     precision floating-point format.

4. Security Considerations

   Security considerations are not addressed in this version of the
   draft.

5. References

   [OSPF] J. Moy, "OSPF Version 2", RFC2328, April 1998.

   [OSPFEXT] G. Apostolopoulos, D. Williams, S. Kamat, R. Guerin, A.
   Orda T. Przygienda, "QoS Routing Mechanisms and OSPF Extensions",
   RFC2676, August 1999.

   [KATZ] Dave Katz, Derek Yeung, "Traffic Engineering Extensions to
   OSPF", <draft-katz-yeung-ospf-traffic-01.txt>, October 1999.

   [OPAQUE] R. Coltun, "The OSPF Opaque LSA Option", RFC2370, July 1998.

6. Authors' Addresses

   Norihito Fujita
   NEC Corporation
   C&C Media Research Laboratories
   1-1, Miyazaki, 4-Chome, Miyamae-ku,
   Kawasaki, Kanagawa, 216-8555, JAPAN

   Phone: +81 (44) 856-2123
   Fax:   +81 (44) 856-2230
   Email: n-fujita@ccm.cl.nec.co.jp

   Atsushi Iwata
   NEC Corporation
   C&C Media Research Laboratories



Fujita & Iwata     draft-fujita-ospf-te-summary-00.txt          [Page 5]

Internet Draft                                                March 2000


   1-1, Miyazaki, 4-Chome, Miyamae-ku,
   Kawasaki, Kanagawa, 216-8555, JAPAN

   Phone: +81 (44) 856-2123
   Fax:   +81 (44) 856-2230
   Email: iwata@ccm.cl.nec.co.jp













































Fujita & Iwata     draft-fujita-ospf-te-summary-00.txt          [Page 6]

