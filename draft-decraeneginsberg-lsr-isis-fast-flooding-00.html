<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>IS-IS Fast Flooding</title>
<meta content="Bruno Decraene" name="author">
<meta content="Les Ginsberg" name="author">
<meta content="Tony Li" name="author">
<meta content="Guillaume Solignac" name="author">
<meta content="Marek Karasek" name="author">
<meta content="Chris Bowers" name="author">
<meta content="Gunter Van de Velde" name="author">
<meta content="Peter Psenak" name="author">
<meta content="Tony Przygienda" name="author">
<meta content="
       
     Current Link State Protocol Data Unit (PDU)
     flooding rates are much slower than what modern
     networks can support.  The use of IS-IS at larger
     scale requires faster flooding rates to achieve
     desired convergence goals.  This document
     discusses the need for faster flooding, the issues
     around faster flooding, and some example
     approaches to achieve faster flooding. It also
     defines protocol extensions relevant to faster
     flooding.
       
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-decraeneginsberg-lsr-isis-fast-flooding-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-decraeneginsberg-lsr-isis-fast-flooding-fh_0dazk.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">IS-IS Fast Flooding</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Decraene, et al.</td>
<td class="center">Expires 25 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-decraeneginsberg-lsr-isis-fast-flooding-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-22" class="published">22 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-25">25 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Decraene</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">L. Ginsberg</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">T. Li</div>
<div class="org">Arista Networks</div>
</div>
<div class="author">
      <div class="author-name">G. Solignac</div>
</div>
<div class="author">
      <div class="author-name">M. Karasek</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">C. Bowers</div>
<div class="org">Juniper Networks, Inc.</div>
</div>
<div class="author">
      <div class="author-name">G. Van de Velde</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">P. Psenak</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">T. Przygienda</div>
<div class="org">Juniper</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">IS-IS Fast Flooding</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
     Current Link State Protocol Data Unit (PDU)
     flooding rates are much slower than what modern
     networks can support.  The use of IS-IS at larger
     scale requires faster flooding rates to achieve
     desired convergence goals.  This document
     discusses the need for faster flooding, the issues
     around faster flooding, and some example
     approaches to achieve faster flooding. It also
     defines protocol extensions relevant to faster
     flooding.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 25 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-historical-behavior" class="xref">Historical Behavior</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-flooding-parameters-tlv" class="xref">Flooding Parameters TLV</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-lsp-burst-window-sub-tlv" class="xref">LSP Burst Window sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-lsp-transmission-interval-s" class="xref">LSP Transmission Interval sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-lsps-per-psnp-sub-tlv" class="xref">LSPs Per PSNP sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-flags-sub-tlv" class="xref">Flags sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-partial-snp-interval-sub-tl" class="xref">Partial SNP Interval sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-operation-on-a-lan-interfac" class="xref">Operation on a LAN interface</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-performance-improvement-on-" class="xref">Performance improvement on the receiver</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-rate-of-lsp-acknowledgments" class="xref">Rate of LSP Acknowledgments</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-packet-prioritization-on-re" class="xref">Packet Prioritization on Receive</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-congestion-and-flow-control" class="xref">Congestion and Flow Control</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-overview" class="xref">Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-congestion-and-flow-control-" class="xref">Congestion and Flow Control algorithm: Example 1</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-congestion-control-algorith" class="xref">Congestion Control algorithm: Example 2</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-changes-author-notes" class="xref">Changes / Author Notes</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-issues-for-further-discussi" class="xref">Issues for Further Discussion</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Link state IGPs such as Intermediate-System-to-Intermediate-System
      (IS-IS) depend upon having consistent Link State Databases (LSDB) on all
      Intermediate Systems (ISs) in the network in order to provide correct
      forwarding of data packets. When topology changes occur, new/updated
      Link State PDUs (LSPs) are propagated network-wide. The speed of
      propagation is a key contributor to convergence time.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Historically, flooding rates have been conservative - on the order of
      10s of LSPs/second. This is the result of guidance in the base specification
 <span>[<a href="#ISO10589" class="xref">ISO10589</a>]</span>
 and early deployments when both CPU speeds and
      interface speeds were much slower and the scale of
      an area was much smaller than they are today.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">As IS-IS is deployed in greater scale both in the number of nodes in an
      area and in the number of neighbors per node, the impact of the historic
      flooding rates becomes more significant. Consider the bringup or failure
      of a node with 1000 neighbors. This will result in a minimum of 1000 LSP
      updates. At typical LSP flooding rates used today
      (33 LSPs/second), it would take 30+ seconds simply to send the updated
      LSPs to a given neighbor. Depending on the diameter of the network,
      achieving a consistent LSDB on all nodes in the network could easily
      take a minute or more.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Increasing the LSP flooding rate therefore becomes an essential element
      of supporting greater network scale.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5"> Improving the LSP flooding rate is complementary to protocol
 extensions that reduce LSP flooding traffic by reducing the
 flooding topology such as Mesh Groups <span>[<a href="#RFC2973" class="xref">RFC2973</a>]</span>
 or Dynamic Flooding <span>[<a href="#I-D.ietf-lsr-dynamic-flooding" class="xref">I-D.ietf-lsr-dynamic-flooding</a>]</span>
. Reduction of the
 flooding topology does not alter the number of LSPs required
 to be exchanged between two nodes, so increasing the overall
 flooding speed is still beneficial when such extensions are in
 use. It is also possible that the flooding topology can be
 reduced in ways that prefer the use of neighbors that support
 improved flooding performance.<a href="#section-1-5" class="pilcrow">¶</a></p>
</section>
<div id="Language">
<section id="section-2">
      <h2 id="name-requirements-language">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
          NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
          "MAY", and "OPTIONAL" in this document are to be interpreted as
          described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals,
          as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="HISTORY">
<section id="section-3">
      <h2 id="name-historical-behavior">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-historical-behavior" class="section-name selfRef">Historical Behavior</a>
      </h2>
<p id="section-3-1">The base specification for IS-IS <span>[<a href="#ISO10589" class="xref">ISO10589</a>]</span>
 was first
      published in 1992 and updated in 2002. The update made no changes in
      regards to suggested timer values. Convergence targets at the time were
      on the order of seconds and the specified timer values reflect that.
      Here are some examples:<a href="#section-3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-2">
<pre>minimumLSPGenerationInterval - This is the minimum time interval
     between generation of Link State PDUs. A source Intermediate
     system shall wait at least this long before re-generating one
     of its own Link State PDUs.</pre><a href="#section-3-2" class="pilcrow">¶</a>
</div>
<p id="section-3-3">
 The recommended value is 30 seconds.<a href="#section-3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-4">
<pre>minimumLSPTransmissionInterval - This is the amount of time an
     Intermediate system shall wait before further propagating
     another Link State PDU from the same source system.</pre><a href="#section-3-4" class="pilcrow">¶</a>
</div>
<p id="section-3-5">
 The recommended value is 5 seconds.<a href="#section-3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-6">
<pre>partialSNPInterval - This is the amount of time between periodic
     action for transmission of Partial Sequence Number PDUs.
     It shall be less than minimumLSPTransmission-Interval.</pre><a href="#section-3-6" class="pilcrow">¶</a>
</div>
<p id="section-3-7">
 The recommended value is 2 seconds.<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">Most relevant to a discussion of the LSP flooding rate is the recommended
      interval between the transmission of two different LSPs on a given
      interface.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">For broadcast interfaces, <span>[<a href="#ISO10589" class="xref">ISO10589</a>]</span>
 defined:<a href="#section-3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-10">
<pre>  minimumBroadcastLSPTransmissionInterval - the minimum interval
     between PDU arrivals which can be processed by the slowest
     Intermediate System on the LAN.</pre><a href="#section-3-10" class="pilcrow">¶</a>
</div>
<p id="section-3-11">
   The default value was defined as 33 milliseconds.
   It is permitted to send multiple LSPs "back-to-back"
   as a burst, but this was limited to 10 LSPs in a one second
   period.<a href="#section-3-11" class="pilcrow">¶</a></p>
<p id="section-3-12">
   Although this value was specific to LAN interfaces, this has commonly
      been applied by implementations to all interfaces though that was not
      the original intent of the base specification. In fact Section
      12.1.2.4.3 states:<a href="#section-3-12" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-13">
<pre>  On point-to-point links the peak rate of arrival is limited only
  by the speed of the data link and the other traffic flowing on
  that link.</pre><a href="#section-3-13" class="pilcrow">¶</a>
</div>
<p id="section-3-14">Although modern implementations have not strictly adhered to the 33
      millisecond interval, it is commonplace for implementations to limit
      the flooding rate to an order of magnitude similar to the 33 ms value.<a href="#section-3-14" class="pilcrow">¶</a></p>
<p id="section-3-15">In the past 20 years, significant work on achieving faster
      convergence - more specifically sub-second convergence - has resulted in
      implementations modifying a number of the above timers in order to
      support faster signaling of topology changes. For example,
      minimumLSPGenerationInterval has been modified to support millisecond
      intervals, often with a backoff algorithm applied to prevent LSP
      generation storms in the event of a series of rapid oscillations.<a href="#section-3-15" class="pilcrow">¶</a></p>
<p id="section-3-16">However, the flooding rate has not been fundamentally altered.<a href="#section-3-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="FloodingTLV">
<section id="section-4">
      <h2 id="name-flooding-parameters-tlv">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-flooding-parameters-tlv" class="section-name selfRef">Flooding Parameters TLV</a>
      </h2>
<p id="section-4-1">
     This document defines a new Type-Length-Value
     tuple (TLV) called the "Flooding Parameters TLV"
     that may be included in IS to IS Hellos (IIH) or
     Partial Sequence Number PDUs (PSNPs). It allows
     IS-IS implementations to advertise flooding
     related parameters and capabilities which may be
     of use to the peer in support of faster flooding.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Type: TBD1<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">Length: variable, the size in octets of the Value field<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">Value: One or more sub-TLVs<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">Several sub-TLVs are defined in this document. The support of any sub-TLV is OPTIONAL.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">
 For a given IS-IS adjacency, the Flooding
 Parameters TLV does not need to be advertised
 in each IIH or PSNP.  An IS uses the latest
 received value for each parameter until a new
 value is advertised by the peer.  However, as
 IIHs and PSNPs are not reliably exchanged, and
 may never be received, parameters SHOULD be
 sent even if there is no change in value since
 the last transmission.  For a parameter which
 has never been advertised, an IS SHOULD use
 its local default value.  That value SHOULD be
 configurable on a per node basis and MAY be
 configurable on a per interface basis.<a href="#section-4-6" class="pilcrow">¶</a></p>
<div id="LSPReceptionWindow">
<section id="section-4.1">
        <h3 id="name-lsp-burst-window-sub-tlv">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-lsp-burst-window-sub-tlv" class="section-name selfRef">LSP Burst Window sub-TLV</a>
        </h3>
<p id="section-4.1-1">The LSP Burst Window sub-TLV advertises the maximum number of LSPs that the node can receive with no separation interval between LSPs.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Type: 1<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">Length: 4 octets<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">Value: number of LSPs that can be sent back to back<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="InterfaceLSPTransmissionInterval">
<section id="section-4.2">
        <h3 id="name-lsp-transmission-interval-s">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-lsp-transmission-interval-s" class="section-name selfRef">LSP Transmission Interval sub-TLV</a>
        </h3>
<p id="section-4.2-1">The LSP Transmission Interval sub-TLV advertises the minimum interval, in micro-seconds, between LSPs arrivals which can be received on this interface, after the maximum number of un-acknowledged LSPs has been sent.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Type: 2<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Length: 4 octets<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">Value: minimum interval, in micro-seconds, between two consecutive LSPs sent after the burst window has been used<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">The LSP Transmission Interval is an advertisement of the receiver's steady-state LSP reception rate.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="LPP">
<section id="section-4.3">
        <h3 id="name-lsps-per-psnp-sub-tlv">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-lsps-per-psnp-sub-tlv" class="section-name selfRef">LSPs Per PSNP sub-TLV</a>
        </h3>
<p id="section-4.3-1">The LSP per PSNP (LPP) sub-TLV advertises the number of received LSPs that triggers the immediate sending of a PSNP to acknowledge them.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Type: 3<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Length: 2 octets<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">Value: number of LSPs acknowledged per PSNP<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">A node advertising this sub-TLV with a value LPP MUST send a PSNP once LPP LSPs have been received and need to be acknowledged.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Flags">
<section id="section-4.4">
        <h3 id="name-flags-sub-tlv">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-flags-sub-tlv" class="section-name selfRef">Flags sub-TLV</a>
        </h3>
<p id="section-4.4-1">The sub-TLV Flags advertises a set of flags.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">Type: 4<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">Length: Indicates the length in octets (1-8) of the Value field. The length SHOULD be the minimum required to send all bits that are set.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<p id="section-4.4-4">Value: List of flags.<a href="#section-4.4-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4-5">
<pre>
          0 1 2 3 4 5 6 7 ...
         +-+-+-+-+-+-+-+-+...
         |O|              ...
         +-+-+-+-+-+-+-+-+...</pre><a href="#section-4.4-5" class="pilcrow">¶</a>
</div>
<p id="section-4.4-6">When the O flag is set, the LSP will be
 acknowledged in the order they are received: a
 PSNP acknowledging N LSPs is acknowledging the
 N oldest LSPs received. The order inside the
 PSNP is meaningless. If the sender keeps track
 of the order of LSPs sent, this indication
 allows a fast detection of the loss of an
 LSP. This MUST NOT be used to trigger faster
 retransmission of LSP. This MAY be used to
 trigger a congestion signal.<a href="#section-4.4-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="partialSNPI">
<section id="section-4.5">
        <h3 id="name-partial-snp-interval-sub-tl">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-partial-snp-interval-sub-tl" class="section-name selfRef">Partial SNP Interval sub-TLV</a>
        </h3>
<p id="section-4.5-1">The Partial SNP Interval sub-TLV advertises the amount of
 time in milliseconds between periodic action for transmission of Partial
        Sequence Number PDUs. This time will trigger the sending of a PSNP
        even if the number of unacknowledged LSPs received on a given
        interface does not exceed LPP (<a href="#LPP" class="xref">Section 4.3</a>). The time is
 measured from the reception of the first unacknowldeged LSP.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2">Type: 5<a href="#section-4.5-2" class="pilcrow">¶</a></p>
<p id="section-4.5-3">Length: 2 octets<a href="#section-4.5-3" class="pilcrow">¶</a></p>
<p id="section-4.5-4">Value: partialSNPInterval in milliseconds<a href="#section-4.5-4" class="pilcrow">¶</a></p>
<p id="section-4.5-5">A node advertising this sub-TLV SHOULD send a PSNP at least once
        per Partial SNP Interval if one or more unacknowledged LSPs have been
        received on a given interface.<a href="#section-4.5-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="TLVoperationLAN">
<section id="section-4.6">
        <h3 id="name-operation-on-a-lan-interfac">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-operation-on-a-lan-interfac" class="section-name selfRef">Operation on a LAN interface</a>
        </h3>
<p id="section-4.6-1">On a LAN interface, all LSPs are link-level multicasts. Each LSP sent will be received by all ISs on the LAN and each IS will receive LSPs from all transmitters. In this section, we clarify how the flooding parameters should be interpreted in the context of a LAN.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<p id="section-4.6-2">An LSP receiver on a LAN will communicate its desired flooding parameters using a single Flooding Parameters TLV, copies of which will be received by all transmitters. The flooding parameters sent by the LSP receiver MUST be understood as instructions from the receiver to each transmitter about the desired maximum transmit characteristics of each transmitter. The receiver is aware that there are multiple transmitters that can send LSPs to the receiver LAN interface. The receiver might want to take that into account by advertising more conservative values, e.g. a higher LSP Transmission Interval. When the transmitters receive the LSP Transmission Interval value advertised by a LSP receiver, the transmitters should rate limit LSPs according to the advertised flooding parameters. They should not apply any further interpretation to the flooding parameters advertised by the receiver.<a href="#section-4.6-2" class="pilcrow">¶</a></p>
<p id="section-4.6-3">A given LSP transmitter will receive multiple flooding parameter advertisements from different receivers that may carry different flooding parameter values. A given transmitter SHOULD use the most convervative value on a per parameter basis. For example, if the transmitter receives multiple LSP Burst Window values, it should use the smallest value.<a href="#section-4.6-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Receiver">
<section id="section-5">
      <h2 id="name-performance-improvement-on-">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-performance-improvement-on-" class="section-name selfRef">Performance improvement on the receiver</a>
      </h2>
<p id="section-5-1">This section defines two behaviors that SHOULD be implemented on the receiver.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="LSPACKRate">
<section id="section-5.1">
        <h3 id="name-rate-of-lsp-acknowledgments">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-rate-of-lsp-acknowledgments" class="section-name selfRef">Rate of LSP Acknowledgments</a>
        </h3>
<p id="section-5.1-1">On point-to-point networks, PSNP PDUs provide acknowledgments for
        received LSPs. <span>[<a href="#ISO10589" class="xref">ISO10589</a>]</span>
 suggests that some delay be
        used when sending PSNPs. This provides some optimization as multiple
        LSPs can be acknowledged in a single PSNP.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">
   Faster LSP flooding benefits from a faster feedback
          loop. This requires a reduction in the delay in sending
          PSNPs.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">The receiver SHOULD reduce its partialSNPInterval. The choice of this lower value is a local choice. It may depend on the available processing power of the node, the number of adjacencies, and the requirement to synchronize the LSDB more quickly. 200 ms seems to be a reasonable value.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">
   In addition to the timer based
   partialSNPInterval, the receiver SHOULD keep
   track of the number of unacknowledged LSPs
   per circuit and level. When this number
   exceeds a preset threshold of LSPs Per PSNP
   (LPP), the receiver SHOULD immediately send
   a PSNP without waiting for the PSNP timer to
   expire. In case of a burst of LSPs, this
   allows for more frequent PSNPs, giving
   faster feedback to the sender. Outside of
   the burst case, the usual time-based PSNP
   approach comes into effect. The LPP SHOULD
   also be less than or equal to 90 as this is
   the maximum number of LSPs that can be
   acknowledged in a PSNP at common MTU sizes,
   hence waiting longer would not reduce the
   number of PSNPs sent but would delay the
   acknowledgements. Based on experimental
   evidence, 15 unacknowledged LSPs is a good
   value assuming that the LSP Burst Window is
   at least 30 and reasonably fast CPUs for
   both the transmitter and receiver. More
   frequent PSNPs gives the transmitter more
   feedback on receiver progress, allowing the
   transmitter to continue transmitting while
   not burdening the receiver with undue
   overhead.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">By deploying both the time-based and the threshold-based PSNP approaches, the receiver can be adaptive to both LSP bursts and infrequent LSP updates.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">As PSNPs also consume link bandwidth, packet queue space, and
        protocol processing time on receipt, the increased sending of PSNPs
        should be taken into account when considering the rate at which LSPs
        can be sent on an interface.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="PKTPRI">
<section id="section-5.2">
        <h3 id="name-packet-prioritization-on-re">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-packet-prioritization-on-re" class="section-name selfRef">Packet Prioritization on Receive</a>
        </h3>
<p id="section-5.2-1">There are three classes of PDUs sent by IS-IS:<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-2.1">Hellos<a href="#section-5.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-2.2">LSPs<a href="#section-5.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-2.3">Complete Sequence Number PDUs (CSNPs) and PSNPs<a href="#section-5.2-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.2-3">Implementations today may prioritize the reception of Hellos
        over LSPs and SNPs in order to prevent a burst of LSP updates from
        triggering an adjacency timeout which in turn would require additional
        LSPs to be updated.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">CSNPs and PSNPs serve to trigger or acknowledge the transmission of specified
        LSPs. On a point-to-point link, PSNPs acknowledge the receipt of one
        or more LSPs. 
        For this reason, <span>[<a href="#ISO10589" class="xref">ISO10589</a>]</span>
 specifies a delay
        (partialSNPInterval) before sending a PSNP so that the number of PSNPs
        required to be sent is reduced. On receipt of a PSNP, the set of LSPs
        acknowledged by that PSNP can be marked so that they do not need to be
        retransmitted.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">If a PSNP is dropped on reception, 
        the set of LSPs advertised in the PSNP cannot be marked as
        acknowledged and this results in needless retransmissions that will
        further delay transmission of other LSPs that have yet to be
        transmitted. It may also make it more likely that a receiver becomes
        overwhelmed by LSP transmissions.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">It is therefore RECOMMENDED that implementations prioritize the
        receipt of Hellos and then SNPs over LSPs. Implementations MAY also prioritize IS-IS packets over other less critical protocols.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Control">
<section id="section-6">
      <h2 id="name-congestion-and-flow-control">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-congestion-and-flow-control" class="section-name selfRef">Congestion and Flow Control</a>
      </h2>
<div id="Overview">
<section id="section-6.1">
        <h3 id="name-overview">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<p id="section-6.1-1">Ensuring the goodput between two entities is a layer 4 responsibility as per the OSI model and a typical example is the TCP protocol defined in
 <span><a href="#RFC0793" class="xref">RFC 793</a> [<a href="#RFC0793" class="xref">RFC0793</a>]</span> and relies on the flow control, congestion control, and reliability mechanisms of the protocol.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">Flow control creates a control loop between a transmiter and a receiver so that the transmitter does not overwhelm the receiver. TCP provides a mean for the receiver to govern the amount of data sent by the sender through the use of a sliding window.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">Congestion control creates multiple interacting control loops between multiple transmitters and multiple receivers to prevent the transmitters  from overwhelming the overall network. For an IS-IS adjacency, the network between two IS-IS neighbors is relatively limited in scope and consist of a link that is typically over-sized compared to the capability of the IS-IS speakers, but may also includes components inside both routers such as a switching fabric, line card CPU, and forwarding plane buffers that may experience congestion. These resources may be shared across multiple IS-IS adjacencies for the system and it is the responsibility of congestion control to ensure that these are shared reasonably.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">Reliability provides loss detection and recovery. IS-IS already has mechanisms to ensure the reliable transmission of LSPs. This is not changed by this document.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5">The following two sections provides examples of Flow and/or Congestion control algorithms as examples that may be implemented by taking advantage of the extensions defined in this document. They are non-normative. An implementation may implement any congestion control algorithm.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ControlExample1">
<section id="section-6.2">
        <h3 id="name-congestion-and-flow-control-">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-congestion-and-flow-control-" class="section-name selfRef">Congestion and Flow Control algorithm: Example 1</a>
        </h3>
<div id="FlowControl">
<section id="section-6.2.1">
          <h4 id="name-flow-control">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-flow-control" class="section-name selfRef">Flow control</a>
          </h4>
<p id="section-6.2.1-1">
     A flow control mechanism creates a control loop
     between a single instance of a transmitter and a
     single receiver. This example uses a mechanism
     similar to the TCP receive window to allow the
     receiver to govern the amount of data sent by the
     sender. This receive window ('rwin') indicates an
     allowed number of LSPs that the sender may
     transmit before waiting for an acknowledgment. The
     size of the receive window, in units of LSPs, is
     initialized with the value advertised by the
     receiver in the LSP Burst Window sub-TLV. If no
     value is advertised, the transmitter should
     initialize rwin with its own local value.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">
     When the transmitter sends a set of LSPs to the
     receiver, it subtracts the number of LSPs sent
     from rwin. If the transmitter receives a PSNP,
     then rwin is incremented for each acknowledged
     LSP. The transmitter must ensure that the value of
     rwin never goes negative.<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
<div id="TLVoperationP2P">
<section id="section-6.2.1.1">
            <h5 id="name-operation-on-a-point-to-poi">
<a href="#section-6.2.1.1" class="section-number selfRef">6.2.1.1. </a><a href="#name-operation-on-a-point-to-poi" class="section-name selfRef">Operation on a point to point interface</a>
            </h5>
<p id="section-6.2.1.1-1">By sending the LSP Burst Window sub-TLV, a node advertises to its neighbor its ability to receive that many un-acknowledged LSPs from the neighbor, with no separation interval. This is akin to a receive window or sliding window in flow control. In some implementations, this value should reflect the IS-IS socket buffer size. Special care must be taken to leave space for CSNP and PSNP (SNP) PDUs and IIHs if they share the same input queue. In this case, this document suggests advertising an LSP Burst Window corresponding to half the size of the IS-IS input queue.<a href="#section-6.2.1.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1.1-2">By advertising an LSP Transmission Interval sub-TLV, a node advertises its ability to receive LSPs separated by at least the advertised value, outside of LSP bursts.<a href="#section-6.2.1.1-2" class="pilcrow">¶</a></p>
<p id="section-6.2.1.1-3">The LSP transmitter MUST NOT exceed these parameters. After having sent a full burst of un-acknowledged LSPs, it MUST send the following LSPs with an LSP Transmission Interval between LSP arrivals. For CPU scheduling reasons, this rate may be averaged over a small period e.g. 10 to 30ms.<a href="#section-6.2.1.1-3" class="pilcrow">¶</a></p>
<p id="section-6.2.1.1-4">If either the LSP transmitter or receiver does not adhere to these parameters, for example because of transient conditions, this causes no fatal condition to the operation of IS-IS. In the worst case, an LSP is lost at the receiver and this situation is already remedied by mechanisms in <span>[<a href="#ISO10589" class="xref">ISO10589</a>]</span>
. After a few seconds, neighbors will exchange PSNPs (for point to point interfaces) or CSNPs (for broadcast interfaces) and recover from the lost LSPs. This worst case should be avoided as those additional seconds impact convergence time as the LSDB is not fully synchronized. Hence it is better to err on the conservative side and to under-run the receiver rather than over-run it.<a href="#section-6.2.1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-6.2.1.2">
            <h5 id="name-operation-on-a-broadcast-la">
<a href="#section-6.2.1.2" class="section-number selfRef">6.2.1.2. </a><a href="#name-operation-on-a-broadcast-la" class="section-name selfRef">Operation on a       broadcast LAN       interface</a>
            </h5>
<p id="section-6.2.1.2-1">
     In order for the LSP Burst Window
     to be a useful parameter, an LSP
     transmitter needs to be able to
     keep track of the number of
     un-acknowledged LSPs it has sent
     to a given LSP receiver. On a LAN
     there is no explicit
     acknowledgment of the receipt of
     LSPs between a given LSP
     transmitter and a given LSP
     receiver. However, an LSP
     transmitter on a LAN can infer
     whether any LSP receiver on the
     LAN has requested retransmission
     of LSPs from the DIS by monitoring
     PSNPs generated on the LAN. If no
     PSNPs have been generated on the
     LAN for a suitable period of time,
     then an LSP transmitter can safely
     set the number of un-acknowledged
     LSPs to zero. Since this suitable
     period of time is much higher than
     the fast acknowledgment of LSPs
     defined in <a href="#LSPACKRate" class="xref">Section 5.1</a>, the
     sustainable transmission rate of
     LSPs will be much slower on a LAN
     interface than on a point to point
     interface. The LSP Burst Window is
     still very useful for the first
     burst of LSPs sent, especially in
     the case of a single node failure
     that requires the flooding of a
     relatively small number of LSPs.<a href="#section-6.2.1.2-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="CongestionControl">
<section id="section-6.2.2">
          <h4 id="name-congestion-control">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-congestion-control" class="section-name selfRef">Congestion control</a>
          </h4>
<p id="section-6.2.2-1">Whereas flow control prevents the sender from overwhelming the receiver, congestion control prevents senders from overwhelming the network. For an IS-IS adjacency, the network between two IS-IS neighbors is relatively limited in scope and includes a single link which is typically over-sized compared to the capability of the IS-IS speakers.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">This section describes one congestion control algorithm largely inspired by the TCP congestion control algorithm <span><a href="#RFC5681" class="xref">RFC 5681</a> [<a href="#RFC5681" class="xref">RFC5681</a>]</span>.<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2-3">The proposed algorithm uses a variable congestion window 'cwin'. It plays a role similar to the receive window described above. The main difference is that cwin is dynamically changed according to various events described below.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<div id="CC1Core">
<section id="section-6.2.2.1">
            <h5 id="name-core-algorithm">
<a href="#section-6.2.2.1" class="section-number selfRef">6.2.2.1. </a><a href="#name-core-algorithm" class="section-name selfRef">Core algorithm</a>
            </h5>
<p id="section-6.2.2.1-1">In its simplest form, the congestion control algorithm looks like the following:<a href="#section-6.2.2.1-1" class="pilcrow">¶</a></p>
<div id="cc1_core_algo">
<figure id="figure-1">
              <div class="alignLeft art-text artwork" id="section-6.2.2.1-2.1">
<pre>
   +---------------+
   |               |
   |               v
   |   +----------------------+
   |   | Congestion avoidance |
   |   + ---------------------+
   |               |
   |               | Congestion signal
   ----------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
</div>
<p id="section-6.2.2.1-3">The algorithm starts with cwin := LPP + 1. In the congestion avoidance phase, cwin increases as LSPs are acked: for every acked LSP, cwin += 1 / cwin. Thus, the sending rate roughly increases linearly with the RTT. Since the RTT is low in many IS-IS deployments, the sending rate can reach fast rates in short periods of time.<a href="#section-6.2.2.1-3" class="pilcrow">¶</a></p>
<p id="section-6.2.2.1-4">When updating cwin, it must not become higher than the number of LSPs waiting to be sent, otherwise the sending will not be paced by the receiving of acks. Said differently, tx pressure is needed to maintain and increase cwin.<a href="#section-6.2.2.1-4" class="pilcrow">¶</a></p>
<p id="section-6.2.2.1-5">When the congestion signal is triggered, cwin is set back to its initial value and the congestion avoidance phase starts again.<a href="#section-6.2.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="CC1CongestionSignals">
<section id="section-6.2.2.2">
            <h5 id="name-congestion-signals">
<a href="#section-6.2.2.2" class="section-number selfRef">6.2.2.2. </a><a href="#name-congestion-signals" class="section-name selfRef">Congestion signals</a>
            </h5>
<p id="section-6.2.2.2-1">The congestion signal can take various forms. The more reactive the congestion signals, the less LSPs will be lost due to congestion. However, congestion signals too aggressive will cause a sender to keep a very low sending rate even without actual congestion on the path.<a href="#section-6.2.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2.2-2">Two practical signals are given hereafter.<a href="#section-6.2.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2.2-3">Timers: when receiving acknowledgements, a sender estimates the acknowledgement time of the receiver. Based on this estimation, it can infer that a packet was lost, and infer congestion on the path.<a href="#section-6.2.2.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2.2.2-4">There can be a timer per LSP, but this can become costly for implementations. It is possible to use only a single timer t1 for every LSPs: during t1, sent LSPs are recorded in a list list_1. Once the RTT is over, list_1 is kept and another list list_2 is used to store the next LSPs. LSPs are removed from the lists when acked. At the end of the second t1 period, every LSP in list_1 should have been acked, so list_1 is checked to be empty. list_1 can then be reused for the next RTT.<a href="#section-6.2.2.2-4" class="pilcrow">¶</a></p>
<p id="section-6.2.2.2-5">There are multiple strategies to set the timeout value t1. It should be based on measures of the maximum acknowledgement time (MAT) of each PSNPs. The simplest one is to use a exponential moving average of the MATs, like <span><a href="#RFC6298" class="xref">RFC 6298</a> [<a href="#RFC6298" class="xref">RFC6298</a>]</span>. A more elaborate one is to take a running maximum of the MATs over a period of time of a few seconds. This value should include a margin of error to avoid false positives (e.g. estimated MAT measure variance) which would have a significant impact on performance.<a href="#section-6.2.2.2-5" class="pilcrow">¶</a></p>
<p id="section-6.2.2.2-6"> Reordering: a sender can record its sending order and check that acknowledgements arrive on the same order than LSPs. This makes an additional assumption and should ideally be backed up by a confirmation by the receiver that this assumption stands. The O flag defined in <a href="#Flags" class="xref">Section 4.4</a> serves this purpose.<a href="#section-6.2.2.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="CC1Refinement1">
<section id="section-6.2.2.3">
            <h5 id="name-refinement-1">
<a href="#section-6.2.2.3" class="section-number selfRef">6.2.2.3. </a><a href="#name-refinement-1" class="section-name selfRef">Refinement 1</a>
            </h5>
<p id="section-6.2.2.3-1">With the algorithm presented above, if congestion is detected, cwin goes back to its initial value, and does not use the information gathered in previous congestion avoidance phases.<a href="#section-6.2.2.3-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2.3-2">It is possible to use a fast recovery phase once congestion is detected, to avoid going through this linear rate of growth from scratch. When congestion is detected, a fast recovery threshold frthresh is set to frthresh := cwin / 2 In this fast recovery phase, for every acked LSP, cwin += 1. Once cwin reaches frthresh, the algorithm goes back to the congestion avoidance phase.<a href="#section-6.2.2.3-2" class="pilcrow">¶</a></p>
<div id="cc1_algo_refinement_1">
<figure id="figure-2">
              <div class="alignLeft art-text artwork" id="section-6.2.2.3-3.1">
<pre>
   +---------------+
   |               |
   |               v
   |   +----------------------+
   |   | Congestion avoidance |
   |   + ---------------------+
   |               |
   |               | Congestion signal
   |               |
   |   +----------------------+
   |   |     Fast recovery    |
   |   +----------------------+
   |               |
   |               | frthresh reached
   ----------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a></figcaption></figure>
</div>
</section>
</div>
<div id="CC1Refinement2">
<section id="section-6.2.2.4">
            <h5 id="name-refinement-2">
<a href="#section-6.2.2.4" class="section-number selfRef">6.2.2.4. </a><a href="#name-refinement-2" class="section-name selfRef">Refinement 2</a>
            </h5>
<p id="section-6.2.2.4-1">The rates of increase were inspired from TCP <span><a href="#RFC5681" class="xref">RFC 5681</a> [<a href="#RFC5681" class="xref">RFC5681</a>]</span>, but it is possible that a different rate of increase for cwin in the congestion avoidance phase actually yields better results due to the low RTT values in most IS-IS deployments.<a href="#section-6.2.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cc_remarks">
<section id="section-6.2.2.5">
            <h5 id="name-remarks">
<a href="#section-6.2.2.5" class="section-number selfRef">6.2.2.5. </a><a href="#name-remarks" class="section-name selfRef">Remarks</a>
            </h5>
<p id="section-6.2.2.5-1">
     This algorithm's performance is dependent
     on the LPP value. Indeed, the smaller LPP
     is, the more information is available for
     the congestion control algorithm to
     perform well. However, it also increases
     the resources spent on sending PSNPs, so a
     tradeoff must be made. This document
     recommends to use an LPP of 15 or less. If
     an LSP Burst Window is advertised, LPP
     SHOULD be lower and the best performance
     is achieved when LPP is an integer
     fraction of the LSP Burst Window.<a href="#section-6.2.2.5-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2.5-2">Note that this congestion control algorithm benefits from the extensions proposed in this document. The advertisement of a receive window from the receiver (<a href="#FlowControl" class="xref">Section 6.2.1</a>) avoids the use of an arbitrary maximum value by the sender. The faster acknowledgment of LSPs (<a href="#LSPACKRate" class="xref">Section 5.1</a>) allows for a faster control loop and hence a faster increase of the congestion window in the absence of congestion.<a href="#section-6.2.2.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec_determining_values">
<section id="section-6.2.3">
          <h4 id="name-determining-values-to-be-ad">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-determining-values-to-be-ad" class="section-name selfRef">Determining values to be advertised in the Flooding Parameters TLV</a>
          </h4>
<p id="section-6.2.3-1">The values that a receiver advertises do not need to be perfect. If the values are too low then the transmitter will not use the full bandwidth or available CPU resources. If the values are too high then the receiver may drop some LSPs during the first RTT and this loss will reduce the usable receive window and the protocol mechanisms will allow the adjacency to recover. Flooding several orders of magnitude slower than both nodes can achieve will hurt performance, as will consistently overloading the receiver.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2">The values advertised need not be dynamic as feedback is provided by the acknowledgment of LSPs in SNP messages. Acknowledgments provide a feedback loop on how fast the LSPs are processed by the receiver. They also signal that the LSPs can be removed from receive window, explicitly signaling to the sender that more LSPs may be sent. By advertising relatively static parameters, we expect to produce overall flooding behavior similar to what might be achieved by manually configuring per-interface LSP rate limiting on all interfaces in the network. The advertised values may be based, for example, on an offline tests of the overall LSP processing speed for a particular set of hardware and the number of interfaces configured for IS-IS. With such a formula, the values advertised in the Flooding Parameters TLV would only change when additional IS-IS interfaces are configured.<a href="#section-6.2.3-2" class="pilcrow">¶</a></p>
<p id="section-6.2.3-3">The values may be updated dynamically, to reflect the relative change of load of the receiver, by improving the values when the receiver load is getting lower and degrading the values when the receiver load is getting higher. For example, if LSPs are regularly dropped, or if the queue regularly comes close to being filled, then the values may be too high. On the other hand, if the queue is barely used (by IS-IS), then values may be too low.<a href="#section-6.2.3-3" class="pilcrow">¶</a></p>
<p id="section-6.2.3-4">The values may also be absolute value reflecting relevant average hardware resources that are been monitored, typically the amount of buffer space used by incoming LSPs. In this case, care must be taken when choosing the parameters influencing the values in order to avoid undesirable or instable feedback loops. It would be undesirable to use a formula that depends, for example, on an active measurement of the instantaneous CPU load to modify the values advertised in the Flooding Parameters TLV. This could introduce feedback into the IGP flooding process that could produce unexpected behavior.<a href="#section-6.2.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="OPS_Considerations">
<section id="section-6.2.4">
          <h4 id="name-operation-considerations">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-operation-considerations" class="section-name selfRef">Operation considerations</a>
          </h4>
<p id="section-6.2.4-1">As discussed in  <a href="#TLVoperationLAN" class="xref">Section 4.6</a>, the solution is more effective on point to point adjacencies. Hence a broadcast interface (e.g. Ethernet) only shared by two IS-IS neighbhors should be configured as point to point in order to have a more effective flooding.<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ControlExample2">
<section id="section-6.3">
        <h3 id="name-congestion-control-algorith">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-congestion-control-algorith" class="section-name selfRef">Congestion Control algorithm: Example 2</a>
        </h3>
<p id="section-6.3-1">This section describes a congestion control algorithm based on
        performance measured by the transmitter without dependance on
        signaling from the receiver.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<div id="Ex2-arch">
<section id="section-6.3.1">
          <h4 id="name-router-architecture-discuss">
<a href="#section-6.3.1" class="section-number selfRef">6.3.1. </a><a href="#name-router-architecture-discuss" class="section-name selfRef">Router Architecture Discussion</a>
          </h4>
<p id="section-6.3.1-1">(The following description is an abstraction - implementation
          details vary.)<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
<p id="section-6.3.1-2">Existing router architectures may utilize multiple input queues.
          On a given line card, IS-IS PDUs from multiple interfaces may be
          placed in a rate limited input queue. This queue may be dedicated to
          IS-IS PDUs or may be shared with other routing related packets.<a href="#section-6.3.1-2" class="pilcrow">¶</a></p>
<p id="section-6.3.1-3">The input queue may then pass IS-IS PDUs to a "punt queue" which
          is used to pass PDUs from the data plane to the control plane. The
          punt queue typically also has controls on its size and the rate at
          which packets will be punted.<a href="#section-6.3.1-3" class="pilcrow">¶</a></p>
<p id="section-6.3.1-4">An input queue in the control plane may then be used to assemble
          PDUs from multiple linecards, separate the IS-ISs PDU from other
          types of packets, and place the IS-IS PDUs in an input queue
          dedicated to the IS-IS protocol.<a href="#section-6.3.1-4" class="pilcrow">¶</a></p>
<p id="section-6.3.1-5">The IS-IS input queue then separates the IS-IS PDUs and directs
          them to an instance specific processing queue. The instance
          specififc processing queue may then further separate the IS-IS PDUs
          by type (IIHs, SNPs, and LSPs) so that separate processing threads
          with varying priorities may be employed to process the incoming
          PDUs.<a href="#section-6.3.1-5" class="pilcrow">¶</a></p>
<p id="section-6.3.1-6">In such an architecture, it may be difficult for IS-IS in the
          control plane to accurately track the state of the various input
          queues and determine what value should be advertised as a current
          receive window.<a href="#section-6.3.1-6" class="pilcrow">¶</a></p>
<p id="section-6.3.1-7">The following section describes a congestion control algorithm
          based on performance measured by the transmitter without dependance
          on signaling from the receiver.<a href="#section-6.3.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Ex2-tx">
<section id="section-6.3.2">
          <h4 id="name-transmitter-based-flow-cont">
<a href="#section-6.3.2" class="section-number selfRef">6.3.2. </a><a href="#name-transmitter-based-flow-cont" class="section-name selfRef">Transmitter Based Flow Control</a>
          </h4>
<p id="section-6.3.2-1">The congestion control algorithm described in this section does
          not depend upon direct signaling from the receiver. Instead it
          adapts the tranmsmission rate based on measurement of the actual
          rate of acknowledgments received.<a href="#section-6.3.2-1" class="pilcrow">¶</a></p>
<p id="section-6.3.2-2">When flow control is necessary, it can be implemented in a
          straightforward manner based on knowledge of the current flooding
          rate and the current acknowledgement rate. Such an algorithm is a
          local matter and there is no requirement or intent to standardize an
          algorithm. There are a number of aspects which serve as guidelines
          which can be described.<a href="#section-6.3.2-2" class="pilcrow">¶</a></p>
<p id="section-6.3.2-3">A maximum target LSP transmission rate (LSPTxMax) SHOULD be
          configurable. This represents the fastest LSP transmission rate
          which will be attempted. This value SHOULD be applicable to all
          interfaces and SHOULD be consistent network wide.<a href="#section-6.3.2-3" class="pilcrow">¶</a></p>
<p id="section-6.3.2-4">When the current rate of LSP transmission (LSPTxRate) exceeds the
          capabilities of the receiver, the flow control algorithm needs to
          aggressively reduce the LSPTxRate within a few seconds. Slower
          responsiveness is likely to result in a large number of
          retransmissions which can introduce much larger delays in
          convergence.<a href="#section-6.3.2-4" class="pilcrow">¶</a></p>
<p id="section-6.3.2-5">NOTE: Even with modest increases in flooding speed (for example,
          a target LSPTxMax of 300 LSPs/second (10 times the typical rate
          supported today)), a topology change triggering 2100 new LSPs would
          only take 7 seconds to complete.<a href="#section-6.3.2-5" class="pilcrow">¶</a></p>
<p id="section-6.3.2-6">Dynamic adjustment of the rate of LSP transmission (LSPTxRate)
          upwards (i.e., faster) SHOULD be done less aggressively and only be
          done when the neighbor has demonstrated its ability to sustain the
          current LSPTxRate.<a href="#section-6.3.2-6" class="pilcrow">¶</a></p>
<p id="section-6.3.2-7">The flow control algorithm MUST NOT assume the receive
          capabilities of a neighbor are static, i.e., it MUST handle
          transient conditions which result in a slower or faster receive rate
          on the part of a neighbor.<a href="#section-6.3.2-7" class="pilcrow">¶</a></p>
<p id="section-6.3.2-8">The flow control algorithm needs to consider the expected delay
          time in receiving an acknowledgment. It therefore incorporates the
          neighbor partialSNPInterval(<a href="#partialSNPI" class="xref">Section 4.5</a>) to help
          determine whether acknowlegments are keeping pace with the rate of
          LSPs transmitted. In the absence of an advertisement of
          partialSNPInterval a locally configured value can be used.<a href="#section-6.3.2-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="IANA_Consideration">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">IANA is requested to allocate one TLV from the IS-IS TLV codepoint registry.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2" class="keepWithNext"></p>
<div id="IANA_Registration">
<figure id="figure-3">
        <div class="alignCenter art-text artwork" id="section-7-3.1">
<pre>
   Type    Description                    IIH   LSP   SNP   Purge
   ----    ---------------------------    ---   ---   ---   ---
   TBD1    Flooding Parameters TLV         y     n     y     n
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a></figcaption></figure>
</div>
<p id="section-7-4">This document creates the following sub-TLV Registry:<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5">Name: Sub-TLVs for TLV TBD1 (Flooding Parameters TLV).<a href="#section-7-5" class="pilcrow">¶</a></p>
<p id="section-7-6">Registration Procedure(s): Expert Review<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">Expert(s): TBD<a href="#section-7-7" class="pilcrow">¶</a></p>
<p id="section-7-8">Reference: TBD<a href="#section-7-8" class="pilcrow">¶</a></p>
<span id="name-initial-allocations"></span><div id="table_ex">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-initial-allocations" class="selfRef">Initial allocations</a>
        </caption>
<thead>
          <tr>
            <th class="text-center" rowspan="1" colspan="1">Type</th>
            <th class="text-left" rowspan="1" colspan="1">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">0</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">1</td>
            <td class="text-left" rowspan="1" colspan="1">LSP Burst Window</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">2</td>
            <td class="text-left" rowspan="1" colspan="1">LSP Transmission Interval</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">3</td>
            <td class="text-left" rowspan="1" colspan="1">LSPs Per PSNP</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">4</td>
            <td class="text-left" rowspan="1" colspan="1">Flags</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">5</td>
            <td class="text-left" rowspan="1" colspan="1">Partial SNP Interval</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">6-255</td>
            <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-7-10">This document also requests IANA to create a new registry for
      assigning Flag bits advertised in the Flags sub-TLV.<a href="#section-7-10" class="pilcrow">¶</a></p>
<p id="section-7-11">Name: Flooding Parameters Flags Bits.<a href="#section-7-11" class="pilcrow">¶</a></p>
<p id="section-7-12">Registration Procedure:<a href="#section-7-12" class="pilcrow">¶</a></p>
<p id="section-7-13">Expert Review Expert(s): TBD<a href="#section-7-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-14">
<pre>+--------+------------------------+
| Bit #  |  Description           |
+--------|------------------------+
|  0     |  O Flag                |
+--------|------------------------+</pre><a href="#section-7-14" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Security">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">
    Security concerns for IS-IS are addressed in <span>[<a href="#ISO10589" class="xref">ISO10589</a>]</span>
,
 <span>[<a href="#RFC5304" class="xref">RFC5304</a>]</span>
, and <span>[<a href="#RFC5310" class="xref">RFC5310</a>]</span>
.  These documents
    describe mechanisms that provide the authentication and integrity of IS-IS
    PDUs, including SNPs and IIHs. These authentication mechanisms are not
    altered by this document.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">
    With the cryptographic mechanisms described in <span>[<a href="#RFC5304" class="xref">RFC5304</a>]</span>
    and <span>[<a href="#RFC5310" class="xref">RFC5310</a>]</span>
, an attacker wanting to advertise an incorrect
    Flooding Parameters TLV would have to first defeat these mechanisms.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">In the absence of cryptographic authentication, as IS-IS does not run over IP but directly over the link layer, it's considered difficult to inject false SNP/IHH without having access to the link layer.<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">If a false SNP/IIH is sent with a Flooding Parameters TLV set to conservative values, the attacker can reduce the flooding speed between the two adjacent neighbors which can result in LSDB inconsistencies and transient forwarding loops. However, it is not significantly different than filtering or altering LSPs which would also be possible with access to the link layer. In addition, if the downstream flooding neighbor has multiple IGP neighbors, which is typically the case for reliability or topological reasons, it would receive LSPs at a regular speed from its other neighbors and hence would maintain LSDB consistency.<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">If a false SNP/IIH is sent with a Flooding Parameters TLV set to aggressive values, the attacker can increase the flooding speed which can either overload a node or more likely generate loss of LSPs. However, it is not significantly different than sending many LSPs which would also be possible with access to the link layer, even with cryptographic authentication enabled. In addition, IS-IS has procedures to detect the loss of LSPs and recover.<a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">This TLV advertisement is not flooded across the network but only sent between adjacent IS-IS neighbors. This would limit the consequences in case of forged messages, and also limits the dissemination of such information.<a href="#section-8-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Contributors">
<section id="section-9">
      <h2 id="name-contributors">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-9-1">The following people gave a substantial contribution to the content of this document and should be considered as coauthors:<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">Acee Lindem, Cisco Systems, acee@cisco.com<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">Jayesh J, Juniper Networks, jayeshj@juniper.net<a href="#section-9-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Acknowledgments">
<section id="section-10">
      <h2 id="name-acknowledgments">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-10-1">The authors would like to thank Henk Smit, Sarah Chen, Xuesong Geng, Pierre Francois and Hannes Gredler for their reviews, comments and suggestions.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">The authors would like to thank David Jacquet, Sarah Chen, and Qiangzhou Gao for the tests performed on commercial implementations and their identification of some limiting factors.<a href="#section-10-2" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="ISO10589">[ISO10589]</dt>
        <dd>
<span class="refAuthor">ISO</span>, <span class="refTitle">"Intermediate system to Intermediate system intra-domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode Network Service (ISO 8473)"</span>, <span class="seriesInfo">ISO/IEC 10589:2002, Second Edition</span>, <time datetime="2002-11" class="refDate">November 2002</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5304">[RFC5304]</dt>
        <dd>
<span class="refAuthor">Li, T.</span> and <span class="refAuthor">R. Atkinson</span>, <span class="refTitle">"IS-IS Cryptographic Authentication"</span>, <span class="seriesInfo">RFC 5304</span>, <span class="seriesInfo">DOI 10.17487/RFC5304</span>, <time datetime="2008-10" class="refDate">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5304">https://www.rfc-editor.org/info/rfc5304</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5310">[RFC5310]</dt>
        <dd>
<span class="refAuthor">Bhatia, M.</span>, <span class="refAuthor">Manral, V.</span>, <span class="refAuthor">Li, T.</span>, <span class="refAuthor">Atkinson, R.</span>, <span class="refAuthor">White, R.</span>, and <span class="refAuthor">M. Fanto</span>, <span class="refTitle">"IS-IS Generic Cryptographic Authentication"</span>, <span class="seriesInfo">RFC 5310</span>, <span class="seriesInfo">DOI 10.17487/RFC5310</span>, <time datetime="2009-02" class="refDate">February 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5310">https://www.rfc-editor.org/info/rfc5310</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6298">[RFC6298]</dt>
        <dd>
<span class="refAuthor">Paxson, V.</span>, <span class="refAuthor">Allman, M.</span>, <span class="refAuthor">Chu, J.</span>, and <span class="refAuthor">M. Sargent</span>, <span class="refTitle">"Computing TCP's Retransmission Timer"</span>, <span class="seriesInfo">RFC 6298</span>, <span class="seriesInfo">DOI 10.17487/RFC6298</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6298">https://www.rfc-editor.org/info/rfc6298</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-lsr-dynamic-flooding">[I-D.ietf-lsr-dynamic-flooding]</dt>
        <dd>
<span class="refAuthor">Li, T.</span>, <span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Chen, H.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Cooper, D.</span>, <span class="refAuthor">Jalil, L.</span>, <span class="refAuthor">Dontula, S.</span>, and <span class="refAuthor">G. S. Mishra</span>, <span class="refTitle">"Dynamic Flooding on Dense Graphs"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsr-dynamic-flooding-09</span>, <time datetime="2021-06-09" class="refDate">9 June 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-lsr-dynamic-flooding-09.txt">https://www.ietf.org/archive/id/draft-ietf-lsr-dynamic-flooding-09.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0793">[RFC0793]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Transmission Control Protocol"</span>, <span class="seriesInfo">STD 7</span>, <span class="seriesInfo">RFC 793</span>, <span class="seriesInfo">DOI 10.17487/RFC0793</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc793">https://www.rfc-editor.org/info/rfc793</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2973">[RFC2973]</dt>
        <dd>
<span class="refAuthor">Balay, R.</span>, <span class="refAuthor">Katz, D.</span>, and <span class="refAuthor">J. Parker</span>, <span class="refTitle">"IS-IS Mesh Groups"</span>, <span class="seriesInfo">RFC 2973</span>, <span class="seriesInfo">DOI 10.17487/RFC2973</span>, <time datetime="2000-10" class="refDate">October 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2973">https://www.rfc-editor.org/info/rfc2973</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5681">[RFC5681]</dt>
      <dd>
<span class="refAuthor">Allman, M.</span>, <span class="refAuthor">Paxson, V.</span>, and <span class="refAuthor">E. Blanton</span>, <span class="refTitle">"TCP Congestion Control"</span>, <span class="seriesInfo">RFC 5681</span>, <span class="seriesInfo">DOI 10.17487/RFC5681</span>, <time datetime="2009-09" class="refDate">September 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5681">https://www.rfc-editor.org/info/rfc5681</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-notes">
<section id="appendix-A">
      <h2 id="name-changes-author-notes">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-changes-author-notes" class="section-name selfRef">Changes / Author Notes</a>
      </h2>
<p id="appendix-A-1">[RFC Editor: Please remove this section before publication]<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">00: Initial version.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="open-issues">
<section id="appendix-B">
      <h2 id="name-issues-for-further-discussi">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-issues-for-further-discussi" class="section-name selfRef">Issues for Further Discussion</a>
      </h2>
<p id="appendix-B-1">[RFC Editor: Please remove this section before publication]<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">This section captures issues which the authors either have not yet
      had time to address or on which the authors have not yet reached
      consensus. Future revisions of this document may include new/altered
      text relevant to these issues.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">
 There are no open issues at this time.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bruno Decraene</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bruno.decraene@orange.com" class="email">bruno.decraene@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Les Ginsberg</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="street-address">821 Alder Drive</span></div>
<div dir="auto" class="left">
<span class="locality">Milpitas</span>, <span class="region">CA</span> <span class="postal-code">95035</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ginsberg@cisco.com" class="email">ginsberg@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tony Li</span></div>
<div dir="auto" class="left"><span class="org">Arista Networks</span></div>
<div dir="auto" class="left"><span class="street-address">5453 Great America Parkway</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara</span>, <span class="region">California</span> <span class="postal-code">95054</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tony.li@tony.li" class="email">tony.li@tony.li</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Guillaume Solignac</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gsoligna@protonmail.com" class="email">gsoligna@protonmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marek Karasek</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="street-address">Pujmanove 1753/10a, Prague 4 - Nusle</span></div>
<div dir="auto" class="left">
<span class="postal-code">10 14000</span> <span class="locality">Prague</span>
</div>
<div dir="auto" class="left"><span class="country-name">Czech Republic</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mkarasek@cisco.com" class="email">mkarasek@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Chris Bowers</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">1194 N. Mathilda Avenue</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> <span class="postal-code">94089</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:cbowers@juniper.net" class="email">cbowers@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gunter Van de Velde</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div dir="auto" class="left"><span class="street-address">Copernicuslaan 50</span></div>
<div dir="auto" class="left">
<span class="postal-code">2018</span> <span class="locality">Antwerp</span>
</div>
<div dir="auto" class="left"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gunter.van_de_velde@nokia.com" class="email">gunter.van_de_velde@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Peter Psenak</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="street-address">Apollo Business Center Mlynske nivy 43</span></div>
<div dir="auto" class="left">
<span class="postal-code">821 09</span> <span class="locality">Bratislava</span>
</div>
<div dir="auto" class="left"><span class="country-name">Slovakia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ppsenak@cisco.com" class="email">ppsenak@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tony Przygienda</span></div>
<div dir="auto" class="left"><span class="org">Juniper</span></div>
<div dir="auto" class="left"><span class="street-address">1137 Innovation Way</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">Ca</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:prz@juniper.net" class="email">prz@juniper.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
