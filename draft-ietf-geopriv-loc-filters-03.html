<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>A Document Format for Filtering and Reporting Location Notications in the Presence Information Document Format Location Object (PIDF-LO)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="A Document Format for Filtering and Reporting Location Notications in the Presence Information Document Format Location Object (PIDF-LO)">
<meta name="keywords" content="I-D, Internet-Draft, geopriv, location">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">geopriv</td><td class="header">R. Mahy</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Plantronics</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">B. Rosen</td></tr>
<tr><td class="header">Expires: May 8, 2009</td><td class="header">NeuStar</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 04, 2008</td></tr>
</table></td></tr></table>
<h1><br />A Document Format for Filtering and Reporting Location Notications in the Presence Information Document Format Location Object (PIDF-LO)<br />draft-ietf-geopriv-loc-filters-03</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 8, 2009.</p>

<h3>Abstract</h3>

<p>
This document describes filters which limit asynchronous location notifications to compelling events. 
The resulting location information is conveyed in existing location formats wrapped in GEOPRIV privacy extensions 
to the Presence Information Document Format (PIDF-LO)
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Conventions<br />
<a href="#anchor2">2.</a>&nbsp;
Overview<br />
<a href="#filter-format">3.</a>&nbsp;
Definition of Location Filter Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.1.</a>&nbsp;
Horizontal and Vertical Movement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.2.</a>&nbsp;
Changes in value<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.3.</a>&nbsp;
Containment Within a Region<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.4.</a>&nbsp;
Rate Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#schema1">3.5.</a>&nbsp;
XML Schema for filter format<br />
<a href="#containment">4.</a>&nbsp;
Containment schema<br />
<a href="#anchor7">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor8">6.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">6.1.</a>&nbsp;
MIME Registration for application/location-delta-filter+xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">6.2.</a>&nbsp;
URN Sub-Namespace Registration for
urn:ietf:params:xml:ns:location-filter<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">6.3.</a>&nbsp;
Schema Registration For location-filter<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">6.4.</a>&nbsp;
URN Sub-Namespace Registration for
urn:ietf:params:xml:ns:pidf:geopriv10:containment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">6.5.</a>&nbsp;
Schema Registration For containment<br />
<a href="#anchor14">7.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informational References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Conventions</h3>

<p>
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", 
  "RECOMMENDED",  "MAY", and "OPTIONAL" in this document are to be interpreted as described 
  in <a class='info' href='#RFC2119'>RFC-2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Overview</h3>

<p>
Conveying static location in <a class='info' href='#RFC4119'>PIDF-LO<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4119] bodies is straightforward.  However the difficult part 
about asynchronous notification of location information is that many forms of location are measured as a continuous gradient.  
Unlike notifications using discreet quantities, it is difficult to know when a change in location is large enough to warrant 
a notification.  Moreover, different applications require a wide variety of location resolutions.  Any optimization made for 
one application would ultimately result in wasteful polling or a sluggish user interface for other applications.

</p>
<p>
The mechanism described here defines filters in <a class='info' href='#W3C.REC-xml'>XML<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., and E. Maler, &ldquo;Extensible Markup Language (XML) 1.0 (2nd ed),&rdquo; October&nbsp;2000.</span><span>)</span></a> [W3C.REC&#8209;xml] documents which limit location notification 
to events which are of relevance to the subscriber.  These filters persist until they are changed with a replacement filter.

</p>
<p>
In addition to the relevant filters, this document also defines a new <a class='info' href='#W3C.REC-xmlschema-1'>XML schema<span> (</span><span class='info'>Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, &ldquo;XML Schema Part 1: Structures,&rdquo; May&nbsp;2001.</span><span>)</span></a> [W3C.REC&#8209;xmlschema&#8209;1] 
which can be included in PIDF-LO documents to indicate that the resource is inside or outside of a container region.

</p>
<a name="filter-format"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Definition of Location Filter Format</h3>

<p>
The granularity of notifications necessary for various geographic location applications varies dramatically. 
The subscriber should be able to get asynchronous notifications with appropriate granularity and accuracy, without having to 
poll or flood the network with notifications which are not important to the application.  Notifications should only happen 
when the notification would be considered an Interesting Event to the subscriber.  This section of this document defines 
an XML filter format to describe interesting conditions or events.  The terminal elements in this format are defined in 
terms of existing <a class='info' href='#GML'>Geographic Markup Language (GML)<span> (</span><span class='info'>OpenGIS, &ldquo;Open Geography Markup Language (GML) Implementation          Specification,&rdquo; January&nbsp;2003.</span><span>)</span></a> [GML] data types or civic address elements. 

</p>
<p>
This document also defines a MIME type for this location filter format:  application/location-delta-filter+xml.

</p>
<p>
This document defines the following as an initial list of Interesting Events:
</p>
<ol class="text">
<li>
the resource moves more than a specific distance horizontally or vertically since the last notification

</li>
<li>
the resource exceeds a specific speed

</li>
<li>
the resource enters or exits one or more GML objects (for example, a set of 2-dimensional or 3-dimensional regions) included or 
referenced in the filter.

</li>
<li>
one or more of the values of the specified address labels has changed for the resource (for example, the A1 value of 
the civilAddress has changed from California to Nevada)

</li>
<li>
a mininum and maximum rate of reports regardless of movement

</li>
</ol><p>
This specification makes use of <a class='info' href='#W3C.REC-xml-names'>XML namespaces<span> (</span><span class='info'>Bray, T., Hollander, D., and A. Layman, &ldquo;Namespaces in XML,&rdquo; January&nbsp;1999.</span><span>)</span></a> [W3C.REC&#8209;xml&#8209;names] for identifying location filter documents and
document fragments. The namespace URI for elements defined by this
specification is a URN <a class='info' href='#RFC2141'>[RFC2141]<span> (</span><span class='info'>Moats, R., &ldquo;URN Syntax,&rdquo; May&nbsp;1997.</span><span>)</span></a>, using the namespace
identifier 'ietf' defined by <a class='info' href='#RFC2648'>[RFC2648]<span> (</span><span class='info'>Moats, R., &ldquo;A URN Namespace for IETF Documents,&rdquo; August&nbsp;1999.</span><span>)</span></a> and extended by
<a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>. This URN is: 

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
urn:ietf:params:xml:ns:location-filter
</pre></div>
<p>
The filter format starts with a top-level XML element called <tt>&lt;location-filter></tt>, which contains 
one or more filter events. The semantics of multiple elements inside a location-filter generally is a logical OR.  
In other words, if any of the individual filter events occurs, the event satisfies the location-filter and triggers a notification.
However the "maxRate" parameter is a logical AND, and will limit events that otherwise would have been reported.

</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Horizontal and Vertical Movement</h3>

<p>
The movedHoriz and movedVert filter events each indicate a minimum horizontal motion or vertical distance (respectively) that 
the resource must have moved from the location of the resource when the last notification was sent in order to trigger this event.  
The distance is measured absolutely from the point of last notification rather than in terms of cumulative motion (For example, 
someone pacing inside a room will not trigger an event if the trigger threshold is slightly larger than the room.)  
Each of these events can only appear once in a location-filter.    These events have an attribute "uom" (for "units of measure"), 
which indicates the units of the element.  The default unit for these events is meters.

</p>
<p>
Similarly, the speedExceeds filter event indicates a minimum horizontal speed of the resource before the speedExceeds event 
is triggered. This element can appear only once in a location-filter, and has a "uom" attribute which defaults to meters 
per second if not present.

</p>
<p></p>
<blockquote class="text">
<p>
        This filter measures the horizontal component of speed in any direction.  It does not measure velocity.  
        Note also that there is no corresponding event triggered when speed drops below a threshold.  
    
</p>
</blockquote>

<p>
Below are some examples.  In the first example if the resource moves 20m in the x,y direction or 3m in the z direction, send a notification:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;location-filter&gt;
  &lt;movedHoriz uom="urn:ogc:def:uom:EPSG::9001"&gt;20&lt;/movedHoriz&gt;
  &lt;movedVert uom="urn:ogc:def:uom:EPSG::9001"&gt;3&lt;/movedVert&gt;
&lt;/location-filter&gt;
</pre></div>
<p>
If the resource exceeds 3 meters per second (10.8 km/h), send a notification:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;location-filter&gt;
  &lt;speedExceeds uom="#mps"&gt;3&lt;/speedExceeds&gt;
&lt;/location-filter&gt;
</pre></div>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Changes in value</h3>

<p> 
The valueChanges filter event contains a string which is interpreted as an <a class='info' href='#W3C.xpath'>XPath<span> (</span><span class='info'>Clark, J. and S. DeRose, &ldquo;XML Path Language (XPath) Version 1.0,&rdquo; November&nbsp;1999.</span><span>)</span></a> [W3C.xpath] expression evaluated 
within the context of the location-info element of the PIDF-LO document which would be generated by the notification.  
The XPath expression MUST evaluate to only a single Xpath node.  If the value of any of the elements in the resulting node changes, 
then the filter event is triggered.  Note that the value of the resulting node changes if any of those nodes or subnodes transitions 
from having a value to having no value or vice versa.  A location-filter may contain multiple valueChanges filters.

</p>
<p>
For example, given the following logical PIDF-LO document, If the state (A1), county (A2), city (A3), or postal code (PC) changes, 
send a notification:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PIDF-LO Location Document:
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;presence xmlns="urn:ietf:params:xml:ns:pidf"
       xmlns:gp="urn:ietf:params:xml:ns:pidf:geopriv10"
       xmlns:cl="urn:ietf:params:xml:ns:pidf:geopriv10:civilLoc"
       entity="pres:geotarget@example.com"&gt;
     &lt;tuple id="sg89ae"&gt;
      &lt;status&gt;
       &lt;gp:geopriv&gt;
         &lt;gp:location-info&gt;
           &lt;cl:civilAddress&gt;
             &lt;cl:country&gt;US&lt;/cl:country&gt;
             &lt;cl:A1&gt;NY&lt;/cl:A1&gt;
             &lt;cl:A3&gt;New York&lt;/cl:A3&gt;
             &lt;cl:RD&gt;Broadway&lt;/cl:RD&gt;
             &lt;cl:HNO&gt;123&lt;/cl:HNO&gt;
             &lt;cl:UNIT&gt;Suite 75&lt;/cl:UNIT&gt;
             &lt;cl:PC&gt;10027&lt;/cl:PC&gt;
           &lt;/cl:civilAddress&gt;
         &lt;/gp:location-info&gt;
         &lt;gp:usage-rules&gt;
           &lt;gp:retransmission-allowed&gt;yes&lt;/gp:retransmission-allowed&gt;
           &lt;gp:retention-expiry&gt;2003-06-23T04:57:29Z
           &lt;/gp:retention-expiry&gt;
         &lt;/gp:usage-rules&gt;
       &lt;/gp:geopriv&gt;
      &lt;/status&gt;
      &lt;timestamp&gt;2003-06-22T20:57:29Z&lt;/timestamp&gt;
     &lt;/tuple&gt;
    &lt;/presence&gt;

Filter Document:
  &lt;location-filter
    xmlns="urn:ietf:params:xml:ns:location-filter"
    xmlns:cl="urn:ietf:params:xml:ns:pidf:geopriv10:civilLoc"&gt;
    &lt;valueChanges&gt;cl:civilAddress/cl:A1&lt;/valueChanges&gt;
    &lt;valueChanges&gt;cl:civilAddress/cl:A2&lt;/valueChanges&gt;
    &lt;valueChanges&gt;cl:civilAddress/cl:A3&lt;/valueChanges&gt;
    &lt;valueChanges&gt;cl:civilAddress/cl:PC&lt;/valueChanges&gt;
  &lt;/location-filter&gt;
</pre></div>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Containment Within a Region</h3>

<p>
The "enterOrExit" filter event is satisfied when the resource enters or exits a named 2-dimensional or 3-dimensional region described 
by one of the shapes defined in section 5 of <a class='info' href='#I-D.ietf-geopriv-pdif-lo-profile'>[I&#8209;D.ietf&#8209;geopriv&#8209;pdif&#8209;lo&#8209;profile]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV PIDF-LO Usage Clarification, Considerations and Recommendations,&rdquo; November&nbsp;2008.</span><span>)</span></a>. These regions can be defined using 
inline snippets of GML, or externally referenced using a URI (Uniform Resource Identifier).  
</p>
<blockquote class="text">
<p>These regions need a unique name or identifier so location with respect to these regions can be described later (for example 
in a notification).  These regions are currently described as GML Features so they can be named with a GML Name.  Ideally each 
region could be described instead as a GML geometry with some associated name or identifier.
</p>
</blockquote><p>  

</p>
<p>
Any 2-dimensional region MUST be defined using the EPSG 4326 coordinate reference system.  Any 3-dimensional region MUST be 
defined using the EPSG 4979 coordinate reference system.  A location-filter can contain more than one enterOrExit filter event.

</p>
<p></p>
<blockquote class="text">
<p>
Notifiers MAY support other more complex geometries or additional coordinate reference systems. How the Subscriber 
negotiates support for more complex geometries or reference systems is out of the scope of this document.  

</p>
<p>
Likewise, this document does not describe how a subscriber discovers the existence of externally referenced features. 
This topic is out of scope of this document.

</p>
</blockquote>

<p>
In most cases Subscribers that use location filters based on enterOrExit events are especially interested in the resource's 
relationship to those named features.  Consequently, the notifier MUST include either a "containment" element for each feature 
mentioned in the location-filter which has changed its containment properties with respect to the resource since the last notification.  
These elements are defined in <a class='info' href='#containment'>Section&nbsp;4<span> (</span><span class='info'>Containment schema</span><span>)</span></a>.  The notifier MAY include any other form of location that is relevant.

</p>
<p> 
For example, if the resource enters or exits Building 10 (which is defined by specific 2-D or 3-D rectangular coordinates), send a notification:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Version in 2-Dimensions:
&lt;location-filter&gt;
  &lt;enterOrExit&gt;
    &lt;my:Building&gt;
      &lt;gml:name&gt;Building 10&lt;/gml:name&gt;
      &lt;gml:extentOf&gt;
        &lt;gml:Polygon
  srsName="urn:ogc:def:crs:EPSG::4326"
  xmlns:gml="http://www.opengis.net/gml"&gt;
          &lt;gml:exterior&gt;
            &lt;gml:LinearRing&gt;
              &lt;gml:posList
                   37.41188 -121.93243
                   37.41142 -121.93243
                   37.41142 -121.93132
                   37.41188 -121.93132
                   37.41188 -121.93243
              &lt;/gml:posLis&gt;
            &lt;/gml:LinearRing&gt;
          &lt;/gml:exterior&gt;
        &lt;/gml:Polygon&gt;
      &lt;/gml:extentOf&gt;
    &lt;/my:Building&gt;
  &lt;/enterOrExit&gt;
&lt;/location-filter&gt;

Version in 3-Dimensions:
&lt;location-filter&gt;
  &lt;enterOrExit&gt;
    &lt;my:Building&gt;
      &lt;gml:name&gt;Building 10&lt;/gml:name&gt;
      &lt;gs:Prism
  srsName="urn:ogc:def:crs:EPSG::4979"
  xmlns:gs="urn:ietf:params:xml:ns:pidf:geopriv10:geoShape"
  xmlns:gml="http://www.opengis.net/gml"&gt;
        &lt;gs:base&gt;
          &lt;gml:Polygon&gt;
            &lt;gml:exterior&gt;
              &lt;gml:LinearRing&gt;
                &lt;gml:posList&gt;
                   37.41188 -121.93243 0
                   37.41142 -121.93242 0
                   37.41142 -121.93132 0
                   37.41188 -121.93132 0
                   37.41188 -121.93243 0
                &lt;/gml:posList&gt;
              &lt;/gml:LinearRing&gt;
            &lt;/gml:exterior&gt;
          &lt;/gml:Polygon&gt;
        &lt;/gs:base&gt;
        &lt;gs:height uom="urn:ogc:def:uom:EPSG::9001"&gt;
           24
        &lt;/gs:height&gt;
      &lt;/gs:Prism&gt;
    &lt;/my:Building&gt;
  &lt;/enterOrExit&gt;
&lt;/location-filter&gt;
</pre></div>
<p> 
If the resource enters or exits either the parking garage or any of the conference rooms (both of which are externally defined), send a notification:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;location-filter&gt;
  &lt;enterOrExit&gt;
    &lt;my:ParkingGarage
xlink:href="http://server.example.com/loc-defs/bldg-mgr/parking"/&gt;
  &lt;/enterOrExit&gt;
  &lt;enterOrExit&gt;
    &lt;my:ConferenceRooms
xlink:href="http://server.example.com/loc-defs/userdef/confrooms"/&gt;
  &lt;/enterOrExit&gt;
&lt;/location-filter&gt;
</pre></div>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Rate Control</h3>

<p>Although not part of the loc-filter function, the throttle mechanisms <a class='info' href='#I-D.niemi-sipping-event-throttle'>[I&#8209;D.niemi&#8209;sipping&#8209;event&#8209;throttle]<span> (</span><span class='info'>Niemi, A., Kiss, K., and S. Loreto, &ldquo;Session Initiation Protocol (SIP) Event Notification Extension for  Notification Throttling,&rdquo; February&nbsp;2009.</span><span>)</span></a> can be used to control the rate of notifications.  
The "throttle", "force" and "average" settings can filter notications by time
</p>
<a name="schema1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
XML Schema for filter format</h3>

<p>
The XML Schema for this format is defined below.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema
  targetNamespace="urn:ietf:params:xml:ns:location-filter"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:gml="http://www.opengis.net/gml"&gt;

  &lt;xs:element name="location-filter"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element name="movedHoriz" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="movedVert" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="speedExceeds" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;

        &lt;!-- this type needs to hold an XPath statement --&gt;
        &lt;xs:element name="valueChanges" type="xs:string"
                       minOccurs="0" maxOccurs="unbounded"/&gt;

        &lt;xs:element name="enterOrExit" type="gml:FeaturePropertyType"
                       minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;xs:element name="minRate" type="xs:rate-spec"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="maxRate" type="xs:rate-spec"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:any namespace="##other" processContents="lax"
           minOccurs="0"  maxOccurs="unbounded"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name="rate-spec"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:attribute name="uom" use="required"&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base="xs:token"&gt;
              &lt;xs:enumeration value="seconds"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="minutes"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="hours"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="days"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="weeks"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="years"&gt;&lt;/xs:enumeration&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema
  targetNamespace="urn:ietf:params:xml:ns:location-filter"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:gml="http://www.opengis.net/gml"&gt;

  &lt;xs:element name="location-filter"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element name="movedHoriz" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="movedVert" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="speedExceeds" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;

        &lt;!-- this type needs to hold an XPath statement --&gt;
        &lt;xs:element name="valueChanges" type="xs:string"
                       minOccurs="0" maxOccurs="unbounded"/&gt;

        &lt;xs:element name="enterOrExit" type="gml:FeaturePropertyType"
                       minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;xs:element name="minRate" type="xs:rate-spec"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="maxRate" type="xs:rate-spec"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:any namespace="##other" processContents="lax"
           minOccurs="0"  maxOccurs="unbounded"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name="rate-spec"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:attribute name="uom" use="required"&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base="xs:token"&gt;
              &lt;xs:enumeration value="seconds"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="minutes"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="hours"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="days"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="weeks"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="years"&gt;&lt;/xs:enumeration&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema
  targetNamespace="urn:ietf:params:xml:ns:location-filter"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:gml="http://www.opengis.net/gml"&gt;

  &lt;xs:element name="location-filter"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element name="movedHoriz" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="movedVert" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="speedExceeds" type="gml:MeasureType"
                       minOccurs="0" maxOccurs="1"/&gt;

        &lt;!-- this type needs to hold an XPath statement --&gt;
        &lt;xs:element name="valueChanges" type="xs:string"
                       minOccurs="0" maxOccurs="unbounded"/&gt;

        &lt;xs:element name="enterOrExit" type="gml:FeaturePropertyType"
                       minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;xs:element name="minRate" type="xs:rate-spec"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:element name="maxRate" type="xs:rate-spec"
                       minOccurs="0" maxOccurs="1"/&gt;
        &lt;xs:any namespace="##other" processContents="lax"
           minOccurs="0"  maxOccurs="unbounded"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name="rate-spec"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:attribute name="uom" use="required"&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base="xs:token"&gt;
              &lt;xs:enumeration value="seconds"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="minutes"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="hours"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="days"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="weeks"&gt;&lt;/xs:enumeration&gt;
              &lt;xs:enumeration value="years"&gt;&lt;/xs:enumeration&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

</pre></div>
<a name="containment"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Containment schema</h3>

<p>
This section describes a schema for describing the resource's location relative to a region or list of regions which might contain the resource.  (These regions can be defined dynamically in an "enterOrExit" element in a subscription filter, or defined on the notifier using some out-of-band mechanism.)  The "pidfResource" element is placed inside the location-info element in a PIDF-LO document.  The pidfResource element can contain zero or more "containment" elements.  Each containment element has a GML Feature sub-element (of type "FeaturePropertyType") and a mandatory attribute which specifies if the PIDF resource is inside or outside of the feature, or if the position of the resource with respect to the region or region list is undefined.  
</p>
<blockquote class="text">
<p>
  In a future version of this specification, the GML Feature can become a reference to a more preferable name or identifier type.  The GML Feature type is only used because it includes a name to reference it.

</p>
</blockquote><p>

</p>
<p>
If the subscriber is not authorized to know the relative position, the notifier MUST NOT reveal this private information.  The RECOMMENDED way to prevent the subscriber from seeing private location data of this type is to return a containment element whose position attribute is "undefined".   Note that in some cases, the containment information may be more interesting than the actual raw location.  It is not necessary to convey a concrete civic or geo location in a PIDF-LO if the subscriber is only interested in or authorized to see the containment status.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema
targetNamespace="urn:ietf:params:xml:ns:pidf:geopriv10:containment"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:gml="http://www.opengis.net/gml"
xmlns:pr="urn:ietf:params:xml:ns:pidf:geopriv10:containment" &gt;
  &lt;xs:element name="pidfResource"&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element ref="pr:containment"
             minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name="containment"&gt;
    &lt;xs:complexType&gt;
        &lt;xs:sequence&gt;
          &lt;xs:any namespace="http://www.opengis.net/gml"
                minOccurs="1" maxOccurs="1"/&gt;
        &lt;/xs:sequence&gt;
      &lt;xs:attribute name="position" use="required"&gt;
         &lt;xs:simpleType&gt;
        &lt;xs:restriction base="xs:string"&gt;
            &lt;xs:enumeration value="inside"&gt;&lt;/xs:enumeration&gt;
            &lt;xs:enumeration value="outside"&gt;&lt;/xs:enumeration&gt;
            &lt;xs:enumeration value="undefined"&gt;&lt;/xs:enumeration&gt;
          &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
      &lt;/xs:attribute&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;
</pre></div>
<p>
Below is an example PIDF-LO document which indicates that the resource is inside building 10, not outside the parking garage, and not permitted to know if the resource is in a conference room.  Note that in GML, these features could be referenced by their unique identifiers instead.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;presence xmlns="urn:ietf:params:xml:ns:pidf"
     xmlns:gp="urn:ietf:params:xml:ns:pidf:geopriv10"
     xmlns:pr="urn:ietf:params:xml:ns:pidf:geopriv10:containment"
     entity="pres:geotarget@example.com"&gt;
   &lt;tuple id="sg89ae"&gt;
    &lt;status&gt;
     &lt;gp:geopriv&gt;
       &lt;gp:location-info&gt;
         &lt;pr:pidfResource&gt;
           &lt;pr:containment position="inside"&gt;
            &lt;my:Building&gt;
               &lt;gml:name&gt;Building 10&lt;/gml:name&gt;
             &lt;/my:Building&gt;
           &lt;/pr:containment&gt;
           &lt;pr:containment position="outside"&gt;
             &lt;my:ParkingGarage
xlink:href="http://server.example.com/loc-defs/bldg-mgr/parking"/&gt;
           &lt;/pr:containment&gt;
           &lt;pr:containment position="undefined"&gt;
             &lt;my:ConferenceRooms
xlink:href="http://server.example.com/loc-defs/userdef/confrooms"/&gt;
           &lt;/pr:containment&gt;
         &lt;/pr:pidfResource&gt;
       &lt;/gp:location-info&gt;
       &lt;gp:usage-rules&gt;
         &lt;gp:retransmission-allowed&gt;yes&lt;/gp:retransmission-allowed&gt;
         &lt;gp:retention-expiry&gt;2003-06-23T04:57:29Z
         &lt;/gp:retention-expiry&gt;
        &lt;/gp:usage-rules&gt;
     &lt;/gp:geopriv&gt;
    &lt;/status&gt;
    &lt;timestamp&gt;2003-06-22T20:57:29Z&lt;/timestamp&gt;
   &lt;/tuple&gt;
  &lt;/presence&gt;
</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
Location information is typically very privacy sensitive.  As such, GEOPRIV requires that notifications MUST be encrypted and integrity protected.

</p>
<p>
Additional privacy and security considerations are discussed in detail in <a class='info' href='#I-D.ietf-geopriv-pdif-lo-profile'>[I&#8209;D.ietf&#8209;geopriv&#8209;pdif&#8209;lo&#8209;profile]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV PIDF-LO Usage Clarification, Considerations and Recommendations,&rdquo; November&nbsp;2008.</span><span>)</span></a>.

</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
MIME Registration for application/location-delta-filter+xml</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      MIME media type name: application

      MIME subtype name: application/location-delta-filter+xml

      Required parameters: none.

      Optional parameters: none.

      Encoding considerations:   Same as for XML.

      Security considerations: See the "Security Considerations"
        section in this document.

      Interoperability considerations: none

      Published specification: This document.
</pre></div>
<p>
Applications which use this media: The application/location-delta-filter+xml application subtype supports the exchange of filters to throttle asynchronous notifications of location information.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      Additional information:

           1. Magic number(s): N/A

           2. File extension(s): N/A

           3. Macintosh file type code: N/A
</pre></div>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
URN Sub-Namespace Registration for
urn:ietf:params:xml:ns:location-filter</h3>

<p>
This section registers a new XML namespace, as per the guidelines in
<a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.

</p>
<p></p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd> The URI for this namespace is
urn:ietf:params:xml:ns:location-filter.

</dd>
<dt>Registrant Contact:</dt>
<dd> IETF, GEOPRIV working group,
&lt;geopriv@ietf.org&gt;, as delegated by the IESG 
&lt;iesg@ietf.org&gt;. 

</dd>
<dt>XML:</dt>
<dd>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

BEGIN
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
          "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;meta http-equiv="content-type"
     content="text/html;charset=iso-8859-1"/&gt;
  &lt;title&gt;Location Filter Namespace&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Namespace for PIDF-LO Location Filters&lt;/h1&gt;
  &lt;h2&gt;urn:ietf:params:xml:ns:location-filter&lt;/h2&gt;
  &lt;p&gt;See &lt;a href="[[[URL of published RFC]]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
END

</pre></div>

</dd>
</dl></blockquote>

<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Schema Registration For location-filter</h3>

<p>This specification registers a schema, as per the guidelines in
<a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
</p>
<p></p>
<blockquote class="text"><dl>
<dt></dt>
<dd>URI: please assign.
</dd>
<dt></dt>
<dd>Registrant Contact: IETF, GEOPRIV Working Group
(geopriv@ietf.org), as delegated by the IESG
(iesg@ietf.org).
</dd>
<dt></dt>
<dd>XML: The XML can be found as the sole content of <a class='info' href='#schema1'>Section&nbsp;3.5<span> (</span><span class='info'>XML Schema for filter format</span><span>)</span></a>.
</dd>
</dl></blockquote>

<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4"></a><h3>6.4.&nbsp;
URN Sub-Namespace Registration for
urn:ietf:params:xml:ns:pidf:geopriv10:containment</h3>

<p>
This section registers a new XML namespace, as per the guidelines in
<a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.

</p>
<p></p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd> The URI for this namespace is
urn:ietf:params:xml:ns:pidf:geopriv10:containment.

</dd>
<dt>Registrant Contact:</dt>
<dd> IETF, GEOPRIV working group,
&lt;geopriv@ietf.org&gt;, as delegated by the IESG
&lt;iesg@ietf.org&gt;. 

</dd>
<dt>XML:</dt>
<dd>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

BEGIN
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
          "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;meta http-equiv="content-type"
     content="text/html;charset=iso-8859-1"/&gt;
  &lt;title&gt;PIDF-LO Location Containment Namespace&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Namespace for PIDF-LO location containment elements&lt;/h1&gt;
  &lt;h2&gt;urn:ietf:params:xml:ns:pidf:geopriv10:containment&lt;/h2&gt;
  &lt;p&gt;See &lt;a href="[[[URL of published RFC]]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
END
</pre></div>

</dd>
</dl></blockquote>

<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5"></a><h3>6.5.&nbsp;
Schema Registration For containment</h3>

<p>This specification registers a schema, as per the guidelines in
<a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
</p>
<p></p>
<blockquote class="text"><dl>
<dt></dt>
<dd>URI: please assign.
</dd>
<dt></dt>
<dd>Registrant Contact: IETF, GEOPRIV Working Group
(geopriv@ietf.org), as delegated by the IESG
(iesg@ietf.org).
</dd>
<dt></dt>
<dd>XML: The XML can be found as the sole content of <a class='info' href='#containment'>Section&nbsp;4<span> (</span><span class='info'>Containment schema</span><span>)</span></a>.
</dd>
</dl></blockquote>

<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<p>
Thanks to Allan Thompson, James Winterbottom, and Martin Thomson for their comments.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="GML">[GML]</a></td>
<td class="author-text">OpenGIS, &ldquo;<a href="http://www.opengis.org/techno/implementation.htm">Open Geography Markup Language (GML) Implementation
         Specification</a>,&rdquo; OpenGIS&nbsp;OGC 02-023r4, January&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-pdif-lo-profile">[I-D.ietf-geopriv-pdif-lo-profile]</a></td>
<td class="author-text">Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-pdif-lo-profile-14.txt">GEOPRIV PIDF-LO Usage Clarification, Considerations and Recommendations</a>,&rdquo; draft-ietf-geopriv-pdif-lo-profile-14 (work in progress), November&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-pdif-lo-profile-14.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.niemi-sipping-event-throttle">[I-D.niemi-sipping-event-throttle]</a></td>
<td class="author-text">Niemi, A., Kiss, K., and S. Loreto, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-niemi-sipping-event-throttle-08.txt">Session Initiation Protocol (SIP) Event Notification Extension for  Notification Throttling</a>,&rdquo; draft-niemi-sipping-event-throttle-08 (work in progress), February&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-niemi-sipping-event-throttle-08.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4119">[RFC4119]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>,&rdquo; RFC&nbsp;4119, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml">[W3C.REC-xml]</a></td>
<td class="author-text"><a href="mailto:tbray@textuality.com">Bray, T.</a>, <a href="mailto:jeanpa@microsoft.com">Paoli, J.</a>, <a href="mailto:cmsmcq@uic.edu">Sperberg-McQueen, C.</a>, and <a href="mailto:eve.maler@east.sun.com">E. Maler</a>, &ldquo;<a href="http://www.w3.org/TR/REC-xml">Extensible Markup Language (XML) 1.0 (2nd ed)</a>,&rdquo; W3C&nbsp;REC-xml, October&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-names">[W3C.REC-xml-names]</a></td>
<td class="author-text"><a href="mailto:tbray@textuality.com">Bray, T.</a>, <a href="mailto:dmh@corp.hp.com">Hollander, D.</a>, and <a href="mailto:andrewl@microsoft.com">A. Layman</a>, &ldquo;<a href="http://www.w3.org/TR/REC-xml-names">Namespaces in XML</a>,&rdquo; W3C&nbsp;REC-xml-names, January&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xmlschema-1">[W3C.REC-xmlschema-1]</a></td>
<td class="author-text">Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, &ldquo;<a href="http://www.w3.org/TR/xmlschema-1/">XML Schema Part 1: Structures</a>,&rdquo; W3C&nbsp;REC-xmlschema-1, May&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.xpath">[W3C.xpath]</a></td>
<td class="author-text"><a href="mailto:jjc@jclark.com">Clark, J.</a> and <a href="mailto:Steven_DeRose@Brown.edu">S. DeRose</a>, &ldquo;<a href="http://www.w3.org/TR/xpath">XML Path Language (XPath) Version 1.0</a>,&rdquo; W3C Recommendation&nbsp;xpath, November&nbsp;1999.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informational References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2141">[RFC2141]</a></td>
<td class="author-text"><a href="mailto:jayhawk@ds.internic.net">Moats, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2141">URN Syntax</a>,&rdquo; RFC&nbsp;2141, May&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2141.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2141.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2141.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2648">[RFC2648]</a></td>
<td class="author-text"><a href="mailto:jayhawk@att.com">Moats, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2648">A URN Namespace for IETF Documents</a>,&rdquo; RFC&nbsp;2648, August&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2648.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Rohan Mahy</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Plantronics</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">345 Encincal Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Santa Cruz, CA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rohan@ekabal.com">rohan@ekabal.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brian Rosen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NeuStar</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">470 Conrad Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mars, PA  16046</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 724 382 1051</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:br@brianrosen.net">br@brianrosen.net</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
