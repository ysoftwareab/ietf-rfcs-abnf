



Internet Draft                                              David Zelig 
Expires: February 2003                                Corrigent Systems 
                                                                       
                                                       Thomas D. Nadeau 
                                                    Cisco Systems, Inc. 
                                                                        
                                                            August 2002
   
   
          Ethernet Pseudo Wire (PW) Management Information Base 
   
                      draft-zelig-pw-enet-mib-01.txt 
   
Status of this Memo 
   
  This document is an Internet-Draft and is in full conformance with 
  all provisions of Section 10 of RFC2026. 
   
  Internet-Drafts are working documents of the Internet Engineering 
  Task Force (IETF), its areas, and its working groups.  Note that 
  other groups may also distribute working documents as Internet-
  Drafts. 
   
  Internet-Drafts are draft documents valid for a maximum of six 
  months and may be updated, replaced, or obsoleted by other documents 
  at any time.  It is inappropriate to use Internet-Drafts as 
  reference material or to cite them other than as "work in progress." 
   
  The list of current Internet-Drafts can be accessed at 
       http://www.ietf.org/ietf/1id-abstracts.txt 
  The list of Internet-Draft Shadow Directories can be accessed at 
       http://www.ietf.org/shadow.html. 
   
  Copyright (C) The Internet Society (2001). All rights reserved. 
   
1 Abstract 
   
  This memo defines an experimental portion of the Management 
  Information Base (MIB) for use with network management protocols in 
  the Internet community.  In particular, it describes managed objects 
  for modeling of Ethernet Pseudo Wire (PW) services.  











   
   Zelig et al.        Expires February 2003                [page 1] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


Table of Contents 
   
   1  Abstract.......................................................1 
   2  Introduction...................................................2 
   3  Terminology....................................................3 
   4  The SNMP Management Framework..................................3 
   4.1  Object Definitions...........................................4 
   5  Feature Checklist..............................................4 
   6  PW-MIB usage...................................................4 
   6.1  PW-ENET-MIB usage............................................5 
   6.2  PW-ENET management model.....................................6 
   6.3  Example of MIB usage.........................................7 
   7  Object definitions.............................................7 
   8  Security Considerations.......................................17 
   9  References....................................................18 
   10   Author's Addresses..........................................20 
   11   Full Copyright Statement....................................20 
   
2 Introduction 
   
  This document describes a model for managing Ethernet pseudo wire 
  services for transmission over a packet Switched Network (PSN). This 
  MIB module is generic and common to all types of PSNs supported in 
  the PWE3 Framework [FRMWK], which describes the transport and 
  encapsulation of L1 and L2 services over supported PSN types. 
   
  In particular, the MIB module associates a whole port or specific 
  VLANs on top of a physical Ethernet port or a virtual Ethernet 
  interface (for VPLS service) to a point-to-point VC. It is 
  complementary to the [PWMIB], which is used to manage the generic PW 
  parameters common to all service, including all supported PSN types. 

   
Conventions used in this document 
   
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
  "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in 
  this document are to be interpreted as described in RFC-2119 
  [BCP14]. 
   
   








    
  Zelig et al          Expires February 2003                [page 2] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


3 Terminology 
   
  This document uses terminology from the document describing the PW 
  framework [FRMWK] and from [PW-ENET]. 
   
   
4 The SNMP Management Framework  
    
  The SNMP Management Framework presently consists of five major 
  components: 
   
  o An overall architecture, described in RFC 2571 [RFC2571]. 
   
   o Mechanisms for describing and naming objects and events for the 
    purpose of management.  The first version of this Structure of 
    Management Information (SMI) is called SMIv1 and described in STD 
    16, RFC 1155 [RFC1155], STD 16, RFC 1212 [RFC1212] and RFC 1215 
    [RFC1215].  The second version, called SMIv2, is described in STD 
    58, RFC 2578 [RFC2578], STD 58, RFC 2579 [RFC2579] and STD 58, RFC 
    2580 [RFC2580]. 
   
   o Message protocols for transferring management information.  The 
    first version of the SNMP message protocol is called SNMPv1 and 
    described in STD 15, RFC 1157 [RFC1157].  A second version of the 
    SNMP message protocol, which is not an Internet standards track 
    protocol, is called SNMPv2c and described in RFC 1901 [RFC1901] 
    and RFC 1906 [RFC1906].  The third version of the message protocol 
    is called SNMPv3 and described in RFC 1906 [RFC1906], RFC 2572 
    [RFC2572] and RFC 2574 [RFC2574]. 
   
   o Protocol operations for accessing management information.  The 
    first set of protocol operations and associated PDU formats is 
    described in STD 15, RFC 1157 [RFC1157].  A second set of protocol 
    operations and associated PDU formats is described in RFC 1905 
    [RFC1905]. 
   
   o A set of fundamental applications described in RFC 2573 [RFC2573] 
    and the view-based access control mechanism described in RFC 2575 
    [RFC2575]. 
   
  A more detailed introduction to the current SNMP Management 
  Framework can be found in RFC 2570 [RFC2570]. 
   
  Managed objects are accessed via a virtual information store, termed 
  the Management Information Base or MIB.  Objects in the MIB are 
  defined using the mechanisms defined in the SMI. 
   
  This memo specifies a MIB module that is compliant to the SMIv2.  A 
  MIB conforming to the SMIv1 can be produced through the appropriate 
  translations.  The resulting translated MIB must be semantically 
  equivalent, except where objects or events are omitted because no 

    
  Zelig et al          Expires February 2003                [page 3] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


  translation is possible (use of Counter64).  Some machine-readable 
  information in SMIv2 will be converted into textual descriptions in 
  SMIv1 during the translation process.  However, this loss of 
  machine-readable information is not considered to change the 
  semantics of the MIB. 
   
4.1  Object Definitions  
   
  Managed objects are accessed via a virtual information store, termed 
  the Management Information Base or MIB.  Objects in the MIB are 
  defined using the subset of Abstract Syntax Notation One (ASN.1) 
  defined in the SMI. In particular, an OBJECT IDENTIFIER, an 
  administratively assigned name, names each object type. The object 
  type together with an object instance serves to uniquely identify a 
  specific instantiation of the object.  For human convenience, we 
  often use a textual string, termed the descriptor, to also refer to 
  the object type.  
    
5 Feature Checklist 
   
  The PW Ethernet MIB (PW-ENET-MIB) is designed to satisfy the 
  following requirements and constraints: 
   
   - The MIB is designed to be work with the PW-MIB [PW-MIB]. 
   
   - The MIB is independent of the PSN type. 
    
   - The MIB supports various options for selecting Ethernet packets 
      into the PW. These include port-based PW, VLAN-based PW, VLAN 
      range PW, VLAN-change and adding or removing VLAN fields between 
      the port to be emulated and the VC. 
   
   - In the case of an MPLS PSN, the MIB support the use of multiple 
      VCs to carry the same Ethernet service. These VCs can be used to 
      support L-LSPs or single COS E-LSPs capable PSN, when mapping of 
      the Ethernet PRI bits to the PSN COS is required. 
   
   - The MIB enables both point-to-point Ethernet services and VPLS 
      services such as VPLS [VPLS]. 
   
   - The MIB allow modeling of the PW as an Ethernet virtual port to 
      be managed via existing Ethernet MIBs like Etherlike-MIB 
      [ENETLIKE]. 
   
   
   
6  PW-MIB usage 
   
  The MIB structure for defining a PW service is composed of three 
  layers of MIB modules functioning together. This general model is 
  defined in the PWE3 Framework [FRMWK].  The layering model is 

    
  Zelig et al          Expires February 2003                [page 4] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


  intended to sufficiently isolate PW services from the underlying PSN 
  layer that carries the emulated service. This is done at the same 
  time as providing a standard means for connecting any supported 
  services to any supported PSNs.  
   
  The first layer known as the service layer contains service-specific 
  modules such as the one defined in this document. These modules 
  define service-specific management objects that interface or 
  collaborate with existing MIB modules for the native version of the 
  service. The service-specific module Ÿglues÷ the standard module to 
  the PWE MIB framework. 
   
  The next layer of the PWE MIB framework is comprised of the PW-MIB 
  module [PWMIB]. This module is used to configure general parameters 
  of PW VCs that are common to all types of emulated services and 
  PSNs. This layer is connected to the service-specific layer above, 
  and the PSN layer below. 
   
  The PSN layer provides PSN-specific modules for each type of PSN. 
  These modules associate the VC with one or more "tunnels" that carry 
  the service over the PSN. These modules are defined in other 
  documents. This module is used to Ÿglue÷ the PW service to the 
  underlying PSN-specific MIB modules. In the case of MPLS, for 
  example, the PW-MPLS MIB [PWMPLSMIB] is used to connect the PW 
  service to either the MPLS-LDP [LDPMIB] or MPLS-TE [TEMIB] MIBs. 
   
  [PWTC] defines some of the object types used in these modules. 
   
  The Etherlike-MIB [ENETLIKE] does not support virtual Ethernet port, 
  however it is sometimes desired to manage the PW VC as an Ethernet 
  port via the Etherlike-MIB. The MIB support an option to recognize 
  the VC as an ifIndex, enabling standard use of the Etherlike-MIB to 
  manage the VC. 
   
   
6.1  PW-ENET-MIB usage 
   
    - The VC table (pwVcTable) is used for all VC types (ATM, FR, 
      Ethernet, SONET, etc.). This table contains high level generic 
      parameters related to the VC creation. A row is created by the 
      operator for each PW service. 
   
    - Based on the PSN type defined for the VC, rows are created in PSN 
      specific module (for example [PWMPLSMIB]) and associated to the 
      VC table by a common VC index. 

    - If the VC type is Ethernet, EthernetVLAN or EthernetVPLS a row is 
      created in pwVcEnetTable. 
     
    - When using a MPLS PSN, it may be required to separate the same 
      Ethernet services to multiple PW in order to support multiple COS 

    
  Zelig et al          Expires February 2003                [page 5] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


      on the same service. In this case, multiple VCs, each with the 
      appropriate COS will be created to the same destination, and 
      classification will be based also on the Ethernet PRI bits 
      marking. The MIB allow any combinations of multiple PRI setting 
      to PSN COS mapping (The exact PSN marking (EXP bits, DSCP etc.) 
      is out of scope of this MIB). In these cases, pwVcEnetTable will 
      hold multiple rows with the same Ethernet port and VLAN mapping, 
      each VC will need to be created separately by the signaling 
      process.  

     
6.2  PW-ENET management model 
   
  The management model for the Ethernet PW VC is shown in figure 1, 
  and is based on the PW proposed layering [PWLAYRES]. 
   
   
                  +--------------------------------------+ 
                  |                PE Device             | 
                  +--------------------------------------+ 
           Single |                 |                    | 
           PWES   |                 |      Single        | PW Instance 
          <------>o   Forwarder     +      PW IWF        X<=========> 
                  |                 |      Instance      | 
                  +--------------------------------------+                           
                                    ^ 
                                    | 
                             May be modeled as 
                                 ifIndex 
   
     Notation: 
     o       A physical CE-bound PE port 
     +       A PW IWF instance interface to the forwarder. 
     X       A PE PSN-bound port. 
   
               Figure 1: A simple point-to-point service 
   
   
  In the typical point-to-point service, the object 
  pwVcEnetPortIfIndex associate the physical CE-bound PE port ('o') to 
  the PW (it is allowed to have multiple PWs associated to the same 
  physical port). The operations of the forwarder are also managed by 
  this MIB. 
   
  In some models it is convenient to model the forwarder virtual 
  interface to a PW IWF instance ('O') as an ifIndex - The object 
  pwVcEnetIfIndex indicate this relation in this case, and the PW 
  instance is managed as virtual Ethernet interface in the PE. 
   



    
  Zelig et al          Expires February 2003                [page 6] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


  The model for using the VC in non-point to point applications, such 
  as VPLS are done with the same principle in mind, but the details 
  are yet FFS. 
   
6.3  Example of MIB usage 
   
  TBD 

7 Object definitions 
   
   
  --  
  -- Ethernet PW MIB 
  -- 
   
  PW-ENET-MIB DEFINITIONS ::= BEGIN 
   
  IMPORTS 
      OBJECT-TYPE, MODULE-IDENTITY, experimental,  
      Counter64 
          FROM SNMPv2-SMI 
       
      MODULE-COMPLIANCE, OBJECT-GROUP 
          FROM SNMPv2-CONF 
       
      StorageType, RowStatus 
          FROM SNMPv2-TC 
   
      InterfaceIndexOrZero 
          FROM IF-MIB 
   
      pwVcIndex 
          FROM PW-MIB 
       
      PwVcVlanCfg 
          FROM PW-TC-MIB; 
           
  pwVcEnetMIB MODULE-IDENTITY 
      LAST-UPDATED "200208201200Z" -- 20 August 2002 12:00:00 GMT 
      ORGANIZATION  
          "IETF PWE3 Working group" 
      CONTACT-INFO  
          "David Zelig 
           Postal: Corrigent Systems  
           126, Yigal Alon St. 
           Tel Aviv, ISRAEL 
           Phone: +972-3-6945273 
           E-mail: davidz@corrigent.com 
           
           Thomas D. Nadeau 
           Postal: Cisco Systems, Inc. 

    
  Zelig et al          Expires February 2003                [page 7] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


           250 Apollo Drive 
           Chelmsford, MA 01824 
           Tel:    +1-978-497-3051 
           Email:  tnadeau@cisco.com 
          " 
      DESCRIPTION  
          "This MIB describes a model for managing Ethernet  
          point-to-point pseudo wire services over a Packet  
          Switched Network (PSN)." 
   
     -- Revision history. 
     REVISION 
         "200208201200Z" -- 20 August 2002 12:00:00 GMT 
     DESCRIPTION 
         "Changes from previous version: 
          1) Add pwVcEnetVcIfIndex - Option for VC as ifIndex. 
          2) Change counters to 64 bits. 
          3) Add mode for adding/removing VLAN fields between PW and 
             CE bound interface. 
          4) Referencing draft-martini instead of draft-so. 
          5) Editorial changes for some description clauses. 
          6) MPLS PRI mapping table to be independent (not augmented). 
          7) Adapt descriptions and rules of use to  
             dratf-ietf-pw3ei-Ethernet-encap-00. 
          "  
     REVISION 
         "200202031200Z"  -- 03 February 2002 12:00:00 GMT 
     DESCRIPTION 
         "initial revision as -00 draft"  
   
      ::= { experimental xxx } -- TBD: Get number from IANA 
   
   
  pwVcEnetNotifications  OBJECT IDENTIFIER ::= { pwVcEnetMIB 0 } 
  pwVcEnetObjects        OBJECT IDENTIFIER ::= { pwVcEnetMIB 1 } 
  pwVcEnetConformance    OBJECT IDENTIFIER ::= { pwVcEnetMIB 2 } 
   
  -- 
  -- VC Ethernet table 
  -- 
   
  pwVcEnetTable  OBJECT-TYPE 
      SYNTAX SEQUENCE OF PwVcEnetEntry 
      MAX-ACCESS  not-accessible 
      STATUS     current 
      DESCRIPTION  
          "This table contains the index to the Ethernet tables  
          associated with this ETH VC, the VLAN configuration and  
          VLAN mode." 
      ::= { pwVcEnetObjects 1 } 
   

    
  Zelig et al          Expires February 2003                [page 8] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


  pwVcEnetEntry  OBJECT-TYPE 
      SYNTAX     PwVcEnetEntry 
      MAX-ACCESS  not-accessible 
      STATUS     current 
      DESCRIPTION  
          "This table is indexed by the same index that was created  
          for the associated entry in the PW VC Table in the PW-MIB. 
          The PwVcIndex and the pwVcEnetPwVlan are used as indexes  
          to allow multiple VLANs to exist on the same PW. 
                           
          An entry is created in this table by the agent for every  
          entry in the pwVc table with a VcType of 'ethernetVLAN', 
          'ethernet' or 'ethernetVPLS'. Additional rows may be  
          created by the operator or the agent if multiple entries 
          are required for the same VC. 
       
          This table provides Ethernet port mapping and VLAN  
          configuration for each Ethernet VC." 
   
      INDEX { pwVcIndex, pwVcEnetPwVlan } 
      ::= { pwVcEnetTable 1 } 
   
  PwVcEnetEntry ::= SEQUENCE { 
         pwVcEnetPwVlan        PwVcVlanCfg, 
         pwVcEnetVlanMode      INTEGER, 
         pwVcEnetMaxVlan       PwVcVlanCfg, 
         pwVcEnetPortVlan      PwVcVlanCfg, 
   
         pwVcEnetPortIfIndex   InterfaceIndexOrZero, 
         pwVcEnetVcIfIndex     InterfaceIndexOrZero, 
   
         pwVcEnetRowStatus     RowStatus, 
         pwVcEnetStorageType   StorageType 
                    } 
   
  pwVcEnetPwVlan  OBJECT-TYPE 
      SYNTAX      PwVcVlanCfg 
      MAX-ACCESS  not-accessible 
      STATUS      current 
      DESCRIPTION  
          "This Object defines the VLAN on the VC. The value of 4097 
          is used if the object is not applicable, for example when 
          mapping all packets from an Ethernet port to this VC. 
          The value of 4096 is used to indicate untagged frames (at  
          least from the PW point of view), for example if  
          pwVcEnetVlanMode is equal 'removeVLAN' or when  
          pwVcEnetVlanMode equal 'noChange' and pwVcEnetPortVlan 
          is equal 4096." 
      ::= { pwVcEnetEntry 1 } 
   
  pwVcEnetVlanMode  OBJECT-TYPE 

    
  Zelig et al          Expires February 2003                [page 9] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


      SYNTAX     INTEGER { 
              portBased(0), 
              noChange(1), 
              changeVlan(2), 
              addVlan(3), 
              removeVlan(4), 
              rangeVlan(5) 
      } 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "Indicate the mode of VLAN handling between the port  
          associated to the VC and the VC encapsulation itself. 
   
          - 'portBased' indicates that the forwarder will forward 
            packets to the PW independent of their structure, 
            based on the incoming port only. 
   
          - 'noChange' indicates that the VC contains the original 
             user VLAN, as specified in pwVcEnetPortVlan. 
   
          - 'changeVlan' indicates that the VLAN field on the VC  
            may be different than the VLAN field on the user's  
            port. 
   
          - 'removeVlan' indicates that the encapsulation on the  
            VC does not include the original VLAN field. Note  
            that PRI bits transparency is lost in this case. 
   
          - 'addVlan' indicate that a VLAN field will be added 
            on the PSN bound direction. pwVcEnetPwVlan indicate 
            the value that will be added.  
   
          - 'rangeVlan' indicate that all VLANs between  
            pwVcEnetPwVlan and pwVcEnetMaxVlan on the user port  
            will be associated to this VC. It is not possible to 
            change VLAN values on this mode. 
           
          - 'removeVlan', 'addVlan' and 'rangeVlan' implementation 
            is not required. 
          " 
      DEFVAL { noChange } 
      ::= { pwVcEnetEntry 2 } 
   
  pwVcEnetMaxVlan  OBJECT-TYPE 
      SYNTAX     PwVcVlanCfg 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "This object is used to define the MAX value of VLAN range 
           for this VC, and is in effect if pwVcEnetVlanMode is equal 

    
  Zelig et al          Expires February 2003               [page 10] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


           to 'rangeVlan', and must be greater or equal to  
           pwVcEnetPwVlan.  
           If a range is not used the value must be set to 0." 
      DEFVAL  { 0 } 
      ::= { pwVcEnetEntry 3 } 
   
  pwVcEnetPortVlan  OBJECT-TYPE 
      SYNTAX     PwVcVlanCfg 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "This object define the VLAN value on the physical port (or  
          VPLS virtual port) if a change is required to the VLAN value 
          between the VC and the physical/virtual port. 
           
          This object MUST hold the value of 4097 (not relevant) if  
          the whole traffic from the port is forwarded to one VC  
          independent of the tagging on the port or if  
          pwVcEnetVlanMode is set to rangeVlan. 
   
          It MUST be equal to pwVcEnetPwVlan if 'noChange' mode 
          is used. 
           
          The value 4096 indicate that no VLAN (i.e. untagged  
          frames) on the port are associated to this VC. This  
          allows the same behaviors as assigning 'Default VLAN'  
          to un-tagged frames. 
          " 
      DEFVAL  { 4097 } 
      ::= { pwVcEnetEntry 4 } 
   
  pwVcEnetVcIfIndex  OBJECT-TYPE 
      SYNTAX     InterfaceIndexOrZero 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "It is sometimes convenient to model the VC PW as a  
           virtual interface in the ifTable. In these cases this  
           object hold the value of the ifIndex in the ifTable  
           representing this VC PW. A value of zero indicate no such  
           association or association is not yet known." 
            
      ::= { pwVcEnetEntry 5 } 
       
  pwVcEnetPortIfIndex  OBJECT-TYPE 
  SYNTAX     InterfaceIndexOrZero 
  MAX-ACCESS  read-create 
  STATUS     current 
  DESCRIPTION  
      "This object is used to specify the ifIndex of the ETHERNET 
       port associated with this VC for point-to-point Ethernet  

    
  Zelig et al          Expires February 2003               [page 11] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


       service, or the ifIndex of the virtual interface of the VPLS  
       instance associated with the PW if the service is VPLS. Two  
       rows in this table can point to the same ifIndex only if: 
   
       1) It is required to support multiple COS on a MPLS PSN  
          for the same service (i.e.: a combination of ports and  
          VLANs) by the use of multiple VC, each with a different 
          COS. 
   
       2) There is no overlap of VLAN values specified in  
          pwVcEnetPortVlan that are associated with this port. 
   
       A value of zero indicate that association to an ifIndex is 
       not yet known." 
        
  ::= { pwVcEnetEntry 6 } 
   
  pwVcEnetRowStatus  OBJECT-TYPE 
      SYNTAX     RowStatus 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "Enable creating, deleting and modifying this row." 
  -- TBD: Need to specify exact interaction with other tables, and  
  -- when rows can/cannot be created/deleted/modified. 
      ::= { pwVcEnetEntry 7 } 
   
  pwVcEnetStorageType  OBJECT-TYPE 
      SYNTAX     StorageType 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "Indicates the storage type of this row." 
      ::= { pwVcEnetEntry 8 } 
   
   
  -- 
  -- Ethernet Primary Mapping Table 
  -- 
   
  pwVcEnetMplsPriMappingTable  OBJECT-TYPE 
      SYNTAX SEQUENCE OF PwVcEnetMplsPriMappingTableEntry 
      MAX-ACCESS  not-accessible 
      STATUS     current 
      DESCRIPTION  
          "This table may be used for MPLS PSNs if there is a need  
          to hold multiple VC, each with different COS, for the same 
          user service (port + PW VLAN). Such a need may arise if the 
          MPLS network is capable of L-LSP or E-LSP without multiple 
          COS capabilities.  Each row is indexed by the pwVcIndex  
          and indicate the PRI bits on the packet recieved from the  

    
  Zelig et al          Expires February 2003               [page 12] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


          user port (or VPLS virtual port) that are 
          classified to this VC. Note that the EXP bit value of the VC 
          is configured in the PW-MPLS-MIB." 
      ::= { pwVcEnetObjects 2 } 
   
  pwVcEnetMplsPriMappingTableEntry  OBJECT-TYPE 
      SYNTAX     PwVcEnetMplsPriMappingTableEntry 
      MAX-ACCESS  not-accessible 
      STATUS     current 
      DESCRIPTION  
          "Each entry is created if special classification based on  
           the PRI bits is required for this VC." 
       
      INDEX { pwVcIndex } 
   
      ::= { pwVcEnetMplsPriMappingTable 1 } 
   
  PwVcEnetMplsPriMappingTableEntry ::= SEQUENCE { 
      pwVcEnetMplsPriMapping             BITS, 
      pwVcEnetMplsPriMappingRowStatus    RowStatus, 
      pwVcEnetMplsPriMappingStorageType  StorageType 
  } 
   
  pwVcEnetMplsPriMapping  OBJECT-TYPE 
      SYNTAX     BITS { 
          pri000 (0), 
          pri001 (1), 
          pri010 (2), 
          pri011 (3), 
          pri100 (4), 
          pri101 (5), 
          pri110 (6), 
          pri111 (7), 
          untagged (8) 
      } 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "This object defines the groups of user PRI mapped into 
          this VC. Each bit set indicates that this user priority  
          is assigned to this VC. 
           
          The value 'untagged' is used to indicate that untagged  
          frames are also associated to this VC. 
           
          This object allow the use of different PSN COS based on  
          user marking of PRI bits in MPLS PSN with L-LSP or  
          E-LSP without multiple COS support. In all other cases,  
          the default value MUST be used. 
           
          It is REQUIRED that there is no overlap on this object  

    
  Zelig et al          Expires February 2003               [page 13] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


          between rows serving the same service (port+ PW VLAN). 
           
          In case of missing BIT configuration between rows to  
          the same service, incoming packets with PRI marking not  
          configured should be handled by the VC with the lowest  
          COS. 
          " 
      REFERENCE  
          "See appendix A of <draft-ietf-pwe3i-ethernet-encap> 
           for mapping rules of the PRI bits to PSN COS." 
   
      ::= { pwVcEnetMplsPriMappingTableEntry 1 } 
   
  pwVcEnetMplsPriMappingRowStatus  OBJECT-TYPE 
      SYNTAX     RowStatus 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "Enable creating, deleting and modifying this row." 
  -- TBD: Need to specify exact interaction with other tables, and  
  -- when rows can/cannot be created/deleted/modified. 
      ::= { pwVcEnetMplsPriMappingTableEntry 2 } 
   
  pwVcEnetMplsPriMappingStorageType  OBJECT-TYPE 
      SYNTAX     StorageType 
      MAX-ACCESS  read-create 
      STATUS     current 
      DESCRIPTION  
          "Indicates the storage type of this row." 
      ::= { pwVcEnetMplsPriMappingTableEntry 3 } 
   
   
  -- 
  -- VC Ethernet Statistics Table 
  -- 
   
  pwVcEnetStatsTable  OBJECT-TYPE 
      SYNTAX SEQUENCE OF PwVcEnetStatsEntry 
      MAX-ACCESS  not-accessible 
      STATUS     current 
      DESCRIPTION  
          "This table contains statistical counters specific for  
           Ethernet PW." 
      ::= { pwVcEnetObjects 3 } 
   
  pwVcEnetStatsEntry  OBJECT-TYPE 
      SYNTAX     PwVcEnetStatsEntry 
      MAX-ACCESS  not-accessible 
      STATUS     current 
      DESCRIPTION  
          "Each entry represents the statistics gathered for the  

    
  Zelig et al          Expires February 2003               [page 14] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


           VC carrying the Ethernet packets since this VC was  
           first created in the pwVcEnetTable." 
      INDEX { pwVcIndex } 
      ::= { pwVcEnetStatsTable 1 } 
   
  PwVcEnetStatsEntry ::= SEQUENCE { 
      pwVcEnetStatsIllegalVlan        Counter64, 
      pwVcEnetStatsIllegalLength      Counter64 
  } 
   
  pwVcEnetStatsIllegalVlan  OBJECT-TYPE 
      SYNTAX     Counter64 
      MAX-ACCESS  read-write 
      STATUS     current 
      DESCRIPTION  
      "The number of packets received (from the PSN) on this VC with  
      an illegal VLAN field, missing VLAN field that was expected, or  
      A VLAN field when it was not expected. This counter is not  
      relevant if the VC type is 'ethernet' (i.e. raw mode), and  
      should be set to 0 by the agent to indicate this." 
      ::= { pwVcEnetStatsEntry 1 } 
   
  pwVcEnetStatsIllegalLength  OBJECT-TYPE 
      SYNTAX     Counter64 
      MAX-ACCESS  read-write 
      STATUS     current 
      DESCRIPTION  
      "The number of packets that were received with an illegal  
      Ethernet packet length on this VC. An illegal length is defined 
      as being greater than the value in the advertised maximum MTU  
      supported, or shorter than the allowed Ethernet packet size." 
      ::= { pwVcEnetStatsEntry 2 } 
   
  --- 
  --- Conformance description 
  --- In this version of the draft, only objects level conformance is 
  --- defined. More detailed conformance specifications is FFS. 
  --- 
   
  pwVcEnetGroups      OBJECT IDENTIFIER ::= { pwVcEnetConformance 1 } 
  pwVcEnetCompliances OBJECT IDENTIFIER ::= { pwVcEnetConformance 2 } 
   
   
  pwVcEnetModuleCompliance MODULE-COMPLIANCE 
      STATUS  current 
      DESCRIPTION 
              "The compliance statement for agent that support  
               Ethernet PW." 
   
      MODULE  -- this module 
          MANDATORY-GROUPS { pwVcEnetGroup, 

    
  Zelig et al          Expires February 2003               [page 15] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


                             pwVcStatsGroup 
                           } 
    
        GROUP pwVcEnetMplsPriGroup 
        DESCRIPTION 
            "Collection of objects defining classification to 
            different PW based on the user's PRI bits mapping. 
            This group is optional, and should be implemented 
            only for MPLS PSN where only L-LSP or single OA  
            E-LSP, exists, and different PSN COS is required 
            based on the PRI mapping." 
                         
      ::= { pwVcEnetCompliances 1 } 
   
  -- Units of conformance. 
   
  pwVcEnetGroup OBJECT-GROUP  
     OBJECTS { 
              pwVcEnetVlanMode, 
              pwVcEnetMaxVlan, 
              pwVcEnetPortVlan, 
              pwVcEnetPortIfIndex, 
              pwVcEnetVcIfIndex, 
              pwVcEnetRowStatus, 
              pwVcEnetStorageType 
     } 
     STATUS  current 
     DESCRIPTION 
            "Collection of objects for basic Ethernet PW config." 
     ::= { pwVcEnetGroups 1 } 
   
  pwVcStatsGroup OBJECT-GROUP  
     OBJECTS { 
              pwVcEnetStatsIllegalVlan, 
              pwVcEnetStatsIllegalLength 
     }           
     STATUS  current 
     DESCRIPTION 
            "Collection of objects counting various PW level errors." 
     ::= { pwVcEnetGroups 2 } 
   
  pwVcEnetMplsPriGroup OBJECT-GROUP  
     OBJECTS { 
              pwVcEnetMplsPriMapping, 
              pwVcEnetMplsPriMappingRowStatus, 
              pwVcEnetMplsPriMappingStorageType 
     }           
     STATUS  current 
     DESCRIPTION 
            "Collection of objects defining classification to 
            different PW based on the user's PRI bits mapping. 

    
  Zelig et al          Expires February 2003               [page 16] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


            This group is optional, and should be implemented 
            only for MPLS PSN where only L-LSP or single OA  
            E-LSP exists, and different PSN COS is required 
            based on the PRI mapping." 
     ::= { pwVcEnetGroups 3 } 
   
  END 
   
   
8 Security Considerations 
   
  There are a number of management objects defined in this MIB that 
  have a MAX-ACCESS clause of read-write and/or read-create.  Such 
  objects may be considered sensitive or vulnerable in some network 
  environments.  The support for SET operations in a non-secure 
  environment without proper protection can have a negative effect on 
  network operations. 
   
  SNMPv1 by itself is not a secure environment.  Even if the network 
  itself is secure (for example by using IPSec), even then, there is 
  no control as to who on the secure network is allowed to access and 
  GET/SET (read/change/create/delete) the objects in this MIB. 
   
  It is recommended that the implementers consider the security 
  features as provided by the SNMPv3 framework.  Specifically, the use 
  of the User-based Security Model RFC 2574 [RFC2574] and the View-
  based Access Control Model RFC 2575 [RFC2575] is recommended. 
   
  It is then a customer/user responsibility to ensure that the SNMP 
  entity giving access to an instance of this MIB, is properly 
  configured to give access to the objects only to those principals 
  (users) that have legitimate rights to indeed GET or SET 
  (change/create/delete) them. 
   


















    
  Zelig et al          Expires February 2003               [page 17] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


   
9 References 
   
  [ENETPW]    Martini et al, "Encapsulation Methods for Transport of 
               Ethernet Frames Over IP/MPLS Networks", <draft-ietf-
               pw3ei-ethernet-encap-00.txt>, August 2002. 
    
  [FRMWK]     Pate et al, "Framework for Pseudo Wire Emulation Edge-
               to-Edge (PWE3)", <draft-ietf-pwe3-framework-01.txt>, 
               June 2002.   
   
  [PWREQ]     Xiao et al, "Requirements for Pseudo Wire Emulation 
               Edge-to-Edge (PWE3)", <draft-ietf-pwe3-requirements-
               03.txt>, June 2002. 
   
  [PWLAYER]   Bryant, et al., "Protocol Layering in PWE3", <draft-
               ietf-pwe3-protocol-layer-00.txt>, May 2002. 
   
  [VPLS]      Augustyn et al, "Requirements for Virtual Private LAN 
               Services (VPLS)", <draft-augustyn-vpls-requirements-
               01.txt>, February 2002.   
   
  [PWTC]      Nadeau, T., et al, "Definitions for Textual Conventions 
               and OBJECT-IDENTITIES for Pseudo-Wires Management", 
               <draft-ietf-pw-tc-mib-00.txt>, June 2002.  
   
  [PWMIB]     Zelig et al, ŸPseudo Wire (PW) Management Information 
               Base÷, <draft-ietf-pwe3-pw-mib-00.txt>, June 2002. 
   
  [PWMPLSMIB] Zelig et al, ŸPseudo Wire (PW) Over MPLS PSN Management 
               Information Base÷, <draft-ietf-pwe3-pw-mpls-mib-00.txt>, 
               June 2002. 
   
  [ENETLIKE]  Flick, J., "Definitions of Managed Objects for the 
               Ethernet-like Interface Types", <draft-ietf-hubmib-
               etherif-mib-v3-02.txt>, May 2002. 
   
  [IANAFamily] Internet Assigned Numbers Authority (IANA), ADDRESS 
               FAMILY NUMBERS, (http://www.isi.edu/in-
               notes/iana/assignements/address-family-numbers), for MIB 
               see: ftp://ftp.isi.edu/mib/ianaaddressfamilynumbers.mib  
   
  [IFMIB]     McCloghrie, K., and F. Kastenholtz, "The Interfaces 
               Group MIB using SMIv2", RFC 2863, January 2000.  
    
  [BCP14]     Bradner, S., "Key words for use in RFCs to Indicate 
               requirement Levels", BCP 14, RFC 2119, March 1997. 
   
  [RFC2571]   Harrington, D., Presuhn, R., and B. Wijnen, "An 
               Architecture for Describing SNMP Management Frameworks", 
               RFC 2571, April 1999. 

    
  Zelig et al          Expires February 2003               [page 18] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


   
  [RFC1155]   Rose, M., and K. McCloghrie, "Structure and 
               Identification of Management Information for TCP/IP-
               based Internets", STD 16, RFC 1155, May 1990. 
   
  [RFC1212]   Rose, M., and K. McCloghrie, "Concise MIB Definitions", 
               STD 16, RFC 1212, March 1991. 
   
   [RFC1215]  M. Rose, "A Convention for Defining Traps for use with 
              the SNMP", RFC 1215, March 1991. 
   
  [RFC2578]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J, 
               Rose, M., and S. Waldbusser, "Structure of Management 
               Information Version 2 (SMIv2)", STD 58, RFC 2578, April 
               1999. 
   
  [RFC2579]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J, 
               Rose, M., and S. Waldbusser, "Textual Conventions for 
               SMIv2", STD 58, RFC 2579, April 1999. 
   
  [RFC2580]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J, 
               Rose, M., and S. Waldbusser, "Conformance Statements for 
               SMIv2", STD 58, RFC 2580, April 1999. 
   
  [RFC1157]   Case, J., Fedor, M., Schoffstall, M., and J. Davin, 
               "Simple Network Management Protocol", STD 15, RFC 1157, 
               May 1990. 
   
  [RFC1901]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, 
               "Introduction to Community-based SNMPv2", RFC 1901, 
               January 1996. 
   
  [RFC1906]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, 
               "Transport Mappings for Version 2 of the Simple Network 
               Management Protocol (SNMPv2)", RFC 1906, January 1996. 
   
  [RFC2572]   Case, J., Harrington D., Presuhn R., and B. Wijnen, 
               "Message Processing and Dispatching for the Simple 
               Network Management Protocol (SNMP)", RFC 2572, April 
               1999. 
   
  [RFC2574]   Blumenthal, U., and B. Wijnen, "User-based Security 
               Model (USM) for version 3 of the Simple Network 
               Management Protocol (SNMPv3)", RFC 2574, April 1999. 
   
  [RFC1905]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, 
               "Protocol Operations for Version 2 of the Simple Network 
               Management Protocol (SNMPv2)", RFC 1905, January 1996. 
   
  [RFC2573]   Levi, D., Meyer, P., and B. Stewart, "SNMPv3 
               Applications", RFC 2573, April 1999. 

    
  Zelig et al          Expires February 2003               [page 19] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


   
  [RFC2575]   Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based 
               Access Control Model (VACM) for the Simple Network 
               Management Protocol (SNMP)", RFC 2575, April 1999. 
   
  [RFC2570]   Case, J., Mundy, R., Partain, D., and B. Stewart, 
               "Introduction to Version 3 of the Internet-standard 
               Network Management Framework", RFC 2570, April 1999. 
   
0 Author's Addresses 
   
  David Zelig 
  Corrigent Systems 
  126, Yigal Alon st. 
  Tel Aviv, ISRAEL 
  Phone:  +972-3-6945273 
  Email:  davidz@corrigent.com 
   
  Thomas D. Nadeau  
  Cisco Systems, Inc.  
  250 Apollo Drive  
  Chelmsford, MA 01824  
  Email: tnadeau@cisco.com  
   
   
   
1 Full Copyright Statement 

  Copyright (C) The Internet Society (2000).  All Rights Reserved. 
   
  This document and translations of it may be copied and furnished to 
  others, and derivative works that comment on or otherwise explain it 
  or assist in its implementation may be prepared, copied, published 
  and distributed, in whole or in part, without restriction of any 
  kind, provided that the above copyright notice and this paragraph 
  are included on all such copies and derivative works.  However, this 
  document itself may not be modified in any way, such as by removing 
  the copyright notice or references to the Internet Society or other 
  Internet organizations, except as needed for the purpose of 
  developing Internet standards in which case the procedures for 
  copyrights defined in the Internet Standards process must be 
  followed, or as required to translate it into languages other than 
  English. 
   
  The limited permissions granted above are perpetual and will not be 
  revoked by the Internet Society or its successors or assigns. This 
  document and the information contained herein is provided on an "AS 
  IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK 
  FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT 
  NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN 

    
  Zelig et al          Expires February 2003               [page 20] 

                     Ethernet Pseudo Wire (PW)           August 2002 
                    Management Information Base 


  WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
  MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
   

















































    
  Zelig et al          Expires February 2003               [page 21] 
