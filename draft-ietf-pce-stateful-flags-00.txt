



PCE Working Group                                              A. Farrel
Internet-Draft                                        Old Dog Consulting
Updates: 8231 (if approved)                             November 7, 2019
Intended status: Standards Track
Expires: May 10, 2020


   Updated Rules for Processing Stateful PCE Request Parameters Flags
                    draft-ietf-pce-stateful-flags-00

Abstract

   Extensions to the Path Computation Element Communication Protocol
   (PCEP) to support stateful Path Computation Elements (PCEs) are
   defined in RFC 8231.  One of the extensions is the Stateful PCE
   Request Parameters (SRP) object.  That object includes a Flags field
   that is a set of 32 bit flags, and RFC 8281 defines an IANA registry
   for tracking assigned flags.  However, RFC 8231 does not explain how
   an implementation should set unassigned flags in transmitted
   messages, nor how an implementation should process unassigned,
   unknown, or unsupported flags in received messages.

   This document updates RFC 8231 by defining the correct behaviors.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 10, 2020.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Farrel                    Expires May 10, 2020                  [Page 1]

Internet-Draft             Stateful PCEP Flags             November 2019


   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Requirements Language . . . . . . . . . . . . . . . . . . . .   3
   3.  Updated Procedures  . . . . . . . . . . . . . . . . . . . . .   3
   4.  Compatibility Considerations  . . . . . . . . . . . . . . . .   3
   5.  Implementation Status . . . . . . . . . . . . . . . . . . . .   4
   6.  Management Considerations . . . . . . . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   9.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     10.1.  Normative References . . . . . . . . . . . . . . . . . .   5
     10.2.  Informative References . . . . . . . . . . . . . . . . .   5
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   [RFC5440] describes the Path Computation Element Communication
   Protocol (PCEP).  PCEP defines the communication between a Path
   Computation Client (PCC) and a Path Computation Element (PCE), or
   between PCEs, enabling computation of Multiprotocol Label Switching
   (MPLS) for Traffic Engineering Label Switched Path (TE LSP)
   characteristics.

   [RFC8231] specifies a set of extensions to PCEP to enable stateful
   control of LSPs within and across PCEP sessions in compliance with
   [RFC4657].  It includes mechanisms to effect Label Switched Path
   (LSP) State Synchronization between PCCs and PCEs, delegation of
   control over LSPs to PCEs, and PCE control of timing and sequence of
   path computations within and across PCEP sessions.

   One of the extensions defined in [RFC8231] is the Stateful PCE
   Request Parameters (SRP) object.  That object includes a Flags field
   that is a set of 32 bit flags, and RFC 8281 defines an IANA registry
   for tracking assigned flags.  However, RFC 8231 does not explain how
   an implementation should set unassigned flags in transmitted
   messages, nor how an implementation should process unassigned or
   unknown flags in received messages.




Farrel                    Expires May 10, 2020                  [Page 2]

Internet-Draft             Stateful PCEP Flags             November 2019


   This document updates RFC 8231 by defining the correct behaviors.

2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Updated Procedures

   Section 7.2 of [RFC8231] defines the PCEP SRP object.  It describes
   the flags field as:

      Flags (32 bits): None defined yet.

   This document updates that text as follows:

      Flags (32 bits): This document does not define any flags.
      Unassigned flags MUST be set to zero on transmission and MUST be
      ignored on receipt.  Implementations that do not understand any
      particular flag MUST ignore the flag.

4.  Compatibility Considerations

   While one of the main objectives of the changes made by this document
   is to enable backward compatibility, there remains an issue of
   compatibility between existing implementations of RFC 8231 and
   implementations that are consistent with this document.

   It should be noted that common behavior for flags fields is as
   described by the updated text presented in Section 3.  Thus, many
   implementations, lacking guidance from RFC 8231, will still have
   implemented a consistent and future-proof approach.  However, for
   completeness it is worth noting how behaviors might interact between
   implementations.

   SRP objects generated by an implementation of this document will set
   all unknown flag bits to zero and will therefore cause no issues to
   an older implementation even if it inspects those bits.  Similarly,
   an implementation of this document will not inspect any unknown flag
   bits and will therefore be unaffected by older implementations no
   matter how they set the flags.

   There will remain an issue with compatibility between implementations
   of RFC 8231 that might set any of the unassigned flags, and current
   (such as [RFC8281]) and future (such as



Farrel                    Expires May 10, 2020                  [Page 3]

Internet-Draft             Stateful PCEP Flags             November 2019


   [I-D.ietf-pce-lsp-control-request]) specifications.  That problem
   cannot be fixed in old implementations by any amount of
   documentation, and can only be handled for future specifications by
   obsoleting the Flags field and using a new technique.  Fortunately,
   however, most implementations will have been constructed to set
   unused flags to zero which is consistent with the behavior described
   in this document.

5.  Implementation Status

   [NOTE TO RFC EDITOR: Please remove this section before publication as
   an RFC.]

   While this document describes changes to [RFC8231] that are important
   for implementation, and while the document gives advice to
   implementations, there is nothing specific in this document to
   implement.

   A private and unscientific poll of implementers of RFC 8231 conducted
   by the author suggests that existing implementations already abide by
   the modification set out in this document.

6.  Management Considerations

   Implementations receiving set SRP flags that they do not recognize
   MAY log the fact.  That could be helpful for diagnosing backward
   compatibility issues with future features that utilize those flags.

7.  Security Considerations

   [RFC8231] sets out security considerations for PCEP when used for
   communication with a stateful PCE.  This document does not change
   those considerations.

   However, by defining the expected behavior of implementations, this
   document may improve the stability of networks and thus reduce the
   attack surface.

8.  IANA Considerations

   IANA maintains a registry called the "Path Computation Element
   Protocol (PCEP) Numbers" registry with a subregistry called " SRP
   Object Flag Field".  IANA is requested to update the Reference in
   that subregistry to include a reference to this document in addition
   to [RFC8281].






Farrel                    Expires May 10, 2020                  [Page 4]

Internet-Draft             Stateful PCEP Flags             November 2019


9.  Acknowledgements

   Thanks to the authors of [I-D.ietf-pce-lsp-control-request] for
   exposing the need for this work.  Thanks to Dhruv Dhody and Julien
   Meuric for discussing the solution.  Additional thanks to Hariharan
   Ananthakrishnan for his Shepherd's review.

10.  References

10.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8231]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", RFC 8231,
              DOI 10.17487/RFC8231, September 2017,
              <https://www.rfc-editor.org/info/rfc8231>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

10.2.  Informative References

   [I-D.ietf-pce-lsp-control-request]
              Raghuram, A., Goddard, A., Karthik, J., Sivabalan, S., and
              M. Negi, "Ability for a Stateful Path Computation Element
              (PCE) to request and obtain control of a Label Switched
              Path (LSP)", draft-ietf-pce-lsp-control-request-11 (work
              in progress), October 2019.

   [RFC4657]  Ash, J., Ed. and J. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol Generic
              Requirements", RFC 4657, DOI 10.17487/RFC4657, September
              2006, <https://www.rfc-editor.org/info/rfc4657>.






Farrel                    Expires May 10, 2020                  [Page 5]

Internet-Draft             Stateful PCEP Flags             November 2019


   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

Author's Address

   Adrian Farrel
   Old Dog Consulting

   Email: adrian@olddog.co.uk








































Farrel                    Expires May 10, 2020                  [Page 6]
