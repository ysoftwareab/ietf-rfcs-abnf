



Spring                                              M. Jethanandani, Ed.
Internet-Draft                                               T. Murakami
Intended status: Standards Track                             Arrcus, Inc
Expires: 4 September 2022                                   3 March 2022


                A YANG Model for SRv6 Mobile User Plane
                draft-mahesh-spring-srv6-mobile-yang-00

Abstract

   This document defines a YANG data model for configuration and
   management of SRv6 for the mobile network.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 4 September 2022.

Copyright Notice

   Copyright (c) 2022 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.







Jethanandani & Murakami Expires 4 September 2022                [Page 1]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  Acronyms  . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Tree Diagram  . . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  YANG Model  . . . . . . . . . . . . . . . . . . . . . . . . .   6
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  17
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  18
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  18
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .  18
     7.2.  Informative References  . . . . . . . . . . . . . . . . .  21
   Appendix A.  Appendix 1 Complete Tree Diagram . . . . . . . . . .  21
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  22
   Contributors  . . . . . . . . . . . . . . . . . . . . . . . . . .  22
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  22

1.  Introduction

   In mobile networks, mobility systems provide connectivity over a
   wireless link to stationary and non-stationary nodes.  The user-plane
   establishes a tunnel between the mobile node and its anchor node over
   IP-based backhaul and core networks.

   When SRv6 is applied to mobile networks, it enables a source routing
   architecture, where operators get to explicitly specify a route for
   the packets to traverse both to and from a mobile node.  The SRv6
   Endpoint nodes serve as mobile user-plane anchors.

   For example, in an Enhanced mode topology, the intermediate
   waypoints, SIDs, can be used for Traffic Engineering.  For more
   details, see Segment Routing IPv6 for Mobile User Plane
   [I-D.ietf-dmm-srv6-mobile-uplane], Section 5.2.  The gNB and UPF are
   SR-aware, and there are two service segments, one for traffic
   engineering to support a low latency path, and the other for service
   programming.  In such a topology the operator routes the traffic
   through these SRv6 nodes, so they can perform their Endpoint
   functionality and forward the packet.  Further, in the uplink
   direction, when the gNB receives a packet from a UE, it adds the
   segments of the SR policy to route the traffic through those two
   segments, while doing something similar in the downlink direction.

   This document describes a YANG 1.1 [RFC7950] data model for the
   Segment Routing IPv6 (SRv6) user plane of mobile networks.

   The model conforms to the NMDA [RFC8342] architecture.




Jethanandani & Murakami Expires 4 September 2022                [Page 2]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.  Terminology

   This document references terms defined in other documents.  In
   particular, it imports definitions for the following terms from
   Segment Routing Architecture [RFC8402], and IPv6 Segment Routing
   Header (SRH) [RFC8754].

   *  Active Segment

   *  BGP-Prefix Segment

   *  Prefix SID

   *  Segment

   *  SID

   *  SRH

   *  SRv6

   *  SRv6 Endpoint nodes

   *  SRv6 SID

   *  Segment Routing domain (SR domain)

   *  SR Global Block (SRGB)

   *  SR Local Block (SRLB)

2.1.  Acronyms

   This document uses a few acronyms.  Some of them are defined here for
   reference.








Jethanandani & Murakami Expires 4 September 2022                [Page 3]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


    +=========+======================================================+
    | Acronym | Definition                                           |
    +=========+======================================================+
    | gNB     | gNodeB, a 5G Base Station using New Radio technology |
    +---------+------------------------------------------------------+
    | MUP     | Mobile User Plane                                    |
    +---------+------------------------------------------------------+
    | SR      | Segment Routing                                      |
    +---------+------------------------------------------------------+
    | SRv6    | Segment Routing over v6                              |
    +---------+------------------------------------------------------+
    | UE      | User Equipment                                       |
    +---------+------------------------------------------------------+
    | UPF     | User Plane Function                                  |
    +---------+------------------------------------------------------+

                            Table 1: Acronyms

3.  Tree Diagram

   An abridged version of the tree diagram is shown here.  Annotations
   used in the diagram are defined in YANG Tree Diagrams [RFC8340].





























Jethanandani & Murakami Expires 4 September 2022                [Page 4]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


   module: ietf-srv6-mobile

     augment /rt:routing/rt:control-plane-protocols
               /rt:control-plane-protocol/bgp:bgp/bgp:global:
       +--rw route-distinguisher?     rt-types:route-distinguisher
       +--rw label-allocation-mode?   identityref
       +--rw sid-allocation-mode?     identityref
       +--rw srv6
          +--rw locator?                 leafref
          +--ro sid-manager-connected?   boolean
          +--ro locator-registered?      boolean
          +--ro micro-segment-enabled?   boolean
          +--rw mobile
             +--rw encapsulation
             |     ...
             +--rw decapsulations
             |     ...
             +--rw decapsulation-source-prefix?   inet:ipv6-prefix
     augment /rt:routing/rt:control-plane-protocols
               /rt:control-plane-protocol/bgp:bgp/bgp:global
               /bgp:route-selection-options:
       +--rw selection-deferral-time?   uint16
       +--rw med-missing-as-worst?      boolean
       +--rw multipath-as-path-relax?   boolean
       +--rw multipath-nexthop-relax?   boolean
     augment /rt-pol:routing-policy/rt-pol:defined-sets
               /bp:bgp-defined-sets:
       +--rw n4-interface-sets
          +--rw interface-set* [name]
             +--rw name      string
             +--rw member*   identityref
     augment /rt-pol:routing-policy/rt-pol:policy-definitions
               /rt-pol:policy-definition/rt-pol:statements
               /rt-pol:statement/rt-pol:conditions/bp:bgp-conditions:
       +--rw match-n4-network-interface-set
          +--rw n4-network-instance-set?   leafref
          +--rw match-set-options?         match-set-options-type
     augment /rt-pol:routing-policy/rt-pol:policy-definitions
               /rt-pol:policy-definition/rt-pol:statements
               /rt-pol:statement/rt-pol:actions/bp:bgp-actions:
       +--rw set-network-interface
          +--rw apply-policy
             +--rw import-policy*           leafref
             +--rw default-import-policy?   default-policy-type
             +--rw export-policy*           leafref
             +--rw default-export-policy?   default-policy-type

                 Figure 1: Tree Diagram for SRv6 YANG Model



Jethanandani & Murakami Expires 4 September 2022                [Page 5]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


4.  YANG Model

   The YANG model is divided into two parts.  The first part of the
   model augments the BGP model in BGP Model for Service Provider
   Network [I-D.ietf-idr-bgp-model] for the BGP configuration, while the
   second part augments the BGP Routing Policy model in BGP Model for
   Service Provider Network [I-D.ietf-idr-bgp-model].

   The BGP model is augmented both at a global level to add SRv6
   configuration, and at the route selection option.  The BGP policy
   model is augemented to add a defined set, a set of match options, and
   a set of actions.

   The model imports Common YANG Data Types [RFC6991], A YANG Data Model
   for Routing Management(NMDA Version) [RFC8349], A YANG Data Model for
   Routing Policy [RFC9067], YANG Data Model for Segment Routing
   [RFC9020], YANG Data Model for SRv6 Base and Static
   [I-D.ietf-spring-srv6-yang], and BGP Model for Service Provider
   Network [I-D.ietf-idr-bgp-model].

  <CODE BEGINS> file "ietf-srv6-mobile@2022-03-03.yang"
  module ietf-srv6-mobile {
    yang-version "1.1";
    namespace "urn:ietf:params:xml:ns:yang:ietf-srv6-mobile";
    prefix "srv6-mob";

    import ietf-inet-types {
      prefix "inet";
      reference
        "RFC 6991: Common YANG Data Types.";
    }
    import ietf-routing {
      prefix rt;
      reference
        "RFC 8349, A YANG Data Model for Routing Management
         (NMDA Version).";
    }
    import ietf-routing-types {
      prefix rt-types;
      reference
        "RFC 8294: Common YANG Types for the Routing Area.";
    }
    import ietf-routing-policy {
      prefix rt-pol;
      reference
        "RFC 9067: A YANG Data Model for Routing Policy.";
    }
    import ietf-bgp {



Jethanandani & Murakami Expires 4 September 2022                [Page 6]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


      prefix bgp;
      reference
        "I-D.ietf-idr-bgp-model: BGP Model for Service Provider
         Network.";
    }
    import ietf-bgp-policy {
      prefix bp;
      reference
        "I-D.ietf-idr-bgp-model: BGP Model for Service Provider
         Network.";
    }
    import ietf-bgp-types {
      prefix bt;
      reference
        "I-D.ietf-idr-bgp-model: BGP Model for Service Provider
         Network.";
    }
    import ietf-segment-routing {
      prefix sr;
      reference
        "RFC 9020: YANG Data Model for Segment Routing.";
    }
    import ietf-srv6-base {
      prefix srv6;
      reference
        "I-D.ietf-spring-srv6-yang: YANG Data Model for SRv6 Base
         and Static.";
    }
    import ietf-srv6-types {
      prefix srv6-types;
      reference
        "RFC 9020: YANG Data Model for Segment Routing.";
    }

    organization
      "IETF SPRING Working Group";

    contact
      "WG Web:   <https://datatracker.ietf.org/wg/spring/about>
       WG List:  <spring@ietf.org>

       Editor: Mahesh Jethanandani (mjethanandani at gmail dot com)
       Author:  Tetsuya Murakami (tetsuya at arrcus dot com)";

    description
      "This module augments the BGP YANG model to add support for
       configuration in mobile networks.




Jethanandani & Murakami Expires 4 September 2022                [Page 7]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


       Copyright (c) 2022 IETF Trust and the persons identified as
       authors of the code.  All rights reserved.

       Redistribution and use in source and binary forms, with or
       without modification, is permitted pursuant to, and subject to
       the license terms contained in, the Simplified BSD License set
       forth in Section 4.c of the IETF Trust's Legal Provisions
       Relating to IETF Documents
       (https://trustee.ietf.org/license-info).

       This version of this YANG module is part of RFC XXXX
       (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
       for full legal notices.

       The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
       NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
       'MAY', and 'OPTIONAL' in this document are to be interpreted as
       described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
       they appear in all capitals, as shown here.";

    revision "2022-03-03" {
      description
        "Initial Version.";
      reference
        "RFC XXXX, A YANG Model for BGP configuration in mobile
         networks.";
    }

   /*
    * Features
    */

    /*
     * Typedefs
     */
    typedef srv6-mobile-function-type {
      type union {
        type identityref {
          base "srv6-types:srv6-endpoint-type";
        }
        type uint16;
      }
      description
        "Type definition for SRV6 mobile function. Unknown
         values are represented as the numeric value.";
      reference
        "draft-ietf-dmm-srv6-mobile-uplane";
    }



Jethanandani & Murakami Expires 4 September 2022                [Page 8]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


    /*
     * Identities
     */
    identity srv6-mup {
      base bt:afi-safi-type;
      description
        "Segment Routing for Mobile User Plane (AFI,SAFI = ?,?)";
      reference
        "RFC XXXX: A YANG Model for BGP configuration in mobile
         networks.";
    }

    identity label-allocation-mode {
      description
        "Base identity to be used to express types of label allocation
         strategies to be used within a network instance";
    }

    identity label-per-prefix {
      base label-allocation-mode;
      description
        "A label is to be allocated per prefix entry in the RIB for the
         network instance";
    }

    identity label-per-nexthop {
      base label-allocation-mode;
      description
        "A label is to be allocated per nexthop entry in the RIB for
         the network instance";
    }

    identity label-instance {
      base label-allocation-mode;
      description
        "A single label is to be used for the instance";
    }

    identity sid-allocation-mode {
      description
        "Base identity to be used to express types of SRv6 segment ID
         allocation strategies to be used within a network instance.";
    }

    identity sid-per-nexthop {
      base sid-allocation-mode;
      description
        "A segment ID is to be allocated per nexthop entry in the RIB



Jethanandani & Murakami Expires 4 September 2022                [Page 9]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


         for the network instance";
    }

    identity sid-instance {
      base sid-allocation-mode;
      description
        "A single segment ID is to be used for the instance";
    }

    identity sid-per-nexthop-no-transportation {
      base sid-allocation-mode;
      description
        "A segment ID is to be allocated per nexthop entry in the
         RIB for the network instance";
    }

    identity sid-instance-no-transportation {
      base sid-allocation-mode;
      description
        "A single segment ID is to be used for the instance";
    }

    identity mobile-interface-type {
      description
        "Base identity for different mobile interfaces.";
    }

    identity n4 {
      base mobile-interface-type;
      description
        "N4 interface.";
    }

    /*
     * Groupings
     */

    /*
     * BGP configuration
     */
    augment "/rt:routing/rt:control-plane-protocols" +
            "/rt:control-plane-protocol/bgp:bgp/bgp:global" {

      description
        "Augmentation of the BGP global configuration to add srv6
         mobile configuration.";

      leaf route-distinguisher {



Jethanandani & Murakami Expires 4 September 2022               [Page 10]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


        type rt-types:route-distinguisher;
        description
          "The route distinguisher that should be used for the local
           VRF or VSI instance when it is signalled via BGP.";
      }

      leaf label-allocation-mode {
        type identityref {
          base label-allocation-mode;
        }
        must "not(../sid-allocation-mode)" {
          error-message "label-allocation-mode and sid-allocation-mode"
                      + "cannot co-exist";
        }
        must "not(/rt:routing/rt:control-plane-protocols" +
             "/rt:control-plane-protocol" +
             "/bgp:bgp/bgp:global/srv6/mobile/encapsulation/config" +
             "/locator | " +
             "/rt:routing/rt:control-plane-protocols" +
             "/rt:control-plane-protocol/bgp:bgp/bgp:global" +
             "/srv6/locator)" {
          error-message "SRv6 configurations must be removed first";
        }
        description
          "The label allocation mode to be used for L3 entries
           in the network instance";
      }

      leaf sid-allocation-mode {
        type identityref {
          base sid-allocation-mode;
        }
        must "not(../label-allocation-mode)" {
          error-message "label-allocation-mode and sid-allocation-mode "
                      + "cannot co-exist";
        }
        must "boolean(/rt:routing/rt:control-plane-protocols" +
             "/rt:control-plane-protocol" +
             "/bgp:bgp/bgp:global/srv6/mobile/encapsulation/locator |" +
             "/rt:routing/rt:control-plane-protocols" +
             "/rt:control-plane-protocol/bgp:bgp/bgp:global/srv6" +
             "/mobile/decapsulations/decapsulation/locator |" +
             "/rt:routing/rt:control-plane-protocols" +
             "/rt:control-plane-protocol/bgp:bgp/bgp:global/srv6" +
             "/locator)" {
          error-message "SRv6 locator name must be configured";
        }
        description



Jethanandani & Murakami Expires 4 September 2022               [Page 11]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


          "The segment ID allocation mode to be used for L3 entries
           in the network instance";
      }

      container srv6 {
        description
          "SRv6 mobile container.";

        leaf locator {
          type leafref {
            path "/rt:routing/sr:segment-routing/" +
                 "srv6:srv6/srv6:locators/srv6:locator/srv6:name";
          }
          description
            "Locator configuration.";
        }

        leaf sid-manager-connected {
          type boolean;
          config false;
          description
            "Connection with segment ID manager is active";
        }

        leaf locator-registered {
          type boolean;
          config false;
          description
            "Locator name is registered";
        }

        leaf micro-segment-enabled {
          type boolean;
          config false;
          description
            "Locator has enabled micro-segment behavior";
        }

        container mobile {
          when "derived-from-or-self(/rt:routing" +
               "/rt:control-plane-protocols" +
               "/rt:control-plane-protocol/bgp:bgp/bgp:global" +
               "/bgp:afi-safis/bgp:afi-safi/bgp:name, 'srv6-mup')" {
            description
              "This augmentation is valid only for a MUP SAFI.";
          }

          description



Jethanandani & Murakami Expires 4 September 2022               [Page 12]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


            "Mobile configuration of SRv6.";

          container encapsulation {
            description
              "Encapsulation configuration.";

            leaf locator {
              type leafref {
                path "/rt:routing/sr:segment-routing/" +
                     "srv6:srv6/srv6:locators/srv6:locator/srv6:name";
              }
              description
                "Reference to SRv6 locater key";
            }

            leaf function {
              type srv6-mobile-function-type;
              must "boolean(current()/../locator)" {
                error-message
                  "SRv6 Mobile Locator name must be configured";
              }
              description
                "One of the SRv6 function types.";
            }

            leaf source-adress {
              type inet:ipv4-address;
              description
                "GTP source IP address";
            }

            leaf source-position {
              type uint8;
              description
                "Bit position of GTP source IP address";
            }

            container n4-network-instance {
              description
                "Definitions for the N4 interface.";

              leaf routing-policy {
                type leafref {
                  path "/rt-pol:routing-policy/" +
                       "rt-pol:policy-definitions/" +
                       "rt-pol:policy-definition/rt-pol:name";
                }
                must "boolean(current()/../access)" {



Jethanandani & Murakami Expires 4 September 2022               [Page 13]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


                  error-message
                    "SRv6 Mobile access instance name must be " +
                    "configured";
                }
                description
                  "Reference to routing-policy";
              }

              leaf access {
                type string;
                description
                  "Mobile access instance.";
              }
            }
          }

          container decapsulations {
            description
              "SRv6 mobile decapsulation configuration.";

            list decapsulation {
              key "id";
              description
                "SRv6 mobile Decapsulation config";

              leaf id {
                type uint16;
                description
                  "SRv6 mobile decapsulation entry id";
              }

              leaf locator {
                type leafref {
                path "/rt:routing/sr:segment-routing/" +
                     "srv6:srv6/srv6:locators/srv6:locator/srv6:name";
                }
                description
                  "Reference to SRv6 locater key";
              }

              leaf function {
                type srv6-mobile-function-type;
                must "boolean(current()/../locator)" {
                  error-message
                    "SRv6 Mobile Locator name must be configured";
                }
                description
                  "One of SRv6 function types.";



Jethanandani & Murakami Expires 4 September 2022               [Page 14]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


              }

              container n4-network-instance {
                description
                  "Definitions for the N4 interface.";

                leaf core {
                  type string;
                  description
                    "Core instance";
                }
              }
            }
          }
          leaf decapsulation-source-prefix {
            type inet:ipv6-prefix;
            description
              "IPv6 prefix for GTP source address";
          }
        }
      }
    }

    augment "/rt:routing/rt:control-plane-protocols" +
            "/rt:control-plane-protocol/bgp:bgp/bgp:global" +
            "/bgp:route-selection-options" {

      description
        "Augmentation of the BGP global configuration for
         route selection options to add srv6 mobile configuration.";

      leaf selection-deferral-time {
        type uint16 {
          range 1..3600;
        }
        default 300;
        description
          "An upper-bound on the time (in seconds) that the best-path
           selection is deferred";
      }

      leaf med-missing-as-worst {
        type boolean;
        description
          "A route without MED is treated as with highest MED value";
      }

      leaf multipath-as-path-relax {



Jethanandani & Murakami Expires 4 September 2022               [Page 15]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


        type boolean;
        default true;
        description
          "Paths with different AS-Path but of same length can form
           ECMP";
      }

      leaf multipath-nexthop-relax {
        type boolean;
        default false;
        description
          "Enable BGP multi-path for paths with same next-hop";
      }
    }

    augment "/rt-pol:routing-policy/rt-pol:defined-sets" +
            "/bp:bgp-defined-sets" {
      description
        "Augmentation of the Routing Policy module to add
         mobile interface defined sets.";

      container n4-interface-sets {
        description
          "Enclosing container for list of n4 interface sets.";

        list interface-set {
          key "name";
          description
            "List of defined interface sets.";

          leaf name {
            type string;
            description
              "Name of interface set. This is used to reference
               the set in match conditions.";
          }

          leaf-list member {
            type identityref {
              base "mobile-interface-type";
            }
            description
              "Members of interface set.";
          }
        }
      }
    }




Jethanandani & Murakami Expires 4 September 2022               [Page 16]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


    augment "/rt-pol:routing-policy/rt-pol:policy-definitions" +
            "/rt-pol:policy-definition/rt-pol:statements" +
            "/rt-pol:statement/rt-pol:conditions/bp:bgp-conditions" {
      description
        "Augmentation of the Routing Policy module to add conditions.";

      container match-n4-network-interface-set {
        description
          "Match a referenced network instance.";
        leaf n4-network-instance-set {
          type leafref {
            path "/rt-pol:routing-policy/rt-pol:defined-sets/"
               + "bp:bgp-defined-sets/n4-interface-sets/"
               + "interface-set/name";
          }
          description
            "References a defined community set.";
        }
        uses rt-pol:match-set-options-group;
      }
    }

    augment "/rt-pol:routing-policy/rt-pol:policy-definitions" +
            "/rt-pol:policy-definition/rt-pol:statements" +
            "/rt-pol:statement/rt-pol:actions/bp:bgp-actions" {
      description
        "Augmentation of the Routing Policy module to add actions.";

      container set-network-interface {
        description
          "Set a referenced network instance.";
        uses rt-pol:apply-policy-group;
      }
    }
  }
  <CODE ENDS>

             Figure 2: SRv6 YANG Model for Mobile User Plane

5.  IANA Considerations

   This memo registers the following namespace URIs in the IETF XML in
   the "IETF XML Registry" [RFC3688]:

   URI:  urn:ietf:params:xml:ns:yang:ietf-srv6-mobile
   Registrant Contact:  The IESG.
   XML:  N/A; the requested URI is an XML namespace.




Jethanandani & Murakami Expires 4 September 2022               [Page 17]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


   This document registers the following YANG modules in the "YANG
   Module Names" registry [RFC6020]:

   Name:  ietf-srv6-mobile
   Namespace:  urn:ietf:params:xml:ns:yang:ietf-srv6-mobile
   Prefix:  srv6-mob
   Reference:  RFC XXXX

6.  Security Considerations

   The YANG module specified in this document defines a schema for data
   that is designed to be accessed via network management protocols such
   as NETCONF [RFC6241] or RESTCONF [RFC8040].  The lowest NETCONF layer
   is the secure transport layer, and the mandatory-to-implement secure
   transport is Secure Shell (SSH) [RFC6242].  The lowest RESTCONF layer
   is HTTPS, and the mandatory-to-implement secure transport is TLS
   [RFC8446].

   The Network Configuration Access Control Model (NACM) [RFC8341]
   provides the means to restrict access for particular NETCONF or
   RESTCONF users to a preconfigured subset of all available NETCONF or
   RESTCONF protocol operations and content.

   There are a number of data nodes defined in this YANG module that are
   writable/creatable/deletable (i.e., config true, which is the
   default).  These data nodes may be considered sensitive or vulnerable
   in some network environments.  Write operations (e.g., edit-config)
   to these data nodes without proper protection can have a negative
   effect on network operations.  These are the subtrees and data nodes
   and their sensitivity/vulnerability:

   Some of the readable data nodes in this YANG module may be considered
   sensitive or vulnerable in some network environments.  It is thus
   important to control read access (e.g., via get, get-config, or
   notification) to these data nodes.  These are the subtrees and data
   nodes and their sensitivity/vulnerability:

   Some of the RPC operations in this YANG module may be considered
   sensitive or vulnerable in some network environments.  It is thus
   important to control access to these operations.  These are the
   operations and their sensitivity/vulnerability:

7.  References

7.1.  Normative References






Jethanandani & Murakami Expires 4 September 2022               [Page 18]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC3688]  Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
              DOI 10.17487/RFC3688, January 2004,
              <https://www.rfc-editor.org/info/rfc3688>.

   [RFC6020]  Bjorklund, M., Ed., "YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)", RFC 6020,
              DOI 10.17487/RFC6020, October 2010,
              <https://www.rfc-editor.org/info/rfc6020>.

   [RFC6241]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
              and A. Bierman, Ed., "Network Configuration Protocol
              (NETCONF)", RFC 6241, DOI 10.17487/RFC6241, June 2011,
              <https://www.rfc-editor.org/info/rfc6241>.

   [RFC6242]  Wasserman, M., "Using the NETCONF Protocol over Secure
              Shell (SSH)", RFC 6242, DOI 10.17487/RFC6242, June 2011,
              <https://www.rfc-editor.org/info/rfc6242>.

   [RFC6991]  Schoenwaelder, J., Ed., "Common YANG Data Types",
              RFC 6991, DOI 10.17487/RFC6991, July 2013,
              <https://www.rfc-editor.org/info/rfc6991>.

   [RFC7950]  Bjorklund, M., Ed., "The YANG 1.1 Data Modeling Language",
              RFC 7950, DOI 10.17487/RFC7950, August 2016,
              <https://www.rfc-editor.org/info/rfc7950>.

   [RFC8040]  Bierman, A., Bjorklund, M., and K. Watsen, "RESTCONF
              Protocol", RFC 8040, DOI 10.17487/RFC8040, January 2017,
              <https://www.rfc-editor.org/info/rfc8040>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8340]  Bjorklund, M. and L. Berger, Ed., "YANG Tree Diagrams",
              BCP 215, RFC 8340, DOI 10.17487/RFC8340, March 2018,
              <https://www.rfc-editor.org/info/rfc8340>.

   [RFC8341]  Bierman, A. and M. Bjorklund, "Network Configuration
              Access Control Model", STD 91, RFC 8341,
              DOI 10.17487/RFC8341, March 2018,
              <https://www.rfc-editor.org/info/rfc8341>.




Jethanandani & Murakami Expires 4 September 2022               [Page 19]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


   [RFC8342]  Bjorklund, M., Schoenwaelder, J., Shafer, P., Watsen, K.,
              and R. Wilton, "Network Management Datastore Architecture
              (NMDA)", RFC 8342, DOI 10.17487/RFC8342, March 2018,
              <https://www.rfc-editor.org/info/rfc8342>.

   [RFC8349]  Lhotka, L., Lindem, A., and Y. Qu, "A YANG Data Model for
              Routing Management (NMDA Version)", RFC 8349,
              DOI 10.17487/RFC8349, March 2018,
              <https://www.rfc-editor.org/info/rfc8349>.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

   [RFC8446]  Rescorla, E., "The Transport Layer Security (TLS) Protocol
              Version 1.3", RFC 8446, DOI 10.17487/RFC8446, August 2018,
              <https://www.rfc-editor.org/info/rfc8446>.

   [RFC8754]  Filsfils, C., Ed., Dukes, D., Ed., Previdi, S., Leddy, J.,
              Matsushima, S., and D. Voyer, "IPv6 Segment Routing Header
              (SRH)", RFC 8754, DOI 10.17487/RFC8754, March 2020,
              <https://www.rfc-editor.org/info/rfc8754>.

   [RFC9020]  Litkowski, S., Qu, Y., Lindem, A., Sarkar, P., and J.
              Tantsura, "YANG Data Model for Segment Routing", RFC 9020,
              DOI 10.17487/RFC9020, May 2021,
              <https://www.rfc-editor.org/info/rfc9020>.

   [RFC9067]  Qu, Y., Tantsura, J., Lindem, A., and X. Liu, "A YANG Data
              Model for Routing Policy", RFC 9067, DOI 10.17487/RFC9067,
              October 2021, <https://www.rfc-editor.org/info/rfc9067>.

   [I-D.ietf-idr-bgp-model]
              Jethanandani, M., Patel, K., Hares, S., and J. Haas, "BGP
              YANG Model for Service Provider Networks", Work in
              Progress, Internet-Draft, draft-ietf-idr-bgp-model-12, 25
              October 2021, <https://datatracker.ietf.org/doc/html/
              draft-ietf-idr-bgp-model-12>.

   [I-D.ietf-spring-srv6-yang]
              Raza, K., Agarwal, S., Liu, X., Hu, Z., Hussain, I., Shah,
              H., Voyer, D., Matsushima, S., Horiba, K., Rajamanickam,
              J., and A. AbdelSalam, "YANG Data Model for SRv6 Base and
              Static", Work in Progress, Internet-Draft, draft-ietf-
              spring-srv6-yang-01, 14 January 2022,
              <https://datatracker.ietf.org/doc/html/draft-ietf-spring-
              srv6-yang-01>.



Jethanandani & Murakami Expires 4 September 2022               [Page 20]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


7.2.  Informative References

   [I-D.ietf-dmm-srv6-mobile-uplane]
              Matsushima, S., Filsfils, C., Kohno, M., Garvia, P. C.,
              Voyer, D., and C. E. Perkins, "Segment Routing IPv6 for
              Mobile User Plane", Work in Progress, Internet-Draft,
              draft-ietf-dmm-srv6-mobile-uplane-18, 18 February 2022,
              <https://datatracker.ietf.org/doc/html/draft-ietf-dmm-
              srv6-mobile-uplane-18>.

Appendix A.  Appendix 1 Complete Tree Diagram

   Here is a complete tree diagram for the configuration and operational
   part of the model.

   module: ietf-srv6-mobile

     augment /rt:routing/rt:control-plane-protocols
               /rt:control-plane-protocol/bgp:bgp/bgp:global:
       +--rw route-distinguisher?     rt-types:route-distinguisher
       +--rw label-allocation-mode?   identityref
       +--rw sid-allocation-mode?     identityref
       +--rw srv6
          +--rw locator?                 leafref
          +--ro sid-manager-connected?   boolean
          +--ro locator-registered?      boolean
          +--ro micro-segment-enabled?   boolean
          +--rw mobile
             +--rw encapsulation
             |  +--rw locator?               leafref
             |  +--rw function?              srv6-mobile-function-type
             |  +--rw source-adress?         inet:ipv4-address
             |  +--rw source-position?       uint8
             |  +--rw n4-network-instance
             |     +--rw routing-policy?   leafref
             |     +--rw access?           string
             +--rw decapsulations
             |  +--rw decapsulation* [id]
             |     +--rw id                     uint16
             |     +--rw locator?               leafref
             |     +--rw function?
             |     |       srv6-mobile-function-type
             |     +--rw n4-network-instance
             |        +--rw core?   string
             +--rw decapsulation-source-prefix?   inet:ipv6-prefix
     augment /rt:routing/rt:control-plane-protocols
               /rt:control-plane-protocol/bgp:bgp/bgp:global
               /bgp:route-selection-options:



Jethanandani & Murakami Expires 4 September 2022               [Page 21]

Internet-Draft           SRv6 Mobile YANG Model               March 2022


       +--rw selection-deferral-time?   uint16
       +--rw med-missing-as-worst?      boolean
       +--rw multipath-as-path-relax?   boolean
       +--rw multipath-nexthop-relax?   boolean
     augment /rt-pol:routing-policy/rt-pol:defined-sets
               /bp:bgp-defined-sets:
       +--rw n4-interface-sets
          +--rw interface-set* [name]
             +--rw name      string
             +--rw member*   identityref
     augment /rt-pol:routing-policy/rt-pol:policy-definitions
               /rt-pol:policy-definition/rt-pol:statements
               /rt-pol:statement/rt-pol:conditions/bp:bgp-conditions:
       +--rw match-n4-network-interface-set
          +--rw n4-network-instance-set?   leafref
          +--rw match-set-options?         match-set-options-type
     augment /rt-pol:routing-policy/rt-pol:policy-definitions
               /rt-pol:policy-definition/rt-pol:statements
               /rt-pol:statement/rt-pol:actions/bp:bgp-actions:
       +--rw set-network-interface
          +--rw apply-policy
             +--rw import-policy*           leafref
             +--rw default-import-policy?   default-policy-type
             +--rw export-policy*           leafref
             +--rw default-export-policy?   default-policy-type

                      Figure 3: Complete tree diagram

Acknowledgements

   TBA

Contributors

   Thanks to all of the contributors.

Authors' Addresses

   Mahesh Jethanandani (editor)
   Arrcus, Inc
   Email: mjethanandani@gmail.com


   Tetsuya Murakami
   Arrcus, Inc
   Email: tetsuya@arrcus.com





Jethanandani & Murakami Expires 4 September 2022               [Page 22]
