                           <SEARCH WITHIN>              February 2006 
                                    
Lemonade                                                                
Internet Draft: WITHIN                                       S. H. Maes 
Document: draft-ietf-lemonade-search-within-00              R. Cromwell 
                                                                   Eds. 
                                                                        
Expires: August 2006                                      February 2006 
    
    
               WITHIN Search extension to the IMAP Protocol  
                                      
Status of this Memo 
    
   By submitting this Internet-Draft, each author represents that any 
   applicable patent or other IPR claims of which he or she is aware 
   have been or will be disclosed, and any of which he or she becomes 
   aware will be disclosed, in accordance with Section 6 of BCP 79. 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet- 
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt. 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
Copyright Notice 
    
   Copyright (C) The Internet Society (2006). 
    
Abstract 
    
   WITHIN is an extension to [RFC3501] SEARCH which returns messages 
   whose internal date is on or within a specified interval and differs 
   from SINCE in that an interval in seconds is specified instead of a 
   date. WITHIN is expected to be most useful for persistent searches in 
   combination with mobile devices.  
 
Conventions used in this document 
    
   In examples, "C:" and "S:" indicate lines sent by the client and 
   server respectively. 
    
 
 
Maes                                                          [Page 1] 

                           <SEARCH WITHIN>              February 2006 
 
 
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in [RFC2119]. 
    
   An implementation is not compliant if it fails to satisfy one or more 
   of the MUST or REQUIRED level requirements for the protocol(s) it 
   implements. An implementation that satisfies all the MUST or REQUIRED 
   level and all the SHOULD level requirements for a protocol is said to 
   be "unconditionally compliant" to that protocol; one that satisfies 
   all the MUST level requirements but not all the SHOULD level 
   requirements is said to be "conditionally compliant."  When 
   describing the general syntax, some definitions are omitted as they 
   are defined in [RFC3501].   
 
 
Table of Contents 
          
   Status of this Memo...............................................1 
   Copyright Notice..................................................1 
   Abstract..........................................................1 
   Conventions used in this document.................................1 
   Table of Contents.................................................2 
   1.    Introduction................................................2 
   2.    Formal Syntax...............................................2 
   Security Considerations...........................................3 
   References........................................................3 
   Future Work.......................................................3 
   Version History...................................................3 
   Acknowledgments...................................................4 
   Authors Addresses.................................................4 
   Intellectual Property Statement...................................4 
   Disclaimer of Validity............................................5 
   Copyright Statement...............................................5 
    
    
1. Introduction 
    
   The WITHIN extension is present in any IMAP4 implementation which 
   returns “WITHIN” as one of the supported capabilities in the 
   CAPABILITY command. 
    
    
    
2. Formal Syntax 
 
   The following syntax specification uses the Augmented Backus-Naur   
   Form (ABNF) notation.  Elements not defined here can be found in   
   the formal syntax of the [ABNF], [RFC3501], and [ABNFEXTEND]. 
    
 
 
Maes                    Expires – August 2006                [Page 2] 

                           <SEARCH WITHIN>              February 2006 
 
 
   The create ABNF grammar in [RFC3501] is hereby modified to the 
   grammar defined in [ABNFEXTEND], and the ABNF search-key grammar of 
   [ABNFEXTEND] has been extended with a new search key: WITHIN 
   <interval seconds> 
    
    
      search-key /= “WITHIN” nz-number 
                       ; defined in [ABNFEXTEND]  
    
3. Examples 
 
   C: a1 SEARCH UNSEEN WITHIN 259200 
   S: a1 * SEARCH 4 8 15 16 23 42 
    
   Search for all unseen messages within the past 3 days according to 
   the server’s current time. 
    
 
Security Considerations 
    
   The WITHIN extension does not raise any security considerations which 
   are not present in the base protocol. Considerations are the same as 
   for IMAP [RFC 3501]. 
    
    
References 
    
   [ABNF] D. Crocker, et al. "Augmented BNF for Syntax Specifications: 
      ABNF”, RFC 2234, November 1997.  
      http://www.ietf.org/rfc/rfc2234 
    
   [ABNFEXTEND] Melnikov, A., and C. Daboo, "Collected extensions to 
   IMAP4 ABNF", work in progress, draft-melnikov-imap-ext-abnf-XX.txt. 
    
    
   [RFC3501] Crispin, M. "IMAP4, Internet Message Access Protocol 
      Version 4 rev1", RFC 3501, March 2003. 
      http://www.ietf.org/rfc/rfc3501
     
     
Future Work 
    
   [1] Decide whether seconds is the appropriate unit for specifying the 
   interval. 
    
Version History 
    
   Release 00 
      Initial release, separated from VFOLDER draft 
 
 
Maes                    Expires – August 2006                [Page 3] 

                           <SEARCH WITHIN>              February 2006 
 
 
     
Acknowledgments 
    
   The authors want to thank all who have contributed key insight and 
   extensively reviewed and discussed the concepts of LPSEARCH and its 
   early introduction P-IMAP [P-IMAP]. In particular, this includes the 
   authors of the P-IMAP draft: Rafiul Ahad – Oracle Corporation, Eugene 
   Chiu – Oracle Corporation, Ray Cromwell – Oracle Corporation, Jia-der 
   Day – Oracle Corporation, Vi Ha – Oracle Corporation, Wook-Hyun Jeong 
   – Samsung Electronics Co. LTF, Chang Kuang – Oracle Corporation, 
   Rodrigo Lima – Oracle Corporation, Stephane H. Maes – Oracle 
   Corporation, Gustaf Rosell - Sony Ericsson, Jean Sini – Symbol 
   Technologies, Sung-Mu Son – LG Electronics, Fan Xiaohui - CHINA 
   MOBILE COMMUNICATIONS CORPORATION (CMCC), Zhao Lijun - CHINA MOBILE 
   COMMUNICATIONS CORPORATION (CMCC). We also want to give a special 
   thanks to A. Melnikov for his review and suggestions. 
    
    
Authors Addresses 
    
   Stephane H. Maes 
   Oracle Corporation 
   500 Oracle Parkway 
   M/S 4op634 
   Redwood Shores, CA 94065 
   USA 
   Phone: +1-650-607-6296 
   Email: stephane.maes@oracle.com 
    
    
   Ray Cromwell 
   Oracle Corporation 
   500 Oracle Parkway 
   Redwood Shores, CA 94065 
   USA 
    
    
Intellectual Property Statement 
    
   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 
    

 
 
Maes                    Expires – August 2006                [Page 4] 

                           <SEARCH WITHIN>              February 2006 
 
 
   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 
    
   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org. 
 
Disclaimer of Validity 
    
   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
    
Copyright Statement 
    
   Copyright (C) The Internet Society (2006).  This document is subject 
   to the rights, licenses and restrictions contained in BCP 78, and 
   except as set forth therein, the authors retain all their rights. 
    
Acknowledgement 
    
   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 
    
    
    













 
 
Maes                    Expires – August 2006                [Page 5] 
