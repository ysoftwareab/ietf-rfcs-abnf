



6MAN                                                   D. Steinberg, Ed.
Internet-Draft                             Lapishills Consulting Limited
Intended status: Informational                             W. Henderickx
Expires: December 31, 2020                                         Nokia
                                                                   Z. Li
                                                     Huawei Technologies
                                                                W. Cheng
                                                            China Mobile
                                                                D. Voyer
                                                             Bell Canada
                                                           June 29, 2020


              SR-MPLS over IPv6 satisfies CRH requirements
                 draft-steinberg-6man-crh-vs-sr-mpls-00

Abstract

   SR-MPLS is a mature solution that provides highly scalable traffic
   engineering capabilities in MPLS networks.  This document analyzes
   how SR-MPLS over IP exceeds the capabilities of the CRH, making the
   latter redundant.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 31, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of



Steinberg, et al.       Expires December 31, 2020               [Page 1]

Internet-DraftSR-MPLS over IPv6 satisfies CRH requirements     June 2020


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  A Label by any Other Name . . . . . . . . . . . . . . . . . .   2
   3.  An Endpoint is an Endpoint  . . . . . . . . . . . . . . . . .   3
   4.  All Roads Lead to Rome  . . . . . . . . . . . . . . . . . . .   3
   5.  You Can't Manage What You Can't Measure . . . . . . . . . . .   3
   6.  MTU Overhead  . . . . . . . . . . . . . . . . . . . . . . . .   3
   7.  Services  . . . . . . . . . . . . . . . . . . . . . . . . . .   4
   8.  Conclusion  . . . . . . . . . . . . . . . . . . . . . . . . .   4
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     9.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   SR-MPLS [RFC8660] is a mature solution that provides highly scalable
   traffic engineering capabilities in MPLS networks.

   By encapsulating the MPLS label stack in an IPv4 or IPv6 [RFC4023],
   or IP+UDP [RFC7510] header, an SR-MPLS policy can seamlessly traverse
   IP-only routers in a network [RFC8663].

   The SR-MPLS control plane can run on top of IPv4 or IPv6.  The latter
   is reminded in [I-D.filsfils-spring-sr-mpls-ipv6-control-plane].

   This document analyzes how SR-MPLS over IP provides all the
   capabilities of CRH [I-D.bonica-6man-comp-rtg-hdr], making CRH
   redundant.

   The analysis shows that the capabilities provided by CRH are in fact
   a subset of the capabilities provided by SR-MPLS over IPv6.

2.  A Label by any Other Name

   [I-D.bonica-6man-comp-rtg-hdr] specifies the encoding of identifiers
   in 16- or 32-bit values and places them in the CRH.  The CRH is to be
   inspected at each node represented by an identifier.





Steinberg, et al.       Expires December 31, 2020               [Page 2]

Internet-DraftSR-MPLS over IPv6 satisfies CRH requirements     June 2020


   SR-MPLS over IP encodes identifiers in 20-bit values within 32 bit
   labels and places them in an in the SR-MPLS or UDP header.

   Because these encodings must translate into an action and a location
   (IPv6 address) there is really no difference between these encodings,
   in the end a 32-bit label is just a label that can identify anything
   at an endpoint.

3.  An Endpoint is an Endpoint

   A node transmitting a packet containing a set of identifiers placed
   within a CRH writes the IPv6 address of the first segment endpoint
   into the destination address of the IPv6 header.

   The same is true for SR-MPLS over IP, the source node writes the IPv6
   address of the first segment endpoint into the destination address of
   the IPv6 header.

   There is no functional difference between the SR-MPLS over IP
   endpoint vs the CRH endpoint, both receive a packet destined to their
   interface and process the next segment.

4.  All Roads Lead to Rome

   At a segment endpoint the router receives the packet destined to it,
   processes the next segment (MPLS label or CRH segment ID) and
   rewrites the outer IPv6 header with a new destination address.  The
   CRH calls this table that maps labels to behavior and a destination
   address a SFIB, however this is identical to the SR-MPLS label table.

   Ultimately, the packet is received at the final destination within
   the domain and the packets payload is processed.  All roads do indeed
   lead to Rome.

5.  You Can't Manage What You Can't Measure

   IP ping and traceroute just work for either SR-MPLS over IP or CRH.

   SR-MPLS has a rich set of OAM mechanisms ([RFC8287]), and these
   mechanisms are available for SR-MPLS over IP deployments.

   CRH has no OAM defined for its labels.

6.  MTU Overhead

   Both SR-MPLS over IPv6 and CRH require an IPv6 header.  However, due
   to the overhead required for extension headers, CRH always results in
   greater overhead in its 32 bit flavor vs SR-MPLS over IP.  For the



Steinberg, et al.       Expires December 31, 2020               [Page 3]

Internet-DraftSR-MPLS over IPv6 satisfies CRH requirements     June 2020


   CRH 16 bit flavor, SR-MPLS over IP still has a lower overhead for up
   to 5 labels.

7.  Services

   MPLS has a rich set of services that are defined and translate into
   MPLS labels.  Protocols and SDN mechanisms to distribute these
   service labelse are well known.

   CRH has no service support, it is simply a transport header carrying
   transport identifiers.  It relies on other headers and identifiers to
   provide services.

8.  Conclusion

   This analysis shows that CRH and the identifiers it carries do not
   provide any demonstrable benefit beyond what SR-MPLS over IPv6
   provides, in fact it can only support a subset of what SR-MPLS over
   IPv6 is capable of.  Furthermore, OAM is fully defined for SR-MPLS
   and the control planes supporting SR-MPLS are mature and well
   defined.

   The conclusion is that there is no value in defining another header
   to map labels to behaviors and IPv6 addresses within a domain.  This
   exists and it is SR-MPLS over IPv6.

9.  References

9.1.  Normative References

   [RFC8660]  Bashandy, A., Ed., Filsfils, C., Ed., Previdi, S.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing with the MPLS Data Plane", RFC 8660,
              DOI 10.17487/RFC8660, December 2019,
              <https://www.rfc-editor.org/info/rfc8660>.

   [RFC8663]  Xu, X., Bryant, S., Farrel, A., Hassan, S., Henderickx,
              W., and Z. Li, "MPLS Segment Routing over IP", RFC 8663,
              DOI 10.17487/RFC8663, December 2019,
              <https://www.rfc-editor.org/info/rfc8663>.

9.2.  Informative References

   [I-D.bonica-6man-comp-rtg-hdr]
              Bonica, R., Kamite, Y., Niwa, T., Alston, A., and L.
              Jalil, "The IPv6 Compact Routing Header (CRH)", draft-
              bonica-6man-comp-rtg-hdr-22 (work in progress), May 2020.




Steinberg, et al.       Expires December 31, 2020               [Page 4]

Internet-DraftSR-MPLS over IPv6 satisfies CRH requirements     June 2020


   [I-D.filsfils-spring-sr-mpls-ipv6-control-plane]
              Filsfils, C., Clad, F., and K. Talaulikar, "SR-MPLS Data
              Plane with IPv6 Control Plane", draft-filsfils-spring-sr-
              mpls-ipv6-control-plane-02 (work in progress), May 2020.

   [RFC4023]  Worster, T., Rekhter, Y., and E. Rosen, Ed.,
              "Encapsulating MPLS in IP or Generic Routing Encapsulation
              (GRE)", RFC 4023, DOI 10.17487/RFC4023, March 2005,
              <https://www.rfc-editor.org/info/rfc4023>.

   [RFC7510]  Xu, X., Sheth, N., Yong, L., Callon, R., and D. Black,
              "Encapsulating MPLS in UDP", RFC 7510,
              DOI 10.17487/RFC7510, April 2015,
              <https://www.rfc-editor.org/info/rfc7510>.

   [RFC8287]  Kumar, N., Ed., Pignataro, C., Ed., Swallow, G., Akiya,
              N., Kini, S., and M. Chen, "Label Switched Path (LSP)
              Ping/Traceroute for Segment Routing (SR) IGP-Prefix and
              IGP-Adjacency Segment Identifiers (SIDs) with MPLS Data
              Planes", RFC 8287, DOI 10.17487/RFC8287, December 2017,
              <https://www.rfc-editor.org/info/rfc8287>.

Authors' Addresses

   Dirk Steinberg (editor)
   Lapishills Consulting Limited
   Cyprus

   Email: dirk@lapishills.com


   Wim Henderickx
   Nokia
   Belgium

   Email: wim.henderickx@nokia.com


   Zhenbin Li
   Huawei Technologies
   China

   Email: lizhenbin@huawei.com








Steinberg, et al.       Expires December 31, 2020               [Page 5]

Internet-DraftSR-MPLS over IPv6 satisfies CRH requirements     June 2020


   Weiqiang Cheng
   China Mobile
   China

   Email: chengweiqiang@chinamobile.com


   Daniel Voyer
   Bell Canada
   Canada

   Email: daniel.voyer@bell.ca







































Steinberg, et al.       Expires December 31, 2020               [Page 6]
