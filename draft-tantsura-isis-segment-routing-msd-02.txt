



IS-IS Working Group                                          J. Tantsura
Internet-Draft                                               U. Chunduri
Intended status: Standards Track                              Individual
Expires: March 30, 2017                               September 26, 2016


             Signaling MSD (Maximum SID Depth) using IS-IS
               draft-tantsura-isis-segment-routing-msd-02

Abstract

   This document proposes a way to expose Maximum SID Depth (MSD)
   supported by a node at node and/or link level by an ISIS Router.  In
   a Segment Routing (SR) enabled network a centralized controller that
   programs SR tunnels at the head-end node needs to know the MSD
   information at node level and/or link level to push the label stack
   of an appropriate depth.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 30, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of




Tantsura & Chunduri      Expires March 30, 2017                 [Page 1]

Internet-Draft                                            September 2016


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Conventions used in this document . . . . . . . . . . . .   3
       1.1.1.  Terminology . . . . . . . . . . . . . . . . . . . . .   3
     1.2.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Node MSD Advertisement  . . . . . . . . . . . . . . . . . . .   3
   4.  LINK MSD Advertisement  . . . . . . . . . . . . . . . . . . .   4
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   When Segment Routing tunnels are computed by a centralized
   controller, it is crucial that the controller knows the MSD "Maximum
   SID Depth" of the node or link SR tunnel exits over, so it doesn't
   download a path with SID (label stack) of a depth more than the node
   or link used is capable of imposing.  This document describes how to
   use IS-IS to expose the MSD of the node or link to a centralized
   controller.

   PCEP SR extensions [I-D.ietf-pce-segment-routing] has defined MSD, to
   signal in SR PCE Capability TLV, METRIC Object.  However, If PCEP is
   not supported by a node (head-end of the SR tunnel) and controller
   does not participate in IGP routing it has no way to learn the MSD of
   the node or link configured.  BGP-LS [RFC7752] defines a way to
   expose topology and associated different attributes, capabilities of
   the nodes in that topology to a centralized controller and MSD has
   been defined in [I-D.tantsura-idr-bgp-ls-segment-routing-msd].  For
   this information to be advertised by BGP for the all nodes and links
   of the network, where this is provisioned, IS-IS module should have
   this information in the LSDB.

   [I-D.ietf-isis-mpls-elc] defines, RLSDC which indicates how many
   labels a node can read to take a decision to insert an Entropy Label
   (EL) and is different than how many labels a node can push as defined
   by MSD in this draft.





Tantsura & Chunduri      Expires March 30, 2017                 [Page 2]

Internet-Draft                                            September 2016


1.1.  Conventions used in this document

1.1.1.  Terminology

   BGP-LS: Distribution of Link-State and TE Information using Border
   Gateway Protocol

   ISIS: Intermediate System to Intermediate System

   MSD: Maximum SID Depth

   PCC: Path Computation Client

   PCE: Path Computation Element

   PCEP: Path Computation Element Protocol

   SID: Segment Identifier

   SR: Segment Routing

1.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  Terminology

   This memo makes use of the terms defined in [RFC4971].

3.  Node MSD Advertisement

   A new sub-TLV within the body of IS-IS Router Capability TLV
   [RFC4971], called Node MSD sub-TLV is defined to carry the
   provisioned SID depth of the router originating the Router Capability
   TLV.  Node MSD is the lowest MSD supported by the node and can be
   provisioned in IS-IS instance.

   The Type (1 byte) of this sub-TLV is TBD.

   Length is 1 bytes, and

   the Value field contains MSD of the router originating the Router
   Capability TLV.  Node MSD is a number in the range of 0-254. 0
   represents lack of the ability to push MSD of any depth; any other
   value represents that of the node.  This value SHOULD represent the
   lowest value supported by node.



Tantsura & Chunduri      Expires March 30, 2017                 [Page 3]

Internet-Draft                                            September 2016


   This TLV is optional.  The scope of the advertisement is specific to
   the deployment.

4.  LINK MSD Advertisement

   A new sub-TLV called Link MSD sub-TLV is defined to carry the
   provisioned SID depth of the interface associated with the link.

   The Type (1 byte) of this TLV is TBD.

   Length is 1 byte, and

   the Value field contains Link MSD of the router originating the
   corresponding IS extended reachability TLV [RFC5305] or MT IS TLV
   [RFC5120].  Link MSD is a number in the range of 0-254. 0 represents
   lack of the ability to push MSD of any depth; any other value
   represents that of the particular link MSD value.

5.  Acknowledgements

   TBD

6.  IANA Considerations

   This document includes a request to IANA to allocate sub-TLV type
   codes for the new TLV proposed in Section 3 of this document from IS-
   IS Router Capability TLV Registry as defined by [RFC4971].  Also for
   link MSD, we request IANA to allocate new sub-TLV codes as defined in
   Section 4 from IS extended reachability TLV (22) and MT IS TLV (222)
   registry.

7.  Security Considerations

   This document describes a mechanism for advertising Segment Routing
   SID depth supported at node and link level information through IS-IS
   LSPs and does not introduce any new security issues.

8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.






Tantsura & Chunduri      Expires March 30, 2017                 [Page 4]

Internet-Draft                                            September 2016


   [RFC4971]  Vasseur, JP., Ed., Shen, N., Ed., and R. Aggarwal, Ed.,
              "Intermediate System to Intermediate System (IS-IS)
              Extensions for Advertising Router Information", RFC 4971,
              DOI 10.17487/RFC4971, July 2007,
              <http://www.rfc-editor.org/info/rfc4971>.

   [RFC5305]  Li, T. and H. Smit, "IS-IS Extensions for Traffic
              Engineering", RFC 5305, DOI 10.17487/RFC5305, October
              2008, <http://www.rfc-editor.org/info/rfc5305>.

8.2.  Informative References

   [I-D.ietf-isis-mpls-elc]
              Xu, X., Kini, S., Sivabalan, S., Filsfils, C., and S.
              Litkowski, "Signaling Entropy Label Capability Using IS-
              IS", draft-ietf-isis-mpls-elc-01 (work in progress),
              November 2015.

   [I-D.ietf-pce-segment-routing]
              Sivabalan, S., Medved, J., Filsfils, C., Crabbe, E.,
              Lopez, V., Tantsura, J., Henderickx, W., and J. Hardwick,
              "PCEP Extensions for Segment Routing", draft-ietf-pce-
              segment-routing-07 (work in progress), March 2016.

   [I-D.tantsura-idr-bgp-ls-segment-routing-msd]
              Tantsura, J., Mirsky, G., Sivabalan, S., and U. Chunduri,
              "Signaling Maximum SID Depth using Border Gateway Protocol
              Link-State", draft-tantsura-idr-bgp-ls-segment-routing-
              msd-01 (work in progress), July 2016.

   [RFC1195]  Callon, R., "Use of OSI IS-IS for routing in TCP/IP and
              dual environments", RFC 1195, DOI 10.17487/RFC1195,
              December 1990, <http://www.rfc-editor.org/info/rfc1195>.

   [RFC5120]  Przygienda, T., Shen, N., and N. Sheth, "M-ISIS: Multi
              Topology (MT) Routing in Intermediate System to
              Intermediate Systems (IS-ISs)", RFC 5120,
              DOI 10.17487/RFC5120, February 2008,
              <http://www.rfc-editor.org/info/rfc5120>.

   [RFC7752]  Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and
              S. Ray, "North-Bound Distribution of Link-State and
              Traffic Engineering (TE) Information Using BGP", RFC 7752,
              DOI 10.17487/RFC7752, March 2016,
              <http://www.rfc-editor.org/info/rfc7752>.






Tantsura & Chunduri      Expires March 30, 2017                 [Page 5]

Internet-Draft                                            September 2016


Authors' Addresses

   Jeff Tantsura
   Individual

   Email: jefftant.ietf@gmail.com


   Uma Chunduri
   Individual

   Email: uma.chunduri@gmail.com







































Tantsura & Chunduri      Expires March 30, 2017                 [Page 6]
