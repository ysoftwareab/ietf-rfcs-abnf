


Network Working Group                              S Bryant. Bryant, Ed.
Internet-Draft                                                M Morrow.
Intended status: Informational                                T Nadeau.
Expires: November 22, 2007                                   G Swallow.
                                                           Cisco Systems
                                                           R Cherukuri.
                                                       Juniper Networks,
                                                            N Harrison.
                                                      BT Global Services
                                                            May 21, 2007


             Application of PWE3 to MPLS Transport Networks
                   draft-ietf-pwe3-mpls-transport-00

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on November 22, 2007.

Copyright Notice

   Copyright (C) The IETF Trust (2007).

Abstract

   A key requirement has been identified by the operator community for
   the transparent carriage of the MPLS network of one party over the



Bryant, et al.          Expires November 22, 2007               [Page 1]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


   MPLS network of another party.  This document describes one IETF-
   recommended profile to satisfy this requirement using the existing
   RFC4448 PWE3 Ethernet pseudowire standard.  This solution does not
   preclude other solutions being developed in the future.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [RFC2119].


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  PWE3 Configuration . . . . . . . . . . . . . . . . . . . . . .  4
   3.  OAM  . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  5
     3.1.  VCCV profile 1: BFD without IP/UDP Headers . . . . . . . .  5
     3.2.  VCCV profile 2: BFD with IP/UDP Headers  . . . . . . . . .  5
   4.  MPLS Layer . . . . . . . . . . . . . . . . . . . . . . . . . .  5
     4.1.  External Configuration . . . . . . . . . . . . . . . . . .  6
     4.2.  Control Plane Configuration  . . . . . . . . . . . . . . .  6
   5.  Congestion Considerations  . . . . . . . . . . . . . . . . . .  7
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . .  7
   7.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  7
   8.  References . . . . . . . . . . . . . . . . . . . . . . . . . .  7
     8.1.  Normative References . . . . . . . . . . . . . . . . . . .  7
     8.2.  Informative References . . . . . . . . . . . . . . . . . .  8
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . .  9
   Intellectual Property and Copyright Statements . . . . . . . . . . 11





















Bryant, et al.          Expires November 22, 2007               [Page 2]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


1.  Introduction

   MPLS [RFC3031] is based on the ability to arbitrarily stack label
   switched paths (LSPs).  Such stacked LSPs all belong to the same MPLS
   layer network.  The limited isolation provided by this mechanism
   means that it is not possible to directly carry an LSP belonging to
   the MPLS network of party A over an LSP belonging to the MPLS network
   of party B in a truly transparent, functionally decoupled manner.  In
   other words, stacked LSPs do not intrinsically provide a client-
   server layer network relationship.  Several operators have identified
   this as a problem that requires urgent attention.

   One solution to the problem is to use existing pseudo-wire (PW)
   techniques to insert a 'functional other technology breakwater'
   between the two MPLS networks (of say party A and party B as noted
   above).  This could in principle use any PW technology.  However, in
   this document we restrict our solution to using an Ethernet PW as
   defined in RFC4448 [RFC4448] .  The design described here fulfills
   the requirements liaised to the IETF PWE3 working group by the ITU
   - [1]- [2]

   Note that this does not preclude other solutions emerging in the
   future.  The key purpose of this document is to show that there
   exists a solution to the problem posed by the operator community
   using already defined IETF standards.

   This document is focused on providing a client/server relationship
   between two MPLS networks owned/operated by different parties, as
   this is the essential requirement that operators have indicated must
   be met from the larger set of "transport network" requirements
   generated in the liaison to the IETF PWE3 WG from ITU SG15ITU2 [2].

   The architecture required for this configuration is illustrated in
   Figure 1 below.

















Bryant, et al.          Expires November 22, 2007               [Page 3]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


    +----------------------------------------------------------------+
     |                                                                |
     |                  IP/MPLS PSN (PHP may be enabled)              |
     |                                                                |
     |                  +---------------------------+                 |
     |                  |                           |                 |
     |                  |      MPLS PSN (No PHP)    |                 |
     |                  |                           |                 |
     |     CE1          |PE1                     PE2|           CE2   |
     |   +-----+      +-----+                   +-----+      +-----+  |
     |   | | | |      | | | |                   | | | |      | | | |  |
     |   | | | +------+ | | |                   | | | +------+ | | |  |
     |   | | | | 802.3| | | |                   | | | | 802.3| | | |  |
     |   +-----+      +-----+                   +-----+      +-----+  |
     |     |   |        |  |                      | |        |   |    |
     |     |   |        +-- ---------------------- -+        |   |    |
     +----- --- -------- -- ---------------------- - -------- --- ----+
           |   |        |  |<--MPLS PSN (no PHP)->| |        |   |
           |   |        |                           |        |   |
           |   |        |<------------PW----------->|        |   |
           |   |                                             |   |
           |   |<-------------802.3 (Ethernet)-------------->|   |
           |                                                     |
           |<---------IP/MPLS LSP (PHP may be supported)-------->|
   Figure 1: Application PWE3 to MPLS Transport Networks

   An IP or an MPLS Label Switched Path (LSP) must be established
   between CE1 and CE2.  This MPLS PSN may utilize Penultimate-Hop
   Popping (PHP).  This LSP is to be carried over Ethernet.  An Ethernet
   PW is provisioned between PE1 and PE2 and used to carry the Ethernet
   from PE1 to PE2.  The Ethernet PW is carried over an MPLS PSN, but
   this PSN MUST NOT be configured with PHP.


2.  PWE3 Configuration

   The only PWE3 encapsulation that is supported in this version of the
   profile is Ethernet RFC4448 [RFC4448].  This is used in "raw" mode.

   The Control Word MUST be used.  The Sequence number MUST be zero.

   The use of the Pseudowire Setup and Maintenance Label Distribution
   Protocol RFC4447 [RFC4447] is not supported in this version of the
   profile.

   The Pseudowire Label is statically provisioned.





Bryant, et al.          Expires November 22, 2007               [Page 4]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


3.  OAM

   The OAM mechanism is VCCV [I-D.ietf-pwe3-vccv].  One of the VCCV
   profiles described in Section 3.1 or Section 3.2 MUST be used.  Once
   a VCCV profile is provisioned, and the operational status of the PW
   is UP, no other profile SHOULD be used until such time as the PW's
   operational status is set to DOWN.

3.1.  VCCV profile 1: BFD without IP/UDP Headers

   As specified in VCCV [I-D.ietf-pwe3-vccv], the first nibble is set to
   0001b to indicate a channel associated with a pseudowire RFC4385
   [RFC4385].  The Version and the Reserved fields are set to 0, and the
   Channel Type is set to 0x07 to indicate that the payload carried is
   BFD without IP/UDP headers, as is defined in section 4.1.1 of VCCV
   [I-D.ietf-pwe3-vccv].

   The connection verification method used by VCCV is BFD with
   diagnostics as defined in 4.1 of VCCV [I-D.ietf-pwe3-vccv].

3.2.  VCCV profile 2: BFD with IP/UDP Headers

   When PE1 and PE1 are IP capable and have been configured with IP
   addresses, the following VCCV mechanism MAY be used.

   As specified in VCCV [I-D.ietf-pwe3-vccv], the first nibble is set to
   0001b to indicate a channel associated with a pseudowire RFC4385
   [RFC4385].  The Version and the Reserved fields are set to 0, and the
   Channel Type is set to 0x21 for IPv4 and 0x56 for IPv6 payloads
   RFC4446 [RFC4446].

   The connection verification method used by VCCV is BFD with
   diagnostics as defined in 4.1 of VCCV [I-D.ietf-pwe3-vccv].


4.  MPLS Layer

   This section describes the profile of the MPLS RFC3031 [RFC3031] PSN
   .  The profile considers two cases:

   1.  The case where external configuration is used

   2.  The case where a control plane is available








Bryant, et al.          Expires November 22, 2007               [Page 5]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


4.1.  External Configuration

   All MPLS labels RFC3032 [RFC3032] used by the transport LSPs
   supporting (i.e. acting as a server to) the PWs described in section
   2 MUST be statically provisioned.  Labels may be selected from the
   per-platform or the per-interface label space.

   All LSPs for the transport LSPs utilized by the PWs described in
   section 2 MUST support both unidirectional and bi-directional point-
   to-point connections.

   The transport LSPs SHOULD support unidirectional point-to-multipoint
   connections.

   The forward and backward directions of a bi-directional connection
   should follow a symmetrically routed (reciprocal) LSP in the server
   network.

   Equal cost multi-path (ECMP) load balancing MUST NOT be configured on
   the transport LSPs utilized by the PWs described in sections 2.

   The merging of label switched paths is prohibited and MUST NOT be
   configured for the transport LSPs utilized by the PWs described in
   section 2.

   Penultimate hop popping by the LSRs MUST be disabled on LSPs
   providing PWE3 transport network functionality.

   Both E-LSP and L-LSP MUST be supported as defined in RFC3270
   [RFC3270].

   The MPLS EXP field is supported according to RFC3270 for only when
   the pipe and short-pipe models are utilized.

4.2.  Control Plane Configuration

   In this section we describe the profile when RSVP-TE RFC3209
   [RFC3209] or the bi-directional support in GMPLS RFC3471 [RFC3471]
   RFC3473 [RFC3473] are used to configure the MPLS PSN used to provide
   the transport LSPs.  When these protocols are used to provide the
   control plane the following are automatically provided:

   1.  There is no label merging unless it is deliberately enabled to
       support Fast Re-route (FRR) RFC3209 [RFC3209].

   2.  A single path is provided end-to-end (There is no ECMP).





Bryant, et al.          Expires November 22, 2007               [Page 6]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


   3.  Paths may be unidirectional or bidirectional as required.

   Additionally the following configurations restrictions required to
   support external configuration MUST be applied:

   o  Penultimate hop popping by the LSRs MUST be disabled on LSPs
      providing PWE3 transport network functionality.

   o  Both E-LSP and L-LSP MUST be supported as defined in RFC3270
      [RFC3270].

   o  The MPLS EXP field is supported according to RFC3270 for only when
      the pipe and short-pipe models are utilized.


5.  Congestion Considerations

   This draft is a profile of an RFC4448 [RFC4448] PWE3 Ethernet
   pseudowire.  The congestion considerations associated with that
   pseudowire and all subsequent work on congestion considerations
   regarding Ethernet pseudowires is applicable to this draft.


6.  Security Considerations

   PWE3 security considerations are described in RFC3985 [RFC3985].

   This draft is a profile of existing IETF proposed standards and
   raises no new security issues.


7.  IANA Considerations

   There are no IANA actions required by this draft.


8.  References

8.1.  Normative References

   [I-D.ietf-pwe3-vccv]
              Nadeau, T., "Pseudo Wire Virtual Circuit Connectivity
              Verification (VCCV)", draft-ietf-pwe3-vccv-13 (work in
              progress), March 2007.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.




Bryant, et al.          Expires November 22, 2007               [Page 7]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


   [RFC3031]  Rosen, E., Viswanathan, A., and R. Callon, "Multiprotocol
              Label Switching Architecture", RFC 3031, January 2001.

   [RFC3032]  Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y.,
              Farinacci, D., Li, T., and A. Conta, "MPLS Label Stack
              Encoding", RFC 3032, January 2001.

   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", RFC 3209, December 2001.

   [RFC3270]  Le Faucheur, F., Wu, L., Davie, B., Davari, S., Vaananen,
              P., Krishnan, R., Cheval, P., and J. Heinanen, "Multi-
              Protocol Label Switching (MPLS) Support of Differentiated
              Services", RFC 3270, May 2002.

   [RFC3471]  Berger, L., "Generalized Multi-Protocol Label Switching
              (GMPLS) Signaling Functional Description", RFC 3471,
              January 2003.

   [RFC3473]  Berger, L., "Generalized Multi-Protocol Label Switching
              (GMPLS) Signaling Resource ReserVation Protocol-Traffic
              Engineering (RSVP-TE) Extensions", RFC 3473, January 2003.

   [RFC4385]  Bryant, S., Swallow, G., Martini, L., and D. McPherson,
              "Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for
              Use over an MPLS PSN", RFC 4385, February 2006.

   [RFC4446]  Martini, L., "IANA Allocations for Pseudowire Edge to Edge
              Emulation (PWE3)", BCP 116, RFC 4446, April 2006.

   [RFC4447]  Martini, L., Rosen, E., El-Aawar, N., Smith, T., and G.
              Heron, "Pseudowire Setup and Maintenance Using the Label
              Distribution Protocol (LDP)", RFC 4447, April 2006.

   [RFC4448]  Martini, L., Rosen, E., El-Aawar, N., and G. Heron,
              "Encapsulation Methods for Transport of Ethernet over MPLS
              Networks", RFC 4448, April 2006.

8.2.  Informative References

   [RFC3985]  Bryant, S. and P. Pate, "Pseudo Wire Emulation Edge-to-
              Edge (PWE3) Architecture", RFC 3985, March 2005.

URIs

   [1]  <https://datatracker.ietf.org/public/
        liaison_detail.cgi?detail_id=286>



Bryant, et al.          Expires November 22, 2007               [Page 8]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


   [2]  <https://datatracker.ietf.org/public/
        liaison_detail.cgi?detail_id=287>


Authors' Addresses

   Stewart Bryant (editor)
   Cisco Systems
   250, Longwater, Green Park,
   Reading  RG2 6GB, UK
   UK

   Email: stbryant@cisco.com


   Monique Morrow
   Cisco Systems
   Glatt-com
   CH-8301 Glattzentrum
   Switzerland

   Email: mmorrow@cisco.com


   Thomas D. Nadeau
   Cisco Systems
   300 Beaver Brook Drive
   Boxborough, MA
   USA

   Email: tnadeau@cisco.com


   George Swallow
   Cisco Systems
   1414 Massachusetts Ave
   Boxborough, MA  01719

   Email: swallow@cisco.com


   Rao Cherukuri
   Juniper Networks,
   1194 N. Mathilda Ave
   Sunnyvale  CA 94089






Bryant, et al.          Expires November 22, 2007               [Page 9]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


   Neil Harrison
   BT Global Services
   CTO, Network Architecture

   Email: neil.2.harrison@bt.com














































Bryant, et al.          Expires November 22, 2007              [Page 10]

Internet-Draft  App'n of PWE3 to MPLS Transport Networks        May 2007


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Bryant, et al.          Expires November 22, 2007              [Page 11]


