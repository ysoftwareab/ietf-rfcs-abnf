<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>HTTP-based Resource Descriptor Discovery</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="HTTP-based Resource Descriptor Discovery">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">E. Hammer-Lahav</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Yahoo!</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">January 09, 2009</td></tr>
<tr><td class="header">Expires: July 13, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />HTTP-based Resource Descriptor Discovery<br />draft-hammer-discovery-00</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on July 13, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
        This memo describes an HTTP-based process for obtaining information about a resource identified by a URI.
        The 'information about a resource' - a resource descriptor - typically provides
        machine-readable information that aims to assist and enhance the interaction with the resource.
        This memo only defines the process for locating and obtaining the descriptor, but leaves the descriptor format
        and its interpretation out of scope.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Notational Conventions<br />
<a href="#anchor3">3.</a>&nbsp;
Scope<br />
<a href="#anchor4">4.</a>&nbsp;
Resource Discovery and Service Discovery<br />
<a href="#anchor5">5.</a>&nbsp;
Discovery Workflow<br />
<a href="#anchor6">6.</a>&nbsp;
'describedby' Link Relationship<br />
<a href="#method_selection">7.</a>&nbsp;
Method Selection<br />
<a href="#methods">8.</a>&nbsp;
Obtaining Descriptor Location<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">8.1.</a>&nbsp;
&lt;LINK&gt; Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">8.2.</a>&nbsp;
HTTP Link Header<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">8.3.</a>&nbsp;
Site-Meta Document<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">8.3.1.</a>&nbsp;
Site-Wide Links<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">8.3.2.</a>&nbsp;
&lt;link-template&gt; Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#dns_declaration">8.3.3.</a>&nbsp;
DNS Verification for Non-HTTP(S) URIs<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">8.3.4.</a>&nbsp;
Method Workflow<br />
<a href="#anchor13">9.</a>&nbsp;
Caching<br />
<a href="#Security">10.</a>&nbsp;
Security Considerations<br />
<a href="#anchor14">11.</a>&nbsp;
IANA Considerations<br />
<a href="#analysis">Appendix&nbsp;A.</a>&nbsp;
Method Suitability Analysis<br />
<a href="#anchor15">Appendix&nbsp;A.1.</a>&nbsp;
Requirements<br />
<a href="#anchor16">Appendix&nbsp;A.2.</a>&nbsp;
Analysis<br />
<a href="#anchor17">Appendix&nbsp;A.2.1.</a>&nbsp;
HTTP Response Header<br />
<a href="#anchor18">Appendix&nbsp;A.2.2.</a>&nbsp;
HTTP Response Header Via HEAD<br />
<a href="#anchor19">Appendix&nbsp;A.2.3.</a>&nbsp;
HTTP Content Negotiation<br />
<a href="#anchor20">Appendix&nbsp;A.2.4.</a>&nbsp;
HTTP Header Negotiation<br />
<a href="#anchor21">Appendix&nbsp;A.2.5.</a>&nbsp;
&lt;Link&gt; Element<br />
<a href="#anchor22">Appendix&nbsp;A.2.6.</a>&nbsp;
HTTP OPTIONS Method<br />
<a href="#anchor23">Appendix&nbsp;A.2.7.</a>&nbsp;
WebDAV PROPFIND Method<br />
<a href="#anchor24">Appendix&nbsp;A.2.8.</a>&nbsp;
Custom HTTP Method<br />
<a href="#anchor25">Appendix&nbsp;A.2.9.</a>&nbsp;
Static Resource URI Transformation<br />
<a href="#anchor26">Appendix&nbsp;A.2.10.</a>&nbsp;
Dynamic Resource URI Transformation<br />
<a href="#anchor27">Appendix&nbsp;B.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        This memo aims to provide a uniform and easily implementable process for locating resource descriptors.
        With the development of interoperability specifications comes the need to enable compliant services
        and resources to declare their conformance to these specifications. There is a growing need to describe
        resources in a way that does not depend on their internal structure, or even the availability of an
        HTTP-accessible representation of these resources.
      
</p>
<p>
        For example, while an end-user is reading a web page such as a blog article, the user-agent can discover
        whether the content of this page has generated from an Atom feed or Atom entry and whether that feed supports
        Atom authoring. It can discover whether there is an iCalendar-formatted or CalDAV calendar associated with
        the page, or where other content by the same page author might be found.
      
</p>
<p>
        In an example related to the identity space, an end-user can use a URI as an identifier for signing into
        web services, and in turn, the web service can discover more information about the user's resources and preferences
        such as who did the user delegate their identity management to, where they keep their address book or list of
        social network friends, where their profile information is stored to reduce signup registration requirements, and
        what other services they use which may enhance their interaction with the web service.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Notational Conventions</h3>

<p>
        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Scope</h3>

<p>
        The scope of this memo is intentionally restricted to locating resource descriptors, leaving out their format.
        Given the wide range of use cases and information that can be provided 'about a resource', no
        single descriptor format can adequately accommodate all needs. However, the process in which the desired
        descriptor is located should be consistent across use cases and formats.
      
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Resource Discovery and Service Discovery</h3>

<p>
        Resource discovery provides a process for obtaining information about a resource identified with a URI.
        It allows resource-providers to describe their resources in a machine-readable format, enabling automatic
        interoperability by user-agents and resource-consuming applications. Discovery enables applications to utilize a
        wide range of web services and resources across multiple providers without the need to know about their
        capabilities in advance, reducing the need for manual configuration and resource-specific software.
      
</p>
<p>
        When discussing discovery, it is important to differentiate between resource discovery and service discovery.
        Both types attempts to associate capabilities with resources, but they approach it from opposite ends.
      
</p>
<p>
        Service discovery centers around identifying the location of qualified resources, typically finding an endpoint
        capable of certain protocols and capabilities. In contrast, resource discovery begins with a resource, trying
        to find which capabilities it supports.
      
</p>
<p>
        A simple way to distinguish between the two types of discovery is to define the questions they are each trying to
        answer:

        </p>
<blockquote class="text"><dl>
<dt>Resource-Discovery:</dt>
<dd>
            Given a resource, what are its attributes: capabilities, characteristics, and relationships
            to other resources?
          
</dd>
<dt>Service-Discovery:</dt>
<dd>
            Given a set of attributes, which available resources match the desired set and what
            is their location?
          
</dd>
</dl></blockquote><p>
      
</p>
<p>
        While this memo deals exclusively with resource discovery, it is important to note that the two discovery types
        are closely related and are usually used in tandem. In fact, a typical use case will switch between service discovery
        and resource discovery multiple times in a single workflow, and can start with either one.
      
</p>
<p>
        One reason for this dependency between the two discovery types is that resource descriptors usually contain
        not only a list of capabilities, but also relationships to other resources. Since those relationships are usually typed,
        the process in which an application chooses which links to use is in fact service discovery.
      
</p>
<p>
        Applications use resource discovery to obtain the list of links, and service discovery to choose the relevant links.
        In another common example, the application uses service discovery to find a resource with a given capability, then
        uses resource discovery to find out what other capabilities it supports.
      
</p>
<p>
        Unless otherwise noted, the term 'discovery' is used in this memo to mean resource discovery.
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Discovery Workflow</h3>

<p>
        Discovery can be performed before or after a resource is obtained. Performing discovery
        ahead of accessing the resource allows a resource-consumer to learn more about the properties of the
        resource. For example, a consumer can learn about the protocols supported by the resource and if understood,
        utilize them to interact with it.
      
</p>
<p>
        In many cases, discovery is performed after the resource has been obtained, based on the content of the resource
        and the way in which the user-agent interacts with it (or based on human interactions). Most web applications
        make strong assumptions about the resources they interact with, mostly due to lack of a standard discovery protocol
        for web resources. Such assumptions are not likely to disappear even with the introduction of a discovery workflow.
        In many cases, discovery will be used as a secondary step for enhancing the interaction with a resource
        rather than the first step of determining how to interact with it at all.
      
</p>
<p>
        The focus of this memo is on the first step in discovery: identifying the location of the resource
        descriptors. The overall discovery workflow includes two additional steps:

        </p>
<ol class="text">
<li>
            The location of the resource descriptor document is obtained using the resource URI. It does not matter
            how the resource URI has been obtained, just that a URI is known. Once the descriptor location has been
            identified, the descriptor document is retrieved.
          
</li>
<li>
            The resource descriptor document is parsed based on the descriptor document format used.
            For example, two such formats are POWDER (Protocol for Web Description Resources c) and XRD (Extensible
            Resource Descriptor <a class='info' href='#XRD'>[XRD]<span> (</span><span class='info'>Hammer-Lahav, E., Ed., &ldquo;XRD 1.0,&rdquo; .</span><span>)</span></a> [[replace with new XRD specification reference]]).
          
</li>
<li>
            The information about the resource contained within the descriptor document is processed to find out its
            capabilities, characteristics, and relationships to other resources. Capabilities are usually described
            with identifiers or description languages that the consuming application can match to a database of known
            capabilities or process via an interpreter.
          
</li>
</ol><p>
      
</p>
<p>
        While the process described in this memo utilizes the HTTP protocol <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> for locating descriptors, it can be used
        with any URI scheme and is not limited to just the 'http' and 'https' URI schemes. HTTP is an ideal framework for performing
        discovery activities on web resources, but it does not clearly define a mechanism for attaching a descriptor or metadata
        to a resource identified with a URI.
      
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
'describedby' Link Relationship</h3>

<p>
        The first step when performing discovery is to identify the location of the resource descriptor document for the desired
        resource. This can be simply described as a link between the URI of the resource and the URI of the descriptor. Links are
        one of the most fundamental building blocks of the web, and provide all that is necessary to define the relationship
        between a resource and its descriptors.
      
</p>
<p>
        The purpose of this memo is to define a consistent set of methods using HTTP through which this link information is obtained
        when performing discovery. The web provides a large number of methods for defining links between resources, but in
        order to achieve interoperability, the selection has to be narrowed down to a much smaller set of options.
      
</p>
<p>
        Since a single resource can have many descriptors, the descriptor link relationship has a one-to-many structure. In the case
        of multiple descriptors, selecting which descriptor to use is application-specific. It can involve factors such as the
        descriptor document format, accessibility, and other typed relationships, and as such is beyond the scope of this memo.
      
</p>
<p>
        All the methods described in this memo build directly on the typed-relationships framework defined in
        <a class='info' href='#I-D.nottingham-http-link-header'>[I&#8209;D.nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;Link Relations and HTTP Header Linking,&rdquo; November&nbsp;2008.</span><span>)</span></a>. The relationship type between a resource and its descriptor used for
        discovery is 'describedby' which was originally defined by <a class='info' href='#POWDER'>[POWDER]<span> (</span><span class='info'>Archer, P., Ed., Smith, K., Ed., and A. Perego, Ed., &ldquo;POWDER: Protocol for Web Description Resources,&rdquo; .</span><span>)</span></a> as a generic relationship type as follows:

        </p>
<blockquote class="text">
<p>
            Relationship type: describedby
          
</p>
<p>
            Purpose: To link a resource to a description that applies to that resource
          
</p>
<p>
            Documentation: http://www.w3.org/TR/powder-dr/#assoc-linking
          
</p>
<p>
            Note: The relationship A 'describedby' B does not imply that B is a POWDER file (the Media Type does that),
            simply that B provides a description of A. This is the only constraint placed on A and B by asserting
            the describedby relationship.
          
</p>
</blockquote><p>
      
</p>
<p>
        [[NOTE: the link type 'describedby' Link Relationship has been submitted to IANA for review, approval, and inclusion in the
        Atom Link Relations registry. The Atom Link Relations registry is expected to be replaced by a generic Link Relations registry
        as defined in <a class='info' href='#I-D.nottingham-http-link-header'>[I&#8209;D.nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;Link Relations and HTTP Header Linking,&rdquo; November&nbsp;2008.</span><span>)</span></a> section 4.2.]].
      
</p>
<p>
          For example, the following HTTP response header (fragment) returned with the HTTP representation of the resource
          http://example.com/resource/1:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  HEAD /resource/1 HTTP/1.1
  Server: example.com

  Link: &lt;http://example.com/resource/1;about&gt;;
            rel="describedby"; type="application/xrd+xml"
</pre></div>
<p>
          defines a link between the resource http://example.com/resource/1 and its descriptor located at
          http://example.com/resource/1;about and is hinted to be using the XRD <a class='info' href='#XRD'>[XRD]<span> (</span><span class='info'>Hammer-Lahav, E., Ed., &ldquo;XRD 1.0,&rdquo; .</span><span>)</span></a> document format.
        
</p>
<p>
        The methods described in this memo all result in one or more link relationships with type 'describedby'. Two out of the three
        methods use existing link mechanisms as-is, by simply specifying the relationship type used. The third defines a new mechanism
        for dynamically constructing links using templates.
      
</p>
<a name="method_selection"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Method Selection</h3>

<p>
        Due to the wide range of use cases requiring resource descriptors, and the desire to reuse as much as possible, no single solution
        has been found to sufficiently cover the requirements for linking between the resource URI and the descriptor URI. An analysis of
        the potential methods considered and the reason for their inclusion or rejection can be found in <a class='info' href='#analysis'>Appendix&nbsp;A<span> (</span><span class='info'>Method Suitability Analysis</span><span>)</span></a>.
        A discussion regarding the architectural issues around discovery can be found in <a class='info' href='#Uniform Access'>[Uniform Access]<span> (</span><span class='info'>Rees, J., &ldquo;Uniform Access to Information About,&rdquo; .</span><span>)</span></a>.
      
</p>
<p>
        Obtaining the link information between the resource URI and the descriptor URI is accomplished using one of three methods. The criteria
        used to determine which methods a resource-provider SHOULD support and resource-consumer SHOULD attempt to use are based
        on a combination of factors:

        </p>
<ul class="text">
<li>
            The document type of the available resource representation (text/html, application/atom+xml, image/png, unknown, etc.).
          
</li>
<li>
            The URI scheme (http, https, mailto, xmpp, etc.).
          
</li>
<li>
            The availability of an HTTP-accessible representation for the resource (a representation of the resource that can be
            retrieved using an HTTP GET request).
          
</li>
<li>
            The ability, desire, or applicability of the resource-consumer to directly interact and retrieve a resource representation (which
            might be unknown to it).
          
</li>
</ul><p>
      
</p>
<p>
        When selecting a method to use, the following requirement of each method are considered (each method is described in details in
        <a class='info' href='#methods'>Section&nbsp;8<span> (</span><span class='info'>Obtaining Descriptor Location</span><span>)</span></a>):

        </p>
<ul class="text">
<li>
            &lt;LINK&gt; Element: Limited to resources with an accessible markup representation with direct support for typed-relationships
            using the &lt;LINK&gt; element, such as HTML <a class='info' href='#W3C.REC-html401-19991224'>[W3C.REC&#8209;html401&#8209;19991224]<span> (</span><span class='info'>Hors, A., Jacobs, I., and D. Raggett, &ldquo;HTML 4.01 Specification,&rdquo; December&nbsp;1999.</span><span>)</span></a> and Atom <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>. Other
            document types are allowed as long as the semantics of their &lt;LINK&gt; element are fully compatible with the link framework
            defined in <a class='info' href='#I-D.nottingham-http-link-header'>[I&#8209;D.nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;Link Relations and HTTP Header Linking,&rdquo; November&nbsp;2008.</span><span>)</span></a>. This method requires full retrieval of the resource representation
            before any discovery information about it is available. While HTTP is the most common transport for HTML and Atom documents, this
            method is transport independent.
          
</li>
<li>
            HTTP Link Header: Limited to resources with an accessible representation using the HTTP protocol <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>,
            or resources for which an HTTP GET or HEAD request returns a valid HTTP response header. This method uses the Link header defined in
            <a class='info' href='#I-D.nottingham-http-link-header'>[I&#8209;D.nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;Link Relations and HTTP Header Linking,&rdquo; November&nbsp;2008.</span><span>)</span></a>. This method requires the retrieval of the resource representation header
            (using an HTTP GET or HEAD request).
          
</li>
<li>
            Site-Meta Document: A known-location based solution used for any resources identified by a URI with a DNS-resolvable authority
            component (i.e. an authority that can be directly mapped to an IP address). This method uses the Site-Meta document defined
            in <a class='info' href='#I-D.nottingham-site-meta'>[I&#8209;D.nottingham&#8209;site&#8209;meta]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;draft-nottingham-site-meta-00,&rdquo; October&nbsp;2008.</span><span>)</span></a>. This method does not require any direct interaction with the resource.
          
</li>
</ul><p>
      
</p>
<p>
        The order in which the methods are listed is based on their applicability specialization, from the most restrictive method to the
        most generic method. This ordering however does not imply the order in which multiple applicable methods should be attempted
        (which is application specific). Because different methods are more appropriate in different circumstances, all three methods
        described are considered equal and can be attempted in any order. To ensure interoperability, the following rules MUST be observed:

        </p>
<ul class="text">
<li>
            Resource-providers MUST support at least one of the three methods for each resource for which discovery information
            is to be made available. If more than one method is supported, all methods MUST produce the same resource descriptor location
            (either by returning the same descriptor URI or a different descriptor URI that leads to the same descriptor URI after following
            HTTP redirections).
          
</li>
<li>
            Resource-consumers SHOULD support all three methods and attempt each in their preferred order until a descriptor URI
            is obtained successfully. Resource-consumers SHOULD NOT attempt additional methods after a previous method has concluded
            successfully.
          
</li>
</ul><p>
      
</p>
<a name="methods"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Obtaining Descriptor Location</h3>

<p>
        To obtain the location of the resource descriptor using the resource URI, the resource-consumer SHALL proceed as follows:

        </p>
<ol class="text">
<li>
            Select one of the three methods as defined in <a class='info' href='#method_selection'>Section&nbsp;7<span> (</span><span class='info'>Method Selection</span><span>)</span></a>. In many cases, only some of the methods
            will be applicable. If more than one method is available, the resource-consumer SHOULD pick the method most efficient
            for its needs.
          
</li>
<li>
            Perform the steps described below for the selected method. If successful, the method will produce the descriptor location.
            If the method fails, repeat the process from the previous step by selecting another method. If no method is left, the
            discovery process fails.
          
</li>
<li>
            Once the desired descriptor URI has been obtained, the descriptor document is obtained via an HTTP GET request to the
            identified URI. The resource-consumer MUST obey all HTTP 301 and 302 redirects and the descriptor document is considered
            valid only if contained within an HTTP response with the HTTP 200 response code.
          
</li>
</ol><p>
      
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
&lt;LINK&gt; Element</h3>

<p>
          Resources with an HTML <a class='info' href='#W3C.REC-html401-19991224'>[W3C.REC&#8209;html401&#8209;19991224]<span> (</span><span class='info'>Hors, A., Jacobs, I., and D. Raggett, &ldquo;HTML 4.01 Specification,&rdquo; December&nbsp;1999.</span><span>)</span></a> or an Atom <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> representations MAY
          include a &lt;LINK&gt; element with the 'describedby' relationship type to link between the resource and its descriptor.
        
</p>
<p>
            For example:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;LINK href="http://example.com/resource;about"
          rel="describedby" type="application/powder+xml"&gt;
</pre></div>
<p>
          A resource-consumer trying to obtain the location of the resource's descriptor using this method SHALL:

          </p>
<ol class="text">
<li>
              Retrieve a valid representation of the resource using the applicable transport for that resource URI. If the resource
              representation is obtained using HTTP, the resource-consumer MUST only use it if the HTTP response containing the
              representation carries a valid HTTP 200 response code. If any other response code is returned, the method fails.
              [[This is written specifically about the request producing the representation, ignoring any potential redirects that might
              have occurred prior. Should redirects be explicitly mentioned here?]]
            
</li>
<li>
              Parse the document as defined by the document specification and look for &lt;LINK&gt; elements with a 'rel' attribute value
              containing the 'describedby' relationship (a multiple relationship 'rel' attribute value is allowed and MUST be handled by
              the consumer, for example 'rel="describedby copyright"').
            
</li>
<li>
              The resource-consumer SHOULD examine any available 'type' attributes as hints for the document format used by the descriptor
              document. If more than one link is found, the descriptor mime-type SHOULD be used to narrow down the selection.
            
</li>
<li>
              The descriptor location is obtained from the value of the 'href' attribute on the selected &lt;LINK&gt; element.
            
</li>
</ol><p>
        
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
HTTP Link Header</h3>

<p>
          Resources with an accessible HTTP representation MAY include a Link header in the HTTP response header as defined by
          <a class='info' href='#I-D.nottingham-http-link-header'>[I&#8209;D.nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;Link Relations and HTTP Header Linking,&rdquo; November&nbsp;2008.</span><span>)</span></a> with a 'rel' parameter value set to 'describedby'.
        
</p>
<p>
            For example:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Link: &lt;http://example.com/resource;about&gt;; rel="describedby";
            type="application/powder+xml"
</pre></div>
<p>
          A resource-consumer trying to obtain the location of the resource's descriptor using this method SHALL:

          </p>
<ol class="text">
<li>
              Retrieve a valid HTTP response header for the representation of the resource using an HTTP GET or HEAD request.
              The resource-consumer MUST follow HTTP redirections 301 and 302. The resulting header MUST only be used for the purpose
              of discovery if the HTTP response containing the header has one of the following HTTP response codes: 200, 303,
              and 401. If any other response code is returned, the method fails.
            
</li>
<li>
              Parse the HTTP response header and look for a Link header with a 'rel' parameter value containing the 'describedby'
              relationship (a multiple relationship 'rel' parameter value is allowed and MUST be handled by the consumer, for example
              'rel="describedby copyright";').
            
</li>
<li>
              The resource-consumer SHOULD examine any available 'type' parameters as hints for the document format used by the descriptor
              document. If more than one link is found, the descriptor mime-type SHOULD be used to narrow down the selection.
            
</li>
<li>
              The descriptor location is obtained from the URI-reference locating between the '&lt;&gt;' characters of the selected Link
              header.
            
</li>
</ol><p>
        
</p>
<p>
          If the HTTP response code is 303, any descriptor location is defined to be between the requested resource and the
          descriptor and not between the 'See other' resource indicated by a Location header. If the response code is 401, any descriptor
          location MUST only be used in association with obtaining access to the resource, which once obtained, must be queried again for
          its descriptor location which MAY be different from the unauthorized response.
        
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3"></a><h3>8.3.&nbsp;
Site-Meta Document</h3>

<p>
          The descriptor location of resources identified with a URI which contains a DNS-resolvable authority component MAY be
          obtained from the Site-Meta document <a class='info' href='#I-D.nottingham-site-meta'>[I&#8209;D.nottingham&#8209;site&#8209;meta]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;draft-nottingham-site-meta-00,&rdquo; October&nbsp;2008.</span><span>)</span></a> via a templatized map used to transform
          the resource URI to the descriptor URI. The templatized link is provided by an extension (defined by this memo) to the
          Site-Meta schema for describing link templates. Using a template provided by Site-Meta for URIs under its authority,
          a resource URI can be deconstructed and then reconstructed to form the URI of the descriptor location.
        
</p>
<p>
            For example, given the resource identified by http://example.com/r/1, the Site-Meta document for its authority
            example.com is obtained from http://example.com/site-meta. The Site-Meta document defines a template in which the
            resource URI is converted to the descriptor URI by appending ';about' to the URI:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;metadata&gt;
    &lt;link-template template="{uri};about"
            rel="describedby"
            type="application/powder+xml" /&gt;
  &lt;/metadata&gt;
</pre></div>
<p>
            resulting in the descriptor location URI http://example.com/r/1;about.
          
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3.1"></a><h3>8.3.1.&nbsp;
Site-Wide Links</h3>

<p>
            Site-Meta defines a method for locating site-wide metadata for web sites. Its primary objective is to avoid the need of further
            known-location solutions by creating one last such resource which can point to other resources. It can be considered a registry
            for "known-location" resources to avoid further intrusion into the site's naming authority, hopefully the last such resource.
          
</p>
<p>
            In the context of discovery, Site-Meta offers a convenient location for storing information about how to map between
            resource URIs and their descriptor URIs at an authority level. Site-Meta provides a method for obtaining descriptor locations
            that does not depend on the availability of an HTTP representation (or 303 See Other response) for resources. It can also, with
            an additional authority verification step (described in <a class='info' href='#dns_declaration'>Section&nbsp;8.3.3<span> (</span><span class='info'>DNS Verification for Non-HTTP(S) URIs</span><span>)</span></a>), provide descriptor locations for URIs
            with schemes other than 'http' and 'https'.
          
</p>
<p>
            The elements defined by Site-Meta are meant to contain site-wide information. Unlike Link headers included in the HTTP response to
            requests for the domain root resource (obtained via 'GET / HTTP/1.1' or 'HEAD / HTTP/1.1') which are specific to the root resource,
            links in Site-Meta are between the abstract 'web site' entity and the linked resources. It is critical not to confuse the root
            resource of a domain authority with the abstract 'web site' entity described by Site-Meta.
          
</p>
<p>
            For this reason, any &lt;meta&gt; elements containing linked resources with relationship type 'describedby', identify the location
            of the abstract 'web site' entity description which by itself cannot be described using a URI. While this is a valid application
            of the 'describedby' relationship type, it is beyond the scope of this memo.
          
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3.2"></a><h3>8.3.2.&nbsp;
&lt;link-template&gt; Element</h3>

<p>
            The &lt;link-template&gt; element is defined as a child of the root &lt;metadata&gt; element and identical to the Site-Meta
            &lt;meta&gt; element with the following differences:
            </p>
<ul class="text">
<li>
                It cannot contain any value or child elements and must be self-closing.
              
</li>
<li>
                The 'href' attribute in the &lt;meta&gt; element is replaced by the 'template' attribute.
              
</li>
<li>
                The OPTIONAL 'scheme' attribute is added.
              
</li>
<li>
                The resulting relationship is defined as between the individual resource used as an input to the template and the resulting
                descriptor URI, and do not in relation to the abstract 'web site' entity.
              
</li>
</ul><p>
          
</p>
<p>
            The 'scheme' attribute serves as a filter indicating which URI scheme are meant to be transformed using the provided template.
            This OPTIONAL attribute is meant to allow different handling of different URI schemes. The attribute value is a space separated
            list of lowercase scheme names. If omitted, the template is meant to be applied to any URI schemes.
          
</p>
<p>
            The 'template' attribute defines a URI template with a very simple syntax. The attribute value is used to construct a valid URI
            by substituting the variable enclosed in '{}' with the value of the variable.
          
</p>
<p>
            In the example above, the 'uri' variable is replaced with
            the actual resource URI (the resource URI http://example.com replaces the '{uri}' string which results in http://example.com;about).
            If the variable name is prefixed by a '%' character, any character other than unreserved in variable value MUST be
            percent-encoded per <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>.
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  unreserved  = ALPHA / DIGIT / "-" / "." / "_" / "~"
</pre></div>
<p>
              For example, the following template when used with the resource URI http://example.com:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;metadata&gt;
    &lt;link-template template="http://example.com?describe={%uri}"
            rel="describedby"
            type="application/xrd+xml"
            scheme="mailto http https" /&gt;
  &lt;/metadata&gt;
</pre></div>
<p>
              produces the descriptor URI: http://example.com?describe=http%3A%2F%2Fexample.com.
            
</p>
<p>
            [[This initial draft only defines a single 'uri' variable. However, it is expected that future revision will define
            a larger template vocabulary which will be based on the URI structure definition and include: uri, scheme, authority,
            domain, port, path, query, fragment, and username (for 'mailto' URIs).]]
          
</p>
<p>
            [[Site-Meta is pending a major revision of its document format which is likely to replace its XML structure with a simpler
            text based structure. This memo will be revised as soon as the new Site-Meta draft is published to reflect these changes.
            However, the changes are expected to only change the document formatting.]]
          
</p>
<a name="dns_declaration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3.3"></a><h3>8.3.3.&nbsp;
DNS Verification for Non-HTTP(S) URIs</h3>

<p>
            Site-Meta uses the HTTP protocol for providing metadata about the abstract 'web site' entity. This raises the issue whether
            an HTTP server can speak authoritatively for a non-HTTP resource, namely, a resource identified by a URI with a scheme other
            than 'http' or 'https'.
          
</p>
<p>
            From a deployment perspective, many organizations separate the administration responsibilities of their HTTP resources from other
            resources such as email (SMTP) or instant messaging (XMPP). It would be an unexpected behavior in such organizations if the HTTP
            server provides authoritative information about identifiers belonging to other departments.
          
</p>
<p>
            The process defined in this memo was design with ease of deployment as one of its top priorities. Since it is unlikely that
            protocols such as SMTP will introduce their own discovery extensions (which will realize any significant deployment
            in the foreseeable future), Site-Meta must be able to provide authoritative information regarding the descriptor location of non-HTTP(S)
            resources.
          
</p>
<p>
            To obtain such authority, the owner of the domain (as represented by the administrator of its DNS records) MUST declare that
            Site-Meta is indeed allowed to provide such information. To do so, the domain DNS records MUST include, for each domain or sub-domain
            for which the HTTP server has such authority, a TXT record with the exact value of '/site-meta non-http delegation enabled'.
            [[The DNS record type and value are included in this draft only as a straw man proposal and are likely to change based on feedback
            received from the DNS community. Proposals for such record are requested.]]
          
</p>
<p>
            Resource-consumers MUST verify the existence of such DNS record before obtaining and utilizing the Site-Meta document for the
            discovery of non-HTTP(S) resources. If no such record is found, the method fails.
          
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3.4"></a><h3>8.3.4.&nbsp;
Method Workflow</h3>

<p>
            A resource-consumer trying to obtain the location of the resource's descriptor using this method SHALL:

            </p>
<ol class="text">
<li>
                Examine the resource URI and extract its authority component as defined by <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> section 3:
                <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  foo://example.com:8042/over/there?name=ferret#nose
  \_/   \______________/\_________/ \_________/ \__/
   |           |            |            |        |
  scheme    authority       path        query   fragment
</pre></div>
                If the authority contains an '@' character, the '@' character and everything to its left is removed. For example, in the
                URI mailto:username@example.com the authority component username@example.com is stripped of the '@' character and the
                characters to its left, leaving example.com as the extracted authority value used in follow-up steps.
              
</li>
<li>
                If the URI scheme being discovered is not 'http' or 'https', the resource-consumer MUST perform DNS verification as described
                in <a class='info' href='#dns_declaration'>Section&nbsp;8.3.3<span> (</span><span class='info'>DNS Verification for Non-HTTP(S) URIs</span><span>)</span></a> to ensure that the HTTP protocol service for that domain has the authority to relay
                discovery location for other schemes.
              
</li>
<li>
                Retrieve the Site-Meta document for the extracted authority as defined by <a class='info' href='#I-D.nottingham-site-meta'>[I&#8209;D.nottingham&#8209;site&#8209;meta]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;draft-nottingham-site-meta-00,&rdquo; October&nbsp;2008.</span><span>)</span></a>
                section 4, by making an HTTP GET request:
                <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  GET /site-meta HTTP/1.1
  Host: example.com
</pre></div>
                If the request fails to retrieve a valid Site-Meta document, the method fails. [[Should the method require the use of HTTPS
                when retrieving the Site-Meta document when performing discovery on 'https' scheme URIs?]]
              
</li>
<li>
                Parse Site-Meta document and look for &lt;link-template&gt; elements with a 'rel' attribute value containing the 'describedby'
                relationship (a multiple relationship 'rel' attribute value is allowed and MUST be handled by the consumer, for example
                'rel="describedby copyright"').
              
</li>
<li>
                The resource-consumer SHOULD examine any available 'type' attributes as hints for the document format used by the descriptor
                document. If more than one link template is found, the descriptor mime-type SHOULD be used to narrow down the selection.
              
</li>
<li>
                The descriptor location is constructed by applying the template obtained from the 'template' attribute of the selected
                &lt;link-template&gt; element on the resource URI.
              
</li>
</ol><p>
          
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Caching</h3>

<p>
        Resource-consumers MUST obey all HTTP caching headers and directives and discard any cached descriptor location as defined by
        the resource-provider. The ability to cache descriptor locations was a key requirement in selecting which methods to include in
        the discovery workflow. It is critical that such information is cached as defined by HTTP.
      
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Security Considerations</h3>

<p>
        The methods used to perform discovery are not secure, private or integrity-guaranteed, and due caution should be
        exercised when using them. Applications that perform discovery should consider the attack vectors opened by automatically
        following, trusting, or otherwise using links gathered from &lt;LINK&gt; elements, HTTP Link headers, or Site-Meta documents.
      
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
IANA Considerations</h3>

<p>
        This memo includes no request to IANA. The relationship type 'describedby' used by this memo is pending approval by the IANA
        and must be fully registered before this memo can become final. If for any reason the 'describedby' relationship type fails
        to register with the IANA, it is expected that this memo will define a new relationship type.
      
</p>
<a name="analysis"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Method Suitability Analysis</h3>

<p>
        The following analysis attempts to list all the method proposed for addressing resource discovery. It has been previously
        published as an article at <a class='info' href='#Discovery and HTTP'>[Discovery and HTTP]<span> (</span><span class='info'>Hammer-Lahav, E., &ldquo;Discovery and HTTP,&rdquo; .</span><span>)</span></a> and is included here to provide background information as
        to why certain methods have been selected while others rejected from the discovery process. It has been updated to match
        the terms used in this memo and its structure.
      
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>Appendix A.1.&nbsp;
Requirements</h3>

<p>
          Getting from a resource URI to its descriptor document can be implemented in many ways. The problem is that none of the
          current methods address all of the requirements presented by the common use cases. The requirements are simple, but the
          more we try to address, the less elegant and accessible the process becomes. While working on the now defunct XRDS-Simple
          specification <a class='info' href='#XRDS-Simple'>[XRDS&#8209;Simple]<span> (</span><span class='info'>Hammer-Lahav, E., &ldquo;XRDS-Simple 1.0,&rdquo; .</span><span>)</span></a> and talking to companies and individual about it, the following requirements
          emerged for any proposed process:

          </p>
<blockquote class="text"><dl>
<dt>Self Declaration:</dt>
<dd>
              <br />

              Allow resources to declare the availability of descriptor information and its location. When a resource is accessed,
              it needs to have a way to communicate to the resource-consumer that it supports the discovery protocol and to
              indicates the location of such descriptor.
              <br />
<br />

              This is useful when the consumer is able or is already interacting with the resource but can enhance its interaction
              with additional information. For example, accessing a blog page enhanced if it was generated from an Atom feed or
              Atom entry and that feed supports Atom authoring.
            
</dd>
<dt>Direct Descriptor Access:</dt>
<dd>
              <br />

              Enable direct retrieval of the resource descriptor without interacting with the resource itself. Before a resource
              is accessed, the resource-consumer should have a way to obtain the resource descriptor without accessing the resource.
              This is important for two reasons.
              <br />
<br />

              First, accessing an unknown resource may have undesirable consequences. After all, the information contained in the
              descriptor is supposed to inform the consumer how to interact with the resource. The second is efficiency - removing
              the need to first obtain the resource in order to get its descriptor (reducing HTTP round-trips, network bandwidth,
              and application latency).
            
</dd>
<dt>Web Architecture Compliant:</dt>
<dd>
              <br />

              Work with well-established web infrastructure. This may sound obvious but it is in fact the most complex requirement.
              Deploying new extensions to the HTTP protocol is a complicated endeavor. Beside getting applications to support a new
              header, method, or content negotiation, existing caches and proxies must be enhanced to properly handle these
              requests, and they must not fail performing their normal duties without such enhancements.
              <br />
<br />

              For example, a new content negotiation method may cause an existing cache to serve the wrong data to a non-discovery
              consumer due to its inability to distinguish the metadata request from the resource representation request.
            
</dd>
<dt>Scale and Technology Agnostic:</dt>
<dd>
              <br />

              Support large and small web providers regardless of the size of operations and deployment. Any solution must work for
              a small hosted web site as well as the world largest search engine. It must be flexible enough to allow developers with
              restricted access to the full HTTP protocol (such as limited access to request or response headers) to be able to both
              provide and consume resource descriptors. Any solution should also support caching as much as possible and allow reuse
              of source code and data.
            
</dd>
<dt>Extensible:</dt>
<dd>
              <br />

              Accommodate future enhancements and unknown descriptor formats. It should support the existing set of descriptor formats
              such as XRD and POWDER, as well as new descriptor relationships that might emerge in the future. In addition, the solution
              should not depend on the descriptor format itself and work equally well with any document format - it should aim to keep
              the road and destination separate.
            
</dd>
</dl></blockquote><p>
        
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>Appendix A.2.&nbsp;
Analysis</h3>

<p>
          The following is a list of proposed and implemented methods trying to address resource discovery. Each method is reviewed for
          its compliance with the requirements identified previously. The [-], [+], or [+-] symbols next to each requirement indicate
          how well the method complies with the requirement.
        
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.1"></a><h3>Appendix A.2.1.&nbsp;
HTTP Response Header</h3>

<p>
            When a resource representation is retrieved using and HTTP GET request, the server includes in the response a header pointing
            to the location of the descriptor document. For example, POWDER uses the 'Link' response header to create an association between
            the resource and its descriptor. XRDS <a class='info' href='#XRDS'>[XRDS]<span> (</span><span class='info'>Wachob, G., Reed, D., Chasen, L., Tan, W., and S. Churchill, &ldquo;Extensible Resource Identifier (XRI) Resolution V2.0,&rdquo; .</span><span>)</span></a> (based on the Yadis protocol <a class='info' href='#Yadis'>[Yadis]<span> (</span><span class='info'>Miller, J., &ldquo;Yadis Specification 1.0,&rdquo; .</span><span>)</span></a>) uses a
            similar approach, but since the Link header was not available when Yadis was first drafted, it defines a custom header
            X-XRDS-Location which serves a similar but less generic purpose.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[+] Self Declaration -</dt>
<dd>
                using the Link header, any resource can point to its descriptor documents.
              
</dd>
<dt>[-] Direct Descriptor Access -</dt>
<dd>
                the header is only accessible when requesting the resource itself via an HTTP GET request. While HTTP GET is meant to be a
                safe operation, it is still possible for some resource to have side-effects.
              
</dd>
<dt>[+] Web Architecture Compliant -</dt>
<dd>
                uses the Link header which is an IETF Internet Standard [[Currently a standard-track draft]], and is consistent with HTTP
                protocol design.
              
</dd>
<dt>[-] Scale and Technology Agnostic -</dt>
<dd>
                since discovery accounts for a small percent of resource requests, the extra Link header is wasteful. For some hosted servers,
                access to HTTP headers is limited and will prevent implementation.
              
</dd>
<dt>[+] Extensible -</dt>
<dd>
                the Link header provides built-in extensibility by allowing new link relationships, mime-types, and other extensions.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 2
          
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.2"></a><h3>Appendix A.2.2.&nbsp;
HTTP Response Header Via HEAD</h3>

<p>
            Same as the HTTP Response Header method but used with an HTTP HEAD request. The idea of using the HEAD method is to solve
            the wasteful overhead of including the Link header in every reply. By limiting the appearance of the Link header only to
            HEAD responses, typical GET requests are not encumbered by the extra bytes.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[+] Self Declaration -</dt>
<dd>
                Same as the HTTP Response Header method.
              
</dd>
<dt>[-] Direct Descriptor Access -</dt>
<dd>
                Same as the HTTP Response Header method.
              
</dd>
<dt>[-] Web Architecture Compliant -</dt>
<dd>
                HTTP HEAD should return the exact same response as HTTP GET with the sole exception that the response body is omitted.
                By adding headers only to the HEAD response, this solution violates the HTTP protocol and might not work properly with
                proxies as they can return the header of the cached GET request.
              
</dd>
<dt>[+] Scale and Technology Agnostic -</dt>
<dd>
                solves the wasted bandwidth associated with the HTTP Response Header method, but still suffers from the limitation
                imposed by requiring access to HTTP headers.
              
</dd>
<dt>[+] Extensible -</dt>
<dd>
                Same as the HTTP Response Header method.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 2
          
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.3"></a><h3>Appendix A.2.3.&nbsp;
HTTP Content Negotiation</h3>

<p>
            Using the Accept request header, the consumer informs the server it is interested in the descriptor and not the
            resource itself, to which the server responds with the descriptor document or its location. In Yadis, the consumer
            sends an HTTP GET (or HEAD) request to the resource URI with an Accept header and content-type application/xrds+xml.
            This informs the server of the consumer's discovery interest, which in turn may reply with the descriptor document
            itself, redirect to it, or return its location via the X-XRDS-Location response header.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[-] Self Declaration -</dt>
<dd>
                does not address as it focuses on the consumer declaring its intentions.
              
</dd>
<dt>[+] Direct Descriptor Access -</dt>
<dd>
                provides a simple method for directly requesting the descriptor document.
              
</dd>
<dt>[-] Web Architecture Compliant -</dt>
<dd>
                while it can be argued that the descriptor can be considered another representation of the resource, it is very
                much external to it. Using the Accept header to request a separate resource (as opposed to a different representation
                of the same resource) violates web architecture. It also prevents using the discovery content-type as a valid
                (self-standing) web resource having its own descriptor.
              
</dd>
<dt>[-] Scale and Technology Agnostic -</dt>
<dd>
                requires access to HTTP request and response headers, as well as the registration of multiple handlers for the same
                resource URI based on the Accept header. In addition, improper use or implementation of the Vary header in conjunction
                with the Accept header will cause caches to serve the descriptor document instead of the resource itself - a great
                concern to large providers with frequently visited front-pages.
              
</dd>
<dt>[-] Extensible -</dt>
<dd>
                applies an implicit relationship type to the descriptor mime-type, limiting descriptor formats to a single purpose. It
                also prevents using existing mime-types from being used as a descriptor format.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 1
          
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.4"></a><h3>Appendix A.2.4.&nbsp;
HTTP Header Negotiation</h3>

<p>
            Similar to the HTTP Content Negotiation method, this solution uses a custom HTTP request header to inform the server of the consumer's
            discovery intentions. The server responds by serving the same resource representation (via an HTTP GET or HEAD requests) with
            the relevant Link headers. It attempts to solve the HTTP Response Header waste issue by allowing the consumer to explicitly
            request the inclusion of Link headers. One such header can be called 'Request-links' to inform the server the consumer would
            like it to include certain Link headers of a given 'rel' type in its reply.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[+] Self Declaration -</dt>
<dd>
                same as HTTP Response Header with the option of selective inclusion.
              
</dd>
<dt>[-] Direct Descriptor Access -</dt>
<dd>
                does not address.
              
</dd>
<dt>[-] Web Architecture Compliant -</dt>
<dd>
                HTTP does not include any mechanism for header negotiation and any custom solution will break existing caches.
              
</dd>
<dt>[+-] Scale and Technology Agnostic -</dt>
<dd>
                Requires advance access to HTTP headers on both the consumer and provider sides, but solves the bandwidth waste
                issue of the HTTP Response Header method.
              
</dd>
<dt>[+] Extensible -</dt>
<dd>
                builds on top of Link header extensibility.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 2
          
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.5"></a><h3>Appendix A.2.5.&nbsp;
&lt;Link&gt; Element</h3>

<p>
            Embeds the location of the descriptor document within the resource representation by leveraging the HTML &lt;Link&gt;
            header element (as opposed to the HTTP header). Applies to HTML resource representations or similar markup-based formats
            with support for 'Link'-like elements such as Atom. POWDER uses the &lt;Link&gt; element in this manner, while XRDS uses
            the HTML &lt;meta&gt; element with an 'http-equiv' attribute equals to X-XRDS-Location (to create an embedded version
            of the X-XRDS-Location custom header).
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[+] Self Declaration -</dt>
<dd>
                similar to HTTP Response Header method but limited to HTML resources.
              
</dd>
<dt>[-] Direct Descriptor Access -</dt>
<dd>
                the method requires fetching the entire resource representation in order to obtain the descriptor location. In addition,
                it requires changing the resource HTML representation which makes discovery an intrusive process.
              
</dd>
<dt>[+] Web Architecture Compliant -</dt>
<dd>
                uses the &lt;Link&gt; element as designed.
              
</dd>
<dt>[+] Scale and Technology Agnostic -</dt>
<dd>
                while this solution requires direct retrieval of the resource and manipulation of its content, it is extremely accessible
                in many platforms.
              
</dd>
<dt>[-] Extensible -</dt>
<dd>
                extensibility is restricted to HTML representations or similar markup formats with support for a similar element.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 2
          
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.6"></a><h3>Appendix A.2.6.&nbsp;
HTTP OPTIONS Method</h3>

<p>
            The HTTP OPTIONS method is used to interact with the HTTP server with regard to its capabilities and communication-related
            information about its resources. The OPTIONS method, together with an optional request header, can be used to request both
            the descriptor location and descriptor content itself.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[-] Self Declaration -</dt>
<dd>
                does not address.
              
</dd>
<dt>[+] Direct Descriptor Access -</dt>
<dd>
                provides a clean mechanism for requesting descriptor information about a resource without interacting with it.
              
</dd>
<dt>[+] Web Architecture Compliant -</dt>
<dd>
                uses an existing HTTP featured.
              
</dd>
<dt>[-] Scale and Technology Agnostic -</dt>
<dd>
                requires consumer and provider access to the OPTIONS HTTP method. Also does not support caching which makes
                this solution inefficient.
              
</dd>
<dt>[+] Extensible -</dt>
<dd>
                built-into the OPTIONS method.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 1
          
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.7"></a><h3>Appendix A.2.7.&nbsp;
WebDAV PROPFIND Method</h3>

<p>
            Similar to the HTTP OPTIONS method, the WebDAV PROPFIND method defined in <a class='info' href='#RFC4918'>[RFC4918]<span> (</span><span class='info'>Dusseault, L., &ldquo;HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV),&rdquo; June&nbsp;2007.</span><span>)</span></a> can be used to request
            resource specific properties, one of which can hold the location of the descriptor document. PROPFIND, unlike
            OPTIONS, cannot return the descriptor itself, unless it is returned in the required PROPFIND schema (a multi-status
            XML element). Other alternatives include URIQA <a class='info' href='#URIQA'>[URIQA]<span> (</span><span class='info'>Nokia, &ldquo;The URI Query Agent Model,&rdquo; .</span><span>)</span></a>, an HTTP extension which defines a method
            called MGET, and ARK (Archival Resource Key) <a class='info' href='#ARK'>[ARK]<span> (</span><span class='info'>Kunze, J. and R. Rodgers, &ldquo;The ARK Identifier Scheme,&rdquo; .</span><span>)</span></a> - a method similar to PROPFIND that allows the
            retrieval of resource attributes using keys (which describe the resource).
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[-] Self Declaration -</dt>
<dd>
                does not address.
              
</dd>
<dt>[+-] Direct Descriptor Access -</dt>
<dd>
                does not require interaction with the resource, but does require at least two requests to get the descriptor
                (get location, get document).
              
</dd>
<dt>[+] Web Architecture Compliant -</dt>
<dd>
                uses an HTTP extension with less support than core HTTP, but still based on published standards.
              
</dd>
<dt>[-] Scale and Technology Agnostic -</dt>
<dd>
                same as the HTTP OPTIONS Method.
              
</dd>
<dt>[+-] Extensible -</dt>
<dd>
                uses extensible protocols but at the same time depends on solutions that have already gone beyond the standard
                HTTP protocol, which makes further extensions more complex and unsupported.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 2
          
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.8"></a><h3>Appendix A.2.8.&nbsp;
Custom HTTP Method</h3>

<p>
            Similar to the HTTP OPTIONS Method, a new method can be defined (such as DISCOVER) to return (or redirect to) the
            descriptor document. The new method can allow caching.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[-] Self Declaration -</dt>
<dd>
                does not address.
              
</dd>
<dt>[+] Direct Descriptor Access -</dt>
<dd>
                same as the HTTP OPTIONS Method.
              
</dd>
<dt>[-] Web Architecture Compliant -</dt>
<dd>
                depends heavily on extending every platform to support the extension. Unlikely to be supported by existing
                proxy services and caches.
              
</dd>
<dt>[-] Scale and Technology Agnostic -</dt>
<dd>
                same as HTTP OPTIONS Method with the additional burden on smaller sites requiring access to the new protocol.
              
</dd>
<dt>[+] Extensible -</dt>
<dd>
                new protocol that can extend as needed.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 1
          
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.9"></a><h3>Appendix A.2.9.&nbsp;
Static Resource URI Transformation</h3>

<p>
            Instead of using HTTP facilities to access the descriptor location, this method defines a template to transform
            any resource URI to the descriptor document URI. This can be done by adding a prefix or suffix to the resource URI,
            which turns it into a new resource URI. The new URI points to the descriptor document. For example, to fetch the
            descriptor document for http://example.com/resource, the consumer makes an HTTP GET request to http://example.com/resource;about
            using a static template that adds the ';about' suffix.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[-] Self Declaration -</dt>
<dd>
                does not address.
              
</dd>
<dt>[+] Direct Descriptor Access -</dt>
<dd>
                creates a unique URI for the descriptor document.
              
</dd>
<dt>[+-] Web Architecture Compliant -</dt>
<dd>
                uses basic HTTP facilities but intrudes on the domain authority namespace as it defines a static template for
                URI transformation that is not likely to be compatible with many existing URI naming conventions.
              
</dd>
<dt>[+-] Scale and Technology Agnostic -</dt>
<dd>
                depending on the static mapping chosen. Some hosted environment will have a problem gaining access to the mapped URI
                based on the URI format chosen.
              
</dd>
<dt>[-] Extensible -</dt>
<dd>
                provides a very specific and limited method to map between resources and their descriptor, since each relationship
                type must mint its own static template.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: 1
          
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2.10"></a><h3>Appendix A.2.10.&nbsp;
Dynamic Resource URI Transformation</h3>

<p>
            Same as the Static Resource URI Transformation method but with the ability for each domain authority to specify its
            own discovery transformation template. This can done by placing a configuration file at a known location (such as
            robots.txt) which contains the template needed to perform the URL mapping. The consumer first obtains the configuration
            document (which may be cached using normal HTTP facilities), parses it, then uses that information to transform the
            resource URI and access the descriptor document.
          
</p>
<p>
            </p>
<blockquote class="text"><dl>
<dt>[+-] Self Declaration -</dt>
<dd>
                does not address individual resources, but allows entire domains to declare their support (and how to use it).
              
</dd>
<dt>[+-] Direct Descriptor Access -</dt>
<dd>
                once the mapping template has been obtained, descriptors can be accessed directly.
              
</dd>
<dt>[+-] Web Architecture Compliant -</dt>
<dd>
                uses an existing known-location design pattern (such as robots.txt) and standard HTTP facilities. The use of a known-location
                if not ideal and is considered a violation of web architecture but if it serves as the last of its kind, can be tolerated. An
                alternative to the known-location approach can be using DNS to store either the location of the mapping or the map template itself,
                but DNS adds a layer of complexity not always available.
              
</dd>
<dt>[+-] Scale and Technology Agnostic -</dt>
<dd>
                works well at the URI authority level (domain) but is inefficient at the URI path level (resource path) and harder to
                implement when different paths within the same domain need to use different templates. With the decreasing cost of
                custom domains and sub-domains hosting, this will not be an issue for most services, but it does require sharing
                configuration at the domain/sub-domain level.
              
</dd>
<dt>[+-] Extensible -</dt>
<dd>
                can be, depending on the schema used to format the known-location configuration document.
              
</dd>
</dl></blockquote><p>

            Minimum roundtrips to retrieve the resource descriptor: initially 2, 1 after caching
          
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Acknowledgments</h3>

<p>
        With the exception of the Site-Meta template extension, very little of this memo is original work. Many communities and
        individuals have been working on solving discovery for many years and this work is a direct result of their
        hard and dedicated efforts.
      
</p>
<p>
        Inspiration for this memo derived from previous work on a descriptor format called XRDS-Simple, which in turn derived from another
        descriptor format, XRDS. Previous discovery workflows include Yadis which is currently used by the OpenID community. While
        suffering from significant shortcomings, Yadis was a breakthrough approach to performing discovery using extremely
        restricted hosting environments, and this memo has strived to preserve as much of that spirit as possible.
      
</p>
<p>
        The use of Link elements and headers and the introduction of the 'describedby' relationship type in this memo is a direct
        result of the dedicated work and contribution of Phil Archer to the W3C POWDER specification and Jonathan Rees to the W3C
        review of Uniform Access to Information About. The Site-Meta approach was first proposed by Mark Nottingham as an alternative
        to attaching links directly to resource representations.
      
</p>
<p>
        The author wishes to thanks the OASIS XRI community for their support, encouragement, and enthusiasm for this work. Special
        thanks go to Lisa Dusseault, Mark Nottingham, Drummond Reed, John Panzer, and Joseph Holsten for their invaluable feedback.
      
</p>
<p>
        The author takes all responsibility for errors and omissions.
      
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.nottingham-http-link-header">[I-D.nottingham-http-link-header]</a></td>
<td class="author-text">Nottingham, M., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nottingham-http-link-header-03.txt">Link Relations and HTTP Header Linking</a>,&rdquo; draft-nottingham-http-link-header-03 (work in progress), November&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-nottingham-http-link-header-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.nottingham-site-meta">[I-D.nottingham-site-meta]</a></td>
<td class="author-text">Nottingham, M. and E. Hammer-Lahav, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nottingham-site-meta-00.txt">draft-nottingham-site-meta-00</a>,&rdquo; draft-nottingham-site-meta-00 (work in progress), October&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-nottingham-site-meta-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4287">[RFC4287]</a></td>
<td class="author-text"><a href="mailto:mnot@pobox.com">Nottingham, M., Ed.</a> and <a href="mailto:rfsayre@boswijck.com">R. Sayre, Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4287">The Atom Syndication Format</a>,&rdquo; RFC&nbsp;4287, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4287.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc4287.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc4287.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4918">[RFC4918]</a></td>
<td class="author-text">Dusseault, L., &ldquo;<a href="http://tools.ietf.org/html/rfc4918">HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>,&rdquo; RFC&nbsp;4918, June&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4918.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-html401-19991224">[W3C.REC-html401-19991224]</a></td>
<td class="author-text">Hors, A., Jacobs, I., and D. Raggett, &ldquo;<a href="http://www.w3.org/TR/1999/REC-html401-19991224">HTML 4.01 Specification</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-html401-19991224, December&nbsp;1999 (<a href="http://www.w3.org/TR/1999/REC-html401-19991224">HTML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ARK">[ARK]</a></td>
<td class="author-text">Kunze, J. and R. Rodgers, &ldquo;<a href="http://www.cdlib.org/inside/diglib/ark/arkspec.html">The ARK Identifier Scheme</a>&rdquo; (<a href="http://www.cdlib.org/inside/diglib/ark/arkspec.html">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Discovery and HTTP">[Discovery and HTTP]</a></td>
<td class="author-text">Hammer-Lahav, E., &ldquo;<a href="http://www.hueniverse.com/hueniverse/2008/09/discovery-and-h.html">Discovery and HTTP</a>&rdquo; (<a href="http://www.hueniverse.com/hueniverse/2008/09/discovery-and-h.html">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="POWDER">[POWDER]</a></td>
<td class="author-text">Archer, P., Ed., Smith, K., Ed., and A. Perego, Ed., &ldquo;<a href="http://www.w3.org/TR/powder-dr/">POWDER: Protocol for Web Description Resources</a>&rdquo; (<a href="http://www.w3.org/TR/powder-dr/">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="URIQA">[URIQA]</a></td>
<td class="author-text">Nokia, &ldquo;<a href="http://sw.nokia.com/uriqa/URIQA.html">The URI Query Agent Model</a>&rdquo; (<a href="http://sw.nokia.com/uriqa/URIQA.html">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Uniform Access">[Uniform Access]</a></td>
<td class="author-text">Rees, J., &ldquo;<a href="http://w3.org/2001/tag/doc/more-uniform-access.html">Uniform Access to Information About</a>&rdquo; (<a href="http://w3.org/2001/tag/doc/more-uniform-access.html">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XRD">[XRD]</a></td>
<td class="author-text">Hammer-Lahav, E., Ed., &ldquo;XRD 1.0.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="XRDS">[XRDS]</a></td>
<td class="author-text">Wachob, G., Reed, D., Chasen, L., Tan, W., and S. Churchill, &ldquo;<a href="http://docs.oasis-open.org/xri/2.0/specs/xri-resolution-V2.0.html">Extensible Resource Identifier (XRI) Resolution V2.0</a>&rdquo; (<a href="http://docs.oasis-open.org/xri/2.0/specs/xri-resolution-V2.0.html">HTML</a>, <a href="http://docs.oasis-open.org/xri/2.0/specs/xri-resolution-V2.0.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XRDS-Simple">[XRDS-Simple]</a></td>
<td class="author-text">Hammer-Lahav, E., &ldquo;<a href="http://xrds-simple.net/core/1.0/">XRDS-Simple 1.0</a>&rdquo; (<a href="http://xrds-simple.net/core/1.0/">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Yadis">[Yadis]</a></td>
<td class="author-text">Miller, J., &ldquo;<a href="http://yadis.org/papers/yadis-v1.0.pdf">Yadis Specification 1.0</a>&rdquo; (<a href="http://yadis.org/papers/yadis-v1.0.pdf">PDF</a>, <a href="http://yadis.org/papers/yadis-v1.0.odt">ODT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Eran Hammer-Lahav</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yahoo!</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:eran@hueniverse.com">eran@hueniverse.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://hueniverse.com">http://hueniverse.com</a></td></tr>
</table>
</body></html>
