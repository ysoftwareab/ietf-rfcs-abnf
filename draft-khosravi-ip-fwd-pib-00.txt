
                                                   Hormuzd Khosravi 
    Internet Draft                                 Todd Anderson 
    Expiration: January 2001                       Intel 
                                                   Avri Doria 
                                                   Nortel Networks 
                                                   Jiang Yong 
                                                   Telia Research AB 
                                                   Simon Crosby     
                                                   Cplane Inc. 
    
    
    
                             IP Forwarding PIB 
                                      
                     draft-khosravi-ip-fwd-pib-00.txt 
                                      
                        Last Updated: July 14, 2000 
 
    
    
Status of this Memo 
 
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026. 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other documents 
   at any time.  It is inappropriate to use Internet-Drafts as 
   reference material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
    
Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in 
   this document are to be interpreted as described in [RFC-2119].







  
Durham et al.                                                 [Page 1] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
    
   Status of this Memo................................................1 
   Conventions used in this document..................................1 
   Abstract...........................................................3 
   1. Introduction....................................................3 
   2. Background and Motivation.......................................3 
   3. Summary of the IP Forwarding PIB................................3 
   4. PIB Definitions.................................................3 
   5. Security Considerations.........................................7 
   6. Acknowledgments.................................................7 
   7. Intellectual Property Considerations............................7 
   8. References......................................................8 
   9. Author Information..............................................8 








































  
Khosravi et al.          Expires January 2001                 [Page 2] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
    
    
Abstract 
    
   This document describes an IP Forwarding PIB. This document is based 
   on the IP Forwarding Table MIB [RFC 2096]. 
    
1. Introduction 
    
   This document describes an IP Forwarding PIB.  This PIB is based on 
   the IP Forwarding Table MIB [RFC 2096].  While the MIB is mainly 
   used for monitoring purposes, the purpose of this PIB is to enable 
   configuration/setting of routing tables in IP switches or forwarding 
   engines.  This PIB is intended for those IP devices that themselves 
   do not perform routing protocol computations (i.e., devices that 
   have offloaded their routing protocol processing to a control 
   entity). ([SPPI] describes a structure for specifying policy 
   information that can then be transmitted to a network device for the 
   purpose of configuring policy at that device.  The model underlying 
   this structure is one of well defined policy rule classes and 
   instances of these classes residing in a virtual information store 
   called the Policy Information Base (PIB).)  
    
2. Background and Motivation 
    
   The GSMP WG has been focused on designing a protocol for label 
   switch management. GSMP provides the commands necessary for: switch 
   configuration control and reporting, port management, connection 
   control, QoS and traffic engineering control and the reporting of 
   statistics and asynchronous events. The work has been directly used 
   by the MSF architecture [MSF-IA] (for ATM and MPLS switches) which 
   has served as a Framework for the protocol design. The MSF has 
   identified a need for similar control of an IP switch in release 2 
   of the MSF implementation agreement. The IP Forwarding PIB is a step 
   in the direction of supporting IP in the MSF architecture and 
   outsourcing IP forwarding control. The PIB will be used in 
   conjunction with COPS that has been supported in the MSF 
   architecture for management purposes. This work therefore seems to 
   fit well in the GSMP WG as an extension for supporting IP in the 
   current switch control framework.  
    
3. Summary of the IP Forwarding PIB 
    
   The current version of the PIB defines the IPv4 unicast routing 
   table based on RFC 2096. The future versions of this PIB will define 
   the tables required for both unicast and multicast forwarding in 
   IPv4 and IPv6. 
    
4. PIB Definitions 
    
   IP-FORWARDING-PIB PIB-DEFINITIONS ::= BEGIN 
    
   IMPORTS 
  
Khosravi et al.          Expires January 2001                 [Page 3] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
       Unsigned32, IpAddress, Integer32, 
       MODULE-IDENTITY, OBJECT-TYPE, 
       PolicyInstanceId 
               FROM COPS-PR-SPPI 
       TruthValue, TEXTUAL-CONVENTION 
               FROM SNMPv2-TC 
        
   ipForwardingPib  MODULE-IDENTITY 
       CLIENT-TYPE { tbd   -- ipForward Client Type 
                   } 
       LAST-UPDATED "200003101800Z" 
       ORGANIZATION "IETF" 
       CONTACT-INFO " 
                    Hormuzd Khosravi 
                    Intel 
                    2111 N.E. 25th Avenue JF3-206 
                    Hillsboro OR 97124-5961 
                    1 503 264 0334 
                    Hormuzd.M.Khosravi@intel.com  
         
                    Todd A. Anderson 
                    Intel 
                    2111 NE 25th Avenue 
                    Hillsboro, OR 97124 USA 
                    +1 503 712 1760 
                    todd.a.anderson@intel.com 
                    
                    Avri Doria 
                    Nortel Networks 
                    600 Technology Park Drive 
                    Billerica  MA 01821 
                    +1 401 663 5024 
                    avri@nortelnetworks.com 
         
                    Jiang Yong 
                    Telia Research AB 
                    123 86 Farsta 
                    Sweden 
                    +46 (0) 8 713 81 25 
                    yong.b.jiang@telia.se 
         
                    Simon Crosby 
                    CPlane Inc.                     
                    5150 El Camino Real Suite B-31 
                    Los Altos, CA 94022 
                    +1 650 938 8066 x104 
                    simon@cplane.comö 
    
    
   DESCRIPTION 
               "The PIB module defines the IP Forwarding table.ö  
    
       ::= { tbd } 
  
Khosravi et al.          Expires January 2001                 [Page 4] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
    
    
   ipv4RoutePib  OBJECT IDENTIFIER ::= { ipForwardingPib 1 } 
   ipv6RoutePib  OBJECT IDENTIFIER ::= { ipForwardingPib 2 } 
    
   ipv4UnicastRoutePib  OBJECT IDENTIFIER ::= { ipv4RoutePib 1 } 
   ipv4MulticastRoutePib  OBJECT IDENTIFIER ::= { ipv4RoutePib 2 } 
    
   ipv6UnicastRoutePib  OBJECT IDENTIFIER ::= { ipv6RoutePib 1 } 
   ipv6MulticastRoutePib  OBJECT IDENTIFIER ::= { ipv6RoutePib 2 } 
    
   -- 
   -- IPv4 Unicast Route Table 
   -- 
    
   ipv4UniRouteTable OBJECT-TYPE 
       SYNTAX         SEQUENCE OF ipv4RouteEntry 
       POLICY-ACCESS  install 
       STATUS         current 
       DESCRIPTION 
           "This entity's IPv4 Unicast Routing table." 
    
       ::= { ipv4UnicastRoutePib 1 } 
    
   ipv4UniRouteEntry OBJECT-TYPE 
       SYNTAX         ipv4RouteEntry 
       STATUS         current 
       DESCRIPTION 
           "A particular route to a particular destination,  
            under a particular policy." 
    
       INDEX { ipv4UniRouteIndex } 
       UNIQUENESS { ipv4UniRouteDest, 
                    ipv4UniRouteMask, 
                    ipv4UniRouteTos, 
                    ipv4UniRouteNextHop } 
    
       ::= { ipv4RouteUniTable 1 } 
    
   ipv4UniRouteEntry ::= SEQUENCE { 
           ipv4UniRouteIndex      PolicyInstanceId, 
           ipv4UniRouteDest       IpAddress, 
           ipv4UniRouteMask       IpAddress, 
           ipv4UniRouteTos        Integer32, 
           ipv4UniRouteNextHop    IpAddress, 
           ipv4UniRouteIfIndex    Integer32, 
   } 
    
   ipv4UniRouteDest OBJECT-TYPE 
       SYNTAX         IpAddress 
       STATUS         current 
       DESCRIPTION 
          " The destination IP address of this route. 
  
Khosravi et al.          Expires January 2001                 [Page 5] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
    
          This object may not take a Multicast (Class  D) 
          address value. 
    
          Any assignment (implicit or otherwise) of an 
          instance  of  this  object to a value x must be 
          rejected if the bitwise logical-AND of  x  with 
          the  value of the corresponding instance of the 
          ipv4UniRouteMask object is not equal to x." 
    
       ::= { ipv4UniRouteEntry 2 } 
    
   ipv4UniRouteMask OBJECT-TYPE 
       SYNTAX         IpAddress 
       STATUS         current 
       DESCRIPTION 
          " Indicate the mask to be logical-ANDed with the 
          destination  address  before  being compared to 
          the value  in  the  ipv4UniRouteDest  field.   For 
          those  systems  that  do  not support arbitrary 
          subnet masks, an agent constructs the value  of 
          the  ipv4UniRouteMask  by  reference to the IP Ad- 
          dress Class. 
    
          Any assignment (implicit or  otherwise)  of  an 
          instance  of  this  object to a value x must be 
          rejected if the bitwise logical-AND of  x  with 
          the  value of the corresponding instance of the 
          ipv4UniRouteDest object is not equal to ipv4Uni- 
          RouteDest." 
    
       ::= { ipv4UniRouteEntry 3 } 
    
   ipv4UniRouteTos OBJECT-TYPE 
       SYNTAX         Integer32 
       STATUS         current 
       DESCRIPTION 
          " The policy specifier is the IP TOS Field.  The encoding 
          of IP TOS is as specified  by  the  following convention. 
          Zero indicates the default path if no more specific 
          policy applies.  
          +-----+-----+-----+-----+-----+-----+-----+-----+ 
          |                 |                       |     | 
          |   PRECEDENCE    |    TYPE OF SERVICE    |  0  | 
          |                 |                       |     | 
          +-----+-----+-----+-----+-----+-----+-----+-----+ 
    
                   IP TOS                IP TOS 
              Field     Policy      Field     Policy 
              Contents    Code      Contents    Code 
              0 0 0 0  ==>   0      0 0 0 1  ==>   2 
              0 0 1 0  ==>   4      0 0 1 1  ==>   6 
              0 1 0 0  ==>   8      0 1 0 1  ==>  10 
  
Khosravi et al.          Expires January 2001                 [Page 6] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
              0 1 1 0  ==>  12      0 1 1 1  ==>  14 
              1 0 0 0  ==>  16      1 0 0 1  ==>  18 
              1 0 1 0  ==>  20      1 0 1 1  ==>  22 
              1 1 0 0  ==>  24      1 1 0 1  ==>  26 
              1 1 1 0  ==>  28      1 1 1 1  ==>  30 
    
           Note: We have not considered TOS in context of DiffServ in 
                 this version of the draft." 
    
       ::= { ipv4UniRouteEntry 4 } 
    
   ipv4UniRouteNextHop OBJECT-TYPE 
       SYNTAX      IpAddress 
       STATUS      current 
       DESCRIPTION 
          " On remote routes, the address of the next sys- 
          tem en route; Otherwise, 0.0.0.0." 
    
       ::= { ipv4UniRouteEntry 5 } 
    
   ipv4UniRouteIfIndex OBJECT-TYPE 
       SYNTAX      Integer32 
       STATUS      current 
       DESCRIPTION 
          " The ifIndex value which identifies the local 
          interface  through  which  the next hop of this 
          route should be reached." 
    
       ::= { ipv4UniRouteEntry 6 } 
    
   END 
    
    
5. Security Considerations 
    
   The information contained in a PIB when transported by the COPS 
   protocol [COPS-PR] may be sensitive, and its function of 
   provisioning a PEP requires that only authorized communication take 
   place.  The use of IPSEC between PDP and PEP, as described in 
   [COPS], provides the necessary protection against these threats. 
 
    
6. Acknowledgments 
    
   This draft is based on the IP Forwarding Table MIB [RFC 2096] by F. 
   Baker. 
    
7. Intellectual Property Considerations 
 
   The IETF is being notified of intellectual property rights claimed 
   in regard to some or all of the specification contained in this 
   document.  For more information consult the online list of claimed 
   rights. 
  
Khosravi et al.          Expires January 2001                 [Page 7] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
    
8. References 
    
   [COPS]   Boyle, J., Cohen, R., Durham, D., Herzog, S., Rajan, R., 
           Sastry, A., "The COPS  (Common Open Policy Service) 
           Protocol", RFC 2748, August 1999. 
    
   [COPSPR] Reichmeyer, F., Herzog, S., Chan, K.H., Seligson, J., 
           Durham, D., Yavatkar, R., Gai, S., McCloghrie, K., Smith, 
           A., "COPS Usage for Policy Provisioning", IETF, October 
           1999.  
    
   [SPPI] K. McCloghrie, et.al., "Structure of Policy Provisioning 
           Information," draft-ietf-rap-sppi-00.txt, March 2000. 
    
   [MSF-IA] Bjorkman, N., et al. MSF System Architecture Implementation  
            Agreement, April 2000. (Available: http://www.msforum.org) 
    
   [RFC-2096] Baker, F., ôIP Forwarding Table MIBö, RFC 2096, January 
              1997. 
    
   [IANA]  http://www.isi.edu/in-notes/iana/assignments/port-numbers 
    
   [IANA-CONSIDERATIONS] Alvestrand, H. and T. Narten, "Guidelines for 
           Writing an IANA Considerations Section in RFCs", BCP 26, RFC 
           2434, October 1998. 
    
    
9. Author Information  
    
         
        Hormuzd M Khosravi 
        Intel 
        2111 N.E. 25th Avenue JF3-206 
        Hillsboro OR 97124-5961 
        +1 503 264 0334 
        hormuzd.m.khosravi@intel.com 
         
        Todd A. Anderson 
        Intel 
        2111 NE 25th Avenue 
        Hillsboro, OR 97124 USA 
        +1 503 712 1760 
        todd.a.anderson@intel.com 
         
        Avri Doria 
        Nortel Networks 
        600 Technology Park Drive 
        Billerica  MA 01821 
        +1 401 663 5024 
        avri@nortelnetworks.com 
         
        Jiang Yong 
  
Khosravi et al.          Expires January 2001                 [Page 8] 








Internet Draft            IP Forwarding PIB                 July 2000 
 
 
        Telia Research AB 
        123 86 Farsta 
        Sweden 
        +46 (0) 8 713 81 25 
        yong.b.jiang@telia.se 
         
        Simon Crosby 
        CPlane Inc.                     
        5150 El Camino Real Suite B-31 
        Los Altos, CA 94022 
        +1 650 938 8066 x104 
        simon@cplane.comö 
         
    
    






































  
Khosravi et al.          Expires January 2001                 [Page 9] 







