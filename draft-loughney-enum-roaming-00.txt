

INTERNET-DRAFT                                              J. Loughney
Internet Engineering Task Force                                   Nokia
                                                               James Yu
Issued:  14 July 2000                                           NeuStar
Expires: 14 January 2001

                        Roaming Support with DNS
                  <draft-loughney-enum-roaming-00.txt>


Status of This Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC 2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute  working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as 'work in progress.'

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Abstract

   This draft proposes a new service to support cellular roaming.  It
   calls for a new service type, called 'roam' to be stored in DNS.
   This draft outlines the resolution of telephone numbering plans
   (E.214, E.212 and E.164, among others) by DNS to support cellular
   roaming.  Considerations need to be made for scalability,
   reliability and performance.


Internet Draft         Roaming Support with DNS           July 12, 2000



Abstract..............................................................1
1 Introduction........................................................3
 1.1 Scope ...........................................................3
 1.2 Terminology .....................................................3
2 Overview............................................................3
3 Formats.............................................................4
 3.1 Storage of E.164 numbers ........................................4
 3.2 NAPTR RR Format .................................................4
 3.2 Lookup Format ...................................................4
4 Examples............................................................4
5 Security Considerations.............................................5
6 Scalability Concerns................................................5
7 IANA Considerations.................................................5
8 Acknowledgments.....................................................6
9 Author's Addresses..................................................6
10 References.........................................................6
Full Copyright Statement..............................................7


































Loughney, Yu                                                   [Page 2]


Internet Draft         Roaming Support with DNS           July 12, 2000


1 Introduction

   This document proposes a new service, called 'roam' to enable
   roaming in cellular systems (2G, 3G), supported by using the ENUM
   solution for DNS resolution of E.164 numbers.  By querying DNS for
   the roaming service entity for the particular E.164 number, DNS can
   return the location of the network element that supports the
   cellular roaming services (i.e. - HLR, VLR, AAA server).

1.1 Scope

   This document introduces a new service into DNS.  How roaming is
   provisioned by operators and service providers is outside of the
   scope of this document.

1.2 Terminology

   2G - 2nd Generation

   3G - Third Generation

   AAA - Authentication, Authorization and Accounting

   ENUM - Telephone Number Mapping

   GT - SS7 Global Title

   GTT - Global Title Translation

   HLR - Home Location Register

   SRV RR - Service Resource Record

   SS7 - Signaling System No. 7

   VLR - Visitor Location Register


2 Overview

   As IP based cellular networks are being developed, there is an
   ongoing process of aligning PSTN and cellular networks with IP based
   networks.  This introduces some complications for address
   resolution, especially when users roam outside of their home
   networks.  Also, certain Application Protocols may carry addressing
   information to be used as the SS7 Global Titles.

   For translation selectors that use E.214, E.212 and E.164 numbering
   plans (translation type 0), services can be defined for each
   translation selector, so that ENUM can be used to retrieve the
   corresponding Resource Record associated with the visited/home

Loughney, Yu                                                   [Page 3]


Internet Draft         Roaming Support with DNS           July 12, 2000


   network element (e.g., HLR, VLR, AAA server).   The next step will
   involve the sending of a "roam" related application message using a
   specific protocol (e.g., TCP or SCTP) to the cellular network
   element corresponding to the domain name in the Target field of the
   retrieved SRV RR. This assumes a public IP network.

   If the network elements always use the E.164 numbers in the GT for
   the subsequent messages, it may be worthwhile to add IP address as
   another option for the roaming service entity (i.e. - HLRID, VLRID,
   etc.) as an enhancements to a SS7 Application Protocol, but that is
   outside of the scope of this document.

3 Formats

3.1 Storage of E.164 numbers

   The rules for storing an E.164 number in DNS are described in
   [E.164-DNS].  A quick overview is:

   Take a full E.164 number (including country & city codes), remove
   all non-digit characters.  Insert a dot (i.e. - '.') between all the
   digits.  Reverse the order of the digits.  Append the .e164.arpa
   domain to the end.  This is the DNS name of the E.164 number.

   For example:
   +358 40 749 9122 becomes 2.2.1.9.9.4.7.0.4.8.5.3.e164.arpa.

3.2 NAPTR RR Format

   Following the format given in [NAPTR], we follow the format given by
   the statement.

   ;;       order pref flags serv regexp           replacement
   IN NAPTR 100   10   ""    ""   "/urn:cid:.+@([^\.]+\.)(.*)$/\2/i" .

   The service field should be filled in with "_roam+E2R" for support
   of the roam service.

3.2 Lookup Format

   If a client wants to discover the server providing the ROAM service,
   using a particular transport protocol (for example TCP, SCTP) it
   should do a lookup of the particular E.164 number in question:

   x.x.x.e164.arpa

   where x.x.x is the processed E.164 number returned by step 1 on the
   ENUM service.

4 Examples


Loughney, Yu                                                   [Page 4]


Internet Draft         Roaming Support with DNS           July 12, 2000


   This example shows how the 'roam' service could be used.  This is
   only an example - any resemblance to any existing services or
   domains (living or dead) is purely coincidental.  The use of SCTP in
   the example is purely for illustrative reasons.

   The DNS record would be:

     $ORIGIN     1.1.1.0.6.8.5.3.e164.arpa.
         IN NAPTR 10 10 "s" "roam+E2I"  ""_sctp.hlr.nokia.com

   This indicates that the we should look up the SRV record of
   _sctp.hlr.nokia.com, to find the actual host(s) supporting this
   service.  Note that there would likely be other services in the DNS
   record.

   The next step would to query _sctp.hlr.nokia.com, which  could
   return:

        ;;                             Pref Weight Port Target
          _sctp.hlr.nokia.com   IN SRV 0    0      1000 glc1.nokia.com
                                IN SRV 0    0      1000 glc2.nokia.com
                                IN SRV 0    0      1000 glc3.nokia.com

   This indicates that there are three hosts that actually provide the
   roam services.

5 Security Considerations

   As this service is built on top of DNS, the results from any query
   will not be more secure than any other DNS query.  DNSSEC is
   therefore, is strongly recommended for securing and verifying zones.

6 Scalability Concerns

   This may have an impact on ENUM provisioning.  "roam" is the first
   service where E.164 numbers are used by the telephony service
   providers that has nothing to do with many end-user services (e.g.,
   e-mail, personal web page, SIP server).  There are many other
   possible services such as calling card database, switches that serve
   a particular E.164 number.  ENUM's existing process requires that
   one ANS knows all the services about a particular E.164 number.
   This introduces possible scalability problems.

7 IANA Considerations

   Cellular roaming requires three GTTs: one on E.214 (E.214 mobile
   global title to HLR) and the second on E.164 (E.164 number to a
   network element such as HLR, VLR, AuC and MSC) and the third on
   E.212 (E.212 to HLR) (E.212 is used by IS-41 based systems).  E.214
   number is similar to a E.164 number, but it is not E.164 strictly


Loughney, Yu                                                   [Page 5]


Internet Draft         Roaming Support with DNS           July 12, 2000


   speaking.  E.212 numbers should be located in the e214.arpa domain,
   which needs to be allocated.

   For the purpose of using ENUM, E.214 can be treated as E.164 (E.214
   numbers look like E.164 numbers, but its length or number digits,
   may not be the same as that of the regular E.164 number.  This
   should not be a problem because only the leading digits are required
   to perform the GTT.

   Each GTT table will require an IANA "service" to get the proper
   mapping if ENUM is to be used to perform the similar functions.

   Only one service is needed - "roam", but we need IAB to reserve
   e214.arpa and e212.arpa just like e164.arpa.

8 Acknowledgments

   The authors would like to thank Michael Mealling for his
   illustrative examples on the ENUM mailing list.

9 Author's Addresses

   John Loughney
   Nokia Research Center
   PO Box 407
   FIN-00045 Nokia Group
   Finland
   Email: john.loughney@nokia.com

   James Yu
   NeuStar, Inc.
   1120 Vermont Avenue, NW,
   Suite 550
   Washington, D.C. 20005
   United States
   Email: james.yu@neustar.com

10 References

   [ENUM-REQ]     "ENUM Requirements" <draft-ietf-enum-rqmts-01.txt>,
                  December 1999, Work in Progress.

   [E.164-DNS]    "E.164 number and DNS" <draft-ietf-enum-e164-dns-01>,
                  July 10, 2000, Work In Progress.

   [ENUM-OP]      "ENUM Service Specific Provisioning: Principles of
                  Operation", <draft-vaudreuil-enum-e164dir-01.txt>,
                  April 2000, Work in Progress.




Loughney, Yu                                                   [Page 6]


Internet Draft         Roaming Support with DNS           July 12, 2000


   [RFC 2782]     Gulbrandsen, Vixie and Esibov, "A DNS RR for
                  specifying the location of services (DNS SRV)" RFC
                  2782, February 2000.

   [RFC 1034]     Mockapetris, P., "Domain names - concepts and
                  Facilities", STD 13, RFC 1034, November 1987.

   [NAPTR]        Mealling, M.; Daniel R. "The Naming Authority Pointer
                  (NAPTR) DNS Resource Record"; <draft-ietf-urn-naptr-
                  rr-03.txt>; June 24, 1999; Work in Progress.

Full Copyright Statement

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

   This draft expires on 14 January 2001












Loughney, Yu                                                   [Page 7]

