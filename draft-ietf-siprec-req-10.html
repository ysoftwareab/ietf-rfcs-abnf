<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Use Cases and Requirements for SIP-based Media Recording (SIPREC)</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Requirements notation">
<link href="#rfc.section.3" rel="Chapter" title="3 Definitions">
<link href="#rfc.section.4" rel="Chapter" title="4 Use Cases">
<link href="#rfc.section.5" rel="Chapter" title="5 Requirements">
<link href="#rfc.section.6" rel="Chapter" title="6 Privacy Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Considerations">
<link href="#rfc.section.9" rel="Chapter" title="9 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="10 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Session recording is a critical requirement in many business communications environments such as call centers and financial trading floors.  In some of these environments, all calls must be recorded for regulatory and compliance reasons.  In others, calls may be recorded for quality control or business analytics." />
  <meta name="description" content="Session recording is a critical requirement in many business communications environments such as call centers and financial trading floors.  In some of these environments, all calls must be recorded for regulatory and compliance reasons.  In others, calls may be recorded for quality control or business analytics." />
  <meta name="keywords" content="Internet-Draft" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">SIPREC</td>
<td class="right">K.R. Rehor, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Cisco Systems</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">L.P. Portman, Ed.</td>
</tr>
<tr>
<td class="left">Expires: November 05, 2011</td>
<td class="right">NICE Systems</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">A. Hutton</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Siemens Enterprise Communications</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">R.J. Jain</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">IPC Systems</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">May 04, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Use Cases and Requirements for SIP-based Media Recording (SIPREC)<br />
  <span class="filename">draft-ietf-siprec-req-10</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Session recording is a critical requirement in many business communications environments such as call centers and financial trading floors.  In some of these environments, all calls must be recorded for regulatory and compliance reasons.  In others, calls may be recorded for quality control or business analytics.</p>
<p>Recording is typically performed by sending a copy of the session media to the recording devices.  This document specifies requirements for extensions to SIP that will manage delivery of RTP media to a recording device.  This is being referred to as SIP-based Media Recording.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on November 05, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Requirements notation</a>
</li>
<li>3.   <a href="#rfc.section.3">Definitions</a>
</li>
<li>4.   <a href="#rfc.section.4">Use Cases</a>
</li>
<li>5.   <a href="#rfc.section.5">Requirements</a>
</li>
<li>6.   <a href="#rfc.section.6">Privacy Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">IANA Considerations</a>
</li>
<li>9.   <a href="#rfc.section.9">Acknowledgements</a>
</li>
<li>10.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">Session recording is a critical operational requirement in many businesses, especially where voice is used as a medium for commerce and customer support.  A prime example where voice is used for trade is the financial industry.  The call recording requirements in this industry are quite stringent.  The recorded calls are used for dispute resolution and compliance.  Other businesses such as customer support call centers typically employ call recording for quality control or business analytics, with different requirements.</p>
<p id="rfc.section.1.p.2">Depending on the country and its regulatory requirements, financial trading floors typically must record all calls.  In contrast, call centers typically only record a subset of the calls, and calls must not fail regardless of the availability of the recording device.</p>
<p id="rfc.section.1.p.3">Respecting the privacy rights and wishes of users engaged in a call is of paramount importance. In many jurisdictions participants have a right to know that the session is being recorded or might be recorded, and have a right to opt out, either by terminating the call or by demanding that the call not be recorded. Therefore this document contains requirements for being able to notify users that a call is being recorded and for users to be able to request that a call not be recorded.  Use cases where users participating in a call are not informed that the call is or might be recorded are outside the scope of this document.  In particular, lawful intercept is outside the scope of this document.  </p>
<p id="rfc.section.1.p.4">Furthermore, the scale and cost burdens vary widely, in all markets, where the different needs for solution capabilities such as media injection, transcoding, and security-related needs do not conform well to a one-size-fits-all model.  If a standardized solution supports all of the requirements from every recording market, but doing so would be expensive for markets with lesser needs, then proprietary solutions for those markets will continue to propagate.  Care must be taken, therefore, to make a standards-based solution support optionality and flexibility.</p>
<p id="rfc.section.1.p.5">This document specifies requirements for using SIP <a href="#RFC3261">[RFC3261]</a> between a Session Recording Client and a Session Recording Server to control the recording of media that has been transmitted in the context of a Communication Session.  A Communication Session is the "call" between participants.  The Session Recording Client is the source of the recorded media. The Session Recording Server is the sink of recorded media. It should be noted that the requirements for the protocol between a Session Recording Server and Session Recording Client have very similar requirements (such as codec and transport negotiation, encryption key interchange, firewall traversal) as compared to regular SIP media sessions.  The choice of SIP for session recording provides reuse of an existing protocol.  </p>
<p id="rfc.section.1.p.6">The recorded sessions can be any RTP media sessions including voice, DTMF (as defined by [RFC4733]), video, and text (as defined by [RFC4103]).</p>
<p id="rfc.section.1.p.7">An archived session recording is typically comprised of the Communication Session media content and the Communication Session Metadata.  The Communication Session Metadata allows recording archives to be searched and filtered at a later time and allows a session to be played back in a meaningful way, e.g., with correct synchronization between the media.  The Communication Session Metadata needs to be conveyed from the Session Recording Client to the Session Recording Server.</p>
<p id="rfc.section.1.p.8">This document only considers active recording, where the Session Recording Client purposefully streams media to a Session Recording Server.  Passive recording, where a recording device detects media directly from the network, is outside the scope of this document.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Requirements notation</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in [RFC2119] and indicate requirement levels for compliant mechanisms.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Definitions</h1>
<p id="rfc.section.3.p.1">Session Recording Server (SRS): A Session Recording Server (SRS) is a SIP User Agent (UA) that is a specialized media server or collector that acts as the sink of the recorded media.  An SRS is typically implemented as a multi-port device that is capable of receiving media from multiple sources simultaneously.  An SRS is the sink of the recorded session metadata.  </p>
<p id="rfc.section.3.p.2">Session Recording Client (SRC): A Session Recording Client (SRC) is a SIP User Agent (UA) that acts as the source of the recorded media, sending it to the SRS.  An SRC is a logical function.  Its capabilities may be implemented across one or more physical devices.  In practice, an SRC could be a personal device (such as a SIP phone), a SIP Media Gateway (MG), a Session Border Controller (SBC) or a SIP Media Server (MS) integrated with an Application Server (AS).  This specification defines the term SRC such that all such SIP entities can be generically addressed under one definition.  The SRC provides metadata to the SRS.</p>
<p id="rfc.section.3.p.3">Communication Session (CS): A session created between two or more SIP User Agents (UAs) that is the subject of recording.</p>
<p id="rfc.section.3.p.4">Recording Session (RS): The SIP session created between an SRC and SRS for the purpose of recording a Communication Session.</p>
<p id="rfc.section.3.p.5">Figure 1 pictorially represents the relationship between a Recording Session and Communication Session.</p>
<div id="#rfc.figure.1"></div>
<div id="#recording_session"></div>
<p></p>
<pre>

  +-------------+                                      +-----------+
  |             |        Communication Session         |           |
  |     A       |&lt;------------------------------------&gt;|     B     |
  |             |                                      |           |
  +-------------+                                      +-----------+
  ..................................................................
  .                             Session                            .
  .                            Recording                           .
  .                             Client                             .
  ..................................................................
                                   |
                                   | Recording
                                   | Session
                                   |
                                   v
                            +------------+
                            |   Session  |
                            |  Recording |
                            |   Server   |
                            +------------+

  	  	</pre>
<p></p>
<p id="rfc.section.3.p.6">Metadata:  Information that describes recorded media and the CS to which they relate.</p>
<p id="rfc.section.3.p.7">Pause and Resume during a Communication Session: Pause: The action of temporarily discontinuing the transmission and collection of RS media Resume: The action of recommencing the transmission and collection of RS media </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Use Cases</h1>
<p id="rfc.section.4.p.1">Use Case 1: Full-time Recording:  One Recording Session for each Communication Session.</p>
<div id="#rfc.figure.2"></div>
<div id="#full_time"></div>
<p>For example, the diagram below shows the lifecycle of Communication Sessions (CS) and the relationship to the Recording Sessions (RS)</p>
<pre>
CS  |--- CS 1 ---|      |--- CS 2 ---|     |--- CS 3 ---|

RS  |--- RS 1 ---|      |--- RS 2 ---|     |--- RS 3 ---|
	      	</pre>
<p></p>
<p id="rfc.section.4.p.2">Record every CS for specific extension/person.</p>
<p id="rfc.section.4.p.3">The need to record all calls is typically due to business process purposes (such as transaction confirmation or dispute resolution) or to ensure compliance with governmental regulations.  Applications include enterprise, contact center, and financial trading floors.</p>
<p id="rfc.section.4.p.4">Also commonly known as Total Recording.</p>
<p id="rfc.section.4.p.5">Use Case 2: Selective Recording: Start a Recording Session when a Communication Session to be recorded is established.</p>
<div id="#rfc.figure.3"></div>
<div id="#selective"></div>
<p>In this example, Communication Sessions 1 and 3 are recorded but CS 2 is not.</p>
<pre>
CS  |--- CS 1 ---|      |--- CS 2 ---|     |--- CS 3 ---|

RS  |--- RS 1----|                         |--- RS 2 ---|
	      	</pre>
<p></p>
<p id="rfc.section.4.p.6">Use Case 3:  Start/Stop a Recording Session during a Communication Session.</p>
<p id="rfc.section.4.p.7">The Recording Session starts during a Communication Session, either manually via a user-controlled mechanism (e.g. button on user&#8217;s phone) or automatically via an application (e.g. a Contact Center customer service application) or business event.  A Recording Session either ends during the Communication Session, or when the Communication Session ends.  One or more Recording Sessions may record each Communication Session.</p>
<div id="#rfc.figure.4"></div>
<div id="#dynamic"></div>
<p></p>
<pre>
CS  |------------- Communication Session -----------|

RS           |---- RS 1 ----|  |---- RS 2 -----|
		</pre>
<p></p>
<p id="rfc.section.4.p.8">Use Case 4: Persistent Recording: A single Recording Session captures one or more Communication Sessions.  </p>
<div id="#rfc.figure.5"></div>
<div id="#persistent"></div>
<p></p>
<pre>
	  |--- CS 1 ---|      |--- CS 2 ---|     |--- CS 3 ---|

RS  |---------------------- Recording Session ---------------------|
		</pre>
<p></p>
<p id="rfc.section.4.p.9">A Recording Session records continuously without interruption. Periods when there is no CS in progress must be reproduced upon playback (e.g. by recording silence during such periods or by not recording such periods but marking them by means of metadata for utilization on playback, etc.).  Applications include financial trading desks and emergency (first-responder) service bureaus. The length of a Persistent Recording Session is independent from the length of the actual Communication Sessions.  Persistent Recording Sessions avoid issues such as media clipping that can occur due to delays in Recording Session establishment.</p>
<p id="rfc.section.4.p.10">The connection and attributes of media in the Recording Session are not dynamically signaled for each Communication Session before it can be recorded; however, codec re-negotiation is possible.</p>
<div id="#rfc.figure.6"></div>
<div id="#mixing"></div>
<p>In some cases, more than one concurrent Communication Session (on a single end-user apparatus, e.g. trading floor turret) is mixed into one Recording Session:</p>
<pre>
              |-------- CS 1 -------|  
	         |-------- CS 2 -------|  
	    |-------- CS 3 -------|  

RS  |----------- Recording Session --------------|
		</pre>
<p></p>
<p id="rfc.section.4.p.11">Use Case 5: Real-time Recording Controls.</p>
<p id="rfc.section.4.p.12">For an active Recording Session, privacy or security reasons may demand not capturing a specific portion of a conversation.  An example is for PCI (payment card industry) compliance where credit card info must be protected.  One solution is to not record a caller speaking their credit card information.</p>
<p id="rfc.section.4.p.13">An example of a real-time controls is Pause/Resume.</p>
<p id="rfc.section.4.p.14">Use Case 6: IVR / Voice Portal Recording.</p>
<p id="rfc.section.4.p.15">Self-service Interactive Voice Response applications may need to be recorded for application performance tuning or to meet compliance requirements.</p>
<p id="rfc.section.4.p.16">Metadata about an IVR session recording must include session information and may include application context information (e.g. VoiceXML session variables, dialog names, etc.)</p>
<p id="rfc.section.4.p.17">Use Case 7: Enterprise Mobility Recording.</p>
<p id="rfc.section.4.p.18">Many agents and enterprise workers whose calls are to be recorded are not located on company premises.</p>
<p id="rfc.section.4.p.19">Examples:</p>
<p id="rfc.section.4.p.20">o Home-based agents or enterprise workers.</p>
<p id="rfc.section.4.p.21">o Mobile phones of knowledge workers when they conduct work related (and legally required recording) calls. e.g. insurance agents, brokers, physicians.</p>
<p id="rfc.section.4.p.22">Use Case 8: Geographically distributed or centralized recording.</p>
<p id="rfc.section.4.p.23">Enterprises such as banks, insurance agencies, and retail stores may have many locations, possibly up to thousands of small sites. Frequently only phones and network infrastructure are installed in branches, without local recording services. In cases where  calls inside or between branches must be recorded, a centralized recording system in data centers together with telephony infrastructure (e.g. PBX) may be deployed.</p>
<p id="rfc.section.4.p.24">Use Case 9: Record complex call scenarios.</p>
<p id="rfc.section.4.p.25">The following is an example of a scenario where one call that is recorded must be associated with a related call that also must be recorded.</p>
<p id="rfc.section.4.p.26">o A Customer is in a conversation with a Customer Service Agent.</p>
<p id="rfc.section.4.p.27">o Agent puts Customer on hold in order to consult with a Supervisor.</p>
<p id="rfc.section.4.p.28">o Agent enters into a conversation with Supervisor.</p>
<p id="rfc.section.4.p.29">o Agent disconnects from Supervisor, then reconnects with Customer.</p>
<p id="rfc.section.4.p.30">o The Supervisor call must be associated with the original customer call.</p>
<p id="rfc.section.4.p.31">Use case 10: High availability and continuous recording.</p>
<p id="rfc.section.4.p.32">Specific deployment scenarios present different requirements for system availability, error handling, etc. including:</p>
<p id="rfc.section.4.p.33">o An SRS must always be available at call setup time.</p>
<p id="rfc.section.4.p.34">o No loss of media recording, including during failure of an SRS.</p>
<p id="rfc.section.4.p.35">o The Communication Session must be terminated (or suitable notification given to parties) in the event of a recording failure.</p>
<p id="rfc.section.4.p.36">Use Case 11: Record multi-channel, multi-media session.</p>
<p id="rfc.section.4.p.37">Some applications require the recording of more than one media stream, possibly of different types.  Media are synchronized, either at storage or at playback.</p>
<p id="rfc.section.4.p.38">Speech analytics technologies (e.g. word spotting, emotion detection, speaker identification) may require speaker-separated recordings for optimum performance.</p>
<p id="rfc.section.4.p.39">Multi-modal Contact Centers may include audio, video, IM or other interaction modalities.</p>
<p id="rfc.section.4.p.40">In trading floors environments, in order to minimize storage and recording system resources, it may be preferable to mix multiple concurrent calls (Communication Sessions) on different handsets/speakers on the same turret into single recording session.</p>
<p id="rfc.section.4.p.41">Use Case 12: Real-time media processing.</p>
<p id="rfc.section.4.p.42">It must be possible for an SRS to support real-time media processing, such as speech analytics of trading floor interactions. Real-time analytics may be employed for automatic intervention (stopping interaction or alerting) if for example, a trader is not following regulations.</p>
<p id="rfc.section.4.p.43">Speaker separation is required in order to reliably detect who is saying specific phrases.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Requirements</h1>
<p id="rfc.section.5.p.1">The following are requirements for SIP-based Media Recording:</p>
<p id="rfc.section.5.p.2">o REQ-001 The mechanism MUST provide a means for using the SIP protocol for establishing, maintaining and terminating Recording Sessions between a Session Recording Client and a Session Recording Server.</p>
<p id="rfc.section.5.p.3">o REQ-002 The mechanism MUST support the ability to record all CSs in their entirety.</p>
<p id="rfc.section.5.p.4">o REQ-003 The mechanism MUST support the ability to record selected CSs in their entirety, according to policy.</p>
<p id="rfc.section.5.p.5">o REQ-004 The mechanism MUST support the ability to record selected parts of selected CSs.</p>
<p id="rfc.section.5.p.6">o REQ-005 The mechanism MUST support the ability to record a CS without loss of media (for example, clipping media at the beginning of the CS) due to RS recording preparation and also, without impacting the quality or timing of the CS (for example, delaying the start of the CS while preparation for recording session). See Use Case 4 in Section 4 for more details.</p>
<p id="rfc.section.5.p.7">o REQ-006 The mechanism MUST support the recording of IVR sessions.</p>
<p id="rfc.section.5.p.8">o REQ-007 The mechanism MUST support the recording of RTP media types voice, DTMF (as defined by [RFC4733]), video, and text (as defined by [RFC4103]).</p>
<p id="rfc.section.5.p.9">o REQ-008 The mechanism MUST support the ability for an SRC to deliver mixed audio streams from multiple Communication Sessions to an SRS.</p>
<p id="rfc.section.5.p.10">Note: A mixed audio stream is where several related Communication Sessions are carried in a single Recording Session.  A mixed media stream is typically produced by a mixer function.  The RS MAY be informed about the composition of the mixed streams through session metadata.</p>
<p id="rfc.section.5.p.11">o REQ-009: The mechanism MUST support the ability for an SRC to deliver mixed audio streams from different parties of a given Communication Session to an SRS.</p>
<p id="rfc.section.5.p.12">o REQ-010 The mechanism MUST support the ability to deliver to the SRS multiple media streams for a given CS.</p>
<p id="rfc.section.5.p.13">o REQ-011 The mechanism MUST support the ability to pause and resume the transmission and collection of RS media.</p>
<p id="rfc.section.5.p.14">o REQ-012 The mechanism MUST include a means for providing the SRS with metadata describing CSs that are being recorded, including the media being used and the identities of parties involved.</p>
<p id="rfc.section.5.p.15">o REQ-013 The mechanism MUST include a means for the SRS to be able to correlate RS media with CS participant media.</p>
<p id="rfc.section.5.p.16">o REQ-014 Metadata format must be agnostic of the transport protocol.</p>
<p id="rfc.section.5.p.17">o REQ-015: The mechanism MUST support a means to stop the recording.</p>
<p id="rfc.section.5.p.18">o REQ-016: The mechanism MUST support a means for a recording-aware UA involved in a CS to request at session establishment time that the CS  should be recorded or should not be recorded, the honoring of such a request being dependent on policy.</p>
<p id="rfc.section.5.p.19">o REQ-017: The mechanism MUST support a means for a recording-aware UA involved in a CS to request during a session that the recording of the CS  should be started, paused, resumed or stopped, the honoring of such a request being dependent on policy.</p>
<p id="rfc.section.5.p.20">o REQ-018 The mechanism MUST NOT prevent the application of tones or announcements during recording or at the start of a CS to support notification to participants that the call is being recorded or may be recorded.</p>
<p id="rfc.section.5.p.21">o REQ-019 The mechanism MUST provide a means of indicating to recording-aware UAs whether recording is taking place, for appropriate rendering at the user interface.</p>
<p id="rfc.section.5.p.22">o REQ-020 The  mechanism MUST provide a way for metadata to be conveyed to the SRS incrementally during the CS.</p>
<p id="rfc.section.5.p.23">o REQ-021 The mechanism MUST NOT prevent high availability deployments.</p>
<p id="rfc.section.5.p.24">o REQ-022 The mechanism MUST provide means for facilitating synchronization of the recorded media streams and metadata.</p>
<p id="rfc.section.5.p.25">o REQ-023 The mechanism MUST provide means for facilitating synchronization among the recorded media streams.</p>
<p id="rfc.section.5.p.26">o REQ-024 The mechanism MUST provide means to relate recording and recording controls such as start/stop/pause/resume to the wall clock time.</p>
<p id="rfc.section.5.p.27">o REQ-025 The mechanism MUST support functionality such that if the CS is encrypted, the RS may use the same or different encryption keys.</p>
<p id="rfc.section.5.p.28">o REQ-026 The mechanism MUST provide means for an SRS to authenticate the SRC on RS initiation.</p>
<p id="rfc.section.5.p.29">o REQ-027 The mechanism MUST provide means for an SRC to authenticate the SRS on RS initiation.</p>
<p id="rfc.section.5.p.30">o REQ-028 The mechanism MUST include a means for ensuring that the integrity of the metadata sent from SRC to SRS is an accurate representation of the original CS metadata.</p>
<p id="rfc.section.5.p.31">o REQ-029 The mechanism MUST include a means for ensuring that the integrity of the media sent from SRC to SRS is an accurate representation of the original CS media.</p>
<p id="rfc.section.5.p.32">o REQ-030 The mechanism MUST include a means for ensuring the confidentiality of the Metadata sent from SRC to SRS.</p>
<p id="rfc.section.5.p.33">o REQ-031 The mechanism MUST provide a means to support RS confidentiality.</p>
<p id="rfc.section.5.p.34">o REQ-032 The mechanism MUST support the ability to deliver to the SRS multiple media streams of the same media type (e.g. audio, video). For example in the case of delivering unmixed audio for each participant in the CS.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Privacy Considerations</h1>
<p id="rfc.section.6.p.1">Respecting the privacy rights and wishes of users engaged in a call is of paramount importance. In many jurisdictions participants have a right to know that the session is being recorded or might be recorded, and have a right to opt out, either by terminating the call or by demanding that the call not be recorded. Therefore this document contains requirements for being able to notify users that a call is being recorded and for users to be able to request that a call not be recorded.  Use cases where users participating in a call are not informed that the call is or might be recorded are outside the scope of this document.  In particular, lawful intercept is outside the scope of this document.</p>
<p id="rfc.section.6.p.2">Requirements for participant notification of recording vary widely by jurisdiction. In a given deployment, not all users will be authorized to stop the recording of a CS (although any user can terminate its participation in a CS). Typically users within the domain that is carrying out the recording will be subject to policies of that domain concerning whether CSs are recorded. For example, in a call centre, agents will be subject to policies of the call centre and may or may not have the right to prevent the recording of a CS or part of a CS. Users calling into the call centre, on the other hand, will typically have to ask the agent not to record the CS. If the agent is unable to prevent recording, or if the caller does not trust the agent, the only option generally is to terminate the CS.</p>
<p id="rfc.section.6.p.3">Privacy considerations also extend to what happens to a recording once it has been created. Typical issues are who can access the recording (e.g., receive a copy of the recording, view the metadata, play back the media, etc.), for what purpose the recording can be used (e.g., for non-repudiation, for training purposes, for quality control purposes, etc.) and for how long the recording is to be retained before deletion. These are typically policies of the domain that makes the recording, rather than policies of individual users involved in a recorded CS, whether those users be in the same domain or in a different domain. Taking the call centre example again, agents might be made aware of call centre policy regarding retention and use of recordings as part of their employment contract, and callers from outside the call centre might be given some information about policy when notified that a CS will be recorded (e.g., through an announcement that says that calls may be recorded  for quality purposes).</p>
<p id="rfc.section.6.p.4">This document does not specify any requirements for a user engaged in a CS to be able to dictate policy for what happens to a recording, or for such information to be conveyed from an SRC to an SRS. It is assumed that the SRS has access to policy applicable to its environment and can ensure that recordings are stored and used in accordance with that policy.  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> Security Considerations</h1>
<p id="rfc.section.7.p.1">Session recording has substantial security implications, for the SIP UA's being recorded, the SRC, and the SRS.</p>
<p id="rfc.section.7.p.2">For the SIP UA's involved in the Communication Session, the requirements in this draft enable the UA to identify that a Communication Session is being recorded and for the UA to request that a given Communication Session is not subject to recording.</p>
<p id="rfc.section.7.p.3">Since humans don't typically look at or know about protocol signaling such as SIP, and indeed the SIP session might have originated through a PSTN Gateway without any ability to pass on in-signaling indications of recording, users can be notified of recording in the media itself through voice announcements, a visual indicator on the endpoint, or other means.</p>
<p id="rfc.section.7.p.4">With regards to security implications of the protocol(s), clearly there is a need for authentication, authorization, eavesdropping protection, and non-repudiation for the solution.  The SRC needs to know the SRS it is communicating with is legitimate, and vice-versa, even if they are in different domains.  Both the signaling and media for the Recording Session need the ability to be authenticated and protected from eavesdropping and non-repudiation.  Requirements are detailed in the requirements section.</p>
<p id="rfc.section.7.p.5">Communication Sessions and Recording Sessions can require different security levels both for signaling and media, depending on deployment configurations. For some environments, for example, SRS and SRC will be collocated in a secure network region and therefore the RS will not require the same protection level as a CS that extends over a public network, for example. For other environments, the SRS can be located in a public cloud, for example, and the RS will require a higher protection level than the CS. For these reasons, there is not a direct relationship between the security level of Communication Sessions and the security level of Recording Sessions.</p>
<p id="rfc.section.7.p.6">A malicious or corrupt SRC can tamper with media and metadata relating to a CS before sending to an SRS. Also CS media and signaling can be tampered with in the network prior to reaching an SRC, unless proper means are provided to ensure integrity protection during transmission on the CS. Means for ensuring the integrity and correctness of media and metadata emitted by an SRC are outside the scope of this work. Other organizational and technical controls will need to be used to prevent tampering.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> IANA Considerations</h1>
<p id="rfc.section.8.p.1">This document has no IANA actions.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> Acknowledgements</h1>
<p id="rfc.section.9.p.1">Thanks to Dan Wing, Alan Johnson, Vijay Gurbani, Cullen Jennings, Hadriel Kaplan, Henry Lum, Dave Smith, Martin Palmer, Alissa Cooper, Deepanshu Gautam, Paul Kyzivat, Parthasarathi R, Ram Mohan R, and Charles Eckel for their significant contributions and assistance with this document and Working Group, and to all the members of the DISPATCH WG and SIPREC WG mailing lists for providing valuable input to this work.</p>
<h1 id="rfc.references">
<a href="#rfc.references">10.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4103">[RFC4103]</b></td>
<td class="top">
<a>Hellstrom, G.</a> and <a>P. Jones</a>, "<a href="http://tools.ietf.org/html/rfc4103">RTP Payload for Text Conversation</a>", RFC 4103, June 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4733">[RFC4733]</b></td>
<td class="top">
<a>Schulzrinne, H.</a> and <a>T. Taylor</a>, "<a href="http://tools.ietf.org/html/rfc4733">RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals</a>", RFC 4733, December 2006.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Ken Rehor</span> editor
	  <span class="n hidden">
		<span class="family-name">Rehor</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems</span>
	<span class="adr">
	  <span>170 West Tasman Dr.</span>
<span>Mail Stop SJC30/2/</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95134</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:krehor@cisco.com">krehor@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Leon Portman</span> editor
	  <span class="n hidden">
		<span class="family-name">Portman</span>
	  </span>
	</span>
	<span class="org vcardline">NICE Systems</span>
	<span class="adr">
	  <span>8 Hapnina</span>

	  <span class="vcardline">
		<span class="locality">Ra'anana</span>,  
		<span class="region"></span>
		<span class="code">43017</span>
	  </span>
	  <span class="country-name vcardline">Israel</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:leon.portman@nice.com">leon.portman@nice.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Andrew Hutton</span> 
	  <span class="n hidden">
		<span class="family-name">Hutton</span>
	  </span>
	</span>
	<span class="org vcardline">Siemens Enterprise Communications</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:andrew.hutton@siemens-enterprise.com">andrew.hutton@siemens-enterprise.com</a></span>

<span class="vcardline">URI: <a href="http://www.siemens-enterprise.com">http://www.siemens-enterprise.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Rajnish Jain</span> 
	  <span class="n hidden">
		<span class="family-name">Jain</span>
	  </span>
	</span>
	<span class="org vcardline">IPC Systems</span>
	<span class="adr">
	  <span>777 Commerce Drive</span>

	  <span class="vcardline">
		<span class="locality">Fairfield</span>,  
		<span class="region">CT</span> 
		<span class="code">06825</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:rajnish.jain@ipc.com">rajnish.jain@ipc.com</a></span>

  </address>
</div>

</body>
</html>