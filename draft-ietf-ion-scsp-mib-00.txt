





Internetworking Over NBMA                               Cliff X. Wang
Internet-Draft                                          Colin Verrilli
<draft-ietf-ion-scsp-mib-00.txt>                        IBM Corporation
                                                        James Luciani
                                                        Bay Networks

                                                        Oct 10th, 1998






                  Definitions of Managed Objects for
           Server Cache Synchronization Protocol Using SMIv2


Status of this Memo


   This document is an Internet Draft. Internet Drafts are working
   documents of the Internet Engineering Task Force (IETF), its Areas,
   and its Working Groups. Note that other groups may also distribute
   working documents as Internet Drafts.


   Internet Drafts are draft documents valid for a maximum of six
   months. Internet Drafts may be updated, replaced, or obsoleted by
   other documents at any time. It is not appropriate to use Internet
   Drafts as reference material or to cite them other than as a "working
   draft" or "work in progress."


   Please check the I-D abstract listing contained in each Internet
   Draft directory to learn the current status of this or any Internet
   Draft. Distribution of this document is unlimited.

Abstract

   This document defines the Management Information Base (MIB) for
   supporting Server Cache Synchronization Protocol (SCSP)[1], [2], [3],
   [4]. SCSP is used to solve the generalized cache
   synchronization/cache-replication problem for distributed protocol
   entities. In a client/server paradigm, SCSP synchronizes caches (or a
   portion of the caches) of a set of server entities of a particular
   protocol which are bound to a Server Group.

   The MIB module specified in this document follows the Structure of



SCSP MIB.               Expires Apr. 10th, 1999               [Page 1]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   Management Information (SMI) for the Simple Network Management
   Protocol (SNMP) Version 2.

Revision History

   April 1998, removed Hello finite state machine related entries from
   DCS table, notification group, and conformance definition. Hello
   finite state machine related entries will be placed in the protocol
   dependent MIB, where link layer information can be grouped. Move
   retransmit related entries from DCS to LS table.

1. Introduction

   This memo defines an experimental portion of the Management
   Information Base (MIB) for use with network management protocols in
   the Internet community.  In particular, it describes managed objects
   for hosts or routers that use Server Cache Synchronization Protocol
   (SCSP) to synchronize caches among the distributed servers in a
   server group. MIB objects are defined to enable management of the
   Local server (LS) and the cache synchronization/replication between
   LS and its associated Directly Connected Servers (DCS).



2. The SNMPV2 Network Management Framework

   IETF RFC 1157 [5], RFC 1213 [6], and RFC 1902 [7] form the three
   major components of the SNMPv2 Network Management Framework.

     o RFC 1902  specifies the SMI, which is the mechanisms used for
       describing and naming objects for the purpose of management.

     o RFC 1213 defines the second version of the Management Information
       Base (MIB-II), which is the core set of managed objects for the
       TCP/IP based Internets.

     o RFC 1157 and/or RFC 1905 [8] specifies the protocol operations
       for SNMPV2, with respect to the to the sending and receiving of
       SNMP  managed information.

   In addition, RFC 1903 [9] defines Textual conventions for SNMPv2 and
   RFC 1904 [10] specifies the conformance statements for SNMPv2.

   The SNMPv2 Framework allows new objects to be defined for the purpose
   of experimentation and evaluation.






SCSP MIB.               Expires Apr. 10th, 1999               [Page 2]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


2.1 Object Definition

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  Objects in the MIB are
   defined using the subset of Abstract Syntax Notation One (ASN.1)
   defined in the SMI.  In particular, each object type is named by an
   OBJECT IDENTIFIER, an administratively assigned name.  The object
   type together with an object instance serves to uniquely identify a
   specific instantiation of the object.  For human convenience, we
   often use a textual string, termed the descriptor, to refer to the
   object type.

3. Overview

   SCSP contains three sub protocols: the "Hello" protocol, the "Cache
   Alignment" Protocol, and the "Cache State Update" protocol. The Hello
   protocol is used to monitor the status of the connections between the
   Local Server  and its Directly Connected Servers.  The "Cache
   Alignment" protocol is used to synchronize the cache of an
   initializing LS with the cache of its DCSs. The "Cache State Update"
   protocol is used to update the state of cache entries once the
   servers are synchronized.

   Synchronization is performed on a per Server Group / Protocol basis.
   That is, a separate instance of the protocol is run for each SG in
   the box.  Therefore, the SGID/PID pair uniquely identifies an
   instance of SCSP.  Furthermore, A separate instance of the "Hello"
   and "Cache Alignment" protocol are maintained for each DCS of the
   Server Group. State machines exist to execute the protocol
   independently for each DCS session. For more information, refer to
   [1].

   SCSP is used to synchronize distributed servers running a
   client/server protocol. Currently SCSP support for Classic IP (RFC
   2225)[11], MARS (RFC 2022)[12], and NHRP (RFC 2332)[13] has been
   defined in the protocol dependent part of SCSP [2], [3], [4].


   The following terms are defined in the SCSP definition and used
   frequently. They are included here for reference:

   Server Group (SG)
      The SCSP synchronizes caches (or a portion of the caches) of a
      set of server entities which are bound to a SG through some
      means (e.g., all servers belonging to a Logical IP Subnet
      (LIS)[11]). Thus a SG is just a grouping of servers around
      some commonality.




SCSP MIB.               Expires Apr. 10th, 1999               [Page 3]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   SGID - Server Group ID
      This ID is a 16 bit identification field that uniquely
      identifies the instance client/server protocol for which the
      servers of the SG are being synchronized.  This implies that
      multiple instances of the same protocol may be in operation at
      the same time and have their servers synchronized independently
      of each other.

   PID - Protocol ID
      This field contains an identifier which identifies the
      client/server protocol which is making use of SCSP for the given
      message.  The assignment of Protocol IDs for this field is given
      over to IANA.

   Local Server (LS)
      Local Server is the server sitting on this IP end station or
      router and is the server under scrutiny.

   LSID - Local Server ID
      The LSID is a unique token that identifies an LS.  This value
      might be taken from the protocol address of the LS.

   Directly Connected Server (DCS)
      Directly Connected Server is the server which is directly
      connected to the LS, e.g., there exists a VC between the LS and
      DCS. Thus, every server is a DCS from the point of view of every
      other server which connects to it directly, and every server is
      an LS which has zero or more DCSs directly connected to it.

   HFSM - Hello Finite State Machine
      An LS has a HFSM associated with each of its DCSs.  The HFSM
      monitors the state of the connectivity between the LS and a
      particular DCS.

   CA Message - Cache Alignment Message
      These messages allow an LS to synchronize its entire cache with
      that of the cache of one of its DCSs.

   CAFSM - Cache Alignment Finite State Machine
      The CAFSM monitors the state of the cache alignment between an
      LS and a particular DCS.  There exists one CAFSM per DCS as
      seen from an LS.

   CSA Record - Cache State Advertisement Record
      A CSA is a record within a CSU message which identifies an
      update to the status of a "particular" cache entry.

   CSAS Record - Cache State Advertisement Summary Record



SCSP MIB.               Expires Apr. 10th, 1999               [Page 4]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


      A CSAS contains a summary of the information in a CSA.  A server
      will send CSAS records describing its cache entries to another
      server during the cache alignment process.  CSAS records are
      also included in a CSUS messages when an LS wants to request
      the entire CSA from the DCS.  The LS is requesting the CSA from
      the DCS because the LS believes that the DCS has a more recent
      view of the state of the cache entry in question.

   CSU Message - Cache State Update message
      This is a message sent from an LS to its DCSs when the LS
      becomes aware of a change in state of a cache entry.

   CSUS Message - Cache State Update Solicit Message
      This message is sent by an LS to its DCS after the LS and DCS
      have exchanged CA messages.   The CSUS message contains one or
      more CSAS records which represent solicitations for entire CSA
      records (as opposed to just the summary information held in
      the CSAS).


   This document defines SCSP protocol independent MIB definition, which
   contains three tables: scspServerGroupTable, scspLSTable, and
   scspDCSTable.

   The scspServerGroupTable contains information for the server group,
   such as the Server group ID, and Protocol ID. The scspLSTable
   contains the attributes associated with the Local Server, such as the
   Local server ID, HelloInterval, DeadFactor, and retransmit
   properties.  Note that there is one to one mapping between one
   scspServerGroupEntry and one scspLSEntry, since only one Local Server
   is defined for each Server Group.

   The scspDCSTable contains information associated with the DCS session
   between the Local Server and its associated Directly Connected
   Servers. The scspDCSTable keeps track the current state of the Cache
   Alignment State Machine. In addition, the scspDCSTable keeps track of
   statistics of messages exchanges such as the Cache Alignment
   messages. Note that one scspServerGroupEntry or one scspLSEntry may
   map to multiple scspDCSEntries, since in a server group multiple DCS
   may connect to the Local Server.

   The Notifications Group contains the notification objects for
   supporting SCSP. SNMP trap scspCSAReXmExceed trap event is used to
   notify management that CSA exchange between LS and DCS has timed out.







SCSP MIB.               Expires Apr. 10th, 1999               [Page 5]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


4. Definition of the Server Cache Synchronization Protocol MIB

   SCSP-MIB DEFINITIONS ::= BEGIN

   IMPORTS
       MODULE-IDENTITY, OBJECT-TYPE, NOTIFICATION-TYPE,
       experimental, Integer32, IpAddress, Counter32
          FROM SNMPv2-SMI
       TEXTUAL-CONVENTION, RowStatus
          FROM SNMPv2-TC
       MODULE-COMPLIANCE, OBJECT-GROUP
          FROM SNMPv2-CONF
       ;



   scspMIB MODULE-IDENTITY
      LAST-UPDATED "9808200000Z" -- October 10, 1998
      ORGANIZATION "IETF Internetworking Over NBMA Working Group (ion)"
      CONTACT-INFO
          "Jim Luciani (luciani@BayNetworks.com)
           Bay Networks

           Cliff X. Wang (cliff_wang@vnet.ibm.com)
           Colin Verrilli (verrilli@vnet.ibm.com)
           IBM Corp."

      DESCRIPTION
           "This module defines a portion of the management
            information base (MIB) for managing Server Cache
            Synchronization protocols entities."
      ::= { experimental 2001 }
          -- Need to get an "official" experimental number from IANA


   -- *****************************************************************

   --   Textual Conversion

   -- *****************************************************************


   ScspPIDType ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION
            "The protocol type associated with a SCSP instance."
       SYNTAX         INTEGER {
                          atmarp(1),



SCSP MIB.               Expires Apr. 10th, 1999               [Page 6]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


                          nhrp(2),
                          mars(3),
                          dhcp(4),
                          lnni(5)
                      }


      ScspHFSMStateType ::= TEXTUAL-CONVENTION
          STATUS         current
          DESCRIPTION
                "The various states of the Hello Finite State Machine."
          SYNTAX         INTEGER {
                             down(1),
                             waiting(2),
                             uniConn(3),
                             biConn(4)
                         }

     ScspCAFSMStateType ::= TEXTUAL-CONVENTION
       STATUS         current
       DESCRIPTION
              "The various states of the Cache Alignment Finite
               State Machine."
       SYNTAX         INTEGER {
                          down(1),
                          msNego(2),
                          cacheSumm(3),
                          cacheUpdate(4),
                          aligned(5)
                      }



      SCSPVPIInteger ::= TEXTUAL-CONVENTION
         STATUS     current
         DESCRIPTION
             "An integer large enough to contain the value of a VPI."
         SYNTAX     Integer32 (0..255)

      SCSPVCIInteger ::= TEXTUAL-CONVENTION
         STATUS     current
         DESCRIPTION
             "An integer large enough to contain the value of a VCI."
         SYNTAX     Integer32 (0..65535)



   -- *****************************************************************



SCSP MIB.               Expires Apr. 10th, 1999               [Page 7]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   --  Top Level structure of the SCSP MIB

   -- *****************************************************************


   scspObjects        OBJECT IDENTIFIER ::= { scspMIB 1}
   scspNotifications  OBJECT IDENTIFIER ::= { scspMIB 2} scspConformance
   OBJECT IDENTIFIER ::= { scspMIB 3}

   -- *****************************************************************

   --   SCSP MIB Objects

   -- *****************************************************************



   -- *****************************************************************

   --   SCSP Server Group Objects

   -- *****************************************************************



   scspServerGroupTable OBJECT-TYPE
       SYNTAX   SEQUENCE OF ScspServerGroupEntry
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "The objects defined in this table are used to for the
              management of server groups. There is one entry in this
              table for each server group."
       ::= { scspObjects 1}


   scspServerGroupEntry OBJECT-TYPE
       SYNTAX   ScspServerGroupEntry
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "Each entry contains attributes associated with a scsp
              server group."
       INDEX {scspServerGroupID, scspServerGroupPID }
       ::= { scspServerGroupTable 1}


   ScspServerGroupEntry ::= SEQUENCE {



SCSP MIB.               Expires Apr. 10th, 1999               [Page 8]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


       scspServerGroupID                  Integer32,
       scspServerGroupPID                 ScspPIDType,
       scspServerGroupRowStatus           RowStatus}


   scspServerGroupID  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "This is the Group ID of this SCSP server group instance."
       ::= { scspServerGroupEntry 1 }


   scspServerGroupPID  OBJECT-TYPE
       SYNTAX     ScspPIDType
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "This is the protocol ID of this SCSP server group
              instance."
       ::= { scspServerGroupEntry 2 }



   scspServerGroupRowStatus  OBJECT-TYPE
       SYNTAX   RowStatus
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "This object allows entries to be created and deleted
              from the scspServerGroupTable. This table is closely
              coupled with the scspLSTable, scspDCSTable, and the
              corresponding protocol dependent tables. A new row
              creation in this table results in creation of
              corresponding entries in the scspLSTable and scspDCSTable.
              In addition, entries in appropriate protocol dependent
              table may also be added. When the scspServerRowStatus is
              deleted by setting this object to destroy(6), this results
              in removing corresponding entries in scspLSTable,
              scspDCSTable, and those in corresponding protocol
              dependent table."
       REFERENCE
             "RFC 1903, 'Textual Conventions for version 2 of the
              Simple Network Management Protocol (SNMPv2).'"
       ::= { scspServerGroupEntry 3 }





SCSP MIB.               Expires Apr. 10th, 1999               [Page 9]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   -- *****************************************************************

   --     SCSP LS Objects

   -- *****************************************************************

   scspLSTable OBJECT-TYPE
       SYNTAX   SEQUENCE OF ScspLSEntry
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "The objects defined in this table are for the
              management of SCSP local server (LS)."
       ::= { scspObjects 2}


   scspLSEntry OBJECT-TYPE
       SYNTAX   ScspLSEntry
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "Information about the Local Server in a SCSP group. Each
              entry contains attributes associated a LS."
       INDEX {scspServerGroupID,
              scspServerGroupPID,
              scspLSID
             }
       ::= { scspLSTable 1}


   ScspLSEntry ::= SEQUENCE {
       scspLSID                          OCTET STRING(SIZE(0..63)),
       scspLSHelloInterval               Integer32,
       scspLSDeadFactor                  Integer32,
       scspLSCAReXmInterval              Integer32,
       scspLSCSUSReXmtInterval           Integer32,
       scspLSCSUReXmtInterval            Integer32,
       scspLSCSAMaxReXmt                 Integer32,
       scspLSRowStatus                   RowStatus
       }



   scspLSID  OBJECT-TYPE
       SYNTAX   OCTET STRING(SIZE(0..63))
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION



SCSP MIB.               Expires Apr. 10th, 1999              [Page 10]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


             "This is the Local Server ID of this Local Server."
       ::= { scspLSEntry 1 }


   scspLSHelloInterval  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "This object contains the value for HelloInterval for
              the Local Server. It is the time (in seconds) between
              sending of consecutive Hello messages from this server."
       REFERENCE
             "SCSP draft, Section 2.1"
      ::= { scspLSEntry 2 }


   scspLSDeadFactor  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "This object contains the value for DeadFactor. The
              DeadFactor along with HelloInterval are sent with
              outgoing 'Hello' messages. If the DCS does not
              received 'Hello' message from this LS within the
              time out interval 'HelloInterval*DeadFactor'
              (in seconds), then the DCS MUST consider the LS to
              be stalled."
       REFERENCE
             "SCSP draft, Section 2.1"
       ::= { scspLSEntry 3 }


   scspLSCAReXmInterval  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "The time out interval (in seconds) for re-sending CA
               message to the DCS if no response is received."
       ::= { scspLSEntry 4 }


   scspLSCSUSReXmtInterval  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  read-create
       STATUS   current



SCSP MIB.               Expires Apr. 10th, 1999              [Page 11]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


       DESCRIPTION
             "The time out interval (in seconds) for re-sending
              CSUS Request to the DCS if not all CSA Records
              corresponding to the CSAS records in the CSUS
              message have been received."
       ::= { scspLSEntry  5 }


   scspLSCSUReXmtInterval  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "The time out interval (in seconds) for re-sending CSU
              Request to the DCS if not all CSA Records corresponding
              to the CSU request have not been acknowledged."
       ::= { scspLSEntry  6 }


   scspLSCSAMaxReXmt  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "The maximum number of retransmission of a CSA record.
              If acknowledge fails to occur when the maximum number
              is reached, an 'abnormal event' has happened between
              the LS/DCS link."
       ::= { scspLSEntry 7 }


   scspLSRowStatus  OBJECT-TYPE
       SYNTAX   RowStatus
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "This object allows entries to be created and deleted
              from the scspLSTable. This table is closely coupled
              with DCS table and its corresponding protocol dependent
              tables. A new row creation in this table results
              in creation of new rows in the DCS table for each of
              its configured DCSs (peer servers). In addition,
              entries are created in the appropriate protocol
              dependent tables.  When the scspServerRowStatus is
              deleted by setting this object to destroy(6), this
              results in removing the corresponding entries in
              the DCS table of the same Server Group. In addition,
              entries in the corresponding protocol dependent table



SCSP MIB.               Expires Apr. 10th, 1999              [Page 12]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


              will also be removed."
       REFERENCE
             "RFC 1903."
       ::= { scspLSEntry 8 }



   -- *****************************************************************

   --     SCSP DCS Objects

   -- *****************************************************************

   scspDCSTable OBJECT-TYPE
       SYNTAX   SEQUENCE OF ScspDCSEntry
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "The objects defined in this table are used for the
              management of the DCS session between the LS and DCS."
       ::= { scspObjects 3}


   scspDCSEntry OBJECT-TYPE
       SYNTAX   ScspDCSEntry
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "Information about each DCS session between the LS and
              its DCSs. The table is indexed by scspServerGroupID,
              scspServerGroupPID, and scspDCSID."
       INDEX { scspServerGroupID,
               scspServerGroupPID,
               scspDCSID
              }
       ::= { scspDCSTable 1}

   ScspDCSEntry ::= SEQUENCE {
       scspDCSID                       OCTET STRING(SIZE(0..63)),
       scspDCSCAFSMState               ScspCAFSMStateType,
       scspDCSCASequence               Integer32,
       scspDCSCAIn                     Counter32,
       scspDCSCAOut                    Counter32,
       scspDCSCAInvalidIn              Counter32,
       scspDCSCADuplicateIn            Counter32,
       scspDCSMSState                  INTEGER,
       scspDCSCSUSIn                   Counter32,
       scspDCSCSUSOut                  Counter32,



SCSP MIB.               Expires Apr. 10th, 1999              [Page 13]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


       scspDCSCSUSInvalidIn        Counter32,
       scspDCSCSURequestIn             Counter32,
       scspDCSCSURequestOut            Counter32,
       scspDCSCSUReplyOut              Counter32,
       scspDCSCSUReplyIn               Counter32,
       scspDCSCSUInvalidRequestIn      Counter32,
       scspDCSCSUInvalidReplyIn        Counter32,
       scspDCSCSAIn                    Counter32,
       scspDCSCSAOut                   Counter32,
       scspDCSCSAReXmted               Counter32,
       scspDCSCSAReXmtQDepth           Integer32,
       scspDCSRowStatus                RowStatus }




   scspDCSID  OBJECT-TYPE
       SYNTAX   OCTET STRING(SIZE(0..63))
       MAX-ACCESS  not-accessible
       STATUS   current
       DESCRIPTION
             "This ID is used to identify a directly connected
              server(DCS)."
       ::= { scspDCSEntry 1 }

   scspDCSCAFSMState  OBJECT-TYPE
       SYNTAX   ScspCAFSMStateType
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The current state of the Cache Alignment Finite State
              Machine. The allowable states are:
                       down(1),
                       msNego(2),
                       cacheSumm(3),
                       cacheUpdate(4),
                       aligned(5)."
       REFERENCE
           "SCSP draft, Section 2.2"
       ::= { scspDCSEntry 2 }




   scspDCSCASequence  OBJECT-TYPE
       SYNTAX   Integer32 (-2147483648..2147483647)
       MAX-ACCESS  read-only
       STATUS   current



SCSP MIB.               Expires Apr. 10th, 1999              [Page 14]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


       DESCRIPTION
             "The current CA sequence number associated with
              this DCS."
       ::= { scspDCSEntry 3 }


   scspDCSCAIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of CA messages received from this DCS."
       ::= { scspDCSEntry 4 }


   scspDCSCAOut  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of CA messages sent to this DCS."
       ::= { scspDCSEntry 5 }

   scspDCSCAInvalidIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of invalid CA messages received from this
              DCS.
              During Master/Slave negotiation state, two types of
              messages are correct:
              1) CA from the DCS has the M, I, and O bits on, with
                 no CSAS records and sender's ID is larger than the
                 LSID.
              2) CA from the DCS has the M and I bits off and the
                 sender's ID is smaller than the LSID.
              All other types of CA messages are invalid and
              ignored. During Cache Summarize State, two kinds of
              message errors are possible:
              1) M bit in received CA is set incorrectly;
              2) CA sequence number is neither equal nor one
                 more than the current LS's CA sequence number when
                 LS is slave or CA sequence number is neither equal
                 nor one less than the current LS's CA sequence number
                 when LS is master. Other common errors include failed
                 check sum, failed authentication if applicable,
                 errors in the message fields."



SCSP MIB.               Expires Apr. 10th, 1999              [Page 15]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


       REFERENCE
              "SCSP draft, Section 2.2."
       ::= { scspDCSEntry 6 }


   scspDCSCADuplicateIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of duplicate CA messages received from
              this DCS. A CA message is considered duplicate when
              1)LS is master and received a CA message with its
                sequence number one less than the current sequence
                number; or
              2)LS is slave and received a CA message with its
                sequence number equal to the LS's current sequence
                number."
      REFERENCE
             "SCSP draft, Section 2.2"
      ::= { scspDCSEntry 7 }



   scspDCSMSState    OBJECT-TYPE
       SYNTAX   INTEGER {
                  master (1),
                  slave  (2)
       }
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The master/slave status of this DCS. This object
              should be ignored when CAFSM is in 'down' state."
       ::= { scspDCSEntry  8 }


   scspDCSCSUSIn   OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of CSUS sent from this DCS to the LS."
       ::= { scspDCSEntry  9 }

   scspDCSCSUSOut   OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only



SCSP MIB.               Expires Apr. 10th, 1999              [Page 16]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


       STATUS   current
       DESCRIPTION
             "The number of CSUS sent from LS to this DCS."
       ::= { scspDCSEntry  10 }


   scspDCSCSUSInvalidIn   OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of Invalid CSUS sent from this DCS to the LS."
       ::= { scspDCSEntry  11 }

   scspDCSCSURequestIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of CSU requests LS received from this DCS."
       ::= { scspDCSEntry 12 }


   scspDCSCSUReplyOut  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of CSU replies sent from LS to this DCS."
       ::= { scspDCSEntry 13 }


   scspDCSCSURequestOut  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of CSU requests sent from LS to this DCS."
       ::= { scspDCSEntry 14 }


   scspDCSCSUReplyIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of CSU replies LS received from this DCS."
       ::= { scspDCSEntry 15 }



SCSP MIB.               Expires Apr. 10th, 1999              [Page 17]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   scspDCSCSUInvalidRequestIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of invalid CSU requests LS received from
              this DCS. The possible errors in the CSU request
              messages: the received CSU request's Receiver ID is
              not equal to the LSID, etc.
              Other common errors include failed authentication if
              applicable, errors in the message fields, etc."
       ::= { scspDCSEntry 16 }



   scspDCSCSUInvalidReplyIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The number of invalid CSU replies LS received from
              this DCS. The possible errors in the CSU reply
              messages: the received CSU reply's Receiver ID is not
              equal to the LSID, etc.
              Other common errors include failed authentication if
              applicable, errors in the message fields, etc."
       ::= { scspDCSEntry 17 }



   scspDCSCSAIn  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The total number of CSA records received from
              this DCS to this LS."
       ::= { scspDCSEntry 18 }


   scspDCSCSAOut  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The total number of CSA records sent from LS
              to this DCS."
       ::= { scspDCSEntry 19 }



SCSP MIB.               Expires Apr. 10th, 1999              [Page 18]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   scspDCSCSAReXmted  OBJECT-TYPE
       SYNTAX   Counter32
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The total number of CSA records re-transmited from LS
              to this DCS."
       ::= { scspDCSEntry 20 }

   scspDCSCSAReXmtQDepth  OBJECT-TYPE
       SYNTAX   Integer32 (0..65535)
       MAX-ACCESS  read-only
       STATUS   current
       DESCRIPTION
             "The depth of CSA Re-transmit queue associated with
              this DCS. The CSAs in the Re-transmit queue are
              pending to acknowledged."
       ::= { scspDCSEntry 21 }


   scspDCSRowStatus  OBJECT-TYPE
       SYNTAX   RowStatus
       MAX-ACCESS  read-create
       STATUS   current
       DESCRIPTION
             "This object allows DCS entries to be created and
              deleted from the scspDCSTable.  This table is closely
              coupled with its corresponding protocol dependent table.
              A new row creation in this table results in creation of
              a new row in the corresponding protocol dependent table.
              When the scspServerRowStatus is deleted by setting this
              object to destroy(6), this results in removing the
              corresponding entries in its corresponding protocol
              dependent table."
       REFERENCE
             "RFC 1903, 'Textual Conventions for version 2 of the
              Simple Network Management Protocol (SNMPv2).'"
       ::= { scspDCSEntry 22 }


   -- *****************************************************************

   --       Notifications

   -- *****************************************************************






SCSP MIB.               Expires Apr. 10th, 1999              [Page 19]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   scspCSAReXmExceed NOTIFICATION-TYPE
       OBJECTS {
               scspServerGroupID,
               scspServerGroupPID,
               scspDCSID
       }
       STATUS  current
       DESCRIPTION
             "Retransmission of a CSA to this DCS has exceeded
              maximum retry limit, indicating an 'abnormal event'
              has happened between the LS/DCS association. The
              HSFM associated with this DCS is transitioned into
              the 'Waiting' state, and a 'scspHFSMWaiting' trap
              is also generated."
       ::= { scspNotifications 1 }


   -- *****************************************************************

   -- Conformance Definitions

   -- *****************************************************************

   scspCompliances OBJECT IDENTIFIER ::= { scspConformance 1 }
   scspGroups      OBJECT IDENTIFIER ::= { scspConformance 2 }

   -- *****************************************************************

   --  SCSP MIB Compliance Statements

   -- *****************************************************************

   scspCompliance MODULE-COMPLIANCE
       STATUS  current
       DESCRIPTION
             "The compliance statement for entities that are required
              for the management of SCSP."
       MODULE
          MANDATORY-GROUPS {
               scspLSGroup,
               scspDCSGroup
          }

      ::= { scspCompliances 1 }


   scspLSGroup OBJECT-GROUP
       OBJECTS {



SCSP MIB.               Expires Apr. 10th, 1999              [Page 20]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


              scspServerGroupID,
              scspServerGroupPID,
              scspLSID,
              scspLSHelloInterval,
              scspLSCAReXmInterval,
              scspLSCSUSReXmtInterval,
              scspLSCSUReXmtInterval,
              scspLSCSAMaxReXmt,
              scspLSDeadFactor
        }
       STATUS   current
       DESCRIPTION
             "A collection of objects which support the management of
              the Server group and the Local Server. This group is
              mandatory."
       ::= { scspGroups 1 }


   scspDCSGroup OBJECT-GROUP
       OBJECTS {
              scspDCSID,
              scspDCSCAFSMState,
              scspDCSCAIn,
              scspDCSCAOut,
              scspDCSCAInvalidIn,
              scspDCSCADuplicateIn,
              scspDCSMSState,
              scspDCSCSUSIn,
              scspDCSCSUSOut,
              scspDCSCSURequestIn,
              scspDCSCSURequestOut,
              scspDCSCSUReplyOut,
              scspDCSCSUReplyIn,
              scspDCSCSUInvalidRequestIn,
              scspDCSCSUInvalidReplyIn,
              scspDCSCSAIn,
              scspDCSCSAOut,
              scspDCSCSAReXmted,
              scspDCSCSAReXmtQDepth
        }
       STATUS   current
       DESCRIPTION
             "A collection of objects which support the management of
              the information exchange session between the LS and its
              associated DCS. This group is mandatory."
       ::= { scspGroups 2 }





SCSP MIB.               Expires Apr. 10th, 1999              [Page 21]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


     END



Acknowledgments
   I would like to thank Hoylen Sue of CiTR Australia for many
   insightful discussions.



Reference

   [1] "Server Cache Synchronization Protocol (SCSP)", J. Luciani,
        G. Armitage, J. Halpern,and N. Doraswamy, RFC 2334

   [2] "A Distributed NHRP Service Using SCSP", J. Luciani,
        RFC 2335

   [3] "A Distributed ATMARP Service Using SCSP", J. Luciani
        draft-ietf-ion-scsp-atmarp-00.txt.

   [4] "A Distributed MARS Service Using SCSP", J. Luciani, A. Gallo,
        draft-ietf-ion-scsp-mars-01.txt

   [5] "Simple Network Management Protocol", J. Case, M. Fedor,
        M. Schoffstall, J. Davin, RFC 1157,


   [6] "Management Information Base for Network Management of
        TCP/IP-based internets: MIB-II", K. McCloghrie,M. Rose, RFC 121


   [7] "Structure of Management Information for version 2 of the
        Simple Network Management Protocol (SNMPv2)", J. Case,
        K. McCloghrie, M. Rose, S. Waldbusser, RFC 1902,


   [8] "Protocol Operations for version 2 of the Simple Network
        Management Protocol (SNMPv2)",  J. Case, K. McCloghrie,
        M. Rose, S. Waldbusser, RFC 1905

   [9] "Textual Conventions for version 2 of the Simple Network
        Management Protocol (SNMPv2)", J. Case, K. McCloghrie, M. Rose,
        S. Waldbusser, RFC 1903

   [10]"Conformance Statements for version 2 of the Simple Network
        Management Protocol (SNMPv2)", J. Case, K. McCloghrie, M. Rose,
        S. Waldbusser, RFC 1904



SCSP MIB.               Expires Apr. 10th, 1999              [Page 22]





Internet Draft        <draft-ion-scsp-mib-02.txt>        Oct. 10th, 1998


   [11]"Classic IP and ARP over ATM", M. Laubach and J. Halpern,
        RFC 2225

   [12]"Support for Multicast over UNI 3.0/3.1 based ATM Networks",
        G. Armitage, RFC 2022

   [13]"NBMA Next Hop Resolution Protocol (NHRP)", J. Luciani,
        D. Katz, D. Piscitello, B. Cole, N. Doraswamy,
        RFC 2332


   Authors' Addresses

      Cliff X. Wang
      IBM, Networking Hardware Division
      Dept. MZDA/B664
      P.O. Box 12195
      Research Triangle Park, NC 27709
      phone: +1-919-486-1255
      email: cxwang@us.ibm.com


      Colin B. Verrilli
      IBM, Networking Hardware Division
      Dept. M6LA/B664
      P.O. Box 12195
      Research Triangle Park, NC 27709
      phone: +1-919-254-9936
      email: verrilli@raleigh.ibm.com



      James V. Luciani
      Bay Networks, Inc.
      3 Federal Street, BL3-04
      Billerica, MA  01821
      phone: +1-508-916-4734
      email: luciani@baynetworks.com













SCSP MIB.               Expires Apr. 10th, 1999              [Page 23]


