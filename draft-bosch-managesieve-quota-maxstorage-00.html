<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>ManageSieve Protocol: QUOTA/MAXSTORAGE Response Code </title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 The QUOTA/MAXSTORAGE Response Code">
<link href="#rfc.section.3" rel="Chapter" title="3 Acknowledgements">
<link href="#rfc.section.4" rel="Chapter" title="4 IANA Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="6 References">
<link href="#rfc.references.1" rel="Chapter" title="6.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="6.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document defines the new QUOTA/MAXSTORAGE response code for the MangeSieve protocol. It indicates that the total amount of storage occupied by the user's private Sieve scripts exceeds the site-defined quota constraint.  " />
  <meta name="description" content="This document defines the new QUOTA/MAXSTORAGE response code for the MangeSieve protocol. It indicates that the total amount of storage occupied by the user's private Sieve scripts exceeds the site-defined quota constraint.  " />
  <meta name="keywords" content="ManageSieve, Response Code, QUOTA, QUOTA/MAXSTORAGE" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">S. Bosch</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">July 25, 2011</td>
</tr>
<tr>
<td class="left">Updates: 5804 (if approved)</td>
<td class="right"></td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right"></td>
</tr>
<tr>
<td class="left">Expires: January 26, 2012</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">ManageSieve Protocol: QUOTA/MAXSTORAGE Response Code <br />
  <span class="filename">draft-bosch-managesieve-quota-maxstorage-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document defines the new QUOTA/MAXSTORAGE response code for the MangeSieve protocol. It indicates that the total amount of storage occupied by the user's private Sieve scripts exceeds the site-defined quota constraint.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 26, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>
<h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">Sieve <a href="#RFC5228">[RFC5228]</a> scripts allow users to filter incoming email.  Using the ManageSieve protocol <a href="#RFC5804">[RFC5804]</a>, users can securely manage their Sieve scripts on a remote server. This protocol allows a user to have multiple scripts on the server. To limit the resources required for script storage and execution, the server may refuse to accept a newly uploaded script based on site-defined quota constraints.</p>
<p id="rfc.section.1.p.2">All queries from a ManageSieve client are replied to with either an OK, NO, or BYE response. Each response may be followed by a response code to describe the event in a more detailed machine-parsable fashion (see <a href="#RFC5804">[RFC5804]</a>, Section 1.3). The ManageSieve protocol defines specific response codes to notify the client about exceeded quota. The following quota response codes are currently defined: </p>

<dl>
<dt>QUOTA</dt>
<dd style="margin-left: 20">This generic response code is returned to indicate that some unspecified quota is exceeded. This is used when no more detailed response code is applicable.  </dd>
<dt>QUOTA/MAXSIZE</dt>
<dd style="margin-left: 20">This response code is returned when the size of the currently uploaded script exceeds the limit.  </dd>
<dt>QUOTA/MAXSCRIPTS</dt>
<dd style="margin-left: 20">This response code is returned when the number of private scripts of this user exceeds the limit.  </dd>
</dl>
<p id="rfc.section.1.p.3">This document defines a new quota response code that indicates that the total amount of storage occupied by the user's private Sieve scripts exceeds the site-defined quota constraint.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#response_code" id="response_code">The QUOTA/MAXSTORAGE Response Code</a>
</h1>
<p id="rfc.section.2.p.1">This document defines the following new response code for ManageSieve (<a href="#RFC5804">[RFC5804]</a>, Section 1.3):</p>
<p id="rfc.section.2.p.2">QUOTA/MAXSTORAGE</p>
<p id="rfc.section.2.p.3">If this response code is returned in the NO/BYE response, it means that the command would have placed the user above the site-defined limit on the total amount of storage occupied by the user's private Sieve scripts. If this response code is returned in the OK response, it can mean that the user is near its quota or that the user exceeded its quota, but the server supports soft quotas. This response code is a more specific version of the QUOTA response code defined in <a href="#RFC5804">[RFC5804]</a>.  </p>
<p id="rfc.section.2.p.4">This extends the ManageSieve ABNF (<a href="#RFC5804">[RFC5804]</a>, Section 4) as follows: </p>
<div id="#rfc.figure.1"></div>
<pre>
resp-code          =/ "QUOTA/MAXSTORAGE"
             ; resp-code is defined in [RFC5804]
</pre>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.3.p.1">Thanks to Alexey Melnikov for comments and suggestions.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.4.p.1">The following requests IANA to register a new ManageSieve response code according to the IANA registration template specified in <a href="#RFC5804">[RFC5804]</a>:</p>
<div id="#rfc.figure.2"></div>
<pre>
To: iana@iana.org
Subject: ManageSieve Response Code Registration
</pre>
<p id="rfc.section.4.p.2">Please register the following ManageSieve response code:</p>
<p></p>

<dl>
<dt>Response Code:</dt>
<dd style="margin-left: 15">QUOTA/MAXSTORAGE</dd>
<dt>Arguments (use ABNF to specify syntax, or the word NONE if none can be specified):</dt>
<dd style="margin-left: 15">NONE </dd>
<dt>Purpose:</dt>
<dd style="margin-left: 15">If this response code is returned in the NO/BYE response, it means that the command would have placed the user above the site-defined limit on the total amount of storage occupied by the user's private Sieve scripts. If this response code is returned in the OK response, it can mean that the user is near its quota or that the user exceeded its quota, but the server supports soft quotas. This response code is a more specific version of the QUOTA response code.  </dd>
<dt>Published Specification(s):</dt>
<dd style="margin-left: 15">[RFCXXXX]</dd>
<dt>Person &amp; email address to contact for further information:</dt>
<dd style="margin-left: 15">
<br> Stephan Bosch &lt;stephan@rename-it.nl&gt; </dd>
<dt>Author/Change controller:</dt>
<dd style="margin-left: 15">IESG.</dd>
</dl>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.5.p.1">Security considerations are discussed in <a href="#RFC5804">[RFC5804]</a>. This document only registers a new response code for the ManageSieve protocol and as such it does not introduce any additional security concerns.</p>
<h1 id="rfc.references">
<a href="#rfc.references">6.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">6.1.</a> Normative References</h1>
<table><tbody><tr>
<td class="reference"><b id="RFC5804">[RFC5804]</b></td>
<td class="top">
<a>Melnikov, A.</a> and <a>T. Martin</a>, "<a href="http://tools.ietf.org/html/rfc5804">A Protocol for Remotely Managing Sieve Scripts</a>", RFC 5804, July 2010.</td>
</tr></tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">6.2.</a> Informative References</h1>
<table><tbody><tr>
<td class="reference"><b id="RFC5228">[RFC5228]</b></td>
<td class="top">
<a>Guenther, P.</a> and <a>T. Showalter</a>, "<a href="http://tools.ietf.org/html/rfc5228">Sieve: An Email Filtering Language</a>", RFC 5228, January 2008.</td>
</tr></tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Stephan Bosch</span> 
	  <span class="n hidden">
		<span class="family-name">Bosch</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Enschede</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">NL</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:stephan@rename-it.nl">stephan@rename-it.nl</a></span>

  </address>
</div>
  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">The QUOTA/MAXSTORAGE Response Code</a>
</li>
<li>3.   <a href="#rfc.section.3">Acknowledgements</a>
</li>
<li>4.   <a href="#rfc.section.4">IANA Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">Security Considerations</a>
</li>
<li>6.   <a href="#rfc.references">References</a>
</li>
<li>6.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>6.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  

</body>
</html>