


Internet Draft                                                 R.G. Cole
Expiration Date: Dec 2000                                           AT&T
                                                                R. Dietz
                                                         Apptitude, Inc.
                                                          C. Kalbfleisch
                                                             Verio, Inc.
                                                            D. Romascanu
                                                                  Lucent




      A Framework for Synthetic Sources for Performance Monitoring

                        <draft-cole-sspm-00.txt>


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

1. Copyright Notice

   Copyright (C)  The Internet Society (2000).  All Rights Reserved.

2. Abstract

   This memo discusses the use of synthetic sources (or 'active' probes)
   within the context of remote performance monitoring.  It discusses
   the importance of developing an 'active' probe monitoring capability
   within the Internet.  It develops a framework for synthetic sources
   in performance monitoring against the backdrop of previous, related
   work within the IETF.  It further reports on the broad agreements



Cole, et al.                                                   [Page 1]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   reached in the rperfman BOF held in Adelaide in March 2000 on
   furthering work in this area within the IETF.

   Distribution of this memo is unlimited.

3. Objectives and Motivation

3.1 Introduction

   There is much utility in fully defining a performance monitoring
   capability within the IETF.  As the Internet architecture becomes
   more complex, as enhanced QOS capabilities are defined and deployed,
   performance monitoring capabilities must be developed to account for
   this richer transport and service infrastructure.  ISP's will be
   offering enhanced transport services, content hosting services will
   offer differentiated hosting services, and customers will demand
   methods to monitor the quality of the services to which they
   subscribe.

   This memo defines a framework for the development of a synthetic
   source (or 'active' probe) capability for the purpose of enhancing
   remote performance monitoring capabilities within IP networks and
   services.  By an 'active' probe, we mean a device or embedded
   software which generates a data packet (or packets) and injects it
   (them) into the network to a corresponding probe or existing server
   for the primary purpose of measuring some aspect of the performance
   of the end-to-end path or service.  By performance monitoring we mean
   the act of collecting a specific set of measurements, either actively
   or passively, for the purpose of evaluating the quality of the path
   or the service.  Much work within the IETF exists related to
   performance monitoring.  One interesting aspect of this body of work
   is that it does not explicitly define an 'active' probe capability.
   An active probe capability is complimentary to existing capabilities,
   and should be developed by building as much as possible on this
   existing work.

 3.2 History of This Document

   This document was first published as an Internet draft to help
   motivate the rperfman BOF at the IETF meeting held in Adelaide in
   March 2000.  At that time it was issued as <draft-cole-appm-00.txt>,
   dated March 2000 and was titled "A Framework for Active Probes for
   Performance Monitoring".  Following the BOF in Adelaide, this second
   draft was issued under a new name "A Framework for Synthetic Sources
   for Performance Monitoring" to better reflect the nature of the
   capability being proposed and to avoid confusion with other documents
   currently under development within the RMON WG.  This second draft
   updates the first draft in several areas, including the results of



Cole, et al.                                                   [Page 2]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   the rperfman BOF, new developments within the RMON WG and an improved
   understanding of the capabilities and work items being suggested by
   this draft.

 3.3 Terms

   This section defines the terms used throughout this memo.

      + 'Performance monitoring' is the act of monitoring traffic for
      the purpose of evaluating a statistic of a metric related to the
      performance of the system.  A performance monitoring system is
      comprised of a) traffic generators, b) measurement, c) data
      reduction, and d) reporting.  The traffic generators may be
      natural sources, synthetic sources or intrusive sources [1].

      + A 'probe' is a device or embedded software program that is
      placed in the data flow path or on a client or server to provide a
      performance monitoring function.

      + A 'synthetic source' is a device or an embedded software program
      which generates a data packet (or packets) and injects it (them)
      onto the path to a corresponding probe or existing server solely
      in support of a performance monitoring function.  A synthetic
      source may talk intrusively to existing application servers.

      + 'Natural sources' are those that generate traffic to accomplish
      some unit of work and are measured passively by a measurement
      device or probe.

      + An 'intrusive source' is one that modifies an existing traffic
      flow in some manner (see [1]).

      + An 'active probe' is a device or embedded software program that
      combines both synthetic source and probe functionality.

      + A 'passive probe' is a probe, which non-intrusively listens to
      packets flowing across the 'wire' or monitors request/responses on
      a client or server, and provides a performance monitoring function
      based upon its observations.  Within the context of this
      discussion, it is synonymous with the term 'probe'.

      + A 'path' is a set of network transport components that provide a
      transport service between a given source and destination address
      pair.  In its simplest form the network components are a series of
      routers interconnected by links.  In more complex scenarios, a
      path has a more complex topology due to asymmetric routes,
      alternate paths, load balancing and redirection.




Cole, et al.                                                   [Page 3]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      + A 'service' is a collection of network components and servers
      designed to deliver a capability to an end user.  The service
      could be a transport capability, a processing capability, etc.

      + 'Instrumentation' is the machinery required for the low-level
      programming of the probe's protocol interactions.

      + 'Instrumentation control' is the high level supervision of the
      probe's instrumentation, e.g., probe on/off, probe lifetime, etc.

      + A 'metric' is a carefully specified quantity related to some
      aspect of an Internet service [2].

      + A 'singleton metric' is a single measurement of a given metric.

      + A 'sample metric' is a set of measurements related by a common
      metric, traffic source(s) and measurement parameters, e.g., sample
      points, end points, path, etc.

      + A 'statistical metric' is a value derived by computing a
      specified statistical quantity on the sample metric.  This
      accomplishes a reduction of the overall data.

      + 'Data reduction control' is the high-level supervision of the
      probe's (or distributed set of measurement points') statistical
      data reduction, e.g., the selection of a given statistic from a
      pre-specified set to perform data reduction.


 3.4 Motivation

   The bulk of the current development within the IETF is in the area of
   defining 'passive' monitoring, either self-monitoring as counters of
   local metrics or external-monitoring as defined within the RMON
   working group [3].  In contrast to passive monitoring is, what we
   refer to as, active monitoring.  Active monitoring relies upon the
   injection of probe data or 'request' packets into the transport
   network or into a service.  The active monitoring probe (or
   cooperating probes) then performs some type of measurement based upon
   the specific packet(s) it injects.

   There are distinct advantages and disadvantages of both passive and
   active performance monitoring.  These two approaches are very
   complimentary in nature.  Passive probes are, by their very nature,
   non-intrusive; they add no additional load on the network or service.
   Passive monitors can provide a more extensive measurement capability
   (not only in the type of measurements but also in the amount of
   samples collected).  Passive monitors do not, however, control the



Cole, et al.                                                   [Page 4]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   generation of data for the measurement samples.  In contrast, active
   monitors are intrusive; they add load to the network or service.
   Because they control the generation of the packets, they also control
   the volume of traffic they introduce.  In general, it is not expected
   that the objectives for generating active probes would necessitate
   high volumes of traffic.

   Combined, these attributes limit the volume of measurements collected
   from active monitoring probes.  However, this will allow for a richer
   set of historical data to be maintained in the probe due to the
   relatively low volume of measurement data (as compared, say, to an
   RMON probe sitting on a highly utilized fast ethernet LAN segment).

   There are a number of reasons to develop an active probe capability
   for performance monitoring within the Internet.  However, they all
   fundamentally boil down to the single issue of control.  As discussed
   at length in the IPPM framework document [2], if you do not control
   the nature of the traffic generation, then you do not control the
   sampling and hence you do not control the quality of the respective
   statistics.  It is important to control the timing of the packet
   generation to ensure the quality of the statistic (i.e., the random
   nature of the underlying sample).  It is important to control the
   path of the test packets (at least the source and destination) to
   ensure that enough measurements are taken over the path in order to
   accurately identify the quality of the path.  It is important to
   control the 'size' of the transactions to ensure that the
   measurements are relevant to the metric, e.g., throughput statistics
   should be based upon measurements with large files.

   The utility of active probe capabilities will be found in:

      + troubleshooting paths - a pingMIB [4] identifies that
      connectivity exists but additional capabilities are required to
      determine the quality of the connectivity,

      + circuit pre-test and turn-up - prior to turning up a capability
      or customer, there is much value in monitoring the quality of
      their path or service prior to putting the customer on-line
      (without the capability of generating probe traffic this can be
      problematic),

      + fault management - allows determination of whether the
      application is operating or not,

      + base lining enhancements - active probes could be used to base-
      line BEFORE and measure AFTER a certain set of QoS or routing
      policies are applied.  This would try to provide an answer to the
      question 'how effective is my proposed policy strategy?'.



Cole, et al.                                                   [Page 5]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      + capacity management - typical capacity management programs
      monitor local, utilization statistics to drive a capacity
      management decision, e.g., upgrade a facility, a CPU, etc.  An
      active probe could be used to monitor complimentary aspects of
      network performance, more akin to an end-to-end metric, whose
      results could drive capacity management decisions as well.  (This
      can be correlated to component level measures and can trigger
      specific capacity upgrades.),

      + Service Level Agreement (SLA) monitoring - because the nature of
      the probe packets used to measure a metric are tightly specified,
      the corresponding statistics will have significance within the
      context of an SLA.

   In the next section we discuss issues of an architectural nature.  We
   follow this with a section on related work, both previous and
   current, within various working groups at the IETF.  Then, we present
   thoughts on Configuration Issues and Implementation Issues.  Finally,
   the rperfman BOF [5] was held at the Adelaide IETF meeting in March
   2000, which addressed the merits of the IETF specifying synthetic
   traffic sources for performance monitoring.  The recommendations of
   that BOF are summarized at the end of this document along which
   proposed work items to follow up on this development.

4. Architectural Considerations

   There are several capabilities required which comprise a performance
   monitoring system.  As discussed in [1], these include traffic
   generation, monitoring or measurement, data reduction and their
   respective control, as well as the various performance monitoring
   applications.  Further, and as discussed throughout this document,
   there are various synchronization control functions necessary, e.g.,
   clock synchronization between synthetic traffic source and sink or
   between synthetic traffic source and the metric monitoring functions.
   These are identified in Figure 1, along with an indication of their
   interrelationship.


                             +----------------+
               +-------------|   Application  |-------------+
               |             +----------------+             |
               |                      |                     |
          +--------------------------------+                |
          |    Synchronization Control     |                |
          +--------------------------------+                |
               |                      |                     |
               V                      V                     V
    +------------------+    +------------------+      +--------------+



Cole, et al.                                                   [Page 6]

Internet Draft           draft-cole-sspm-00.txt                June 2000


    |Traffic Generation|    |Monitoring Metrics|      |Data Reduction|
    |   Control        |    |   Control        |      |  Control     |
    +------------------+    +------------------+      +--------------+
               | ^                    | ^                   | ^
               | |                    | |                   | |
               V |                    V |                   V |
    +------------------+    +------------------+      +---------------+
    |Traffic Generation|    |Monitoring Metrics|      |Data Reduction |
    |   Instrumentation|    |   Instrumentation|  +-->|Instrumentation|
    +------------------+    +------------------+  |   +---------------+
                                                  |           |
                                                  |           |
                                   Various levels |           |
                                     and span     +-----------|
                                                              |
                                                              |
                                                              V
                                                           Reports

               Figure 1: A performance monitoring system



   Related to each defined transport or application service, we
   introduce the concept of a monitoring service, characterized by type
   of service, passive traffic generation method (if relevant), active
   traffic generation method (if relevant), metrics, monitoring and data
   reduction methods.  In this context, a passive probe is an
   implementation of a passive monitoring method.  An active probe is an
   implementation of an active traffic generation along with a passive
   monitoring method.  Such an approach is currently being discussed
   within the context of a passive monitoring capability in the RMON
   working group.  See, for example, [1], [6] and [7].

   One can expand upon this notion beyond performance monitoring.  In
   fact, there are very few pieces of information that one might extract
   from a resource that are only useful for just one purpose, e.g.,
   fault, policy or performance monitoring.  For most of the attributes
   available today, the differences are in the use to which the
   information is put, not the data itself.  It is only after we have
   defined higher-level objects (computed from existing ones) that we
   really have "performance data" or "fault data" or "policy data".
   Thus it should be possible to report basic fault information as well
   as gather performance statistics and policy baselines (see the
   discussion of base lining policies in Section 3.4 above).  For
   instance, at a minimum the detected operational state should be
   reportable with a notification to indicate the transitions.




Cole, et al.                                                   [Page 7]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   Given a monitoring service, a framework can be built that looks
   something like that shown in Figure 2.

   +------------------------------+
   |     policy application       |
   +-----------------+------------+
   |performance app. | fault app. |
   +-----------------+------------+
   |       monitoring software    |
   +------------------------------+
   | central selection,           |
   |         aggregation & stats. |
   +------------------------------+
   | remote selection,            |
   |         aggregation & stats. |
   +------------------------------+
   |     measurement software     |
   +------------------------------+
   |        probe hardware        |
   +------------------------------+

   Figure 2: A framework for a monitoring service


   In the context of performance, fault can be viewed as not performing
   at all and policy data can be obtained by comparing performance data
   from measurements of different networking scenarios.  They should all
   be monitored with the same probes to reduce network traffic.

   Much work within the IETF has addressed various of these capabilities
   (see the discussion in the section below on 'Related Work').
   However, very little work within the IETF addresses the traffic
   generation capabilities for a monitoring service.  In this section we
   focus on the traffic generation capabilities required for an overall
   performance monitoring system.  Further, we discuss various
   architectural issues relating to the generation of 'synthetic
   traffic' for performance monitoring purposes.

   There are various architectural considerations when discussing
   'synthetic traffic sources' ( or active probes) within the context of
   the Internet and it's standards.  These include:

      + the target of the monitoring process, e.g., network transport
      versus server or process,

      + the 'layer' at which the probe functions, e.g., connectivity
      probes versus synthetic applications,




Cole, et al.                                                   [Page 8]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      + configuration - how to setup the behavior of the probe through
      R/W MIB objects for configuring the probe,

      + communication channels to remote probes,

      + the deployment architecture and its relationship to other
      monitoring methods, e.g., passive monitoring devices, and

      + security - related to probe control and generation.

   We consider each of these issues in this section.

   It is envisioned that specific probes/monitoring capabilities are to
   be developed specific to the service being monitored.  When the
   target of the monitoring process is a transport service, then one
   naturally thinks of delay probes, loss probes, throughput and jitter
   probes, etc.  When one thinks of database access services, one
   naturally thinks of various types of application request probes.  We
   will talk of 'network' or 'connection' probes when monitoring
   transport services.  We will speak of 'process-level', 'application-
   level or 'synthetic-application' probes when speaking of monitoring
   applications or a combination of transport and application services
   depending upon the location of the probes.  It may even make sense to
   define an intermediate probe type, e.g., a 'session' probe, for the
   purpose of monitoring some common aspects of the service and
   transport services.

   Examples of 'connection' probes are delay, loss, delay variation,
   jitter, and throughput probes.  Examples of 'synthetic-application'
   probes would be Oracle or SAP transaction probe or HTTP_get request
   probes, etc.  Examples of 'session' probes might be DNS or DHCP
   probes, SIP probes for monitoring aspects of call setup delays, etc.

   The configuration of an active probe ranges from full probe
   programming to a simpler 'control' of a synthetic traffic source.
   Full programming is viewed as providing too much flexibility to a
   remote application and hence is deemed a general security risk.  The
   definition of a capability such as this was deemed dangerous and will
   not be addressed.  Thus, we are left with the 'control' of an active
   traffic source from a remote application.

   The active probes could be developed along the lines of the DISMAN's
   pingMIB [4], i.e., it is defined within the context of a MIB,
   directly accessible through SNMP and resident on a remote device.  It
   could, instead be developed within the framework of the DISMAN's
   scriptMIB [8], where the active probe is an application which is
   distributed to the remote monitoring device and run on that remote
   device.  Within this latter architecture, access to the probe's



Cole, et al.                                                   [Page 9]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   configuration, etc., may be through means other than SNMP and a MIB.

   Depending upon the nature of the probes, some form of communication
   and control may be necessary between the communicating probes
   themselves (in addition to the probe packets).  This is probably best
   addressed through SNMP communication to read/write MIB objects
   controlling the actions of the traffic source.  The traffic stream
   generated by the synthetic source could be sent to a standard or well
   known destination port.  In this case, the read/write MIB objects are
   required only to control the operation of the traffic source.
   However, for certain measurements or metrics, e.g., jitter metric,
   one way delay metric, etc., it may be necessary to invoke certain
   capabilities on the destination as well.  This would require
   read/write MIB objects for the synthetic traffic generation
   destination as well as the source.

   For metrics requiring multiple measurement points, e.g., a one-way
   delay metric requiring cooperation between a transmitter and a
   receiver (as discussed in the previous paragraph), a problem of time
   synchronization between the multiple measurement points exists.
   There are several possible solutions for this problem, some of them
   may be at the level of the application, others may result in
   requirements imposed on devices like support for a network time
   protocol [9] or other clock synchronization methods.

   Various deployment scenarios are feasible, depending upon the
   functionality desired and the allocation of that functionality across
   components.  Clearly, active and passive probes can be implemented as
   either stand-alone devices that sit on the wire, or they can be
   implemented as embedded software within specific network elements or
   clients or server applications.  An architecture can be envisioned
   which combines synthetic sources and passive probes, where the
   synthetic source is designed for the sole purpose of generating
   traffic at particular time points and the sample collection and
   statistical computations occur in already defined passive probes,
   e.g., RMON probes.

   With respect to security considerations, past discussions related to
   active monitoring encountered a certain degree of pessimism, as did
   many other SNMP applications that involved configuration operations.
   However, the recent development of the SNMPv3 [10-14] security model,
   improved this situation, and we are witnessing the increased
   acceptance of SNMP as a 'trusted' and 'secure' protocol.  This
   framework will analyze the issue of security and propose if necessary
   extra measures for ensuring a safe and secure utilization of the
   active monitoring capabilities.

   Several security issues exists, including:



Cole, et al.                                                  [Page 10]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      + the security of the communication between a management
      application and the remote, synthetic traffic source - At a
      minimum, SNMPv3 authentication mechanisms should be considered for
      this aspect of configuration control.  In some scenarios, it may
      be desirable to invoke the encryption capabilities within SNMPv3
      as well.

      + when using application level probes, we need to discuss the
      security of those applications - For instance, we may need to use
      secure protocols within the synthetic traffic streams.  This
      raises the issue that an active probe should actually support the
      security protocols at the highest level of the devices in the
      network, and maybe share the secrets specific to the application.
      Active and passive probes may need to share secrets.  This adds
      another dimension to the already complex problem of monitoring
      secure protocols.

      + there is the potential that the probes for monitoring will be
      perceived as security violations - e.g., port scans.

      + the nature of the communications between the active probes
      themselves - In the event that the control of both the synthetic
      source and destination is required, there are several ways to
      accomplish this level of coordination.  The coordination could be
      left within the jurisdiction of the management application, in
      which case SNMP v3 security mechanisms may be invoked.
      Alternately, this level of coordination may be left to the
      source/destination probes themselves, in which case some secure
      communications protocol is required.

      + spoofing results - potentially disrupting communications, and

      + using the active probes in denial of service attacks.

      Also see the note in Section 10 below on 'Security
      Considerations'.

5. Relationship to Other Work

      Much work has already occurred within the IETF which has a direct
      bearing on the development of active performance probe
      definitions.  This body of work is addressed in various working
      groups over the years.  In this section we focus our attention to
      the work of a) the IPPM working group, b) the DISMAN working
      group, c) the RMON working group, d) the ApplMIB working group,
      and e) the RTFM working group.

5.1 IPPM



Cole, et al.                                                  [Page 11]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      The IPPM working group has defined in detail a set of performance
      metrics, sampling techniques and associated statistics for
      transport-level, or connectivity-level, measurements.  The IPPM
      framework document [2] discusses numerous issues around sampling
      techniques, clock accuracy, resolution and skew, wire time versus
      host time, error analysis, etc.  Much of these are considerations
      for Configuration and Implementation Issues discussed below.  The
      IPPM working group has defined several metrics and their
      associated statistics, including

      + a connectivity metric [15]

      + one-way delay metric [16]

      + one-way loss metric [17]

      + round trip delay and loss metrics [18]

      + delay variation metric [19]

      + a streaming media metric [20]

      + a throughput metric [21] and [22], and

      + others are under development.

   These (or a subset) could form the basis for a set of active,
   connectivity-level, probe types designed for the purpose of
   monitoring the quality of transport services.  A consideration of
   some of these metrics may form a set of work activities and a set of
   early deliverables out of a group developing an active probe
   capability.

5.2 DISMAN

   The DISMAN working group is defining a set of 'active' tools for
   remote management.  Of relevance to this draft are:

      + the pingMIB [4],

      + the DNS Lookup MIB [4],

      + the tracerouteMIB [4],

      + the scriptsMIB [8], and

      + the expressionMIB [23].




Cole, et al.                                                  [Page 12]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   The pingMIB and tracerouteMIB define an active probe capability,
   primarily for the remote determination of path and path connectivity.
   There are some performance related metrics collected from the pingMIB
   and one could conceivably use these measurements for the evaluation
   of a limited set of performance statistics.  But there is a
   fundamental difference in determining connectivity versus determining
   the quality of that connectivity.  However, in the context of
   performance monitoring, a fault can be viewed as not performing at
   all.  Therefore, they should both be monitored with the same probes
   to reduce network traffic.  This was discussed further in the
   Architecture section above.

   The DNS Lookup MIB also includes some probe-like capabilities and
   performance time measurements for the DNS lookup.  This could be used
   to suggest details of a related session-level, active probe.

   Also mentioned in the Architecture section above, the scriptsMIB
   allows a network management application to distribute and manage
   scripts to remote devices.  Conceivably, these scripts could be
   designed to run a set of active probe monitors on remote devices.

5.3 RMON

   The RMON working group has developed a extensive, passive monitoring
   capability defined in [3], [24], ...  Initially, the monitors
   collected statistics at the MAC layer, but has now been extended to
   high-layer statistics.  Higher-layer statistics are identified
   through the definition of a Protocol Directory [3].  The working
   group is recently re-chartered and is now concentrating on, among
   other items, monitoring at the application level.

   The minutes of the Boston interim meeting in January 2000 are a good
   source for information about these ongoing activities in the RMON WG
   [25].  A number of individual drafts exist which discuss a number of
   interesting areas such as:

      + application typing and relevant metrics [6] and [26]

      + transaction level statistics collection and reporting [7] and
      [26]

      + the overall application performance monitoring system's
      capabilities [1]

   Within this context (and discussed within the Architecture Section
   above), the development of an active traffic source for performance
   monitoring fits well within the overall performance monitoring
   architecture being defined within the RMON WG (and discussed within



Cole, et al.                                                  [Page 13]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   [1]).

5.4 ApplMIB

   The ApplMIB working group defined a series of MIBs which monitor
   various aspects of applications, processes and services.

   The System Application MIB [27] describes a basic set of managed
   objects for fault, configuration and performance management of
   applications from a systems perspective.  More specifically, the
   managed objects it defines are restricted to information that can be
   determined from the system itself and which does not require special
   instrumentation within the applications to make the information
   available.

   The Application MIB [28] complements the System Application MIB,
   providing for the management of applications' common attributes which
   could not typically be observed without the cooperation of the
   software being managed. There are attributes which provide
   information on application and communication performance.

   The WWW MIB [29] describes a set of objects for managing networked
   services in the Internet Community, particularly World Wide Web (WWW)
   services. Performance attributes are available for the information
   about each WWW service, each type of request, each type of response
   and top accessed documents.

   In the development of synthetic application-level probes,
   consideration should be given to the relationship of the application
   MIBs to the measurements being performed through a synthetic
   application-level probe.  Similar, cross-indexing issues arise within
   the context of the RMON monitoring and synthetic application-level
   active probes.

5.5 SNMPCONF

   The snmpconf working group will create a Best Current Practices
   document [30] which outlines the most effective methods for using the
   SNMP Framework to accomplish configuration management.  The scope of
   the work will include recommendations for device specific as well as
   network-wide (Policy) configuration.  The group is also chartered to
   write any MIB modules necessary to facilitate configuration
   management, specifically they will write a MIB module which describes
   a network entities capabilities and capacities which can be used by
   management entities making policy decisions at a network level or
   device specific level.

   Currently the snmpconf working group is focused on the SNMP



Cole, et al.                                                  [Page 14]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   Configuration for policy [31].  For synthetic probes there is need to
   have configuration of a) a single probe, b) several probes, c) source
   and destination probes and d) intermediate probes.  In addition, it
   may be necessary to configure any or all of these combinations
   simultaneously.  This work is dependent on someone addressing these
   configurations.  It is hoped that the work of snmpconf will suffice.

5.6 RTFM

   The Realtime Traffic Flow Measurement (RTFM) working group is
   concerned with issues relating to traffic flow measurements, usage
   reporting for network traffic and Internet accounting.  Various
   documents exist which describe requirements [32], traffic flow
   measurement architectures [33], and a traffic flow MIB [34].  The
   work in this group is focused on passive measurements of user
   traffic.  As such, its work is related to the monitoring work within
   the RMON WG.  Fundamentally, their attention has not been concerned
   with methods of active traffic generation.

5.7 Relationship to Other Work: Summary

   In summary, the development of an active traffic generation
   capability primarily for the purpose of performance monitoring should
   draw upon various activities, both past and present within the IETF.
   Redrawing Figure 1 in Figure 3, but now with annotations to the
   various work activities briefly touched upon in this section, is a
   means to position the development of a traffic generation capability
   within the larger context of a performance monitoring system.


                +------------------------------------------+
         +------| Application [script], [expr], [snmpconf],|-----+
         |      |        [pmcaps]                          |     |
         |      +------------------------------------------+     |
         |                         |                             |
      +--------------------------------+                         |
      |    Synchronization Control     |                         |
      +--------------------------------+                         |
         |                         |                             |
         V                         V                             V
   +------------------+  +----------------------+  +-------------------+
   |Traffic Generation|  |Monitoring Metrics    |  |Data Reduction     |
   |   Control [ping] |  |Control [rmon],[ippm],|  |Control [applmib], |
   |                  |  | [applmib],[ping],    |  |[wwwservmib],[expr]|
   +------------------+  +----------------------+  +-------------------+
         | ^                       | ^                           | ^
         | |                       | |                           | |
         V |                       V |                           V |



Cole, et al.                                                  [Page 15]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   +------------------+   +-------------------+       +----------------+
   |Traffic Generation|   |Monitoring Metrics |       |Data Reduction  |
   |   Instrumentation|   |   Instrumentation |   +-->| Instrumentation|
   +------------------+   +-------------------+   |   +----------------+
                                                  |              |
                                                  |              |
                                   Various levels |              |
                                      and span    +--------------|
                                                                 |
                                                                 |
                                                                 V
                                                              Reports

    Figure 3: Coverage for an overall performance monitoring system



6. Configuration Issues

   It is primarily assumed within this memo that the configuration of
   the probes is accessible through a MIB and communications to the
   remote probe is via SNMP.  Other options, exist; one such option was
   briefly discussed above in the Architecture section.

   The remainder of this section focuses on various configuration issues
   surrounding the definition and development of an active traffic
   generation capability.  Here we discuss a) sampling methodologies, b)
   useful probe configuration options, c) statistics, reporting and
   historical data, and d) correlation of results to other measurements.

6.1 Sampling

   Controlling the generation of traffic has numerous advantages as
   discussed above in the Motivation section.  However, in the context
   of performance monitoring, a key advantage is being able to control
   the sampling.  As discussed within the various IPPM documents,
   especially within the IPPM Framework document [2], it is critical to
   the quality of the statistical metric to be able to control the
   sampling.  In particular, a performance monitoring application should
   be able to control the beginning and end of a sampling period, as
   well as the frequency and nature of the sampling within that period.
   The lifetime of the test may be finite or infinite, i.e., the test
   has an on/off switch settable by a management application.  The
   frequency range should be carefully considered.  The frequency may be
   tied to the type of the test probe, e.g., it may be fine for ping to
   have a 1 second retry, but for higher level applications we may not
   want to allow 1 second retries.  Desirable sampling methods would
   include, at a minimum, both deterministic, i.e., generating probe



Cole, et al.                                                  [Page 16]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   traffic at fixed intervals, and Poisson, i.e., generating probes with
   exponentially distributed inter-arrival times.

6.2 Probe Configurations

   The configuration of the specific probes can be quite extensive,
   given all of the potential options.  The options would cover areas
   such as:

      + static, read-only information related to the implementation of
      the active probes and their capabilities,

      + timing and frequency of the probe packets (see Sampling section
      above),

      + data configuration (protocol selection, payload size, data fill,
      etc),

      + protocol options (could include multiple layers of protocol
      processing),

      + path configuration options (source and destination addresses,
      TOS field settings, do not fragment settings, ifNumber, TTL,
      source route, etc.), and

      + link level, quality of service type parameter settings, e.g.,
      priority bit settings, loss priority bit settings, etc.

6.3 Statistics, Data Reduction, Reports and Historical Data

      This section covers the statistics computed locally, the nature of
      the reports generated, and the storage of historical data.
      Reference [7] has a good discussion of a general set of statistics
      to maintain in probes, the complexities involved and the utility
      of the various statistics.  Also, the work of the IPPM working
      group and their specific documents discusses or recommends
      statistics related to the metrics they define.

      As discussed in the Architecture section above, traffic generation
      and performance measurements are separate functions within an
      overall performance monitoring service.  Further, other work is in
      progress which addresses the measurement, data reduction and
      reporting of performance monitoring results, specifically [1], [6]
      and [7].  Therefore, we concern ourselves here with those aspects
      of measurement and data reduction which may, in some sense, be
      unique to an overall performance monitoring service which is
      relying upon active traffic generation.  Specifically, because we
      are controlling the nature and rate of the sampling, it is



Cole, et al.                                                  [Page 17]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      reasonable to expect that the measurement system will be capable
      of maintaining (maybe in an exception condition) the full
      historical data from active probe test periods.  In general,
      measurement systems will perform some level of data reduction to
      minimize the data storage burden.  However, this burden can be
      tightly controlled within a performance management service relying
      on active traffic generation.

6.4 Indexing to Other Measurements

      There will potentially be a great deal of performance related
      information collected across numerous MIBs.  The definition of a
      set of active probes only adds to this data.  Methods are
      available within subsets of this data to cross-correlate results
      through standard indexing tables.  Various MIBs from the Appl
      working group, i.e., [27], [28], and [19], are related through a
      service instance identifier.  To quote [29],

       "The WWW Service MIB interfaces to the Application MIB [28] by
      using the service instance identifier {applSrvIndex} for
      wwwServiceIndex if an applicable instance of applSrvIndex is
      available."

   The discussion and early drafts from the RMON working group, i.e.,
   [6] and [7], discuss the relationship between the metrics of
   application-level and transport-level measurements and their cross-
   indexing.  To quote [7], ....

      "This document is intended to create a general framework for the
      collection and reporting of performance related metrics on traffic
      flows in a network.  The MIB in this document is directly linked
      to the current RMON-2 MIB and uses the Protocol Directory as a key
      component in reporting the layering involved in the traffic
      flows."

   The definition of active probes and their related statistics should
   be defined in such a way that useful cross-correlation of results is
   possible.

   This type of correlation is currently possible for certain
   definitions of "service" in [28].  For instance in Section 6.1 of
   [28] indicates that for long lived services like http and smtp there
   would be instances in the service-level tables.  For finger there may
   not be an entry.  From here we can determine the reference points
   back to system application MIB and determine all of the information
   about the application.

   Clearly, it would be desirable to be able to correlate, e.g., the



Cole, et al.                                                  [Page 18]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   results of a synthetic application probe running on a remote device
   into an application server with the measurements found within the
   applMIB for that same application running on that server.  To take
   this example further, then to correlate the applications-level
   probe's measurements to transport-level measurements and even to the
   individual component level.  This would require the ability to relate
   the path of the probes to the specific components, which may be
   complicated due to asymmetries in routing, load balancing across
   paths and servers, etc.

7. Implementation Issues

   Implementation of active probes and their corresponding measurements
   is a tricky business, as discussed in detail in the body of the IPPM
   WG documents, in particular references [2] and [16].  In this section
   we reinforce some of the discussion in these references in the area
   of measurement accuracy, etc.  Specifically, we discuss a)
   requirements on implementations, b) error analysis statements, and c)
   compliance tests.

7.1 Requirements on Implementations

   There are a number of areas where implementation capabilities can
   affect the quality of the statistical metrics.  These include, but
   are not limited to, items such as clock resolution, and skew, types
   of packet injection process supported, upper and lower bounds on
   packet generation rates, etc.  Although not obvious at the time of
   this writing, it may be desirable to define a set of requirements on
   implementations of synthetic traffic generation devices.  We suspect,
   however, that a better approach is to have an statement from the
   vendors of the various components of an overall performance
   monitoring service presenting an error analysis of their products and
   their respective output.  This is discussed in the following section.

7.2 Error Analysis Statements

   Performance measurements, whether they are based on active or passive
   monitoring, are error prone.  It may make sense to define an error
   analysis statement/methodology so that implementations can clearly
   define their source of errors and hence the accuracy of their
   results.  There is a fair amount of discussion within the IPPM
   framework document [2] surrounding this issue, which should be drawn
   upon extensively.

7.3 Compliance Tests and Statements

   Implementations often surprise their implementers.  For this reason
   it may be useful to define a compliance test covering the nature of



Cole, et al.                                                  [Page 19]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   the traffic generation, as well as the measurement system within an
   overall performance monitoring service.  This could be an activity
   separate from the definition of a traffic generation MIB.

   Further, a statement of the types of synthetic probes supported is
   necessary.  This type of information should reside within a pmcapsMIB
   as being defined within the RMON WG [1].

8. Next Steps

   There are several steps to move this work forward.  A BOF was held in
   Adelaide to discuss this area of work as a potential basis for a
   working group at the IETF.  The discussions during this BOF are
   documented in a set of meeting notes [5].  The broad agreements
   reached during the BOF were succinctly stated by Randy Presuhn in a
   mail message to the disman mailing list on 30 March 2000:

      "The rperfman BOF met for one session in Adelaide on Thursday,
      March 30, 2000.  We covered all the items on the agenda and
      reached broad agreement that the following disposition of the work
      would make sense:

          1) work on the control of active probes appears to belong
             in the rmonmib working group.  It may be helpful
             to limit the scope of such work to the high-level
             control/supervision of such probes, rather than getting
             involved in the low-level programming of their protocol
             interactions.  The rmonmib WG chair will give this topic
             due consideration in planning future activities.

          2) While probe-level data summarization belongs in rmonmib,
             the control of the summarization of information from
             multiple systems is better pursued in disman.  The
             reporting of the summarized information should be
             consistent with the techniques being developed in
             rmon where practical.  The disman WG chair will raise
             this issue in the disman WG as a topic of possible
             future work.

          3) It is believed that snmpconf work will provide
             adequate means to support the coordination of
             probe and data summarization function configuration.
             Those working on this topic will provide feedback into
             the snmpconf work.

      With all of the topic areas either handled by existing WG
      activities or by the above proposed disposition, we agreed that
      there is no need for a new working group nor for a follow-up BOF



Cole, et al.                                                  [Page 20]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      at this time."

   Within this context, we believe that the following work is
   appropriate:

      + Further develop this framework/architecture document defining
      the architecture of an active performance monitoring capability,
      its tradeoffs relative to other potential architectures, and its
      relationship to other, already defined monitoring capabilities.
      Roughly, the idea is that the synthetic sources' capabilities are
      listed in pmcaps MIB [1].  Then this MIB would expand those
      entries with N entries for instances of the actual synthetic
      sources.  Reporting is proposed through the apmMIB [6] and the
      tpmMIB [7].

      + (possibly) Develop a separate security document,

      + Develop a MIB for active probes and another for a usage of that
      MIB for some specific network or application layer synthetic
      sources.

9. Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementers or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.

10. Security Considerations

   This needs a very close examination, probably more than usual.  Some
   security issues are briefly mentioned in the Architecture section
   above, but the issue of security was one of the reasons for this work



Cole, et al.                                                  [Page 21]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   being deferred in the past.  It may be necessary to create a special
   document that deals specifically with the security issues related to
   the development of active, traffic generation MIBs.

11. List of Outstanding Issues

   In writing this document several issues are uncovered that are yet to
   be resolved.  This section summarizes this list of outstanding issues
   in one place.  The intent is to resolve all of these issues prior to
   finalizing this document.

   The list of outstanding issues is as follows:

      + So far the MIB object discussion has focused around the source
      of traffic generation.  There is also a need to configure a
      destination/reflector.  Probably we should have separate R/W
      objects in the MIB for source and destination configuration.  We
      would then need to be able to co-ordinate the configuration of
      these two devices.  Need some more discussion about how this might
      work.  One item to consider is what attributes are needed for one
      way delay and jitter measurements?

      + One proposal is to rely solely on the reporting capabilities
      within the apmMIB [6] and the tpmMIB [7].  However, it may not be
      prudent to limit performance monitoring to only the data in the
      apmMIB and tpmMIB.  For example, there is a need to consider how
      reporting of say 100 one-way delay measurements would happen.
      This type of historical data is not currently available through
      the apmMIB or the tpmMIB.  This area of performance monitoring is
      still up for discussion.

      + How to coordinate with lower level protocol parameters, e.g.,
      link level QOS parameters such as the 802.1 priority levels?
      Could we consider a way to specify link layer information
      generically rather than through specific attributes?  Or should we
      develop specific tables for specific link layers?

      + It is currently planned that the capabilities of the synthetic
      sources are listed through the pmcapsMIB [1].  Then, the synthetic
      sources MIB would expand those entries with N entries for
      instances of the actual sources.  Within this context, there is a
      need to consider indexing to handle the situation where multiple
      managers are configuring the synthetic sources.


12. Acknowledgements

   The authors gratefully acknowledge the contributions and discussions



Cole, et al.                                                  [Page 22]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   they have had with Randy Presuhn of BMC Software, Inc.

13. References:

   [1] Bierman, A., "Performance Measurement Capabilities MIB", <draft-
   ietf-rmonmib-pmcaps-00.txt>, May 2000.

   [2] Paxson, V., Almes, G., Mahdavi, J. and M. Mathis, "Framework for
   IP Performance Metrics", RFC 2330, May 1998.

   [3] Waldbusser, S., "Remote Network Monitoring Management Information
   Base Version 2 using SMIv2", RFC 2021, January 1997.

   [4] White, K., "Definitions of Managed Objects for Remote Ping,
   Traceroute, and Lookup Operations", Internet Draft, <draft-ieft-
   disman-reops-mib-07.txt>, August 1999.

   [5] Bierman, A., "Minutes of rperfman BOF in Adelaide", in an email
   message to the disman and rmon WGs' mailing list on 11 April 2000
   from R. Presuhn.

   [6] Waldbusser, S., "Application performance measurement MIB",
   <draft-ietf-rmonmib-apm-mib-00.txt>, May 2000.

   [7] Dietz, R. "Application Performance Measurement Framework
   Transport Performance Metrics MIB", Internet Draft, <draft-ietf-
   rmonmib-tpm-mib-00.txt>, May 2000.

   [8] Levi, D. and J. Schoenwaelder, "Definitions of Managed Objects
   for the Delegation of Management Scripts", RFC 2592, May 1999.

   [9] Mills, D., "Network Time Protocol (Version 3) Specification,
   Implementation and Analysis", RFC 1305, March 1992.

   [10] Harrington, D., Presuhn, R., and B. Wijnen, "An Architecture for
   Describing SNMP Management Frameworks", RFC 2271, Cabletron Systems,
   Inc., BMC Software, Inc., IBM T. J. Watson Research, January 1998

   [11] Case, J., Harrington D., Presuhn R., and B. Wijnen, "Message
   Processing and Dispatching for the Simple Network Management Protocol
   (SNMP)", RFC 2272, SNMP Research, Inc., Cabletron Systems, Inc., BMC
   Software, Inc., IBM T. J. Watson Research, January 1998.

   [12] Blumenthal, U., and B. Wijnen, "User-based Security Model (USM)
   for version 3 of the Simple Network Management Protocol (SNMPv3)",
   RFC 2274, IBM T. J. Watson Research, January 1998.

   [13] Levi, D., Meyer, P., and B. Stewart, "SNMPv3 Applications", RFC



Cole, et al.                                                  [Page 23]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   2273, SNMP Research, Inc., Secure Computing Corporation, Cisco
   Systems, January 1998

   [14] Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based Access
   Control Model (VACM) for the Simple Network Management Protocol
   (SNMP)", RFC 2275, IBM T. J. Watson Research, BMC Software, Inc.,
   Cisco Systems, Inc., January 1998

   [15] Mahdavi, J. and V. Paxson, "IPPM metrics for Measuring
   Connectivity", RFC 2678, September 1999.

   [16] Almes, G., Kalidindi, S. and M. Zekauskas, "A One-way Delay
   Metric for IPPM", RFC 2679, September 1999.

   [17] Almes, G., Kalidindi, S. and M. Zekauskas, "A One-Way Packet
   Loss Metric for IPPM", Internet Draft, <draft-ietf-ippm-loss-07.txt>,
   May 1999.

   [18] Almes, G., Kalidindi, S. and M. Zekauskas, "A Round-Trip Delay
   Metric for IPPM", RFC 2681, September 1999.

   [19] Chimento, P., "Instantaneous Packet Delay Variation Metric for
   IPPM", Internet Draft, <draft-ietf-ippm-ipdv-04.txt., October 1999.

   [20] Raisanen, V. and G. Grotefeld, "Network Performance Measurement
   for Periodic Streams", Internet Draft, <draft-ietf-ippm-
   npmps-00.txt>, March 2000.

   [21] Mathis, M. and M. Allman, "Empirical Bulk Transfer Capacity",
   Internet Draft, <draft-ietf-ippm-btc-framework-02.txt>, Octobet 1999.

   [22] Mathis, M., "TReno Bulk transfer Capacity", Internet Draft,
   <draft-ietf-ippm-treno-btc-03.txt>, February 1999.

   [23] Stewart, B. and R. Kavasseri, "Distributed Management Expression
   MIB", <draft-ietf-disman-express-mib-11.txt>, February 2000.

   [24] Waldbusser, S., "Remote Network Monitoring Management
   Information Base", RFC 1757, February 1995.

   [25] Meeting minutes from the interim meeting of the RMON working
   group on January 11 and 12, 2000 in Boston, MA.

   [26] Warth, A. and J. McQuaid, "Application Response Time (ART) MIB",
   Internet Draft, <draft-warth-art-mib-01.txt>, October 1999.

   [27] Krupczak, C. and J. Saperia, "Definitions of System-Level
   Managed Objects for Applications", RFC 2287, February 1998.



Cole, et al.                                                  [Page 24]

Internet Draft           draft-cole-sspm-00.txt                June 2000


   [28] Kalbfleisch, C., Krupczak, C., Presuhn, R. and J. Saperia,
   "Application Management MIB", RFC 2564, May 1999.

   [29] Hazewinkel, H., Kalbfleisch, C., and J. Schoenwaelder,
   "Definitions of Managed Objects for WWW Services", RFC 2594, May
   1999.

   [30] MacFadden, M., and J. Saperia, "Configuring Networks and Devices
   with SNMP", Internet Draft, ,draft-ietf-snmpconf-bcp-01.txt., May
   2000.

   [31] Waldbusser, S., Saperia, J., and T. Hongal, "Policy Based
   Management MIB", Internet Draft, <draft-ietf-snmpconf-pm-01.txt>, May
   2000.

   [32] Mills, C., Hirsch, G., and Ruth, G. "Internet Accounting
   Background", RFC 1272, November 1991.

   [33] Browlee, N., Mills, C. and Ruth, G. "Traffic Flow Measurement:
   Architecture", RFC 2063, January 1997.

   [34] Brownlee, N. "Traffic Flow Measurement: Meter MIB", RFC 2064,
   January 1997.


14. Author Information

      Robert G. Cole
      AT&T Laboratories
      Network Design and Performance Analysis Department
      330 Saint John Street, 2nd Floor
      Havre de Grace, MD  21078

      Phone: +1 410-939-8732
      Fax: +1 410-939-8732
      Email: rgcole@att.com


      Russell Dietz
      Apptitude, Inc.
      6330 San Ignacio Ave.
      San Jose, CA 95119

      Phone: + 1 408-574-2256
      Email: rsdietz@apptitude.com


      Carl W. Kalbfleisch



Cole, et al.                                                  [Page 25]

Internet Draft           draft-cole-sspm-00.txt                June 2000


      Verio, Inc.
      1950 Stemmons Freeway
      Suite 2026
      Dallas, TX 75207

      Phone: + 1 214-853-7339
      Fax: +1 214-744-0742
      Email: cwk@verio.net


      Dan Romascanu
      Lucent Technologies
      Atidim Technology Park, bldg. #3
      Tel Aviv, 61131
      Israel

      Phone: +972-3-645-8414
      Fax: +972-3-648-7146
      Email: dromasca@lucent.com

A.  Full Copyright Statement

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.






Cole, et al.                                                  [Page 26]

