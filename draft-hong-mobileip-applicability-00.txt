

   Mobile-IP Working Group                               Yong-Geun Hong 
   Internet Draft                                         Myung-Ki Shin 
   draft-hong-mobileip-applicability-00.txt              Hyoung-Jun Kim 
   Expires: December 2003                                          ETRI 
                                                           Woo-Suck Cha 
                                                            Gi-Hwan Cho 
                                                     Chonbuk University 
    
    
                Considerations of FMIPv6 in 802.11 networks 
             draft-hong-mobileip-applicability-00.txt 
    
    
Status of this Memo 
    
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026.  
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that      
   other groups may also distribute working documents as Internet-Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html. 
    
Abstract 
    
   This document describes the applicability of Fast Handovers for  
   Mobile IPv6 in 802.11 networks. Fast Handovers for Mobile IPv6 
   proposes a set of protocol enhancements to reduce handover latency 
   due to IP protocol operations as small as possible by the help of L2    
   information. 802.11 networks are considered as a popular wireless   
   infrastructure to meet broadband network service requirement in the   
   future. If Fast Handovers for Mobile IPv6 is applied to wireless   
   network, 802.11 might be a practicable target for deployment. At   
   this point some Fast Handover methods for Mobile IPv6 are thought to 
   be directly applicable to 802.11 networks and some others are not. 
    
    
    
    
    
 
 
Hong, et al.            Expires: December 2003                [Page 1] 
             Considerations of FMIPv6 in 802.11 networks    June 2003 
 
 
Table of Contents 
    
   1. Introduction...................................................2 
   2. Terminology....................................................3 
   3. Applicability of FMIPv6 in 802.11 networks.....................4 
      3.1 Layer 2 Handover in 802.11 networks........................4 
          3.1.1 Scan procedure.......................................5 
          3.1.2 Reassociation procedure..............................5 
      3.2 L2 triggers................................................5 
          3.2.1 L2 triggers applicable to FMIPv6.....................5 
          3.2.2 L2 triggers applicable to 802.11 networks............6 
      3.3 Fast handover mechanisms in FMIPv6.........................6 
      3.4 Considerations of the fast handovers in 802.11 networks....7 
   4. Security Considerations........................................8 
   References........................................................8 
   Acknowledgments...................................................8 
   Author's Addresses................................................9 
    
    
1. Introduction 
    
   Fast Handovers for Mobile IPv6 (FMIPv6) [1] describes a set of 
   protocol enhancements to reduce handover latency due to IP protocol 
   operations as small as possible by the help of L2 handover 
   information. FMIPv6 allows a Mobile Node (MN) to keep using its Care 
   of Address (CoA) until it establishes itself as a Mobile IPv6 end-
   point of its New Access Router (NAR) and expeditiously establish a 
   new CoA. 802.11 networks is a popular wireless network nowadays. If 
   the FMIPv6 is applied to wireless network, 802.11 might be a 
   practicable target for deployment. 
    
   The basic idea of FMIPv6 is to set up a routing path (tunnel)    
   between two access routers (so, PAR and NAR) to enable a MN to    
   send and receive IP packets while the MN establishes itself as a 
   Mobile IPv6 end-point. In FMIPv6, L2 triggers by the MN or the 
   network (i.e., PAR or NAR) could be used to establish this tunnel. 
   The anticipation handover initiation of FMIPv6 is significant only 
   whenever these triggers are invoked before a new wireless link is 
   established. If not, the triggers are used for reducing the L3 
   movement detection overhead. Triggers which are used for initiating a 
   handover must have some information to assist the fast handover 
   procedure thereafter. The information could include a link-layer 
   identifier, such as a base station id or BSSID in 802.11 networks. 
    
   In the previous draft of Mobile IPv6 Fast Handover for 802.11 
   Networks [2], the 802.11 handover operations are divided into 6 
   steps : scan, join, authentication, association or reassociation, 
   IAPP operations and sending L2 update frame. In the paper of 
   Empirical Analysis of the IEEE 802.11 MAC Layer Handoff Process [3], 
 
 
Hong, et al.            Expires: December 2003                [Page 2] 
             Considerations of FMIPv6 in 802.11 networks    June 2003 
 
 
   the scan (probe) phase is the dominating component of the overall L2 
   handover delay (the scan phase accounts for more than 90% delay of L2 
   handover). For the efficiency of FMIPv6, it is clear that triggers 
   must be made before or during the scan phase. In 802.11 network 
   environments, if triggers are invoked after the scan phase, so 90% of 
   L2 handover time passed away, these triggers may be few effective to 
   FMIPv6. Even if the MN can invoke triggers during or before the scan 
   phase with a prospective AP, it might be impossible to guarantee that 
   the MN will move to the AP actually. In 802.11 networks, it therefore 
   can not be guaranteed to go ahead the L3 handover before the 
   completion of L2 handover.  
    
   In this draft, when FMIPv6 is applied to 802.11 networks, its 
   applicability is dealt with. With considering the deployment of 
   802.11 networks, some L2 triggers might not be always applicable to 
   FMIPv6 handover. L2-ST and L2-TT might not be applicable, since L2 
   handover in 802.11 networks must be initiated by the MN. L2-MT can be 
   selectively applicable under the particular conditions. On the other 
   hand, L2-LU and L2-LD might be applicable to FMIPv6 in 802.11 
   networks. These are meaningful since they eliminate the L3 movement 
   detection time. 
    
    
2. Terminology 
    
   L2 handover    Layer 2 handover  
        
   L3 handover    Layer 3 handover  
        
   AP             Access Point  
        
   PAP            Previous Access Point  
       
   NAP            New Access Point  
        
   MN             Mobile Node  
        
   PAR            Previous Access Router  
        
   NAR            New Access Router  
        
   RtSolPr        Router Solicitation Proxy  
        
   PrRtAdv        Proxy Router Advertisement  
        
   F-BU           Fast Binding Update  
        
   CoA            Care of Address  
        
 
 
Hong, et al.            Expires: December 2003                [Page 3] 
             Considerations of FMIPv6 in 802.11 networks    June 2003 
 
 
   AAR            Anchor Access Router 
   
   HI             Handover Initiate 
       
   HACK           Handover Acknowledge 
       
   HTT            Handover To Third 
    
    
3. Applicability of FMIPv6 in 802.11 networks 
    
3.1 Layer 2 Handover in 802.11 networks 
    
   L2 handover refers to the mechanism of messages exchanged by AP and    
   MN resulting in a transfer of physical point of network connectivity.    
   Thus L2 handover is a link layer function carried out by at least    
   three participating entries, MN, PAP, and NAP. When a MN moves from    
   its current AP to another AP, there is no standardized method which    
   gets the MN to initiate L2 handover operations. Usually, it is 
   implemented as a result of decaying the signal quality condition on 
   the current AP. That is, when a MN approaches to the border of its    
   current AP's coverage area, the MN repeatedly monitors the link    
   signal quality to the current AP. The signal values are reiteratively    
   compared with a predefined threshold. If the value becomes smaller    
   than the threshold, the MN will initiate L2 handover procedure.    
   Figure 1 depicts the message sequence in 802.11 handover procedure [4, 
   5]. 
    
    
                 MN                                      neighbor APs 
    
         -------------------|----Probe Request ----------->+-----+ 
         ^                  |<------------ Probe Reply-----| AP1 | 
         |                  |                              +-----+ 
         |      Scan        |----Probe Request ----------->+-----+ 
         |    Procedure     |<------------ Probe Reply-----| AP2 | 
         |                  |                              +-----+ 
         |                  |              :                  : 
         v                  |              :                  : 
         -------------------|  (Choose a NAP) 
         ^                  |---Authentication Request --->+-----+ 
         |  Reassociation   |<--- Authentication Reply-----|     | 
         |    Procedure     |                              | New | 
         |                  |---Reassociation Request ---->| AP  | 
         v                  |<--- Reassociation Reply------+-----+ 
         -------------------| 
                                      
                  Figure 1: 802.11 L2 handover operation 
    

 
Hong, et al.            Expires: December 2003                [Page 4] 
             Considerations of FMIPv6 in 802.11 networks    June 2003 
 
 
   L2 handover in 802.11 can be divided into two distinct procedures in    
   the time consuming point of view : scan procedure and reassociation 
   procedure as described below. 
    
3.1.1 Scan procedure 
    
   Whenever L2 handover is initiated, the MN needs to find out a    
   potential AP to be associated with. This is accomplished by a scan    
   procedure which is a MAC layer function. The Scan Procedure consists    
   of the following steps. The MN sends "Probe Request" frames to an    
   assigned channel and listens for "Probe Response" frames from all APs    
   on the channel. These are iterated until all range of channels are 
   scanned. The MN creates a list of APs prioritized by the signal    
   strength of received of "Probe Response" frames. The MN selects an AP 
   as a prospective NAP that has the strongest signal strength among 
   them. 
    
3.1.2 Reassociation procedure 
    
   The MN now attempts to reassociate with the prospective NAP selected 
   during the scan procedure was performed. The reassociation procedure 
   typically involves an authentication and a reassociation with the NAP 
   and requires the following steps to be taken.  
        
   The MN sends an "Authentication Request" frame to the NAP. If the MN    
   has been correctly authenticated by the NAP, the NAP replies with an    
   "Authentication Response" frame to the MN. Upon successful   
   authentication process, the MN sends a "Reassociation Request" frame    
   to the NAP. If the MN has been correctly reassociated, the NAP 
   replies with a "Reassociation Response" frame to the MN. When the MN    
   receives a "Reassociation Response" frame, L2 handover procedure    
   completes.  
        
   Based on L2 handover procedure, L2 triggers are classified and    
   identified whether they are applicable to FMIPv6 and to IEEE    
   802.11 networks respectively. 
    
3.2 L2 triggers 
    
3.2.1 L2 triggers applicable to FMIPv6 
    
   FMIPv6 relies on the existence of generic L2 triggers. Fast handover    
   mechanisms in FMIPv6 make use of the following L2 triggers : L2-MT,    
   L2-ST, L2-TT, L2-LU, L2-LD. These triggers can be classified into    
   two types based on the time of their occurrence. L2-MT, L2-ST and    
   L2-TT may be taken place in the link of the current AP before the   
   new link of a NAP is configured. L2-LU and L2-LD occur after the new    
   link of a NAP is connected and represent the completion of L2 
   handover. These triggers contain the L2 handover information causing 
 
 
Hong, et al.            Expires: December 2003                [Page 5] 
             Considerations of FMIPv6 in 802.11 networks    June 2003 
 
 
   the trigger to be fired, what entities will receive the trigger and 
   some parameters like as the L2 address of entities. 
    
3.2.2 L2 triggers applicable to 802.11 networks 
    
   Note that L2 triggers have to contain the information about the next    
   attachment point where the MN will move to. Particularly, this    
   information is very important to L2-MT, L2-ST, and L2-TT which make   
   use of it to initiate L3 handover procedure before the link of a NAP    
   is connected. Again, 802.11 handover is divided into two procedures :    
   scan procedure, reassociation procedure. Since the information such    
   as the NAP's L2 address is determined after the scan procedure is    
   successfully finished. L2-MT, L2-ST, and L2-TT may be initiated after 
   the scan procedure. But, L2-LU and L-LD may be naturally initiated 
   when the reassociation procedure is successfully finished.   
        
   As a result of an analysis of 802.11 handover procedure, L2-LU and    
   L2-LD can be naturally applicable to 802.11 networks. These triggers 
   are useful since they eliminate the L3 move detection time. However, 
   L2-MT, L2-ST, and L2-TT can not be applicable to 802.11 networks. 
   There are basically two main reasons why they are.  
        
        - First, according to the resulting of an empirical analysis 
          of the IEEE 802.11 MAC Layer Handoff Process described in 
          [3], the scan procedure delay is more than 90% of the 
          overall L2 handover delay. The NAP's L2 information involved 
          by L2 triggers may be acquired after the scan procedure, L2-
          MT, L2-ST, and L2-TT containing the NAP's L2 information can 
          be taken place after scan procedure is performed. Since the 
          scan procedure consumes most all L2 handover delay, these 
          triggers might be few effective to FMIPv6.   
          
        - Seconds, the MN's movement might be influenced by the ping-
          pong effect and the radio conditions, even the 
          authentication or the reassociation between the MN and the 
          prospective NAP may be failed. Therefore, there is no 
          guarantee that the MN will actually move to the NAP selected 
          during the scan procedure. 
 
   Nevertheless, some considerations for applicability of L2-MT are 
   discussed to improve the fast handover in 802.11 networks in section 
   3.4 
    
3.3 Fast handover mechanisms in FMIPv6 
    
   In the anticipation handover initiation described in FMIPv6 [1],    
   the MN or the PAR may initiate a fast handover by sending the 
   protocol messages such as RtSolPr or PrRtAdv. For the mobile-
   initiated anticipated handover, the MN sends a RtSolPr message to the 
 
 
Hong, et al.            Expires: December 2003                [Page 6] 
             Considerations of FMIPv6 in 802.11 networks    June 2003 
 
 
   PAR, but on the other hand, in the case of network-initiated 
   anticipated handover the PAR sends a PrRtAdv message to the MN. The 
   RtSolPr message sent by the MN requests some information the IP 
   address, L2 address and network prefix of the NAR which the MN    
   will move to. The PrRtAdv message sent by the PAR then supplies the    
   information requested by the RtSolPr message to the MN. Once the MN    
   receives the PrRtAdv message from the PAR, the MN responds to the    
   PAR with a F-BU message which is binding to the new CoA. 
     
   In optimization using link-layer assisted features, it describes how 
   the tunnel between the PAR and the NAR could be set up by using L2 
   triggers, without IP signaling messages, so RtSolPr or PrRtAdv. On 
   the other hand, the anticipation handover initiation method is not 
   considering a specific L2 technology. Either the PAR that receives 
   L2-ST or NAR that receives L2-TT initiates a tunnel establishment 
   between PAR and NAR. The tunnel establishment is performed by 
   exchanging HI/HACK messages between them.     
          
   In three party handover, three party handover method occurs when the 
   MN is on the AAR, and moves to PAR, then moves to NAR before 
   completing MIP registration at PAR. Hence PAR that receives L2-ST (or 
   NAR that receives L2-TT) from Layer 2 must inform NAR to contact AAR 
   about changing the radio directed end of the tunnel. So the PAR and 
   NAR exchange a HTT/HI or HACK/HTT pair. Finally the NAR must perform 
   a new tunnel establishment with AAR. When the tunnel re-establishment 
   is successful, the previous tunnel between AAR and PAR is canceled.     
       
   Note that even if FMIPv6 was only considering L2-ST and L2-TT 
   triggers in the optimization using the link-layer assisted features 
   and the three party handover, it would be meaningful to make use of 
   L2-MT trigger if it is helpful to the fast handover in 802.11 
   networks. 
    
3.4 Considerations of the fast handovers in 802.11 networks 
    
   As mentioned earlier, since L2 handover in 802.11 networks is always 
   initiated by MN, L2-ST and L2-TT are not basically applicable. 
   However, L2-MT might be selectively applicable to improve the fast 
   handover in 802.11 networks, in the particular environments that the 
   MN's movement pattern is known ahead, so anticipated, and/or that the 
   radio condition of 802.11 networks is stable, so determinant. The 
   method to anticipate the MN's move direction is out of scope in this 
   document.   
    
   To make use of L2-MT trigger, one possible way is to start the fast 
   handover procedure on deciding the prospective NAP, so finishing the 
   scan procedure. Assuming that the authentication or the reassociation 
   after the fast handover is few possible to be failed in the 
   particular environments, L2-MT must improve the fast handover in 
 
 
Hong, et al.            Expires: December 2003                [Page 7] 
             Considerations of FMIPv6 in 802.11 networks    June 2003 
 
 
   802.11 networks. More aggressively, L2-MT may be triggered on 
   deciding the prospective NAP even during the scan procedure. When the 
   MN meets an AP which has the signal strength over a pre-defined 
   threshold, it assigns the AP as the prospective NAP, and starts the 
   fast handover procedure without concerning the scan procedure 
   thereafter. To do this, the MN must terminate intentionally the scan 
   procedure in 802.11 handover, when it decides the prospective NAP.  
    
   As a result the anticipation handover initiation in FMIPv6 is now 
   applicable in 802.11 networks. A MN received L2-MT sends a RtSolPr 
   message to the PAR, then goes ahead the fast handover procedure.  
    
    
4. Security Considerations 
    
   The security issues are not studied yet. 
    
    
References 
    
   [1] Koodli, R., "Fast Handovers for Mobile IPv6", 
      draft-ietf-mobileip-fast-mipv6-06 (work in progress), March 2003. 
    
   [2] P. McCann, "Mobile IPv6 Fast Handovers for 802.11 Networks", 
       draft-mccann-mobileip-80211fh-01.txt (work in progress),  
       October 2002. 
        
   [3] Mitra, A., Shin, M., and Arbaugh, W., "An empirical Analysis of 
       the IEEE 802.11 MAC Layer Handoff Process", CS-TR-4395, 
       University of Maryland Department of Computer Science,  
       September 2002 
    
   [4] "Wireless LAN Medium Access Control (MAC) and Physical Layer  
       (PHY) Specifications", ANSI/IEEE Std 802.11. 1999 Edition   
    
   [5] Lucent Technologies, "roaming with WaveLAN/IEEE 82.11 WaveLAN"  
       Technical ulletin 021.A, Dec. 1998 
    
    
Acknowledgments 
    
   Thanks to Pete McCann for his pioneering Internet Draft "Mobile IPv6 
   Fast Handovers for 802.11 Networks". Thanks to the authors of "An 
   Empirical Analysis of the IEEE 802.11 MAC Layer Handoff Process" for 
   providing the detailed analysis of the 802.11 handoff process. 
    
    
    

 
 
Hong, et al.            Expires: December 2003                [Page 8] 
                  AR-Based MD and CoA Configuration         June 2003 
 
Author's Addresses 
    
   Yong-Guen Hong 
   ETRI PEC 
   161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea 
   Tel : +82 42 860 6447 
   Fax : +82 42 861 5404 
   E-mail : yghong@etri.re.kr 
    
    
   Myung-Ki Shin 
   ETRI PEC 
   161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea 
   Tel : +82 42 860 4847 
   Fax : +82 42 861 5404 
   E-mail : mkshin@etri.re.kr 
    
   Hyoung-Jun Kim 
   ETRI PEC 
   161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea 
   Tel : +82 42 860 6576 
   Fax : +82 42 861 5404 
   E-mail : khj@etri.re.kr 
    
   Woo-Suck Cha 
   Chonbuk University 
   664-141 Duckjin-Dong Duckjin-Gu Jeonju Jeonbuk 561-756, Korea 
   Tel : +82 63 270 3437 
   Fax : +82 63 270 3403 
   E-mail : wscha@dcs.chonnuk.ac.kr 
    
   Gi-Hwan Cho 
   Chonbuk University 
   664-141 Duckjin-Dong Duckjin-Gu Jeonju Jeonbuk 561-756, Korea 
   Tel : +82 63 270 3437 
   Fax : +82 63 270 3403 
   E-mail : ghcho@dcs.chonnuk.ac.kr 
    












 
 
Hong, et al.            Expires: December 2003                [Page 9] 

