



IPv6 Operations Working Group                                A. Petrescu
Internet-Draft                                          S. Ben Hadj Said
Intended status: Informational                                 CEA, LIST
Expires: September 14, 2017                                 O. Philippot
                                                              T. Vincent
                                                            Greenspector
                                                          March 13, 2017


            Power Consumption of IPv6 vs IPv4 in Smartphone
              draft-petrescu-v6ops-ipv6-power-ipv4-00.txt

Abstract

   This draft documents preliminary results of measuring the power
   consumption of using IPv6 vs using IPv4 on typical applications on a
   smartphone.  The smartphone is connected on a 4G cellular network
   with either an IPv6 connection, or with an IPv4 connection, but not
   both simultaneously.

   The preliminary results expose a roughly 5% increase in power
   consumption on IPv6.  More experiments are planned as future work
   that may confirm or infirm these figures.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 14, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Petrescu, et al.       Expires September 14, 2017               [Page 1]

Internet-Draft               ipv6-power-ipv4                  March 2017


   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Power consumption measurements in smartphone  . . . . . . . .   2
     3.1.  Video streaming use case  . . . . . . . . . . . . . . . .   3
     3.2.  Live video streaming use case . . . . . . . . . . . . . .   4
     3.3.  Web browsing use case . . . . . . . . . . . . . . . . . .   4
     3.4.  File download use case  . . . . . . . . . . . . . . . . .   4
   4.  Future Work . . . . . . . . . . . . . . . . . . . . . . . . .   5
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .   6
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   6
   9.  Normative References  . . . . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   This document describes preliminary measurement results of power
   consumption of IPv6 and IPv4 on a cellular smartphone.

2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

   APN: Access Point Network

3.  Power consumption measurements in smartphone

   We conducted several power consumption in differents use cases.  The
   measurement are done with Greenspector probe.  We used the smartphone
   Huawei mate 8 with an android version 7.  In these tests, we used
   orange SIM card.  The smartphone is able to connect to IPv4, or to
   IPv6 Access Point Networks (APNs) simultaneously, or distinctively.
   In the smartphone, only the 4G connection is active (not 3G).





Petrescu, et al.       Expires September 14, 2017               [Page 2]

Internet-Draft               ipv6-power-ipv4                  March 2017


   The test methodology consist in an automatized test and a probe
   provided by Greenspector.  First, we specify in the automatized test
   which application we want to monitor and for which duration.  Then,
   we trasfer the test and the probe to the smartphone, launch it and
   wait till the end of the test.  The probe generates a JSON file where
   measures are stored.  We take out the JSON files from the smartphone
   and send them to Greenspector server in order to be anlyzed.
   Finally, different metrics (e.g. battery discharge, process CPU,
   network packets, etc.) are shown in a Greenspector webpage (access
   available upon request).  Some of the measurements are graphically
   illustrated in a Digital Object; this object is identified by DOI
   10.13140/RG.2.2.13454.77122.  This Identifier can be resolved by a
   publically available resolver such as dx.doi.org.

   All the measurements presented in this draft are preliminary and may
   change depending on the details of the measurement conditions.

   In order to compare between IPv4 and IPv6 connections in smartphone,
   we considered four use cases: video streaming from YouTube, live
   video streaming (no cache), web browsing and file download.  First,
   we run the test, for each of the four use cases, when the smartphone
   is using 4G connection and IPv4 APN.  Then, we run the same tests
   when the smartphone is using 4G connection and IPv6 APN (distinct
   connection set up; in each one of these connections only IPv4 is
   active, or only IPv6 active).

3.1.  Video streaming use case

   In this use case, we launch a video of 4m44s using Youtube
   application in the smartphone.  We associate the Greenspector probe
   to Youtube application in order to measure the related power
   consumption.  The measurement results (a significant selection) are
   shown in Table Table 1.  As we can see, in same environment and by
   moving from the use of IPv4 to IPv6, the battery discharge is
   increased by around 5%.

              +------------------------+-------------------+
              |       IP version       | Battery discharge |
              +------------------------+-------------------+
              |          IPv4          | 57.61 mAh         |
              |          IPv6          | 60.90 mAh         |
              +------------------------+-------------------+

          Table 1: Power consumption in video streaming use case







Petrescu, et al.       Expires September 14, 2017               [Page 3]

Internet-Draft               ipv6-power-ipv4                  March 2017


3.2.  Live video streaming use case

   In this use case, we launch a live video during 5 minutes using
   Youtube application.  For this use case, we considered the live
   streaming provided by a webcam in Amesterdam.  This webcam can be
   reached either using IPv4 or IPv6 connection
   (https://www.youtube.com/watch?v=Y5N-OM9RT8o).  It was setup in order
   to demonstrate that it is possible to use IPv6 exclusively in the
   production and delivery of a live video stream
   (https://www.terena.org/webcam/).  We associate the Greenspector
   probe to Youtube application in order to measure the related power
   consumption.  The measurement results are shown in Table 2.  We note
   that, in IPv6 network, the streaming of a live video in smartphone
   consumes approximately 3% more than IPv4 network.

              +------------------------+-------------------+
              |       IP version       | Battery discharge |
              +------------------------+-------------------+
              |          IPv4          | 66.11 mAh         |
              |          IPv6          | 67.89 mAh         |
              +------------------------+-------------------+

        Table 2: Power consumption in live video streaming use case

3.3.  Web browsing use case

   In this use case, we launch Chrome application with the URL that can
   be browsed using both of IPv4 and IPv6 connections (e.g.
   http://www.kame.net).  We associate the Greenspector probe to Chrome
   application in order to measure the related power consumption.  The
   measurement results are shown in Table 3.  We note that browsing
   using IPv6 networks discharges the battery approximately 12% more
   than browsing using IPv4 networks.

              +------------------------+-------------------+
              |       IP version       | Battery discharge |
              +------------------------+-------------------+
              |          IPv4          | 3.31 mAh          |
              |          IPv6          | 3.73 mAh          |
              +------------------------+-------------------+

        Table 3: Power consumption in live video streaming use case

3.4.  File download use case

   In this use case,we use the "andFTP" application to download a file
   of 7MBytes.  The "andFTP" is an android application dedicated for
   file transfer.  We associate the Greenspector probe to the andFTP



Petrescu, et al.       Expires September 14, 2017               [Page 4]

Internet-Draft               ipv6-power-ipv4                  March 2017


   application in order to measure the related power consumption.  The
   measurement results are shown in Table 4.  We note that downloading a
   file using IPv6 network discharge the battery approximately 36% more
   than using IPv4 network.

              +------------------------+--------------------+
              |       IP version       | Platform discharge |
              +------------------------+--------------------+
              |          IPv4          | 69.21 mAh          |
              |          IPv6          | 94.15 mAh          |
              +------------------------+--------------------+

        Table 4: Power consumption in live video streaming use case

4.  Future Work

   In the next revisions of this draft, the following topics will have
   to be addressed:

   o  Measure consumption of HTTP2 protocol, compare IPv4 and IPv6.  An
      earlier measurement of HTTP2 is available at
      https://greenspector.com/articles/article-http2-latency-and-
      energy.html

   o  Use other smartphone brand and OS version.

   o  Analyse the wireshark traces to understand whether or not the
      right parameters are used for IPv6.

   o  Use an alias in order to make sure be on same POP, and then try
      with different POPs.

   o  Perform measurements and compare power consumption of WiFi IPv4 vs
      WiFi IPv6.

5.  Security Considerations

   There is a need to explore how much more power consumption (if any)
   is generated by https vs http, with IPv4 and IPv6.

6.  IANA Considerations

   IANA?








Petrescu, et al.       Expires September 14, 2017               [Page 5]

Internet-Draft               ipv6-power-ipv4                  March 2017


7.  Contributors

   Contributors.

8.  Acknowledgements

   This work is supported by the European Celtic-Plus project CONVINcE
   and was partially funded by Finland, France, Sweden and Turkey.

   This work was performed with SIM cards on Orange IPv6 4G cellular
   network deployed in France; Patrick Ainard Simonet.

9.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

Authors' Addresses

   Alexandre Petrescu
   CEA, LIST
   CEA Saclay
   Gif-sur-Yvette , Ile-de-France   91190
   France

   Phone: +33169089223
   Email: Alexandre.Petrescu@cea.fr


   Siwar Ben Hadj Said
   CEA, LIST
   CEA Saclay
   Gif-sur-Yvette , Ile-de-France   91190
   France

   Phone: +33169082939
   Email: Siwar.Benhadjsaid@cea.fr


   Olivier Philippot
   Greenspector
   Loire-Atlantique
   France

   Email: ophilippot@greenspector.com




Petrescu, et al.       Expires September 14, 2017               [Page 6]

Internet-Draft               ipv6-power-ipv4                  March 2017


   Thomas Vincent
   Greenspector
   Loire-Atlantique
   France

   Email: tvincent@greenspector.com













































Petrescu, et al.       Expires September 14, 2017               [Page 7]
