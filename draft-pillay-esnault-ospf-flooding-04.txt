

Network Working Group                               Padma Pillay-Esnault
Internet Draft                                          Juniper Networks
                                                            January 2003
Category: Standards Track
Expires: June 2003                                          


         OSPF Refresh and Flooding Reduction in Stable Topologies

                draft-pillay-esnault-ospf-flooding-04.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
              http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
              http://www.ietf.org/shadow.html.


Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.


1. Abstract

   This document describes extension to the OSPF protocol to eliminate
   or reduce periodic flooding of Link State Advertisements in stable 
   topologies.

   The current behavior of OSPF requires that all LSAs be refreshed
   every 30 minutes regardless of the stability of the network except
   for DoNotAge LSAs. This document proposes to generalize the use of 
   DoNotAge LSAs so as to reduce protocol traffic in stable topologies. 
   
Pillay-Esnault                  Standards Track                 [Page 1]

Internet Draft      OSPF Refresh and Flooding Reduction     January 2003


2. Motivation

   The explosive growth of IP based networks has placed the focus on the 
   scalability of the Interior Gateway Protocols such as OSPF. Networks 
   using OSPF are larger everyday and will continue to expand to 
   accommodate the demand to connect to the Internet or intranets.
   
   Internet Service Providers and users having large networks have 
   noticed non-negligible protocol traffic even when their network 
   topology was stable.

   OSPF requires every LSA to be refreshed every 1800 seconds or else 
   they will expire when they reach 3600 seconds [1].

   This document proposes to overcome the LSA expiration by generalizing
   the use of DoNotAge LSAs. This technique will facilitate OSPF 
   scaling by reducing OSPF traffic overhead in stable topologies.
   
   
3. Changes in the existing implementation.
   
   This enhancement relies heavily on the OSPF Demand Circuit extension.
   The details of the implementation of the DC-bit, DoNotAge bit and 
   the Indication-LSA are specified in "Extending OSPF to Support 
   Demand Circuits" [2].
   
   The Flooding Reduction capable routers will continue to send hellos 
   to their neighbors but will flood their Link State Advertisements
   (LSAs) with the DoNotAge bit set. This will reduce the protocol 
   traffic overhead while allowing changes to be flooded immediately.



















Pillay-Esnault                  Standards Track                 [Page 2]

Internet Draft      OSPF Refresh and Flooding Reduction     January 2003


4. Deployment

4.1 Routers supporting the OSPF Demand Circuit capability.

   All routers supporting OSPF Demand Circuit will be able to 
   interoperate with the routers supporting the flooding reduction. 

   For routers supporting OSPF Demand Circuits but do NOT support the
   new Flooding Reduction capability but have to interoperate with 
   routers having the  Flooding Reduction capability there are two 
   possibilities:

   (1) Demand Circuit is not configured
   In this case, the router older implementation will send its LSAs 
   without the DoNotAge bit set and it will need to refresh its LSAs 
   periodically. It will however receive DoNotAge LSAs from the 
   flooding reduction capable routers and will keep them as such in
   its own database.
  
   (2) Demand Circuit is configured
   All DC routers will set the DoNotAge bit on their own LSAs and will 
   suppress hellos. The flooding reduction capable routers will run as
   DC as well.

4.2 Router not supporting the OSPF Demand Circuit capability.

   For routers that do not support OSPF Demand Circuit Feature have no
   knowledge how to handle DoNotAge LSAs and the LSAs with the DoNotAge
   bit set will appear as expired LSAs in their own database. 

   The DCbitless LSAs must be used here to detect the presence of those 
   routers not supporting the OSPF Demand Circuit and indication LSAs 
   will be use as described in [2] to inform other routers of the
   presence of routers incapable to handling DoNotAge LSAs. In the 
   presence of routers not supporting DC-bit, the Flooding Reduction 
   capable routers must flush all the DoNotAge LSAs and revert to 
   sending normal aging LSAs.


5. Configuration of the Flooding Reduction capable routers    
   
   The implementations of Flooding Reduction capability must provide a
   knob to activate/deactivate the feature and by default it should be
   disabled. It should be also possible to specify a forced periodic
   refresh interval of Link State Advertisements. 

 


Pillay-Esnault                  Standards Track                 [Page 3]

Internet Draft      OSPF Refresh and Flooding Reduction     January 2003


6. Security Considerations

   This memo does not create any new security issues for the OSPF
   protocol. Security considerations for the base OSPF protocol are
   covered in [1].

   
7. Acknowledgments

   The author would like to thank Jean-Michel Esnault, Barry Friedman, 
   Thomas Kramer, Peter Psenak and Henk Smit for their helpful comments 
   on this work.


8. Normative References

   [1] RFC 2328 OSPF Version 2. J. Moy. April 1998.

   [2] RFC 1793 Extending OSPF to Support Demand Circuits. J. Moy. 
   April 1995.


9. Authors' Addresses

   Padma Pillay-Esnault
   Juniper Networks
   1194 N, Mathilda Avenue
   Sunnyvale, CA 94089-1206

   Email: padma@juniper.net



















Pillay-Esnault                  Standards Track                 [Page 4]

Internet Draft      OSPF Refresh and Flooding Reduction     January 2003


IPR Notice

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


Full Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION

Pillay-Esnault                  Standards Track                 [Page 5]

Internet Draft      OSPF Refresh and Flooding Reduction     January 2003



   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."


Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.








































Pillay-Esnault                  Standards Track                 [Page 6]

