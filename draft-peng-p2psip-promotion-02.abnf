PC=Promoting Client             OP=Overloaded Peer
         PC                         OP
          |                          |
          |                          |
          |ProbReq                   |
          |<-------------------------|
          |                          |
          |ProbAns                   |
          |------------------------->|
          |                          |
          |                          |
          |                          |
          |                          |
          |UpdateReq                 |
          |<-------------------------|
          |                          |
          |                          |
          |UpdateAns                 |
          |------------------------->|
          |                          |
          |                          |
          |                          |

DP=Demoting Peer   PPs=Previous Peers    NPs=Next Peers
       DP               PPs                NPs
        |                |                  |
        |                |                  |
        |LeaveReq        |                  |
        |--------------->|                  |
        |                |                  |
        |LeaveReq        |                  |
        |---------------------------------->|
        |                |                  |
        |LeaveAns        |                  |
        |<---------------|                  |
        |                |                  |
        |LeaveAns        |                  |
        |<----------------------------------|
        |                |                  |
        |StoreReq        |                  |
        |---------------------------------->|
        |                |                  |
        |StoreAns        |                  |
        |<----------------------------------|
        |                |                  |
        |UpdateReq       |                  |
        |--------------->|                  |
        |                |                  |
        |UpdateReq       |                  |
        |---------------------------------->|
        |                |                  |
        |UpdateAns       |                  |
        |<---------------|                  |
        |                |                  |
        |UpdateAns       |                  |
        |<----------------------------------|
        |                                   |

DP=Demoting Peer    OP=Overloaded Peer    NPs=Neighboring Peers
      DP                  OP                 NPs
       |                   |                  |
       |                   |                  |
       |ProbReq            |                  |
       |<------------------|                  |
       |                   |                  |
       |LeaveReq           |                  |
       |------------------------------------->|
       |                   |                  |
       |LeaveAns           |                  |
       |<-------------------------------------|
       |                   |                  |
       |ProbAns            |                  |
       |------------------>|                  |
       |                   |                  |
       |UpdateReq          |                  |
       |<------------------|                  |
    +--------------------------------------------+
    |                                            |
    | Date migration and rooting tables update   |
    |                                            |
    +--------------------------------------------+
       |UpdateAns          |                  |
       |------------------>|                  |
       |                   |                  |

