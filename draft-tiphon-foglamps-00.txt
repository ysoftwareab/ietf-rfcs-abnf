
Network Working Group                                         P.A. Mart
Internet Draft                                   Marconi Communications
Document: draft-tiphon-foglamps-00.txt                        P. Sijben
Category: Informational                             Lucent Technologies
                                                             R.P. Swale
                                                                     BT
                                                              June 2000


                     Firewall Control Requirements


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time. It is inappropriate to use Internet- Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


1. Abstract

   This draft describes a set of requirements for a protocol between
   application level entities, acting as proxies, and packet filtering
   devices that implement policies determined by the application. The
   packet filters apply header translation and police flow rates. These
   requirements are considered initially in the context of IP telephony
   but may be extended further.



2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC-2119 [2].





Mart, Sijben and Swale  Expires December 2000                       1

Internet-Draft      Firewall Control Requirements            May 2000


3. Introduction

   The requirements in this memo arise from work in the ETSI Tiphon
   project. The requirements were generated in a context that allows
   the use of both SIP[3]and H.323[4] environments and are not intended
   to reflect the specific requirements of any system.

   A more detailed set of background information for these requirements
   can be found in the document "Compilation of TIPHON contributions on
   the firewall problem"[5].

   The problem to be solved by the protocol is the need to able to pass
   packets from one IP based network under the same administration (an
   Autonomous System, AS) to another, while imposing packet based flow
   control, as required by a session-based application (like IP
   telephony). It seems reasonable to assume that these Autonomous
   Systems protect their internal policies using firewalls.

   The application uses a session control protocol to communicate among
   its entities. This protocol is not terminated on the firewall device
   itself.

   Each application needing packets to flow between autonomous systems
   and hence the firewall should be able to request that flows be
   allowed or disallowed independently of other applications.

   There is an underlying assumption that the firewalls may offer
   Address Translation for media flows.


4. Architecture

   The architecture assumed for the rest of this paper is given below:




              . +-------------+         +-------------+
              . |   Firewall  |         |   Firewall  |
              . |  Controller |         |  Controller |
              . |Application 1|         |Application 2|
              . +-------------+         +-------------+
              .         \                /
              .          \              /  <--- Firewall Control
              .           \            /        Protocol
              .        +-------------------+
        --->  .   ---> |                   | --->
   Packet Flows        |     Firewall      |    Packet Flows
        <---  .   <--- |                   | <---
              .        +-------------------+
     AS 1     .                                 AS 2



Mart, Sijben and Swale  Expires November 2000                       2

Internet-Draft      Firewall Control Requirements            May 2000


5. Requirements to be placed on the Firewall


Multiple Services

   Multiple services need to be supported e.g. Voice over IP, Facsimile
   over IP, Multi-Media over IP.

   This requirement extends to services which control flows and are not
   yet designed. This requirement is intended to provide a general-
   purpose mechanism for Applications to use in traversing NAT like
   devices.

QoS considerations
   The firewall may provide QoS transport facilities for the packet
   flows. For example setting of DS-bytes.

QoS of Flows

   On receipt of a request to allow a flow with a particular flow
   specification the firewall shall indicate whether or not available
   resources allow the flow to be carried.

QoS Flow Enforcement

   Where the firewall has indicated that available resources allow a
   flow to be carried the firewall will enforce the flow specification
   contained in the original request.

QoS Flow Exceptions

   The action to be taken when the flow specification is breached shall
   be determined on a flow by flow basis. A default behaviour that has
   been previously set shall be used by the firewall unless the
   firewall controller specifies a particular behaviour. The default
   behaviour shall be not to permit a flow of packets.


Address Translation capabilities

   The intended Address Translation behaviour is that IP addresses
   within the IP header information may be modified as required by the
   controller, but that addresses appearing elsewhere in packets are
   left unaltered.










Mart, Sijben and Swale  Expires November 2000                       3

Internet-Draft      Firewall Control Requirements            May 2000


Application Signalling

   The firewall shall support the forwarding of signalling received on
   one, or more, appropriate destination address/port combinations to
   appropriate controllers, e.g. a session control entity. Examples of
   such signalling protocols could include SIP, H.323 and RSVP[6].


Flow Topology

   A particular flow may pass through one, two or more firewall devices
   connected in series. Address Translation is possible at any or all
   of the firewall devices. The firewall control devices may be, but
   need not be, different, for each firewall.

Allow Multiple Controllers

   The firewall shall support multiple controllers. Each controller may
   be acting on behalf of one or more applications and no relationship
   between controllers may be assumed by the firewall. An address/port
   tuple may only be under the control of a single controller at any
   particular time


Multiple Uni-cast

   The firewall shall support the duplication of packets conveyed in a
   particular flow such that each copy is sent to a different
   destination address.



6. Requirements to be placed on the Firewall Controller


No assumption of Stand-alone implementation

   The firewall controller shall be capable of implementation on the
   same platform as other functional entities (e.g. a SIP proxy or
   H.323.Gatekeeper)

Physical separation from Firewall

   The firewall controller and the firewall may be some distance apart
   or may be co-located.

Proxy capability

   The firewall controller may act on behalf of other parties i.e.
   behave as a proxy device.




Mart, Sijben and Swale  Expires November 2000                       4

Internet-Draft      Firewall Control Requirements            May 2000


Protocol performance

   The protocol must be designed to support time-constrained operation.
   This may include, amongst other things, the use of short messages
   and minimal messages per operation.

   The protocol must not assume 0 (zero) delay in communication paths.

   The protocol must be able to be used over low speed links.

7. Requirements to be placed on the Firewall Control Protocol


Unsolicited messages

   The protocol needs to support unsolicited messages, for event
   reporting and alarms.

Normal Operations

   The default behaviour shall be to not permit flows of packets.

   An operation is needed to permit a flow, with a given flow
   specification and address translation, across the firewall. It shall
   be possible to indicate whether packets should be carried or
   discarded when a given flow specification is exceeded.

   An operation is needed to stop a flow across the firewall.

   An operation is needed to modify the address translation of an
   existing permitted flow.


8. Security Considerations


   Security issues are covered in the following requirements:

Authentication

   Peers using this protocol must be authenticated in order for message
   exchange to proceed.

   Automatic discovery mechanisms shall not be permitted other than
   between mutually authenticated peers. This in order to prevent
   hacking into the firewall by impersonating a controller.








Mart, Sijben and Swale  Expires November 2000                       5

Internet-Draft      Firewall Control Requirements            May 2000


Encryption

   The protocol must permit the use of strong encryption to protect the
   privacy of requests and responses.

   The protocol must permit the use of strong encryption to ensure the
   trustworthiness of requests and responses to prevent unauthorised
   use.



9. References


   1  Bradner, S., "The Internet Standards Process -- Revision 3", BCP
      9, RFC 2026, October 1996.

   2  Bradner, S., "Key words for use in RFCs to Indicate Requirement
      Levels", BCP 14, RFC 2119, March 1997

   3  SIP: Session Initiation Protocol, Request for Comments: 2543,M.
      Handley, H. Schulzrinne, E. Schooler, J. Rosenberg , IETF March
      1999

   4 "Visual telephone systems and equipment for local area networks
      which provide a non-guaranteed quality of service,"
      Recommendation H.323 version 3, Telecommunication Standardization
      Sector of ITU, Geneva, Switzerland, 2000

   5  ETSI Tiphon meeting 18, Ottawa, May 22-26, Temporary Document
      18TD028r1. R. Swale, BT. See www.etsi.org/tiphon for open access
      to documents.

   6 Resource ReSerVation Protocol (RSVP) -- Version 1 Functional
      Specification. R. Braden, Ed., L. Zhang, S. Berson, S. Herzog, S.
      Jamin. IETF RFC 2205, September 1997.


10.  Acknowledgments

   None













Mart, Sijben and Swale  Expires November 2000                       6

Internet-Draft      Firewall Control Requirements            May 2000


11. Author's Addresses

   Philip Mart
   Marconi Communications Ltd.
   Edge Lane
   Liverpool
   United Kingdom
   Email: philip.mart@marconi.com

   Paul Sijben
   Lucent Technologies NV
   Huizen
   Netherlands
   Email: sijben@lucent.com

   Richard Swale
   BT
   Adastral Park
   Ipswich
   United Kingdom
   mail: richard.swale@bt.com

































Mart, Sijben and Swale  Expires November 2000                       7

Internet-Draft      Firewall Control Requirements            May 2000



Full Copyright Statement

   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into







































Mart, Sijben and Swale  Expires November 2000                       8

