


NETMOD Working Group                                           A. Sharma
Internet-Draft                                                    R. Rao
Intended status: Standards Track                           Infinera Corp
Expires: January 7, 2017                                        X. Zhang
                                                     Huawei Technologies
                                                            July 6, 2016


                            Fault YANG Model
                   draft-sharma-netmod-fault-model-00

Abstract

   This document describes the Fault YANG data model for modeling and
   reporting standing alarm conditions.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 7, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.




Sharma, et al.           Expires January 7, 2017                [Page 1]

Internet-Draft              Fault YANG Model                   July 2016


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Fault YANG Data Model  . . . . . . . . . . . . . . . . . . . .  3
     2.1.  YANG Tree  . . . . . . . . . . . . . . . . . . . . . . . .  4
     2.2.  Fault YANG Model . . . . . . . . . . . . . . . . . . . . .  4
     2.3.  Fault Types YANG Model . . . . . . . . . . . . . . . . . .  8
   3.  Security Considerations  . . . . . . . . . . . . . . . . . . . 11
   4.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 11
   5.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 11
   6.  Normative References . . . . . . . . . . . . . . . . . . . . . 11
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 11







































Sharma, et al.           Expires January 7, 2017                [Page 2]

Internet-Draft              Fault YANG Model                   July 2016


1.  Introduction

   Network devices, controllers, orchestrators, and applications
   generate faults indicating active alarm state on entities.  These
   faults are reported to the northbound systems, which can diagnose and
   take corrective actions to fix these faults.

   Faults raised by various entities in the system are present in the
   fault model in the operational datastore.  New faults are reported to
   the clients using notifications.  On system re-start, faults are
   rediscovered, and the fault model is re-populated in the operational
   datastore.  In some systems, faults once cleared, may get moved to
   historical fault log, which is outside the scope of this document.

   The fault definition is based on existing standards [X.733] [RFC3877]
   and is widely adopted for alarm reporting.  This document provides
   the YANG model for Faults described in the existing standards [X.733]
   [RFC3877].


2.  Fault YANG Data Model

   Note: The Fault YANG Data Model contains the most widely used
   attributes from [X.733].  It is being discussed if this YANG model
   should contain all attributes as defined in [X.733] and [RFC3877].

   The ietf-fault-types YANG model does not currently include all
   probable causes as defined in X.733.  The full list of probable
   causes will be added in the next version of the document.

   New network architectures that include controllers, orchestrators,
   PCE, applications, etc., require new fault types and probable causes
   to be defined.  These new fault types and probable causes will be
   defined in the next version of the model.

















Sharma, et al.           Expires January 7, 2017                [Page 3]

Internet-Draft              Fault YANG Model                   July 2016


2.1.  YANG Tree

   module: ietf-fault
      +--ro faults
         +--ro fault* [fault-id]
            +--ro fault-id             inet:uri
            +--ro (entity-type)?
            |  +--:(id)
            |  |  +--ro entity-id            inet:uri
            |  +--:(name)
            |     +--ro entity-name          string
            +--ro fault-type           identityref
            +--ro probable-cause       identityref
            +--ro fault-time           yang:date-and-time
            +--ro fault-severity       enumeration
            +--ro service-affecting?   boolean
            +--ro additional-text?     string
   notifications:
      +---n fault-event
         +--ro fault-id             inet:uri
         +--ro (entity-type)?
         |  +--:(id)
         |  |  +--ro entity-id            inet:uri
         |  +--:(name)
         |     +--ro entity-name          string
         +--ro fault-type           identityref
         +--ro probable-cause       identityref
         +--ro fault-time           yang:date-and-time
         +--ro fault-severity       enumeration
         +--ro service-affecting?   boolean
         +--ro additional-text?     string

2.2.  Fault YANG Model

   <CODE BEGINS> file "ietf-fault@2016-06-22.yang"

   module ietf-fault {
       namespace "urn:ietf:params:xml:ns:yang:ietf-fault";
       prefix flt;

       import ietf-inet-types { prefix "inet"; }
       import ietf-yang-types { prefix "yang"; }
       import ietf-fault-types { prefix "flt-types"; }

       organization
           "IETF NETMOD (NETCONF Data Modeling Language) Working Group";

       contact



Sharma, et al.           Expires January 7, 2017                [Page 4]

Internet-Draft              Fault YANG Model                   July 2016


           "WG Web: <http://tools.ietf.org/wg/netmod/>
           WG List: <mailto:netmod@ietf.org>

           Editor: Anurag Sharma
                   <mailto:AnSharma@infinera.com>

           Editor: Rajan Rao
                   <mailto:rrao@infinera.com>

           Editor: Xian Zhang
                   <mailto:zhang.xian@huawei.com>";

       description
           "Fault YANG Data Model for Network Topology and Services.";

       revision 2016-06-22 {
           description
                   "Initial revision.";
           reference
                   "TBD";
       }

       grouping fault-entity {
           description
           "Reference to the entity for which the fault is reported.";
           choice entity-type {
               description
               "Entity reference type.";
               case id {
                   leaf entity-id {
                       type inet:uri;
                       mandatory true;
                       description
                       "An identifier for the entity on which the fault
                       is raised. This entity can be in the device,
                       domain controllers, element management systems,
                       or northbound orchestrators. ";
                   }
               }
               case name {
                   leaf entity-name {
                       type string;
                       mandatory true;
                       description
                       "Name for the entity on which the fault is
                       raised. This entity can be in the device,
                       domain controllers, element management systems,
                       or northbound orchestrators. ";



Sharma, et al.           Expires January 7, 2017                [Page 5]

Internet-Draft              Fault YANG Model                   July 2016


                   }
               }
           }
       }

       grouping fault-info-attributes {
           description
                   "Fault Info attributes.";
           leaf fault-id {
               type inet:uri;
               mandatory true;
               description
               "An identifier for the fault. This identifier should be
               chosen such that same fault will always be identified
               using the same identifier.";
           }

           uses fault-entity;

           leaf fault-type {
               type identityref {
                   base flt-types:fault-type;
               }
               mandatory true;
               description
               "This parameter categorizes the fault.";
           }

           leaf probable-cause {
               type identityref {
                   base flt-types:probable-cause-type;
               }
               mandatory true;
               description
               "This parameter defines further qualification as to the
               probable cause of the alarm.";
           }

           leaf fault-time {
               type yang:date-and-time;
               mandatory true;
               description
               "Time that the fault was raised / reported.";
           }

           leaf fault-severity {
               type enumeration {
                   enum Critical {



Sharma, et al.           Expires January 7, 2017                [Page 6]

Internet-Draft              Fault YANG Model                   July 2016


                       description
                       "The Critical severity level indicates that a
                       service affecting condition has occurred and an
                       immediate corrective action is required.";
                   }
                   enum Major {
                           description
                           "The Major severity level indicates that a
                           service affecting condition has developed and
                           an urgent corrective action is required.";
                   }
                   enum Minor {
                           description
                           "The Minor severity level indicates the
                           existence of a non-service affecting fault
                           condition and that corrective action should
                           be taken in order to prevent a more serious
                           (for example, service affecting) fault.";
                   }
                   enum Warning {
                           description
                           "The Warning severity level indicates the
                           detection of a potential or impending service
                           affecting fault, before any significant
                           effects have been felt.";
                   }
                   enum Cleared {
                           description
                           "The Cleared severity level indicates the
                           clearing of one or more previously reported
                           alarms.";
                   }
                   enum Indeterminate {
                           description
                           "The Indeterminate severity level indicates
                           that the severity level cannot be
                           determined.";
                   }
               }
               mandatory true;
               description
               "This parameter indicates the perceived severity level of
               the fault.";
           }

           leaf service-affecting {
               type boolean;
               description



Sharma, et al.           Expires January 7, 2017                [Page 7]

Internet-Draft              Fault YANG Model                   July 2016


               "This parameter indicates if the fault impacts an active
               service. If the fault is service affecting then the value
               is true. If the fault does not affect the service then
               the value is false.";
           }

           leaf additional-text {
               type string;
               description
               "This parameter, when present, allows a free form text
               description to be reported.";
           }
       }

       container faults {
           description
           "Serves as top-level container for list of faults.";
           config "false";
           list fault {
               key "fault-id";
               uses fault-info-attributes;
               description
                   "Describes a fault.";
               reference
                           "ITU Recommendation X.733";
           }
       }

       notification fault-event {
           description
           "Fault Notification.";
           uses fault-info-attributes;
       }
   }


   <CODE ENDS>

2.3.  Fault Types YANG Model

<CODE BEGINS> file "ietf-fault-types@2016-06-22.yang"

module ietf-fault-types {
    yang-version 1;
    namespace "urn:ietf:params:xml:ns:yang:ietf-fault-types";
    prefix flt-types;

    organization



Sharma, et al.           Expires January 7, 2017                [Page 8]

Internet-Draft              Fault YANG Model                   July 2016


        "IETF NETMOD (NETCONF Data Modeling Language) Working Group";

    contact
        "WG Web: <http://tools.ietf.org/wg/netmod/>
        WG List: <mailto:netmod@ietf.org>

        Editor: Anurag Sharma
                <mailto:AnSharma@infinera.com>

        Editor: Rajan Rao
                <mailto:rrao@infinera.com>

        Editor: Xian Zhang
                <mailto:zhang.xian@huawei.com>";

    description
        "This module contains Fault data type definitions.";

    revision 2016-06-22 {
        description
                "Initial revision.";
        reference
                "TBD";
    }

    identity probable-cause-type {
        description
                "Base identity from which specific probable cause types
                are derived.";
    }

    identity LOS {
        base probable-cause-type;
        description
                "Loss of Signal.";
    }

    identity LOF {
        base probable-cause-type;
        description
                "Loss of Frame.";
    }

    identity framing-error {
        base probable-cause-type;
        description
                "Framing error probable fault cause.";
    }



Sharma, et al.           Expires January 7, 2017                [Page 9]

Internet-Draft              Fault YANG Model                   July 2016


    identity fault-type {
        description
                "Base identity from which specific fault types are
                derived.";
    }

    identity communication-fault-type {
        base fault-type;
        description
                "A fault of this type is principally associated with the
                procedures and/or processes required to convey
                information from one point to another.";
        reference "ITU Recommendation X.733";
    }

    identity QoS-fault-type {
        base fault-type;
        description
                "A fault of this type is principally associated with a
                degradation in the quality of a service.";
        reference "ITU Recommendation X.733";
    }

    identity processing-fault-type {
        base fault-type;
        description
                "A fault of this type is principally associated with a
                software or processing fault.";
        reference "ITU Recommendation X.733";
    }

    identity equipment-fault-type {
        base fault-type;
        description
                "A fault of this type is principally associated with an
                equipment fault.";
    }

    identity environmental-fault-type {
        base fault-type;
        description
                "A fault of this type is principally associated with a
                condition relating to an enclosure in which the
                equipment resides.";
    }
}

<CODE ENDS>



Sharma, et al.           Expires January 7, 2017               [Page 10]

Internet-Draft              Fault YANG Model                   July 2016


3.  Security Considerations

   TBD


4.  IANA Considerations

   TBD


5.  Acknowledgements


6.  Normative References

   [RFC3877]  Chisholm, S. and D. Romascanu, "Alarm Management
              Information Base (MIB)", RFC 3877, DOI 10.17487/RFC3877,
              September 2004, <http://www.rfc-editor.org/info/rfc3877>.

   [RFC6020]  Bjorklund, M., Ed., "YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)", RFC 6020,
              DOI 10.17487/RFC6020, October 2010,
              <http://www.rfc-editor.org/info/rfc6020>.

   [X.733]    ITU, ""ITU Recommendation X.733, Information Technology -
              Open Systems Interconnection - System Management: Alarm
              Reporting Function"", 1992.


Authors' Addresses

   Anurag Sharma
   Infinera Corp
   169 Java Drive
   Sunnyvale, CA  94089
   USA

   Phone: +1-408-572-5365
   Email: AnSharma@infinera.com












Sharma, et al.           Expires January 7, 2017               [Page 11]

Internet-Draft              Fault YANG Model                   July 2016


   Rajan Rao
   Infinera Corp
   169 Java Drive
   Sunnyvale, CA  94089
   USA

   Phone: +1-408-543-7755
   Email: rrao@infinera.com


   Xian Zhang
   Huawei Technologies
   F3-5-B R&D Center, Huawei Industrial Base, Bantian, Longgang District
   Shenzhen, Guangdong  518129
   P.R.China

   Email: zhang.xian@huawei.com


































Sharma, et al.           Expires January 7, 2017               [Page 12]

