<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE rfc SYSTEM "rfc2629-xhtml.ent">

<rfc xmlns:xi="http://www.w3.org/2001/XInclude" submissionType="IETF"
     category="std" consensus="true"
     docName="draft-ietf-pce-stateful-pce-auto-bandwidth-12" number="8733"
     ipr="trust200902" obsoletes="" updates="" xml:lang="en" sortRefs="true"
     symRefs="true" tocInclude="true" version="3" tocDepth="4">

  <!-- xml2rfc v2v3 conversion 2.34.0 -->
  <!-- Generated by id2xml 1.5.0 on 2019-10-29T21:33:17Z -->
  <front>
    <title abbrev="Auto-Bandwidth with Stateful PCE">Path Computation Element
    Communication Protocol (PCEP) Extensions for MPLS-TE Label Switched Path (LSP) Auto-Bandwidth Adjustment with Stateful PCE</title>
<seriesInfo name="RFC" value="8733"/>

    <author fullname="Dhruv Dhody" initials="D." role="editor" surname="Dhody">
      <organization>Huawei Technologies</organization>
      <address>
        <postal>
          <street>Divyashree Techno Park, Whitefield</street>
	  <city>Bangalore</city><region>Karnataka</region><code>560066</code>
          <country>India</country>
        </postal>
        <email>dhruv.ietf@gmail.com</email>
      </address>
    </author>

    <author fullname="Rakesh Gandhi" initials="R." role="editor" surname="Gandhi">
      <organization>Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <country>Canada</country>
        </postal>
        <email>rgandhi@cisco.com</email>
      </address>
    </author>

    <author fullname="Udayasree Palle" initials="U." surname="Palle">
      <organization>Individual Contributor</organization>
      <address>
        <email>udayasreereddy@gmail.com</email>
      </address>
    </author>

    <author fullname="Ravi Singh" initials="R." surname="Singh">
      <organization>Individual Contributor</organization>
      <address>
        <email>ravi.singh.ietf@gmail.com</email>
      </address>
    </author>

    <author fullname="Luyuan Fang" initials="L." surname="Fang">
      <organization>Expedia Group, Inc.</organization>
      <address>
        <postal>
          <country>United States of America</country>
        </postal>
        <email>luyuanf@gmail.com</email>
      </address>
    </author>

    <date month="February" year="2020"/>
    <workgroup>PCE Working Group</workgroup>

<keyword>Bandwidth optimization</keyword>
<keyword>PCEP Overwhelm</keyword>
<keyword>LSP re-optimization</keyword>

    <abstract>
      <t>
   The Path Computation Element Communication Protocol (PCEP) provides
   mechanisms for Path Computation Elements (PCEs) to perform path
   computations in response to Path Computation Client (PCC) requests.
   Stateful PCE extensions allow stateful control of MPLS-TE Label Switched Paths (LSPs) using PCEP.</t>
      <t>
   The auto-bandwidth feature allows automatic and dynamic
   adjustment of the TE LSP bandwidth reservation based on the volume of
   traffic flowing through the LSP.  This document describes PCEP
   extensions for auto-bandwidth adjustment when employing an
   active stateful PCE for both PCE-initiated and PCC-initiated LSPs.</t>
    </abstract>
  </front>
  <middle>
    <section anchor="sect-1" numbered="true" toc="default">
      <name>Introduction</name>
      <t>
   <xref target="RFC5440" format="default"/> describes the Path Computation Element Protocol (PCEP) as a
   communication mechanism between a Path Computation Client (PCC) and a
   Path Computation Element (PCE), or between a PCE and a PCE, that enables
   computation of MPLS-TE Label Switched Paths (LSPs).</t>
      <t>
   <xref target="RFC8231" format="default"/> specifies extensions to PCEP to enable stateful control of
   MPLS-TE LSPs.  It describes two modes of operation: passive stateful
   PCE and active stateful PCE.  Further, <xref target="RFC8281" format="default"/> describes the setup,
   maintenance, and teardown of PCE-initiated LSPs for the stateful PCE
   model.  In this document, the focus is on the active stateful PCE, where
   the LSPs are controlled by the PCE.</t>
      <t>
   Over time, based on the varying traffic pattern, an LSP established with a
   certain bandwidth may require adjustment of the bandwidth reserved in the
   network dynamically.  The head-end Label Switching Router (LSR) monitors the
   actual bandwidth demand of the established LSP and periodically computes
   new bandwidth.  The head-end LSR automatically adjusts the bandwidth reservation of the
   LSP based on the computed bandwidth.  This feature, when
   available in the head-end LSR implementation, is
   commonly referred to as auto-bandwidth.  The auto-bandwidth feature is
   described in detail in <xref target="sect-4" format="default"/> of this
      document.</t>
      <t>
   In the model considered in this document, the PCC (head-end of the LSP)
   collects the traffic rate samples flowing through the LSP and calculates
   the new Adjusted Bandwidth.  The PCC reports the calculated bandwidth to be
   adjusted to the PCE.  This is similar to the passive stateful PCE model:
   while the passive stateful PCE uses a path request/reply mechanism, the
   active stateful PCE uses a report/update mechanism.  With a PCE-initiated LSP, the PCC is requested during the LSP initiation to
   monitor and calculate the new Adjusted Bandwidth.  <xref target="RFC8051" format="default"/>
   describes the use case for auto-bandwidth adjustment for passive and active
   stateful PCEs.</t>
      <t>
   Another approach would be to send the measured values themselves to the
   PCE, which is considered out of scope for this document.</t>
      <t>
   This document defines the PCEP extensions needed to support an
   auto-bandwidth feature in an active stateful PCE model where the LSP
   bandwidth to be adjusted is calculated on the PCC (head-end of the
   LSP). The use of PCE to calculate the bandwidth to be adjusted is out of
   scope of this document.</t>
    </section>
    <section anchor="sect-2" numbered="true" toc="default">
      <name>Conventions Used in This Document</name>
      <section anchor="sect-2.1" numbered="true" toc="default">
        <name>Requirements Language</name>
        <t>
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL
    NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP&nbsp;14 <xref target="RFC2119"/> <xref target="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.
        </t>
      </section>
      <section anchor="sect-2.2" numbered="true" toc="default">
        <name>Abbreviations</name>
        <dl newline="false" spacing="normal" indent="9">
          <dt>PCC:</dt>
          <dd> Path Computation Client</dd>
          <dt>PCE:</dt>
          <dd> Path Computation Element</dd>
          <dt>PCEP:</dt>
          <dd> Path Computation Element Communication Protocol</dd>
          <dt>TE:</dt>
          <dd> Traffic Engineering</dd>
	  <dt>LSP:</dt>
	  <dd>Label Switched Path</dd>
        </dl>
      </section>
      <section anchor="sect-2.3" numbered="true" toc="default">
        <name>Terminology</name>
        <t>
   The reader is assumed to be familiar with the terminology defined in
   <xref target="RFC5440" format="default"/>, <xref target="RFC8231" format="default"/>, and <xref target="RFC8281" format="default"/>.</t>
        <t>
   In this document, the PCC is considered to be the head-end LSR of the
   LSP. Other types of PCCs are not in scope.</t>
        <t>
   The following auto-bandwidth terminology is defined in this document.</t>
        <dl newline="false" spacing="normal" indent="3">
          <dt>Maximum Average Bandwidth (MaxAvgBw):</dt>
          <dd>The maximum
	average bandwidth represents the current 'measured' traffic bandwidth
	demand of the LSP during a time interval.  This is the maximum value
	of the traffic bandwidth rate samples (Bandwidth-Samples) in a given
	time interval.
	</dd>
          <dt>Adjusted Bandwidth:</dt>
          <dd>This is the auto-bandwidth
	'computed' bandwidth that is used to adjust the bandwidth reservation
	of the LSP.
	</dd>
          <dt>Sample-Interval:</dt>
          <dd>The periodic time interval at which the
	measured traffic rate of the LSP is collected as a Bandwidth-Sample.
	</dd>
          <dt>Bandwidth-Sample:</dt>
          <dd>The Bandwidth-Sample of the measured
	traffic rate of the LSP collected at every Sample-Interval.
	</dd>
          <dt>Maximum-Bandwidth:</dt>
          <dd>The Maximum-Bandwidth that can be
	reserved for the LSP.
	</dd>
          <dt>Minimum-Bandwidth:</dt>
          <dd>The Minimum-Bandwidth that can be
	reserved for the LSP.
	</dd>
          <dt>Up-Adjustment-Interval:</dt>
          <dd>The periodic time interval at
	which the bandwidth adjustment should be made using the MaxAvgBw when
	MaxAvgBw is greater than the current bandwidth reservation of the LSP.
	</dd>
          <dt>Down-Adjustment-Interval:</dt>
          <dd>The periodic time interval at
	which the bandwidth adjustment should be made using the MaxAvgBw when
	MaxAvgBw is less than the current bandwidth reservation of the LSP.
	</dd>
          <dt>Up-Adjustment-Threshold:</dt>
          <dd>This parameter is used to
	decide when the LSP bandwidth should be adjusted.  If the percentage
	or absolute difference between the current MaxAvgBw and the current
	bandwidth reservation is greater than or equal to the threshold value,
	the LSP bandwidth is adjusted (upsized) to the current bandwidth
	demand (Adjusted Bandwidth) at the Up-Adjustment-Interval expiry.
	</dd>
          <dt>Down-Adjustment-Threshold:</dt>
          <dd>This parameter is used to
	decide when the LSP bandwidth should be adjusted.  If the percentage
	or absolute difference between the current bandwidth reservation and
	the current MaxAvgBw is greater than or equal to the threshold value,
	the LSP bandwidth is adjusted (downsized) to the current bandwidth
	demand (Adjusted Bandwidth) at the Down-Adjustment-Interval expiry.
	</dd>
          <dt>Overflow-Count:</dt>
          <dd>This parameter is used to decide when
	the LSP bandwidth should be adjusted when there is a sudden increase
	in traffic demand.  This value indicates how many times,
	consecutively, that the percentage or absolute difference between the
	current MaxAvgBw and the current bandwidth reservation of the LSP
	needs to be greater than or equal to the Overflow-Threshold value in
	order to meet the overflow condition.
	</dd>
          <dt>Overflow-Threshold:</dt>
          <dd>This parameter is used to decide
	when the LSP bandwidth should be adjusted when there is a sudden
	increase in traffic demand.  If the percentage or absolute difference
	between the current MaxAvgBw and the current bandwidth reservation of
	the LSP is greater than or equal to the threshold value, the overflow
	condition is said to be met.  The LSP bandwidth is adjusted to the
	current bandwidth demand, bypassing the Up-Adjustment-Interval if the
	overflow condition is met consecutively for the Overflow-Count. The
	Overflow-Threshold needs to be greater than or equal to the
	Up-Adjustment-Threshold.
	</dd>
          <dt>Underflow-Count:</dt>
          <dd>This parameter is used to decide when
	the LSP bandwidth should be adjusted when there is a sudden decrease
	in traffic demand.  This value indicates how many times, consecutively,
	that the percentage or absolute difference between the current MaxAvgBw and
	the current bandwidth reservation of the LSP needs to be greater than
	or equal to the Underflow-Threshold value in order to meet the
	underflow condition.
	</dd>
          <dt>Underflow-Threshold:</dt>
          <dd>This parameter is used to decide
	when the LSP bandwidth should be adjusted when there is a sudden
	decrease in traffic demand.  If the percentage or absolute difference
	between the current MaxAvgBw and the current bandwidth reservation of
	the LSP is greater than or equal to the threshold value, the underflow
	condition is said to be met.  The LSP bandwidth is adjusted to the
	current bandwidth demand, bypassing the Down-Adjustment-Interval if the
	underflow condition is met consecutively for the Underflow-Count. The
	Underflow-Threshold needs to be greater than or equal to the
	Down-Adjustment-Threshold.
	</dd>
        <dt>Minimum-Threshold:</dt>

          <dd>When percentage-based thresholds are
	in use, they are accompanied by this Minimum-Threshold, which is used
	to ensure that the magnitude of deviation of the calculated LSP bandwidth
	to be adjusted from the current bandwidth reservations exceeds a
	specific non-percentage-based criterion (represented as an absolute
	bandwidth value) before any adjustments are made. This serves to
	suppress unnecessary auto-bandwidth adjustments and resignaling of
	the LSP at low bandwidth values.
	</dd>
        </dl>
      </section>
    </section>
    <section anchor="sect-3" numbered="true" toc="default">
      <name>Requirements for PCEP Extensions</name>
      <t>
   The PCEP extensions required for auto-bandwidth are summarized in the
   following table as well as in <xref target="ure-overview-of-auto-bandwidth-pcep-extensions" format="default"/>.</t>
      <table anchor="tab-requirements-for-auto-bandwidth-pcep-extensions" align="center">
        <name>Requirements for Auto-Bandwidth PCEP Extensions</name>
        <thead>
          <tr>
            <th align="left">PCC Initiated</th>
            <th align="left">PCE Initiated</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">PCC monitors the traffic and reports the
	    calculated bandwidth to be adjusted to the PCE.</td>

            <td align="left">At the time of initiation, the PCE requests that the PCC monitor the traffic and report the calculated bandwidth to be
	    adjusted to the PCE.</td>
          </tr>
<tr>
<td align="left">
Extension is needed for the PCC to pass on the adjustment
	    parameters at the time of LSP delegation.</td>
<td align="left">
Extension is needed for the PCE to pass on the adjustment
	    parameters at the time of LSP initiation.</td>
</tr>
        </tbody>
      </table>
      <figure anchor="ure-overview-of-auto-bandwidth-pcep-extensions">
        <name>Overview of Auto-Bandwidth PCEP Extensions</name>
        <artwork name="" type="" align="left" alt=""><![CDATA[
                          ----------
                         |          |
                         |   PCE    |
                         |          |
                          ----------
                            |    ^
 AUTO-BANDWIDTH CAPABILITY  |    |  AUTO-BANDWIDTH CAPABILITY
                            |    |
 AUTO-BANDWIDTH ATTRIBUTES  |    |  AUTO-BANDWIDTH ATTRIBUTES
                            |    |  (For Delegated LSPs)
                            |    |
                            |    |  REQUESTED BANDWIDTH
                            v    |
                          ----------
                         |          |
                         |   PCC    |
                         |          |
                          ----------]]></artwork>
      </figure>
      <t>
   A PCEP speaker supporting this document must have a mechanism to advertise
   the auto-bandwidth adjustment capability for both PCC-initiated and
   PCE-initiated LSPs.</t>
      <t>
   Auto-bandwidth deployment considerations for PCEP extensions are
   summarized below:</t>
      <ul spacing="normal">
        <li>It is necessary to identify and inform the
	PCC which LSPs have enabled the auto-bandwidth feature.  Not all LSPs
	in some deployments would like their bandwidth to be dependent on real-time bandwidth usage; for some LSPs, leaving the bandwidth
	constant as set by the operator is preferred.</li>
        <li>In addition, an operator should be able to specify the
	auto-bandwidth adjustment parameters (i.e., configuration knobs) to
	control this feature (e.g., Minimum/Maximum-Bandwidth range).  The PCC
	should be informed about these adjustment parameters.</li>
      </ul>
    </section>
    <section anchor="sect-4" numbered="true" toc="default">
      <name>Architectural Overview</name>
      <section anchor="sect-4.1" numbered="true" toc="default">
        <name>Auto-Bandwidth Overview</name>
        <t>
   The auto-bandwidth feature allows automatic and dynamic adjustment of
   the reserved bandwidth of an LSP over time (i.e., without network
   operator intervention) to accommodate the varying traffic demand of
   the LSP.  If the traffic flowing through the LSP is lower than the
   configured or current reserved bandwidth of the LSP, the extra
   bandwidth is being reserved needlessly and is being wasted.  Conversely,
   if the actual traffic flowing through the LSP is higher than the
   configured or current reserved bandwidth of the LSP, it can
   potentially cause congestion or packet loss in the network.  The
   initial LSP bandwidth can be set to an arbitrary value (including
   zero).  In practice, it can be set to an expected value based on
   design and planning.  The head-end LSR monitors
   the actual traffic flowing through the LSP and uses that information
   to adjust the bandwidth reservation of the LSP in the network.</t>
        <t>
   Bandwidth adjustment must not cause disruption to the traffic flow
   carried by the LSP.  One way to achieve this is to use the
   make-before-break signaling method <xref target="RFC3209" format="default"/>.</t>
      </section>
      <section anchor="sect-4.2" numbered="true" toc="default">
        <name>Auto-Bandwidth Theory of Operation</name>
        <t>
   This section describes the auto-bandwidth feature in a general way.
   When the auto-bandwidth feature is enabled, the measured traffic rate
   is periodically sampled at each Sample-Interval by the PCC when the
   PCC is the head-end node of the LSP.  The Sample-Interval can be
   configured by an operator, with a default value of 5 minutes. A very
   low Sample-Interval could have some undesirable interactions with
   transport protocols (see <xref target="sect-6.6" format="default"/>).</t>
        <t>
   The traffic rate samples are accumulated over the Adjustment-Interval
   period (in the Up or Down direction).  The period can be configured
   by an operator, with a default value of 24 hours. The PCC in charge
   of calculating the bandwidth to be adjusted can decide to adjust the
   bandwidth of the LSP to the highest traffic rate sample (MaxAvgBw)
   amongst the set of Bandwidth-Samples collected over the
   Adjustment-Interval period (in the Up or Down direction) depending on
   the operator policy.</t>
        <t>
   Note that the highest traffic rate sample could be higher or lower
   than the current LSP bandwidth.  The LSP is adjusted (upsized) to the
   current bandwidth demand (MaxAvgBW) only if the difference between the
   current bandwidth demand (MaxAvgBw) and the current bandwidth
   reservation is greater than or equal to the Adjustment-Threshold. The Adjustment-Threshold could be an absolute value or a
   percentage. The threshold can be configured by an operator, with a
   default value of 5 percent. Similarly, if the difference between
   the current bandwidth reservation and the current bandwidth demand
   (MaxAvgBw) is greater than or equal to the Down-Adjustment-Threshold
   (percentage or absolute value), the LSP bandwidth is adjusted
   (downsized) to the current bandwidth demand (MaxAvgBw).  Some LSPs
   are less eventful, while other LSPs may encounter a lot of changes in
   the traffic pattern.  The thresholds and intervals for bandwidth
   adjustment are configured based on the traffic pattern of the LSP.</t>
        <t>
   In order to avoid frequent resignaling, an operator may set a longer
   Adjustment-Interval value (Up and/or Down).  However, a longer
   Adjustment-Interval can result in the undesirable effect of masking
   sudden changes in the traffic demands of an LSP.  To avoid this, the
   auto-bandwidth feature may force the Adjustment-Interval to prematurely
   expire and adjust the LSP bandwidth to accommodate the sudden bursts of
   increase in traffic demand as an overflow condition or decrease in
   traffic demand as an underflow condition.  An operator needs to
   configure appropriate values for the Overflow-Threshold and/or
   Underflow-Threshold parameters, and they do not have default values
   defined in this document.</t>
        <t>
   All thresholds in this document could be represented in both absolute
   value and percentage and could be used together.  This is provided
   to accommodate cases where the LSP bandwidth reservation may
   become very large or very small over time.  For example, an operator
   may use the percentage threshold to handle small to large bandwidth
   values and absolute values to handle very large bandwidth values.
   The auto-bandwidth adjustment is made when either one of the two
   thresholds, the absolute or percentage, is crossed.</t>
        <t>
   When using the (adjustment/overflow/underflow) percentage thresholds,
   if the LSP bandwidth changes rapidly at very low values, it may
   trigger frequent auto-bandwidth adjustments due to the crossing of
   the percentage thresholds.  This can lead to unnecessary resignaling
   of the LSPs in the network.  This is suppressed by setting the
   Minimum-Threshold parameters along with the percentage thresholds.
   The auto-bandwidth adjustment is only made if the LSP bandwidth
   crosses both the percentage threshold and the Minimum-Threshold
   parameters.</t>
      </section>
      <section anchor="sect-4.3" numbered="true" toc="default">
        <name>Scaling Considerations</name>
        <t>
   It should be noted that any bandwidth change requires resignaling of
   an LSP, which can further trigger preemption of lower-priority LSPs
   in the network.  When deployed under scale, this can lead to a
   signaling churn in the network.  The auto-bandwidth application
   algorithm is thus advised to take this into consideration before
   adjusting the LSP bandwidth.  Operators are advised to set the values
   of various auto-bandwidth adjustment parameters appropriate for the
   deployed LSP scale.</t>
        <t>

   If a PCE gets overwhelmed, it can notify the PCC to temporarily
   suspend the reporting of the new LSP bandwidth to be adjusted.  Similarly,
   if a PCC gets overwhelmed due to signaling churn, it can notify the PCE to temporarily suspend
   new LSP setup requests. See <xref target="sect-5.7" format="default"/> of this document.</t>
      </section>
    </section>
    <section anchor="sect-5" numbered="true" toc="default">
      <name>PCEP Extensions</name>
      <section anchor="sect-5.1" numbered="true" toc="default">
        <name>Capability Advertisement</name>
        <t>
   During the PCEP initialization phase, PCEP speakers (PCE or PCC)
   advertise their support of the auto-bandwidth adjustment feature.  A
   PCEP speaker includes the AUTO-BANDWIDTH-CAPABILITY TLV in the OPEN
   object to advertise its support for PCEP auto-bandwidth extensions.
   The presence of the AUTO-BANDWIDTH-CAPABILITY TLV in the OPEN object
   indicates that the auto-bandwidth feature is supported as
   described in this document.</t>
        <ul spacing="normal">
          <li>The PCEP protocol extensions for auto-bandwidth adjustments <bcp14>MUST
      NOT</bcp14> be used if one or both PCEP speakers have not included the
      AUTO-BANDWIDTH-CAPABILITY TLV in their respective OPEN message.</li>
          <li>A PCEP speaker that does not recognize the extensions defined in
      this document would simply ignore the TLVs as per <xref target="RFC5440"
      format="default"/>.</li>
          <li>If a PCEP speaker supports the extensions defined in this
      document but did not advertise this capability, then upon receipt
      of AUTO-BANDWIDTH-ATTRIBUTES TLV in the LSP Attributes (LSPA)
      object, it <bcp14>SHOULD</bcp14> generate a PCErr with Error-Type 19 (Invalid
      Operation) and Error-value 14 (Auto-Bandwidth capability was not
      advertised) and ignore the AUTO-BANDWIDTH-ATTRIBUTES TLV.</li>
        </ul>
        <section anchor="sect-5.1.1" numbered="true" toc="default">
          <name>AUTO-BANDWIDTH-CAPABILITY TLV</name>
          <t>
   The AUTO-BANDWIDTH-CAPABILITY TLV is an optional TLV for use in the
   OPEN Object for auto-bandwidth adjustment via PCEP capability
   advertisement.  Its format is shown in the following figure:</t>
<figure anchor="auto-bandwidth-capability-tlv">
<name>AUTO-BANDWIDTH-CAPABILITY TLV Format</name>
          <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               Type=36         |            Length=4           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             Flag                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
	</figure>
          <t>   
   The TLV Type is 36, and it has a fixed Length of 4 octets.</t>
          <t>
   The value comprises a single field: Flag (32 bits).  No flags are
   defined for this TLV in this document.</t>
          <t>
   Unassigned bits are considered reserved.  They <bcp14>MUST</bcp14> be set to 0 on
   transmission and <bcp14>MUST</bcp14> be ignored on receipt.</t>
          <t>
   Advertisement of the AUTO-BANDWIDTH-CAPABILITY TLV implies support of
   auto-bandwidth adjustment, as well as the objects, TLVs, and
   procedures defined in this document.</t>
        </section>
      </section>
      <section anchor="sect-5.2" numbered="true" toc="default">
        <name>AUTO-BANDWIDTH-ATTRIBUTES TLV</name>
        <t>
   The AUTO-BANDWIDTH-ATTRIBUTES TLV provides the 'configurable knobs'
   of the feature, and it can be included as an optional TLV in the LSPA
   object (as described in <xref target="RFC5440" format="default"/>).</t>
        <t>
   For a PCE-initiated LSP <xref target="RFC8281" format="default"/>, this TLV is included in the LSPA
   object with the PCInitiate message.  For the PCC-initiated delegated
   LSPs, this TLV is carried in the Path Computation State Report (PCRpt) message in the LSPA object.  This
   TLV is also carried in the LSPA object with the Path Computation Update
   Request (PCUpd) message to
   direct the PCC (LSP head-end) to make updates to auto-bandwidth
   attributes such as Adjustment-Interval.</t>
        <t>

   The TLV is encoded in all PCEP messages for the LSP while the
   auto-bandwidth adjustment feature is enabled. The absence of the TLV
   indicates the PCEP speaker wishes to disable the feature.  This TLV
   includes multiple AUTO-BANDWIDTH-ATTRIBUTES sub-TLVs.  The
   AUTO-BANDWIDTH-ATTRIBUTES sub-TLVs are included if there is a change since
   the last information sent in the PCEP message.  The default values for
   missing sub-TLVs apply for the first PCEP message for the LSP.</t>
        <t>
   The format of the AUTO-BANDWIDTH-ATTRIBUTES TLV is shown in the
   following figure:</t>
<figure anchor="AUTO-BANDWIDTH-ATTRIBUTES-TLV">
<name>AUTO-BANDWIDTH-ATTRIBUTES TLV Format</name>
        <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=37             |           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
//                            sub-TLVs                          //
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
        <dl newline="false" spacing="normal" indent="3">
          <dt>Type:</dt>
          <dd>37</dd>
          <dt>Length:</dt>
          <dd>The Length field defines the length of the value
   portion in bytes as per <xref target="RFC5440" format="default"/>.</dd>
          <dt>Value:</dt>
          <dd>This comprises one or more sub-TLVs.</dd>
        </dl>
        <t>
 The following sub-TLVs are defined in this document:</t>

 <table anchor="subTLV" align="left">
   <name>Sub-TLV Types of the AUTO-BANDWIDTH-ATTRIBUTES TLV</name>
        <thead>
          <tr>
<th align="left">Type</th>
            <th align="left">Len</th>
            <th align="left">Name</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">1</td>
            <td align="left">4</td>
            <td align="left">Sample-Interval </td>
          </tr>
          <tr>
            <td align="left">2</td>
            <td align="left">4</td>
            <td align="left">Adjustment-Interval </td>
          </tr>
          <tr>
            <td align="left">3</td>
            <td align="left">4</td>
            <td align="left">Down-Adjustment-Interval </td>
          </tr>
          <tr>
            <td align="left">4</td>
            <td align="left">4</td>
            <td align="left">Adjustment-Threshold </td>
          </tr>
          <tr>
            <td align="left">5</td>
            <td align="left">8</td>
            <td align="left">Adjustment-Threshold-Percentage </td>
          </tr>
          <tr>
            <td align="left">6</td>
            <td align="left">4</td>
            <td align="left">Down-Adjustment-Threshold </td>
          </tr>
          <tr>
            <td align="left">7</td>
            <td align="left">8</td>
            <td align="left">Down-Adjustment-Threshold-Percentage </td>
          </tr>
          <tr>
            <td align="left">8</td>
            <td align="left">4</td>
            <td align="left">Minimum-Bandwidth </td>
          </tr>
          <tr>
            <td align="left">9</td>
            <td align="left">4</td>
            <td align="left">Maximum-Bandwidth </td>
          </tr>
          <tr>
            <td align="left">10</td>
            <td align="left">8</td>
            <td align="left">Overflow-Threshold </td>
          </tr>
          <tr>
            <td align="left">11</td>
            <td align="left">8</td>
            <td align="left">Overflow-Threshold-Percentage </td>
          </tr>
          <tr>
            <td align="left">12</td>
            <td align="left">8</td>
            <td align="left">Underflow-Threshold </td>
          </tr>
          <tr>
            <td align="left">13</td>
            <td align="left">8</td>
            <td align="left">Underflow-Threshold-Percentage </td>
          </tr>
        </tbody>
 </table>
        <t>
   Future specifications can define additional sub-TLVs.</t>
        <t>
   The sub-TLVs are encoded to inform the PCEP peer of the various
   sampling and adjustment parameters.  In the case of a missing sub-TLV, as
   per the local policy, either the default value (as specified in this
   document) or some other operator-configured value is used.</t>
        <t>
   All sub-TLVs are optional, and any unrecognized sub-TLV <bcp14>MUST</bcp14> be
   ignored.  If a sub-TLV of the same type appears more than once, only
   the first occurrence is processed, and all others <bcp14>MUST</bcp14> be ignored.</t>
        <t>
   The following subsections describe the sub-TLVs that  are currently
   defined as being carried within the AUTO-BANDWIDTH-ATTRIBUTES TLV.</t>
        <section anchor="sect-5.2.1" numbered="true" toc="default">
          <name>Sample-Interval Sub-TLV</name>
          <t>
   The Sample-Interval sub-TLV specifies a time interval in seconds in
   which traffic samples are collected at the PCC.</t>
<figure anchor="Sample-Interval-sub-TLV">
<name>Sample-Interval Sub-TLV Format</name>
          <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=1              |           Length=4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Sample-Interval                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
          <t>
      The Type is 1, the Length is 4 octets, and the value comprises the following:</t>
          <dl newline="false" spacing="normal" indent="3">
            <dt>Sample-Interval:</dt>
            <dd>The 4-octet time interval for the Bandwidth-Sample collection.  The valid range is from 1 to 604800 (7
	days), in seconds.  The default value is 300 seconds.  Due care needs
	to be taken in a case with a very low Sample-Interval, as it can have some
	undesirable interactions with transport protocols (see <xref target="sect-6.6" format="default"/>). The Sample-Interval parameter <bcp14>MUST NOT</bcp14> be
	greater than the (down) Adjustment-Interval. In the case in which an invalid
	value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
	previous value will be maintained.</dd>
          </dl>
        </section>
        <section anchor="sect-5.2.2" numbered="true" toc="default">
          <name>Adjustment-Intervals</name>
          <t> The
	sub-TLVs in this section are encoded to inform the PCEP peer of the
	Adjustment-Interval parameters.  The Adjustment-Interval sub-TLV
	specifies the time interval for both upward (Up-Adjustment-Interval)
	and downward (Down-Adjustment-Interval) trends. An implementation <bcp14>MAY</bcp14>
	require that a different Adjustment-Interval value be set when the
	bandwidth usage trend is moving downwards from the one used when it is moving upwards. In
	that case, the operator could use the Down-Adjustment-Interval sub-TLV,
	which overrides the Adjustment-Interval value for
	Down-Adjustment-Interval.</t>
          <section anchor="sect-5.2.2.1" numbered="true" toc="default">
            <name>Adjustment-Interval Sub-TLV</name>
            <t>
	The Adjustment-Interval sub-TLV specifies a time interval in seconds
	in which a bandwidth adjustment should be made in an upward or downward
	direction. This sub-TLV specifies the value for Up-Adjustment-Interval
	and Down-Adjustment-Interval when they are the same and when the
	Down-Adjustment-Interval sub-TLV is not included.</t>
<figure anchor="Adjustment-Interval-sub-TLV">
<name>Adjustment-Interval Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=2              |           Length=4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Adjustment-Interval                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 2, the Length is 4 octets, and the value comprises the following:</t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Adjustment-Interval:</dt>

              <dd>The 4-octet time interval for
      bandwidth adjustments.  The valid range is from 1 to 604800 (7 days), in
      seconds.  The default value is 86400 seconds (1 day).  The
      Adjustment-Interval parameter <bcp14>MUST NOT</bcp14> be less than the Sample-Interval;
      otherwise, the sub-TLV <bcp14>MUST</bcp14> be ignored, and the previous
      value will be
      maintained.</dd>
            </dl>
          </section>
          <section anchor="sect-5.2.2.2" numbered="true" toc="default">
            <name>Down-Adjustment-Interval Sub-TLV</name>
            <t>
   The Down-Adjustment-Interval sub-TLV specifies a time interval in
   seconds in which a bandwidth adjustment should be made when MaxAvgBw is
   less than the current bandwidth reservation of the LSP.  This
   parameter overrides the Adjustment-Interval for the downward trend.
   This sub-TLV is used only when there is a need for different
   Adjustment-Intervals in the upward and downward directions.</t>
<figure anchor="Down-Adjustment-Interval-sub-TLV">
<name>Down-Adjustment-Interval Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=3              |           Length=4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Down-Adjustment-Interval                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 3, the Length is 4 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Down-Adjustment-Interval:</dt>
              <dd>The 4-octet time
	interval for downward bandwidth adjustments. The valid range is from
	1 to 604800 (7 days), in seconds.  The default value equals the
	Adjustment-Interval.  The Down-Adjustment-Interval parameter <bcp14>MUST NOT</bcp14>
	be less than the Sample-Interval; otherwise, the sub-TLV <bcp14>MUST</bcp14> be
	ignored and the previous value will be maintained.</dd>
            </dl>
          </section>
        </section>
        <section anchor="sect-5.2.3" numbered="true" toc="default">
          <name>Adjustment-Thresholds</name>
          <t> The
	sub-TLVs in this section are encoded to inform the PCEP peer of the
	Adjustment-Threshold parameters.  An implementation <bcp14>MAY</bcp14> include both
	sub-TLVs for the absolute value and the percentage, in which case the
	bandwidth is adjusted when either of the Adjustment-Threshold
	conditions are met.  The Adjustment-Threshold sub-TLV specifies the
	threshold for both upward (Up-Adjustment-Threshold) and downward
	(Down-Adjustment-Threshold) trends.  If the operator would like to use
	a different Adjustment-Threshold during the downward trend, the
	Down-Adjustment-Threshold sub-TLV is included.  Similarly, the
	Adjustment-Threshold-Percentage sub-TLV specifies the threshold
	percentage for both upward and downward trends.  If the operator would
	like to use a different Adjustment-Threshold percentage during the
	downward trend, the Down-Adjustment-Threshold-Percentage sub-TLV is
	included.  It is worth noting that regardless of how the thresholds are
	set, the adjustment will not be made until at least one
	Sample-Interval has passed simply because no sample will be made on which to base
	a comparison with a threshold.</t>
          <section anchor="sect-5.2.3.1" numbered="true" toc="default">
            <name>Adjustment-Threshold Sub-TLV</name>
            <t>The Adjustment-Threshold sub-TLV is used to
	decide when the LSP bandwidth should be adjusted in an upward or downward
	direction. This sub-TLV specifies the absolute value for
	Up-Adjustment-Threshold and Down-Adjustment-Threshold when they are
	the same and when the Down-Adjustment-Threshold sub-TLV is not
	included.</t>
<figure anchor="Adjustment-Threshold-sub-TLV">
<name>Adjustment-Threshold Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=4              |           Length=4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Adjustment-Threshold                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t> The Type is 4, the Length is 4 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Adjustment-Threshold:</dt>
              <dd>The absolute Adjustment-Threshold
      bandwidth difference value, encoded in IEEE floating point format (see
      <xref target="IEEE.754.1985" format="default"/>) and expressed in bytes per second.  The
      default Adjustment-Threshold value is not set.  Refer to <xref target="RFC3471" sectionFormat="of" section="3.1.2"/> for a table of commonly used values.</dd>
            </dl>
            <t>
   If the modulus of difference between the current MaxAvgBw and the
   current bandwidth reservation is greater than or equal to the
   threshold value, the LSP bandwidth is adjusted to the current
   bandwidth demand (MaxAvgBw).</t>
   <t>     
   In the case in which an invalid value is present, the sub-TLV
   <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
          <section anchor="sect-5.2.3.2" numbered="true" toc="default">
            <name>Adjustment-Threshold-Percentage Sub-TLV</name>
            <t>The Adjustment-Threshold-Percentage sub-TLV
	is used to decide when the LSP bandwidth should be adjusted in an upward
	or downward direction.  This sub-TLV specifies the percentage value for
	Up-Adjustment-Threshold and Down-Adjustment-Threshold when they are
	the same and when the Down-Adjustment-Threshold-Percentage sub-TLV is not
	included.</t>
<figure anchor="Adjustment-Threshold-Percentage-sub-TLV">
<name>Adjustment-Threshold-Percentage Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=5              |           Length=8            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Reserved                       |  Percentage |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Minimum-Threshold                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 5, the Length is 8 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Reserved:</dt>
              <dd><bcp14>MUST</bcp14> be set to zero on transmission and <bcp14>MUST</bcp14> be
      ignored on receipt.</dd>
              <dt>Percentage:</dt>
              <dd>The Adjustment-Threshold value (7 bits),
      encoded in a percentage (an integer from 1 to 100).  The value 0 is
      considered to be invalid.  The default value is 5 percent.</dd>
              <dt>Minimum-Threshold:</dt>
              <dd>The absolute Minimum-Threshold
      bandwidth value, encoded in IEEE floating point format (see <xref
      target="IEEE.754.1985" format="default"/>) and expressed in bytes per second.  The increase
      or decrease of the LSP bandwidth <bcp14>MUST</bcp14> be at or above the
      Minimum-Threshold before the bandwidth adjustment is made.  The default
      value is 0.</dd>
            </dl>
            <t>
   If the percentage absolute difference between the current MaxAvgBw
   and the current bandwidth reservation is greater than or equal to the
   threshold percentage and the difference in the bandwidth is at or above the Minimum-Threshold, the LSP bandwidth is adjusted to the
   current bandwidth demand (MaxAvgBw).</t>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
          <section anchor="sect-5.2.3.3" numbered="true" toc="default">
            <name>Down-Adjustment-Threshold Sub-TLV</name>
            <t>The Down-Adjustment-Threshold sub-TLV is
	used to decide when the LSP bandwidth should be adjusted when MaxAvgBw
	is less than the current bandwidth reservation.  This parameter
	overrides the Adjustment-Threshold for the downward trend. This
	sub-TLV is used only when there is a need for a different threshold in
	the upward and downward directions.</t>
<figure anchor="Down-Adjustment-Threshold-sub-TLV">
<name>Down-Adjustment-Threshold Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=6              |           Length=4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Down-Adjustment-Threshold                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 6, the Length is 4 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Down-Adjustment-Threshold:</dt>
              <dd>The absolute
      Down-Adjustment-Threshold bandwidth value, encoded in IEEE floating
      point format (see <xref target="IEEE.754.1985" format="default"/>) and expressed in bytes
      per second.  The default value equals the Adjustment-Threshold.  Refer
      to <xref target="RFC3471" sectionFormat="of" section="3.1.2"/> for a table of commonly
      used values.
	</dd>
            </dl>
            <t>
   If the difference between the current bandwidth reservation and the
   current MaxAvgBw is greater than or equal to the threshold value, the
   LSP bandwidth is adjusted to the current bandwidth demand (MaxAvgBw).</t>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
          <section anchor="sect-5.2.3.4" numbered="true" toc="default">
            <name>Down-Adjustment-Threshold-Percentage Sub-TLV</name>
            <t>
   The Down-Adjustment-Threshold-Percentage sub-TLV is used to decide
   when the LSP bandwidth should be adjusted when MaxAvgBw is less than the current bandwidth reservation.  This parameter overrides the
   Adjustment-Threshold-Percentage for the downward trend. This sub-TLV
   is used only when there is a need for a different threshold percentage
   in the upward and downward directions.</t>
<figure anchor="Down-Adjustment-Threshold-Percentage-sub-TLV">
<name>Down-Adjustment-Threshold-Percentage Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=7              |           Length=8            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Reserved                       |  Percentage |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Minimum-Threshold                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 7, the Length is 8 octets, and the value comprises the following:</t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Reserved:</dt>
              <dd><bcp14>MUST</bcp14> be set to zero on transmission and <bcp14>MUST</bcp14>
      be ignored on receipt.</dd>
              <dt>Percentage:</dt>
              <dd>The Down-Adjustment-Threshold value (7 bits),
      encoded in a percentage (an integer from 1 to 100).  The value 0 is
      considered to be invalid.  The default value equals the
      Adjustment-Threshold-Percentage.</dd>
              <dt>Minimum-Threshold:</dt>
              <dd>The absolute Minimum-Threshold
      bandwidth value, encoded in IEEE floating point format (see <xref
      target="IEEE.754.1985" format="default"/>) and expressed in bytes per second.  The decrease
      of the LSP bandwidth <bcp14>MUST</bcp14> be at or above the Minimum-Threshold
      before the bandwidth adjustment is made.  The default value equals the
      Minimum-Threshold for the Adjustment-Threshold-Percentage.</dd>
            </dl>
            <t>
   If the percentage difference between the current bandwidth
   reservation and the current MaxAvgBw is greater than or equal to the
   threshold percentage and the difference in the bandwidth is at or above the Minimum-Threshold, the LSP bandwidth is adjusted to the
   current bandwidth demand (MaxAvgBw).</t>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
        </section>
        <section anchor="sect-5.2.4" numbered="true" toc="default">
          <name>Minimum and Maximum-Bandwidth Values</name>
          <section anchor="sect-5.2.4.1" numbered="true" toc="default">
            <name>Minimum-Bandwidth Sub-TLV</name>
            <t>
   The Minimum-Bandwidth sub-TLV specifies the Minimum-Bandwidth allowed
   for the LSP and is expressed in bytes per second.  The LSP bandwidth
   cannot be adjusted below the Minimum-Bandwidth value.</t>
<figure anchor="Minimum-Bandwidth-sub-TLV">
<name>Minimum-Bandwidth Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=8              |           Length=4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Minimum-Bandwidth                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 8, the Length is 4 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Minimum-Bandwidth:</dt>
              <dd>The 4-octet bandwidth value encoded in
    IEEE floating point format (see <xref target="IEEE.754.1985"
    format="default"/>) and
    expressed in bytes per second.  The default Minimum-Bandwidth value is set
    to 0.  Refer to <xref target="RFC3471" sectionFormat="of"
    section="3.1.2"/> for a table of
    commonly used values.</dd>
            </dl>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
          <section anchor="sect-5.2.4.2" numbered="true" toc="default">
            <name>Maximum-Bandwidth Sub-TLV</name>
            <t>
   The Maximum-Bandwidth sub-TLV specifies the Maximum-Bandwidth allowed
   for the LSP and is expressed in bytes per second.  The LSP bandwidth
   cannot be adjusted above the Maximum-Bandwidth value.</t>
<figure anchor="Maximum-Bandwidth-sub-TLV">
<name>Maximum-Bandwidth Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=9              |           Length=4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Maximum-Bandwidth                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 9, the Length is 4 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Maximum-Bandwidth:</dt>
              <dd>The 4-octet bandwidth value encoded in
      IEEE floating point format (see <xref target="IEEE.754.1985"
      format="default"/>) and expressed in bytes per second.  The default Maximum-Bandwidth value is
      not set.  Refer to <xref target="RFC3471"
      sectionFormat="of" section="3.1.2"/> for a table
      of commonly used values.</dd>
            </dl>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
        </section>
        <section anchor="sect-5.2.5" numbered="true" toc="default">
          <name>Overflow and Underflow Conditions</name>
          <t>
   The sub-TLVs in this section are encoded to inform the PCEP peer of the
   overflow and underflow threshold parameters.  An implementation <bcp14>MAY</bcp14>
   include sub-TLVs for an absolute value and/or a percentage for the
   threshold, in which case the bandwidth is immediately adjusted when
   either of the threshold conditions is met consecutively for the given
   count (as long as the difference in the bandwidth is at or
   above the Minimum-Threshold).  By default, the threshold values for
   overflow and underflow conditions are not set.</t>
          <section anchor="sect-5.2.5.1" numbered="true" toc="default">
            <name>Overflow-Threshold Sub-TLV</name>
            <t>
   The Overflow-Threshold sub-TLV is used to decide if the LSP bandwidth
   should be adjusted immediately.</t>
<figure anchor="Overflow-Threshold-sub-TLV">
<name>Overflow-Threshold Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=10             |           Length=8            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Reserved                      |  Count  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Overflow-Threshold                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 10, the Length is 8 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Reserved:</dt>
              <dd><bcp14>MUST</bcp14> be set to zero on transmission and <bcp14>MUST</bcp14>
       be ignored on receipt.</dd>
              <dt>Count:</dt>

             <dd>The Overflow-Count value (5 bits), encoded in
       an integer.  The value 0 is considered to be invalid.  The number of
       consecutive samples for which the overflow condition <bcp14>MUST</bcp14> be met for
       the LSP bandwidth is to be immediately adjusted to the current bandwidth
       demand, bypassing the (up) Adjustment-Interval.</dd>
              <dt>Overflow-Threshold:</dt>
              <dd> The absolute Overflow-Threshold
       bandwidth value, encoded in IEEE floating point format (see <xref
       target="IEEE.754.1985" format="default"/>) and expressed in bytes per
       second.  Refer to <xref target="RFC3471" sectionFormat="of" section="3.1.2"/> for a table of commonly used
       values.  If the difference between the current MaxAvgBw and the current
       bandwidth reservation is greater than or equal to the threshold value,
       the overflow condition is met.</dd>
            </dl>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
          <section anchor="sect-5.2.5.2" numbered="true" toc="default">
            <name>Overflow-Threshold-Percentage Sub-TLV</name>
            <t>
   The Overflow-Threshold-Percentage sub-TLV is used to decide if the
   LSP bandwidth should be adjusted immediately.</t>
<figure anchor="Overflow-Threshold-Percentage-sub-TLV">
<name>Overflow-Threshold-Percentage Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=11             |           Length=8            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Percentage |             Reserved                  |  Count  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Minimum-Threshold                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 11, the Length is 8 octets, and the value comprises the following:</t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Percentage:</dt>
              <dd>The Overflow-Threshold value (7 bits), encoded
     in a percentage (an integer from 1 to 100).  The value 0 is considered to
     be invalid.  If the percentage increase of the current MaxAvgBw from the
     current bandwidth reservation is greater than or equal to the threshold
     percentage, the overflow condition is met.</dd>
              <dt>Reserved:</dt>
              <dd><bcp14>MUST</bcp14> be set to zero on transmission and <bcp14>MUST</bcp14> be
     ignored on receipt.</dd>
              <dt>Count:</dt>
              <dd>The Overflow-Count value (5 bits), encoded in
     an integer.  The value 0 is considered to be invalid.  The number of
     consecutive samples for which the overflow condition <bcp14>MUST</bcp14> be met for the
     LSP bandwidth is to be immediately adjusted to the current bandwidth demand,
     bypassing the (up) Adjustment-Interval.</dd>
              <dt>Minimum-Threshold:</dt>
              <dd>The absolute Minimum-Threshold
     bandwidth value, encoded in IEEE floating point format (see <xref
     target="IEEE.754.1985" format="default"/>) and expressed in bytes per second.  The increase
     of the LSP bandwidth <bcp14>MUST</bcp14> be at or above the Minimum-Threshold
     before the bandwidth adjustment is made.</dd>
            </dl>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
          <section anchor="sect-5.2.5.3" numbered="true" toc="default">
            <name>Underflow-Threshold Sub-TLV</name>
            <t>
   The Underflow-Threshold sub-TLV is used to decide if the LSP
   bandwidth should be adjusted immediately.</t>
<figure anchor="Underflow-Threshold-sub-TLV">
<name>Underflow-Threshold Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=12             |           Length=8            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Reserved                       |  Count  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Underflow-Threshold                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 12, the Length is 8 octets, and the value comprises the following: </t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Reserved:</dt>
              <dd><bcp14>MUST</bcp14> be set to zero on transmission and <bcp14>MUST</bcp14> be
      ignored on receipt.</dd>
              <dt>Count:</dt>
              <dd> The Underflow-Count value (5 bits), encoded in an integer.
      The value 0 is considered to be invalid.  The number of
      consecutive samples for which the underflow condition <bcp14>MUST</bcp14> be met
      for the LSP bandwidth is to be immediately adjusted to the current
      bandwidth demand, bypassing the Down-Adjustment-Interval.</dd>
              <dt>Underflow-Threshold:</dt>
              <dd> The absolute Underflow-Threshold
      bandwidth value, encoded in IEEE floating point format (see <xref
      target="IEEE.754.1985" format="default"/>) and expressed in bytes per second.  Refer to
      <xref target="RFC3471" sectionFormat="of" section="3.1.2"/> for a table of commonly used
      values.  If the difference between the current MaxAvgBw and the current
      bandwidth reservation is greater than or equal to the threshold value,
      the underflow condition is met.</dd>
            </dl>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
          <section anchor="sect-5.2.5.4" numbered="true" toc="default">
            <name>Underflow-Threshold-Percentage Sub-TLV</name>
            <t>
   The Underflow-Threshold-Percentage sub-TLV is used to decide if the
   LSP bandwidth should be adjusted immediately.</t>
<figure anchor="Underflow-Threshold-Percentage-sub-TLV">
<name>Underflow-Threshold-Percentage Sub-TLV Format</name>
            <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Type=13             |           Length=8            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Percentage |             Reserved                  |  Count  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Minimum-Threshold                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
</figure>
            <t>The Type is 13, the Length is 8 octets, and the value comprises the following:</t>
            <dl newline="false" spacing="normal" indent="3">
              <dt>Percentage:</dt>
              <dd> The Underflow-Threshold value (7 bits),
      encoded in percentage (an integer from 1 to 100).  The value 0 is
      considered to be invalid.  If the percentage decrease of the current
      MaxAvgBw from the current bandwidth reservation is greater than or equal
      to the threshold percentage, the underflow condition is met.</dd>
              <dt>Reserved:</dt>
              <dd><bcp14>MUST</bcp14> be set to zero on transmission and <bcp14>MUST</bcp14> be
      ignored on receipt.</dd>
              <dt>Count:</dt>
              <dd> The Underflow-Count value (5 bits), encoded in an integer.  The value 0 is considered to be invalid.  The number of
      consecutive samples for which the underflow condition <bcp14>MUST</bcp14> be met for
      the LSP bandwidth is to be immediately adjusted to the current bandwidth
      demand, bypassing the Down-Adjustment-Interval.</dd>
              <dt>Minimum-Threshold:</dt>
              <dd> The absolute Minimum-Threshold
      bandwidth value, encoded in IEEE floating point format (see <xref
      target="IEEE.754.1985" format="default"/>) and expressed in bytes per second.  The decrease
      of the LSP bandwidth <bcp14>MUST</bcp14> be at or above the Minimum-Threshold
      before the bandwidth adjustment is made.</dd>
            </dl>
            <t>
   In the case in which an invalid value is present, the sub-TLV <bcp14>MUST</bcp14> be ignored and the
   previous value will be maintained.</t>
          </section>
        </section>
      </section>
      <section anchor="sect-5.3" numbered="true" toc="default">
        <name>BANDWIDTH Object</name>
        <t>
   As per <xref target="RFC5440" format="default"/>, the BANDWIDTH object (Object-Class value 5) is
   defined with two Object-Type values as follows:</t>
        <dl newline="false" spacing="normal" indent="3">
          <dt>Requested Bandwidth:</dt>
          <dd>The BANDWIDTH Object-Type value is
      1.</dd>
          <dt>Reoptimization Bandwidth:</dt>
          <dd>The bandwidth of an existing TE
      LSP for which a reoptimization is requested. The BANDWIDTH Object-Type
      value is 2.</dd>
        </dl>
        <t>
   The PCC reports the calculated bandwidth to be adjusted (MaxAvgBw) to
   the stateful PCE using the existing 'Requested Bandwidth' with the BANDWIDTH Object-Type as 1.  The reporting of the 'reoptimization
   bandwidth' with BANDWIDTH Object-Type as 2 is not required as the
   stateful PCE is aware of the existing LSP bandwidth.</t>
      </section>
      <section anchor="sect-5.4" numbered="true" toc="default">
        <name>The PCInitiate Message</name>
        <t>
   A PCInitiate message is a PCEP message sent by a PCE to a PCC to
   trigger LSP instantiation or deletion <xref target="RFC8281" format="default"/>.</t>
        <t>
   For the PCE-initiated LSP with the auto-bandwidth feature enabled,
   AUTO-BANDWIDTH-ATTRIBUTES TLV <bcp14>MUST</bcp14> be included in the LSPA object with the
   PCInitiate message.</t>
        <t>
   The Routing Backus-Naur Form (RBNF) definition of the PCInitiate
   message <xref target="RFC8281" format="default"/> is unchanged by this document.</t>
      </section>
      <section anchor="sect-5.5" numbered="true" toc="default">
        <name>The PCUpd Message</name>
        <t>
   A PCUpd message is a PCEP message sent by a PCE to a PCC to update
   the LSP parameters <xref target="RFC8231" format="default"/>.</t>
        <t>
   For PCE-initiated LSPs with the auto-bandwidth feature enabled,
   the AUTO-BANDWIDTH-ATTRIBUTES TLV <bcp14>MUST</bcp14> be included in the LSPA object with the
   PCUpd message.  The PCE can send this TLV to direct the PCC to change the
   auto-bandwidth parameters.</t>
        <t>
   The RBNF definition of the PCUpd message <xref target="RFC8231" format="default"/> is unchanged by
   this document.</t>
      </section>
      <section anchor="sect-5.6" numbered="true" toc="default">
        <name>The PCRpt Message</name>
        <t>
   The PCRpt message <xref target="RFC8231" format="default"/> is a PCEP message sent by a PCC to a PCE
   to report the status of one or more LSPs.</t>
        <t>
   For PCE-initiated LSPs <xref target="RFC8281" format="default"/>, the PCC creates the LSP using the
   attributes communicated by the PCE and the local values for
   the unspecified parameters.  After the successful instantiation of
   the LSP, the PCC automatically delegates the LSP to the PCE and generates
   a PCRpt message to provide the status report for the LSP.</t>
        <t>
   For both PCE-initiated and PCC-initiated LSPs, when the LSP is
   delegated to a PCE for the very first time as well as after the
   successful delegation, the BANDWIDTH object of type 1 is used to
   specify the requested bandwidth in the PCRpt message.</t>
        <t>
   The RBNF definition of the PCRpt message <xref target="RFC8231" format="default"/> is unchanged by
   this document.</t>
      </section>
      <section anchor="sect-5.7" numbered="true" toc="default">
        <name>The PCNtf Message</name>
        <t>
   As per <xref target="RFC5440" format="default"/>, the PCEP Notification message (PCNtf) can be sent
   by a PCEP speaker to notify its peer of a specific event.</t>
        <t>
   A PCEP speaker (PCE or PCC) <bcp14>SHOULD</bcp14> notify its PCEP peer (PCC or PCE)
   when it is in an overwhelmed state due to the auto-bandwidth feature.
   An implementation needs to make an attempt to send this notification
   (when overwhelmed by auto-bandwidth adjustments) unless sending this
   notification would only serve to increase the load further. Note that
   when the notification is not received, the PCEP speaker would continue
   to request bandwidth adjustments even when they cannot be handled
   in a timely fashion.</t>
        <t>
   Upon receipt of an auto-bandwidth overwhelm notification, the peer
   <bcp14>SHOULD NOT</bcp14> send any PCEP messages related to auto-bandwidth
   adjustment.  If a PCEP message related to auto-bandwidth adjustment
   is received while in an overwhelmed state, it <bcp14>MUST</bcp14> be ignored.</t>
        <ul spacing="normal">
          <li>When a PCEP speaker is overwhelmed, it
	<bcp14>SHOULD</bcp14> notify its peer by sending a PCNtf message with
	Notification-type = 5 (Auto-Bandwidth Overwhelm State) and
	Notification-value = 1 (Entering Auto-Bandwidth Overwhelm State).
	Optionally, an OVERLOADED-DURATION TLV <xref target="RFC5440" format="default"/> <bcp14>MAY</bcp14> be
	included to specify the time period during which no further PCEP
	messages related to auto-bandwidth adjustment should be sent.</li>
          <li>When the PCEP speaker is no longer in the overwhelm state and is
      available to process the auto-bandwidth adjustments, it <bcp14>SHOULD</bcp14>
      notify its peers by sending a PCNtf message with Notification-type
      = 5 (Auto-Bandwidth Overwhelm State) and Notification-value = 2
      (Clearing Auto-Bandwidth Overwhelm State). A PCEP speaker <bcp14>SHOULD</bcp14>
      send such notification to all peers if a Notification message
      (Notification-type = 5, Notification-value = 1) was sent earlier.
      This message is not sent if an OVERLOADED-DURATION TLV was included and the PCEP
      speakers wishes for the peer to wait for the expiration of that
      period of time before receiving further PCEP messages related to
      auto-bandwidth adjustment.</li>
        </ul>
        <t>
   When the auto-bandwidth feature is deployed, a PCE can send this
   notification to a PCC when it reports frequent auto-bandwidth
   adjustments.  If a PCC is overwhelmed with resignaling, it can also
   notify the PCE to not adjust the LSP bandwidth while in the overwhelm
   state.</t>
        <t>
   Some dampening notification procedure (as per <xref target="RFC5440" format="default"/>) to avoid
   oscillations of the overwhelm state is <bcp14>RECOMMENDED</bcp14>. On receipt of an
   auto-bandwidth overwhelm notification from the PCE, a PCC should
   consider the impact on the entire network. Moving the delegations of
   auto-bandwidth-enabled LSPs to another PCE could cause further
   overloading.</t>
      </section>
    </section>
    <section anchor="sect-6" numbered="true" toc="default">
      <name>Manageability Considerations</name>
      <section anchor="sect-6.1" numbered="true" toc="default">
        <name>Control of Function and Policy</name>
        <t>
   The auto-bandwidth feature <bcp14>SHOULD</bcp14> be controlled on a per-LSP
   basis (at
   the PCC
   (head-end of the LSP) or PCE), and the values for auto-bandwidth
   parameters, e.g., Sample-Interval, Adjustment-Interval (up/down),
   Minimum-Bandwidth, Maximum-Bandwidth, and Adjustment-Threshold (up/down),
   <bcp14>SHOULD</bcp14> be configurable by an operator.</t>
        <t>
   The Maximum-Bandwidth (and Minimum-Bandwidth) should be set to an
	acceptable limit to avoid having an impact on the rest of the MPLS-TE domain.</t>
        <t>
   The operator should make sure that the Overflow-Threshold is greater
   than or at least equal to the Up-Adjustment-Threshold. And similarly,
   it is important to ensure that the Underflow-Threshold is greater than or at least
   equal to the Down-Adjustment-Threshold.</t>
      </section>
      <section anchor="sect-6.2" numbered="true" toc="default">
        <name>Information and Data Models</name>
        <t>
   A MIB module for gathering operational information about the PCEP is
   defined in <xref target="RFC7420" format="default"/>.  Additionally, the YANG module defined in
   <xref target="I-D.ietf-pce-pcep-yang" format="default"/> provides both configuration of PCEP as
   well as operational management.  These could be enhanced to provide
   controls and indicators for support of the auto-bandwidth feature.
   Support for various configuration knobs as well as counters of
   messages sent/received containing the TLVs defined in this document
   could be added.</t>
      </section>
      <section anchor="sect-6.3" numbered="true" toc="default">
        <name>Liveness Detection and Monitoring</name>
        <t>
   The mechanisms defined in this document do not imply any new liveness
   detection and monitoring requirements in addition to those already
   listed in <xref target="RFC5440" format="default"/>.</t>
      </section>
      <section anchor="sect-6.4" numbered="true" toc="default">

        <name>Verifying Correct Operations</name>
        <t>
   The mechanisms defined in this document do not imply any new
   operation verification requirements in addition to those already
   listed in <xref target="RFC5440" format="default"/>.</t>
        <t>
   In the case in which an invalid value is present, the sub-TLV would get ignored and the
   previous value will be maintained. In such a case, the implementation
   <bcp14>SHOULD</bcp14> log the event.</t>
      </section>
      <section anchor="sect-6.5" numbered="true" toc="default">
        <name>Requirements for Other Protocols</name>
        <t>
   The mechanisms defined in this document do not add any new
   requirements for other protocols.</t>
      </section>
      <section anchor="sect-6.6" numbered="true" toc="default">
        <name>Impact on Network Operations</name>
        <t>
   In order to avoid any unacceptable impact on network operations, an
   implementation <bcp14>SHOULD</bcp14> allow a limit to be placed on the number of
   LSPs that can be enabled with the auto-bandwidth feature.  For each LSP
   enabled with the auto-bandwidth feature, there is an extra load on the PCC, as
   it needs to monitor the traffic and report the calculated bandwidth
   to be adjusted to the PCE. The PCE further recomputes paths based on
   the requested bandwidth and updates the path to the PCC, which, in
   turn, triggers the resignaling of the path. All these steps add
   extra load and churn in the network; thus, the operator needs to take
   due care while enabling these features on a number of LSPs.</t>
        <t>
   An implementation <bcp14>MAY</bcp14> allow a limit to be placed on the rate of
   auto-bandwidth-related messages sent by a PCEP speaker and received by a
   peer.  An implementation <bcp14>SHOULD</bcp14> also allow notifications to
   be sent when a PCEP speaker is overwhelmed or when the rate of messages
	reaches a threshold.</t>
        <t>
   Due care is required by the operator if a Sample-Interval value
   significantly smaller than the default (5 minutes) is used, as small
   Sample-Interval values, e.g., 1 minute or less, could cause
   undesirable interactions with transport protocols. These undesirable
   interactions result from providing insufficient time for transport
   protocol reactions to a prior bandwidth adjustment to settle down
   before Bandwidth-Samples are taken for the next bandwidth adjustment.</t>
      </section>
    </section>
    <section anchor="sect-7" numbered="true" toc="default">
      <name>Security Considerations</name>
      <t> This
	document defines AUTO-BANDWIDTH-CAPABILITY TLV and
	AUTO-BANDWIDTH-ATTRIBUTES sub-TLVs, which do not add any substantial
	new security concerns beyond those already discussed in <xref target="RFC8231" format="default"/> and <xref target="RFC8281" format="default"/> for stateful PCE
	operations.  As per <xref target="RFC8231" format="default"/>, it is <bcp14>RECOMMENDED</bcp14> that
	these PCEP extensions only be activated on authenticated and encrypted
	sessions across PCEs and PCCs belonging to the same administrative
	authority, using Transport Layer Security (TLS) <xref target="RFC8253" format="default"/>, as per the recommendations and best current
	practices in BCP 195 <xref target="RFC7525" format="default"/> (unless explicitly set
	aside in <xref target="RFC8253" format="default"/>).</t>
      <t>
   Incorrect auto-bandwidth parameters in the AUTO-BANDWIDTH-ATTRIBUTES
   sub-TLVs could have an adverse effect on the LSP as well as on the
   network.</t>
    </section>
    <section anchor="sect-8" numbered="true" toc="default">
      <name>IANA Considerations</name>
      <section anchor="sect-8.1" numbered="true" toc="default">
        <name>PCEP TLV Type Indicators</name>
        <t>
   This document defines the following new PCEP TLVs; IANA has made
   the following allocations from the "PCEP TLV Type Indicators"
   subregistry of the "Path Computation Element Protocol (PCEP) Numbers" registry as follows:</t>

   <table anchor="pcep-tlv" align="left">
     <name>PCEP TLV Type Indicators</name>
        <thead>
          <tr>
<th align="left">Value</th>
            <th align="left">Description</th>
            <th align="left">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">36</td>
            <td align="left">AUTO-BANDWIDTH-CAPABILITY</td>
            <td align="left">[RFC8733]</td>
          </tr>
          <tr>
            <td align="left">37</td>
            <td align="left">AUTO-BANDWIDTH-ATTRIBUTES</td>
            <td align="left">[RFC8733]</td>
          </tr>
        </tbody>
</table>
      </section>
      <section anchor="sect-8.2" numbered="true" toc="default">

        <name>AUTO-BANDWIDTH-CAPABILITY TLV Flag Field</name>
        <t>
	  IANA has created a subregistry to manage the Flag field
   of the AUTO-BANDWIDTH-CAPABILITY TLV within the "Path Computation Element Protocol (PCEP) Numbers" registry.</t>
        <t>
   New bit numbers are to be assigned by Standards Action <xref target="RFC8126" format="default"/>.
   Each bit should be tracked with the following qualities:</t>
        <ul spacing="normal">
          <li>Bit number (counting from bit 0 as the most significant bit)</li>
          <li>Capability description</li>
          <li>Defining RFC</li>
        </ul>
        <t>
   The initial contents of the subregistry are empty, with all bits
   marked unassigned.</t>
      </section>
      <section anchor="sect-8.3" numbered="true" toc="default">
        <name>AUTO-BANDWIDTH-ATTRIBUTES Sub-TLV</name>
        <t>
   This document specifies the AUTO-BANDWIDTH-ATTRIBUTES sub-TLVs.  IANA
   has created an "AUTO-BANDWIDTH-ATTRIBUTES Sub-TLV Types"
   subregistry within the "Path Computation Element Protocol (PCEP) Numbers" registry to manage the type indicator space for sub-TLVs of
   the AUTO-BANDWIDTH-ATTRIBUTES TLV.  The valid range of values in the
   registry is 0-65535.  IANA has initialized the registry
   with the following values.  All other values in the registry should
   be marked as "Unassigned".</t>
        <t>
   IANA has set the Registration Procedure for this registry
   to read as follows:</t>
   <table anchor="registration" align="left">
     <name>Registration Procedure for the "AUTO-BANDWIDTH-ATTRIBUTES Sub-TLV" Registry</name>
            <thead>
          <tr>
<th align="left">Range</th>
            <th align="left">Registration Procedure</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0-65503</td>
            <td align="left">IETF Review</td>
          </tr>
          <tr>
            <td align="left">65504-65535</td>
            <td align="left">Experimental Use</td>
          </tr>
        </tbody>
</table>
<t>
   This document defines the following types:
</t>
<table anchor="registry" align="left">
  <name>Initial Contents of the "AUTO-BANDWIDTH-ATTRIBUTES Sub-TLV" Registry</name>
        <thead>
          <tr>
<th align="left">Type</th>
            <th align="left">Name</th>
            <th align="left">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0</td>
            <td align="left">Reserved</td>
            <td align="left">[RFC8733]</td>
          </tr>
          <tr>
            <td align="left">1</td>
            <td align="left">Sample-Interval </td>
            <td align="left">[RFC8733]</td>
          </tr>
<tr>
            <td align="left">2</td>
            <td align="left">Adjustment-Interval </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">3</td>
            <td align="left">Down-Adjustment-Interval</td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">4</td>
            <td align="left">Adjustment-Threshold </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">5</td>
            <td align="left">Adjustment-Threshold-Percentage </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">6</td>
            <td align="left">Down-Adjustment-Threshold </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">7</td>
            <td align="left">Down-Adjustment-Threshold-Percentage </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">8</td>
            <td align="left">Minimum-Bandwidth </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">9</td>
            <td align="left">Maximum-Bandwidth </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">10</td>
            <td align="left">Overflow-Threshold </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">11</td>
            <td align="left">Overflow-Threshold-Percentage </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">12</td>
            <td align="left">Underflow-Threshold </td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">13</td>
            <td align="left">Underflow-Threshold-Percentage</td>
            <td align="left">[RFC8733]</td>
</tr>
<tr>
            <td align="left">14-65503</td>
            <td align="left">Unassigned</td>
            <td align="left">[RFC8733]</td>
</tr>

        </tbody>
</table>
      </section>
      <section anchor="sect-8.4" numbered="true" toc="default">
        <name>Error Object</name>
        <t> This document
	defines a new Error-value for PCErr message of Error-Type 19 (Invalid
	Operation) <xref target="RFC8231" format="default"/>.  IANA has allocated
	a new Error-value within the "PCEP-ERROR Object Error Types and Values"
	subregistry of the "Path Computation Element Protocol (PCEP) Numbers" registry as follows:</t>

	<table anchor="PCEP-registry" align="left">
	  <name>Addition to the "PCEP-ERROR Object Error Types and
	  Values" Registry</name>
        <thead>
          <tr>
<th align="left">Error-Type</th>
<th align="left">Meaning</th>
<th align="left">Error-value</th>
            <th align="left">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">19</td>
            <td align="left">Invalid Operation</td>
            <td align="left">14: Auto-Bandwidth capability was not
	    advertised</td>
	    <td align="left">[RFC8733]</td>
          </tr>
        </tbody>
</table>
      </section>
      <section anchor="sect-8.5" numbered="true" toc="default">
        <name>Notification Object</name>
        <t>
   IANA has allocated a new Notification-type and Notification-values within the "Notification Object" subregistry of the "Path
   Computation Element Protocol (PCEP)
   Numbers" registry as follows:</t>
   <table anchor="notification-object" align="left">
     <name>Additions to the "Notification Object" Registry</name>
        <thead>
          <tr>
<th align="left">Notification-type</th>
<th align="left">Name</th>
<th align="left">Notification-value</th>
            <th align="left">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">5</td>
            <td align="left">Auto-Bandwidth Overwhelm State</td>
	    <td align="left">0: Unassigned</td>
            <td align="left">[RFC8733]</td>
          </tr>

	            <tr>
            <td align="left"></td>
            <td align="left"></td>
            <td align="left">1: Entering Auto-Bandwidth Overwhelm State</td>
	    <td align="left">[RFC8733]</td>
          </tr>

	  	            <tr>
            <td align="left"></td>
            <td align="left"></td>
            <td align="left">2: Clearing Auto-Bandwidth Overwhelm State</td>
	    <td align="left">[RFC8733]</td>
          </tr>

        </tbody>
</table>
      </section>
    </section>
  </middle>
  <back>

<displayreference target="I-D.ietf-pce-pcep-yang" to="PCE-PCEP-YANG"/>

    <references>
      <name>References</name>
      <references>
        <name>Normative References</name>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5440.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7525.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8126.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8231.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8253.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8281.xml"/>

        <reference anchor="IEEE.754.1985">
          <front>
            <title>Standard for Binary Floating-Point Arithmetic</title>
<seriesInfo name="DOI" value="10.1109/IEEESTD.1985.82928"/>
            <seriesInfo name="IEEE" value="Standard 754"/>
            <author>
              <organization>IEEE</organization>
            </author>
            <date month="October" year="1985"/>
          </front>
        </reference>
      </references>
      <references>
        <name>Informative References</name>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3209.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3471.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7420.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8051.xml"/>

        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml3/reference.I-D.draft-ietf-pce-pcep-yang-13.xml"/>

      </references>
    </references>
    <section numbered="false" anchor="acknowledgments" toc="default">
      <name>Acknowledgments</name>
      <t>
   The authors would like to thank <contact fullname="Robert Varga"/>, <contact fullname="Venugopal Reddy"/>, <contact fullname="Reeja
   Paul"/>, <contact fullname="Sandeep Boina"/>, <contact fullname="Avantika"/>, <contact fullname="JP Vasseur"/>, <contact fullname="Himanshu Shah"/>, <contact fullname="Jonathan
   Hardwick"/>, and <contact fullname="Adrian Farrel"/> for their useful comments and suggestions.</t>
      <t>
   Thanks to <contact fullname="Daniel Franke"/>, <contact fullname="Joe Clarke"/>, <contact fullname="David Black"/>, and <contact fullname="Erik Kline"/> for
   the directorate reviews.</t>
      <t>
   Thanks to <contact fullname="Mirja Kühlewind"/>, <contact fullname="Barry Leiba"/>, <contact fullname="Benjamin Kaduk"/>, and <contact fullname="Roman
   Danyliw"/> for the IESG review.</t>
    </section>
    <section numbered="false" anchor="contributors" toc="default">
      <name>Contributors</name>
 
      <contact fullname="He Zekun" >
        <organization>Tencent Holdings Ltd.</organization>
        <address>
          <postal>
            
            <city>Shenzhen</city>
          
            <country>China</country>
          </postal>
          <email>kinghe@tencent.com</email>
        </address>
      </contact>

      
    
      <contact fullname="Xian Zhang" >
        <organization>Huawei Technologies</organization>
        <address>
          <postal>
          <street>Research Area F3-1B</street>
	  <street>Huawei Industrial Base,</street>
            <city>Shenzhen</city>
            <code>518129</code>
            <country>China</country>
            </postal>
	    <phone>+86-755-28972645</phone>
          <email>zhang.xian@huawei.com</email>
        </address>
      </contact>
      <contact fullname="Young Lee" >
        <organization>Samsung</organization>
        <address>
          <postal>
          </postal>
          <email>younglee.tx@gmail.com</email>
        </address>
      </contact>
    </section>
  </back>
</rfc>
