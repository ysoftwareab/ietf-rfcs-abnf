<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE rfc [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
<!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">
]>

<rfc xmlns:xi="http://www.w3.org/2001/XInclude" submissionType="IETF" category="std" consensus="true" docName="draft-ietf-regext-epp-registry-maintenance-19" number="9167" ipr="trust200902" obsoletes="" updates="" xml:lang="en" symRefs="true" sortRefs="true" tocInclude="true" version="3">


	<front>
    <title abbrev="EPP Registry Maintenance">Registry Maintenance Notification for the Extensible Provisioning Protocol (EPP)</title>
    <seriesInfo name="RFC" value="9167"/>
    <author initials="T." surname="Sattler" fullname="Tobias Sattler">
      <organization/>
      <address>
        <email>mail@tobiassattler.com</email>
        <uri>https://tobiassattler.com</uri>
      </address>
    </author>
    <author initials="R." surname="Carney" fullname="Roger Carney">
      <organization>GoDaddy Inc.</organization>
      <address>
        <postal>
          <street>2155 E GoDaddy Way</street>
          <city>Tempe</city>
          <region>AZ</region>
          <code>85284</code>
          <country>United States of America</country>
        </postal>
        <email>rcarney@godaddy.com</email>
        <uri>https://www.godaddy.com</uri>
      </address>
    </author>
    <author initials="J." surname="Kolker" fullname="Jody Kolker">
      <organization>GoDaddy Inc.</organization>
      <address>
        <postal>
          <street>2155 E GoDaddy Way
	  </street>
          <city>Tempe</city>
          <region>AZ</region>
          <code>85284</code>
          <country>United States of America</country>
        </postal>
        <email>jkolker@godaddy.com</email>
        <uri>https://www.godaddy.com</uri>
      </address>
    </author>
    <date year="2021" month="December"/>

    <abstract>
      <t>
   This document describes an Extensible Provisioning Protocol (EPP)
   extension called "Registry Maintenance Notification", which is used by EPP
   servers to notify EPP clients and allow EPP clients to query EPP
   servers regarding maintenance events.</t>
    </abstract>
  </front>
  <middle>
    <section anchor="sect-1" numbered="true" toc="default">
      <name>Introduction</name>
      <t>
   The Extensible Provisioning Protocol (EPP), as defined in <xref target="RFC5730" format="default"/>,
   is a protocol whose original motivation is to provide a standard
   Internet domain name registration protocol for use between registries
   and registrars.</t>
      <t>
   Registries routinely update systems to ensure a higher quality of
   service, implement new services, or upgrade protocols to the latest
   standards.  These updates are pushed to various registry environments
   during time frames communicated to registrars as "maintenance events". Maintenance events may require making services unavailable
   for some limited time while the upgrade happens. Registries usually
   inform registrars about maintenance events in various formats, none
   of which are standardized between registries.</t>
      <t>
   The DNS namespace expansion has led to many additional registries
   that registrars must interact with, adding more maintenance events
   and formats. It is now desirable to provide an efficient approach to
   notify registrars.</t>
      <t>
   This document describes an extension mapping for version 1.0 of the
   EPP to provide a mechanism by which EPP servers may notify EPP
   clients of and allow EPP clients to query EPP servers on upcoming
   maintenance events.</t>
      <section anchor="sect-1.1" numbered="true" toc="default">
        <name>Terminology and Definitions</name>


        <t>
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL
    NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP&nbsp;14 <xref target="RFC2119"/> <xref target="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.
        </t>

        <t>
   XML <xref target="W3C.REC-xml-20081126" format="default"/> is case sensitive. Unless stated
   otherwise, XML specifications and examples provided in this document
   <bcp14>MUST</bcp14> be interpreted in the character case presented in order to
   develop a conforming implementation.</t>
        <t>
        The XML namespace prefix "maint" is used for the namespace
        "urn:ietf:params:xml:ns:epp:maintenance-1.0", but implementations
        <bcp14>MUST NOT</bcp14> depend on it and instead employ a proper
        namespace-aware XML parser and serializer to interpret and output the
        XML documents.
</t>
        <t>
   "ote" is an abbreviation for "Operational Test and Evaluation".</t>
        <t>
   In examples, "C:" represents lines sent by a protocol client, and "S:"
   represents lines returned by a protocol server. Indentation and white space
   in examples are provided only to illustrate element relationships and are
   not a required feature of this protocol.</t>
      </section>
    </section>
    <section anchor="sect-2" numbered="true" toc="default">
      <name>Migrating to Newer Versions of This Extension</name>
      <t>
   Servers that implement this extension <bcp14>SHOULD</bcp14> provide a way for
   clients to progressively update their implementations when a new
   version of the extension is deployed.  A newer version of the
   extension is expected to use an XML namespace with a higher version
   number than the prior versions.</t>
      <t>
   Servers <bcp14>SHOULD</bcp14> (for a temporary migration period up to server policy)
   provide support for older versions of the extension in parallel to
   the newest version and allow clients to execute their preferred
   version of the &lt;info&gt; command based on the maintenance &lt;objURI&gt;
   elements of the server &lt;greeting&gt;. The version of the maintenance
   &lt;info&gt; response <bcp14>MUST</bcp14> match the version of the maintenance &lt;info&gt;
   command executed by the server.</t>
      <t>
   Servers <bcp14>MUST</bcp14> return a Registry Maintenance Notification poll
   message matching the newest negotiated version of the maintenance
   extension, based on an intersection of the maintenance &lt;objURI&gt;
   elements in the server &lt;greeting&gt; and the client &lt;login&gt;
   command. If the intersection of the maintenance &lt;objURI&gt; elements of
   the server &lt;greeting&gt; and the client &lt;login&gt; command results in
   an empty set, the server <bcp14>MUST</bcp14> return the newest version of
   the Registry Maintenance Notification poll message supported by the server
   based on "Usage with Poll-Message EPP Responses" in <xref target="RFC9038"
   sectionFormat="of" section="6" format="default"/>.</t>
    </section>
    <section anchor="sect-3" numbered="true" toc="default">
      <name>Object Attributes</name>
      <section anchor="sect-3.1" numbered="true" toc="default">
        <name>Internationalized Domain Names</name>
        <t>
   Names of affected hosts <bcp14>MUST</bcp14> be provided in A-label form, according
   to <xref target="RFC5891" format="default"/>.</t>
      </section>
      <section anchor="sect-3.2" numbered="true" toc="default">
        <name>Dates and Times</name>
        <t>
   All date and time attribute values <bcp14>MUST</bcp14> be expressed in Universal
   Coordinated Time (UTC) using the Gregorian calendar. The date-time
   format defined as "date-time" in <xref target="RFC3339" format="default"/>, with time-offset="Z",
   <bcp14>MUST</bcp14> be used.</t>
      </section>
      <section anchor="sect-3.3" numbered="true" toc="default">
        <name>Maintenance Elements</name>
        <t>
   The &lt;maint:item&gt; element describes a single registry maintenance
   event during a specific period. This element is used in a maintenance
   item EPP &lt;info&gt; command and response as well as in a &lt;poll&gt; response.</t>
        <t>
   If an element is not marked as optional, it is mandatory.</t>
        <dl newline="true" spacing="normal" indent="3">
          <dt>&lt;maint:id&gt;</dt>
          <dd>

          The server-unique identifier for the maintenance event with the
          <bcp14>OPTIONAL</bcp14> "name" attribute that includes a
          human-readable name of the event. The server-unique identifier
          <bcp14>SHALL NOT</bcp14> be changed if the event is updated or
          deleted. When the "name" attribute is set, the
          <bcp14>OPTIONAL</bcp14> "lang" attribute, per the language structure
          in <xref target="RFC5646"/>, <bcp14>MAY</bcp14> be present to
          identify the language if the negotiated value is something other
          than the default value of "en" (English).

	
	</dd>
          <dt>&lt;maint:type&gt;</dt>
          <dd>
	Zero or more <bcp14>OPTIONAL</bcp14> types of the maintenance event, with the
      possible set of values defined by server policy, such as
      "Routine Maintenance", "Software Update", "Software Upgrade", or
      "Extended Outage". The <bcp14>OPTIONAL</bcp14> "lang" attribute <bcp14>MAY</bcp14> be present to
      identify the language if the negotiated value is something other
      than the default value of "en" (English).
	</dd>
          <dt>&lt;maint:pollType&gt;</dt>
          <dd>
	The <bcp14>OPTIONAL</bcp14> &lt;maint:pollType&gt; element for a Registry Maintenance
      Notification poll message; values <bcp14>MUST</bcp14> be "create",
      "update", "delete", "courtesy", or "end". For the "create" and
      "update" types, the server includes the state of the maintenance
      event after the creation or update. For the "delete" type, the
      server includes the state of the event before the delete. The
      "courtesy" provides a reminder of an event, and the "end" provides
      a notification of the end of the event without updating the
      maintenance object and includes the latest state of the event.
      This element <bcp14>MUST</bcp14> be present only for poll messages.
	</dd>
          <dt>&lt;maint:systems&gt;</dt>
          <dd>
            <t>
	One or more &lt;maint:system&gt; elements that are affected by the
	maintenance event.

            </t>
            <dl newline="true" spacing="normal" indent="3">
              <dt>&lt;maint:system&gt;</dt>
              <dd>
                <t>
	The &lt;maint:system&gt; element contains the following child
         elements:

                </t>
                <dl newline="true" spacing="normal" indent="3">
                  <dt>&lt;maint:name&gt;</dt>
                  <dd>
         The name of the affected system, such as "EPP", "WHOIS",
         "DNS", "Portal", "RDAP", etc.
       </dd>
                  <dt>&lt;maint:host&gt;</dt>
                  <dd>
         The <bcp14>OPTIONAL</bcp14> affected maintained system's hostname, which
         <bcp14>SHALL</bcp14> be in A-label form, according to <xref target="RFC5891" format="default"/>.</dd>
                  <dt>&lt;maint:impact&gt;</dt>
                  <dd>
         The impact level; the values <bcp14>MUST</bcp14> be "full",
         "partial", or "none". If access is expected to be intermittently
         unavailable, it is "partial". If access is expected to be completely
         unavailable, it is "full". If access is not affected, it is "none".
	</dd>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>
	
        <dl newline="true" spacing="normal" indent="3">
          <dt>&lt;maint:environment&gt;</dt>
          <dd>
	The type of the affected system; the attribute "type" is
	<bcp14>REQUIRED</bcp14> and <bcp14>MUST</bcp14> be
	"production", "ote", "staging", "dev", or "custom". For extensibility,
	the &lt;maint:environment&gt; element includes the
	<bcp14>OPTIONAL</bcp14> "name" attribute that can define the name of
	the custom environment when the &lt;maint:environment&gt; element
	"type" attribute has the "custom" value. For example, for the custom
	"marketing" environment, the &lt;maint:environment&gt; element should
	be: &lt;maint:environment type="custom" name="marketing"/&gt;.
	</dd>
          <dt>&lt;maint:start&gt;</dt>
          <dd>
	The date and time of the start of the maintenance event.
	</dd>
          <dt>&lt;maint:end&gt;</dt>
          <dd>
	The date and time of the end of the maintenance event. The
      &lt;maint:end&gt; element <bcp14>MUST</bcp14> be greater than the &lt;maint:start&gt;
      element.
	</dd>
          <dt>&lt;maint:reason&gt;</dt>
          <dd>
	    The reason behind the maintenance event; the values <bcp14>MUST</bcp14> be either
	    "planned" or "emergency".
	</dd>
          <dt>&lt;maint:detail&gt;</dt>
          <dd>
	The <bcp14>OPTIONAL</bcp14> URI to the detailed maintenance event description,
      formatted according to <xref target="RFC3986" format="default"/>.
	</dd>
          <dt>&lt;maint:description&gt;</dt>
          <dd>
	Zero or more <bcp14>OPTIONAL</bcp14> free-form descriptions of the maintenance
      event, usable without creating and traversing an external resource
      as defined by the &lt;maint:detail&gt; element. The <bcp14>OPTIONAL</bcp14> "lang"
      attribute <bcp14>MAY</bcp14> be present to identify the language if the
      negotiated value is something other than the default value of "en"
      (English). The <bcp14>OPTIONAL</bcp14> "type" attribute <bcp14>MAY</bcp14> be present to
      identify the format of the description. It <bcp14>MUST</bcp14> be either "plain"
      for plain text or "html" for HTML text, as defined in
      <xref target="HTML5" format="default"/>, and XML-escaped, with a default value of
      "plain".
	</dd>
          <dt>&lt;maint:tlds&gt;</dt>
          <dd>
            <t>
	The <bcp14>OPTIONAL</bcp14> &lt;maint:tlds&gt; element contains one or more &lt;maint:tld&gt;
      child elements. If the &lt;maint:tlds&gt; is not present, the entire
      system is affected.
            </t>
            <dl newline="true" spacing="normal" indent="3">
              <dt>&lt;maint:tld&gt;</dt>
              <dd>
	The affected top-level domain or registry zone, which <bcp14>SHALL</bcp14> be
         in A-label form, according to <xref target="RFC5891" format="default"/>.
	</dd>
            </dl>
          </dd>
          <dt/>
          <dd>
            <dl newline="true" spacing="normal" indent="3">
              <dt>&lt;maint:intervention&gt;</dt>
              <dd>
                <t>
	The <bcp14>OPTIONAL</bcp14> &lt;maint:intervention&gt; element contains the following
      child elements:
                </t>
                <dl newline="true" spacing="normal" indent="3">
                  <dt>&lt;maint:connection&gt;</dt>
                  <dd>
	The value <bcp14>SHALL</bcp14> be boolean and indicates if a client
	needs to perform a connection-related action such as a reconnect. The
	attribute should only be used as a flag to indicate connections will
	be affected. Servers <bcp14>SHOULD</bcp14> include a description of
	how the connections are affected in the &lt;maint:description&gt;
	element or use the &lt;maint:detail&gt; element above.
	</dd>
                  <dt>&lt;maint:implementation&gt;</dt>
                  <dd>
	The value <bcp14>SHALL</bcp14> be boolean and indicates if a client
	needs to perform an implementation-related action such as a code
	change. The attribute should only be used as a flag to indicate
	implementation will be affected. Servers <bcp14>SHOULD</bcp14> include
	a description of how the implementation is affected in the
	&lt;maint:description&gt; element or use the &lt;maint:detail&gt;
	element above.
	</dd>
                </dl>
              </dd>
              <dt>&lt;maint:crDate&gt;</dt>
              <dd>
	The date and time of the maintenance object creation.
	</dd>
              <dt>&lt;maint:upDate&gt;</dt>
              <dd>
	The <bcp14>OPTIONAL</bcp14> date and time of the most recent maintenance object
      modification. This element <bcp14>MUST NOT</bcp14> be present if the maintenance
      object has never been modified.
	</dd>
            </dl>
          </dd>
        </dl>
      </section>
    </section>
    <section anchor="sect-4" numbered="true" toc="default">
      <name>EPP Command Mapping</name>
      <t>
   A detailed description of the EPP syntax and semantics can be found in the
   EPP core protocol specification <xref target="RFC5730"
   format="default"/>. The command mappings described here are specifically
   used to notify registrars of registry maintenance events and object
   mapping.</t>
      <section anchor="sect-4.1" numbered="true" toc="default">
        <name>EPP Query Commands</name>


	
	<t>
   EPP <xref target="RFC5730" format="default"/> provides three commands to
   retrieve object information: &lt;check&gt; to determine if an object is
   known to the server, &lt;info&gt; to retrieve detailed information
   associated with an object, and &lt;transfer&gt; to retrieve object transfer
   status information.</t> <t> This extension does not add any elements to EPP
   &lt;check&gt; and &lt;transfer&gt; commands or responses.</t>
        <section anchor="sect-4.1.1" numbered="true" toc="default">
          <name>EPP &lt;info&gt; Command</name>
          <t>
   EPP provides the &lt;info&gt; command that is used to retrieve registry
   maintenance information. In addition to the standard EPP command elements,
   the &lt;info&gt; command <bcp14>MUST</bcp14> contain a &lt;maint:info&gt;
   element that identifies the maintenance namespace.</t>
          <t>
   The &lt;maint:info&gt; element <bcp14>MUST</bcp14> contain a child
   element. It is either the &lt;maint:id&gt; child element, described in
   <xref target="sect-4.1.1.1" format="default"/>, to query for a specific
   maintenance item or the &lt;maint:list&gt; child element, described in
   <xref target="sect-4.1.1.2" format="default"/>, to query all maintenance
   items.</t>
          <section anchor="sect-4.1.1.1" numbered="true" toc="default">
            <name>Info Maintenance Item</name>
            <t>
   The information regarding a specific maintenance item can be retrieved by
   using the &lt;info&gt; command with the &lt;maint:info&gt; element and the
   &lt;maint:id&gt; child element, defined in <xref target="sect-3.3"
   format="default"/>. If the maintenance identifier does not exist, the
   server <bcp14>MUST</bcp14> return an EPP error result code of 2303 ("Object
   does not exist") <xref target="RFC5730" format="default"/>.</t> <t> The
   following is an example of retrieving a specific maintenance item in an
   &lt;info&gt; command.</t>

            <sourcecode><![CDATA[
C:<?xml version="1.0" encoding="UTF-8" standalone="no"?>
C:<epp xmlns="urn:ietf:params:xml:ns:epp-1.0">
C:  <command>
C:    <info>
C:      <maint:info
C:        xmlns:maint="urn:ietf:params:xml:ns:epp:maintenance-1.0">
C:        <maint:id>2e6df9b0-4092-4491-bcc8-9fb2166dcee6</maint:id>
C:      </maint:info>
C:    </info>
C:    <clTRID>ABC-12345</clTRID>
C:  </command>
C:</epp>
]]></sourcecode>
            <t>
   When an &lt;info&gt; command has been processed successfully, the EPP
   &lt;resData&gt; element <bcp14>MUST</bcp14> contain a child &lt;maint:infData&gt; element that
   identifies the maintenance namespace. The &lt;maint:infData&gt; element
   contains the &lt;maint:item&gt; element defined in <xref target="sect-3.3" format="default"/>.</t>
            <t>
   The following is an example of returning a specific maintenance item in an &lt;info&gt;
   response.</t>
            <sourcecode><![CDATA[
S:<?xml version="1.0" encoding="UTF-8"?>
S:<epp xmlns="urn:ietf:params:xml:ns:epp-1.0">
S:   <response>
S:      <result code="1000">
S:         <msg>Command completed successfully</msg>
S:      </result>
S:      <resData>
S:        <maint:infData
S:          xmlns:maint="urn:ietf:params:xml:ns:epp:maintenance-1.0">
S:          <maint:item>
S:            <maint:id>2e6df9b0-4092-4491-bcc8-9fb2166dcee6
S:            </maint:id>
S:            <maint:type lang="en">Routine Maintenance</maint:type>
S:            <maint:systems>
S:              <maint:system>
S:                <maint:name>EPP</maint:name>
S:                <maint:host>epp.registry.example
S:                </maint:host>
S:                <maint:impact>full</maint:impact>
S:              </maint:system>
S:            </maint:systems>
S:            <maint:environment type="production"/>
S:            <maint:start>2021-12-30T06:00:00Z</maint:start>
S:            <maint:end>2021-12-30T07:00:00Z</maint:end>
S:            <maint:reason>planned</maint:reason>
S:            <maint:detail>
S:              https://www.registry.example/notice?123
S:            </maint:detail>
S:            <maint:description lang="en">free-text
S:            </maint:description>
S:            <maint:description lang="de">Freitext
S:            </maint:description>
S:            <maint:tlds>
S:              <maint:tld>example</maint:tld>
S:              <maint:tld>test</maint:tld>
S:            </maint:tlds>
S:            <maint:intervention>
S:              <maint:connection>false</maint:connection>
S:              <maint:implementation>false</maint:implementation>
S:            </maint:intervention>
S:            <maint:crDate>2021-11-08T22:10:00Z</maint:crDate>
S:          </maint:item>
S:        </maint:infData>
S:      </resData>
S:      <trID>
S:         <clTRID>ABC-12345</clTRID>
S:         <svTRID>54321-XYZ</svTRID>
S:      </trID>
S:   </response>
S:</epp>
]]></sourcecode>
          </section>
          <section anchor="sect-4.1.1.2" numbered="true" toc="default">
            <name>Info Maintenance List</name>
            <t>
   The information for a list of maintenance items can be retrieved by using
   the &lt;info&gt; command with the &lt;maint:info&gt; element and the empty
   &lt;maint:list&gt; child element. Server policy determines if completed
   maintenance events will be included in the list of maintenance items.</t>
   <t> The following is an example of retrieving the list of maintenance items
   in an &lt;info&gt; command.</t>
            <sourcecode><![CDATA[
C:<?xml version="1.0" encoding="UTF-8" standalone="no"?>
C:<epp xmlns="urn:ietf:params:xml:ns:epp-1.0">
C:  <command>
C:    <info>
C:      <maint:info
C:        xmlns:maint="urn:ietf:params:xml:ns:epp:maintenance-1.0">
C:        <maint:list/>
C:      </maint:info>
C:    </info>
C:    <clTRID>ABC-12345</clTRID>
C:  </command>
C:</epp>
]]></sourcecode>
            <t>
   When an &lt;info&gt; command has been processed successfully, the EPP
   &lt;resData&gt; element <bcp14>MUST</bcp14> contain a child &lt;maint:infData&gt; element
   that identifies the maintenance namespace. The &lt;maint:infData&gt;
   element contains the &lt;maint:list&gt; element with zero or more
   &lt;maint:listItem&gt; child elements. The &lt;maint:listItem&gt; element
   contains the following child elements:</t>
            <ul empty="true" spacing="normal">
              <li>
                <dl newline="true" spacing="normal" indent="3">
                  <dt>&lt;maint:id&gt;</dt>
                  <dd>
	The &lt;maint:id&gt; element defined in <xref target="sect-3.3" format="default"/>.
	</dd>
                  <dt>&lt;maint:start&gt;</dt>
                  <dd>
	The &lt;maint:start&gt; element defined in <xref target="sect-3.3" format="default"/>.
	</dd>
                  <dt>&lt;maint:end&gt;</dt>
                  <dd>
	The &lt;maint:end&gt; element defined in <xref target="sect-3.3" format="default"/>.
	</dd>
                  <dt>&lt;maint:crDate&gt;</dt>
                  <dd>
	The &lt;maint:crDate&gt; element defined in <xref target="sect-3.3" format="default"/>.
	</dd>
                  <dt>&lt;maint:upDate&gt;</dt>
                  <dd>
	The <bcp14>OPTIONAL</bcp14> &lt;maint:upDate&gt; element defined in <xref target="sect-3.3" format="default"/>.
	</dd>
                </dl>
              </li>
            </ul>
            <t> The following is an example of returning the list of
            maintenance items in an &lt;info&gt; response.</t>
            <sourcecode><![CDATA[
S:<?xml version="1.0" encoding="UTF-8"?>
S:<epp xmlns="urn:ietf:params:xml:ns:epp-1.0">
S:   <response>
S:      <result code="1000">
S:         <msg>Command completed successfully</msg>
S:      </result>
S:      <resData>
S:        <maint:infData
S:          xmlns:maint="urn:ietf:params:xml:ns:epp:maintenance-1.0">
S:          <maint:list>
S:            <maint:listItem>
S:              <maint:id>2e6df9b0-4092-4491-bcc8-9fb2166dcee6
S:              </maint:id>
S:              <maint:start>2021-12-30T06:00:00Z</maint:start>
S:              <maint:end>2021-12-30T07:00:00Z</maint:end>
S:              <maint:crDate>2021-11-08T22:10:00Z</maint:crDate>
S:            </maint:listItem>
S:            <maint:listItem>
S:              <maint:id>91e9dabf-c4e9-4c19-a56c-78e3e89c2e2f
S:              </maint:id>
S:              <maint:start>2021-12-15T04:30:00Z</maint:start>
S:              <maint:end>2021-12-15T05:30:00Z</maint:end>
S:              <maint:crDate>2021-11-08T22:11:00Z</maint:crDate>
S:              <maint:upDate>2021-11-17T15:00:00Z</maint:upDate>
S:            </maint:listItem>
S:          </maint:list>
S:        </maint:infData>
S:      </resData>
S:      <trID>
S:         <clTRID>ABC-12345</clTRID>
S:         <svTRID>54321-XYZ</svTRID>
S:      </trID>
S:   </response>
S:</epp>
]]></sourcecode>
          </section>
        </section>
        <section anchor="sect-4.1.2" numbered="true" toc="default">
          <name>EPP &lt;poll&gt; Command</name>
          <t>
   The EPP &lt;poll&gt; command and response are defined in <xref
   target="RFC5730" sectionFormat="of" section="2.9.2.3"
   format="default"/>. The Registry Maintenance Notification is included in
   the EPP &lt;poll&gt; response in <xref target="RFC5730"
   format="default"/>.</t>

   <t>
   There are five types of poll messages for the Registry Maintenance
   Notification, defined by the &lt;maint:pollType&gt; element in <xref
   target="sect-3.3" format="default"/>.  A poll message might be generated
   when a maintenance event is created, updated, or deleted. A courtesy poll
   message can be sent as a reminder of an upcoming maintenance event. An end
   poll message can be sent when the maintenance event is completed. In the
   case of a message specific to Registry Maintenance, a &lt;maint:infData&gt;
   element that identifies the maintenance namespace will be included within
   the &lt;resData&gt; element of the standard &lt;poll&gt; response. The
   &lt;maint:infData&gt; element contains the &lt;maint:item&gt; element
   defined in <xref target="sect-3.3" format="default"/>.</t> <t> The
   following is an example of a &lt;poll&gt; command:</t>
          <sourcecode><![CDATA[
C:<?xml version="1.0" encoding="UTF-8" standalone="no"?>
C:<epp xmlns="urn:ietf:params:xml:ns:epp-1.0">
C:  <command>
C:    <poll op="req"/>
C:    <clTRID>ABC-12345</clTRID>
C:  </command>
C:</epp>
]]></sourcecode>

<t>
Example &lt;poll&gt; response:
</t>

<sourcecode><![CDATA[
S:<?xml version="1.0" encoding="UTF-8" standalone="no"?>
S:<epp xmlns="urn:ietf:params:xml:ns:epp-1.0">
S:  <response>
S:    <result code="1301">
S:      <msg>Command completed successfully; ack to dequeue</msg>
S:    </result>
S:  <msgQ count="1" id="12345">
S:    <qDate>2021-11-08T22:10:00Z</qDate>
S:    <msg lang="en">Registry Maintenance Notification</msg>
S:  </msgQ>
S:  <resData>
S:    <maint:infData
S:      xmlns:maint="urn:ietf:params:xml:ns:epp:maintenance-1.0">
S:      <maint:item>
S:        <maint:id>2e6df9b0-4092-4491-bcc8-9fb2166dcee6</maint:id>
S:        <maint:pollType>create</maint:pollType>
S:        <maint:systems>
S:          <maint:system>
S:            <maint:name>EPP</maint:name>
S:            <maint:host>epp.registry.example
S:            </maint:host>
S:            <maint:impact>full</maint:impact>
S:          </maint:system>
S:        </maint:systems>
S:        <maint:environment type="production"/>
S:        <maint:start>2021-12-30T06:00:00Z</maint:start>
S:        <maint:end>2021-12-30T07:00:00Z</maint:end>
S:        <maint:reason>planned</maint:reason>
S:        <maint:detail>
S:          https://www.registry.example/notice?123
S:        </maint:detail>
S:        <maint:tlds>
S:          <maint:tld>example</maint:tld>
S:          <maint:tld>test</maint:tld>
S:        </maint:tlds>
S:        <maint:intervention>
S:          <maint:connection>false</maint:connection>
S:          <maint:implementation>false</maint:implementation>
S:        </maint:intervention>
S:        <maint:crDate>2021-11-08T22:10:00Z</maint:crDate>
S:      </maint:item>
S:    </maint:infData>
S:  </resData>
S:  <trID>
S:    <clTRID>ABC-12345</clTRID>
S:    <svTRID>54321-XYZ</svTRID>
S:  </trID>
S:  </response>
S:</epp>
]]></sourcecode>
        </section>
      </section>
      <section anchor="sect-4.2" numbered="true" toc="default">
        <name>EPP Transform Commands</name>
        <t>
   EPP provides five commands to transform objects: &lt;create&gt; to create
   an instance of an object, &lt;delete&gt; to delete an instance of an
   object, &lt;renew&gt; to extend the validity period of an object,
   &lt;transfer&gt; to manage object sponsorship changes, and &lt;update&gt; to
   change information associated with an object.</t>

   <t>
   This extension does not add any elements to the EPP &lt;create&gt;,
   &lt;delete&gt;, &lt;renew&gt;, &lt;transfer&gt;, and &lt;update&gt; commands.</t>
      </section>
    </section>
    <section anchor="sect-5" numbered="true" toc="default">
      <name>Formal Syntax</name>
      <t>
   The EPP Registry Maintenance Notification schema is presented here.</t>
        <t>The formal syntax is a complete schema representation of
   the object mapping suitable for automated validation of EPP XML
   instances. The &lt;CODE BEGINS&gt; and &lt;CODE ENDS&gt; tags are not part
   of the schema; they are used to note the beginning and end of the schema
   for URI registration purposes.</t>
      <section anchor="sect-5.1" numbered="true" toc="default">
        <name>Registry Maintenance Notification EPP Mapping Schema</name>
        <sourcecode type="xml" markers="true"><![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
  <schema targetNamespace="urn:ietf:params:xml:ns:epp:
    maintenance-1.0"
    xmlns:eppcom="urn:ietf:params:xml:ns:eppcom-1.0"
    xmlns:epp="urn:ietf:params:xml:ns:epp-1.0"
    xmlns:maint="urn:ietf:params:xml:ns:epp:maintenance-1.0"
    xmlns="https://www.w3.org/2001/XMLSchema"
    elementFormDefault="qualified">
  <!--
  Import common element types
  -->
  <import namespace="urn:ietf:params:xml:ns:eppcom-1.0"/>
  <import namespace="urn:ietf:params:xml:ns:epp-1.0"/>
  <annotation>
    <documentation>
      Extensible Provisioning Protocol v1.0
      Registry Maintenance Notification Mapping Schema.
    </documentation>
  </annotation>
  <!--
  Child elements found in EPP commands.
  -->
  <element name="info" type="maint:infoType"/>
  <!--
   Child elements of the <info> command.
  -->
  <complexType name="infoType">
    <sequence>
      <choice>
        <element name="list"/>
        <element name="id" type="maint:idType"/>
      </choice>
    </sequence>
  </complexType>
  <!--
  Human-readable text may describe the maintenance
  -->
  <complexType name="idType">
    <simpleContent>
      <extension base="token">
        <attribute name="name" type="token"/>
        <attribute name="lang" type="language" default="en"/>
      </extension>
    </simpleContent>
  </complexType>
  <!--
   Info Response element
  -->
  <element name="infData" type="maint:infDataType"/>
  <!--
   <info> response elements.
  -->
  <complexType name="infDataType">
    <choice>
      <element name="list" type="maint:listDataType"/>
      <element name="item" type="maint:maintDataType"/>
    </choice>
  </complexType>
  <!--
   Attributes associated with the list info response
  -->
  <complexType name="listDataType">
    <sequence>
      <element name="listItem" type="maint:maintItemType"
       minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <!--
   Attributes associated with the list item info response
  -->
  <complexType name="maintItemType">
    <sequence>
      <element name="id" type="maint:idType"/>
      <element name="start" type="dateTime"/>
      <element name="end" type="dateTime"/>
      <element name="crDate" type="dateTime"/>
      <element name="upDate" type="dateTime" minOccurs="0"/>
    </sequence>
  </complexType>
  <!--
   Attributes associated with the maintenance info response
  -->
  <complexType name="maintDataType">
    <sequence>
      <element name="id" type="maint:idType"/>
      <element name="type" type="maint:typeType" minOccurs="0"
       maxOccurs="unbounded"/>
      <element name="pollType" type="maint:pollType" minOccurs="0"/>
      <element name="systems" type="maint:systemsType"/>
      <element name="environment" type="maint:envType"/>
      <element name="start" type="dateTime"/>
      <element name="end" type="dateTime"/>
      <element name="reason" type="maint:reasonEnum"/>
      <element name="detail" type="anyURI" minOccurs="0"/>
      <element name="description" type="maint:descriptionType"
       minOccurs="0" maxOccurs="unbounded"/>
      <element name="tlds" type="maint:tldsType" minOccurs="0"/>
      <element name="intervention" type="maint:interventionType"
       minOccurs="0"/>
      <element name="crDate" type="dateTime"/>
      <element name="upDate" type="dateTime" minOccurs="0"/>
    </sequence>
  </complexType>
  <!--
   systems element
  -->
  <complexType name="systemsType">
    <sequence>
      <element name="system" type="maint:systemType"
       maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <!--
   Enumerated list of poll types
  -->
  <simpleType name="pollType">
    <restriction base="token">
      <enumeration value="create"/>
      <enumeration value="update"/>
      <enumeration value="delete"/>
      <enumeration value="courtesy"/>
      <enumeration value="end"/>
    </restriction>
  </simpleType>
  <!--
   Enumerated list of impacts
  -->
  <simpleType name="impactEnum">
    <restriction base="token">
      <enumeration value="none"/>
      <enumeration value="partial"/>
      <enumeration value="full"/>
    </restriction>
  </simpleType>
  <!--
   description element
  -->
  <complexType name="descriptionType">
    <simpleContent>
      <extension base="string">
        <attribute name="lang" type="language" default="en"/>
        <attribute name="type" type="maint:descEnum" default="plain"
        />
      </extension>
    </simpleContent>
  </complexType>
  <!--
   Enumerated list of description mime types
  -->
  <simpleType name="descEnum">
    <restriction base="token">
      <enumeration value="plain"/>
      <enumeration value="html"/>
    </restriction>
  </simpleType>
  <!--
   type element
  -->
  <complexType name="typeType">
    <simpleContent>
      <extension base="string">
        <attribute name="lang" type="language" default="en"/>
      </extension>
    </simpleContent>
  </complexType>
  <!--
   system element
  -->
  <complexType name="systemType">
    <sequence>
      <element name="name" type="token"/>
      <element name="host" type="eppcom:labelType" minOccurs="0"/>
      <element name="impact" type="maint:impactEnum"/>
    </sequence>
  </complexType>
  <!--
   Enumerated list of environments
  -->
  <simpleType name="envEnum">
    <restriction base="token">
      <enumeration value="production"/>
      <enumeration value="ote"/>
      <enumeration value="staging"/>
      <enumeration value="dev"/>
      <enumeration value="custom"/>
    </restriction>
  </simpleType>
  <!--
   environment element
  -->
  <complexType name="envType">
    <simpleContent>
      <extension base="token">
        <attribute name="type" type="maint:envEnum" use="required"/>
        <attribute name="name" type="token" use="optional"/>
      </extension>
    </simpleContent>
  </complexType>
  <!--
   Enumerated list of reasons
  -->
  <simpleType name="reasonEnum">
    <restriction base="token">
      <enumeration value="planned"/>
      <enumeration value="emergency"/>
    </restriction>
  </simpleType>
  <!--
   tlds element
  -->
  <complexType name="tldsType">
    <sequence>
      <element name="tld" type="eppcom:labelType"
       maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <!--
   intervention element
  -->
  <complexType name="interventionType">
    <sequence>
      <element name="connection" type="boolean"/>
      <element name="implementation" type="boolean"/>
    </sequence>
  </complexType>
  <!--
   End of schema.
  -->
  </schema>
 ]]></sourcecode>
      </section>
    </section>
    <section anchor="sect-6" numbered="true" toc="default">
      <name>IANA Considerations</name>
      <section anchor="sect-6.1" numbered="true" toc="default">
        <name>XML Namespace</name>
        <t>
   This document uses URNs to describe XML namespaces and XML schemas
   conforming to a registry mechanism defined in <xref target="RFC3688" format="default"/>.</t>
        <t>The following entry has been registered as an XML namespace:
        </t>

	<dl spacing="compact">
	  <dt>URI:
	  </dt>
	  <dd>urn:ietf:params:xml:ns:epp:maintenance-1.0
	  </dd>

<dt>Registrant Contact:
</dt>
<dd>IESG
</dd>

<dt>XML:
</dt>
<dd>None.  Namespace URIs do not represent an XML specification.
</dd>

	</dl>

<t>The following entry has been registered to the XML maintenance schema:
        </t>

	<dl spacing="compact">

	  <dt>URI:
	  </dt>
	  <dd>urn:ietf:params:xml:schema:epp:maintenance-1.0
	  </dd>

	  <dt>Registrant Contact: 
	  </dt>
	  <dd>IESG
	  </dd>


	  <dt>XML:
	  </dt>
	  <dd>See the <xref target="sect-5" format="none">"Formal Syntax"</xref> section of this document.
	  </dd>
</dl>
</section>
      <section anchor="sect-6.2" numbered="true" toc="default">
        <name>EPP Extension Registry</name>
        <t>
   The following entry has been added to the "Extensions for the Extensible Provisioning Protocol (EPP)" registry, described
   in <xref target="RFC7451" format="default"/>:</t>

   <dl spacing="compact">

     <dt>Name of Extension:
     </dt>
     <dd>Registry Maintenance Notification for the Extensible Provisioning Protocol (EPP)
     </dd>

     
     <dt>Document status:
     </dt>
     <dd>Standards Track
     </dd>

     
     <dt>Reference:
     </dt>
     <dd>RFC 9167
     </dd>

     
     <dt>Registrant Name and Email Address:
     </dt>
     <dd>IESG &lt;iesg@ietf.org&gt;
     </dd>

     
     <dt>TLDs:
     </dt>
     <dd>Any
     </dd>

     
     <dt>IPR Disclosure: 
     </dt>
     <dd>None
     </dd>

     
     <dt>Status:
     </dt>
     <dd>Active
     </dd>

     
     <dt>Notes:
     </dt>
     <dd>None
     </dd>
   </dl>
</section>
    </section>
    <section anchor="sect-7" numbered="true" toc="default">
      <name>Security Considerations</name>
      <t>
   The security considerations of <xref target="RFC5730" format="default"/>
   apply in this document.  Additionally, a server <bcp14>MUST</bcp14> only
   provide maintenance information to clients that are authorized. Suppose a
   client queries a maintenance identifier that it is not authorized to access
   per <xref target="sect-4.1.1.1" format="default"/>, "Info Maintenance
   Item". In that case, the server <bcp14>SHOULD</bcp14> return an EPP error
   result code of 2201 ("Authorization error") or 2303 ("Object does not
   exist") <xref target="RFC5730" format="default"/>. The list of top-level
   domains or registry zones returned in the "Info Maintenance Item" response
   <bcp14>SHOULD</bcp14> be filtered based on the top-level domains or
   registry zones for which the client is authorized. Authorization of poll
   messages is done at the time of poll message insertion and not at the time
   of poll message consumption.</t>
    </section>
  
  </middle>
  <back>
    <references>
      <name>References</name>
      <references>
        <name>Normative References</name>

<reference anchor="HTML5"
           target='https://html.spec.whatwg.org/multipage/'>
<front>
<title>HTML - Living Standard</title>
<author>
<organization>WHATWG</organization>
</author>
<date month='December' year='2021' />
</front>
</reference>


    <reference anchor="W3C.REC-xml-20081126" target="https://www.w3.org/TR/2008/REC-xml-20081126" quoteTitle="true" derivedAnchor="W3C.REC-xml-20081126">
          <front>
            <title>Extensible Markup Language (XML) 1.0 (Fifth Edition)</title>
            <author initials="T." surname="Bray" fullname="Tim Bray">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Paoli" fullname="Jean Paoli">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Sperberg-McQueen" fullname="Michael Sperberg-McQueen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="E." surname="Maler" fullname="Eve Maler">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="F." surname="Yergeau" fullname="Francois Yergeau">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="November" year="2008"/>
          </front>
          <refcontent>World Wide Web Consortium Recommendation REC-xml-20081126</refcontent>
        </reference>
	
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3339.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3986.xml"/>

	        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5646.xml"/>


	<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5730.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5891.xml"/>

        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.9038.xml"/>
      </references>
      <references>
        <name>Informative References</name>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3688.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7451.xml"/>
      </references>
    </references>

    <section numbered="false" anchor="acknowledgments" toc="default">
      <name>Acknowledgments</name>
      <t>
   The authors wish to thank the following persons for their feedback
   and suggestions: <contact fullname="James Gould"/>, <contact fullname="Michael Bauland"/>, <contact fullname="Patrick Mevzek"/>,
   <contact fullname="Quoc-Anh Pham"/>, <contact fullname="Raymond Zylstra"/>, <contact fullname="Christopher Martens"/>, <contact fullname="Anthony Eden"/>,
   <contact fullname="Neal McPherson"/>, <contact fullname="Craig Marchant"/>, and <contact fullname="Andreas Huber"/>.</t>
    </section>

  </back>
</rfc>
