

p2psip                                                            Y. Gao
Internet-Draft                                                   Y. Meng
Intended status: Standards Track                                     ZTE
Expires: January 28, 2010                                  July 27, 2009


                       A New SIP Usage for RELOAD
               draft-gaoyang-p2psip-new-sip-usage-00.txt

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.  This document may not be modified,
   and derivative works of it may not be created, and it may not be
   published except as an Internet-Draft.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 28, 2010.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.







Gao & Meng              Expires January 28, 2010                [Page 1]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


Abstract

   This document points out the main drawbacks of the solution in
   "draft-ietf-p2psip-sip-01".  And solve such problems by introducing a
   new way.


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.  Main drawbacks of the current solution  . . . . . . . . . . . . 4
     2.1.  Hidden trouble in inter-domain interworking . . . . . . . . 4
     2.2.  Hidden trouble in sip users' mobility . . . . . . . . . . . 4
       2.2.1.  Compelling support for peers' mobility  . . . . . . . . 4
       2.2.2.  Churn of the overlay  . . . . . . . . . . . . . . . . . 4
     2.3.  Exclusivity towards overlay clients in sip usage  . . . . . 4
   3.  How about words modification from Peers to Nodes  . . . . . . . 5
   4.  The new solution  . . . . . . . . . . . . . . . . . . . . . . . 6
     4.1.  Solution introduction . . . . . . . . . . . . . . . . . . . 6
     4.2.  More merits . . . . . . . . . . . . . . . . . . . . . . . . 6
       4.2.1.  Half spending . . . . . . . . . . . . . . . . . . . . . 6
       4.2.2.  Supporting clients' mobility inherently . . . . . . . . 7
   5.  Normative references  . . . . . . . . . . . . . . . . . . . . . 8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 9



























Gao & Meng              Expires January 28, 2010                [Page 2]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


1.  Introduction

   As described in "draft-ietf-p2psip-sip-01", RELOAD's only role in sip
   usage is to set up the direct SIP connection between caller and
   callee.  So, the sip users are more like clients than peers here.
   But "draft-ietf-p2psip-sip-01" restricts that caller and callee are
   peers of the overlay.

   Making bad thing worse, callee MUST be peers of the overlay while
   using the solution in "draft-ietf-p2psip-sip-01".  The reason is that
   only peers can be reachable by routing table of the overlay.








































Gao & Meng              Expires January 28, 2010                [Page 3]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


2.  Main drawbacks of the current solution

2.1.  Hidden trouble in inter-domain interworking

   Considering inter-domain interworking, caller can be user of other
   domain.  If we use the solution in "draft-ietf-p2psip-sip-01", there
   should be a node in the other domain as peer of callee's overlay.
   That is not acceptable for overlay networking operating, as storing
   data in other domain's node can be nightmare.

   If we make sip users outside of the overlay just clients, there would
   not be such problem.  In fact, making caller just client of the
   overlay can get rid of this problem.  So, "draft-ietf-p2psip-sip-01"
   can abolish the restriction of caller as peer.

   What need to be mentioned is that sip users inside the overlay can
   register itself from peers of the overlay or from clients.

2.2.  Hidden trouble in sip users' mobility

2.2.1.  Compelling support for peers' mobility

   As sip users are peers, so the overlay compells the support of peers'
   mobility.  If we make sip user just client of the overlay, there
   would not be such problem.  It means that we can construct an overlay
   supporting clients' mobility without needing peers' mobility.

2.2.2.  Churn of the overlay

   Considering sip users' mobility in wireless access network
   environment, there would be more probability for peers' joining,
   leaving of the overlay which has impact on the churn of the overlay.
   Further, peers can be more easily to lose its connection before
   sending Leave message in such wireless environment.  And this will
   make the data stored in the peers unreachable.

   If we make mobile sip user just client of the overlay, there would
   not be such problem.

2.3.  Exclusivity towards overlay clients in sip usage

   Exclusivity towards overlay clients in sip usage would have
   restriction on operating way for overlay network operators.








Gao & Meng              Expires January 28, 2010                [Page 4]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


3.  How about words modification from Peers to Nodes

   "draft-ietf-p2psip-sip-01" can modify the words from *peers* to
   *node*(including clients).  But the problem behind it is the routing
   problem.

   If an overlay can route requests to the reponsible peer by the
   client's ID, sophisticated arranging of nodes's NodeID is needed
   here.  So, it is not feasible to demand clien routing by NodeID in
   any overlay.  Further, AppAttach requested can not be routed to
   clients by NodeID using the way mentioned above.

   Then clients' reachability can not be guaranteed by any overlay when
   routing by NodeID for clients.  So, it is not proper to define
   clients' reachability using NodeID for routing.  And we should find a
   new way.



































Gao & Meng              Expires January 28, 2010                [Page 5]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


4.  The new solution

   The main difference is that sip user registers his address while not
   NodeID, under his AOR.

4.1.  Solution introduction

   The process of a sip call:

   1.  Callee stores a mapping from his URI to his Node-ID in the
   overlay.  And the NodeID of the peer choosed to store the mapping has
   hash relationship with callee's URI.

   2.  Caller looks up callee's URI in the overlay and retrieves
   callee's address.

   3.  Caller uses ICE's offer/answer to exchange caller's and callee's
   candidate addresses.

   The process of a sip call


      Caller              Overlay                Callee
      -------------------------------------------------
                             <------------------- Store
                             Store ------------------->
      Fetch ---------------->
      <---------------- Fetch

      ICE Offer -------------------------------------->
      <------------------------------------- ICE Answer
      <------------------ ICE Checks ----------------->
      INVITE ----------------------------------------->
      <--------------------------------------------- OK
      ACK -------------------------------------------->
      <------------ ICE Checks for media ------------->
      <-------------------- RTP ---------------------->


                                 Figure 1

4.2.  More merits

4.2.1.  Half spending

   After fetching the callee's address, the caller can using ICE offer/
   answer procedure directly, without AppAttach procedure in the
   overlay.



Gao & Meng              Expires January 28, 2010                [Page 6]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


4.2.2.  Supporting clients' mobility inherently

   When callee changes its address, it can send a new registering
   message to overlay.















































Gao & Meng              Expires January 28, 2010                [Page 7]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


5.  Normative references

   [I-D.ietf-mmusic-ice]
              Rosenberg, J., "Interactive Connectivity Establishment
              (ICE): A Protocol for Network Address  Translator (NAT)
              Traversal for Offer/Answer Protocols",
              draft-ietf-mmusic-ice-19 (work in progress), October 2007.

   [I-D.ietf-p2psip-base]
              Jennings, C., Lowekamp, B., Rescorla, E., Baset, S., and
              H. Schulzrinne, "REsource LOcation And Discovery (RELOAD)
              Base Protocol", draft-ietf-p2psip-base-03 (work in
              progress), July 2009.

   [I-D.ietf-p2psip-sip]
              Jennings, C., Lowekamp, B., Rescorla, E., Baset, S., and
              H. Schulzrinne, "A SIP Usage for RELOAD",
              draft-ietf-p2psip-sip-01 (work in progress), March 2009.

































Gao & Meng              Expires January 28, 2010                [Page 8]

Internet-Draft         A New SIP Usage for RELOAD              July 2009


Authors' Addresses

   Gao yang
   ZTE
   CHINA

   Email: gao.yang2@zte.com.cn


   Meng Yu
   ZTE
   CHINA

   Email: meng.yu@zte.com.cn





































Gao & Meng              Expires January 28, 2010                [Page 9]


