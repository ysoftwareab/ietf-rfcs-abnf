<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Semantic Address Based Instructive Routing for Satellite Network</title>
<meta content="Lin Han" name="author">
<meta content="Alvaro Retana" name="author">
<meta content="Richard Li" name="author">
<meta content="
       This document presents a method to do IP routing over satellite network that consists of LEO (Low Earth Orbit) satellites and 
   ground-stations. The method uses the source routing mechanism. The whole routing info is obtained by
   path calculation. The routing path information is converted to be a list of instructions and embedded into user packet's
   IPv6 extension header. 
   At each hop or each satellite, the routing process 
   engine will forward the packet based on the specified instruction for the satellite. 
   Until the packet reaches the edge of satellite network, or the last satellite, 
   the packet will be sent to a ground station. 
       
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="Satellite" name="keyword">
<meta content="Internet" name="keyword">
<meta content="Constellation" name="keyword">
<meta content="Relay" name="keyword">
<meta content="draft-lhan-satellite-instructive-routing-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-lhan-satellite-instructive-routing-00-ap9zxeje.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Satellite Instructive Routing</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Han, et al.</td>
<td class="center">Expires 7 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-lhan-satellite-instructive-routing-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-06" class="published">6 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-07">7 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Han, <span class="editor">Ed.</span>
</div>
<div class="org">Futurewei Technologies, Inc.</div>
</div>
<div class="author">
      <div class="author-name">A. Retana</div>
<div class="org">Futurewei Technologies, Inc.</div>
</div>
<div class="author">
      <div class="author-name">R. Li</div>
<div class="org">Futurewei Technologies, Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Semantic Address Based Instructive Routing for Satellite Network</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document presents a method to do IP routing over satellite network that consists of LEO (Low Earth Orbit) satellites and 
   ground-stations. The method uses the source routing mechanism. The whole routing info is obtained by
   path calculation. The routing path information is converted to be a list of instructions and embedded into user packet's
   IPv6 extension header. 
   At each hop or each satellite, the routing process 
   engine will forward the packet based on the specified instruction for the satellite. 
   Until the packet reaches the edge of satellite network, or the last satellite, 
   the packet will be sent to a ground station.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 7 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-review-of-leo-satellite-con" class="xref">Review of LEO satellite constellation for future Internet</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-basics-of-instructive-routi" class="xref">Basics of Instructive Routing</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-ipv6-routing-header-for-ins" class="xref">IPv6 Routing Header for Instructive Routing</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-instruction-list-for-instru" class="xref">Instruction List for Instructive Routing</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-instructive-routing-behavio" class="xref">Instructive Routing Behaviors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-fwdincsat_id" class="xref">Fwd.Inc.Sat_ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-fwddecsat_id" class="xref">Fwd.Dec.Sat_ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-fwdincopb_id" class="xref">Fwd.Inc.Opb_ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-fwddecopb_id" class="xref">Fwd.Dec.Opb_ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="xref">7.5</a>.  <a href="#name-fwdincshl_id" class="xref">Fwd.Inc.Shl_ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a href="#section-7.6" class="xref">7.6</a>.  <a href="#name-fwddecshl_id" class="xref">Fwd.Dec.Shl_ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.7">
                <p id="section-toc.1-1.7.2.7.1"><a href="#section-7.7" class="xref">7.7</a>.  <a href="#name-endintf_id" class="xref">End.Intf_ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.8">
                <p id="section-toc.1-1.7.2.8.1"><a href="#section-7.8" class="xref">7.8</a>.  <a href="#name-endpunt" class="xref">End.Punt</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.9">
                <p id="section-toc.1-1.7.2.9.1"><a href="#section-7.9" class="xref">7.9</a>.  <a href="#name-endlookup" class="xref">End.Lookup</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.10">
                <p id="section-toc.1-1.7.2.10.1"><a href="#section-7.10" class="xref">7.10</a>. <a href="#name-endlookupipv4" class="xref">End.Lookup.IPv4</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.11">
                <p id="section-toc.1-1.7.2.11.1"><a href="#section-7.11" class="xref">7.11</a>. <a href="#name-endlookupipv6" class="xref">End.Lookup.IPv6</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.12">
                <p id="section-toc.1-1.7.2.12.1"><a href="#section-7.12" class="xref">7.12</a>. <a href="#name-fwdsat_addr" class="xref">Fwd.Sat_Addr</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.13">
                <p id="section-toc.1-1.7.2.13.1"><a href="#section-7.13" class="xref">7.13</a>. <a href="#name-fwdsat_macaddr" class="xref">Fwd.Sat_MacAddr</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.14">
                <p id="section-toc.1-1.7.2.14.1"><a href="#section-7.14" class="xref">7.14</a>. <a href="#name-forwarding_apipacketinput_s" class="xref">Forwarding_API(Packet,Input_Satellite,Input_Direction)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.15">
                <p id="section-toc.1-1.7.2.15.1"><a href="#section-7.15" class="xref">7.15</a>. <a href="#name-forwarding_api_satpacketinp" class="xref">Forwarding_API_SAT(Packet,Input_Satellite,Sat_Addr)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.16">
                <p id="section-toc.1-1.7.2.16.1"><a href="#section-7.16" class="xref">7.16</a>. <a href="#name-forwarding_api_macpacketinp" class="xref">Forwarding_API_MAC(Packet,Input_Satellite,Sat_MacAddr)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.17">
                <p id="section-toc.1-1.7.2.17.1"><a href="#section-7.17" class="xref">7.17</a>. <a href="#name-forwarding_gs_apipacketinpu" class="xref">Forwarding_GS_API(Packet,Input_Interface)</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-change-log" class="xref">Change Log</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Massive LEO constellation is expected to be used for future Internet. It has raised challenges to 
   the current IP networking technologies to support such super-fast-moving network. 
   <span>[<a href="#I-D.lhan-problems-requirements-satellite-net" class="xref">I-D.lhan-problems-requirements-satellite-net</a>]</span> has analyzed the problems when using the
   regular routing protocols in such network.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Since all satellites in a LEO constellation are well organized and form a kind of multi-layered grid network, each satellite's
   relative position in the satellite network will be steady during its life time.
   <span>[<a href="#I-D.lhan-satellite-semantic-addressing" class="xref">I-D.lhan-satellite-semantic-addressing</a>]</span> has proposed to use couple of indexes to
   identify each satellite in the network. The combination of the indexes is called the satellite semantic address. The
   semantic address can be embedded into the field of the interface identifier 
   (i.e., the rightmost 64 bits) of the IPv6 address, if IPv6 is used in the satellite network.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This memo proposes a method for routing for satellite network, it is based on
   the satellite semantic address.
   The routing information is embedded into the IPv6 packet as routing extension header defined in <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>.
   Unlike the segment routing <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span> and programming <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>,
   The new method will not use IPv6 SID (Segment Identifier) to represent the segments on the routing path.
   Instead, it will convert the segments on the path to be a list of instructions since each satellite
   could be represented by the semantic address. Each instruction can
   tell each satellite how to forward the packet to a adjacent satellite, either on the same orbit, or on the adjacent orbit.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Compared with the traditional IP forwarding, the new method will not use TCAM (Ternary Content-addressable Memory)
   lookup for IP prefix. Each satellite
   only needs to store a simple adjacency table. Therefore, the new method can save significant TCAM and the processing
   time for routing/forwarding tables.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">It must be noted this memo just describes one aspect of the whole solution for satellite constellation used for Internet access
   and NTN (Non-Terrestrial Network) integration with 5G, following
   areas are not covered in this memo and will be addressed in other documents separately:<a href="#section-1-5" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1-6">
   <li id="section-1-6.1">IP forwarding path calculation for a LEO constellation.<a href="#section-1-6.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-6.2">Data planes for different scenarios, such as Internet access and NTN integration.<a href="#section-1-6.2" class="pilcrow">¶</a>
</li>
        <li id="section-1-6.3">Other protocols for control plane.<a href="#section-1-6.3" class="pilcrow">¶</a>
</li>
      </ol>
</section>
<div id="Terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<span class="break"></span><dl class="dlParallel" id="section-2-1">
        <dt id="section-2-1.1">LEO</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.2">Low Earth Orbit with the altitude from 180 km to 2000 km.<a href="#section-2-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.3">LEO constellation</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.4">LEO constellation consists of certain number of LEOs. Each LEO has pre-assigned orbit element.<a href="#section-2-1.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.5">ISL</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.6">Inter Satellite Link<a href="#section-2-1.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.7">GS</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.8">Ground Station, a device on ground connecting satellite. In the document, GS will hypothetically 
 provide L2 and/or L3 functionality in addition to process/transmit/receive radio wave. It might be different as the reality that
 the device to process/transmit/receive radio wave and the device to provide L2 and/or L3 functionality could be separated.<a href="#section-2-1.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.9">L2</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.10">Layer 2, or Data Link Layer in OSI model <span>[<a href="#OSI-Model" class="xref">OSI-Model</a>]</span><a href="#section-2-1.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.11">L3</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.12">Layer 3, or Network Layer in OSI model <span>[<a href="#OSI-Model" class="xref">OSI-Model</a>]</span>, it is also called IP layer in TCP/IP model<a href="#section-2-1.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.13">OS</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.14">Operating System<a href="#section-2-1.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.15">NTN</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.16">Non-Terrestrial Network<a href="#section-2-1.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.17">SID</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.18">Segment Identifier<a href="#section-2-1.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.19">Sat-GS Links</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.20">Wireless links between satellites and ground-stations, it consists of uplink (from ground to satellite) and downlink (from satellite to ground.<a href="#section-2-1.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.21">Link Metrics</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.22">The cost of the outgoing interface for routing, typically, it may indicate the bandwidth, delay or other costs for the interface.<a href="#section-2-1.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.23">Sat_ID</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.24">Satellite Index, the Index for the satellite in a orbit plane, see <span>[<a href="#I-D.lhan-satellite-semantic-addressing" class="xref">I-D.lhan-satellite-semantic-addressing</a>]</span><a href="#section-2-1.24" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.25">Obp_ID</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.26">Orbit Plane Index, the Index for the orbit plane in a shell group of satellite, see <span>[<a href="#I-D.lhan-satellite-semantic-addressing" class="xref">I-D.lhan-satellite-semantic-addressing</a>]</span><a href="#section-2-1.26" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.27">Shl_ID</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.28">Shell Index, the Index for the shell group of satellite in a satellite constellation, see <span>[<a href="#I-D.lhan-satellite-semantic-addressing" class="xref">I-D.lhan-satellite-semantic-addressing</a>]</span><a href="#section-2-1.28" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.29">Intf_ID</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.30">Interface Index<a href="#section-2-1.30" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.31">Sat_Addr</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.32">Satellite Semantic Address, it consists of indexes Shl_ID, Obp_ID and Sat_ID. It is 32-bit long and
 is defined in Section 5.4 in <span>[<a href="#I-D.lhan-satellite-semantic-addressing" class="xref">I-D.lhan-satellite-semantic-addressing</a>]</span><a href="#section-2-1.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.33">Sat_MacAddr</dt>
        <dd style="margin-left: 9.0em" id="section-2-1.34">The MAC (Media Access Control) Address for a satellite<a href="#section-2-1.34" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="ReviewForLEO">
<section id="section-3">
      <h2 id="name-review-of-leo-satellite-con">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-review-of-leo-satellite-con" class="section-name selfRef">Review of LEO satellite constellation for future Internet</a>
      </h2>
<p id="section-3-1">LEO satellite constellation is expected to be integrated with terrestrial network in future Internet. 
   StarLink project <span>[<a href="#StarLink" class="xref">StarLink</a>]</span> has launched its satellites and provided the beta service in some areas.
   3GPP <span>[<a href="#ThreeGPP" class="xref">ThreeGPP</a>]</span> has studied the issues when  NTN is integrated with Internet and 5G. 
   3GPP <span>[<a href="#TR38-821" class="xref">TR38-821</a>]</span> has also proposed the 
   Satellite-based NG-RAN architectures for NTN integration.
   The targets of LEO constellation for future Internet and NTN integration are as follows:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-2">
   <li id="section-3-2.1">Global coverage: The Satellite network should cover all places on earth and any flying objects 
   as long as the place or objects are below LEO attitude and within the coverage footprint of satellite constellation, 
   the satellite network should be the complementary to terrestrial network.<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.2">Internet access: The Satellite network can provide the Internet access service for covered areas.<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.3">NTN integration: The Satellite network is fully integrated with Internet including Wireless 
   such as 4G or 5G.<a href="#section-3-2.3" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.4">Competitive service: The Satellite network can provide the services that are competitive 
   to terrestrial network
   in terms of service stability, Quality of Service, especially the latency for Satellite network is shorter.<a href="#section-3-2.4" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-3-3">As a new form of network, LEO constellation has lots of difference with the
   steady terrestrial network especially in the mobility. <span>[<a href="#I-D.lhan-problems-requirements-satellite-net" class="xref">I-D.lhan-problems-requirements-satellite-net</a>]</span> 
   has analyzed the movement and coverage of satellite. For a massive LEO constellation, all satellites are moving 
   on the allocated orbits, and form one or multiple layers of network. Finally, the massive LEO constellation
   will have the following unprecedented mobility:<a href="#section-3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-4">
   <li id="section-3-4.1">Each LEO moves at the speed of 7.x km/s.<a href="#section-3-4.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.2">Ground Stations move at the speed of 463 m/s due to earth rotation.<a href="#section-3-4.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.3">Half of LEOs move on the direction that is different with another half of LEOs.<a href="#section-3-4.3" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.4">Huge number of links between satellites and ground-stations, and all of them are constantly flipping within 
   short period of time. All Link Metrics of Sat-GS Links are also constantly changing.<a href="#section-3-4.4" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.5">All Link Metrics of ISL on the Longitude direction are constantly changing.<a href="#section-3-4.5" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.6">All Links of ISL on the Longitude direction may be interrupted at two polar areas.<a href="#section-3-4.6" class="pilcrow">¶</a>
</li>
      </ol>
</section>
</div>
<div id="InstructiveRoutingForLEO">
<section id="section-4">
      <h2 id="name-basics-of-instructive-routi">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-basics-of-instructive-routi" class="section-name selfRef">Basics of Instructive Routing</a>
      </h2>
<p id="section-4-1">When using ISL for satellites in a LEO constellation, each layer of network will
have satellite nodes connected by limited ISLs. A typical satellite will have about six ISL to connected to
its adjacent satellites in 3D space. Additionally, there might have very few numbers of ISL working as un-steady link to connect
to other satellites. Un-stead links are those between satellites moving to different directions, see 
<span>[<a href="#I-D.lhan-problems-requirements-satellite-net" class="xref">I-D.lhan-problems-requirements-satellite-net</a>]</span> for the detailed explanation.
After using the semantic address for each satellite,
the satellite relationship will be static. <a href="#SatellitesRelationship" class="xref">Figure 1</a> illustrates one satellite
and its six direct connected adjacent satellites, it is easy to determine some indexes 
of its adjacent satellites:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-2">
   <li id="section-4-2.1">S0, S1 and S2 have the same Shl_ID, the difference of Obp_ID between 
   S0 and S1, S0 and S2 are both equal to one.<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.2">S0, S3 and S4 have the same Shl_ID and Obp_ID, the difference of Sat_ID between 
   S0 and S3, S0 and S4 are both equal to one.<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.3">S0, S5 and S6 have different Shl_ID, and the difference of Shl_ID between 
   S0 and S5, S0 and S6 are both equal to one.<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-4-3">Another benefit to use the semantic address is that the packet forwarding for routing and switching will be 
simplified significantly. There will be only six major forwarding directions to the directly connected 
adjacent satellites described above, plus one or few specified directions probably. 
The specified direction is to forward packet to a specified adjacent satellite through an un-steady link. 
The un-steady link can connect to any satellite but only last for a short time. The usage
of un-steady links are expected to be limited and are not major scenarios in a LEO constellation. Following are all directions for forwarding:<a href="#section-4-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-4">
   <li id="section-4-4.1">Forward to the Sat_ID Incremental or Decremental directions.<a href="#section-4-4.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-4.2">Forward to the Obp_ID Incremental or Decremental directions.<a href="#section-4-4.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-4.3">Forward to the Shl_ID Incremental or Decremental directions.<a href="#section-4-4.3" class="pilcrow">¶</a>
</li>
        <li id="section-4-4.4">Forward to a specified satellite through an un-steady link.<a href="#section-4-4.4" class="pilcrow">¶</a>
</li>
      </ol>
<span id="name-the-leo-satellite-relations"></span><div id="SatellitesRelationship">
<figure id="figure-1">
        <div class="alignCenter art-text artwork" id="section-4-5.1">
<pre>

             ^ Shl_ID Incremental direction
             |
               /
              /
             S5    ^ Sat_ID Increment direction
            /|    /
           / |   S3
        / /  |  /       /
       / /   | /       /
      /      |/       /
     S2------S0------S1  -&gt; Obp_ID Increment direction
    /       /|   /  /
   /       / |  /  /
  /       /  | /  /
         S4  |/
             S6
            /
           /
          /

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-the-leo-satellite-relations" class="selfRef">The LEO Satellite Relationship in 3D Space</a>
        </figcaption></figure>
</div>
<p id="section-4-6"><a href="#SatelliteNetPakFwd" class="xref">Figure 2</a> illustrates a 2D example. It shows 
how a packet is forwarded in a grid satellite network. The forwarding path consists of a series of segments, and each segment 
consists of two satellites at its two ends. One segment could be on either the same orbit plane or crossing
adjacent orbit plane. Intuitively, we can obtain the list of instructions to guide the packet and get 
the forwarding behaviors at different satellites. Following is an example:<a href="#section-4-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-7">
   <li id="section-4-7.1">At S1 to S2, forward packet to the Sat_ID Incremental direction, until the packet reaches S2<a href="#section-4-7.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-7.2">At S2 to S3, forward packet to the Obp_ID Incremental direction, until the packet reaches 
       the orbit plane of S3<a href="#section-4-7.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-7.3">At S3 to S4, forward packet to the Sat_ID Incremental direction, until the packet reaches S4<a href="#section-4-7.3" class="pilcrow">¶</a>
</li>
        <li id="section-4-7.4">At S4 to S5, forward packet to the Obp_ID Decremental direction, until the packet reaches 
       the orbit plane of S5<a href="#section-4-7.4" class="pilcrow">¶</a>
</li>
        <li id="section-4-7.5">At S5 to S6, forward packet to the Sat_ID Decremental direction, until the packet reaches S6<a href="#section-4-7.5" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-4-8">Obviously, at each satellite, the forwarding logic needs to check if the satellite reaches the end of
a segment on the route path. In the regular segment routing, the SID is used to do such indication.
But for satellite network, since satellite's semantic address is embedded into the IPv6 address, 
it is not needed to include the long SID into the packet header.
Instead, it will be much saving if we only embed one of three indexes information 
of the satellite semantic address in the instruction argument, and then we can further simplify 
the above instructions as:<a href="#section-4-8" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-9">
   <li id="section-4-9.1">At S1 to S2, forward packet to the Sat_ID Incremental direction, until the packet reaches a satellite and the satellite's 
       Sad_ID is equal to the given instruction argument (S2's Satellite Index)<a href="#section-4-9.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-9.2">At S2 to S3, forward packet to the Obp_ID Incremental direction, until the packet reaches a satellite and the satellite's 
       Obp_ID is equal to the given instruction argument (S3's Orbit Plane Index)<a href="#section-4-9.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-9.3">At S3 to S4, forward packet to the Sat_ID Incremental direction, until the packet reaches a satellite and the satellite's 
       Sat_ID is equal to the given instruction argument (S4's Satellite Index)<a href="#section-4-9.3" class="pilcrow">¶</a>
</li>
        <li id="section-4-9.4">At S4 to S5, forward packet to the Obp_ID Decremental direction, until the packet reaches a satellite and the satellite's 
       Obp_ID is equal to the given instruction argument (S5's Orbit Plane Index)<a href="#section-4-9.4" class="pilcrow">¶</a>
</li>
        <li id="section-4-9.5">At S5 to S6, forward packet to the Sat_ID Decremental direction, until the packet reaches a satellite and the satellite's 
       Sat_ID is equal to the given instruction argument (S6's Satellite Index)<a href="#section-4-9.5" class="pilcrow">¶</a>
</li>
      </ol>
<span id="name-packet-forwarding-in-2d-leo"></span><div id="SatelliteNetPakFwd">
<figure id="figure-2">
        <div class="alignCenter art-text artwork" id="section-4-10.1">
<pre>


  ^ Sat_ID Incremental Direction
  |
  |
  +----&gt; Obp_ID Incremental Direction

  x: The ISL is down

       Obp_ID Obp_ID+1 Obp_ID+2 Obp_ID+3 Obp_ID+4
          |       |       |       |       |
      ----+-------S5&lt;&lt;&lt;&lt;&lt;&lt;S&lt;&lt;&lt;&lt;&lt;&lt;&lt;S4------+----
          |       V       x       ^       |
          |       V       |       ^       |
      ----+-------S6------+---x---S-------+----
          |       |       |       ^       |
          x       x       x       ^       |
      ----S2&gt;&gt;&gt;&gt;&gt;&gt;S&gt;&gt;&gt;&gt;&gt;&gt;&gt;S&gt;&gt;&gt;&gt;&gt;&gt;&gt;S3------+----
          ^       |       |       |       |
          ^       |       |       |       |
      ----S---x---+-------+-------+-------+----
          ^       |       |       |       |
          ^       |       |       |       |
      ----S1--x---+-------+-------+-------+----
          |       |       |       |       |
          |       |       |       |       |
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-packet-forwarding-in-2d-leo" class="selfRef">Packet Forwarding in 2D LEO satellite constellation network</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="HeaderForInstructiveRouting">
<section id="section-5">
      <h2 id="name-ipv6-routing-header-for-ins">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-ipv6-routing-header-for-ins" class="section-name selfRef">IPv6 Routing Header for Instructive Routing</a>
      </h2>
<p id="section-5-1">For instructive routing, IPv6 routing header is used with a new routing type "Instructive Routing Type". 
The format of the new routing header is illustrated in <a href="#IPv6_Routing_Hdr_with_Instructive_Routing_Type" class="xref">Figure 3</a>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<span id="name-the-ipv6-routing-hdr-for-in"></span><div id="IPv6_Routing_Hdr_with_Instructive_Routing_Type">
<figure id="figure-3">
        <div class="alignCenter art-text artwork" id="section-5-2.1">
<pre>

  0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Next Header   |  Hdr Ext Len  | Routing Type  | Inst. Offset  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Remained Inst. | ST  |              Rsvd                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Inst. List                         ~
|                                               +-+-+-+-+-+-+-+-+
|                                               ~   paddings    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-the-ipv6-routing-hdr-for-in" class="selfRef">The IPv6 Routing Hdr for Instructive Routing</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-5-3">
        <dt id="section-5-3.1">Routing Type</dt>
        <dd style="margin-left: 8.0em" id="section-5-3.2">Instructive Routing Type<a href="#section-5-3.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.3">Inst. Offset</dt>
        <dd style="margin-left: 8.0em" id="section-5-3.4">The offset in the number of octets from the start of Instruction List. 
     The initial value is set to 0 and it points to the 1st instruction to be executed.
            The value is incremented by the number of octets of
            the total size of a instruction after the instruction is executed.<a href="#section-5-3.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.5">Remained Inst.</dt>
        <dd style="margin-left: 8.0em" id="section-5-3.6">Remained Number of Instructions.
     The initial value is set to the total number of
            instructions. The value will be decremented by one
            after one instruction is executed. The minimum number is one, and it
 indicates that the end of instruction stack is reached.<a href="#section-5-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.7">ST</dt>
        <dd style="margin-left: 8.0em" id="section-5-3.8">The satellite address type, default is 0.<a href="#section-5-3.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.9">Inst. List</dt>
        <dd style="margin-left: 8.0em" id="section-5-3.10">A list of instructions, the size is variable.<a href="#section-5-3.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.11">Paddings</dt>
        <dd style="margin-left: 8.0em" id="section-5-3.12">Pad1 or PadN options to make the packet extension header alignment, see <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span><a href="#section-5-3.12" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="InstructionList">
<section id="section-6">
      <h2 id="name-instruction-list-for-instru">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-instruction-list-for-instru" class="section-name selfRef">Instruction List for Instructive Routing</a>
      </h2>
<p id="section-6-1">For instructive routing, the instruction list is used to instruct each satellite how to do routing job.
The format of the instruction list is illustrated in <a href="#InstructionListFormat" class="xref">Figure 4</a>.
Each instruction consists of Function Code and Arguments.<a href="#section-6-1" class="pilcrow">¶</a></p>
<span id="name-the-instruction-list-for-in"></span><div id="InstructionListFormat">
<figure id="figure-4">
        <div class="alignCenter art-text artwork" id="section-6-2.1">
<pre>

  0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Func. Code   |    Arguments  | Func. Code    |  Arguments    ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
\--------------\/--------------/ \--------------\/--------------/
         instruction[0]                   instruction[1]...
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-the-instruction-list-for-in" class="selfRef">The Instruction List for Instructive Routing</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-6-3">
        <dt id="section-6-3.1">Funct. Code</dt>
        <dd style="margin-left: 8.0em" id="section-6-3.2">Function Code, size is 1 octet<a href="#section-6-3.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-3.3">Arguments</dt>
        <dd style="margin-left: 8.0em" id="section-6-3.4">Arguments for the function, Variable length<a href="#section-6-3.4" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="InstructiveRoutingBehaviors">
<section id="section-7">
      <h2 id="name-instructive-routing-behavio">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-instructive-routing-behavio" class="section-name selfRef">Instructive Routing Behaviors</a>
      </h2>
<p id="section-7-1">The behavior for each satellite for instructive routing is described here. <a href="#Table-Functions-Arguments" class="xref">Table 1</a>
is the summary of the name, Hex values of all functions, arguments and size. New functions can be defined if needed.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The subsections below are the detailed explanation for each function.<a href="#section-7-2" class="pilcrow">¶</a></p>
<span id="name-functions-arguments-and-ref"></span><div id="Table-Functions-Arguments">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-functions-arguments-and-ref" class="selfRef">Functions, Arguments and Reference</a>
        </caption>
<thead>
          <tr>
            <th class="text-center" rowspan="1" colspan="1">Func Name/Hex Value</th>
            <th class="text-center" rowspan="1" colspan="1">Arguments/Size(Octet)</th>
            <th class="text-center" rowspan="1" colspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Inc.Sat_ID/0X01</td>
            <td class="text-center" rowspan="1" colspan="1">Sat_ID/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Inc.Sat_ID" class="xref">Section 7.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Dec.Sat_ID/0X02</td>
            <td class="text-center" rowspan="1" colspan="1">Sat_ID/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Dec.Sat_ID" class="xref">Section 7.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Inc.Obp_ID/0X03</td>
            <td class="text-center" rowspan="1" colspan="1">Obp_ID/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Inc.Obp_ID" class="xref">Section 7.3</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Dec.Obp_ID/0X04</td>
            <td class="text-center" rowspan="1" colspan="1">Obp_ID/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Dec.Obp_ID" class="xref">Section 7.4</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Inc.Shl_ID/0X05</td>
            <td class="text-center" rowspan="1" colspan="1">Shl_ID/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Inc.Shl_ID" class="xref">Section 7.5</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Dec.Shl_ID/0X06</td>
            <td class="text-center" rowspan="1" colspan="1">Shl_ID/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Dec.Shl_ID" class="xref">Section 7.6</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">End.Intf_ID/0X07</td>
            <td class="text-center" rowspan="1" colspan="1">Intf_ID/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#End.Intf_ID" class="xref">Section 7.7</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">End.Punt/0X08</td>
            <td class="text-center" rowspan="1" colspan="1">0X0/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#End.Punt" class="xref">Section 7.8</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">End.Lookup/0X09</td>
            <td class="text-center" rowspan="1" colspan="1">0X0/1</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#End.Lookup" class="xref">Section 7.9</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">End.Lookup.IPv4/0X0A</td>
            <td class="text-center" rowspan="1" colspan="1">IPv4_Addr/4</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#End.Lookup.IPv4" class="xref">Section 7.10</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">End.Lookup.IPv6/0X0B</td>
            <td class="text-center" rowspan="1" colspan="1">IPv6_Addr/16</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#End.Lookup.IPv6" class="xref">Section 7.11</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Sat_Addr/0X0C</td>
            <td class="text-center" rowspan="1" colspan="1">Sat_Addr/4</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Sat_Addr" class="xref">Section 7.12</a>
</td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Fwd.Sat_MacAddr/0X0D</td>
            <td class="text-center" rowspan="1" colspan="1">Sat_MacAddr/6</td>
            <td class="text-center" rowspan="1" colspan="1">
              <a href="#Fwd.Sat_MacAddr" class="xref">Section 7.13</a>
</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-7-4">The functions in <a href="#Fwd.Inc.Sat_ID" class="xref">Section 7.1</a> to <a href="#Fwd.Dec.Shl_ID" class="xref">Section 7.6</a> 
 are used for the instructions to forward packet to one of the six major
 directions discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>. They will call 
 API in <a href="#Forwarding_API" class="xref">Section 7.14</a> to forward the packet to the specified direction.<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5">The functions in <a href="#Fwd.Sat_Addr" class="xref">Section 7.12</a> and <a href="#Fwd.Sat_MacAddr" class="xref">Section 7.13</a>
 are used for the instructions to forward packet to a specified adjacent satellite discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>.
 They will call APIs in <a href="#Forwarding_API_SAT" class="xref">Section 7.15</a> and <a href="#Forwarding_API_SAT_MAC" class="xref">Section 7.16</a>
 respectively to forward the packet to the specified adjacent satellite.<a href="#section-7-5" class="pilcrow">¶</a></p>
<p id="section-7-6">In order to forward packet, each satellite should have an adjacency table stored locally; the table should contain 
 the information about all adjacent satellites, it should at least store:<a href="#section-7-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-7-7">
   <li id="section-7-7.1">Each adjacent satellite's semantic address.<a href="#section-7-7.1" class="pilcrow">¶</a>
</li>
        <li id="section-7-7.2">The ID of local interface connecting to each adjacent satellite.<a href="#section-7-7.2" class="pilcrow">¶</a>
</li>
        <li id="section-7-7.3">The MAC address for the remote interface of each adjacent satellite.<a href="#section-7-7.3" class="pilcrow">¶</a>
</li>
      </ol>
<div id="Fwd.Inc.Sat_ID">
<section id="section-7.1">
        <h3 id="name-fwdincsat_id">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-fwdincsat_id" class="section-name selfRef">Fwd.Inc.Sat_ID</a>
        </h3>
<p id="section-7.1-1">The definition of this function is "Forward the packet on the Satellite Index Incremental Direction until the packet reaches a 
 Satellite whose Satellite Index is equal to the value specified in the argument"<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">This function is used for the instruction to forward packet to one of the six major
 directions discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">When a satellite receives a packet with new routing header, assume the satellite indexes in the address are
Shl_index, Obp_index, Sat_index respectively, the satellite does the following. During the forwarding, the 
Forwarding_API in <a href="#Forwarding_API" class="xref">Section 7.14</a> is called to forward the packet to the specified direction.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<div id="section-7.1-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Sat_index)) {
S03.      Input_Satellite = Current Satellite;
S04.      Input_Direction = Satellite Index Incremental direction;
S05.      Forwarding_API(Packet,Input_Satellite,Input_Direction);
S06.   } else {
S07.      IOF += 2;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet;
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.1-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Fwd.Dec.Sat_ID">
<section id="section-7.2">
        <h3 id="name-fwddecsat_id">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-fwddecsat_id" class="section-name selfRef">Fwd.Dec.Sat_ID</a>
        </h3>
<p id="section-7.2-1">The definition of this function is "Forward the packet on the Satellite Index Decremental Direction until the packet reaches a 
 Satellite whose Satellite Index is equal to the value specified in the argument"<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">This function is used for the instruction to forward packet to one of the six major 
 directions discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>.<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2-3">When a satellite receives a packet with new routing header, assume the satellite indexes in the address are
Shl_index, Obp_index, Sat_index respectively, the satellite does the following. During the forwarding, the
Forwarding_API in <a href="#Forwarding_API" class="xref">Section 7.14</a> is called to forward the packet to the specified direction.<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<div id="section-7.2-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Sat_index)) {
S03.      Input_Satellite = Current Satellite;
S04.      Input_Direction = Satellite Index Decremental direction;
S05.      Forwarding_API(Packet,Input_Satellite,Input_Direction);
S06.   } else {
S07.      IOF += 2;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet;
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Fwd.Inc.Obp_ID">
<section id="section-7.3">
        <h3 id="name-fwdincopb_id">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-fwdincopb_id" class="section-name selfRef">Fwd.Inc.Opb_ID</a>
        </h3>
<p id="section-7.3-1">The definition of this function is "Forward the packet on the Orbit Plane Index Incremental Direction until the packet reaches a 
 Satellite whose Orbit Plane Index is equal to the value specified in the argument"<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">This function is used for the instruction to forward packet to one of the six major 
 directions discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
<p id="section-7.3-3">When a satellite receives a packet with new routing header, assume the satellite indexes in the address are
Shl_index, Obp_index, Sat_index respectively, the satellite does the following. During the forwarding, the
Forwarding_API in <a href="#Forwarding_API" class="xref">Section 7.14</a> is called to forward the packet to the specified direction.<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<div id="section-7.3-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Obp_index)) {
S03.      Input_Satellite = Current Satellite;
S04.      Input_Direction = Orbit Plane Index Incremental direction;
S05.      Forwarding_API(Packet,Input_Satellite,Input_Direction);
S06.   } else {
S07.      IOF += 2;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet;
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Fwd.Dec.Obp_ID">
<section id="section-7.4">
        <h3 id="name-fwddecopb_id">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-fwddecopb_id" class="section-name selfRef">Fwd.Dec.Opb_ID</a>
        </h3>
<p id="section-7.4-1">The definition of this function is "Forward the packet on the Orbit Plane Index Decremental Direction until the packet reaches a 
 Satellite whose Orbit Plane Index is equal to the value specified in the argument"<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<p id="section-7.4-2">This function is used for the instruction to forward packet to one of the six major 
 directions discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>.<a href="#section-7.4-2" class="pilcrow">¶</a></p>
<p id="section-7.4-3">When a satellite receives a packet with new routing header, assume the satellite indexes in the address are
Shl_index, Obp_index, Sat_index respectively, the satellite does the following. During the forwarding, the
Forwarding_API in <a href="#Forwarding_API" class="xref">Section 7.14</a> is called to forward the packet to the specified direction.<a href="#section-7.4-3" class="pilcrow">¶</a></p>
<div id="section-7.4-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Obp_index)) {
S03.      Input_Satellite = Current Satellite;
S04.      Input_Direction = Orbit Plane Index Decremental direction;
S05.      Forwarding_API(Packet,Input_Satellite,Input_Direction);
S06.   } else {
S07.      IOF += 2;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet;
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.4-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Fwd.Inc.Shl_ID">
<section id="section-7.5">
        <h3 id="name-fwdincshl_id">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-fwdincshl_id" class="section-name selfRef">Fwd.Inc.Shl_ID</a>
        </h3>
<p id="section-7.5-1">The definition of this function is "Forward the packet on the Orbit Shell Index Incremental Direction until the packet reaches a 
 Satellite whose Orbit Shell Index is equal to the value specified in the argument"<a href="#section-7.5-1" class="pilcrow">¶</a></p>
<p id="section-7.5-2">This function is used for the instruction to forward packet to one of the six major 
 directions discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>.<a href="#section-7.5-2" class="pilcrow">¶</a></p>
<p id="section-7.5-3">When a satellite receives a packet with new routing header, assume the satellite indexes in the address are
Shl_index, Obp_index, Sat_index respectively, the satellite does the following. During the forwarding, the
Forwarding_API in <a href="#Forwarding_API" class="xref">Section 7.14</a> is called to forward the packet to the specified direction.<a href="#section-7.5-3" class="pilcrow">¶</a></p>
<div id="section-7.5-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Shl_index)) {
S03.      Input_Satellite = Current Satellite;
S04.      Input_Direction = Orbit Shell Index Incremental direction;
S05.      Forwarding_API(Packet,Input_Satellite,Input_Direction);
S06.   } else {
S07.      IOF += 2;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet;
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.5-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Fwd.Dec.Shl_ID">
<section id="section-7.6">
        <h3 id="name-fwddecshl_id">
<a href="#section-7.6" class="section-number selfRef">7.6. </a><a href="#name-fwddecshl_id" class="section-name selfRef">Fwd.Dec.Shl_ID</a>
        </h3>
<p id="section-7.6-1">The definition of this function is "Forward the packet on the Orbit Shell Index Decremental Direction until the packet reaches a 
 Satellite whose Orbit Shell Index is equal to the value specified in the argument"<a href="#section-7.6-1" class="pilcrow">¶</a></p>
<p id="section-7.6-2">This function is used for the instruction to forward packet to one of the six major 
 directions discussed in <a href="#InstructiveRoutingForLEO" class="xref">Section 4</a>.<a href="#section-7.6-2" class="pilcrow">¶</a></p>
<p id="section-7.6-3">When a satellite receives a packet with new routing header, assume the satellite indexes in the address are
Shl_index, Obp_index, Sat_index respectively, the satellite does the following. During the forwarding, the
Forwarding_API in <a href="#Forwarding_API" class="xref">Section 7.14</a> is called to forward the packet to the specified direction.<a href="#section-7.6-3" class="pilcrow">¶</a></p>
<div id="section-7.6-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Shl_index)) {
S03.      Input_Satellite = Current Satellite;
S04.      Input_Direction = Orbit Shell Index Decremental direction;
S05.      Forwarding_API(Packet,Input_Satellite,Input_Direction);
S06.   } else {
S07.      IOF += 2;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet;
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.6-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="End.Intf_ID">
<section id="section-7.7">
        <h3 id="name-endintf_id">
<a href="#section-7.7" class="section-number selfRef">7.7. </a><a href="#name-endintf_id" class="section-name selfRef">End.Intf_ID</a>
        </h3>
<p id="section-7.7-1">The definition of this function is "End of processing for the Instructive routing, 
 remove the Instructive Routing Header, Forward the packet to the interface specified in the argument"<a href="#section-7.7-1" class="pilcrow">¶</a></p>
<p id="section-7.7-2">This function is normally used on the Dst_Sat to forward packet to Dst_GS.<a href="#section-7.7-2" class="pilcrow">¶</a></p>
<p id="section-7.7-3">When a satellite receives a packet with new routing header, the satellite does the following,
Forwarding_GS_API in <a href="#Forwarding_GS_API" class="xref">Section 7.17</a> is called to forward the packet to the specified interface.<a href="#section-7.7-3" class="pilcrow">¶</a></p>
<div id="section-7.7-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   Change the Next header in the packet header to be
          the Next Header field in the Instructive Routing header;
S03.   Remove the Instructive Routing Header;
S04.   Forwarding_GS_API(Packet, Argument);
S05.}
</pre><a href="#section-7.7-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="End.Punt">
<section id="section-7.8">
        <h3 id="name-endpunt">
<a href="#section-7.8" class="section-number selfRef">7.8. </a><a href="#name-endpunt" class="section-name selfRef">End.Punt</a>
        </h3>
<p id="section-7.8-1">The definition of this function is "End of processing for the Instructive routing, 
 remove the Instructive Routing Header, Punt the packet to the OS for process"<a href="#section-7.8-1" class="pilcrow">¶</a></p>
<p id="section-7.8-2">This function is normally used send packet to a satellite. At the destination satellite,
 the packet is punted to the OS to be processed further.<a href="#section-7.8-2" class="pilcrow">¶</a></p>
<p id="section-7.8-3">When a satellite receives a packet with new routing header, the satellite does the following:<a href="#section-7.8-3" class="pilcrow">¶</a></p>
<div id="section-7.8-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   Change the Next header in the packet header to be
         the Next Header field in the Instructive Routing header;
S03.   Remove the Instructive Routing Header;
S04.   Punt packet to the local CPU for process;
S05.}
</pre><a href="#section-7.8-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="End.Lookup">
<section id="section-7.9">
        <h3 id="name-endlookup">
<a href="#section-7.9" class="section-number selfRef">7.9. </a><a href="#name-endlookup" class="section-name selfRef">End.Lookup</a>
        </h3>
<p id="section-7.9-1">The definition of this function is "End of processing for the Instructive routing, 
 remove the Instructive Routing Header, Lookup the destination address in packet header
 and forward the packet accordingly"<a href="#section-7.9-1" class="pilcrow">¶</a></p>
<p id="section-7.9-2">This function is normally used to send packet to Dst_GS. After the packet reaches the Dst_Sat,
 the packet is forwarded to Dst_GS by looking up the destination address in the IPv6 packet header.<a href="#section-7.9-2" class="pilcrow">¶</a></p>
<p id="section-7.9-3">When a satellite receives a packet with new routing header, the satellite does the following:<a href="#section-7.9-3" class="pilcrow">¶</a></p>
<div id="section-7.9-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   Change the Next header in the packet header to be
         the Next Header field in the Instructive Routing header;
S03.   Remove the Instructive Routing Header;
S04.   Lookup the destination address in packet hdr and forward
         the packet;
S05.}
</pre><a href="#section-7.9-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="End.Lookup.IPv4">
<section id="section-7.10">
        <h3 id="name-endlookupipv4">
<a href="#section-7.10" class="section-number selfRef">7.10. </a><a href="#name-endlookupipv4" class="section-name selfRef">End.Lookup.IPv4</a>
        </h3>
<p id="section-7.10-1">The definition of this function is "End of processing for the Instructive routing, 
 remove the Instructive Routing Header, Lookup the IPv4 address specified in the argument
 and forward the packet accordingly"<a href="#section-7.10-1" class="pilcrow">¶</a></p>
<p id="section-7.10-2">This function is normally used to send packet to Dst_GS. After the packet reaches the Dst_Sat,
 the packet is forwarded to Dst_GS by looking up the IPv4 destination address specified in the Function Argument.<a href="#section-7.10-2" class="pilcrow">¶</a></p>
<p id="section-7.10-3">When a satellite receives a packet with new routing header, the satellite does the following:<a href="#section-7.10-3" class="pilcrow">¶</a></p>
<div id="section-7.10-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   Fetch the IPv4 addr in the argument;
S03.   Change the Next header in the packet header to be
         the Next Header field in the Instructive Routing header;
S04.   Remove the Instructive Routing Header;
S05.   Lookup the fetched IPv4 address and forward the packet;
S06.}
</pre><a href="#section-7.10-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="End.Lookup.IPv6">
<section id="section-7.11">
        <h3 id="name-endlookupipv6">
<a href="#section-7.11" class="section-number selfRef">7.11. </a><a href="#name-endlookupipv6" class="section-name selfRef">End.Lookup.IPv6</a>
        </h3>
<p id="section-7.11-1">The definition of this function is "End of processing for the Instructive routing, 
 remove the Instructive Routing Header, Lookup the IPv6 address specified in the argument
 and forward the packet accordingly"<a href="#section-7.11-1" class="pilcrow">¶</a></p>
<p id="section-7.11-2">This function is normally used to send packet to Dst_GS. After the packet reaches the Dst_Sat,
 the packet is forwarded to Dst_GS by looking up the IPv6 destination address specified in the Function Argument.<a href="#section-7.11-2" class="pilcrow">¶</a></p>
<p id="section-7.11-3">When a satellite receives a packet with new routing header, the satellite does the following:<a href="#section-7.11-3" class="pilcrow">¶</a></p>
<div id="section-7.11-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   Fetch the IPv6 addr in the argument;
S03.   Change the Next header in the packet header to be
         the Next Header field in the Instructive Routing header;
S04.   Remove the Instructive Routing Header;
S05.   Lookup the fetched IPv6 address and forward the packet;
S06.}
</pre><a href="#section-7.11-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Fwd.Sat_Addr">
<section id="section-7.12">
        <h3 id="name-fwdsat_addr">
<a href="#section-7.12" class="section-number selfRef">7.12. </a><a href="#name-fwdsat_addr" class="section-name selfRef">Fwd.Sat_Addr</a>
        </h3>
<p id="section-7.12-1">The definition of this function is "Forward the packet to the adjacent satellite with the address specified in
 the argument"<a href="#section-7.12-1" class="pilcrow">¶</a></p>
<p id="section-7.12-2">This function is normally used for the instruction to forward packet to an adjacent satellite specified by its Satellite Semantic Address.
 The Satellite Semantic Address is 32-bit long and is defined in Section 5.4 in <span>[<a href="#I-D.lhan-satellite-semantic-addressing" class="xref">I-D.lhan-satellite-semantic-addressing</a>]</span><a href="#section-7.12-2" class="pilcrow">¶</a></p>
<p id="section-7.12-3">When a satellite receives a packet with new routing header, assume the satellite semantic address is Sat_Addr, the satellite does the following:<a href="#section-7.12-3" class="pilcrow">¶</a></p>
<div id="section-7.12-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Sat_Addr)) {
S03.      Input_Satellite = Current Satellite;
S04.      SatAddr = Argument;
S05.      Forwarding_API_SAT(Packet,Input_Satellite,SatAddr);
S06.   } else {
S07.      IOF += 4;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet.
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.12-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Fwd.Sat_MacAddr">
<section id="section-7.13">
        <h3 id="name-fwdsat_macaddr">
<a href="#section-7.13" class="section-number selfRef">7.13. </a><a href="#name-fwdsat_macaddr" class="section-name selfRef">Fwd.Sat_MacAddr</a>
        </h3>
<p id="section-7.13-1">The definition of this function is "Forward the packet to the adjacent satellite with the MAC address specified as
 the argument"<a href="#section-7.13-1" class="pilcrow">¶</a></p>
<p id="section-7.13-2">This function is normally used for the instruction to forward packet to an adjacent satellite specified by its MAC address.<a href="#section-7.13-2" class="pilcrow">¶</a></p>
<p id="section-7.13-3">When a satellite receives a packet with new routing header, assume the satellite Mac address is Sat_MacAddr, the satellite does the following:<a href="#section-7.13-3" class="pilcrow">¶</a></p>
<div id="section-7.13-4">
<pre class="lang-pseudocode sourcecode">
S01. When an IRH is processed {
S02.   If ((RI &gt; 1) and (Argument != Sat_MacAddr)) {
S03.      Input_Satellite = Current Satellite;
S04.      SatMacAddr = Argument;
S05.      Forwarding_API_Mac(Packet,Input_Satellite,SatMacAddr);
S06.   } else {
S07.      IOF += 6;
S08.      RI --;
S09.      if (RI &lt;= 0)
              Send an ICMP Parameter Problem to the Source Address
              with Code 0 (Erroneous header field encountered)
              and Pointer set to the RI field,
              interrupt packet processing, and discard the packet.
S10.      Proceed to execute the next Instruction;
S11.   }
S12.}
</pre><a href="#section-7.13-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Forwarding_API">
<section id="section-7.14">
        <h3 id="name-forwarding_apipacketinput_s">
<a href="#section-7.14" class="section-number selfRef">7.14. </a><a href="#name-forwarding_apipacketinput_s" class="section-name selfRef">Forwarding_API(Packet,Input_Satellite,Input_Direction)</a>
        </h3>
<p id="section-7.14-1">This API will forward a packet to the specified direction. When a satellite executes the API, it will do following:<a href="#section-7.14-1" class="pilcrow">¶</a></p>
<div id="section-7.14-2">
<pre class="lang-pseudocode sourcecode">
S01. Forwarding_API(Packet,Input_Satellite,Input_Direction) {
S02.    Lookup the local adjacency table to find out
           1) The adjacent satellite of "Input_Satellite" on the
              direction equal to "Input_Direction" (The adjacent
              satellite's semantic address can be inferred by
              the "Input_Satellite" and "Input_Direction").
           2) The L2 address for the adjacent satellite;
           3) The local interface connecting to the adjacent
              satellite;
S03.    Rewrite the L2 header of the Packet by the L2 address;
S04.    Send the Packet to the local interface;
S05.}
</pre><a href="#section-7.14-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Forwarding_API_SAT">
<section id="section-7.15">
        <h3 id="name-forwarding_api_satpacketinp">
<a href="#section-7.15" class="section-number selfRef">7.15. </a><a href="#name-forwarding_api_satpacketinp" class="section-name selfRef">Forwarding_API_SAT(Packet,Input_Satellite,Sat_Addr)</a>
        </h3>
<p id="section-7.15-1">This API will forward a packet to the specified adjacent satellite with the semantic address as the argument. When a satellite executes the API, it will do following:<a href="#section-7.15-1" class="pilcrow">¶</a></p>
<div id="section-7.15-2">
<pre class="lang-pseudocode sourcecode">
S01. Forwarding_API_SAT(Packet,Input_Satellite,SatAddr) {
S02.    Lookup the local adjacency table to find out
           1) The adjacent satellite of "Input_Satellite"
              (The adjacent satellite address is SatAddr);
           2) The L2 address for the adjacent satellite;
           3) The local interface connecting to the adjacent
              satellite;
S03.    Rewrite the L2 header of the Packet by the L2 address;
S04.    Send the Packet to the local interface;
S05.}
</pre><a href="#section-7.15-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Forwarding_API_SAT_MAC">
<section id="section-7.16">
        <h3 id="name-forwarding_api_macpacketinp">
<a href="#section-7.16" class="section-number selfRef">7.16. </a><a href="#name-forwarding_api_macpacketinp" class="section-name selfRef">Forwarding_API_MAC(Packet,Input_Satellite,Sat_MacAddr)</a>
        </h3>
<p id="section-7.16-1">This API will forward a packet to the specified adjacent satellite with the MAC address as the argument. When a satellite executes the API, it will do following:<a href="#section-7.16-1" class="pilcrow">¶</a></p>
<div id="section-7.16-2">
<pre class="lang-pseudocode sourcecode">
S01. Forwarding_API_MAC(Packet,Input_Satellite,SatMacAddr) {
S02.    Lookup the local adjacency table to find out
           1) The adjacent satellite of "Input_Satellite"
              (The adjacent satellite MAC address is SatMacAddr);
           2) The L2 address for the adjacent satellite;
           3) The local interface connecting to the adjacent
              satellite;
S03.    Rewrite the L2 header of the Packet by the L2 address;
S04.    Send the Packet to the local interface;
S05.}
</pre><a href="#section-7.16-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Forwarding_GS_API">
<section id="section-7.17">
        <h3 id="name-forwarding_gs_apipacketinpu">
<a href="#section-7.17" class="section-number selfRef">7.17. </a><a href="#name-forwarding_gs_apipacketinpu" class="section-name selfRef">Forwarding_GS_API(Packet,Input_Interface)</a>
        </h3>
<p id="section-7.17-1">This API will forward a packet to ground station the connected to the specified interface. When a satellite executes the API, it will do following:<a href="#section-7.17-1" class="pilcrow">¶</a></p>
<div id="section-7.17-2">
<pre class="lang-pseudocode sourcecode">
S01. Forwarding_API(Packet,Input_Interface) {
S02.    Lookup the local adjacency table to find out
           1) The connected GS to the interface
              equal to "Input_Interface";
           2) The L2 address for the GS;
S03.    Rewrite the L2 header of the Packet by the L2 address;
S04.    Send the Packet to the "Input_Interface";
S05.}
</pre><a href="#section-7.17-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document defines a new IPv6 Routing Type: the "Instructive Routing
 Header". It needs to be assigned a number by IANA.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">This document also defines an 8-bit Function Name, for which IANA will
   create and will maintain a new sub-registry entitled "Instructive Routing Function Name" under the "Internet Protocol Version 6 (IPv6)
   Parameters" <span>[<a href="#IPv6_Parameters" class="xref">IPv6_Parameters</a>]</span> registry.  Initial values for the
   subtype registries are given in <a href="#Table-Functions-Arguments" class="xref">Table 1</a>.<a href="#section-8-2" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">The instructive routing is only applicable to a satellite network that is using the satellite semantic address.
 It will add instructive routing header at a GS and the header will be removed before reaching another GS.
 Normally, a satellite network including all GS is trusted domain. Traffic will be filtered at the domain boundaries. 
 Non-authorized users cannot access the satellite network.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-contributors">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-10-1"></p>
</section>
<section id="section-11">
      <h2 id="name-acknowledgements">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
    </h2>
</section>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC8200">[RFC8200]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Dukes, D., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8986">[RFC8986]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="seriesInfo">RFC 8986</span>, <span class="seriesInfo">DOI 10.17487/RFC8986</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;</span>. </dd>
<dd class="break"></dd></dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.lhan-problems-requirements-satellite-net">[I-D.lhan-problems-requirements-satellite-net]</dt>
        <dd>
<span class="refAuthor">Han, L.</span>, <span class="refAuthor">Li, R.</span>, <span class="refAuthor">Retana, A.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Su, L.</span>, and <span class="refAuthor">N. Wang</span>, <span class="refTitle">"Problems and Requirements of Satellite Constellation for Internet"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-lhan-problems-requirements-satellite-net-02</span>, <time datetime="2022-02-13" class="refDate">13 February 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-lhan-problems-requirements-satellite-net-02">https://datatracker.ietf.org/doc/html/draft-lhan-problems-requirements-satellite-net-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.lhan-satellite-semantic-addressing">[I-D.lhan-satellite-semantic-addressing]</dt>
        <dd>
<span class="refAuthor">Han, L.</span> and <span class="refAuthor">R. Li</span>, <span class="refTitle">"Satellite Semantic Addressing for Satellite Constellation"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-lhan-satellite-semantic-addressing-00</span>, <time datetime="2021-10-19" class="refDate">19 October 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-lhan-satellite-semantic-addressing-00">https://datatracker.ietf.org/doc/html/draft-lhan-satellite-semantic-addressing-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="StarLink">[StarLink]</dt>
        <dd>
<span class="refTitle">"Star Link"</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Starlink">https://en.wikipedia.org/wiki/Starlink</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ThreeGPP">[ThreeGPP]</dt>
        <dd>
<span class="refTitle">"3GPP"</span>, <span>&lt;<a href="https://www.3gpp.org/">https://www.3gpp.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OSI-Model">[OSI-Model]</dt>
        <dd>
<span class="refTitle">"OSI Model"</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/OSI_model">https://en.wikipedia.org/wiki/OSI_model</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TR38-821">[TR38-821]</dt>
        <dd>
<span class="refTitle">"Solutions for NR to support Non-Terrestrial Networks (NTN)"</span>, <span>&lt;<a href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3525">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3525</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IPv6_Parameters">[IPv6_Parameters]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Internet Protocol Version 6 (IPv6) Parameters"</span>, <span>&lt;<a href="https://www.iana.org/assignments/ipv6-parameters/ipv6-parameters.xhtml#ipv6-parameters-3">https://www.iana.org/assignments/ipv6-parameters/ipv6-parameters.xhtml#ipv6-parameters-3</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-change-log">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<ul class="normal">
<li class="normal" id="appendix-A-1.1">Initial version, 02/28/2022<a href="#appendix-A-1.1" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lin Han (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Futurewei Technologies, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">2330 Central Express Way</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara, CA 95050</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lhan@futurewei.com" class="email">lhan@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Alvaro Retana</span></div>
<div dir="auto" class="left"><span class="org">Futurewei Technologies, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">2330 Central Express Way</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara, CA 95050</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:alvaro.retana@futurewei.com" class="email">alvaro.retana@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Richard Li</span></div>
<div dir="auto" class="left"><span class="org">Futurewei Technologies, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">2330 Central Express Way</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara, CA 95050</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rli@futurewei.com" class="email">rli@futurewei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
