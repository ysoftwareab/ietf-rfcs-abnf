
Internet Draft                                             Stephen Bush
Expires in June 1997                                    Sunil Jagannath
<draft-bush-ncp-config-01.txt>                                     ITTC
                                                       January 16, 1997


Network Control Protocol for the Configuration of Mobile Wireless ATM
                     Beamformed GPS-Based Networks

Status of this Memo


   This document is a submission by the Information and Telecommunica-
   tions Technologies Center (ITTC) at the University of Kansas. Com-
   ments should be submitted to sbush@ittc.ukans.edu.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft.  Internet-Drafts are working doc-
   uments of the Internet Engineering Task Force (IETF), its areas, and
   its working groups.  Note that other groups may also distribute work-
   ing documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference mate-
   rial or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
   Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

Abstract

   The Network Control Protocol (NCP) is used in support of an ATM-based
   wireless communication system [4,5] that will be adaptive at both the
   link and network levels to allow for rapid deployment and response to
   a changing environment. The objective of the architecture is to use
   adaptive point-to-point topology to gain the advantages of ATM for
   wireless networks. A prototype of this system has been implemented
   and will be demonstrated over a wide area network. The system adapts
   to its environment and can automatically arrange itself into a high
   capacity, fault tolerant, and reliable network.  The network archi-
   tecture is composed of two overlaid networks:

   1. A low bandwidth, low power omni-directional network for location



Bush & Jagannath        Expires in December 1997                [Page 1]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   dissemination, switch coordination, and management which is the
   orderwire network described in this section,

   2. A ``cellular-like'' system for multiple end-user access to the
   switch using directional antennas for spatial reuse, and and a high
   capacity, highly directional, multiple beam network for switch-to-
   switch communication.

   The network currently consists of two types of nodes, ENs and RNs.
   ENs were designed to reside on the edge of a wired network and pro-
   vide access to the wireless network; however, ENs also have wireless
   links.  The EN components include ESs and optionally an ATM switch, a
   radio handling the ATM-based communications, a packet radio for the
   low speed orderwire running a protocol based on X.25 [1], GPS
   receiver, and a processor. Host nodes or remote nodes (RN) consist of
   the above, but do not contain an ATM switch.  The ENs and RNs also
   include a phased array steerable antenna.  The network uses position
   information from the GPS for steering antenna beams toward nearby
   nodes and nulls toward interferers, thus establishing the high capac-
   ity links.  Note that multiple RNs may share the same beam from the
   ES.  The decision involving which beams to establish and which fre-
   quencies to use is made by the NCP which is discussed in the next
   section.

   The ES has the capability of switching ATM cells among connected RNs
   or passing the cells on to an ATM switch to wire-based nodes. Note
   that the differences between an ES and RN are that the ES performs
   switching and has the capability of higher speed radio links with
   other Edge Switches as well as connections to wired ATM networks.

   The orderwire network uses a low power, omni-directional channel,
   operating at 19200 bps, for signaling, control, and communicating
   node locations to other network elements. The orderwire aids link
   establishment between the ESs and between the RNs and ESs, tracking
   remote nodes and determining link quality. The orderwire operates
   over packet radios and is part of the NCP. The protocol stack for
   this network is shown in Table 1.

Network Control Protocol Description

 Network Control Protocol Terminology


   This section defines some of the terminology used in the Description
   of the NCP operation.






Bush & Jagannath        Expires in December 1997                [Page 2]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


     o   "AX.25"

         Asynchronous X.25 Protocol (See [1]).

     o   "Callsign"

         The packet radio callsign is assigned by the FCC and
         identifies the packet radio operator.

     o   "Edge Switch" (ES)

         A node which either resides within the wireless
         network or at the edge of the fixed and
         wireless network and which serves as a base station.

     o   "Global Positioning System" (GPS)

          Satellite system which provides location and time.

     o   "Remote Node" (RN)

         A host with the ability to connect via a beamforming
         antenna to an edge switch (ES).


 Network Control Protocol Operation


   The protocol stack for the wireless system [4,5] is shown in Table 1.
   At the physical level we will be using the orderwire to exchange
   position, time and link quality information and to setup the wireless
   connections. The process of setting up the wireless connections
   involves setting up links between ESs and between ESs and RNs.


















Bush & Jagannath        Expires in December 1997                [Page 3]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


     -------------------------------------------------------------------------
     | Wireless Link Protocol     | Signaling Protocol |  Band               |
     -------------------------------------------------------------------------
     | TCP/UDP                    |                    |  In-Band            |
     -------------------------------------------------------------------------
     | Mobile IP                  |                    |  In-Band            |
     -------------------------------------------------------------------------
     | IP over ATM                |                    |  In-Band            |
     -------------------------------------------------------------------------
     | AAL 5                      |                    |  In-Band            |
     -------------------------------------------------------------------------
     | ATM                        | Q.2931             |  In-Band            |
     -------------------------------------------------------------------------
     | Adaptive HDLC              |                    |  In-Band            |
     -------------------------------------------------------------------------
     | Virtual Fiber (Radio Link) | NCP                |  Out-of-Band        |
     -------------------------------------------------------------------------

                             Table 1: Protocol Stack



   The network will have one Master ES, which will run the topology con-
   figuration algorithm and distribute the resulting topology informa-
   tion to all the connected ESs over point-to-point orderwire packet
   radio links. In the current prototype the point-to-point link layer
   for the orderwire uses AX.25 [1].  The Master ES is initially the
   first active ES, and any ES has the capability of becomming a Master
   ES.

   The following description of the RDRN Orderwire operation references
   the state transitions labeled in Table 2.  The first ES to become
   active initially broadcasts its callsign and start-up-time in a
   MYCALL packet and listens for responses from any other ESs (Label I1
   in Table 2). In this prototype system, the packet radio callsign is
   assigned by the FCC and identifies the radio operator. Since it is
   assumed that this is the first active ES, there is no response within
   the given time period, T. At the end of T seconds, the ES rebroad-
   casts its MYCALL packet and waits another T seconds. At the end of 2T
   seconds, if there are still no responses from other ESs, the ES acti-
   vates and takes on the role of the Master ES (Label I4 in Table 2).
   If the first two or more ESs start up within T seconds of each other,
   at the end of the interval T, the ESs compare the start-up times in
   all the received MYCALL packets and the ES with the oldest start-up
   time becomes the Master ES. In this system, accurate time stamps are
   provided by the GPS receiver.

   Each successive ES that becomes active broadcasts its callsign in a



Bush & Jagannath        Expires in December 1997                [Page 4]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   MYCALL packet (Label I1 in Table 2). Upon receipt of a MYCALL packet,
   the Master ES extracts the callsign of the source, establishes an
   AX.25 point-to-point link to the new ES and sends it a NEWSWITCH
   packet (Label I2 in Table 2).  On receipt of the NEWSWITCH packet
   over a point-to-point orderwire link, the ES obtains its position
   from its GPS receiver and sends its position to the Master ES as a
   SWITCHPOS packet over the point-to-point orderwire link (Label I3 in
   Table 2). On receipt of a SWITCHPOS packet, the Master ES records the
   position of the new ES in its switch position table and runs the
   topology configuration algorithm to determine the best possible
   interconnection of all the ESs. The master then distributes the
   resulting information to all the ESs in the form of a TOPOLOGY packet
   over the point-to-point orderwire links (Label I4 in Table 2). Each
   ES then uses this information to setup the ES links as specified by
   the topology algorithm. The Master ES also distributes a copy of its
   switch position table to all the ESs over the AX.25 point-to-point
   orderwire links which they can use in configuring RNs as discussed
   below.  The ES then uses the callsign information in the switch posi-
   tion table to setup any additional point-to-point orderwire packet
   radio links corresponding to the ES links required to exchange any
   link quality information.  Thus, this scheme results in a point-to-
   point star network of orderwire links with the Master ES at the cen-
   ter of the star and the point-to-point orderwire links between those
   ESs which have a corresponding ES links.  In the event of failure of
   the master node which can be detected by listening for the AX-25 mes-
   sages generated on node failure, the remaining ESs exchange MYCALL
   packets (Label I1-I3 in Table 2), elect a new master node, and the
   network of ESs is reconfigured using the topology configuration algo-
   rithm (I4).

   The ES/RN operation is described by Tables 2 and 3. The packet con-
   tents are shown in Table 4.  Each RN that becomes active obtains its
   position from its GPS receiver and broadcasts its position as a
   USER_POS packet over the orderwire network (Label A1 in Table 3). The
   timeout value in Table 3 is the USER_POS update period. The USER_POS
   packet is received by all ESs within range (Label A2 in Table 3).
   Each ES then computes the distance between the RN which originated
   the USER_POS message and all ESs within range. This is possible since
   each ES has the positions of all the other ESs from the switch posi-
   tion table. An initial guess at the best ES to handle the RN is the
   closest ES. This ES then feeds the new RN's position information
   along with the positions of all its other connected RNs to the beam-
   forming algorithm. The beamforming algorithm returns the steering
   angles for each of the beams originating from the ES so that all the
   RNs are covered.  If the beamforming algorithm determines that a beam
   and TDMA time slot are available to support the new RN, the ES steers
   its beams so that all its connected RNs and the new RN are covered
   (Label R1 in Table 3). The ES also records the new RN's position in



Bush & Jagannath        Expires in December 1997                [Page 5]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   its user position table, establishes a point-to-point orderwire link
   to the new RN, and sends the new RN a HANDOFF packet with link setup
   information indicating that the RN is associated with it (Label R2 in
   Table 3). If the new RN cannot be accommodated, the ES sends it a
   HANDOFF packet with the callsign of the next closest ES, to which the
   RN sends another USER_POS packet over a point-to-point orderwire
   link.  This ES then uses the beamform algorithm to determine if it
   can handle the RN.

   This scheme uses feedback from the beamforming algorithm together
   with the distance information to configure the RN. It should be noted
   that the underlying AX.25 protocol [1] provides error free transmis-
   sions over point-to-point orderwire links. Also the point-to-point
   orderwire link can be established from either end and the handshake
   mechanism for setting up such a link is handled by AX.25. If the RN
   does not receive a HANDOFF packet within a given time it uses a retry
   mechanism to ensure successful broadcast of its USER_POS packet.

   A point-to-point orderwire link is retained as long as a RN is con-
   nected to a particular ES and a corresponding high-speed link exists
   between them to enable exchange of link quality information. The link
   can be torn down when the mobile RN migrates to another ES in case of
   a hand-off.  Thus at the end of this network configuration process,
   three overlaid networks are established; an orderwire network, an RN
   to ES network, and an ES to ES network. The orderwire network has
   links between the Master ES and every other active ES in a star con-
   figuration, links between ESs connected by ES links as well as links
   between RNs and the ESs to which they are connected.  Raw pipes for
   the user data links between RNs and appropriate ESs as well as for
   the user data links between ESs are also established.  Finally, see
   [2, 3] for the definition of managed objects for the NCP and Virtual
   Network Configuration (VNC).



















Bush & Jagannath        Expires in December 1997                [Page 6]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


     ------------------------------------------------------------------------
     |State       | Input       | Output           | Next State     | Label |
     ------------------------------------------------------------------------
     |Init.       | None        | MYCALL           | Init.          | I1    |
     |            | MYCALL      | NEWSWITCH        | Init.          | I2    |
     |            | NEWSWITCH   | None             | Init.          | I3    |
     ------------------------------------------------------------------------
     |master only | Timeout (T) | TOPOLOGY         | Active         | I4    |
     ------------------------------------------------------------------------
     |            | TOPOLOGY    | None             | Active         | I4    |
     ------------------------------------------------------------------------
     |Active      | USER_POS    | None             | RnUpdate       | A1    |
     |            | TOPOLOGY    | None             | Active         | A2    |
     |            | MYCALL      | None             | Init.          | A3    |
     |            | SWITCHPOS   | None             | Init.          | A4    |
     ------------------------------------------------------------------------
     |RnUpdate    | None        | None             | Active         | R1    |
     |            | None        | HANDOFF          | Active         | R2    |
     ------------------------------------------------------------------------

                     Table 2: ES Finite State Machine



     ------------------------------------------------------------------------
     |State       | Input       | Output           | Next State     | Label |
     ------------------------------------------------------------------------
     |Init.       | None        | None             | Active         | C1    |
     ------------------------------------------------------------------------
     |Active      | timeout     | USER_POS         | Active         | A1    |
     |            | HANDOFF     | None             | Init.          | A2    |
     ------------------------------------------------------------------------

                     Table 3: RN Finite State Machine


 Network Control Protocol Packet Types


   The network control protocol uses the following packet types shown
   below.










Bush & Jagannath        Expires in December 1997                [Page 7]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


     -------------------------------------------------------------------------
     |MYCALL    | Callsign, Boot-Time                                        |
     -------------------------------------------------------------------------
     |NEWSWITCH | empty packet                                               |
     -------------------------------------------------------------------------
     |SWITCHPOS | GPS Time, GPS Position                                     |
     -------------------------------------------------------------------------
     |TOPOLOGY  | Callsign and Position of each node with inter-connections  |
     -------------------------------------------------------------------------
     |USER_POS  | Callsign, GPS Time, GPS Position                           |
     -------------------------------------------------------------------------
     |HANDOFF   | Frequency, Time Slot, ES GPS Position                      |
     -------------------------------------------------------------------------

                     Table 4: NCP Packet Contents



   The MYCALL packet contains the ES identifier (packet radio Callsign)
   and the time it powered-up.

   The NEWSWITCH packet is an empty packet which serves as an acknowl-
   edgment and completes the handshake between the ES and RN.

   The SWITCHPOS packet contains the current ES time and location.

   The TOPOLOGY packet contains packet radio callsigns and positions of
   all nodes and the beamformed links to be established between them.

   The USER_POS packet contains the callsign, current time, and position
   of an RN.

   The HANDOFF packet contains the frequency, time slot, and ES posi-
   tion. It is sent by an ES to a RN indicating handoff to this ES.

Security Considerations


   All orderwire packets are DES encrypted.

References

   [1] AX.25 Amateur Packet Radio Link-Layer Protocol, IEEE  October
       (1984).

   [2] The Definition of Managed Objects for the Configuration of
       Mobile Wireless Beamformed GPS-Based Networks,
       draft-bush-rdrn-mib-01.txt, Stephen F. Bush, Sunil Jagannath.



Bush & Jagannath        Expires in December 1997                [Page 8]

Internet-Draft       Mobile GPS-Based Configuration      13 January 1997


   [3] The Definition of Managed Objects for Virtual Network
       Configuration, draft-bush-vnc-mib-01.txt, Stephen F. Bush,
       Sunil Jagannath.

   [4] The Design and Analysis of Virtual Network Configuration for a
       Wireless Mobile ATM Network, Stephen F. Bush, PhD Thesis,
       University of Kansas, August, 1997.

   [5] A Control and Management Network for Wireless ATM Systems,
       Stephen F. Bush and Sunil Jagannath and Joseph B. Evans,
       and Victor Frost and Gary Minden and K. Sam Shanmugan, August,
       1997, ACM-Baltzer Wireless Networks (WINET),
       http://www.ittc.ukans.edu/~sbush.

Author's Address


   Stephen F. Bush
   Sunil Jagannath
   Information and Telecommunications Technologies Center (ITTC)
   University of Kansas
   Lawrence, Kansas 66045

   Phone: (913) 864-7761

   EMail: sbush@ittc.ukans.edu

























Bush & Jagannath        Expires in December 1997                [Page 9]
