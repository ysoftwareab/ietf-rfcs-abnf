<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Representation of Uncertainty and Confidence in PIDF-LO</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Representation of Uncertainty and Confidence in PIDF-LO">
<meta name="keywords" content="Internet-Draft, Uncertainty, Confidence, Location, PIDF-LO, Accuracy, Precision, GML, Geodetic, Centroid">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">GEOPRIV</td><td class="header">M. Thomson</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">J. Winterbottom</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Andrew</td></tr>
<tr><td class="header">Expires: December 7, 2008</td><td class="header">June 05, 2008</td></tr>
</table></td></tr></table>
<h1><br />Representation of Uncertainty and Confidence in PIDF-LO<br />draft-thomson-geopriv-uncertainty-01</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on December 7, 2008.</p>

<h3>Abstract</h3>

<p>The key concepts of uncertainty and confidence as they pertain to location information are defined.  A form for the representation of confidence in Presence Information Data Format - Location Object (PIDF-LO) is described, optionally including the form of the uncertainty.  Suggested methods for the manipulation of location estimates that include uncertainty information are outlined.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#terminology">1.1.</a>&nbsp;
Conventions and Terminology<br />
<a href="#general">2.</a>&nbsp;
A General Definition of Uncertainty and Confidence<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">2.1.</a>&nbsp;
Uncertainty as a Probability Distribution<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">2.2.</a>&nbsp;
Deprecation of the Terms Precision and Resolution<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.3.</a>&nbsp;
Accuracy as a Qualitative Concept<br />
<a href="#location">3.</a>&nbsp;
Uncertainty in Location<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
Representation of Uncertainty and Confidence in PIDF-LO<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
Uncertainty and Confidence for Civic Addresses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.3.</a>&nbsp;
DHCP Location Configuration Information and Uncertainty<br />
<a href="#manipulation">4.</a>&nbsp;
Manipulation of Uncertainty<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#nominal">4.1.</a>&nbsp;
Reduction of a Location Estimate to a Point<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#centroid">4.1.1.</a>&nbsp;
Centroid Calculation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scaling">4.2.</a>&nbsp;
Increasing and Decreasing Uncertainty and Confidence<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scale-rectangular">4.2.1.</a>&nbsp;
Rectangular Distributions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scale-normal">4.2.2.</a>&nbsp;
Normal Distributions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#inarea">4.3.</a>&nbsp;
Determining Whether a Location is Within a Given Region<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.3.1.</a>&nbsp;
Determining the Area of Overlap for Two Circles<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#obfuscation">4.4.</a>&nbsp;
Obfuscation of Location Estimates for Privacy Reasons<br />
<a href="#examples">5.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.1.</a>&nbsp;
Reduction to a Point or Circle<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.2.</a>&nbsp;
Increasing and Decreasing Confidence<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.3.</a>&nbsp;
Matching Location Estimates to Regions of Interest<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.4.</a>&nbsp;
Obfuscating Location Estimates<br />
<a href="#schema">6.</a>&nbsp;
Confidence Schema<br />
<a href="#security">7.</a>&nbsp;
Security Considerations<br />
<a href="#iana">8.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">8.1.</a>&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:geopriv:conf<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">8.2.</a>&nbsp;
XML Schema Registration<br />
<a href="#ack">9.</a>&nbsp;
Acknowledgements<br />
<a href="#ecef2geo">Appendix&nbsp;A.</a>&nbsp;
Conversion Between Cartesian and Geodetic Coordinates<br />
<a href="#polygonupnormal">Appendix&nbsp;B.</a>&nbsp;
Calculating the Upward Normal of a Polygon<br />
<a href="#rfc.references1">10.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">10.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">10.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Location information represents an estimation of the position of a Target.  Under ideal circumstances, a location estimate precisely reflects the actual location of the Target.  In reality, there are many factors that introduce errors into the measurements that are used to determine location estimates.
      
</p>
<p>The process by which measurements are combined to generate a location estimate is outside of the scope of work within the IETF.  However, the results of such a process are carried in IETF data formats and protocols.  This document outlines how uncertainty, and its associated datum, confidence, are expressed and interpreted.
      
</p>
<p>The goal of this document is to provide a common nomenclature for discussing uncertainty.  An xml format for expressing confidence, a datum previously inexpressible in the Presence Information Data Format - Location Object (PIDF-LO), is defined.
      
</p>
<p>This document also provides guidance on how to use location information that includes uncertainty.  Methods for expanding or reducing uncertainty to obtain a required level of confidence are described.  Methods for determining the probability that a Target is within a specified region based on their location estimate are described.  These methods are simplified by making certain assumptions about the location estimate and are designed to be applicable to location estimates in a relatively small area.
      
</p>
<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Conventions and Terminology</h3>

<p>This document assumes a basic understanding of the principles of mathematics, particularly statistics and geometry.
        
</p>
<p>Some terminology is borrowed from <a class='info' href='#RFC3693'>[RFC3693]<span> (</span><span class='info'>Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;Geopriv Requirements,&rdquo; February&nbsp;2004.</span><span>)</span></a>.
</p>
<p>Mathematical formulae are presented using the following notation: add <tt>+</tt>, subtract <tt>-</tt>, multiply <tt>*</tt>, divide <tt>/</tt>, power <tt>^</tt> and absolute value <tt>|x|</tt>.  Precedence is indicated using parentheses.  Mathematical functions are represented by common abbreviations: square root <tt>sqrt</tt>, sine <tt>sin</tt>, cosine <tt>cos</tt>, inverse cosine <tt>acos</tt>, tangent <tt>tan</tt>, inverse tangent <tt>atan</tt>, inverse error function <tt>erfinv</tt>.
        
</p>
<p> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
        
</p>
<a name="general"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
A General Definition of Uncertainty and Confidence</h3>

<p>Uncertainty, as a general concept, is a product of the limitations of measurement.  In measuring any observable quantity, errors from a range of sources affect the result.
      
</p>
<p>When quantifying the impact of measurement errors, two values are used.  The first value expresses the magnitude of the possible error, which is the estimated <em>uncertainty</em> value.  Uncertainty is most often expressed as a range in the same units as the result.  The second value is <em>confidence</em>, which estimates the probability that the true value lies within the extents defined by the uncertainty.
      
</p>
<p>In the following example, the result is shown with a range specified by a nominal value and an uncertainty value.
      </p>
<blockquote class="text">
<p>e.g.  x = 1.00742 +/- 0.0043 meters at 95% confidence
        
</p>
</blockquote><p>
      In other words, the true value of <tt>x</tt> is 95% likely to be between 1.00312 and 1.01172 meters.
      
</p>
<p>Uncertainty and confidence for location estimates can be derived in a number of ways.  It is out of the scope of this document to describe methods for determining uncertainty.  <a class='info' href='#ISO.GUM'>[ISO.GUM]<span> (</span><span class='info'>ISO/IEC, &ldquo;Guide to the expression of uncertainty in measurement (GUM),&rdquo; 1995.</span><span>)</span></a> and <a class='info' href='#NIST.TN1297'>[NIST.TN1297]<span> (</span><span class='info'>Taylor, B. and C. Kuyatt, &ldquo;Guidelines for Evaluating and Expressing the Uncertainty of NIST Measurement Results,&rdquo; Sep&nbsp;1994.</span><span>)</span></a> provide guidelines for managing and manipulating measurement uncertainty.
      
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Uncertainty as a Probability Distribution</h3>

<p>It is helpful to think of the uncertainty and confidence as defining a probability density function (PDF).  The probability density indicates the probability that the true value lies at any one point.  The shape of the probability distribution depends on the method that is used to determine the result.  Two probability density functions are considered in this document:
        </p>
<ul class="text">
<li>The normal PDF (also referred to as a Gaussian PDF) is used where a large number of small random factors contribute to errors.  The value used for uncertainty in a normal PDF is related to the standard deviation of the distribution.
          
</li>
<li>A rectangular PDF is used where the errors are known to be consistent across a limited range.  The value used for uncertainty where a rectangular PDF is known is the half-width of the distribution; that is, half the width of the distribution.
          
</li>
</ul><p>
        
</p>
<p>Each of these probability density functions can be characterized by its center point, or mean, and its width.  For a normal distribution, uncertainty and confidence together are related to the standard deviation (see <a class='info' href='#scaling'>Section&nbsp;4.2<span> (</span><span class='info'>Increasing and Decreasing Uncertainty and Confidence</span><span>)</span></a>).  For a rectangular distribution, half of the width of the distribution is used.
        
</p>
<p><a class='info' href='#pdf'>Figure&nbsp;1<span> (</span><span class='info'>Normal and Rectangular Probability Density Functions</span><span>)</span></a> shows a normal and rectangular probability density function with the mean (m) and standard deviation (s) labelled.  The half-width (h) of the rectangular distribution is also indicated.
        
</p><br /><hr class="insert" />
<a name="pdf"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                             *****             *** Normal PDF
                           **  :  **           --- Rectangular PDF
                         **    :    **
                        **     :     **
             ,---------*---------------*---------.
             |        **       :       **        |
             |       **        :        **       |
             |      * &lt;-- s --&gt;:          *      |
             |     * :         :         : *     |
             |    **           :           **    |
             |   *   :         :         :   *   |
             |  *              :              *  |
             |**     :         :         :     **|
            **                 :                 **
         *** |       :         :         :       | ***
     *****   |                 :&lt;------ h ------&gt;|   *****
 .****-------+.......:.........:.........:.......+-------*****.
                               m
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Normal and Rectangular Probability Density Functions&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>In relation to a PDF, uncertainty represents a certain range of values and confidence is the probability that the true value is found within that range.  Confidence is defined as the integral of the PDF over the range represented by the uncertainty.

        </p>
<blockquote class="text">
<p>The probability of the actual value falling between two points is found by finding the area under the curve between the points (that is, the integral of the curve between the points).  For any given PDF, the area under the curve for the entire range from negative infinity to positive infinity is 1 or (100%).  Therefore, the confidence over any interval of uncertainty is always less than 100%.
          
</p>
</blockquote><p>
        <a class='info' href='#pdfintegral'>Figure&nbsp;2<span> (</span><span class='info'>Confidence as the Integral of a PDF</span><span>)</span></a> shows how confidence is determined for a normal distribution.  The area of the shaded region gives the confidence (c) for the interval between <tt>m-u</tt> and <tt>m+u</tt>.
        
</p><br /><hr class="insert" />
<a name="pdfintegral"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                             *****
                           **:::::**
                         **:::::::::**
                        **:::::::::::**
                       *:::::::::::::::*
                      **:::::::::::::::**
                     **:::::::::::::::::**
                    *:::::::::::::::::::::*
                   *:::::::::::::::::::::::*
                  **:::::::::::::::::::::::**
                 *:::::::::::: c ::::::::::::*
                *:::::::::::::::::::::::::::::*
              **|:::::::::::::::::::::::::::::|**
            **  |:::::::::::::::::::::::::::::|  **
         ***    |:::::::::::::::::::::::::::::|    ***
     *****      |:::::::::::::::::::::::::::::|      *****
 .****..........!:::::::::::::::::::::::::::::!..........*****.
                |              |              |
              (m-u)            m            (m+u)
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Confidence as the Integral of a PDF&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>It can be seen from these diagrams that, when expressing uncertainty, the value for uncertainty is the range of values and confidence is the probability that the true value is found within that range.
        
</p>
<p>In <a class='info' href='#scaling'>Section&nbsp;4.2<span> (</span><span class='info'>Increasing and Decreasing Uncertainty and Confidence</span><span>)</span></a>, methods are described for manipulating uncertainty and confidence if the shape of the PDF is known.
        
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Deprecation of the Terms Precision and Resolution</h3>

<p>The terms <em>Precision</em> and <em>Resolution</em> are defined in <a class='info' href='#RFC3693'>RFC 3693<span> (</span><span class='info'>Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;Geopriv Requirements,&rdquo; February&nbsp;2004.</span><span>)</span></a> [RFC3693].  These definitions were intended to provide a common nomenclature for discussing uncertainty; however, these particular terms have many different uses in other fields and their definitions are not sufficient to avoid confusion about their meaning.  These terms MUST NOT be used in relation to quantitative concepts when discussing uncertainty and confidence in relation to location information.
        
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Accuracy as a Qualitative Concept</h3>

<p>Uncertainty and confidence are quantitative concepts.  The term <em>Accuracy</em> is useful in describing, qualitatively, the general concepts of location information.  Accuracy MAY be used as a general term when describing location estimates.  Accuracy MUST NOT be used in a quantitative context.
        
</p>
<p>For instance, it could be appropriate to say that a location estimate with uncertainty <tt>X</tt> is more accurate than a location estimate with uncertainty <tt>2X</tt> at the same confidence.  It is not appropriate to assign a number to "accuracy", nor is it appropriate to refer to any component of uncertainty or confidence as "accuracy". That is, to say that the "accuracy" for the first location estimate is <tt>X</tt> would be an erroneous use of this term.
        
</p>
<a name="location"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Uncertainty in Location</h3>

<p>A <em>location estimate</em> is the result of location determination.  A location estimate is subject to uncertainty like any other observation.  However, unlike a simple measure of a one dimensional property like length, a location estimate is specified in two or three dimensions.
      
</p>
<p>Uncertainty in a single dimension is expressed as a range; that is, a length of uncertainty in one dimension.  Locations in two or three dimensional space are expressed as a subset of that space, either an area or volume of uncertainty.  In simple terms, areas or volumes can be formed by the combination of two or three ranges, or more complex shapes could be described.
      
</p>
<p>This document uses the term <em>region of uncertainty</em> to refer to the uncertainty of a location estimate expressed either as an area or volume.
      
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Representation of Uncertainty and Confidence in PIDF-LO</h3>

<p>A set of shapes that can be used for the expression of uncertainty in location estimates are described in <a class='info' href='#GeoShape'>[GeoShape]<span> (</span><span class='info'>Thomson, M. and C. Reed, &ldquo;GML 3.1.1 PIDF-LO Shape Application Schema for use by the           Internet Engineering Task Force (IETF),&rdquo; April&nbsp;2007.</span><span>)</span></a>.  These shapes are the recommended form for the representation of uncertainty in <a class='info' href='#RFC4119'>PIDF-LO<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4119] documents.  However, these shapes do not include an indication of confidence.
        
</p>
<p>A schema defining a confidence element is included in <a class='info' href='#schema'>Section&nbsp;6<span> (</span><span class='info'>Confidence Schema</span><span>)</span></a>.  This element also includes an optional parameter that defines the PDF.
        
</p>
<p>Absence of uncertainty information in a PIDF-LO document does not indicate that there is no uncertainty in the location estimate.  Uncertainty might not have been calculated for the estimate, or it may be withheld for privacy purposes.
        
</p>
<p>The confidence element is included within the <tt>location-info</tt> element of the PIDF-LO.  The PIDF-LO document in <a class='info' href='#ex-pidflo'>Figure&nbsp;3<span> (</span><span class='info'>Example PIDF-LO with Confidence and Uncertainty</span><span>)</span></a> includes a representation of uncertainty as a circular area.  The confidence element (on the line marked with a comment) indicates that the confidence is 67% and that it follows a normal distribution.
        
</p><br /><hr class="insert" />
<a name="ex-pidflo"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;pidf:presence
      xmlns:pidf="urn:ietf:params:xml:ns:pidf"
      xmlns:dm="urn:ietf:params:xml:ns:pidf:data-model"
      xmlns:gp="urn:ietf:params:xml:ns:pidf:geopriv10"
      xmlns:gs="http://www.opengis.net/pidflo/1.0"
      xmlns:gml="http://www.opengis.net/gml"
      xmlns:con="urn:ietf:params:xml:ns:pidf:geopriv:conf"
      entity="pres:alice@example.com"&gt;
    &lt;dm:device id="sg89ab"&gt;
      &lt;pidf:status&gt;
        &lt;gp:geopriv&gt;
          &lt;gp:location-info&gt;
            &lt;gs:Circle srsName="urn:ogc:def:crs:EPSG::4326"&gt;
              &lt;gml:pos&gt;42.5463 -73.2512&lt;/gml:pos&gt;
              &lt;gs:radius uom="urn:ogc:def:uom:EPSG::9001"&gt;
                850.24
              &lt;/gs:radius&gt;
            &lt;/gs:Circle&gt;
&lt;!-- c --&gt;  &lt;con:confidence pdf="normal"&gt;67&lt;/con:confidence&gt;
          &lt;/gp:location-info&gt;
          &lt;gp:usage-rules/&gt;
        &lt;/gp:geopriv&gt;
      &lt;/pidf:status&gt;
      &lt;dm:deviceID&gt;mac:010203040506&lt;/dm:deviceID&gt;
    &lt;/dm:device&gt;
  &lt;/pidf:presence&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Example PIDF-LO with Confidence and Uncertainty&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Where uncertainty information is provided, but the confidence element is not, the confidence is assumed to be 95% <a class='info' href='#I-D.ietf-geopriv-pdif-lo-profile'>[I&#8209;D.ietf&#8209;geopriv&#8209;pdif&#8209;lo&#8209;profile]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV PIDF-LO Usage Clarification, Considerations and Recommendations,&rdquo; November&nbsp;2008.</span><span>)</span></a>.  If only a point is included, confidence is 0% and the confidence element SHOULD be omitted.
        
</p>
<p>Three probability distribution functions can be described using the confidence parameter.  The <tt>pdf</tt> attribute value SHOULD only be included if known, but it is acknowledged that each PDF is an approximation only - as are all values relating to uncertainty.  The PDF is normal if there are a large number of small, independent sources of error; and rectangular if all points within the area have roughly equal probability of being the actual location of the Target; otherwise, the PDF MUST be set to unknown.
        
</p>
<p>In order to support the functions provided in this document, Location Generators MUST ensure that confidence is equal in each dimension when generating location information.  See <a class='info' href='#scaling'>Section&nbsp;4.2<span> (</span><span class='info'>Increasing and Decreasing Uncertainty and Confidence</span><span>)</span></a> for more details.
        
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Uncertainty and Confidence for Civic Addresses</h3>

<p><a class='info' href='#RFC5139'>Civic addresses<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO),&rdquo; February&nbsp;2008.</span><span>)</span></a> [RFC5139] inherently include uncertainty, based on the area of the most precise element that is specified.  Uncertainty is effectively defined by the presence or absence of elements -- elements that are not present are deemed to be uncertain.  Indicating confidence for a civic address is useful, however values of other than the default (95%) are not expected and manipulation of a civic address based on confidence is difficult.
        
</p>
<p>It is RECOMMENDED that confidence not be indicated for civic addresses and that the default of 95% is always assumed.  The methods described in <a class='info' href='#scaling'>Section&nbsp;4.2<span> (</span><span class='info'>Increasing and Decreasing Uncertainty and Confidence</span><span>)</span></a> for manipulating uncertainty do not apply to civic location information.  Uncertainty MAY be increased by removing elements, but unless additional confidence information is available, confidence MUST NOT be increased as a consequence.
        
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
DHCP Location Configuration Information and Uncertainty</h3>

<p>Location information is often measured in two or three dimensions; expressions of uncertainty in one dimension only are rare.  The "resolution" parameters in <a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a> provide an indication of uncertainty in one dimension.
        
</p>
<p><a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a> defines a means for representing uncertainty, but a value for confidence is not specified.  A default value of 95% confidence can be assumed for the combination of the uncertainty on each axis.  That is, the confidence of the resultant rectangular polygon or prism is 95%.  The PDF for a DHCP result is unknown.
        
</p>
<a name="manipulation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Manipulation of Uncertainty</h3>

<p>This section deals with manipulation of location information that contains uncertainty.
      
</p>
<p>The following rules generally apply when manipulating location information:
      </p>
<ul class="text">
<li>Where calculations are performed on coordinate information, these should be performed in Cartesian space and the results converted back to latitude, longitude and altitude.  A method for converting to and from Cartesian coordinates is included in <a class='info' href='#ecef2geo'>Appendix&nbsp;A<span> (</span><span class='info'>Conversion Between Cartesian and Geodetic Coordinates</span><span>)</span></a>.
        
</li>
<li>Normal rounding rules do not apply when rounding uncertainty.  When rounding, uncertainty is always rounded up and confidence is always rounded down (see <a class='info' href='#NIST.TN1297'>[NIST.TN1297]<span> (</span><span class='info'>Taylor, B. and C. Kuyatt, &ldquo;Guidelines for Evaluating and Expressing the Uncertainty of NIST Measurement Results,&rdquo; Sep&nbsp;1994.</span><span>)</span></a>).  Note that manipulating uncertainty uses non-reversible operations and that each manipulation can result in the loss of some information.
        
</li>
</ul>

<a name="nominal"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Reduction of a Location Estimate to a Point</h3>

<p>Manipulating location estimates that include uncertainty information requires additional complexity in systems.  In some cases, systems only operate on definitive values, that is, a single point.
        
</p>
<p>This section describes algorithms for reducing location estimates to a simple form without uncertainty information.  Having a consistent means for reducing location estimates allows for interaction between applications that are able to use uncertainty information and those that cannot.
        
</p>
<p>
          </p>
<blockquote class="text">
<p>Note: Reduction of a location estimate to a point constitutes a reduction in information.  Removing uncertainty information can degrade results in some applications.  Also, there is a natural tendency to misinterpret a point location as representing a location without uncertainty.  This could lead to more serious errors.  Therefore, these algorithms should only be applied where necessary.
            
</p>
</blockquote><p>
        
</p>
<p>Several different approaches can be taken when reducing a location estimate to a point; each method is equally valid, depending on the assumptions that are made.  For any given region of uncertainty, selecting an arbitrary point within the area could be considered valid; however, given the aforementioned problems with point locations, a more rigorous approach is appropriate.
        
</p>
<p>Given a result with a known distribution, selecting the point within the area that has the highest probability is a more rigorous method.  Alternatively, a point could be selected that minimizes the probable error.  For a rectangular distribution, the centroid of the area or volume minimizes error.  Minimizing the error for a normal distribution is more difficult, but assuming that the normal distribution is centered in the region, the centroid is also the point with highest probability.
        
</p>
<p>In order to reduce a region of uncertainty to a single point, the centroid of the region is found.  A location estimate that is represented as a point has a confidence of 0%, so no confidence information is retained if this conversion is performed.
        
</p>
<a name="centroid"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.1"></a><h3>4.1.1.&nbsp;
Centroid Calculation</h3>

<p>For regular shapes, such as Circle, Sphere, Ellipse and Ellipsoid, this approach equates to the center point of the region.  For regions of uncertainty that are expressed as regular (for instance, rectangular) Polygons and Prisms the center point is also the most appropriate selection.
          
</p>
<p>For the Arc-Band shape and non-regular Polygons and Prisms, selecting the centroid of the area or volume minimizes the overall error.  This assumes a rectangular distribution; the difference arising from different distributions is considered acceptable.
          
</p>
<p>Note that the centroid of a Polygon or Arc-Band shape is not necessarily within the region of uncertainty.
          
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.1.1"></a><h3>4.1.1.1.&nbsp;
Arc-Band Centroid</h3>

<p>The centroid of the Arc-Band shape is found along a line that bisects the arc.  The centroid can be found at the following distance from the starting point of the arc-band (assuming an arc-band with an inner radius of <tt>r</tt>, outer radius <tt>R</tt>, start angle <tt>a</tt>, and opening angle <tt>o</tt>):
            </p>
<blockquote class="text">
<p>d = 4 * sin(o/2) * (R*R + R*r + r*r) / (3*o*(R + r))
              
</p>
</blockquote><p>
            This point can be found along the line that bisects the arc; that is, the line at an angle of <tt>a&nbsp;+&nbsp;(o/2)</tt>.  Negative values are possible if the angle of opening is greater than 180 degrees; negative values indicate that the centroid is found along the angle <tt>a&nbsp;+&nbsp;(o/2)&nbsp;+&nbsp;180</tt>.
            
</p>
<a name="centroid-polygon"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.1.2"></a><h3>4.1.1.2.&nbsp;
Polygon Centroid</h3>

<p>Calculating a centroid for the Polygon and Prism shapes is more complex.  Polygons that are specified using geodetic coordinates are not necessarily coplanar.  For Polygons that are specified without an altitude, choose a value for altitude before attempting this process; an altitude of 0 is acceptable.
            </p>
<blockquote class="text">
<p>The method described in this section is simplified by assuming that the surface of the earth is locally flat.  This method degrades as polygons become larger; see <a class='info' href='#GeoShape'>[GeoShape]<span> (</span><span class='info'>Thomson, M. and C. Reed, &ldquo;GML 3.1.1 PIDF-LO Shape Application Schema for use by the           Internet Engineering Task Force (IETF),&rdquo; April&nbsp;2007.</span><span>)</span></a> for recommendations on polygon size.
              
</p>
</blockquote><p>
            
</p>
<p>The polygon is translated to a new coordinate system that has an x-y plane roughly parallel to the polygon.  This enables the elimination of z-axis values and calculating a centroid can be done using only x and y coordinates.  This requires that the upward normal for the polygon is known.
            
</p>
<p>To translate the polygon coordinates, apply the process described in <a class='info' href='#polygonupnormal'>Appendix&nbsp;B<span> (</span><span class='info'>Calculating the Upward Normal of a Polygon</span><span>)</span></a> to find the normal vector <tt>N&nbsp;=&nbsp;[Nx,Ny,Nz]</tt>.  From this vector, select two vectors that are perpendicular to this vector and combine these into a transformation matrix.  If <tt>Nx</tt> and <tt>Ny</tt> are non-zero, the vectors in <a class='info' href='#transformmatrices'>Figure&nbsp;4<span> (</span><span class='info'>Recommended Transformation Matrices</span><span>)</span></a> can be used, given <tt>p&nbsp;=&nbsp;sqrt(Nx^2&nbsp;+&nbsp;Ny^2)</tt>.  More transformations are provided later in this section for cases where <tt>Nx</tt> or <tt>Ny</tt> are zero.
            
</p><br /><hr class="insert" />
<a name="transformmatrices"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
       [   -Ny/p     Nx/p     0  ]         [ -Ny/p  -Nx*Nz/p  Nx ]
   T = [ -Nx*Nz/p  -Ny*Nz/p   p  ]    T' = [  Nx/p  -Ny*Nz/p  Ny ]
       [    Nx        Ny      Nz ]         [   0      p       Nz ]
              (Transform)                    (Reverse Transform)
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Recommended Transformation Matrices&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>To apply a transform to each point in the polygon, form a matrix from the ECEF coordinates and use matrix multiplication to determine the translated coordinates.
            
</p><br /><hr class="insert" />
<a name="transform"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   [   -Ny/p     Nx/p     0  ]   [ x[1]  x[2]  x[3]  ...  x[n] ]
   [ -Nx*Nz/p  -Ny*Nz/p   p  ] * [ y[1]  y[2]  y[3]  ...  y[n] ]
   [    Nx        Ny      Nz ]   [ z[1]  z[2]  z[3]  ...  z[n] ]

       [ x'[1]  x'[2]  x'[3]  ... x'[n] ]
     = [ y'[1]  y'[2]  y'[3]  ... y'[n] ]
       [ z'[1]  z'[2]  z'[3]  ... z'[n] ]
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Transformation&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Alternatively, direct multiplication can be used to achieve the same result:
            </p>
<blockquote class="text">
<p>x'[i] = -Ny * x[i] / p + Nx * y[i] / p
              
</p>
<p>y'[i] = -Nx * Nz * x[i] / p - Ny * Nz * y[i] / p + p * z[i]
              
</p>
<p>z'[i] = Nx * x[i] + Ny * y[i] + Nz * z[i]
              
</p>
</blockquote><p>
            
</p>
<p>The first and second rows of this matrix (<tt>x'</tt> and <tt>y'</tt>) contain the values that are used to calculate the centroid of the polygon.  To find the centroid of this polygon, first find the area using:
            </p>
<blockquote class="text">
<p>A = sum from i=1..n of (x'[i]*y'[i+1]-x'[i+1]*y'[i]) / 2
              
</p>
</blockquote><p>
            For these formulae, treat each set of coordinates as circular, that is <tt>x'[0]&nbsp;==&nbsp;x'[n]</tt> and <tt>x'[n+1]&nbsp;==&nbsp;x'[1]</tt>.  Based on the area, the centroid along each axis can be determined by:
            </p>
<blockquote class="text">
<p>Cx' = sum (x'[i]+x'[i+1]) * (x'[i]*y'[i+1]-x'[i+1]*y'[i]) / (6*A)
              
</p>
<p>Cy' = sum (y'[i]+y'[i+1]) * (x'[i]*y'[i+1]-x'[i+1]*y'[i]) / (6*A)
              
</p>
</blockquote><p>
            The third row contains a distance from a plane parallel to the polygon.  If the polygon is coplanar, then the values for <tt>z'</tt> are identical; however, the constraints recommended in <a class='info' href='#I-D.ietf-geopriv-pdif-lo-profile'>[I&#8209;D.ietf&#8209;geopriv&#8209;pdif&#8209;lo&#8209;profile]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV PIDF-LO Usage Clarification, Considerations and Recommendations,&rdquo; November&nbsp;2008.</span><span>)</span></a> mean that this is rarely the case.  To determine <tt>Cz'</tt>, average these values:
            </p>
<blockquote class="text">
<p>Cz' = sum z'[i] / n
              
</p>
</blockquote><p>
            
</p>
<p>Once the centroid is known in the transformed coordinates, these can be transformed back to the original coordinate system.  The reverse transformation is shown in <a class='info' href='#reversetransform'>Figure&nbsp;6<span> (</span><span class='info'>Reverse Transformation</span><span>)</span></a>.
            
</p><br /><hr class="insert" />
<a name="reversetransform"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   [ -Ny/p  -Nx*Nz/p  Nx ]     [       Cx'        ]   [ Cx ]
   [  Nx/p  -Ny*Nz/p  Ny ]  *  [       Cy'        ] = [ Cy ]
   [   0        p     Nz ]     [ sum of z'[i] / n ]   [ Cz ]
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Reverse Transformation&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The reverse transformation can be applied directly as follows:
            </p>
<blockquote class="text">
<p>Cx = -Ny * Cx' / p - Nx * Nz * Cy' / p + Nx * Cz'
</p>
<p>Cy = Nx * Cx' / p - Ny * Nz * Cy' / p + Ny * Cz'
</p>
<p>Cz = p * Cy' + Nz * Cz'
</p>
</blockquote><p>
            
</p>
<p>The ECEF value <tt>[Cx,Cy,Cz]</tt> can then be converted back to geodetic coordinates.  Given a polygon that is defined with no altitude or equal altitudes for each point, the altitude of the result is reset after converting back to a geodetic value.
            
</p>
<p>The centroid of the Prism shape is found by finding the centroid of the base polygon and raising the point by half the height of the prism.  This can be added to altitude of the final result; alternatively, this can be added to <tt>Cz'</tt>, which ensures that negative height is correctly applied to polygons that are defined in a "clockwise" direction.
            
</p>
<p>The recommended transforms only apply if <tt>Nx</tt> and <tt>Ny</tt> are non-zero.  If the normal vector is <tt>[0,0,1]</tt> (that is, along the z-axis), then no transform is necessary.  Similarly, if the normal vector is <tt>[0,1,0]</tt> or <tt>[1,0,0]</tt>, avoid the transformation and use the x and z coordinates or y and z coordinates (respectively) in the centroid calculation phase.  If either <tt>Nx</tt> or <tt>Ny</tt> are zero, the alternative transform matrices in <a class='info' href='#alternativetransform'>Figure&nbsp;7<span> (</span><span class='info'>Alternative Transformation Matrices</span><span>)</span></a> can be used.  The reverse transform is the transpose of this matrix.
            
</p><br /><hr class="insert" />
<a name="alternativetransform"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 if Nx == 0:                              | if Ny == 0:
     [ 0  -Nz  Ny ]       [  0   1  0  ]  |       [ -Nz  0  Nx ]
 T = [ 1   0   0  ]  T' = [ -Nz  0  Ny ]  |   T = [  0   1  0  ] = T'
     [ 0   Ny  Nz ]       [  Ny  0  Nz ]  |       [  Nx  0  Nz ]
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: Alternative Transformation Matrices&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="circle"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.1.3"></a><h3>4.1.1.3.&nbsp;
Conversion to Circle or Sphere</h3>

<p>The Circle or Sphere are simple shapes that suit a range of applications.  A circle or sphere contains fewer units of data to manipulate, which simplifies operations on location estimates.
            
</p>
<p>The simplest method for converting a location estimate to a Circle or Sphere shape is to select a center point and find the longest distance to any point in the region of uncertainty to that point.  This distance can be determined based on the shape type:
            </p>
<blockquote class="text"><dl>
<dt>Circle/Sphere:</dt>
<dd>No conversion necessary.
              
</dd>
<dt>Ellipse/Ellipsoid:</dt>
<dd>The greater of either semi-major axis or altitude uncertainty.
              
</dd>
<dt>Polygon/Prism:</dt>
<dd>The distance to the furthest vertex of the polygon (for a Prism, only check points on the base).
              
</dd>
<dt>Arc-Band:</dt>
<dd>The furthest length from the centroid to the points where the inner and outer arc end.  This distance can be calculated by finding the larger of the two following formulae:
              
<blockquote class="text">
<p>X = sqrt( ( d - R*cos(o/2) )^2 + R*sin(o/2)^2 )
</p>
<p>x = sqrt( ( d - r*cos(o/2) )^2 + r*sin(o/2)^2 )
</p>
</blockquote>
              
</dd>
</dl></blockquote><p>
            
</p>
<p>Once the Circle or Sphere shape is found, the associated confidence can be increased if the result is known to follow a normal distribution.  However, this is a complicated process and provides limited benefit.  In many cases it also violates the constraint that confidence in each dimension be the same.  It is RECOMMENDED that confidence is unchanged when performing this conversion.
            
</p>
<p>Two dimensional shapes are converted to a Circle; three dimensional shapes are converted to a Sphere.  The PDF for a converted shape SHOULD be set to <tt>unknown</tt>.
            
</p>
<p>A Sphere shape can be easily converted to a Circle shape by removing the altitude component.  The altitude is unspecified for a Circle and therefore has unlimited uncertainty.  Therefore, the confidence for the Circle is higher than the Sphere.  If desired, the confidence of the circle can be increased using the following approximate formula:
            </p>
<blockquote class="text">
<p>C[circle] &gt;= C[sphere] ^ (2/3)
</p>
</blockquote><p>
            <tt>C[circle]</tt> is the confidence of the circle and <tt>C[sphere]</tt> is the confidence of the sphere.  For example, a Sphere with a confidence of 95% is simplified to a Circle of equal radius with confidence of 96.6%.
            
</p>
<a name="scaling"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Increasing and Decreasing Uncertainty and Confidence</h3>

<p>The combination of uncertainty and confidence provide a great deal of information about the nature of the data that is being measured.  If both uncertainty, confidence and PDF are known, certain information can be extrapolated.  In particular, the uncertainty can be scaled to meet a certain confidence or the confidence for a particular region of uncertainty can be found.
        
</p>
<p>In general, confidence decreases as the region of uncertainty decreases in size and confidence increases as the region of uncertainty increases in size.  However, this depends on the PDF.  If the region of uncertainty is increased, confidence might increase as result, but only if the PDF is normal.  If the region of uncertainty is increased during the process of obfuscation (see <a class='info' href='#obfuscation'>Section&nbsp;4.4<span> (</span><span class='info'>Obfuscation of Location Estimates for Privacy Reasons</span><span>)</span></a>), then the confidence MUST NOT be increased.  If the region of uncertainty is reduced in size, then the confidence MUST be decreased accordingly.
        
</p>
<p>If the PDF is not known, uncertainty and confidence cannot be modified.  Uncertainty can be increased, but only if confidence is not increased.
        
</p>
<a name="scale-rectangular"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.1"></a><h3>4.2.1.&nbsp;
Rectangular Distributions</h3>

<p>Uncertainty that follows a rectangular distribution can only be decreased in size.  Since the PDF is constant over the region of uncertainty, the resulting confidence is determined by the following formula:
          </p>
<blockquote class="text">
<p>Cr = Co * Ur / Uo
</p>
</blockquote><p>
          Where <tt>Uo</tt> and <tt>Ur</tt> are the sizes of the original and reduced regions of uncertainty (either the area or the volume of the region); <tt>Co</tt> and <tt>Cb</tt> are the confidence values associated with each region.
          
</p>
<p>Information is lost by decreasing the region of uncertainty for a rectangular distribution.  Once reduced in size, the uncertainty region cannot subsequently be increased in size.
          
</p>
<a name="scale-normal"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.2"></a><h3>4.2.2.&nbsp;
Normal Distributions</h3>

<p>Uncertainty and confidence can be both increased and decreased for a normal distribution.  However, the process is more complicated.
          
</p>
<p>For a normal distribution, uncertainty and confidence are related to the standard deviation of the function.  The following function defines the relationship between standard deviation, uncertainty and confidence along a single axis:
          </p>
<blockquote class="text">
<p>S[x] = U[x] / ( sqrt(2) * erfinv(C[x]) )
</p>
</blockquote><p>
          Where <tt>S[x]</tt> is the standard deviation, <tt>U[x]</tt> is the uncertainty and <tt>C[x]</tt> is the confidence along a single axis.  <tt>erfinv</tt> is the inverse error function.
          
</p>
<p>Scaling a normal distribution in two dimensions requires several assumptions.  Firstly, it is assumed that the distribution along each axis is independent.  Secondly, the confidence for each axis is the same.  Therefore, the confidence along each axis can be assumed to be:
          </p>
<blockquote class="text">
<p>C[x] = Co ^ (1/n)
</p>
</blockquote><p>
          Where <tt>C[x]</tt> is the confidence along a single axis and <tt>Co</tt> is the overall confidence and <tt>n</tt> is the number of dimensions in the uncertainty.
          
</p>
<p>Therefore, to find the uncertainty for each axis at a desired confidence, <tt>Cd</tt>, apply the following formula:
          </p>
<blockquote class="text">
<p>Ud[x] &lt;= U[x] * (erfinv(Cd ^ (1/n)) / erfinv(Co ^ (1/n)))
</p>
</blockquote><p>
          For regular shapes, this formula can be applied as a scaling factor in each dimension to reach a required confidence.
          
</p>
<a name="inarea"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Determining Whether a Location is Within a Given Region</h3>

<p>A number of applications require that a judgement be made about whether a Target is within a given region of interest.  Given a location estimate with uncertainty, this judgement can be difficult.  A location estimate represents a probability distribution, and the true location of the Target cannot be definitively known.  Therefore, the judgement relies on determining the probability that the Target is within the region.
        
</p>
<p>The probability that the Target is within a particular region is found by integrating the PDF over the region.  For a normal distribution, there are no analytical methods that can be used to determine the integral of the two or three dimensional PDF over an arbitrary region.  The complexity of numerical methods is also too great to be useful in many applications; for example, finding the integral of the PDF in two or three dimensions across the overlap between the uncertainty region and the target region.  If the PDF is unknown, no determination can be made.  When judging whether a location is within a given region, uncertainties using these PDFs MAY be assumed to be rectangular.  If this assumption is made, the confidence SHOULD be scaled to 95%, if possible.
        </p>
<blockquote class="text">
<p>Note: The selection of confidence has a significant impact on the final result.  Only use a different confidence  if an uncertainty value for 95% confidence cannot be found.
          
</p>
</blockquote><p>
        
</p>
<p>Given the assumption of a rectangular distribution, the probability that a Target is found within a given region is found by first finding the area (or volume) of overlap between the uncertainty region and the region of interest.  This is multiplied by the confidence of the location estimate to determine the probability.  <a class='info' href='#overlap'>Figure&nbsp;8<span> (</span><span class='info'>Area of Overlap Between Two Circular Regions</span><span>)</span></a> shows an example of finding the area of overlap between the region of uncertainty and the region of interest.
        
</p><br /><hr class="insert" />
<a name="overlap"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                 _.-""""-._
               .'          `.    _ Region of
              /              \  /  Uncertainty
           ..+-"""--..        |
        .-'  | :::::: `-.     |
      ,'     | :: Ao ::: `.   |
     /        \ :::::::::: \ /
    /          `._ :::::: _.X
   |              `-....-'   |
   |                         |
   |                         |
    \                       /
     `.                   .'  \_ Region of
       `._             _.'       Interest
          `--..___..--'
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;8: Area of Overlap Between Two Circular Regions&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Once the area of overlap, <tt>Ao</tt>, is known, the probability that the Target is within the region of interest, <tt>Pi</tt>, is:
        </p>
<blockquote class="text">
<p>Pi = Co * Ao / Au
</p>
</blockquote><p>
        Given that the area of the region of uncertainty is <tt>Au</tt> and the confidence is <tt>Co</tt>.
        
</p>
<p>Specific applications SHOULD make recommendations about the probability required for conditions.  Without specific recommendations, it is RECOMMENDED that the probability be greater than 50% before a decision is made.  If a choice of regions of interest is necessary, as is required by <a class='info' href='#I-D.ietf-ecrit-lost'>[I&#8209;D.ietf&#8209;ecrit&#8209;lost]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; May&nbsp;2008.</span><span>)</span></a>, then the region with the highest probability is selected.
        
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.1"></a><h3>4.3.1.&nbsp;
Determining the Area of Overlap for Two Circles</h3>

<p>Determining the area of overlap between two arbitrary shapes is a non-trivial process.  Reducing areas to circles (see <a class='info' href='#circle'>Section&nbsp;4.1.1.3<span> (</span><span class='info'>Conversion to Circle or Sphere</span><span>)</span></a>) enables the application of the following process.
          
</p>
<p>Given the radius of the first circle <tt>r</tt>, the radius of the second circle <tt>R</tt> and the distance between their center points <tt>d</tt>, the following set of formulas provide the area of overlap <tt>Ao</tt>.
          </p>
<ul class="text">
<li>If the circles don't overlap, that is <tt>d&nbsp;&gt;=&nbsp;r+R</tt>, <tt>Ao</tt> is zero.
            
</li>
<li>If one of the two circles is entirely within the other, that is <tt>d&nbsp;&lt;=&nbsp;|r-R|</tt>, the area of overlap is the area of the smaller circle.
            
</li>
<li>Otherwise, if the circles partially overlap, that is <tt>d&nbsp;&lt;&nbsp;r+R</tt> and <tt>d&nbsp;&gt;&nbsp;|r-R|</tt>, find <tt>Ao</tt> using:
            
<blockquote class="text">
<p>a = (r^2 - R^2 + d^2)/(2*d)
</p>
<p>Ao = r^2*acos(a/r) + R^2*acos((d - a)/R) - d*sqrt(r^2 - a^2)
</p>
</blockquote>
            
</li>
</ul><p>
          A value for <tt>d</tt> can be determined by converting the center points to Cartesian coordinates.  However, given the inherent imprecision of this method, approximate techniques based on unconverted values MAY be used.
          
</p>
<a name="obfuscation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Obfuscation of Location Estimates for Privacy Reasons</h3>

<p><a class='info' href='#RFC3693'>[RFC3693]<span> (</span><span class='info'>Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;Geopriv Requirements,&rdquo; February&nbsp;2004.</span><span>)</span></a> and <a class='info' href='#RFC3694'>[RFC3694]<span> (</span><span class='info'>Danley, M., Mulligan, D., Morris, J., and J. Peterson, &ldquo;Threat Analysis of the Geopriv Protocol,&rdquo; February&nbsp;2004.</span><span>)</span></a> describe operations on location information that obscure the real location of a Target to protect privacy.  Typically, obfuscation methods operate on a single point and don't allow for the associated region of uncertainty.  This section describes a method that extends single point methods, while the confidence is retained by increasing the size of the region of uncertainty.
        
</p>
<p>Single point obfuscation methods rely on moving the point by a constrained distance.  The maximum distance is set by preference, but the actual distance chosen varies randomly, or, as in <a class='info' href='#I-D.ietf-geopriv-policy'>[I&#8209;D.ietf&#8209;geopriv&#8209;policy]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., and J. Polk, &ldquo;Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information,&rdquo; January&nbsp;2010.</span><span>)</span></a>, the distance is set by finding the nearest multiple of the inverse of the input value.
        
</p>
<p> To obfuscate a location estimate that contains uncertainty information the following procedure can be used:
        </p>
<ol class="text">
<li>Optionally, the shape could be translated to a Circle or Sphere shape.  This simplifies later steps, but could be considered additional obfuscation.
          
</li>
<li>Any single point within the region of uncertainty is chosen.  This could be the centroid, but any point can be selected.
          
</li>
<li>That point is moved using the chosen method of obfuscation.
          
</li>
<li>Based on the movement of the point, the entire region of uncertainty is moved in the same direction and by the same distance.  For most shapes, this only requires the movement of a single point to achieve; whereas each point of a Polygon needs to be moved in the same direction and by the same distance to ensure that the shape is retained.
          
</li>
<li>The region of uncertainty is expanded.  In each dimension, the region of uncertainty is expanded by the maximum distance that the point could have moved.  This expansion is done in both directions for each axis.  The expanded region therefore includes the original region of uncertainty.
          
</li>
<li>The PDF is changed to unknown; the confidence is unchanged.
          
</li>
</ol><p>
        This process ensures that no information about the original region of uncertainty is revealed but the confidence for the final estimate is the same as the original.
        
</p>
<p>For the method described in <a class='info' href='#I-D.ietf-geopriv-policy'>[I&#8209;D.ietf&#8209;geopriv&#8209;policy]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., and J. Polk, &ldquo;Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information,&rdquo; January&nbsp;2010.</span><span>)</span></a>, the maximum distance SHOULD be calculated at the equator.  That is, the maximum distance is given for two-dimensional and three-dimensional coordinates is:
        </p>
<blockquote class="text">
<p>2dmax = sqrt(2)*(6378137*pi) /(r*180)
          
</p>
<p>3dmax = sqrt(2 * ((6378137*pi) / (r*180))^2 + (1/r)^2)
          
</p>
</blockquote><p>
        
</p>
<p>This method is functionally equivalent to civic address obfuscation that relies on removing the most specific elements, thereby increasing uncertainty.
        
</p>
<a name="examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Examples</h3>

<p>This section presents some examples of how to apply the methods described in <a class='info' href='#manipulation'>Section&nbsp;4<span> (</span><span class='info'>Manipulation of Uncertainty</span><span>)</span></a>.
      
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Reduction to a Point or Circle</h3>

<p>Alice receives a location estimate from her LIS that contains a ellipsoidal region of uncertainty.  This information is provided at 19% confidence with a normal PDF.  A PIDF-LO extract for this information is shown in <a class='info' href='#ex-ellipse'>Figure&nbsp;9</a>.
        
</p><br /><hr class="insert" />
<a name="ex-ellipse"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;gp:geopriv&gt;
    &lt;gp:location-info&gt;
      &lt;gs:Ellipsoid srsName="urn:ogc:def:crs:EPSG::4979"&gt;
        &lt;gml:pos&gt;-34.407242 150.882518 34&lt;/gml:pos&gt;
        &lt;gs:semiMajorAxis uom="urn:ogc:def:uom:EPSG::9001"&gt;
          7.7156
        &lt;/gs:semiMajorAxis&gt;
        &lt;gs:semiMinorAxis uom="urn:ogc:def:uom:EPSG::9001"&gt;
          3.31
        &lt;/gs:semiMinorAxis&gt;
        &lt;gs:verticalAxis uom="urn:ogc:def:uom:EPSG::9001"&gt;
          28.7
        &lt;/gs:verticalAxis&gt;
        &lt;gs:orientation uom="urn:ogc:def:uom:EPSG::9102"&gt;
          43
        &lt;/gs:orientation&gt;
      &lt;/gs:Ellipsoid&gt;
      &lt;con:confidence pdf="normal"&gt;19&lt;/con:confidence&gt;
    &lt;/gp:location-info&gt;
    &lt;gp:usage-rules/&gt;
  &lt;/gp:geopriv&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;9&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>This information can be reduced to a point simply by extracting the center point, that is [-34.407242,&nbsp;150.882518,&nbsp;34].  Confidence is not applicable to values without uncertainty, so this information is no longer useful.
        
</p>
<p>If some limited uncertainty were required, the estimate could be converted into a circle or sphere.  To convert to a sphere, the radius is the largest of the semi-major, semi-minor and vertical axes; in this case, 28.7 meters.  The confidence remains at 19%; and the PDF becomes unknown.
        
</p>
<p>However, if only a circle is required, the altitude can be dropped as can the altitude uncertainty (the vertical axis of the ellipsoid), resulting in a circle at [-34.407242,&nbsp;150.882518] of radius 7.7156 meters.  The confidence of the circle can be expanded to 33%.
        
</p>
<p>Bob receives a location estimate with a Polygon shape.  This information is shown in <a class='info' href='#ex-polygon'>Figure&nbsp;10</a>.  No confidence element is present in the PIDF-LO, so Bob can assume 95% confidence with an unknown distribution.
        
</p><br /><hr class="insert" />
<a name="ex-polygon"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;gml:Polygon srsName="urn:ogc:def:crs:EPSG::4326"&gt;
    &lt;gml:exterior&gt;
      &lt;gml:LinearRing&gt;
        &lt;gml:posList&gt;
          -33.856625 151.215906 -33.856299 151.215343
          -33.856326 151.214731 -33.857533 151.214495
          -33.857720 151.214613 -33.857369 151.215375
          -33.856625 151.215906
        &lt;/gml:posList&gt;
      &lt;/gml:LinearRing&gt;
    &lt;/gml:exterior&gt;
  &lt;/gml:Polygon&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;10&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>To convert this to a polygon, each point is firstly assigned an altitude of zero and converted to ECEF coordinates (see <a class='info' href='#ecef2geo'>Appendix&nbsp;A<span> (</span><span class='info'>Conversion Between Cartesian and Geodetic Coordinates</span><span>)</span></a>).  Then a normal vector for this polygon is found (see <a class='info' href='#polygonupnormal'>Appendix&nbsp;B<span> (</span><span class='info'>Calculating the Upward Normal of a Polygon</span><span>)</span></a>).  The results of each of these stages is shown in <a class='info' href='#ex-poly-convert'>Figure&nbsp;11</a>.  Note that the numbers shown are all rounded; no rounding is possible during this process since rounding would contribute significant errors.
        
</p><br /><hr class="insert" />
<a name="ex-poly-convert"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Polygon in ECEF coordinate space
   (repeated point omitted and transposed to fit):
         [ -4.6470e+06  2.5530e+06  -3.5333e+06 ]
         [ -4.6470e+06  2.5531e+06  -3.5332e+06 ]
 pecef = [ -4.6470e+06  2.5531e+06  -3.5332e+06 ]
         [ -4.6469e+06  2.5531e+06  -3.5333e+06 ]
         [ -4.6469e+06  2.5531e+06  -3.5334e+06 ]
         [ -4.6469e+06  2.5531e+06  -3.5333e+06 ]

Normal Vector: n = [ -0.72782  0.39987  -0.55712 ]

Transformation Matrix:
     [ -0.48152  -0.87643   0.00000 ]
 t = [ -0.48828   0.26827   0.83043 ]
     [ -0.72782   0.39987  -0.55712 ]

Transformed Coordinates:
          [  8.3206e+01  1.9809e+04  6.3715e+06 ]
          [  3.1107e+01  1.9845e+04  6.3715e+06 ]
 pecef' = [ -2.5528e+01  1.9842e+04  6.3715e+06 ]
          [ -4.7367e+01  1.9708e+04  6.3715e+06 ]
          [ -3.6447e+01  1.9687e+04  6.3715e+06 ]
          [  3.4068e+01  1.9726e+04  6.3715e+06 ]

Two dimensional polygon area: A = 12600 m^2
Two-dimensional polygon centroid: C' = [ 8.8184e+00  1.9775e+04 ]

Average of pecef' z coordinates: 6.3715e+06

Reverse Transformation Matrix:
      [ -0.48152  -0.48828  -0.72782 ]
 t' = [ -0.87643   0.26827   0.39987 ]
      [  0.00000   0.83043  -0.55712 ]

Polygon centroid (ECEF): C = [ -4.6470e+06  2.5531e+06  -3.5333e+06 ]
Polygon centroid (Geo): Cg = [ -33.856926  151.215102  -4.9537e-04 ]
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;11&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The point conversion for the polygon uses the final result, <tt>Cg</tt>, ignoring the altitude since the original shape did not include altitude.
        
</p>
<p>To convert this to a circle, take the maximum distance in ECEF coordinates from the center point to each of the points.  This results in a radius of 99.1 meters.  Confidence for this shape follows the original confidence of 95%.
        
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Increasing and Decreasing Confidence</h3>

<p>The confidence associated with Alice's location estimate is quite low for many applications.  Since the estimate is known to follow a normal distribution, the method in <a class='info' href='#scale-normal'>Section&nbsp;4.2.2<span> (</span><span class='info'>Normal Distributions</span><span>)</span></a> can be used.  Each axis can be scaled by:
        </p>
<blockquote class="text">
<p>scale = erfinv(0.95^(1/3)) / erfinv(0.19^(1/3)) = 2.9937
          
</p>
</blockquote><p>
        Ensuring that rounding always increases uncertainty, the location estimate at 95% includes a semi-major axis of 23.1, a semi-minor axis of 10 and a vertical axis of 86.
        
</p>
<p>Bob's location estimate covers an area of approximately 12600 square meters.  If the estimate follows a rectangular distribution, the region of uncertainty can be reduced in size.  To find the confidence that he is within the smaller area of the concert hall, given by the polygon [-33.856473,&nbsp;151.215257; -33.856322,&nbsp;151.214973; -33.856424,&nbsp;151.21471; -33.857248,&nbsp;151.214753; -33.857413,&nbsp;151.214941; -33.857311,&nbsp;151.215128].  To use this new region of uncertainty, find its area using the same translation method described in <a class='info' href='#centroid-polygon'>Section&nbsp;4.1.1.2<span> (</span><span class='info'>Polygon Centroid</span><span>)</span></a>, which is 4566.2 square meters.  The confidence associated with the smaller area is therefore 95% * 4566.2 / 12600 = 34%.
        
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Matching Location Estimates to Regions of Interest</h3>

<p>Suppose than a circular area is defined centered at [-33.872754,&nbsp;151.20683] with a radius of 1950 meters.  To determine whether Bob is found within this area, we apply the method in <a class='info' href='#inarea'>Section&nbsp;4.3<span> (</span><span class='info'>Determining Whether a Location is Within a Given Region</span><span>)</span></a>.  Using the converted Circle shape for Bob's location, the distance between these points is found to be 1915.26 meters.  The area of overlap between Bob's location estimate and the region of interest is therefore 2209 square meters and the area of Bob's location estimate is 30853 square meters.  This gives the probability that Bob is less than 1950 meters from the selected point as 67.8%.
        
</p>
<p>Note that if 1920 meters were chosen for the distance from the selected point, the area of overlap is only 16196 square meters and the confidence is 49.8%.  Therefore, it is more likely that Bob is outside the region of interest, despite the center point of his location estimate being within the region.
        
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Obfuscating Location Estimates</h3>

<p>Alices's Location Server (LS, see <a class='info' href='#RFC3693'>[RFC3693]<span> (</span><span class='info'>Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;Geopriv Requirements,&rdquo; February&nbsp;2004.</span><span>)</span></a>) provides her location estimate to a Location Recipient (LR), but the ruleset (see <a class='info' href='#I-D.ietf-geopriv-policy'>[I&#8209;D.ietf&#8209;geopriv&#8209;policy]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., and J. Polk, &ldquo;Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information,&rdquo; January&nbsp;2010.</span><span>)</span></a>) that Alice has provided includes an geodetic transformation.  The rule states that the location information is obscured by <tt>r = 100</tt>.
        
</p>
<p>Too apply this rule, a single point is chosen.  In this case the center point, [-34.407242, 150.882518, 34], is used.  The result of applying the transformation is the point [-34.41, 150.88, 34].  The maximum distance that this transform could shift a three dimensional point is 1574.3 meters.  The actual distance moved is 383.7 meters, but including this information could reveal too more about the Alice's position than she might desire.  Therefore, the transformed location estimate (given with a confidence of 95%) is shown in <a class='info' href='#ex-shifted'>Figure&nbsp;12</a>.
        
</p><br /><hr class="insert" />
<a name="ex-shifted"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;gs:Ellipse srsName="urn:ogc:def:crs:EPSG::4979"&gt;
    &lt;gml:pos&gt;-34.41 150.88 34&lt;/gml:pos&gt;
    &lt;gs:semiMajorAxis uom="urn:ogc:def:uom:EPSG::9001"&gt;
      1597.4
    &lt;/gs:semiMajorAxis&gt;
    &lt;gs:semiMinorAxis uom="urn:ogc:def:uom:EPSG::9001"&gt;
      1584.3
    &lt;/gs:semiMinorAxis&gt;
    &lt;gs:verticalAxis uom="urn:ogc:def:uom:EPSG::9001"&gt;
      1660.3
    &lt;/gs:verticalAxis&gt;
    &lt;gs:orientation uom="urn:ogc:def:uom:EPSG::9102"&gt;
      43
    &lt;/gs:orientation&gt;
  &lt;/gs:Ellipse&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;12&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="schema"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Confidence Schema</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0"?&gt;
&lt;xs:schema
     xmlns:conf="urn:ietf:params:xml:ns:geopriv:conf"
     xmlns:xs="http://www.w3.org/2001/XMLSchema"
     targetNamespace="urn:ietf:params:xml:ns:geopriv:conf"
     elementFormDefault="qualified"
     attributeFormDefault="unqualified"&gt;

  &lt;xs:annotation&gt;
    &lt;xs:appinfo
        source="urn:ietf:params:xml:schema:geopriv:conf"&gt;
      PIDF-LO Confidence
    &lt;/xs:appinfo&gt;
    &lt;xs:documentation source="http://www.ietf.org/rfc/rfcXXXX.txt"&gt;
&lt;!-- [[NOTE TO RFC-EDITOR: Please replace above URL with URL of
                       published RFC and remove this note.]] --&gt;
      This schema defines an element that is used for indicating
      confidence in PIDF-LO documents.
    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;

  &lt;xs:element name="confidence" type="conf:confidenceType"/&gt;
  &lt;xs:complexType name="confidenceType"&gt;
    &lt;xs:simpleContent&gt;
      &lt;xs:extension base="conf:confidenceBase"&gt;
        &lt;xs:attribute name="pdf" type="conf:pdfType"
                      default="unknown"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:simpleContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:simpleType name="confidenceBase"&gt;
    &lt;xs:restriction base="xs:decimal"&gt;
      &lt;xs:minExclusive value="0.0"/&gt;
      &lt;xs:maxExclusive value="100.0"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:simpleType name="pdfType"&gt;
    &lt;xs:restriction base="xs:token"&gt;
      &lt;xs:enumeration value="unknown"/&gt;
      &lt;xs:enumeration value="normal"/&gt;
      &lt;xs:enumeration value="rectangular"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
&lt;/xs:schema&gt;
</pre></div>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>This document describes a parameter that is added to a PIDF-LO.  This additional information MUST be treated with the same privacy considerations as location information.  See <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> for details on privacy considerations for location information.
      
</p>
<p>No specific security considerations arise from the algorithms described in this document.
      
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:geopriv:conf</h3>

<p>This section registers a new XML namespace, <tt>urn:ietf:params:xml:ns:geopriv:conf</tt>, as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
        </p>
<blockquote class="text">
<p>URI: urn:ietf:params:xml:ns:geopriv:conf
</p>
<p>Registrant Contact: IETF, GEOPRIV working group, (geopriv@ietf.org), Martin Thomson (martin.thomson@andrew.com).
</p>
<p>XML:
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      BEGIN
        &lt;?xml version="1.0"?&gt;
        &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
        &lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
          &lt;head&gt;
            &lt;title&gt;PIDF-LO Confidence Attribute&lt;/title&gt;
          &lt;/head&gt;
          &lt;body&gt;
            &lt;h1&gt;Namespace for PIDF-LO Confidence Attribute&lt;/h1&gt;
            &lt;h2&gt;urn:ietf:params:xml:ns:geopriv:conf&lt;/h2&gt;
[[NOTE TO IANA/RFC-EDITOR: Please update RFC URL and replace XXXX
    with the RFC number for this specification.]]
            &lt;p&gt;See &lt;a href="[[RFC URL]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
          &lt;/body&gt;
        &lt;/html&gt;
      END
</pre></div><p>

          
</p>
</blockquote><p>
        
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
XML Schema Registration</h3>

<p>This section registers an XML schema as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
        </p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd>urn:ietf:params:xml:schema:geopriv:conf
</dd>
<dt>Registrant Contact:</dt>
<dd>IETF, GEOPRIV working group, (geopriv@ietf.org), Martin Thomson (martin.thomson@andrew.com).
</dd>
<dt>Schema:</dt>
<dd>The XML for this schema can be found as the entirety of <a class='info' href='#schema'>Section&nbsp;6<span> (</span><span class='info'>Confidence Schema</span><span>)</span></a> of this document.
          
</dd>
</dl></blockquote><p>
        
</p>
<a name="ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>Thanks go to Peter Rhodes for his assistance with some particularly curly integrals.
      
</p>
<a name="ecef2geo"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Conversion Between Cartesian and Geodetic Coordinates</h3>

<p>The process of conversion from geodetic (latitude, longitude and altitude) to earth-centered, earth-fixed (ECEF) Cartesian coordinates is relatively simple.
      
</p>
<p>In this section, the following constants and derived values are used from the definition of <a class='info' href='#WGS84'>WGS84<span> (</span><span class='info'>US National Imagery and Mapping Agency, &ldquo;Department of Defense (DoD) World Geodetic System 1984 (WGS 84), Third Edition,&rdquo; January&nbsp;2000.</span><span>)</span></a> [WGS84]:
      </p>
<blockquote class="text">
<p>{radius of ellipsoid} R = 6378137 meters
</p>
<p>{inverse flattening} 1/f = 298.257223563
</p>
<p>{first eccentricity squared} e^2 = f * (2 - f) 
</p>
<p>{second eccentricity squared} e'^2 = e^2 * (1 - e^2)
</p>
</blockquote><p>
      
</p>
<p>To convert geodetic coordinates (latitude, longitude, altitude) to ECEF coordinates (X, Y, Z), use the following relationships:
      </p>
<blockquote class="text">
<p>N = R / sqrt(1 - e^2 * sin(latitude)^2)
</p>
<p>X = (N + altitude) * cos(latitude) * cos(longitude)
</p>
<p>Y = (N + altitude) * cos(latitude) * sin(longitude)
</p>
<p>Z = (N*(1 - e^2) + altitude) * sin(latitude)
</p>
</blockquote><p>
      
</p>
<p>The reverse conversion requires more complex computation and most methods introduce some error in latitude and altitude.  A range of techniques are described in <a class='info' href='#Convert'>[Convert]<span> (</span><span class='info'>Burtch, R., &ldquo;A Comparison of Methods Used in Rectangular to Geodetic Coordinate Transformations,&rdquo; April&nbsp;2006.</span><span>)</span></a>.  A variant on the method originally proposed by Bowring, which results in an acceptably small error, is described by the following:
      </p>
<blockquote class="text">
<p>p = sqrt(X^2 + Y^2)
</p>
<p>r = sqrt(X^2 + Y^2 + Z^2)
</p>
<p>u = atan((1-f) * Z * (1 + e'^2 * (1-f) * R / r) / p)
</p>
<p>latitude = atan((Z + e'^2 * (1-f) * R * sin(u)^3) /&nbsp;(p&nbsp;-&nbsp;e^2&nbsp;*&nbsp;R&nbsp;*&nbsp;cos(u)^3))
</p>
<p>longitude = atan(Y / X)
</p>
<p>altitude = sqrt((p - R * cos(u))^2 +&nbsp;(Z&nbsp;-&nbsp;(1-f)&nbsp;*&nbsp;R&nbsp;*&nbsp;sin(u))^2)
</p>
</blockquote><p>
      If the point is near the poles, that is <tt>p&nbsp;&lt;&nbsp;1</tt>, the value for altitude that this method produces is unstable.  A simpler method for determining the altitude of a point near the poles is:
      </p>
<blockquote class="text">
<p>altitude = |Z| - R
</p>
</blockquote><p>
      
</p>
<a name="polygonupnormal"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Calculating the Upward Normal of a Polygon</h3>

<p>For a polygon that is guaranteed to be convex and coplanar, the upward normal can be found by finding the vector cross product of adjacent edges.
      
</p>
<p>For more general cases the Newell method of approximation described in <a class='info' href='#Sunday02'>[Sunday02]<span> (</span><span class='info'>Sunday, D., &ldquo;Fast polygon area and Newell normal computation.,&rdquo; 2002.</span><span>)</span></a> may be applied.  In particular, this method can be used if the points are only approximately coplanar, and for non-convex polygons.
      
</p>
<p>This process requires a Cartesian coordinate system.  Therefore, <a class='info' href='#ecef2geo'>convert the geodetic coordinates of the polygon to Cartesian, ECEF coordinates<span> (</span><span class='info'>Conversion Between Cartesian and Geodetic Coordinates</span><span>)</span></a>.  If no altitude is specified, assume an altitude of zero.
      
</p>
<p>This method can be condensed to the following set of equations:
      </p>
<blockquote class="text">
<p>Nx = sum from i=1..n of (y[i] * (z[i+1] - z[i-1]))
</p>
<p>Ny = sum from i=1..n of (z[i] * (x[i+1] - x[i-1]))
</p>
<p>Nz = sum from i=1..n of (x[i] * (y[i+1] - y[i-1]))
</p>
</blockquote><p>
      For these formulae, the polygon is made of points <tt>(x[1],&nbsp;y[1],&nbsp;z[1])</tt> through <tt>(x[n],&nbsp;y[n],&nbsp;x[n])</tt>.  Each array is treated as circular, that is, <tt>x[0]&nbsp;==&nbsp;x[n]</tt> and <tt>x[n+1]&nbsp;==&nbsp;x[1]</tt>.
      
</p>
<p>To translate this into a unit-vector; divide each component by the length of the vector:
      </p>
<blockquote class="text">
<p>Nx' = Nx / sqrt(Nx^2 + Ny^2 + Nz^2)
</p>
<p>Ny' = Ny / sqrt(Nx^2 + Ny^2 + Nz^2)
</p>
<p>Nz' = Nz / sqrt(Nx^2 + Ny^2 + Nz^2)
</p>
</blockquote><p>
      
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-policy">[I-D.ietf-geopriv-policy]</a></td>
<td class="author-text">Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., and J. Polk, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-policy-21.txt">Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information</a>,&rdquo; draft-ietf-geopriv-policy-21 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-policy-21.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="WGS84">[WGS84]</a></td>
<td class="author-text">US National Imagery and Mapping Agency, &ldquo;Department of Defense (DoD) World Geodetic System 1984 (WGS 84), Third Edition,&rdquo; NIMA&nbsp;TR8350.2, January&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="GeoShape">[GeoShape]</a></td>
<td class="author-text">Thomson, M. and C. Reed, &ldquo;GML 3.1.1 PIDF-LO Shape Application Schema for use by the
          Internet Engineering Task Force (IETF),&rdquo; Candidate OpenGIS Implementation Specification&nbsp;06-142r1, Version: 1.0, April&nbsp;2007.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3693">[RFC3693]</a></td>
<td class="author-text">Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;<a href="http://tools.ietf.org/html/rfc3693">Geopriv Requirements</a>,&rdquo; RFC&nbsp;3693, February&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3693.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3694">[RFC3694]</a></td>
<td class="author-text">Danley, M., Mulligan, D., Morris, J., and J. Peterson, &ldquo;<a href="http://tools.ietf.org/html/rfc3694">Threat Analysis of the Geopriv Protocol</a>,&rdquo; RFC&nbsp;3694, February&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3694.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4119">[RFC4119]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>,&rdquo; RFC&nbsp;4119, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3825">[RFC3825]</a></td>
<td class="author-text">Polk, J., Schnizlein, J., and M. Linsner, &ldquo;<a href="http://tools.ietf.org/html/rfc3825">Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information</a>,&rdquo; RFC&nbsp;3825, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3825.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5139">[RFC5139]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://tools.ietf.org/html/rfc5139">Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO)</a>,&rdquo; RFC&nbsp;5139, February&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5139.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-ecrit-lost">[I-D.ietf-ecrit-lost]</a></td>
<td class="author-text">Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-lost-10.txt">LoST: A Location-to-Service Translation Protocol</a>,&rdquo; draft-ietf-ecrit-lost-10 (work in progress), May&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-lost-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-pdif-lo-profile">[I-D.ietf-geopriv-pdif-lo-profile]</a></td>
<td class="author-text">Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-pdif-lo-profile-14.txt">GEOPRIV PIDF-LO Usage Clarification, Considerations and Recommendations</a>,&rdquo; draft-ietf-geopriv-pdif-lo-profile-14 (work in progress), November&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-pdif-lo-profile-14.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="ISO.GUM">[ISO.GUM]</a></td>
<td class="author-text">ISO/IEC, &ldquo;Guide to the expression of uncertainty in measurement (GUM),&rdquo; Guide&nbsp;98:1995, 1995.</td></tr>
<tr><td class="author-text" valign="top"><a name="NIST.TN1297">[NIST.TN1297]</a></td>
<td class="author-text">Taylor, B. and C. Kuyatt, &ldquo;Guidelines for Evaluating and Expressing the Uncertainty of NIST Measurement Results,&rdquo; Technical Note&nbsp;1297, Sep&nbsp;1994.</td></tr>
<tr><td class="author-text" valign="top"><a name="Convert">[Convert]</a></td>
<td class="author-text">Burtch, R., &ldquo;A Comparison of Methods Used in Rectangular to Geodetic Coordinate Transformations,&rdquo; April&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="Sunday02">[Sunday02]</a></td>
<td class="author-text">Sunday, D., &ldquo;<a href="http://www.acm.org/jgt/papers/Sunday02/">Fast polygon area and Newell normal computation.</a>,&rdquo; Journal of Graphics Tools&nbsp;JGT, 7(2):9-13,2002, 2002.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martin Thomson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PO Box U40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wollongong University Campus, NSW  2500</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AU</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+61 2 4221 2915</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:martin.thomson@andrew.com">martin.thomson@andrew.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.andrew.com/">http://www.andrew.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">James Winterbottom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PO Box U40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wollongong University Campus, NSW  2500</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AU</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+61 2 4221 2938</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:james.winterbottom@andrew.com">james.winterbottom@andrew.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.andrew.com/">http://www.andrew.com/</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
