<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Methods of Specifying Restrictions on AFS3 ACLs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Methods of Specifying Restrictions on AFS3 ACLs">
<meta name="keywords" content="afs3, acl">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">N/A</td><td class="header">A. Deason</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">M. Meffie</td></tr>
<tr><td class="header">Intended status: Experimental</td><td class="header">T. Keiser</td></tr>
<tr><td class="header">Expires: July 16, 2010</td><td class="header">Sine Nomine</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">January 12, 2010</td></tr>
</table></td></tr></table>
<h1><br />Methods of Specifying Restrictions on AFS3 ACLs<br />draft-deason-afs3-acl-restrictions-00</h1>

<h3>Abstract</h3>

<p>
        The AFS-3 ACL 'a' bit gives users unfettered power to grant, or 
        revoke, privileges, with no provision for enforcing site policy.  This memo
        provides several alternative mechanisms for creating restrictions on what
        powers the 'a' bit denotes.  Three alternative mechanisms for restricting the
        power of the 'a' bit are proposed:
   
        a method for overlaying the ACL with a site-controlled ACL;
   
        a method for masking the ACL with a site-controlled privilege mask;

        and a finely granular meta-acl mechanism for restricting to whom
        privileges may be delegated, and which privileges may be given to different
        classes of principals.
   
        This memo will serve as a basis for the ACL restriction discussion with the
        AFS-3 protocol working group.  The intended goal of this discussion is to
        reach consensus on standardization of one or more solutions, and then publish
        a BCP status memo.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on July 16, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>

<a name="anchor1"></a><br /><hr />
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Currently sites may give users administrative rights on certain
directories in AFS, such as home directories and shared project
directories.  Users should not, but can, give overly permissive ACLs to
those directories. For example, a user could give write and even admin
permissions to the system:anyuser group
('fs sa $HOME system:anyuser rlidwka').
</p>
<p>This can which can lead to problematic situations, especially for
directories that can be served over http. As it stands today, the only
possible way for AFS administrators to prevent this (at least in
OpenAFS) is to monitor the fileserver's audit log, and correct ACLs that
are overly permissive. But this is suboptimal, and is an after-the-fact
check.
</p>
<p>If you see a viable solution to this problem not listed here, or see any
problems with our methods, please let us know. Or if a solution to this
problem is valuable to you or your organization, also please let us
know.
</p>
<a name="anchor2"></a><br /><hr />
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document
are to be interpreted as described in <a class='info' href='#RFC2119'>RFC
2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="anchor3"></a><br /><hr />
<a name="rfc.section.2"></a><h3>2.&nbsp;
Proposed solutions</h3>

<p>Discussions have shown that preventing this is not a simple issue, and
that there are a few ways to go about it, each with advantages and
disadvantages. Here we will outline 3 general approaches, and show how
to use them to meet certain illustrative use cases.
</p>
<p>Since the rest of this is quite long, here's a quick summary of the
conclusions. We have three methods: 'method A' is the "volume-level
ACL overlays" idea, 'method B' is the "volume ACL masks" idea, and
'method C' is the "volume ACL policies" idea. While none of these in
themselves cover all corners of all possible use cases, we would
probably implement either C by itself, or A and B together to cover a
large enough majority of use cases. Of course, unless a serious
problem is found, there is no reason to not implement all three.
</p>
<p>The bottom line is that I find method C to be the most flexible and
the least confusing to end-users, but it is the most confusing to
administrators, and it is the slowest (when changing the volume-level
permissions). Using methods A+B has the opposite pros/cons.
</p>
<p>Here are the details. Each method has an explanation for what it
generally is and how it works, followed by its use in a few simple
use-case scenarios, followed by the pros/cons.
</p>
<a name="anchor4"></a><br /><hr />
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Method A: volume-level ACL overlays</h3>

<p>With this method, we maintain a single additional ACL in the volume
metadata, which is applied to access checks in the volume after
performing the per-directory ACL check. It can be thought of as
similar to the OpenAFS fileserver's -implicit flag, but more
generalized.
</p>
<p>For example, if we wanted a volume where system:backups was guaranteed
to have 'rl' rights, and system:evilusers was guaranteed to not have
_any_ rights, the volume-level ACL overlay would look like this:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

positive:
 system:backups rl
negative:
 system:evilusers rlidwka

</pre></div>
<p>Thus, any time an access check is done on an ACL anywhere in the
volume: after we do the normal directory ACL check, we look at this
volume-level ACL. If the accessing user is in system:backups, they
will get rl rights, and if they are in system:evilusers, all of their
rights will go away.
</p>
<a name="anchor5"></a><br /><hr />
<a name="rfc.section.2.1.1"></a><h3>2.1.1.&nbsp;
How do I prevent system:anyuser/system:authuser write access?</h3>

<p>To prevent system:anyuser from having write access, we will need to
allow specifying the 'anonymous' user in the volume-level ACL, which
refers only to unauthenticated accesses. Then, you just give negative
write rights to the anonymous user. The command would look something
like:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  vos setacl -vol user.adeason -acl anonymous idwka -neg

</pre></div>
<p>For system:authuser, you cannot prevent write access with this method.
It is a limitation of this approach. (Giving system:authuser negative
idwka rights would revoke those rights from _all_ authenticated users,
which is probably not what you want to do.)
</p>
<a name="anchor6"></a><br /><hr />
<a name="rfc.section.2.1.2"></a><h3>2.1.2.&nbsp;
How do I ensure nobody in group.foo gets write access?</h3>

<p>Just grant negative idwka access to group.foo on the volume. Something
like:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  vos setacl -vol user.adeason -acl group.foo idwka -neg

</pre></div>
<p>Members of group.foo will now not be able to write anything in the
volume.
</p>
<a name="anchor7"></a><br /><hr />
<a name="rfc.section.2.1.3"></a><h3>2.1.3.&nbsp;
How do I guarantee group.bar read access?</h3>

<p>Same as above, just grant positive read rights. Something like:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  vos setacl -vol user.adeason -acl group.bar rl

</pre></div>
<a name="anchor8"></a><br /><hr />
<a name="rfc.section.2.1.4"></a><h3>2.1.4.&nbsp;
Method A advantages</h3>

<p>
  </p>
<ul class="text">
<li>Changing the volume-level rights is quick.
</li>
<li>Minimal end-administrator confusion; this is relatively simple to
       understand.
</li>
<li>Simpler than method 1 to implement.
</li>
</ul><p>

</p>
<a name="anchor9"></a><br /><hr />
<a name="rfc.section.2.1.5"></a><h3>2.1.5.&nbsp;
Method A disadvantages</h3>

<p>
</p>
<ul class="text">
<li>We have no way to restrict access of special groups like
   system:authuser or host IP groups. To get this, we'd have to combine
   with method with method B or C.
</li>
<li>There is no way to override the volume-level ACL, and have an
   administrator force e.g. system:anyuser write access on a particular
   directory.
</li>
<li>Higher end-user confusion. With legacy 'fs listacl', there is no way
   to see that there is a volume-level ACL in play, and users may have
   no idea why access is failing for certain cases. Of course, releasing
   new tools can fix that.
</li>
<li>Performance impact is an extra O(n) ACL calculation for the
   volume-level ACL overlay in the critical path. But those ACLs should
   be small anyway.
</li>
</ul><p>

</p>
<a name="methodb"></a><br /><hr />
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Method B: volume ACL masks</h3>

<p>With this method, we maintain a mapping of users to a rights mask. Any
time an ACL access check is performed, if a positive ACL entry matches a
user in that table, the acquires rights are masked to the rights mask in
the table.
</p>
<p>For example, if we wanted to prevent users from giving away write access
to system:anyuser, and prevent users from giving admin access to
system:authuser, we could have a table like so:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

system:anyuser rl
system:authuser rlidwk

</pre></div>
<p>So any time an ACL entry for system:anyuser appears, everything is
treated as if the rights in that ACL entry were logically ANDed with
'rl'. So no user can gain more than 'rl' rights on a directory simply by
being in system:anyuser.
</p>
<a name="anchor10"></a><br /><hr />
<a name="rfc.section.2.2.1"></a><h3>2.2.1.&nbsp;
How do I prevent system:anyuser/system:authuser write access?</h3>

<p>Set the rights mask for them to just 'rl'. Something like:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  vos setaclmask -vol user.adeason -user system:anyuser -mask rl

</pre></div>
<p>So any time an ACL entry for system:anyuser appears in the volume,
everything will act as if the rights were limited to rl.
</p>
<a name="anchor11"></a><br /><hr />
<a name="rfc.section.2.2.2"></a><h3>2.2.2.&nbsp;
How do I ensure nobody in group.foo gets write access?</h3>

<p>You cannot _prevent_ access for an arbitrary group with this method, but
you can make it harder to do accidentally. You can set the rights mask
like so:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  vos setaclmask -vol user.adeason -user group.foo -mask rl

</pre></div>
<p>Which restricts any rights for group.foo on any ACL to be restricted to
'rl'. However, a user can intentionally work around this by simply
placing group.foo in another group:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  pts creategroup adeason:foo
  pts adduser group.foo adeason:foo
  fs setacl $DIR adeason:foo rlidwka

</pre></div>
<p>Since group.foo itself never apears in the ACL, the ACL mask is
bypassed.
</p>
<a name="anchor12"></a><br /><hr />
<a name="rfc.section.2.2.3"></a><h3>2.2.3.&nbsp;
How do I guarantee group.bar read access?</h3>

<p>You cannot. This method cannot grant additional rights.
</p>
<a name="anchor13"></a><br /><hr />
<a name="rfc.section.2.2.4"></a><h3>2.2.4.&nbsp;
Method B advantages</h3>

<p>
</p>
<ul class="text">
<li>Changing the rights mask is quick.
</li>
<li>Runtime performance overhead in the critical path is O(1).
</li>
</ul><p>

</p>
<a name="anchor14"></a><br /><hr />
<a name="rfc.section.2.2.5"></a><h3>2.2.5.&nbsp;
Method B disadvantages</h3>

<p>
</p>
<ul class="text">
<li>Not as useful for non-'special' groups. That is, it can be trivially
   worked around, unless you only use this for groups like
   system:anyuser, system:authuser, or host IP groups.
</li>
<li>No way to override the ACL masks on a particular directory, if the
   administrator wants to.
</li>
<li>Higher end-user confusion with legacy client tools. There's no way to
   see what the ACL rights are restricted to until newer client tools
   are deployed.
</li>
</ul><p>

</p>
<a name="anchor15"></a><br /><hr />
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Method C: volume ACL policies</h3>

<p>With this method, we maintain policies of who is allowed to set what
ACLs in a volume. That is, unlike methods A and B, we perform additional
access checks at SetACL time, not at the time when the files are
accessed. We would have 4 volume-level ACLs that define what users are
allowed to add positive rights ('add-positive'), remove positive rights
('remove-positive'), add negative rights ('add-negative'), and remove
negative rights ('remove-negative').
</p>
<p>For example, to allow nobody but system:powerusers to grant idwka rights
to system:anyuser, we'd have a policy for system:anyuser that would look
like this:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

add-positive:
  system:powerusers rlidwka
  system:anyuser    rl

</pre></div>
<p>After that policy is set, any time a user not in system:powerusers tries
to grant system:anyuser more than rl rights, they will get an EACCES
error. This does not change the existing ACLs in the volume; an
administrator will need to run an auditing tool to make sure that
existing ACLs comply with the volume policy.
</p>
<a name="anchor16"></a><br /><hr />
<a name="rfc.section.2.3.1"></a><h3>2.3.1.&nbsp;
How do I prevent system:anyuser/system:authuser write access?</h3>

<p>You would call something like this
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  vos setpolicy -add-positive \
    -user system:anyuser      \
    -set-rights rl            \
    -for-user system:anyuser  \
    -in-volume user.adeason

</pre></div>
<p>to prevent people from giving system:anyuser write access. To ensure
that existing ACLs don't permit write access, you would need to run
something like
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  vos auditpolicy -vol user.adeason

</pre></div>
<a name="anchor17"></a><br /><hr />
<a name="rfc.section.2.3.2"></a><h3>2.3.2.&nbsp;
How do I ensure nobody in group.foo gets write access?</h3>

<p>To prevent an arbitrary normal group from getting write access, things
are slightly different. You would need to prevent users from taking away
negative idwka rights, and then assign negative idwka rights to all
directories in the volume. So, something like
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

 vos setpolicy -remove-negative \
   -user system:anyuser         \
   -set-rights rl               \
   -for-user group.foo          \
   -in-volume user.adeason

</pre></div>
<p>Would allow users to only remove 'rl' rights from group.foo in negative
ACLs. Then you would need to set negative idwka ACLs on all directories
in the volume.
</p>
<a name="anchor18"></a><br /><hr />
<a name="rfc.section.2.3.3"></a><h3>2.3.3.&nbsp;
How do I guarantee group.bar read access?</h3>

<p>Prevent normal users from taking away read access from group.bar, and
from granting negative read access for group.bar:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

 vos setpolicy -remove-positive \
   -user system:anyuser         \
   -set-rights idwka            \
   -for-user group.bar          \
   -in-volume user.adeason

 vos setpolicy -add-negative \
   -user system:anyuser      \
   -set-rights idwka         \
   -for-user group.bar       \
   -in-volume user.adeason

</pre></div>
<p>Then, grant read access for group.bar in all directories in the volume.
</p>
<a name="anchor19"></a><br /><hr />
<a name="rfc.section.2.3.4"></a><h3>2.3.4.&nbsp;
Method C advantages</h3>

<p>
</p>
<ul class="text">
<li>More flexible for a variety of situations. In particular, this allows
   administrators (or an arbitrary administrator-defined set of users)
   to override the volume policies, and set e.g. system:anyuser write on
   a particular directory if they so wish.
</li>
<li>No performance overhead at access-check time. All of the additional
   access checks are done during SetACL.
</li>
<li>Minimal end-user confusion. ACLs accurately represent exactly what
   rights different users have. Trying to set an ACL that violates the
   policy will result in EACCES, so they know the SetACL operation
   didn't work. It may be confusing as to why it did not, but at least
   it is clear that the ACL was not changed.
</li>
</ul><p>

</p>
<a name="anchor20"></a><br /><hr />
<a name="rfc.section.2.3.5"></a><h3>2.3.5.&nbsp;
Method C disadvantages</h3>

<p>
</p>
<ul class="text">
<li>Volumes need to be 'audited' (or all of the ACLs just need to be set)
   to make sure they comply with the ACL policy, which can be very slow.
</li>
<li>Higher end-administrator confusion. This by far the most confusing
   method for administrators to set ACL policies.
</li>
</ul><p>

</p>
<a name="anchor21"></a><br /><hr />
<a name="rfc.section.3"></a><h3>3.&nbsp;
Summary</h3>

<p>As I mentioned, we could just do all of these, since they are
potentially best suited to different scenarios. Either method C by
itself or methods A and B together do seem to cover most of the
immediately-apparent use cases, though. To summarize the general areas
in which the different methods are better or worse:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                     Better     | Worse
                     ---------------------
flexibility:       : method C   | method A+B
end-user confusion : method C   | method A+B
end-admin confusion: method A+B | method C
policy-change speed: method A+B | method C

</pre></div>
<p>There are other pros and cons, but I think those areas are the only ones
where it matters much. If you see any problems that aren't listed here,
or if you particularly want one of the described methods, please let us
know.
</p>
<a name="Acknowledgements"></a><br /><hr />
<a name="rfc.section.4"></a><h3>4.&nbsp;
Acknowledgements</h3>

<p>
        The authors would like to thank Jim Rowan for discussing problematic 
        interactions between the proposed ACL policy management techniques 
        and PTS user-managed groups, and Jeffrey Altman for helping to better
        frame the problem statement and proposing alternative implementations.
      
</p>
<a name="IANA"></a><br /><hr />
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<a name="Security"></a><br /><hr />
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
        The existing security model is known to be flawed.  This draft
        attempts to improve the situation by limiting the extent to which
        end users can modify file system permissions.  However, it is known
        that this is not sufficient to address all possible ACL attack vectors.
        Two key areas of concern are authorization for modification of policy
        metadata, and interaction with user-managed PTS groups.
      
</p>
<p>
        How modification of policy data will be authorized in an environment
        using RBAC is not clear; it is known that system:administrators is
        not always the appropriate group of principals.  In highly
        secured environments there may be a desire to restrict modification of
        policy to a security-related group, rather than the group responsible for
        maintaining the AFS server plant.  This is not addressed in the
        memo, although it could be addressed by means of additional per-volume
        metadata.
      
</p>
<p>
        There are proposed attack vectors by which a user-managed group can be used
        to get around ACL restrictions.  While these attacks can bypass a naive
        ACL policy specification, it is possible to circumvent these techniques through
        the use of negative access control policy entries.
      
</p>
<a name="rfc.references1"></a><br /><hr />
<h3>7.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew Deason</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sine Nomine Associates</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">43596 Blacksmith Square</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ashburn, Virginia  20147-4606</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 703 723 6673</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:adeason@sinenomine.net">adeason@sinenomine.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael Meffie</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sine Nomine Associates</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">43596 Blacksmith Square</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ashburn, Virginia  20147-4606</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 703 723 6673</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mmeffie@sinenomine.net">mmeffie@sinenomine.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Thomas Keiser</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sine Nomine Associates</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">43596 Blacksmith Square</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ashburn, Virginia  20147-4606</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 703 723 6673</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tkeiser@sinenomine.net">tkeiser@sinenomine.net</a></td></tr>
</table>
</body></html>
