Network Working Group                                   Ross Finlayson
INTERNET-DRAFT                                          LIVE.COM
Expires: August 6, 2004                                 February 6, 2004

        Interoperability of the "audio/mpa-robust" RTP Payload Format
          <draft-finlayson-avt-mpa-robust-interoperability-00.txt>

Status of this Memo

      This document is an Internet-Draft and is in full conformance
      with all provisions of Section 10 of RFC 2026.

      Internet-Drafts are working documents of the Internet Engineering
      Task Force (IETF), its areas, and its working groups.  Note that
      other groups may also distribute working documents as
      Internet-Drafts.

      Internet-Drafts are draft documents valid for a maximum of six
      months and may be updated, replaced, or obsoleted by other
      documents at any time.  It is inappropriate to use Internet-
      Drafts as reference material or to cite them other than as
      "work in progress."

      The list of current Internet-Drafts can be accessed at
      http://www.ietf.org/ietf/1id-abstracts.txt

      The list of Internet-Draft Shadow Directories can be accessed at
      http://www.ietf.org/shadow.html

Copyright Notice

   Copyright (C) The Internet Society (2004). All Rights Reserved.


Abstract

   In order for the "audio/mpa-robust" RTP payload format specification
   to advance from Proposed Standard to Draft Standard, it is required
   to demonstrate interoperability for all functionality described by
   the specification.  This document describes the interoperability
   shown between different implementations of this specification.


1.  Introduction

   The "audio/mpa-robust" RTP payload format for MP3 audio is described
   in RFC 3119 [3119] (and updated in [3119BIS] to correct typographical
   errors).  This payload format is an alternative to the format
   described in RFC 2250 [2250], and performs better if there is
   packet loss.

   This RTP payload format specification is currently at Proposed
   Standard.  In order to advance to Draft Standard, the Internet
   standards process [2026] requires "at least two independent and
   interoperable implementations from different code bases," and that
   interoperability be shown for "all of the options and features of
   the specification."  This document describes the interoperability
   shown between three independent implementations:
	 1/ "LIVE.COM Streaming Media" project's "testMP3Streamer"
	    application [LIVEMEDIA].
	 2/ RealNetworks' "RealPlayer 9" media player [REAL].
	 3/ The "MPEG4IP" project's "mp4player" media player [MPEG4IP].
	   (Despite its name, this player plays MP3 audio in addition
	    to MPEG-4 formats.)


2.  Features Tested for Interoperability

   RTP payloads conforming to this specification can vary in the
   following ways:

   1/ Descriptor size.
      As specified by the "T" (descriptor type) flag in each ADU
      descriptor, the descriptor size can be either 1 byte (for ADU
      frame sizes < 64), or 2 bytes.

   2/ Fragmentation.
      If an "ADU frame" is too large to fit within a RTP packet, it
      is fragmented across more than one RTP packet (each beginning with
      an ADU descriptor.  The fragmentation is indicated by the "C"
      (continuation) flag in each ADU descriptor.

   3/ Interleaving.
      The high-order 11 bits of each MPEG header ('syncword') can either
      remain at 0xFFE - which indicates that no ADU frame interleaving
      is performed - or it can consist of an "Interleaving Sequence
      Number" - which indicates that ADU frames are rearranged in an
      interleaving pattern.

   As described in the next section, we demonstrated interoperability
   by testing each combination of these three variables.


3.  Test Results

   The results of the interoperability tests are shown in the table
   below.  In each case, the LIVE.COM "testMP3Streamer" application
   was used as the transmitter, and one (or both) of the "RealPlayer 9"
   and MPEG4IP "mp4player" applications was used as the receiver.

+-----------------+----------------+---------------++------+-----------+
|                   Stream Features                ||     Receiver     |
+-----------------+----------------+---------------++------+-----------+
| descriptor size | fragmentation? | interleaving? || Real | mp4player |
+-----------------+----------------+---------------++------+-----------+
|      1 byte     |      no        |      no       || Yes  | Yes       |
|      1 byte     |      no        |      yes      || Yes  | Yes       |
|      1 byte     |      yes       |      no       || No   | Yes       |
|      1 byte     |      yes       |      yes      || No   | Yes       |
|      2 bytes    |      no        |      no       || Yes  | Yes       |
|      2 bytes    |      no        |      yes      || Yes  | Yes       |
|      2 bytes    |      yes       |      no       || No   | Yes       |
|      2 bytes    |      yes       |      yes      || No   | Yes       |
+-----------------+----------------+---------------++------+-----------+

Note: As noted in the table, "RealPlayer 9" was unable to handle
fragmented ADU frames.  However, because "mp4player" was able to play
fragmented frames from the LIVE.COM "testMP3Streamer" application,
this is sufficient to demonstrate interoperability of this feature
between two independent implementations.


4. Security Considerations

   Not applicable.


5. Normative References

   [3119]	Finlayson, R., "A More Loss-Tolerant RTP Payload
		Format for MP3 Audio," RFC 3119, June 2001.

   [2026]	Bradner, S., "The Internet Standards Process
		-- Revision 3," RFC 2026, October 1996.


6. Informative References

   [3119BIS]	Finlayson, R., "A More Loss-Tolerant RTP Payload
		Format for MP3 Audio,"
		draft-ietf-avt-rfc3119bis-02.txt,
		Work in progress, February 2004. 

   [2250]	Hoffman, D., Fernando, G., Goyal, V. and M. Civanlar,
		"RTP Payload Format for MPEG1/MPEG2 Video", RFC 2250,
		January 1998.

   [LIVEMEDIA]	"LIVE.COM Streaming Media," Live Networks, Inc.,
		<http://www.live.com/liveMedia/>.

   [REAL]	RealNetworks, Inc., <http://www.real.com/>.

   [MPEG4IP]	The "MPEG4IP Open Streaming Video and Audio" project,
		<http://mpeg4ip.sourceforge.net/>.


7. Author's Address

   Ross Finlayson,
   Live Networks, Inc. (LIVE.COM)
   650 Castro St., suite 120-196
   Mountain View, CA 94041

   EMail: finlayson (at) live.com
   WWW: http://www.live.com/


8. IPR Notice

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


9. Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

   This document and translations of it may be copied and
   furnished to others, and derivative works that comment on or
   otherwise explain it or assist in its implementation may be
   prepared, copied, published and distributed, in whole or in
   part, without restriction of any kind, provided that the above
   copyright notice and this paragraph are included on all such
   copies and derivative works.  However, this document itself may
   not be modified in any way, such as by removing the copyright
   notice or references to the Internet Society or other Internet
   organizations, except as needed for the purpose of developing
   Internet standards in which case the procedures for copyrights
   defined in the Internet Standards process must be followed, or
   as required to translate it into languages other than English.

   The limited permissions granted above are perpetual and will
   not be revoked by the Internet Society or its successors or
   assigns.

   This document and the information contained herein is provided
   on an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE
   OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
   IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A
   PARTICULAR PURPOSE.

Expires: August 6, 2004
