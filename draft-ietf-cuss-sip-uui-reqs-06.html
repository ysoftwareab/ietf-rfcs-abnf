<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Problem Statement and Requirements for Transporting User to User Call Control Information in SIP</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Overview">
<link href="#rfc.section.2" rel="Chapter" title="2 Use Cases">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 User Agent to User Agent">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Proxy Retargeting">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Redirection">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Referral">
<link href="#rfc.section.3" rel="Chapter" title="3 Requirements">
<link href="#rfc.section.4" rel="Chapter" title="4 Security Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 IANA Considerations">
<link href="#rfc.section.6" rel="Chapter" title="6 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="7 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document introduces the transport of call control related User to User Information (UUI) using the Session Initiation Protocol (SIP), and develops several requirements for a new SIP mechanism.  Some SIP sessions are established by or related to a non-SIP application.  This application may have information that needs to be transported between the SIP User Agents during session establishment.    In addition to interworking with the ISDN UUI Service, this extension will also be used for native SIP endpoints requiring application UUI. " />
  <meta name="description" content="This document introduces the transport of call control related User to User Information (UUI) using the Session Initiation Protocol (SIP), and develops several requirements for a new SIP mechanism.  Some SIP sessions are established by or related to a non-SIP application.  This application may have information that needs to be transported between the SIP User Agents during session establishment.    In addition to interworking with the ISDN UUI Service, this extension will also be used for native SIP endpoints requiring application UUI. " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">CUSS WG</td>
<td class="right">A. Johnston</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Avaya</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">L. Liess</td>
</tr>
<tr>
<td class="left">Expires: April 01, 2012</td>
<td class="right">Deutsche Telekom AG</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">September 29, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Problem Statement and Requirements for Transporting User to User Call Control Information in SIP<br />
  <span class="filename">draft-ietf-cuss-sip-uui-reqs-06</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document introduces the transport of call control related User to User Information (UUI) using the Session Initiation Protocol (SIP), and develops several requirements for a new SIP mechanism.  Some SIP sessions are established by or related to a non-SIP application.  This application may have information that needs to be transported between the SIP User Agents during session establishment.    In addition to interworking with the ISDN UUI Service, this extension will also be used for native SIP endpoints requiring application UUI. </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted to IETF in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 01, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Overview</a>
</li>
<li>2.   <a href="#rfc.section.2">Use Cases</a>
</li>
<li>2.1.   <a href="#rfc.section.2.1">User Agent to User Agent</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Proxy Retargeting</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Redirection</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">Referral</a>
</li>
<li>3.   <a href="#rfc.section.3">Requirements</a>
</li>
<li>4.   <a href="#rfc.section.4">Security Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">IANA Considerations</a>
</li>
<li>6.   <a href="#rfc.section.6">Acknowledgements</a>
</li>
<li>7.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Overview</h1>
<p id="rfc.section.1.p.1">This document describes the transport of User to User Information (UUI) during SIP <a href="#RFC3261">[RFC3261]</a> session setup.  This section introduces UUI and explains how it relates to SIP.  </p>
<p id="rfc.section.1.p.2">We define SIP UUI data as application-specific information that is related to a session being established using SIP.  It is assumed that the application is running in both endpoints in a two party session.  That is, the application interacts with both the User Agents in a SIP session.  In order to function properly, the application needs a small piece of information, the UUI, to be transported at the time of session establishment.  This information is essentially opaque data to SIP - it is unrelated to SIP routing, authentication, or any other SIP function.  This application can be considered to be operating at a higher layer on the protocol stack.  As a result, SIP should not interpret, understand, or perform any operations on the UUI.  Should this not be the case, then the information being transported is not considered UUI, and another SIP-specific mechanism will be needed to transport the information (such as a new header field).  In particular, this mechanism creates no requirements on intermediaries such as proxies.  </p>
<p id="rfc.section.1.p.3">UUI is defined this way for two reasons.  Firstly, this supports a strict layering of protocols and data.  Providing information and understanding of the UUI to the transport layer (SIP in this case) would not provide any benefits and instead could create cross layer coupling.  Secondly, it is neither feasible nor desirable for a SIP User Agent (UA) to understand the information; instead the goal is for the UA to simply pass the information as efficiently as possible to the application which does understand the information.  </p>
<p id="rfc.section.1.p.4">Note that this document does not discuss the transport of non-call control UUI which can be done using the SIP INFO method.  </p>
<p id="rfc.section.1.p.5">An important application is the interworking with User to User Information (UUI) in ISDN, specifically, the transport of the call control related ITU-T Q.931 User to User Information  Element (UU IE) <a href="#Q931">[Q931]</a> and ITU-T Q.763 User to User Information Parameter <a href="#Q763">[Q763]</a> data in SIP. ISDN UUI is widely used in the PSTN today in contact centers and call centers.  These applications are currently transitioning away from using ISDN for session establishment to using SIP.  Native SIP endpoints will need to implement a similar service and be able to interwork with this ISDN service.  </p>
<p id="rfc.section.1.p.6">Note that the distinction between call control UUI and non-call control UUI is very important.  SIP already has a mechanism for sending arbitrary UUI data between UAs during a session or dialog - the SIP INFO <a href="#RFC6086">[RFC6086]</a> method.  Call control UUI, in contrast, must be exchanged at the time of setup and needs to be carried in the INVITE and a few other methods and responses.  Applications that exchange UUI but do not have a requirement that it be transported and processed during call setup can simply use SIP INFO and do not need a new SIP extension.  </p>
<p id="rfc.section.1.p.7">In this document, four different use case call flows are discussed.  Next, the requirements for call control UUI transport are discussed.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Use Cases</h1>
<p id="rfc.section.2.p.1">This section discusses four use cases for the transport of call control related user to user information.  These use cases will help motivate the requirements for SIP call control UUI.  </p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> User Agent to User Agent</h1>
<p id="rfc.section.2.1.p.1">In this scenario, the originating UA includes UUI in the INVITE sent through a proxy to the terminating UA.  The terminating UA can use the UUI in any way.  If it is an ISDN gateway, it could map the UUI into the appropriate DSS1 information element or QSIG <a href="#QSIG">[QSIG]</a> information element or ISUP parameter.  Alternatively, the using application might render the information to the user, or use it during alerting or as a lookup for a screen pop.    In this case, the proxy does not need to understand the UUI mechanism, but normal proxy rules should result in the UUI being forwarded without modification.  This call flow is shown in Figure 1.  </p>
<div id="#rfc.figure.1"></div>
<pre>
         Originating UA            Proxy           Terminating UA
                |                    |                    | 
                |   INVITE (UUI) F1  |                    | 
                |-------------------&gt;|   INVITE (UUI) F2  | 
                |      100 Trying F3 |-------------------&gt;| 
                |&lt;-------------------|         200 OK F4  | 
                |          200 OK F5 |&lt;-------------------| 
                |&lt;-------------------|                    | 
                |  ACK F6            |                    | 
                |-------------------&gt;|            ACK F7  | 
                |                    |-------------------&gt;|
     </pre>
<p id="rfc.section.2.1.p.2">Figure 1. Call flow with UUI exchanged between Originating and Terminating UAs. </p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> Proxy Retargeting</h1>
<p id="rfc.section.2.2.p.1">In this scenario, the originating UA includes UUI in the INVITE request sent through a proxy to the terminating UA. &#160;The proxy retargets the INVITE request, changing its request-URI to a URI that addresses the terminating UA. &#160;The UUI data is then received and processed by the terminating UA. &#160;This call flow is identical to Figure 1 except that the proxy retargets the request, i.e., changes the Request-URI as directed by some unspecified process. &#160;The UUI in the INVITE request needs to be passed unchanged through this proxy retargeting operation.  Note that the contents of the UUI is not used by the proxy for routing, as the UUI has only end-to-end significance between UAs.  </p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> Redirection</h1>
<p id="rfc.section.2.3.p.1">In this scenario, UUI is inserted by an application which utilizes a SIP redirect server.  The UUI is then included in the INVITE request sent by the originating UA to the terminating UA.  In this case, the originating UA does not necessarily need to support the UUI mechanism but does need to support the SIP redirection mechanism used to include the UUI data. Two examples of UUI with redirection (transfer and diversion) are defined in <a href="#ANSII">[ANSII]</a> and <a href="#ETSI">[ETSI]</a>.  </p>
<p id="rfc.section.2.3.p.2">Note that this case may not precisely map to an equivalent ISDN service use case.  This is because there is no one-to-one mapping between elements in a SIP network and elements in an ISDN network.  Also, there is not an exact one-to-one mapping between SIP call control and ISDN call control.  However, this should not prevent the usage of SIP call control UUI in these cases.  Instead, these slight differences between the SIP UUI mechanism and the ISDN service need to be carefully noted and discussed in an interworking specification.  </p>
<p id="rfc.section.2.3.p.3">Figure 2 shows this scenario, with the Redirect inserting UUI which is then included in the INVITE request F4 send to the terminating UA.  </p>
<div id="#rfc.figure.2"></div>
<pre>
         Originating UA        Redirect Server      Terminating UA
                |                    |                    | 
                |          INVITE F1 |                    | 
                |-------------------&gt;|                    | 
                | 302 Moved (UUI) F2 |                    | 
                |&lt;-------------------|                    | 
                |            ACK F3  |                    | 
                |-------------------&gt;|                    | 
                |  INVITE (UUI) F4   |                    | 
                |----------------------------------------&gt;|
                |  200 OK F5                              | 
                |&lt;----------------------------------------|
                |  ACK F6                                 | 
                |----------------------------------------&gt;| 
    </pre>
<p id="rfc.section.2.3.p.4">Figure 2. Call flow with UUI exchanged between Redirect Server and Terminating UA.</p>
<p id="rfc.section.2.3.p.5">A common example application of this call flow is an Automatic Call Distributer (ACD) in a PSTN contact center.  The originator would be a PSTN gateway.  The ACD would act as a Redirect Server, inserting UUI based on called number, calling number, time of day, and other information.  The resulting UUI would be passed to the agent's handset which acts as the terminating UA.  The UUI could be used to lookup information for rendering to the agent at the time of call answering.  </p>
<p id="rfc.section.2.3.p.6">This redirection scenario, and the referral scenario in the next section, are the most important scenarios for contact center applications.  Incoming calls to a contact center almost always are redirected or referred to a final destination, sometimes multiple times, based on collected information and business logic.  The ability to pass along UUI in these call redirection scenarios is critical.  </p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> Referral</h1>
<p id="rfc.section.2.4.p.1">In this scenario, the application uses a UA to initiate a referral, which causes an INVITE request to be generated between the originating UA and terminating UA with UUI data inserted by the Referrer UA.  Note that this REFER method <a href="#RFC3515">[RFC3515]</a> could be part of a transfer operation or it might be unrelated to an existing call, such as out-of-dialog REFER request.  In some cases, this call flow is used in place of the redirection call flow: &#160;the referrer immediately answers the call and then sends the REFER request. &#160;This scenario is shown in Figure 3.  </p>
<div id="#rfc.figure.3"></div>
<pre>
          Originating UA           Referrer           Terminating UA
                |                    |                    | 
                |  REFER (UUI) F1    |                    | 
                |&lt;-------------------|                    | 
                |  202 Accepted F2   |                    | 
                |-------------------&gt;|                    | 
                |  INVITE (UUI) F3   |                    | 
                |----------------------------------------&gt;|
                | NOTIFY (100 Trying) F4                  | 
                |-------------------&gt;|                    | 
                |         200 OK F5  |                    | 
                |&lt;-------------------|                    | 
                |  200 OK F6                              | 
                |&lt;----------------------------------------|
                |  ACK F7                                 | 
                |----------------------------------------&gt;| 
                | NOTIFY (200 OK) F8 |                    | 
                |-------------------&gt;|                    | 
                |        200 OK F9   |                    | 
                |&lt;-------------------|                    | 
</pre>
<p id="rfc.section.2.4.p.2">Figure 3. Call flow with Referral and UUI.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Requirements</h1>
<p id="rfc.section.3.p.1">This section states the requirements for the transport of call control related user to user information (UUI).  </p>
<p id="rfc.section.3.p.2">REQ-1:  The mechanism will allow UAs to insert and receive UUI data in SIP call setup requests and responses.  </p>
<p></p>

<ul class="empty"><li>SIP messages covered by this include INVITE requests and end-to-end responses to the INVITE, i.e. 18x, 200, and 3xx responses.  </li></ul>
<p id="rfc.section.3.p.4">REQ-2:  The mechanism will allow UAs to insert and receive UUI data in SIP dialog terminating requests and responses.  </p>
<p></p>

<ul class="empty"><li>Q.931 UUI supports inclusion in release and release completion messages.  SIP messages covered by this include BYE and 200 OK responses to a BYE.  </li></ul>
<p id="rfc.section.3.p.6">REQ-3:  The mechanism will allow UUI to be inserted and retrieved in SIP redirects and referrals.  </p>
<p></p>

<ul class="empty"><li>SIP messages covered by this include REFER requests and 3xx responses to INVITE requests.  </li></ul>
<p id="rfc.section.3.p.8">REQ-4:  The mechanism will allow UUI to be able to survive proxy retargeting or any other form of redirection of the request.  </p>
<p></p>

<ul class="empty"><li>Retargeting is a common method of call routing in SIP, and must not result in the loss of user to user information.  </li></ul>
<p id="rfc.section.3.p.10">REQ-5:  The mechanism should not require processing entities to dereference a URL in order to retrieve the UUI data.  </p>
<p></p>

<ul class="empty"><li>Passing a pointer or link to the UUI data will not meet the real-time processing considerations and would complicate interworking with the PSTN.  </li></ul>
<p id="rfc.section.3.p.12">REQ-6:  The mechanism will support interworking with call control related DSS1 information elements or QSIG information elements and ISUP parameters.  </p>
<p id="rfc.section.3.p.13">REQ-7:  The mechanism will allow a UAC to learn that a UAS understands the UUI mechanism.  </p>
<p id="rfc.section.3.p.14">REQ-8:  The mechanism will allow a UAC to require that a UAS understands the call control UUI mechanism and have a request routed based on this information.  If the UAS does not understand the UUI mechanism, the request will fail.  </p>
<p></p>

<ul class="empty"><li>This could be useful in ensuring that a request destined for the PSTN is routed to a gateway that supports the UUI mechanism rather than an otherwise equivalent PSTN gateway that does not support the ISDN mechanism.  Note that support of the UUI mechanism does not, by itself, imply that a particular application is supported - see REQ-10.  </li></ul>
<p id="rfc.section.3.p.16">REQ-9:  The mechanism will allow proxies to remove a particular application usage of UUI data from a request or response.  </p>
<p></p>

<ul class="empty"><li>This is a common security function provided by border elements to header fields such as Alert-Info or Call-Info URIs.  </li></ul>
<p id="rfc.section.3.p.18">REQ-10:  The mechanism will provide the ability for a UA to discover which application usages of UUI another UA understands or supports.  </p>
<p></p>

<ul class="empty"><li>The creation of a registry of application usages for the UUI mechanism is implied by this requirement.  The ISDN Service utilizes a field known as the protocol discriminator, which is the first octet of the ISDN UUI data, for this purpose.  </li></ul>
<p id="rfc.section.3.p.20">REQ-11:  The UUI is a sequence of octets.  The solution will provide a mechanism of transporting at least 128 octets of user data and a one octet protocol discriminator, i.e. 129 octets in total.  </p>
<p></p>

<ul class="empty"><li>There is the potential for non-ISDN services to allow UUI to be larger than 128 octets.  However, users of the mechanism will need be cognizant of the size of SIP messages and the ability of parsers to handle extremely large values.  </li></ul>
<p id="rfc.section.3.p.22">REQ-12: The recipient of UUI will be able to determine the entity that inserted the UUI. It is acceptable that this is performed implicitly where it is known that there is only one other end UA involved in the dialog. Where that does not exist, some other mechanism will need to be provided.  </p>
<p></p>

<ul class="empty"><li>This requirement comes into play during redirection, retargeting, and referral scenarios.  </li></ul>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Security Considerations</h1>
<p id="rfc.section.4.p.1">The security requirements for the UUI mechanism are described in this section.  It is important to note that UUI security is jointly provided at the application layer and at the SIP layer.  As such, is important for application users of the UUI mechanism to know the level of security used and deployed in their particular SIP environments, and not to assume that a standardized (but perhaps rarely deployed) security mechanism is in place.</p>
<p id="rfc.section.4.p.2">There are three main security models that need to be addressed by the UUI mechanism.  One model treats the SIP layer as untrusted and requires end-to-end integrity protection and/or encryption.  This model can be achieved by providing these security services at a layer above SIP.  In this case, the application integrity protects and/or encrypts the UUI data before passing it to the SIP layer.  This method has two advantages: it does not assume or rely on end-to-end security mechanisms in SIP which have virtually no deployment, and allows the application which understands the contents of the UUI to apply a proper level of security.  The other approach is for the application to pass the UUI without any protection to the SIP layer and require the SIP layer to provide this security.  This approach is possible in theory, although its practical use would be extremely limited.  The UUI mechanisim should support both of these approaches.  </p>
<p id="rfc.section.4.p.3">The third model utilizes a trust domain and relies on perimeter security at the SIP layer. &#160;This is the security model of the PSTN and ISDN where UUI is commonly used today. &#160;This approach uses hop-by-hop security mechanisms and relies on border elements for filtering and application of policy. &#160;This approach is used today in UUI deployments.  Within this approach, there is a requirement that intermediary elements can detect and remove a UUI element based on policy, but there is no requirement that an intermediary element be able to read or interpret the UUI (as the UUI contents only have end-to-end significance).  </p>
<p id="rfc.section.4.p.4">The next three requirements capture the UUI security requirements.  </p>
<p id="rfc.section.4.p.5">REQ-13: The mechanism will allow integrity protection of the UUI.  </p>
<p></p>

<ul class="empty"><li>This allows the UAS to be able to know that the UUI has not been modified or tampered with by intermediaries.  This property is not guaranteed by the protocol in the ISDN application.  </li></ul>
<p id="rfc.section.4.p.7">REQ-14: The mechanism will allow end-to-end privacy of the UUI.  </p>
<p></p>

<ul class="empty"><li>Some UUI may contain private or sensitive information and may require different security handling from the rest of the SIP message.  Note that this property is not available in the ISDN application.  </li></ul>
<p id="rfc.section.4.p.9">REQ-15: The mechanism will allow both end-to-end and hop-by-hop security models.  </p>
<p></p>

<ul class="empty"><li>The hop-by-hop model is required by the ISDN UUI service.  </li></ul>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> IANA Considerations</h1>
<p id="rfc.section.5.p.1">This document has no IANA requirements.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Acknowledgements</h1>
<p id="rfc.section.6.p.1">Thanks to Joanne McMillen who was a co-author of earlier versions of this specification. Thanks to Spencer Dawkins, Keith Drage, Dale Worley, and Vijay Gurbani for their review of earlier versions of this document.  The authors wish to thank Christer Holmberg, Frederique Forestie, Francois Audet, Denis Alexeitsev, Paul Kyzivat, Cullen Jennings, and Mahalingam Mani for their comments on this topic.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">7.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="Q931">[Q931]</b></td>
<td class="top">
<a>ITU-T Q.931 User to User Information  Element (UU IE)</a>", http://www.itu.int/rec/T-REC-Q.931-199805-I/en , .</td>, "</tr>
<tr>
<td class="reference"><b id="Q763">[Q763]</b></td>
<td class="top">
<a>ITU-T Q.763 Signaling System No. 7 - ISDN user part formats and codes</a>", http://www.itu.int/rec/T-REC-Q.931-199805-I/en , .</td>, "</tr>
<tr>
<td class="reference"><b id="ANSII">[ANSII]</b></td>
<td class="top">
<a>ANSI T1.643-1995, Telecommunications-Integrated Services Digital Network (ISDN)-Explicit Call Transfer Supplementary Service</a>", .</td>, "</tr>
<tr>
<td class="reference"><b id="ETSI">[ETSI]</b></td>
<td class="top">
<a>ETSI ETS 300 207-1 Ed.1 (1994), Integrated Services Digital Network (ISDN); Diversion supplementary services</a>", .</td>, "</tr>
<tr>
<td class="reference"><b id="QSIG">[QSIG]</b></td>
<td class="top">
<a>ECMA-143  "Private Integrated Services Network (PISN) - Circuit Mode Bearer Services - Inter-Exchange Signalling Procedures and Protocol" December 2001</a>", .</td>, "</tr>
<tr>
<td class="reference"><b id="RFC6086">[RFC6086]</b></td>
<td class="top">
<a>Holmberg, C.</a>, <a>Burger, E.</a> and <a>H. Kaplan</a>, "<a href="http://tools.ietf.org/html/rfc6086">Session Initiation Protocol (SIP) INFO Method and Package Framework</a>", RFC 6086, January 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3515">[RFC3515]</b></td>
<td class="top">
<a>Sparks, R.</a>, "<a href="http://tools.ietf.org/html/rfc3515">The Session Initiation Protocol (SIP) Refer Method</a>", RFC 3515, April 2003.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Alan Johnston</span> 
	  <span class="n hidden">
		<span class="family-name">Johnston</span>
	  </span>
	</span>
	<span class="org vcardline">Avaya</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">St. Louis</span>,  
		<span class="region">MO</span> 
		<span class="code">63124</span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:alan.b.johnston@gmail.com">alan.b.johnston@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Laura Liess</span> 
	  <span class="n hidden">
		<span class="family-name">Liess</span>
	  </span>
	</span>
	<span class="org vcardline">Deutsche Telekom AG</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:laura.liess.dt@gmail.com%20">laura.liess.dt@gmail.com </a></span>

  </address>
</div>

</body>
</html>