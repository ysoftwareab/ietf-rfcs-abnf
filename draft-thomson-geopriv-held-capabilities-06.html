<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Device Capability Negotiation for Device-Based Location Determination and Location Measurements in HELD</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Device Capability Negotiation for Device-Based Location Determination and Location Measurements in HELD">
<meta name="keywords" content="Internet-Draft, HELD, Capabilities, Location, Measurements, Device-based">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">GEOPRIV</td><td class="header">M. Thomson</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">J. Winterbottom</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Andrew</td></tr>
<tr><td class="header">Expires: January 11, 2010</td><td class="header">July 10, 2009</td></tr>
</table></td></tr></table>
<h1><br />Device Capability Negotiation for Device-Based Location Determination and Location Measurements in HELD<br />draft-thomson-geopriv-held-capabilities-06</h1>

<h3>Status of This Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 11, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>A framework for the exchange of capabilities in HELD is described.  Capabilities for enabling Device-based measurements and Device-based location generation are defined based on this framework.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#conventions">2.</a>&nbsp;
Conventions used in this document<br />
<a href="#overview">3.</a>&nbsp;
Capabilities Exchange Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">3.1.</a>&nbsp;
Capabilities Exchange<br />
<a href="#anchor2">4.</a>&nbsp;
The Capability Indication<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#defn">4.1.</a>&nbsp;
Capability Definitions<br />
<a href="#poll">5.</a>&nbsp;
Capability Invocation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">5.1.</a>&nbsp;
HTTP Polling<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">5.2.</a>&nbsp;
Invocation Resource<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">5.3.</a>&nbsp;
Invocation Time<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">5.4.</a>&nbsp;
Responding to a Capability Invocation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.5.</a>&nbsp;
Multiple Invocations<br />
<a href="#location">6.</a>&nbsp;
The Location Capability<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">6.1.</a>&nbsp;
Location Capability Summary<br />
<a href="#measurements">7.</a>&nbsp;
Location Measurement Capability<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">7.1.</a>&nbsp;
Location Measurement Capability Summary<br />
<a href="#capschema">8.</a>&nbsp;
XML Schema for Capabilities<br />
<a href="#anchor10">9.</a>&nbsp;
Example Capabilities Exchange and Invocation<br />
<a href="#security">10.</a>&nbsp;
Security Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">10.1.</a>&nbsp;
URI Secrecy<br />
<a href="#iana">11.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#iana-nscap">11.1.</a>&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#iana-nsloc">11.2.</a>&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap:location<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#iana-nslm">11.3.</a>&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap:lm<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#iana-schemacap">11.4.</a>&nbsp;
XML Schema Registration for HELD Capabilities<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>A Device is a good source of information about its location.  Even where a Device is unable to independently determine its location, it can often make observations about its environment and network attachment that are of use in determining its position.  Making this information available to the Location Information Server (LIS) in the access network can improve the quality of location estimates for the Device.
      
</p>
<p>Requests that retrieve location information by value are largely covered by the measurement information and data formats described in <a class='info' href='#I-D.thomson-geopriv-held-measurements'>[I&#8209;D.thomson&#8209;geopriv&#8209;held&#8209;measurements]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Using Device-provided Location-Related Measurements in Location Configuration Protocols,&rdquo; October&nbsp;2009.</span><span>)</span></a>.  However, location information provided through location URIs cannot utilise this information.
      
</p>
<p>This document outlines a method whereby a Device indicates capabilities to a LIS during the creation of a HELD context (see <a class='info' href='#I-D.winterbottom-geopriv-held-context'>[I&#8209;D.winterbottom&#8209;geopriv&#8209;held&#8209;context]<span> (</span><span class='info'>Winterbottom, J., Tschofenig, H., and M. Thomson, &ldquo;Location URI Contexts in HTTP-Enabled Location Delivery (HELD),&rdquo; October&nbsp;2009.</span><span>)</span></a>).  The LIS is able to then exercise those capabilities to assist it in the generation of location information, or to acquire location information from the Device.
      
</p>
<a name="conventions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Conventions used in this document</h3>

<p>This document relies on definitions from a range of specification.  Use of the terms LIS and Device is consistent with <a class='info' href='#I-D.ietf-geopriv-http-location-delivery'>[I&#8209;D.ietf&#8209;geopriv&#8209;http&#8209;location&#8209;delivery]<span> (</span><span class='info'>Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;HTTP Enabled Location Delivery (HELD),&rdquo; August&nbsp;2009.</span><span>)</span></a>.  Location measurement is defined in <a class='info' href='#I-D.thomson-geopriv-held-measurements'>[I&#8209;D.thomson&#8209;geopriv&#8209;held&#8209;measurements]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Using Device-provided Location-Related Measurements in Location Configuration Protocols,&rdquo; October&nbsp;2009.</span><span>)</span></a> and location estimate is defined in <a class='info' href='#I-D.thomson-geopriv-uncertainty'>[I&#8209;D.thomson&#8209;geopriv&#8209;uncertainty]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Representation of Uncertainty and Confidence in PIDF-LO,&rdquo; November&nbsp;2009.</span><span>)</span></a>.  The term HELD context (or just context) is used as defined in <a class='info' href='#I-D.winterbottom-geopriv-held-context'>[I&#8209;D.winterbottom&#8209;geopriv&#8209;held&#8209;context]<span> (</span><span class='info'>Winterbottom, J., Tschofenig, H., and M. Thomson, &ldquo;Location URI Contexts in HTTP-Enabled Location Delivery (HELD),&rdquo; October&nbsp;2009.</span><span>)</span></a>.
      
</p>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
      
</p>
<a name="overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Capabilities Exchange Overview</h3>

<p>Acquiring location measurements or information from a Device is made difficult by the nature of the relationship between the LIS, or access network, and the Device.  The relationship between a LIS and the Devices that it serves is often transient.  A Device is not necessarily a permanent part of an access network.
      
</p>
<p><a class='info' href='#I-D.ietf-geopriv-http-location-delivery'>HELD<span> (</span><span class='info'>Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;HTTP Enabled Location Delivery (HELD),&rdquo; August&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;geopriv&#8209;http&#8209;location&#8209;delivery] provides a basis for the relationship between Device and LIS.  LIS Discovery <a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a> provides a means for the Device to initiate the relationship.  The relationship is extended to include stateful information at the LIS in the form of a <a class='info' href='#I-D.winterbottom-geopriv-held-context'>HELD context<span> (</span><span class='info'>Winterbottom, J., Tschofenig, H., and M. Thomson, &ldquo;Location URI Contexts in HTTP-Enabled Location Delivery (HELD),&rdquo; October&nbsp;2009.</span><span>)</span></a> [I&#8209;D.winterbottom&#8209;geopriv&#8209;held&#8209;context].  This document builds HELD contexts by providing a means for the LIS to request information from the Device.
      
</p>
<p>This document describes how a HELD context can be used as the basis for cooperative location determination.  A Device provides the LIS with a capabilities indication when it creates or updates its context data.  The LIS responds with a capabilities agreement, that includes which of these capabilities it might use.
      
</p>
<p>In the process of serving requests to a location URI, a LIS might determine that certain Device capabilities could be useful or necessary in completing the request.  The LIS is able to invoke specific capabilities to request location information, location measurements, or any other information from the Device.
      
</p>
<p>Device capabilities include the ability to generate or acquire location information, or the ability to make observations about the mode of network attachment or environment.  For instance, a Device with Global Navigation Satellite System (GNSS) hardware can determine its own position by taking a set of measurements and performing a calculation, or it can provide the GNSS measurement data.
      
</p>
<p>This document defines a set of capabilities that a Device can use to indicate that it is able to provide location measurements.  The form of location measurements is described in <a class='info' href='#I-D.thomson-geopriv-held-measurements'>[I&#8209;D.thomson&#8209;geopriv&#8209;held&#8209;measurements]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Using Device-provided Location-Related Measurements in Location Configuration Protocols,&rdquo; October&nbsp;2009.</span><span>)</span></a>.  A Device is able to use these capabilities to indicate to the LIS the types of measurements that it can observe and the means by which the LIS can acquire these measurements when needed.  <a class='info' href='#logical'>Figure&nbsp;1<span> (</span><span class='info'>Logical Overview of Operation</span><span>)</span></a> shows a logical overview of a simple scenario where the LIS uses a Device-provided measurement to service a request to a location URI.
      
</p><br /><hr class="insert" />
<a name="logical"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  +--------+                 +-------+          +-----------+
  |        |                 |       |          | Location  |
  | Device |                 |  LIS  |          | Recipient |
  +--------+                 +-------+          +-----------+
      |                          |                    |
      +-------createContext-----&gt;|                    |
      | (capability indication)  |                    |
      |                          |                    |
      |&lt;------contextResponse----+                    |
      |  (capability agreement)  |                    |
      |                          |                    |
      |~ ~ ~ ~ ~ ~ ~ ~(convey location URI)~ ~ ~ ~ ~ &gt;|
      |                          |                    |
      |                          |&lt;--locationRequest--+
      |        capability        |                    |
      |&lt;-------invocation--------+                    |
      |                          |                    |
      |&lt;- - - - exchange - - - -&gt;|                    |
      | (measurements/location)  |                    |
      |                          +--locationResponse-&gt;|
      |                          |                    |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Logical Overview of Operation&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p></p>
<blockquote class="text">
<p>In practice, this scheme relies on HTTP polling to provide a channel for LIS communication.  This mechanism is described in more detail in <a class='info' href='#poll'>Section&nbsp;5<span> (</span><span class='info'>Capability Invocation</span><span>)</span></a>.
      
</p>
</blockquote>

<p>This document also defines a location capability, which indicates that the Device is able to determine its own location.  Guidelines for the definition of other capabilities are also included.
      
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Capabilities Exchange</h3>

<p>To indicate capabilities to a LIS, a Device sends a capability indication to the LIS in a HELD <tt>createContext</tt> request.  The capability indication includes a set of capabilities, each identified by a URI.  The LIS selects those capabilities that it might make use of and provides a capabilities agreement that includes the selected capabilities in a <tt>contextResponse</tt> message.
      
</p><br /><hr class="insert" />
<a name="capex"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    +--------+                           +-------+
    | Device |                           |  LIS  |
    +--------+                           +-------+
        |                                    |
        +-----------createContext-----------&gt;|
        |  (capability indication: A, B, C)  |
        |                                    |
        |&lt;----------contextResponse----------+
        |    (capability agreement: A, C)    |
        |                                    |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Capabilities Exchange&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Once a common set of capabilities are agreed upon, the LIS is able invoke these capabilities to generate location information.  This might be an ability to generate geodetic location information at the Device, or the Device might be able provide the LIS with location measurements.  Agreed capabilities and associated parameters can be stored in the HELD context for later use in serving requests.
      
</p>
<p>The LIS invokes capabilities as it is necessary to service requests to the HELD context.  For instance, capabilities might be used to respond to a location request made by a location recipient (LR) to one of the location URIs provided by the context.
      
</p><br /><hr class="insert" />
<a name="excap"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  +--------+                 +-------+          +-----------+
  |        |                 |       |          | Location  |
  | Device |                 |  LIS  |          | Recipient |
  +--------+                 +-------+          +-----------+
      |                          |                    |
      |                          |&lt;--locationRequest--+
      |        capability        |                    |
      |&lt;-------invocation--------+                    |
      |                          |                    |
      |&lt;- - - - exchange - - - -&gt;|                    |
      | (measurements/location)  |                    |
      |                          +--locationResponse-&gt;|
      |                          |                    |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Invoking Capabilities (Logical Process)&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Capabilities are related to a single context.  The LIS MUST restrict its use of capabilities to requests relating to the context where the capabilities are provided by the Device.  The LIS MUST remove any pre-existing capabilities from a context when it receives a capabilities indication.  Therefore, a Device is able to remove specific capabilities from a context by providing a capabilities indication that omits that capability.  An empty capabilities indication removes all capabilities.
      
</p>
<p>A capabilities exchange may contain additional information that is specific to the associated measurement acquisition method.  This additional information allows the Device and LIS to provide more information about individual capabilities.  This information is stored along with the agreed capabilities in the HELD context.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
The Capability Indication</h3>

<p>A <tt>capabilities</tt> element is added to the create context or update context HELD requests.  The Device initiates the exchange, including the <tt>capind</tt> element in the request message.  The <tt>capagree</tt> element contain in the response from the LIS includes the set of capabilities that might be used.
    
</p>
<p>Both <tt>capind</tt> and <tt>capagree</tt> elements contain a set of capability indications.  A single capability is represented by a <tt>cap</tt> element.  Each <tt>cap</tt> element has a mandatory <tt>uri</tt> attribute that contains a URI unique to the type of capability.  An <tt>id</tt> attribute identifies the individual capability within the context of an exchange; the value used by the LIS matches the corresponding indication by the Device.
    
</p>
<p>The <tt>cap</tt> element may also contain arbitrary content, which means that the element is able to carry supplementary information that is specific to the capability.  This supplementary information could include addressing information, protocol selection, authentication details, or any data necessary for the successful retrieval of information.  Different supplementary information can be provided by the Device and LIS.
    
</p>
<p>The optional <tt>responseTime</tt> attribute of the <tt>cap</tt> element indicates the expected time that invoking that particular capability takes.  This parameter assists the LIS in deciding whether or not to invoke a capability when serving a request for location information.  The <tt>responseTime</tt> attribute is an integer value in milliseconds.  The <tt>responseTime</tt> attribute only appears in a capabilities indication.
    </p>
<blockquote class="text">
<p>The Device is only able to quantify the time for its own involvement in the process; additional delays from polling, network transit and LIS processing need to be included in any decision to invoke a Device capability.
    
</p>
</blockquote><p>
    
</p>
<p>Multiple capability indications are not necessary, since a set of capabilities can be specified in the same element.  A LIS MAY either select an arbitrary capability indication, or combine capabilities from multiple indications.
    
</p>
<p>The following figure shows a capabilities indication that might be made by a Device with GNSS capabilities.  This uses the location capability defined in <a class='info' href='#location'>Section&nbsp;6<span> (</span><span class='info'>The Location Capability</span><span>)</span></a>, as well as a second capability that includes additional parameters.
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;capind xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"&gt;
    &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:location"
         id="cap-loc1" responseTime="45000"/&gt;
    &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:lm"
         id="cap-gnss1" responseTime="30000"&gt;
      &lt;lm xmlns:gnss="urn:ietf:params:xml:ns:geopriv:lm:gnss"&gt;
        gnss:gnss
      &lt;/lm&gt;
    &lt;/cap&gt;
  &lt;/capind&gt;
</pre></div>
<a name="defn"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Capability Definitions</h3>

<p>Capabilities can be defined for access network or location measurement technologies as required.  No special registration is required to define a capability; each capability is identified by a namespace URI.  A capability definition includes the following information:

      </p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd>A capability is identified by a URI, which need only be unique and persistent.  Common practice is to use an <tt>http:</tt> URI for a domain that is under the author's control.  An IETF document MUST use a <a class='info' href='#RFC2141'>URN<span> (</span><span class='info'>Moats, R., &ldquo;URN Syntax,&rdquo; May&nbsp;1997.</span><span>)</span></a> [RFC2141] that is registered with the IANA.
        
</dd>
<dt>Capability Parameters:</dt>
<dd>Each capability may require additional information to be passed between LIS and Device in order for it to be exercised.  This information must be described and defined as XML elements for inclusion in the <tt>cap</tt> element.  Separate descriptions and definitions SHOULD be provided for the Device to LIS indications and LIS to Device responses.
        
</dd>
<dt>Procedures for Invoking Capabilities:</dt>
<dd>Each capability MUST also include a description of how it can be exercised.  This includes the protocol that is used for any network exchanges, the impact of each parameter.  The HTTP polling mechanism described in <a class='info' href='#poll'>Section&nbsp;5<span> (</span><span class='info'>Capability Invocation</span><span>)</span></a> SHOULD be used as the basis for any LIS-to-Device communication, but other mechanisms more appropriate to the capability might be used.
        
</dd>
<dt>Security and Privacy Implications:</dt>
<dd>A discussion of the security and the privacy implications associated with using the capability MUST be included with each definition.
        
</dd>
<dt>Author Contact:</dt>
<dd>Details on how to contact the individual or organization responsible for the capability definition.
        
</dd>
</dl></blockquote><p>
      
</p>
<a name="poll"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Capability Invocation</h3>

<p>This section describes the mechanism used for invoking the two Device capabilities defined in this document.  Capabilities defined elsewhere MAY use other mechanisms that are more suited to the capability.
      
</p>
<p>When agreeing upon a capability, the LIS indicates a resource that the Device is requested to monitor.  The contents of this resource identify the information that the LIS desires.  By monitoring this resource, the Device is informed when the LIS requires more information and the Device is then able to provide that information.
      
</p>
<p>The following capability agreement from a LIS indicates that in order to allow for invocation of the agreed capabilities, a Device needs to monitor a specific resource.  The same URI is provided for both capabilities in this instance, but different resources MAY be indicated.
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;capagree xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"&gt;
    &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:location"
              id="cap-loc1"&gt;
      &lt;poll&gt;https://lis.example.com/cap/SEVMRCBpcyBncmVhdC4&lt;/poll&gt;
    &lt;/cap&gt;
    &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:lm"
              id="cap-gnss1"&gt;
      &lt;poll&gt;https://lis.example.com/cap/SEVMRCBpcyBncmVhdC4&lt;/poll&gt;
      &lt;lm xmlns:gnss="urn:ietf:params:xml:ns:geopriv:lm:gnss"&gt;
        gnss:gnss
      &lt;/lm&gt;
    &lt;/cap&gt;
  &lt;/capagree&gt;
</pre></div>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
HTTP Polling</h3>

<p>The Device monitors this resource, using either <a class='info' href='#I-D.loreto-http-bidirectional'>HTTP long-polling<span> (</span><span class='info'>Loreto, S., Saint-Andre, P., Salsano, S., and G. Wilkins, &ldquo;Best Practices for the Use of Long Polling and Streaming in Bidirectional HTTP,&rdquo; February&nbsp;2010.</span><span>)</span></a> [I&#8209;D.loreto&#8209;http&#8209;bidirectional] or periodic requests (short-polling.
        
</p>
<p>If long-polling is used, the Device indicates this by using the <tt>Response-Time (TBD)</tt> header and a conditional request header, such as <tt>If-Modified-Since</tt> or <tt>If-None-Match</tt>.  If the request times out before the resource is updated, the server indicates this with an HTTP 304 response.  An HTTP 200 response is sent immediately when the resource is updated.  In order to continue monitoring the state of the resource after either response, the Device immediately sends another request.
        
</p>
<p>In the absence of the conditional HTTP headers, the server can assume that short-polling is in use.  If short-polling is used, the Device should limit the frequency of requests based on the time indicated in the HTTP <tt>Expires</tt> header.
        
</p>
<p>The LIS updates this resource to indicate which capability it wishes to invoke and any conditions on the invocation.
        
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Invocation Resource</h3>

<p>The resource that the Device monitors contains instructions from the LIS.  The information contained by this resource is used to invoke one or more capabilities.
        
</p>
<p>The value of the invocation resource determines what information is required.  This document is an XML document with the MIME type of <tt>application/held+xml</tt> and a document element of <tt>capinv</tt>.  Initially, this document is likely to be empty (containing a single, empty <tt>capinv</tt> element).
        
</p>
<p>A change in the state of the invocation resource triggers the behaviour associated with a given capability.  The value of the invocation resource indicates the capability, and any actions that is desired.
        
</p>
<p>For instance, if the LIS wants to invoke the location capability of the Device, it updates the document to the following:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;capinv xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"&gt;
    &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:location"
         capid="cap-loc1" before="2009-07-09T13:55:01+10:00"&gt;
      &lt;target&gt;https://lis.example.com/U2Nob29sIGlzIGNvb2wu&lt;/target&gt;
    &lt;/cap&gt;
  &lt;/capinv&gt;
</pre></div>
<p>The Device MUST continue to monitor the invocation resource.  Therefore, any request can be cancelled by removing capabilities from the invocation document; or updated by changing the capability details.  Expiry of the HELD context, or removal of the invocation resource terminates any monitoring.  An HTTP 404 (Not Found) or 410 (Gone) response is sufficient indication to the Device that the resource no longer exists.
        
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Invocation Time</h3>

<p>The <tt>before</tt> attribute on the capability invocation serves to advise the Device on the latest time when a response is needed.  For the two capabilities defined in this document, this time is the latest moment that information from the Device is of use to the LIS.  If this time has passed, or the capability cannot be invoked before this time, then the capability invocation can be ignored.
      
</p>
<p>The <tt>periodic</tt> attribute on a capability establishes a requirement for periodic updates.  The attribute contains a time interval in milliseconds, which specifies the periodicity desired.  This indicates that the Device provide information before the time specified in the <tt>before</tt> attribute and periodically thereafter at the specified interval.   Periodic invocations continue until the invocation is modified or removed.
      
</p>
<p>For instance, the following invocation contains a request to provide Global Navigation Satellite System (GNSS) measurements before <tt>2009-07-09T13:55:01+10:00</tt> and at 60 second intervals (before 13:55:01, then before 13:56:01, then 13:57:01, and continuing indefinitely).
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;capinv xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"&gt;
    &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:lm"
         capid="cap-gnss1"
         before="2009-07-09T13:55:01+10:00" periodic="60000"&gt;
      &lt;target&gt;https://lis.example.com/TWVhc3VyZSBmaXJzdC4&lt;/target&gt;
    &lt;/cap&gt;
  &lt;/capinv&gt;
</pre></div>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Responding to a Capability Invocation</h3>

<p>A Device that wishes to provide information MUST do so when it receives an invocation that it can comply with.  The information is pushed to the URI indicated in the <tt>target</tt> element as an HTTP PUT.  The format of the information provided depends on the capability.
        
</p>
<p>Information provided in this manner can be considered as additional supplementary information added to the HELD context.  The same authorization rules that apply to the context apply to this data.  A LIS is able to redistribute this information and anything results based on this information under the same terms as the context operates.  This information MUST be removed when the context is removed.  Explicit data expiration indications, such as that used in <a class='info' href='#I-D.thomson-geopriv-held-measurements'>[I&#8209;D.thomson&#8209;geopriv&#8209;held&#8209;measurements]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Using Device-provided Location-Related Measurements in Location Configuration Protocols,&rdquo; October&nbsp;2009.</span><span>)</span></a>, MUST be respected.
        
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Multiple Invocations</h3>

<p>The same invoke resource MAY be used for multiple capabilities.  Devices that support multiple capabililties identify the capability that the LIS desires to use through the capability identification provided.  If multiple capabilities are invoked at the same time, the Device MAY choose to provide all information concurrently, or separately.  The Device MAY choose to provide some information, then only provide the additional information if the invoke resource continues to include a request for the additional information.
        
</p>
<p>The measurement capability inherently supports provision of multiple measurements concurrently.  A single measurement container can be provided with multiple different forms of measurement.  In comparison, the location capability does not provide this option.  Unless specifically stated in the definition of a capability, responding to each invocation requires a separate HTTP request.
        
</p>
<a name="location"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
The Location Capability</h3>

<p>The ability to locate itself is a trait that is applicable to Devices in a range of networks.  This includes automated location determination, like Global Navigation Satellite Systems (GNSS), user input, an alternative location service, or a range of location techniques.  Because the Device produces complete location information, there is no need for technology- or network-specific features in messages.  Therefore, this section describes how a Device may advertise its capability to source its own location.
      
</p>
<p>This section defines a location capability, identified by the URN <tt>urn:ietf:params:xml:ns:geopriv:held:cap:location</tt>.  This capability indicates that the Device is able to provide location information to the LIS.
      
</p>
<p>The location capability is invoked using the method described in <a class='info' href='#poll'>Section&nbsp;5<span> (</span><span class='info'>Capability Invocation</span><span>)</span></a>.  A URI is provided by the LIS and the Device monitors this resource.  If the location capability is invoked, the Device provides location information, in the form of a PIDF-LO.  The Device uses an HTTP PUT to the target URI.  The PUT request includes a PIDF-LO document and a <tt>Content-Type</tt> of <tt>application/pidf+xml</tt>.
      
</p>
<p>Only the <tt>location-info</tt> element of the PIDF-LO is used by the LIS; other PIDF-LO fields SHOULD be minimally populated.  It is RECOMMENDED that the Device generate an unlinked pseudonym for the <tt>entity</tt> attribute of the presence document to avoid providing identity information.
      
</p>
<p>In providing location information in this manner, the Device implicitly grants the LIS the ability to redistribute location information under the same conditions that apply to the HELD context.
      
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Location Capability Summary</h3>

<p>The following summarizes the location capability following the outline from <a class='info' href='#defn'>Section&nbsp;4.1<span> (</span><span class='info'>Capability Definitions</span><span>)</span></a>:
        </p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd>urn:ietf:params:xml:ns:geopriv:held:cap:location
          
</dd>
<dt>Capability Parameters:</dt>
<dd>This capability indication includes no parameters; the capability agreement includes a URI that references an invocation document containing instructions for the Device.
          
</dd>
<dt>Procedures for Invoking Capabilities:</dt>
<dd>The Device monitors the invocation resource using HTTP polling.  If that document indicates this capability, an HTTP PUT is use to provide the LIS with information.
          
</dd>
<dt>Security and Privacy Implications:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;10<span> (</span><span class='info'>Security Considerations</span><span>)</span></a> of this document.
          
</dd>
<dt>Author Contact:</dt>
<dd>The authors of this document.
          
</dd>
</dl></blockquote><p>
        
</p>
<a name="measurements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Location Measurement Capability</h3>

<p>Measurement data from the Device can be invaluable in improving the quality of location information.  Measurement information from a Device can improve the accuracy of location estimates or enable positioning methods that would not otherwise be available.  See <a class='info' href='#I-D.thomson-geopriv-held-measurements'>[I&#8209;D.thomson&#8209;geopriv&#8209;held&#8209;measurements]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Using Device-provided Location-Related Measurements in Location Configuration Protocols,&rdquo; October&nbsp;2009.</span><span>)</span></a> for more information on location measurements.  Providing access to measurement data by using the capability exchange makes these advantages available when a location recipient uses a location URI to retrieve location information.
      
</p>
<p>The measurement capability is identified by the URN <tt>urn:ietf:params:xml:ns:geopriv:held:cap:lm</tt>.  In addition to this URN, the Device also needs to indicate which measurements it can provide in the capability indication.  This is done by identifying the location measurement element.
      
</p>
<p>The <tt>lm</tt> element includes a qualified element name (using the namespace context of the enclosing document).  This element name identifies a measurement element, as defined by the guidelines in <a class='info' href='#I-D.thomson-geopriv-held-measurements'>[I&#8209;D.thomson&#8209;geopriv&#8209;held&#8209;measurements]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Using Device-provided Location-Related Measurements in Location Configuration Protocols,&rdquo; October&nbsp;2009.</span><span>)</span></a>.
      
</p>
<p>Inclusion of the <tt>lm</tt> element is only necessary in a capabilities indication, it MAY be omitted from any capabilities agreement or capabilities invocation.
      
</p>
<p>When the LIS invokes this capability, the Device provides location measurements in the HTTP PUT to the specified URI.  This document contains the MIME type <tt>application/xml</tt> [[Ed: probably need to define new MIME type for this]] and has a document element of <tt>measurements</tt>.  This document contains one or more measurement elements containing the requested measurement data.
      
</p>
<p>Multiple measurements can be provided at the same time.  The <tt>measurements</tt> element simply contains multiple measurement elements.  This can be used to simultaneously provide information for multiple different invocations of this capability.
      
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Location Measurement Capability Summary</h3>

<p>The following summarizes the location measurement capability following the outline from <a class='info' href='#defn'>Section&nbsp;4.1<span> (</span><span class='info'>Capability Definitions</span><span>)</span></a>:
        </p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd>urn:ietf:params:xml:ns:geopriv:held:cap:lm
          
</dd>
<dt>Capability Parameters:</dt>
<dd>This capability includes a single <tt>lm</tt> element in all capability indicates that identifies the type of location measurement that can be provided.  This parameter is only used in the capabilities indication sent from Device to LIS.
          <br />

          The capability agreement includes a URI that references an invocation document containing instructions for the Device.
          
</dd>
<dt>Procedures for Invoking Capabilities:</dt>
<dd>The Device monitors the invocation resource using HTTP polling.  If that document indicates this capability, an HTTP PUT is use to provide the LIS with the indicated measurement information.
          
</dd>
<dt>Security and Privacy Implications:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;10<span> (</span><span class='info'>Security Considerations</span><span>)</span></a> of this document.
          
</dd>
<dt>Author Contact:</dt>
<dd>The authors of this document.
          
</dd>
</dl></blockquote><p>
        
</p>
<a name="capschema"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
XML Schema for Capabilities</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0"?&gt;
&lt;xs:schema
     xmlns:cap="urn:ietf:params:xml:ns:geopriv:held:cap"
     xmlns:xs="http://www.w3.org/2001/XMLSchema"
     targetNamespace="urn:ietf:params:xml:ns:geopriv:held:cap"
     elementFormDefault="qualified"
     attributeFormDefault="unqualified"&gt;

  &lt;xs:annotation&gt;
    &lt;xs:appinfo
        source="urn:ietf:params:xml:schema:geopriv:held:cap"&gt;
      HELD Capabilities
    &lt;/xs:appinfo&gt;
    &lt;xs:documentation source="http://www.ietf.org/rfc/rfcXXXX.txt"&gt;
&lt;!-- [[NOTE TO RFC-EDITOR: Please replace above URL with URL of
                       published RFC and remove this note.]] --&gt;
      This schema is the basis for HELD capabilities negotiation.
    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;


  &lt;xs:attributeGroup name="capIdentity"&gt;
    &lt;xs:attribute name="id" type="xs:NCName" use="required"/&gt;
    &lt;xs:attribute name="uri" type="xs:anyURI" use="required"/&gt;
    &lt;xs:anyAttribute namespace="##any" processContents="lax"/&gt;
  &lt;/xs:attributeGroup&gt;

  &lt;!-- Capability indication --&gt;
  &lt;xs:element name="capind" type="cap:capindType"/&gt;
  &lt;xs:complexType name="capindType"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base="xs:anyType"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element name="cap" type="cap:capind-capType"
                      minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;xs:any namespace="##other" processContents="lax"
                  minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:anyAttribute namespace="##any" processContents="lax"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:complexType name="capind-capType"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base="xs:anyType"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:any namespace="##any" processContents="lax"
                  minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attributeGroup ref="cap:capIdentity"/&gt;
        &lt;xs:attribute name="responseTime" type="xs:nonNegativeInteger"
                      use="optional"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!-- Capability agreement --&gt;
  &lt;xs:element name="capagree" type="cap:capagreeType"/&gt;
  &lt;xs:complexType name="capagreeType"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base="xs:anyType"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element name="cap" type="cap:capagree-capType"
                      minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;xs:any namespace="##other" processContents="lax"
                  minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:anyAttribute namespace="##any" processContents="lax"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:complexType name="capagree-capType"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base="xs:anyType"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:any namespace="##any" processContents="lax"
                  minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attributeGroup ref="cap:capIdentity"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!-- Capability invocation --&gt;
  &lt;xs:element name="capinv" type="cap:capinvType"/&gt;
  &lt;xs:complexType name="capinvType"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base="xs:anyType"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element name="cap" type="cap:capinv-capType"
                      minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;xs:any namespace="##other" processContents="lax"
                  minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:anyAttribute namespace="##any" processContents="lax"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:complexType name="capinv-capType"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base="xs:anyType"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:any namespace="##any" processContents="lax"
                  minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attributeGroup ref="cap:capIdentity"/&gt;
        &lt;xs:attribute name="before" type="xs:dateTime"/&gt;
        &lt;xs:attribute name="periodic" type="xs:nonNegativeInteger"
                      use="optional"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!-- Invocation resource URI --&gt;
  &lt;xs:element name="poll" type="xs:anyURI"/&gt;
  &lt;!-- Target URI for data provided by a Device --&gt;
  &lt;xs:element name="target" type="xs:anyURI"/&gt;

  &lt;!-- Location measurement element for measurement capability --&gt;
  &lt;xs:element name="lm" type="cap:lmType"/&gt;
  &lt;xs:complexType name="lmType"&gt;
    &lt;xs:simpleContent&gt;
      &lt;xs:extension base="xs:QName"&gt;
        &lt;xs:anyAttribute namespace="##any" processContents="lax"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:simpleContent&gt;
  &lt;/xs:complexType&gt;

&lt;/xs:schema&gt;
</pre></div>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Example Capabilities Exchange and Invocation</h3>

<p>This section shows sample messages relating to the creation of a context with capabilities, monitoring the invocation resource and the provision of measurement or location information.  HTTP headers are shown on messages where it is relevant to do so.
</p>
<p>The following HELD request from a Device creates a context, including a capabilities indication:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;createContext
      xmlns="urn:ietf:params:xml:ns:geopriv:held:context"&gt;
    &lt;lifetime&gt;7200&lt;/lifetime&gt;
    &lt;snapshot&gt;false&lt;/snapshot&gt;

    &lt;capind xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"&gt;
      &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:location"
           id="cap-loc1" responseTime="45000"/&gt;
      &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:lm"
           id="cap-gnss1" responseTime="30000"&gt;
        &lt;lm xmlns:gnss="urn:ietf:params:xml:ns:geopriv:lm:gnss"&gt;
          gnss:gnss
        &lt;/lm&gt;
      &lt;/cap&gt;
    &lt;/capind&gt;
  &lt;/createContext&gt;
</pre></div>
<p>Two capabilities are included: location and measurement.  The measurement capability indicates that GNSS measurements can be provided by the Device.
        
</p>
<p>The LIS response includes context details, along with a capabilities agreement:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;contextResponse code="created"
                   xmlns="urn:ietf:params:xml:ns:geopriv:held:context"&gt;
    &lt;context id="uhvuhdbnuiehudbnvcujevuijeijcvij4"
             snapshot="false" expires="2009-07-11T15:06:00+10:00"&gt;
      &lt;locationUriSet&gt;
        &lt;locationURI&gt;
          https://lis.example.com:9768/357yc6s64ceyoiuy5ax3o4
        &lt;/locationURI&gt;
      &lt;/locationUriSet&gt;
    &lt;/context&gt;

    &lt;capagree xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"&gt;
      &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:location"
           id="cap-loc1"&gt;
        &lt;poll&gt;https://lis.example.com/cap/SEVMRCBpcyBncmVhdC4&lt;/poll&gt;
      &lt;/cap&gt;
      &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:lm"
           id="cap-gnss1"&gt;
        &lt;poll&gt;https://lis.example.com/cap/SEVMRCBpcyBncmVhdC4&lt;/poll&gt;
      &lt;/cap&gt;
    &lt;/capagree&gt;
  &lt;/contextResponse&gt;
</pre></div>
<p>This indication instructs the Device to monitor the same URI to determine when the LIS wants to invoke either capability.
        
</p>
<p>The Device then monitors the state of the resource:  [[ TODO: Add long-polling-specific headers.]]
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
GET /cap/SEVMRCBpcyBncmVhdC4 HTTP/1.1
Host: lis.example.com

</pre></div>
<p>The resource initially contains no invocation instructions:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 200 OK
Server: Example LIS
Date: Fri, 10 Jul 2009 05:06:12 GMT
Expires: Fri, 10 Jul 2009 05:07:05 GMT
ETag: "xyzzy"
Cache-control: private
Content-Type: application/held+xml
Content-Length: 59

&lt;capinv xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"/&gt;
</pre></div>
<p>Some time later, the LIS receives a location request and decides that the GNSS measurement capability of the Device would be useful or necessary in completing the reqeust.  The LIS updates the invocation resource with instructions to the Device to provide location measurements:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 200 OK
Server: Example LIS
Date: Fri, 10 Jul 2009 05:07:54 GMT
Expires: Fri, 10 Jul 2009 05:08:25 GMT
Cache-control: private
Content-Type: application/held+xml
Content-Length: 269

&lt;capinv xmlns="urn:ietf:params:xml:ns:geopriv:held:cap"&gt;
  &lt;cap uri="urn:ietf:params:xml:ns:geopriv:held:cap:lm"
       id="cap-gnss1"
       before="2009-07-10T15:08:25+10:00"&gt;
    &lt;target&gt;https://lis.example.com/TWVhc3VyZSBmaXJzdC4&lt;/target&gt;
  &lt;/cap&gt;
&lt;/capinv&gt;
</pre></div>
<p>The Device decides that it is able to provide these data.  It takes the requested measurement and pushes the measurement data to the indicated destination:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PUT /TWVhc3VyZSBmaXJzdC4 HTTP/1.1
Host: lis.example.com
Content-Type: application/xml
Content-Length: 678

&lt;measurements xmlns="urn:ietf:params:xml:ns:geopriv:lm"
              time="2009-07-10T15:08:06.490+10:00" timeError="2e-5"&gt;
  &lt;gnss xmlns="urn:ietf:params:xml:ns:geopriv:lm:gnss"
        system="gps" signal="L1"&gt;
    &lt;sat num="19"&gt;
      &lt;doppler&gt;499.9395&lt;/doppler&gt;
      &lt;codephase rmsError="1.6e-9"&gt;0.87595747&lt;/codephase&gt;
      &lt;cn0&gt;45&lt;/cn0&gt;
    &lt;/sat&gt;
    &lt;sat num="27"&gt;
      &lt;doppler&gt;378.2657&lt;/doppler&gt;
      &lt;codephase rmsError="1.6e-9"&gt;0.56639479&lt;/codephase&gt;
      &lt;cn0&gt;52&lt;/cn0&gt;
    &lt;/sat&gt;
    &lt;sat num="20"&gt;
      &lt;doppler&gt;-633.0309&lt;/doppler&gt;
      &lt;codephase rmsError="1.6e-9"&gt;0.57016835&lt;/codephase&gt;
      &lt;cn0&gt;48&lt;/cn0&gt;
    &lt;/sat&gt;
  &lt;/gnss&gt;
&lt;/measurements&gt;
</pre></div>
<p>The LIS immediately provides an empty response to the Device:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
HTTP/1.1 204 No Content
Server: Example LIS
Date: Fri, 10 Jul 2009 05:08:08 GMT

</pre></div>
<p>The LIS is then able to use the provided measurement data to provide highly accurate location information in response to the request it received.
        
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Security Considerations</h3>

<p>The information provided by a Device in the course of responding to a capabilities invocation could be private data.  This information might grant the LIS the ability to locate the Device with greater accuracy than would be otherwise possible.  Furthermore, information about the capabilities of a Device could also be considered sensitive.  A Device SHOULD offer a user the option to suppress some or all capabilities.
      
</p>
<p>Capabilities MUST only be exchanged with the LIS in the scope of a context.  This precaution provides the Device with a means to cancel access to these capabilities at any time.  This can be done by deleting the context, or by indicating an empty set of capabilities to the LIS.
      
</p>
<p>Any information that is provided to the LIS by the Device increases the impact of LIS impersonation.  Measures that mitigate the possibility of impersonation, as outlined in <a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a>, are more important for a Device that provides capability information to a LIS.  Protocols used for the exchange of location information or location measurements should also provide protection from eavesdropping.
      
</p>
<p>Responding to a capabilities invocation might require significant investment of time and resources by a Device.  Even the process of monitoring the invocation resource requires substantial effort, with little initial investment.  This could be exploited by a malicious LIS to exhaust batteries of perform other denial of service attacks.  A Device SHOULD limit the resources it makes available to a LIS in relation to capabilities it advertises.
      
</p>
<p>The LIS is responsible for the veracity of location information it provides, even when it relies on information that comes from the Device.  This considerations described in <a class='info' href='#I-D.thomson-geopriv-held-measurements'>[I&#8209;D.thomson&#8209;geopriv&#8209;held&#8209;measurements]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Using Device-provided Location-Related Measurements in Location Configuration Protocols,&rdquo; October&nbsp;2009.</span><span>)</span></a> apply to all Device-provided information.
      
</p>
<p>Server authentication for all stages of the process are important, not only for the HELD <tt>createContext</tt> request, but also for retrieving the capabilities invocation and publishing the requested information.  These resources do no need to be provided by the same server, but each resource MUST be authenticated based on the domain name in the URI, if possible.  <a class='info' href='#RFC2818'>HTTP over TLS<span> (</span><span class='info'>Rescorla, E., &ldquo;HTTP Over TLS,&rdquo; May&nbsp;2000.</span><span>)</span></a> [RFC2818] is strongly RECOMMENDED for each of these exchanges.
      
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.1"></a><h3>10.1.&nbsp;
URI Secrecy</h3>

<p>Using capabilities offers attackers a means to provide invalid location or measurement data.  The URI offered by the LIS for receiving location or measurement data is not authorized.  If an attacker knows this URI, they are able to provide misleading information that could be used by the LIS.
        
</p>
<p>The only protection provided is secrecy.  Only the Device is given the URI to the invocation resource, which is where the URI used for providing information is made available.  To guarantee this secrecy, the URI of the invocation resource and any URIs contained therein need to be difficult to acquire or guess.
        
</p>
<p>The LIS MUST use confidentiality protection on the channel it uses to provide these two resources.  <a class='info' href='#RFC2818'>HTTP over TLS<span> (</span><span class='info'>Rescorla, E., &ldquo;HTTP Over TLS,&rdquo; May&nbsp;2000.</span><span>)</span></a> [RFC2818] MUST be used unless confidentiality can be guaranteed by other means.
        
</p>
<p>To make guessing more difficult, these URIs MUST include sufficient randomness.  The LIS SHOULD also periodically change the URIs it provides to limit any exposure in the case that these URIs become known to an attacker.
        
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
IANA Considerations</h3>

<p>This section registers a URN for a capabilities XML namespace (<a class='info' href='#iana-nscap'>Section&nbsp;11.1<span> (</span><span class='info'>URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap</span><span>)</span></a>) and a corresponding schema (<a class='info' href='#iana-schemacap'>Section&nbsp;11.4<span> (</span><span class='info'>XML Schema Registration for HELD Capabilities</span><span>)</span></a>).  URNs are registered for the location (<a class='info' href='#iana-nsloc'>Section&nbsp;11.2<span> (</span><span class='info'>URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap:location</span><span>)</span></a>) and location measurement (<a class='info' href='#iana-nslm'>Section&nbsp;11.3<span> (</span><span class='info'>URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap:lm</span><span>)</span></a>) capabilities.
      
</p>
<a name="iana-nscap"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.1"></a><h3>11.1.&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap</h3>

<p>This section registers a new XML namespace, <tt>urn:ietf:params:xml:ns:held:cap</tt>, as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
        </p>
<blockquote class="text">
<p>URI: urn:ietf:params:xml:ns:held:cap
</p>
<p>Registrant Contact: IETF, GEOPRIV working group, (geopriv@ietf.org), Martin Thomson (martin.thomson@andrew.com).
</p>
<p>XML:
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      BEGIN
        &lt;?xml version="1.0"?&gt;
        &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
        &lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
          &lt;head&gt;
            &lt;title&gt;HELD Capabilities Indication&lt;/title&gt;
          &lt;/head&gt;
          &lt;body&gt;
            &lt;h1&gt;Namespace for HELD Capabilities Indication&lt;/h1&gt;
            &lt;h2&gt;urn:ietf:params:xml:ns:held:cap&lt;/h2&gt;
[[NOTE TO IANA/RFC-EDITOR: Please update RFC URL and replace XXXX
    with the RFC number for this specification.]]
            &lt;p&gt;See &lt;a href="[[RFC URL]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
          &lt;/body&gt;
        &lt;/html&gt;
      END
</pre></div><p>

          
</p>
</blockquote><p>
        
</p>
<a name="iana-nsloc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.2"></a><h3>11.2.&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap:location</h3>

<p>This section registers a new XML namespace, <tt>urn:ietf:params:xml:ns:held:cap:location</tt>, as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
        </p>
<blockquote class="text">
<p>URI: urn:ietf:params:xml:ns:held:cap:location
</p>
<p>Registrant Contact: IETF, GEOPRIV working group, (geopriv@ietf.org), Martin Thomson (martin.thomson@andrew.com).
</p>
<p>XML:
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      BEGIN
        &lt;?xml version="1.0"?&gt;
        &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
        &lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
          &lt;head&gt;
            &lt;title&gt;HELD Capabilities - Location Capability&lt;/title&gt;
          &lt;/head&gt;
          &lt;body&gt;
            &lt;h1&gt;Namespace for HELD Capabilities
                - Location Capability&lt;/h1&gt;
            &lt;h2&gt;urn:ietf:params:xml:ns:held:cap:location&lt;/h2&gt;
[[NOTE TO IANA/RFC-EDITOR: Please update RFC URL and replace XXXX
    with the RFC number for this specification.]]
            &lt;p&gt;See &lt;a href="[[RFC URL]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
          &lt;/body&gt;
        &lt;/html&gt;
      END
</pre></div><p>

          
</p>
</blockquote><p>
        
</p>
<a name="iana-nslm"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.3"></a><h3>11.3.&nbsp;
URN Sub-Namespace Registration for urn:ietf:params:xml:ns:held:cap:lm</h3>

<p>This section registers a new XML namespace, <tt>urn:ietf:params:xml:ns:held:cap:lm</tt>, as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
        </p>
<blockquote class="text">
<p>URI: urn:ietf:params:xml:ns:held:cap:lm
</p>
<p>Registrant Contact: IETF, GEOPRIV working group, (geopriv@ietf.org), Martin Thomson (martin.thomson@andrew.com).
</p>
<p>XML:
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      BEGIN
        &lt;?xml version="1.0"?&gt;
        &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
        &lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
          &lt;head&gt;
            &lt;title&gt;HELD Capabilities
                   - Location Measurement Capability&lt;/title&gt;
          &lt;/head&gt;
          &lt;body&gt;
            &lt;h1&gt;Namespace for HELD Capabilities
                - Location Measurement Capability&lt;/h1&gt;
            &lt;h2&gt;urn:ietf:params:xml:ns:held:cap:lm&lt;/h2&gt;
[[NOTE TO IANA/RFC-EDITOR: Please update RFC URL and replace XXXX
    with the RFC number for this specification.]]
            &lt;p&gt;See &lt;a href="[[RFC URL]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
          &lt;/body&gt;
        &lt;/html&gt;
      END
</pre></div><p>

          
</p>
</blockquote><p>
        
</p>
<a name="iana-schemacap"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4"></a><h3>11.4.&nbsp;
XML Schema Registration for HELD Capabilities</h3>

<p>This section registers an XML schema as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
        </p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd>urn:ietf:params:xml:schema:held:cap
</dd>
<dt>Registrant Contact:</dt>
<dd>IETF, GEOPRIV working group, (geopriv@ietf.org), Martin Thomson (martin.thomson@andrew.com).
</dd>
<dt>Schema:</dt>
<dd>The XML for this schema can be found as the entirety of <a class='info' href='#capschema'>Section&nbsp;8<span> (</span><span class='info'>XML Schema for Capabilities</span><span>)</span></a> of this document.
          
</dd>
</dl></blockquote><p>
        
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2818">[RFC2818]</a></td>
<td class="author-text">Rescorla, E., &ldquo;<a href="http://tools.ietf.org/html/rfc2818">HTTP Over TLS</a>,&rdquo; RFC&nbsp;2818, May&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2818.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-http-location-delivery">[I-D.ietf-geopriv-http-location-delivery]</a></td>
<td class="author-text">Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-http-location-delivery-16.txt">HTTP Enabled Location Delivery (HELD)</a>,&rdquo; draft-ietf-geopriv-http-location-delivery-16 (work in progress), August&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-http-location-delivery-16.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-lis-discovery">[I-D.ietf-geopriv-lis-discovery]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-lis-discovery-15.txt">Discovering the Local Location Information Server (LIS)</a>,&rdquo; draft-ietf-geopriv-lis-discovery-15 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-lis-discovery-15.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.winterbottom-geopriv-held-context">[I-D.winterbottom-geopriv-held-context]</a></td>
<td class="author-text">Winterbottom, J., Tschofenig, H., and M. Thomson, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-winterbottom-geopriv-held-context-05.txt">Location URI Contexts in HTTP-Enabled Location Delivery (HELD)</a>,&rdquo; draft-winterbottom-geopriv-held-context-05 (work in progress), October&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-winterbottom-geopriv-held-context-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.thomson-geopriv-held-measurements">[I-D.thomson-geopriv-held-measurements]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-held-measurements-05.txt">Using Device-provided Location-Related Measurements in Location Configuration Protocols</a>,&rdquo; draft-thomson-geopriv-held-measurements-05 (work in progress), October&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-held-measurements-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.winterbottom-geopriv-deref-protocol">[I-D.winterbottom-geopriv-deref-protocol]</a></td>
<td class="author-text">Winterbottom, J., Tschofenig, H., Schulzrinne, H., Thomson, M., and M. Dawson, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-winterbottom-geopriv-deref-protocol-05.txt">A Location Dereferencing Protocol Using HELD</a>,&rdquo; draft-winterbottom-geopriv-deref-protocol-05 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-winterbottom-geopriv-deref-protocol-05.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2141">[RFC2141]</a></td>
<td class="author-text"><a href="mailto:jayhawk@ds.internic.net">Moats, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2141">URN Syntax</a>,&rdquo; RFC&nbsp;2141, May&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2141.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2141.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2141.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4119">[RFC4119]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>,&rdquo; RFC&nbsp;4119, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.loreto-http-bidirectional">[I-D.loreto-http-bidirectional]</a></td>
<td class="author-text">Loreto, S., Saint-Andre, P., Salsano, S., and G. Wilkins, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-loreto-http-bidirectional-02.txt">Best Practices for the Use of Long Polling and Streaming in Bidirectional HTTP</a>,&rdquo; draft-loreto-http-bidirectional-02 (work in progress), February&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-loreto-http-bidirectional-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.thomson-geopriv-uncertainty">[I-D.thomson-geopriv-uncertainty]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-uncertainty-04.txt">Representation of Uncertainty and Confidence in PIDF-LO</a>,&rdquo; draft-thomson-geopriv-uncertainty-04 (work in progress), November&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-thomson-geopriv-uncertainty-04.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martin Thomson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PO Box U40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wollongong University Campus, NSW  2500</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AU</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+61 2 4221 2915</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:martin.thomson@andrew.com">martin.thomson@andrew.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.andrew.com/">http://www.andrew.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">James Winterbottom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PO Box U40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wollongong University Campus, NSW  2500</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AU</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+61 2 4221 2938</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:james.winterbottom@andrew.com">james.winterbottom@andrew.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.andrew.com/">http://www.andrew.com/</a></td></tr>
</table>
</body></html>
