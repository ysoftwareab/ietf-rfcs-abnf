   Network Working Group                           
   INTERNET-DRAFT                                  
   Expires in: April 2004                       	   
                                                   Scott Poretsky
                                                   Quarry Technologies

                                                   Brent Imhoff
						   		   Wiltel Communications

						   		   October 2003

             	  Terminology for Benchmarking 
		      IGP Data Plane Route Convergence

		<draft-ietf-bmwg-igp-dataplane-conv-term-01.txt>

   Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force  (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other 
   documents at any time.  It is inappropriate to use Internet-Drafts 
   as reference material or to cite them other than as "work in 
   progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   Table of Contents

     1. Introduction ...............................................2 
     2. Existing definitions .......................................2 
     3. Term definitions............................................3 
	3.1 Network Convergence.......................................3 
 	3.2 Protocol Convergence......................................3 
 	3.3 Route Convergence.........................................4
	3.4 Convergence Event.........................................4
	3.5 Full Convergence..........................................4
	3.6 Convergence Packet Loss...................................5
	3.7 Convergence Event Instant.................................5
	3.8 Convergence Recovery Transition...........................6	
	3.9 Rate-Derived Convergence Time.............................6
	3.10 Convergence Recovery Instant.............................7
	3.11 Convergence Event Transition.............................7
	3.12 Loss-Derived Convergence Time............................8

Poretsky, Imhoff								[Page 1]

INTERNET-DRAFT 		Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

	3.13 Route Convergence Time...................................9
	3.14 Restoration Convergence Time.............................9
	3.15 Packet Sampling Interval.................................10
	3.16 Local Interface..........................................10
	3.17 Neighbor Interface.......................................10
	3.18 Remote Interface.........................................11
	3.19 Preferred Egress Interface...............................11
	3.20 Next-Best Egress Interface...............................12
     4. Security Considerations.....................................12
     5. References..................................................12
     6. Author's Address............................................12
     7. Full Copyright Statement....................................13

   1. Introduction
   This draft describes the terminology for benchmarking IGP Route 
   Convergence.  The motivation and applicability for this 
   benchmarking is provided in [1].  The methodology to be used for 
   this benchmarking is described in [2].  The methodology and 
   terminology to be used for benchmarking route convergence can be 
   applied to any link-state IGP such as ISIS [3] and OSPF [4].  The 
   data plane is measured to obtain black-box (externally observable)
   convergence benchmarking metrics.  The purpose of this document is 
   to introduce new terms required to complete execution of the IGP 
   Route Convergence Methodology [2].

   An example of Route Convergence as observed and measured from the 
   data plane is shown in Figure 1.  The graph in Figure 1 shows 
   Forwarding Rate versus Time.  Time 0 on the X-axis is on the far
   right of the graph.  The components of the graph and metrics are 
   defined in the Term Definitions section of this document. 
		
		            Recovery  Convergence Event   Time = 0sec			 
	Maximum		     ^		 ^		    ^
	Forwarding Rate--> ----\    Packet   /---------------
					\    Loss   /<----Convergence
	      Convergence------->\	     /  	  Event Transition		
	Recovery Transition	  \	    /
				   	   \_____/<------100% Packet Loss	  
				      				    		
	X-axis = Time
	Y-axis = Forwarding Rate		

			Figure 1. Convergence Graph

   2.  Existing definitions
   For the sake of clarity and continuity this RFC adopts the template
   for definitions set out in Section 2 of RFC 1242.  Definitions are
   indexed and grouped together in sections for ease of reference.
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC 2119.

Poretsky, Imhoff								[Page 2]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

   3. Term Definitions

   3.1 Network Convergence  

	Definition:
	The completion of updating of all routing tables, including the 
	FIB, in all routers throughout the network.

	Discussion:
	Network Convergence can be approximated to the sum of Route 
Convergence for all routers in the network.  Network Convergence 
	can only be determined by the occurrence of packet loss or stale 
	forwarding due to an out-of-date FIB.

	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Protocol Convergence
	Route Convergence
 
   3.2 Protocol Convergence 

	Definition:
	The completion of updating a router's RIB and the forwarding of 
	an route update message (LSA for OSPF/LSP for ISIS) to a 
	neighboring peer.

	Discussion:
	Protocol Convergence considers only the Control Plane.  IGP 
	messaging is used to verify and measure convergence.  Updating 
	of the FIB, hardware updating, rerouting of traffic, and packet 
	loss are not considered. 

	Measurement Units:
	N/A

	Issues:
	Protocol Convergence does not consider updating  of the FIB, 
	hardware updating, rerouting of traffic, and resulting packet 
	loss.  Protocol Convergence is only a partial measurement of 
	Route Convergence. 

	See Also:
	Network Convergence
	Route Convergence

 
Poretsky, Imhoff								[Page 3]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

   3.3 Route Convergence

	Definition:
	The completion of the router's FIB becoming fully converged.

	Discussion:
	Route Convergence is the action of all components of the router 
	being updated with the most recent route change(s) including the 
	RIB and FIB, along with software and hardware tables. Route 
	Convergence can be observed externally by the rerouting of data 
	Traffic to a new egress interface.

	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Network Convergence
	Protocol Convergence
	Full Convergence
  	Convergence Event
	
   3.4 Convergence Event
	
	Definition:
	The occurrence of a planned or unplanned action in the network 
	that results in a change to an entry in the route table.

	Discussion:
	Convergence Events include link loss, routing protocol session 
	loss, router failure, and better next-hop.

	Measurement Units:
	N/A

	Issues:	
	None

	See Also:
	Convergence Packet Loss
	Convergence Event Instant
   
   3.5 Full Convergence

	Definition:
	Route Convergence for an entire route table.

	Discussion:
	When benchmarking convergence it is useful to measure
	The time to convergence an entire route table.  For example,

Poretsky, Imhoff								[Page 4]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

	A Convergence Event can produced for an OSPF table of 5000 
routes so that the time to converge routes 1 through 5000 
is measured.

	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Network Convergence
	Protocol Convergence
	Route Convergence
  	Convergence Event

   3.6 Convergence Packet Loss

	Definition:
	The amount of packet loss produced by a Convergence Event
	until Route Convergence occurs.

	Discussion:
	Packet loss can be observed as a reduction of forwarded 
	traffic from the maximum forwarding rate.

	Measurement Units:
	number of packets

	Issues:
	None

	See Also:
	Route Convergence
	Convergence Event
	Rate-Derived Convergence Time
	Loss-Derived Convergence Time

   3.7 Convergence Event Instant

	Definition:
	The time instant that a Convergence Event occurs.

	Discussion:
	Convergence Event Instant is observable from the data 
	plane as the precise time that the device under test begins 
	to exhibit packet loss.  

	Measurement Units:
	hh:mm:ss:uuu


Poretsky, Imhoff								[Page 5]

INTERNET-DRAFT 		Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

	Issues:	
	None

	See Also:
	Route Convergence
	Convergence Event
	Convergence Packet Loss
	Convergence Recovery Instant

   3.8 Convergence Recovery Instant

	Definition:
	The time instant that Route Convergence occurs.

	Discussion:
	Convergence Recovery Instant is observable from the data 
	plane as the precise time that the device under test no 
longer exhibits packet loss.  

	Measurement Units:
	hh:mm:ss:uuu

	Issues:	
	None

	See Also:
	Route Convergence
	Convergence Packet Loss
	Convergence Event Instant

   3.9 Rate-Derived Convergence Time

	Definition:
	The amount of time for Convergence Packet Loss to 
	persist upon occurrence of a Convergence Event until 
	occurrence of Route Convergence.   

	Discussion:
	
	Rate-Derived Convergence Time can be measured as the time 
	difference from the Convergence Event Instant to the 
	Convergence Reovery Instant, as shown with Equation 1.
	 
	(eq 1)	Rate-Derived Convergence Time = 
		Convergence Recovery Instant - Convergence Event Instant.  

	Rate-Derived Convergence Time can be measured at the maximum
	forwarding rate.
	
Measurement Units:
	seconds/milliseconds

Poretsky, Imhoff								[Page 6]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

	Issues:	
	None

	See Also:
	Route Convergence
	Convergence Packet Loss
	Loss-Derived Convergence Time	

   3.10 Loss-Derived Convergence Time

	Definition:
	The amount of time it takes for Route Convergence to 
	complete as calculated from the amount of packet loss
	and known forwarding rate.

	Discussion:
	It can be calculated from packet loss that occurs due 
	to a Convergence Event and Route Convergence, as shown 
	with Equation 2.  

	(eq 2) Loss-Derived Convergence Time =
		Convergence Packets Loss / Forwarding Rate


		NOTE: Units for this measurement are 
		packets / packets/second = seconds

	Measurement Units:
	seconds/milliseconds

	Issues:
	Loss-Derived Convergence time gives a better than 
	actual result when converging many routes simultaneously.  
	Because of this the preferred reporting metric in most 
Cases is Rate-Derived Convergence Time.

	See Also:
	Route Convergence
	Convergence Packet Loss
	Rate-Derived Convergence Time
	Convergence Event Transition
	Convergence Recovery Transition

   3.11 Convergence Event Transition

	Definition:
	The characteristic of A router in which forwarding rate
	gradually reaches zero as output queues drain after a 
	network event.



Poretsky, Imhoff								[Page 7]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

	Discussion:
	Rate-Derived Convergence Time ignores the Convergence Event 
	Transition.  Loss-Derived Convergence Time based upon the amount 
	of packet loss takes the Convergence Event Transition into 
account.  The Convergence Event Transition is best observed for 
Full Convergence. 

	Measurement Units:
	seconds/milliseconds

	Issues:
	None

	See Also:
	Route Convergence


	Convergence Event
	Rate-Derived Convergence Time
	Loss-Derived Convergence Time
	Convergence Packet Loss
	Convergence Recovery Transition

   3.12 Convergence Recovery Transition

	Definition:
	The characteristic of a router in which forwarding rate
	gradually rises to the maximum value as many routes 
	converge to recover from a network event.

	Discussion:
	Rate-Derived Convergence Time ignores the Route 
	Convergence Recovery Transition.  Loss-Derived Convergence 
	Time based upon the amount of packet loss takes the
Convergence Recovery Transition into account.  The 
Convergence Recovery Transition is best observed for Full 
Convergence. 

	Measurement Units:
	seconds/milliseconds

	Issues:
	None

	See Also:
	Route Convergence
	Rate-Derived Convergence Time
	Loss-Derived Convergence Time
	Convergence Packet Loss
	Convergence Event Transition

	
Poretsky, Imhoff								[Page 8]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

   3.13  Route Convergence Time

	Definition:
	The amount of time it takes for Route Convergence to 
	complete as observed from rerouting traffic to a
	new egress interface due to a change in next-hop without 
packet loss.

	Discussion:
	Route Convergence Time is the IGP Route Convergence
	benchmark to be used for network events that produce
	a change in next-hop without packet loss.  

	Measurement Units:
	seconds/milliseconds

	Issues:
	None

	See Also:
	Route Convergence
	Rate-Derived Convergence Time
	Loss-Derived Convergence Time

   3.14 Restoration Convergence Time

	Definition:
	The amount of time for the router under test to restore
	traffic to the original outbound port after recovery from 
	a Convergence Event.

	Discussion:
	Restoration Convergence Time is the amount of time to 
	Converge back to the original outbound port.  This is achieved 
	by recovering from the Convergence Event, such as restoring 
	the failed link.  Restoration Convergence Time is measured 
	using the Rate-Derived Convergence Time calculation technique, 
	as provided in Equation 1.  It is possible, but not desired 
	to have the Restoration Convergence Time differ from the 
	Rate-Derived Convergence Time.

	Measurement Units:
	seconds or milliseconds
	
	Issues:	
	None	

	See Also:
	Convergence Event
	Rate-Derived Convegence Time

Poretsky, Imhoff								[Page 9]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

   3.15 Packet Sampling Interval

	Definition:  
The rate at which the tester (test equipment) polls to make 
measurements for arriving packet flows.
		
	Discussion: 
	Metrics measured at the Packet Sampling Interval include
	packets received and Convergence Packet Loss.
	
	Measurement Units:
	seconds or milliseconds

	Issues:	
	Packet Sampling Interval can influence the Convergence Graph.
	This is particularly true as Full Convergence less than 1 second 
	is achieved.  The Convergence Event Transition and Convergence
	Recovery Transition can become exaggerated when the Packet 
	Sampling Interval is too long.  This will produce a larger than 
	actual Rate-Derived Convergence Time.  Guidelines for use of
	the Packet Sampling Interval are provided in [2].
	
	See Also:
	Convergence Packet Loss
	Convergence Event Transition
	Convergence Recovery Transition
	
   3.16 Local Interface

	Definition:
	An interface on the DUT.

	Discussion:
	None

	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Neighbor Interface
	Remote interface

   3.17 Neighbor Interface
	Definition:
	The interface on the neighbor router or tester that is 
	directly linked to the DUT's Local Interface.

	Discussion:
	None

Poretsky, Imhoff								[Page 10]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence


	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Local Interface
	Remote interface

   3.18 Remote Interface

	Definition:
	An interface on a neighboring router that is not directly 
	linked to any interface on the DUT.

	Discussion:
	None

	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Local interface
	Neighbor Interface

   3.19 Preferred Egress Interface

	Definition:
	The outbound interface on DUT to the preferred next-hop.

	Discussion:
	Preferred Egress Interface is the egress interface prior to 
	a Convergence Event 

	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Next-Best Egress Interface 
	Convergence Event



Poretsky, Imhoff							[Page 11]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

   3.20 Next-Best Egress Interface

	Definition:
	The outbound interface on DUT to the second-best next-hop.

	Discussion:
	Next-Best Egress Interface is the egress interface after to 
	a Convergence Event 

	Measurement Units:
	N/A

	Issues:
	None

	See Also:
	Preferred Egress Interface 
	Convergence Event

   4. Security Considerations

        Documents of this type do not directly effect the security of
        the Internet or of corporate networks as long as benchmarking
        is not performed on devices or systems connected to operating
        networks.
	
   5. References

   [1]   Poretsky, S., "Benchmarking Applicability for IGP Data Plane 
	 Route Convergence", draft-ietf-bmwg-igp-dataplane-conv-app-01, 
	 work in progress, October 2003.

   [2]   Poretsky, S., "Benchmarking Methodology for IGP Data Plane 
	 Route Convergence", draft-ietf-bmwg-igp-dataplane-conv-meth-01, 
	 work in progress, October 2003.

   [3]   Callon, R., "Use of OSI IS-IS for Routing in TCP/IP and Dual 
	 Environments", RFC 1195, December 1990.

   [4]   Moy, J., "OSPF Version 2", RFC 2328, IETF, April 1998.


  6. Author's Address

     	Scott Poretsky
   	Quarry Technologies
  	8 New England Executive Park
   	Burlington, MA 01803 
    	USA
    	Phone: + 1 781 395 5090
   	EMail: sporetsky@quarrytech.com


Poretsky, Imhoff								[Page 12]

INTERNET-DRAFT 	  Benchmarking Terminology for	October 2003
           	      IGP Data Plane Route Convergence

	Brent Imhoff
	WilTel Communications
	3180 Rider Trail South
	Bridgeton, MO 63045 USA
	Phone: +1 314 595 6853
	EMail: brent.imhoff@wcg.com

   7.  Full Copyright Statement

        Copyright (C) The Internet Society (1998).  All Rights
        Reserved.

        This document and translations of it may be copied and
        furnished to others, and derivative works that comment on or
        otherwise explain it or assist in its implementation may be
        prepared, copied, published and distributed, in whole or in
        part, without restriction of any kind, provided that the above
        copyright notice and this paragraph are included on all such
	  copies and derivative works.  However, this document itself may
        not be modified in any way, such as by removing the copyright
        notice or references to the Internet Society or other Internet
        organizations, except as needed for the purpose of developing
        Internet standards in which case the procedures for copyrights
        defined in the Internet Standards process must be followed, or
        as required to translate it into languages other than English.

        The limited permissions granted above are perpetual and will
        not be revoked by the Internet Society or its successors or
        assigns.  This document and the information contained herein is
        provided on an "AS IS" basis and THE INTERNET SOCIETY AND THE
        INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES,
        EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY
        THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY
        RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS
        FOR A PARTICULAR PURPOSE.

















Poretsky, Imhoff					     			[Page 13]
