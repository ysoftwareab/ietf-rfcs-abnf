<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Dynamic Host Configuration Protocol Option for Geodetic Location Information</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Dynamic Host Configuration Protocol Option for Geodetic Location Information">
<meta name="keywords" content="Internet-Draft, Location, Civic PIDF-LO">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">GEOPRIV WG</td><td class="header">M. Thomson</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">J. Winterbottom</td></tr>
<tr><td class="header">Obsoletes: <a href='http://tools.ietf.org/html/rfc3825'>3825</a> (if&nbsp;approved)</td><td class="header">Andrew</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">September 25, 2007</td></tr>
<tr><td class="header">Expires: March 28, 2008</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Dynamic Host Configuration Protocol Option for Geodetic Location Information<br />draft-thomson-geopriv-3825bis-01.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on March 28, 2008.</p>

<h3>Abstract</h3>

<p>This document specifies a Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for the coordinate-based geographic location of the client.  The Location Configuration Information (LCI) includes latitude, longitude, and altitude, with an indication of uncertainty for each.  Separate parameters indicate the reference datum for each of these values.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Uncertainty<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Major Changes from RFC 3825<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#terminology">1.3.</a>&nbsp;
Terminology<br />
<a href="#anchor4">2.</a>&nbsp;
DHCP Option Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">2.1.</a>&nbsp;
DHCPv4 Geodetic Location Option<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">2.2.</a>&nbsp;
DHCPv6 Geodetic Location Option<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#latlng">2.3.</a>&nbsp;
Latitude and Longitude Fields<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#alt">2.4.</a>&nbsp;
Altitude<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#datum">2.5.</a>&nbsp;
Datum<br />
<a href="#example">3.</a>&nbsp;
Encoding and Decoding Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.1.</a>&nbsp;
Encoding a Location into DHCP Geodetic Form<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">3.2.</a>&nbsp;
Decoding a Location from DHCP Geodetic Form<br />
<a href="#security">4.</a>&nbsp;
Security Considerations<br />
<a href="#iana">5.</a>&nbsp;
IANA Considerations<br />
<a href="#ack">6.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The physical location of a network device has a range of applications.  In particular, emergency telephony applications rely on knowing the location of a caller in order to determine the correct emergency center.
      
</p>
<p>There are two primary means for representing the location of a device; either through geospatial (or geodetic) coordinates, or through civic addresses.  A related document <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a> describes a DHCP encoding for civic addresses; this document defines an encoding for geodetic location information.  Different applications may be more suited to one form of location information; therefore, both the geodetic and civic forms may be used simultaneously.
      
</p>
<p>This document specifies a Dynamic Host Configuration Protocol (<a class='info' href='#RFC2131'>DHCPv4<span> (</span><span class='info'>Droms, R., &ldquo;Dynamic Host Configuration Protocol,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2131], <a class='info' href='#RFC3315'>DHCPv6<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315]) option for the coordinate-based geographic location of the client, to be provided by the server.
      
</p>
<p>The goal of this document is to enable a wired Ethernet host to obtain its location.  This location information is derived from a wiremap by the DHCP server, using the Circuit-ID Relay Agent Information Option (RAIO) defined (as Sub-Option 1) in <a class='info' href='#RFC3046'>RFC 3046<span> (</span><span class='info'>Patrick, M., &ldquo;DHCP Relay Agent Information Option,&rdquo; January&nbsp;2001.</span><span>)</span></a> [RFC3046].  The DHCP server is assumed to have access to a service that can correlate a Circuit-ID with the geographic location where the identified circuit terminates.  For instance, this might be an Ethernet wall jack.
      
</p>
<p>This geodetic location information option has limited application to wireless technologies, or other instances where a client is able to move without requiring new addressing information.  DHCP provides static configuration information, which is not dynamically or automatically refreshed.  If a client moves between when the configuration was provided and when the information is used, the information is incorrect.
      
</p>
<p>This document only defines the delivery of location information from the DHCP server to the client, due to security concerns related to using DHCP to update the database.  Within the GEOPRIV architecture as defined by <a class='info' href='#RFC3693'>RFC 3693<span> (</span><span class='info'>Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;Geopriv Requirements,&rdquo; February&nbsp;2004.</span><span>)</span></a> [RFC3693], the defined mechanism in this document for conveying initial location information is known as a "sighting" function.  Sighting functions are not required to have security capabilities and are only intended to be configured in trusted and controlled environments.  (A classic example of the sighting function is a Global Positioning System wired directly to a network node.) Further discussion of the protections that must be provided according to <a class='info' href='#RFC3694'>RFC 3694<span> (</span><span class='info'>Danley, M., Mulligan, D., Morris, J., and J. Peterson, &ldquo;Threat Analysis of the Geopriv Protocol,&rdquo; February&nbsp;2004.</span><span>)</span></a> [RFC3694] are in the <a class='info' href='#security'>Security Considerations section of this document<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Uncertainty</h3>

<p>In the context of location technology, uncertainty is a quantification of errors.  Any method for determining location is subject to some sources of error; uncertainty describes the amount of error that is present.  Uncertainty might be the coverage area of a wireless transmitter, the extent of a building or a single room.
        
</p>
<p>Uncertainty is usually represented as an area within which the target is located.  In this document, each of the three axes can be assigned an uncertainty value.  In effect, this describes a rectangular prism.
        
</p>
<p>When representing locations from sources that can quantify uncertainty, the goal is to find the smallest possible rectangular prism that this format can describe.  This is achieved by taking the minimum and maximum values on each axis and ensuring that the final encoding covers these points.  This increases the region of uncertainty, but ensures that the region that is described encompasses the target location.
        
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Major Changes from RFC 3825</h3>

<p>An option for DHCPv6 is included in this document.
        
</p>
<p>The way in which uncertainty is described is changed from the previous version.  There was some confusion with the way that the word "resolution" was used in the previous version.  Uncertainty is now used in place of resolution and more explanation is included.
        
</p>
<p>The uncertainty components have changed in their meaning.  The previous version was unclear/misleading on how these values should be interpreted.  This is clarified.  This is illustrated with a new set of normative examples, including both encoding and decoding of these values.  <a class='info' href='#OGC.GML-3.1.1'>Geographic Markup Language (GML)<span> (</span><span class='info'>Cox, S., Daisey, P., Lake, R., Portele, C., and A. Whiteside, &ldquo;Geographic information - Geography Markup Language (GML),&rdquo; April&nbsp;2004.</span><span>)</span></a> [OGC.GML&#8209;3.1.1] is used for these examples.
        
</p>
<p>An altitude type of 0 (no altitude) was previously described in text, but not registered in the IANA registry.  This document formally registers this type.  Altitude type 2 is deprecated in favour of <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>.
        
</p>
<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
        
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
DHCP Option Format</h3>

<p>This section defines the format for the DHCPv4 and DHCPv6 options.  These options use the same basic format, differing only in the option code.
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
DHCPv4 Geodetic Location Option</h3>

<p>The format of the geodetic option for <a class='info' href='#RFC2131'>DHCPv4<span> (</span><span class='info'>Droms, R., &ldquo;Dynamic Host Configuration Protocol,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2131] is as follows:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Code (123)  |  OptLen (16)  |  LatUnc   |     Latitude      .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .                Latitude (cont'd)              |  LongUnc  |   .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .                       Longitude (cont'd)                      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | AType |   AltUnc  |                Altitude                   .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .  Alt (cont'd) |     Datum     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p></p>
<blockquote class="text"><dl>
<dt>Code:</dt>
<dd>GEOCONF_GEODETIC (8 bits).  The code for this DHCPv4 option is 123.
          
</dd>
<dt>OptLen:</dt>
<dd>Option Length (8 bits).  This option is fixed size, the value of this octet will always be 16.
          
</dd>
<dt>LatUnc:</dt>
<dd>Latitude Uncertainty (6 bits).  See <a class='info' href='#latlngunc'>Section&nbsp;2.3.1<span> (</span><span class='info'>Latitude and Longitude Uncertainty</span><span>)</span></a>.
          
</dd>
<dt>Latitude:</dt>
<dd>Latitude (34 bits).  See <a class='info' href='#latlng'>Section&nbsp;2.3<span> (</span><span class='info'>Latitude and Longitude Fields</span><span>)</span></a>.
          
</dd>
<dt>LongUnc:</dt>
<dd>Longitude Uncertainty (6 bits).  See <a class='info' href='#latlngunc'>Section&nbsp;2.3.1<span> (</span><span class='info'>Latitude and Longitude Uncertainty</span><span>)</span></a>.
          
</dd>
<dt>Longitude:</dt>
<dd>Longitude (34 bits).  See <a class='info' href='#latlng'>Section&nbsp;2.3<span> (</span><span class='info'>Latitude and Longitude Fields</span><span>)</span></a>.
          
</dd>
<dt>AType:</dt>
<dd>Altitude Type (4 bits).  See <a class='info' href='#alt'>Section&nbsp;2.4<span> (</span><span class='info'>Altitude</span><span>)</span></a>.
          
</dd>
<dt>AltUnc:</dt>
<dd>Altitude Uncertainty (6 bits).  See <a class='info' href='#altunc'>Section&nbsp;2.4.4<span> (</span><span class='info'>Altitude Uncertainty</span><span>)</span></a>.
          
</dd>
<dt>Altitude:</dt>
<dd>Altitude (30 bits).  See <a class='info' href='#alt'>Section&nbsp;2.4<span> (</span><span class='info'>Altitude</span><span>)</span></a>.
          
</dd>
<dt>Datum:</dt>
<dd>Datum (8 bits).  See <a class='info' href='#datum'>Section&nbsp;2.5<span> (</span><span class='info'>Datum</span><span>)</span></a>.
          
</dd>
</dl></blockquote>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
DHCPv6 Geodetic Location Option</h3>

<p>The format of the geodetic option for <a class='info' href='#RFC3315'>DHCPv6<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315] is as follows:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |       Option Code (TBD)       |  OptLen (16)  |  LatUnc   |   .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .                     Latitude (cont'd)                         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  LongUnc  |               Longitude                           .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    . Long (cont'd) | AType |   AltUnc  |         Altitude          .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .      Altitude (cont'd)        |     Datum     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p></p>
<blockquote class="text"><dl>
<dt>Option Code:</dt>
<dd>OPTION_GEOCONF_GEODETIC (16 bits).  The code for this DHCPv6 option is TBD.
          
</dd>
</dl></blockquote><p>
        The remaining fields are identical to the DHCPv4 fields.
</p>
<a name="latlng"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Latitude and Longitude Fields</h3>

<p>The Latitude and Longitude values in this format are encoded as 34 bit, twos complement, fixed point values with 9 integer bits and 25 fractional bits.  The exact meaning of these values is determined by the datum; the description in this section applies to the datums defined in this document.
        
</p>
<p>New datums MUST define the way that the 34 bit values and the respective 6 bit uncertainties are interpreted.  This document uses the same definition for all datums it specifies.
        
</p>
<p>Latitude values MUST be constrained to the range from -90 to +90 degrees.  Positive latitudes are north of the equator; negative latitude are south of the equator.
        
</p>
<p>Longitude values SHOULD be normalized to the range from -180 to +180 degrees.  Values outside this range are normalized by adding or subtracting 360 until they fall within this range.  Positive longitudes are east of the Prime Meridian (Greenwich); negative longitudes are west of the Prime Meridian.
        
</p>
<p>When encoding, latitude and longitude values are rounded to the nearest 34-bit binary representation.  This imprecision is considered acceptable for the purposes to which this form is intended to be applied and is ignored when decoding.
        
</p>
<a name="latlngunc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.1"></a><h3>2.3.1.&nbsp;
Latitude and Longitude Uncertainty</h3>

<p>The latitude and longitude uncertainty fields are encoded as 6 bit, unsigned integer values.  These values quantify the amount of uncertainty in each of the latitude and longitude values respectively.  A value of 0 is reserved to indicate that the uncertainty is unknown; values greater than 34 are reserved.
</p>
<p>The value for uncertainty is taken as the distance from the selected point (which is usually selected as the center of the region of uncertainty) to the furthest extreme of the region of uncertainty on that axis.
          
</p>
<p>The following figure shows a two-dimensional figure that is projected to each axis.  In the figure, <tt>X</tt> marks the point that is selected; the ranges marked with <tt>U</tt> is the uncertainty.
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  ___          ___________
  ^ |         /           |
  | |        /            |
  | |       /             |
  U |      /              |
  | |     (               |
  V |     |               |
  --X     |         X     |
    |     |               `---------.
    |     |                         |
    |     |                         |
    |     |                         |
    -     `-------------------------'

          |---------X---------------|
                    |&lt;------U------&gt;|

</pre></div>
<p>Uncertainty applies to each axis independently.  If necessary, decoders MAY assume a normal distribution and that the uncertainty representsone standard deviation (i.e. approximately 68% confidence).
          
</p>
<p>The amount of uncertainty can be determined from the encoding by taking 2 to the power of 8, less the encoded value.  As is shown in the following formula, where <tt>x</tt> is the encoded integer value:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>    uncertainty = 2 ^ ( 8 - x )</pre></div>
<p>The result of this formula is expressed in degrees of latitude or longitude.  The uncertainty is added to the base latitude or longitude value to determine the maximum value in the uncertainty range; similarly, the uncertainty is subtracted from the base value to determine the minimum value.  Note that because lines of longitude converge at the poles, the actual distance represented by this uncertainty changes with the distance from the equator.
            
</p>
<p>If the maximum or minimum latitude values derived from applying uncertainty are outside the range of -90 to +90, these values are trimmed to within this range.  If the maximum or minimum longitude values derived from applying uncertainty are outside the range of -180 to +180, then these values are normalized to this range by adding or subtracting 360 as necessary.
          
</p>
<p>The encoded value is determined by subtracting the next highest whole integer value for the base 2 logarithm of uncertainty from 8.  As is shown by the following formula, where uncertainty is the midpoint of the known range less the lower bound of that range:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>    x = 8 - ceil( log2( uncertainty ) )</pre></div>
<p>Note that the result of encoding this value increases the range of uncertainty to the next available power of two; subsequent repeated encodings and decodings do not change the value.  Only increasing uncertainty means that the associated confidence does not have to decrease.
            
</p>
<a name="alt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
Altitude</h3>

<p>The altitude is expressed as a 30 bit, fixed point, twos complement integer with 22 integer bits and 8 fractional bits.  How the altitude value is interpreted depends on the type of altitude and the selected datum.
        
</p>
<p>New altitude types and datums MUST define the way that the 30 bit value and the associated 6 bit uncertainty are interpreted.
        
</p>
<p>Three altitude types are defined in this document: unknown (0), meters (1) and floors (2).  Additional altitude types MUST be defined in a Standards Track RFC.
        
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.1"></a><h3>2.4.1.&nbsp;
No Known Altitude (AT = 0)</h3>

<p>In some cases, the altitude of the location might not be known.  An altitude type of 0 indicates that the altitude is not known.  In this case, the altitude and altitude uncertainty fields can contain any value and are ignored.
          
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.2"></a><h3>2.4.2.&nbsp;
Altitude in Meters (AT = 1)</h3>

<p>If the altitude type has a value of 1, the altitude is measured in meters.  The altitude is measured in relation to the zero set by the vertical datum.
          
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.3"></a><h3>2.4.3.&nbsp;
Altitude in Floors (AT = 2)</h3>

<p>A value of 2 for altitude type indicates that the altitude value is measured in floors.  This value is relevant only in relation to a building; the value is relative to the ground level of the building.  In this definition, numbering starts at ground level, which is floor 0 regardless of local convention.
          
</p>
<p>Non-integer values can be used to represent intermediate or sub-floors, such as mezzanine levels.  For instance, a mezzanine between floors 4 and 5 could be represented as 4.1.
          
</p>
<p>Use of altitude in floors is deprecated in favor of the floors field (CAtype 27) in the <a class='info' href='#RFC4776'>civic address option<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a> [RFC4776].
          
</p>
<a name="altunc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.4"></a><h3>2.4.4.&nbsp;
Altitude Uncertainty</h3>

<p>Altitude uncertainty uses the same form of expression as latitude and longitude uncertainty.  Like latitude and longitude, a value of 0 is reserved to indicate that uncertainty is not known; values above 30 are also reserved.  Altitude uncertainty only applies to altitude type 1.
          
</p>
<p>The amount of altitude uncertainty can be determined by the following formula, where x is the encoded integer value:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>    uncertainty = 2 ^ ( 21 - x )</pre></div>
<p>This value uses the same units as the associated altitude.
            
</p>
<p>Similarly, a value for the encoded integer value can be derived by the following formula:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>    x = 21 - ceil( log2( x ) )</pre></div>
<a name="datum"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.5"></a><h3>2.5.&nbsp;
Datum</h3>

<p>The datum field determines how coordinates are organized and related to the real world.  Three datums are defined in this document, based on the definitions in <a class='info' href='#OGP.Geodesy'>[OGP.Geodesy]<span> (</span><span class='info'>OGP, &ldquo;International Association of Oil &amp; Gas Producers (OGP) Geodesy Resources,&rdquo; .</span><span>)</span></a>:
        </p>
<blockquote class="text"><dl>
<dt>1: WGS84 (Latitude, Longitude, Altitude):</dt>
<dd>
          The <a class='info' href='#WGS84'>World Geodesic System 1984<span> (</span><span class='info'>US National Imagery and Mapping Agency, &ldquo;Department of Defense (DoD) World Geodetic System 1984 (WGS 84), Third Edition,&rdquo; January&nbsp;2000.</span><span>)</span></a> [WGS84] coordinate reference system.
          <br />
<br />

          This datum is identified by the European Petroleum Survey Group (EPSG)/International Association of Oil &amp; Gas Producers (OGP) with the code 4979, or by the URN <tt>urn:ogc:def:crs:EPSG::4979</tt>.  Without altitude, this datum is identified by the EPSG/OGP code 4326 and the URN <tt>urn:ogc:def:crs:EPSG::4326</tt>.
          
</dd>
<dt>2: NAD83 (Latitude, Longitude) + NAVD88:</dt>
<dd>
          This datum uses a combination of the North American Datum 1983 (NAD83) for horizontal (latitude and longitude) values, plus the North American Vertical Datum of 1988 (NAVD88) vertical datum.
          <br />
<br />

          This datum is used for referencing location on land (not near tidal water) within North America.
          <br />
<br />

          NAD83 is identified by the EPSG/OGP code of 4269, or the URN <tt>urn:ogc:def:crs:EPSG::4269</tt>.  NAVD88 is identified by the EPSG/OGP code of 5703, or the URN <tt>urn:ogc:def:crs:EPSG::5703</tt>.
          
</dd>
<dt>3: NAD83 (Latitude, Longitude) + MLLW:</dt>
<dd>
          This datum uses a combination of the North American Datum 1983 (NAD83) for horizontal (latitude and longitude) values, plus the Mean Lower Low Water (MLLW) vertical datum.
          <br />
<br />

          This datum is used for referencing location on or near tidal water within North America.
          <br />
<br />

          NAD83 is identified by the EPSG/OGP code of 4269, or the URN <tt>urn:ogc:def:crs:EPSG::4269</tt>.  MLLW does not have a specific code or URN.
          
</dd>
</dl></blockquote><p>
        
</p>
<p>All hosts MUST support the WGS84 datum (Datum 1).
</p>
<p>New datum codes can be registered in the <a class='info' href='#iana'>IANA registry<span> (</span><span class='info'>IANA Considerations</span><span>)</span></a> by a Standards Track RFC.  New geodetic coordinate datums MUST be three dimensional that define both horizontal and vertical components.
        
</p>
<a name="example"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Encoding and Decoding Example</h3>

<p>This section describes an example of encoding and decoding the geodetic DHCP option.  The textual results are expressed in <a class='info' href='#OGC.GML-3.1.1'>GML<span> (</span><span class='info'>Cox, S., Daisey, P., Lake, R., Portele, C., and A. Whiteside, &ldquo;Geographic information - Geography Markup Language (GML),&rdquo; April&nbsp;2004.</span><span>)</span></a> [OGC.GML&#8209;3.1.1] form, suitable for inclusion in <a class='info' href='#RFC4119'>PIDF-LO<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4119].
      
</p>
<p>These examples all assume a datum of WGS84 (datum = 1) and an altitude type of meters (AT = 1).
      
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Encoding a Location into DHCP Geodetic Form</h3>

<p>This example draws a rough polygon around the Sydney Opera House.  This polygon consists of the following six points:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    33.856625 S, 151.215906 E
    33.856299 S, 151.215343 E
    33.856326 S, 151.214731 E
    33.857533 S, 151.214495 E
    33.857720 S, 151.214613 E
    33.857369 S, 151.215375 E
</pre></div>
<p>The top of the building 67.4 meters above sea level, and a starting altitude of 0 meters above the WGS84 geoid is assumed.
          
</p>
<p>The first step is to determine the range of latitude and longitude values.  Latitude ranges from -33.857720 to -33.856299; longitude ranges from 151.214495 to 151.215906.
</p>
<p>For this example, the point that is encoded is chosen by finding the middle of each range, that is (-33.8570095, 151.2152005).  This is encoded as (1110111100010010010011011000001101, 0100101110011011100010111011000011) in binary, or (3BC49360D, 12E6E2EC3) in hexadecimal notation (with an extra 2 bits of leading padding on each).  Altitude is set at 33.7 meters, which is 000000000000000010000110110011 (binary) or 000021B3 (hexadecimal).
        
</p>
<p>The latitude uncertainty is given by inserting the difference between the center value and the outer value into the formula from <a class='info' href='#latlngunc'>Section&nbsp;2.3.1<span> (</span><span class='info'>Latitude and Longitude Uncertainty</span><span>)</span></a>.  This gives:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>     x = 8 - ceil( log2( -33.8570095 - -33.857720 ) )</pre></div>
<p>The result of this equation is 18, therefore the uncertainty is encoded as 010010 in binary.
          
</p>
<p>Similarly, longitude uncertainty is given by the formula:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>     x = 8 - ceil( log2( 151.2152005 - 151.214495 ) )</pre></div>
<p>The result of this equation is also 18, or 010010 in binary.
          
</p>
<p>Altitude uncertainty uses the formula from <a class='info' href='#altunc'>Section&nbsp;2.4.4<span> (</span><span class='info'>Altitude Uncertainty</span><span>)</span></a>:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>     x = 21 - ceil( log2( 33.7 - 0 ) )</pre></div>
<p>The result of this equation is 15, which is encoded as 001111 in binary.
          
</p>
<p>Adding an Altitude Type of 1 (meters) and a Datum of 1 (WGS84), this gives the following DHCPv4 form:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Code (123)  |  OptLen (16)  |  LatUnc   |     Latitude      .
    |0 1 1 1 1 0 1 1|0 0 0 1 0 0 0 0|0 1 0 0 1 0|1 1 1 0 1 1 1 1 0 0.
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .                Latitude (cont'd)              |  LongUnc  |   .
    .0 1 0 0 1 0 0 1 0 0 1 1 0 1 1 0 0 0 0 0 1 1 0 1|0 1 0 0 1 0|0 1.
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .                       Longitude (cont'd)                      |
    .0 0 1 0 1 1 1 0 0 1 1 0 1 1 1 0 0 0 1 0 1 1 1 0 1 1 0 0 0 0 1 1|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | AType |   AltUnc  |                Altitude                   .
    |0 0 0 1|0 0 1 1 1 1|0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 1.
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    .  Alt (cont'd) |     Datum     |
    .1 0 1 1 0 0 1 1|0 0 0 0 0 0 0 1|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p>In hexadecimal, this is 7B104BBC 49360D49 2E6E2EC3 13C00021 B301.  The DHCPv6 form only differs in the code and option length portion.
          
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Decoding a Location from DHCP Geodetic Form</h3>

<p>If receiving the binary form created in the previous section, this section describes how that would be interpreted.  The result is then represented as a GML object, as defined in <a class='info' href='#GeoShape'>[GeoShape]<span> (</span><span class='info'>Thomson, M. and C. Reed, &ldquo;GML 3.1.1 PIDF-LO Shape Application Schema for use by the Internet Engineering Task Force (IETF),&rdquo; December&nbsp;2006.</span><span>)</span></a>.
        
</p>
<p>A latitude value of 1110111100010010010011011000001101 decodes to a value of -33.8570095003 (to 10 decimal places).  The longitude value of 0100101110011011100010111011000011 decodes to 151.2152005136.
        
</p>
<p></p>
<blockquote class="text"><dl>
<dt>Decoding Tip:</dt>
<dd>If the raw values of latitude and longitude are placed in integer variables, the actual value can be derived by the following process:
          
<ol class="text">
<li>If the highest order bit is set (i.e. the number is a twos complement negative), then subtract 2 to the power of 34 (the total number of bits).
            
</li>
<li>Divide the result by 2 to the power of 25 (the number of fractional bits) to determine the final value.
            
</li>
</ol>
          The same principle can be applied when decoding altitude values, except with different powers of 2 (30 and 8 respectively).
          
</dd>
</dl></blockquote>

<p>The latitude and longitude uncertainty are both 18, which gives an uncertainty value using the formula from <a class='info' href='#latlngunc'>Section&nbsp;2.3.1<span> (</span><span class='info'>Latitude and Longitude Uncertainty</span><span>)</span></a> of 0.0009765625.  Therefore, the decoded latitudes is -33.8570095003 +/- 0.0009765625 (or the range from -33.8579860628 to -33.8560329378) and the decoded longitude is 151.2152005136 +/- 0.0009765625 (or the range from 151.2142239511 to 151.2161770761).
        
</p>
<p>The encoded altitude of 000000000000000010000110110011 decodes to 33.69921875.  The encoded uncertainty of 15 gives a value of 64, therefore the final uncertainty is 33.69921875 +/- 64 (or the range from -30.30078125 to 97.69921875).
        
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
GML Representation of Decoded Locations</h3>

<p>The GML representation of a decoded DHCP option depends on what fields are specified.  Uncertainty can be omitted from all of the respective fields, and altitude can also be absent.
          
</p>
<p>In the absence of uncertainty information, the value decoded from the DHCP form can be expressed as a single point.  If the point includes altitude, it uses a three dimensional CRS, otherwise it uses a two dimensional CRS.
          
</p>
<p>The following GML shows the value decoded in the previous example as a point in a three dimensional CRS:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    &lt;gml:Point srsName="urn:ogc:def:crs:EPSG::4979"
               xmlns:gml="http://www.opengis.net/gml"&gt;
      &lt;gml:pos&gt;-33.8570095003 151.2152005136 33.69921875&lt;/gml:pos&gt;
    &lt;/gml:Point&gt;
</pre></div>
<p>If all fields are included along with uncertainty, the shape described is a rectangular prism.  Note that this is necessary given that uncertainty for each axis is provided idependently.
          
</p>
<p>The following example uses all of the decoded information from the previous example:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;gs:Prism srsName="urn:ogc:def:crs:EPSG::4979"
      xmlns:gs="http://www.opengis.net/pidflo/1.0"
      xmlns:gml="http://www.opengis.net/gml"&gt;
    &lt;gs:base&gt;
      &lt;gml:Polygon&gt;
        &lt;gml:exterior&gt;
          &lt;gml:LinearRing&gt;
            &lt;gml:posList&gt;
              -33.8579860628 151.2142239511 -30.30078125
              -33.8579860628 151.2161770761 -30.30078125
              -33.8560329378 151.2161770761 -30.30078125
              -33.8560329378 151.2142239511 -30.30078125
              -33.8579860628 151.2142239511 -30.30078125
            &lt;/gml:posList&gt;
          &lt;/gml:LinearRing&gt;
        &lt;/gml:exterior&gt;
      &lt;/gml:Polygon&gt;
    &lt;/gs:base&gt;
    &lt;gs:height uom="urn:ogc:def:uom:EPSG::9001"&gt;
      128
    &lt;/gs:height&gt;
  &lt;/gs:Prism&gt;
</pre></div>
<p>Note that this representation is only appropriate if the uncertainty is sufficiently small.  <a class='info' href='#GeoShape'>[GeoShape]<span> (</span><span class='info'>Thomson, M. and C. Reed, &ldquo;GML 3.1.1 PIDF-LO Shape Application Schema for use by the Internet Engineering Task Force (IETF),&rdquo; December&nbsp;2006.</span><span>)</span></a> recommends that distances between polygon vertices be kept short.  A GML representation like this one is only appropriate where uncertainty is less than 1 degree (an encoded value of 9).
          
</p>
<p>If altitude or altitude uncertainty is not specified, the shape is described as a rectangle using the <tt>gml:Polygon</tt> shape.  If altitude is available, a three dimensional CRS is used, otherwise a two dimensional CRS is used.
          
</p>
<p>For Datum values of 2 or 3 (NAD83), there is no available CRS URN that covers three dimensional coordinates.  By necessity, locations described in these datums can be represented by two dimensional shapes only; that is, either a two dimensional point or a polygon.
          
</p>
<p>If the altitude type is 2 (floors), then this value can be represented using a <a class='info' href='#I-D.ietf-geopriv-revised-civic-lo'>civic address object<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Revised Civic Location Format for PIDF-LO,&rdquo; December&nbsp;2007.</span><span>)</span></a> [I&#8209;D.ietf&#8209;geopriv&#8209;revised&#8209;civic&#8209;lo] that is presented alongside the geodetic object.
          
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>Security considerations related to the privacy of location information as discussed in the GEOPRIV documents <a class='info' href='#RFC3693'>RFC 3693<span> (</span><span class='info'>Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;Geopriv Requirements,&rdquo; February&nbsp;2004.</span><span>)</span></a> [RFC3693] and <a class='info' href='#RFC3694'>RFC 3694<span> (</span><span class='info'>Danley, M., Mulligan, D., Morris, J., and J. Peterson, &ldquo;Threat Analysis of the Geopriv Protocol,&rdquo; February&nbsp;2004.</span><span>)</span></a> [RFC3694] apply.
      
</p>
<p>Where critical decisions might be based on the value of this option, DHCPv4 authentication in <a class='info' href='#RFC3118'>RFC 3118<span> (</span><span class='info'>Droms, R. and W. Arbaugh, &ldquo;Authentication for DHCP Messages,&rdquo; June&nbsp;2001.</span><span>)</span></a> [RFC3118] SHOULD be used to protect the integrity of the DHCP options.
      
</p>
<p>Since there is no privacy protection for DHCP messages, an eavesdropper who can monitor the link between the DHCP server and requesting client can discover this option.  Thus, usage of the option on networks without access restrictions or network-layer or link-layer privacy protection is NOT RECOMMENDED.
      
</p>
<p>To minimize the unintended exposure of location information, the GEOCONF_GEODETIC option SHOULD be returned by DHCPv4 servers only when the DHCPv4 client has included this option in its 'parameter request list' (<a class='info' href='#RFC2131'>RFC 2131<span> (</span><span class='info'>Droms, R., &ldquo;Dynamic Host Configuration Protocol,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2131], Section 3.5).  Similarly, the OPTION_GEOCONF_GEODETIC option SHOULD be returned by DHCPv6 servers only when the DHCPv6 client has included this option in its OPTION_ORO.
      
</p>
<p>After initial location information has been introduced, it MUST be afforded the protections defined in <a class='info' href='#RFC3694'>RFC 3694<span> (</span><span class='info'>Danley, M., Mulligan, D., Morris, J., and J. Peterson, &ldquo;Threat Analysis of the Geopriv Protocol,&rdquo; February&nbsp;2004.</span><span>)</span></a> [RFC3694].  Therefore, location information SHOULD NOT be sent from a DHCP client to a DHCP server.  If a client decides to send location information to the server, it is implicitly granting that server unlimited retention and distribution permissions.
      
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>The IANA has registered DHCPv4 and DHCPv6 option codes for the Geodetic Location option (GEOCONF_GEODETIC = 123 and OPTION_GEOCONF_GEODETIC = XXX, respectively).
      
</p>
<p>The IANA has established two registries for GeoConf items: the <a class='info' href='#alt'>altitude type field<span> (</span><span class='info'>Altitude</span><span>)</span></a> and the <a class='info' href='#datum'>datum field<span> (</span><span class='info'>Datum</span><span>)</span></a>.  It is requested of IANA that the registry refer to this document for the definition of these items.  New values for both these registries require <a class='info' href='#RFC2434'>"Standards Action"<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; October&nbsp;1998.</span><span>)</span></a> [RFC2434].
      
</p>
<p>Values registered in the Altitude Type registry are:
      </p>
<blockquote class="text"><dl>
<dt>AT = 0</dt>
<dd>denotes that no altitude information is present
        
</dd>
<dt>AT = 1</dt>
<dd>denotes an altitude in meters as defined by the associated datum
        
</dd>
<dt>AT = 2</dt>
<dd>denotes an altitude in floors within the context of a building (deprecated)
        
</dd>
</dl></blockquote><p>
      
</p>
<p>Values registered in the Datum registry are:
      </p>
<blockquote class="text"><dl>
<dt>Datum = 1</dt>
<dd>denotes the WGS84 datum as defined by the EPSG/OGP with the code 4326 (with no altitude) or 4979 (with altitude)
        
</dd>
<dt>Datum = 2</dt>
<dd>denotes the NAD83 datum for latitude and longitude as defined by the EPSG/OGP with the code of 4269 (no altitude); the corresponding vertical datum is the North American Vertical Datum of 1988 (NAVD88) as defined by the EPSG/OGP with the code of 5703
        
</dd>
<dt>Datum = 3</dt>
<dd>denotes the NAD83 datum for latitude and longitude as defined by the EPSG/OGP with the code of 4269 (no altitude); the corresponding vertical datum is the Mean Lower Low Water (MLLW)
        
</dd>
</dl></blockquote><p>
      
</p>
<a name="ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgements</h3>

<p>Special thanks go to Klaus Darilion and Alexander Mayrhofer for reviewing the document and pointing out a few errors.
      
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2434">[RFC2434]</a></td>
<td class="author-text"><a href="mailto:narten@raleigh.ibm.com">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no">H. Alvestrand</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2434">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;2434, October&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2434.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2434.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2434.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2131">[RFC2131]</a></td>
<td class="author-text"><a href="mailto:droms@bucknell.edu">Droms, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2131">Dynamic Host Configuration Protocol</a>,&rdquo; RFC&nbsp;2131, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2131.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2131.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2131.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3118">[RFC3118]</a></td>
<td class="author-text">Droms, R. and W. Arbaugh, &ldquo;<a href="http://tools.ietf.org/html/rfc3118">Authentication for DHCP Messages</a>,&rdquo; RFC&nbsp;3118, June&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3118.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3315">[RFC3315]</a></td>
<td class="author-text">Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;<a href="http://tools.ietf.org/html/rfc3315">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>,&rdquo; RFC&nbsp;3315, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3315.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3046">[RFC3046]</a></td>
<td class="author-text">Patrick, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3046">DHCP Relay Agent Information Option</a>,&rdquo; RFC&nbsp;3046, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3046.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3693">[RFC3693]</a></td>
<td class="author-text">Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and J. Polk, &ldquo;<a href="http://tools.ietf.org/html/rfc3693">Geopriv Requirements</a>,&rdquo; RFC&nbsp;3693, February&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3693.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3694">[RFC3694]</a></td>
<td class="author-text">Danley, M., Mulligan, D., Morris, J., and J. Peterson, &ldquo;<a href="http://tools.ietf.org/html/rfc3694">Threat Analysis of the Geopriv Protocol</a>,&rdquo; RFC&nbsp;3694, February&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3694.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4119">[RFC4119]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>,&rdquo; RFC&nbsp;4119, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4776">[RFC4776]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://tools.ietf.org/html/rfc4776">Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information</a>,&rdquo; RFC&nbsp;4776, November&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4776.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-revised-civic-lo">[I-D.ietf-geopriv-revised-civic-lo]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-revised-civic-lo-07.txt">Revised Civic Location Format for PIDF-LO</a>,&rdquo; draft-ietf-geopriv-revised-civic-lo-07 (work in progress), December&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-revised-civic-lo-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="GeoShape">[GeoShape]</a></td>
<td class="author-text">Thomson, M. and C. Reed, &ldquo;GML 3.1.1 PIDF-LO Shape Application Schema for use by the Internet Engineering Task Force (IETF),&rdquo; Candidate OpenGIS Implementation Specification&nbsp;06-142, Version: 0.0.9, December&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="OGP.Geodesy">[OGP.Geodesy]</a></td>
<td class="author-text">OGP, &ldquo;<a href="http://info.ogp.org.uk/geodesy/">International Association of Oil &amp; Gas Producers (OGP) Geodesy Resources</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="WGS84">[WGS84]</a></td>
<td class="author-text">US National Imagery and Mapping Agency, &ldquo;Department of Defense (DoD) World Geodetic System 1984 (WGS 84), Third Edition,&rdquo; NIMA&nbsp;TR8350.2, January&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="OGC.GML-3.1.1">[OGC.GML-3.1.1]</a></td>
<td class="author-text">Cox, S., Daisey, P., Lake, R., Portele, C., and A. Whiteside, &ldquo;<a href="http://portal.opengeospatial.org/files/?artifact_id=4700">Geographic information - Geography Markup Language (GML)</a>,&rdquo; OpenGIS&nbsp;03-105r1, April&nbsp;2004.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martin Thomson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PO Box U40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wollongong University Campus, NSW  2500</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AU</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+61 2 4221 2915</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:martin.thomson@andrew.com">martin.thomson@andrew.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.andrew.com/">http://www.andrew.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">James Winterbottom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PO Box U40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wollongong University Campus, NSW  2500</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AU</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+61 2 4221 2938</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:james.winterbottom@andrew.com">james.winterbottom@andrew.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.andrew.com/">http://www.andrew.com/</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2007).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
