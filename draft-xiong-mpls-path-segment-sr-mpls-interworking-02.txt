



MPLS                                                            Q. Xiong
Internet-Draft                                                 G. Mirsky
Intended status: Informational                           ZTE Corporation
Expires: January 14, 2021                                       W. Cheng
                                                            China Mobile
                                                           July 13, 2020


        The Use of Path Segment in SR-MPLS and MPLS Interworking
         draft-xiong-mpls-path-segment-sr-mpls-interworking-02

Abstract

   This document illustrates the SR-MPLS and MPLS interworking scenarios
   to support end-to-end bidirectional tunnel across multiple domains
   with the use of Path Segments.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 14, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Xiong, et al.           Expires January 14, 2021                [Page 1]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
     2.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3
     2.2.  Requirements Language . . . . . . . . . . . . . . . . . .   4
   3.  SR-MPLS Interworking with MPLS  . . . . . . . . . . . . . . .   4
     3.1.  Stitching of Path Segments  . . . . . . . . . . . . . . .   5
     3.2.  Nesting of Path Segments  . . . . . . . . . . . . . . . .   6
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   Segment Routing (SR) leverages the source routing paradigm.  A node
   steers a packet through an SR Policy instantiated as an ordered list
   of instructions called "segments".  SR supports a per-flow explicit
   routing while maintaining per-flow state only at the ingress nodes of
   the SR domain.  Segment Routing can be instantiated on MPLS data
   plane which is referred to as SR-MPLS [RFC8660].  SR-MPLS leverages
   the MPLS label stack to construct the SR path.

   IP/MPLS technology can be deployed in domains, which may serve as an
   access, aggregation, or core network.  Further, using SR
   architecture, the IP/MPLS network may be upgraded to support the SR-
   MPLS technology.  As such transformation is performed incrementally,
   by one domain at the time, operators are faced with a requirement to
   support the interworking between MPLS and SR-MPLS networks at the
   boundaries to provide the end-to-end bidirectional service.  As
   defined in [RFC8402], the headend of an SR Policy binds a Binding
   Segment ID(B-SID) to its policy.  The B-SID could be bound to a SID
   List or selected path and used to stitch the SR list and the SR Label
   Switched Paths (LSP) across multiple domains.  The use of the B-SID
   is recommended to reduce the size of the label stack and stitch the
   SR LSPs.

   In some scenarios, for example, a mobile backhaul transport network,
   it is required to provide end-to-end bidirectional path across SR and
   MPLS networks.  The Path Segment as defined in
   [I-D.ietf-spring-mpls-path-segment] can be used to support
   bidirectional tunnel scenarios such as SR path Performance
   Measurement (PM), end-to-end 1+1 SR path protection and bidirectional
   SR paths correlation.





Xiong, et al.           Expires January 14, 2021                [Page 2]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


   This document illustrates the SR-MPLS and MPLS interworking scenarios
   to support end-to-end bidirectional tunnel across multiple domains
   with the use of Path Segments.

2.  Conventions used in this document

2.1.  Terminology

   ABR: Area Border Routers.  Routers used to connect two IGP areas
   (areas in OSPF or levels in IS-IS).

   AS: Autonomous System.  An Autonomous System is composed by one or
   more IGP areas.

   ASBR: Autonomous System Border Router.  A router used to connect
   together ASes of the same or different service providers via one or
   more inter-AS links.

   Border Node: An ABR that interconnects two or more IGP areas.

   Border Link: Two ASes are interconnected with ASBRs.

   B-SID: Binding Segment ID.

   Domains: Autonomous System (AS) or IGP Area.  An Autonomous System is
   composed of one or more IGP areas.

   e-PSID: end-to-end Path Segment.

   IGP: Interior Gateway Protocol.

   N-PSID: Nesting of Path Segments.

   PM: Performance Measurement.

   SID: Segment ID.

   SR: Segment Routing.

   SR-MPLS: Segment Routing with MPLS data plane.

   S-PSID: Stitching of Path Segments.

   VPN: Virtual Private Network.







Xiong, et al.           Expires January 14, 2021                [Page 3]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


2.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  SR-MPLS Interworking with MPLS

   It is required to establish the end-to-end Virtual Private Network
   (VPN) service across the access network, aggregation network, and
   core network.  For example, SR-MPLS may be deployed in access and
   core network, and MPLS may be deployed in the aggregation network.
   The network interworking should be taken into account in deployment
   are the following:

   o  Border Node or Border Link

   o  Stitching of Path Segments or Nesting of Path Segments

   o  End-to-end Path Monitoring

   The domains of the networks may be IGP Areas or ASes.  The SR-MPLS
   and MPLS networks can be interconnected with a border node between
   IGP areas or border links between ASes.  MPLS domain can be deployed
   between two SR-MPLS domains, as Figure 1 shows.  The packets being
   transmitted along the SR path in SR-MPLS domains by using the SID
   list at the ingress node.  And the path in MPLS domains can be pre-
   configuration either via NMS or via the MPLS control plane signaling.
   This document takes border node scenarios across IGP Areas domains
   for example.  The border link scenarios are in future discussion.



















Xiong, et al.           Expires January 14, 2021                [Page 4]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


                  B                     E                      X
               +     +              .       .               +      +
            +           +         .           .          +            +
         +                 +    .               .     +                  +
      A        SR-MPLS       C        MPLS         G       SR-MPLS          Z
         +      IGP 1      +    .     IGP 2     .     +      IGP 3       +
            +           +         .           .          +            +
               +     +              .      .                +      +
                  D                     F                       Y

         |<---Access Network--->|<-Aggregation Network->|<----Core Network---->|



             Figure 1: SR-MPLS and MPLS interworking Scenario

   The VPN service across the SR-MPLS and MPLS domains is an end-to-end
   bidirectional path.  In the SR-MPLS network, a Path Segment uniquely
   identifies an SR path and can be used for the end-to-end
   bidirectional path.  This document illustrates the end-to-end Path
   Segment used in the interworking scenario including the stitching and
   nesting models.  As described in [I-D.ietf-spring-mpls-path-segment],
   an end-to-end path segment or PSID (e-PSID), is also referred to as
   Nesting of Path SID (N-PSID) in nesting model or Stitching of Path
   SID (S-PSID) in stitching model.

3.1.  Stitching of Path Segments

   It is a common requirement that SR-MPLS needs to interwork with MPLS
   when SR is incrementally deployed in the MPLS domain.  Figure 2 shows
   the stitching of Path Segments in SR-MPLS interworking with MPLS.
   The SR-LSPs and IP/MPLS LSPs are established independently in each
   domain which consist of SID list or MPLS label.  The end-to-end
   bidirectional path acrossing the SR-MPLS and MPLS networks is split
   into multiple segments which can be identified by the S-PSID.  The
   end-to-end path is terminated at the egress node in egress domain.
   The S-PSID will be popped out at the border node in each domain and
   correlated to the S-PSID of next domain.

   The correlation of S-PSIDs can bind the segments of end-to-end path.
   The S-PSIDs are valid in the corresponding domain and the border
   nodes maintain the forwarding entries of that S-PSID segment that
   maps to the next S-PSID and the related path segments.  In the
   headend node, the S-PSID can correlate the inter-domain path of
   reverse direction and bind the two unidirectional paths.  The
   stitching of Path Segments can support the end-to-end path stitching
   and monitoring.




Xiong, et al.           Expires January 14, 2021                [Page 5]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


         +-----------------+  ................  +-----------------+
         |        +---+    |  .    +---+     .  |    +---+        |
         |        | B |    |  .    | E |     .  |    | X |        |
         |        +---+    |  .    +---+     .  |    +---+        |
         |      /       \  |  .  /       \   .  |  /       \      |
         | +---+ SR-MPLS +-----+    MPLS   +-----+  SR-MPLS +---+ |
         | | A | domain1 |  C  |  domain2  |  G  |  domain3 | Z | |
         | +---+         +-----+           +-----+          +---+ |
         |      \      /   |  .  \       /   .  |  \       /      |
         |       +---+     |  .   +---+      .  |    +---+        |
         |       | D |     |  .   | F |      .  |    | Y |        |
         |       +---+     |  .   +---+      .  |    +---+        |
         +-----------------+  ................  +-----------------+

       Service Layer:
        |<----------------------VPN Service---------------------->|
       Path Segment:
        |<-----S-PSID----->o<------S-PSID----->o<-----S-PSID----->|
       LSP/Tunnel:
        |<------SR-LSP---->|<---MPLS-LSP------>|<-----SR-LSP----->|
       Node:
        |<----SID List---->|<--- MPLS Label--->|<----SID List---->|

         o      Stitching
        >|<     Termination
        --      Connection
        S-PSID  Stitching of Path Segments


   Figure 2: Stitching of Path Segments in SR-MPLS and MPLS interworking

3.2.  Nesting of Path Segments

   Figure 3 displays the nesting of Path Segments in SR-MPLS and MPLS
   interworking.  The SR-LSPs and IP/MPLS LSPs are established in
   respective domain which consist of SID list or MPLS label.  The SR-
   LSPs and IP/MPLS LSPs may be stitched across domains with B-SID.
   Comparing with S-PSID in the stitching model, the N-PSID presents
   end-to-end encapsulation in the packet from an SR-MPLS domain to an
   MPLS domain which is encapsulated at the ingress nodes and
   decapsulated at the egress nodes.  The transit nodes, even the border
   nodes of domains, are not aware of the N-PSID.









Xiong, et al.           Expires January 14, 2021                [Page 6]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


         +-----------------+  ................  +-----------------+
         |        +---+    |  .    +---+     .  |    +---+        |
         |        | B |    |  .    | E |     .  |    | X |        |
         |        +---+    |  .    +---+     .  |    +---+        |
         |      /       \  |  .  /       \   .  |  /      \       |
         | +---+ SR-MPLS +-----+  MPLS     +-----+  SR-MPLS +---+ |
         | | A | domain1 |  C  |  domain2  |  G  |  domain3 | Z | |
         | +---+         +-----+           +-----+          +---+ |
         |      \      /   |  .  \      /    .  |  \       /      |
         |       +---+     |  .   +---+      .  |    +---+        |
         |       | D |     |  .   | F |      .  |    | Y |        |
         |       +---+     |  .   +---+      .  |    +---+        |
         +-----------------+  ................  +-----------------+

       Service Layer:
        |<----------------------VPN Service---------------------->|
       Path Segment:
        |<------------------------N-PSID------------------------->|
       LSP/Tunnel:
        |<------SR-LSP---->o<-----MPLS-LSP----->o<-----SR-LSP---->|
       Node:
        |<----SID List---->|<----MPLS Label--->|<----SID List---->|

        o       Stitching
        >|<     Termination
        --      Connection
        N-PSID  Nesting of Path Segments



    Figure 3: Nesting of Path Segments in SR-MPLS and MPLS interworking

4.  Security Considerations

   TBA

5.  Acknowledgements

   TBA

6.  IANA Considerations

   TBA








Xiong, et al.           Expires January 14, 2021                [Page 7]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


7.  Normative References

   [I-D.ietf-spring-mpls-path-segment]
              Cheng, W., Li, H., Chen, M., Gandhi, R., and R. Zigler,
              "Path Segment in MPLS Based Segment Routing Network",
              draft-ietf-spring-mpls-path-segment-02 (work in progress),
              February 2020.

   [I-D.xiong-spring-path-segment-sr-inter-domain]
              Xiong, Q., Mirsky, G., and W. Cheng, "The Use of Path
              Segment in SR Inter-domain Scenarios", draft-xiong-spring-
              path-segment-sr-inter-domain-01 (work in progress),
              October 2019.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

   [RFC8660]  Bashandy, A., Ed., Filsfils, C., Ed., Previdi, S.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing with the MPLS Data Plane", RFC 8660,
              DOI 10.17487/RFC8660, December 2019,
              <https://www.rfc-editor.org/info/rfc8660>.

Authors' Addresses

   Quan Xiong
   ZTE Corporation
   No.6 Huashi Park Rd
   Wuhan, Hubei  430223
   China

   Phone: +86 27 83531060
   Email: xiong.quan@zte.com.cn







Xiong, et al.           Expires January 14, 2021                [Page 8]

Internet-DraThe Use of Path Segment in SR-MPLS and MPLS Inter  July 2020


   Greg Mirsky
   ZTE Corporation
   USA

   Email: gregimirsky@gmail.com


   Weiqiang Cheng
   China Mobile
   Beijing
   China

   Email: chengweiqiang@chinamobile.com






































Xiong, et al.           Expires January 14, 2021                [Page 9]
