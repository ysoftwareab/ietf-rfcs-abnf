






	Internet Draft
	Title: draft-lee-e164-framework-00.txt		    C. C. Lee
	Date: November,	1998				     M.	Orsic
						  Lucent Technologies


	   A Framework for E.164 Number	to IP Address Mapping


Status of this Memo

   This	document is an Internet-Draft.	Internet-Drafts	are working
   documents of	the Internet Engineering Task Force (IETF),  its  areas,
   and its  working groups.  Note that other groups may	also distribute
   work- ing documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and  may  be updated,	replaced, or obsoleted by other
   documents at	any time.  It is inappropriate to use Internet-Drafts as
   reference  mate- rial or to cite them other than as "work in
   progress."

   To  learn  the  current status of any Internet-Draft, please	check
   the "1id-abstracts.txt" listing contained in	the Internet-Drafts
   Shadow Directories	on   ftp.ietf.org   (US  East  Coast),
   nic.nordu.net (Europe), ftp.isi.edu (US West	Coast),	or munnari.oz.au
   (Pacific Rim).

Abstract

   This	internet draft describes a framework for mapping the E.164
   number of internet telephony	(IT) subscribers to an IP addresses so
   that	calls can be delivered to IT subscribers.

   The draft describes:

      -	assumptions that the framework is based	on

      -	goals that the framework is designed for

      -	functionality of network entities

   Several scenarios are included to illustrate	the procedure.

1.0 Introduction




Lee et al.		    expired May	1999			[Page 1]






Internet Draft		  E.164	to IP Mapping		  November1 1998


   This	internet draft describes a framework for mapping an E.164 number
   [E.164] of an internet telephony (IT) subscriber to an IP address so
   that	calls can be delivered to the subscriber.  Assigning E.164
   numbers to IT subscribers not only makes it easier for traditional
   phone users to call IT subscribers, but it will also	allow service
   providers to	leverage the existing infrastructure to	provide	IT
   services. It	can also facilitate the	convergence of wireline/wireless
   services and	emerging IT enhanced services. The assignment of E.164
   numbers to IT subscribers and the IP	address	based routing in the
   internet give rise to a fundamental need for	mapping	the E.164
   numbers to IP addresses in the IT infrastructure.

   The IT subscribers may gain access to the IP	network	by employing
   wired-line, wireless	(e.g. wireless LAN, cellular access), or cable-
   modem connections. Roaming IT subscribers should be able to log onto
   the IP network from any location, while the IT subscribers that use
   fixed access	will be	connected to the IP network at fixed location.
   Calls to IT subscribers may originate from PSTN wireline, wireless
   subscribers,	or from	other IT subscribers. It is assumed in this
   draft that when placing a call to an	IT subscriber, the caller will
   specify the E.164 as	a called number.


   The problem of IT gateway discovery for IP originated and PSTN
   terminated calls based on the called	subscriber's E.164 PSTN	number
   is currently	being addressed	by the IPTEL working group [GLP] and is
   outside the scope of	this draft.

   The requirements needed to design a new protocol or to enhance an
   existing protocol will have to be addressed after the mapping
   framework has been determined. No attempts have been	made to	map the
   functionality of servers involved in	this framework to existing
   servers in the internet or PSTN servers that	are IP enabled.	It will
   be advantageous to enhance existing servers to realize this
   framework. Candidates may include IP	enabled	Service	Control	Points,
   IP enabled HLR/VLR, DNS, LDAP servers, Radius servers, and other
   existing internet directory servers.


1.1 Terminal Status

   When	a call to an IT	terminal is initiated, the called IT terminal
   may be in one of three different states. Each state has a certain
   level of readiness depending	on the IP network to which the IT
   terminal is connected.





Lee et al.		    expired May	1999			[Page 2]






Internet Draft		  E.164	to IP Mapping		  November1 1998


      -	When in	a "idle" state,	no calls can be	delivered to the IT
	terminal.  The terminal	may be powered off or it is powered on
	but not	connected to the IP network.  At this state, no	dynamic
	IP address is assigned to the terminal and no IT calls can be
	delivered to it.


      -	In a "standby" state, the IT terminal is powered on, connected
	to the IP network and has an IP	address	assigned, but the IT
	application is not running. In this state, no calls can	be
	delivered to the IT terminal.

	There are several ways a transition from the "idle" state to the
	"standby" state	can occur.  Users may connect to the network by
	registration during which IP addresses are assigned to the
	terminals.  For	wireless accessed terminals, the paging
	mechanism may be used to trigger the transition.  When the
	mobile is paged	with an	indication of data serivce type, it may
	initiate a registration	process	to get the terminal connected to
	the IP network and obtain an IP	address.

      -	In the "ready" state, the IT terminal is connected to the IP
	network, has an	IP address assigned, and the IT	application has
	been invoked.  The terminal is ready to	receive	an incoming IT
	call.

	The transition from the	"standby" state	to the "ready" state may
	be triggered manually by users or automatically	by programs in
	the terminals.


2.0 Acronym

   DDS:	Dynamic	Directory Server
   DNS:	Domain Name Server
   HLR:	Home Location Register
   IMSI: International Mobile Subscriber Identity
   ISP:	Internet Service Provider
   IT: Internet	Telephony
   ITHS: Internet Telephony Home Server
   LDAP: Lightweight Directory Access Protocol
   MSC:	Mobile Switching Center
   NAI:	Network	Access Identifier
   NAS:	Network	Access Server
   RAS:	Registration Authentication and	Status
   SCP:	Service	Control	Point




Lee et al.		    expired May	1999			[Page 3]






Internet Draft		  E.164	to IP Mapping		  November1 1998


   SIP:	Session	Initiation Protocol
   VLR:	Visitor	Location Register

3.0 Framework Design Basis

   The framework documented in this internet draft is designed based on
   the following assumptions:

      -	E.164 numbers are managed by existing numbering	management
	administrations. Internationally, the ITU Telecommunication
	Standard Board assigns country/service codes; and within a
	geographic area, a national or regional	numbering administration
	has the	responsibility of managing the numbering plan for the
	countries assigned to the area.	To have	the E.164 number
	allocation process managed by the existing numbering plan
	administrations	can expedite the allocation process, leading to
	an earlier IT service deployment.

	Internet telephony service providers will obtain blocks	of E.164
	numbers	from numbering plan administrations for	their
	subscribers.

      -	For scalability	purpose, subscriber-related data may be
	partitioned and	distributed among multiple servers of the same
	type. These servers may	be owned by individual service providers
	or by trusted third party service providers.

      -	An IT subscriber with a	specific E.164 number will ordinarily
	subscribe to the service of one	IT service provider. The service
	provider or a trusted third provider will maintain the data
	related	to that	subscriber, including the IP address that the
	subscriber can currently be reached.

	If the subscriber uses the same	E.164 number for the same
	service	from more than one provider, other criteria need to be
	used for determining which service provider's subscriber
	database to be consulted for call delivery. It is emphasized
	that the service provider whose	database was queried needs not
	carry the call.


4.0 Design Goals

   The design goals of the framework are described as follows:






Lee et al.		    expired May	1999			[Page 4]






Internet Draft		  E.164	to IP Mapping		  November1 1998


      -	Because	some, and gradually more, of internet service
	subscribers will be assigned IP	addresses dynamically even if
	they access the	network	from fixed locations, the framework
	needs to support the mapping to	a dynamically assigned IP
	address.  For subscribers with static IP addresses assigned, a
	subset of the framework	may be used for	the mapping.

      -	The framework should allow the call originator to use an
	internet telephony service provider that is different from the
	one subscribed to by the call recipient.

      -	The framework should allow for enhanced	services to be provided
	in conjunction with the	framework.  For	example, to provide a
	"least cost" service, a	"bidding" server may be	consulted before
	the mapping to find the	least cost service provider for	carrying
	the call.

      -	The framework should allow for including more information into
	the query than just the	phone number or	prefix and the security
	information; and more output in	the response than just the IP
	address	for contact. The response may contain such information
	as the call receiving status of	the destination	equipment, call
	restrictions, or information to	be placed into subsequent SIP or
	H.323 message (e.g. authorization information).

      -	The framework should allow for information to be exchanged for
	subsequent collection of fees incurred.

      -	The framework should allow for scalability to support high
	capacity.

      -	The framework should allow for PSTN/IT convergence, including
	wired access and wireless access for subscribers.

      -	The framework should support service mobility for roaming IT
	subscribers.  When a roaming IT	subscriber accesses the	internet
	from a location	different than the home	location, the same
	services offered on the	home network should be available to the
	roaming	IT subscriber on the visited network.

      -	The framework should allow service providers, who prefer to
	maintain otherwise separate network infrastructures for
	different services, to deploy a	common infrastructure for
	similar	types of mapping. In this case,	the type of mapping
	requested will qualify the request.





Lee et al.		    expired May	1999			[Page 5]






Internet Draft		  E.164	to IP Mapping		  November1 1998


5.0 Architecture Framework

   Figure 1 shows the proposed E.164 number to IP address mapping
   framework. This arrangement is modeled after	the location management
   and call delivery aspect of the wireless network architecture. The
   wireless network has	addressed and solved the problem of delivering a
   call	to a mobile subscriber whose point of attachment (i.e. dynamic
   address) to the network changes from	time to	time.










































Lee et al.		    expired May	1999			[Page 6]






Internet Draft		  E.164	to IP Mapping		  November1 1998




						.
				    Internet	.     PSTN
						.
		______				.
	       |      |				.
	       |   IT |				.	      _____
	       |Subscr|.			.	     |Wired|
	       |______|	.		    ____._____	     |Phone|
		 call	 .		   |	      |	   . |_____|
	      recipient	  .		   |   IT     |	 .    call
			   .____    ____   |  Gateway |.   originator
			   |	|  |	|  |	or    |
			   |DDS	|..|ITHS|..|	      |
			   |____|  |____|  |	IT    |
			  .		   |   Call   |.
		______	 .		   |Processing|	 .    _________
	       |      |	.		  .|  Proxy   |	   . |	       |
	       |  IT  |.		 . |__________|	     |WLS Phone|
	       |Subscr|			.	.	     |_________|
	       |______|		       .	.		call
		 call	       ________		.	     originator
	      recipient	      |	       |	.
			      |IT Subsc|	.
			      |________|	.
			    call originator	.
						.
						.
				    Internet	.    PSTN
						.




   Figure 1: Architecture Framework for	E.164 Number to	IP Address Mapping



   The major function of the Internet Telephony	Home Server (ITHS) is to
   store static	data for individual IT subscribers.  The proposed
   Dynamic Directory Server (DDS) stores subscribers' dynamic data.  The
   IT Gateway or the IT	Call Processing	Proxy is the requester for
   address mapping. The	main function of the ITHS working in conjunction
   with	DDS will be to find the	IP address of the terminating IT
   subscriber or its proxy where terminating call request shall	be sent.




Lee et al.		    expired May	1999			[Page 7]






Internet Draft		  E.164	to IP Mapping		  November1 1998


   There will be multiple ITHSs	and DDSs in the	network	infrastructure.
   The ITHS and	the DDS	can be geographically distributed and the DDS
   may be located at the point of registration.

   Note	that if	no mobility is involved	and capacity is	not an issue,
   the ITHS and	the DDS	may be collocated or reside on the same
   hardware.


5.1 Functionality of Internet Telephony	Home Register

   When	a call is to be	delivered to an	IT subscriber, the ITHS	of the
   called IT subscriber	is consulted for the call delivery.

   The IT subscriber's static data stored in the ITHS may include:

      -	subscriber identifier information, E.164 number, network access
	identifier (NAI) [NAI],	etc

      -	billing	related	information, e.g. tokens

      -	security related information, and

      -	the IP address or a pointer to the DDS where the IT subscriber
	is currently registered


5.2 Functionality of Dynamic Directory Server

   The major function of the DDS is to store the dynamic data for
   individual IT subscribers. The IT subscriber's data stored in the DDS
   may include:

      -	subscriber identifier information, including network access
	identifier,

      -	for wireless subscribers, paging information used by the paging
	system to request that the IT terminal registers with a	local IP
	network,

      -	subscribers IP address stored at the registration time

      -	current	status for receiving IT	calls

      -	capability of equipment	a subscriber uses currently,





Lee et al.		    expired May	1999			[Page 8]






Internet Draft		  E.164	to IP Mapping		  November1 1998


      -	other call delivery related information, such as session key and
	other security related information, and

      -	pointers to ITHS.



5.3 Basic Scenario


5.3.1 Subscriber Registration


   The registration procedure may be initiated by the IT terminal or it
   may be requested by the network, upon incoming call arrival,	by
   employing the paging	mechanism.


      -	A message to request for registration is received from the
	terminal.  The subscriber is authenticated, and	a temporary IP
	address	is assigned to the terminal.  The network access server
	will inform the	DDS of the IP address if the subscriber	has
	subscribed to IT services.

      -	The DDS	stores the IP address to user identifier association in
	its database.

      -	The DDS	sends a	message	to inform the ITHS of the identifier of
	the DDS	where the subscriber is	currently registered.  The
	address	of the ITHS is obtined based on	the NAI	of the
	subscriber.

	For fixed accessed subscribers,	this and the next steps	need not
	be performed for every registration.

      -	The ITHS stores	the NAI	to DDS identifier association in its
	database.


5.3.2 PSTN to IT Subscriber Call Delivery

   The scenario	described below	illustrates a call to a	IT subscriber
   that	originated from	a PSTN subscriber.







Lee et al.		    expired May	1999			[Page 9]






Internet Draft		  E.164	to IP Mapping		  November1 1998


      -	The IT gateway receives	a call from the	PSTN. The IT Gateway,
	finds the location of the ITHS for the respective IT subscriber
	by consulting a	translation table, internally or externally.

      -	The IT Gateway sends the E.164-to-IP-address mapping request to
	the ITHS and specifies the type	of information desired.

      -	The ITHS receives the request that indicates an	IT terminating
	call and informs the DDS of the	incoming call and requests IP
	address	information.

      -	Based on the IT	terminal status, the DDS either	pages the IT
	terminal triggering the	registration procedure or the requested
	information is already available. Upon completion of the
	registration procedure,	the DDS	retrieves the IP address and
	other information requested from its data store, forms a
	response, and sends it back to the ITHS.

      -	The ITHS retrieves other information requested by the IT
	Gateway, sends a response to the IT Gateway together with the IP
	address.

   Now the gateway can start call setup	procedures to the destination
   subscriber as per H.323 version 2 [H323], Session Initiation	Protocol
   [SIP], or other protocols.


6.0 Security Considerations

   Security is vital for the framework to be implemented in the	internet
   environment.	This may include

      -	mutual authentication of the query source and the response
	source for each	transaction,

      -	non-repudiation	of response. This is most important when cost
	related	information is exchanged in the	messages. The non-
	repudiation for	query may also be needed depending on business
	arrangement among service providers,

      -	query authorization,

      -	response data integrity, and

      -	message	confidentiality	if data	carried	includes security
	sensitive information, such as a session key




Lee et al.		    expired May	1999		       [Page 10]






Internet Draft		  E.164	to IP Mapping		  November1 1998


   The security	requirements should be communicated to the
   Authentication Authorization	and Accounting Working Group.


7.0 Reference

      -	[E.164]	ITU-T, E.164, "The International Public
	Telecommunication Numbering Plan", 5/1997

      -	[NAI] Aboba, Beadles, "Network Access Identifier", Internet-
	Draft, draft-ietf-roamops-nai-11.txt, July 1998

      -	[H323] ITU-T, H.323, "Packet-based multimedia communications
	systems", 2/1998

      -	[SIP] Handley, Schulzrinne, Schooler, Rosenberg, "SIP: Session
	Initiation Protocol", Internet-Draft, draft-ietf-mmusic-sip-
	09.txt,	9/1998

      -	[GLP] Rosenberg, Schulzrinne, A	Framework for a	Gateway	Location
	Protocol", draft-ietf-iptel-gwloc-framework-01.txt , 10/1998

      -	Faltstrom, "Where to terminate a phone call", Internet Draft,
	draft-faltstrom-e164-00.txt

Author's Address

   Milo	Orsic

   Lucent Technologies
   263 Shuman Blvd
   Naperville, IL 60566

   Phone: (630)	713 5161

   Email: orsic@lucent.com


   Chinmei Lee

   Lucent Technologies
   263 Shuman Blvd
   Naperville, IL 60566

   Phone: (630)	713 7256





Lee et al.		    expired May	1999		       [Page 11]






Internet Draft		  E.164	to IP Mapping		  November1 1998


   EMail: chinmeilee@lucent.com

















































Lee et al.		    expired May	1999		       [Page 12]



