CCAMP Working Group                              J.E. Lopez de Vergara
Internet Draft                          Universidad Autonoma de Madrid
Intended status: Standards Track                           D. Perdices
Expires: January 13, 2021                                  Naudit HPCN
                                                               D. King
                                                  Lancaster University
                                                                Y. Lee
                                                               Samsung
                                                              H. Zheng
                                                   Huawei Technologies
                                                         July 12, 2020

              YANG data model for Flexi-Grid Optical Networks
                   draft-ietf-ccamp-flexigrid-yang-06.txt

Abstract

   This document defines a YANG module for managing flexi-grid optical
   networks. The model defined in this document specifies a flexi-grid
   traffic engineering database that is used to describe the topology of
   a flexi-grid network. It is based on and augments existing YANG 
   models that describe network and traffic engineering topologies. 

   A partner document defines a second YANG module for flexi-grid media
   channels, i.e., the paths from source to destination through a number
   of intermediate nodes.

Status of this Memo
   
   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79. This document may not be modified,
   and derivative works of it may not be created, except to publish it
   as an RFC and to translate it into languages other than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on January 13, 2020.


Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 1]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document. Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.


Table of Contents

   1. Introduction ..............................................2  
   2. Conventions used in this document .........................3  
      2.1. Terminology ..........................................3 
      2.2. Tree diagram .........................................4  
      2.3. Prefixes in Data Node Names ..........................4 
   3. Main Building Blocks of the Flexi-grid TED.................4  
   4. Example of Use ............................................8  
   5. Flexi-grid Topology YANG Model.............................9 
      5.1. YANG Model - Tree ....................................9 
      5.2. YANG Model - Code ....................................30 
   6. Security Considerations ...................................69 
   7. IANA Considerations .......................................70 
   8. References ................................................70 
      8.1. Normative References .................................70 
      8.2. Informative References ...............................71 
   9. Contributors ..............................................72 
   10. Acknowledgments ..........................................72 
   Authors' Addresses ...........................................73 


1. Introduction

   The flexible grid (flexi-grid) optical network technology defined by
   the International Telecommunication Union Telecommunication
   Standardization Sector (ITU-T) and documented in Recommendation 
   G.694.1 [G.694.1] and G.872 [G.872] provides an enhanced Dense
   Wavelength Division Multiplexing (DWDM) grid by defining a set of
   nominal central frequencies, channel spacings, and the concept of the
   "frequency slot".  In such an environment, a data-plane connection is
   switched based on allocated, variable-sized frequency ranges within



Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 2]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


   the optical spectrum, creating what is known as a flexible grid
   (flexi-grid).  This technology increases both transport network 
   scalability and flexibility, allowing the optimization of bandwidth
   usage.

   [RFC7698] provides a framework GMPLS-Based control of flexi-grid DWDM
   networks while [RFC7699] defines generalized labels for the use in
   flexi-grid in GMPLS networks.

   This document presents a YANG [RFC7950] model for flexi-grid objects 
   in the dynamic optical network, including the nodes, transponders 
   and links between them, as well as how such links interconnect nodes 
   and transponders.

   The YANG model for flexi-grid networks allows the representation of
   the flexi-grid optical layer of a network, combined with the
   underlying physical layer.

   This document identifies the flexi-grid components, parameters and
   their values, characterizes the features and the performances of the
   flexi-grid elements. An application example is provided towards the
   end of the document to better understand their utility.

   A partner document defines a second YANG module that described flexi-
   grid media channels, i.e., the paths from source to destination
   through a number of intermediate nodes
   [I-D.draft-ietf-ccamp-flexigrid-media-channel-yang].


2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.1. Terminology

   Refer to [RFC7446] and [RFC7581] for the key terms used in this
   document.

   The following terms are defined in [RFC7950] and are not redefined
   here:

   o client
   o server
   o augment
   o data model


Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 3]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


   o data node

   The following terms are defined in [RFC6241] and are not redefined
   here:

   o  configuration data
   o  state data

   The terminology for describing YANG data models is found in
   [RFC7950].

2.2. Tree Diagram

   A simplified graphical representation of the data model is used in
   Section 5 of this this document.  The meaning of the symbols in
   these diagrams is defined in [RFC8340].

2.3. Prefixes in Data Node Names

   In this document, names of data nodes and other data model objects
   are prefixed using the standard prefix associated with the
   corresponding YANG imported modules, as shown in Table 1.


      +-------------+-------------------------+-----------------+
      | Prefix      | YANG module             | Reference       |
      +-------------+-------------------------+-----------------+
      | l0-types    | ietf-layer0-types       | [Layer0-Types]  |
      | flexi-grid  | ietf-flexi-grid-topology| [RFCXXXX]       |
      | nw          | ietf-network            | [RFC8345]       |
      | nt          | ietf-network-topology   | [RFC8345]       |
      | tet         | ietf-te-topology        | [TE-TOPO]       |
      +-------------+-------------------------+-----------------+

             Table 1: Prefixes and corresponding YANG modules

   RFC Editor Note: Please replace XXXX with the RFC number assigned to
   this document when it is published.  Please remove this note.


3. Main building Blocks of the Flexi-grid Topology

   This section describes the YANG module. It is specified in Section 5.

   The description of the three main components, flexi-grid-node,
   flexi-grid-transponder and flexi-grid-link is provided below.
   flexi-grid-sliceable-transponders are also defined.
   
   The syntax specification below uses the augmented Backus-Naur
   Form (BNF) as described in [RFC5234].

Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 4]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


   <flexi-grid-node> ::= <config> <state>

       <flexi-grid-node>: This element designates a node in the
       network.

       <config> ::= <flexi-grid-node-attributes-config>

           <config>: Contains the configuration of a node.
           
           <flexi-grid-node-attributes-config> ::= <list-interface>
                                                   <connectivity_matrix>

               <flexi-grid-node-attributes-config>: Contains all the
               attributes related to the node configuration, such as
               its interfaces or its management addresses.
                   <list-interface> ::= <name> <port-number>
                   <input-port> <output-port> <description>
                   <interface-type>
                   [<numbered-interface> / <unnumbered-interface>]

                       <list-interface>: The list containing all the
                       information of the interfaces.

                       <name>: Determines the interface name.

                       <port-number>: Port number of the interface.

                       <input-port>: Boolean value that defines
                       whether the interface is input or not.

                       <output-port>: Boolean value that defines
                       whether the interface is output or not.

                       <description>: Description of the usage of
                       the interface.

                       <interface-type>: Determines if the interface
                       is numbered or unnumbered.

                       <numbered-interface> ::= <n-i-ip-address>
                           <numbered-interface>: An interface with
                           its own IP address.

                           <n-i-ip-address>: Only available if
                           <interface-type> is "numbered-interface".
                           Determines the IP address of the interface.

                       <unnumbered-interface> ::= <u-i-ip-address>
                       <label>


Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 5]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


                           <unnumbered-interface>: An interface that
                           needs a label to be unique.

                           <u-i-ip-address>: Only available if
                           <interface-type> is "numbered-interface".
                           Determines the node IP address, which with
                           the label defines the interface.

                           <label>: Label that determines the
                           interface, joint with the node IP address.

                   <connectivity-matrix> ::= <connections>

                       <connectivity-matrix>: Determines whether a
                       connection port in/port out exists.

                       <connections> ::= <input-port-id>
                       <output-port-id>

<flexi-grid-transponder> ::= <transponder-type> <config> <state>

    <flexi-grid-transponder>: This item designates a transponder
    of a node.

    <config> ::= <flexi-grid-transponder-attributes-config>

        <config>: Contains the configuration of a transponder.

        <flexi-grid-transponder-attributes-config> ::=
        <available-operational-mode> <operational-mode>

            <flexi-grid-transponder-attributes>: Contains all the
            attributes related to the transponder.

               <available-operational-mode>: It provides a list of the
               operational modes available at this transponder.

               <operational-mode>: Determines the type of operational
               mode in use.

     <state> ::= <flexi-grid-transponder-attributes-config>
     <flexi-grid-transponder-attributes-state>

         <state>: Contains the state of a transponder.

         <flexi-grid-transponder-attributes-config>: See above.

         <flexi-grid-transponder-attributes-state>: Contains the
         state of a transponder.


Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 6]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


 <flexi-grid-link> ::= <config> <state>

     <flexi-grid-link>: This element describes all the information of a 
     link.

     <config> ::= <flexi-grid-link-attributes-config>

         <config>: Contains the configuration of a link.

         <flexi-grid-link-attributes-config> ::= <technology-type>
         <available-label-flexi-grid> <N-max> <base-frequency>
         <nominal-central-frequency-granularity>
         <slot-width-granularity>

            <flexi-grid-link-attributes>: Contains all the
            attributes related to the link, such as its unique id,
            its N value, its latency, etc.

            <link-id>: Unique id of the link.

            <available-label-flexi-grid>: Array of bits that
            determines, with each bit, the availability of each
            interface for flexi-grid technology.

            <N-max>: The max value of N in this link, being N
            the number of slots.

            <base-frequency>: The default central frequency
            used in the link.

            <nominal-central-frequency-granularity>: It is the
            spacing between allowed nominal central frequencies
            and it is set to 6.25 GHz (note: sometimes referred
            to as 0.00625 THz).

            <slot-width-granularity>: 12.5 GHz, as defined
            in G.694.1.
    <state> ::= <flexi-grid-link-attributes-config>
    <flexi-grid-link-attributes-state>

        <state>: Contains the state of a link.

        <flexi-grid-link-attributes-config>: See above.

        <flexi-grid-link-attributes-state>: Contains all the
        the information related to the state of a link.
        




Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 7]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


4. Example of Use

   In order to explain how this model is used, we provide the following
   example. An optical network usually has multiple transponders,
   switches (nodes) and links between them. Figure 1 shows a simple
   topology, where two physical paths interconnect two optical
   transponders.
                               Media channel
            <==================================================>
                                  Path x
            <-------------------------------------------------->
                     +----------+          +----------+
              Link 1 |Flexi-grid|  Link 2  |Flexi-grid| Link 3
                .--->|   node   |<-------->|   node   |<---.
                |    |    B     |          |    C     |    |
                |    +----------+          +----------+    |
                v                                          v
             /-----------\                       /-----------\
            / Flexi-grid  \                     / Flexi-grid  \
            | transponder |                     | transponder |
            \      A      /                     \      E      /
             \-----------/                       \-----------/
                  ^                                     ^
                  |             +----------+            |
                  |    Link 4   |Flexi-grid|   Link 5   |
                  '------------>|   node   |<-----------'
                                |    D     |
                                +----------+
            <-------------------------------------------------->
                                  Path y

                      Figure 1. Topology example.

   In order to configure a media channel to interconnect transponders A
   and E, first of all we have to populate the flexi-grid topology YANG 
   model with all elements in the network:

   1. We define the transponders A and E, including their FEC type, if
      enabled, and modulation type. We also provide node identifiers
      and addresses for the transponders, as well as interfaces
      included in the transponders. Sliceable transponders can also be
      defined if needed.

   2. We do the same for the nodes B, C and D, providing their
      identifiers, addresses and interfaces, as well as the internal
      connectivity matrix between interfaces.

   3. Then, we also define the links 1 to 5 that interconnect nodes and
      transponders, indicating which flexi-grid labels are available.


Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 8]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


      Other information, such as the slot frequency and granularity are
      also provided.

   Next, we can configure the media channel from the information we
   have stored in the flexi-grid TED, by querying which elements are
   available, and planning the resources that have to be provided on
   each situation. Note that every element in the flexi-grid TED has a
   reference, and this is the way in which they are called in the media
   channel. We refer to
   [I-D.draft-ietf-ccamp-flexigrid-media-channel-yang] to complete
   this example.


5. Flexi-grid Topology YANG Model

5.1. Yang Model - Tree Structure

module: ietf-flexi-grid-topology

  augment /nw:networks/nw:network/nw:network-types/tet:te-topology:
    +--rw flexi-grid-topology!

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes:

  augment /nw:networks/nw:network/nw:node/nt:termination-point/tet:te:
    +--rw supported-payload-types* [index]
    |  +--rw index           uint16
    |  +--rw payload-type?   string
    +--rw client-facing?             boolean

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes:
    +--rw flexi-grid-node
       +--rw node-type?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point:
    +--rw supported-operational-modes*    l0-types:operational-mode
    +--rw configured-operational-modes?   l0-types:operational-mode
    +--rw supported-fec-types*            identityref
    +--rw supported-termination-types*    identityref
    +--rw supports-bit-stuffing?          boolean
    +--rw is-tunable?                     boolean
    +--rw max-subcarrier-channel-num?     uint8
    +--rw supports-flexi-grid?            boolean

  augment /nw:networks/nw:network/nw:node/nt:termination-point/tet:te/
    tet:interface-switching-capability/tet:max-lsp-bandwidth/
    tet:te-bandwidth/tet:technology:


Lopez de Vergara, et al.   Expires  Jan 13, 2021                [Page 9]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:path-constraints/tet:te-bandwidth/
    tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/
    tet:path-constraints/tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:path-constraints/tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--ro supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:path-constraints/tet:te-bandwidth/
    tet:technology:
    +--:(flexi-grid)
       +--ro supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:client-layer-adaptation/
    tet:switching-capability/tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:path-constraints/tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:path-constraints/
    tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:interface-switching-capability/


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 10]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    tet:max-lsp-bandwidth/tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:max-link-bandwidth/tet:te-bandwidth/
    tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:max-resv-link-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:unreserved-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:interface-switching-capability/
    tet:max-lsp-bandwidth/tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--ro bandwidth-type?   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:max-link-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--ro supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:max-resv-link-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--ro supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:unreserved-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--ro supported-bandwidth-list*   identityref

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:interface-switching-capability/
    tet:max-lsp-bandwidth/tet:te-bandwidth/tet:technology:


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 11]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:max-link-bandwidth/tet:te-bandwidth/
    tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:max-resv-link-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:unreserved-bandwidth/tet:te-bandwidth/
    tet:technology:
    +--:(flexi-grid)
       +--rw supported-bandwidth-list*   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction:
    +--rw grid-type?    identityref
    +--rw priority?     uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-end/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-step/


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 12]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    tet:technology:
    +--:(flexi-grid)
       +--rw flexi?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/tet:underlay/
    tet:primary-path/tet:path-element/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/tet:underlay/
    tet:backup-path/tet:path-element/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/tet:optimizations/
    tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/tet:route-object-exclude-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 13]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    tet:optimizations/tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:path-properties/tet:path-route-objects/tet:path-route-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction:
    +--rw grid-type?    identityref
    +--rw priority?     uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 14]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--rw flexi?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction:
    +--rw grid-type?    identityref
    +--rw priority?     uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--rw flexi?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 15]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

 augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:optimizations/tet:algorithm/tet:metric/
    tet:optimization-metric/tet:explicit-route-exclude-objects/
    tet:route-object-exclude-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 16]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:te-node-attributes/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:path-properties/
    tet:path-route-objects/tet:path-route-object/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction:
    +--ro grid-type?    identityref
    +--ro priority?     uint8
    +--ro flexi-grid
       +--ro nominal-central-frequency-granularity?   identityref
       +--ro slot-width-granularity?                  identityref
       +--ro min-slot-width-factor?                   uint16
       +--ro max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-end/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 17]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    tet:information-source-entry/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-step/
    tet:technology:
    +--:(flexi-grid)
       +--ro flexi?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:underlay/tet:primary-path/tet:path-element/tet:type/
    tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:underlay/tet:backup-path/tet:path-element/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:optimizations/tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/tet:route-object-exclude-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16



Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 18]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:optimizations/tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:path-properties/tet:path-route-objects/tet:path-route-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction:
    +--ro grid-type?    identityref
    +--ro priority?     uint8
    +--ro flexi-grid
       +--ro nominal-central-frequency-granularity?   identityref
       +--ro slot-width-granularity?                  identityref
       +--ro min-slot-width-factor?                   uint16
       +--ro max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16




Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 19]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--ro flexi?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction:
    +--ro grid-type?    identityref
    +--ro priority?     uint8
    +--ro flexi-grid
       +--ro nominal-central-frequency-granularity?   identityref
       +--ro slot-width-granularity?                  identityref
       +--ro min-slot-width-factor?                   uint16
       +--ro max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--ro flexi?   identityref





Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 20]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/
    tet:route-object-exclude-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16





Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 21]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/
    tet:route-object-include-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:path-properties/
    tet:path-route-objects/tet:path-route-object/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:label-restrictions/tet:label-restriction:
    +--rw grid-type?    identityref
    +--rw priority?     uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 22]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:label-restrictions/tet:label-restriction/tet:label-end/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:label-restrictions/tet:label-restriction/tet:label-step/
    tet:technology:
    +--:(flexi-grid)
       +--rw flexi?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:underlay/tet:primary-path/tet:path-element/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:underlay/tet:backup-path/tet:path-element/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:optimizations/tet:algorithm/tet:metric/
    tet:optimization-metric/tet:explicit-route-exclude-objects/
    tet:route-object-exclude-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 23]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:optimizations/tet:algorithm/tet:metric/
    tet:optimization-metric/tet:explicit-route-include-objects/
    tet:route-object-include-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:path-properties/tet:path-route-objects/tet:path-route-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
          +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:label-restrictions/
    tet:label-restriction:
    +--rw grid-type?    identityref
    +--rw priority?     uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref



Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 24]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--rw flexi?   identityref

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 25]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/
    tet:route-object-exclude-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/
    tet:route-object-include-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:path-properties/
    tet:path-route-objects/tet:path-route-object/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flexi-n?              uint16
          |  +--ro flexi-m?              uint16
 
 
Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 26]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


         +--:(super)
             +--ro subcarrier-flexi-n* [flexi-n]
                +--ro flexi-n    uint16
                +--ro flexi-m?   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction:
    +--rw grid-type?    identityref
    +--rw priority?     uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 27]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--rw flexi?   identityref

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:label-restrictions/
    tet:label-restriction:
    +--ro grid-type?    identityref
    +--ro priority?     uint8
    +--ro flexi-grid
       +--ro nominal-central-frequency-granularity?   identityref
       +--ro slot-width-granularity?                  identityref
       +--ro min-slot-width-factor?                   uint16
       +--ro max-slot-width-factor?                   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--ro flexi-n?   uint16

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--ro flexi?   identityref

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 28]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flexi-n?              uint16
          |  +--rw flexi-m?              uint16
          +--:(super)
             +--rw subcarrier-flexi-n* [flexi-n]
                +--rw flexi-n    uint16
                +--rw flexi-m?   uint16

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction:
    +--rw grid-type?    identityref
    +--rw priority?     uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flexi-grid)
       +--rw flexi-n?   uint16

  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:label-restrictions/
    tet:label-restriction/tet:label-step/tet:technology:
    +--:(flexi-grid)
       +--rw flexi?   identityref



Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 29]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


5.2. YANG Model - Code

   RFC Editor Note: Please replace the string "ZZZZ" in the YANG model
   definition below with the RFC number assigned to
   draft-ietf-ccamp-wson-yang when it is published as an RFC. Please
   replace the string "YYYY" in the YANG model definition below with the
   RFC number assigned to draft-ietf-teas-yang-te-topo when it is
   published as an RFC. Please also remove this note.

   <CODE BEGINS>file "ietf-flexi-grid-topology@2020-07-12.yang"
   module ietf-flexi-grid-topology {
     yang-version 1.1;
     namespace "urn:ietf:params:xml:ns:yang:ietf-flexi-grid-topology";

  prefix "flexi-grid-topology";

  import ietf-network {
    prefix "nw";
    reference
      "RFC 8345: A YANG Data Model for Network Topologies";
  }

  import ietf-network-topology {
    prefix "nt";
    reference
      "RFC 8345: A YANG Data Model for Network Topologies";
  }

  import ietf-te-topology {
    prefix "tet";
    reference
      "RFC YYYY: YANG Data Model for
       Traffic Engineering (TE) Topologies";
  }

  import ietf-layer0-types {
    prefix "layer0-types";
    reference
      "RFC ZZZZ: A YANG Data Model for WSON
       (Wavelength Switched Optical Networks)";
  }

    organization
       "IETF CCAMP Working Group";
     contact
       "WG Web: <http://tools.ietf.org/wg/ccamp/>
        WG List: <mailto:ccamp@ietf.org>




Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 30]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020



        Editor: Jorge E. Lopez de Vergara  
          <mailtojorge.lopez_vergara@uam.es>
    
        Editor: Daniel Perdices 
          <mailto:daniel.perdices@naudit.es>

        Editor: Haomian Zheng
          <mailto:zhenghaomian@huawei.com>
     
        Editor: Daniel King
          <mailto:d.king@lancaster.ac.uk>";

        Editor: Young Lee
          <mailto:younglee.tx@gmail.com>

     description
       "This module defines a model for flexi-grid topology

     Copyright (c) 2020 IETF Trust and the persons identified
     as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with
     or without modification, is permitted pursuant to, and
     subject to the license terms contained in, the Simplified BSD
     License set forth in Section 4.c of the IETF Trust's Legal
     Provisions Relating to IETF Documents
     (http://trustee.ietf.org/license-info).";

  revision 2020-07-12 {
    description
      "Initial Version";

    reference
      "RFC ZZZZ: A Yang Data Model for flexi-grid Optical Networks ";
  }

  /*
   * Groupings
   */
  grouping flexi-grid-node-attributes {
    description "flexi-grid node attributes.";

    container flexi-grid-node {
      description "flexi-grid node attrtibutes.";
      leaf node-type {
        type identityref {
          base l0-types:layer0-node-type;
        }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 31]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        description "flexi-grid node type.";
      }
    }
  }

  grouping flexi-grid-link-attributes {
    description
     "Future flexi-grid link attributes extensions";
  }
  grouping flexi-grid-tp-attributes {
    description "flexi-grid-tp-attributes";

    list supported-payload-types {
      key "index";
      description
        "Supported payload types of a TP. The payload type is defined
         as the generalized PIDs in GMPLS.";
      leaf index {
        type uint16;
        description "payload type index";
      }
      leaf payload-type {
        type string;
        description "the payload type supported by this client tp";
        reference
          "http://www.iana.org/assignments/gmpls-sig-parameters
           /gmpls-sig-parameters.xhtml";
      }
    }
    leaf client-facing {
      type boolean;
      default 'false';
      description
        "Indicating if it is a client-facing TP.";
    }
  }

  grouping flexi-grid-ttp-attributes {
    description
     "flexi-grid tunnel termination point (e.g.tranponder)
       attributes";
    leaf-list supported-operational-modes {
      type l0-types:operational-mode;
      description
        "List of all supported vendor-specific
         mode identifiers";
    }
    leaf configured-operational-modes {
      type l0-types:operational-mode;


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 32]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


      description
       "Vendor-specific mode identifier configured
         on the TTP.";
    }

    leaf-list supported-fec-types {
      type identityref {
        base l0-types:fec-type;
      }
       description
        "List of all supported FEC types by this TTP.";
    }

    leaf-list supported-termination-types {
      type identityref {
        base l0-types:term-type;
      }
        description
         "List of all supported termination types by this TTP.";
    }

    leaf supports-bit-stuffing {
       type boolean;
       description
         "Indicate whether bit stuffing is supported by this TTP.";
    }

    leaf is-tunable {
      type boolean;
      description 
        "Indicates if the TTP, or transponder, is tunable. Tunable
         transponders are assumed to be fully tunable to any of the 
         96 channels within DWDM C-band.";
    }

    leaf max-subcarrier-channel-num {
      type uint8 {
     range "1..max";
      }
      default 1;
      description
        "Indicate the maximum number of subcarrier channels for 
          super-channel transponders. When the value equals 1 it
          represents regular single-channel transponder.";
    }
    leaf supports-flexi-grid {
      type boolean;
      description 
        "Indicates if the TTP, or transponder, supports flex grid.";


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 33]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    }
  }

  /*
   * Data nodes
   */

  augment "/nw:networks/nw:network/nw:network-types"
   + "/tet:te-topology" {
      description "flexi-grid-topology augmented";
      container flexi-grid-topology {
        presence "indicates a topology of Flex Grid";
        description
          "Container to identify flexi-grid topology type";
      }
  }

  augment "/nw:networks/nw:network/nt:link/tet:te"
        + "/tet:te-link-attributes"   {
    when "/nw:networks/nw:network/nw:network-types"
        +"/tet:te-topology/flexi-grid:flexi-grid-topology" {
       description "This augment is only valid for flexi-grid.";
    }
    description "flexi-grid Link augmentation.";
    uses flexi-grid-link-attributes;
  }

  augment "/nw:networks/nw:network/nw:node/nt:termination-point/"
        + "tet:te" {
    when "/nw:networks/nw:network/nw:network-types"
        +"/tet:te-topology/flexi-grid:flexi-grid-topology" {
       description "This augment is only valid for flexi-grid.";
    }
    description "flexi-grid TP attributes.";
    uses flexi-grid-tp-attributes;
  }

  augment "/nw:networks/nw:network/nw:node/tet:te"
        + "/tet:te-node-attributes" {
    when "/nw:networks/nw:network/nw:network-types"
       +"/tet:te-topology/flexi-grid:flexi-grid-topology" {
       description "This augment is only valid for flexi-grid.";
    }
    description "flexi-grid Node augmentation.";
    uses flexi-grid-node-attributes;
  }
  augment "/nw:networks/nw:network/nw:node/tet:te"
        + "/tet:tunnel-termination-point" {
    when "/nw:networks/nw:network/nw:network-types"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 34]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


       +"/tet:te-topology/flexi-grid:flexi-grid-topology" {
      description "This augment is only valid for flexi-grid.";
    }
    description "flexi-grid tunnel termination point augmentation.";
    uses flexi-grid-ttp-attributes;
  }

  /*
   * Augment TE bandwidth
   */

  /* Augment maximum LSP bandwidth of link terminationpoint (LTP) */
  augment "/nw:networks/nw:network/nw:node/nt:termination-point/"
        + "tet:te/"
        + "tet:interface-switching-capability/tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-bandwidth;
    }
  }


  /* Augment bandwidth path constraints of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }
  /* Augment bandwidth path constraints of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 35]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }


  /* Augment bandwidth path constraints of connectivity-matrices
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }


  /* Augment bandwidth path constraints of connectivity-matrix 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }
  /* Augment client bandwidth of tunnel termination point (TTP) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:client-layer-adaptation/tet:switching-capability/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 36]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


      uses l0-types:flexi-grid-link-bandwidth;
    }
  }


  /* Augment bandwidth path constraints of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/tet:path-constraints/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }


  /* Augment bandwidth path constraints of local-link-connectivity
     (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/tet:path-constraints/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE bandwidth";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }
  /* Augment maximum LSP bandwidth of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:interface-switching-capability/tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-bandwidth;


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 37]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    }
  }


  /* Augment maximum bandwidth of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:max-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }


  /* Augment maximum reservable bandwidth of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:max-resv-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }
  /* Augment unreserved bandwidth of TE Link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:unreserved-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }



Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 38]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment maximum LSP bandwidth of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:interface-switching-capability/"
        + "tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-bandwidth;
    }
  }


  /* Augment maximum bandwidth of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:max-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }
  /* Augment maximum reservable bandwidth of TE link information-source
   */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:max-resv-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }





Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 39]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment unreserved bandwidth of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:unreserved-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }


  /* Augment maximum LSP bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:interface-switching-capability/"
        + "tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
*/
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-bandwidth;
    }
  }
  /* Augment maximum bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:max-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../nw:network-types/tet:te-topology/"
        + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
*/
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 40]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment maximum reservable bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:max-resv-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../nw:network-types/tet:te-topology/"
        + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
*/
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }

  /* Augment unreserved bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:unreserved-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../../nw:network-types/tet:te-topology/"
        + "flexi-grid:flexi-grid-topology" {
      description "flexi-grid TE bandwidth.";
    }
*/
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-bandwidth;
    }
  }

  /*
   * Augment TE label.
   */

  /* Augment label restrictions of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 41]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label restrictions start of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:label-restrictions/tet:label-restriction/"    
        + "tet:label-start/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:label-restrictions/" 
        + "tet:label-restriction/tet:label-end/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }


  /* Augment label restrictions step of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:label-restrictions/" 
        + "tet:label-restriction/tet:label-step/"
        + "tet:technology" {
    when "../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label step.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 42]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label hop of underlay primary path of connectivity-matrices
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:underlay/tet:primary-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of underlay backup path of connectivity-matrices
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:underlay/tet:backup-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-exclude of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 43]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of route-include of connectivity-matrices (added)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of path-route of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology"{
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }

  /* Augment ingress label restrictions of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:from/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 44]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }


  /* Augment ingress label restrictions start of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:from/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-start/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment ingress label restrictions end of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:from/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-end/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment ingress label restrictions step of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:from/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-step/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 45]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }


  /* Augment egress label restrictions of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:to/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }

  /* Augment egress label restrictions start of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:to/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-start/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment egress label restrictions end of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:to/"
        + "tet:label-restrictions/tet:label-restriction/" 


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 46]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:label-end/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }


  /* Augment egress label restrictions step of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:to/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-step/"
        + "tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }
  /* Augment label hop of underlay primary path of connectivity-matrix 
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:primary-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 47]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label hop of underlay backup path of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:backup-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of route-exclude of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:optimizations/"
        + "tet:algorithm/tet:metric/tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-include of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:optimizations/"
        + "tet:algorithm/tet:metric/tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {



Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 48]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of path-route of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label restrictions of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/"
        + "tet:connectivity-matrices/tet:label-restrictions/"
        + "tet:label-restriction" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }

  /* Augment label restrictions start of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/"
        + "tet:connectivity-matrices/tet:label-restrictions/"
        + "tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 49]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/"
        + "tet:connectivity-matrices/tet:label-restrictions/"
        + "tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }


  /* Augment label restrictions step of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/"
        + "tet:connectivity-matrices/tet:label-restrictions/"
        + "tet:label-restriction/"
        + "tet:label-step/tet:technology" {
    when "../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }

  /* Augment label hop of underlay primary path of connectivity-matrices
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 50]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }

  /* Augment label hop of underlay backup path of connectivity-matrices
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of route-exclude of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 51]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label hop of route-include of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of path-route of connectivity-matrices
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }

  /* Augment ingress label restrictions of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:from/tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 52]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }

  /* Augment ingress label restrictions start of connectivity-matrix
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:from/tet:label-restrictions/" 
        + "tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }


  /* Augment ingress label restrictions end of connectivity-matrix
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:from/tet:label-restrictions/" 
        + "tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment ingress label restrictions step of connectivity-matrix
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:from/tet:label-restrictions/" 


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 53]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:label-restriction/"
        + "tet:label-step/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }
  /* Augment egress label restrictions of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:to/tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }


  /* Augment egress label restrictions start of connectivity-matrix
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:to/tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment egress label restrictions end of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 54]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:connectivity-matrix/"
        + "tet:to/tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }

  /* Augment egress label restrictions step of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:to/tet:label-restrictions/tet:label-restriction/"
        + "tet:label-step/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }


  /* Augment label hop of underlay primary path of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 55]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label hop of underlay backup path of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of route-exclude of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }

  /* Augment label hop of route-include of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 56]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of path-route of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }

  /* Augment label restrictions of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }

  /* Augment label restrictions start of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
      + "tet:tunnel-termination-point/"
      + "tet:local-link-connectivities/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 57]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


      + "tet:label-restrictions/tet:label-restriction/"
      + "tet:label-start/"
      + "tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }


  /* Augment label restrictions end of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:label-restrictions/tet:label-restriction/"  
        + "tet:label-end/"
        + "tet:te-label/tet:technology"{
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions step of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:label-restrictions/tet:label-restriction/"  
        + "tet:label-step/"
        + "tet:technology"{
    when "../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 58]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label hop of underlay primary path of
     local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of underlay backup path of
     local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-exclude of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 59]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


  /* Augment label hop of route-include of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of path-route of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label restrictions of local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 60]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }


 /* Augment label restrictions start of local-link-connectivity (LLC) 
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
 /* Augment label restrictions end of local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions step of local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 61]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:local-link-connectivity/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-step/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }


  /* Augment label hop of underlay primary path of 
     local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of underlay backup path of
     local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 62]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    }
  }


  /* Augment label hop of route-exclude of local-link-connectivity (LLC)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-include of local-link-connectivity (LLC)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }





Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 63]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label hop of path-route of local-link-connectivity (LLC)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of underlay primary path of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of underlay backup path of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 64]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


  /* Augment label restrictions of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions step of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-step/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 65]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }


  /* Augment label restrictions of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions step of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:label-restrictions/tet:label-restriction/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 66]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:label-step/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }


  /* Augment label hop of underlay primary path of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
/*
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
          description "Augment flexi-grid TE label";
    }
*/
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of underlay backup path of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
/*
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
*/
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-path-label;
    }
  }
  /* Augment label restrictions of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 67]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:label-restrictions/tet:label-restriction" {
/*
    when "../../../../../nw:network-types/tet:te-topology/"
        + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
*/
    description "flexi-grid label.";
    uses l0-types:flexi-grid-label-restriction;
  }


  /* Augment label restrictions start of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
/*
    when "../../../../../../../nw:network-types/tet:te-topology/"
        + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
*/
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
/*
    when "../../../../../../../nw:network-types/tet:te-topology/"
        + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
*/
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-link-label;
    }
  }
  
  /* Augment label restrictions step of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"


Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 68]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


        + "tet:label-step/tet:technology" {
/*
    when "../../../../../../nw:network-types/tet:te-topology/"
        + "flexi-grid:flexi-grid-topology" {
      description "Augment flexi-grid TE label";
    }
*/
    description "flexi-grid label.";
    case flexi-grid {
      uses l0-types:flexi-grid-label-step;
    }
  }
}
   <CODE ENDS>


6. Security Considerations

   The YANG module specified in this document defines a schema for data
   that is designed to be accessed via network management protocols
   such as NETCONF [RFC6241] or RESTCONF [RFC8040]. The lowest NETCONF
   layer is the secure transport layer, and the mandatory-to-implement
   secure transport is Secure Shell (SSH) [RFC6242]. The lowest
   RESTCONF layer is HTTPS, and the mandatory-to-implement secure
   transport is TLS [RFC8446].

   The NETCONF access control model [RFC8341] provides the means to
   restrict access for particular NETCONF users to a preconfigured
   subset of all available NETCONF protocol operations and content. The
   NETCONF Protocol over Secure Shell (SSH) [RFC6242] describes a
   method for invoking and running NETCONF within a Secure Shell (SSH)
   session as an SSH subsystem. The Network Configuration Access
   Control Model (NACM) [RFC8341] provides the means to restrict access
   for particular NETCONF or RESTCONF users to a preconfigured subset
   of all available NETCONF or RESTCONF protocol operations and
   content.

   A number of configuration data nodes defined in this document are
   writable/deletable (i.e., "config true"). These data nodes may be
   considered sensitive or vulnerable in some network environments.

   There are a number of data nodes defined in this YANG module that
   are writable/creatable/deletable (i.e., config true, which is the
   default).  These data nodes may be considered sensitive or
   vulnerable in some network environments.  Write operations (e.g.,
   edit-config) to these data nodes without proper protection can have
   a negative effect on network operations.  These are the subtrees and
   data nodes and their sensitivity/vulnerability:

   /nw:networks/nw:network/nw:network-types/tet:te-topology

Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 69]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


   /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes

   /nw:networks/nw:network/nw:node/nt:termination-point/tet:te

   /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes
   /te-connectivity-matrices/te-connectivity-matrix/tet:path-
   constraints/tet:te-bandwidth/tet:technology

   /nw:networks/nw:network/nw:node/tet:te
   /tet:tunnel-termination-point/tet:local-link-connectivities
   /tet:label-restrictions/tet:label-restriction


7. IANA Considerations

   IANA is requested to assigned a new URI from the "IETF XML Registry"
   [RFC3688] as follows:

      URI: urn:ietf:params:xml:ns:yang:ietf-flexi-grid-topology
      Registrant Contact: The IESG
      XML: N/A; the requested URI is an XML namespace.

   IANA is requested to assign a new YANG module name in the "YANG
   Module Names" registry [RFC6020] as follows:

      Name: ietf-flexi-grid-topology
      Namespace: urn:ietf:params:xml:ns:yang:ietf-flexi-grid-topology
      Prefix: flexi-grid-topology
      Reference: [This.I-D]


8. References

8.1. Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3688] Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
             January 2004.

   [RFC5234] Crocker, D. and P. Overell, "Augmented BNF for Syntax
             Specifications: ABNF", STD 68, RFC 5234, January 2008,
             <http:/www.rfc-editor.org/info/rfc5234>.

   [RFC6020] Bjorklund, M., Ed., "YANG - A Data Modeling Language for
             the Network Configuration Protocol (NETCONF)", RFC 6020,
             October 2010.



Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 70]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020

             
   [RFC6241] R. Enns, Ed., M. Bjorklund, Ed., J. Schoenwaelder, Ed.,
             "Network Configuration Protocol (NETCONF)", RFC 6241, June
             2011.

   [RFC6242] M. Wasserman, "Using the NETCONF Protocol over Secure
             Shell (SSH)", RFC 6242, June 2011.

   [RFC7950] M. Bjorklund, Ed., "The YANG 1.1 Data Modeling 
             Language", RFC 7950, August 2016.

   [RFC8040] A. Bierman, M. Bjorklund, K. Watsen, "RESTCONF Protocol",
             RFC 8040, January 2017.

   [RFC8341] A. Bierman, M. Bjorklund, "Network Configuration Access
             Control Model", RFC 8341, July 2019.

   [RFC8446] E. Rescorla, "The Transport Layer Security (TLS) Protocol
             Version 1.3", RFC8446, August 2018.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [Layer0-Types] Y. Lee, D. Dhody, A. Guo, V. Lopez, D. King, 
             "YANG Data Model for Layer 0 Types", work in progress,
             draft-ietf-ccamp-layer0-types-03, 2020.

   [TE-TOPO] X. Liu, I. Bryskin, V. Pavan Beeram, T. Saad, H. Shah, 
             O. Gonzalez De Dios, "YANG Data Model for TE Topologies",
             work in progress, draft-ietf-teas-yang-te-topo-22.txt, 
             2019.

8.2. Informative References

   [G.694.1]  International Telecommunication Union, "Spectral grids for
              WDM applications: DWDM frequency grid", ITU-T
              Recommendation G.694.1, February 2012,
              <https://www.itu.int/rec/T-REC-G.694.1/en>.

   [G.872]    International Telecommunications Union,
              "Architecture of optical transport networks", ITU-
              T Recommendation G.872, November 2001.              
              <https://www.itu.int/rec/T-REC-G.872/en>.

   [RFC7446] Y. Lee, G. Bernstein, D. Li, W. Imajuku, "Routing and
             Wavelength Assignment Information Model for Wavelength
             Switched Optical Networks", RFC 7446, Feburary 2015.




Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 71]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


   [RFC7581] G. Bernstein, Y. Lee, D. Li, W. Imajuku, "Routing and
             Wavelength Assignment Information Encoding for Wavelength
             Switched Optical Networks", RFC 7581, June 2015.

   [RFC7698] O. Gonzalez de Dios, R. Casellas, Eds. "Framework and
             Requirements for GMPLS-Based Control of Flexi-Grid Dense
             Wavelength Division Multiplexing (DWDM) Networks",
             RFC7698, November 2015.

   [RFC7699]  Farrel, A., King, D., Li, Y., and F. Zhang, "Generalized
              Labels for the Flexi-Grid in Lambda Switch Capable (LSC)
              Label Switching Routers", RFC 7699, DOI 10.17487/RFC7699,
              November 2015, <https://www.rfc-editor.org/info/rfc7699>.

   [RFC8340] M. Bjorklund and L. Berger, Ed., "YANG Tree Diagrams", RFC
             8340, March 2018.

   [RFC8345] A. Clemm, J. Medved, R. Varga, N. Bahadur, H. 
             Ananthakrishnan, X. Liu, "A Data Model for Network 
             Topologies", RFC 8345, July 2019.

   [I-D.draft-ietf-ccamp-flexigrid-media-channel-yang] Lopez de
             Vergara, J., Perdices, D., Lopez, V., Gonzalez de Dios, O.,
             King, D., Lee, Y., Galimberti, G., "YANG data model for
             Flexi-Grid media-channels", Internet Draft,
             draft-ietf-ccamp-flexigrid-media-channel-yang-02, 2019.


9. Contributors

   The model presented in this paper was contributed to by more people
   than can be listed on the author list.  Additional contributors
   include:

   o Oscar Gonzalez de Dios, Telefonica I+D/GCTO
   o Gabriele Galimberti, Cisco Photonics Srl
   o Zafar Ali, Cisco Systems
   o Daniel Michaud Vallinoto, Universidad Autonoma de Madrid
   o Steven Hill, MTN Group Technology
   o Victor Lopex, Telefonica I+D/GCTO


10. Acknowledgments

   The work presented in this Internet-Draft has been partially funded
   by the European Commission under the project H2020 METRO-HAUL
   (Metro High bandwidth, 5G Application-aware optical network, with
   edge storage, compUte and low Latency), Grant Agreement number:
   761727, and by the Spanish Ministry of Economy and Competitiveness
   under the project TRAFICA, MINECO/FEDER TEC2015-69417-C2-1-R.

Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 72]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020


Authors' Addresses

   Jorge E. Lopez de Vergara Mendez
   Universidad Autonoma de Madrid
   Escuela Politecnica Superior
   C/Francisco Tomas y Valiente, 11
   E-28049 Madrid, Spain

   Email: jorge.lopez_vergara@uam.es

   Daniel Perdices Burrero
   Naudit High Performance Computing and Networking, S.L.
   C/Faraday, 7
   E-28049 Madrid, Spain

   Email: daniel.perdices@naudit.es

   Daniel King
   Lancaster University

   Email: d.king@lancaster.ac.uk

   Young Lee
   Samsung
   South Korea

   Email: younglee.tx@gmail.co
   
   Haomian Zheng
   Huawei Technologies
   H1-1-A043S Huawei Industrial Base, Songshanhu
   Dongguan, Guangdong  523808
   China

   Email: zhenghaomian@huawei.com   
















Lopez de Vergara, et al.   Expires  Jan 13, 2021               [Page 73]
Internet-Draft     A YANG data model for Flexi-Grid         July 2020



















Internet-Draft     A YANG data model for Flexi-Grid     Jan 2020