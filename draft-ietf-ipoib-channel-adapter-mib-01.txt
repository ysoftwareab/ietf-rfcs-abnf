Internet Draft                                              Sean Harnedy
                                                      InfiniSwitch Corp. 
Expiration Date: November 2002                                  May 2002   
    

                   Definitions of Managed Objects for
                    Infiniband Channel Adapters (CA)

               <draft-ietf-ipoib-channel-adapter-mib-01.txt>
    
Status of this Memo 
    
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026. 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that      
   other groups may also distribute working documents as Internet-
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other documents 
   at any time.  It is inappropriate to use Internet-Drafts as 
   reference material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html. 

Copyright Notice

   Copyright (C) The Internet Society (2001).  All Rights Reserved. 
    
Abstract 
    
   This memo defines a portion of the Management Information Base (MIB) 
   for use with network management protocols in the Internet community.  
   In particular, it defines objects for managing InfiniBand Channel 
   Adapters (CA).
     
Table of Contents 
    
   1. Introduction ................................................    2 
   2. The SNMP Management Framework ...............................    2 
   3. Conventions used in this document ...........................    3 
   4. Structure of the MIB ........................................    3 
   4.1. Overview ..................................................    3
   4.2. Discussion of MIB Groups ..................................    3
   4.3. The CA MIB Objects ........................................    3
   4.3.1. The General Channel Adapter Info Group ..................    4
   4.3.2. The Channel Adapter Attributes Info Group ...............    4
   4.3.3. The Channel Adapter Port Attributes and Functions Info Group 4
   4.4. The CA Notifications Group ................................    4
   4.5. The CA Conformance Group ..................................    4

Expires November 2002                                           [Page 1]

Internet Draft                IPOVERIB CA MIB                   May 2002

   4.5.1. CA Compliance Groups ....................................    4
   5. IPOIB CA MIB Definitions ....................................    4 
   6. Revision History ............................................   18
   6.1 Changes from <draft-ietf-ipoib-channel-adapter-mib-00.txt> .   18
   7. Security Considerations .....................................   18 
   8. Intellectual Property .......................................   18 
   9. References ..................................................   19 
   10. Author's Address ...........................................   20 
    
1.  Introduction

   This document defines a MIB for InfiniBand Channel Adpaters (CA).

   The Infiniband Architecture[IBTAArch] (IBA) is defined by the 
   Infiniband Trade Association.  Infiniband is designed to provide low
   latency, high bandwidth interconnect in a computing environment. This
   document will define the objects related to managing a specific class
   of InfiniBand nodes called Channel Adapters.

   A Channel Adapter (CA) is the end-point for IBA packets that are sent
   and received over the IBA switching fabric. There are two types of 
   CAs: Host Channel Adapters (HCA) and Target Channel Adapters (TCA). 
   Typically, HCAs are used by host processors and TCAs are used by I/O 
   adapters to connect to the IBA switch fabric. The HCA supports the 
   IBA Verbs layer as the transport layer interface, while the TCA often
   uses its own implementation-specific interface to the transport layer. 

2.  The SNMP Management Framework 
    
   The SNMP Management Framework presently consists of five major   
   components: 
    
    o   An overall architecture, described in RFC 2571[RFC2571]. 

    o   Mechanisms for describing and naming objects and events for 
        the purpose of management.  The first version of this 
        Structure of Management Information (SMI) is called SMIv1 
        and described in STD 16, RFC 1155[RFC1155], STD 16, RFC 1212 
        [RFC1212] and RFC 1215 [RFC1215]. The second version, 
        called SMIv2, is described in STD 58, RFC 2578[RFC2578], STD 
        58, RFC 2579[RFC2579], and STD 58, RFC 2580[RFC2580]. 
    
    o   Message protocols for transferring management information.  
        The first version of the SNMP message protocol is called 
        SNMPv1 and described in STD 15, RFC 1157[RFC1157]. A second 
        version of the SNMP message protocol, which is not an 
        Internet standards track protocol, is called SNMPv2c and 
        described in RFC 1901[RFC1901] and RFC 1906[RFC1906]. The 
        third version of the message protocol is called SNMPv3 and 
        described in RFC 1906[RFC1906], RFC 2572[RFC2572] and RFC 
        2574[RFC2574]. 
    
    o   Protocol operations for accessing management information.  

Expires November 2002                                           [Page 2]

Internet Draft                IPOVERIB CA MIB                   May 2002

        The first set of protocol operations and associated PDU 
        formats is described in STD 15, RFC 1157[RFC1157]. A second 
        set of protocol operations and associated PDU formats is 
        described in RFC 1905[RFC1905]. 
   
    o   A set of fundamental applications described in RFC 
        2573[RFC2573] and the view-based access control mechanism 
        described in RFC 2575[RFC2575]. 
   
   A more detailed introduction to the current SNMP Management 
   Framework can be found in RFC 2570[RFC2570]. 
    
   Managed objects are accessed via a virtual information store, 
   termed the Management Information Base or MIB. Objects in the MIB 
   are defined using the mechanisms defined in the SMI. 
    
   This memo specifies a MIB module that is compliant to the SMIv2.   
   A MIB conforming to the SMIv1 can be produced through the 
   appropriate translations. The resulting translated MIB must be 
   semantically equivalent, except where objects or events are 
   omitted because no translation is possible (use of Counter64).  
   Some machine readable information in SMIv2 will be converted into 
   textual descriptions in SMIv1 during the translation process.  
   However, this loss of machine readable information is not 
   considered to change the semantics of the MIB. 
    
3.  Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL 
   NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and 
   "OPTIONAL" in this document are to be interpreted as described in 
   RFC 2119 [RFC2119]. 
    
4.  Structure of the MIB

   This section describes the structure of the IPOIB CA MIB.

4.1.  Overview

   The SNMP management of the CA involves the monitoring of key channel
   adapter attributes.

4.2.  Discussion of MIB Groups

   The CA MIB is divided into two basic groups: MIB objects and the 
   conformance section.
   
4.3.  The CA MIB Objects

   The CA MIB objects correlate to the set of Channel Adapter attributes.
   These attributes are organized into three major CA MIB groups.
   These are: The General Channel Adpater Info Group, The Channel Adapter
   Attributes Info Group,  and the Channel Adpater Port Attributes and

Expires November 2002                                           [Page 3]

Internet Draft                IPOVERIB CA MIB                 March 2002

   Functions Info Group.

4.3.1.  The General Channel Adapter Info Group

   This group provides general information common to any InfiniBand
   CA. This includes distinguishing between the HCA and the TCA, 
   displaying the node and port GUID, and showing the number of ports on 
   the CA.

4.3.2.  The Channel Adapter Attributes Info Group

   This group provides more specific information about the CA. This 
   includes various attribute flags, transport service support, and 
   other CA characteristics.

4.3.3.  The Channel Adapter Port Attributes and Functions Info Group

   This group provides information about the CA ports. This includes 
   the type of physical interfaces supported, other port attributes,
   and a table containing the port GIDs.

4.4.  The CA Notifications Group

   The CA MIB currently does not define a Notifications Group.

4.5.  The CA Conformance Group

   The CA Conformance Group lists the possible compliances for various
   types of InfiniBand nodes that contain channel adapters. Currently,
   two types of compliance are defined: basic and full. The units of 
   conformance which define the constituent object groups are also
   listed.

4.5.1.  CA Compliance Groups

   The Compliance Groups list acceptable MIB implementation requirements.

5. IPOIB CA MIB Definitions 

IB-CA-MIB DEFINITIONS ::= BEGIN 
    
IMPORTS  
   MODULE-IDENTITY, OBJECT-TYPE,                
   Counter32, NOTIFICATION-TYPE, Integer32        FROM SNMPv2-SMI  
   TruthValue, DisplayString                       FROM SNMPv2-TC  
   MODULE-COMPLIANCE, OBJECT-GROUP,  
   NOTIFICATION-GROUP                            FROM SNMPv2-CONF  
   infinibandMIB                                   FROM IB-TC-MIB;
  





Expires November 2002                                           [Page 4]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaMIB MODULE-IDENTITY  
   LAST-UPDATED    "200205101200Z"   -- May 10, 2002
   ORGANIZATION    "IETF IP Over IB Working Group
                    Email: ipoib@ietf.org"
   CONTACT-INFO  
       "Sean Harnedy (sharnedy@infiniswitch.com)
        InfiniSwitch Corporation"
   DESCRIPTION  
      "This module contains managed object definitions for 
       the instrumentation for an InfiniBand Channel Adpater (CA)."
   REVISION    
      "200205101200Z"  
   DESCRIPTION 
      "Updated IMPORTS section (-01)."  
   REVISION    
      "200203291200Z"  
   DESCRIPTION 
      "Initial IETF Draft Revision (-00)."  
   ::= { infinibandMIB 4 }

--**************************************************************** 
--  Object Indentifiers for the IPOIB CA MIB  
--**************************************************************** 

ibCaObjects         OBJECT IDENTIFIER ::= { ibCaMIB 1 }  
ibCaNotifications   OBJECT IDENTIFIER ::= { ibCaMIB 2 }  
ibCaConformance     OBJECT IDENTIFIER ::= { ibCaMIB 3 }  

--**************************************************************** 
-- General Channel Adapter Info Group
--**************************************************************** 

ibCaGeneralInfo     OBJECT IDENTIFIER ::= { ibCaObjects 1 } 

--**************************************************************** 
-- General Channel Adapter Info Group
--
-- DESCRIPTION: This group contains scalar variables that describe
--    general information about the CA. 
--**************************************************************** 














Expires November 2002                                           [Page 5]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaType  OBJECT-TYPE
   SYNTAX       INTEGER {
                        unknown(1),
                        hca(2),
                        tca(3)
                } 
   MAX-ACCESS   read-only
   STATUS       current
   DESCRIPTION
      "Type of Channel Adapter: either a Host Channel Adpater (HCA),
       or a Target Channel Adapter (TCA). If the type of CA cannot
       be determined, the unknown(1) value is returned."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.1."
   ::= { ibCaGeneralInfo 1 }

ibCaNodeGuid   OBJECT-TYPE 
   SYNTAX      OCTET STRING (SIZE(8)) 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION 
      "The GUID of this CA. All ports on the same node shall
       report the same CA node GUID value. This provides a 
       means for uniquely identifing a CA node within a 
       subnet and helps to determine the co-location of
       the ports." 
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.5."
   ::= { ibCaGeneralInfo 2 }

ibCaPortGuid   OBJECT-TYPE 
   SYNTAX      OCTET STRING (SIZE(8)) 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION 
      "The GUID of this CA port. All ports on the same node shall
       report the same ibCaPortGuid value. This provides a 
       means for uniquely identifing a node within a 
       subnet and helps to determine the co-location of
       the ports." 
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.5."
   ::= { ibCaGeneralInfo 3 }








Expires November 2002                                           [Page 6]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaNumPorts  OBJECT-TYPE
   SYNTAX      Integer32(1..254) 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Number of physical IB data ports on this Channel Adapter. Ports
       are numbered starting from 1. If there is more than one port,
       the ports are numbered sequentially."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.1.3; Table 254 Port Attributes & Functions."
   ::= { ibCaGeneralInfo 4 }

--**************************************************************** 
-- Channel Adapter Attributes Info Group
--**************************************************************** 

ibCaAttrInfo    OBJECT IDENTIFIER ::= { ibCaObjects 2 } 

--**************************************************************** 
-- Channel Adapter Attributes Info Group
--
-- DESCRIPTION: This group contains scalar variables that describe
--    more specific attributes about the whole CA. 
--**************************************************************** 

ibCaHasReliableConnection  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       Reliable Connection (RC) transport service."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 1 }

ibCaHasUnreliableConnection  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       Unreliable Connection (UC) transport service."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 2 }





Expires November 2002                                           [Page 7]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaHasReliableDatagram  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       Reliable Datagram (RD) transport service."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 3 }

ibCaHasUnreliableDatagram  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       Unreliable Datagram (UD) transport service."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 4 }

ibCaSupportsAtomicOperations  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       atomic operations. An atomic operation is an operation
       that is guaranteed to finish without having another 
       operation alter the results once the atomic operation 
       has been initiated."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 5 }

ibCaSupportsOtherOperations  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       all of the other operations (excluding atomic operations)
       defined for a particular supported transport service."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 6 }



Expires November 2002                                           [Page 8]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaSupportsSolicitedEvents  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports the 
       generation and reception of solicited events. A solicited
       event is a feature by which a queue pair consumer on a 
       CA can cause an event to be generated at the destination
       when its message is received."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes.
       and Section 9.2.3 Solicited Event (SE) - 1 bit."
   ::= { ibCaAttrInfo 7 }

ibCaPathMtuSetSupport  OBJECT-TYPE
   SYNTAX  INTEGER {
                   mtu256(1),
                   mtu256And512(2),
                   mtu256And512And1024(3),
                   mtu256And512And1024And2048(4),
                   mtu256And512And1024And2048And4096(5)
                } 
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
      "Set of MTU values (in bytes) supported by this CA for all
       transport service classes. The Maximum Transfer Unit is the
       largest size allowable for the packet payload."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 8 }

ibCaGenEndToEndFlowControl  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       the generation of end-to-end flow control. End-to-end
       flow control is a mechanism that prevents sending messages
       when the destination does not have adequate receive buffers
       to receive the message."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 9 }





Expires November 2002                                           [Page 9]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaSupportsMulticast  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports multicast 
       operations. Multicast is the ability to deliver a single 
       packet to multiple ports."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 10 }

ibCaSupportsAutoPathMigration  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       automatic path migration. Automatic path migration
       is the process by which a CA (on a per QP basis)
       signals another CA to cause path migration to a 
       preset alternate path."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 11 }

ibCaSupportsMemoryProtection  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports InfiniBand 
       memory management protection mechanisms."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes
       and Section 10.6 Memory Management."
   ::= { ibCaAttrInfo 12 }














Expires November 2002                                          [Page 10]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaSupportsLoopback  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       loopback operations. Loopback support allows for the 
       sending and receiving of self-addressed packets that
       do not go out on the wire. If this feature is supported,
       self-addressed packets must work, even if no switch is
       present."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.2; Table 255 Channel Adapter Attributes."
   ::= { ibCaAttrInfo 13 }

ibCaHasSubnetManager  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       a Subnet Manager (SM) instance."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.5."
   ::= { ibCaAttrInfo 14 }

--**************************************************************** 
-- Channel Adapter Port Attributes and Functions Info Group
--**************************************************************** 

ibCaPortAttrInfo    OBJECT IDENTIFIER ::= { ibCaObjects 3 } 

--**************************************************************** 
-- Channel Adapter Port Attributes and Functions Info Group
--
-- DESCRIPTION: This group contains information about the CA ports.
--    This includes the type of physical interfaces supported, other 
--    port attributes, and a table containing the port GIDs.
--**************************************************************** 













Expires November 2002                                          [Page 11]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaHasCablePhyInterface  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       a cable connector physical interface. This
       physical attach point is defined for use with 
       copper cables."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.1.3 Port Attributes and Functions;
       Vol 2. 3.1 Introduction (Physical Layer Overview)."
   ::= { ibCaPortAttrInfo 1 }

ibCaHasFiberPhyInterface  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       a fiber connector physical interface. This
       physical attach point is defined for use with
       optical cables."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.1.3 Port Attributes and Functions;
       Vol 2. 3.1 Introduction (Physical Layer Overview)."
   ::= { ibCaPortAttrInfo 2 }

ibCaHasBackplanePhyInterface  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports 
       a backplane connector physical interface. This
       physical attach point is defined for accepting
       a specified form factor that houses the
       channel adapter."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.1.3 Port Attributes and Functions;
       Vol 2. 3.1 Introduction (Physical Layer Overview)."
   ::= { ibCaPortAttrInfo 3 }









Expires November 2002                                          [Page 12]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaSupportsStaticRateControl  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports static
       rate control. Static rate controls are required for
       all IB ports that support a data rate over 2.5 Gbps."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.6 Static Rate Control."
   ::= { ibCaPortAttrInfo 4 }

ibCaInterpacketDelayValue  OBJECT-TYPE
   SYNTAX  INTEGER {
                   unknown(1),
                   zero(2),     -- 100%
                   three(3),    -- 25%
                   two(4),      -- 33%
                   eleven(5)    -- 8%
                 }
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Interpacket Delay Value (IPD) supported for CAs that have
       static rate control (i.e., the ibCaSupportsStaticRateControl
       object must have a value of true(1) for this object to 
       contain a valid value; Otherwise, unknown(1) is returned). 
       The IPD allows for the slowing of the packet rate for all 
       of the standard link rates.
       
       An ibCaInterpacketDelayValue of zero(2) is required for all CAs
       that support static rate control. An ibCaInterpacketDelayValue 
       of three(3) is required by CAs that support 1 GBs or higher 
       link rate. An ibCaInterpacketDelayValue of two(4) is required by
       CAs that support 3 Gbps or higher link rates and, an 
       ibCaInterpacketDelayValue of eleven(5) is required by CAs that
       also support 3 Gbps or higher link rates."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1.
       Section 17.2.6 Static Rate Control, and Table 256
       Static Rate Control IPD Values."
   ::= { ibCaPortAttrInfo 5 }
      










Expires November 2002                                          [Page 13]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaSupportsMultipathing  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports multipathing.
       The CA link layer port checks the unicast DLID in the 
       received packet for validity by masking the number of low
       order bits indicated by the LID Mask Control field (LMC) 
       before  comparing the DLID to its assigned LID if this
       object is true(1)."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1. 
       Section 7.2.1.3. and Table 254; Also, Section 7.11.1 
       Multipathing Requirements on End Node."
   ::= { ibCaPortAttrInfo 6 }

ibCaSupportsPKeyCheck  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports partition
       key (P_Key) checking. If true(1), the CA port validates the
       incoming packet's P_Key with the P_Key bound to the 
       destination QP."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1. 
       Section 7.2.1.3. and Table 254."
   ::= { ibCaPortAttrInfo 7 }

ibCaValidatesInPktDlid  OBJECT-TYPE
   SYNTAX      TruthValue 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Flag that indicates whether this CA supports the validation
       of incoming packet DLIDs, and if the GRH is present, the
       DGID."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1. 
       Section 7.2.1.3. and Table 254."
   ::= { ibCaPortAttrInfo 8 }











Expires November 2002                                          [Page 14]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaMaxGidsPerPort  OBJECT-TYPE
   SYNTAX      Integer32 
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION
      "Maximum number of GIDs per port. The maximum number of
       unicast GIDs supported per CA port is implementation
       specific."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1."
   ::= { ibCaPortAttrInfo 9 }

ibCaPortGidTable  OBJECT-TYPE
   SYNTAX       SEQUENCE OF IbCaPortGidEntry 
   MAX-ACCESS   not-accessible  
   STATUS       current 
   DESCRIPTION 
      "A table containing the CA port GIDs. The Global Identifier
       (GID) is a 128-bit (16-byte) unicast or multicast identifier
       used to identify a channel adapter port.  A GID is a valid 
       128-bit IPv6 address (as defined in RFC 2373) with additional
       IBA modifications that facilitate node discovery, routing, 
       and communications."
   ::= { ibCaPortAttrInfo 10 }

ibCaPortGidEntry  OBJECT-TYPE
   SYNTAX       IbCaPortGidEntry    
   MAX-ACCESS   not-accessible 
   STATUS       current 
   DESCRIPTION 
      "A conceptual row of the ibCaPortGidTable containing 
       information about a particular GID on a CA IB port."
   INDEX  { ibCaPortIndex, ibCaPortGidIndex }  
   ::= { ibCaPortGidTable 1 }

IbCaPortGidEntry ::= SEQUENCE {   
   ibCaPortIndex      Integer32,
   ibCaPortGidIndex   Integer32,
   ibCaPortGidValue   OCTET STRING
   }

ibCaPortIndex  OBJECT-TYPE
   SYNTAX      Integer32(1..254) 
   MAX-ACCESS  not-accessible 
   STATUS      current 
   DESCRIPTION  
      "Index that identifies the InfiniBand data port. The IBA
       defines a range of valid data ports from 1 to N, where  
       N can have a maximum value of 254 for an IBA switch." 
   ::= { ibCaPortGidEntry 1 }




Expires November 2002                                          [Page 15]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaPortGidIndex   OBJECT-TYPE
   SYNTAX      Integer32(1..65535)
   MAX-ACCESS  not-accessible 
   STATUS      current 
   DESCRIPTION  
      "Index that identifies the GID entry for this IB data port.
       Each port on a CA is assigned at least 1 unicast GID.
       Note, the value of ibCaPortGidIndex will never be greater 
       than the value of ibCaMaxGidsPerPort that defines the 
       upper value for this index."
   ::= { ibCaPortGidEntry 2 }

ibCaPortGidValue   OBJECT-TYPE
   SYNTAX      OCTET STRING (SIZE(16))
   MAX-ACCESS  read-only 
   STATUS      current 
   DESCRIPTION  
      "The Global Identifier (GID) is a 128-bit (16-byte) unicast 
       or multicast identifier used to identify a channel adapter 
       port. A GID is a valid 128-bit IPv6 address (as defined in 
       RFC 2373) with additional IBA modifications that facilitate
       node discovery, routing, and communications."
   REFERENCE
      "InfiniBand Architecture Release 1.0.a. Vol 1. 
       Section 4.1.1 GID Usage and Properties."
   ::= { ibCaPortGidEntry 3 }

--**************************************************************** 
-- Module Conformance Statement 
--
-- DESCRIPTION: The module conformance statement includes the
--    compliance statements and the units of conformance
--    section.
--**************************************************************** 

ibCaCompliances OBJECT IDENTIFIER ::= { ibCaConformance 1 }

ibCaGroups OBJECT IDENTIFIER      ::= { ibCaConformance 2 }

--**************************************************************** 
-- Compliance Statements 
--**************************************************************** 

ibCaBasicCompliance  MODULE-COMPLIANCE
   STATUS current
   DESCRIPTION
      "The basic CA implementation requirements for agents that
       support the IPOIB CA MIB."
   MODULE -- this module
       MANDATORY-GROUPS { 
                        ibCaGeneralGroup
                        }
   ::= { ibCaCompliances 1 }

Expires November 2002                                          [Page 16]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaFullCompliance  MODULE-COMPLIANCE
   STATUS current
   DESCRIPTION
      "The complete node implementation requirements for agents that
       support the full IPOIB CA MIB."
   MODULE -- this module
       MANDATORY-GROUPS { 
                        ibCaGeneralGroup,
                        ibCaAttrGroup,
                        ibCaPortAttrGroup
                        }
   ::= { ibCaCompliances 2 }

--**************************************************************** 
-- Units Of Conformance 
--**************************************************************** 

ibCaGeneralGroup  OBJECT-GROUP
   OBJECTS  {
       ibCaType,
       ibCaNodeGuid,
       ibCaPortGuid,
       ibCaNumPorts
   }
   STATUS   current
   DESCRIPTION
      "The ibCaGeneralGroup defines the MIB objects that describe
       the general characteritics of this Channel Adapter."
   ::= { ibCaGroups 2 }

ibCaAttrGroup  OBJECT-GROUP
   OBJECTS  {
       ibCaHasReliableConnection,
       ibCaHasUnreliableConnection,
       ibCaHasReliableDatagram,
       ibCaHasUnreliableDatagram,
       ibCaSupportsAtomicOperations,
       ibCaSupportsOtherOperations,
       ibCaSupportsSolicitedEvents,
       ibCaPathMtuSetSupport,
       ibCaGenEndToEndFlowControl,
       ibCaSupportsMulticast,
       ibCaSupportsAutoPathMigration,
       ibCaSupportsMemoryProtection,
       ibCaSupportsLoopback,
       ibCaHasSubnetManager
   }
   STATUS   current
   DESCRIPTION
      "The ibCaAttrGroup defines the MIB objects that describe
       more specific attributes about the Channel Adpater."
   ::= { ibCaGroups 3 }


Expires November 2002                                          [Page 17]

Internet Draft                IPOVERIB CA MIB                   May 2002

ibCaPortAttrGroup  OBJECT-GROUP
   OBJECTS  {
       ibCaHasCablePhyInterface,
       ibCaHasFiberPhyInterface,
       ibCaHasBackplanePhyInterface,
       ibCaSupportsStaticRateControl,
       ibCaInterpacketDelayValue,
       ibCaSupportsMultipathing,
       ibCaSupportsPKeyCheck,
       ibCaValidatesInPktDlid,
       ibCaMaxGidsPerPort,
       ibCaPortGidValue
   }
   STATUS   current
   DESCRIPTION
      "The ibCaPortAttrGroup defines the MIB objects that describe
       attributes about the Channel Adpater ports."
   ::= { ibCaGroups 4 }

END 

6.0 Revision History

   This section should be removed when this document is published as an
   RFC.

6.1 Changes from <draft-ietf-ipoib-channel-adapter-mib-00.txt>

   Fixed object definitions as needed.

7. Security Considerations 

   SNMPv1 by itself is not a secure environment.  Even if the network
   itself is secure (for example by using IPSec), even then, there is no
   control as to who on the secure network is allowed to access and
   GET/SET (read/change/create/delete) the objects in this MIB.

   It is recommended that the implementers consider the security
   features as provided by the SNMPv3 framework.  Specifically, the use
   of the User-based Security Model RFC 2574 [RFC2574] and the View-
   based Access Control Model RFC 2575 [RFC2575] is recommended.

   It is then a customer/user responsibility to ensure that the SNMP
   entity giving access to an instance of this MIB, is properly
   configured to give access to the objects only to those principals
   (users) that have legitimate rights to indeed GET or SET
   (change/create/delete) them.
    
8.  Intellectual Property  
    
   The IETF takes no position regarding the validity or scope of any 
   intellectual property or other rights that might be claimed to 
   pertain to the implementation or use of the technology described 

Expires November 2002                                          [Page 18]

Internet Draft                IPOVERIB CA MIB                   May 2002

   in this document or the extent to which any license under such 
   rights   might or might not be available; neither does it 
   represent that it   has made any effort to identify any such 
   rights.  Information on the IETF's procedures with respect to 
   rights in standards-track and   standards-related documentation 
   can be found in BCP-11.  Copies of   claims of rights made 
   available for publication and any assurances of licenses to be 
   made available, or the result of an attempt made to obtain a 
   general license or permission for the use of such proprietary 
   rights by implementors or users of this specification can be 
   obtained from the IETF Secretariat. 
    
   The IETF invites any interested party to bring to its attention 
   any copyrights, patents or patent applications, or other 
   proprietary rights which may cover technology that may be required 
   to practice this standard.  Please address the information to the 
   IETF Executive Director. 
    




9.  References 
    
   [RFC2571] Harrington, D., Presuhn, R. and B. Wijnen, "An 
             Architecture for Describing SNMP Management Frameworks", 
             RFC 2571, April 1999. 
    
   [RFC1155] Rose, M. and K. McCloghrie, "Structure and Identification 
             of Management Information for TCP/IP-based Internets", STD 
             16, RFC 1155, May 1990. 
    
   [RFC1212] Rose, M. and K. McCloghrie, "Concise MIB Definitions", STD 
             16, RFC 1212, March 1991. 

   [RFC1215] Rose, M., "A Convention for Defining Traps for use with 
             the SNMP", RFC 1215, March 1991. 
    
   [RFC2578] McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., 
             Rose, M. and S. Waldbusser, "Structure of Management 
             Information Version 2 (SMIv2)", STD 58, RFC 2578, April 
             1999. 
    
   [RFC2579] McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., 
             Rose, M. and S. Waldbusser, "Textual Conventions for 
             SMIv2", STD 58, RFC 2579, April 1999. 
    
   [RFC2580] McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., 
             Rose, M. and S. Waldbusser, "Conformance Statements for 
             SMIv2", STD 58, RFC 2580, April 1999. 
 
   [RFC1157] Case, J., Fedor, M., Schoffstall, M. and J. Davin, "Simple 
             Network Management Protocol", STD 15, RFC 1157, May 1990. 
    
Expires November 2002                                          [Page 19]

Internet Draft                IPOVERIB CA MIB                   May 2002

   [RFC1901] Case, J., McCloghrie, K., Rose, M. and S. Waldbusser, 
             "Introduction to Community-based SNMPv2", RFC 1901, 
             January 1996. 
    
   [RFC1906] Case, J., McCloghrie, K., Rose, M. and S. Waldbusser, 
             "Transport Mappings for Version 2 of the Simple Network 
             Management Protocol (SNMPv2)", RFC 1906, January 1996. 
    
   [RFC2572] Case, J., Harrington D., Presuhn R. and B. Wijnen, 
             "Message Processing and Dispatching for the Simple Network 
             Management Protocol (SNMP)", RFC 2572, April 1999. 
    
   [RFC2574] Blumenthal, U. and B. Wijnen, "User-based Security Model 
             (USM) for version 3 of the Simple Network Management 
             Protocol (SNMPv3)", RFC 2574, April 1999. 
    
   [RFC1905] Case, J., McCloghrie, K., Rose, M. and S. Waldbusser, 
             "Protocol Operations for Version 2 of the Simple Network 
             Management Protocol (SNMPv2)", RFC 1905, January 1996. 

   [RFC2573] Levi, D., Meyer, P. and B. Stewart, "SNMPv3 Applications", 
             RFC 2573, April 1999. 
    
   [RFC2575] Wijnen, B., Presuhn, R. and K. McCloghrie, "View-based 
             Access Control Model (VACM) for the Simple Network 
             Management Protocol (SNMP)", RFC 2575, April 1999. 
    
   [RFC2570] Case, J., Mundy, R., Partain, D. and B. Stewart, 
             "Introduction to Version 3 of the Internet-standard 
             Network Management Framework", RFC 2570, April 1999. 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC 2119, March 1997. 
    
   [IBTAArch] Infiniband Trade Association, Infiniband(TM) 
              Architecture Specification Vol 1&2 Release 1.0a, 1999, 
              2000. 
    
   [IBTC]  Harnedy, S., "Definitions of Textual Conventions and OBJECT-
           IDENTITIES for IP Over InfiniBand (IPOVERIB) Management" 
           <draft-ietf-ipoib-ibmib-tc-mib-01.txt>. May 2002.

10. Author's Address
    
   Sean Harnedy
   InfiniSwitch Corporation
   134 Flanders Road                  Phone:   1-508-599-6388
   Westborough, MA 01581              Email:   sharnedy@infiniswitch.com
   USA





Expires November 2002                                          [Page 20]
