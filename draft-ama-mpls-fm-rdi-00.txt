



Routing Working Group                                          A. Mishra
Internet-Draft                                              O3b Networks
Intended status: Standards Track                         M. Jethanandani
Expires: May 25, 2018
                                                               A. Saxena
                                                       Ciena Corporation
                                                       November 21, 2017


                Reverse Defect Indicator for MPLS FM OAM
                      draft-ama-mpls-fm-rdi-00.txt

Abstract

   This document describes extensions to the MPLS Fault Management
   Operations, Administration, and Management (MPLS FM OAM) in RFC 6427
   [RFC6427] to support Remote Defect Indication (RDI) functionality.
   Specifically, it describes a mechanism for propagating MPLS FM OAM
   messages to the upstream Label Edge Router (LER) in MPLS-TP [RFC5921]
   bi-directional (associated and co-routed) Label Switched Paths
   (LSPs).

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 25, 2018.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Mishra, et al.            Expires May 25, 2018                  [Page 1]

Internet-Draft               MPLS FM OAM RDI               November 2017


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Reverse Defect Indicator (RDI)  . . . . . . . . . . . . . . .   2
   3.  Theory of Operations  . . . . . . . . . . . . . . . . . . . .   3
     3.1.  RDI Operation in Associated Bidirectional LSPs  . . . . .   3
     3.2.  RDI Operation in Co-routed Bidirectional LSPs . . . . . .   4
   4.  IANA Requirements . . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Consideration  . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   The MPLS Fault Management Operations, Administration, and Management
   (MPLS FM OAM) in RFC 6427 [RFC6427] describes a method to identify
   faults in MPLS transport networks, and a protocol to notify the
   upstream Label Edge Router (LER).  However, in the case of MPLS-TP
   [RFC5921] bi-directional Label Switched Paths (LSPs), the fault must
   be coordinated on both, the upstream LER and the downstream LER
   (which is the upstream LER for the reverse path).

   In typical scenario, the Bidirectional Forwarding Detection (BFD)
   protocol, as described in RFC 5880 [RFC5880], detects the fault
   signaled by MPLS FM OAM on the upstream LER and propagates the fault
   on the reverse LSP to the other MPLS-TP LSP LER.  This allows the two
   MPLS-TP LERs to coordinate failover to backup LSPs.

   This document proposes a mechanism to achieve MPLS FM OAM fault
   propagation on the MPLS-TP reverse LSP using a Reverse Defect
   Indicator (RDI) MPLS FM OAM message.  This allows fast fault
   coordination between the bidirectional LSP end-points when the use of
   BFD is not feasible.

2.  Reverse Defect Indicator (RDI)

   The functionality proposed for MPLS FM OAM RDI is achieved by adding
   a RDI-flag in the MPLS Fault OAM message .




Mishra, et al.            Expires May 25, 2018                  [Page 2]

Internet-Draft               MPLS FM OAM RDI               November 2017


               +-+-+-+-+-+---+-+-+
               |Reserved |RDI|L|R|
               +-+-+-+-+-+---+-+-+

                  Figure 1: RDI-Flag in MPLS FM OAM Flags

   where:

   L-Flag and R-Flag are as defined in RFC 6427 [RFC6427].

   RDI-Flag: Reverse Defect Indication Flag.  The RDI-Flag is clear in
   the common MPLS FM OAM messages as defined in RFC 6427 [RFC6427].
   The RDI-Flag is set to indicate that the message is MPLS FM OAM RDI.

3.  Theory of Operations

3.1.  RDI Operation in Associated Bidirectional LSPs

                                ------------------>
                                    Forward LSP

                            +-------+         +-------+
                       +--> | LSR-1 | --X---> | LSR-2 | --+
                       |    +-------+  Fault  +-------+ AIS/LKR
                       |                                  |
           +-------+ --+                                  +--> +-------+
           | LER-A |                 +-------+                 | LER-B |
           +-------+ <------RDI----- | LSR-3 | <------RDI----- +-------+
                                     +-------+

                                    Reverse LSP
                                <------------------

          Figure 2: RDI Operation in Associated Bidirectional LSP

   Figure 1 depicts an associated bidirectional LSP with:

   Forward LSP (LER-A, LSR-1, LSR-2, LER-B)

   Reverse LSP (LER-B, LSR-3, LER-A)

   Scenario 1, Fault on LER-A: LSR-1 will detect a fault on the server
   sub-layer and generate AIS/LKR message on the upstream link for
   Forward LSP (towards LSR-2).  LSR-2 will process the message and
   forward it, unaltered, upstream to LER-B.  LER-B will process the
   message, set the RDI-Flag and forward it on the associated Reverse
   LSP.  Because the RDI-Flag is set, LSR-3 does not need to process the
   message as the fault is not on the Reverse LSP and forwards it,



Mishra, et al.            Expires May 25, 2018                  [Page 3]

Internet-Draft               MPLS FM OAM RDI               November 2017


   unaltered, towards LER-A.  LER-A, if it receives the message (the
   fault may only be on the forward LSP on LER-A) processes the message
   and discard it (RDI-Flag set received on Reverse LSP indicates the
   fault is on the Forward LSP, and vice-versa).  When the fault clears,
   LSR-1 will issue new set of AIS/LKR messages to clear the previous
   fault condition.  This message is also propagated using the previous
   RDI logic to coordinate fault clear on the Reverse LSP.

   Scenario 2, Link fault or LSR fault on Forward LSP: Same logic as
   fault on LER-A.

3.2.  RDI Operation in Co-routed Bidirectional LSPs

   RDI is not a required mechanism in co-routed bidirectional LSPs as
   MPLS LSx on either direction of the fault will generate MPLS FM OAM
   messages and the fault is propagated to both LERs.

4.  IANA Requirements

   None.

5.  Security Consideration

   No additional security impact because of addition of RDI-Flag in MPLS
   FM OAM messages.

6.  Acknowledgements

7.  References

7.1.  Normative References

   [RFC5921]  Bocci, M., Ed., Bryant, S., Ed., Frost, D., Ed., Levrau,
              L., and L. Berger, "A Framework for MPLS in Transport
              Networks", RFC 5921, DOI 10.17487/RFC5921, July 2010,
              <https://www.rfc-editor.org/info/rfc5921>.

   [RFC6427]  Swallow, G., Ed., Fulignoli, A., Ed., Vigoureux, M., Ed.,
              Boutros, S., and D. Ward, "MPLS Fault Management
              Operations, Administration, and Maintenance (OAM)",
              RFC 6427, DOI 10.17487/RFC6427, November 2011,
              <https://www.rfc-editor.org/info/rfc6427>.

7.2.  Informative References

   [RFC5880]  Katz, D. and D. Ward, "Bidirectional Forwarding Detection
              (BFD)", RFC 5880, DOI 10.17487/RFC5880, June 2010,
              <https://www.rfc-editor.org/info/rfc5880>.



Mishra, et al.            Expires May 25, 2018                  [Page 4]

Internet-Draft               MPLS FM OAM RDI               November 2017


Authors' Addresses

   Ashesh Mishra
   O3b Networks
   USA

   Email: mishra.ashesh@outlook.com


   Mahesh Jethanandani
   USA

   Email: mjethanandani@gmail.com


   Ankur Saxena
   Ciena Corporation
   3939 North 1st Street
   San Jose, CA  95134
   USA

   Email: ankurpsaxena@gmail.com





























Mishra, et al.            Expires May 25, 2018                  [Page 5]
