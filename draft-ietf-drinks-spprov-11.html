<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Session Peering Provisioning Protocol Data Model</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Protocol High Level Design">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Protocol Data Model">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Time Value">
<link href="#rfc.section.4" rel="Chapter" title="4 Transport Protocol Requirements">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Connection Oriented">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Request and Response Model">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Connection Lifetime">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Authentication">
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 Authorization">
<link href="#rfc.section.4.6" rel="Chapter" title="4.6 Confidentiality and Integrity">
<link href="#rfc.section.4.7" rel="Chapter" title="4.7 Near Real Time">
<link href="#rfc.section.4.8" rel="Chapter" title="4.8 Request and Response Sizes">
<link href="#rfc.section.4.9" rel="Chapter" title="4.9 Request and Response Correlation">
<link href="#rfc.section.4.10" rel="Chapter" title="4.10 Request Acknowledgement">
<link href="#rfc.section.4.11" rel="Chapter" title="4.11 Mandatory Transport">
<link href="#rfc.section.5" rel="Chapter" title="5 Base Protocol Data Structures">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Basic Object Type and Organization Identifiers">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Object Key Type">
<link href="#rfc.section.6" rel="Chapter" title="6 Protocol Data Model Objects">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Destination Group">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Public Identifier">
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 Route Group">
<link href="#rfc.section.6.4" rel="Chapter" title="6.4 Route Record">
<link href="#rfc.section.6.5" rel="Chapter" title="6.5 Route Group Offer">
<link href="#rfc.section.6.6" rel="Chapter" title="6.6 Egress Route">
<link href="#rfc.section.7" rel="Chapter" title="7 XML Considerations">
<link href="#rfc.section.7.1" rel="Chapter" title="7.1 Namespaces">
<link href="#rfc.section.7.2" rel="Chapter" title="7.2 Versioning and Character Encoding">
<link href="#rfc.section.8" rel="Chapter" title="8 Security Considerations">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA Considerations">
<link href="#rfc.section.10" rel="Chapter" title="10 Formal Specification">
<link href="#rfc.section.11" rel="Chapter" title="11 Acknowledgments">
<link href="#rfc.references" rel="Chapter" title="12 References">
<link href="#rfc.references.1" rel="Chapter" title="12.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="12.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document specifies the data model and the overall structure for a protocol to provision session establishment data into Session Data Registries and SIP Service Provider data stores. The protocol is called the Session Peering Provisioning Protocol (SPPP).  The provisioned data is typically used by network elements for session peering. " />
  <meta name="description" content="This document specifies the data model and the overall structure for a protocol to provision session establishment data into Session Data Registries and SIP Service Provider data stores. The protocol is called the Session Peering Provisioning Protocol (SPPP).  The provisioned data is typically used by network elements for session peering. " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">DRINKS</td>
<td class="right">J-F.M. Mule</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">CableLabs</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">K.C. Cartwright</td>
</tr>
<tr>
<td class="left">Expires: May 03, 2012</td>
<td class="right">TNS</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">S.A. Ali</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">NeuStar</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">A.M. Mayrhofer</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">enum.at GmbH</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 31, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Session Peering Provisioning Protocol Data Model<br />
  <span class="filename">draft-ietf-drinks-spprov-11</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document specifies the data model and the overall structure for a protocol to provision session establishment data into Session Data Registries and SIP Service Provider data stores. The protocol is called the Session Peering Provisioning Protocol (SPPP).  The provisioned data is typically used by network elements for session peering. </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 03, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Protocol High Level Design</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Protocol Data Model</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Time Value</a>
</li>
<li>4.   <a href="#rfc.section.4">Transport Protocol Requirements</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Connection Oriented</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Request and Response Model</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Connection Lifetime</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Authentication</a>
</li>
<li>4.5.   <a href="#rfc.section.4.5">Authorization</a>
</li>
<li>4.6.   <a href="#rfc.section.4.6">Confidentiality and Integrity</a>
</li>
<li>4.7.   <a href="#rfc.section.4.7">Near Real Time</a>
</li>
<li>4.8.   <a href="#rfc.section.4.8">Request and Response Sizes</a>
</li>
<li>4.9.   <a href="#rfc.section.4.9">Request and Response Correlation</a>
</li>
<li>4.10.   <a href="#rfc.section.4.10">Request Acknowledgement</a>
</li>
<li>4.11.   <a href="#rfc.section.4.11">Mandatory Transport</a>
</li>
<li>5.   <a href="#rfc.section.5">Base Protocol Data Structures</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Basic Object Type and Organization Identifiers</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Object Key Type</a>
</li>
<li>6.   <a href="#rfc.section.6">Protocol Data Model Objects</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Destination Group</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Public Identifier</a>
</li>
<li>6.3.   <a href="#rfc.section.6.3">Route Group</a>
</li>
<li>6.4.   <a href="#rfc.section.6.4">Route Record</a>
</li>
<li>6.5.   <a href="#rfc.section.6.5">Route Group Offer</a>
</li>
<li>6.6.   <a href="#rfc.section.6.6">Egress Route</a>
</li>
<li>7.   <a href="#rfc.section.7">XML Considerations</a>
</li>
<li>7.1.   <a href="#rfc.section.7.1">Namespaces</a>
</li>
<li>7.2.   <a href="#rfc.section.7.2">Versioning and Character Encoding</a>
</li>
<li>8.   <a href="#rfc.section.8">Security Considerations</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA Considerations</a>
</li>
<li>10.   <a href="#rfc.section.10">Formal Specification</a>
</li>
<li>11.   <a href="#rfc.section.11">Acknowledgments</a>
</li>
<li>12.   <a href="#rfc.references">References</a>
</li>
<li>12.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>12.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">Service providers and enterprises use registries to make session routing decisions for Voice over IP, SMS and MMS traffic exchanges. This document is narrowly focused on the provisioning protocol for these registries. This protocol prescribes a way for an entity to provision session-related data into a registry. The data being provisioned can be optionally shared with other participating peering entities.  The requirements and use cases driving this protocol have been documented in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>. The reader is expected to be familiar with the terminology defined in the previously mentioned document. <br><br> Three types of provisioning flows have been described in the use case document: client to registry provisioning, registry to local data repository and registry to registry. This document addresses client to registry aspect to fulfill the need to provision Session Establishment Data (SED). The protocol that supports flow of messages to facilitate client to registry provisioning is referred to as Session Peering Provisioning Protocol (SPPP).</p>
<p id="rfc.section.1.p.2">Please note that the role of the "client" and the "server" only applies to the connection, and those roles are not related in any way to the type of entity that participates in a protocol exchange. For example, a registry might also include a "client" when such a registry initiates a connection (for example, for data distribution to SSP). </p>
<div id="#rfc.figure.1"></div>
<div id="#RegFlows"></div>
<pre>
            
*--------*               *------------*               *------------*
|        | (1). Client   |            | (3).Registry  |            |
| Client | ------------&gt; |  Registry  |&lt;-------------&gt;|  Registry  | 
|        |   to Registry |            |  to Registry  |            |
*--------*               *------------*               *------------*
                              /  \                          \
                             /    \                          \
                            /      \                          \
                           /        \                          v
                          /          \                         ...
                         /            \
                        / (2). Distrib \
                       / Registry data  \
                      /  to local data   \
                     V      store         V
                    +----------+       +----------+
                    |Local Data|       |Local Data|
                    |Repository|       |Repository|
                    +----------+       +----------+
                       
          </pre>
<p></p>

<p>Three Registry Provisioning Flows </p>
<p id="rfc.section.1.p.4">The data provisioned for session establishment is typically used by various downstream SIP signaling systems to route a call to the next hop associated with the called domain. These systems typically use a local data store ("Local Data Repository") as their source of session routing information.  More specifically, the SED data is the set of parameters that the outgoing signaling path border elements (SBEs) need to initiate the session. See <a href="#RFC5486">[RFC5486]</a> for more details. <br><br> A "terminating" SIP Service Provider (SSP) provisions SED into the registry to be selectively shared with other peer SSPs. Subsequently, a registry may distribute the provisioned data into local data repositories used for look-up queries (identifier -&gt; URI) or for lookup and location resolution (identifier -&gt; URI -&gt; ingress SBE of terminating SSP). In some cases, the registry may additionally offer a central query resolution service (not shown in the above figure). </p>
<p id="rfc.section.1.p.5">A key requirement for the SPPP protocol is to be able to accommodate two basic deployment scenarios: </p>

<ol>
<li>A resolution system returns a Look-Up Function (LUF) that comprises of the target domain to assist in call routing (as described in <a href="#RFC5486">[RFC5486]</a>). In this case, the querying entity may use other means to perform the Location Routing Function (LRF) which in turn helps determine the actual location of the Signaling Function in that domain. </li>
<li>A resolution system returns both a Look-Up function (LUF) and Location Routing Function (LRF) to locate the SED data fully. </li>
</ol>

<p> </p>
<p id="rfc.section.1.p.6">In terms of protocol design, SPPP is agnostic to the transport. This document includes the specification of the data model and identifies, but does not specify, the means to enable protocol operations within a request and response structure.  That aspcect of the specificaiton has been delegated to the "transport" specification for the protocol.  To encourage interoperability, the protocol supports extensibility aspects. </p>
<p id="rfc.section.1.p.7">Transport requirements are provided in this document to help with the selection of the optimum transport mechanism. (<a href="#I-D.ietf-drinks-sppp-over-soap">[I-D.ietf-drinks-sppp-over-soap]</a>) identifies a SOAP transport mechanism for SPPP. </p>
<p id="rfc.section.1.p.8">This document is organized as follows: </p>

<ul>
<li>
<a href="#terminology">Section 2</a> provides the terminology; </li>
<li>
<a href="#highleveldesign">Section 3</a> provides an overview of SPPP, including the functional entities and data model; </li>
<li>
<a href="#transportreq">Section 4</a> specifies requirements for SPPP transport protocols; </li>
<li>
<a href="#basicdatastructures">Section 5</a> describes the base protocol data structures, the generic response codes and messages, and the basic object type most first class objects extend from;</li>
<li>
<a href="#protocolDataModelObjects">Section 6</a> detailed descriptoins of the data model object specifications;</li>
<li>
<a href="#xmlconsiderations">Section 7</a> defines XML considerations that XML parsers must meet to conform to this specification; </li>
<li>
<a href="#formalspecification">Section 10</a> normatively defines the SPPP protocol using its XML Schema Definition.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#terminology" id="terminology">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>. </p>
<p id="rfc.section.2.p.2">This document reuses terms from <a href="#RFC3261">[RFC3261]</a>, <a href="#RFC5486">[RFC5486]</a>, use cases and requirements documented in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a> and the ENUM Validation Architecture <a href="#RFC4725">[RFC4725]</a>. </p>
<p id="rfc.section.2.p.3">In addition, this document specifies the following additional terms: <br><br> </p>

<dl>
<dt>SPPP: </dt>
<dd style="margin-left: 8">Session Peering Provisioning Protocol, the protocol used to provision data into a Registry (see arrow labeled "1." in Figure 1 of <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>). It is the primary scope of this document. <br><br> </dd>
<dt>SPDP: </dt>
<dd style="margin-left: 8">Session Peering Distribution Protocol, the protocol used to distribute data to Local Data Repository (see arrow labeled "2." in Figure 1 of <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>).  <br><br> </dd>
<dt>Client: </dt>
<dd style="margin-left: 8">An application that supports an SPPP client; it is sometimes referred to as a "registry client". <br><br> </dd>
<dt>Registry: </dt>
<dd style="margin-left: 8">The Registry operates a master database of Session Establishment Data for one or more Registrants. <br><br>A Registry acts as an SPPP server. <br><br> </dd>
<dt>Registrant: </dt>
<dd style="margin-left: 8">In this document we extend the definition of a Registrant based on <a href="#RFC4725">[RFC4725]</a>. The Registrant is the end-user, the person or organization that is the "holder" of the Session Establishment Data being provisioned into the Registry by a Registrar.  For example, in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>, a Registrant is pictured as a SIP Service Provider in Figure 2. <br><br> Within the confines of a Registry, a Registrant is uniquely identified by a well-known ID.<br><br> </dd>
<dt>Registrar: </dt>
<dd style="margin-left: 8">In this document we extend the definition of a Registrar from <a href="#RFC4725">[RFC4725]</a>. A Registrar is an entity that performs provisioning operations on behalf of a Registrant by interacting with the Registry via SPPP operations.  In other words the Registrar is the SPPP Client.  The Registrar and Registrant roles are logically separate to allow, but not require, a single Registrar to perform provisioning operations on behalf of more than one Registrant.  </dd>
<dt>Peering Organization: </dt>
<dd style="margin-left: 8">A Peering Organization is an entity to which a Registrant's Route Groups are made visible using the operations of SPPP.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#highleveldesign" id="highleveldesign">Protocol High Level Design</a>
</h1>
<p id="rfc.section.3.p.1">This section introduces the structure of the data model and provides the information framework for the SPPP. An overview of the protocol operations is first provided with a typical deployment scenario. The data model is then defined along with all the objects manipulated by the protocol and their relationships. </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#datamodel" id="datamodel">Protocol Data Model</a>
</h1>
<p id="rfc.section.3.1.p.1">The data model illustrated and described in <a href="#SPPP_datamodel">Figure 2</a> defines the logical objects and the relationships between these objects that the SPPP protocol supports. SPPP defines the protocol operations through which an SPPP client populates a registry with these logical objects. Various clients belonging to different registrars may use the protocol for populating the registry's data. </p>
<p id="rfc.section.3.1.p.2">The logical structure presented below is consistent with the terminology and requirements defined in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>. </p>
<div id="#rfc.figure.2"></div>
<div id="#SPPP_datamodel"></div>
<p></p>
<pre>
+-------------+      +------------------+
| all object  |      |Organization:     |
| types       |-----&gt;|orgId             |
+------+------+      |                  |
 All objects are     +------------------+
 associated with an      ^
 organization to         |A Route Group is
 identify the            |associated with        +-----[abstract]-+
 object's registrant	 |zero or more Peering   | Route Record:  |
                         |Organizations          |  rrName,       |
                         |                       |  priority,     |
                +--------+--------------+        |  extension     |
                |Route Group:           |-------&gt;|                |
                |  rant,                |        +----------------+
                |  rgName,              |            ^
                |  destGrpRef,          |            |
                |  isInSvc,             |            |Various types
                |  rrRef,               |            |of Route
                |  peeringOrg,          |            |Records...
                |  sourceIdent,         |      +-----+------------+
                |  priority,            |      |        |         |
                |  extension            |   +----+  +-------+ +----+    
                +-----------------------+   | URI|  | NAPTR | | NS | 
                   |                        +----+  +-------+ +----+
                   |
                   |              +----------[abstract]-+          
                   |              |Public Identifier:   |
                   |              |                     |
                   |              |  rant,              |
                   v              |  publicIdentifier,  |
     +----------------------+     |  destGrpRef,        |
     | Dest Group:          |&lt;----|  rrRef,             |
     |   rant,              |     |  extension          |
     |   dgName,            |     +---------------------+
     |   extension          |                ^             
     +----------------------+                |Various types
                                             |of Public     
                                             |Identifiers...   
                          +---------+-------+------------...
                          |         |       |     |
                      +------+  +-----+  +-----+ +-----+
                      |  TN  |  | TNP |  | TNR | | RN  |
                      +------+  +-----+  +-----+ +-----+
</pre>
<p>SPPP Data Model </p>
<p id="rfc.section.3.1.p.3">The objects and attributes that comprise the data model can be described as follows (objects listed from the bottom up): </p>

<ul>
<li>Public Identifier: <br> From a broad perspective a public identifier is a well-known attribute that is used as the key to perform resolution lookups. Within the context of SPPP, a public identifier object can be a telephone number, a range of telephone numbers, a PSTN Routing Number (RN), or a TN prefix. <br><br> An SPPP Public Identifier is associated with a Destination Group to create a logical grouping of Public Identifiers that share a common set of Routes. <br><br> A TN Public Identifier may optionally be associated with zero or more individual Route Records. This ability for a Public Identifier to be directly associated with a set of Route Records (e.g. target URI), as opposed to being associated with a Destination Group, supports the use cases where the target URI contains data specifically tailored to an individual TN Public Identifier. </li>
<li>Destination Group: <br> A named collection of zero or more Public Identifiers that can be associated with one or more Route Groups for the purpose of facilitating the management of their common routing information. </li>
<li>Route Group: <br> A Route Group contains a set of Route Record references, a set of Destination Group references, and a set of peering organization identifiers.  This is used to establish a three part relationships between a set of Public Identifiers, the routing information (SED) shared across the Public Identifiers, and the list of peering organizations whose query responses from the resolution system may include the routing information from a given route group. In addition, the sourceIdent element within a Route Group, in concert with the set of peering organization identifiers, enables fine-grained source based routing.  For further details about the Route Group and source based routing, refer to the definitions and descriptions of the Route Group operations found later in this document. </li>
<li>Route Record: <br> A Route Record contains the data that a resolution system returns in response to a successful query for a Public Identifier.  Route Records are generally associated with a Route Group when the SED within is not specific to a Public Identifier.  <br> To support the use cases defined in <a href="#I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</a>, SPPP defines three type of Route Records: URIType, NAPTRType, and NSType. These Route Records extend the abstract type RteRecType and inherit the common attribute 'priority' that is meant for setting precedence across the route records defined within a Route Group in a protocol agnostic fashion. </li>
<li>Organization: <br> An Organization is an entity that may fulfill the role of a registrant or a peering organization.  All SPPP objects are associated with an organization identifier to identify each object's registrant, while tracking the identity of the registrar that provisioned each SPPP object is left as a matter of policy for an SPPP implementation.  A Route Group object is also associated with a set of zero or more organization identifiers that identify the peering organization(s) whose resolution query responses may include the routing information (SED) defined in the Route Records within that Route Group. A peering organization is an entity that the registrant intends to share the SED data with. A route group SPPP object is associated with a set of zero or more organization identifiers that identify the peering organizations whose resolution query responses may include the routing information (SED) defined in the route records within that route group.</li>
</ul>

<p> </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#timestamp" id="timestamp">Time Value</a>
</h1>
<p id="rfc.section.3.2.p.1">Some SPPP request and response messages include time value(s) defined as type xs:dateTime, a built-in W3C XML Schema Datatype. Use of unqualified local time value is discouraged as it can lead to interoperability issues. The value of time attribute MUST BE expressed in Coordinated Universal Time (UTC) format without the timezone digits.</p>
<p id="rfc.section.3.2.p.2">"2010-05-30T09:30:10Z" is an example of an acceptable time value for use in SPPP messages. "2010-05-30T06:30:10+3:00" is a valid UTC time, but it is not approved for use in SPPP messages.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#transportreq" id="transportreq">Transport Protocol Requirements</a>
</h1>
<p id="rfc.section.4.p.1">This section provides requirements for transport protocols suitable for SPPP. More specifically, this section specifies the services, features, and assumptions that SPPP delegates to the chosen transport and envelope technologies. </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#transpconnreq" id="transpconnreq">Connection Oriented</a>
</h1>
<p id="rfc.section.4.1.p.1">The SPPP follows a model where a client establishes a connection to a server in order to further exchange SPPP messages over such point-to-point connection. A transport protocol for SPPP MUST therefore be connection oriented. </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#requestresponse" id="requestresponse">Request and Response Model</a>
</h1>
<p id="rfc.section.4.2.p.1">Provisioning operations in SPPP follow the request-response model, where a client sends a request message to initiate a transaction and the server responds with a response.  Multiple subsequent request-response exchanges MAY be performed over a single persistent connection. </p>
<p id="rfc.section.4.2.p.2">Therefore, a transport protocol for SPPP MUST follow the request-response model by allowing a response to be sent to the request initiator.</p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#connectionlength" id="connectionlength">Connection Lifetime</a>
</h1>
<p id="rfc.section.4.3.p.1">Some use cases involve provisioning a single request to a network element. Connections supporting such provisioning requests might be short-lived, and may be established only on demand. Other use cases involve either provisioning a large dataset, or a constant stream of small updates, either of which would likely require long-lived connections. </p>
<p id="rfc.section.4.3.p.2">Therefore, a protocol suitable for SPPP SHOULD be able to support both short-lived as well as long-lived connections. </p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> <a href="#authentication" id="authentication">Authentication</a>
</h1>
<p id="rfc.section.4.4.p.1">All SPPP objects are associated with a registrant identifier. SPPP Clients provisions SPPP objects on behalf of registrants.  An authenticated SPP Client is a registrar.  Therefore, the SPPP transport protocol MUST provide means for an SPPP server to authenticate an SPPP Client.  </p>
<h1 id="rfc.section.4.5">
<a href="#rfc.section.4.5">4.5.</a> <a href="#authorization" id="authorization">Authorization</a>
</h1>
<p id="rfc.section.4.5.p.1">After successful authentication of the SPPP client as a registrar the registry performs authorization checks to determine if the registrar is authorized to act on behalf of the Registrant whose identifier is included in the SPPP request.  Refer to the Security Considerations section for further guidance.  </p>
<h1 id="rfc.section.4.6">
<a href="#rfc.section.4.6">4.6.</a> <a href="#confidentiality" id="confidentiality">Confidentiality and Integrity</a>
</h1>
<p id="rfc.section.4.6.p.1">In some deployments, the SPPP objects that an SPPP registry manages can be private in nature.  As a result it MAY NOT be appropriate to for transmission in plain text over a connection to the SPPP registry. Therefore, the transport protocol SHOULD provide means for end-to-end encryption between the SPPP client and server.</p>
<p id="rfc.section.4.6.p.2">For some SPPP implementations, it may be acceptable for the data to be transmitted in plain text, but the failure to detect a change in data after it leaves the SPPP client and before it is received at the server, either by accident or with a malicious intent, will adversely affect the stability and integrity of the registry. Therefore, the transport protocol SHOULD provide means for data integrity protection.</p>
<h1 id="rfc.section.4.7">
<a href="#rfc.section.4.7">4.7.</a> <a href="#timing" id="timing">Near Real Time</a>
</h1>
<p id="rfc.section.4.7.p.1">Many use cases require near real-time responses from the server. Therefore, a DRINKS transport protocol MUST support near real-time response to requests submitted by the client.  </p>
<h1 id="rfc.section.4.8">
<a href="#rfc.section.4.8">4.8.</a> <a href="#respsizes" id="respsizes">Request and Response Sizes</a>
</h1>
<p id="rfc.section.4.8.p.1">Use of SPPP may involve simple updates that may consist of small number of bytes, such as, update of a single public identifier. Other provisioning operations may constitute large number of datasets as in adding millions records to a registry. As a result, a suitable transport protocol for SPPP SHOULD accommodate datasets of various sizes.</p>
<h1 id="rfc.section.4.9">
<a href="#rfc.section.4.9">4.9.</a> <a href="#reqorder" id="reqorder">Request and Response Correlation</a>
</h1>
<p id="rfc.section.4.9.p.1">A transport protocol suitable for SPPP MUST allow responses to be correlated with requests. </p>
<h1 id="rfc.section.4.10">
<a href="#rfc.section.4.10">4.10.</a> <a href="#ack" id="ack">Request Acknowledgement</a>
</h1>
<p id="rfc.section.4.10.p.1">Data transported in the SPPP is likely crucial for the operation of the communication network that is being provisioned. A SPPP client responsible for provisioning SED to the registry has a need to know if the submitted requests have been processed correctly.</p>
<p id="rfc.section.4.10.p.2">Failed transactions can lead to situations where a subset of public identifiers or even SSPs might not be reachable, or the provisioning state of the network is inconsistent. </p>
<p id="rfc.section.4.10.p.3">Therefore, a transport protocol for SPPP MUST provide a response for each request, so that a client can identify whether a request succeeded or failed. </p>
<h1 id="rfc.section.4.11">
<a href="#rfc.section.4.11">4.11.</a> <a href="#mandatorytransport" id="mandatorytransport">Mandatory Transport</a>
</h1>
<p id="rfc.section.4.11.p.1">At the time of this writing, a choice of transport protocol has been provided in <a href="#I-D.ietf-drinks-sppp-over-soap">[I-D.ietf-drinks-sppp-over-soap]</a>. To encourage interoperability, the SPPP server MUST provide support for this transport protocol. With time, it is possible that other transport layer choices may surface that agree with the requirements discussed above.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#basicdatastructures" id="basicdatastructures">Base Protocol Data Structures</a>
</h1>
<p id="rfc.section.5.p.1">SPPP contains some common data structures for most of the supported object types.  This section describes these common data structures.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#BasicObjType" id="BasicObjType">Basic Object Type and Organization Identifiers</a>
</h1>
<p id="rfc.section.5.1.p.1">This section introduces the basic object type that most first class objects derive from. </p>
<p id="rfc.section.5.1.p.2">All first class objects extend the basic object type BasicObjType that contains the identifier of the registrant organization that owns this object, the identifier of the registrar organization that created this object, the date and time that the object was created by the server, and the date and time that the object was last modified.</p>
<div id="#rfc.figure.3"></div>
<pre>
              
	&lt;complexType name="BasicObjType" abstract="true"&gt;
		&lt;sequence&gt;
			&lt;element name="rant" type="spppb:OrgIdType"/&gt;
			&lt;element name="rar" type="spppb:OrgIdType"/&gt;
			&lt;element name="cDate" type="dateTime" 
			   minOccurs="0"/&gt;
			&lt;element name="mDate" type="dateTime" 
			   minOccurs="0"/&gt;
			&lt;element name="ext" type="spppb:ExtAnyType" 
			   minOccurs="0"/&gt;
		&lt;/sequence&gt;
	&lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.5.1.p.4">The identifiers used for registrants (rant), registrars (rar), and peering organizations (peeringOrg) are instances of OrgIdType. The OrgIdType is defined as a string and all OrgIdType instances SHOULD follow the textual convention: "namespace:value" (for example "iana-en:32473").  See the IANA Consideration section for more details.  </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> <a href="#ObjKeyType" id="ObjKeyType">Object Key Type</a>
</h1>
<p id="rfc.section.5.2.p.1">The SPPP data model contains some object relationships.  In some cases these object relationships are established by embedding the unique identity of the related object inside the relating object.  The abstract type called ObjKeyType is where this unique identity is housed.  Because this objec type is abstract, it MUST be specifid in a concrete form in any conforming SPPP "transport specification".  This may also be used in query/getter operaitons.</p>
<div id="#rfc.figure.4"></div>
<pre>
              

		&lt;complexType name="ObjKeyType" abstract="true"&gt;
			&lt;annotation&gt;
				&lt;documentation&gt;
				  -- Generic type that represents the 
				  key for various objects in SPPP. --
				&lt;/documentation&gt;
			&lt;/annotation&gt;
		&lt;/complexType&gt;
                        
            </pre>
<p></p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#protocolDataModelObjects" id="protocolDataModelObjects">Protocol Data Model Objects</a>
</h1>
<p id="rfc.section.6.p.1">This section provides a description of the specification of each supported data model object (the nouns) and identifies the commands (the verbs) that MUST be supported for each data model object. However, the specification of the data structures necessary to support each command is delegated to the transport specification.</p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> <a href="#destGroup" id="destGroup">Destination Group</a>
</h1>
<p id="rfc.section.6.1.p.1">As described in the introductory sections, a Destination Group represents a set of Public Identifiers with common routing information. The transport protocol MUST support the ability to Create, Modify, Get, and Delete Destination Groups.  The DestGrpType object structure is defined as follows: </p>
<div id="#rfc.figure.5"></div>
<pre>
              
  &lt;complexType name="DestGrpType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
      &lt;sequence&gt;
         &lt;element name="dgName" type="spppb:ObjNameType"/&gt;
      &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.1.p.3">The DestGrpType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType that contains the ID of the registrant organization that owns this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passed in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>dgName: The character string that contains the name of the Destination Group. This uniquely identifies this object within the context of the registrant ID (a child element of the base element as described above). </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> <a href="#pubId" id="pubId">Public Identifier</a>
</h1>
<p id="rfc.section.6.2.p.1">A Public Identifier is the search key used for locating the session establishment data (SED).  In many cases, a Public Identifier is attributed to the end user who has a retail relationship with the service provider or registrant organization.  SPPP supports the notion of the carrier-of-record as defined in <a href="#RFC5067">[RFC5067]</a>.  Therefore, the registrant under whom the Public Identity is being created can optionally claim to be a carrier-of-record.</p>
<p id="rfc.section.6.2.p.2">SPPP identifies two types of Public Identifiers: telephone numbers (TN), and the routing numbers (RN). SPPP provides structures to manage a single TN, a contiguous range of TNs, and a TN prefix.   The transport protocol MUST support the ability to Create, Modify, Get, and Delete Public Identifiers.</p>
<p id="rfc.section.6.2.p.3">The abstract XML schema type definition PubIDType is a generalization for the concrete the Public Identifier schema types. PubIDType element 'dgName' represents the name of the destination group that a given Public Identifier is a member of.  Because a Destination Group is uniquely identified by its composite business key, which is comprised of its registrant ID, rantId, and its name, dgName, the Public Identity's containing Destination Group is identified by the Public Identity's dgName element and the Public Identity's registrant ID, rantId, element.  The PubIDType object structure is defined as follows:</p>
<div id="#rfc.figure.6"></div>
<pre>
              
  &lt;complexType name="PubIdType" abstract="true"&gt;
    &lt;complexContent&gt;
     &lt;extension base="spppb:BasicObjType"&gt;
       &lt;sequence&gt;
         &lt;element name="dgName" type="spppb:ObjNameType" 
            minOccurs="0"/&gt;
       &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
               
           </pre>
<p></p>
<p id="rfc.section.6.2.p.5">A Public Identifier may be provisioned as a member of a Destination Group or provisioned outside of a Destination Group.  A Public Identifier that is provisioned as a member of a Destination Group is intended to be associated with its SED through the Route Group(s) that are associated with its containing Destination Group.  A Public Identifier that is not provisioned as a member of a Destination Group is intended to be associated with its SED through the Route Records that are directly associated with the Public Identifier.</p>
<p id="rfc.section.6.2.p.6">A telephone number is provisioned using the TNType, an extension of PubIDType. Each TNType object is uniquely identified by the combination of its &lt;tn&gt; element, and the unique key of its parent Destination Group (dgName and rantId).  In other words a given telephone number string may exist within one or more Destination Groups, but must not exist more than once within a Destination Group.  TNType is defined as follows: </p>
<div id="#rfc.figure.7"></div>
<pre>
                
    &lt;complexType name="TNType"&gt;
	  &lt;complexContent&gt;
	    &lt;extension base="spppb:PubIdType"&gt;
		  &lt;sequence&gt;
		    &lt;element name="tn" type="spppb:NumberType"/&gt;
		    &lt;element name="rrRef" type="spppb:RteRecRefType" 
			  minOccurs="0" maxOccurs="unbounded"/&gt;
		    &lt;element name="corInfo" type="spppb:CORInfoType" 
			  minOccurs="0"/&gt;
		  &lt;/sequence&gt;
	    &lt;/extension&gt;
	   &lt;/complexContent&gt;
	&lt;/complexType&gt;
	
	&lt;simpleType name="NumberType"&gt;
		&lt;restriction base="token"&gt;
			&lt;maxLength value="20"/&gt;
			&lt;pattern value="\+?\d\d*"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;

               
              </pre>
<p></p>
<p id="rfc.section.6.2.p.8">TNType consists of the following attributes: </p>

<ul>
<li>tn: Telephone number to be added to the registry.</li>
<li>rrRef: Optional reference to route records that are directly associated with the TN Public Identifier. Following the SPPP data model, the route record could be a protocol agnostic URIType or another type.</li>
<li>corInfo: corInfo is an optional parameter of type CORInfoType that allows the registrant organization to set forth a claim to be the carrier-of-record (see <a href="#RFC5067">[RFC5067]</a>).  This is done by setting the value of &lt;corClaim&gt; element of the CORInfoType object structure to "true". The other two parameters of the CORInfoType, &lt;cor&gt; and &lt;corDate&gt; are set by the registry to describe the outcome of the carrier-of-record claim by the registrant.  In general, inclusion of &lt;corInfo&gt; parameter is useful if the registry has the authority information, such as, the number portability data, etc., in order to qualify whether the registrant claim can be satisfied. If the carrier-of-record claim disagrees with the authority data in the registry, whether the TN add operation fails or not is a matter of policy and it is beyond the scope of this document. In the response message &lt;spppUpdateResponse&gt;, the SPPP server must include the &lt;cor&gt; parameter of the &lt;corInfo&gt; element to let the registrant know the outcome of the claim.</li>
</ul>

<p> </p>
<p id="rfc.section.6.2.p.9">A routing number is provisioned using the RNType, an extension of PubIDType. SSPs that possess the number portability data may be able to leverage the RN search key to discover the ingress routes for session establishment.  Therefore, the registrant organization can add the RN and associate it with the appropriate destination group to share the route information.  Each RNType object is uniquely identified by the combination of its &lt;rn&gt; element, and the unique key of its parent Destination Group (dgName and rantId).  In other words a given routing number string may exist within one or more Destination Groups, but must not exist more than once within a Destination Group.  RNType is defined as follows: </p>
<div id="#rfc.figure.8"></div>
<pre>
                
&lt;complexType name="RNType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:PubIdType"&gt;
	  &lt;sequence&gt;
		&lt;element name="rn" type="spppb:NumberType"/&gt;
		&lt;element name="corInfo" type="spppb:CORInfoType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
                 
              </pre>
<p></p>
<p id="rfc.section.6.2.p.11">RNType has the following attributes: </p>

<ul>
<li>rn: Routing Number used as the search key.</li>
<li>corInfo: Optional &lt;corInfo&gt; element of type CORInfoType.</li>
</ul>

<p> </p>
<p id="rfc.section.6.2.p.12">TNRType structure is used to provision a contiguous range of telephone numbers. The object definition requires a starting TN and an ending TN that together define the span of the TN range.  Use of TNRType is particularly useful when expressing a TN range that does not include all the TNs within a TN block or prefix. The TNRType definition accommodates the open number plan as well such that the TNs that fall between the start and end TN range may include TNs with different length variance. Whether the registry can accommodate the open number plan semantics is a matter of policy and is beyond the scope of this document.  Each TNRType object is uniquely identified by the combination of its &lt;startTn&gt; and &lt;endTn&gt; elements, and the unique key of its parent Destination Group (dgName and rantId).  In other words a given TN Range may exist within one or more Destination Groups, but must not exist more than once within a Destination Group.  TNRType object structure definition is as follows:</p>
<div id="#rfc.figure.9"></div>
<pre>
                
&lt;complexType name="TNRType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:PubIdType"&gt;
	  &lt;sequence&gt;
		&lt;element name="startTn" type="spppb:NumberType"/&gt;
		&lt;element name="endTn" type="spppb:NumberType"/&gt;
		&lt;element name="corInfo" type="spppb:CORInfoType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
               
              </pre>
<p></p>
<p id="rfc.section.6.2.p.14">TNRType has the following attributes: </p>

<ul>
<li>startTn: Starting TN in the TN range</li>
<li>endTn: The last TN in the TN range</li>
<li>corInfo: Optional &lt;corInfo&gt; element of type CORInfoType</li>
</ul>

<p> </p>
<p id="rfc.section.6.2.p.15">In some cases, it is useful to describe a set of TNs with the help of the first few digits of the telephone number, also referred to as the telephone number prefix or a block. A given TN prefix may include TNs with different length variance in support of open number plan. Once again, whether the registry supports the open number plan semantics is a matter of policy and it is beyond the scope of this document. The TNPType data structure is used to provision a TN prefix.  Each TNPType object is uniquely identified by the combination of its &lt;tnPrefix&gt; element, and the unique key of its parent Destination Group (dgName and rantId).  TNPType is defined as follows:</p>
<div id="#rfc.figure.10"></div>
<pre>
                
&lt;complexType name="TNPType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:PubIdType"&gt;
	  &lt;sequence&gt;
		&lt;element name="tnPrefix" type="spppb:NumberType"/&gt;
		&lt;element name="corInfo" type="spppb:CORInfoType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
               
              </pre>
<p></p>
<p id="rfc.section.6.2.p.17">TNPType consists of the following attributes: </p>

<ul>
<li>tnPrefix: The telephone number prefix</li>
<li>corInfo: Optional &lt;corInfo&gt; element of type CORInfoType.</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.3">
<a href="#rfc.section.6.3">6.3.</a> <a href="#rteGrp" id="rteGrp">Route Group</a>
</h1>
<p id="rfc.section.6.3.p.1">As described in the introductory sections, a Route Group represents a combined grouping of Route Records that define route information, Destination Groups that contain a set of Public Identifiers with common routing information, and the list of peer organizations that have access to these public identifiers using this route information. It is this indirect linking of public identifiers to their route information that significantly improves the scalability and manageability of the peering data. Additions and changes to routing information are reduced to a single operation on a Route Group or Route Record , rather than millions of data updates to individual public identifier records that individually contain their peering data. The transport protocol MUST support the ability to Create, Modify, Get, and Delete Route Groups.  The RteGrpType object structure is defined as follows: </p>
<div id="#rfc.figure.11"></div>
<pre>
              
&lt;complexType name="RteGrpType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:BasicObjType"&gt;
	  &lt;sequence&gt;
		&lt;element name="rgName" type="spppb:ObjNameType"/&gt;
		&lt;element name="rrRef" type="spppb:RteRecRefType" 
		  minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;element name="dgName" type="spppb:ObjNameType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;element name="peeringOrg" type="spppb:OrgIdType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;element name="sourceIdent" 
		   type="spppb:SourceIdentType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;element name="isInSvc" type="boolean"/&gt;
		&lt;element name="priority" type="unsignedShort"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
		&lt;/sequence&gt;
	 &lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
  
 &lt;complexType name="RteRecRefType"&gt;
   &lt;sequence&gt;
     &lt;element name="rrKey" type="spppb:ObjKeyType"/&gt;
     &lt;element name="priority" type="unsignedShort"/&gt;
     &lt;element name="ext" type="spppb:ExtAnyType" 
        minOccurs="0"/&gt;
   &lt;/sequence&gt;
 &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.3.p.3">The RteGrpType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType that contains the ID of the registrant organization that owns this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passes in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>rgName: The character string that contains the name of the Route Group. It uniquely identifies this object within the context of the registrant ID (a child element of the base element as described above). </li>
<li>rrRef: Set of zero or more objects of type RteRecRefType that house the unique keys of the Route Records that the RteGrpType object refers to and their relative priority within the context of a given route group. The associated Route Records contain the routing information, sometimes called SED, associated with this Route Group.</li>
<li>dgName: Set of zero or more names of DestGrpType object instances. Each dgName name, in association with this Route Group's registrant ID, uniquely identifies a DestGrpType object instance whose public identifiers are reachable using the routing information housed in this Route Group.  An intended side affect of this is that a Route Group cannot provide routing information for a Destination Group belonging to another registrant. </li>
<li>peeringOrg: Set of zero or more peering organization IDs that have accepted an offer to receive this Route Group's information. The set of peering organizations in this list is not directly settable or modifiable using the addRteGrpsRqst operation. This set is instead controlled using the route offer and accept operations. </li>
<li>sourceIdent: Set of zero or more SourceIdentType object instances. These objects, described further below, house the source identification schemes and identifiers that are applied at resolution time as part of source based routing algorithms for the Route Group. </li>
<li>isInSvc: A boolean element that defines whether this Route Group is in service. The routing information contained in a Route Group that is in service is a candidate for inclusion in resolution responses for public identities residing in the Destination Group associated with this Route Group. The routing information contained in a Route Group that is not in service is not a candidate for inclusion in resolution responses. </li>
<li>priority: Zero or one priority value that can be used to provide a relative value weighting of one Route Group over another.  The manner in which this value is used, perhaps in conjunction with other factors, is a matter of policy.</li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.3.p.4">As described above, the Route Group contains a set of references to route record objects. A route record object is based on an abstract type: RteRecType. The concrete types that use RteRecType as an extension base are NAPTRType, NSType, and URIType. The definitions of these types are included the Route Record section of this document. </p>
<p id="rfc.section.6.3.p.5">The RteGrpType object provides support for source-based routing via the peeringOrg data element and more granular source base routing via the source identity element. The source identity element provides the ability to specify zero or more of the following in association with a given Route Group: a regular expression that is matched against the resolution client IP address, a regular expression that is matched against the root domain name(s), and/or a regular expression that is matched against the calling party URI(s).  The result will be that, after identifying the visible Route Groups whose associated Destination Group(s) contain the lookup key being queried and whose peeringOrg list contains the querying organizations organization ID, the resolution server will evaluate the characteristics of the Source URI, and Source IP address, and root domain of the lookup key being queried.  The resolution server then compares these criteria against the source identity criteria associated with the Route Groups. The routing information contained in Route Groups that have source based routing criteria will only be included in the resolution response if one or more of the criteria matches the source criteria from the resolution request.  The Source Identity data element is of type SourceIdentType, whose structure is defined as follows:</p>
<div id="#rfc.figure.12"></div>
<pre>
              
&lt;complexType name="SourceIdentType"&gt;
  &lt;sequence&gt;
	&lt;element name="sourceIdentLabel" type="token"/&gt;
	&lt;element name="sourceIdentScheme" 
	  type="spppb:SourceIdentSchemeType"/&gt;
	&lt;element name="ext" type="spppb:ExtAnyType" 
	   minOccurs="0"/&gt;
  &lt;/sequence&gt;
&lt;/complexType&gt;
  
&lt;simpleType name="SourceIdentSchemeType"&gt;
	&lt;restriction base="token"&gt;
		&lt;enumeration value="uri"/&gt;
		&lt;enumeration value="ip"/&gt;
		&lt;enumeration value="rootDomain"/&gt;
	&lt;/restriction&gt;
&lt;/simpleType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.3.p.7">The SourceIdentType object is composed of the following data elements: </p>

<ul>
<li>sourceIdentScheme: The source identification scheme that this source identification criteria applies to and that the associated sourceIdentRegex should be matched against. </li>
<li>sourceIdentRegex: The regular expression that should be used to test for a match against the portion of the resolution request that is dictated by the associated sourceIdentScheme. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.3.p.8">As with the responses to all update operations, the result of the AddRteGrpRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.6.4">
<a href="#rfc.section.6.4">6.4.</a> <a href="#rteRec" id="rteRec">Route Record</a>
</h1>
<p id="rfc.section.6.4.p.1">As described in the introductory sections, a Route Group represents a combined grouping of Route Records that define route information. However, Route Records need not be created to just serve a single Route Group.  Route Records can be created and managed to serve multiple Route Groups.  As a result, a change to the properties of a network node used for multiple routes, would necessitate just a single update operation to change the properties of that node.  The change would then be reflected in all the Route Groups whose route record set contains a reference to that node. The transport protocol MUST support the ability to Create, Modify, Get, and Delete Route Records.  The RteRecType object structure is defined as follows: </p>
<div id="#rfc.figure.13"></div>
<pre>
              
&lt;complexType name="RteRecType" abstract="true"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:BasicObjType"&gt;
   	  &lt;sequence&gt;
		&lt;element name="rrName" type="spppb:ObjNameType"/&gt;
		&lt;element name="priority" type="unsignedShort" 
		   minOccurs="0"/&gt;
  	  &lt;/sequence&gt;
    &lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.4.p.3">The RteRecType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType that contains the ID of the registrant organization that owns this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passes in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>rrName: The character string that contains the name of the Route Record. It uniquely identifies this object within the context of the registrant ID (a child element of the base element as described above). </li>
<li>priority: Zero or one priority value that can be used to provide a relative value weighting of one Route Record over another.  The manner in which this value is used, perhaps in conjunction with other factors, is a matter of policy.</li>
</ul>

<p> </p>
<p id="rfc.section.6.4.p.4">As described above, route records are based on an abstract type: RteRecType. The concrete types that use RteRecType as an extension base are NAPTRType, NSType, and URIType. The definitions of these types are included below.  The NAPTRType object is comprised of the data elements necessary for a NAPTR that contains routing information for a Route Group. The NSType object is comprised of the data elements necessary for a DNS name server that points to another DNS server that contains the desired routing information.  The NSType is relevant only when the resolution protocol is ENUM.  The URIType object is comprised of the data elements necessary to house a URI. </p>
<p id="rfc.section.6.4.p.5">The data provisioned in a registry can be leveraged for many purposes and queried using various protocols including SIP, ENUM and others. It is for this reason that a route record type offers a choice of URI and DNS resource record types. URIType fulfills the need for both SIP and ENUM protocols. When a given URIType is associated to a destination group, the user part of the replacement string &lt;uri&gt; that may require the Public Identifier cannot be preset. As a SIP Redirect, the resolution server will apply &lt;ere&gt; pattern on the input Public Identifier in the query and process the replacement string by substituting any back reference(s) in the &lt;uri&gt; to arrive at the final URI that is returned in the SIP Contact header. For an ENUM query, the resolution server will simply return the value of the &lt;ere&gt; and &lt;uri&gt; members of the URIType in the NAPTR REGEX parameter.</p>
<div id="#rfc.figure.14"></div>
<pre>
              
&lt;complexType name="NAPTRType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:RteRecType"&gt;
  	  &lt;sequence&gt;
		&lt;element name="order" type="unsignedShort"/&gt;
		&lt;element name="flags" type="spppb:FlagsType" 
		   minOccurs="0"/&gt;
		&lt;element name="svcs" type="spppb:SvcType"/&gt;
		&lt;element name="regx" type="spppb:RegexParamType" 
		   minOccurs="0"/&gt;
		&lt;element name="repl" type="spppb:ReplType" 
		   minOccurs="0"/&gt;
		&lt;element name="ttl" type="positiveInteger" 
		   minOccurs="0"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
  
&lt;complexType name="NSType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:RteRecType"&gt;
	  &lt;sequence&gt;
		&lt;element name="hostName" type="token"/&gt;
		&lt;element name="ipAddr" type="spppb:IPAddrType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;element name="ttl" type="positiveInteger" 
		   minOccurs="0"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;

&lt;complexType name="IPAddrType"&gt;
  &lt;sequence&gt;
	&lt;element name="addr" type="spppb:AddrStringType"/&gt;
	&lt;element name="ext" type="spppb:ExtAnyType" 
	   minOccurs="0"/&gt;
  &lt;/sequence&gt;
  &lt;attribute name="type" type="spppb:IPType" 
     default="v4"/&gt;
&lt;/complexType&gt;
  
 &lt;simpleType name="IPType"&gt;
   &lt;restriction base="token"&gt;
     &lt;enumeration value="IPv4"/&gt;
     &lt;enumeration value="IPv6"/&gt;
   &lt;/restriction&gt;
 &lt;/simpleType&gt;
  
&lt;complexType name="URIType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:RteRecType"&gt;
	  &lt;sequence&gt;
		&lt;element name="ere" type="token" 
		   default="^(.*)$"/&gt;
		&lt;element name="uri" type="anyURI"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
  
&lt;simpleType name="flagsType"&gt;
	&lt;restriction base="token"&gt;
		&lt;length value="1"/&gt;
		&lt;pattern value="[A-Z]|[a-z]|[0-9]"/&gt;
	&lt;/restriction&gt;
&lt;/simpleType&gt;

                        
            </pre>
<p></p>
<p id="rfc.section.6.4.p.7">The NAPTRType object is composed of the following elements: </p>

<ul>
<li>order: Order value in an ENUM NAPTR, relative to other NAPTRType objects in the same Route Group. </li>
<li>svcs: ENUM service(s) that are served by the SBE. This field's value must be of the form specified in <a href="#RFC6116">[RFC6116]</a> (e.g., E2U+pstn:sip+sip). The allowable values are a matter of policy and not limited by this protocol. </li>
<li>regx: NAPTR&#8217;s regular expression field. If this is not included then the Repl field must be included. </li>
<li>repl: NAPTR replacement field, should only be provided if the Regex field is not provided, otherwise the server will ignore it</li>
<li>ttl: Number of seconds that an addressing server may cache this NAPTR. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.4.p.8">The NSType object is composed of the following elements: </p>

<ul>
<li>hostName: Fully qualified host name of the name server. </li>
<li>ipAddr: Zero or more objects of type IpAddrType. Each object holds an IP Address and the IP Address type, IPv4 or IP v6. </li>
<li>ttl: Number of seconds that an addressing server may cache this DNS name server. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<p id="rfc.section.6.4.p.9">The URIType object is composed of the following elements: </p>

<ul>
<li>ere: The POSIX Extended Regular Expression (ere) as defined in <a href="#RFC3986">[RFC3986]</a>.  </li>
<li>uri: the URI as defined in <a href="#RFC3986">[RFC3986]</a>. In some cases, this will serve as the replacement string and it will be left to the resolution server to arrive at the final usable URI.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.6.5">
<a href="#rfc.section.6.5">6.5.</a> <a href="#rtegrpoffer" id="rtegrpoffer">Route Group Offer</a>
</h1>
<p id="rfc.section.6.5.p.1">The list of peer organizations whose resolution responses can include the routing information contained in a given Route Group is controlled by the organization to which a Route Group object belongs (its registrant), and the peer organization that submits resolution requests (a data recipient, also know as a peering organization). The registrant offers access to a Route Group by submitting a Route Group Offer.  The data recipient can then accept or reject that offer.  Not until access to a Route Group has been offered and accepted will the data recipient's organization ID be included in the peeringOrg list in a Route Group object, and that Route Group's peering information become a candidate for inclusion in the responses to the resolution requests submitted by that data recipient. The transport protocol MUST support the ability to Create, Modify, Get, Delete, Accept and Reject Route Group Offers.  The RteGrpOfferType object structure is defined as follows: </p>
<div id="#rfc.figure.15"></div>
<pre>
              
&lt;complexType name="RteGrpOfferType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:BasicObjType"&gt;
	  &lt;sequence&gt;
		&lt;element name="rteGrpOfferKey" 
		   type="spppb:RteGrpOfferKeyType"/&gt;
		&lt;element name="status" 
		   type="spppb:RteGrpOfferStatusType"/&gt;
		&lt;element name="offerDateTime" type="dateTime"/&gt;
		&lt;element name="acceptDateTime" type="dateTime" 
		   minOccurs="0"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
		&lt;/sequence&gt;
 	 &lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
  
&lt;complexType name="RteGrpOfferKeyType" abstract="true"&gt;
  &lt;annotation&gt;
	&lt;documentation&gt;
	-- Generic type that represents the key for a route
	route group offer. Must be defined in concrete form 
	in the transport specificaiton. --
   	&lt;/documentation&gt;
  &lt;/annotation&gt;
&lt;/complexType&gt;
  
&lt;simpleType name="RteGrpOfferStatusType"&gt;
   &lt;restriction base="token"&gt;
      &lt;enumeration value="offered"/&gt;
      &lt;enumeration value="accepted"/&gt;
    &lt;/restriction&gt;
  &lt;/simpleType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.6.5.p.3">The RteGrpOfferType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType that contains the ID of the registrant organization that owns this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passed in either the created date or the modification date, the will ignore them.  The server sets these two date/time values.</li>
<li>rteGrpOfferKey: The object that identifies the route that is or has been offered and the organization that it is or has been offered to.</li>
<li>status: The status of the offer, offered or accepted.  The server controls the status. It is automatically set to "offered" when ever a new Route Group Offer is added, and is automatically set to "accepted" if and when that offer is accepted. The value of the element is ignored when passed in by the client. </li>
<li>offerDateTime: Date and time in UTC when the Route Group Offer was added. </li>
<li>acceptDateTime: Date and time in UTC when the Route Group Offer was accepted. </li>
</ul>

<p> </p>
<p id="rfc.section.6.5.p.4">Accepting a Route Group Offer:  Not until access to a Route Group has been offered and accepted will the registrant's organization ID be included in the peeringOrg list in that Route Group object, and that Route Group's peering information become a candidate for inclusion in the responses to the resolution requests submitted by that registrant.  A Route Group Offer that is in the "offered" status is accepted by, or on behalf of, the registrant to which it has been offered. When the Route Group Offer is accepted the the Route Group Offer is moved to the "accepted" status and adds that data recipient's organization ID into the list of peerOrgIds for that Route Group.</p>
<p id="rfc.section.6.5.p.5">Rejecting a Route Group Offer:  The registrant to which a Route Group has been offered has the option of rejecting a Route Group Offer.  Furthermore, that offer may be rejected, regardless of whether or not it has been previously accepted.  A Route Group Offer that is in the "offered" or "accepted" status is rejected by, or on behalf of, the registrant to which it has been offered. When the Route Group Offer is rejected that Route Group Offer is deleted, and, if appropriate, the data recipient's organization ID is removed from the list of peeringOrg IDs for that Route Group.</p>
<h1 id="rfc.section.6.6">
<a href="#rfc.section.6.6">6.6.</a> <a href="#egressRte" id="egressRte">Egress Route</a>
</h1>
<p id="rfc.section.6.6.p.1">In a high-availability environment, the originating SSP likely has more than one egress paths to the ingress SBE of the target SSP.  If the originating SSP wants to exercise greater control and choose a specific egress SBE to be associated to the target ingress SBE, it can do so using the AddEgrRteRqstType object.</p>
<p id="rfc.section.6.6.p.2">Lets assume that the target SSP has offered to share one or more ingress route information and that the originating SSP has accepted the offer. In order to add the egress route to the registry, the originating SSP uses a valid regular expression to rewrite ingress route in order to include the egress SBE information. Also, more than one egress route can be associated with a given ingress route in support of fault-tolerant configurations. The supporting SPPP structure provides a way to include route precedence information to help manage traffic to more than one outbound egress SBE.</p>
<p id="rfc.section.6.6.p.3">The transport protocol MUST support the ability to Create, Modify, Get, and Delete Egress Routes.  The EgrRteType object structure is defined as follows: </p>
<div id="#rfc.figure.16"></div>
<pre>
              
&lt;complexType name="EgrRteType"&gt;
  &lt;complexContent&gt;
	&lt;extension base="spppb:BasicObjType"&gt;
	  &lt;sequence&gt;
		&lt;element name="egrRteName" type="spppb:ObjNameType"/&gt;
		&lt;element name="pref" type="unsignedShort"/&gt;
		&lt;element name="regxRewriteRule" 
		  type="spppb:RegexParamType"/&gt;
		&lt;element name="ingrRteRec" type="spppb:ObjKeyType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		  minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
         
            </pre>
<p></p>
<p id="rfc.section.6.6.p.5">The EgrRteType object is composed of the following elements: </p>

<ul>
<li>base: All first class objects extend BasicObjType that contains the ID of the registrant organization that owns this object, the date and time that the object was created by the server, and the date and time that the object was last modified. If the client passes in either the created date or the modification date, the server will ignore them.  The server sets these two date/time values.</li>
<li>egrRteName: The name of the egress route. </li>
<li>pref: The preference of this egress route relative to other egress routes that may get selected when responding to a resolution request.</li>
<li>regxRewriteRule: The regular expression re-write rule that should be applied to the&#160;regular expression of the ingress NAPTR(s) that belong to the ingress route.</li>
<li>ingrRteRec: The ingress route records that the egress route should be used for. </li>
<li>ext: Point of extensibility described in a previous section of this document. </li>
</ul>

<p> </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#xmlconsiderations" id="xmlconsiderations">XML Considerations</a>
</h1>
<p id="rfc.section.7.p.1">XML serves as the encoding format for SPPP, allowing complex hierarchical data to be expressed in a text format that can be read, saved, and manipulated with both traditional text tools and tools specific to XML. <br><br> XML is case sensitive. Unless stated otherwise, XML specifications and examples provided in this document MUST be interpreted in the character case presented to develop a conforming implementation. <br><br> This section discusses a small number of XML-related considerations pertaining to SPPP. </p>
<h1 id="rfc.section.7.1">
<a href="#rfc.section.7.1">7.1.</a> <a href="#namespaces" id="namespaces">Namespaces</a>
</h1>
<p id="rfc.section.7.1.p.1">All SPPP elements are defined in the namespaces in the IANA Considerations section and in the Formal Protocol Specification section of this document.  </p>
<h1 id="rfc.section.7.2">
<a href="#rfc.section.7.2">7.2.</a> <a href="#versioning" id="versioning">Versioning and Character Encoding</a>
</h1>
<p id="rfc.section.7.2.p.1">All XML instances SHOULD begin with an &lt;?xml?&gt;  declaration to identify the version of XML that is being used, optionally identify use of the character encoding used, and optionally provide a hint to an XML parser that an external schema file is needed to validate the XML instance. <br><br> Conformant XML parsers recognize both UTF-8 (defined in <a href="#RFC3629">[RFC3629]</a>) and UTF-16 (defined in <a href="#RFC2781">[RFC2781]</a>); per <a href="#RFC2277">[RFC2277]</a> UTF-8 is the RECOMMENDED character encoding for use with SPPP. </p>
<p id="rfc.section.7.2.p.2">Character encodings other than UTF-8 and UTF-16 are allowed by XML. UTF-8 is the default encoding assumed by XML in the absence of an "encoding" attribute or a byte order mark (BOM); thus, the "encoding" attribute in the XML declaration is OPTIONAL if UTF-8 encoding is used. SPPP clients and servers MUST accept a UTF-8 BOM if present, though emitting a UTF-8 BOM is NOT RECOMMENDED. </p>
<p id="rfc.section.7.2.p.3">Example XML declarations: <br><br> &lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt; </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#securityconsiderations" id="securityconsiderations">Security Considerations</a>
</h1>
<p id="rfc.section.8.p.1">Many SPPP implementations manage data that is considered confidential and critical. Furthermore, SPPP implementations can support provisioning activities for multiple registrars and registrants.  As a result any SPPP implementation must address the requirements for confidentiality, authentication, and authorization.</p>
<p id="rfc.section.8.p.2">With respect to confidentiality and authentication, the transport protocol requirements section of this document contains security properties that the transport protocol must provide so that authenticated endpoints can exchange data confidentially and with integrity protection. Refer to that section and the resulting transport protocol specification document for the specific solutions to authentication and confidentiality.</p>
<p id="rfc.section.8.p.3">With respect to authorization, the SPPP server implementation must define and implement a set of authorization rules that precisely address (1) which registrars will be authorized to create/modify/delete each SPPP object type for given registrant(s) and (2) which registrars will be authorized to view/get each SPPP object type for given registrant(s).  These authorization rules are a matter of policy and are not specified within the context of SPPP. However, any SPPP implementation must specify these authorization rules in order to function in a reliable and safe manner.</p>
<p id="rfc.section.8.p.4">In some situations, it may be required to protect against denial of involvement (see <a href="#RFC4949">[RFC4949]</a>) and tackle non-repudiation concerns in regards to SPPP messages. This type of protection is useful to satisfy authenticity concerns related to SPPP messages beyond the end-to-end connection integrity, confidentiality, and authentication protection that the transport layer provides. This is an optional feature and some SPPP implementations MAY provide support for it.</p>
<p id="rfc.section.8.p.5">It is not uncommon for the logging systems to document on-the-wire messages for various purposes, such as, debug, audit, and tracking. At the minimum, the various support and administration staff will have access to these logs. Also, if an unprivileged user gains access to the SPPP deployments and/or support systems, it will have access to the information that is potentially deemed confidential. To manage information disclosure concerns beyond the transport level, SPPP implementations MAY provide support for encryption at the SPPP object level.</p>
<p id="rfc.section.8.p.6">Anti-replay protection ensures that a given SPPP object replayed at a later time doesn't affect the integrity of the system. SPPP provides at least one mechanism to fight against replay attacks. Use of the optional client transaction identifier allows the SPPP client to correlate the request message with the response and to be sure that it is not a replay of a server response from earlier exchanges. Use of unique values for the client transaction identifier is highly encouraged to avoid chance matches to a potential replay message.</p>
<p id="rfc.section.8.p.7">The SPPP client or registrar can be a separate entity acting on behalf of the registrant in facilitating provisioning transactions to the registry. Further, the transport layer provides end-to-end connection protection between SPPP client and the SPPP server. Therefore, man-in-the-middle attack is a possibility that may affect the integrity of the data that belongs to the registrant and/or expose peer data to unintended actors in case well-established peering relationships already exist.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.9.p.1">This document uses URNs to describe XML namespaces and XML schemas conforming to a registry mechanism described in <a href="#RFC3688">[RFC3688]</a>. </p>
<p id="rfc.section.9.p.2">Two URI assignments are requested. <br><br> Registration request for the SPPP XML namespace: <br> urn:ietf:params:xml:ns:sppp:base:1 <br> Registrant Contact: IESG <br> XML: None. Namespace URIs do not represent an XML specification. </p>
<p id="rfc.section.9.p.3">Registration request for the XML schema: <br> URI: urn:ietf:params:xml:schema:sppp:1 <br> Registrant Contact: IESG <br> XML: See the "Formal Specification" section of this document (<a href="#formalspecification">Section 10</a>). </p>
<p id="rfc.section.9.p.4">IANA is requested to create a new SPPP registry for Organization Identifiers that will indicate valid strings to be used for well-known enterprise namespaces.  <br> This document makes the following assignments for the OrgIdType namespaces: </p>
<div id="#rfc.figure.17"></div>
<pre>
              
      Namespace                    OrgIdType namespace string
      ----                         ----------------------------
      IANA Enterprise Numbers       iana-en
                              
            </pre>
<p></p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#formalspecification" id="formalspecification">Formal Specification</a>
</h1>
<p id="rfc.section.10.p.1">This section provides the draft XML Schema Definition for SPPP. </p>
<div id="#rfc.figure.18"></div>
<pre>
            


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema xmlns:spppb="urn:ietf:params:xml:ns:sppp:base:1" 
      xmlns="http://www.w3.org/2001/XMLSchema" 
      targetNamespace="urn:ietf:params:xml:ns:sppp:base:1" 
      elementFormDefault="qualified" xml:lang="EN"&gt;
  &lt;annotation&gt;
	&lt;documentation&gt;
		---- Generic Object key types to be defined by 
		specific Transport/Architecture. The types
		defined here can be extended by the
		specific architecture to define the Object
		 Identifiers. ----
	&lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;complexType name="ObjKeyType" abstract="true"&gt;
	&lt;annotation&gt;
		&lt;documentation&gt;
		---- Generic type that represents the key for various
	    objects in SPPP. ----
     	&lt;/documentation&gt;
	&lt;/annotation&gt;
  &lt;/complexType&gt;
  &lt;complexType name="RteGrpOfferKeyType" abstract="true"&gt;
	&lt;annotation&gt;
		&lt;documentation&gt;
		---- Generic type that represents the key for a route
		group offer. ----
   		&lt;/documentation&gt;
	&lt;/annotation&gt;
  &lt;/complexType&gt;
  &lt;annotation&gt;
	   &lt;documentation&gt;
	      ---- Object Type Definitions ---- 
	   &lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;complexType name="RteGrpType"&gt;
	&lt;complexContent&gt;
	  &lt;extension base="spppb:BasicObjType"&gt;
	    &lt;sequence&gt;
		  &lt;element name="rgName" type="spppb:ObjNameType"/&gt;
		  &lt;element name="rrRef" type="spppb:RteRecRefType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
	  	  &lt;element name="dgName" type="spppb:ObjNameType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
		  &lt;element name="peeringOrg" type="spppb:OrgIdType" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
		  &lt;element name="sourceIdent"
		    type="spppb:SourceIdentType" 
		    minOccurs="0" maxOccurs="unbounded"/&gt;
		  &lt;element name="isInSvc" type="boolean"/&gt;
		  &lt;element name="priority" type="unsignedShort"/&gt;
		  &lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
		&lt;/sequence&gt;
	  &lt;/extension&gt;
	&lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="DestGrpType"&gt;
	&lt;complexContent&gt;
	  &lt;extension base="spppb:BasicObjType"&gt;
	    &lt;sequence&gt;
		  &lt;element name="dgName" type="spppb:ObjNameType"/&gt;
		&lt;/sequence&gt;
	  &lt;/extension&gt;
	 &lt;/complexContent&gt;
  &lt;/complexType&gt;
  &lt;complexType name="PubIdType" abstract="true"&gt;
	&lt;complexContent&gt;
	  &lt;extension base="spppb:BasicObjType"&gt;
		&lt;sequence&gt;
	  	  &lt;element name="dgName" type="spppb:ObjNameType" 
			   minOccurs="0"/&gt;
		&lt;/sequence&gt;
	  &lt;/extension&gt;
	&lt;/complexContent&gt;
  &lt;/complexType&gt;
	&lt;complexType name="TNType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="spppb:PubIdType"&gt;
		  &lt;sequence&gt;
			&lt;element name="tn" type="spppb:NumberType"/&gt;
			&lt;element name="rrRef" 
			  type="spppb:RteRecRefType" minOccurs="0" 
			  maxOccurs="unbounded"/&gt;
			&lt;element name="corInfo" 
			  type="spppb:CORInfoType" minOccurs="0"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="TNRType"&gt;
	 &lt;complexContent&gt;
	  &lt;extension base="spppb:PubIdType"&gt;
		&lt;sequence&gt;
		  &lt;element name="startTn" type="spppb:NumberType"/&gt;
		  &lt;element name="endTn" type="spppb:NumberType"/&gt;
		  &lt;element name="corInfo" type="spppb:CORInfoType" 
			 minOccurs="0"/&gt;
		&lt;/sequence&gt;
	   &lt;/extension&gt;
	 &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="TNPType"&gt;
	 &lt;complexContent&gt;
	  &lt;extension base="spppb:PubIdType"&gt;
	   &lt;sequence&gt;
		 &lt;element name="tnPrefix" type="spppb:NumberType"/&gt;
		 &lt;element name="corInfo" type="spppb:CORInfoType" 
		   minOccurs="0"/&gt;
	   &lt;/sequence&gt;
	  &lt;/extension&gt;
	 &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RNType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="spppb:PubIdType"&gt;
		  &lt;sequence&gt;
		   &lt;element name="rn" type="spppb:NumberType"/&gt;
		   &lt;element name="corInfo" type="spppb:CORInfoType" 
			 minOccurs="0"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RteRecType" abstract="true"&gt;
	 &lt;complexContent&gt;
	  &lt;extension base="spppb:BasicObjType"&gt;
		&lt;sequence&gt;
		  &lt;element name="rrName" type="spppb:ObjNameType"/&gt;
		  &lt;element name="priority" type="unsignedShort" 
			minOccurs="0"/&gt;
		&lt;/sequence&gt;
	   &lt;/extension&gt;
	 &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="NAPTRType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="spppb:RteRecType"&gt;
		  &lt;sequence&gt;
		   &lt;element name="order" type="unsignedShort"/&gt;
		   &lt;element name="flags" type="spppb:FlagsType" 
			  minOccurs="0"/&gt;
		   &lt;element name="svcs" type="spppb:SvcType"/&gt;
		   &lt;element name="regx" type="spppb:RegexParamType" 
			 minOccurs="0"/&gt;
		   &lt;element name="repl" type="spppb:ReplType" 
			 minOccurs="0"/&gt;
		   &lt;element name="ttl" type="positiveInteger" 
			 minOccurs="0"/&gt;
		   &lt;element name="ext" type="spppb:ExtAnyType" 
			 minOccurs="0"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="NSType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="spppb:RteRecType"&gt;
		  &lt;sequence&gt;
		   &lt;element name="hostName" type="token"/&gt;
		   &lt;element name="ipAddr" type="spppb:IPAddrType" 
			 minOccurs="0" maxOccurs="unbounded"/&gt;
		   &lt;element name="ttl" type="positiveInteger" 
			 minOccurs="0"/&gt;
		   &lt;element name="ext" type="spppb:ExtAnyType" 
			 minOccurs="0"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="URIType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="spppb:RteRecType"&gt;
		  &lt;sequence&gt;
			&lt;element name="ere" type="token" 
			   default="^(.*)$"/&gt;
			&lt;element name="uri" type="anyURI"/&gt;
			&lt;element name="ext" type="spppb:ExtAnyType" 
			   minOccurs="0"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RteGrpOfferType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="spppb:BasicObjType"&gt;
		 &lt;sequence&gt;
		  &lt;element name="rteGrpOfferKey" 
			type="spppb:RteGrpOfferKeyType"/&gt;
		  &lt;element name="status" 
			type="spppb:RteGrpOfferStatusType"/&gt;
		  &lt;element name="offerDateTime" type="dateTime"/&gt;
		  &lt;element name="acceptDateTime" type="dateTime" 
			minOccurs="0"/&gt;
		  &lt;element name="ext" type="spppb:ExtAnyType" 
			minOccurs="0"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
   &lt;complexType name="EgrRteType"&gt;
	 &lt;complexContent&gt;
	  &lt;extension base="spppb:BasicObjType"&gt;
	   &lt;sequence&gt;
		&lt;element name="egrRteName" 
		  type="spppb:ObjNameType"/&gt;
		&lt;element name="pref" type="unsignedShort"/&gt;
		&lt;element name="regxRewriteRule" 
		  type="spppb:RegexParamType"/&gt;
		&lt;element name="ingrRteRec" 
		  type="spppb:ObjKeyType" 
		  minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		  minOccurs="0"/&gt;
	   &lt;/sequence&gt;
	  &lt;/extension&gt;
	 &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;annotation&gt;
		&lt;documentation&gt;
		-- Abstract Object and Element Type Defs --
		&lt;/documentation&gt;
	&lt;/annotation&gt;
	&lt;complexType name="BasicObjType" abstract="true"&gt;
	  &lt;sequence&gt;
		&lt;element name="rant" type="spppb:OrgIdType"/&gt;
		&lt;element name="rar" type="spppb:OrgIdType"/&gt;
		&lt;element name="cDate" type="dateTime" 
		   minOccurs="0"/&gt;
		&lt;element name="mDate" type="dateTime"             
		   minOccurs="0"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
		&lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RegexParamType"&gt;
	  &lt;sequence&gt;
		&lt;element name="ere" type="spppb:RegexType" 
		   default="^(.*)$"/&gt;
		&lt;element name="repl" type="spppb:ReplType"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="IPAddrType"&gt;
	  &lt;sequence&gt;
		&lt;element name="addr" type="spppb:AddrStringType"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	  &lt;attribute name="type" type="spppb:IPType" 
	     default="v4"/&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RteRecRefType"&gt;
	  &lt;sequence&gt;
		&lt;element name="rrKey" type="spppb:ObjKeyType"/&gt;
		&lt;element name="priority" type="unsignedShort"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="SourceIdentType"&gt;
	  &lt;sequence&gt;
		&lt;element name="sourceIdentLabel" type="token"/&gt;
		&lt;element name="sourceIdentScheme" 
		   type="spppb:SourceIdentSchemeType"/&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		   minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="CORInfoType"&gt;
	  &lt;sequence&gt;
		&lt;element name="corClaim" type="boolean" 
		  default="true"/&gt;
		&lt;element name="cor" type="boolean" 
		  default="false" minOccurs="0"/&gt;
		&lt;element name="corDate" type="dateTime"   
		  minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="SvcMenuType"&gt;
	  &lt;sequence&gt;
		&lt;element name="serverStatus" 
		  type="spppb:ServerStatusType"/&gt;
		&lt;element name="majMinVersion" type="token" 
		   maxOccurs="unbounded"/&gt;
		&lt;element name="objURI" type="anyURI" 
		   maxOccurs="unbounded"/&gt;
		&lt;element name="extURI" type="anyURI" 
		   minOccurs="0" maxOccurs="unbounded"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="ExtAnyType"&gt;
	  &lt;sequence&gt;
		&lt;any namespace="##other" maxOccurs="unbounded"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;simpleType name="FlagsType"&gt;
		&lt;restriction base="token"&gt;
			&lt;length value="1"/&gt;
			&lt;pattern value="[A-Z]|[a-z]|[0-9]"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="SvcType"&gt;
		&lt;restriction base="token"&gt;
			&lt;minLength value="1"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="RegexType"&gt;
		&lt;restriction base="token"&gt;
			&lt;minLength value="1"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="ReplType"&gt;
		&lt;restriction base="token"&gt;
			&lt;minLength value="1"/&gt;
			&lt;maxLength value="255"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="OrgIdType"&gt;
		&lt;restriction base="token"/&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="ObjNameType"&gt;
		&lt;restriction base="token"&gt;
			&lt;minLength value="3"/&gt;
			&lt;maxLength value="80"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="TransIdType"&gt;
		&lt;restriction base="token"&gt;
			&lt;minLength value="3"/&gt;
			&lt;maxLength value="120"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="MinorVerType"&gt;
		&lt;restriction base="unsignedLong"/&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="AddrStringType"&gt;
		&lt;restriction base="token"&gt;
			&lt;minLength value="3"/&gt;
			&lt;maxLength value="45"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="IPType"&gt;
		&lt;restriction base="token"&gt;
			&lt;enumeration value="v4"/&gt;
			&lt;enumeration value="v6"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="SourceIdentSchemeType"&gt;
		&lt;restriction base="token"&gt;
			&lt;enumeration value="uri"/&gt;
			&lt;enumeration value="ip"/&gt;
			&lt;enumeration value="rootDomain"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="ServerStatusType"&gt;
		&lt;restriction base="token"&gt;
			&lt;enumeration value="inService"/&gt;
			&lt;enumeration value="outOfService"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="RteGrpOfferStatusType"&gt;
		&lt;restriction base="token"&gt;
			&lt;enumeration value="offered"/&gt;
			&lt;enumeration value="accepted"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
	&lt;simpleType name="NumberType"&gt;
		&lt;restriction base="token"&gt;
			&lt;maxLength value="20"/&gt;
			&lt;pattern value="\+?\d\d*"/&gt;
		&lt;/restriction&gt;
	&lt;/simpleType&gt;
&lt;/schema&gt;

            
          </pre>
<p></p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> Acknowledgments</h1>
<p id="rfc.section.11.p.1">This document is a result of various discussions held in the DRINKS working group and within the DRINKS protocol design team, which is comprised of the following individuals, in alphabetical order: Alexander Mayrhofer, Deborah A Guyton, David Schwartz, Lisa Dusseault, Manjul Maharishi, Mickael Marrache, Otmar Lendl, Richard Shockey, Samuel Melloul, and Sumanth Channabasappa.</p>
<h1 id="rfc.references">
<a href="#rfc.references">12.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">12.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2277">[RFC2277]</b></td>
<td class="top">
<a href="mailto:Harald.T.Alvestrand@uninett.no" title="UNINETT">Alvestrand, H.T.</a>, "<a href="http://tools.ietf.org/html/rfc2277">IETF Policy on Character Sets and Languages</a>", BCP 18, RFC 2277, January 1998.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3629">[RFC3629]</b></td>
<td class="top">
<a>Yergeau, F.</a>, "<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>", STD 63, RFC 3629, November 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3688">[RFC3688]</b></td>
<td class="top">
<a>Mealling, M.</a>, "<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>", BCP 81, RFC 3688, January 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3986">[RFC3986]</b></td>
<td class="top">
<a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com" title="Day Software">Fielding, R.</a> and <a href="mailto:LMM@acm.org" title="Adobe Systems Incorporated">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5067">[RFC5067]</b></td>
<td class="top">
<a>Lind, S.</a> and <a>P. Pfautz</a>, "<a href="http://tools.ietf.org/html/rfc5067">Infrastructure ENUM Requirements</a>", RFC 5067, November 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4949">[RFC4949]</b></td>
<td class="top">
<a>Shirey, R.</a>, "<a href="http://tools.ietf.org/html/rfc4949">Internet Security Glossary, Version 2</a>", RFC 4949, August 2007.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-drinks-sppp-over-soap">[I-D.ietf-drinks-sppp-over-soap]</b></td>
<td class="top">
<a>Cartwright, K</a> and <a>V Bhatia</a>, "<a href="http://tools.ietf.org/html/draft-ietf-drinks-sppp-over-soap-07">SPPP Over SOAP and HTTP</a>", Internet-Draft draft-ietf-drinks-sppp-over-soap-07, November 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">12.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC5321">[RFC5321]</b></td>
<td class="top">
<a>Klensin, J.</a>, "<a href="http://tools.ietf.org/html/rfc5321">Simple Mail Transfer Protocol</a>", RFC 5321, October 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6116">[RFC6116]</b></td>
<td class="top">
<a>Bradner, S.</a>, <a>Conroy, L.</a> and <a>K. Fujiwara</a>, "<a href="http://tools.ietf.org/html/rfc6116">The E.164 to Uniform Resource Identifiers (URI) Dynamic Delegation Discovery System (DDDS) Application (ENUM)</a>", RFC 6116, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4725">[RFC4725]</b></td>
<td class="top">
<a>Mayrhofer, A.</a> and <a>B. Hoeneisen</a>, "<a href="http://tools.ietf.org/html/rfc4725">ENUM Validation Architecture</a>", RFC 4725, November 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5486">[RFC5486]</b></td>
<td class="top">
<a>Malas, D.</a> and <a>D. Meyer</a>, "<a href="http://tools.ietf.org/html/rfc5486">Session Peering for Multimedia Interconnect (SPEERMINT) Terminology</a>", RFC 5486, March 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2781">[RFC2781]</b></td>
<td class="top">
<a href="mailto:phoffman@imc.org" title="Internet Mail Consortium">Hoffman, P.</a> and <a href="mailto:fyergeau@alis.com" title="Alis Technologies">F. Yergeau</a>, "<a href="http://tools.ietf.org/html/rfc2781">UTF-16, an encoding of ISO 10646</a>", RFC 2781, February 2000.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-drinks-usecases-requirements">[I-D.ietf-drinks-usecases-requirements]</b></td>
<td class="top">
<a>Channabasappa, S</a>, "<a href="http://tools.ietf.org/html/draft-ietf-drinks-usecases-requirements-06">Data for Reachability of Inter/tra-NetworK SIP (DRINKS) Use cases and Protocol Requirements</a>", Internet-Draft draft-ietf-drinks-usecases-requirements-06, August 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jean-Francois Mule</span> 
	  <span class="n hidden">
		<span class="family-name">Mule</span>
	  </span>
	</span>
	<span class="org vcardline">CableLabs </span>
	<span class="adr">
	  <span>858 Coal Creek Circle</span>

	  <span class="vcardline">
		<span class="locality">Louisville</span>,  
		<span class="region">CO</span> 
		<span class="code">80027</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jfm@cablelabs.com">jfm@cablelabs.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Kenneth Cartwright</span> 
	  <span class="n hidden">
		<span class="family-name">Cartwright</span>
	  </span>
	</span>
	<span class="org vcardline">TNS</span>
	<span class="adr">
	  <span>1939 Roland Clarke Place</span>

	  <span class="vcardline">
		<span class="locality">Reston</span>,  
		<span class="region">VA</span> 
		<span class="code">20191</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:kcartwright@tnsi.com">kcartwright@tnsi.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Syed Wasim Ali</span> 
	  <span class="n hidden">
		<span class="family-name">Ali</span>
	  </span>
	</span>
	<span class="org vcardline">NeuStar</span>
	<span class="adr">
	  <span>46000 Center Oak Plaza</span>

	  <span class="vcardline">
		<span class="locality">Sterling</span>,  
		<span class="region">VA</span> 
		<span class="code">20166</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:syed.ali@neustar.biz">syed.ali@neustar.biz</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Alexander Mayrhofer</span> 
	  <span class="n hidden">
		<span class="family-name">Mayrhofer</span>
	  </span>
	</span>
	<span class="org vcardline">enum.at GmbH</span>
	<span class="adr">
	  <span>Karlsplatz 1/9</span>

	  <span class="vcardline">
		<span class="locality">Wien</span>,  
		<span class="region"></span>
		<span class="code">A-1010</span>
	  </span>
	  <span class="country-name vcardline">Austria</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:alexander.mayrhofer@enum.at">alexander.mayrhofer@enum.at</a></span>

  </address>
</div>

</body>
</html>