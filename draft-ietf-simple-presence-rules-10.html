<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Presence Authorization Rules</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Presence Authorization Rules">
<meta name="keywords" content="presence, buddy list">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">SIMPLE</td><td class="header">J. Rosenberg</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">July 09, 2007</td></tr>
<tr><td class="header">Expires: January 10, 2008</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Presence Authorization Rules<br />draft-ietf-simple-presence-rules-10</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 10, 2008.</p>

<h3>Abstract</h3>

<p>
Authorization is a key function in presence systems. Authorization
policies, also known as authorization rules, specify what presence
information can be given to which watchers, and when. This specification
defines an Extensible Markup Language (XML) document format for
expressing presence authorization rules. Such a document can be
manipulated by clients using the XML Configuration Access Protocol
(XCAP), although other techniques are permitted.

</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology<br />
<a href="#sec:struc">3.</a>&nbsp;
Structure of Presence Authorization
Documents<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.1.</a>&nbsp;
Conditions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.1.</a>&nbsp;
Identity<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.1.1.1.</a>&nbsp;
Acceptable Forms of Authentication<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.1.2.</a>&nbsp;
Computing a URI for the Watcher<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.1.2.</a>&nbsp;
Sphere<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.2.</a>&nbsp;
Actions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.2.1.</a>&nbsp;
Subscription Handling<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.3.</a>&nbsp;
Transformations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:de">3.3.1.</a>&nbsp;
Providing Access to Data Component Elements<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">3.3.1.1.</a>&nbsp;
Device Information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">3.3.1.2.</a>&nbsp;
Person Information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">3.3.1.3.</a>&nbsp;
Service Information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:patt">3.3.2.</a>&nbsp;
Providing Access to Presence Attributes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">3.3.2.1.</a>&nbsp;
Provide Activities<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">3.3.2.2.</a>&nbsp;
Provide Class<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">3.3.2.3.</a>&nbsp;
Provide DeviceID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">3.3.2.4.</a>&nbsp;
Provide Mood<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">3.3.2.5.</a>&nbsp;
Provide Place-is<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">3.3.2.6.</a>&nbsp;
Provide Place-type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">3.3.2.7.</a>&nbsp;
Provide Privacy<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">3.3.2.8.</a>&nbsp;
Provide Relationship<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">3.3.2.9.</a>&nbsp;
Provide Sphere<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">3.3.2.10.</a>&nbsp;
Provide Status-Icon<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">3.3.2.11.</a>&nbsp;
Provide Time-Offset<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">3.3.2.12.</a>&nbsp;
Provide User-Input<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">3.3.2.13.</a>&nbsp;
Provide Note<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">3.3.2.14.</a>&nbsp;
Provide Unknown Attribute<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">3.3.2.15.</a>&nbsp;
Provide All Attributes<br />
<a href="#anchor29">4.</a>&nbsp;
When to Apply the Authorization Policies<br />
<a href="#anchor30">5.</a>&nbsp;
Implementation Requirements<br />
<a href="#anchor31">6.</a>&nbsp;
Example Document<br />
<a href="#sec:schema">7.</a>&nbsp;
XML Schema<br />
<a href="#sec-extens">8.</a>&nbsp;
Schema Extensibility<br />
<a href="#sec-xcap">9.</a>&nbsp;
XCAP Usage<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">9.1.</a>&nbsp;
Application Unique ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor33">9.2.</a>&nbsp;
XML Schema<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">9.3.</a>&nbsp;
Default Namespace<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor35">9.4.</a>&nbsp;
MIME Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor36">9.5.</a>&nbsp;
Validation Constraints<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor37">9.6.</a>&nbsp;
Data Semantics<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor38">9.7.</a>&nbsp;
Naming Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor39">9.8.</a>&nbsp;
Resource Interdependencies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor40">9.9.</a>&nbsp;
Authorization Policies<br />
<a href="#anchor41">10.</a>&nbsp;
Security Considerations<br />
<a href="#sec:iana">11.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor42">11.1.</a>&nbsp;
XCAP Application Usage ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor43">11.2.</a>&nbsp;
URN Sub-Namespace Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor44">11.3.</a>&nbsp;
XML Schema Registrations<br />
<a href="#anchor45">12.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">13.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">13.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">13.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p> The Session Initiation Protocol (SIP) for Instant Messaging and
Presence (SIMPLE) specifications allow a user, called a watcher, to
subscribe to another user, called a <a class='info' href='#RFC2778'>presentity<span> (</span><span class='info'>Day, M., Rosenberg, J., and H. Sugano, &ldquo;A Model for Presence and Instant Messaging,&rdquo; February&nbsp;2000.</span><span>)</span></a> [RFC2778], in order to learn their presence
information <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>. This subscription is handled by
a presence agent. However, presence information is sensitive, and a
presence agent needs authorization from the presentity prior to
handing out presence information. As such, a presence authorization
document format is needed.  This specification defines a format for
such a document, called a presence authorization document.  
</p>
<p>
<a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a> specifies a framework
for representing authorization policies, and is applicable to systems
such as geo-location and presence. This framework is used as the basis
for presence authorization documents. In the framework, an authorization
policy is a set of rules. Each rule contains conditions,
actions, and transformations. The conditions specify under what
conditions the rule is to be applied to presence server
processing. The actions element tells the server what actions to
take. The transformations element indicates how the
presence data is to be manipulated before being presented to that
watcher, and as such, defines a privacy filtering
operation. <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a> identifies
a small number of specific conditions common
to presence and location services, and leaves it to other
specifications, such as this one, to fill in usage specific details.

</p>
<p> A presence authorization document can be manipulated by clients
using several means. One such mechanism is the <a class='info' href='#I-D.ietf-simple-xcap'>XML Configuration Access Protocol
(XCAP)<span> (</span><span class='info'>Rosenberg, J., &ldquo;The Extensible Markup Language (XML) Configuration Access Protocol (XCAP),&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;simple&#8209;xcap]. This specification defines the details necessary for
using XCAP to manage presence authorization documents.  
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>In this document, the key words "MUST", "MUST NOT",
"REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
are to be interpreted as described in <a class='info' href='#RFC2119'>RFC
2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119] and indicate requirement levels for compliant
implementations.
</p>
<a name="sec:struc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Structure of Presence Authorization
Documents</h3>

<p> A presence authorization document is an XML document, formatted
according to 
the schema defined in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>. Presence authorization
documents inherit the MIME type of common policy documents,
application/auth-policy+xml. As described in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>, this document is composed
of rules which contain three parts - conditions, actions, and
transformations. Each action 
or transformation, which is also called a permission, has the property
of being a positive grant of information to the watcher. As a result,
there is a well-defined mechanism for combining actions and
transformations obtained from several sources. This mechanism is
privacy safe, since the lack of any action or transformation can only
result in less information being presented to a watcher.  
</p>
<p>
This section defines the new conditions, actions and transformations
defined by this specification.

</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Conditions</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Identity</h3>

<p>
Although the &lt;identity&gt; element is defined in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>, that specification
indicates that the specific usages of the framework document need to
define details that are protocol and usage specific. In particular, it
is necessary for a usage of the common policy framework to:

</p>
<ul class="text">
<li>Define acceptable means of authentication.

</li>
<li>Define the procedure for representing the identity of the WR
(Watcher/Requestor) as a URI or IRI <a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>Duerst, M. and M. Suignard, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; January&nbsp;2005.</span><span>)</span></a>. 

</li>
</ul>
<p>This sub-section defines those details for systems based on <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>. It does so in general terms, so that the
  recommendations defined here apply to existing and future
  authentication mechanisms in SIP.  
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1.1"></a><h3>3.1.1.1.&nbsp;
Acceptable Forms of Authentication</h3>

<p>
When used with SIP, a request is considered authenticated if one of
the following are true:

</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>The watcher proves its identity to the server through a form of
cryptograhic authentication, including authentication based on a
shared secret or a certificate, and that authentication yields an
identity for the watcher. 

</dd>
<dt></dt>
<dd>
The request comes from a sender that is asserting the identity of the
watcher, and:

<ol class="text">
<li>the assertion includes a claim that the asserting party
used a form of cryptographic authentication (as defined above) to
determine the identity of the watcher, and
</li>
<li>the server trusts that assertion, and
</li>
<li>the assertion provides an identity in the form of a URI.
</li>
</ol>

</dd>
</dl></blockquote>
<p>
Based on this definition, examples of valid authentication techniques
include <a class='info' href='#RFC3261'>SIP<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261]
digest authentication <a class='info' href='#RFC2617'>[RFC2617]<span> (</span><span class='info'>Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S., Leach, P., Luotonen, A., and L. Stewart, &ldquo;HTTP Authentication: Basic and Digest Access Authentication,&rdquo; June&nbsp;1999.</span><span>)</span></a>, cryptographically
verified identity assertions (RFC 4474 <a class='info' href='#RFC4474'>[RFC4474]<span> (</span><span class='info'>Peterson, J. and C. Jennings, &ldquo;Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2006.</span><span>)</span></a>), and
identity assertions made in closed network environments (RFC 3325
<a class='info' href='#RFC3325'>[RFC3325]<span> (</span><span class='info'>Jennings, C., Peterson, J., and M. Watson, &ldquo;Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks,&rdquo; November&nbsp;2002.</span><span>)</span></a>). 

</p>
<p>
However, the
anonymous authentication described on page 194 of RFC 3261 <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> is not considered a valid mechanism for
authentication because it does not produce an identity for
the watcher. However, an anonymous From header field, when used in
conjunction with RFC 4474 <a class='info' href='#RFC4474'>[RFC4474]<span> (</span><span class='info'>Peterson, J. and C. Jennings, &ldquo;Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2006.</span><span>)</span></a>, is considered an
acceptable mechanism for authentication, since it still implies that
the asserting node performed authentication that produced the identity
of the watcher.

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1.2"></a><h3>3.1.1.2.&nbsp;
Computing a URI for the Watcher</h3>

<p>
Computing the URI for the watcher depends on whether the identity is
being ascertained through authentication or through an asserted
identity. 

</p>
<p>
If an identity assertion is being utilized, the asserted identity
itself (which is in the form of a URI for acceptable forms of identity
assertion), is utilized as the URI. If the identity assertion
mechanism asserts multiple URI for the watcher, then each of them is
used for the comparisons outlined in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>, and if
any of them match a &lt;one&gt; or &lt;except&gt; element, it is
considered a match.

</p>
<p>
If an identity is being determined directly by a cryptographic
authentication, that authentication must produce a URI, or must
produce some form of identifier which can be linked, through
provisioning, to a URI that is bound to that identifier.

</p>
<p>For example, in the case
of SIP Digest authentication, the authentication process produces a
username scoped within a realm. That username and realm are bound to
an AOR through provisioning, and the resulting AOR is used as the
watcher URI. Consider the following "user record" in a database: 
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

SIP AOR: sip:alice@example.com
digest username: ali
digest password: f779ajvvh8a6s6
digest realm: example.com
</pre></div>
<p>
If the presence server receives a SUBSCRIBE request, challenges it
with the realm set to "example.com", and the subsequent SUBSCRIBE
contains an Authorization header field with a username of "ali" and a
digest response generated with the password "f779ajvvh8a6s6", the
identity used in matching operations is
"sip:alice@example.com". 

</p>
<p>
In SIP systems, it is possible for a user to have aliases - that is,
there are multiple SIP AoRs "assigned" to a single user. In terms of
this specification, there is no relationship between those
aliases. Each would look like a different user. This will be the
consequence for systems where the watcher is in a different domain than
the presentity. However, even if the watcher and presentity are in the
same domain, and the presence server knows that there are aliases for
the watcher, these aliases are not mapped to each other or used in any
way. 

</p>
<p>
SIP also allows for anonymous requests. If a request is anonymous
because the watcher utilized an authentication mechanism that does not
provide an identity to the presence server (such as the SIP digest
"anonymous" username), the request is considered unauthenticated (as
discussed above) and will match only an empty &lt;identity&gt;
element.  If a request is anonymous because it contains a Privacy
header field <a class='info' href='#RFC3323'>[RFC3323]<span> (</span><span class='info'>Peterson, J., &ldquo;A Privacy Mechanism for the Session Initiation Protocol (SIP),&rdquo; November&nbsp;2002.</span><span>)</span></a>, but still contains an asserted
identity meeting the criteria defined above, that identity is
utilized, and the fact that the request was anonymous has no impact on
the identity processing. 

</p>
<p> It is important to note that SIP frequently uses both SIP URI and
tel URI <a class='info' href='#RFC3966'>[RFC3966]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;The tel URI for Telephone Numbers,&rdquo; December&nbsp;2004.</span><span>)</span></a> as identifiers, and to make matters
more confusing, a SIP URI can contain a phone number in its user part,
in the same format used in a tel URI. A WR identity that is a SIP URI
with a phone number will NOT match the &lt;one&gt; and &lt;except&gt;
conditions whose 'id' is a tel URI with the same number. The same is
true in the reverse. If the WR identity is a tel URI, this will not
match a SIP URI in the &lt;one&gt; or &lt;except&gt; conditions whose
user part is a phone number. URIs of different schemes are never
equivalent.  
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
Sphere</h3>

<p>
The &lt;sphere&gt; element is defined in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>. However, each application
making use of the common policy specification needs to determine how
the presence server computes the value of the sphere to be used in the
evaluation of the condition.

</p>
<p> To compute the value of &lt;sphere&gt;, the presence agent
examines all published presence documents for the presentity. If at
least one of them includes the &lt;sphere&gt; element <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a> as part of the person data component
<a class='info' href='#RFC4479'>[RFC4479]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Data Model for Presence,&rdquo; July&nbsp;2006.</span><span>)</span></a>, and all of those
containing the element have the same value for it, that is the value
used for the sphere in presence policy processing. If, however, the
&lt;sphere&gt; element was not present in any of the published
documents, or it was present but had inconsistent values, its value is
considered undefined in terms of presence policy processing.  
</p>
<p>
Care must be taken in using &lt;sphere&gt; as a condition for
determining the subscription handling. Since the value of
&lt;sphere&gt; changes dynamically, a state change can cause a
subscription to be suddenly terminated. The watcher has no way to
know, aside from polling, when their subscription would be re-instated
as the value of &lt;sphere&gt; changes. For this reason,
&lt;sphere&gt; is primarily useful for matching on rules that define
transformations.

</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Actions</h3>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Subscription Handling</h3>

<p>
The &lt;sub-handling&gt; element specifies the subscription
authorization decision that the server should make. It also specifies
whether or not the presence document for the watcher should be
constructed using "polite blocking" or not. Usage of polite
blocking and the subscription authorization decision are specified
jointly since proper privacy handling requires a 
correlation between them. As discussed in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>, since the combination
algorithm runs independently for each permission, if correlations
exist between permissions, they must be merged into a single
variable. That is what is done here. The &lt;sub-handling&gt; element
is an enumerated Integer type. The defined values are:

</p>
<blockquote class="text"><dl>
<dt>block:</dt>
<dd>This action tells the server to reject the
subscription, placing it in the terminated state. It has the value of
zero, and it represents the default value. No value of the
sub-handling element can ever be lower than this. Strictly speaking,
it is not necessary for a rule to include an explicit block
action, since the default in the absence of any action will be
block. However, it is included for completeness.

</dd>
<dt>confirm:</dt>
<dd>This action tells the server to place the
subscription in the "pending" state, and await input from the
presentity to determine how to proceed. It has a value of ten.

</dd>
<dt>polite-block:</dt>
<dd>This action tells the server to place the
subscription into the "active" state, and to produce a presence
document that indicates that the presentity is unavailable. A reasonable
document would exclude device and person information elements, and
include only a single service whose basic status is set to closed
<a class='info' href='#RFC3863'>[RFC3863]<span> (</span><span class='info'>Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &ldquo;Presence Information Data Format (PIDF),&rdquo; August&nbsp;2004.</span><span>)</span></a>. This action has a value of twenty.

</dd>
<dt>allow:</dt>
<dd>This action tells the server to place the
subscription into the "active" state. This action has a
value of thirty.

</dd>
</dl></blockquote>
<p></p>
<blockquote class="text">
<p>NOTE WELL: Placing a value of block for this element does not
guarantee that a subscription is denied! If any matching rule has any
other value for this element, the subscription will receive treatment
based on the maximum of those other values. This is based on the
combining rules defined in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>.

</p>
</blockquote>

<p>
Future specifications that wish to define new types of actions MUST
define an entirely new action (separate from &lt;sub-handling&gt;),
and define their own set of values for that action. A document could
contain both &lt;sub-handling&gt; and a subscription handling action
defined by a future specification; in that case, since each action is
always a positive grant of information, the resulting action is the
least restrictive one across both elements.

</p>
<p> The exact behavior of a presence server upon a change in the
sub-handling value can be described by utilizing the subscription
processing state machine in Figure 1 of RFC 3857 <a class='info' href='#RFC3857'>[RFC3857]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Watcher Information Event Template-Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>. 
</p>
<p>If the sub-handling permission changes value to "block", this
causes a "rejected" event to be generated into the subscription state
machine for all affected subscriptions. This will cause the state
machine to move into the terminated state, resulting in the
transmission of a NOTIFY to the watcher with a Subscription-State
header field with value "terminated" and a reason of "rejected" <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a>, which
terminates their subscription. If a new subscription arrives later on,
and the value of sub-handling that applies to that subscription is
"block", the subscription processing follows the "subscribe,
policy=reject" branch from the init state, and a 403 response to the
SUBSCRIBE is generated.  
</p>
<p> If the sub-handling permission changes value to confirm, the
processing depends on the states of the affected
subscriptions. Unfortunately, the state machine in RFC 3857 does not
define an event corresponding to an authorization decision of
"pending". If the subscription is in the active state, it moves back
into the pending state. This causes a NOTIFY to be sent, updating the
Subscription-State <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> to "pending". No reason is
included in the Subscription-State header field (none are defined to
handle this case). No further documents are sent to this
watcher. There is no change in state if the subscription is in the
pending, waiting or terminated states. If a new subscription arrives
later on, and the value of sub-handling that apples to that
subscription is "confirm", the subscription processing follows the
"subscribe, no policy" branch from the init state, and a 202 response
to the SUBSCRIBE is generated, followed by a NOTIFY with
Subscription-State of pending. No presence document is included in
that NOTIFY.

</p>
<p>
If the sub-handling permission changes value from "blocked" or
"confirm" to "polite-block" or "allow", this causes an "approved"
event to be generated into the state machine for all affected
subscriptions. If the subscription was in the pending state, the state
machine will move to the active state, resulting in the transmission
of a NOTIFY with a Subscription-State header field of "active", and
the inclusion of a presence document in that NOTIFY. If the
subscription was in the waiting state, it will move into the
terminated state.  If a new subscription arrives later on, and the
value of sub-handling that applies to that subscription is
"polite-block" or "allow", the subscription processing follows the
"subscribe, policy=accept" branch from the init state, and a 200 OK
response to the SUBSCRIBE is generated, followed by a NOTIFY with
Subscription-State of "active" with a presence document in the body of
the NOTIFY.

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Transformations</h3>

<p>
The transformations defined here are used to drive the behavior of the
privacy filtering operation. Each transformation
defines the visibility a watcher is granted to a particular component
of the presence document. One group of transformations grant
visibility to person, device and service data elements based on
identifying information for those elements. Another group of
transformations provide access to particular data elements in the
presence document. 

</p>
<a name="sec:de"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1"></a><h3>3.3.1.&nbsp;
Providing Access to Data Component Elements</h3>

<p>
The transformations in this section provide access to person, device
and service data component elements. Once access has been granted to such an
element, access to specific presence attributes for that element is
controlled by the permissions defined in <a class='info' href='#sec:patt'>Section&nbsp;3.3.2<span> (</span><span class='info'>Providing Access to Presence Attributes</span><span>)</span></a>. 

</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1.1"></a><h3>3.3.1.1.&nbsp;
Device Information</h3>

<p> The &lt;provide-devices&gt; permission allows a watcher to see
&lt;device&gt; information present in the presence document. It is a
set variable. Each member of the set provides a way to identify a
device or group of devices. This specification defines three types of
elements in the set - &lt;class&gt;, which identifies a device
occurrence by class, &lt;deviceID&gt;, which identifies a device
occurrence by device ID, and &lt;occurrence-id&gt;, which identifies a
device occurrence by occurrence ID. The device ID and occurrence ID
are defined in <a class='info' href='#RFC4479'>[RFC4479]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Data Model for Presence,&rdquo; July&nbsp;2006.</span><span>)</span></a>. Each member of the set
is identified by its type (class, deviceID or occurrence-id) and value
(value of the class, value of the deviceID, or value of the
occurrence-id).  
</p>
<p>
For example, consider the following &lt;provide-devices&gt; element:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

&lt;provide-devices&gt;
  &lt;deviceID&gt;urn:uuid:f81d4fae-7dec-11d0-a765-00a0c91e6bf6&lt;/deviceID&gt;
  &lt;class&gt;biz&lt;/class&gt;
&lt;/provide-devices&gt;
</pre></div>
<p>
This set has two members. This is combined with a
&lt;provide-devices&gt; element from a different rule:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

&lt;provide-devices&gt;
  &lt;class&gt;home&lt;/class&gt;
  &lt;class&gt;biz&lt;/class&gt;
&lt;/provide-devices&gt;
</pre></div>
<p> The result of the set combination (using the union operation) is a
set with three elements: 
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

&lt;provide-devices&gt;
  &lt;class&gt;home&lt;/class&gt;
  &lt;class&gt;biz&lt;/class&gt;
  &lt;deviceID&gt;urn:uuid:f81d4fae-7dec-11d0-a765-00a0c91e6bf6&lt;/deviceID&gt;
&lt;/provide-devices&gt;
</pre></div>
<p>The &lt;provide-devices&gt; element can also take on the special
value &lt;all-devices&gt; which is a short-hand notation for all
device occurrences present in the presence document.  
</p>
<p> Permission is granted to see a particular device occurrence if one
of the device identifiers in the set identifies that device
occurrence. If a &lt;class&gt; permission is granted to the watcher, and
the &lt;class&gt; of the device occurrence matches the value of the
&lt;class&gt; permission based on case sensitive equality, the device
occurrence is included in the presence document. If a &lt;deviceID&gt;
permission is granted to the watcher, and the &lt;deviceID&gt; of the
device occurrence matches the value of the &lt;deviceID&gt; permission
based on URI equivalence, the device occurrence is included in the
presence document. If a &lt;occurrence-id&gt; permission is granted to
the watcher, and the &lt;occurrence-id&gt; of the device occurrence matches
the value of the &lt;occurrence-id&gt; permission based on case sensitive
equality, the device occurrence is included in the presence document. In
addition, a device occurrence is included in the presence document if
the &lt;all-devices&gt; permission was granted to the watcher.  
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1.2"></a><h3>3.3.1.2.&nbsp;
Person Information</h3>

<p> The &lt;provide-persons&gt; permission allows a watcher to see the
&lt;person&gt; information present in the presence document. It is a
set variable. Each member of the set provides a way to identify a
person occurrence. This specification defines two types of elements in
the set - &lt;class&gt;, which identifies a person occurrence by class,
and &lt;occurrence-id&gt;, which identifies an occurrence by its occurrence
ID. Each member of the set is identified by its type (class or
occurrence-id) and value (value of the class or value of the
occurrence-id). The &lt;provide-persons&gt; element can also take on the
special value &lt;all-persons&gt; which is a short-hand notation for
all person occurrences present in the presence document.  The set
combination is done identically to the &lt;provide-devices&gt;
element.
</p>
<p> Permission is granted to see a particular person occurrence if one
of the person identifiers in the set identifies that person
occurrence. If a &lt;class&gt; permission is granted to the watcher, and
the &lt;class&gt; of the person occurrence matches the value of the
&lt;class&gt; permission based on case sensitive equality, the person
occurrence is included in the presence document.  If a
&lt;occurrence-id&gt; permission is granted to the watcher, and the
&lt;occurrence-id&gt; of the person occurrence matches the value of the
&lt;occurrence-id&gt; permission based on case sensitive equality, the
person occurrence is included in the presence document.  In
addition, a person occurrence is included in the presence document if
the &lt;all-persons&gt; permission was granted to the watcher.  
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1.3"></a><h3>3.3.1.3.&nbsp;
Service Information</h3>

<p> The &lt;provide-services&gt; permission allows a watcher to see
service information present in &lt;tuple&gt; elements in the presence
document. Like &lt;provide-devices&gt;, it is a set variable. Each
member of the set provides a way to identify a service occurrence. This
specification defines four types of elements in the set -
&lt;class&gt;, which identifies a service occurrence by class,
&lt;occurrence-id&gt;, which identifies a service by its occurrence ID,
&lt;service-uri&gt;, which identifies a service by its service URI,
and &lt;service-uri-scheme&gt;, which identifies a service by its
service URI scheme. Each member of the set is identified by its type
(class, occurrence-id, service-uri or service-uri-scheme) and value
(value of the class, value of the occurrence-id, value of the
service-uri or value of the service-uri-scheme ). The
&lt;provide-services&gt; element can also take on the special value
&lt;all-services&gt; which is a short-hand notation for all service
occurrences present in the presence document.  The set combination is
done identically to the &lt;provide-persons&gt; element.
</p>
<p> Permission is granted to see a particular service occurrence if one
of the service identifiers in the set identifies that service
occurrence. If a &lt;class&gt; permission is granted to the watcher, and
the &lt;class&gt; of the service occurrence matches the value of the
&lt;class&gt; permission based on case sensitive equality, the service
occurrence is included in the presence document. If a
&lt;service-uri&gt; permission is granted to the watcher, and the
&lt;service-uri&gt; of the service occurrence matches the value of the
&lt;service-uri&gt; permission based on URI equivalence, the service
occurrence is included in the presence document. If a
&lt;occurrence-id&gt; permission is granted to the watcher, and the
&lt;occurrence-id&gt; of the service occurrence matches the value of the
&lt;occurrence-id&gt; permission based on case sensitive equality, the
service occurrence is included in the presence document. If a
&lt;service-uri-scheme&gt; permission is granted to the watcher, and
the scheme of the service URI for the service occurrence matches the
value of &lt;service-uri-scheme&gt; based on case sensitive equality,
the service occurrence is included in the presence document. In
addition, a service occurrence is included in the presence document if
the &lt;all-services&gt; permission was granted to the watcher.  
</p>
<a name="sec:patt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2"></a><h3>3.3.2.&nbsp;
Providing Access to Presence Attributes</h3>

<p>
The permissions of <a class='info' href='#sec:de'>Section&nbsp;3.3.1<span> (</span><span class='info'>Providing Access to Data Component Elements</span><span>)</span></a> provide coarse grained
access to presence data by allowing or blocking specific services or
devices, and allowing or blocking person information.

</p>
<p> Once person, device or service information is included in the
document, the permissions in this section define which presence
attributes are reported there. Certain information is always
reported. In particular, the &lt;contact&gt;, &lt;service-class&gt;
<a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>, &lt;basic&gt; status and
&lt;timestamp&gt; elements in all &lt;tuple&gt; elements, if present,
are provided to watchers . The &lt;timestamp&gt; element in all
&lt;person&gt; elements, if present, is provided to watchers. The
&lt;timestamp&gt; and &lt;deviceID&gt; elements in all
&lt;device&gt; elements, if present, is provided to all
watchers. 

</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.1"></a><h3>3.3.2.1.&nbsp;
Provide Activities</h3>

<p>This permission controls access to the &lt;activities&gt; element defined
in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the element
providing this permission is
&lt;provide-activities&gt;, and it is a Boolean type. If its value is TRUE,
then the &lt;activities&gt; element in the person data element is
reported to the watcher. If FALSE, this presence attribute is removed
if present.

</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.2"></a><h3>3.3.2.2.&nbsp;
Provide Class</h3>

<p>This permission controls access to the &lt;class&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-class&gt;, and it is
a Boolean type. If its value is TRUE, then any &lt;class&gt; element
in a person, service or device data element is reported to the
watcher. If FALSE, this presence attribute is removed if present.

</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.3"></a><h3>3.3.2.3.&nbsp;
Provide DeviceID</h3>

<p>This permission controls access to the &lt;deviceID&gt; element in
a &lt;tuple&gt; element, as defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the 
element providing this permission is &lt;provide-deviceID&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;deviceID&gt; element
in the service data element is reported to the
watcher. If FALSE, this presence attribute is removed if present. Note
that the &lt;deviceID&gt; in a device data element is always
included, and not controlled by this permission.

</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.4"></a><h3>3.3.2.4.&nbsp;
Provide Mood</h3>

<p>This permission controls access to the &lt;mood&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-mood&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;mood&gt; element
in the person data element is reported to the watcher. If FALSE, this
presence attribute is removed if present.

</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.5"></a><h3>3.3.2.5.&nbsp;
Provide Place-is</h3>

<p>This permission controls access to the &lt;place-is&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-place-is&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;place-is&gt; element
in the person data element is reported to the watcher. If FALSE, this
presence attribute is removed if present.

</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.6"></a><h3>3.3.2.6.&nbsp;
Provide Place-type</h3>

<p>This permission controls access to the &lt;place-type&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-place-type&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;place-type&gt; element
in the person data element is reported to the watcher. If FALSE, this
presence attribute is removed if present.

</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.7"></a><h3>3.3.2.7.&nbsp;
Provide Privacy</h3>

<p>This permission controls access to the &lt;privacy&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-privacy&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;privacy&gt; element
in the person or service data element is reported to the watcher. If
FALSE, this 
presence attribute is removed if present.

</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.8"></a><h3>3.3.2.8.&nbsp;
Provide Relationship</h3>

<p>This permission controls access to the &lt;relationship&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-relationship&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;relationship&gt; element
in the service data element is reported to the watcher. If FALSE, this
presence attribute is removed if present.

</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.9"></a><h3>3.3.2.9.&nbsp;
Provide Sphere</h3>

<p>This permission controls access to the &lt;sphere&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-sphere&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;sphere&gt; element
in the person data element is reported to the watcher. If FALSE, this
presence attribute is removed if present.

</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.10"></a><h3>3.3.2.10.&nbsp;
Provide Status-Icon</h3>

<p>This permission controls access to the &lt;status-icon&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-status-icon&gt;, and
it is a Boolean type. If its value is TRUE, then any
&lt;status-icon&gt; element in the person or service data element is
reported to the watcher. If FALSE, this presence attribute is removed
if present.

</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.11"></a><h3>3.3.2.11.&nbsp;
Provide Time-Offset</h3>

<p>This permission controls access to the &lt;time-offset&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-time-offset&gt;, and it is
a Boolean type. If its value is TRUE, then the &lt;time-offset&gt; element
in the person data element is reported to the watcher. If FALSE, this
presence attribute is removed if present.

</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.12"></a><h3>3.3.2.12.&nbsp;
Provide User-Input</h3>

<p>This permission controls access to the &lt;user-input&gt; element
defined in <a class='info' href='#RFC4480'>[RFC4480]<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a>. The name of the
element providing this permission is &lt;provide-user-input&gt;, and it is
an enumerated integer type. Its value defines what information is
provided to watchers in person, device or service data elements:

</p>
<blockquote class="text"><dl>
<dt>false:</dt>
<dd>This value indicates that the &lt;user-input&gt;
element is removed from the document. It is assigned the numeric value
of 0. 

</dd>
<dt>bare:</dt>
<dd>This value indicates that the
&lt;user-input&gt; element is to be retained. However, any
"idle-threshold" and "since" attributes are to be removed. This value
is assigned the numeric value of 10.

</dd>
<dt>thresholds:</dt>
<dd>This value indicates that the
&lt;user-input&gt; element is to be retained. However, only the
"idle-threshold" attribute is to be retained. This value is assigned
to the numeric value of 20.

</dd>
<dt>full:</dt>
<dd>This value indicates that the
&lt;user-input&gt; element is to be retained, including any
attributes. This value is assigned to the numeric value of 30.

</dd>
</dl></blockquote>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.13"></a><h3>3.3.2.13.&nbsp;
Provide Note</h3>

<p>This permission controls access to the &lt;note&gt; element defined
in <a class='info' href='#RFC3863'>[RFC3863]<span> (</span><span class='info'>Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &ldquo;Presence Information Data Format (PIDF),&rdquo; August&nbsp;2004.</span><span>)</span></a> for &lt;tuple&gt; and <a class='info' href='#RFC4479'>[RFC4479]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Data Model for Presence,&rdquo; July&nbsp;2006.</span><span>)</span></a> for &lt;person&gt; and
&lt;device&gt;. The name of the element providing this permission is
&lt;provide-note&gt;, and it is a Boolean type. If its value is TRUE,
then any &lt;note&gt; elements in the person, service or device data
elements are reported to the watcher. If FALSE, this presence
attribute is removed if present.  
</p>
<p>
This permission has no bearing on any &lt;note&gt; values present
within &lt;activities&gt;, &lt;mood&gt;, &lt;place-is&gt;,
&lt;place-type&gt;, &lt;privacy&gt;, &lt;relationship&gt; or
&lt;service-class&gt; elements. Notes there are essentially values for
their respective elements, and are present if the respective element
is permitted in the presence document. For example, if an
&lt;activities&gt; element is present in a presence document, and
there is a &lt;note&gt; value for it, that note is present in the
document sent to the watcher if the &lt;provide-activities&gt;
permission is given, regardless of whether the &lt;provide-note&gt;
permission is given.

</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.14"></a><h3>3.3.2.14.&nbsp;
Provide Unknown Attribute</h3>

<p>
It is important that systems be allowed to include proprietary or new
presence information, and that users be able to set permissions for
that information, without requiring an upgrade of the presence
server and authorization system. For this reason, the
&lt;provide-unknown-attribute&gt; permission is defined. This permission
indicates that the unknown presence attribute with the given name and
namespace (supplied as mandatory attributes of the
&lt;provide-unknown-attribute&gt; 
element) should be included in the document. Its type is Boolean.

</p>
<p>The value of the name attribute MUST be an unqualified element name
(meaning that a namespace prefix MUST NOT be included), and the the
value of the ns attribute MUST be a namespace URI. The two are
combined to form a qualified element name, which will be
matched to all unknown child elements of the PIDF &lt;tuple&gt;,
&lt;device&gt; or &lt;person&gt; elements with the same qualified
name. In this context, "unknown" means that the presence server is not
aware of any schemas that define authorization policies for that
element. By definition, this will exclude the
&lt;provide-unknown-attribute&gt; rule from being applied to any of
the presence status extensions defined by RPID, since authorization
policies for those are defined here.

</p>
<p> Another consequence of this definition is that the interpretation
of the &lt;provide-unknown-attribute&gt; element can change should the
presence server be upgraded. For example, consider a server which,
prior to the upgrade, had an authorization document that used
&lt;provide-unknown-attribute&gt; with a value of TRUE for some
attribute, say foo. This attribute was from a namespace and schema
unknown to the server, and so the attribute was provided to
watchers. However, after upgrade, the server is now aware of a new
namespace and schema for a permission that grants access to the foo
attribute. Now, the &lt;provide-unknown-attribute&gt; permission for
the foo attribute will be ignored, resulting in a removal of those
elements from presence documents sent to watchers. The system remains
privacy safe, but behavior might not be as expected. Developers of
systems which allow clients to set policies are advised to check the
capabilities of the server, (using the mechanism described in <a class='info' href='#sec-extens'>Section&nbsp;8<span> (</span><span class='info'>Schema Extensibility</span><span>)</span></a>) before uploading a new authorization document,
to make sure that the behavior will be as expected.  
</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2.15"></a><h3>3.3.2.15.&nbsp;
Provide All Attributes</h3>

<p>
This permission grants access to all presence attributes in all of the
person, device and tuple elements that are present in the document
(the ones present in the document are determined by the
&lt;provide-persons&gt;, &lt;provide-devices&gt; and
&lt;provide-services&gt; permissions). It
is effectively a macro that expands into a set of provide-activities,
provide-class, provide-deviceID, provide-mood, provide-place-is,
provide-place-type, provide-privacy, provide-relationship,
provide-sphere, provide-status-icon, provide-time-offset,
provide-user-input, provide-note and provide-unknown-attribute
permissions such that each presence attribute in the document has a
permission for it. This implies that, so long as an entire person,
service or device occurrence is provided, every single presence
attribute, including ones not known to the server and/or defined in
future presence document extensions, is granted to the watcher.

</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
When to Apply the Authorization Policies</h3>

<p>
This specification does not mandate at what point in the processing of
presence data the privacy filtering aspects of the authorization
policy are applied. However, they must be applied such that the final
presence document sent to the watcher is compliant to the privacy
policy described in the authorization documents that apply to the user
(there can be more than one; the rules for combining them are
described in <a class='info' href='#RFC4745'>[RFC4745]<span> (</span><span class='info'>Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;Common Policy: A Document Format for Expressing Privacy Preferences,&rdquo; February&nbsp;2007.</span><span>)</span></a>). More
concretely, if the presence document 
sent to a watcher is D, and the privacy filtering operation applied do
a presence document x is F(x), then D MUST have the property that D =
F(D). In other words, further applications of the privacy filtering
operation would not result in any further changes of the presence document,
making further application of the filtering operation a no-op. A
corollary of this is that F(F(D)) = D for all D.  

</p>
<p>The subscription processing aspects of the document get applied
by the server when it decides to accept or reject the
subscription. 

</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Implementation Requirements</h3>

<p>
The rules defined by the document in this specification form a
"contract" of sorts between a client which creates this document, and
the server which executes the policies it contains. Consequently,
presence servers implementing this specification MUST support all of
the conditions, actions, and transformations defined in this
specification. If servers were to implement a subset of these, clients
would need a mechanism to discover which subset is supported. No such
mechanism is defined.

</p>
<p>
It is RECOMMENDED that clients support all of the actions,
transformations and conditions defiend in this specification. If a
client supports a subset, it is possible that a user might manipulate
their authorization rules from a different client, supporting a
different subset, and store those results on the server. When the user
goes back to the first client and views their presence authorization
rules there, the client may not be able to properly render or
manipulate the document retrieved from the server, since it may
contain conditions, actions or transformations not supported by the
client. The only reason that this normative requirement is not a MUST
is that there are valid conditions in which a user manipulates their
presence authorization rules from a single client, in which case
this problem does not occur. 

</p>
<p>
This specification makes no normative recommendations on the mechanism
used to transport presence authorization documents from clients to
their servers. Although <a class='info' href='#sec-xcap'>Section&nbsp;9<span> (</span><span class='info'>XCAP Usage</span><span>)</span></a> defines how to
utilize XCAP, XCAP is not normatively required by this specification. 

</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Example Document</h3>

<p>
The following presence authorization document specifies permissions
for the user "user@example.com". The watcher is allowed to access
presence information (the 'allow' value for
&lt;sub-handling&gt;). They will be granted access to the presence
data of all services whose contact URI schemes are sip and
mailto. Person information is also provided. However, since there is
no &lt;provide-devices&gt;, no device information will be given to the
watcher. Within the service and person information provided to the
watcher, the &lt;activities&gt; element will be shown, as will the
&lt;user-input&gt; element. However, any "idle-threshold" and "since"
attributes in the &lt;user-input&gt; element will be removed. Finally,
the presence attribute &lt;foo&gt; will be shown to the watcher. Any
other presence attributes will be removed.

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;cr:ruleset xmlns="urn:ietf:params:xml:ns:pres-rules"
 xmlns:pr="urn:ietf:params:xml:ns:pres-rules"
 xmlns:cr="urn:ietf:params:xml:ns:common-policy"&gt;
 &lt;cr:rule id="a"&gt;
  &lt;cr:conditions&gt;
   &lt;cr:identity&gt;
    &lt;cr:one id="sip:user@example.com"/&gt;
   &lt;/cr:identity&gt;
  &lt;/cr:conditions&gt;
  &lt;cr:actions&gt;
   &lt;pr:sub-handling&gt;allow&lt;/pr:sub-handling&gt;
  &lt;/cr:actions&gt;
  &lt;cr:transformations&gt;
   &lt;pr:provide-services&gt;
     &lt;pr:service-uri-scheme&gt;sip&lt;/pr:service-uri-scheme&gt;
     &lt;pr:service-uri-scheme&gt;mailto&lt;/pr:service-uri-scheme&gt;
   &lt;/pr:provide-services&gt;
   &lt;pr:provide-persons&gt;
     &lt;pr:all-persons/&gt;
   &lt;/pr:provide-persons&gt;
   &lt;pr:provide-activities&gt;true&lt;/pr:provide-activities&gt;
   &lt;pr:provide-user-input&gt;bare&lt;/pr:provide-user-input&gt;
    &lt;pr:provide-unknown-attribute
     ns="urn:vendor-specific:foo-namespace"
     name="foo"&gt;true&lt;/pr:provide-unknown-attribute&gt;
  &lt;/cr:transformations&gt;
 &lt;/cr:rule&gt;
&lt;/cr:ruleset&gt;

</pre></div>
<a name="sec:schema"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
XML Schema</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema targetNamespace="urn:ietf:params:xml:ns:pres-rules"
 xmlns:xs="http://www.w3.org/2001/XMLSchema"
 xmlns:cr="urn:ietf:params:xml:ns:common-policy"
 xmlns:pr="urn:ietf:params:xml:ns:pres-rules"
 elementFormDefault="qualified" attributeFormDefault="unqualified"&gt;
 &lt;xs:import namespace="urn:ietf:params:xml:ns:common-policy"/&gt;
 &lt;xs:simpleType name="booleanPermission"&gt;
  &lt;xs:restriction base="xs:boolean"/&gt;
 &lt;/xs:simpleType&gt;
 &lt;xs:element name="service-uri-scheme" type="xs:token"/&gt;
 &lt;xs:element name="class" type="xs:token"/&gt;
 &lt;xs:element name="occurrence-id" type="xs:token"/&gt;
 &lt;xs:element name="service-uri" type="xs:anyURI"/&gt;
 &lt;xs:complexType name="provideServicePermission"&gt;
  &lt;xs:choice&gt;
   &lt;xs:element name="all-services"&gt;
    &lt;xs:complexType/&gt;
   &lt;/xs:element&gt;
   &lt;xs:sequence minOccurs="0" maxOccurs="unbounded"&gt;
    &lt;xs:choice&gt;
     &lt;xs:element ref="pr:service-uri"/&gt;
     &lt;xs:element ref="pr:service-uri-scheme"/&gt;
     &lt;xs:element ref="pr:occurrence-id"/&gt;
     &lt;xs:element ref="pr:class"/&gt;
     &lt;xs:any namespace="##other" processContents="lax"/&gt;
    &lt;/xs:choice&gt;
   &lt;/xs:sequence&gt;
  &lt;/xs:choice&gt;
 &lt;/xs:complexType&gt;
 &lt;xs:element name="provide-services"
  type="pr:provideServicePermission"/&gt;
 &lt;xs:element name="deviceID" type="xs:anyURI"/&gt;
 &lt;xs:complexType name="provideDevicePermission"&gt;
  &lt;xs:choice&gt;
   &lt;xs:element name="all-devices"&gt;
    &lt;xs:complexType/&gt;
   &lt;/xs:element&gt;
   &lt;xs:sequence minOccurs="0" maxOccurs="unbounded"&gt;
    &lt;xs:choice&gt;
     &lt;xs:element ref="pr:deviceID"/&gt;
     &lt;xs:element ref="pr:occurrence-id"/&gt;
     &lt;xs:element ref="pr:class"/&gt;
     &lt;xs:any namespace="##other" processContents="lax"/&gt;
    &lt;/xs:choice&gt;
   &lt;/xs:sequence&gt;
  &lt;/xs:choice&gt;
 &lt;/xs:complexType&gt;
 &lt;xs:element name="provide-devices"
  type="pr:provideDevicePermission"/&gt;
 &lt;xs:complexType name="providePersonPermission"&gt;
  &lt;xs:choice&gt;
   &lt;xs:element name="all-persons"&gt;
    &lt;xs:complexType/&gt;
   &lt;/xs:element&gt;
   &lt;xs:sequence minOccurs="0" maxOccurs="unbounded"&gt;
    &lt;xs:choice&gt;
     &lt;xs:element ref="pr:occurrence-id"/&gt;
     &lt;xs:element ref="pr:class"/&gt;
     &lt;xs:any namespace="##other" processContents="lax"/&gt;
    &lt;/xs:choice&gt;
   &lt;/xs:sequence&gt;
  &lt;/xs:choice&gt;
 &lt;/xs:complexType&gt;
 &lt;xs:element name="provide-persons"
  type="pr:providePersonPermission"/&gt;
 &lt;xs:element name="provide-activities"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-class"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-deviceID"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-mood"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-place-is"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-place-type"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-privacy"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-relationship"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-status-icon"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-sphere"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-time-offset"
  type="pr:booleanPermission"/&gt;
 &lt;xs:element name="provide-user-input"&gt;
  &lt;xs:simpleType&gt;
   &lt;xs:restriction base="xs:string"&gt;
    &lt;xs:enumeration value="false"/&gt;
    &lt;xs:enumeration value="bare"/&gt;
    &lt;xs:enumeration value="thresholds"/&gt;
    &lt;xs:enumeration value="full"/&gt;
   &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
 &lt;/xs:element&gt;
 &lt;xs:element name="provide-note" type="pr:booleanPermission"/&gt;
 &lt;xs:element name="sub-handling"&gt;
  &lt;xs:simpleType&gt;
   &lt;xs:restriction base="xs:token"&gt;
    &lt;xs:enumeration value="block"/&gt;
    &lt;xs:enumeration value="confirm"/&gt;
    &lt;xs:enumeration value="polite-block"/&gt;
    &lt;xs:enumeration value="allow"/&gt;
   &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
 &lt;/xs:element&gt;
 &lt;xs:complexType name="unknownBooleanPermission"&gt;
  &lt;xs:simpleContent&gt;
   &lt;xs:extension base="pr:booleanPermission"&gt;
    &lt;xs:attribute name="name" type="xs:string" use="required"/&gt;
    &lt;xs:attribute name="ns" type="xs:string" use="required"/&gt;
   &lt;/xs:extension&gt;
  &lt;/xs:simpleContent&gt;
 &lt;/xs:complexType&gt;
 &lt;xs:element name="provide-unknown-attribute"
  type="pr:unknownBooleanPermission"/&gt;
 &lt;xs:element name="provide-all-attributes"&gt;
  &lt;xs:complexType/&gt;
 &lt;/xs:element&gt;
&lt;/xs:schema&gt;


</pre></div>
<a name="sec-extens"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Schema Extensibility</h3>

<p>
It is anticipated that future changes to this specification are
accomplished through extensions that define new types of
permissions. These extensions MUST exist within a different
namespace. Furthermore, the schema defined above and the namespace for
elements defined within it MUST NOT be altered by future
specifications. Changes in the basic schema, or in the interpretation
of elements within that schema, may result in violations of user
privacy due to mis-interpretation of documents. 

</p>
<p>
When extensions are made to the set of permissions, it becomes
necessary for the agent constructing the permission document
(typically a SIP user agent, though not necessarily) to know which
permissions are supported by the server. This allows the agent to know
how to build a document which results in the desired behavior, since
unknown permissions would be ignored by the server. To handle this,
when presence authorization documents are transported using XCAP, the
XCAP capabilities document stored at the server SHOULD contain the
namespaces for the permissions supported by the presence server. This
way, an agent can query for this list prior to constructing a
document. 

</p>
<a name="sec-xcap"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
XCAP Usage</h3>

<p>
The following section defines the details necessary for clients to
manipulate presence authorization documents from a server using XCAP.

</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Application Unique ID</h3>

<p>
XCAP requires application usages to define a unique application usage
ID (AUID) in either the IETF tree or a vendor tree. This specification
defines the "pres-rules" AUID within the IETF tree, via the IANA
registration in <a class='info' href='#sec:iana'>Section&nbsp;11<span> (</span><span class='info'>IANA Considerations</span><span>)</span></a>.

</p>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2"></a><h3>9.2.&nbsp;
XML Schema</h3>

<p>
XCAP requires application usages to define a schema for their
documents. The schema for presence authorization documents is in <a class='info' href='#sec:schema'>Section&nbsp;7<span> (</span><span class='info'>XML Schema</span><span>)</span></a>.

</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3"></a><h3>9.3.&nbsp;
Default Namespace</h3>

<p>
XCAP requires application usages to define the default namespace for
their documents. The default namespace is
urn:ietf:params:xml:ns:pres-rules.

</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4"></a><h3>9.4.&nbsp;
MIME Type</h3>

<p>
XCAP requires application usages to defined the MIME type for
documents they carry. Presence authorization
documents inherit the MIME type of common policy documents,
application/auth-policy+xml.

</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.5"></a><h3>9.5.&nbsp;
Validation Constraints</h3>

<p>There are no additional constraints defined by this specification.

</p>
<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6"></a><h3>9.6.&nbsp;
Data Semantics</h3>

<p>
Semantics of a presence authorization document are discussed in <a class='info' href='#sec:struc'>Section&nbsp;3<span> (</span><span class='info'>Structure of Presence Authorization Documents</span><span>)</span></a>.

</p>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7"></a><h3>9.7.&nbsp;
Naming Conventions</h3>

<p>
When a presence agent receives a subscription for some user foo within
a domain, it will look for all documents within http://[xcap
root]/pres-rules/users/foo, and use all documents 
found beneath that point to guide authorization policy. If only a
single document is used, it SHOULD be called "index".

</p>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.8"></a><h3>9.8.&nbsp;
Resource Interdependencies</h3>

<p>
There are no additional resource interdependencies defined by this
application usage.

</p>
<a name="anchor40"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.9"></a><h3>9.9.&nbsp;
Authorization Policies</h3>

<p>
This application usage does not modify the default XCAP authorization
policy, which is that only a user can read, write or modify their own
documents. A server can allow privileged users to modify documents
that they don't own, but the establishment and indication of such
policies is outside the scope of this document.

</p>
<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Security Considerations</h3>

<p>
Presence authorization policies contain very sensitive
information. They indicate which other users are "liked" or "disliked"
by a user. As such, when these documents are transported over a
network, they SHOULD be encrypted.

</p>
<p>
Modification of these documents by an attacker can disrupt the service
seen by a user, often in subtle ways. As a result, when these
documents are transported, the transport SHOULD provide authenticity
and message integrity.

</p>
<p>
In the case where XCAP is used to transfer the document, both clients
and servers MUST implement HTTP over TLS and HTTP Digest
authentication. Sites SHOULD authenticate clients using digest
authentication over TLS, and sites SHOULD define the root services
URI as an https URI. 

</p>
<p>
Authorization documents themselves exist for the purposes of providing
a security function - privacy. The SIP presence specifications <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a> require
the usage of an authorization function prior to the granting of
presence information, and this specification meets that
need. Presence authorization documents inherit the privacy properties
of the common policy format on which they are based. This format has
been designed to be privacy-safe, which means that failure of the
presence server to obtain or understand an authorization document can
never reveal more information than is desired about the user, only
less. This is a consequence of the fact that all permissions are
positive grants of information, and not negative grants. 

</p>
<p>
A consequence of this design is that the results of combining several
authorization documents can be non-obvious to end users. For example,
if one authorization document grants permission for all users from the
example.com domain to see their presence, and another document blocks
joe@example.com, the combination of these will still provide presence
to joe@example.com. Designers of user interfaces are encouraged to
carefully pay attention to the results of combining multiple
rules. 

</p>
<p>
Another concern are cases where a user sets their privacy preferences
from one client, uploads their presence authorization document to
a server, and then modifies them from a different client. If the
clients support different subsets of the document format, users
may be confused about what information is being revealed. Clients
retrieving presence authorization documents from a server SHOULD
render, to the users, information about rules that they do not
understand, so that users can be certain what rules are in place.

</p>
<a name="sec:iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
IANA Considerations</h3>

<p>
There are several IANA considerations associated with this specification. 

</p>
<a name="anchor42"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.1"></a><h3>11.1.&nbsp;
XCAP Application Usage ID</h3>

<p>
This section registers an XCAP Application Usage ID (AUID)
according to the IANA procedures defined in <a class='info' href='#I-D.ietf-simple-xcap'>[I&#8209;D.ietf&#8209;simple&#8209;xcap]<span> (</span><span class='info'>Rosenberg, J., &ldquo;The Extensible Markup Language (XML) Configuration Access Protocol (XCAP),&rdquo; October&nbsp;2006.</span><span>)</span></a>.

</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>Name of the AUID: pres-rules
</dd>
<dt></dt>
<dd>Description: Presence rules are documents that describe the
permissions that a <a class='info' href='#RFC2778'>presentity<span> (</span><span class='info'>Day, M., Rosenberg, J., and H. Sugano, &ldquo;A Model for Presence and Instant Messaging,&rdquo; February&nbsp;2000.</span><span>)</span></a> [RFC2778] has
granted to users that seek to watch their presence. 

</dd>
</dl></blockquote>
<a name="anchor43"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.2"></a><h3>11.2.&nbsp;
URN Sub-Namespace Registration</h3>

<p>
This section registers a new XML namespace, per the guidelines
in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>
</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>URI: The URI for this namespace is
urn:ietf:params:xml:ns:pres-rules.
</dd>
<dt></dt>
<dd>Registrant Contact: IETF, SIMPLE working group,
(simple@ietf.org), Jonathan Rosenberg
(jdrosen@jdrosen.net).
</dd>
<dt></dt>
<dd>XML: 
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

        BEGIN
        &lt;?xml version="1.0"?&gt;
        &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
         "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
        &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
        &lt;head&gt;
          &lt;meta http-equiv="content-type"
             content="text/html;charset=iso-8859-1"/&gt;
          &lt;title&gt;Presence Rules Namespace&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;Namespace for Permission Statements&lt;/h1&gt;
          &lt;h2&gt;urn:ietf:params:xml:ns:pres-rules&lt;/h2&gt;
        &lt;p&gt;See &lt;a href="[[[URL of published RFC]]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
        &lt;/body&gt;
        &lt;/html&gt;
        END
</pre></div>
</dd>
</dl></blockquote>
<a name="anchor44"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.3"></a><h3>11.3.&nbsp;
XML Schema Registrations</h3>

<p>This section registers an XML schema per the procedures in
<a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.

</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>URI: urn:ietf:params:xml:schema:pres-rules.
</dd>
<dt></dt>
<dd>Registrant Contact: IETF, SIMPLE working group,
(simple@ietf.org), Jonathan Rosenberg
(jdrosen@jdrosen.net).
</dd>
<dt></dt>
<dd>The XML for this schema can be found as the sole content of <a class='info' href='#sec:schema'>Section&nbsp;7<span> (</span><span class='info'>XML Schema</span><span>)</span></a>.
</dd>
</dl></blockquote>
<a name="anchor45"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Acknowledgements</h3>

<p>
The authors would like to thank Richard Barnes, Jari Urpalainen, Jon
Peterson, and Martin Hynar for their comments.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-simple-xcap">[I-D.ietf-simple-xcap]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-12.txt">The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)</a>,&rdquo; draft-ietf-simple-xcap-12 (work in progress), October&nbsp;2006 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-12.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3863">[RFC3863]</a></td>
<td class="author-text">Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &ldquo;<a href="http://tools.ietf.org/html/rfc3863">Presence Information Data Format (PIDF)</a>,&rdquo; RFC&nbsp;3863, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3863.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2617">[RFC2617]</a></td>
<td class="author-text"><a href="mailto:john@math.nwu.edu">Franks, J.</a>, <a href="mailto:pbaker@verisign.com">Hallam-Baker, P.</a>, <a href="mailto:jeff@AbiSource.com">Hostetler, J.</a>, <a href="mailto:lawrence@agranat.com">Lawrence, S.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, Luotonen, A., and <a href="mailto:stewart@OpenMarket.com">L. Stewart</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2617">HTTP Authentication: Basic and Digest Access Authentication</a>,&rdquo; RFC&nbsp;2617, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2617.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2617.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2617.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3857">[RFC3857]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc3857">A Watcher Information Event Template-Package for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3857, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3857.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3265">[RFC3265]</a></td>
<td class="author-text">Roach, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3265">Session Initiation Protocol (SIP)-Specific Event Notification</a>,&rdquo; RFC&nbsp;3265, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3265.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4745">[RFC4745]</a></td>
<td class="author-text">Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J., Polk, J., and J. Rosenberg, &ldquo;<a href="http://tools.ietf.org/html/rfc4745">Common Policy: A Document Format for Expressing Privacy Preferences</a>,&rdquo; RFC&nbsp;4745, February&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4745.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4480">[RFC4480]</a></td>
<td class="author-text">Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;<a href="http://tools.ietf.org/html/rfc4480">RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF)</a>,&rdquo; RFC&nbsp;4480, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4480.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4479">[RFC4479]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4479">A Data Model for Presence</a>,&rdquo; RFC&nbsp;4479, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4479.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3966">[RFC3966]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://tools.ietf.org/html/rfc3966">The tel URI for Telephone Numbers</a>,&rdquo; RFC&nbsp;3966, December&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3966.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3987">[RFC3987]</a></td>
<td class="author-text">Duerst, M. and M. Suignard, &ldquo;<a href="http://tools.ietf.org/html/rfc3987">Internationalized Resource Identifiers (IRIs)</a>,&rdquo; RFC&nbsp;3987, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3987.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3323">[RFC3323]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc3323">A Privacy Mechanism for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3323, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3323.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC4474">[RFC4474]</a></td>
<td class="author-text">Peterson, J. and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc4474">Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;4474, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4474.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3325">[RFC3325]</a></td>
<td class="author-text">Jennings, C., Peterson, J., and M. Watson, &ldquo;<a href="http://tools.ietf.org/html/rfc3325">Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks</a>,&rdquo; RFC&nbsp;3325, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3325.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2778">[RFC2778]</a></td>
<td class="author-text"><a href="mailto:mday@alum.mit.edu">Day, M.</a>, <a href="mailto:jdrosen@dynamicsoft.com">Rosenberg, J.</a>, and <a href="mailto:suga@flab.fujitsu.co.jp">H. Sugano</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2778">A Model for Presence and Instant Messaging</a>,&rdquo; RFC&nbsp;2778, February&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2778.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3856">[RFC3856]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc3856">A Presence Event Package for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3856, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3856.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jonathan Rosenberg</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Edison, NJ</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jdrosen@cisco.com">jdrosen@cisco.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.jdrosen.net">http://www.jdrosen.net</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2007).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
