



Link State Routing Working Group                             M. Liu, Ed.
Internet-Draft                                              Y. Wang, Ed.
Intended status: Standards Track                                  Huawei
Expires: August 31, 2020                               February 28, 2020


         IS-IS Extensions for Advertising iFIT Node Capability
               draft-liu-lsr-isis-ifit-node-capability-00

Abstract

   This document defines a way for an Intermediate System to
   Intermediate System (IS-IS) routers to advertise iFIT(in-situ Flow
   Information Telemetry) capabilities.  This document extends a new
   optional sub-TLV in the IS-IS Router CAPABILITY TLV [RFC7981], which
   allows a router to announce its iFIT node capabilities within an IS-
   IS level or the entire routing domain.  Such advertisements enable
   iFIT applications in the network domain.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 31, 2020.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.





Liu & Wang               Expires August 31, 2020                [Page 1]

Internet-Draft draft-liu-lsr-isis-ifit-node-capability-00  February 2020


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  iFIT Domain . . . . . . . . . . . . . . . . . . . . . . .   3
     1.2.  iFIT Node Capability Information  . . . . . . . . . . . .   3
   2.  Advertisement of the iFIT Node Capabilities in ISIS . . . . .   3
     2.1.  iFIT Node Capability Sub-TLV  . . . . . . . . . . . . . .   3
   3.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
     3.1.  Sub-TLVs for the IS-IS Router CAPABILITY TLV (242)  . . .   5
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     6.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   iFIT provides a complete framework architecture and a reflection-loop
   working solution for on-path flow telemetry
   [I-D.song-opsawg-ifit-framework].  At present, there are a family of
   emerging on-path flow telemetry techniques, including In-situ OAM
   (IOAM) [I-D.ietf-ippm-ioam-data], PBT
   [I-D.song-ippm-postcard-based-telemetry] , IOAM Direct Export (DEX)
   [I-D.ioamteam-ippm-ioam-direct-export] , Enhanced Alternate Marking
   (EAM) [I-D.zhou-ippm-enhanced-alternate-marking], etc.  iFIT is a
   solution focusing on network domains.  The "network domain" consists
   of a set of network devices or entities within a single
   administration.  For example, a network domain can be one or more IGP
   routing domains.  The family of emerging on-path flow telemetry
   techniques may be selectively or partially implemented in different
   vendors' devices as an emerging feature for various use cases of
   application-aware network operations.  Hence, in order to enable iFIT
   applications in an operational network domain, iFIT node capabilities
   SHOULD be advertised by every Intermediate System to Intermediate
   System (IS-IS) router in the network domain.





Liu & Wang               Expires August 31, 2020                [Page 2]

Internet-Draft draft-liu-lsr-isis-ifit-node-capability-00  February 2020


1.1.  iFIT Domain

   iFIT is expected to be deployed in a specific domain referred as the
   iFIT domain.  An iFIT domain may cross multiple network domains.  One
   network domain may consists of multiple iFIT domain.  Within the iFIT
   domain, the iFIT data fields of flow information head MAY be updated
   by network nodes that the packet traverses.

1.2.  iFIT Node Capability Information

   Each iFIT node is configured with a node-id which uniquely identifies
   a node within the associated iFIT domain.  To accommodate the
   different use cases or requirements of in-situ flow information
   telemetry, iFIT data fields updated by network nodes fall into
   different categories which are referred as different iFIT option
   types, including IOAM Trace Option-Types [I-D.ietf-ippm-ioam-data],
   IOAM Edge-to-Edge (E2E) Option-Type [I-D.ietf-ippm-ioam-data], IOAM
   DEX Option-Type [I-D.ioamteam-ippm-ioam-direct-export] and Enhanced
   Alternate Marking (EAM) Option-Type
   [I-D.zhou-ippm-enhanced-alternate-marking].  So iFIT Option Types
   SHOULD be carried in iFIT node capability advertisment.

2.  Advertisement of the iFIT Node Capabilities in ISIS

   The IS-IS Extensions for Advertising Router Information TLV named IS-
   IS Router CAPABILITY TLV [RFC7981], which allows a router to announce
   its capabilities within an IS-IS level or the entire routing domain,
   has been chosen for iFIT node capabilities advertisement.  IS-IS
   Router CAPABILITY TLV is formed of multiple sub-TLVs [RFC5305].

2.1.  iFIT Node Capability Sub-TLV

   According to the format of IS-IS Router CAPABILITY TLV [RFC7981], the
   iFIT Node Capability sub-TLV is composed of three fields, a one-octet
   Type field, a one-octet Length field, and zero or more octets of
   Value.  The Type field indicates the type of items in the Value
   field.  The Length field indicates the length of the Value field in
   octets.  The Value field indicates the iFIT Node Capability, which is
   a 2-octet iFIT Option Type-enabled Flag.

   The iFIT Node-capability Sub-TLV has the following format:










Liu & Wang               Expires August 31, 2020                [Page 3]

Internet-Draft draft-liu-lsr-isis-ifit-node-capability-00  February 2020


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +---------------+---------------+-------------------------------+
       |      Type     |    Length     |iFIT Option Type-enabled Flag  |
       +---------------+---------------+-------------------------------+


                Fig. 1 iFIT Node Capability Sub-TLV Format

   Type: To be assigned by IANA

   Length: A 8-bit field that indicates the length of the value portion
   in octets.

   iFIT Option Type-enabled Flag: A 2-octet field that is defined as
   following:

         0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
        +-------------------------------+
        |p|i|d|e|m|       Reserved      |
        +-------------------------------+


   Where:

   p-Flag: iOAM Pre-allocated Trace Option Type-enabled flag.  If p bit
   is set (1), the router is capable of iOAM Pre-allocated Trace
   [I-D.ietf-ippm-ioam-data].

   i-Flag: iOAM Incremental Trace Option Type-enabled flag.  If i bit is
   set (1), the router is capable of iOAM Incremental Tracing
   [I-D.ietf-ippm-ioam-data].

   d-Flag: iOAM DEX Option Type-enabled flag.  If d bit is set (1), the
   router is capable of iOAM DEX [I-D.ioamteam-ippm-ioam-direct-export].

   e-Flag: iOAM E2E Option Type-enabled flag.  If e bit is set (1), the
   router is capable of iOAM E2E processing [I-D.ietf-ippm-ioam-data].

   m-Flag: Enhanced Alternative Marking enabled flag.  If m bit is set
   (1), then the router is capable of processing Enhanced Alternative
   Marking packets [I-D.zhou-ippm-enhanced-alternate-marking].

   Reserved: Must be set to zero upon transmission and ignored upon
   receipt.






Liu & Wang               Expires August 31, 2020                [Page 4]

Internet-Draft draft-liu-lsr-isis-ifit-node-capability-00  February 2020


   An iFIT node SHALL be capable of more than one iFIT option types.  So
   for this case, iFIT Option Type-enabled Flag bitmap SHOULD has more
   than one bit being set.

3.  IANA Considerations

   Note to RFC Editor: this section may be removed on publication as an
   RFC.

3.1.  Sub-TLVs for the IS-IS Router CAPABILITY TLV (242)

   This document makes the following registrations for a Sub-TLV type of
   the new Sub-TLV proposed in Section 3 of this document from the "Sub-
   TLVs for TLV 242 (IS-IS Router CAPABILITY TLV)" registry.

                      +------+----------------------+
                      | Type | Description          |
                      +------+----------------------+
                      | TBD  | iFIT Node Capability |
                      +------+----------------------+

4.  Security Considerations

   This document introduces new sub-TLVs for the existing IS-IS Router
   capability TLV.  It does not introduce any new security risks to
   ISIS.

5.  Acknowledgements

6.  References

6.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5305]  "IS-IS Extensions for Traffic Engineering",
              <https://www.rfc-editor.org/info/rfc5305>.

   [RFC7981]  "IS-IS Extensions for Advertising Router Information",
              <https://www.rfc-editor.org/info/rfc7981>.








Liu & Wang               Expires August 31, 2020                [Page 5]

Internet-Draft draft-liu-lsr-isis-ifit-node-capability-00  February 2020


6.2.  Informative References

   [I-D.ietf-ippm-ioam-data]
              "Data Fields for In-situ OAM".

   [I-D.ioamteam-ippm-ioam-direct-export]
              "In-situ OAM Direct Exporting",
              <https://datatracker.ietf.org/doc/draft-ioamteam-ippm-
              ioam-direct-export/>.

   [I-D.song-ippm-postcard-based-telemetry]
              "Postcard-based On-Path Flow Data Telemetry",
              <https://datatracker.ietf.org/doc/draft-song-ippm-
              postcard-based-telemetry/>.

   [I-D.song-opsawg-ifit-framework]
              "In-situ Flow Information Telemetry Framework",
              <https://datatracker.ietf.org/doc/draft-song-opsawg-ifit-
              framework/>.

   [I-D.zhou-ippm-enhanced-alternate-marking]
              "Enhanced Alternate Marking Method",
              <https://datatracker.ietf.org/doc/draft-zhou-ippm-
              enhanced-alternate-marking/>.

Authors' Addresses

   Min Liu (editor)
   Huawei
   156 Beiqing Rd., Haidian District
   Beijing
   China

   Email: lucy.liumin@huawei.com


   Yali Wang (editor)
   Huawei
   156 Beiqing Rd., Haidian District
   Beijing
   China

   Email: wangyali11@huawei.com








Liu & Wang               Expires August 31, 2020                [Page 6]
