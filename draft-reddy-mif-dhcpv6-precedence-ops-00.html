<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Relay-Supplied DHCPv6 Precedence Options</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Usage Scenarios">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 IPv6 Multihoming">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Disabling IPv6 Temporary Addresses">
<link href="#rfc.section.3.2.1" rel="Chapter" title="3.2.1 Avoiding Excessive IP-Based Authentication">
<link href="#rfc.section.3.2.2" rel="Chapter" title="3.2.2 Reducing Management Impact">
<link href="#rfc.section.4" rel="Chapter" title="4 Options">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Relay-Supplied Prefix Option">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Absolute Precedence Option">
<link href="#rfc.section.5" rel="Chapter" title="5 Relay Agent Behaviour">
<link href="#rfc.section.6" rel="Chapter" title="6 DHCPv6 Server Behaviour">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Relay-Supplied Prefix Option">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Absolute Precedence Option">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Considerations">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.references.1" rel="Chapter" title="9.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="9.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Network configuration of hosts is currently relatively static with little consideration of dynamic network characteristics. The network infrastructure is aware of dynamic network characteristics. This specification extends DHCPv6 so that the DHCPv6 relay agent can influence a host's configuration." />
  <meta name="description" content="Network configuration of hosts is currently relatively static with little consideration of dynamic network characteristics. The network infrastructure is aware of dynamic network characteristics. This specification extends DHCPv6 so that the DHCPv6 relay agent can influence a host's configuration." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">MIF Working Group</td>
<td class="right">T. Reddy</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">P. Patil</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">D. Wing</td>
</tr>
<tr>
<td class="left">Expires: April 16, 2012</td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 14, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Relay-Supplied DHCPv6 Precedence Options<br />
  <span class="filename">draft-reddy-mif-dhcpv6-precedence-ops-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Network configuration of hosts is currently relatively static with little consideration of dynamic network characteristics. The network infrastructure is aware of dynamic network characteristics. This specification extends DHCPv6 so that the DHCPv6 relay agent can influence a host's configuration.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 16, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Usage Scenarios</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">IPv6 Multihoming</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Disabling IPv6 Temporary Addresses</a>
</li>
<li>3.2.1.   <a href="#rfc.section.3.2.1">Avoiding Excessive IP-Based Authentication</a>
</li>
<li>3.2.2.   <a href="#rfc.section.3.2.2">Reducing Management Impact</a>
</li>
<li>4.   <a href="#rfc.section.4">Options</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Relay-Supplied Prefix Option</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Absolute Precedence Option</a>
</li>
<li>5.   <a href="#rfc.section.5">Relay Agent Behaviour</a>
</li>
<li>6.   <a href="#rfc.section.6">DHCPv6 Server Behaviour</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Relay-Supplied Prefix Option</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Absolute Precedence Option</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">IANA Considerations</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li>9.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>9.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">DHCPv6 allows relatively static information to be configured in hosts, which is somewhat limiting. On a dynamic network, the DHCPv6 relay agent can observe characteristics of a network -- such as IPv6 multihoming which might be temporarily unavailable or need load balancing of traffic towards each upstream ISPs. By including additional information in relayed DHCPv6 messages, the DHCPv6 relay agent can influence the DHCPv6 server to provide answers that are better suited to the host's configuration on the network.</p>
<p id="rfc.section.1.p.2">In this document we propose new DHCPv6 options to be added by the DHCPv6 relay agent when it generates a Relay-Forwarded message. These new DHCPv6 options convey information about the host and about dynamic network characteristics to influence the DHCPv6 server to generate a reply that is appropriate for that host and the current network characteristics.</p>
<p id="rfc.section.1.p.3">An initial desire is to influence the DHCPv6 server's responses that modify the host's address policy table <a href="#I-D.ietf-6man-addr-select-opt">[I-D.ietf-6man-addr-select-opt]</a> based on observed network characteristics.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#terminology" id="terminology">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#usage_scenarios" id="usage_scenarios">Usage Scenarios</a>
</h1>
<p id="rfc.section.3.p.1">The DHCPv6 extension described in this document is useful with IPv6 multihoming and with IP address-based authentication.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#IPv6_multihoming" id="IPv6_multihoming">IPv6 Multihoming</a>
</h1>
<p id="rfc.section.3.1.p.1">There are two multihoming scenarios where the Absolute Precedence option is useful.</p>
<p id="rfc.section.3.1.p.2">The first scenario is in multihoming with provider-aggregatable (PA) address space, a host is given an IPv6 address from each ISP. It is often desirable to provide some load balancing between those ISPs.  This can be accomplished by the relay agent using the Absolute Precedence option described in the document. The relay agent can add an Absolute Precedence option to the DHCPv6 request suggesting the desired source prefix and prioritized destination prefixes as per the network's load balancing schema. ISP destination prefixes can be prioritized by setting Precedence value in the Absolute Precedence option, i.e the prefix with higher precedence will be preferred over the prefix with lower precedence.</p>
<p id="rfc.section.3.1.p.3">The second scenario is when a private link exists between two businesses, it can be desirable for certain high-value traffic to use that link rather than using the Internet. To use this link, the host needs to prefer the IPv6 prefix that causes its traffic to be routed on that link. Policy may influence which hosts are supposed to use that link (e.g., access type, time of day).</p>
<p id="rfc.section.3.1.p.4">For example consider two sites, A and B, which are connected to the Internet and also have a private, high-speed link between them. Site A has prefix 2001:aaaa:aaaa::/48 from the high-performance network and prefix 2007:0:aaaa::/48 from its Internet-connected service provider.  Site B has prefix 2001:bbbb:bbbb::/48 from the high-performance network and prefix 2007:0:bbbb::/48 from its Internet-connected service provider. The high-performance ISP is expensive and the two sites wish to use it only for their business-critical traffic with each other. All hosts have two IPv6 addresses and two AAAA records in DNS. Using the new DHCPv6 options described in this document, the DHCP relay agent would determine a host should be allowed to use the high-performance link, so the DHCPv6 relay agent would add the Absolute Precedence Option to the DHCPv6 request from that host. The Absolute Precedence Option would set a higher precedence for the high-speed prefix, destination prefix 2001:bbbb:bbbb::/48. This would request the DHCPv6 server return a response that influences the host's prefix policy table.</p>
<p id="rfc.section.3.1.p.5">Discussion: The second scenario seems solvable by grouping hosts into separate VLANs. However, this is undesirable because segregating using VLANs becomes cumbersome with a large number of VLANs. It also required to configure static policy tables in the DHCPv6 server for each VLAN, which is not commonly done today. This problem can be better solved using the Absolute Precedence option defined in this document. Based on various attributes, the relay agent could add an Absolute Precedence option to the DHCPv6 request indicating the desired source prefixes to be assigned based on the host characteristics and destination prefixes with precedence value set accordingly to pick the right link thus providing a cleaner solution to the problem.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> <a href="#temp_address" id="temp_address">Disabling IPv6 Temporary Addresses</a>
</h1>
<h1 id="rfc.section.3.2.1">
<a href="#rfc.section.3.2.1">3.2.1.</a> Avoiding Excessive IP-Based Authentication</h1>
<p id="rfc.section.3.2.1.p.1">Some managed networks authenticate hosts with an authentication supplicant or, for hosts lacking the supplicant, address-based authentication. When Address-based authentication is used, re-authentication occurs for each address obtained by the host, which can create a lot of authentication transactions. To reduce this chatter, it can be useful to disable <a href="#RFC4941">IPv6 Privacy Addresses</a> <cite title="NONE">[RFC4941]</cite> on those hosts using address-based authentication.</p>
<p id="rfc.section.3.2.1.p.2">The relay agent may be configured with the external prefixes that will be assigned to the host. In that case, the relay agent would use the Absolute Prefecedence option. In the case where the relay agent is unaware of the external prefixes that will be assigned to the host, the relay agent uses the Relative Precedence option.  Details for processing those options are described later in the document.</p>
<p id="rfc.section.3.2.1.p.3">Whenever either of those options is used, a DHCPv6 server that understands those options will ignore the IA_TA options in the DHCPv6 request, effectively disabling the use of temporary addresses for that host.</p>
<h1 id="rfc.section.3.2.2">
<a href="#rfc.section.3.2.2">3.2.2.</a> Reducing Management Impact</h1>
<p id="rfc.section.3.2.2.p.1">In addition, there are known issues in managing privacy extensions in certain scenarios. These are described in <a href="#I-D.gont-6man-managing-privacy-extensions">managing privacy extensions</a> <cite title="NONE">[I-D.gont-6man-managing-privacy-extensions]</cite>. In such scenarios, conditionally disabling temporary addresses allows administrators to better manage deployments.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Options</h1>
<p id="rfc.section.4.p.1">To realize the functions described above, this document defines two new DHCPv6 options, Relay-Supplied Prefix and Absolute Precedence. These DHCPv6 options are added by the DHCPv6 relay agent when it relays a DHCPv6 message, and both MAY appear together in the same DHCPv6 message.</p>
<div id="#rfc.figure.1"></div>
<div id="#fig_message_flow"></div>
<pre>
DHCPv6 Client        DHCPv6 Relay Agent           DHCPv6 Server
      |                    |                              |
      |-------------------&gt;|                              |
      |  DHCPv6 REQUEST    |                              |
      |                    |                              |
      |      (adds Relay-Supplied Prefix and/or           |
      |   Absolute Precedence Option to the request)      |
      |                    |                              |
      |                    |-----------------------------&gt;|
      |                    | DHCPv6 REQUEST with          |
      |                    | Relay-Supplied Prefix and/or |
      |                    | Absolute Precedence Options  |
      |                    |                              |
      |                    |&lt;-----------------------------|
      |                    | DHCPv6 REPLY                 |
      |&lt;-------------------|                              |
      |  DHCPv6 REPLY      |                              |
</pre>
<p id="rfc.section.4.p.2">Relay-Supplied Prefix option carries host and network information observed by the DHCPv6 relay agent such as host does not support 802.1x supplicant and will be subjected to web-authentication. The Absolute Precedence option allows prioritizing among a list of prefixes the DHCPv6 relay agent expects the DHCPv6 server to provide to the host, useful for load balancing among multiple IPv6 prefixes. Absolute Precedence can also be used to assign different prefixes to hosts using the same VLAN ID based on the host characteristics like device type, health of the host, access type, etc.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Relay-Supplied Prefix Option</h1>
<p id="rfc.section.4.1.p.1">The Relay-Supplied Prefix option is defined below:</p>
<div id="#rfc.figure.2"></div>
<div id="#fig_Relay_supplied_Prefix"></div>
<pre>
 0                   1                   2                     3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  OPTION_RS_PREFIX    |          option-len                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Policy flag   |         Reserved                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
<p></p>

<dl>
<dt>option-len:</dt>
<dd style="margin-left: 8">Length of the option.</dd>
<dt>Policy flag: </dt>
<dd style="margin-left: 8">8-bit unsigned integer.</dd>
<dt>Reserved:</dt>
<dd style="margin-left: 8">Must be 0 and ignored by the server.</dd>
</dl>
<p id="rfc.section.4.1.p.3">The Policy Flag is defined below, and the actions taken by the DHCPv6 server based on this flag are described in <a href="#dhcp_server_behaviour">Section 6</a>.</p>
<div id="#rfc.figure.3"></div>
<div id="#fig_values"></div>
<pre>
+------+------------------------------------------------------------+
|Value | Name               | Description                           |
+------+------------------------------------------------------------+
| 0x01 | IPV6_DIS_TEMP_ADDR | Disable IPv6 Temporary Address        |
+------+------------------------------------------------------------+
</pre>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> Absolute Precedence Option</h1>
<p id="rfc.section.4.2.p.1">The layout of the Absolute Precedence is below:</p>
<div id="#rfc.figure.4"></div>
<div id="#fig_absolute_precedence"></div>
<pre>
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  OPTION_ABSOLUTE_PRECEDENCE   |          option-len           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Precedence   | Prefix Length |N|        Reserved2            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                          Prefix                               |
|                                                               | 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
.                                                               .
.                                                               .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Precedence   | Prefix Length |N|        Reserved2            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                          Prefix                               |
|                                                               | 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
<p id="rfc.section.4.2.p.2">The fields are described below:</p>

<dl>
<dt>option-len:</dt>
<dd style="margin-left: 8">Option Length</dd>
<dt>Precedence:</dt>
<dd style="margin-left: 8">An 8-bit unsigned integer. This value is used for sorting destination addresses.</dd>
<dt>Prefix Length:</dt>
<dd style="margin-left: 8">8-bit unsigned integer. The number of leading bits in the Prefix that are valid.</dd>
<dt>N:</dt>
<dd style="margin-left: 8">A value of 1 indicates that the relay agent wants the DHCPv6 server to ignore any IA_TA options in the DHCPv6 request, as if the IA_TA options were not present. This effectively disables privacy extensions <a href="#RFC4941">[RFC4941]</a>. A value of 0 indicates the IA_TA options, if present in the DHCPv6 request, are processed normally by the DHCPv6 server. This value has no impact on destination prefixes.</dd>
<dt>Prefix:</dt>
<dd style="margin-left: 8">A variable-length field containing the prefix of an IPv6 address.</dd>
<dt>Reserved2:</dt>
<dd style="margin-left: 8">Must be 0 and ignored by the server.</dd>
</dl>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#relay_agent_beh" id="relay_agent_beh">Relay Agent Behaviour</a>
</h1>
<p id="rfc.section.5.p.1">DHCPv6 relay agents that implement this specification MUST be configurable for sending the Relay-Supplied Prefix option and the Absolute Precedence option. Relay agents SHOULD have separate configuration for each option to determine if it is to be added to DHCPv6 request. A relay agent will include these options in the option payload of a Request message. DHCPv6 relay agent should set Relay-Supplied Prefix option when it receives DHCPv6 request from a host with specific characteristics like authenticated using address based mechanism. Relative Precedence option is used when the relay agent is unaware of the external prefixes to be assigned to the host. DHCPv6 relay agent should set Absolute Precedence when there is a need to change the precedence value for prefixes in scenario's discussed in <a href="#IPv6_multihoming">Section 3.1</a> and/or disable IPv6 temporary addresses for the host. </p>

<ul class="empty"><li>Discussion: To reduce end-user configuration of the DHCPv6 relay agent, the DHCPv6 relay agent can use the mechanism specified in <a href="#RFC3633">[RFC3633]</a> to automatically learn the IPv6 prefixes that will be delegated to DHCPv6 clients. DHCPv6 relay agent in future can use leasequery-like capability discussed in section 3.2 of RFC <a href="#RFC5007">[RFC5007]</a> to learn the prefix information from DHCPv6 server.</li></ul>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#dhcp_server_behaviour" id="dhcp_server_behaviour">DHCPv6 Server Behaviour</a>
</h1>
<p id="rfc.section.6.p.1">Upon receiving a DHCPv6 request containing the Relay-Supplied Prefix Option or the Absolute Precedence Option, the DHCPv6 server processing is described below:</p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> Relay-Supplied Prefix Option</h1>
<p id="rfc.section.6.1.p.1">The Relay-Supplied Prefix Option contains flags that defines the characteristics of the host. </p>

<ol><li>IPV6_DIS_TEMP_ADDR - This flag indicates that Temporary IPv6 address allocation is to be disabled for the host. The DHCPv6 server should ignore any IA_TA options in the DHCPv6 request.</li></ol>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> Absolute Precedence Option</h1>
<p id="rfc.section.6.2.p.1">Absolute Precedence Option - The DHCPv6 server should send a reply to the host with the prefixes received from DHCPv6 relay agent along with Precedence. If the option has "N" bit set to 1, the server SHOULD ignore the IA_TA options in the DHCPv6 request, effectively disabling the use of temporary addresses for that prefix. The DHCPv6 server will ignore the "N" bit for destination prefixes.</p>
<p id="rfc.section.6.2.p.2">Note : If DHCPv6 servers receives both options with conflicting flags IPV6_DIS_TEMP_ADDR and "N" bit then it SHOULD treat it as mis-configuration on the relay agent and discard these options.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#security" id="security">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">Relay-Supplied Prefix and Absolute Precedence options are exchanged only between the DHCPv6 relay agent and DHCPv6 server, section 21.1 of <a href="#RFC3315">[RFC3315]</a> provides details on securing DHCPv6 messages sent between servers and relay agents. And, section 23 of <a href="#RFC3315">[RFC3315]</a> provides general DHCPv6 security considerations.</p>
<p id="rfc.section.7.p.2">It is possible for a DHCPv6 client to include the Relay-Supplied Prefix option or the Absolute Precedence option, which would be received by a DHCPv6 server. This would cause the DHCPv6 client to receive a different DHCPv6 response than it would have otherwise received.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#iana" id="iana">IANA Considerations</a>
</h1>
<p id="rfc.section.8.p.1">IANA is requested to assign option codes to OPTION_RS_PREFIX and OPTION_ABSOLUTE_PRECEDENCE from the option-code space as defined in section "DHCPv6 Options" of <a href="#RFC3315">[RFC3315]</a>.</p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">9.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3315">[RFC3315]</b></td>
<td class="top">
<a>Droms, R.</a>, <a>Bound, J.</a>, <a>Volz, B.</a>, <a>Lemon, T.</a>, <a>Perkins, C.</a> and <a>M. Carney</a>, "<a href="http://tools.ietf.org/html/rfc3315">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>", RFC 3315, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4941">[RFC4941]</b></td>
<td class="top">
<a>Narten, T.</a>, <a>Draves, R.</a> and <a>S. Krishnan</a>, "<a href="http://tools.ietf.org/html/rfc4941">Privacy Extensions for Stateless Address Autoconfiguration in IPv6</a>", RFC 4941, September 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5007">[RFC5007]</b></td>
<td class="top">
<a>Brzozowski, J.</a>, <a>Kinnear, K.</a>, <a>Volz, B.</a> and <a>S. Zeng</a>, "<a href="http://tools.ietf.org/html/rfc5007">DHCPv6 Leasequery</a>", RFC 5007, September 2007.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-6man-addr-select-opt">[I-D.ietf-6man-addr-select-opt]</b></td>
<td class="top">
<a>Matsumoto, A</a>, <a>Fujisaki, T</a>, <a>Kato, J</a> and <a>T Chown</a>, "<a href="http://tools.ietf.org/html/draft-ietf-6man-addr-select-opt-01">Distributing Address Selection Policy using DHCPv6</a>", Internet-Draft draft-ietf-6man-addr-select-opt-01, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.gont-6man-managing-privacy-extensions">[I-D.gont-6man-managing-privacy-extensions]</b></td>
<td class="top">
<a>Gont, F</a> and <a>R Broersma</a>, "<a href="http://tools.ietf.org/html/draft-gont-6man-managing-privacy-extensions-01">Managing the Use of Privacy Extensions for Stateless Address Autoconfiguration in IPv6</a>", Internet-Draft draft-gont-6man-managing-privacy-extensions-01, March 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">9.2.</a> Informative References</h1>
<table><tbody><tr>
<td class="reference"><b id="RFC3633">[RFC3633]</b></td>
<td class="top">
<a>Troan, O.</a> and <a>R. Droms</a>, "<a href="http://tools.ietf.org/html/rfc3633">IPv6 Prefix Options for Dynamic Host Configuration Protocol (DHCP) version 6</a>", RFC 3633, December 2003.</td>
</tr></tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Tirumaleswar Reddy</span> 
	  <span class="n hidden">
		<span class="family-name">Reddy</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>Cessna Business Park, Varthur Hobli</span>
<span>Sarjapur Marathalli Outer Ring Road</span>

	  <span class="vcardline">
		<span class="locality">Bangalore</span>,  
		<span class="region">Karnataka</span> 
		<span class="code">560103</span>
	  </span>
	  <span class="country-name vcardline">India</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tireddy@cisco.com">tireddy@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Prashanth Patil</span> 
	  <span class="n hidden">
		<span class="family-name">Patil</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>Cessna Business Park, Varthur Hobli</span>
<span>Sarjapur Marthalli Outer Ring Road</span>

	  <span class="vcardline">
		<span class="locality">Bangalore</span>,  
		<span class="region">Karnataka</span> 
		<span class="code">560103</span>
	  </span>
	  <span class="country-name vcardline">India</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:praspati@cisco.com">praspati@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Dan Wing</span> 
	  <span class="n hidden">
		<span class="family-name">Wing</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>170 West Tasman Drive</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">California</span> 
		<span class="code">95134</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:dwing@cisco.com">dwing@cisco.com</a></span>

  </address>
</div>

</body>
</html>