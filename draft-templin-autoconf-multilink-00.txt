


Network Working Group                                         F. Templin
Internet-Draft                                      Boeing Phantom Works
Intended status: Informational                         February 20, 2007
Expires: August 24, 2007


              MANET Autoconfiguration over Multilink Sites
                draft-templin-autoconf-multilink-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 24, 2007.

Copyright Notice

   Copyright (C) The IETF Trust (2007).

Abstract

   Mobile Ad-hoc Networks (MANETs) consist of routers operating over
   multihop wireless links, and may or may not connect to other networks
   and/or the Internet.  Routers in MANETs must have a way to
   automatically provision local and global-use IP addresses/prefixes.
   This document specifies mechanisms for MANET autoconfiguration that
   view the MANET as a multilink site.  Both IPv4 and IPv6 are
   discussed.




Templin                  Expires August 24, 2007                [Page 1]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  3
   3.  MANET Autoconfiguration  . . . . . . . . . . . . . . . . . . .  5
     3.1.  MANET Router (MR) Operation  . . . . . . . . . . . . . . .  5
     3.2.  MANET Border Router Operation  . . . . . . . . . . . . . .  6
     3.3.  DHCP Server Extensions . . . . . . . . . . . . . . . . . .  7
     3.4.  MLA Encapsulation  . . . . . . . . . . . . . . . . . . . .  7
     3.5.  MANET Flooding . . . . . . . . . . . . . . . . . . . . . .  8
     3.6.  Self-Generated Addresses . . . . . . . . . . . . . . . . .  8
     3.7.  Changes to the Neighbor Discovery Model  . . . . . . . . .  8
   4.  Operation with Multiple MBRs . . . . . . . . . . . . . . . . .  8
   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  9
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . .  9
   7.  Related Work . . . . . . . . . . . . . . . . . . . . . . . . .  9
   8.  Contributors . . . . . . . . . . . . . . . . . . . . . . . . .  9
   9.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . .  9
   10. References . . . . . . . . . . . . . . . . . . . . . . . . . .  9
     10.1. Normative References . . . . . . . . . . . . . . . . . . .  9
     10.2. Informative References . . . . . . . . . . . . . . . . . . 10
   Appendix A.  IPv6 Neighbor Discovery (ND) and Duplicate
                Address Detection (DAD) . . . . . . . . . . . . . . . 12
   Appendix B.  IPv6 StateLess Address AutoConfiguration (SLAAC)  . . 12
   Author's Address . . . . . . . . . . . . . . . . . . . . . . . . . 13
   Intellectual Property and Copyright Statements . . . . . . . . . . 14

























Templin                  Expires August 24, 2007                [Page 2]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


1.  Introduction

   Mobile Ad-hoc Networks (MANETs) comprise links with asymmetric
   reachability characteristics (see: [RFC2461], Section 2.2) that
   connect MANET Routers (MRs).  MRs participate in a routing protocol
   to discover routes for forwarding packets across the MANET using
   multiple Layer-2 and/or Layer-3 hops if necessary.  MANETs may
   connect to other networks via MANET Border Routers (MBRs), and MRs
   may be multiple IP hops away from their nearest MBR in some
   scenarios.  A MANET may be as large as an Autonomous System (AS) or
   as small as an individual site.  A MANET may contain other MANETs
   and/or fixed networks, and a MANET may also be a smaller component of
   a larger site.  MRs with hosts on downstream-attached links must have
   a means to automatically provision local and global-use IP addresses/
   prefixes and/or other configuration information.

   Conceptually, MRs comprise a router entity and (one or more) host
   entity connected by a virtual point-to-point interface, and the
   router entity sees the MANET as a multilink site.  For each MANET to
   which they connect, MRs discover a list of MBRs that determines the
   MANET's identity.  An MR (and its downstream-attached links) is a
   "site" unto itself, and a MANET is therefore a "site-of-sites".

   MANETs that comprise homogeneous link types can configure the routing
   protocol to operate as a sub-IP layer mechanism such that IP (i.e.,
   Layer-3) sees the MANET as an ordinary shared link the same as for a
   (bridged) campus LAN.  In that case, a single IP hop is sufficient to
   traverse the MANET.

   MANETs that comprise heterogeneous link types must configure the
   routing protocol to operate as a Layer-3 mechanism such that routing
   protocol operation is based on MANET-local Addresses (MLAs) or other
   identifiers that are unique within the MANET to avoid issues
   associated with bridging media types with dissimilar Layer-2 address
   formats and maximum transmission units (MTUs).  In that case,
   multiple IP hops may be necessary to traverse the MANET.

   This document specifies mechanisms and operational practices for
   MANET autoconfiguration.  Operation using standard BOOTP/DHCP
   [RFC0951][RFC2131][RFC3315][RFC3633] and neighbor discovery
   [RFC0826][RFC1256][RFC2461][RFC2462] mechanisms is assumed unless
   otherwise specified.  Both IPv4 [RFC0791] and IPv6 [RFC2460] are
   discussed.


2.  Terminology

   The terminology in [I-D.ietf-autoconf-manetarch] and the normative



Templin                  Expires August 24, 2007                [Page 3]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


   references apply; the following terms are defined within the scope of
   this document:

   Mobile Ad-hoc Network (MANET)
      a connected network region that comprises MANET routers that
      maintain a routing structure among themselves in a relatively
      arbitrary fashion over links with asymmetric reachability
      characteristics (see: [RFC2461], Section 2.2).  MANETs may be
      large as an Autonomous System (AS) or as small as an individual
      site, and may also be a smaller component of a larger site.  A
      MANET router (and its downstream-attached links) is a "site" unto
      itself, and a MANET is therefore a "site-of-sites".  Further
      information on the characteristics of MANETs can be found in
      [RFC2501].

   MANET Interface
      a MANET router's attachment to a link in the MANET.

   MANET Router (MR)
      a node that participates in a routing protocol over its MANET
      interface(s) and forwards packets on behalf of its downstream-
      attached nodes and other MRs.  Conceptually, an MR comprises a
      router entity and (one or more) host entity connected via a
      virtual point-to-point interface, plus any other physical or
      virtual interfaces connected to the router entity.  For the
      purpose of this specification, an MR's host entity configures a
      DHCP client and its router entity configures a DHCP relay.

   MANET Border Router (MBR)
      an MR that connects the MANET to other networks.  For the purpose
      of this specification, MBRs are assumed to configure a DHCP relay
      and/or a DHCP server.

   MANET Local Address (MLA)
      a Layer-3 unicast address configured by an MR that is unique
      within the MANET; it is used as an identifier for operating the
      routing protocol and also as a locator for packet forwarding
      within the scope of the MANET.  For IPv6, Unique Local Addresses
      (ULAs) [RFC4193][I-D.jelger-autoconf-mla] provide a natural MLA
      mechanism.

   Extended Neighbor Discovery (END) message
      an IP Neighbor Discovery (ND) message [RFC1256] [RFC2461]
      transmitted on a MANET interface with an MLA of the interface as a
      source address and the destination address set to an MLA or a
      site-scoped multicast address.  The TTL/Hop Limit in END messages
      may be decremented as the message traverses the MANET.




Templin                  Expires August 24, 2007                [Page 4]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


3.  MANET Autoconfiguration

   The following sections specify autoconfiguration mechanisms and
   operational practices that allow MRs to participate in the routing
   protocol and obtain addresses/prefixes for Intra-MANET and global
   Internet communications when the MANET is viewed as a multilink site.

3.1.  MANET Router (MR) Operation

   Each MR configures MLAs used for operating the routing protocol
   and/or for assignment on MANET interfaces.  For IPv6 MANET
   interfaces, MLAs are generated using Unique Local Addresses
   [RFC4193][I-D.jelger-autoconf-mla] with interface identifiers that
   are either managed for uniqueness (e.g., per [RFC4291], Appendix A)
   or self-generated using a suitable random interface identifier
   generation mechanism that is compatible with EUI-64 format (e.g.,
   Cryptographically Generated Addresses (CGAs) [RFC3972], IPv6 privacy
   addresses [I-D.ietf-ipv6-privacy-addrs-v2], etc.).  For IPv4, MLAs
   are generated using a corresponding unique local address
   configuration mechanism.  (Such a mechanism could be considered as a
   site-scoped equivalent to IPv4 link-local addresses [RFC3927].)

   The MR next engages in the routing protocol over its MANET interfaces
   and discovers the set of MBRs that identify the MANET.  The set of
   MBRs is discovered the same as for the ISATAP Potential Router List
   (PRL) initialization procedure [RFC4214]; if the set of MBRs is NULL,
   an alternate token (such as the IEEE MAC address of an ordinary MR)
   can be used as an identifier for the MANET.  MRs can then confirm
   reachability of MBRs and (in the case of IPv6) discover prefixes
   associated with the MANET.  It can confirm reachability by sending/
   receiving END messages, via information conveyed in the routing
   protocol itself, or through some other means associated with the
   particular link technology.  For IPv6, prefixes can also be
   discovered via an out-of-band service discovery protocol.

   After the MR discovers MBRs, it can configure addresses/prefixes
   according to either DHCP or IPv6 Stateless Address AutoConfiguration
   (SLAAC) (but see Appendix B for further considerations on SLAAC).
   When DHCP is used, the DHCP client associated with its host function
   forwards a DHCP DISCOVER (DHCPv4) or Solicit (DHCPv6) request to the
   DHCP relay associated with its router function to request global IP
   address and/or prefix delegations (see also: Section 3.6).  The relay
   function then forwards the request to one or more MBRs, to other
   known DHCP servers, or to a site-scoped "All-DHCP-Servers" multicast
   address.

   For DHCPv4, the MR's relay function writes the MLA of the MANET
   interface in the 'giaddr' field and also includes the address in a



Templin                  Expires August 24, 2007                [Page 5]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


   DHCPv4 MLA option (see: Section 3.4).  If necessary to identify the
   MR's downstream-attached host function, the relay also includes a
   link selection sub-option [RFC3527] with an address from the prefix
   associated with the MANET (if a prefix is available).

   For DHCPv6, the MR's relay function writes the MLA of the MANET
   interface in the "peer-address" field and also writes an address from
   the prefix associated with the MANET in the "link-address" field (if
   a prefix is available).  The MR can also use DHCP prefix delegation
   [RFC3633] to obtain prefixes for further sub-delegation to nodes on
   its downstream-attached links.

   The DHCP request will elicit a DHCP reply from a server with IP
   address/prefix delegations.  When addresses are delegated, the MR
   assigns the resulting addresses to the virtual point-to-point
   interface that connects its host and router functions, i.e., the
   addresses are *not* assigned on the MANET interface.  When prefixes
   are delegated, the MR can assign and/or further sub-delegate the
   prefixes to its downstream-attached links.  If the MANET uses a
   proactive routing protocol, the MR can advertise the delegated
   addresses/prefixes into the routing protocol during the duration of
   the delegation lifetimes.

   The DHCP server ensures unique IP address/prefix delegations.  By
   assigning global IP addresses/prefixes only on downstream-attached
   interfaces there is no requirement for the MR to perform Duplicate
   Address Detection (DAD) over its MANET interfaces.  See Appendix A
   for further DAD considerations.

   After the MR configures global IP addresses/prefixes, it can send IP
   packets with global IP source addresses to on- and off-MANET
   destinations.  Packets can be sent to off-MANET destinations either
   by using any available MBRs as egress gateways or by selecting
   specific MBRs on a per-packet basis.  For MANETs in which MBRs can
   advertise a 'default' route that propagates throughout the routing
   protocol, the MR can send IP packets across the MANET at the expense
   of extra TTL (IPv4) or Hop Limit (IPv6) decrementation.  For MANETs
   in which the routing protocol cannot propagate a default route, or
   when the MR wishes to select a specific MBR as the egress gateway,
   the MR can ensure that the packets will be forwarded through a
   specific MBR by inserting an IPv4 source routing header (likewise
   IPv6 routing header).

3.2.  MANET Border Router Operation

   MBRs send END messages which (for IPv6 RAs) can include prefixes
   associated with the MANET.  When stateful configuration is desired,
   such prefixes should be advertised as not to be used for on-link



Templin                  Expires August 24, 2007                [Page 6]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


   determination or StateLess Address AutoConfiguration (SLAAC)
   [RFC2462] by setting the 'A', 'L' bits in Prefix Information Options
   to 0.  (But, see: Appendix B for further considerations on using
   SLAAC for MANET Autoconfiguration.)

   MBRs act as BOOTP/DHCP relays and/or servers for a MR's DHCP
   requests/replies.  For DHCPv4, when a MBR acting as a relay forwards
   a DHCP request that includes an MLA option, it writes its own address
   in the 'giaddr' field, i.e., it overwrites the value that was written
   into 'giaddr' by the MR's relay function.

3.3.  DHCP Server Extensions

   No MANET autoconfiguration-specific extensions are required for
   DHCPv6 servers.

   DHCPv4 servers examine DHCPv4 requests for a DHCPv4 MLA option (see:
   Section 3.4).  If a DHCPv4 MLA option is present, the DHCPv4 server
   copies the option into the corresponding DHCPv4 reply message(s).

3.4.  MLA Encapsulation

   For DHCPv6, the MLA is encoded directly in the "peer-address" field
   of DHCPv6 requests/replies.

   For DHCPv4, a new DHCPv4 option [RFC2132] called the 'MLA option' is
   required to encode an MLA for DHCP transactions that will traverse a
   MBR, i.e., so that the MBR has a MANET-relevant address to direct
   DHCPv4 replies to the correct MR, which may be multiple Layer-3 hops
   away.  The format of the DHCPv4 MLA option is given below:

     Code  Len   Ether Type      MLA
   +-----+-----+-----+-----+-----+-----+---
   | TBD |  n  |    type   |  a1 |  a2 | ...
   +-----+-----+-----+-----+-----+-----+---

   Code
      a one-octet field that identifies the option type (see:
      Section 5).

   Len
      a one-octet field that encodes the remaining option length.

   Ether Type
      a type value from the IANA "ethernet-numbers" registry.






Templin                  Expires August 24, 2007                [Page 7]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


   MLA
      a variable-length MANET Local Address (MLA).

3.5.  MANET Flooding

   When multicast service discovery is required, Layer-3 MANETs that
   implement this specification must use a MANET flooding mechanism
   (e.g., Simplified Multicast Forwarding (SMF) [I-D.ietf-manet-smf]) so
   that site-scoped multicast messages can be propagated across multiple
   Layer-3 hops.

3.6.  Self-Generated Addresses

   MR's can self-generate an address (e.g., an IPv6 CGA [RFC3972], an
   IPv6 privacy address [I-D.ietf-ipv6-privacy-addrs-v2], etc.) then
   propose the address to the DHCP server.  If the DHCP server
   determines that the self-generated address is unique, it will
   delegate the address for the MR's use.

3.7.  Changes to the Neighbor Discovery Model

   END messages use a site-scoped unicast source address (i.e., an MLA)
   instead of a link-local address, and an MLA or site-scoped multicast
   destination address.  This means that END messages may be forwarded
   by a router and have their TTL/Hop Limit decremented on the path.
   This means that END messages provide a site-scoped (and not link-
   scoped) discovery service which represents a departure from the link-
   scoped services specified in [RFC1256][RFC2461].


4.  Operation with Multiple MBRs

   For a set of MANETs and MBRs that attach to the same backbone
   network, MRs can retain their global IP address/prefix delegations as
   they move if the backbone network participates with the MBRs and MRs
   in a localized mobility management scheme, e.g., see:
   [I-D.templin-autoconf-netlmm-dhcp].

   For a set of MBRs that attach to different backbone networks and/or
   serve different global IP prefixes from within the same network, MRs
   must configure new global IP addresses/prefixes as they change
   between different MBRs unless inter-MBR tunnels and routing protocol
   exchanges are supported, e.g., see:
   [I-D.templin-autoconf-netlmm-dhcp], Appendix A.

   Global mobility management mechanisms for MRs that configure new
   global IP addresses/prefixes as they move between different MBRs are
   beyond the scope of this document.



Templin                  Expires August 24, 2007                [Page 8]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


5.  IANA Considerations

   A new DHCP option code is requested for the DHCP MLA Option in the
   IANA "bootp-dhcp-parameters" registry.


6.  Security Considerations

   Threats relating to MANET routing protocols also apply to this
   document.


7.  Related Work

   Telcordia has proposed DHCP-related solutions for the CECOM MOSAIC
   program.  The virtual ethernet model was proposed by Quang Nguyen
   under the guidance of Dr. Lixia Zhang.  Various IETF AUTOCONF working
   group proposals have suggested similar mechanisms.


8.  Contributors

   Steve Russert (steven.w.russert@boeing.com), Ian Chakeres
   (ian.chakeres@gmail.com) and Seung Yi (seung.yi@boeing.com)
   contributed text and numerous change suggestions for "MANET
   Autoconfiguration" [I-D.templin-autoconf-dhcp] from which this
   document was derived.


9.  Acknowledgements

   The following individuals gave direct and/or indirect input that was
   essential to the work: Jari Arkko, Emmanuel Bacelli, James Bound,
   Thomas Clausen, Joe Macker, Thomas Henderson, Bob Hinden, Thomas
   Narten, Alexandru Petrescu, Jinmei Tatuya, Dave Thaler, and others in
   the IETF AUTOCONF and MANET working groups.  Many others have
   provided guidance over the course of many years.

   The Naval Research Lab (NRL) Information Technology Division uses
   DHCP in their MANET research testbeds.


10.  References

10.1.  Normative References

   [RFC0791]  Postel, J., "Internet Protocol", STD 5, RFC 791,
              September 1981.



Templin                  Expires August 24, 2007                [Page 9]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


   [RFC0826]  Plummer, D., "Ethernet Address Resolution Protocol: Or
              converting network protocol addresses to 48.bit Ethernet
              address for transmission on Ethernet hardware", STD 37,
              RFC 826, November 1982.

   [RFC0951]  Croft, B. and J. Gilmore, "Bootstrap Protocol", RFC 951,
              September 1985.

   [RFC1256]  Deering, S., "ICMP Router Discovery Messages", RFC 1256,
              September 1991.

   [RFC2131]  Droms, R., "Dynamic Host Configuration Protocol",
              RFC 2131, March 1997.

   [RFC2132]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
              Extensions", RFC 2132, March 1997.

   [RFC2460]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", RFC 2460, December 1998.

   [RFC2461]  Narten, T., Nordmark, E., and W. Simpson, "Neighbor
              Discovery for IP Version 6 (IPv6)", RFC 2461,
              December 1998.

   [RFC2462]  Thomson, S. and T. Narten, "IPv6 Stateless Address
              Autoconfiguration", RFC 2462, December 1998.

   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", RFC 3315, July 2003.

   [RFC3633]  Troan, O. and R. Droms, "IPv6 Prefix Options for Dynamic
              Host Configuration Protocol (DHCP) version 6", RFC 3633,
              December 2003.

   [RFC4214]  Templin, F., Gleeson, T., Talwar, M., and D. Thaler,
              "Intra-Site Automatic Tunnel Addressing Protocol
              (ISATAP)", RFC 4214, October 2005.

10.2.  Informative References

   [I-D.ietf-autoconf-manetarch]
              Chakeres, I., "Mobile Ad hoc Network Architecture",
              draft-ietf-autoconf-manetarch-00 (work in progress),
              February 2007.

   [I-D.ietf-ipv6-privacy-addrs-v2]
              Narten, T., "Privacy Extensions for Stateless Address



Templin                  Expires August 24, 2007               [Page 10]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


              Autoconfiguration in IPv6",
              draft-ietf-ipv6-privacy-addrs-v2-05 (work in progress),
              October 2006.

   [I-D.ietf-manet-smf]
              Macker, J., "Simplified Multicast Forwarding for MANET",
              draft-ietf-manet-smf-03 (work in progress), October 2006.

   [I-D.jelger-autoconf-mla]
              Jelger, C., "MANET Local IPv6 Addresses",
              draft-jelger-autoconf-mla-01 (work in progress),
              October 2006.

   [I-D.templin-autoconf-dhcp]
              Templin, F., "MANET Autoconfiguration",
              draft-templin-autoconf-dhcp-05 (work in progress),
              February 2007.

   [I-D.templin-autoconf-netlmm-dhcp]
              Templin, F., "Network Localized Mobility Management using
              DHCP", draft-templin-autoconf-netlmm-dhcp-04 (work in
              progress), October 2006.

   [I-D.thaler-autoconf-multisubnet-manets]
              Thaler, D., "Multi-Subnet MANETs",
              draft-thaler-autoconf-multisubnet-manets-00 (work in
              progress), February 2006.

   [I-D.thaler-intarea-multilink-subnet-issues]
              Thaler, D., "Issues With Protocols Proposing Multilink
              Subnets", draft-thaler-intarea-multilink-subnet-issues-00
              (work in progress), March 2006.

   [RFC2501]  Corson, M. and J. Macker, "Mobile Ad hoc Networking
              (MANET): Routing Protocol Performance Issues and
              Evaluation Considerations", RFC 2501, January 1999.

   [RFC3527]  Kinnear, K., Stapp, M., Johnson, R., and J. Kumarasamy,
              "Link Selection sub-option for the Relay Agent Information
              Option for DHCPv4", RFC 3527, April 2003.

   [RFC3927]  Cheshire, S., Aboba, B., and E. Guttman, "Dynamic
              Configuration of IPv4 Link-Local Addresses", RFC 3927,
              May 2005.

   [RFC3972]  Aura, T., "Cryptographically Generated Addresses (CGA)",
              RFC 3972, March 2005.




Templin                  Expires August 24, 2007               [Page 11]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


   [RFC4193]  Hinden, R. and B. Haberman, "Unique Local IPv6 Unicast
              Addresses", RFC 4193, October 2005.

   [RFC4291]  Hinden, R. and S. Deering, "IP Version 6 Addressing
              Architecture", RFC 4291, February 2006.


Appendix A.  IPv6 Neighbor Discovery (ND) and Duplicate Address
             Detection (DAD)

   In terms of ND, existing standards [RFC2461][RFC4291] require that a
   node configure a link-local address on each of its IPv6-enabled
   interfaces, but the primary requirement for link-locals seems to be
   for the purpose of uniquely identifying routers on the link.  But, it
   is for further study as to whether MRs should even send RAs on MANET
   interfaces at all, since the MANET is a multilink peering point
   between distinct sites and not a unified link.  It is therefore also
   for further study as to whether MANET interfaces should configure
   link local addresses at all.

   In terms of DAD, pre-service DAD for an MLA assigned on a MANET
   interface (such as specified in [RFC2462]) would require either
   flooding the entire MANET or somehow discovering a link in the MANET
   on which a node that configures a duplicate address is attached, and
   performing a (remote) DAD exchange on that link.  But, the control
   message overhead for such a MANET-wide DAD would be substantial and
   prone to false-negatives due to packet loss and node mobility.  An
   alternative to pre-service DAD is to autoconfigure pseudo-random MLAs
   on MANET interfaces and employ a passive in-service DAD (e.g., one
   that monitors routing protocol messages for duplicate assignments).
   Pseudo-random link-local addresses can be generated with mechanisms
   such as CGAs, IPv6 privacy addresses, etc., but ULAs provide and
   additional 40/56 pseudo-random bits in the IPv6 address prefix.

   Statistical properties can assure uniqueness for the MLAs assigned on
   a MR's MANET interfaces, and careful operational practices can assure
   uniqueness for the global addresses/prefixes assigned on a MR's
   downstream-attached links (since the DHCP server assures unique
   assignments).  However, a passive in-service DAD mechanism should
   still be used to detect duplicates that were assigned via other
   means, e.g., manual configuration.


Appendix B.  IPv6 StateLess Address AutoConfiguration (SLAAC)

   For IPv6, the use of StateLess Address AutoConfiguration (SLAAC)
   [RFC2462] could be indicated by prefix information options in END
   messages with the 'A' bit set to 1.  MRs that receive such END



Templin                  Expires August 24, 2007               [Page 12]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


   messages could then self-generate an address from the prefix and
   assign it to the virtual point-to-point interface associated with the
   MANET, then use a passive in-service DAD approach to detect
   duplicates within the MANET.  But, if the MANET partitions, DAD might
   not be able to monitor the routing exchanges occurring in other
   partitions and address duplication could result.  Further study on
   DAD implications for SLAAC is required.


Author's Address

   Fred L. Templin
   Boeing Phantom Works
   P.O. Box 3707 MC 7L-49
   Seattle, WA  98124
   USA

   Email: fred.l.templin@boeing.com

































Templin                  Expires August 24, 2007               [Page 13]

Internet-Draft     MANET Autoconfiguration (Multilink)     February 2007


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Templin                  Expires August 24, 2007               [Page 14]


