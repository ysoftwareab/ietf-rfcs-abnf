

Network Working Group                                        S. Pfeiffer
Internet-Draft                                                 C. Parker
Expires: December 7, 2003                                          CSIRO
                                                            June 8, 2003


 Specification of the Continuous Media Markup Language (CMML), Version
                                  1.0
                         draft-pfeiffer-cmml-00

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026 except that the right to
   produce derivative works is not granted.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 7, 2003.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This specification defines the Continuous Media Markup Language
   (CMML), version 1.0, an XML-based [1] markup language for
   time-continuous data.  It is a sister document to the specification
   of the ANNODEX(TM) [12] annotation and indexing format for
   time-continuous data.  The CMML is an authoring language for
   annotating, indexing and hyperlinking time-continuous data in the
   ANNODEX(TM) [12] format.  Its tags provide for the creation of
   structured and unstructured annotations as well as hyperlinks and
   addressable named anchor points for fragments of time-continuous



Pfeiffer & Parker       Expires December 7, 2003                [Page 1]

Internet-Draft                    CMML                         June 2003


   data.  The tag names in use in CMML are similar to the ones in XHTML
   [3].

   At this point in time, the right to produce derivative works is not
   granted to the IETF as the authors are uncertain about the necessity
   to create a working group.  The specification is not encumbered by
   patents.  The ANNODEX(TM) format is protected by a trademark to
   prevent the use of the term "annodex" for any related but
   non-conformant and therefore non-interoperable technology.

Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  The CMML data types  . . . . . . . . . . . . . . . . . . . . .  5
   2.1 URIs . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  5
   2.2 Internationalisation support . . . . . . . . . . . . . . . . .  5
   2.3 Time specifications  . . . . . . . . . . . . . . . . . . . . .  5
   3.  The preamble and the 'cmml' root element . . . . . . . . . . .  8
   4.  The cmml 'stream' tag  . . . . . . . . . . . . . . . . . . . .  9
   4.1 The 'media' tag  . . . . . . . . . . . . . . . . . . . . . . .  9
   5.  The cmml 'head' element  . . . . . . . . . . . . . . . . . . . 11
   5.1 The 'title' element  . . . . . . . . . . . . . . . . . . . . . 11
   5.2 The 'base' element . . . . . . . . . . . . . . . . . . . . . . 12
   5.3 The 'meta' element . . . . . . . . . . . . . . . . . . . . . . 12
   6.  The cmml 'a' tag . . . . . . . . . . . . . . . . . . . . . . . 13
   6.1 The 'meta' element . . . . . . . . . . . . . . . . . . . . . . 14
   6.2 The 'desc' element . . . . . . . . . . . . . . . . . . . . . . 14
   7.  The mapping of CMML to ANNODEX(TM) format bitstreams . . . . . 16
   8.  MIME media type registration for 'text/cmml' . . . . . . . . . 17
   9.  Security considerations  . . . . . . . . . . . . . . . . . . . 19
       References . . . . . . . . . . . . . . . . . . . . . . . . . . 20
       Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . 21
   A.  CMML DTD . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
   B.  An example CMML document . . . . . . . . . . . . . . . . . . . 27
   C.  Definitions of terms and abbreviations . . . . . . . . . . . . 28
   D.  Glossary of acronyms . . . . . . . . . . . . . . . . . . . . . 29
   E.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 30
       Intellectual Property and Copyright Statements . . . . . . . . 31













Pfeiffer & Parker       Expires December 7, 2003                [Page 2]

Internet-Draft                    CMML                         June 2003


1. Introduction

   Please note that this document assumes that the reader has a fluent
   working knowledge of XML [1], HTML [2], XHTML [3] and the World Wide
   Web.  Knowledge about the ANNODEX(TM) [12] sister document is also
   presumed.

   Time-continuous data in the ANNODEX(TM) format contains XML-based
   annotations and hyperlinking information that enables it to be
   browsed by client applications, and crawled and indexed by search
   engines.  The Continuous Media Markup Language CMML is a simple
   markup language for authoring the XML data to be multiplexed with the
   time-continuous data given in binary bitstreams.  This process
   eventually creates ANNODEX(TM) format bitstreams.  The CMML has much
   in common with XHTML.

   The CMML can describe one or several time-continuous media
   bitstreams.  It is used to create all the tags required for authoring
   the annotation information for the ANNODEX(TM) format.  It therefore
   basically contains the same tags as the annotation bitstream in
   ANNODEX(TM) format bitstreams, but also has some additional tags
   required for identifying and synchronising one or several
   time-continuous bitstreams that will be multiplexed together for the
   creation of one conherent ANNODEX(TM) format bitstream.

   The following picture illustrates the multiplexing activity:

      ----------
      |stream  | CMML
      ---------- instance
      | head   | document
      ----------
      |anchor_1|     ----------------------------------------------------
      ----------     | media bitstream in packets                       |
      | ...    |     ----------------------------------------------------
      ----------          |
      |anchor_n|          |
      ----------          |
          |               |
          ------->-<-------
                  |
             Multiplexing
                  |
                  v
      ----------------------------------------------------------------------
      |stream|head|anchor_1|  media packets  |anchor_2| media packets  ...
      ----------------------------------------------------------------------




Pfeiffer & Parker       Expires December 7, 2003                [Page 3]

Internet-Draft                    CMML                         June 2003


   The file extension of CMML files is ".cmml".  This document also
   applies for registration of the mime-type "text/cmml" for CMML files.

   The CMML is technically fully specified through its DTD as given in
   the Appendix.  The semantic meaning of each of the tags, their
   content and their attributes is specified in the following sections.
   The Appendix also contains an example of a CMML (instance) document.












































Pfeiffer & Parker       Expires December 7, 2003                [Page 4]

Internet-Draft                    CMML                         June 2003


2. The CMML data types

   At the beginning of the CMML DTD, several parameter entities are
   defined that are used throughout the DTD as data types.  This section
   gives a brief overview of them and refers to the relevant standards
   in which they are defined.

2.1 URIs

   A "URI" is a character string that conforms to the specification of
   the Uniform Resource Identifier as defined in RFC 2396 [4].  The
   currently proposed temporal URI fragment identifier specification
   [11] is supported, too.  A URI generally points to a Web resource.

2.2 Internationalisation support

   The "LanguageCode" defines a collection of constant strings that each
   identify a specific language as defined in RFC 1766 [6].  It is used
   to provide internationalisation support.  To that end, the i18n
   entity draws together a language given by a "LanguageCode" with the
   directionality of that language in "dir" given either as ltr
   (left-to-right) or rtl (right-to-left).

2.3 Time specifications

   There are three different time specifications in use in CMML:
   "Timestamp", "Playbacktime" and "UTCtime".

   A "Timestamp" is generally a name-value pair which defines a time
   point.  The time point value is interpreted according to the time
   scheme given in the name.  If the name is ommitted, it defaults to
   "npt=".  The available time specifications stem from different
   sources:

   o  "npt" is "normal playback time" as used in the RTSP standard [5].

   o  "smpte" are several frame-based time labels as defined by the
      Society of Motion Pictures and Television Engineers [9].  As
      fractional frames are meaningless for video and ambiguous for
      audio in the drop-frame situations, they are not used.  The
      drop-frame algorithms for calculating the exact times can be found
      in the mentioned SMPTE standard.

   o  "utc" is the "universal time code" as specified in the ISO 8601
      standard [10].

   Thus, the available time schemes are:




Pfeiffer & Parker       Expires December 7, 2003                [Page 5]

Internet-Draft                    CMML                         June 2003


      "npt=" NPT time with a second or subsecond basis

      Specification as BNF:

   npt-spec    =  "npt=" npt-time
   npt-time    =  npt-sec | npt-hhmmss
   npt-sec     =   1*DIGIT [ "." *DIGIT ]
   npt-hhmmss  =   npt-hh ":" npt-mm ":" npt-ss [ "." *DIGIT ]
   npt-hh      =   1*DIGIT
   npt-mm      =   1*2DIGIT
   npt-ss      =   1*2DIGIT

      "smpte-24=" SMPTE time with a 24 fps basis

      "smpte-24-drop=" SMPTE time with a 24/1.001 fps basis

      "smpte-25=" SMPTE time with a 25 fps basis

      "smpte-30=" SMPTE time with a 30 fps basis

      "smpte-30-drop=" SMPTE time with a 30/1.001 fps basis

      "smpte-50=" SMPTE time with a 50 fps basis

      "smpte-60=" SMPTE time with a 60 fps basis

      "smpte-60-drop=" SMPTE time with a 60/1.001 fps basis

      Specification as BNF:

   smpte-spec  = smpte-type "=" smpte-time
   smpte-type  = "smpte-24" | "smpte-24-drop" | "smpte-25" |
                 "smpte-30" | "smpte-30-drop" | "smpte-50" |
                 "smpte-60" | "smpte-60-drop"
   smpte-time  =  1*2DIGIT ":" 1*2DIGIT ":" 1*2DIGIT [ ":" 1*2DIGIT ]

      "clock=" UTC time with a second or subsecond basis

      Specification as BNF:

   utc-spec    = "clock=" utc-time
   utc-time    =   utc-date "T" utc-hhmmss "Z"
   utc-date    =   8DIGIT
   utc-hhmmss  =   6DIGIT [ "." *DIGIT ]

   The "Playbacktime" entity is a data type that just specifies a SMPTE
   or a NPT time.  It is therefore equal to the Timestamp entity without
   the UTC specification.



Pfeiffer & Parker       Expires December 7, 2003                [Page 6]

Internet-Draft                    CMML                         June 2003


   The "UTCtime" entity is a data type that just specifies a UTC time
   without an identifier.  UTC time is specified as in the Timestamp
   entity, but without the "clock=" identifier.
















































Pfeiffer & Parker       Expires December 7, 2003                [Page 7]

Internet-Draft                    CMML                         June 2003


3. The preamble and the 'cmml' root element

   A CMML file is an XML instance document of the CMML DTD.  An example
   is given in the Appendix.  It starts with the usual xml directive and
   the DTD specification (see http://www.w3.org/TR/
   REC-xml#sec-prolog-dtd).  This is an example preamble:

   <?xml version="1.0"encoding="UTF-8"?>
   <!DOCTYPE cmml SYSTEM "cmml.dtd">

   After the preamble, the CMML tags follow.  A CMML file has a "cmml"
   tag as the root element.  It embraces all the other tags.

   <!ELEMENT cmml (stream?, head, a*)>
   <!ATTLIST cmml
     id          ID             #IMPLIED
     xmlns       %URI;          #FIXED 'http://www.annodex.net/cmml'
     >

   The "cmml" tag encloses at most one "stream" element, exactly one
   "head" element, and as many "a" elements as the document author
   requires.  An "a" element describes a fragment of the to be created
   ANNODEX(TM) bitstream.  The ANNODEX(TM) bistream is created by
   multiplexing the bitstreams given in the "location" attributes of the
   "media" tags of the "stream" element together with the CMML
   annotations in a time-synchronous manner, as specified in the
   ANNODEX(TM) format [12].

   Attributes of the "cmml" element are the usual xml root tag
   attributes: an identifier "id" and a namespace "xmlns".





















Pfeiffer & Parker       Expires December 7, 2003                [Page 8]

Internet-Draft                    CMML                         June 2003


4. The cmml 'stream' tag

   The "stream" element contains information about the input
   time-continuous bitstreams that are to be multiplexed together on
   authoring the ANNODEX(TM) format bitstreams.

   <!ELEMENT stream (media*)>
   <!ATTLIST stream
     id          ID             #IMPLIED
     timebase    %Playbacktime; "npt=0"
     utc         %UTCtime;      #IMPLIED
     >

   The "timebase" attribute contains a playback time in seconds
   associated with that first data packet.  All other times in the CMML
   file MUST be calculated relative to this timebase.  For example, a
   timebase of 300 seconds npt for a video file implies that the first
   frame is related to a play time of 300 seconds, and an anchor with a
   start time of 350 seconds is to be included 50 seconds into the
   ANNODEX(TM) bitstream.  If no timebase is given, the timebase
   defaults to 0 npt.  The timebase can be given as a SMPTE or NPT time,
   not as a utc time.

   The "utc" attribute associates a calendar date and a wall-clock time
   with the timebase.  It therefore provides a mapping of the timebase
   to a real-world clock time and is given as a UTC time.  If it is
   omitted, the start attribute in the media tag, and the start and end
   attributes in anchor tags MUST NOT be specified as UTC times.

   The content model of the "stream" tag then proposes an arbitrary
   number of input bitstreams.  These are described one by one in the
   "media" element.

4.1 The 'media' tag

   A "media" tag contains information on one of the input bitstreams for
   the multiplexing process.  The relevant bitstream (fragment) is
   referenced through the "location" attribute.  The location is a URI
   and may thus also contain a temporal URI fragment specification which
   narrows down the input file to that given subpart.  That resource is
   multiplexed into the ANNODEX(TM) format bitstream starting at the
   time given in the "start" attribute and ending at the latest at the
   time given in the "end" attribute.  The "start" and "end" attributes
   are interpreted relative to the timeline of the ANNODEX(TM) format
   bitstream.






Pfeiffer & Parker       Expires December 7, 2003                [Page 9]

Internet-Draft                    CMML                         June 2003


   <!ELEMENT media EMPTY>
   <!ATTLIST media
     id          ID             #IMPLIED
     granulerate CDATA          #IMPLIED
     mimetype    CDATA          #IMPLIED
     location    %URI;          #REQUIRED
     start       %Timestamp;    "npt=0"
     end         %Timestamp;    #IMPLIED
   >

   The "granulerate" attribute contains the base temporal resolution in
   Hz of the input bitstream refered in the "location" attribute.  It
   depends on the encoding format of the input bitstream and typically
   contains the framerate for video (e.g.  25 frames/sec) and the
   samplerate for audio (e.g.  44100 samples/sec), but may contain any
   rational number given with an integer denominator larger than 1 sec
   (e.g.  25 frames on 2 seconds).  Each bitstream has its own
   granulerate dependent on its specific encoding.  This attribute is
   implied as it can be determined automatically during the multiplexing
   process when the headers of the encoded media bitstream contain this
   information.  For bitstreams without header, such as uncompressed
   audio, the author of the CMML file can provide the granulerate to the
   multiplexer in this attribute.

   The "mimetype" attribute specifies the MIME type [7] of the input
   bitstream refered in the "location" attribute.  It is optional as the
   MIME type can often be derived easily from the file name or file
   header of the media source during multiplexing.

   The "location" attribute specifies a URI to the input bitstream.
   Commonly used URI schemes are "file" and "http".  For specifying
   temporal subsets of the input bitstream, use the temporal URI
   fragment [11] specification.

   The "start" attribute specifies a time in the output ANNODEX(TM)
   bitstream at which the media bitstream will be inserted.  This time
   is specified with respect to the "timebase" attribute given in the
   "stream" element.

   The "end" attribute specifies a time in the output ANNODEX(TM)
   bitstream at which the media bitstream stop at the latest.  This time
   is also specified with respect to the "timebase" attribute given in
   the "stream" element.  This attribute is not required when the full
   bitstream is used.







Pfeiffer & Parker       Expires December 7, 2003               [Page 10]

Internet-Draft                    CMML                         June 2003


5. The cmml 'head' element

   The CMML "head" element contains annotation information on the
   complete ANNODEX(TM) bitstream, which the CMML file is used to
   create.  It therefore contains header-type information such as a
   title for the bitstream, and meta information describing the
   bitstream.

   The "head" element is declared as the following:

   <!ELEMENT head (meta*,
                   ((title, meta*, (base, meta*)?) |
                    (base, meta*, (title, meta*)?)))>
   <!ATTLIST head
     id          ID             #IMPLIED
     %i18n;
     defltlang   %LanguageCode; #IMPLIED
     defltdir    (ltr|rtl)      #IMPLIED
     profile     %URI;          #IMPLIED
     >

   The "head" tag must contain a "title" tag.  It may contain one "base"
   tag before or after the "title" tag and any number of "meta" tags at
   any position.

   The "%i18n;" attribute specifies the base language of the "head"
   tag's attribute values.

   The "defltlang" and "defltdir" attributes specify the default
   language (language and directionality) of the anchor tags.

   The value of the "profile" attribute is a space-separated list of
   base URIs specifying locations of "meta" tag schemes.  These schemes
   may be used in the "meta" elements of the "head" or the "a" tags.

5.1 The 'title' element

   The "title" tag gives a descriptive title for the ANNODEX(TM)
   bitstream.  The "title" element is declared as the following:

   <!ELEMENT title (#PCDATA)>
   <!ATTLIST title
     id          ID       #IMPLIED
     %i18n;
   >

   The "%i18n;" attribute specifies the base language of the "title"
   text.



Pfeiffer & Parker       Expires December 7, 2003               [Page 11]

Internet-Draft                    CMML                         June 2003


5.2 The 'base' element

   The "base" element defines the base URI of the ANNODEX(TM) bitstream.
   All relative URIs of the bitstream get interpreted relative to this
   base.  The "base" element is empty, but its attributes contain the
   base URI.  It is declared as follows:

   <!ELEMENT base EMPTY>
   <!ATTLIST base
     id      ID       #IMPLIED
     href    %URI;    #REQUIRED
   >

   The "href" attribute contains the base URI.

5.3 The 'meta' element

   The "meta" element defines structured annotations for the complete
   ANNODEX(TM) bitstream.  A "meta" element is empty, but its attributes
   contain the name-value pairs of a structured annotation.  The "meta"
   element is declared as follows:

   <!ELEMENT meta EMPTY>
   <!ATTLIST meta
     id       ID       #IMPLIED
     %i18n;
     name     NMTOKEN  #IMPLIED
     content  CDATA    #REQUIRED
     scheme   CDATA    #IMPLIED
   >

   The "%i18n;" attribute specifies the default language of the meta
   attribute and content texts.

   The "name" attribute identifies a property name.  It does not list
   legal values for this attribute.

   The "content" attribute specifies a property's value.  It does not
   list legal values for this attribute.

   The "scheme" attribute names a scheme to be used to interprete the
   property's value.  The scheme can be located via the "profile"
   attribute in the "head" element.








Pfeiffer & Parker       Expires December 7, 2003               [Page 12]

Internet-Draft                    CMML                         June 2003


6. The cmml 'a' tag

   A CMML file typically contains a number of anchors given in "a" tags.
   The CMML "a" tag contains information about a fragment of the
   ANNODEX(TM) bitstream.  This is expressed in a number of elements and
   attributes annotating, indexing, and hyperlinking the fragment.  The
   "start" and "end" attributes are used to give the insertion time for
   the anchor into the ANNODEX(TM) bitstream.

   <!ELEMENT a (meta*, desc*)>
   <!ATTLIST a
     id          ID             #IMPLIED
     %i18n;
     track       CDATA          "default"
     href        %URI;          #IMPLIED
     hrefdesc    CDATA          #IMPLIED
     image       %URI;          #IMPLIED
     start       %Timestamp;    #REQUIRED
     end         %Timestamp;    #IMPLIED
   >

   Any number of "meta" and "desc" elements may appear in an anchor
   page, but the "meta" elements must all appear first and en bloc,
   while the "desc" elements must all appear last and also en bloc.

   An "a" element defines a name for the fragment in the "id" attribute.
   This name can be used in URIs that point either to the CMML file or
   the ANNODEX(TM) bitstream created from it.  It will be used as a
   fragment identifier and point straight to the fragment defined by the
   "a" tag.

   The "%i18n;" attribute specifies the default language used by all the
   "desc" elements of the "a" tag.

   The "track" attribute specifies the track that this anchor belongs
   to.  An annotation track is a set of "a" pages that belong together
   from a semantic point of view.  Anchors in the same track must not
   overlap temporally.  A default track must be available always.  This
   track is the one a client (such as a Web browser plugin) will display
   by default.  Other annotation tracks may be created by the document
   author to describe a more specific content.  An example use are
   different annotation tracks for each speaker in an audio recording of
   a meeting.

   The "href" attribute specifies the location of a Web resource given
   by a URI.  It thus defines a link between the current fragment and a
   resource which the author believes to be connected closely to this
   fragment's content.  This might be a html page or another ANNODEX(TM)



Pfeiffer & Parker       Expires December 7, 2003               [Page 13]

Internet-Draft                    CMML                         June 2003


   bitstream fragment or an image etc.

   The "hrefdesc" attribute gives a short textual description of the
   link specified through the "href" attribute.  It explains why the
   connection between the current fragment and the destination URI is
   made.  It may e.g.  encourage the viewer to follow the link to "Get
   more information on blah".  This attribute value can be specified
   only if the "href" attribute has been specified.

   The "image" attribute specifies the location of an image on the Web
   given by a URI.  This image should be quite small as it is the
   representative image (known as "keyframe") for the current fragment.
   This image may be used to visually summarise the content of the
   fragment when a link to it is displayed, e.g.  by a search engine or
   in a table of contents.

   The "start" and "end" attributes specify the time range during which
   the anchor element is defined.  This time range is specified with
   respect to the "timebase" and "utc" attributes given in the "stream"
   tag.  If the "stream" tag does not contain a "utc" specification,
   "start" and "end" times are not allowed to be given in UTC time.
   "start" is a required attribute because an achor without a start time
   is useless.  "end" is optional and only required where anchors cannot
   continue on to the following anchor.

6.1 The 'meta' element

   The "meta" element is specified above in the "head" section.  While a
   "meta" element in the "head" tag provides meta information for the
   complete ANNODEX(TM) bitstream, the "meta" elements in an "a" tag
   only provide meta information for the anchor.

6.2 The 'desc' element

   The "desc" tag contains a human readable, textual description (or
   annotation) of the content of the fragment.  The "desc" element is
   declared as the following:

   <!ELEMENT desc  (#PCDATA)>
   <!ATTLIST desc
     id          ID       #IMPLIED
     %i18n;
   >

   For extracting a short text from the "desc" element as needs to be
   displayed in a table of contents or as caption, the first few
   characters of the description will be taken.  It therefore is
   recommended to place a short meaningful summary sentence at the



Pfeiffer & Parker       Expires December 7, 2003               [Page 14]

Internet-Draft                    CMML                         June 2003


   beginning of the description when authoring annotations.

   The "%i18n;" attribute specifies the actual language of the text in
   the description.  So, if it is required to give a mixed language
   description, the default language will be given in the "%i18n;"
   attribute of the "a" tag and the actually used language in a specific
   "desc" tag is given there.












































Pfeiffer & Parker       Expires December 7, 2003               [Page 15]

Internet-Draft                    CMML                         June 2003


7. The mapping of CMML to ANNODEX(TM) format bitstreams

   As CMML is an authoring format for ANNODEX(TM) format bitstreams,
   there is a simple way to map the annotations and meta information
   contained in a CMML instance document to the annotation bitstreams
   and header fields of an ANNODEX(TM) format bitstream.

   There is a direct mapping between a CMML "head" element and an
   ANNODEX(TM) "head" page as they both contain the same elements and
   the same attributes.  The additional namespace attribute "xmlns" in
   the "head" page of an ANNODEX(TM) format bitstream will be filled
   from the "xmlns" attribute of the "cmml" tag of the CMML file and
   defaults to the same namespace default.

   There is also a direct mapping between a CMML "a" element and an
   ANNODEX(TM) "a" page as they also both contain the same elements and
   the same attributes, except for the "start" and "end" attributes.
   The "start" attribute tells the multiplexer that creates the
   ANNODEX(TM) format bitstream at what time to insert the "a" page into
   the bitstream.  The "end" attribute (if present) leads to the
   creation of an "empty" "a" page on the same track at the given time
   in the ANNODEX(TM) format bitstream unless another "a" page apears on
   the same track beforehand.  The "empty" "a" page contains no
   attribute values for any of the implied attributes and no "meta" or
   "desc" elements, but has a copy of the "track" attribute.  Again, the
   "xmlns" attribute is filled from the "xmlns" attribute of the "cmml"
   tag of the CMML file and defaults to the same namespace default.

   The information contained in a CMML "stream" element is partly
   relevant to authoring only and partly required in different binary
   header fields of an ANNODEX(TM) format bitstream.  The "stream"
   attributes "timebase" and "utc" are stored in the bos page of the
   ANNODEX(TM) media mapping bitstream.  Each of the encapsulated media
   bitstreams is described by one of the "media" tags in the CMML.
   Their "id", "granulerate" and "mimetype" attributes are stored in the
   bos page of the respective bitstreams.  The other attributes of the
   "media" tag are used for authoring only and therefore not mapped to a
   field in the ANNODEX(TM) format bitstream.













Pfeiffer & Parker       Expires December 7, 2003               [Page 16]

Internet-Draft                    CMML                         June 2003


8. MIME media type registration for 'text/cmml'

   This section contains the registration information for the 'text/
   cmml' media type.  While this media type is not approved by the IANA,
   'text/x-cmml' may be used to identify CMML instance documents.

   To: ietf-types@iana.org

   Subject: Registration of MIME media type 'text/cmml'

   MIME media type name: text

   MIME subtype name: cmml

   Required parameters: none

   Optional parameters: charset (as in the text/xml media type [8]).

   Encoding Considerations: as appropriate for the charset and the
   transport mechanism (see text/xml media type [8]).

   Security considerations: see next section.

   Interoperability considerations: CMML is a free specification that is
   independent of any media encoding format.  It is designed to provide
   interoperability with existing XML tools and systems.  Its
   specification is not patented and can be implemented by third parties
   without patent considerations.

   Additional information:

      Magic numbers: none.  However, CMML files start with the XML
      preamble as any XML document [8]) and will also have the string
      '<cmml' near the beginning of the file.

      File extension: .cmml

      Macintosh File Type Code: "TEXT"

      Intended usage: COMMON

   Fragment identifiers: Any named element, i.e.  element that contains
   an "id" attribute, may be referenced through a fragment identifier of
   a URI.  However, the values of the id attribute of the anchor tags
   are the most important ones used for addressing media fragments.
   Also, the generic temporal addressing scheme proposed for
   standardisation [11] can be used as a fragment address and then
   relates to the last anchor whose start time is just before the given



Pfeiffer & Parker       Expires December 7, 2003               [Page 17]

Internet-Draft                    CMML                         June 2003


   temporal offset.


















































Pfeiffer & Parker       Expires December 7, 2003               [Page 18]

Internet-Draft                    CMML                         June 2003


9. Security considerations

   As CMML is a markup language created by using XML, the same security
   considerations that apply to XML [8], apply to CMML.

   As the CMML is an authoring language for ANNODEX(TM) format
   bitstreams, there is no executable code attached to this language.
   The implementation of a multiplexer to actually create an ANNODEX(TM)
   bitstream must be careful when handling input bitstreams, which are
   binary data.









































Pfeiffer & Parker       Expires December 7, 2003               [Page 19]

Internet-Draft                    CMML                         June 2003


References

   [1]   World Wide Web Consortium, "Extensible Markup Language (XML)
         1.0", W3C XML, October 2000, <http://www.w3.org/TR/2000/
         REC-xml-20001006>.

   [2]   World Wide Web Consortium, "HTML 4.01 Specification", W3C HTML,
         December 1999, <http://www.w3.org/TR/html4/>.

   [3]   World Wide Web Consortium, "XHTML(TM) 1.0 The Extensible Hyper
         Text Markup Language", W3C XHTML, January 2000, <http://
         www.w3.org/TR/xhtml1/>.

   [4]   Berners-Lee, T., Fielding, R. and L. Masinter, "Uniform
         Resource Identifiers (URI): Generic Syntax", RFC 2396, August
         1998, <http://www.ietf.org/rfc/rfc2396.txt>.

   [5]   Schulzrinne, H., Rao, A. and R. Lanphier, "Real Time Streaming
         Protocol (RTSP)", RFC 2326, April 1998, <Http://www.ietf.org/
         rfc/rfc2326.txt>.

   [6]   Alvestrand, H., "Tags for the Identification of Languages", RFC
         1766, March 1995, <http://www.ietf.org/rfc/rfc1766.txt>.

   [7]   Freed, N. and N. Borenstein, "Multipurpose Internet Mail
         Extensions (MIME) Part Two: Media Types", RFC 2046, November
         1996, <http://www.ietf.org/rfc/rfc2046.txt>.

   [8]   Whitehead, E. and M. Murata, "XML Media Types", RFC 2376, July
         1998, <http://www.ietf.org/rfc/rfc2376.txt>.

   [9]   The Society of Motion Picture and Television Engineers, "SMPTE
         STANDARD for Television, Audio and Film - Time and Control
         Code", ANSI 12M-1999, September 1999.

   [10]  ISO, TC154., "Data elements and interchange formats --
         Information interchange -- Representation of dates and times",
         ISO 8601, 2000.

   [11]  Pfeiffer, S. and C. Parker, "Syntax of temporal URI fragment
         specifications (work in progress)", I-D
         draft-pfeiffer-temporal-fragments-01.txt, Feburary 2003,
         <http://www.ietf.org/internet-drafts/
         draft-pfeiffer-temporal-fragments-01.txt>.

   [12]  Pfeiffer, S. and C. Parker, "Specification of the ANNODEX(TM)
         annotation and indexing format for time-continuous data files,
         Version 1.0 (work in progress)", I-D



Pfeiffer & Parker       Expires December 7, 2003               [Page 20]

Internet-Draft                    CMML                         June 2003


         draft-pfeiffer-annodex-00.txt, June 2003, <http://
         www.annodex.net/TR/annodex.txt>.


Authors' Addresses

   Silvia Pfeiffer
   Commonwealth Scientific and Industrial Research Organisation CSIRO, Australia
   Locked Bag 17
   North Ryde, NSW  2113
   Australia

   Phone: +61 2 9325 3141
   EMail: Silvia.Pfeiffer@csiro.au
   URI:   http://www.cmis.csiro.au/Silvia.Pfeiffer/


   Conrad D. Parker
   Commonwealth Scientific and Industrial Research Organisation CSIRO, Australia
   Locked Bag 17
   North Ryde, NSW  2113
   Australia

   Phone: +61 2 9325 3133
   EMail: Conrad.Parker@csiro.au
   URI:   http://www.cmis.csiro.au/Conrad.Parker/

























Pfeiffer & Parker       Expires December 7, 2003               [Page 21]

Internet-Draft                    CMML                         June 2003


Appendix A. CMML DTD

   <?xml version="1.0" encoding="UTF-8" ?>

   <!--

      Continuous Media Markup Language CMML version 1.0 DTD
      Authoring language for ANNODEX(TM) media.

      Namespace = http://www.annodex.net/cmml

      Copyright (c) 2001
      Commonwealth Scientific and Industrial Research Organisation
      (CSIRO), Australia.
      All Rights Reserved.

      This DTD module is identified by the PUBLIC and SYSTEM identifiers:

      PUBLIC "-//CSIRO//DTD CMML 1.0//EN"
      SYSTEM "http://www.annodex.net/DTD/cmml_1_0.dtd"

      $Revision: 1.0 $
      $Date: 2003/06/01 24:00:00 $
   -->

   <!-- **************************** -->
   <!-- Definition of Imported Names -->
   <!-- **************************** -->

   <!-- a Uniform Resource Identifier, see [RFC2396] -->
   <!ENTITY % URI "CDATA">

   <!-- a language code, as per [RFC1766] -->
   <!ENTITY % LanguageCode "NMTOKEN">

   <!-- internationalization attributes
     xml:lang    language code (as per XML 1.0 spec)
     dir          direction for weak/neutral text
   -->
   <!ENTITY % i18n
    "lang    %LanguageCode; #IMPLIED
     dir         (ltr|rtl)      #IMPLIED"
     >

   <!-- timestamps similar to [RFC2326]
    "smpte-24=" SMPTE time with a 24 fps basis
    "smpte-24-drop=" SMPTE time with a 24/1.001 fps basis
    "smpte-25=" SMPTE time with a 25 fps basis



Pfeiffer & Parker       Expires December 7, 2003               [Page 22]

Internet-Draft                    CMML                         June 2003


    "smpte-30=" SMPTE time with a 30 fps basis
    "smpte-30-drop=" SMPTE time with a 30/1.001 fps basis
    "smpte-50=" SMPTE time with a 50 fps basis
    "smpte-60=" SMPTE time with a 60 fps basis
    "smpte-60-drop=" SMPTE time with a 60/1.001 fps basis
    "npt=" npt-time
    "clock=" utc-time

    Playbacktime is specified as a smpte-time
    or npt-time only.

    UTCtime is specified as in [RFC2326], but
    without the "clock" identifier
   -->
   <!ENTITY % Timestamp    "CDATA">
   <!ENTITY % Playbacktime "CDATA">
   <!ENTITY % UTCtime      "CDATA">


   <!-- **************************** -->
   <!-- Document Structure           -->
   <!-- **************************** -->

   <!-- ROOT ELEMENT: -->
   <!-- cmml tag containing sequence of head and a tags -->
   <!-- =============================================== -->
   <!-- xmlns   = namespace of the cmml tags -->
   <!-- (language of this is covered by the default language
         given in the head element) -->
   <!ELEMENT cmml (stream?, head, a*)>
   <!ATTLIST cmml
     id          ID             #IMPLIED
     xmlns       %URI;          #FIXED 'http://www.annodex.net/cmml'
     >


   <!-- **************************** -->
   <!-- Definition of stream element -->
   <!-- **************************** -->

   <!-- STREAM tag providing timing information for the ANNODEX file -->
   <!-- (will be stored in the binary headers of the ANX bitstreams) -->
   <!-- ============================================================ -->
   <!-- timebase   = base time associated with the first frame of the media
                     document from which subsequent time references (such as
                     in anchor tags) will be taken relative to -->
   <!-- utc        = a mapping of the first frame to clock time;
                     specifications of utc time offsets into the document as



Pfeiffer & Parker       Expires December 7, 2003               [Page 23]

Internet-Draft                    CMML                         June 2003


                     in a URI will be taken relative to this -->
   <!ELEMENT stream (media*)>
   <!ATTLIST stream
     id          ID             #IMPLIED
     timebase    %Playbacktime; "npt=0"
     utc         %UTCtime;      #IMPLIED
     >

   <!-- MEDIA tag giving descriptions on a media bitstream (empty content) -->
   <!-- ================================================================== -->
   <!-- granulerate = the base temporal resolution of the bitstream (.e.g.
                      its framerate for video or samplerate for audio) -->
   <!-- mimetype    = encoding format of the media document (a MIME type) -->
   <!-- location    = URI to the media document -->
   <!-- start       = the start time of the media bitstream specified
                      in location  -->
   <!ELEMENT media EMPTY>
   <!ATTLIST media
     id          ID             #IMPLIED
     granulerate CDATA          #IMPLIED
     mimetype    CDATA          #IMPLIED
     location    %URI;          #REQUIRED
     start       %Timestamp;    "npt=0"
     end         %Timestamp;    #IMPLIED
     >


   <!-- **************************** -->
   <!-- Definition of document head  -->
   <!-- **************************** -->

   <!-- head tag containing description of a specific media document -->
   <!-- ============================================================ -->
   <!-- profile = space-separated list of URIs to locate meta tag schemes -->
   <!-- i18n    = the base language of the head's attribute values and text
                  content -->
   <!-- defltlang & defltdir  = the default language for the whole document -->
   <!ELEMENT head (meta*,
                   ((title, meta*, (base, meta*)?) |
   		 (base, meta*, (title, meta*)?)))>
   <!ATTLIST head
     id          ID             #IMPLIED
     %i18n;
     defltlang   %LanguageCode; #IMPLIED
     defltdir    (ltr|rtl)      #IMPLIED
     profile     %URI;          #IMPLIED
     >




Pfeiffer & Parker       Expires December 7, 2003               [Page 24]

Internet-Draft                    CMML                         June 2003


   <!-- TITLE tag giving descriptive title of the media document  -->
   <!-- ========================================================= -->
   <!-- i18n  = the base language of the title -->
   <!ELEMENT title (#PCDATA)>
   <!ATTLIST title
     id          ID             #IMPLIED
     %i18n;
     >

   <!-- BASE URI of the document (empty content) -->
   <!-- ======================================== -->
   <!-- href = URI associated with the document; all relative URI references
               get interpreted relative to this base -->
   <!ELEMENT base EMPTY>
   <!ATTLIST base
     id          ID             #IMPLIED
     href        %URI;          #REQUIRED
     >

   <!-- META description tags of the document (empty content) -->
   <!-- ===================================================== -->
   <!-- i18n    = the default language for the meta attribute and content text -->
   <!-- name    = identifies a property name; does not list legal values for this
                  attribute -->
   <!-- content = specifies a property's value; does not list legal values for
                  this attribute -->
   <!-- scheme  = names a scheme to be used to interpret the property's value
                  (see the profiles tag in the head element for locating these) -->
   <!ELEMENT meta EMPTY>
   <!ATTLIST meta
     id          ID             #IMPLIED
     %i18n;
     name        NMTOKEN        #IMPLIED
     content     CDATA          #REQUIRED
     scheme      CDATA          #IMPLIED
     >


   <!-- **************************** -->
   <!-- Definition of anchor tags    -->
   <!-- **************************** -->

   <!-- A tag containing information for a specific fragment -->
   <!-- ==================================================== -->
   <!-- i18n     = default language for all the desc tags in the anchor -->
   <!-- track    = defines different sets of anchor tags; anchor tags of same
                   type cannot overlap temporally-->
   <!-- href     = specifies the location of a Web resource, thus defining a



Pfeiffer & Parker       Expires December 7, 2003               [Page 25]

Internet-Draft                    CMML                         June 2003


                   link between the current element (the source anchor) and the
                   destination anchor given by this attribute -->
   <!-- hrefdesc = textual description of the link between the current element
                   (the source anchor) and the destination anchor given by the
                   href attribute -->
   <!-- image    = link to an image that is representative for this fragment -->
   <!-- start    = specifies the start time of the fragment; specified in
                   time relative to the timebase of the header
                   [NOT INCLUDED IN ANNODEXED DOCUMENT] -->
   <!-- end      = specifies the end time of the fragment; specified in
                   time relative to the timebase of the header
                   [NOT INCLUDED IN ANNODEXED DOCUMENT] -->
   <!ELEMENT a (meta*, desc*)>
   <!ATTLIST a
     id          ID             #IMPLIED
     %i18n;
     track       CDATA          "default"
     href        %URI;          #IMPLIED
     hrefdesc    CDATA          #IMPLIED
     image       %URI;          #IMPLIED
     start       %Timestamp;    #REQUIRED
     end         %Timestamp;    #IMPLIED
     >

   <!-- DESC human-readable, textual description of the anchor (annotation) -->
   <!-- =================================================================== -->
   <!-- i18n = language of the data in the description, as per [RFC1766] -->
   <!ELEMENT desc (#PCDATA)>
   <!ATTLIST desc
     id          ID             #IMPLIED
     %i18n;
     >



















Pfeiffer & Parker       Expires December 7, 2003               [Page 26]

Internet-Draft                    CMML                         June 2003


Appendix B. An example CMML document

   <?xml version="1.0" encoding="UTF-8"?>
   <!DOCTYPE cmml SYSTEM "cmml_1_0.dtd">
   <cmml>
   <stream timebase="npt=0" utc="19911222T210000.00Z"/>
     <media location="matrix.mpg" mimetype = "video/mpeg"
            granulerate="25/1" start="npt=0"/>
   </stream>
   <head lang="en" defltlang="de">
     <title lang="en">The Matrix</title>
     <base href="http://www.foo.bar/"/>
     <meta name="Movie"     content="The Matrix"/>
     <meta name="Producer"  content="Joel Silver"/>
     <meta name="Director"  content="Larry Wachowski"/>
     <meta name="Director"  content="Andy Wachowski"/>
     <meta name="Writer"    content="The Wachowski Brothers"/>
   </head>
   <a id="no_spoon"
      lang="en"
      href="http://www.blah.au/spoons.anx#@bent"
      hrefdesc="More images of the bent spoon"
      image="no_spoon.jpg"
      start="npt=46:5.9"
      end="npt=51:3.4">
     <meta name="Actor"       content="Keanu Reeves"/>
     <meta name="Actor"       content="Rowan Witt"/>
     <meta name="Cast.Reeves" content="Thomas A. Anderson/Neo"/>
     <meta name="Cast.Witt"   content="Spoon boy"/>
     <meta name="Scene"       content="Oracle"/>
     <desc>There is no spoon: Neo is waiting to see the Oracle in a room
     full of children doing seemingly impossible things. One is making
     spoons bend through telekenesis. Neo tries to do it himself, but
     fails. Spoon boy: "Do not try and bend the spoon that's impossible,
     instead only try to realize the truth." Neo: "What truth?" Spoon
     boy: "There is no spoon." Neo: "There is no spoon?" Spoon boy: "Then
     you'll see that it is not the spoon that bends, it is only
     yourself." Neo tries again...
     </desc>
     <desc lang="de">Den L&ouml;ffel gibt es nicht: Neo entdeckt beim Besuch
     des Orakels wie unwirklich seine Welt ist. Beim Versuch, einen
     L&ouml;ffel durch Telekinese zu verbiegen, bekommt er von dem Kind den
     Rat: "Den L&ouml;ffel gibt es nicht."
     </desc>
   </a>
   </cmml>





Pfeiffer & Parker       Expires December 7, 2003               [Page 27]

Internet-Draft                    CMML                         June 2003


Appendix C. Definitions of terms and abbreviations

   Anchor: A subpart of a resource covering some temporal interval.

   Mark-up: XML tags and their content used to describe a media
      document.

   Annotating: the task of giving textual descriptions to fragments of
      media documents.

   Indexing: the task of identifying index points for media documents or
      fragments thereof.

   Hyperlinking: the task of linking from one Web resource to another.
      If a link has a fragment offset into the resource, this is
      sometimes called deep hyperlinking.

   Track: a set of Anchor pages representing semantically correlated
      annotations of a time-continuous resource.

   ANNODEX(TM) bitstream: A specific file format for storing annotation,
      hyperlinking, and indexing information multiplexed together with
      the time-continuous data bitstreams they describe.

   Bitstream: a sequence of data containing samples of time-continous
      data.

























Pfeiffer & Parker       Expires December 7, 2003               [Page 28]

Internet-Draft                    CMML                         June 2003


Appendix D. Glossary of acronyms

   ANNODEX(TM): Annotated and indexed bitstream format.

   CMML: Continuous Media Markup Language.

   DTD: Document Type Declaration.

   XML: eXtensible Markup Language.

   Web: World Wide Web.

   URI: Unified Resource Identifier.






































Pfeiffer & Parker       Expires December 7, 2003               [Page 29]

Internet-Draft                    CMML                         June 2003


Appendix E. Acknowledgements

   The authors greatly acknowledge the contributions of Andre Pang,
   Andrew Nesbit, and Simon Lai in developing this standard.















































Pfeiffer & Parker       Expires December 7, 2003               [Page 30]

Internet-Draft                    CMML                         June 2003


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Pfeiffer & Parker       Expires December 7, 2003               [Page 31]

Internet-Draft                    CMML                         June 2003


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Pfeiffer & Parker       Expires December 7, 2003               [Page 32]

