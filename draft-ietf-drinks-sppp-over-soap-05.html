<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>SPPP Over SOAP and HTTP</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 SOAP Features and SPPP">
<link href="#rfc.section.4" rel="Chapter" title="4 HTTP(s) Features and SPPP">
<link href="#rfc.section.5" rel="Chapter" title="5 Authentication and Session Management">
<link href="#rfc.section.6" rel="Chapter" title="6 SPPP SOAP WSDL Definition">
<link href="#rfc.section.7" rel="Chapter" title="7 SPPP SOAP Examples">
<link href="#rfc.section.8" rel="Chapter" title="8 Security Considerations">
<link href="#rfc.section.8.1" rel="Chapter" title="8.1 Integrity, Privacy, and Authentication">
<link href="#rfc.section.8.2" rel="Chapter" title="8.2 Vulnerabilities">
<link href="#rfc.section.8.3" rel="Chapter" title="8.3 Deployment Environment Specifics">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA Considerations">
<link href="#rfc.section.10" rel="Chapter" title="10 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="11 References">
<link href="#rfc.references.1" rel="Chapter" title="11.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="11.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="The Session Peering Provisioning Protocol (SPPP) is an XML protocol that exists to enable the provisioning of session establishment data into Session Data Registries or SIP Service Provider data stores.  Sending XML data structures over Simple Object Access Protocol (SOAP) and HTTP(s) is a widely used, de-facto standard for messaging between elements of provisioning systems.  Therefore the combination of SOAP and HTTP(s) as a transport for SPPP is a natural fit.  The obvious benefits include leveraging existing industry expertise, leveraging existing standards, and a higher probability that existing provisioning systems can be more easily integrated with this protocol.  This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).  " />
  <meta name="description" content="The Session Peering Provisioning Protocol (SPPP) is an XML protocol that exists to enable the provisioning of session establishment data into Session Data Registries or SIP Service Provider data stores.  Sending XML data structures over Simple Object Access Protocol (SOAP) and HTTP(s) is a widely used, de-facto standard for messaging between elements of provisioning systems.  Therefore the combination of SOAP and HTTP(s) as a transport for SPPP is a natural fit.  The obvious benefits include leveraging existing industry expertise, leveraging existing standards, and a higher probability that existing provisioning systems can be more easily integrated with this protocol.  This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">DRINKS</td>
<td class="right">K.C. Cartwright</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">TNS</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">September 02, 2011</td>
</tr>
<tr>
<td class="left">Expires: March 05, 2012</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">SPPP Over SOAP and HTTP<br />
  <span class="filename">draft-ietf-drinks-sppp-over-soap-05</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>The Session Peering Provisioning Protocol (SPPP) is an XML protocol that exists to enable the provisioning of session establishment data into Session Data Registries or SIP Service Provider data stores.  Sending XML data structures over Simple Object Access Protocol (SOAP) and HTTP(s) is a widely used, de-facto standard for messaging between elements of provisioning systems.  Therefore the combination of SOAP and HTTP(s) as a transport for SPPP is a natural fit.  The obvious benefits include leveraging existing industry expertise, leveraging existing standards, and a higher probability that existing provisioning systems can be more easily integrated with this protocol.  This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on March 05, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">SOAP Features and SPPP</a>
</li>
<li>4.   <a href="#rfc.section.4">HTTP(s) Features and SPPP</a>
</li>
<li>5.   <a href="#rfc.section.5">Authentication and Session Management</a>
</li>
<li>6.   <a href="#rfc.section.6">SPPP SOAP WSDL Definition</a>
</li>
<li>7.   <a href="#rfc.section.7">SPPP SOAP Examples</a>
</li>
<li>8.   <a href="#rfc.section.8">Security Considerations</a>
</li>
<li>8.1.   <a href="#rfc.section.8.1">Integrity, Privacy, and Authentication</a>
</li>
<li>8.2.   <a href="#rfc.section.8.2">Vulnerabilities</a>
</li>
<li>8.3.   <a href="#rfc.section.8.3">Deployment Environment Specifics</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA Considerations</a>
</li>
<li>10.   <a href="#rfc.section.10">Acknowledgements</a>
</li>
<li>11.   <a href="#rfc.references">References</a>
</li>
<li>11.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>11.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">SPPP, defined in <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a>, is best supported by a transport and messaging infrastructure that is connection oriented, request-response oriented, easily secured, supports propagation through firewalls in a standard fashion, and that is easily integrated into back-office systems.  This is due to the fact that the client side of SPPP is likely to be integrated with organizations' operational support systems that facilitate transactional provisioning of user addresses and their associated session establishment data.  While the server side of SPPP is likely to reside in a separate organization's network, resulting the SPPP provisioning transactions traversing the Internet as they are propagated from the SPPP client to the SPPP server.  Given the current state of industry practice and technologies, SOAP and HTTP(s) are well suited for this type of environment. This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).</p>
<p id="rfc.section.1.p.2">The specification in this document for transporting SPPP XML structures over SOAP and HTTP(s) is primarily comprised of five subjects:  (1) a description of any applicable SOAP features, (2) any applicable HTTP features, (3) security considerations, and perhaps most importantly, (5) the Web Services Description Language (WSDL) definition for SPPP over SOAP.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#Terminology" id="Terminology">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#SOAPFeatures" id="SOAPFeatures">SOAP Features and SPPP</a>
</h1>
<p id="rfc.section.3.p.1">The list of SOAP features that are explicitly used and required for SPPP are limited.  Most SOAP features are not necessary for SPPP.  SPPP primarily uses SOAP simply as a standard message envelope technology.  The SOAP message envelope is comprised of the SOAP header and body.  As described in the SOAP specifications, the SOAP header can contain optional, application specific, information about the message.  The SOAP body contains the SPPP message itself, whose structure is defined by the combination of one of the WSDL operations defined in this document and the SPPP XML data structures defined in the SPPP protocol document.  SPPP does not rely on any data elements in the SOAP header.  All relevant data elements are defined in the SPPP XML schema described in <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a> and the SPPP WSDL specification described in this document.</p>
<p id="rfc.section.3.p.2">WSDL is a widely standardized and adopted technology for defining the top-level structures of the messages that are transported within the body of a SOAP message.  The WSDL definition for the SPPP SOAP messages is defined later in this document, which imports by reference the XML data types contained in the SPPP schema.  The IANA registry where the SPPP schema resides is described in The IETF XML Registry <a href="#RFC3688">[RFC3688]</a>.</p>
<p id="rfc.section.3.p.3">There are multiple structural styles that SOAP WSDL allows.  But the best practice for this type of application is what is sometimes referred to as the Document Literal Wrapped style of designing SOAP WSDL.  This style is generally regarded as an optimal approach that enhances maintainability, comprehension, portability, and, to a certain extent, performance.  It is characterized by setting the soapAction binding style as _document_, the soapAction encoding style as _literal_, and then defining the SOAP messages to simply contain a single data element that _wraps_ that is a data structure containing all the required input or output data elements. The figure below illustrates this high level technical structure.</p>
<div id="#rfc.figure.1"></div>
<div id="#TechnicalStructureofSPPP"></div>
<pre>
                               +---------------+
                        +------|    SOAP       |------+
                       |       |  Operation    |      |
              Contains |      +----------------+      | Contains
                       |          Example:            |
                       V      submitUpdateRqst        V
               +--------------+           +-------------+
               |SOAP Request  |           |SOAP Response|
       Example:|  Message     |           |   Message   | Example:
 spppUpdate    | (Operation   |           | (Operation  |spppUpdate
    RequestMsg |   Input)     |           |  Output)    |   ResponseMsg
               +--------------+           +-------------+
                        |                       |
               Contains |                       | Contains
                        |                       |
                        V                       V
              +---------------+         +---------------+
      Example:|    Wrapped    |         |  Wrapped      | Example:
  spppUpdate  |Request Object |         |Response Object| spppUpdate
      Request +---------------+         +---------------+     Response
                        |                       |
               Contains |                       | Contains
                        |                       |
                        V                       V
              +---------------+        +---------------------+
              |      SPPP     |        |       SPPP          |
              |   XML Types   |        |     XML Types       |
              +---------------+        +---------------------+
        </pre>
<p id="rfc.section.3.p.4">The SOAP operations supported by SPPP are normatively defined later in this document.  Each SOAP operation defines a request/input message and a response/output message.  Each such request and response message then contains a single object that wraps the SPPP XML data types that comprise the inputs and the outputs, respectively, of the SOAP operation.</p>
<p id="rfc.section.3.p.5">SOAP faults are not used by the SPPP SOAP mapping.  All SPPP success and error responses are specified within the SPPP protocol specification <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a>.  However, if a SOAP fault were to occur, perhaps due to failures in the SOAP message handling layer of a SOAP library, the client application should capture and handle the fault.  Specifics on how to handle such SOAP faults, if they should occur, will be specific to the chosen SOAP implementation. </p>
<p id="rfc.section.3.p.6">SOAP 1.2 <a href="#SOAPREF">[SOAPREF]</a> or higher and WSDL 1.1 <a href="#WSDLREF">[WSDLREF]</a> or higher SHOULD be used.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#HTTPFeatures" id="HTTPFeatures">HTTP(s) Features and SPPP</a>
</h1>
<p id="rfc.section.4.p.1">SOAP is not tied to HTTP(s), however, for reasons described in the introduction, HTTP(s) is a good choice as the transport mechanism for the SPPP SOAP messages.  HTTP 1.1 includes the "persistent connection" feature, which allows multiple HTTP request/response pairs to be transported across a single HTTP connection.  This is an important performance optimization feature, particularly when the connections is an HTTPS connection where the relatively time consuming SSL handshake has occurred.  Persistent connections SHOULD be used for the SPPP HTTP connections.</p>
<p id="rfc.section.4.p.2">HTTP 1.1 <a href="#RFC2616">[RFC2616]</a> or higher SHOULD be used.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#AuthenticationSessionManagement" id="AuthenticationSessionManagement">Authentication and Session Management</a>
</h1>
<p id="rfc.section.5.p.1">To achieve integrity and privacy, conforming SPPP SOAP Clients and Servers MUST support SOAP over HTTP over TLS <a href="#RFC5246">[RFC5246]</a> as the secure transport mechanism.  This combination of HTTP and TLS is referred to as HTTPS.  And to accomplish authentication, conforming SOAP SPPP Clients and Servers MUST use HTTP Digest Authentication as defined in <a href="#RFC2617">[RFC2617]</a>.  As a result, the communication session is established through the initial HTTP connection setup, the digest authentication, and the TLS handshake.  When the HTTP connection is broken down, the communication session ends.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#SPPPWSDL" id="SPPPWSDL">SPPP SOAP WSDL Definition</a>
</h1>
<p id="rfc.section.6.p.1">The SPPP WSDL is defined below.  The WSDL design approach is commonly referred to as _Generic WSDL_.  It is generic in the sense that there is not a specific WSDL operation defined for each object type that is supported by the SPPP protocol.  There is a single WSDL update operation called submitUpdateRqst, and a single WSDL query operation called submitQueryRqst.  The submitUpdateRqst operation takes as input an spppUpdateRequestMsg object and returns as output an spppUpdateResponseMsg object.  These objects _wrap_ the spppUpdateRequest and spppUpdateResponse objects respectively.  These two object data structures are described in the SPPP protocol specification <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a>.  And finally, the spppSOAPBinding in the WSDL defines the binding style as _document_ and the encoding as _literal_.  It is this combination of _wrapped_ input and output data structures, _document_ binding style, and _literal_ encoding that characterize the Document Literal Wrapped style of WSDL specifications.</p>
<p id="rfc.section.6.p.2">The advantage of generic WSDL is that the WSDL is more succinct, much simpler, and therfore more easily maintained.  As new types of protocol objects and actions are added into or removed from the SPPP protocol, the WSDL does not need to change.  This approach is made possible by the fact that the SPP XML data types and supported actions are defined in the SPPP XML schema, not in the WSDL.  As a result the supported actions do not need to be re-defined here inside the SPPP SOAP WSDL.</p>
<p id="rfc.section.6.p.3">Note: The following WSDL has been formatted (e.g., tabs, spaces) to meet I-D requirements.  </p>
<div id="#rfc.figure.2"></div>
<div id="#WSDL"></div>
<pre>

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsdl:definitions xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" 
 xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" 
 xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 xmlns:spppb="urn:ietf:params:xml:ns:sppp:base:1" 
 xmlns:sppps="urn:ietf:params:xml:ns:sppp:soap:1" 
 targetNamespace="urn:ietf:params:xml:ns:sppp:soap:1" 
 xsi:schemaLocation="spppbase.xsd"&gt;
	&lt;wsdl:types&gt;
 &lt;xsd:schema&gt;
          &lt;xsd:import namespace="urn:ietf:params:xml:ns:sppp:base:1" 
                      schemaLocation="spppbase.xsd"/&gt;
 &lt;/xsd:schema&gt;
 &lt;/wsdl:types&gt;
 &lt;wsdl:message name="spppUpdateRequestMsg"&gt;
  &lt;wsdl:part name="rqst" element="spppb:spppUpdateRequest"/&gt;
 &lt;/wsdl:message&gt;
 &lt;wsdl:message name="spppUpdateResponseMsg"&gt;
  &lt;wsdl:part name="rspns" element="spppb:spppUpdateResponse"/&gt;
 &lt;/wsdl:message&gt;
 &lt;wsdl:message name="spppQueryRequestMsg"&gt;
  &lt;wsdl:part name="rqst" element="spppb:spppQueryRequest"/&gt;
 &lt;/wsdl:message&gt;
 &lt;wsdl:message name="spppQueryResponseMsg"&gt;
  &lt;wsdl:part name="rspns" element="spppb:spppQueryResponse"/&gt;
 &lt;/wsdl:message&gt;
 &lt;wsdl:message name="spppServerStatusRequestMsg"&gt;
  &lt;wsdl:part name="rqst" element="spppb:spppServerStatusRequest"/&gt;
 &lt;/wsdl:message&gt;
 &lt;wsdl:message name="spppServerStatusResponseMsg"&gt;
  &lt;wsdl:part name="rspns" element="spppb:spppServerStatusResponse"/&gt;
 &lt;/wsdl:message&gt;
 &lt;wsdl:portType name="spppPortType"&gt;
  &lt;wsdl:operation name="submitUpdateRqst"&gt;
   &lt;wsdl:input message="sppps:spppUpdateRequestMsg"/&gt;
   &lt;wsdl:output message="sppps:spppUpdateResponseMsg"/&gt;
  &lt;/wsdl:operation&gt;
  &lt;wsdl:operation name="submitQueryRqst"&gt;
   &lt;wsdl:input message="sppps:spppQueryRequestMsg"/&gt;
   &lt;wsdl:output message="sppps:spppQueryResponseMsg"/&gt;
  &lt;/wsdl:operation&gt;
  &lt;wsdl:operation name="submitServerStatusRqst"&gt;
   &lt;wsdl:input message="sppps:spppServerStatusRequestMsg"/&gt;
   &lt;wsdl:output message="sppps:spppServerStatusResponseMsg"/&gt;
  &lt;/wsdl:operation&gt;
 &lt;/wsdl:portType&gt;
 &lt;wsdl:binding name="spppSoapBinding" type="sppps:spppPortType"&gt;
  &lt;soap:binding style="document" 
		transport="http://schemas.xmlsoap.org/soap/http"/&gt;
  &lt;wsdl:operation name="submitUpdateRqst"&gt;
   &lt;soap:operation soapAction="submitUpdateRqst" style="document"/&gt;
   &lt;wsdl:input&gt;
    &lt;soap:body use="literal"/&gt;
   &lt;/wsdl:input&gt;
   &lt;wsdl:output&gt;
    &lt;soap:body use="literal"/&gt;
   &lt;/wsdl:output&gt;
  &lt;/wsdl:operation&gt;
  &lt;wsdl:operation name="submitQueryRqst"&gt;
   &lt;soap:operation soapAction="submitQueryRqst" style="document"/&gt;
   &lt;wsdl:input&gt;
    &lt;soap:body use="literal"/&gt;
   &lt;/wsdl:input&gt;
   &lt;wsdl:output&gt;
    &lt;soap:body use="literal"/&gt;
   &lt;/wsdl:output&gt;
  &lt;/wsdl:operation&gt;
  &lt;wsdl:operation name="submitServerStatusRqst"&gt;
  &lt;soap:operation soapAction="submitServerStatusRqst" style="document"/&gt;
   &lt;wsdl:input&gt;
    &lt;soap:body use="literal"/&gt;
   &lt;/wsdl:input&gt;
   &lt;wsdl:output&gt;
    &lt;soap:body use="literal"/&gt;
   &lt;/wsdl:output&gt;
  &lt;/wsdl:operation&gt;
 &lt;/wsdl:binding&gt;
 &lt;wsdl:service name="spppService"&gt;
  &lt;wsdl:port name="spppPort" binding="sppps:spppSoapBinding"&gt;
   &lt;soap:address location="REPLACE_WITH_ACTUAL_URL"/&gt;
  &lt;/wsdl:port&gt;
 &lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;

       </pre>
<p></p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#SPPPExamples" id="SPPPExamples">SPPP SOAP Examples</a>
</h1>
<p id="rfc.section.7.p.1">This section provides a few examples of SPPP SOAP messages.  This section of course relies on the XML data structures defined in the SPPP protocol specification <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a>.  So refer to that document to understand XML object types embedded in these example messages.</p>
<p id="rfc.section.7.p.2">Note: The following examples have been formatted (e.g., tabs, spaces) to meet I-D requirements.  </p>
<div id="#rfc.figure.3"></div>
<div id="#Example1"></div>
<pre>
        
&lt;soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:spb="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;soapenv:Header/&gt;
  &lt;soapenv:Body&gt;
      &lt;spb:spppUpdateRequest 
      xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd" 
      xmlns="urn:ietf:params:xml:ns:sppp:base:1"   
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
          &lt;spb:clientTransId&gt;888&lt;/spb:clientTransId&gt;
          &lt;spb:minorVer&gt;1&lt;/spb:minorVer&gt;
          &lt;spb:rqst xsi:type="spb:AddDestGrpRqstType"&gt;
            &lt;spb:destGrp&gt;
               &lt;spb:rant&gt;registrant2&lt;/spb:rant&gt;
 	           &lt;spb:dgName&gt;DEST_GRP_SPPP_5&lt;/spb:dgName&gt;
            &lt;/spb:destGrp&gt;
          &lt;/spb:rqst&gt;
       &lt;/spb:spppUpdateRequest&gt;
  &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
       
       </pre>
<p></p>
<div id="#rfc.figure.4"></div>
<div id="#Example2"></div>
<pre>
        
&lt;soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:spb="urn:ietf:params:xml:ns:sppp:base:1"&gt;
   &lt;soapenv:Header/&gt;
   &lt;soapenv:Body&gt;
      &lt;spb:spppQueryRequest 
      xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd" 
      xmlns="urn:ietf:params:xml:ns:sppp:base:1" 
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
          &lt;spb:minorVer&gt;1&lt;/spb:minorVer&gt;
          &lt;spb:rqst xsi:type="spb:GetDestGrpsRqstType"&gt;
              &lt;spb:objKey&gt;
                  &lt;spb:rant&gt;registrant2&lt;/spb:rant&gt;
                  &lt;spb:name&gt;DEST_GRP_SPPP_5&lt;/spb:name&gt;
              &lt;/spb:objKey&gt;
          &lt;/spb:rqst&gt;
      &lt;/spb:spppQueryRequest&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
       
       </pre>
<p></p>
<div id="#rfc.figure.5"></div>
<div id="#Example3"></div>
<pre>
        
&lt;soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:spb="urn:ietf:params:xml:ns:sppp:base:1"&gt;
   &lt;soapenv:Header/&gt;
   &lt;soapenv:Body&gt;
      &lt;spb:spppQueryRequest 
      xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd" 
      xmlns="urn:ietf:params:xml:ns:sppp:base:1" 
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
          &lt;spb:clientTransId&gt;999&lt;/spb:clientTransId&gt;
          &lt;spb:minorVer&gt;1&lt;/spb:minorVer&gt;
          &lt;spb:rqst xsi:type="spb:DelDestGrpRqstType"&gt;
              &lt;spb:objKey&gt;
                  &lt;spb:rant&gt;registrant2&lt;/spb:rant&gt;
                  &lt;spb:name&gt;DEST_GRP_SPPP_5&lt;/spb:name&gt;
              &lt;/spb:objKey&gt;
          &lt;/spb:rqst&gt;
      &lt;/spb:spppQueryRequest&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
       
       </pre>
<p></p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#SecurityConsiderations" id="SecurityConsiderations">Security Considerations</a>
</h1>
<p id="rfc.section.8.p.1">SPPP is used to query and update session peering data and addresses, so the ability to access this protocol should be limited to users and systems that are authorized to query and update this data.  Because this data is sent in both directions, it may not be sufficient for just the client or user to be authenticated with the server.  The identity of the server should also be authenticated by the client, which is often accomplished using the TLS certificate exchange and validation described in <a href="#RFC2818">[RFC2818]</a>.  SPPP data may include sensitive information, routing data, lists of resolvable addresses, etc.  So when used in a production setting and across non-secure networks, SPPP should only be used over communications channels that provide strong encryption for data privacy.</p>
<h1 id="rfc.section.8.1">
<a href="#rfc.section.8.1">8.1.</a> <a href="#IntegrityPrivacyAuthentication" id="IntegrityPrivacyAuthentication">Integrity, Privacy, and Authentication</a>
</h1>
<p id="rfc.section.8.1.p.1">The SPPP SOAP binding relies on an underlying secure transport for integrity and privacy.  Such transports are expected to include TLS/HTTPS.  In addition to the application level authentication imposed by an SPPP server, there are a number of options for authentication within the transport layer and the messaging envelope.  These include TLS client certificates, HTTP Digest Access Authentication, and digital signatures within SOAP headers. </p>
<p id="rfc.section.8.1.p.2">At a miniumum, all conforming SPPP over SOAP implementations MUST support HTTPS.</p>
<h1 id="rfc.section.8.2">
<a href="#rfc.section.8.2">8.2.</a> <a href="#Vulnerabilities" id="Vulnerabilities">Vulnerabilities</a>
</h1>
<p id="rfc.section.8.2.p.1">The above protocols may have various vulnerabilities, and these may be inherited by SPPP over SOAP.  And SPPP itself may have vulnerabilities because an authorization model is not explicitly specified in the current specification.  </p>
<p id="rfc.section.8.2.p.2">It is important that SPPP implementations implement an authorization model that considers the source of each SPPP query or update request and determines whether it is reasonable to authorize that source to perform that specific query or update. </p>
<h1 id="rfc.section.8.3">
<a href="#rfc.section.8.3">8.3.</a> <a href="#DeploymentEnvironmentSpecifics" id="DeploymentEnvironmentSpecifics">Deployment Environment Specifics</a>
</h1>
<p id="rfc.section.8.3.p.1">Some deployments of SPPP over SOAP could choose to use transports without encryption.  This presents vulnerabilities but could be selected for deployments involving closed networks or debugging scenarios.  However, the vulnerabilities of such a deployment could be a lack of integrity and privacy of the data transported over SPPP messages in this type of deployment.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#IANAConsiderations" id="IANAConsiderations">IANA Considerations</a>
</h1>
<p id="rfc.section.9.p.1">This document uses URNs to describe XML namespaces and XML schemas conforming to a registry mechanism described in <a href="#RFC3688">[RFC3688]</a>.  </p>
<p id="rfc.section.9.p.2">URN assignments are requested:  urn:ietf:params:xml:ns:sppp:soap</p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.10.p.1">This document is a result of various discussions held by the DRINKS design team, which is comprised of the following individuals, in no specific order: Syed Ali (NeuStar), Sumanth Channabasappa (Cable Labs), David Schwartz (XConnect), Jean-Francois Mule (CableLabs), Kenneth Cartwright (TNS, Inc.), Manjul Maharishi (TNS, Inc.), Alexander Mayrhofer (enum.at GmbH).  </p>
<h1 id="rfc.references">
<a href="#rfc.references">11.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">11.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3688">[RFC3688]</b></td>
<td class="top">
<a>Mealling, M.</a>, "<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>", BCP 81, RFC 3688, January 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5246">[RFC5246]</b></td>
<td class="top">
<a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2617">[RFC2617]</b></td>
<td class="top">
<a href="mailto:john@math.nwu.edu" title="Northwestern University, Department of Mathematics">Franks, J.</a>, <a href="mailto:pbaker@verisign.com" title="Verisign Inc.">Hallam-Baker, P.M.</a>, <a href="mailto:jeff@AbiSource.com" title="AbiSource, Inc.">Hostetler, J.L.</a>, <a href="mailto:lawrence@agranat.com" title="Agranat Systems, Inc.">Lawrence, S.D.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.J.</a>, <a title="Netscape Communications Corporation">Luotonen, A.</a> and <a href="mailto:stewart@OpenMarket.com" title="Open Market, Inc.">L. Stewart</a>, "<a href="http://tools.ietf.org/html/rfc2617">HTTP Authentication: Basic and Digest Access Authentication</a>", RFC 2617, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2616">[RFC2616]</b></td>
<td class="top">
<a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a> and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2616, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</b></td>
<td class="top">
<a>Mule, J-F.M.</a>, <a>Cartwright, K.C.</a>, <a>Ali, S.A.</a> and <a>A.M. Mayrhofer</a>, "<a href="http://tools.ietf.org/html/draft-ietf-drinks-spprov-09">DRINKS Use cases and Protocol Requirements</a>", Internet-Draft draft-ietf-drinks-spprov-09, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="SOAPREF">[SOAPREF]</b></td>
<td class="top">
<a>Gudgin, M.</a>, <a>Hadley, M.</a>, <a>Moreau, J.</a> and <a>H. Nielsen</a>, "<a>SOAP Version 1.2 Part 1: Messaging Framework</a>", W3C Recommendation REC-SOAP12-part1-20030624, June 2002.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">11.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2818">[RFC2818]</b></td>
<td class="top">
<a>Rescorla, E.</a>, "<a href="http://tools.ietf.org/html/rfc2818">HTTP Over TLS</a>", RFC 2818, May 2000.</td>
</tr>
<tr>
<td class="reference"><b id="WSDLREF">[WSDLREF]</b></td>
<td class="top">
<a>Christensen, E.</a>, <a>Curbera, F.</a>, <a>Meredith, G.</a> and <a>S. Weerawarana</a>, "<a>Web Services Description Language (WSDL) 1.1</a>", W3C Note NOTE-wsdl-20010315, March 2001.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Kenneth Cartwright</span> 
	  <span class="n hidden">
		<span class="family-name">Cartwright</span>
	  </span>
	</span>
	<span class="org vcardline">TNS</span>
	<span class="adr">
	  <span>1939 Roland Clarke Place</span>

	  <span class="vcardline">
		<span class="locality">Reston</span>,  
		<span class="region">VA</span> 
		<span class="code">20191</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:kcartwright@tnsi.com">kcartwright@tnsi.com</a></span>

  </address>
</div>

</body>
</html>