



Network Working Group                                            M. Chen
Internet-Draft                                                    Huawei
Intended status: Standards Track                               G. Mirsky
Expires: April 16, 2015                                         Ericsson
                                                        October 13, 2014


         Extensions to OSPF for Source Identifier Distribution
           draft-chen-ospf-source-identifier-distribution-00

Abstract

   A Source Identifier (SI) is carried in an MPLS Source Label and used
   to identify (one of) the ingress LSR(s) to a specific LSP.  This
   document defines extensions to OSPF protocol for distribution of the
   correlation of a SI to an specific LSR.  Therefore, the egress and
   intermediate LSRs can determine from which LSR an MPLS packet is
   sent.

   This document also defines OSPF extensions to advertise the Source
   Label Capability (SLC) of each LSR that indicates whether an LSR can
   properly process the Source Label Indicator (SLI) special purpose
   label and Source Label (SL).  With the SLC, an ingress LSR can
   determine whether it is allowed to insert a SL into the label stack
   for a specific LSP.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 16, 2015.



Chen & Mirsky            Expires April 16, 2015                 [Page 1]

Internet-Draft     OSPF Source Identifier Distribution      October 2014


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Extensions to OSPF  . . . . . . . . . . . . . . . . . . . . .   3
   3.  Elements of Procedure . . . . . . . . . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   As defined in [I-D.chen-mpls-source-label], a Source Identifier (SI)
   is a number in the range of [16, 65535].  Each node in a domain will
   be allocated one or more unique SIs.  A SI is carried in an
   MultiProtocol Label Switching (MPLS) Source Label (SL) and used to
   identify (one of) the ingress Label Switching Router (LSR) to a
   specific Label Switched Path (LSP).

   To identify from where an MPLS packet is sent, the egress/
   intermediate LSRs need to know to which ingress LSR a SI is
   correlated.  Therefore, a mechanism to distribute the correlation of
   a SI to its correlated LSR is required.

   In addition, for an ingress LSR, before inserting a SL in the label
   stack of an LSP, it needs to know whether the egress LSR has the
   capability to process the SLI and SL, otherwise the packet will be
   dropped at the egress LSR.  The capability is called Source Label
   Capability (SLC).




Chen & Mirsky            Expires April 16, 2015                 [Page 2]

Internet-Draft     OSPF Source Identifier Distribution      October 2014


   This document defines extensions to OSPF protocol to distribute SI to
   LSR mapping and advertise the SLC of each LSR.

2.  Extensions to OSPF

   The Source Identifier TLV is defined to distribute the SI(s) to
   ingress LSR mapping information and the SLC.  No sub-TLV is currently
   defined for the Source Identifier TLV.

   The Source Identifier TLV is advertised in an OSPF Router Information
   (RI) [RFC4790] Link State Advertisement (LSA), it has the following
   format:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |              Type             |             Length            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                           Router ID                           |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |        Reserved       |          Source Identifier 1          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       ~                            ...                                ~
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |        Reserved       |          Source Identifier n          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                    Figure 1 - OSPF Source Identifier TLV format

   The value of "Type" field is TBD1.

   The "Length" field defines the length of the Reserved and Source
   Identifier fields in octets, which excludes the Router ID field.

   Each "Source Identifier" field (20 bits) contains a SI that
   identifies the advertising LSR.

   The "Reserved" field MUST be set to zero when sending and MUST be
   ignored when received.

3.  Elements of Procedure

   The Source Identifier TLV is carried in the OSPF Router Information
   (RI) LSA that is defined in [RFC4790].  All the procedures that
   defined in [RFC4790] are inherited here.

   The flooding scope of the Source Identifier TLV can be either area
   local or entire OSPF domain.  The flooding scope is controlled by the



Chen & Mirsky            Expires April 16, 2015                 [Page 3]

Internet-Draft     OSPF Source Identifier Distribution      October 2014


   Opaque LSA type in OSPFv2 [RFC2370] and by the S1 and S2 bits in
   OSPFv3 [RFC2740].  If the flooding scope is area local, the Source
   Identifier TLV MUST be carried within an OSPFv2 Type 10 RI LSA or
   within an OSPFv3 RI LSA with the S1 bit set and the S2 bit clear.  If
   the flooding scope is the entire IGP domain, the Source Identifier
   TLV MUST be carried within an OSPFv2 Type 11 RI LSA or within an
   OSPFv3 RI LSA with the S1 bit clear and the S2 bit set.

   The Source Identifier TLV is an optional TLV.  Upon receipt the TLV,
   a router will silently ignore the TLV as defined in [RFC4790] if it
   does not support it.  If Source Identifier TLV is not present that
   MUST be interpreted as signaling of non-support of SLC by the LSR.
   Presence of a Source Identifier TLV MUST be interpreted as support of
   SLC by the LSR.  A Source Identifier TLV MUST appear only one time in
   an LSA.  When received, only first Source Identifier TLV is valid,
   subsequent Source Identifier TLVs MUST be ignored.

4.  IANA Considerations

   IANA is requested to assign a new TLV code point for the Source
   Identifier TLV carried within the Router Information LSA.

   Type Value  TLV Name            Reference
   ----------  ------------------  --------------
   TBD1        Source Identifier   (this document)

5.  Security Considerations

   TBD.

6.  Acknowledgements

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2370]  Coltun, R., "The OSPF Opaque LSA Option", RFC 2370, July
              1998.

   [RFC2740]  Coltun, R., Ferguson, D., and J. Moy, "OSPF for IPv6", RFC
              2740, December 1999.

   [RFC4790]  Newman, C., Duerst, M., and A. Gulbrandsen, "Internet
              Application Protocol Collation Registry", RFC 4790, March
              2007.



Chen & Mirsky            Expires April 16, 2015                 [Page 4]

Internet-Draft     OSPF Source Identifier Distribution      October 2014


7.2.  Informative References

   [I-D.chen-mpls-source-label]
              Chen, M., Xu, X., Li, Z., Fang, L., and G. Mirsky,
              "MultiProtocol Label Switching (MPLS) Source Label",
              draft-chen-mpls-source-label-05 (work in progress), July
              2014.

Authors' Addresses

   Mach(Guoyi) Chen
   Huawei

   Email: mach.chen@huawei.com


   Greg Mirsky
   Ericsson

   Email: Gregory.mirsky@ericsson.com































Chen & Mirsky            Expires April 16, 2015                 [Page 5]
