<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>NAT for IPv6-Only Hosts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="NAT for IPv6-Only Hosts">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">C. Jennings</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">Intended status:  Standards Track</td><td class="header">November 04, 2008</td></tr>
<tr><td class="header">Expires:  May 8, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />NAT for IPv6-Only Hosts<br />draft-jennings-behave-nat6-01</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 8, 2009.</p>

<h3>Abstract</h3>

<p>This specification defines a NAT that allows IPv6-only hosts that are
      inside the NAT to operate with IPv4 hosts that are outside the NAT. It
      requires no modifications to the v4 hosts or applications, or to the
      operating system of v6 hosts, but it does require some changes to v6
      applications. Typically this specification would be used to allow the
      hosts inside a NAT to connect to hosts outside it; but under some
      limitations, it can also allow hosts outside to connect to hosts
      inside.
</p>
<p>The goal of this draft is to consider what is the minimal feasible
      approach to this problem. The current intention is to merge this with
      the nat64 draft. This draft is being discussed on the behave@ietf.org
      list.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Architecture<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.</a>&nbsp;
NAT from 6 to 4<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.2.</a>&nbsp;
NAT from 4 to 6<br />
<a href="#anchor5">3.</a>&nbsp;
Terminology<br />
<a href="#sec-mapping">4.</a>&nbsp;
Mapping<br />
<a href="#anchor6">5.</a>&nbsp;
Packet Forwarding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.1.</a>&nbsp;
UDP and TCP 6 to 4<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.2.</a>&nbsp;
UDP and TCP 4 to 6<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.3.</a>&nbsp;
IP Fragmentation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.4.</a>&nbsp;
TTL<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.5.</a>&nbsp;
DSCP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.6.</a>&nbsp;
ICMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">5.6.1.</a>&nbsp;
Option Yes ICMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">5.6.2.</a>&nbsp;
Option No ICMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">5.7.</a>&nbsp;
IPsec<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">5.8.</a>&nbsp;
DCCP, SCTP, etc <br />
<a href="#anchor17">6.</a>&nbsp;
ALGs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">6.1.</a>&nbsp;
FTP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">6.2.</a>&nbsp;
SIP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">6.3.</a>&nbsp;
Others<br />
<a href="#anchor21">7.</a>&nbsp;
Helper Services<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">7.1.</a>&nbsp;
STUN<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">7.2.</a>&nbsp;
DNS<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">7.3.</a>&nbsp;
DHCP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">7.4.</a>&nbsp;
V6 Routing / Tunnel<br />
<a href="#anchor26">8.</a>&nbsp;
Requirement Conformance<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-behave-udp">8.1.</a>&nbsp;
RFC 4787 Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-behave-tcp">8.2.</a>&nbsp;
draft-ietf-behave-tcp Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">8.3.</a>&nbsp;
draft-bagnulo-v6ops-6man-nat64-pb-statement Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">8.4.</a>&nbsp;
draft-nishitani-cgn Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">8.5.</a>&nbsp;
Multicast<br />
<a href="#IANA">9.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">10.</a>&nbsp;
Security Considerations<br />
<a href="#acks">11.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>A lot of thought has gone into the question of how to connect v6-only
      and v4-only hosts. This draft tries to identify the simplest approach to
      what would just "barely work," since what barely works is what is most
      likely to get deployed. The basic approach is to ask what works for v4
      to v4 NATs and to pick a design that requires as few changes as possible
      from that. The assumption is that it is hard to deploy changes in
      existing v4 applications and in both v4 and v6 operating systems. Of
      course, this specification relies on subjective judgements about the
      relative complexity of deploying changes into various parts of the
      network.
</p>
<p>This specification therefore amounts to a rough straw man meant to
      encourage discussion of what is the minimum that can be done.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Architecture</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
NAT from 6 to 4</h3>

<p>The deployment topology that this work addresses has many v6-only
        hosts behind some large, carrier-grade NAT, and these hosts wish to be
        able to form connections to the v4 internet. This is the classic NAT64
        case. The harder NAT46 case is discussed later. As shown in <a class='info' href='#fig-arch64'>Figure&nbsp;1</a>, when a new connection is initiated by the
        host inside the NAT using internal address X1 and port x1, the NAT
        creates a mapping from the inside address port combination X1:x1 to
        some unused address and port on the outside. The external v4 address
        that X1:x1 was mapped to is referred to as X1':x1, and any packets
        that are sent to this port on the NAT are forwarded to X1:x1.
</p><br /><hr class="insert" />
<a name="fig-arch64"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  +-------------------------------+
  |    +----------+ External v4   |
  |    |Server App|               |
  |    +----------+               |
  |    |Host OS   |               |
  |    +----------+               |
  |      Y1:y1                    |
  |                               |
  |                               |
  |      X1':x1'                  |
  |    +--------+   +-------+     |
  +----+--------+-----------------+
       | NAT64  |   | DNS64 |
  +----+--------+-----------------+
  |    +--------+   +-------+     |
  |         Internal v6           |
  |                               |
  |      X1:x1                    |
  |    +--------+                 |
  |    | Client |                 |
  |    +--------+                 |
  |    | Host OS|                 |
  |    +--------+                 |
  +-------------------------------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The client application needs to know how to create a v6 destination
        address that will be routed to the v4 server. First the client
        application finds the v4 address of the server. One way to find the
        server is using a DNS query. The DNS query will go through a device
        that both synthesizes a DNS AAAA record for the A record and
        returns the A record. If the end application knows how to look at the
        A record directly and synthesize the v6 address to use, it can do that
        and continue to support features such as DNSSEC. If the application is
        unaware of the fact it is behind a NAT, it can use the AAAA record as
        a normal v6 only application would. The v6 address is formed by
        putting a ::FFFE:0:0/96 prefix before the v4 address. This prefix
        range is routed to the NAT, which can extract the v4 destination
        address.
</p>
<p>The mapping from X1:x1/X1':x1' is maintained by the NAT as long as
        it sees periodic traffic being sent from X1:x1. This specification
        only defines the NAT for UDP and TCP but could be extended for other
        protocols that have a port multiplexing scheme. When a mapping is
        created for a particular port, that mapping exists for all protocols,
        not just the protocol that created the mapping. This greatly
        simplifies generating the keep alive traffic that is necessary to
        maintain the mapping.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
NAT from 4 to 6</h3>

<p>Making it possible for a v4 host to connect to a server on the v6
        side requires more complex changes to the v6 applications than the
        trivial changes that were required in the 6 to 4 direction. However,
        many applications that usefully have a server running behind a NAT
        have already changed to work behind v4 to v4 NATs. The approach here
        is the same.
</p><br /><hr class="insert" />
<a name="fig-arch46"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  +-------------------------------+
  |    +----------+ External v4   |
  |    |Client App|               |
  |    +----------+               |
  |    |Host OS   |               |
  |    +----------+               |
  |      Y1:y1                    |
  |                               |
  |                 +----+        |
  |      X1':x1'    |STUN|        |
  |    +--------+   +----+        |
  +----+--------+-----------------+
       | NAT    |
  +----+--------+-----------------+
  |    +--------+   Internal v6   |
  |                               |
  |                               |
  |      X1:x1                    |
  |    +--------+                 |
  |    | Server |                 |
  |    +--------+                 |
  |    | Host OS|                 |
  |    +--------+                 |
  +-------------------------------+</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The server starts by creating a mapping in the NAT to a v4 address
        that it can use. The server does this by creating a connection to some
        server in the outside v4 space and having that server tell it what
        address and port the request came from, which reveals the external
        X1':x1' address port that has been mapped to the port the server is
        using. Typically a STUN server would be used. Note that a UDP
        transaction to a STUN server will allocate a mapping that can be used
        for incoming TCP connections. The NAT is required to run a STUN server
        on the external side at the address ::FFFE:127.0.0.1 on the default
        STUN port so the server will always be able to find a STUN server if
        it is behind a NAT. [[ Note - I have no idea if this address hack
        would work - but we can skin the cat with some other potato peeler if
        it does not ]]. The server needs to send periodic keep alive traffic
        to make sure the NAT does not remove the mapping. This can also be
        done with STUN.
</p>
<p>Next the server lets the client know that it can be reached at the
        address port of X1':x1'. This might be done simply, such as by
        creating a URL that points to that location and providing it by
        whatever means the URL is found (email, IM, bathroom walls, whatever);
        or through a complex approach, such as by using a rendezvous server
        such as a SIP registrar or by using DNS SRV records as rendezvous
        servers that point at the correct address and port. At this point, a
        client in the v4 space can initiate a connection to the X1':x1', and
        this will form a connection to the server.
</p>
<p>The applications that tend to be popular to run behind NATs are
        mostly P2P applications, such as file sharing and VoIP. Many of these
        types of applications have already undergone the changes that would be
        necessary to enable them to work behind a NAT such as the one
        described here, because these changes let them work behind v4 to v4
        NATs. HTTP servers may also turn out to be valuable to run behind
        NATs. The use cases would likely not involve direct web page serving
        so much as places where a web application, such as Facebook, could
        make an RPC call to an application that was running on the v6 server
        behind the NAT. The URL that Facebook uses for the RPC calls can
        easily be updated by the application. This type of architecture is
        already becoming more common as people use virtual servers in elastic
        computing environments. These environments are often behind NATs to
        facilitate migration of virtual servers. It is worth noting,
        particularly for future protocol development, that if HTTP did a DNS
        SRV lookup, it would be possible to use DNS as the rendezvous server
        for a generic web browser on the v4 internet to reach a v6-only server
        behind the NAT.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate           Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="sec-mapping"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Mapping</h3>

<p>When the NAT receives a packet with a source of X1:x1 from a host on
      the inside, the NAT first checks to see if it already has a mapping for
      it. If so, it resets the timer for the mapping; otherwise, it creates a
      new mapping. If the NAT already has any mapping from X1 to an external
      address X1', the external address used for this new mapping MUST be the
      same as the external address used for previous mappings of X1. The
      external address/port combination (X1':x1') allocated for the new
      mapping MUST NOT be in use by any other mapping. When choosing a port
      number for the mapping, well known port numbers MUST NOT be used.
</p>
<p>The mappings timer MUST keep mappings for at least 10 minutes after
      any packet is sent from the internal host through that mapping. Note
      that applications should not assume that the mapping will be promptly
      removed after 10 minutes of inactivity, since NAT implementations often
      do not use a timer per mapping but instead use a periodic sweep approach
      to deleting mapping.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Packet Forwarding</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
UDP and TCP 6 to 4</h3>

<p>When the NAT receives a UDP or TCP packet from the inside, it
        updates the mapping as described in <a class='info' href='#sec-mapping'>Section&nbsp;4<span> (</span><span class='info'>Mapping</span><span>)</span></a>, and then it extracts the external v4
        address from the v6 address by striping the ::FFFE:0:0/96 prefix. Next
        it takes the payload section of the UDP or TCP packet and constructs a
        v4 UDP or TCP payload using this destination and source from the
        associated mapping. Then it sends the packet following the procedures
        defined for a host to send a UDP or TCP packet. Note that any IP
        options (other than fragmentation) are lost in this process; also, as
        defined in UDP and TCP, new checksums will be updated.
</p>
<p>It is worth noting that the v4 destination address of the packet
        may be one of the external addresses of this NAT, in which case the
        packet is forwarded to that address and processed just like any other
        packet arriving at this address. Packets can therefore "hairpin"
        though the NAT. There is no good way to avoid this without some
        modifications to the applications to allow them to be aware of this
        and optimize around it. ICE is an example of a way applications can
        optimize around this hairpinning.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
UDP and TCP 4 to 6</h3>

<p>When the NAT receives a UDP or TCP packet from the outside, it
        checks to see if it has a mapping for the address port that the packet
        was received on. If it does, it uses the internal address and port
        associated with the mapping as the destination. It constructs a v6 UDP
        or TCP packet from the payload of the received packet and forwards
        that to the internal address. Note that checksums are updated when
        this new packet is created and sent.
</p>
<p>If the NAT receives a TCP SYN packet for which there is no mapping
        it SHOULD silently discard it; otherwise TCP hole punching techniques
        using simultaneous opens will not work.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
IP Fragmentation</h3>

<p>The interaction of v4 and v6 fragmentation has some thorny
        issues.
</p>
<p>The NAT MUST support reassembly of fragmented packets when the
        packets are received in order, but support for out of order fragments
        is OPTIONAL.
</p>
<p>If the NAT receives a v4 packet with the do not fragment bit set,
        it MUST NOT forward it if the MTU of the v6 link would require the
        packet to be fragmented, and the NAT MUST NOT include a fragment
        header in the v6 packet. If the NAT receives a v4 packet that does not
        have the do not fragment bit set, then the packet, when forwarded,
        MUST include a fragment header; and if the packet is larger than the
        MTU, the packet MUST be appropriately fragmented. When the NAT
        receives a v6 packet without a fragment header, it MUST set the do not
        fragment bit in any v4 packets, and if the resulting v4 packet is
        larger than the MTU on the v4 link that will be used, the NAT MUST NOT
        forward the packet. When the NAT receives a v6 packet with a fragment
        header, it can send the v4 packet without the do not fragment bit set
        and can fragment the packet appropriately.
</p>
<p>The problem with this approach is that the v6 host is likely to
        send packets less than 1280 octets with no fragmentation header. The
        v4 side will interpret these packets as being unable to be fragmented,
        and if they are destined for a host in which some element of the path
        has a shorter MTU, the packet will be discarded. The only practical
        way to mitigate this situation is to have the application send most of
        it packets with a fragmentation header, even if they are smaller than
        1280 octets.
</p>
<p>Application that support this specification, when sending to a v6
        address that starts with the prefix ::FFFE:0:0/96 SHOULD include a
        fragment header regardless of the size of the packet.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
TTL</h3>

<p>When a packet is forwarded, the TTL is decremented by one. If it is
        zero, the packet is not forwarded.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
DSCP</h3>

<p>When packets pass from one side to the other, the DSCP needs to be
        copied. If the NAT also includes diffserv classifier and marker
        functionality it MAY change the DSCP values. See RFC 2983<a class='info' href='#RFC2983'>[RFC2983]<span> (</span><span class='info'>Black, D., &ldquo;Differentiated Services and Tunnels,&rdquo; October&nbsp;2000.</span><span>)</span></a> for more information.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6"></a><h3>5.6.&nbsp;
ICMP</h3>

<p>[[ Note - this is going to be controversial. I suspect it actually
        goes too far but I'm deliberately presenting a pretty far out there
        side of the argument, in the hope that it will drive a discussion
        about what we really need, in practice, if we ignore IETF dogma.
        ]]
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6.1"></a><h3>5.6.1.&nbsp;
Option Yes ICMP</h3>

<p>ICMP packets are translated as described in <a class='info' href='#RFC2765'>[RFC2765]<span> (</span><span class='info'>Nordmark, E., &ldquo;Stateless IP/ICMP Translation Algorithm           (SIIT),&rdquo; February&nbsp;2000.</span><span>)</span></a>.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6.2"></a><h3>5.6.2.&nbsp;
Option No ICMP</h3>

<p>ICMP can be split into two parts, the part that reports errors
          for other transports and the part that supports exactly two
          applications, ping and traceroute. The problem with ICMP for
          reporting transport errors is that on today's internet ICMP is so
          often blocked that no application can rely on ICMP working.
          Applications tend to be designed to work without ICMP. NAT
          processing of ICMP packets is complicated because ICMP packets may
          contain embedded IP packets or fragments thereof. The security is
          further complicated by the fact that a UDP or TCP packet may cause
          an ICMP error to be generated by a host other than the host for
          which the original packet was destined. This possibility makes it
          difficult to determine which ICMP packets are valid and which are
          not. Furthermore, the way the APIs for UDP are typically used makes
          it hard for operating systems to notify applications of ICMP
          errors.
</p>
<p>NAT processing of ICMP errors is complicated and of very limited
          value; for that reason forwarding ICMP error messages is OPTIONAL.
          Processing to allow ping and traceroute through the NAT is also
          OPTIONAL
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.7"></a><h3>5.7.&nbsp;
IPsec</h3>

<p>IPsec over UDP will work, but other forms of IPsec will generally
        not work in a reliable way.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.8"></a><h3>5.8.&nbsp;
DCCP, SCTP, etc </h3>

<p>This specification can be extended by future specifications to
        support other transports but, given the immediate needs, this
        specification only requires support for UDP and TCP. This allows
        vendors that have not implemented other protocols to be compliant with
        this specification. No significant problems are see with using the
        same basic approach for DCCP.
</p>
<p>SCTP may be more complicated. Often one of the reasons for using
        SCTP is to take advantage multi-homing for reliability reasons but
        this may require that the two SCTP sessions try and use different
        NATs. The requirements and deployments topologies are not clear.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
ALGs</h3>

<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
FTP</h3>

<p>The deployment of personal firewalls and the misconfiguration of
        other firewalls has resulted in widespread breakage of active mode
        FTP. The general guess is that an FTP ALG will be needed to take PASV
        responses and turn them into EPAS responses. However, more
        experimentation is needed with what happens today with existing FTP
        clients running on v6 only hosts behind NATs to determine what is the
        best approach to this problem.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
SIP</h3>

<p>Many widely deployed SIP implementations work fine through NATs
        without requiring any ALGs. SIP was not designed to work with ALGs.
        More importantly, ALGs are not considered when designing new
        extensions to SIP and the combination of the extensions and the ALG
        often break badly. It is NOT RECOMMENDED for the NAT to have SIP ALGs,
        but if SIP ALGs are insisted upon, the best approach is to implement a
        dual homed proxy in the NAT that does v6 on one side and v4 on the
        other. This approach will be compatible with future SIP extensions and
        is significantly easier to correctly implement as SIP was designed so
        this would work.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Others</h3>

<p>All other ALGs are NOT RECOMMENDED.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Helper Services</h3>

<p>There are several services that, while not actually part of NATs,
      greatly facilitate being able to build applications that reliably work
      through NATs and should be logically, if not physically, associated with
      the NAT.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
STUN</h3>

<p>The NAT must run a Basic Standalone STUN server as defined in
        section 13 of <a class='info' href='#I-D.ietf-behave-rfc3489bis'>[I&#8209;D.ietf&#8209;behave&#8209;rfc3489bis]<span> (</span><span class='info'>Rosenberg, J., Mahy, R., Matthews, P., and D. Wing, &ldquo;Session Traversal Utilities for (NAT) (STUN),&rdquo; July&nbsp;2008.</span><span>)</span></a>, with
        the exception that it is NOT REQUIRED that it support TCP and it is
        not necessary to provide a DNS entry for this server. The server MUST
        run on the address ::FFFE:127.0.0.1 with default port of 3478. [[Note,
        if this address hack is inappropriate, this could be resolved by just
        defining a well known v4 anycast address for STUN and using that]]
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
DNS</h3>

<p>The NAT MUST provide a recursive DNS resolver that is capable of
        taking a DNS request received from the inside and resolving it on the
        outside.
</p>
<p>The resolver SHOULD try to take DNS A records results from the
        outside and synthesize synthetic AAAA records that would be routed to
        the using the v6 prefix. This SHOULD NOT be done if a record exists
        that does not use the NAT prefix address.
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
DHCP</h3>

<p>DHCP is very useful for the automated configuration of many things
        beyond IP addresses. [[ TODO should any particular DHCP things be
        required]]
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.4"></a><h3>7.4.&nbsp;
V6 Routing / Tunnel</h3>

<p>If a packet arrives from the inside with a v6 destination that is
        not in the ::FFFE:0:0/96 range, the NAT could/(should/may) forward
        this to the v6 internet. This could be via a direct v6 connection or
        some 646 tunnel. [[ Note not sure what to require / recommend here
        ]]
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Requirement Conformance</h3>

<a name="sec-behave-udp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
RFC 4787 Requirements</h3>

<p>NATs meeting this specification are compliant with the
        specification defined for UDP NAT behavior in <a class='info' href='#RFC4787'>RFC 4787<span> (</span><span class='info'>Audet, F. and C. Jennings, &ldquo;Network Address Translation (NAT) Behavioral Requirements for           Unicast UDP,&rdquo; January&nbsp;2007.</span><span>)</span></a> [RFC4787], with the exception that RFC 4787
        requires reassembly of out of order packets while this does not.
</p>
<a name="sec-behave-tcp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
draft-ietf-behave-tcp Requirements</h3>

<p>NATs meeting this specification are compliant with the
        specification defined for <a class='info' href='#I-D.ietf-behave-tcp'>[I&#8209;D.ietf&#8209;behave&#8209;tcp]<span> (</span><span class='info'>Guha, S., &ldquo;NAT Behavioral Requirements for TCP,&rdquo; April&nbsp;2007.</span><span>)</span></a>,
        with the exception of Req-9, which requires ICMP, and Req-5, which
        requires that mapping of established TCP connections with no traffic
        to stay valid for 2 hours and 4 minutes, while this requires only 10
        minutes.
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3"></a><h3>8.3.&nbsp;
draft-bagnulo-v6ops-6man-nat64-pb-statement Requirements</h3>

<p>Meets all the MUST support items in <a class='info' href='#I-D.bagnulo-v6ops-6man-nat64-pb-statement'>[I&#8209;D.bagnulo&#8209;v6ops&#8209;6man&#8209;nat64&#8209;pb&#8209;statement]<span> (</span><span class='info'>Bagnulo, M. and F. Baker, &ldquo;IPv4/IPv6 Coexistence and Transition: Requirements for           solutions,&rdquo; February&nbsp;2008.</span><span>)</span></a> except the
        requirement in R7 for ICMP support.
</p>
<p>Meets all the SHOULD support items except:</p>
<blockquote class="text">
<p>I4 requires support for out of order fragmented packets. See
            security consideration section in this document for more
            discussion on this.
</p>
<p>I6 - not clear whether or not all of MIPv6 works with this.
</p>
<p>I7 &amp; I8 require support for DCCP and SCTP which could be
            done as an extension to this.
</p>
<p>I9 - not clear when this does and does not work with
            multicast.
</p>
</blockquote>

<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4"></a><h3>8.4.&nbsp;
draft-nishitani-cgn Requirements</h3>

<p>Meets all the requirements of <a class='info' href='#I-D.nishitani-cgn'>[I&#8209;D.nishitani&#8209;cgn]<span> (</span><span class='info'>Nishitani, T. and S. Miyakawa, &ldquo;Carrier Grade Network Address Translator (NAT) Behavioral           Requirements for Unicast UDP, TCP and ICMP,&rdquo; July&nbsp;2008.</span><span>)</span></a> except the following:</p>
<blockquote class="text">
<p>R4 &amp; R9 - require support of ICMP.
</p>
<p>R5 &amp; R6 are additional constraints on reserving ports which
            are not mandated by this specification; but a device that was
            fully compliant with this specification could still support
            these.
</p>
<p>R7 &amp; R8 are analyzed in <a class='info' href='#sec-behave-udp'>Section&nbsp;8.1<span> (</span><span class='info'>RFC 4787 Requirements</span><span>)</span></a> and <a class='info' href='#sec-behave-tcp'>Section&nbsp;8.2<span> (</span><span class='info'>draft-ietf-behave-tcp Requirements</span><span>)</span></a>.
</p>
</blockquote>

<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.5"></a><h3>8.5.&nbsp;
Multicast</h3>

<p>More analysis is needed - your mileage may vary. Some important
        multicast applications such as an IP TV-like system that used an SSM
        sender in the v4 space with clients in the v6 space could probably be
        made to work fine, with little modification for v6-only clients. Some
        other multicast scenarios with senders in both the v4 and v6 space
        probably would not work.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of IANA.
</p>
<p>Open Issues: What prefix to use. We will want to allocate a different
      prefix than the ::FFFE:0:0/96. This draft makes no argument about which
      prefix would be best, it just requires that the specification define
      some fixed prefix to use.
</p>
<p>Note to RFC Editor: this section may be removed on publication as an
      RFC.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Security Considerations</h3>

<p>Often NATs are combined with firewalls that perform address-dependent
      filtering (as defined in <a class='info' href='#RFC4787'>[RFC4787]<span> (</span><span class='info'>Audet, F. and C. Jennings, &ldquo;Network Address Translation (NAT) Behavioral Requirements for           Unicast UDP,&rdquo; January&nbsp;2007.</span><span>)</span></a>) to improve
      security. The type of NAT envisioned here is a large, carrier-grade NAT
      with many clients behind it. Performing firewall operations at this
      location in the topology is not particularly effective because the
      attacker may well be on the "inside". The firewall capabilities should
      be provided much closer to the host being protected. The benefit of
      having mappings with address-independent filtering is that it make it
      possible to easily run servers inside the NAT with no modification of
      the clients outside the NAT. For this reason, this specification adopts
      a NAT design with address-independent filtering.
</p>
<p>One of the concerns about a large scale NAT that a single host inside
      the NAT might be able to perform a DOS attack by using up a large
      portion of the available external ports simply by creating many
      mappings. To mitigate this, the NAT SHOULD allow a configurable limit to
      the number of mappings that can be created by a single host inside the
      NAT.
</p>
<p>TODO - reassembly of out of order packets
</p>
<a name="acks"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgements</h3>

<p>Thanks to Dave Ward who pointed out that I and others were spending
      too much time making this complicated and should stop talking and get on
      with writing some drafts. Thanks for helpful comments from Mangus
      Westerlud, Iljitsch van Beijnum, and .
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-rfc3489bis">[I-D.ietf-behave-rfc3489bis]</a></td>
<td class="author-text">Rosenberg, J., Mahy, R., Matthews, P., and D. Wing, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-rfc3489bis-16.txt">Session Traversal Utilities for (NAT) (STUN)</a>,&rdquo; draft-ietf-behave-rfc3489bis-16 (work in progress), July&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-rfc3489bis-16.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate
          Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="ftp://ftp.isi.edu/in-notes/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2765">[RFC2765]</a></td>
<td class="author-text"><a href="mailto:nordmark@sun.com">Nordmark, E.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2765">Stateless IP/ICMP Translation Algorithm
          (SIIT)</a>,&rdquo; RFC&nbsp;2765, February&nbsp;2000 (<a href="ftp://ftp.isi.edu/in-notes/rfc2765.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.bagnulo-v6ops-6man-nat64-pb-statement">[I-D.bagnulo-v6ops-6man-nat64-pb-statement]</a></td>
<td class="author-text">Bagnulo, M. and F. Baker, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-bagnulo-v6ops-6man-nat64-pb-statement-01.txt">IPv4/IPv6 Coexistence and Transition: Requirements for
          solutions</a>,&rdquo; draft-bagnulo-v6ops-6man-nat64-pb-statement-01 (work in progress), February&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-bagnulo-v6ops-6man-nat64-pb-statement-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-tcp">[I-D.ietf-behave-tcp]</a></td>
<td class="author-text">Guha, S., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-tcp-07.txt">NAT Behavioral Requirements for TCP</a>,&rdquo; draft-ietf-behave-tcp-07 (work in progress), April&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-tcp-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.nishitani-cgn">[I-D.nishitani-cgn]</a></td>
<td class="author-text">Nishitani, T. and S. Miyakawa, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nishitani-cgn-00.txt">Carrier Grade Network Address Translator (NAT) Behavioral
          Requirements for Unicast UDP, TCP and ICMP</a>,&rdquo; draft-nishitani-cgn-00 (work in progress), July&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-nishitani-cgn-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2983">[RFC2983]</a></td>
<td class="author-text">Black, D., &ldquo;<a href="http://tools.ietf.org/html/rfc2983">Differentiated Services and Tunnels</a>,&rdquo; RFC&nbsp;2983, October&nbsp;2000 (<a href="ftp://ftp.isi.edu/in-notes/rfc2983.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4787">[RFC4787]</a></td>
<td class="author-text">Audet, F. and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc4787">Network Address Translation (NAT) Behavioral Requirements for
          Unicast UDP</a>,&rdquo; BCP&nbsp;127, RFC&nbsp;4787, January&nbsp;2007 (<a href="ftp://ftp.isi.edu/in-notes/rfc4787.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cullen Jennings</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 West Tasman Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mailstop SJC-21/2</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 408 902-3341</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:fluffy@cisco.com">fluffy@cisco.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
