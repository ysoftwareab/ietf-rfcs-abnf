LISP Working Group                                                    S. Barkai
Internet-Draft                                                B. Frenandez-Ruiz
Intended status: Experimental                                        O. Serfaty
Expires: September 4, 2019                                            Nexar Inc.
                                                             A. Rodriguez-Natal
                                                                       F. Maino
                                                                  Cisco Systems
                                                           A. Cabellos-Aparicio
                                              Technical University of Catalonia
                                                               February 4 2019


          Distributed Geo-Spatial LISP Blackboard for Automotive
                            draft-barkai-lisp-nexagon-00


Abstract

   This document specifies the use of LISP Blackboard for distributed
   Geo-Spatial Publish/Subscribe automotive applications.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 4, 2018.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Requirements Language . . . . . . . . . . . . . . . . . . . .   3
   3.  Deployment Assumptions  . . . . . . . . . . . . . . . . . . .   3
   4.  Nexagon Publish Procedure . . . . . . . . . . . . . . . . . .   4
   5.  Nexagon Subscribe Procedure  . . . . .  . . . . . . . . . . .   5
   6.  XTR Sharding-Handover tunnel . . . . . .  . . . . . . . . . .   7
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   8
   8.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   8
   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

  (1) The Locator/ID Separation Protocol (LISP) [RFC6830] splits current IP
  addresses in two different namespaces, Endpoint Identifiers (EIDs) and
  Routing Locators (RLOCs).
  LISP uses a map-and-encap approach that relies on (1) a Mapping System
  (basically a distributed database) that stores and disseminates EID-RLOC
  mappings and on (2) LISP tunnel routers (xTRs) that encapsulate and
  decapsulate data packets based on the content of those mappings.

  (2) H3 is a geospatial indexing system using a hexagonal grid that can be
  (approximately) subdivided into finer and finer hexagonal grids,
  combining the benefits of a hexagonal grid with hierarchical subdivisions.
  H3 supports sixteen resolutions. Each finer resolution has cells with one
  seventh the area of the coarser resolution. Hexagons cannot be perfectly
  subdivided into seven hexagons, so the finer cells are only approximately
  contained within a parent cell. Each cell is identified by a 64bit int.

  (3) The Berkeley Deep Drive (BDD) Industry Consortium investigates state-of-
  the-art technologies in computer vision and machine learning for automotive
  applications. BDD based taxonomy of published automotive scene classification.

  These standards are combined to create an in-network key-value blackboard -
  reflecting the state of each 1sqm hexagon tile of road. The lisp network maps
  traffic form vehicle endpoint IP identifiers (EID) to the routing location
  (RLOC) of h3 hexagon identifier (HID).

  Th lisp network blackboard bridges the time-space gap between vision & sensory
  (publishers) - and - driving apps/smart-infrastructure (subscribers).
  Drivers (EID) communicate with blackboard tiles (HID), EID<=> RLOC <=> HID,
  small tiles to publish, large tiles to subscribe to regional information.

  One of of the key use-cases is providing drivers with 20-30 seconds preemptive
  heads-up on potential hazards and obstacles; across traffic, around the block,
  beyond turns and curvatures, in a nutshell beyond sensory line-of-site.

  (1) LISP blackboard keys are 64bit H3 IDs referring to ~1sqm H3 level 13
  (2) LISP blackboard values are 64bit compiled-states of each H3 road-tile
  (3) LISP blackboard pub-sub regions are at H3 level-9 containing l13 tiles
  (4) LISP Blackboard is sharded to scale state-updates and edge propagation
  (5) Edge LISP XTRs use the H3 IDs to map publish-subscribe to right shard
  (6) Edge XTRs are also used to replicate bulk state updates to clients
  (7) Bulk updates Multicast-replication can use native access multicast



                /     \          /     \          /    \            H3-level9
               | H3-l9 |        | H3-l9 |        |      |             .
           ---  \ ___ / ---  --- \_____/ ---  --- \____/ ---          .
          v                 v                v                v       .
          v                 v  \    |     /  v                v       .
          v    ((((|)))) >>>     EDGE XTR    <<<  ((((|))))           .
                  /|\                                /|\              .
                  RAN                                RAN              .
          v                 v                v                v   H3-level13
          v                 v                v                v
      ............/\/\/\/\/\/\/\/\/\/    \/    \/\/\/    \/\/\/\..<<Subscriber
  - - - - - - - - - - - - - - - -   H3-l13  - -     H3-l13 - - - - - - -
  ..............  Publisher>> \/\/\/\____/\____/\/\/\____/..........



2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

3.  Deployment Assumptions

   The specification described in this document makes the following
   deployment assumptions:

   (1) A unique 64-bit H3 Hex-Tile identifier is associated with each lang-lat
   (2) Clients (Publisher/Subscriber) and network (Blackboard) share this index
   (3) A 64-bit automotive BDD state value is associated with each hexagon tile
   (4) Hexagon state is combined by 16 fields of 4-bit (nibble) up-to 16 enums

  |-0-|-1-|-2-|-3-|-4-|-5-|-6-|-7-|-8-|-9-|-A-|-B-|-C-|-D-|-E-|-F-|
   0123012301230123012301230123012301230123012301230123012301230123

   (5) The following fields describe state information for a given tile

   Field 0x describes the "freshness" of the state eg last published {
    0x: less than 10Sec
    1x: less than 20Sec
    2x: less than 40Sec
    3x: less than 1min
    4x: less than 2min
    5x: less than 5min
    6x: less than 15min
    7x: less than 30min
    9x: less than 1hour
    Ax: less than 2hours
    Bx: less than 8hours
    Cx: less than 24hours
    Dx: less than 1week
    Ex: less than 1month
    Fx: more than 1month
   }

   field 1x: persistent weather or structural {
    0x - null
    1x - pothole
    2x - speed-bump
    3x - icy
    4x - flooded
    5x - snow-cover
    6x - snow-deep
    7x - construction cone
    8x - curve
   }

   field 2x: transient or moving obstruction {
    0x - null
    1x - pedestrian
    2x - bike
    3x - stopped car / truck
    4x - moving car / truck
    5x - first responder vehicle
    6x - sudden slowdown
    7x - oversized-vehicle
   }

   field 3x: traffic-light timer countdown {
    0x - green now
    1x - 1 seconds to green
    2x - 2 seconds to green
    3x - 3 seconds to green
    4x - 4 seconds to green
    5x - 5 seconds to green
    6x - 6 seconds to green
    7x - 7 seconds to green
    8x - 8 seconds to green
    9x - 9 seconds to green
    Ax - 10 seconds or less
    Bx - 20 seconds or less
    Cx - 30 seconds or less
    Dx - 40 seconds or less
    Ex - 50 seconds or less
    Fx - minute or more left
  }

  field 4x: impacted tile from neighboring {
    0x - not impacted
    1x - light yellow
    2x - yellow
    3x - light orange
    4x - orange
    5x - light red
    6x - red
    7x - light blue
    8x - blue
  }

  field 5x: incidents {
    0x - clear
    1x - light collision (fender bender)
    2x - hard collision
    3x - collision with casualty
    4x - recent collision residues
    5x - hard break
    6x - sharp cornering
  }
  field 6x - compiled tile safety rating {

  }
  field 7x - reserved
  field 8x - reserved
  field 9x - reserved
  field Ax - reserved
  field Bx - reserved
  field Cx - reserved
  field Dx - reserved
  field Ex - reserved
  field Fx - reserved

   (7) Publish packet contains 1 key-value tuple:

   |-0-|-1-|-2-|-3-|-4-|-5-|-6-|-7-|-8-|-9-|-A-|-B-|-C-|-D-|-E-|-F-|
   |                        H3 Hexagon ID Key                      |
   |-0-|-1-|-2-|-3-|-4-|-5-|-6-|-7-|-8-|-9-|-A-|-B-|-C-|-D-|-E-|-F-|
   |                      H3 Hexagon State-Value                   |
   |---------------------------------------------------------------|



   (8) Any number of fields published in a state can be set to a value
   (9) If a field is not being addressed by than it should be set to 0x-null
   (10) Subscribe packets are the same as publish with the entire state set null

4. Nexagon Publish-Procedure

   (1) Publisher observation
   (2) Snap to hex accuracy bar
   (3) Compiling a Publish Packet
   (4) Publish Packet Source IP
   (5) Publish Packet Destination IP

5. Nexagon Subscribe Procedure

   (1) Subscribe to zone hierarchy
   (2) Subscribe Packet
   (3) Zone state update packet of upto 100 hexagon tiles

1  |-0-|-1-|-2-|-3-|-4-|-5-|-6-|-7-|-8-|-9-|-A-|-B-|-C-|-D-|-E-|-F-|
   |                        H3 Hexagon ID Key                      |
   |-0-|-1-|-2-|-3-|-4-|-5-|-6-|-7-|-8-|-9-|-A-|-B-|-C-|-D-|-E-|-F-|
   |                      H3 Hexagon State-Value                   |
   |---------------------------------------------------------------|
   .                                                               .
   .                                                               .
   .                                                               .
   .                                                               .
100|-0-|-1-|-2-|-3-|-4-|-5-|-6-|-7-|-8-|-9-|-A-|-B-|-C-|-D-|-E-|-F-|
   |                        H3 Hexagon ID Key                      |
   |-0-|-1-|-2-|-3-|-4-|-5-|-6-|-7-|-8-|-9-|-A-|-B-|-C-|-D-|-E-|-F-|
   |                      H3 Hexagon State-Value                   |
   |---------------------------------------------------------------|


6. XTR Sharding and Handover to blackboard tunnels

  (1) Map-Resolve hexagon ID to shard location
  (2) Multicast replication to subscribed EIDs


7.  Security Considerations

   The way to provide a security association between the ITRs and the
   Map-Servers must be evaluated according to the size of the
   deployment.  For small deployments, it is possible to have a shared
   key (or set of keys) between the ITRs and the Map-Servers.  For
   larger and Internet-scale deployments, scalability is a concern and
   further study is needed.

8.  Acknowledgments

   This work is partly funded by the ANR LISP-Lab project #ANR-
   13-INFR-009 (https://lisplab.lip6.fr).

9.  IANA Considerations

   This document makes no request to IANA.

10.  Normative References

   [I-D.ietf-lisp-rfc6833bis]
              Fuller, V., Farinacci, D., and A. Cabellos-Aparicio,
              "Locator/ID Separation Protocol (LISP) Control-Plane",
              draft-ietf-lisp-rfc6833bis-07 (work in progress), December
              2017.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC6830]  Farinacci, D., Fuller, V., Meyer, D., and D. Lewis, "The
              Locator/ID Separation Protocol (LISP)", RFC 6830,
              DOI 10.17487/RFC6830, January 2013,
              <https://www.rfc-editor.org/info/rfc6830>.

Authors' Addresses


   Sharon Barkai
   Nexar
   CA
   USA

   Email: sharon.barkai@getnexar.com


   Bruno Fernandez-Ruiz
   Nexar
   London
   UK

   Email: b@getnexar.com



   Ohad Serfaty
   Nexar
   Israel

   Email: ohad@getnexar.com


   Alberto Rodriguez-Natal
   Cisco Systems
   170 Tasman Drive
   San Jose, CA
   USA

   Email: natal@cisco.com



   Fabio Maino
   Cisco Systems
   170 Tasman Drive
   San Jose, CA
   USA

   Email: fmaino@cisco.com


   Albert Cabellos-Aparicio
   Technical University of Catalonia
   Barcelona
   Spain

   Email: acabello@ac.upc.edu
