<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BGP Route Policy and Attribute Trace Using BMP</title>
<meta content="Feng Xu" name="author">
<meta content="Thomas Graf" name="author">
<meta content="Yunan Gu" name="author">
<meta content="Shunwan Zhuang" name="author">
<meta content="Zhenbin Li" name="author">
<meta content="
       The generation of BGP adj-rib-in, local-rib or adj-rib-out comes from
      BGP route exchange and route policy processing. BGP Monitoring Protocol
      (BMP) provides the monitoring of  BGP
      adj-rib-in ,  BGP local-rib  and  BGP adj-rib-out . By monitoring these BGP RIB's
      the full state of the network is visible, but how route-policies affect
      the route propagation or changes BGP attributes is still not. This
      document describes a method of using BMP to record the trace data on how
      BGP routes are (not) changed under the process of route policies. 
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="draft-xu-grow-bmp-route-policy-attr-trace-06" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-xu-grow-bmp-route-policy-attr-trace-06-dgire1gw.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Route Policy-Attribute Trace</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Xu, et al.</td>
<td class="center">Expires 9 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-xu-grow-bmp-route-policy-attr-trace-06</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-08" class="published">8 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-09">9 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">F. Xu</div>
<div class="org">Tencent</div>
</div>
<div class="author">
      <div class="author-name">T. Graf</div>
<div class="org">Swisscom</div>
</div>
<div class="author">
      <div class="author-name">Y. Gu</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">S. Zhuang</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">Z. Li</div>
<div class="org">Huawei</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BGP Route Policy and Attribute Trace Using BMP</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The generation of BGP adj-rib-in, local-rib or adj-rib-out comes from
      BGP route exchange and route policy processing. BGP Monitoring Protocol
      (BMP) provides the monitoring of <span><a href="#RFC7854" class="xref">BGP
      adj-rib-in</a> [<a href="#RFC7854" class="xref">RFC7854</a>]</span>, <span><a href="#RFC9069" class="xref">BGP local-rib</a> [<a href="#RFC9069" class="xref">RFC9069</a>]</span> and <span><a href="#RFC8671" class="xref">BGP adj-rib-out</a> [<a href="#RFC8671" class="xref">RFC8671</a>]</span>. By monitoring these BGP RIB's
      the full state of the network is visible, but how route-policies affect
      the route propagation or changes BGP attributes is still not. This
      document describes a method of using BMP to record the trace data on how
      BGP routes are (not) changed under the process of route policies.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language-6">
<a href="#name-requirements-language-6" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-10">
<a href="#name-status-of-this-memo-10" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 9 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-10">
<a href="#name-copyright-notice-10" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-10">
<a href="#name-table-of-contents-10" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-10" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-bgp-route-policy-and-attrib" class="xref">BGP Route Policy and Attribute Trace Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-use-cases-2" class="xref">Use cases</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-extension-of-bmp-for-route-" class="xref">Extension of BMP for Route Policy and Attribute Trace</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-common-header" class="xref">Common Header</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-per-peer-header" class="xref">Per Peer Header</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-route-policy-and-attribute-" class="xref">Route Policy and Attribute Trace Message</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="xref">2.3.1</a>.  <a href="#name-vrf-table-tlv" class="xref">VRF/Table TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="xref">2.3.2</a>.  <a href="#name-policy-tlv" class="xref">Policy TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3">
                    <p id="section-toc.1-1.2.2.3.2.3.1"><a href="#section-2.3.3" class="xref">2.3.3</a>.  <a href="#name-pre-policy-attribute-tlv" class="xref">Pre Policy Attribute TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.4">
                    <p id="section-toc.1-1.2.2.3.2.4.1"><a href="#section-2.3.4" class="xref">2.3.4</a>.  <a href="#name-post-policy-attribute-tlv" class="xref">Post Policy Attribute TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.5">
                    <p id="section-toc.1-1.2.2.3.2.5.1"><a href="#section-2.3.5" class="xref">2.3.5</a>.  <a href="#name-string-tlv" class="xref">String TLV</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-implementation-consideratio" class="xref">Implementation Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-acknowledgments-4" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations-10" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations-10" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-normative-references-9" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses-9" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction-10">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-10" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The typical processing procedure after receiving a BGP Update Message
      at a routing device is as follows: 1. Adding the pre-policy routes into
      the pre-policy adj-rib-in (if any); 2. Filtering the pre-policy routes
      through inbound route policies; 3. Selecting the BGP best routes from
      the post-policy routes; 4. Adding the selected routes into the BGP
      local-rib; 5-a. Adding the BGP best routes from local-rib to the core
      routing table manager for selection; 5-b. Filtering the routes from BGP
      local-rib through outbound route policies w.r.t. per peer or peer
      groups; 6. Sending the BGP adj-rib-out to the target peer or peer
      groups. Details may vary by vendors. The BGP Monitoring Protocol (BMP)
      can be utilized to monitor BGP routes in forms of adj-rib-in, local-rib
      and adj-rib-out. However, the complete procedure from inbound to
      outbound policy processing, including other policies, e.g., route
      redistribution, route selection and so on, is currently unobserved. For
      example, there are 10 policy items (or nodes) configured under one
      outbound route policy per a specific peer. By collecting the local-rib
      and adj-rib-out through BMP, the operator finds that the outbound policy
      didn't work as expected. However, it's hard to distinguish which one of
      the 10 policy items/nodes is responsible for the failure.<a href="#section-1-1" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-bgp-route-policy-and-attrib">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-bgp-route-policy-and-attrib" class="section-name selfRef">BGP Route Policy and Attribute Trace Overview</a>
        </h3>
<p id="section-1.1-1">This document describes a method that records and reports how each
        policy item/node processes the routes (e.g., changes the route
        attribute). Each policy item/node processing is called an event
        thereafter in this document. Compared with conventional BGP rib entry,
        which consists of prefix/mask, route attributes, e.g., next hop, MED,
        local preference, AS path, and so on, the event record discussed in
        this document includes extra information, such as event index,
        timestamp, policy information, and so on. For example, if a route is
        processed by 5 policy items/nodes, there can be 5 event records for
        the same prefix/mask. Each event is numbered in order of time (e.g.,
        the time of policy execution). The policy information includes the
        policy name and item/node ID/name so that the server/controller can
        map to the exact policy either directly from the device or from the
        configurations collected at the server side.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">This document defines a new BMP message type to carry the recorded
        policy and route data. More detailed message format is defined in
        Section 2. The message is called the BMP Route Policy and Attribute
        Trace Message thereafter in this document.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-use-cases-2">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-use-cases-2" class="section-name selfRef">Use cases</a>
        </h3>
<p id="section-1.2-1">There are cases that a new policy is configured incorrectly, e.g.,
        setting an incorrect community value, or policy placed in incorrect
        order among other policies. These may result in incorrect route
        attribute modification, best route selection mistake, or route
        distribution mistake. With the correlated record of policy and route,
        the server/controller is able to identify the unexpected route change
        and its responsible policy. Considering the fact that the BGP route
        policy impacts not only the route processing within the individual
        device but also the route distribution to its peers, the route trace
        data of a single device is always analyzed in correlation with such
        data collected from its peer devices.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">Apart from the policy validation application, the route trace data
        can also be analyzed to discover the route propagation path within the
        network. With the route's inbound and outbound event records collect
        from each related device, the server is able to find the propagation
        path hop by hop. The identified path is helpful for operators to
        better understand its network, and thus benefiting both network
        troubleshooting and network planning.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-2">
      <h2 id="name-extension-of-bmp-for-route-">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-extension-of-bmp-for-route-" class="section-name selfRef">Extension of BMP for Route Policy and Attribute Trace</a>
      </h2>
<p id="section-2-1"></p>
<section id="section-2.1">
        <h3 id="name-common-header">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-common-header" class="section-name selfRef">Common Header</a>
        </h3>
<p id="section-2.1-1">This document defines a new BMP message type to carry the Route
        Policy and Attribute Trace data.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-2.1">Type = TBD: Route Policy and Attribute Trace Message<a href="#section-2.1-2.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.1-3">The new defined message type is indicated in the Message Type field
        of the BMP common header.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-per-peer-header">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-per-peer-header" class="section-name selfRef">Per Peer Header</a>
        </h3>
<p id="section-2.2-1">The Route Policy and Attribute Trace Message is not per peer based,
        thus it does not require the Per Peer Header.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3">
        <h3 id="name-route-policy-and-attribute-">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-route-policy-and-attribute-" class="section-name selfRef">Route Policy and Attribute Trace Message</a>
        </h3>
<p id="section-2.3-1">The Route Policy and Attribute Trace Message format is defined as
        follows:<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-2.3-2">
<pre>+---------------------------------------------------------------+
|V|                          Reserved                           |
+---------------------------------------------------------------+
|                        Route Distinguisher                    |
+---------------------------------------------------------------+
|                          Prefix length                        |
+---------------------------------------------------------------+
|                              Prefix                           |
+---------------------------------------------------------------+
|                           Route Origin                        |
+---------------------------------------------------------------+
|                          Event count                          |
+---------------------------------------------------------------+
|                       Total event length                      |
+---------------------------------------------------------------+
|                            1st Event                          |
+---------------------------------------------------------------+
|                            2nd Event                          |
+---------------------------------------------------------------+
~                                                               ~
+                            ......                             +
~                                                               ~
+---------------------------------------------------------------+
|                           Last Event                          |
+---------------------------------------------------------------+

  Figure 1: Route Policy and Attribute Trace Message format
</pre><a href="#section-2.3-2" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-2.3-3.1">Flags (1 Byte): The V flag indicates that the Peer address is
            an IPv6 address. For IPv4 peers, this is set to 0.<a href="#section-2.3-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-3.2">Route Distinguisher (8 Bytes): indicates the route
            distinguisher (RD) related to the route.<a href="#section-2.3-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-3.3">Prefix Length (1 Byte): indicates the length of the prefix.<a href="#section-2.3-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-3.4">Prefix (16 Bytes): indicates the monitored prefix, with mask
            defined by Prefix Length field. It is 4 bytes long if an IPv4
            address is carried in this field (with the 12 most significant
            bytes zero-filled) and 16 bytes long if an IPv6 address is carried
            in this field.<a href="#section-2.3-3.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-3.5">Route Origin (4 Bytes): indicates the BGP router ID where this
            route is learned from. If the route is locally generated, this
            field is zero filled.<a href="#section-2.3-3.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-3.6">Event Count (1 Byte): indicates the total number of policy
            processing event recorded in this message.<a href="#section-2.3-3.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-3.7">Total event length (2 Byte): indicates the total length of the
            following fields including all events, where the total number is
            indicated by the Event Count field.<a href="#section-2.3-3.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-3.8">1 ~ Last event: indicates each event, stacked one by one in
            order of time. The event format is further defined as follows.<a href="#section-2.3-3.8" class="pilcrow">¶</a>
</li>
        </ul>
<div class="alignLeft art-text artwork" id="section-2.3-4">
<pre>+---------------------------------------------------------------+
|                       Single event length                     |
+---------------------------------------------------------------+
|                           Event index                         |
+---------------------------------------------------------------+
|                       Timestamp(seconds)                      |
+---------------------------------------------------------------+
|                       Timestamp(microseconds)                 |
+---------------------------------------------------------------+
|                        Path Identifier                        |
+---------------------------------------------------------------+
|                              AFI                              |
+---------------------------------------------------------------+
|                              SAFI                             |
+---------------------------------------------------------------+
|                          VRF/Table TLV                        |
+---------------------------------------------------------------+
|                            Policy TLV                         |
+---------------------------------------------------------------+
|                     Pre Policy Attribute TLV                  |
+---------------------------------------------------------------+
|                     Post Policy Attribute TLV                 |
+---------------------------------------------------------------+
|                            String TLV                         |
+---------------------------------------------------------------+

                     Figure 2: Event format</pre><a href="#section-2.3-4" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-2.3-5.1">Single event length (2 Byte): indicates the total length of a
            single policy process event, including the following fields that
            belong to this event.<a href="#section-2.3-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.2">Event index (1 Byte): indicates the sequence number of this
            event, staring from 1 and increases by 1 for each event recorded
            in order.<a href="#section-2.3-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.3">Timestamp (8 Bytes): indicates the time when the policy of this
            event starts execution, expressed in seconds and microseconds
            since midnight (zero hour), January 1, 1970 (UTC).<a href="#section-2.3-5.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.4">Path Identifier (4 Bytes): used to distinguish multiple BGP
            paths for the same prefix. If there's no path ID, this field is
            zero filled.<a href="#section-2.3-5.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.5">AFI (2 Bytes)/SAFI (1 Byte): indicates the AFI/SAFI of the
            route.<a href="#section-2.3-5.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.6">VRF/Table TLV (Variable): indicates the VRFinformation of the
            route. The format of the VRF/Table TLV is further defined in
            Figure 3. The VRF/Table ID TLV is optional. At most one VRF/Table
            TLV can be included in each Route Policy and Attribute Trace
            Message.<a href="#section-2.3-5.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.7">Policy TLV (Variable): indicates the ID of the route policy of
            this event, which is user specific or vendor specific, which can
            be used for mapping to the actual policy content. The policy
            content data retrieval is out of the scope of this document. The
            format of the Policy ID TLV is further defined in Figure 4. The
            Policy ID TLV is optional. At most one Policy TLV can be included
            in each Route Policy and Attribute Trace Message.<a href="#section-2.3-5.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.8">Pre Policy Attribute TLV (Variable): include the BGP route
            attributes before the policy is executed. The format of the
            Pre-policy Attribute TLV is further defined in Figure 4. The
            Pre-policy Attribute TLV is optional. At most one Pre Policy
            Attribute TLV can be included in each Route Policy and Attribute
            Trace Message.<a href="#section-2.3-5.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.9">Post Policy Attribute TLV (Variable): include the BGP route
            attributes after the policy is executed. The format of the
            Post-policy Attribute TLV is further defined in Figure 5. The
            Post-policy Attribute TLV is optional. At most one Post Policy
            Attribute TLV can be included in each Route Policy and Attribute
            Trace Message.<a href="#section-2.3-5.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.3-5.10">String TLV (Variable): leaves for future extension. The String
            TLV is optional. One or more String TLVs can be included in each
            Route Policy and Attribute Trace Message.<a href="#section-2.3-5.10" class="pilcrow">¶</a>
</li>
        </ul>
<section id="section-2.3.1">
          <h4 id="name-vrf-table-tlv">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-vrf-table-tlv" class="section-name selfRef">VRF/Table TLV</a>
          </h4>
<div class="alignCenter art-text artwork" id="section-2.3.1-1">
<pre>0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+-------------------------------+
|          Type = TBD1          |            Length             |
+-------------------------------+-------------------------------+
|                         VRF/Table ID                          |
+---------------------------------------------------------------+
~                         VRF/Table Name                        ~
|                                                               |
+---------------------------------------------------------------+

                   Figure 3: VRF/Table TLV</pre><a href="#section-2.3.1-1" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-2.3.1-2.1">Type = TBD1 (2 Byte): VRF/Table TLV.<a href="#section-2.3.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.1-2.2">Length (2 Byte): indicates the total length of the VRF/Table
              ID field and the VRF/Table Name field.<a href="#section-2.3.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.1-2.3">VRF/Table ID (4 Bytes): indicates the VRF or table ID of this
              route.<a href="#section-2.3.1-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.1-2.4">VRF/Table name (Variable): indicates the VRF or table name of
              this route in the format of ASCII string. The string size MUST
              be within the range of 1 to 255 bytes.<a href="#section-2.3.1-2.4" class="pilcrow">¶</a>
</li>
          </ul>
</section>
<section id="section-2.3.2">
          <h4 id="name-policy-tlv">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-policy-tlv" class="section-name selfRef">Policy TLV</a>
          </h4>
<div class="alignCenter art-text artwork" id="section-2.3.2-1">
<pre>0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+-------------------------------+
|          Type = TBD2          |            Length             |
+---------------+-------------------------------+---------------+
|M|P|D|  Res.   |  Policy Count | Policy Class. |
+---------------+---------------+---------------+---------------+
~                          Peer Address                         ~
+                                                               +
+---------------------------------------------------------------+
|                          Peer Router ID                       |
+---------------------------------------------------------------+
|                            Peer AS                            |
+---------------------------------------------------------------+
~                                                               ~
+                           1st Policy          +---------------+
|                                               |C|R|   Res.    |
+---------------------------------------------------------------+
~                                .                              ~
+                                .                              +
~                                .                              ~
+---------------------------------------------------------------+
~                                                               ~
+                           Last Policy         +---------------+
|                                               |C|R|   Res.    |
+---------------------------------------------------------------+

                   Figure 4: Policy TLV
</pre><a href="#section-2.3.2-1" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-2.3.2-2.1">Type = TBD2 (2 Byte): Policy TLV.<a href="#section-2.3.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.2">Length (2 Byte): indicates the length of the Policy Value
              field that follows it. The Policy value field includes the
              reserved Flag Byte, Policy Count field, Policy Classification
              field, Peer Router ID field, Peer AS field, and each Policy
              field.<a href="#section-2.3.2-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.3">Flag Byte (1 Byte): the M bit (the left most bit) indicates
              if the route in this event is matched (once or multiple times)
              or not by any policies. "0" means no match and "1" means else
              wise. When the M bit is set to "0", the Post Policy Attribute
              TLV SHALL not be included in the Message. The P bit (the second
              left bit) indicates if the matched result is Permit or Deny. "0"
              means Deny, and "1" means Permit. When the M bit is set to "0",
              any value of the P bit SHOULD be ignored. When the P bit is set
              to "0", the Post Policy Attribute TLV SHALL not be included in
              the Message. The D bit (the third left bit) indicates if there
              exists any difference between the pre-policy attributes and the
              post policy attributes. "0" means no difference, and "1" means
              difference exists. When the D bit is set to "0", the Post Policy
              Attribute TLV SHALL not be included in the Message.<a href="#section-2.3.2-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.4">Policy Count (1 Byte): indicates the number of policies
              carried in this event.<a href="#section-2.3.2-2.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.5">Policy Classification (1 Byte): indicates the category of the
              policy. Currently 8 policy categories are defined: "00000000"
              indicates the Inbound policy; "00000001" indicates the Outbound
              policy; "00000010" indicating the Multi-protocol Redistribute
              policy (including routes import from other protocols, like
              ISIS/OSPF and static routes), "00000011" indicates the Cross-VRF
              Redistribute policy (route import between VRF and global table
              and between VRFs); "00000100" indicates VRF Import policy (e.g.,
              an IPv4 route within a VRF transformed from a VPNv4 route),
              "00000101" indicates VRF Export policy (e.g., a VPNv4 route
              transformed from an IPv4 route within an VRF); "00000110"
              indicates the Network policy (BGP network installment and
              advertisement), "00000111" indicates the Aggregation policy;
              "00001000" indicating the Route Withdraw (triggered by BGP
              Update or local actions, e.g., route aggregation).
              Specifications regarding each category can be included in the
              String TLV. For the route update, i.e., route creation and
              withdrawal, that is not processed by any route policy, the
              Policy Category field is set per the route update point. In
              addition, the Policy ID field in the Policy ID TLV SHOULD be set
              to 0.<a href="#section-2.3.2-2.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.6">
              <div class="alignLeft art-text artwork" id="section-2.3.2-2.6.1">
<pre>+---------------------------------------+
|   Value  |Policy Classification       |
+---------------------------------------+
| 00000000 | Inbound policy             |
| 00000001 | Outbound policy            |
| 00000010 | Multi-protocol Redistribute|
| 00000011 | Cross-VRF Redistribute     |
| 00000100 | VRF import                 |
  00000101 | VRF export                 |
| 00000110 | Network                    |
| 00000111 | Aggregation                |
| 00001000 | Route Withdraw             |
+----------+----------------------------+

  Table 1: Policy Classification</pre><a href="#section-2.3.2-2.6.1" class="pilcrow">¶</a>
</div>
</li>
            <li class="normal" id="section-2.3.2-2.7">Peer Address: The remote IP address associated with the TCP
              session over which the encapsulated PDU was received. It is 4
              bytes long if an IPv4 address is carried in this field (with the
              12 most significant bytes zero-filled) and 16 bytes long if an
              IPv6 address is carried in this field.<a href="#section-2.3.2-2.7" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.8">Peer Router ID (4 Bytes): indicates the BGP Router ID where
              this policy is configured under. This field is used in
              combination with the Policy Classification field. If the Policy
              Classification field is set to "00000000", meaning Inbound
              policy, then this field is set to the BGP router ID where the
              route is received from; if the Policy Classification field is
              set to "00000001", meaning Outbound policy, then this field is
              set to the BGP router ID where the route is distributed to; If
              the Policy Direction field is set to any other values, then this
              field is set to all zeros.<a href="#section-2.3.2-2.8" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.9">Peer AS (4 Bytes): indicates the AS number of the BGP Peer
              that defined the Peer ID field.<a href="#section-2.3.2-2.9" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.10">1st ~ Last Policy (Variable): indicates the Policy name and
              the Item ID of each policy match.<a href="#section-2.3.2-2.10" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-2.11">Flag Byte (1 Byte): the C bit (left most bit) indicates if
              the next subsequent policy has chaining relationship to the
              current policy. "1" means it's chaining relationship and "0"
              means else wise. For the flag byte following the Last Policy
              field, the C bit SHALL be set to "0". The R bit (second left
              bit) indicates if the next subsequent policy has recursion to
              the current policy. "1" means it's recursion and "0" means else
              wise. For the flag byte following the Last Policy field, the R
              bit SHALL be set to "0".<a href="#section-2.3.2-2.11" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignCenter art-text artwork" id="section-2.3.2-3">
<pre>0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+-------------------------------+
|       Policy Name Length      |      Policy Item ID Length    |
+-------------------------------+-------------------------------+
~                           Policy Name                         ~
+                                                               +
+---------------------------------------------------------------+
~                         Policy Item ID                        ~
+                                                               +
+---------------------------------------------------------------+

                Figure 5: Policy field format
</pre><a href="#section-2.3.2-3" class="pilcrow">¶</a>
</div>
<p id="section-2.3.2-4">The Policy field consists of the Policy Name (Variable) and the
          Policy Item ID (Variable). The Policy Name and Policy Item ID fields
          are in the format of ASCII string. The length of Policy Name is
          indicated by the Policy Name Length (2 Bytes) field. The length of
          Policy Item ID is indicated by the Policy Item ID Length (2 Bytes)
          field.<a href="#section-2.3.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.3">
          <h4 id="name-pre-policy-attribute-tlv">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-pre-policy-attribute-tlv" class="section-name selfRef">Pre Policy Attribute TLV</a>
          </h4>
<div class="alignLeft art-text artwork" id="section-2.3.3-1">
<pre>0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+-------------------------------+
|          Type = TBD3          |            Length             |
+-------------------------------+-------------------------------+
~                  Pre Policy Attribute sub TLVs                ~
+                                                               +
+---------------------------------------------------------------+

                Figure 6: Pre Policy Attribute TLV</pre><a href="#section-2.3.3-1" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-2.3.3-2.1">Type = TBD3 (2 Byte): Pre Policy Attribute TLV.<a href="#section-2.3.3-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.3-2.2">Pre Policy Attribute length (2 Byte): indicates the total
              length of the following Pre Policy Attribute sub TLVs.<a href="#section-2.3.3-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.3-2.3">Pre Policy Attribute sub TLVs (Variable): include the BGP
              route attributes before the policy is executed.<a href="#section-2.3.3-2.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
<section id="section-2.3.4">
          <h4 id="name-post-policy-attribute-tlv">
<a href="#section-2.3.4" class="section-number selfRef">2.3.4. </a><a href="#name-post-policy-attribute-tlv" class="section-name selfRef">Post Policy Attribute TLV</a>
          </h4>
<div class="alignLeft art-text artwork" id="section-2.3.4-1">
<pre>0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+-------------------------------+
|          Type = TBD4          |            Length             |
+-------------------------------+-------------------------------+
~                 Post Policy Attribute sub TLVs                ~
+                                                               +
+---------------------------------------------------------------+

                Figure 7: Post Policy Attribute TLV</pre><a href="#section-2.3.4-1" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-2.3.4-2.1">Type = TBD4 (2 Byte): Post Policy Attribute TLV.<a href="#section-2.3.4-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.4-2.2">Post Policy Attribute length (2 Byte): indicates the total
              length of the following Post Policy Attribute sub TLVs.<a href="#section-2.3.4-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.4-2.3">Post Policy Attribute sub TLVs (Variable): include the BGP
              route attributes after the policy is executed.<a href="#section-2.3.4-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.3.4-3"></p>
</section>
<section id="section-2.3.5">
          <h4 id="name-string-tlv">
<a href="#section-2.3.5" class="section-number selfRef">2.3.5. </a><a href="#name-string-tlv" class="section-name selfRef">String TLV</a>
          </h4>
<div class="alignLeft art-text artwork" id="section-2.3.5-1">
<pre>0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+-------------------------------+
|          Type = TBD5          |            Length             |
+-------------------------------+-------------------------------+
~                             Value                             ~
+                                                               +
+---------------------------------------------------------------+

                    Figure 8: String TLV</pre><a href="#section-2.3.5-1" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-2.3.5-2.1">Type = TBD5 (2 Byte): String TLV.<a href="#section-2.3.5-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.5-2.2">Length (2 Byte): indicates the length of the following value
              field.<a href="#section-2.3.5-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.5-2.3">Value (Variable): the textual expression of user-specific
              information in ASCII format.<a href="#section-2.3.5-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.3.5-3">An example of using the String TLV is expressing the route policy
          xpath information instead of using the Policy TLV.<a href="#section-2.3.5-3" class="pilcrow">¶</a></p>
</section>
</section>
</section>
<section id="section-3">
      <h2 id="name-implementation-consideratio">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-implementation-consideratio" class="section-name selfRef">Implementation Considerations</a>
      </h2>
<p id="section-3-1">Considering the data amount of monitoring the route and policy trace
      of all routes from all BMP clients, users MAY trigger the monitoring at
      any user-specific time. Users MAY configure locally at the BMP client to
      monitor only user-specific routes or all the routes. In addition, users
      MAY configure locally at the BMP client whether to report the TLVs that
      are optional according to their own requirements, i.e., the Pre Policy
      Attribute TLV, Post Policy Attribute TLV, Policy ID TLV, and String
      TLV.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Successive recored events from one device MAY be encapsulated in one
      Route Policy and Attribute Trace Message or multiple Route Policy and
      Attribute Trace Messages per the user configuration.<a href="#section-3-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-acknowledgments-4">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-acknowledgments-4" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-4-1">TBD.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations-10">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations-10" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document defines the following new BMP Message type (Section
      2.1).<a href="#section-5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.1">Type = TBD: Route Policy and Attribute Trace Message.<a href="#section-5-2.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-3">This document defines the following new TLV types for the Route
      Policy and Attribute Trace Message (Section 2.3).<a href="#section-5-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-4.1">Type = TBD1 (2 Byte): VRF/Table TLV.<a href="#section-5-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-4.2">Type = TBD2 (2 Byte): Policy TLV.<a href="#section-5-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-4.3">Type = TBD3 (2 Byte): Pre Policy Attribute TLV.<a href="#section-5-4.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-4.4">Type = TBD4 (2 Byte): Post Policy Attribute TLV.<a href="#section-5-4.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-4.5">Type = TBD5 (2 Byte): String TLV.<a href="#section-5-4.5" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations-10">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations-10" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">TBD.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-normative-references-9">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-normative-references-9" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
      <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time datetime="2006-01" class="refDate">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5492">[RFC5492]</dt>
      <dd>
<span class="refAuthor">Scudder, J.</span> and <span class="refAuthor">R. Chandra</span>, <span class="refTitle">"Capabilities Advertisement with BGP-4"</span>, <span class="seriesInfo">RFC 5492</span>, <span class="seriesInfo">DOI 10.17487/RFC5492</span>, <time datetime="2009-02" class="refDate">February 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5492">https://www.rfc-editor.org/info/rfc5492</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7854">[RFC7854]</dt>
      <dd>
<span class="refAuthor">Scudder, J., Ed.</span>, <span class="refAuthor">Fernando, R.</span>, and <span class="refAuthor">S. Stuart</span>, <span class="refTitle">"BGP Monitoring Protocol (BMP)"</span>, <span class="seriesInfo">RFC 7854</span>, <span class="seriesInfo">DOI 10.17487/RFC7854</span>, <time datetime="2016-06" class="refDate">June 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7854">https://www.rfc-editor.org/info/rfc7854</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8671">[RFC8671]</dt>
      <dd>
<span class="refAuthor">Evens, T.</span>, <span class="refAuthor">Bayraktar, S.</span>, <span class="refAuthor">Lucente, P.</span>, <span class="refAuthor">Mi, P.</span>, and <span class="refAuthor">S. Zhuang</span>, <span class="refTitle">"Support for Adj-RIB-Out in the BGP Monitoring Protocol (BMP)"</span>, <span class="seriesInfo">RFC 8671</span>, <span class="seriesInfo">DOI 10.17487/RFC8671</span>, <time datetime="2019-11" class="refDate">November 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8671">https://www.rfc-editor.org/info/rfc8671</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9069">[RFC9069]</dt>
    <dd>
<span class="refAuthor">Evens, T.</span>, <span class="refAuthor">Bayraktar, S.</span>, <span class="refAuthor">Bhardwaj, M.</span>, and <span class="refAuthor">P. Lucente</span>, <span class="refTitle">"Support for Local RIB in the BGP Monitoring Protocol (BMP)"</span>, <span class="seriesInfo">RFC 9069</span>, <span class="seriesInfo">DOI 10.17487/RFC9069</span>, <time datetime="2022-02" class="refDate">February 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9069">https://www.rfc-editor.org/info/rfc9069</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses-9">
<a href="#name-authors-addresses-9" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Feng Xu</span></div>
<div dir="auto" class="left"><span class="org">Tencent</span></div>
<div dir="auto" class="left"><span class="locality">Guangzhou</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:oliverxu@tencent.com" class="email">oliverxu@tencent.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Thomas Graf</span></div>
<div dir="auto" class="left"><span class="org">Swisscom</span></div>
<div dir="auto" class="left"><span class="street-address">Binzring 17</span></div>
<div dir="auto" class="left">CH-<span class="postal-code">8045</span> <span class="locality">Zürich</span>
</div>
<div dir="auto" class="left"><span class="country-name">Switzerland</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:thomas.graf@swisscom.com" class="email">thomas.graf@swisscom.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yunan Gu</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="street-address">Huawei Bld., No.156 Beiqing Rd.</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100095</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:guyunan@huawei.com" class="email">guyunan@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Shunwan Zhuang</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="street-address">Huawei Bld., No.156 Beiqing Rd.</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100095</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhuangshunwan@huawei.com" class="email">zhuangshunwan@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Zhenbin Li</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="street-address">Huawei Bld., No.156 Beiqing Rd.</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100095</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lizhenbin@huawei.com" class="email">lizhenbin@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
