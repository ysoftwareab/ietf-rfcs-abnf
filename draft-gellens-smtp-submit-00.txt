
Internet Draft                     H. Alvestrand and R. Gellens, Authors
Expires 12 December 1996                              R. Gellens, Editor
                                                           12 June, 1996
                                        draft-gellens-smtp-submit-00.txt



                  SMTP extension for message submission



    Status of this Memo:

    This draft document is being circulated for comment.


    Please send comments to <ietf-smtp@list.cren.net>


    The following text is required by the Internet-draft rules:

    This document is an Internet Draft.  Internet Drafts are working
    documents of the Internet Engineering Task Force (IETF), its
    Areas, and its Working Groups. Note that other groups may also
    distribute working documents as Internet Drafts.

    Internet Drafts are draft documents valid for a maximum of six
    months. Internet Drafts may be updated, replaced, or obsoleted by
    other documents at any time.  It is not appropriate to use
    Internet Drafts as reference material or to cite them other than
    as a "working draft" or "work in progress."

    Please check the I-D abstract listing contained in each Internet
    Draft directory to learn the current status of this or any other
    Internet Draft.

    The file name of this version is draft-gellens-smtp-submit-00.txt


    1.  Introduction

    In many cases, MUAs submit messages using [SMTP] without doing a
    proper job of creating the [RFC-822] headers for the message.

    This memo creates machinery to let them do this job properly.


    2.  SMTP extension for message submission



Alvestrand, Gellens          Expires Dec 96                     [Page 1]

Internet Draft                Submit SMTP                        June 96


    The name of this extension [EMSTP] is "Message Submission".

    The EHLO keyword is SUBMIT.

    One new parameter is defined for the MAIL FROM verb: SUBMIT.


    3.  Actions when SUBMIT is used

    The following things MAY be done by an MTA if the MAIL FROM line
    has the SUBMIT parameter:

     (1)   Refuse the MAIL FROM command if the address in MAIL FROM is
           not believed to have submission right at this MTA, or is
           invalid.

     (2)   Refuse the DATA command if the submitted message is
           syntactically invalid, or seems inconsistent with
           permissions given to the user (if known)

     (3)   Add a Sender: field to the submitted message, if it knows
           the identity of the sender and this is not given in the
           From: field

     (4)   Add a Date: field to the submitted message, if it lacks it.

     (5)   Correct the Date: field if it does not conform to [RFC-822]
           syntax.

     (6)   Add a Message-ID: field to the submitted message, if it
           lacks it.

     (7)   Transfer encode the message according to MIME conventions,
           if desirable and needed


    If an MTA treats a message as a submission (see also section 5) and
    modifies its text in any way as a result, it MUST document all such
    alterations by one or more of the following:

     (1)   Add a comment to each added or altered field, of the form
           "(added/corrected by MTA <domainname>)".

     (2)   Add a Comments: field which lists what alterations were made,
           the reason why each was done, and the domain name of the MTA.


    4.  Interaction with other SMTP extensions



Alvestrand, Gellens          Expires Dec 96                     [Page 2]

Internet Draft                Submit SMTP                        June 96


    The SMTP [AUTH] extension, if supported and used, may be used to
    find out the identity of the submitting user.


    5.  Possible other cases for doing the same mangling

    For backwards compatibility with unenlightened and broken mailers,
    the MTA MAY consider the message a submission, and treat it as
    above, under some combinations of the following circumstances:


     (1)   The message lacks any Received: fields

     (2)   The message comes from a host known to the MTA as being a
           "pure client", such as a PC

     (3)   The message lacks a Date: field


    6.  Security considerations

    Security issues are not considered in this memo.


    7.  References

    [AUTH]
       J.  Myers, "Internet Draft:  SMTP Authentication", Carnegie
       Mellon, draft-myers-smtp-auth-02.txt, January 1996, work in
       progress.

    [ESMTP]
       Klensin, J., Freed, N., Rose, M., Stefferud, E., and D.  Crocker,
       "SMTP Service Extensions", RFC 1869, STD 10, United Nations
       University, Innosoft International, Inc., Dover Beach Consulting,
       Inc., Network Management Associates, Inc., The Branch Office,
       November 1995.

    [RFC-822]
       D.  Crocker, "Standard for the format of ARPA Internet text
       messages", RFC 822, STD 11, University of Delaware, 08/13/1982

    [SMTP]
       J. Postel, "Simple Mail Transfer Protocol", RFC 821, STD 10,
       Information Sciences Institute, 08/01/1982


    8.  Authors' addresses



Alvestrand, Gellens          Expires Dec 96                     [Page 3]

Internet Draft                Submit SMTP                        June 96


    Harald Tveit Alvestrand            +47 73 59 70 94
    UNINETT                            Harald.T.Alvestrand@uninett.no
    P.O.Box 6883 Elgeseter
    N-7002 TRONDHEIM
    NORWAY


    Randall Gellens                    +1.714.380.6350
    Unisys Corporation                 +1.714.380.5912 (fax)
    25725 Jeronimo Road                Randy.Gellens@MV.Unisys.Com
    Mail Stop 237
    Mission Viejo, CA  92651
    U.S.A.






































Alvestrand, Gellens          Expires Dec 96                     [Page 4]

