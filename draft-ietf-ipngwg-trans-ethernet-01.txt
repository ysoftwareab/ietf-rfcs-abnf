

IPng Working Group                                         Matt Crawford
Internet Draft                                                  Fermilab
                                                            July 3, 1997

            Transmission of IPv6 Packets over Ethernet Networks
                 <draft-ietf-ipngwg-trans-ethernet-01.txt>


Status of this Memo

    This document is an Internet Draft.  Internet Drafts are working
    documents of the Internet Engineering Task Force (IETF), its Areas,
    and its Working Groups.  Note that other groups may also distribute
    working documents as Internet Drafts.

    Internet Drafts are draft documents valid for a maximum of six
    months.  Internet Drafts may be updated, replaced, or obsoleted by
    other documents at any time.  It is not appropriate to use Internet
    Drafts as reference material or to cite them other than as a
    "working draft" or "work in progress."

    To learn the current status of any Internet-Draft, please check the
    "1id-abstracts.txt" listing contained in the Internet Drafts Shadow
    Directories on ds.internic.net (US East Coast), nic.nordu.net
    (Europe), ftp.isi.edu (US  West  Coast), or munnari.oz.au (Pacific
    Rim).

    Distribution of this memo is unlimited.



1.  Introduction

    This document specifies the frame format for transmission of IPv6
    packets and the method of forming IPv6 link-local addresses and
    statelessly autoconfigured addresses on Ethernet networks.  It also
    specifies the content of the Source/Target Link-layer Address option
    used in Router Solicitation, Router Advertisement, Neighbor
    Solicitation, Neighbor Advertisement and Redirect messages when
    those messages are transmitted on an Ethernet.

    This document replaces RFC 1972, "A Method for the Transmission of
    IPv6 Packets over Ethernet Networks", which will become historic.

    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
    document are to be interpreted as described in [KWORD].




Expires January 3, 1998         Crawford                        [Page 1]
=0C
Internet Draft             IPv6 Over Ethernet               July 3, 1997


2.  Maximum Transmission Unit

    The default MTU size for IPv6 [IPV6] packets on an Ethernet is 1500
    octets.  This size may be reduced by a Router Advertisement [DISC]
    containing an MTU option which specifies a smaller MTU, or by manual
    configuration of each node.  If a Router Advertisement received on
    an Ethernet interface has an MTU option specifying an MTU larger
    than 1500, or larger than a manually configured value MTU, if any,
    that MTU option must be ignored.



3.  Frame Format

    IPv6 packets are transmitted in standard Ethernet frames.  The
    Ethernet header contains the Destination and Source Ethernet
    addresses and the ethernet type code, which must contain the value
    86DD hexadecimal.  The data field contains the IPv6 header followed
    immediately by the payload, and possibly padding octets to meet the
    minimum frame size for Ethernet.

                      0                   1
                      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |          Destination          |
                     +-                             -+
                     |            Ethernet           |
                     +-                             -+
                     |            Address            |
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |             Source            |
                     +-                             -+
                     |            Ethernet           |
                     +-                             -+
                     |            Address            |
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |1 0 0 0 0 1 1 0 1 1 0 1 1 1 0 1|
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |             IPv6              |
                     +-                             -+
                     |            header             |
                     +-                             -+
                     |             and               |
                     +-                             -+
                     /            payload ...        /
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    (Each tic mark represents one bit.)



Expires January 3, 1998         Crawford                        [Page 2]
=0C
Internet Draft             IPv6 Over Ethernet               July 3, 1997


4.  Stateless Autoconfiguration

    The interface token [CONF] for an Ethernet interface is based on the
    EUI-64 identifier [EUI64] derived from the interface's built-in 48-
    bit IEEE 802 address.  The EUI-64 is formed as follows.  (Canonical
    bit order is assumed throughout.)

    The OUI of the Ethernet address (the first three octets) becomes the
    company_id of the EUI-64 (the first three octets).  The fourth and
    fifth octets of the EUI are set to the fixed value FFFE hexadecimal.
    The last three octets of the Ethernet address become the last three
    octets of the EUI-64.

    The interface token is then formed from the EUI-64 by complementing
    the "Universal/Local" (U/L) bit, which is the next-to-lowest order
    bit of the first octet of the EUI-64.  Complementing this bit will
    generally change a 0 value to a 1, since an interface's built-in
    address is expected to be from a universally administered address
    space and hence have a globally unique value.  A universally
    administered IEEE 802 address or an EUI-64 is signified by a 0 in
    the U/L bit position, while a globally unique IPv6 interface token
    is signified by a 1 in the corresponding position.

    For example, the interface token for an Ethernet interface whose
    built-in address is, in hexadecimal,

                             34-56-78-9A-BC-DE

    would be

                          36-56-78-FF-FE-9A-BC-DE.

    A different MAC address set manually or by software should not be
    used to derive the interface token.  If such a MAC address must be
    used, its global uniqueness property should be reflected in the
    value of the U/L bit.

    An IPv6 address prefix used for stateless autoconfiguration of an
    Ethernet interface must have a length of 64 bits.


5.  Link-Local Addresses

    The IPv6 link-local address [AARCH] for an Ethernet interface is
    formed by appending the interface token, as defined above, to the
    prefix FE80::/64.





Expires January 3, 1998         Crawford                        [Page 3]
=0C
Internet Draft             IPv6 Over Ethernet               July 3, 1997



       10 bits            54 bits                  64 bits
     +----------+-----------------------+----------------------------+
     |1111111010|         (zeros)       |      Interface Token       |
     +----------+-----------------------+----------------------------+



6.  Address Mapping -- Unicast

    The procedure for mapping IPv6 unicast addresses into Ethernet
    link-layer addresses is described in [DISC].  The Source/Target
    Link-layer Address option has the following form when the link layer
    is Ethernet.

                      0                   1
                      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |     Type      |    Length     |
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |                               |
                     +-          Ethernet           -+
                     |                               |
                     +-          Address            -+
                     |                               |
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


    Option fields:

    Type        1 for Source Link-layer address.
                2 for Target Link-layer address.

    Length      1 (in units of 8 octets).

    Ethernet Address
                The 48 bit Ethernet IEEE 802 address, in canonical bit
                order.  This is the address the interface currently
                responds to, and may be different from the built-in
                address used to derive the interface token.


7.  Address Mapping -- Multicast

    An IPv6 packet with a multicast destination address DST, consisting
    of the sixteen octets DST[1] through DST[16], is transmitted to the
    Ethernet multicast address whose first two octets are the value 3333
    hexadecimal and whose last four octets are the last four octets of



Expires January 3, 1998         Crawford                        [Page 4]
=0C
Internet Draft             IPv6 Over Ethernet               July 3, 1997


    DST.

                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |0 0 1 1 0 0 1 1|0 0 1 1 0 0 1 1|
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |   DST[13]     |   DST[14]     |
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |   DST[15]     |   DST[16]     |
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


Security Considerations

    The method of derivation of interface tokens from MAC addresses is
    intended to preserve global uniqueness when possible.  However,
    there is no protection from duplication through accident or forgery.


8.  References

    [AARCH] R. Hinden, S. Deering "IP Version 6 Addressing
            Architecture", RFC 1884.



    [CONF]  S. Thomson, T. Narten, "IPv6 Stateless Address
            Autoconfiguration", RFC 1971.


    [DISC]  T. Narten, E. Nordmark, W. A. Simpson, "Neighbor Discovery
            for IP Version 6 (IPv6)", RFC 1970.


    [EUI64] "64-Bit Global Identifier Format Tutorial",
            http://standards.ieee.org/db/oui/tutorials/EUI64.html.


    [IPV6]  S. Deering, R. Hinden, "Internet Protocol, Version 6 (IPv6)
            Specification", RFC 1883.


    [KWORD] S. Bradner, "Key words for use in RFCs to Indicate
            Requirement Levels," RFC 2119.








Expires January 3, 1998         Crawford                        [Page 5]
=0C
Internet Draft             IPv6 Over Ethernet               July 3, 1997


9.  Author's Address

    Matt Crawford
    Fermilab MS 368
    PO Box 500
    Batavia, IL 60510
    USA

    Phone: +1 630 840-3461

    EMail: crawdad@fnal.gov








































Expires January 3, 1998         Crawford                        [Page 6]

