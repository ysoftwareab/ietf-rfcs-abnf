<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Requirements for SIP-based Media Recording (SIPREC)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Requirements for SIP-based Media Recording (SIPREC)">
<meta name="keywords" content="Internet-Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">DISPATCH</td><td class="header">K. Rehor, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">R. Jain</td></tr>
<tr><td class="header">Expires: November 29, 2010</td><td class="header">IPC Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">L. Portman</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">NICE Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">A. Hutton</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Siemens Enterprise Communications</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">May 28, 2010</td></tr>
</table></td></tr></table>
<h1><br />Requirements for SIP-based Media Recording (SIPREC)<br />draft-ietf-siprec-req-00</h1>

<h3>Abstract</h3>

<p>Session recording is a critical requirement in many business
   	communications environments such as call centers and financial
   	trading floors.  In some of these environments, all calls must be
	recorded for regulatory and compliance reasons.  In others, calls may
   	be recorded for quality control or business analytics.
</p>
<p>Recording is typically done by sending a copy of the session media 
   	to the recording devices.  This document specifies requirements for 
   	extensions to SIP that will manage delivery of RTP media from an end-point 
   	that originates media (or that has access to it) to a recording device.  
   	This is being referred to as SIP-based Media Recording.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on November 29, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Requirements notation<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction<br />
<a href="#anchor3">3.</a>&nbsp;
Definitions<br />
<a href="#anchor4">4.</a>&nbsp;
Example Deployment Architectures<br />
<a href="#anchor5">5.</a>&nbsp;
Use Cases<br />
<a href="#anchor6">6.</a>&nbsp;
Requirements<br />
<a href="#anchor7">7.</a>&nbsp;
Security Considerations<br />
<a href="#anchor8">8.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor9">9.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor10">10.</a>&nbsp;
Contributors<br />
<a href="#rfc.references1">11.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      	"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      	document are to be interpreted as described in [RFC2119] and indicate
	requirement levels for compliant mechanisms.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p>Session recording is a critical operational requirement in many
    	businesses, especially where voice is used as a medium for commerce
    	and customer support.  A prime example where voice is used for trade
    	is the financial industry.  The call recording requirements in this
    	industry are quite stringent.  The recorded calls are used for
    	dispute resolution and compliance.  Other businesses such as customer
    	support call centers typically employ call recording for quality
    	control or business analytics, with different requirements.
</p>
<p>Depending on the country and its regulatory requirements, financial
    	trading floors typically must record all calls.  The recorded media
    	content must be an exact copy of the actual conversation (i.e.
    	clipping and loss of media are unacceptable).  A new call attempt
    	would be automatically rejected if the recording device becomes
    	temporarily unavailable.  An existing call would be dropped in the
    	same situation.  In contrast, support call centers typically only
    	record a subset of the calls, and calls must not fail regardless of
    	the availability of the recording device.
</p>
<p>Furthermore, the scale and cost burdens vary widely, in all markets,
   	where the different needs for solution capabilities such as media
   	injection, transcoding, and security-related needs do not conform
   	well to a one-size-fits-all model.  If a standardized solution
   	supports all of the requirements from every recording market, but
   	doing so would be expensive for markets with lesser needs, then
   	proprietary solutions for those markets will continue to propagate.
   	Care must be taken, therefore, to make a standards-based solution
   	support optionality and flexibility.
</p>
<p>It should be noted that the requirements for the protocol between a
   	Session Recording Server and Session Recording Client have very similar requirements
   	(such as codec and transport negotiation, encryption key interchange,
   	firewall traversal) as compared to regular SIP media sessions.  The
   	choice of SIP for session recording provides reuse of an existing
   	protocol.  This document specifies requirements for using SIP <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>
   	to record a media session between a Session Recording Client and a Session Recording Server, 
  	The Session Recording Client is the source of the recorded media. The Session Recording Server is the sink of
   	recorded media.
</p>
<p>The recorded sessions can be any SIP-based RTP media sessions including voice, video, and text (as defined by [RFC4103]).
</p>
<p>An archived session recording is typically comprised of the session media content and 
   	the session metadata.  The session metadata allows recording archives to be searched and
   	filtered at a later time. The conveyance of session metadata from the Session Recording Client 
   	to the Session Recording Server may or may not be over SIP. 
   	The requirements for session metadata delivery will be specified in a future revision of 
   	this document or in a separate document.
</p>
<p>In some situations it may be advantageous to correlate the Communication Session 
   	with other information, such as an IM or other text chat session.
</p>
<p>This document only considers active recording, where the Session Recording
   	Client purposefully streams media to a Session Recording Server.  Passive
   	recording, where a recording device detects media directly from the
	network, is outside the scope of this document.  In addition, lawful
   	intercept is outside the scope of this document.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Definitions</h3>

<p>Session Recording Server (SRS): A Session Recording Server (SRS) is a SIP User Agent (UA) that is a 
	specialized media server or collector that acts as the sink of the recorded media.  An
	SRS is a logical function that typically archives media for extended durations of time and
	provides interfaces for search and retrieval of the archived media.
	An SRS is typically implemented as a multi-port device that is capable
	of receiving media from several sources simultaneously.  An SRS is
	typically also the sink of the recorded session metadata.  Note that
	the term "Server" does not imply the SRS is the server side of a
	signaling protocol - the SRS may be the initiator of recording requests, for example.
</p>
<p>Session Recording Client (SRC): A Recording Client (SRC) is a SIP User Agent
	(UA) that acts as the source of the recorded media, sending it to the SRS.  An SRC is a logical
	function.  Its capabilities may be implemented across one or more
	physical devices.  In practice, an SRC could be a personal device
	(such as a SIP phone), a SIP Media Gateway (MG), a Session Border
	Controller (SBC) or a SIP Media Server (MS) integrated with an
	Application Server (AS).  This specification defines the term SRC such
	that all such SIP entities can be generically addressed under one
	definition.  The SRC itself or another entity working on its behalf
	(such as a SIP Application Server) may act as the source of the
	recording metadata.
</p>
<p>Communication Session (CS): A session created between two or more SIP User Agents (UAs) 
	that is the target for recording.
</p>
<p>Recording Session (RS): The SIP session created between an SRC and SRS for the
   	purpose of recording a Communication Session.
</p><br /><hr class="insert" />
<a name="recording_session"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   +---------------------------------------------------------------+
   |                  (Session Recording Client)                   |
   |   +-------------+                           +-----------+     |
   |   |             |   Communication Session   |           |     |
   |   |     A       |&lt;-------------------------&gt;|   B       |     |
   |   |             |                           |           |     |
   |   +-------------+                           +-----------+     |
   +---------------------------------------------------------------+
                                  |
                                  | Recording
                                  | Session
                                  |
                                  v
                           +-------------+
                           |             |
                           |   Session   |
                           |  Recording  |
                           |   Server    |
                           |             |
                           +-------------+

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Metadata:  Data that describes the Communication Session and Recording Session..
</p>
<p>SIPREC: The set of SIP extensions that supports recording of Communication Sessions.
</p>
<p>Pause/Resume recording:
   	Pause: Temporarily discontinue capture and storage of the incoming media stream. 
Recording may continue via the Resume command.
	Resume: Continue capture and storage of the incoming media stream into the same recording session.
	
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Example Deployment Architectures</h3>

<p>A recording system deployment consists of the Recording Client and Recording Server. 
          Recording Control is bi-directional; Recording Media and Call Metadata are sent from the RC to RS.
</p><br /><hr class="insert" />
<a name="recording_client"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   +-------------+                           +--------------+
   |             |      Call Metadata        |              |
   |   Session   |--------------------------&gt;|    Session   |
   |  Recording  |                           |   Recording  |
   |   Client    |    Recording Control      |    Server    |
   |    (SRC)    |&lt;-------------------------&gt;|     (SRS)    |
   |             |                           |              |
   |             |     Recorded Media        |              |
   |             |--------------------------&gt;|              |
   |             |                           |              |
   +-------------+                           +--------------+
</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Use Cases</h3>

<p>Use Case 1: Full-time Recording:  One (or more, in the case of redundant recording) 
	Recording Session for each Communication Session.
</p><br /><hr class="insert" />
<a name="full_time"></a>

<p>For example, the diagram below shows the lifecycle of Communication Sessions (CS) 
		and the relationship to the Recording Sessions (RS)
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
CS  |--- CS 1 ---|      |--- CS 2 ---|     |--- CS 3 ---|

RS  |--- RS 1 ---|      |--- RS 2 ---|     |--- RS 3 ---|
</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Record every call for specific extension/person. 
    	One Recording Session is created per Communication Session.
</p>
<p>The need to record all calls is typically due to business process purposes 
    	(such as transaction confirmation or dispute resolution) 
    	or to ensure compliance with governmental regulations.  
    	Applications include enterprise, contact center, and financial trading floors.
</p>
<p>Also commonly known as Total Recording.
</p>
<p>Use Case 2: Selective Recording: Start a Recording Session when a Communication Session is established. 
    	Only specific calls are recorded, possibly based on business rules. 
    	A Communication Session may or may not have a Recording Session (record only specific calls).
</p><br /><hr class="insert" />
<a name="selective"></a>

<p>In this example, Communication Sessions 1 and 3 are recorded but CS 2 is not.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
CS  |--- CS 1 ---|      |--- CS 2 ---|     |--- CS 3 ---|

RS  |--- RS 1----|                         |--- RS 2 ---|
</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Use Case 3:  Dynamic Recording:  Start/Stop a Recording Session during a Communication Session.
</p>
<p>The Recording Session starts during a Communication Session, either manually via a user-controlled mechanism 
    	(e.g. button on user&rsquo;s phone) or automatically via an application (e.g. a Contact Center customer service application) 
    	or business event. 
    	A Recording Session either ends during the Communication Session, or when the Communication Session ends.
</p><br /><hr class="insert" />
<a name="dynamic"></a>

<p>One or more Recording Sessions per Communication Session:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
CS  |------------- Communication Session -----------|

RS           |---- RS 1 ----|  |---- RS 2 -----|
</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Also known as Mid-session or Mid-call Recording.
</p>
<p>Applications include:
</p>
<p>o Enterprise back office recording where only specific calls (based
   	on privacy) have to be recorded
</p>
<p>o A user requests session recording at call setup time or during a call.
</p>
<p>Use Case 4: Persistent Recording: A single Recording Session captures one or more Communication Sessions, 
   	in sequence (Fig. 6) or in parallel (Fig. 7).   	
   	The recording session is a single RTP stream, therefore consists of a single offer/answer exchange. 
	There may be mid-session RE-INVITE offer/answer exchanges for codec changes or for moving the RTP streams 
	to handle failure scenarios.
	
</p><br /><hr class="insert" />
<a name="persistent"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
	  |--- CS 1 ---|      |--- CS 2 ---|     |--- CS 3 ---|

RS  |---------------------- Recording Session ---------------------|
</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>A Recording Session records continuously without interruption.  
	Applications include financial trading desks and emergency (first-responder) service
	bureaus. The length of a Persistent Recording Sessions is
	independent from the length of the actual Communication Sessions.
	Persistent Recording Sessions avoid issues such as media clipping
	that can occur due to delays in Recording Session establishment.
</p>
<p>The connection and attributes of media in the Recording
   	Session are not dynamically signaled for each Communication Session before
   	it can be recorded; however, codec re-negotiation is possible.    	
   	Call details and metadata will still be
   	signaled, but can be post- correlated to the recorded media.  There
   	will still need to be a means of correlating the recorded media
   	connection/packets to the Communication Session, however this may be on a
   	permanent filter-type basis, such as based on a SIP AoR of an agent
   	that is always recorded.
</p><br /><hr class="insert" />
<a name="mixing"></a>

<p>In some cases, more than one concurrent Communication Session 
		(on a single end-user apparatus, e.g. trading floor turret) 
		is mixed into one Recording Session:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
              |-------- CS 1 -------|
	         |-------- CS 2 -------|
	    |-------- CS 3 -------|

RS  |----------- Recording Session --------------|
</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Use Case 5: Real-time Recording Controls.
</p>
<p>For an active Recording Session, privacy or security reasons may
   	demand not capturing a specific portion of a conversation.  An
   	example is for PCI (payment card industry) compliance where credit
	card info must be protected.  One solution is to not record a caller
   	speaking their credit card information.
</p>
<p>Real-time controls may include Pause/Resume, or Mute/Unmute.
</p>
<p>Use Case 6: IVR / Voice Portal Recording.
</p>
<p>   Self-service Interactive Voice Response (DTMF or ASR) applications
   	may need to be recorded for application performance tuning or to meet
   	compliance requirements.
</p>
<p>Metadata about an IVR session recording must include session information 
   	and may include application context information (e.g. VoiceXML session variables, dialog names, etc.)
</p>
<p>Use Case 7: Enterprise Mobility Recording.
</p>
<p>Many agents and enterprise workers are not located on company premises.
</p>
<p>Examples:
</p>
<p>o Home-based agents or enterprise workers.
</p>
<p>o Mobile phones of knowledge workers when they conduct work related
   	(and legally required recording) calls. i.e. insurance agents,
   	brokers, physicians.
</p>
<p>Use Case 8: Geographically distributed or centralized recording.
</p>
<p>Global banks with multiple branches up to thousands of small sites.
</p>
<p>o Only phones and network infrastructure in branches, no recording
   	services.
</p>
<p>o Internal calls inside or between branches must be recorded.
</p>
<p>o Centralized recording system in data centers together with
   	telephony infrastructure (e.g.  PBX).
</p>
<p>Obtain media by forking:
</p>
<p>o In data centers (inbound/outbound): fork media in gateway.
</p>
<p>o At branch locations (internal): fork from end points or from site
   	level gateways.
</p>
<p>o Conference based solution is not applicable because it will require
   	to reroute all communications via data centers.
</p>
<p>Use Case 9: Record complex calls.
</p>
<p>Record a call that is associated with another call.
</p>
<p>Example:
</p>
<p>o Customer in conversation with Agent
</p>
<p>o Agent puts customer on hold in order to consult with a Supervisor.
</p>
<p>o Agent in conversation with Supervisor.
</p>
<p>o Agent disconnects from Supervisor, reconnects with Customer.
</p>
<p>o The Supervisor call must be associated with the original customer call.
</p>
<p>Use case 10: High-Availability, High Reliability Recording.
</p>
<p>If recorder is not available at call setup time:
</p>
<p>o Reject request to establish Communication Session.
</p>
<p>o Redirect to alternate recorder.
</p>
<p>If recorder has failed during a call, take specific action:
</p>
<p>o Fail/Transfer call / fail over to a different recorder (may involve
   	loss of recording during transition time).
</p>
<p>o Failover recovery situation: continuation of a call recorded on a
	different recorder.  Protocol must indicate that a Recording Session
   	is a continuation of a previous Recording Session.
</p>
<p>For some use cases, if recording is not available or failed in a
	middle of the call, original conversation has to be terminated or
   	alerted as well.
</p>
<p>Use Case 11: Record multi-channel, multi-media session.
</p>
<p>Some applications require the recording of more than one media
	stream, possibly of different types.  Media is synchronized, either
	at storage or at playback.
</p>
<p>Speech analytics technologies (e.g. word spotting, emotion detection,
	speaker identification) may require speaker-separated recordings for
	optimum performance.
</p>
<p>Multi-modal Contact Centers may include audio, video, IM or other
	interaction modalities.
</p>
<p>In trading floors environments, in order to save resources, 
	it may be preferable to mix multiple concurrent calls (Communication Sessions) 
	on different handsets/speakers on the same turret into single recording session.
</p>
<p>Use Case 12: Real-time media processing.
</p>
<p>Recorder must support real-time media processing, such as speech analytics.
</p>
<p>Recording and real-time analytics of trading floor interactions
	(including video and instant messaging).  Real time analytics is
	required for automatic intervention (stopping interaction or alert)
	if for example, trader is not following regulations.
</p>
<p>Speaker separation is required in order to reliably detect who is
	saying specific phrases.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Requirements</h3>

<p>The following are requirements for the Session Recording Protocol:
</p>
<p>o REQ-000 The mechanism MUST provide a means for establishing, maintaining and 
    	clearing Recording Sessions between a Session Recording Client and a 
    	Session Recording Server for the purpose of recording, at the Session Recording Server, 
    	media from Communication Sessions.
</p>
<p>o REQ-001 The mechanism MUST support Full-time Recording Sessions.
</p>
<p>o REQ-002 The mechanism MUST support Selective Recording Sessions.
</p>
<p>o REQ-003 The mechanism MUST support Dynamic (on-demand) Recording
       	Sessions.
</p>
<p>o REQ-004 The mechanism MUST support Persistent Recording Sessions.
</p>
<p>o REQ-005 The mechanism MUST support establishing Recording Sessions
       	from the SRC to the SRS.  This requirement typically applies when the
       	decision on whether a session should be recorded or not resides in
       	the SRC.
</p>
<p>o REQ-006 The mechanism MUST support establishing Recording Sessions
       	from the SRS to the SRC.  This requirement typically applies when the
       	decision on whether a session should be recorded or not resides in
       	the RS.
</p>
<p>o REQ-007 The mechanism MUST support the recording of IVR sessions.
</p>
<p>o REQ-008 The mechanism SHOULD support SRS failover and migration of
       	Recording Sessions to a working SRS without disconnecting the Communication
       	Sessions.
</p>
<p>o REQ-009 A request for a new Recording Session MUST be rejected by the
       	SRS if service is unavailable (e.g. system overload, disk full, etc.)
</p>
<p>o REQ-010 A request for a new Recording Session MUST be redirected to
	an available SRS.
</p>
<p>o REQ-011 If no recording resources are available, appropriate error
       	message MUST be returned.
</p>
<p>o REQ-012 The mechanism MUST support the ability for an SRC to deliver mixed audio
	streams from a single or multiple Communication Sessions to an SRS.
</p>
<p>Note: A mixed audio stream is where several Communication Sessions
	are carried in a single Recording Session.  A mixed media stream is
	typically produced by a mixer function. 
	The RS MAY be informed about the composition of the mixed streams through session metadata.
</p>
<p>o REQ-013 The mechanism MUST support the ability to deliver multiple
       	media streams for a given Communication Session over separate Recording
       	Sessions to the SRS.
</p>
<p>o REQ-014 The mechanism MUST support the ability to deliver multiple
       	media streams for a given Communication Session over a single Recording
       	Session to the SRS.
</p>
<p>o REQ-015 The mechanism MUST support the ability to pause and resume
       	the Recording Session from the SRC.
</p>
<p>o REQ-016 The mechanism MUST support the ability to pause and resume
       	the Recording Session from the SRS.
</p>
<p>o REQ-017 The mechanism MUST support the ability to correlate the 
       	request to record a call with the session being recorded.
</p>
<p>o REQ-018 The mechanism MUST support the ability to correlate the 
       	request to record specific media sessions with the SIP session and
       	media to be recorded (Recorded Session).
</p>
<p>o REQ-019 The mechanism MUST support the ability to transport 
       	the metadata in the same SIP dialog as the Recording Session.
</p>
<p>o REQ-020 The mechanism MUST support the ability to transport 
       	the metadata outside of the Recording Session SIP dialog.
</p>
<p>o REQ-021 Metadata format must be agnostic of the transport protocol.
</p>
<p>o REQ-022 The mechanism MUST support the ability to correlate metadata 
    	to the Recording Session.
</p>
<p>o REQ-023 The mechanism MUST support a means for a SIP UA to request
       	that a session is not recorded.
</p>
<p>o REQ-024 The mechanism MUST provide a means of indicating to the end users 
       	of a Communication Session that the session in which they are participating 
       	is being recorded.
</p>
<p>Examples include: inject tones into the Communication Session from the SRC, 
       	play a message at the beginning of a session, a visual indicator on a display, etc.
</p>
<p>o REQ-025 A Recording Session may start at call setup.
</p>
<p>o REQ-026 A Recording Session may start during a call.
</p>
<p>o REQ-027 The mechanism SHOULD support means to avoid clipping media
       	(leading or trailing samples) when the media is transported from the
       	SRC to the SRS.
</p>
<p>Note: Media clipping can occur due to delays in recording session
        establishment. SRC implementations typically buffer some portion of
	the media to overcome this problem.
</p>
<p>o REQ-028 Recorder MUST provide alarm notifications when a failure
   	occurs.
</p>
<p>o REQ-029 The mechanism MUST support a means of providing security
	(confidentiality, integrity and authentication) for the SIPREC.
</p>
<p>o REQ-030 The mechanism MUST enable the Recording Session to identify
       	itself as a SIP session that is established for the purpose of recording.
</p>
<p>o REQ-031 The mechanism MUST support the existing SIP security model, 
       	including eavesdropping protection, authorization and authentication.
</p>
<p>o REQ-032 If the Communication Session is encrypted, 
       	the Recording Session must not share the same keys.
</p>
<p>o REQ-033 The mechanism SHALL support means to relate Recording Session(s) 
       	with Communication Session(s).
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>Session recording has substantial security implications, both for the
       SIP UA's being recorded, and for the Session Recording Protocol
       itself in terms of the SRC and SRS.
</p>
<p>For the SIP UA's involved in the Communication Session, the requirements
       in this draft enable the UA to identify that a session is being
       recorded and for the UA to request that a given session is not
       subject to recording.
</p>
<p>Since humans don't typically look at or know about protocol signaling
       such as SIP, and indeed the SIP session might have originated through
       a PSTN Gateway without any ability to pass on in-signaling
       indications of recording, users can be notified of recording in the
       media itself through voice announcements, a visual indicator on
       the endpoint, or other means.
</p>
<p>With regards to security implications of the protocol(s), clearly
       there is a need for authentication, authorization, eavesdropping
       protection, and non-repudiation for the solution.  The SRC needs to
       know the SRS it is communicating with is legitimate, and vice-versa,
       even if they are in different domains.  Both the signaling and media
       for the SIPREC needs the ability to be authenticated and protected from
       eavesdropping and non-repudiation.  Requirements are
       detailed in the requirements section.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>This document has no IANA actions.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>Thanks to Dan Wing, Alan Johnson, Vijay Gurbani
      and Cullen Jennings for their help with this document, 
      and to all the members of the DISPATCH WG mailing list for 
      providing valuable input to this work.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Contributors</h3>

<p>In addition to the editors, the following people provided substantial
   	technical and writing contributions to this document, listed
   	alphabetically:
</p>
<p>Hadriel Kaplan<br />

   	Acme Packet<br />

	71 Third Ave.<br />

	Burlington, MA 01803<br />

	USA<br />

        hkaplan@acmepacket.com
</p>
<p>Henry Lum<br />

	Genesys, Alcatel-Lucent<br />

	1380 Rodick Road, Suite 200<br />

	Markham, Ontario L3R 4G5<br />

	Canada<br />

	henry.lum@genesyslab.com
</p>
<p>Martin Palmer<br />

        BT Global Services<br />

	Annandale House,1 Hanworth Road,<br />

	Sunbury on Thames Middlesex TW16 5DJ<br />

	UK<br />

	martin.4.palmer@bt.com
</p>
<p>Dave Smith<br />

	Genesys, Alcatel-Lucent<br />

	2001 Junipero Serra Blvd, Daly City, CA 94014<br />

	USA<br />

	dsmith@genesyslab.com
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2804">[RFC2804]</a></td>
<td class="author-text">IAB and IESG, &ldquo;<a href="http://tools.ietf.org/html/rfc2804">IETF Policy on Wiretapping</a>,&rdquo; RFC&nbsp;2804, May&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2804.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ken Rehor (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 West Tasman Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mail Stop SJC30/2/</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:krehor@cisco.com">krehor@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Rajnish Jain</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">IPC Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">777 Commerce Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Fairfield, CT  06825</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rajnish.jain@ipc.com">rajnish.jain@ipc.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Leon Portman</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NICE Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">8 Hapnina</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ra'anana  43017</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Israel</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:leon.portman@nice.com">leon.portman@nice.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrew Hutton</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Siemens Enterprise Communications</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:andrew.hutton@siemens-enterprise.com">andrew.hutton@siemens-enterprise.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.siemens-enterprise.com">http://www.siemens-enterprise.com</a></td></tr>
</table>
</body></html>
