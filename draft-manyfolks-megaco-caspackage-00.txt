

 Internet Engineering Task Force                                 V.Bajaj
                                                                  K.Laha
 Internet Draft                                  Hughes Software Systems
 Document:                                                   Bill Foster
      draft-manyfolks-megaco-caspackage-00.txt
                                                           Cisco Systems
                                                           Michael Brown
                                                          Wendy Bothwell
                                                         Nortel Networks
 Category: Informational                                    January 2001


                     Megaco/H.248 Basic CAS Packages

 Status of this Memo

 This document is an Internet-Draft and is in full conformance with all
 provisions of Section 10 of RFC2026 [1].

    Internet-Drafts are working documents of the Internet Engineering
    Task Force (IETF), its areas, and its working groups. Note that
    other groups may also distribute working documents as Internet-
    Drafts. Internet-Drafts are draft documents valid for a maximum of
    six months and may be updated, replaced, or obsoleted by other
    documents at any time. It is inappropriate to use Internet- Drafts
    as reference material or to cite them other than as "work in
    progress."

    The list of current Internet-Drafts can be accessed at
    http://www.ietf.org/ietf/1id-abstracts.txt
    The list of Internet-Draft Shadow Directories can be accessed at
    http://www.ietf.org/shadow.html.

 1. Abstract

    This document is work in progress and defines Basic Channel
    Associated Signaling (CAS) and R1 packages and supplemental CAS
    packages in association with the Megaco/H.248 Protocol that can be
    used to control a Media Gateway (MG) from an external controller,
    called a Media Gateway controller (MGC). It is intended to satisfy
    the requirements in section 12 of the Megaco/H.248 requirement
    document [2].

 2. Conventions used in this document

    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
    this document are to be interpreted as described in RFC-2119 [3].





 manyfolks       Informational -- Expires June 14, 2001               1
                     Megaco/H.248 Basic CAS Package        January 2001



 3. Document Organization

    The subsequent portion of this draft is organized into the
    following major sections:

    * Introduction
    * Assumptions and Partitioning
    * Description of the Basic CAS package
    * Description of the Robbed Bit Signaling package
    * Description of the Operator Services and Emergency Services
    package
    * Description of the Operator Services Extension package
    * References
    * Author's Addresses
    * Appendix showing call flows


 4. Introduction

    The Basic CAS (Channel Associated Signaling) Package can be used
    for single stage dialing applications such as interconnect to PBX's
    using either immediate start, delay start or wink start signaling
    with either MF, DTMF  or dial-pulse (DP) digits used for
    addressing. It can also used for inter-exchange signaling. This
    includes R1 as well as Feature Group D (FGD) MF signaling single
    stage dialing (FGD terminating protocol). It also provides the
    basis for multi-stage dialing applications such as FGD Operator
    Services and inter-exchange signaling [4]. While this package is
    intended meet the requirements of any variant of CAS, it may be
    necessary in the future to development extensions to the package.

    In addition, the package can be applied to analog trunking
    applications such as:

    E&M analog trunks
    R1 analog trunks

    The RBS (Robbed Bit Signaling) Package, Operator Services and
    Emergency Services Package and the Operator Services Extension
    Package can be used to provide functionality required in addition
    to the Basic CAS Package, such as operator and emergency services
    capabilities or multi-stage Feature Group D inter-exchange
    signaling.


 5. Assumptions and Partitioning

    The following approach was used in providing functionality in the
    Basic CAS Package:

    The package provides some basic supervisory signaling


 manyfolks       Informational -- Expires June 14, 2001               2
                     Megaco/H.248 Basic CAS Package        January 2001



    It provide an abstract event for "start-dialing"/"proceed-to-send"
    which is non-specific to the type of CAS.
    Used in conjunction with MF and DTMF detection and generation
    packages, it provides the ability to do digit collection and
    outpulsing of both MF and DTMF digits.
    It provides error event reporting.

    For some applications, the Basic CAS package provides all of the
    functionality needed to satisfy the interface. In other cases (e.g.
    operator services), additional supplementary packages may be needed
    to meet the complete interface requirements. This internet draft
    includes three supplementary packages which may be used to provide
    additional functionality required by some interfaces:

    The Robbed Bit Signaling package provides basic rbs supervisory
    signaling that is required in addition to the Basic CAS package.

    The Operator Services and Emergency Services package provides
    supervisory signaling that is specific to both Operator Services
    and Emergency Services.

    The Operator Services Extension package provides supervisory
    signaling that is specific to Operator Services and is required in
    addition to the Operator Services and Emergency Services package.


 6. Basic CAS Package Description

 6.1 Package

    Package Name: Basic CAS Package
    Package ID: bcas (To be allocated through IANA)
    Description: This package provides basic event and signal handling
           for terminations that supporting CAS Signaling between the
           Media Gateway and either the PSTN network or a PBX.
    Version: 1
    Extends: None

 6.2 Properties

    The MG has a provisioned value for each of the following
    properties. The MG uses the provisioned value by default.
    However, it is necessary, for some CAS signaling protocols,
    to change these values for a call.

    Property Name: seize signal validation time
    PropertyID: sztim
    Description: Specifies the minimum duration for which the "seizing"
           signal must persist for the same to be reported as an event.
    Type: integer, in milliseconds
    Possible Values: 0 and up


 manyfolks       Informational -- Expires June 14, 2001               3
                     Megaco/H.248 Basic CAS Package        January 2001



    Defined In: TerminationState
    Characteristics: Read/Write

    Property Name: start dialing timeout
    PropertyID: sdto
    Description: Specifies the timer for the receipt of the "start
           dialing" signal.
    Type: integer, in milliseconds
    Possible Values: 0 and up
    Defined In: TerminationState
    Characteristics: Read/Write

    Property Name: answer timeout
    PropertyID: ansto
    Description: Specifies the timer for the receipt of the "answer"
           signal.
    Type: integer, in milliseconds
    Possible Values: 0 and up
    Defined In: TerminationState
    Characteristics: Read/Write

    Property Name: answer signal validation time
    PropertyID: anstim
    Description: Specifies the minimum duration for which the "answer"
           signal must persist for the same to be reported as an event.
    Type: integer, in milliseconds
    Possible Values: 0 and up
    Defined In: TerminationState
    Characteristics: Read/Write

    Property Name: clear signal validation time
    PropertyID: clrtim
    Description: Specifies the minimum duration for which the gateway,
           if behaving as an incoming end, validates the "clear-
           forward" signal (or on-hook).
    Type: integer, in milliseconds
    Possible Values: 0 and up
    Defined In: TerminationState
    Characteristics: Read/Write

 6.3 Events

 6.3.1
    Event Name: Seizure
    EventID: sz (0x0001)
    Description: The Seizure event shall be reported when an incoming
           "Seizing" signal occurs on the termination and an events
           descriptor is activated that requests the Seizure event. The
           line signal condition against which the "Seizing" signal is
           verified is provisioned in the MG.



 manyfolks       Informational -- Expires June 14, 2001               4
                     Megaco/H.248 Basic CAS Package        January 2001



    EventsDescriptor Parameters:
         none defined for this package
    ObservedEventsDescriptor Parameters:
         none defined by this package

 6.3.2
    Event Name: Start Dialing
    EventID: sd (0x0002)
    Description: The "Start Dialing" event indicates out-pulsing should
           begin. For R1 interfaces, the event is reported when the
           "start dialing"/"proceed to send" signal occurs. For wink
           start trunks, the "Start Dialing" event is reported when the
           trailing edge of the wink-start signal occurs. For immediate
           start trunks, the "Start Dialing" event is provided by the
           media gateway as an immediate response to the request for
           the that event from the MGC. This allows the MGC to
           experience an identical interface regardless of trunk type.

    EventsDescriptor Parameters:
         none defined for this package
    ObservedEventsDescriptor Parameters:
         none defined by this package
 6.3.3
    Event Name: Answer
    EventID: ans (0x0003)
    Description: The Answer event shall be reported when an incoming
           line signal "Answer" occurs on the termination and an events
           descriptor is activated that requests the Answer event. The
           line signal condition against which the "Answer" signal is
           verified is provisioned in the MG.

    EventsDescriptor Parameters:
         none defined by this package

    ObservedEventsDescriptor Parameters:
         none defined by this package

 6.3.4

    Event Name: Clear Forward
    EventID: cf (0x0004)
    Description: This event applies to an incoming interface and is
           reported when a "Clear" signal occurs on the termination and
           an events descriptor is activated that requests the Clear
           Forward event. For an R1 interface, the Clear Forward event
           shall be reported when a "Clear-forward" line signal occurs
           on the termination. For robbed bit signaling digital
           interfaces, it corresponds to an "on-hook" indication on the
           termination. The condition against which the signal is
           verified is provisioned in the MG.
    EventsDescriptor Parameters:


 manyfolks       Informational -- Expires June 14, 2001               5
                     Megaco/H.248 Basic CAS Package        January 2001



         none defined by this package
    ObservedEventsDescriptor Parameter:
         none defined by this package

    Event Name: Clear Back
    EventID: cb (0x0005)
    Description: This event applies to an outgoing interface and is
           reported when a "Clear" signal occurs on the termination and
           an events descriptor is activated that requests the Clear
           Back event. For an R1 interface, the Clear Back event shall
           be reported when a "Clear-back" line signal occurs on the
           termination. For robbed bit signaling digital interfaces, it
           corresponds to an "on-hook" indication on the termination.
           The condition against which the signal is verified is
           provisioned in the MG.
    EventsDescriptor Parameters:
         none defined by this package
    ObservedEventsDescriptor Parameter:
         none defined by this package


 6.3.5
    Event Name: CAS Failure
    EventID: casf (0x0006)
    Description: Reports general CAS failures associated with this
           package.

    EventsDescriptor Parameters:
         none defined by this package

    ObservedEventsDescriptor Parameters:
         Parameter Name: Error code
         ParameterID: ec (0x0001)
         Description: describes the failure reason
         Type: enumeration
         Possible Values:
           "ULS" (0x0001) Unexpected line signal
           "LTO" (0x0002) Line signal timeout
           "RTO" (0x0003) Register signal timeout
           "SME" (0x0004) Protocol State machine malfunction
           "SDO" (0x0005) Start Dialing Timeout
           "ANO" (0x0006) Answer Timeout
           "ADR" (0x0007) Error during outpulsing

 6.4 Signals

    Parameters: None

 6.4.1
    Signal Name: Seizure
    SignalID: sz (0x0001)


 manyfolks       Informational -- Expires June 14, 2001               6
                     Megaco/H.248 Basic CAS Package        January 2001



    Description: Applies a "Seizing" signal on the termination. The
           line signal that is actually sent on the physical
           termination is provisioned in the MG.
    Signal Type: (BR) Brief
    Duration: Not applicable
    Additional Parameters: None

 6.4.2
    Signal Name: Answer
    SignalID: ans (0x0002)
    Description: Applies an "Answer" signal on the termination. The
           line condition that is actually sent on the physical
           termination is provisioned in the MG.
    Signal Type: (BR) Brief
    Duration: Not applicable
    Additional Parameters: None

 6.4.3

    Signal Name: Clear Forward
    SignalID: cf (0x0003)
    Description: This signal applies to an outgoing interface and is
           used to clear a call in the forward direction. The signal
           type that is actually sent on the physical termination is
           provisioned in the MG.
    Signal Type: (BR) Brief
    Duration: Provisioned

    Signal Name: Clear Back
    SignalID: cb (0x0004)
    Description: This signal applies to an incoming interface and is
           used to clear a call in the backward direction. The signal
           type that is actually sent on the physical termination is
           provisioned in the MG.
    Signal Type: (BR) Brief
    Duration: Provisioned

 6.4.4.
    Signal Name: Address
    SignalID: addr (0x0005)
    Description: Applies the address signals in the form of either
           DTMF, dial-pulse or MF-tones on the trunk. The actual
           frequency, cadence, duration and amplitude values for the
           multi-frequency tones that convey the address information
           are provisioned in the MG.
    Signal Type: (BR) Brief
    Duration: Provisioned
    Additional Parameters:
         Parameter Name: Digit String
         ParameterID: ds (0x0001)



 manyfolks       Informational -- Expires June 14, 2001               7
                     Megaco/H.248 Basic CAS Package        January 2001



         Description: The digit string that needs to be sent as address
           signals.
         Type: string of digits.
         Possible Values: a sequence of the characters "0" through "9"
           as well as "A" and "E" ("A" and "E" used for MF signaling -
           refer to the symbols defined for the digit map in the MF
           Tone Detection package.
         Parameter Name: Address Delay
         ParameterID: ad (0x0002)
         Description: Specifies a timed delay that is applied prior to
           signaling the address. The address delay is optional. The MG
           has a provisioned value by default. If the address delay
           parameter is not provided, the MG uses the provisioned
           value.
         Type: integer, in milliseconds
         Possible Values: 0 and up

 6.5 Statistics
    none

 6.6 Procedures

 6.6.1 Glare Procedures

    Gateways may have a configurable glare bit on a per-DS0 basis that
    can be set to indicate whether the gateway is the controlling or
    non-controlling "switch".

    In the case of PBX interconnect, PBXs are either pre-configured or
    can be configured to behave as non-controlling switches. In this
    case if they see an off-hook that exceeds allowable wink length,
    they will attach a receiver, go on-hook, and await digits for a new
    call.  Meanwhile the PBX will retry its original call on another
    trunk.

    In the case where the DS0 is configured for the non-controlling
    switch, the gateway will indicate a glare occurrence by reporting a
    seizure event to the MGC. Upon receipt of the seizure event, the
    MGC begins procedures to back down on the outgoing call attempt and
    begins procedures to process the incoming call attempt.

    If the gateway behaves like a controlling switch, when glare is
    detected, the gateway will wait for up to some timeout value
    (default value of 4 seconds) until the incoming off-hook changes to
    an on-hook state at which time it will start out-pulsing in the
    normal manner. If the timeout occurs before the state change to on-
    hook occurs, the far end has refused to back down. This may occur
    if both ends of the interface are provisioned as the controlling
    switch. In this case, when the timeout occurs, the gateway reports
    the seizure event to the MGC. The MGC, upon receipt of the notify
    with seizure event, begins procedures to back down on the outgoing


 manyfolks       Informational -- Expires June 14, 2001               8
                     Megaco/H.248 Basic CAS Package        January 2001



    call attempt and begins procedures process the incoming call
    attempt.

    It is possible for internal glare to occur between the MGC and the
    gateway. With internal glare, the gateway detects a seizure event
    on the DS0, signals a start dial and reports the seizure event to
    the MGC. At the same time the gateway reports the seizure event to
    the MGC, the MGC sends a modify to the gateway requesting the
    gateway signal a seizure on the DS0. In this case, the start dial
    has already been signaled by the gateway in response to the
    incoming seizure. Therefore the MGC must back down on the outgoing
    call attempt. The gateway, upon receipt of the modify request to
    signal a seizure, recognizes internal glare has occurred and takes
    no action on the modify request. The MGC, upon receipt of the
    notify with seizure event, recognizes internal glare has occurred
    and begins procedures to back down on the outgoing call attempt and
    begins procedures to process the incoming call attempt.

 6.6.2 Timestamp Procedures

    Inclusion of a timestamp in the ObservedEvents descriptor is
    mandatory for the basic CAS package. The timestamp reflects the
    detection time for the event and may be used by services (e.g.
    automatic message accounting) on the MGC.

 7. Robbed Bit Signaling Package

 7.1 Package

    PackageID: rbs
    Description: This package defines events and signals that are
           specific to robbed bit signaling and are required in
           addition to the base CAS functionality provided by the bcas
           package.
    Version: 1
    Extends: None

 7.2 Properties

    The MG has a provisioned value for each of the following
    properties. The MG uses the provisioned value by default. However,
    it is necessary, for some signaling protocols, to change these
    values for a call.

    Property Name: Pulse Generation Duration
    PropertyID: psgen
    Description: Specifies the duration for a pulse signal.
    Type: integer, in milliseconds
    Possible Values: 0 and up
    Defined In:  TerminationState
    Characteristics: Read/Write


 manyfolks       Informational -- Expires June 14, 2001               9
                     Megaco/H.248 Basic CAS Package        January 2001




    Property Name: Minimum Pulse Detection Duration
    PropertyID: minpsdet
    Description: Specifies the minimum duration for detecting a pulse.
    Type: integer, in milliseconds
    Possible Values: 0 and up
    Defined In: TerminationState
    Characteristics: Read/Write

    Property Name: Maximum Pulse Detection Duration
    PropertyID: maxpsdet
    Description: Specifies the maximum duration for detecting a pulse.
    Type: integer, in milliseconds
    Possible Values: 0 and up
    Defined In: TerminationState
    Characteristics: Read/Write


 7.3 Events

    Event Name: Pulse Off
    EventID: psoff (0x0001)
    Description: The MG detects and reports a timed transition from on-
           hook to off-hook (leading edge) to on-hook (trailing edge).
           The parameter "pulse timeout" can be optionally included to
           specify a timeout for the receipt of the pulse. A default
           value for the timer is provisioned on the MG. The minimum
           and maximum duration of the pulse are defined by the Minimum
           Pulse Detection Duration and Maximum Pulse Detection
           Duration properties respectively.
    EventsDescriptor Parameters:
         Parameter Name: Pulse Timeout
         ParameterID: psto
         Description: Specifies the timer for the receipt of the pulse.
         Type: integer, in milliseconds
         Possible values: 0 and up
    ObservedEventsDescriptor Parameters: None

    Event Name: Pulse On
    EventID: pson (0x0002)
    Description: The MG detects and reports a timed transition from
           off-hook to on-hook (leading edge) to off-hook (trailing
           edge). The parameter "pulse timeout" can be optionally
           included to specify a timeout for the receipt of the pulse.
           A default value for the timer is provisioned on the MG. The
           minimum and maximum duration of the pulse are defined by the
           Minimum Pulse Detection Duration and Maximum Pulse Detection
           Duration properties respectively.
    EventsDescriptor Parameters:
         Parameter Name: Pulse Timeout
         ParameterID: psto


 manyfolks       Informational -- Expires June 14, 2001              10
                     Megaco/H.248 Basic CAS Package        January 2001



         Description: Specifies the timer for the receipt of the pulse.
         Type: integer, in milliseconds
         Possible values: 0 and up
    ObservedEventsDescriptor Parameters: None


    Event Name: RBS Failure
    EventID: rbsfail (0x0003)
    Description: Reports a failure condition when an events descriptor
           is activated requesting the rbs failure event.
    EventsDescriptor Parameters: None.
    ObservedEventsDescriptor Parameters:
         Parameter Name: Error Code
         ParameterID: ec
         Description: describes the failure reason
         Type: enumeration
         Possible Values:
                 "psto"  Timeout waiting for a pulse event

 7.4 Signals

    Signal Name: Pulse Off-hook
    SignalID: psoff (0x0001)
    Description: The MG signals a timed transition from on-hook to off-
           hook (leading edge) to on-hook (trailing edge).
    Signal Type: Brief
    Duration: Defined by Pulse Generation Duration property.
    Additional Parameters: None

    Signal Name: Pulse On-hook
    SignalID: pson (0x0002)
    Description: The MG signals a timed transition from off-hook to on-
           hook (leading edge) to off-hook (trailing edge).
    Signal Type: Brief
    Duration: Defined by Pulse Generation Duration property.
    Additional Parameters: None


 7.5 Statistics
    None.

 7.6 Procedures

    7.6.1 Timestamp Procedures

    Inclusion of a timestamp in the ObservedEvents descriptor is
    mandatory for the RBS package. The timestamp reflects the detection
    time for the event and may be used by services (e.g. automatic
    message accounting) on the MGC.




 manyfolks       Informational -- Expires June 14, 2001              11
                     Megaco/H.248 Basic CAS Package        January 2001



 8. Operator Services and Emergency Services Package

 8.1 Package

    PackageID: oses
    Description: This package defines CAS events and signals that are
    required for both Operator Services and Emergency Services.
    Version: 1
    Extends: None

 8.2 Properties

    None.


 8.3 Events

    Event Name: Ringback
    EventID: rgbk (0x0001)
    Description: The ringback event is reported when a ringback signal
           is detected and an events descriptor is activated requesting
           the ringback event. The type of ringback signal and
           characteristics of the ringback signal are provisioned on
           the MG.
    EventsDescriptor Parameters: None
    ObservedEventsDescriptor Parameters: None

 8.4 Signals

    Signal Name: Ringback
    SignalID: rgbk (0x0001)
    Description: Applies a ringback signal on the termination. The type
           of ringback signal and characteristics of the ringback
           signal are provisioned on the MG.
    Signal Type: Brief
    Duration: Provisioned
    Additional Parameters: None

    Signal Name: Calling Party On-hook
    SignalID: cpon (0x0002)
    Description: Applies an onhook signal on the termination. This
           signal is used when the the calling party's on-hook status
           must be signaled to the operator service or emergency
           service switch.
    Signal Type: Brief
    Duration: Provisioned
    Additional Parameters: None


 8.5 Statistics
    None.


 manyfolks       Informational -- Expires June 14, 2001              12
                     Megaco/H.248 Basic CAS Package        January 2001




 8.6 Procedures
    None.




 9. Operator Services Extension Package

 9.1 Package

    PackageID: osext
    Description: This package defines CAS events and signals that are
           specific to Operator Services and are required in addition
           to the events and signals defined in the Operator Services
           and Emergency Services package.
    Version: 1
    Extends: oses

 9.2 Properties

    None.


 9.3 Events


    Event Name: Recall
    EventID: rcl (0x0002)
    Description: The recall event is reported when a recall signal is
    detected and an events descriptor is activated requesting the
           recall event. The recall signal is a timed transition from
           off-hook to on-hook (leading edge) to off-hook (trailing
           edge). The duration of the timed transition is provisioned
           on the MG.
    EventsDescriptor Parameters: None
    ObservedEventsDescriptor Parameters: None

    Event Name: Coin Collect
    EventID: cc (0x0003)
    Description: The coin collect event is reported when a coin collect
           signal is detected and an events descriptor is activated
           requesting the coin collect event. The type of coin collect
           signal and characteristics of the coin collect signal are
           provisioned on the MG.
    EventsDescriptor Parameters: None
    ObservedEventsDescriptor Parameters: None

    Event Name: Coin Return
    EventID: cr (0x0004)



 manyfolks       Informational -- Expires June 14, 2001              13
                     Megaco/H.248 Basic CAS Package        January 2001



    Description: The coin return event is reported when a coin return
           signal is detected and an events descriptor is activated
           requesting the coin return event. The type of coin return
           signal and characteristics of the coin return signal are
           provisioned on the MG.
    EventsDescriptor Parameters: None
    ObservedEventsDescriptor Parameters: None

    Event Name: Operator Attached
    EventID: oa (0x0005)
    Description: The operator attached event is reported when an
           operator attached signal is detected and an events
           descriptor is activated requesting the operator attached
           event. The type of operator attached signal and
           characteristics of the operator attached signal are
           provisioned on the MG.
    EventsDescriptor Parameters: None
    ObservedEventsDescriptor Parameters: None

    Event Name: Operator Released
    EventID: or (0x0006)
    Description: The operator released event is reported when an
           operator released signal is detected and an events
           descriptor is activated requesting the operator released
           event. The type of operator released signal and
           characteristics of the operator released signal are
           provisioned on the MG.
    EventsDescriptor Parameters: None
    ObservedEventsDescriptor Parameters: None


 9.4 Signals

    Signal Name: Recall
    SignalID: rcl (0x0003)
    Description: Applies a timed transition from off-hook to on-
           hook(leading edge) to off-hook (trailing edge).
    Signal Type: Brief
    Duration: Provisioned
    Additional Parameters: None

    Signal Name: Coin Collect
    SignalID: cc (0x0004)
    Description: Applies a coin collect signal on the termination. The
           type of coin collect signal and characteristics of the coin
           collect signal are provisioned on the MG.
    Signal Type: Brief
    Duration: Provisioned
    Additional Parameters: None

    Signal Name: Coin Return


 manyfolks       Informational -- Expires June 14, 2001              14
                     Megaco/H.248 Basic CAS Package        January 2001



    SignalID: cr (0x0005)
    Description: Applies a coin return signal on the termination. The
           type of coin return signal and characteristics of the coin
           return signal are provisioned on the MG.
    Signal Type: Brief
    Duration: Provisioned
    Additional Parameters: None

    Signal Name: Operator Attached
    SignalID: oa (0x0006)
    Description: Applies an operator attached signal on the
           termination. The type of operator attached signal and
           characteristics of the operator attached signal are
           provisioned on the MG.
    Signal Type: Brief
    Duration: Provisioned
    Additional Parameters: None

    Signal Name: Operator Released
    SignalID: or (0x0007)
    Description: Applies an operator released signal on the
           termination. The type of operator released signal and
           characteristics of the operator released signal are
           provisioned on the MG.
    Signal Type: Brief
    Duration: Provisioned
    Additional Parameters: None

 9.5 Statistics
    None.

 9.6 Procedures
    None.



 10. References

 [1]  Bradner, S., "The Internet Standards Process -- Revision 3", BCP
 9, RFC 2026, October 1996.

 [2]  Draft Recommendation H.248 (February 2000), Temporary Document 37
 (PLEN), Study Group 16, ITU-Telecommunication Standardization Sector
 (to be issued as draft-ietf-megaco-protocol-07.txt)

 [3]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
 Levels", BCP 14, RFC 2119, March 1997

 [4]Bellcore, Compatibility Information for Feature Group D Switched
 Access Service, TR-NPL-000258, Issue 1, October 1985.



 manyfolks       Informational -- Expires June 14, 2001              15
                    Megaco/H.248 Basic CAS Package        January 2001




11. Author's Addresses

   Vikas Bajaj
   Hughes Software Systems,Ltd.
   Gurgaon,Haryana,India. 122015.
   Ph: (91)-11-6346666.Ex-2804.
   Fax: (91)-124-6342810 or 811.
   mEmail: vbajaj@hss.hns.com.


   Kushanava Laha
   Hughes Software Systems,Ltd.
   Gurgaon,Haryana,India. 122015.
   Ph: (91)-11-6346666.Ex-3083
   Email: klaha@hss.hns.com.

   Bill Foster
   Cisco Systems
   170 West Tasman Dr
   San Jose, CA 95134
   Ph: (408) 527-8791
   email: bfoster@cisco.com

   Wendy Bothwell
   Nortel Networks
   4008 Chapel Hill Road
   Research Triangle Park, NC USA 27709
   Phone: (919) 991-7287
   Email: Bothwell@nortelnetworks.com

   C. Michael Brown
   Nortel Networks
   4008 Chapel Hill Road
   Research Triangle Park, NC USA 27709
   Phone: (919) 991-7767
Email: C.Michael.Brown@nortelnetworks.com
















manyfolks       Informational -- Expires June 14, 2001              16
                    Megaco/H.248 Basic CAS Package        January 2001


12. Appendix A Call Flows

12.1 Basic Single-Stage MF or DTMF wink start or immediate start.

   Origination:

     PSTN/PBX              MG                        MGC

                            <-- request to be notified seizure, digits
                                (digit map referenced)

             --seize->       ---- "bcas/sz"-->

    <-- seize ack and start dialing

             --digits-->     ---- "mfd/ce"  -->
                                    digits available
                             later when the other end answers:
            <--off-hook--    <--  "bcas/ans" ---


   Termination:

               MGC                      MG                PSTN/PBX

   Start with embedded request to do "sz" and if start dialing ("sd")
   occurs - automaticaally outpulse address:
                 ---embedded request-->     --- Seizure --->

                 <---- "bcas/sd"-------     <-- wink/delay dial
                                          followed by proceed to send

   the MG as a reflex action to doing a seizure with request for "sd"

                                            --- digits --->

                                     Note: digits outpulsed
                          automatically because of the embedded request


12.2 EAOSS Termination - Telephone Company Operator Services Call :

   The following call flow also applies to operator services signaling
   interfaces defined prior to Exchange Access Operator Services
   Signaling (EAOSS).


   MGC                      MG                     PSTN
   Start with a request to seize and report the start dialing event.
   Option - can use an embedded request for the first set of address
   digits.
          ---- request ----->         ----seizure--->
          <----"bcas/sd"-----         <----wink-----

manyfolks       Informational -- Expires June 14, 2001              17
                    Megaco/H.248 Basic CAS Package        January 2001


   Send a request to signal the first stage of digits (i.e. called) and
   look for an answer. Signal Completion event can be (optionally) used
   to indicate when outpulsing is complete. A timeout is specified for
   the ansto property.
          -- signal addr1 -->         -----addr1---->
          <------"g/sc"------
          <----"bcas/ans"----         <-- off-hook--
   Send a request to signal the second stage of digits (i.e. ANI).
   Signal Completion event is used to indicate when outpulsing is
   complete.
          -- signal addr2 -->         -----addr2---->
          <------"g/sc"------


12.3 EAOSS Termination - IC/INC Operator Services Call indirect through
an Access Tandem (Overlap Outpulsing):

   The following call flow also applies to Feature Group D (FGD)
   signaling with the exception of an acknowledgment wink in place
   of the off-hook hold request.

   MGC                      MG                     PSTN
   Start with a request to seize and report the start dialing event.
   Option - can use an embedded request for the first set of address
   digits.
          ---- request ----->         ----seizure--->
          <----"bcas/sd"-----         <----wink-----
   Send a request to signal the first stage of digits and look for a
   wink (i.e. a pulse). The first stage of digits consists of
   KP0ZZXXXXST/STP (national) or KP1N'XXXXXCCCST/STP (international).
          -- signal addr1 -->         -----addr1---->
          <---"rbs/psoff"----         <-- wink  ----
   Send a request to signal the second stage of digits (i.e. ANI).
   Signal Completion event is used to indicate when outpulsing is
   complete, which supports overlap outpulsing.
          -- signal addr2 -->         -----addr2---->
          <------"g/sc"------
   Send a request to signal the third stage of digits (i.e. called)
   and look for an acknowledgment wink or an off-hook request for
   hold.
          -- signal addr3 -->         -----addr3---->
          <----"rbs/psoff"---         <--- wink  ----
   OR
          <----"bcas/ans"----         <---off-hook---

   Timeouts for the receipt of the winks are specified using parameter
   psto. The minimum and maximum durations of the winks are specified
   using the minpsdet and maxpsdet properties.






manyfolks       Informational -- Expires June 14, 2001              18
                    Megaco/H.248 Basic CAS Package        January 2001


12.4 EAOSS Termination - IC/INC Operator Services Call indirect through
an Access Tandem (No Overlap Outpulsing):

   This call flow is an optimization of the previous call flow when
   overlap outpulsing is not required.


   MGC                      MG                     PSTN
   Start with a request to seize and report the start dialing event.
   This call flow includes an embedded request to signal the first set
   of address digits (i.e. KP0ZZXXXXST/STP for national or
   KP1N'XXXXXCCCST/STP for international) and report an event of wink
   (i.e. a pulse).
          ---- request ----->         ----seizure--->
          <------"sd"--------         <----wink------
                                      -----addr1---->
          <----"rbs/psoff"---         <-- wink  ----
   Send a request that includes a signal list for the second (i.e.
   ANI)and third (i.e. called) stages of digits. Additionally, look for
   the acknowledgment wink or off-hook hold request.
          - signal addr2/3 ->         -----addr2---->
                                      -----addr3---->
          <----"rbs/psoff"---         <--- wink  ----
   OR
          <----"bcas/ans"----         <---off-hook---

   Timeouts for the receipt of the winks are specified using parameter
   psto. The minimum and maximum durations of the winks are specified
   using the minpsdet and maxpsdet properties.


12.5 EAOSS Termination - IC/INC "National" Operator direct to the
IC/INC (Overlap Outpulsing):


   MGC                      MG                     PSTN

   Start with a request to seize and report the start dialing event.
   Option - can use an embedded request for the first set of address
   digits.
          ---- request ----->         ----seizure--->
          <---"bcas/sd"------         <----wink-----
   Send a request to signal the first stage of digits (i.e. ANI).
   Signal Completion event is used to indicate when outpulsing is
   complete, which supports overlap outpulsing.
          -- signal addr1 -->         -----addr1---->
          <------"g/sc"------
   Send a request to signal the second stage of digits (i.e. called)
   and look for the acknowledgment wink or an offhook request for hold.
         -- signal addr2 -->         ----seizure--->
         <--"rbs/psoff"-----         <--- wink  ----
   OR
        ----"bcas/ans"------         <---off-hook---

manyfolks       Informational -- Expires June 14, 2001              19
                    Megaco/H.248 Basic CAS Package        January 2001



   The timeouts for the receipt of the wink is specified using
   parameter psto. The minimum and maximum duration of the wink is
   specified using the minpsdet and maxpsdet properties.


12.6 EAOSS Termination - IC/INC "National" Operator direct to the
IC/INC (No Overlap Outpulsing):

   This call flow is an optimization of the previous call flow when
   overlap outpulsing is not required.


   MGC                      MG                     PSTN
   Start with a request to seize and report the start
   dialing event. Include an embedded request with a signal list and
   look for an event of wink or offhook.
          ---- request ----->         ----seizure--->
          <---"bcas/sd"------         <----wink-----
                                      -----addr1---->
                                      -----addr2---->
          <---"rbs/psoff"----         <--- wink  ----
   OR
          <----"bcas/ans"----         <---off-hook---

   The timeout for the receipt of the wink is specified using parameter
   psto. The minimum and maximum duration of the wink is specified
   using the minpsdet and maxpsdet properties.


12.7 EAOSS Origination - Telephone Operating Company serves the call:


   In this call flow, the MGC is the Telephone Operating Company switch
   that is providing operator services. The call originates from a PSTN
   EO and terminates to the MGC for operator handling. Following
   operator handling, the call completes to the packet network (not
   shown).


   PSTN                      MG                     MGC

   Start with a request to be notified of seizure and report digits
   (digit map referenced).
                                      <---- request ----
        ------seize----->             ---"bcas/sz"----->
        <-----wink-------
        -----addr1------>             -----"mfd/ce"---->
   Based on the digits received (i.e. KP0ZZXXXXST/STP,
   KP1N'XXXXXCCCST/STP) and the resulting translation, the MGC
   determines the call should be served. Send a request to signal a
   wink and report the next set of digits (i.e. ANI).
                                      <-- request ---

manyfolks       Informational -- Expires June 14, 2001              20
                    Megaco/H.248 Basic CAS Package        January 2001


        <-----wink-------
        -----addr2------>             -----"mfd/ce"---->
   Send a request to report the next set of digits and signal an
   acknowledgment wink or off-hook in place of the acknowledgment wink
   (i.e. if MGC data indicates hold should be applied for this IC).
                                      <---- request ----
        -----addr2------>             -----"mfd/ce"---->
        <-----wink-------
   OR
        <---off-hook-----





Full Copyright Statement

   "Copyright (C) The Internet Society (April,2000). All Rights
   Reserved. This document and translations of it may be copied and
   furnished to others, and derivative works that comment on or
   otherwise explain it or assist in its implementation may be
   prepared, copied, published and distributed, in whole or in part,
   without restriction of any kind, provided that the above copyright
   notice and this paragraph are included on all such copies and
   derivative works. However, this document itself may not be modified
   in any way, such as by removing the copyright notice or references
   to the Internet Society or other Internet organizations, except as
   needed for the purpose of developing Internet standards in which
   case the procedures for copyrights defined in the Internet Standards
   process must be followed, or as required to translate it into
























manyfolks       Informational -- Expires June 14, 2001              21
