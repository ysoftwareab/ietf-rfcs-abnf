


Network Working Group                                         F. Templin
Internet-Draft                                                     Nokia
Expires: August 1, 2003                                 January 31, 2003


                 MTU Issues in IPv6 Neighbor Discovery
                       draft-templin-ndiscmtu-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 1, 2003.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This document discusses Maximum Transmission Unit (MTU) issues in
   IPv6 Neighbor Discovery and suggests minor augmentations to the
   existing specification to rectify the issues.

1. Introduction

   This document discusses Maximum Transmission Unit (MTU) issues in
   Neighbor Discovery for IP Version 6 (IPv6) [1].  It argues that the
   current specification is too restrictive in the use of MTU options,
   and that per-neighbor MTU values should be maintained in the
   conceptual Neighbor Cache.  It finally proposes minor augmentations
   to the existing specification to rectify the issues.



Templin                  Expires August 1, 2003                 [Page 1]

Internet-Draft    MTU Issues in IPv6 Neighbor Discovery     January 2003


2. Problem Statement

   ([1], section 4.6.4) defines a Maximum Transmission Unit (MTU) option
   type.  In the current specification, the MTU option is sent only in
   Router Advertisement messages ([1], section 4.2) and interpreted by
   receivers as the MTU value for all nodes on the link to use.  While
   this specification provides sufficient mechanism for many of the
   supported link types in ([1], section 2.2), it may lead to
   inefficiencies for other types, e.g., for certain variable MTU links.

   In particular, it may be desirable in some cases for a node to track
   independent MTU values for different neighbors on a link.  For
   example, on certain multiple-access wireless links the optimal MTU
   for a particular neighbor may be proportional to the signal to noise
   ratio sensed at the receiver's MAC layer.  In another example,
   constrained nodes on a link with large MTU may wish to receive
   smaller packets than more robust nodes.  In these and other cases,
   maintaining independent per-neighbor MTUs for nodes on a link would
   yield significant efficiency advantages.

3. Proposed Changes

   In order to support per-neighbor MTUs, the following changes/
   augmentations to RFC 2461 are proposed:

   1.  In ([1], section 4.6.4), add new text allowing the encoding of
       MTU options in Neighbor Acknowledgement messages.

   2.  In ([1], section 5.1), add a per-neighbor MTU field (NBR_MTU) in
       the Neighbor Cache data structure.

   3.  In ([1], section 6.3.2), add a new host variable, defined as
       follows:

       MaxLinkMTU
          The maximum MTU supported on the link.
          Default: LinkMTU.

   4.  In ([1], section 7.2.4), add new text allowing the encoding of
       MTU options in solicited Neighbor Advertisements."

   5.  In ([1], section 7.2.5), add new text requiring the value in MTU
       options received in Neighbor Advertisement messages be written
       into the NBR_MTU field in the Neighbor Cache entry.

   6.  In (([1], section 7.2.6), add new text allowing Unsolicited
       Neighbor Advertisements sent to the unicast address of a
       neighbor.



Templin                  Expires August 1, 2003                 [Page 2]

Internet-Draft    MTU Issues in IPv6 Neighbor Discovery     January 2003


4. Operational Details

   When nodes implement the changes proposed above, Neighbor
   Advertisement messages containing MTU options provide a dynamic
   mechanism for receivers to inform senders of MTU changes.  Documents
   that specify the operation of IPv6 over specific link layers (e.g.,
   Ethernet, FDDI, etc.) provide details for the encoding of MTU options
   in Neighbor Advertisement messages.

   Receipt of an MTU option in the initial solicited Neighbor
   Advertisement provides an indication to the sender that the receiver
   implements the dynamic MTU mechanism.  (Lack thereof conversely
   provides an indication that the receiver does not implement the
   dynamic MTU mechanism.)

   Using these proposed changes, MTU options received in Router
   Advertisements affect LinkMTU exactly as in the current
   specification.  However, packetization and forwarding layers see an
   MTU of MaxLinkMTU when they examine the link.  The relationship
   between the three MTU parameters is as follows:

      LinkMTU <= NbrMTU <= MaxLinkMTU

   Multicast destinations, and unicast destinations that use a next hop
   with no MTU support indicated in the Neighbor Cache, see an MTU of
   LinkMTU.

5. IANA Considerations

   TBD

6. Security considerations

   TBD

7. Acknowledgements

   TBD

Normative References

   [1]  Narten, T., Nordmark, E. and W. Simpson, "Neighbor Discovery for
        IP Version 6 (IPv6)", RFC 2461, December 1998.

Informative References






Templin                  Expires August 1, 2003                 [Page 3]

Internet-Draft    MTU Issues in IPv6 Neighbor Discovery     January 2003


Author's Address

   Fred L. Templin
   Nokia
   313 Fairchild Drive
   Mountain View, CA  94110
   US

   Phone: +1 650 625 2331
   EMail: ftemplin@iprg.nokia.com









































Templin                  Expires August 1, 2003                 [Page 4]

Internet-Draft    MTU Issues in IPv6 Neighbor Discovery     January 2003


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Templin                  Expires August 1, 2003                 [Page 5]

Internet-Draft    MTU Issues in IPv6 Neighbor Discovery     January 2003


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Templin                  Expires August 1, 2003                 [Page 6]


