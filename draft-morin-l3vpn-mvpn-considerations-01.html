<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Considerations about
    Multicast for BGP/MPLS VPN Standardization</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Considerations about
    Multicast for BGP/MPLS VPN Standardization">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">T. Morin, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">France Telecom R&amp;D</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">B. Niven-Jenkins, Ed.</td></tr>
<tr><td class="header">Expires: April 11, 2008</td><td class="header">BT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Y. Kamite</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">NTT Communications</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Zhang</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">BT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">N. Leymann</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Deutsche Telekom</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 09, 2007</td></tr>
</table></td></tr></table>
<h1><br />Considerations about
    Multicast for BGP/MPLS VPN Standardization<br />draft-morin-l3vpn-mvpn-considerations-01</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 11, 2008.</p>

<h3>Abstract</h3>

<p>The current proposal for multicast in BGP/MPLS includes multiple
      alternative mechanisms for some of the required building blocks of the
      solution. The aim of this document is to leverage previously documented
      requirements to identify the key elements and help move forward solution
      design, toward the definition of a standard having a well defined set of
      mandatory procedures. The different proposed alternative mechanisms are
      examined in the light of requirements identified for multicast in
      L3VPNs, and suggestions are made about which of these mechanisms
      standardization should favor. Issues related to existing deployments of
      early implementations are also addressed.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate           Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology<br />
<a href="#anchor3">3.</a>&nbsp;
Examining alternatives mechanisms for MVPN functions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
MVPN auto-discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
S-PMSI Signaling<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.3.</a>&nbsp;
PE-PE Transmission of C-Multicast Routing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.4.</a>&nbsp;
Encapsulation techniques for P-multicast trees<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.5.</a>&nbsp;
Inter-AS deployments options<br />
<a href="#anchor9">4.</a>&nbsp;
Co-located RPs<br />
<a href="#anchor10">5.</a>&nbsp;
Existing deployments<br />
<a href="#anchor11">6.</a>&nbsp;
Summary of recommendations<br />
<a href="#IANA">7.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">8.</a>&nbsp;
Security Considerations<br />
<a href="#Acknowledgements">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The current proposal for <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>multicast in BGP/MPLS<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]
      includes multiple alternative mechanisms for some of the required
      building blocks of the solution. However, it does not identify the core
      set of mechanisms which must be implemented in order to ensure
      interoperability. This may lead to a situation where implementations may
      support different subsets of the available optional mechanisms leading
      to implementations that do not interoperate.
</p>
<p>The aim of this document is to leverage the already expressed <a class='info' href='#RFC4834'>requirements<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] to identify the mechanisms that the
      authors believe are good candidates for being part of a core set of
      mandatory mechanisms which can be used to provide a base for
      interoperable solutions.
</p>
<p>This document will go through the different building blocks of the
      solution and provide the authors' recommendations as to which mechanisms
      the authors' favor for each building block, while considering the
      requirements already defined and the goal of a fully-interoperable
      standard.
</p>
<p>Considering the history of the multicast VPN proposals and
      implementations, the authors also consider it useful to discuss how
      existing deployments of early implementations <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a><a class='info' href='#I-D.raggarwa-l3vpn-2547-mvpn'>[I&#8209;D.raggarwa&#8209;l3vpn&#8209;2547&#8209;mvpn]<span> (</span><span class='info'>Aggarwal, R., &ldquo;Base Specification for Multicast in BGP/MPLS VPNs,&rdquo; June&nbsp;2004.</span><span>)</span></a> can fit in the picture,
      and provide suggestions in this respect.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>Please refer to <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a>
      and <a class='info' href='#RFC4834'>[RFC4834]<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Examining alternatives mechanisms for MVPN functions</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
MVPN auto-discovery</h3>

<p><a class='info' href='#RFC4834'>Section 5.2.10 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states "The
        operation of a multicast VPN solution SHALL be as light as possible
        and providing automatic configuration and discovery SHOULD be a
        priority when designing a multicast VPN solution. Particularly the
        operational burden of setting up multicast on a PE or for a VR/VRF
        SHOULD be as low as possible".
</p>
<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>The current solution
        document<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] addresses this requirement by proposing two different
        mechanisms for MVPN auto-discovery:
</p>
<p></p>
<ol class="text">
<li>BGP-based auto-discovery (described in section 4).
</li>
<li>Discovery using PIM running on a MI-PMSI implemented with a
            shared tree using multicast ASM, or MP2MP LDP with the same common
            tree identifier configured in all VRFs of an MVPN.
</li>
</ol><p>It is the recommendation of the authors that BGP-based
        auto-discovery is the preferred solution for auto-discovery and should
        be supported by all implementations while PIM/shared-tree based
        auto-discovery should be optionally considered for migration purpose
        only.
</p>
<p>Part of the rationale for this recommendation is also based on
        <a class='info' href='#RFC4834'>section 5.2.10 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] which states "as far
        as possible, the design of a solution SHOULD carefully consider the
        number of protocols within the core network: if any additional
        protocols are introduced compared with the unicast VPN service, the
        balance between their advantage and operational burden SHOULD be
        examined thoroughly".
</p>
<p>BGP is the auto-discovery protocol used in unicast (RFC4364) VPNs
        and therefore the use of BGP-based auto-discovery within multicast
        VPNs avoids the introduction of an additional auto-discovery protocol
        that would require additional OAM processes and tools. Service
        providers with deployed unicast (RFC4364) VPNs already have extensive
        deployment and operations experience of using BGP as an auto-discovery
        protocol including OAM processes and tools. Such processes and tools
        will require modifications in order to support multicast
        auto-discovery but those modifications are anticipated to be less than
        those required to develop new processes and tools for a specific
        auto-discovery protocol. Additionally, BGP supports MD5 authentication
        of its peers for additional security. In contrast, there are no
        obvious authentication mechanisms to secure PIM communications in any
        known implementation.
</p>
<p>Furthermore, PIM based discovery is only applicable to deployments
        using a shared tree on an MI-PMSI, whereas BGP-based auto-discovery
        does not place any restrictions on the type of multicast trees that
        can be used. BGP-based auto-discovery is independent of the type of
        P-multicast tree used thus satisfying the requirement in <a class='info' href='#RFC4834'>section 5.2.4.1 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] that "a multicast VPN
        solution SHOULD be designed so that control and forwarding planes are
        not interdependent". Additionally, it is to be noted that a number of
        service providers have chosen to use SSM-based trees for the default
        MDTs within their current deployments, therefore relying already on
        BGP-based auto-discovery.
</p>
<p>When shared trees are used, the use of BGP auto-discovery would
        allow inconsistencies in the addresses/identifiers used for the shared
        trees to be detected (e.g. the same shared tree identifier being used
        for different VPNs with distinct BGP route targets). This is
        particularly attractive in the context of inter-AS VPNs where the
        impact of any misconfiguration could be magnified and where a single
        service provider may not operate all the ASs.
</p>
<p>The authors note that, in order to support the coexistence of both
        protocols (for example during migration scenarios), implementations
        could support both alternatives by providing a per-VRF configuration
        knob that would allow recognizing new PIM neighbors based on the
        reception of PIM hellos on a shared P-multicast tree, even for
        neighbors that did not advertise a BGP auto-discovery route.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
S-PMSI Signaling</h3>

<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>The current solution
        document<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] proposes two mechanisms for S-PMSI Signaling:
</p>
<p></p>
<ol class="text">
<li>A new UDP-based TLV protocol specifically for S-PMSI signaling
            (described in section 7.2.1).
</li>
<li>A BGP-based mechanism for S-PMSI signaling (described in
            section 7.2.2).
</li>
</ol>

<p>It is the recommendation of the authors that BGP is the preferred
        solution for S-PMSI signaling and should be supported by all
        implementations while the UDP-based S-PMSI signaling protocol should
        be considered optional.
</p>
<p>Part of the rationale for this recommendation is similar to that
        for BGP-based auto-discovery and is based on <a class='info' href='#RFC4834'>section 5.2.10 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] and the desire to avoid
        introducing and deploying additional protocols unless strictly
        necessary.
</p>
<p>Furthermore:
</p>
<p></p>
<ul class="text">
<li>The BGP-based S-PMSI signaling mechanism can be used within
            MVPNs using either a UI-PMSI or a MI-PMSI while the UDP-based
            protocol is restricted to use within MVPNs using an MI-PMSI.
</li>
<li>The BGP-based S-PMSI signaling mechanism can be efficiently
            used in an inter-AS option B deployment context while the use of
            the UDP-based protocol does not preserve AS routing independence
            when used in an inter-AS option B context (i.e. the decision by a
            PE in an AS to use an S-PMSI for a given customer flow will impact
            routing state in other ASes). Co-existence with unicast inter-AS
            VPN options is strongly encouraged by <a class='info' href='#RFC4834'>section 5.2.6 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834].
</li>
<li>The BGP-based S-PMSI signaling supports all the functionality
            and all the operational contexts that are supported by UDP-based
            protocol (and more).
</li>
<li>BGP supports MD5 authentication of its peers for additional
            security. In contrast, there are no obvious authentication
            mechanisms to secure PIM communications in any known
            implementation.
</li>
</ul>

<p>Therefore, it is the opinion of the authors that BGP is the
        preferred solution for performing S-PMSI signaling.
</p>
<p>However, the authors recognize that the UDP-based protocol has been
        in deployment for some time and would recommend that implementations
        supporting both protocols optionally provide a per-VRF configuration
        knob to allow an implementation to use the UDP-based TLV protocol for
        S-PMSI signaling for specific VRFs in order to support the coexistence
        of both protocols (for example during migration scenarios).
</p>
<p>Apart from such migration-facilitating mechanisms, the authors
        specifically do not recommend extending the already proposed UDP-based
        TLV protocol to new types of P-multicast trees.
</p>
<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>Section 7.2.2.3
        of<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] proposes two approaches for how a source PE can decide when
        to start transmitting customer multicast traffic on a S-PMSI:
</p>
<p></p>
<ol class="text">
<li>The source PE sends multicast packets for the &lt;C-S, C-G&gt;
            on both the I-PMSI P-multicast tree and the S-PMSI P-multicast
            tree simultaneously for a pre-configured period of time, letting
            the receiver PEs select the new tree for reception, before
            switching to only the S-PMSI.
</li>
<li>The source PE waits for a pre-configured period of time after
            advertising the &lt;C-S, C-G&gt; entry bound to the S-PMSI before
            fully switching the traffic onto the S-PMSI-bound P-multicast
            tree.
</li>
</ol><p>The first alternative has essentially two drawbacks:</p>
<ul class="text">
<li>&lt;C-S,C-G&gt; traffic is sent twice for some period of time,
            which would appear to be at odds with the motivation for switching
            to an S-PMSI in order to optimize the bandwidth used by the
            multicast tree for that stream.
</li>
<li>It is unlikely that the switchover can occur without packet
            loss or duplication if the transit delays of the I-PMSI
            P-multicast tree and the S-PMSI P-multicast tree differ.
</li>
</ul>

<p>By contrast, the second alternative has none of these drawbacks,
        and satisfy the requirement in <a class='info' href='#RFC4834'>section 5.1.3
        of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834], which states that "[...] a multicast VPN solution SHOULD as
        much as possible ensure that client multicast traffic packets are
        neither lost nor duplicated, even when changes occur in the way a
        client multicast data stream is carried over the provider network".
        The second alternative also happen to be the one used in existing
        deployments.
</p>
<p>For these reasons, it is the authors' recommendation to mandate the
        implementation of the second alternative for switching to S-PMSI.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
PE-PE Transmission of C-Multicast Routing</h3>

<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>The current solution
        document<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] proposes multiple mechanisms for PE-PE transmission of
        customer multicast routing information:
</p>
<p></p>
<ol class="text">
<li>Full per-MVPN PIM peering across an MI-PMSI (described in
            section 5.2.1).
</li>
<li>Lightweight PIM peering across an MI-PMSI (described in section
            5.2.2)
</li>
<li>The unicasting of PIM C-Join/Prune messages (described in
            section 5.2.3)
</li>
<li>The use of BGP for carrying C-Multicast routing (described in
            section 5.3).
</li>
</ol>

<p>The first mechanism (full per-MVPN PIM peering across an MI-PMSI)
        is the mechanism used by <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a>
        and therefore it is deployed and operating in MVPNs today. The authors
        recognize that because full per-MVPN PIM peering has been in
        deployment for some time support for this mechanism may be required
        for backwards compatibility and in order to facilitate migration
        towards alternative PE-PE protocols.
</p>
<p><a class='info' href='#RFC4834'>Section 4.2.4 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] recommends that "a
        multicast VPN solution SHOULD support several hundreds of PEs per
        multicast VPN, and MAY usefully scale up to thousands" and section
        4.2.5 states that "a solution SHOULD scale up to thousands of PEs
        having multicast service enabled".
</p>
<p>At those scales of multicast deployment within a large VPN, the
        first and third mechanisms require PEs to maintain a large number of
        PIM adjacencies with other PEs within the same MVPN and to regularly
        exchange PIM hellos with each other and refresh C-Join/Prune
        state.
</p>
<p>The third mechanism would reduce the amount of C-Join/Prune
        processing by PEs when they are not the upstream neighbor for a given
        multicast flow, but would :
</p>
<p></p>
<blockquote class="text"><dl>
<dt>a.</dt>
<dd>require explicit tracking related state to be maintained by PEs
            when they are the upstream PE for a said customer flow, and
</dd>
<dt>b.</dt>
<dd>require refresh reduction mechanisms to be used to be
            applicable.
</dd>
</dl></blockquote><p>The second mechanism (lightweight PIM peering across an
        MI-PMSI) would operate in a similar manner to full per-MVPN PIM
        peering except that PIM hellos are not transmitted and PIM
        C-Join/Prune refresh reduction would be used, thereby improving
        scalability.
</p>
<p>The fourth mechanism (the use of BGP for carrying C-Multicast
        routing) has to solve roughly the same intrinsic scalability related
        difficulties as the other three mechanisms, but because it is based on
        TCP it has no refresh-related scalability limit, and inherits some BGP
        features that are expected to improve scalability through, for
        instance, providing a means to offload some of the processing burden
        associated with client multicast routing onto BGP route
        reflectors.
</p>
<p>Furthermore, co-existence with unicast inter-AS VPN options, and an
        equal level of security for multicast and unicast including in an
        inter-AS context, are specifically mentioned in <a class='info' href='#RFC4834'>sections 5.2.6, 5.2.8 and 5.2.12 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834]. The first
        three mechanisms impose direct PE to PE communications which means
        that they do not apply well to an inter-AS option B context, because
        of security and robustness issues that are involved by such a level of
        reachability and interaction between PEs in different ASes. Their use
        in an inter-AS context is possible, but not without limitations or
        additional engineering design trade-offs depending upon the
        interconnect types. By comparison, the fourth option (the use of BGP
        for carrying C-Multicast routing) does not have any of the above
        limitations related to inter-AS deployments, and also provides an
        additional alternative to facilitate such deployments through the
        possibility of using segmented inter-AS trees.
</p>
<p>Moreover, mechanisms one and two are restricted to use within MVPNs
        using an MI-PMSI, thereby necessitating:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>a.</dt>
<dd>The use of a P-multicast tree technique that allows shared
            trees (for example PIM-SM in ASM mode or MP2MP LDP).
</dd>
<dt>b.</dt>
<dd>The use of one P-multicast tree per PE per VPN, even for PEs
            that do not have sources in their directly attached sites for that
            VPN.
</dd>
</dl></blockquote><p>By comparison, the fourth mechanism doesn't impose either of
        these restrictions.
</p>
<p>Additionally, the fourth mechanism (the use of BGP for carrying
        C-Multicast routing) would appear to fit well with the current unicast
        architecture as BGP is the customer routing distribution protocol used
        in unicast VPNs and therefore using BGP for customer routing
        distribution within multicast VPNs avoids the introduction of an
        additional protocol that would require additional OAM processes and
        tools. Service provider's with deployed unicast (RFC4364) VPNs already
        have extensive deployment and operations experience of using BGP as a
        customer routing distribution protocol including OAM processes and
        tools. Such processes and tools will require modification in order to
        support customer multicast routing but those modifications are
        anticipated to be less than those required to develop new processes
        and tools for a distinct customer routing protocol. It should be noted
        that because PIM will be used as the CE-PE customer routing
        distribution protocol, service providers will still need OAM processes
        and tools in order to manage the PIM protocol, so this rationale only
        applies to a subset of the tools and processes already in place.
        Additionally, BGP supports MD5 authentication of its peers for
        additional security. In contrast, there are no obvious authentication
        mechanisms to secure PIM communications in any known
        implementation.
</p>
<p>An illustrative example of the benefit brought by consistency with
        unicast design is how the "extranet" feature can be implemented : when
        BGP-based mechanisms are used, the well defined and well understood
        BGP route target import/export semantics are just reused. By contrast,
        it is not specified how implementing the same feature would be done in
        the context of other alternative mechanism, and unclear if this is
        possible without significant engineering trade-offs. Note that the
        support for such a feature is stated as a MUST in <a class='info' href='#RFC4834'>sections 5.1.6 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834].
</p>
<p><a class='info' href='#RFC4834'>Section 5.2.10 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states that "as
        far as possible, the design of a solution SHOULD carefully consider
        the number of protocols within the core network: if any additional
        protocols are introduced compared with the unicast VPN service, the
        balance between their advantage and operational burden SHOULD be
        examined thoroughly". Considering that the recommendation of the
        authors would be BGP for auto-discovery and S-PMSI signalling, the
        choice of BGP for customer multicast routing would be consistent with
        the protocol choice for unicast VPNs and would adequately address this
        requirement.
</p>
<p>BGP-based customer multicast routing clearly presents some
        advantages over the PIM-based alternatives. However it has yet to be
        deployed within an operational MVPN, and service providers currently
        lack experience of its implementation. By contrast, experience proves
        that PIM-based mechanisms are operationally viable, but with well
        identified limitations. Some of those limitations may be improved upon
        (although there is currently no clearly defined proposal to do this),
        however some of the limitations appear to be intrinsic to the
        approach.
</p>
<p>Moreover to improve the clarity of the proposed specifications,
        considering that neither hello suppression nor refresh reduction
        procedures are currently specified or documented and that it is not
        clear what the impact to the PIM state machine of these additional
        procedures may be, the authors recommend that the proposals for
        lightweight PIM peering across an MI-PMSI (the second mechanism) and
        for the unicasting of PIM C-Join/Prune messages (the third mechanism)
        be removed from <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>the
        current solution document<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast] until the additional PIM hello and
        refresh reduction procedures have been well specified and both their
        impact and benefit on an MPVN deployment is understood.
</p>
<p>Consequently, at the present time and until there is experience
        with all of the proposed mechanisms it is not clear which of the above
        mechanisms should be recommended as the preferred solution to
        implementers. However, it would appear prudent for implementations to
        consider supporting both the fourth (BGP-based) and first (full
        per-MPVN PIM peering) mechanisms. Further experience on both
        implementation is likely to be required before some best practice can
        be defined.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Encapsulation techniques for P-multicast trees</h3>

<p>In this section the authors will not make any restricting
        recommendations as the appropriateness of a specific core (P) data
        plane technology will depend on a large number of factors, for example
        the service provider's currently deployed unicast data plane, many of
        which are service provider specific.
</p>
<p>However, implementations should not unreasonably restrict the data
        plane technology that can be used, and should not force the use of the
        same technology for different VPNs attached to a single PE. Initial
        implementations may only support a reduced set of encapsulation
        techniques and data plane technologies but this should not be
        considered a limiting factor that hinders future support for other
        encapsulation techniques, data plane technologies or
        interoperability.
</p>
<p><a class='info' href='#RFC4834'>Section 5.2.4.1 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states "In a
        multicast VPN solution extending a unicast L3 PPVPN solution,
        consistency in the tunneling technology has to be favored: such a
        solution SHOULD allow the use of the same tunneling technology for
        multicast as for unicast. Deployment consistency, ease of operation
        and potential migrations are the main motivations behind this
        requirement."
</p>
<p>Current unicast VPN deployments use a variety of LDP, RSVP-TE and
        GRE/IP for encapsulating customer packets for transport across the
        provider core of VPN services. It is recommended that implementations
        support the three corresponding multicast tree encapsulations
        techniques, namely: mLDP, P2MP RSVP-TE and GRE/IP multicast in order
        to allow the same encapsulations to be used for unicast and multicast
        traffic as well as facilitating migration from <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a> to an MPLS label based
        encapsulation.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Inter-AS deployments options</h3>

<p>There are a number of scenarios that lead to the requirement for
        inter-AS multicast VPNs, including:</p>
<ol class="text">
<li>A service provider may have a large network that they have
            segmented into a number of ASs.
</li>
<li>A service provider's multicast VPN may consist of a number of
            ASs due to aquisitions and mergers with other service
            providers.
</li>
<li>A service provider may wish to interconnect their multicast VPN
            platform with that of another service provider.
</li>
</ol><p>The first scenario can be considered the "simplest" because
        the network is wholly managed by a single service provider under a
        single strategy and is therefore likely to use a consistent set of
        technologies across each AS.
</p>
<p>The second scenario may be more complex than the first because the
        strategy and technology choices made for each AS may have been
        different due to their differing history and the service provider may
        not have (or may be unwilling to) unified the strategy and technology
        choices for each AS.
</p>
<p>The third scenario is the most complex because in addition to the
        complexity of the second scenario, the ASs are managed by different
        service providers and therefore may be subject to a different trust
        model than the other scenarios.
</p>
<p><a class='info' href='#RFC4834'>Section 5.2.6 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states "A solution
        MUST support inter-AS multicast VPNs, and SHOULD support
        inter-provider multicast VPNs. Considerations about coexistence with
        unicast inter-AS VPN Options A, B and C (as described in section 10 of
        [RFC4364]) are strongly encouraged." and "A multicast VPN solution
        SHOULD provide inter-AS mechanisms requiring the least possible
        coordination between providers, and keep the need for detailed
        knowledge of providers' networks to a minimum - all this being in
        comparison with corresponding unicast VPN options."
</p>
<p><a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>Section 8 of<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> [I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]
        addresses these requirements by proposing two approaches for mVPN
        inter-AS deployments:
</p>
<p></p>
<ol class="text">
<li>Segmented inter-AS tunnels where each AS constructs its own
            separate multicast tunnels which are then 'stitched' together by
            the ASBRs (described in section 8.2).
</li>
<li>Non-segmented inter-AS tunnels where the multicast tunnels are
            end-to-end across ASes, so even though the PEs belonging to a
            given MVPN may be in different ASs the ASBRs play no special role
            and function merely as P routers (described in section 8.1).
</li>
</ol>

<p><a class='info' href='#RFC4834'>Section 5.2.6 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] also states "Within
        each service provider the service provider SHOULD be able on its own
        to pick the most appropriate tunneling mechanism to carry (multicast)
        traffic among PEs (just like what is done today for unicast)".
        Segmented inter-AS tunnels is the only solution that is capable of
        meeting this requirement.
</p>
<p>The segmented inter-AS solution would appear to offer the largest
        degree of deployment flexibility to operators, however the
        non-segmented inter-AS solution can simplify deployment in a
        restricted number of scenarios and <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a> only supports the non-segmented
        inter-AS solution and therefore the non-segmented inter-AS solution is
        likely to be required by some operators for backward compatibility and
        during migration from <a class='info' href='#I-D.rosen-vpn-mcast'>[I&#8209;D.rosen&#8209;vpn&#8209;mcast]<span> (</span><span class='info'>Rosen, E., &ldquo;Multicast in MPLS/BGP VPNs,&rdquo; December&nbsp;2004.</span><span>)</span></a> to
        <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a>.
</p>
<p>The applicability of segmented or non-segmented inter-AS tunnels to
        a given deployment or inter-provider interconnect will depend on a
        number of factors specific to each service provider. However, due to
        the additional deployment flexibility offered by segmented inter-AS
        tunnels, it is the recommendation of the authors that all
        implementations should support the segmented inter-AS model.
        Additionally, the authors recommend that implementations should
        consider supporting the non-segmented inter-AS model in order to
        facilitate co-existence with existing deployments, and as a feature to
        provide a lighter engineering in a restricted set of scenarios,
        although it is recognised that initial implementations may only
        support one or the other.
</p>
<p>
</p>
<p>
</p>
<p>Additionally, the authors note that the proposed BGP-based
        approaches for S-PMSI signaling and C-multicast routing information
        distribution provide a good fit with both segmented and non-segmented
        inter-AS tunnels. In contrast the UDP-TLV based approach for S-PMSI
        signaling appears to be incompatible with segmented inter-AS tunnels,
        and it is unclear if the proposed PIM-based approaches for C-multicast
        routing information distribution would be fully applicable to
        segmented inter-AS tunnels.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Co-located RPs</h3>

<p><a class='info' href='#RFC4834'>Section 5.1.10.1 of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] states "In the case
      of PIM-SM in ASM mode, engineering of the RP function requires the
      deployment of specific protocols and associated configurations. A
      service provider may offer to manage customers' multicast protocol
      operation on their behalf. This implies that it is necessary to consider
      cases where a customer's RPs are outsourced (e.g., on PEs).
      Consequently, a VPN solution MAY support the hosting of the RP function
      in a VR or VRF."
</p>
<p>Co-locating a customer's RP on a PE can provide some benefits to the
      customer as outlined in <a class='info' href='#RFC4834'>section 5.1.10.3
      of<span> (</span><span class='info'>Morin, T., &ldquo;Requirements for Multicast in L3 Provider-Provisioned Virtual           Private Networks (PPVPNs),&rdquo; April&nbsp;2007.</span><span>)</span></a> [RFC4834] which states "In the case of PIM-SM, when a source starts to
      emit traffic toward a group (in ASM mode), if sources and receivers are
      located in VPN sites that are different than that of the RP, then
      traffic may transiently flow twice through the SP network and the CE-PE
      link of the RP (from source to RP, and then from RP to receivers). This
      traffic peak, even short, may not be convenient depending on the traffic
      and link bandwidth.
</p>
<p>However, customers who have already deployed multicast within their
      networks and have therefore already deployed their own internal RPs are
      often reluctant to hand over the control of their RPs to their service
      provider and make use of a co-located RP model.
</p>
<p>Also, providing colocating the RP on PE will require the activation
      of MSDP or the processing of PIM Registers on the PE. Securing the PE
      routers for such acitivity requires special care, additional work, and
      will likely rely on specific features to be provided by the routers
      themselves.
</p>
<p>The applicability of the co-located RP model to a given MVPN will
      thus depend on a number of factors specific to each customer and service
      provider. It is therefore the recommendation of the authors that
      implementations should support a co-located RP model, but that support
      for a co-located RP model within an implementation should not restrict
      deployments to using a co-located RP model, and implementations should
      also support deployments when no RP is co-located on a PE router and
      where all RPs are deployed within the customers' networks.
</p>
<p>
</p>
<p>
</p>
<p>
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Existing deployments</h3>

<p>Some suggestions provided in this document can be used to
      incrementally modify currently deployed implementations without
      hindering these deployments, and without hindering the consistency of
      the standardized solution by providing optional per-VRF configuration
      knobs to support modes of operation compatible with currently deployed
      implementations, while at the same time using the recommended approach
      on implementations supporting the standard.
</p>
<p>In cases where this may not be easily achieved, a recommended
      approach would be to provide a per-VRF configuration knob that allows
      incremental per-VPN migration of the mechanisms used by a PE device,
      which would allow migration with some per-VPN interruption of service
      (e.g. during a maintenance window).
</p>
<p>Mechanisms allowing "live" migration by providing concurrent use of
      multiple alternatives for a given PE and a given VPN, is not seen as a
      priority considering the expected implementation complexity associated
      with such mechanisms. However, if there happen to be cases where they
      could be viably implemented relatively simply, such mechanisms may help
      improve migration management.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Summary of recommendations</h3>

<p>The following list summarizes the authors' recommendations. These
      recommendations are not intended to prevent the implementation of
      alternative solutions, rather they are the authors' recommendations for
      the mechanisms that should be made mandatory in <a class='info' href='#I-D.ietf-l3vpn-2547bis-mcast'>[I&#8209;D.ietf&#8209;l3vpn&#8209;2547bis&#8209;mcast]<span> (</span><span class='info'>Rosen, E. and R. Aggarwal, &ldquo;Multicast in MPLS/BGP IP VPNs,&rdquo; October&nbsp;2006.</span><span>)</span></a> and therefore be supported
      by all implementations.
</p>
<p>It is the authors' recommendation:
</p>
<p></p>
<ul class="text">
<li>that BGP-based auto-discovery be the mandated solution for
          auto-discovery;
</li>
<li>that BGP be the mandated solution for S-PMSI signaling;
</li>
<li>that the mandated solution for S-PMSI switch-over be the
          mechanism based on the source-connected PE switching traffic from
          the I-PMSI tunnel to the S-PMSI tunnel, without transmitting traffic
          on both at the time;
</li>
<li>that implementations support both the BGP-based and the full
          per-MPVN PIM peering solutions for PE-PE transmission of customer
          multicast routing until further operational experience is gained
          with both solutions;
</li>
<li>that implementations support the following multicast tree
          encapsulations: mLDP, P2MP RSVP-TE and GRE/IP;
</li>
<li>that implementations support segmented inter-AS tunnels and
          consider supporting non-segmented inter-AS tunnels[[in order to
          maintain backwards compatibility and for migration]].
</li>
<li>that implementations support a co-located RP model, but that
          implementations should not restrict deployments to having to use a
          co-located RP model.
</li>
</ul>

<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of IANA.
</p>
<p>Note to RFC Editor: this section may be removed on publication as an
      RFC.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>This document does not by itself raise any particular security
      considerations.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>[To be completed]
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-l3vpn-2547bis-mcast">[I-D.ietf-l3vpn-2547bis-mcast]</a></td>
<td class="author-text">Rosen, E. and R. Aggarwal, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-2547bis-mcast-03.txt">Multicast in MPLS/BGP IP VPNs</a>,&rdquo; draft-ietf-l3vpn-2547bis-mcast-03 (work in progress), October&nbsp;2006 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-l3vpn-2547bis-mcast-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.raggarwa-l3vpn-2547-mvpn">[I-D.raggarwa-l3vpn-2547-mvpn]</a></td>
<td class="author-text">Aggarwal, R., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-raggarwa-l3vpn-2547-mvpn-00.txt">Base Specification for Multicast in BGP/MPLS VPNs</a>,&rdquo; draft-raggarwa-l3vpn-2547-mvpn-00 (work in progress), June&nbsp;2004 (<a href="http://www.ietf.org/internet-drafts/draft-raggarwa-l3vpn-2547-mvpn-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.rosen-vpn-mcast">[I-D.rosen-vpn-mcast]</a></td>
<td class="author-text">Rosen, E., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-rosen-vpn-mcast-08.txt">Multicast in MPLS/BGP VPNs</a>,&rdquo; draft-rosen-vpn-mcast-08 (work in progress), December&nbsp;2004 (<a href="http://www.ietf.org/internet-drafts/draft-rosen-vpn-mcast-08.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate
          Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="ftp://ftp.isi.edu/in-notes/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4834">[RFC4834]</a></td>
<td class="author-text">Morin, T., &ldquo;<a href="http://tools.ietf.org/html/rfc4834">Requirements for Multicast in L3 Provider-Provisioned Virtual
          Private Networks (PPVPNs)</a>,&rdquo; RFC&nbsp;4834, April&nbsp;2007 (<a href="http://www.ietf.org/rfc/rfc4834.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Thomas Morin (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France Telecom R&amp;D</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2 rue Pierre Marzin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Lannion  22307</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:thomas.morin@orange-ftgroup.com">thomas.morin@orange-ftgroup.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ben Niven-Jenkins (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">BT</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">208 Callisto House, Adastral Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ipswich, Suffolk  IP5 3RE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:benjamin.niven-jenkins@bt.com">benjamin.niven-jenkins@bt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yuji Kamite</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NTT Communications
      Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tokyo Opera City Tower</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3-20-2 Nishi Shinjuku, Shinjuku-ku</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tokyo  163-1421</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:y.kamite@ntt.com">y.kamite@ntt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Raymond Zhang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">BT</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2160 E. Grand Ave.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">El Segundo  CA 90025</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:raymond.zhang@bt.com">raymond.zhang@bt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nicolai Leymann</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Deutsche Telekom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Goslarer Ufer 35</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">10589 Berlin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:nicolai.leymann@t-systems.com">nicolai.leymann@t-systems.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2007).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
