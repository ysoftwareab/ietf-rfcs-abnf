<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Layer-3 Neighbor Discovery</title>
<meta content="Randy Bush" name="author">
<meta content="Russ Housley" name="author">
<meta content="Rob Austein" name="author">
<meta content="Susan Hares" name="author">
<meta content="Keyur Patel" name="author">
<meta content="
       Data Centers where the topology is BGP-based need to discover
    neighbor IP addressing, IP Layer-3 BGP neighbors, etc.  This Layer-3
    Neighbor Discovery protocol identifies BGP neighbor candidates. 
    " name="description">
<meta content="xml2rfc 3.12.2" name="generator">
<meta content="draft-ymbk-idr-l3nd-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.2
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ymbk-idr-l3nd-hggcc2g5.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Layer-3 Neighbor Discovery</td>
<td class="right">February 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bush, et al.</td>
<td class="center">Expires 21 August 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ymbk-idr-l3nd-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-02-17" class="published">17 February 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-08-21">21 August 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Bush</div>
<div class="org">Arrcus &amp; Internet Initiative Japan</div>
</div>
<div class="author">
      <div class="author-name">R. Housley</div>
<div class="org">Vigil Security</div>
</div>
<div class="author">
      <div class="author-name">R. Austein</div>
<div class="org">Arrcus</div>
</div>
<div class="author">
      <div class="author-name">S. Hares</div>
<div class="org">Hickory Hill Consulting</div>
</div>
<div class="author">
      <div class="author-name">K. Patel</div>
<div class="org">Arrcus</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Layer-3 Neighbor Discovery</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Data Centers where the topology is BGP-based need to discover
    neighbor IP addressing, IP Layer-3 BGP neighbors, etc.  This Layer-3
    Neighbor Discovery protocol identifies BGP neighbor candidates.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
    "OPTIONAL" in this  document are to be interpreted as described in
    BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when,
    and only when, they appear in all capitals, as shown here.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 21 August 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-background" class="xref">Background</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-inter-link-protocol-overvie" class="xref">Inter-Link Protocol Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-l3nd-ladder-diagram" class="xref">L3ND Ladder Diagram</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-tlv-pdus" class="xref">TLV PDUs</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-hello" class="xref">HELLO</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-tcp-set-up" class="xref">TCP Set-Up</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-open" class="xref">OPEN</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-ack" class="xref">ACK</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-retransmission" class="xref">Retransmission</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-the-encapsulations" class="xref">The Encapsulations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-the-encapsulation-pdu-skele" class="xref">The Encapsulation PDU Skeleton</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-encapsulaion-flags" class="xref">Encapsulaion Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-ipv4-encapsulation" class="xref">IPv4 Encapsulation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="xref">10.4</a>.  <a href="#name-ipv6-encapsulation" class="xref">IPv6 Encapsulation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="xref">10.5</a>.  <a href="#name-mpls-label-list" class="xref">MPLS Label List</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="xref">10.6</a>.  <a href="#name-mpls-ipv4-encapsulation" class="xref">MPLS IPv4 Encapsulation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="xref">10.7</a>.  <a href="#name-mpls-ipv6-encapsulation" class="xref">MPLS IPv6 Encapsulation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-vendor-vendor-extensions" class="xref">VENDOR - Vendor Extensions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-discussion" class="xref">Discussion</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-hello-discussion" class="xref">HELLO Discussion</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-vlans-svis-sub-interfaces" class="xref">VLANs/SVIs/Sub-interfaces</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-implementation-consideratio" class="xref">Implementation Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="xref">16</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.1">
                <p id="section-toc.1-1.16.2.1.1"><a href="#section-16.1" class="xref">16.1</a>.  <a href="#name-link-local-layer-3-addresse" class="xref">Link Local Layer-3 Addresses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.2">
                <p id="section-toc.1-1.16.2.2.1"><a href="#section-16.2" class="xref">16.2</a>.  <a href="#name-ports-for-tls-tcp" class="xref">Ports for TLS/TCP</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.3">
                <p id="section-toc.1-1.16.2.3.1"><a href="#section-16.3" class="xref">16.3</a>.  <a href="#name-pdu-types" class="xref">PDU Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.4">
                <p id="section-toc.1-1.16.2.4.1"><a href="#section-16.4" class="xref">16.4</a>.  <a href="#name-flag-bits" class="xref">Flag Bits</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.5">
                <p id="section-toc.1-1.16.2.5.1"><a href="#section-16.5" class="xref">16.5</a>.  <a href="#name-error-codes" class="xref">Error Codes</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-17" class="xref">17</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#section-18" class="xref">18</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18.2.1">
                <p id="section-toc.1-1.18.2.1.1"><a href="#section-18.1" class="xref">18.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18.2.2">
                <p id="section-toc.1-1.18.2.2.1"><a href="#section-18.2" class="xref">18.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19">
            <p id="section-toc.1-1.19.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Massive Data Center (MDC) environment presents unusual
    problems of scale, e.g. O(10,000) forwarding devices, while its
    homogeneity presents opportunities for simple approaches.  Layer-3
    Discovery and Liveness (L3DL), <span>[<a href="#I-D.ietf-lsvr-l3dl" class="xref">I-D.ietf-lsvr-l3dl</a>]</span>,
    provides neighbor discovery at Layer-2.  This document (set)
    provides a similar solution at Layer-3, attempting to be as similar
    as reasonable to L3DL.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Layer-3 Neighbor Discovery (L3ND) provides brutally simple
    mechanisms for neighboring devices to<a href="#section-1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-3.1">Discover each other's IP Addresses,<a href="#section-1-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-3.2">Discover mutually supported layer-3 encapsulations, e.g.
      IP/MPLS,<a href="#section-1-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-3.3">Discover Layer-3 IP and/or MPLS addressing of interfaces of the
      encapsulations,<a href="#section-1-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-3.4">Provide for authenticity and verification of protocol
      messages.<a href="#section-1-3.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-4">In this document, the use case for L3ND is for point to point
    links in a datacenter Clos (<span>[<a href="#Clos" class="xref">Clos</a>]</span>) in order to
    exchange the data needed for bootstrapping BGP-based peering, EVPNs,
    etc.  Once IP connectivity has been leveraged to get layer-3
    addressability and forwarding capabilities, normal IP forwarding and
    routing can take over.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">L3ND might be found to be widely applicable to a range of routing
    and similar protocols which need Layer-3 neighbor discovery.<a href="#section-1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">Even though it concentrates on the inter-device layer, this
    document relies heavily on routing terminology.  The following
    attempts to clarify the use of some possibly confusing terms:<a href="#section-2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-2">
        <dt id="section-2-2.1">Clos:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.2">A hierarchic subset of a crossbar switch
      topology commonly used in data centers <span>[<a href="#Clos" class="xref">Clos</a>]</span>.<a href="#section-2-2.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.3">Datagram:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.4">The L3ND content of a single Layer-3
      UDP Datagram.<a href="#section-2-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.5">Encapsulation:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.6">Address Family Indicator and
      Subsequent Address Family Indicator (AFI/SAFI).  I.e. classes of
      Layer-2.5 and Layer-3 addresses such as IPv4, IPv6, MPLS.<a href="#section-2-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.7">Link or Logical Link:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.8">A logical connection between
      two interfaces on two different devices.  E.g. two VLANs between
      the same two ports are two links.<a href="#section-2-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.9">MDC:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.10">Massive Data Center, commonly composed of
      thousands of Top of Rack Switches (TORs).<a href="#section-2-2.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.11">MTU:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.12">Maximum Transmission Unit, the size in octets
      of the largest packet that can be sent on a medium, see <span>[<a href="#RFC1122" class="xref">RFC1122</a>]</span> 1.3.3.<a href="#section-2-2.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.13">PDU:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.14">Protocol Data Unit, an L3ND application layer
      message.  A PDU's content may need to be broken into multiple
      Datagrams to make it through MTU or other restrictions.<a href="#section-2-2.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd><dt id="section-2-2.15">Session:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.16">An established, via exchange of OPEN PDUs,
      session between two L3ND capable IP interfaces on a link.<a href="#section-2-2.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.17">TOR Switch:</dt>
        <dd style="margin-left: 5.5em" id="section-2-2.18">Top Of Rack switch, aggregates the
      servers in a rack and connects to aggregation layers of the Clos
      tree, AKA the Clos spine.<a href="#section-2-2.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd></dl>
</section>
</div>
<div id="background">
<section id="section-3">
      <h2 id="name-background">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-background" class="section-name selfRef">Background</a>
      </h2>
<p id="section-3-1">L3ND is primarily designed for a Clos type datacenter scale and
    topology, but can accommodate richer topologies which contain
    potential cycles.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">While L3ND is designed for the MDC, there are no inherent reasons
    it could not run on a WAN.  The authentication and authorization
    needed to run safely on a WAN need to be considered, and the
    appropriate level of security options chosen.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The number of addresses of one Encapsulation type on an interface
    link may be quite large given a TOR switch with tens of servers,
    each server having a few hundred micro-services, resulting in an
    inordinate number of addresses.  And highly automated micro-service
    migration can cause serious address prefix disaggregation, resulting
    in interfaces with thousands of disaggregated prefixes.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">To meet such scaling needs, the L3ND protocol is session oriented
    and uses incremental announcement and withdrawal with session
    restart, a la BGP (<span>[<a href="#RFC4271" class="xref">RFC4271</a>]</span>).<a href="#section-3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ilpo">
<section id="section-4">
      <h2 id="name-inter-link-protocol-overvie">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-inter-link-protocol-overvie" class="section-name selfRef">Inter-Link Protocol Overview</a>
      </h2>
<p id="section-4-1">A device broadcasts a Layer-3 Multicast UDP datagram (HELLO)
    containing the port number that is willing to serve a TLS or raw
    TCP connection to support the data exchange of the rest of the
    protocol in a reliable and preferably authenticated manner.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Another device on the link then establishes a TLS or raw TCP
    session in which inter-device PDUs are used to exchange device and
    logical link identities and layer-2.5 (MPLS) and 3 identifiers
    (not payloads), e.g. more IP Addresses, loopback addresses, port
    identities, and Encapsulations.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">To assure discovery of new devices coming up on a multi-link
    topology, devices on such a topology, and only on a multi-link
    topology, send periodic HELLOs forever, see <a href="#dhello" class="xref">Section 12.1</a>.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">Given the TLS/TCP session, OPEN PDUs (<a href="#open" class="xref">Section 8</a>) are
    exchanged, the Encapsulations (<a href="#afisafi" class="xref">Section 10</a>) configured
    on an end point may be announced and modified.  Note that these are
    only the encapsulation and addresses configured on the announcing
    interface; though a device's loopback and overlay interface(s) may
    also be announced.<a href="#section-4-4" class="pilcrow">¶</a></p>
<div id="ladder">
<section id="section-4.1">
        <h3 id="name-l3nd-ladder-diagram">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-l3nd-ladder-diagram" class="section-name selfRef">L3ND Ladder Diagram</a>
        </h3>
<p id="section-4.1-1">The HELLO, <a href="#hello" class="xref">Section 6</a>, is a priming message sent on
      all logical links configured for L3ND.  It is a small L3ND
      Multicast UDP PDU with the simple goal of advertising a TLS/TCP
      service available on an advertised port on the sending IP
      interface.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The HELLO PDU is either IPv4 or IPv6, which selects the AFI to
      be used for the rest of the session(s) between end-points.  Two
      endpoints MAY establish a link for each AFI.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">An interface on the link receiving the HELLO PDU attempts to
      establish a TLS or raw TCP, as specified by the HELLO, session to
      the source IP address of the HELLO on the port advertised in the
      HELLO.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">The OPEN, <a href="#open" class="xref">Section 8</a> PDUs, used to exchange details
      about the L3ND session, and the ACK/ERROR PDU, are mandatory;
      other PDUs are optional; though at least one encapsulation SHOULD
      be agreed at some point.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">Like Multi-Protocol BGP, <span>[<a href="#RFC4760" class="xref">RFC4760</a>]</span>, an L3ND
      session running over one AFI MAY carry encapsulations etc. of
      different AFIs,<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">A L3DL extension, <span>[<a href="#I-D.ymbk-idr-l3nd-ulpc" class="xref">I-D.ymbk-idr-l3nd-ulpc</a>]</span>,
      describes the next upper layer L3DL protocol to exchange BGP
      parameter information.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">The following is a ladder-style diagram of the L3ND protocol
      exchanges:<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-8">
<pre>
|            HELLO            | Logical Link Peer discovery
|----------------------------&gt;|
|          TCP OPEN           | Mandatory
|&lt;----------------------------|
|                             |
|                             |
|            OPEN             | IDs, security, etc.
|----------------------------&gt;|
|            ACK              |
|&lt;----------------------------|
|                             |
|            OPEN             | Mandatory
|&lt;----------------------------|
|            ACK              |
|----------------------------&gt;|
|                             |
|                             |
|   Interface IPv4 Addresses  | Interface IPv4 Addresses
|----------------------------&gt;| Optional
|            ACK              |
|&lt;----------------------------|
|                             |
|   Interface IPv4 Addresses  |
|&lt;----------------------------|
|            ACK              |
|----------------------------&gt;|
|                             |
|                             |
|   Interface IPv6 Addresses  | Interface IPv6 Addresses
|----------------------------&gt;| Optional
|            ACK              |
|&lt;----------------------------|
|                             |
|   Interface IPv6 Addresses  |
|&lt;----------------------------|
|            ACK              |
|----------------------------&gt;|
|                             |
|                             |
|   Interface MPLSv4 Labels   | Interface MPLSv4 Labels
|----------------------------&gt;| Optional
|            ACK              |
|&lt;----------------------------|
|                             |
|   Interface MPLSv4 Labels   | Interface MPLSv4 Labels
|&lt;----------------------------| Optional
|            ACK              |
|----------------------------&gt;|
|                             |
|                             |
|   Interface MPLSv6 Labels   | Interface MPLSv6 Labels
|----------------------------&gt;| Optional
|            ACK              |
|&lt;----------------------------|
|                             |
|   Interface MPLSv6 Labels   | Interface MPLSv6 Labels
|&lt;----------------------------| Optional
|            ACK              |
|----------------------------&gt;|
</pre><a href="#section-4.1-8" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="tlv">
<section id="section-5">
      <h2 id="name-tlv-pdus">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-tlv-pdus" class="section-name selfRef">TLV PDUs</a>
      </h2>
<p id="section-5-1">The basic L3ND application layer PDU is a typical TLV (Type
    Length Value) PDU.  As it is transported over TCP, integrity is
    assured.  When it is transported over TLS, authenticity is also
    provided.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |    PDU Type   |         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |                               ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               ~
~                          Payload ...                          ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5-2" class="pilcrow">¶</a>
</div>
<p id="section-5-3">The fields of the basic L3ND header are as follows:<a href="#section-5-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5-4">
        <dt id="section-5-4.1">Version:</dt>
        <dd style="margin-left: 1.5em" id="section-5-4.2">An integer differentiating versions of the
      L3ND protocol.  Currently only Version 0 MAY BE specified.<a href="#section-5-4.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.3">PDU Type:</dt>
        <dd style="margin-left: 1.5em" id="section-5-4.4">An integer differentiating PDU payload
      types.  See <a href="#iana-types" class="xref">Section 16.3</a>.<a href="#section-5-4.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.5">Payload Length:</dt>
        <dd style="margin-left: 1.5em" id="section-5-4.6">Total number of octets in the
      Payload field.<a href="#section-5-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.7">Payload:</dt>
        <dd style="margin-left: 1.5em" id="section-5-4.8">The application layer content of the L3ND
      PDU.<a href="#section-5-4.8" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="hello">
<section id="section-6">
      <h2 id="name-hello">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-hello" class="section-name selfRef">HELLO</a>
      </h2>
<div class="alignLeft art-text artwork" id="section-6-1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |  PDU Type = 0 |      Payload Length = 24      ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |     Flags     |      Port     ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |
+-+-+-+-+-+-+-+-+

Flags (bit):
   0 - 0 Raw TCP, 1 TLS
   1 - 0 Self-Signed Cert for TLS, 1 CA-based
</pre><a href="#section-6-1" class="pilcrow">¶</a>
</div>
<p id="section-6-2">The Payload Length is 24 to cover the Flags and Port fields.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">The Port is the TCP Port Number (default is TBD3) on which the
    HELLO sender MUST have a waiting TLS/TCP (as specified in Flags)
    server listening.  Though the IANA assigned well-known port SHOULD
    be used, this field allows configuration of alternate ports.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">The IPv4 UDP packets are sent to the IPv4 link local multicast
    address (TBD1) and the IPv6 UDP packets are sent to an IPv6 link
    Local multicast address (TBD2).  See <a href="#dhello" class="xref">Section 12.1</a> for why
    multicast is used.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">The HELLO PDU solicits a unicast TLS/TCP open request(s) of the
    same AFI from other devices on the link.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">When a HELLO is received from a source IP address with which
    there is no established TLS/TCP L3ND session, the receiver SHOULD
    respond by sending a TLS/TCP client open request, using the same
    AFI, to the source IP address of the HELLO to establish an L3ND
    TLS/TCP session.<a href="#section-6-6" class="pilcrow">¶</a></p>
<p id="section-6-7">All L3ND PDUs other than HELLO are sent via TLS/TCP, as the
    server's destination IP address is known after the HELLO.<a href="#section-6-7" class="pilcrow">¶</a></p>
<p id="section-6-8">When an interface is turned up on a device, it SHOULD issue a
    HELLO if it is to participate in L3ND sessions and repeat HELLOs at
    a configured interval, with a default of 60 seconds.<a href="#section-6-8" class="pilcrow">¶</a></p>
<p id="section-6-9">If the configured multicast destination address is one that is
    propagated by switches, the HELLO SHOULD be repeated at a configured
    interval, with a default of 60 seconds.  This allows discovery by
    new devices which come up on the mesh.  In this multi-link scenario,
    the operator should be aware of the trade-off between timer tuning
    and network noise and adjust the inter-HELLO timer accordingly.<a href="#section-6-9" class="pilcrow">¶</a></p>
<p id="section-6-10">By default, GTSM, <span>[<a href="#RFC5082" class="xref">RFC5082</a>]</span>, SHOULD be enabled to
    test that a received HELLO MUST be on the local link.  It MAY be
    disabled by configuration.  GTSM check failures SHOULD be logged,
    though with rate limiting to keep from overwhelming logs.<a href="#section-6-10" class="pilcrow">¶</a></p>
<p id="section-6-11">If more than one device responds, one adjacency is formed for
    each unique source IP address.  L3ND treats each adjacency as a
    separate logical link.<a href="#section-6-11" class="pilcrow">¶</a></p>
<p id="section-6-12">To ameliorate possible load spikes during bootstrap or event
    recovery, there SHOULD be a jittered delay between receipt of a
    HELLO and TLS/TCP open.  The default delay range SHOULD be zero to
    five seconds, and MUST be configurable.<a href="#section-6-12" class="pilcrow">¶</a></p>
<p id="section-6-13">If a HELLO is received from an IP Address with which there is an
    established session for that AFI, the HELLO should be dropped.<a href="#section-6-13" class="pilcrow">¶</a></p>
<p id="section-6-14">A device with a TLS/TCP listener SHOULD log or otherwise report
    repeated failed inbound attempts.<a href="#section-6-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tcp">
<section id="section-7">
      <h2 id="name-tcp-set-up">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-tcp-set-up" class="section-name selfRef">TCP Set-Up</a>
      </h2>
<p id="section-7-1">If the receiver of a HELLO does not agree with the sender's
    choice of TLS/TCP or does not agree with the verification choice,
    Self-Signed or CA-based, the receiver SHOULD respond with a HELLO
    specifying its preferences.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">As it is assumed that the configured deployment of a data center
    would have compatible parameters on all devices, any disagreement
    over TLS/TCP or trust anchors MUST be logged.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">By default, GTSM, <span>[<a href="#RFC5082" class="xref">RFC5082</a>]</span>, SHOULD be enabled to
    ensure that a SYN received in response to a HELLO is on the local
    link.  It MAY be disabled by configuration.  GTSM check failures
    SHOULD be logged, though with rate limiting to keep from
    overwhelming logs.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">If the receiver of a HELLO agrees with the sender's choice of
    TLS/TCP and authentication, both sides have agreed on an AFI for the
    transport and on each other's IP address in that AFI.  This is
    sufficient to open a TCP session between them, which will allow for
    very large data PDUs while obviating the need to invent complex
    transports.<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5">The server, the sender of the HELLO, listens on the advertised
    port for the TLS/TCP session open.  The receiver of the acceptable
    HELLO, the TLS/TCP client, initiates a TLS or raw TCP session with
    the sender of the HELLO, the TLS/TCP server, preferably TLS, as
    advertised.  If TLS, the server has chosen and signaled either a
    self-signed certificate or one configured from the operational CA
    trusted by both parties, as negotiated in the HELLO exchange.<a href="#section-7-5" class="pilcrow">¶</a></p>
<p id="section-7-6">Once the TLS/TCP session is established, if the link is
    configured as point to point, the client side SHOULD stop listening
    on any port for which it has sent a HELLO.  The server side SHOULD
    stop sending HELLOs.<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">If the TLS/TCP open fails, then this SHOULD be logged and the
    parties MUST go back to the initial state and try HELLO.<a href="#section-7-7" class="pilcrow">¶</a></p>
<p id="section-7-8">Should an interface with an established TLS/TCP session be
    reconfigured changing the TLS/TCP parameters, the TLS/TCP session
    should be closed or torn down.<a href="#section-7-8" class="pilcrow">¶</a></p>
<p id="section-7-9">Should the TLS/TCP session terminate for any reason, the devices
    SHOULD restart/resume HELLOs.  When the new TLS/TCP session is
    started, if possible the OPEN PDU SHOULD try to resume the lost
    logical session by using the same nonce and resuming from the last
    Serial Number.<a href="#section-7-9" class="pilcrow">¶</a></p>
<p id="section-7-10">Once the TLS/TCP session has been established, the two devices
    exchange L3ND PDUs, starting with OPENs.<a href="#section-7-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="open">
<section id="section-8">
      <h2 id="name-open">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-open" class="section-name selfRef">OPEN</a>
      </h2>
<p id="section-8-1">Each device has learned the other's IP Address from the
    HELLO exchange, see <a href="#hello" class="xref">Section 6</a> and established a
    TLS/TCP session for a particular AFI.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">The first PDU each sends MUST be an OPEN, and the other side MUST
    respond with an ACK PDU.<a href="#section-8-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-3">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |  PDU Type = 2 |         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |             Nonce             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |   AttrCount   |               ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               +
~                       Attribute List ...                      ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Serial Number                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-8-3" class="pilcrow">¶</a>
</div>
<p id="section-8-4">The Payload Length is the number of octets in all fields of the
    PDU from the Nonce through the Serial Number.<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">The Nonce enables detection of a duplicate OPEN PDU.  It SHOULD
    be either a random number or a high resolution timestamp.  It is
    needed to prevent session closure due to a repeated OPEN caused by a
    race or a dropped or delayed ACK.  It can be used to resume a
    dropped logical session.<a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">AttrCount is the number of attributes in the Attribute List.  A
    node may send zero or more attributes.<a href="#section-8-6" class="pilcrow">¶</a></p>
<p id="section-8-7">Attributes are single octets the semantics of which are
    operator-defined, e.g.: spine, leaf, backbone, route reflector,
    arabica, ...<a href="#section-8-7" class="pilcrow">¶</a></p>
<p id="section-8-8">Attribute syntax and semantics are local to an operator or
    datacenter; hence there is no global registry.  Nodes exchange
    their attributes only in the OPEN PDU.<a href="#section-8-8" class="pilcrow">¶</a></p>
<p id="section-8-9">Unlike L3DL <span>[<a href="#I-D.ietf-lsvr-l3dl" class="xref">I-D.ietf-lsvr-l3dl</a>]</span>, there are no
    verifiable keys in the PDUs.  If the operator wants authentication,
    integrity, confidentiality, then TLS MUST have been requested by the
    HELLO and agreed by the TLS session open.<a href="#section-8-9" class="pilcrow">¶</a></p>
<p id="section-8-10">The Serial Number is a monotonically increasing 32-bit value
    representing the sender's state at the time of sending the last PDU.
    It may be an integer, a timestamp, etc.  If incrementing the Serial
    Number would cause it to be zero, it should be incremented
    again.<a href="#section-8-10" class="pilcrow">¶</a></p>
<p id="section-8-11">On session restart (new OPEN, same Nonce), a receiver MAY send
    the last received Serial Number to tell the sender to only send data
    with a Serial Number greater (in the <span>[<a href="#RFC1982" class="xref">RFC1982</a>]</span>
    sense), or send a Serial Number of zero to request all data.<a href="#section-8-11" class="pilcrow">¶</a></p>
<p id="section-8-12">This allows a sender of an OPEN to tell the receiver that the
    sender would like to resume a logical session and that the receiver
    only needs to send data starting with the PDU with the lowest Serial
    Number greater (in the <span>[<a href="#RFC1982" class="xref">RFC1982</a>]</span> sense) than the one
    sent in the OPEN.  If the sender is not trying to resume a dropped
    session, the Serial Number MUST be zero.<a href="#section-8-12" class="pilcrow">¶</a></p>
<p id="section-8-13">If the receiver of an OPEN PDU with a non-zero Serial Number can
    not resume from the requested point, it should return an ACK with an
    Error Code of 2, Session could not be continued.  The sender of the
    failing OPEN PDU SHOULD then send an OPEN PDU with a Serial Number
    of zero.<a href="#section-8-13" class="pilcrow">¶</a></p>
<p id="section-8-14">If a sender of OPEN does not receive an ACK of the OPEN PDU in a
    configurable time (default 30 seconds), then they SHOULD close or
    otherwise terminate the TLS/TCP session and restart from the HELLO
    state.<a href="#section-8-14" class="pilcrow">¶</a></p>
<p id="section-8-15">If an OPEN arrives at L3ND speaker A from B with which A believes
    it already has an L3ND session (i.e. OPENs have already been
    exchanged), and the Serial Number in B's OPEN PDU is non-zero,
    speaker A SHOULD establish a new sending session by sending an OPEN
    with the Serial Number being the same as that of A's last sent and
    ACKed PDU.  A MUST resume sending encapsulations etc. subsequent to
    the requested Sequence Number.  And B MUST retain all previously
    discovered encapsulation and other data received from A.<a href="#section-8-15" class="pilcrow">¶</a></p>
<p id="section-8-16">If an OPEN arrives at L3ND speaker A from B with which A believes
    it already has an L3ND session (i.e. OPENs have already been
    exchanged), and the Serial Number in B's OPEN is zero, then the A
    MUST assume that B's internal state has been reset.  All Previously
    discovered encapsulation data MUST BE discarded; and A MUST respond
    with a new OPEN with a Serial Number of zero.<a href="#section-8-16" class="pilcrow">¶</a></p>
<p id="section-8-17">TCP KeepAlives should be configured and tuned to meet local
    operational needs.  Some defaults and recommendations are needed
    here.<a href="#section-8-17" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ack">
<section id="section-9">
      <h2 id="name-ack">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-ack" class="section-name selfRef">ACK</a>
      </h2>
<p id="section-9-1">The ACK PDU acknowledges receipt of a PDU and reports any error
    condition which might have been raised.<a href="#section-9-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-9-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |  PDU Type = 3 |       Payload Length = 5      ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |   ACKed PDU   | EType |       ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~   Error Code  |           Error Hint          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-9-2" class="pilcrow">¶</a>
</div>
<p id="section-9-3">The ACK acknowledges receipt of an OPEN, Encapsulation, Vendor
    PDU, etc.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">The ACKed PDU is the PDU Type of the PDU being acknowledged,
    e.g., OPEN, one of the Encapsulations, etc.<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">If there was an error processing the received PDU, then the EType
    is non-zero.  If the EType is zero, Error Code and Error Hint MUST
    also be zero.<a href="#section-9-5" class="pilcrow">¶</a></p>
<p id="section-9-6">A non-zero EType is the receiver's way of telling the PDU's
    sender that the receiver had problems processing the PDU.  The Error
    Code and Error Hint will tell the sender more detail about the
    error.<a href="#section-9-6" class="pilcrow">¶</a></p>
<p id="section-9-7">The decimal value of EType gives a strong hint how the receiver
    sending the ACK believes things should proceed:<a href="#section-9-7" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-9-8.1">0 - No Error, Error Code and Error Hint MUST be zero<a href="#section-9-8.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-9-8.2">1 - Warning, something not too serious happened, continue<a href="#section-9-8.2" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-9-8.3">2 - Session should not be continued, try to restart<a href="#section-9-8.3" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-9-8.4">3 - Restart is hopeless, call the operator<a href="#section-9-8.4" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-9-8.5">4-15 - Reserved<a href="#section-9-8.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-9-9">The Error Codes, noting protocol failures, are listed in <a href="#iana-error" class="xref">Section 16.5</a>.  Someone stuck in the 1990s might think the
    catenation of EType and Error Code as an echo of 0x1zzz, 0x2zzz,
    etc.  They might be right; or not.<a href="#section-9-9" class="pilcrow">¶</a></p>
<p id="section-9-10">The Error Hint, an arbitrary 16 bits, is any additional data the
    sender of the error PDU thinks will help the recipient or the
    debugger with the particular error.<a href="#section-9-10" class="pilcrow">¶</a></p>
<div id="retrans">
<section id="section-9.1">
        <h3 id="name-retransmission">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-retransmission" class="section-name selfRef">Retransmission</a>
        </h3>
<p id="section-9.1-1">If a PDU sender expects an ACK, e.g. for an OPEN, an
      Encapsulation, a Vendor PDU, etc., and does not receive the ACK
      for a configurable time (default three seconds) the TLS/TCP
      session should be closed or dropped, and both sides revert to
      HELLO state.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="afisafi">
<section id="section-10">
      <h2 id="name-the-encapsulations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-the-encapsulations" class="section-name selfRef">The Encapsulations</a>
      </h2>
<p id="section-10-1">Once the devices know each other's IP Addresses, and have
    established a TLS/TCP session and have successfully exchanged OPENs,
    the L3ND session is considered established, and the devices SHOULD
    exchange Layer-3 interface encapsulations, Layer-3 addresses, and Layer-2.5
    labels.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">Encapsulations of any AFI/SAFI may be exchanged over a TLS/TCP
    session irrespective of the AFI/SAFI of the session transport.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">The Encapsulation types the peers exchange may be IPv4 (<a href="#ipv4" class="xref">Section 10.3</a>), IPv6 (<a href="#ipv6" class="xref">Section 10.4</a>), MPLS IPv4 (<a href="#mpls4" class="xref">Section 10.6</a>), MPLS IPv6 (<a href="#mpls6" class="xref">Section 10.7</a>), and/or
    possibly others not defined here.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">The sender of an Encapsulation PDU MUST NOT assume that the peer
    is capable of the same Encapsulation Type.  An ACK (<a href="#ack" class="xref">Section 9</a>) merely acknowledges receipt.  Only if both peers
    have sent the same Encapsulation Type is it safe for Layer-3
    protocols to assume that they are compatible for that type.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">A receiver of an encapsulation might recognize an addressing
    conflict, such as both ends of the link trying to use the same
    address.  In this case, the receiver MUST respond with an error
    (Error Code 2) ACK.  As there may be other usable addresses or
    encapsulations, this error might log and continue, letting an upper
    layer topology builder deal with what works.<a href="#section-10-5" class="pilcrow">¶</a></p>
<p id="section-10-6">Further, to consider a logical link of a type to formally be
    established so that it may be pushed up to upper layer protocols,
    the addressing for the type must be compatible, e.g. on the same
    IP subnet.<a href="#section-10-6" class="pilcrow">¶</a></p>
<div id="encaps">
<section id="section-10.1">
        <h3 id="name-the-encapsulation-pdu-skele">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-the-encapsulation-pdu-skele" class="section-name selfRef">The Encapsulation PDU Skeleton</a>
        </h3>
<p id="section-10.1-1">The header for all encapsulation PDUs is as follows:<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.1-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |    PDU Type   |         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |             Count             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |                 Serial Number                 ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |             Encapsulation List...             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-10.1-2" class="pilcrow">¶</a>
</div>
<p id="section-10.1-3">An Encapsulation PDU describes zero or more addresses of the
      encapsulation type.<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<p id="section-10.1-4">The 24-bit Count is the number of Encapsulations in the
      Encapsulation list.<a href="#section-10.1-4" class="pilcrow">¶</a></p>
<p id="section-10.1-5">The Serial Number is a monotonically increasing 32-bit value
      representing the sender's state in time.  It may be an integer, a
      timestamp, etc.  On session restart (new OPEN), a receiver MAY
      send the last received Session Number to tell the sender to only
      send newer data.<a href="#section-10.1-5" class="pilcrow">¶</a></p>
<p id="section-10.1-6">If a sender has multiple links on the same interface, separate
      state: data, ACKs, etc. must be kept for each peer session.<a href="#section-10.1-6" class="pilcrow">¶</a></p>
<p id="section-10.1-7">Over time, multiple Encapsulation PDUs may be sent for an
      interface in a session as configuration changes.<a href="#section-10.1-7" class="pilcrow">¶</a></p>
<p id="section-10.1-8">The Receiver MUST acknowledge the Encapsulation PDU with a
      Type=3, ACK PDU (<a href="#ack" class="xref">Section 9</a>) with the Encapsulation Type
      being that of the encapsulation being announced, see <a href="#ack" class="xref">Section 9</a>.<a href="#section-10.1-8" class="pilcrow">¶</a></p>
<p id="section-10.1-9">If the Sender does not receive an ACK in a configurable
      interval (default three seconds), they SHOULD retransmit.  After a
      user configurable number of failures (default three), the L3ND
      session should be considered dead and the HELLO process
      SHOULD be restarted.<a href="#section-10.1-9" class="pilcrow">¶</a></p>
<p id="section-10.1-10">If the link is broken below layer-3, retransmission MAY BE
      retried if data have not changed in the interim and the TLS/TCP
      session is still alive.<a href="#section-10.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="eflags">
<section id="section-10.2">
        <h3 id="name-encapsulaion-flags">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-encapsulaion-flags" class="section-name selfRef">Encapsulaion Flags</a>
        </h3>
<p id="section-10.2-1">The Encapsulation Flags are a sequence of bit fields as
     follows:<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.2-2">
<pre>
 0           1            2            3            4  ...       7
+------------+------------+------------+------------+------------+
|  Ann/With  |   Primary  | Under/Over |  Loopback  | Reserved ..|
+------------+------------+------------+------------+------------+
</pre><a href="#section-10.2-2" class="pilcrow">¶</a>
</div>
<p id="section-10.2-3">Each encapsulation in an Encapsulation PDU of Type T may
      announce new and/or withdraw old encapsulations of Type T.  It
      indicates this with the Ann/With Encapsulation Flag, Announce ==
      1, Withdraw == 0.<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<p id="section-10.2-4">Each Encapsulation interface address in an Encapsulation PDU is
      either a new encapsulation be announced (Ann/With == 1) (yes, a la
      BGP) or requests one be withdrawn (Ann/With == 0).  Adding an
      encapsulation which already exists SHOULD raise an
      Announce/Withdraw Error (see <a href="#iana-error" class="xref">Section 16.5</a>); the EType
      SHOULD be 2, suggesting a session restart (see <a href="#ack" class="xref">Section 9</a> so all encapsulations will be resent.<a href="#section-10.2-4" class="pilcrow">¶</a></p>
<p id="section-10.2-5">If an interface on a link has multiple addresses for an
      encapsulation type, one and only one address MAY be marked as
      primary (Primary Flag == 1) for that Encapsulation Type.<a href="#section-10.2-5" class="pilcrow">¶</a></p>
<p id="section-10.2-6">An Encapsulation interface address in an Encapsulation PDU MAY
      be marked as a loopback, in which case the Loopback bit is set.
      Loopback addresses are generally not seen directly on an external
      interface.  One or more loopback addresses MAY be exposed by
      configuration on one or more L3ND speaking external interfaces,
      e.g. for iBGP peering.  They SHOULD be marked as such, Loopback
      Flag == 1.<a href="#section-10.2-6" class="pilcrow">¶</a></p>
<p id="section-10.2-7">Each Encapsulation interface address in an Encapsulation PDU is
      that of the direct 'underlay interface (Under/Over == 1), or an
      'overlay' address (Under/Over == 0), likely that of a VM or
      container guest bridged or configured on to the interface already
      having an underlay address.<a href="#section-10.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ipv4">
<section id="section-10.3">
        <h3 id="name-ipv4-encapsulation">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-ipv4-encapsulation" class="section-name selfRef">IPv4 Encapsulation</a>
        </h3>
<p id="section-10.3-1">The IPv4 Encapsulation describes a device's ability to exchange
      IPv4 packets on one or more subnets.  It does so by stating the
      interface's addresses and the corresponding prefix lengths.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.3-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |  PDU Type = 4 |         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |             Count             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |                 Serial Number                 ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |  Encaps Flags |          IPv4 Address         ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |   PrefixLen   |    more ...   ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-10.3-2" class="pilcrow">¶</a>
</div>
<p id="section-10.3-3">The 24-bit Count is the sum of the number of IPv4
      Encapsulations being announced and/or withdrawn.<a href="#section-10.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ipv6">
<section id="section-10.4">
        <h3 id="name-ipv6-encapsulation">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-ipv6-encapsulation" class="section-name selfRef">IPv6 Encapsulation</a>
        </h3>
<p id="section-10.4-1">The IPv6 Encapsulation describes a link's ability to
      exchange IPv6 packets on one or more subnets.  It does so by
      stating the interface's addresses and the corresponding prefix
      lengths.<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.4-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |  PDU Type = 5 |         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |             Count             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |                 Serial Number                 ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |  Encaps Flags |                               ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
|                                                               ~
+                                                               +
~                                                               ~
+                                                               +
~                          IPv6 Prefix                          ~
+                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |   PrefixLen   |    more ...   ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-10.4-2" class="pilcrow">¶</a>
</div>
<p id="section-10.4-3">The 24-bit Count is the sum of the number of IPv6
      Encapsulations being announced and/or withdrawn.<a href="#section-10.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mplslist">
<section id="section-10.5">
        <h3 id="name-mpls-label-list">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-mpls-label-list" class="section-name selfRef">MPLS Label List</a>
        </h3>
<p id="section-10.5-1">As an MPLS enabled interface may have a label stack, see <span>[<a href="#RFC3032" class="xref">RFC3032</a>]</span>, a variable length list of labels is needed.
      These are the labels the sender will accept for the prefix to
      which the list is attached.<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.5-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Label Count  |                 Label                 | Exp |S|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                 Label                 | Exp |S|    more ...   ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-10.5-2" class="pilcrow">¶</a>
</div>
<p id="section-10.5-3">A Label Count of zero is an implicit withdraw of all labels for
      that prefix on that interface.<a href="#section-10.5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mpls4">
<section id="section-10.6">
        <h3 id="name-mpls-ipv4-encapsulation">
<a href="#section-10.6" class="section-number selfRef">10.6. </a><a href="#name-mpls-ipv4-encapsulation" class="section-name selfRef">MPLS IPv4 Encapsulation</a>
        </h3>
<p id="section-10.6-1">The MPLS IPv4 Encapsulation describes a logical link's ability
      to exchange labeled IPv4 packets on one or more subnets.  It does
      so by stating the interface's addresses the corresponding prefix
      lengths, and the corresponding labels which will be accepted for
      each address.<a href="#section-10.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.6-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |  PDU Type = 6 |         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |             Count             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |                 Serial Number                 ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |  Encaps Flags |      MPLS Label List ...      ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                          IPv4 Address                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   PrefixLen   |                    more ...                   ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-10.6-2" class="pilcrow">¶</a>
</div>
<p id="section-10.6-3">The 24-bit Count is the sum of the number of MPLSv4
      Encapsulation being announced and/or withdrawn.<a href="#section-10.6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mpls6">
<section id="section-10.7">
        <h3 id="name-mpls-ipv6-encapsulation">
<a href="#section-10.7" class="section-number selfRef">10.7. </a><a href="#name-mpls-ipv6-encapsulation" class="section-name selfRef">MPLS IPv6 Encapsulation</a>
        </h3>
<p id="section-10.7-1">The MPLS IPv6 Encapsulation describes a logical link's ability
      to exchange labeled IPv6 packets on one or more subnets.  It does
      so by stating the interface's addresses, the corresponding prefix
      lengths, and the corresponding labels which will be accepted for
      each address.<a href="#section-10.7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.7-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  |  PDU Type = 7 |         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |             Count             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |                 Serial Number                 ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |  Encaps Flags |      MPLS Label List ...      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               ~
+                                                               +
~                                                               ~
+                          IPv6 Address                         +
~                                                               ~
+                                                               +
~                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Prefix Len  |                    more ...                   ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-10.7-2" class="pilcrow">¶</a>
</div>
<p id="section-10.7-3">The 24-bit Count is the sum of the number of MPLSv6
      Encapsulations being announced and/or withdrawn.<a href="#section-10.7-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="vendor">
<section id="section-11">
      <h2 id="name-vendor-vendor-extensions">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-vendor-vendor-extensions" class="section-name selfRef">VENDOR - Vendor Extensions</a>
      </h2>
<div class="alignLeft art-text artwork" id="section-11-1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Version = 0  | PDU Type = 255|         Payload Length        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |         Serial Number         ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                               |       Enterprise Number       ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~               |    Ent Type   |      Enterprise Data ...      ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-11-1" class="pilcrow">¶</a>
</div>
<p id="section-11-2">Vendors or enterprises may define TLVs beyond the scope of L3ND
    standards.  This is done using a Private Enterprise Number <span>[<a href="#IANA-PEN" class="xref">IANA-PEN</a>]</span> followed by Enterprise Data in a format
    defined for that Enterprise Number and Ent Type.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">Ent Type allows a Vendor PDU to be sub-typed in the event that
    the vendor/enterprise needs multiple PDU types.<a href="#section-11-3" class="pilcrow">¶</a></p>
<p id="section-11-4">As with Encapsulation PDUs, a receiver of a Vendor PDU MUST
    respond with an ACK or an ERROR PDU.  Similarly, a Vendor PDU MUST
    only be sent over an open session.<a href="#section-11-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="discuss">
<section id="section-12">
      <h2 id="name-discussion">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-discussion" class="section-name selfRef">Discussion</a>
      </h2>
<p id="section-12-1">This section explores some trade-offs taken and some
    considerations.<a href="#section-12-1" class="pilcrow">¶</a></p>
<div id="dhello">
<section id="section-12.1">
        <h3 id="name-hello-discussion">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-hello-discussion" class="section-name selfRef">HELLO Discussion</a>
        </h3>
<p id="section-12.1-1">A device may send IP packets an Layer-3 interface which
      transmits data over a single Layer-2 interface or multiple Layer-2
      interfaces.  Packets sourced by one Layer-3 IP interface over
      multiple Layer-2 should consider that an Layer-3 interface with
      multiple Layer-2 interfaces could have many devices which might
      come at various times, therefore the configured HELLO PDU
      retransmit time SHOULD be set to a non-zero value, and periodic
      HELLOs should continue.  Packets transmitted on a single Layer-2
      interface on a point-to-point (p2p) connection, MAY set the
      configuration value to zero, so once a TLS/TCP session is up,
      HELLOs are no longer desirable.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<p id="section-12.1-2">A device with multiple Layer-2 interfaces, traditionally called
      a switch, may be used to forward frames and therefore packets from
      multiple devices to one Layer-3 interface, I, on an L3ND speaking
      device.  Interface I could discover a peer J across the switch.
      Later, a prospective peer K could come up across the switch.  If I
      was not still sending and listening for HELLOs, the potential
      peering with K could not be discovered.  Therefore, on multi-link
      interfaces, L3ND MUST continue to send HELLOs as long as they are
      turned up.<a href="#section-12.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="vlans">
<section id="section-13">
      <h2 id="name-vlans-svis-sub-interfaces">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-vlans-svis-sub-interfaces" class="section-name selfRef">VLANs/SVIs/Sub-interfaces</a>
      </h2>
<p id="section-13-1">One can think of the protocol as an instance (i.e. state machine)
    which runs on each logical link of a device.<a href="#section-13-1" class="pilcrow">¶</a></p>
<p id="section-13-2">As the upper routing layer must view VLAN topologies as separate
    graphs, L3ND treats VLAN ports as separate links.<a href="#section-13-2" class="pilcrow">¶</a></p>
<p id="section-13-3">As Sub-Interfaces each have their own layer-3 identities, they
    act as separate interfaces, forming their own links.<a href="#section-13-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="impl">
<section id="section-14">
      <h2 id="name-implementation-consideratio">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-implementation-consideratio" class="section-name selfRef">Implementation Considerations</a>
      </h2>
<p id="section-14-1">An implementation SHOULD provide the ability to configure each
    logical interface as L3ND speaking or not.<a href="#section-14-1" class="pilcrow">¶</a></p>
<p id="section-14-2">An implementation SHOULD provide the ability to distribute one or
    more loopback addresses or interfaces into L3ND on an external L3ND
    speaking interface.<a href="#section-14-2" class="pilcrow">¶</a></p>
<p id="section-14-3">An implementation SHOULD provide the ability to distribute one or
    more overlay and/or underlay addresses or interfaces into L3ND on an
    external L3ND speaking interface.<a href="#section-14-3" class="pilcrow">¶</a></p>
<p id="section-14-4">An implementation SHOULD provide the ability to configure one of
    the addresses of an encapsulation as primary on an L3ND speaking
    interface.  If there is only one address for a particular
    encapsulation, the implementation MAY mark it as primary by
    default.<a href="#section-14-4" class="pilcrow">¶</a></p>
<p id="section-14-5">An implementation MAY allow optional configuration which updates
    the local forwarding table with overlay and underlay data both
    learned from L3ND peers and configured locally.<a href="#section-14-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-15">
      <h2 id="name-security-considerations">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-15-1">The protocol as is MUST NOT be used outside a datacenter or
    similarly closed environment without using TLS encapsulation which
    is based on a configured CA trust anchor.<a href="#section-15-1" class="pilcrow">¶</a></p>
<p id="section-15-2">Many datacenter operators have a strange belief that physical
    walls and firewalls provide sufficient security.  This is not
    credible.  All DC protocols need to be examined for exposure and
    attack surface.  In the case of L3ND, authentication and integrity
    as provided by TLS validated to a configured shared CA trust anchor
    is strongly RECOMMENDED.<a href="#section-15-2" class="pilcrow">¶</a></p>
<p id="section-15-3">It is generally unwise to assume that on the wire Layer-3 is
    secure.  Strange/unauthorized devices may plug into a port.
    Mis-wiring is very common in datacenter installations.  A poisoned
    laptop might be plugged into a device's port, form malicious
    sessions, etc. to divert, intercept, or drop traffic.<a href="#section-15-3" class="pilcrow">¶</a></p>
<p id="section-15-4">Similarly, malicious nodes/devices could mis-announce
    addressing.<a href="#section-15-4" class="pilcrow">¶</a></p>
<p id="section-15-5">If OPENs are not using validated TLS, an attacker could forge an
    OPEN for an existing session and cause the session to be reset.<a href="#section-15-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-16">
      <h2 id="name-iana-considerations">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="iana-l3addr">
<section id="section-16.1">
        <h3 id="name-link-local-layer-3-addresse">
<a href="#section-16.1" class="section-number selfRef">16.1. </a><a href="#name-link-local-layer-3-addresse" class="section-name selfRef">Link Local Layer-3 Addresses</a>
        </h3>
<p id="section-16.1-1">IANA is requested to assignment one address (TBD1) for
        L3DL-L3-LL from the IPv4 Multicast Address Space Registry from
        the Local Network Control Block (224.0.0.0 - 224.0.0.255
        (224.0.0/24)).<a href="#section-16.1-1" class="pilcrow">¶</a></p>
<p id="section-16.1-2">IANA is requested to assign one address (TBD2) for L3DL-L3-LL
 from the IPv6 Multicast Address Space Registry in the the IPv6
 Link-Local Scope Multicast address (TBD:2).<a href="#section-16.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-ports">
<section id="section-16.2">
        <h3 id="name-ports-for-tls-tcp">
<a href="#section-16.2" class="section-number selfRef">16.2. </a><a href="#name-ports-for-tls-tcp" class="section-name selfRef">Ports for TLS/TCP</a>
        </h3>
<p id="section-16.2-1">This document requests the IANA to assign a well-known TCP
 Port Number (TBD3) to the Layer-3 Neighbor Discovery Protocol for the
 following, see <a href="#tcp" class="xref">Section 7</a>:<a href="#section-16.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-16.2-2">
<pre>
          l3nd-server
</pre><a href="#section-16.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="iana-types">
<section id="section-16.3">
        <h3 id="name-pdu-types">
<a href="#section-16.3" class="section-number selfRef">16.3. </a><a href="#name-pdu-types" class="section-name selfRef">PDU Types</a>
        </h3>
<p id="section-16.3-1">This document requests the IANA create a registry for L3ND PDU
      Type, which may range from 0 to 255.  The name of the registry
      should be L3ND-PDU-Type.  The policy for adding to the registry is
      RFC Required per <span>[<a href="#RFC5226" class="xref">RFC5226</a>]</span>, either standards track or
      experimental.  The initial entries should be the following:<a href="#section-16.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-16.3-2">
<pre>
          PDU
          Code      PDU Name
          ----      -------------------
            0       HELLO
            1       reserved
            2       OPEN
            3       ACK
            4       IPv4 Announcement
            5       IPv6 Announcement
            6       MPLS IPv4 Announcement
            7       MPLS IPv6 Announcement
            8-254   Reserved
            255     Vendor
</pre><a href="#section-16.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="iana-flags">
<section id="section-16.4">
        <h3 id="name-flag-bits">
<a href="#section-16.4" class="section-number selfRef">16.4. </a><a href="#name-flag-bits" class="section-name selfRef">Flag Bits</a>
        </h3>
<p id="section-16.4-1">This document requests the IANA create a registry for L3ND PL
      Flag Bits, which may range from 0 to 7.  The name of the registry
      should be L3ND-PL-Flag-Bits.  The policy for adding to the registry is
      RFC Required per <span>[<a href="#RFC5226" class="xref">RFC5226</a>]</span>, either standards track or
      experimental.  The initial entries should be the following:<a href="#section-16.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-16.4-2">
<pre>
          Bit     Bit Name
          ----    -------------------
           0      Announce/Withdraw (ann == 0)
           1      Primary
           2      Underlay/Overlay (under == 0)
           3      Loopback
           4-7    Reserved
</pre><a href="#section-16.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="iana-error">
<section id="section-16.5">
        <h3 id="name-error-codes">
<a href="#section-16.5" class="section-number selfRef">16.5. </a><a href="#name-error-codes" class="section-name selfRef">Error Codes</a>
        </h3>
<p id="section-16.5-1">This document requests the IANA create a registry for L3ND Error
      Codes, a 16 bit integer.  The name of the registry should be
      L3ND-Error-Codes.  The policy for adding to the registry is RFC
      Required per <span>[<a href="#RFC5226" class="xref">RFC5226</a>]</span>, either standards track or
      experimental.  The initial entries should be the following:<a href="#section-16.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-16.5-2">
<pre>
          Error
          Code    Error Name
          ----    -------------------
            0     No Error
            1     Checksum Error
            2     Logical Link Addressing Conflict
            3     reserved
            4     Announce/Withdraw Error
</pre><a href="#section-16.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="acks">
<section id="section-17">
      <h2 id="name-acknowledgments">
<a href="#section-17" class="section-number selfRef">17. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-17-1">Many kind people helped with the Layer-2 cousin of this protocol,
    L3DL.  Cristel Pelsser provided multiple reviews, Harsha Kovuru
    commented during implementation, Jeff Haas reviewed and commented,
    Joerg Ott did an early but deep transport review, Joe Clarke
    provided a useful ops review, John Scudder a deeply serious review
    and comments, Martijn Schmidt contributed, and Neeraj Malhotra
    reviewed.<a href="#section-17-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-18">
      <h2 id="name-references">
<a href="#section-18" class="section-number selfRef">18. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-18.1">
        <h3 id="name-normative-references">
<a href="#section-18.1" class="section-number selfRef">18.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-lsvr-l3dl">[I-D.ietf-lsvr-l3dl]</dt>
        <dd>
<span class="refAuthor">Bush, R.</span>, <span class="refAuthor">Austein, R.</span>, and <span class="refAuthor">K. Patel</span>, <span class="refTitle">"Layer-3 Discovery and Liveness"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsvr-l3dl-08</span>, <time datetime="2021-10-14" class="refDate">14 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-lsvr-l3dl-08.txt">https://www.ietf.org/archive/id/draft-ietf-lsvr-l3dl-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA-PEN">[IANA-PEN]</dt>
        <dd>
<span class="refTitle">"IANA Private Enterprise Numbers"</span>, <span>&lt;<a href="https://www.iana.org/assignments/enterprise-numbers/enterprise-numbers">https://www.iana.org/assignments/enterprise-numbers/enterprise-numbers</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3032">[RFC3032]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Tappan, D.</span>, <span class="refAuthor">Fedorkow, G.</span>, <span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Farinacci, D.</span>, <span class="refAuthor">Li, T.</span>, and <span class="refAuthor">A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time datetime="2001-01" class="refDate">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time datetime="2006-01" class="refDate">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5082">[RFC5082]</dt>
        <dd>
<span class="refAuthor">Gill, V.</span>, <span class="refAuthor">Heasley, J.</span>, <span class="refAuthor">Meyer, D.</span>, <span class="refAuthor">Savola, P., Ed.</span>, and <span class="refAuthor">C. Pignataro</span>, <span class="refTitle">"The Generalized TTL Security Mechanism (GTSM)"</span>, <span class="seriesInfo">RFC 5082</span>, <span class="seriesInfo">DOI 10.17487/RFC5082</span>, <time datetime="2007-10" class="refDate">October 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5082">https://www.rfc-editor.org/info/rfc5082</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5226">[RFC5226]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5226">https://www.rfc-editor.org/info/rfc5226</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-18.2">
        <h3 id="name-informative-references">
<a href="#section-18.2" class="section-number selfRef">18.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="Clos">[Clos]</dt>
        <dd>
<span class="refTitle">"Clos Network"</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Clos_network/">https://en.wikipedia.org/wiki/Clos_network/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ymbk-idr-l3nd-ulpc">[I-D.ymbk-idr-l3nd-ulpc]</dt>
        <dd>
<span class="refAuthor">Bush, R.</span> and <span class="refAuthor">K. Patel</span>, <span class="refTitle">"L3ND Upper-Layer Protocol Configuration"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ymbk-idr-l3nd-ulpc-00</span>, <time datetime="2022-02-16" class="refDate">16 February 2022</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ymbk-idr-l3nd-ulpc-00.txt">https://www.ietf.org/archive/id/draft-ymbk-idr-l3nd-ulpc-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1122">[RFC1122]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span>, <span class="refTitle">"Requirements for Internet Hosts - Communication Layers"</span>, <span class="seriesInfo">STD 3</span>, <span class="seriesInfo">RFC 1122</span>, <span class="seriesInfo">DOI 10.17487/RFC1122</span>, <time datetime="1989-10" class="refDate">October 1989</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1122">https://www.rfc-editor.org/info/rfc1122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1982">[RFC1982]</dt>
        <dd>
<span class="refAuthor">Elz, R.</span> and <span class="refAuthor">R. Bush</span>, <span class="refTitle">"Serial Number Arithmetic"</span>, <span class="seriesInfo">RFC 1982</span>, <span class="seriesInfo">DOI 10.17487/RFC1982</span>, <time datetime="1996-08" class="refDate">August 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1982">https://www.rfc-editor.org/info/rfc1982</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4760">[RFC4760]</dt>
      <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Katz, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Multiprotocol Extensions for BGP-4"</span>, <span class="seriesInfo">RFC 4760</span>, <span class="seriesInfo">DOI 10.17487/RFC4760</span>, <time datetime="2007-01" class="refDate">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4760">https://www.rfc-editor.org/info/rfc4760</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Randy Bush</span></div>
<div dir="auto" class="left"><span class="org">Arrcus &amp; Internet Initiative Japan</span></div>
<div dir="auto" class="left"><span class="street-address">5147 Crystal Springs</span></div>
<div dir="auto" class="left">
<span class="locality">Bainbridge Island</span>, <span class="region">WA</span> <span class="postal-code">98110</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:randy@psg.com" class="email">randy@psg.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Russ Housley</span></div>
<div dir="auto" class="left"><span class="org">Vigil Security, LLC</span></div>
<div dir="auto" class="left"><span class="street-address">516 Dranesville Road</span></div>
<div dir="auto" class="left">
<span class="locality">Herndon</span>, <span class="region">VA</span> <span class="postal-code">20170</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:housley@vigilsec.com" class="email">housley@vigilsec.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rob Austein</span></div>
<div dir="auto" class="left"><span class="org">Arrcus, Inc</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:sra@hactrn.net" class="email">sra@hactrn.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Susan Hares</span></div>
<div dir="auto" class="left"><span class="org">Hickory Hill Consulting</span></div>
<div dir="auto" class="left"><span class="street-address">7453 Hickory Hill</span></div>
<div dir="auto" class="left">
<span class="locality">Saline</span>, <span class="region">MI</span> <span class="postal-code">48176</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+1-734-604-0332" class="tel">+1-734-604-0332</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:shares@ndzh.com" class="email">shares@ndzh.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Keyur Patel</span></div>
<div dir="auto" class="left"><span class="org">Arrcus</span></div>
<div dir="auto" class="left"><span class="street-address">2077 Gateway Place, Suite #400</span></div>
<div dir="auto" class="left">
<span class="locality">San Jose</span>, <span class="region">CA</span> <span class="postal-code">95119</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:keyur@arrcus.com" class="email">keyur@arrcus.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
