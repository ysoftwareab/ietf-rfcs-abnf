



ISIS Working Group                                                 X. Xu
Internet-Draft                                                     N. Wu
Intended status: Standards Track                                  Huawei
Expires: May 4, 2017                                             H. Shah
                                                                   Ciena
                                                            L. Contreras
                                                          Telefonica I+D
                                                        October 31, 2016


               Advertising Service Functions Using IS-IS
                 draft-xu-isis-service-function-adv-04

Abstract

   Source Packet Routing in Networking (SPRING) WG is developing an MPLS
   source routing mechanism.  This MPLS source routing mechanism can be
   leveraged to realize the service path layer functionality of the
   service function chaining (i.e., steering the selected traffic
   through a particular service function path) by encoding the service
   function path information as an MPLS label stack.  This document
   describes how to advertise service functions and their corresponding
   attributes (e.g.,segment ID) using IS-IS.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 4, 2017.





Xu, et al.                 Expires May 4, 2017                  [Page 1]

Internet-Draft                                              October 2016


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Solution Description  . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Service Function Sub-TLV  . . . . . . . . . . . . . . . .   3
     3.2.  SF SID Sub-TLV  . . . . . . . . . . . . . . . . . . . . .   4
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   [I-D.xu-mpls-service-chaining] describes how to leverage MPLS-SPRING
   [I-D.ietf-spring-segment-routing-mpls] (a.k.a., an MPLS-based source
   routing mechanism) to realize the service path layer functionality of
   the Service Function Chaining (SFC), i.e, steering traffic through
   the Service Function Path (SFP).  To allow a service classifier to
   attach the segment list (i.e., an MPLS label stack) which represents
   a particular SFP to the selected traffic, the service classifier
   needs to know on which Service Function Forwarder (SFF) a given
   Service Function (SF) is located and what segment ID (SID) is used to
   indicate that SF.  This document describes how to advertise Service
   Functions (SFs) and their corresponding attributes (e.g.,SID) using
   IS-IS.







Xu, et al.                 Expires May 4, 2017                  [Page 2]

Internet-Draft                                              October 2016


2.  Terminology

   This memo makes use of the terms defined in
   [I-D.xu-mpls-service-chaining] and [RFC4971].

3.  Solution Description

   SFFs within the SFC domain need to advertise each SF they are
   offering by using a new sub-TLV of the IS-IS Router CAPABILITY TLV
   [RFC4971].  This new sub-TLV is called as Service Function sub-TLV.
   The Service Function sub-TLV could appear multiple times wihin a
   given IS-IS Router CAPABILITY TLV when more than one SF needs to be
   advertised.  The scope of the advertisement depends on the
   application but it is recommended that it SHOULD be domain-wide.
   Furthermore, SFFs need to allocate a corresponding SID to each SF
   they are offering and advertise it by using a sub-TLV of the above
   Service Function sub-TLV, called SF SID sub-TLV.  To support the
   approach of encoding SFP information in the form of an MPLS label
   stack as described in [I-D.xu-mpls-service-chaining], SFFs SHOULD
   allocate a locally significant MPLS label to each SF they are
   offering.

3.1.  Service Function Sub-TLV

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |   Type=TBD1   |    Length     |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                  Service Function Identifier                  |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       ~                          Sub-TLVs                             ~
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Type: TBD1.

      Length: variable.  Service Function Identifier: A unique
      identifier that represents an SF within an SFC-enabled domain.

      Sub-TLVs: contains zero or more sub-TLVs corresponding to the
      particular attributes of a given SF.  The SF SID sub-TLV as
      defined in Section 3.2 is one such sub-TLV which is used to
      indicate the corrresponding SF SID.  Other sub-TLVs are to be
      defined in the future.







Xu, et al.                 Expires May 4, 2017                  [Page 3]

Internet-Draft                                              October 2016


3.2.  SF SID Sub-TLV

         0                   1                   2                   3
         0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |   Type=TBD2   |    Length     |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |  Resv |                  SF SID               |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Type: TBD2.

      Length: 3.

      Sub-TLVs: The rightmost 20 bits represent an MPLS label which is
      the SF SID of the corresponding SF.

4.  Acknowledgements

   TBD.

5.  IANA Considerations

   This document includes a request to IANA for allocating type codes
   for the Service Function sub-TLV and the SF SID sub-TLV.

6.  Security Considerations

   This document does not introduce any new security risk.

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC4971]  Vasseur, JP., Ed., Shen, N., Ed., and R. Aggarwal, Ed.,
              "Intermediate System to Intermediate System (IS-IS)
              Extensions for Advertising Router Information", RFC 4971,
              DOI 10.17487/RFC4971, July 2007,
              <http://www.rfc-editor.org/info/rfc4971>.







Xu, et al.                 Expires May 4, 2017                  [Page 4]

Internet-Draft                                              October 2016


7.2.  Informative References

   [I-D.ietf-sfc-architecture]
              Halpern, J. and C. Pignataro, "Service Function Chaining
              (SFC) Architecture", draft-ietf-sfc-architecture-11 (work
              in progress), July 2015.

   [I-D.ietf-spring-segment-routing-mpls]
              Filsfils, C., Previdi, S., Bashandy, A., Decraene, B.,
              Litkowski, S., Horneffer, M., Shakir, R.,
              jefftant@gmail.com, j., and E. Crabbe, "Segment Routing
              with MPLS data plane", draft-ietf-spring-segment-routing-
              mpls-05 (work in progress), July 2016.

   [I-D.xu-mpls-service-chaining]
              Xu, X., Bryant, S., Assarpour, H., Shah, H., Contreras,
              L., and d. daniel.bernier@bell.ca, "Service Chaining using
              MPLS Source Routing", draft-xu-mpls-service-chaining-00
              (work in progress), October 2016.

Authors' Addresses

   Xiaohu Xu
   Huawei

   Email: xuxiaohu@huawei.com


   Nan Wu
   Huawei

   Email: eric.wu@huawei.com


   Himanshu Shah
   Ciena

   Email: hshah@ciena.com













Xu, et al.                 Expires May 4, 2017                  [Page 5]

Internet-Draft                                              October 2016


   Luis M. Contreras
   Telefonica I+D
   Ronda de la Comunicacion, s/n
   Sur-3 building, 3rd floor
   Madrid,  28050
   Spain

   Email: luismiguel.contrerasmurillo@telefonica.com
   URI:   http://people.tid.es/LuisM.Contreras/










































Xu, et al.                 Expires May 4, 2017                  [Page 6]
