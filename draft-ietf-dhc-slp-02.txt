
Internet Engineering Task Force                               C. Perkins
INTERNET DRAFT                                          Sun Microsystems
                                                           24 April 1997


               DHCP Options for Service Location Protocol
                       draft-ietf-dhc-slp-02.txt


Status of This Memo

   This document is a submission to the Dynamic Host Configuration
   Working Group of the Internet Engineering Task Force (IETF). Comments
   should be submitted to the dhcp-v4@bucknell.edu mailing list.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at
   any time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check
   the ``1id-abstracts.txt'' listing contained in the Internet-Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (North
   Europe), ftp.nis.garr.it (South Europe), munnari.oz.au (Pacific Rim),
   ds.internic.net (US East Coast), or ftp.isi.edu (US West Coast).


Abstract

   The Dynamic Host Configuration Protocol provides a framework for
   passing configuration information to hosts on a TCP/IP network.
   Entities using the Service Location Protocol need to find out the
   address of Directory Agents in order to transact messages.  In
   certain other instances they may need to discover the correct scope
   to be used in conjunction with the service attributes which are
   exchanged using the Service Location Protocol.











Perkins                 Expires 24 October 1997                 [Page i]

Internet Draft      DHCP Options for Service Location      24 April 1997


1. Introduction

   The Dynamic Host Configuration Protocol [2] provides a framework
   for passing configuration information to hosts on a TCP/IP network.
   Entities using the Service Location Protocol [3] need to find out
   the address of Directory Agents in order to transact messages.  In
   certain other instances they may need to discover the correct scope
   to be used in conjunction with the service attributes which are
   exchanged using the Service Location Protocol.

   The scope MAY be denoted in any standardized character set.  Values
   for character encoding can be found in IANA's database
         http://www.isi.edu/in-notes/iana/assignments/character-sets
   and have the values referred by the MIBEnum value.  Note that in some
   character sets, each character may require two or more octets of data
   for its representation.

   Note that each option listed below MAY be included multiple times in
   the same DHCPOFFER or DHCPREQUEST. If so, then the options SHOULD be
   included in order of decreasing preference.


2. Directory Agent Option

   This option requests or specifies a Directory Agent (DA), along with
   zero or more scopes supported by that DA.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Code     |     Length    |D|F|M|S|  rsv  |   DA Length   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Directory Agent (variable length) ...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Char Encoding         | Service Scope (variable length)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Code     78

      Length   (variable) The length of the option.

      D        If the 'D' bit is set, the Directory Agent field is
               present.

      F        If the 'F' bit is set, the Directory Agent is indicated
               by including its variable length host name or Fully
               Qualified Domain Name (FQDN) instead of its 4 octet IP
               address.



Perkins                 Expires 24 October 1997                 [Page 1]

Internet Draft      DHCP Options for Service Location      24 April 1997


      M        If the 'M' bit is set, the Directory Agent address is
               the only one that may be used, and multicast methods for
               discovering Directory Agents MUST NOT be used.

      S        If the 'S' bit is set, the scope is present, encoded in
               the indicated character set.

      rsv      reserved; ignored upon reception; MUST be sent as zero

      DA Length The length (in octets) of the Directory Agent field.

      Directory Agent
               The Fully Qualified Domain Name (FQDN), host name, or IP
               address of the Directory Agent.

      Char Encoding
               The standardized encoding for the characters denoting the
               scope.

      scope    The characters denoting the scope.

   In order to simplify administration of the configuration of Directory
   Agents for Service Location Protocol clients, the Directory Agent
   can be indicated by presenting its FQDN or host name instead of its
   IP address.  This allows renumbering to proceed more smoothly [1].
   When the FQDN or host name is used, the server sets the 'F' bit.  The
   host name can be distinguished from the FQDN by the presence of a '.'
   character.  In any case, the DA length field is set to be the length
   of the Directory Agent field.  When the 'F' bit is not set, the DA
   Length MUST be 4.

   Note that more than one Directory Agent option may be present in a
   DHCP message.  Each such option may have the same or different scope.
   The client may request any Directory Agent with a particular scope,
   by including the Directory Agent option in a DHCP Request message
   with no Directory Agent address included (the 'D' bit set to zero),
   and the characters denoting the scope.  The length of the scope is
   only indicated implicitly by the overall length of the option.


3. Service Scope Option

   This option indicates a scope that should be used by a Service Agent
   (SA) [3], when responding to Service Request messages as specified by
   the Service Location Protocol.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1



Perkins                 Expires 24 October 1997                 [Page 2]

Internet Draft      DHCP Options for Service Location      24 April 1997


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Code     |     Length    |         Char Encoding         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Service Scope ...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Code     79

      Length   (variable) The length of the option.

      Char Encoding
               The standardized encoding for the characters denoting the
               scope.

      scope    the characters denoting the scope.

   Note that more than one Service Scope option may be present in a DHCP
   message.  The length of the scope is only indicated implicitly by the
   overall length of the option.


4. Security Considerations

   If a malicious host is able to insert fraudulent information in
   DHCPOFFER packets sent to a prospective client of the Service
   Location Protocol, then the client will be unable to obtain service,
   and vulnerable to disclosing information to unauthorized service
   agents.  Likewise, a service agent would find that it might rely on
   fraudulent or otherwise malicious directory agents to advertise its
   services.  Many opportunities for denial of service exist.

   This difficulty is inherited from the much larger and more serious
   problem, viz.  securing or authenticating any information whatsoever
   from a DHCP server (or client!)  is not possible in common DHCP
   deployments.


5. Acknowledgements

   Thanks to Erik Guttman for his helpful suggestions in the creation of
   this draft.


References

   [1] B. Carpenter and Y. Rekhter.  Renumbering needs work.  RFC 1900,
       February 1996.




Perkins                 Expires 24 October 1997                 [Page 3]

Internet Draft      DHCP Options for Service Location      24 April 1997


   [2] Ralph Droms.  Dynamic Host Configuration Protocol.  RFC 1541,
       October 1993.

   [3] J. Veizades, E. Guttman, C. Perkins, and S. Kaplan.  Service
       Location Protocol, April 1997.  draft-ietf-svrloc-protocol-17.txt
       (work in progress).


Author's Address

   Questions about this memo can be directed to:

   Charles E. Perkins
   Sun Microsystems
   2550 Garcia Avenue
   Mountain View, CA  94043

   Phone: +1 415 336 7153
   Fax:   +1 415 336 0670

   EMail: charliep@acm.org






























Perkins                 Expires 24 October 1997                 [Page 4]


