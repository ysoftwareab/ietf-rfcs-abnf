<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>A Survey of Lower-than-Best Effort Transport Protocols</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="A Survey of Lower-than-Best Effort Transport Protocols">
<meta name="keywords" content="template">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">M. Welzl</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">University of Innsbruck</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">March 03, 2009</td></tr>
<tr><td class="header">Expires: September 4, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />A Survey of Lower-than-Best Effort Transport Protocols<br />draft-welzl-ledbat-survey-00.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 4, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document provides a survey of transport protocols which are designed to have a smaller bandwidth and/or delay impact on standard TCP than standard TCP itself when they share a bottleneck with it. Such protocols could be used for low-priority "background" traffic, as they provide what is sometimes called a "less than" (or "lower than") best effort service.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Delay-based transport protocols<br />
<a href="#anchor3">3.</a>&nbsp;
Non-delay-based transport protocols<br />
<a href="#anchor4">4.</a>&nbsp;
Application layer approaches<br />
<a href="#anchor5">5.</a>&nbsp;
Orthogonal work<br />
<a href="#Acknowledgements">6.</a>&nbsp;
Acknowledgements<br />
<a href="#IANA">7.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">8.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">9.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>As a starting point for the work in the LEDBAT group, this document presents a brief survey of efforts to attain a Less than Best Effort (LBE) service without help from routers. We loosely define a LBE service as a service which has smaller bandwidth and/or delay impact on standard TCP than standard TCP itself when sharing a bottleneck with it. We refer to systems that provide this service as Less than Best Effort (LBE) systems. Generally, LBE behavior can be achieved by reacting to queue growth earlier than standard TCP would, or by changing the congestion avoidance behavior of TCP without utilizing any additional implicit feedback. Some mechanisms achieve a LBE behavior at the application layer, e.g. by changing the receiver window of standard TCP, and there is also a substantial amount of work that is related to the LBE concept but not presenting a solution that can be installed in end hosts or expected to work over the Internet. According to this classification, solutions have been categorized as delay-based transport protocols, non-delay-based transport protocols, application layer approaches and orthogonal work in this document.
		
</p>
<p>
		The author wishes to emphasize that, in its present form, this document is only a starting point and not based on a thorough literature study. Many relevant references will be missing, and an apology goes to all authors of related work that has not been mentioned here.
		
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Delay-based transport protocols</h3>

<p>It is wrong to generally equate "little impact on standard TCP" with "small sending rate". Unless the sender's maximum window is limited for some reason, and in the absence of ECN support, standard TCP will normally increase its rate until a queue overflows, causing one or more packets to be dropped and the rate to be reduced. A protocol which stops increasing the rate before this event happens can, in principle, achieve a better performance than standard TCP. In the absence of any other traffic, this is even true for TCP itself when its maximum send window is limited to the bandwidth*round-trip time (RTT) product.
</p>
<p><a class='info' href='#Bra+94'>TCP Vegas<span> (</span><span class='info'>Brakmo, L., O'Malley, S., and L. Peterson, &ldquo;TCP Vegas: New techniques for congestion detection and avoidance,&rdquo; August&nbsp;1994.</span><span>)</span></a> [Bra+94] is one of the first protocols that was known to have a smaller sending rate than standard TCP when both protocols share a bottleneck <a class='info' href='#Kur+00'>[Kur+00]<span> (</span><span class='info'>Kurata, K., Hasegawa, G., and M. Murata, &ldquo;Fairness Comparisons Between TCP Reno and TCP Vegas for Future Deployment of TCP Vegas,&rdquo; July&nbsp;2000.</span><span>)</span></a> -- yet it was designed to achieve more, not less throughput than standard TCP. Indeed, when it is the only protocol on the bottleneck, the throughput of TCP Vegas is greater than the throughput of standard TCP. Depending on the bottleneck queue length, TCP Vegas itself can be starved by standard TCP flows. This can be remedied to some degree by the RED Active Queue Management mechanism <a class='info' href='#RFC2309'>[RFC2309]<span> (</span><span class='info'>Braden, B., Clark, D., Crowcroft, J., Davie, B., Deering, S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G., Partridge, C., Peterson, L., Ramakrishnan, K., Shenker, S., Wroclawski, J., and L. Zhang, &ldquo;Recommendations on Queue Management and Congestion Avoidance in the Internet,&rdquo; April&nbsp;1998.</span><span>)</span></a>.
</p>
<p>The congestion avoidance behavior is the protocol's most important feature in terms of historical relevance as well as relevance in the context of this document (it has been shown that other elements of the protocol can sometimes play a greater role for its overall behavior <a class='info' href='#Hen+00'>[Hen+00]<span> (</span><span class='info'>Hengartner, U., Bolliger, J., and T. Gross, &ldquo;TCP Vegas revisited,&rdquo; March&nbsp;2000.</span><span>)</span></a>). In Congestion Avoidance, once per RTT, TCP Vegas calculates the expected throughput as WindowSize / BaseRTT, where WindowSize is the current congestion window and BaseRTT is the minimum of all measured RTTs. The expected throughput is then compared with the actual (measured) throughput. If the actual throughput is smaller than the expected throughput minus a threshold, this is taken as a sign that the network is underutilized, causing the protocol to linearly increase its rate. If the actual throughput is greater than the expected throughput plus a threshold, this is taken as a sign of congestion, causing the protocol to linearly decrease its rate.
		
</p>
<p>TCP Vegas has been analyzed extensively. One of the most prominent properties of TCP Vegas is its fairness between multiple flows of the same kind, which does not penalize flows with large propagation delays in the same way as standard TCP. While it was not the first protocol that uses delay as a congestion indication, its predecessors (which can be found in <a class='info' href='#Bra+94'>[Bra+94]<span> (</span><span class='info'>Brakmo, L., O'Malley, S., and L. Peterson, &ldquo;TCP Vegas: New techniques for congestion detection and avoidance,&rdquo; August&nbsp;1994.</span><span>)</span></a>) are not discussed here because of the historical "landmark" role that TCP Vegas has taken in the literature.
		
</p>
<p>Transport protocols which were designed to be non-intrusive include <a class='info' href='#Kuz+06'>TCP-LP<span> (</span><span class='info'>Kuzmanovic, A. and E. Knightly, &ldquo;TCP-LP: low-priority service via end-point congestion control,&rdquo; August&nbsp;2006.</span><span>)</span></a> [Kuz+06], <a class='info' href='#Ven+02'>TCP Nice<span> (</span><span class='info'>Venkataramani, A., Kokku, R., and M. Dahlin, &ldquo;TCP Nice: a mechanism for background transfers,&rdquo; 2002.</span><span>)</span></a> [Ven+02] and <a class='info' href='#Liu+07'>4CP<span> (</span><span class='info'>Liu, S., Vojnovic, M., and D. Gunawardena, &ldquo;Competitive and Considerate Congestion Control for Bulk Data Transfers,&rdquo; June&nbsp;2007.</span><span>)</span></a> [Liu+07]. Using a simple analytical model, the authors of <a class='info' href='#Kuz+06'>[Kuz+06]<span> (</span><span class='info'>Kuzmanovic, A. and E. Knightly, &ldquo;TCP-LP: low-priority service via end-point congestion control,&rdquo; August&nbsp;2006.</span><span>)</span></a> illustrate the feasibility of this endeavor by showing that, due to the non-linear relationship between throughput and RTT, it is possible to remain transparent to standard TCP even when the flows under consideration have a larger RTT than standard TCP flows.
		
</p>
<p>TCP Nice <a class='info' href='#Ven+02'>[Ven+02]<span> (</span><span class='info'>Venkataramani, A., Kokku, R., and M. Dahlin, &ldquo;TCP Nice: a mechanism for background transfers,&rdquo; 2002.</span><span>)</span></a> follows the same basic approach as TCP Vegas but improves upon it in some aspects. Because of its moderate linear-decrease congestion response, TCP Vegas can affect standard TCP despite its ability to detect congestion early. TCP Nice removes this issue by halving the congestion window (at most once per RTT, like standard TCP) instead of linearly reducing it. To avoid being too conservative, this is only done if a fixed predefined fraction of delay-based incipient congestion signals appears within one RTT. Otherwise, TCP Nice falls back to the congestion avoidance rules of TCP Vegas if no packet was lost or standard TCP if a packet was lost. One more feature of TCP Nice is its ability to support a congestion window of less than one packet, by clocking out single packets over more than one RTT. With ns-2 simulations and real-life experiments using a Linux implementation, the authors of <a class='info' href='#Ven+02'>[Ven+02]<span> (</span><span class='info'>Venkataramani, A., Kokku, R., and M. Dahlin, &ldquo;TCP Nice: a mechanism for background transfers,&rdquo; 2002.</span><span>)</span></a> show that TCP Nice achieves its goal of efficiently utilizing spare capacity while being non-intrusive to standard TCP.
		
</p>
<p>Other than TCP Vegas and TCP Nice, TCP-LP uses only the one-way delay (OWD) instead of the RTT as an indicator of incipient congestion. This is done to avoid reacting to delay fluctuations that are caused by reverse cross-traffic. Using the TCP Timestamps option <a class='info' href='#RFC1323'>[RFC1323]<span> (</span><span class='info'>Jacobson, V., Braden, B., and D. Borman, &ldquo;TCP Extensions for High Performance,&rdquo; May&nbsp;1992.</span><span>)</span></a>, the OWD is determined as the difference between the receiver's Timestamp value in the ACK and the original Timestamp value that the receiver copied into the ACK. While the result of this subtraction can only precisely represent the OWD if clocks are synchronized, its absolute value is of no concern to TCP-LP and hence clock synchronization is unnecessary.
		Using a constant smoothing parameter, TCP-LP calculates an Exponentially Weighted Moving Average (EWMA) of the measured OWD and checks whether the result exceeds a threshold within the range of the minimum and maximum OWD that was seen during the connections's lifetime; if it does, this condition is interpreted as an "early congestion indication". The minimum and maximum OWD values are initialized during the slow-start phase.
		
</p>
<p>Regarding its reaction to an early congestion indication, TCP-LP tries to strike a middle ground between the overly conservative choice of immediately setting the congestion window to one packet and the presumably too aggressive choice of halving the congestion window like standard TCP. It does so by halving the window at first in response to an early congestion indication, then initializing an "interference time-out timer", and maintaining the window size until this timer fires. If another early congestion indication appeared during this "interference phase", the window is then set to 1; otherwise, the window is maintained and TCP-LP continues to increase it the standard Additive-Increase fashion. This method ensures that it takes at least two RTTs for a TCP-LP flow to decrease its window to 1, and, like standard TCP, TCP-LP reacts to congestion at most once per RTT.
</p>
<p>With ns-2 simulations and real-life experiments using a Linux implementation, the authors of <a class='info' href='#Kuz+06'>[Kuz+06]<span> (</span><span class='info'>Kuzmanovic, A. and E. Knightly, &ldquo;TCP-LP: low-priority service via end-point congestion control,&rdquo; August&nbsp;2006.</span><span>)</span></a> show that TCP-LP is largely non-intrusive to TCP traffic while at the same time enabling it to utilize a large portion of the excess network bandwidth, which is fairly shared among competing TCP-LP flows. They also show that using their protocol for bulk data transfers greatly reduces file transfer times of competing best-effort web traffic.
		
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Non-delay-based transport protocols</h3>

<p><a class='info' href='#Liu+07'>4CP<span> (</span><span class='info'>Liu, S., Vojnovic, M., and D. Gunawardena, &ldquo;Competitive and Considerate Congestion Control for Bulk Data Transfers,&rdquo; June&nbsp;2007.</span><span>)</span></a> [Liu+07], which stands for "Competitive and Considerate Congestion Control", is a protocol which provides a LBE service by changing the window control rules of standard TCP. A "virtual window" is maintained, which, during a so-called "bad congestion phase" is reduced to less than a predefined minimum value of the actual congestion window. The congestion window is only increased again once the virtual window exceeds this minimum, and in this way the virtual window controls the duration during which the sender transmits with a fixed minimum rate. The 4CP congestion avoidance algorithm allows for setting a target average window and avoids starvation of "background" flows while bounding the impact on "foreground" flows. Its performance was evaluated in ns-2 simulations and in real-life experiments with a kernel-level implementation in Microsoft Windows Vista.
</p>
<p>Some work was done on applying weights to congestion control mechanisms, allowing a flow to be as aggressive as a number of parallel TCP flows at the same time. This is usually motivated by the fact that users may want to assign different priorities to different flows. The first, and best known, such protocol is <a class='info' href='#Cro+98'>MulTCP<span> (</span><span class='info'>Crowcroft, J. and P. Oechslin, &ldquo;Differentiated end-to-end Internet services using a weighted proportional fair sharing TCP,&rdquo; 1998.</span><span>)</span></a> [Cro+98], which emulates N TCPs in a rather simple fashion. An improved version of MulTCP is presented in <a class='info' href='#Hac+04'>[Hac+04]<span> (</span><span class='info'>Hacker, T., Noble, B., and B. Athey, &ldquo;Improving Throughput and Maintaining Fairness using Parallel TCP,&rdquo; March&nbsp;2004.</span><span>)</span></a>, and there is also a variant where only one feedback loop is applied to control a larger traffic aggregate by the name of <a class='info' href='#Kuo+08'>Probe-Aided (PA-)MulTCP<span> (</span><span class='info'>Kuo, F. and X. Fu, &ldquo;Probe-Aided MulTCP: an aggregate congestion control mechanism,&rdquo; 2008.</span><span>)</span></a> [Kuo+08]. Another protocol, <a class='info' href='#Ott+04'>CP<span> (</span><span class='info'>Ott, D., Sparks, T., and K. Mayer-Patel, &ldquo;Aggregate congestion control for distributed multimedia applications,&rdquo; March&nbsp;2004.</span><span>)</span></a> [Ott+04], applies the same concept to the <a class='info' href='#RFC5348'>TFRC protocol<span> (</span><span class='info'>Floyd, S., Handley, M., Padhye, J., and J. Widmer, &ldquo;TCP Friendly Rate Control (TFRC): Protocol Specification,&rdquo; September&nbsp;2008.</span><span>)</span></a> [RFC5348] in order to provide such fairness differentiation for multimedia flows.
</p>
<p>The general assumption underlying all of the above work is that these protocols are "N-TCP-friendly", i.e. they are as TCP-friendly as N TCPs, where N is a positive (and possibly natural) number which is greater than or equal to 1. The <a class='info' href='#Dam+09'>MulTFRC<span> (</span><span class='info'>Damjanovic, D. and M. Welzl, &ldquo;MulTFRC: Providing Weighted Fairness for Multimedia Applications (and others too!),&rdquo; 2009.</span><span>)</span></a> [Dam+09] protocol, another extension of TFRC for multiple flows, is however able to support values between 0 and 1, making it applicable as a mechanism for a LBE service. Since it does not react to delay like the mechanisms above but adjusts its rate like TFRC, it can probably be expected to be more aggressive than mechanisms such as TCP Nice or TCP-LP. This also means that MulTFRC is less likely to be prone to starvation, as its aggression is tunable at a fine granularity even when N is between 0 and 1.
		
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Application layer approaches</h3>

<p>The mechanism described in <a class='info' href='#Spr+00'>[Spr+00]<span> (</span><span class='info'>Spring, N., Chesire, M., Berryman, M., Sahasranaman, V., Anderson, T., and B. Bershad, &ldquo;Receiver based management of low bandwidth access links,&rdquo; 2000.</span><span>)</span></a> controls the bandwidth by letting the receiver intelligently manipulate the receiver window of standard TCP. This is done because the authors assume a client-server setting where the receiver's access link is typically the bottleneck. The scheme incorporates a delay-based calculation of the expected queue length at the bottleneck, which is quite similar to the calculation in the above delay based protocols, e.g. TCP Vegas. Using a Linux implementation, where TCP flows are classified according to their application's needs, it is shown that a significant improvement in packet latency can be attained over an unmodified system while maintaining good link utilization.
		
</p>
<p>Receiver window tuning is also done in <a class='info' href='#Key+04'>[Key+04]<span> (</span><span class='info'>Key, P., MassouliÃ©, L., and B. Wang, &ldquo;Emulating Low-Priority Transport at the Application Layer: a Background Transfer Service,&rdquo; January&nbsp;2004.</span><span>)</span></a>, where choosing the right value for the window is phrased as an optimization problem. On this basis, two algorithms are presented, binary search -- which is faster than the other one at achieving a good operation point but fluctuates -- and stochastic optimization, which does not fluctuate but converges slower than binary search. These algorithms merely use the previous receiver window and the amount of data received during the previous control interval as input. According to <a class='info' href='#Key+04'>[Key+04]<span> (</span><span class='info'>Key, P., MassouliÃ©, L., and B. Wang, &ldquo;Emulating Low-Priority Transport at the Application Layer: a Background Transfer Service,&rdquo; January&nbsp;2004.</span><span>)</span></a>, the encouraging simulation results suggest that such an application level mechanism can work almost as well as a transport layer scheme like TCP-LP.
</p>
<p>TODO: mention other rwnd tuning and different application layer work, e.g. from related work sections of <a class='info' href='#Egg+05'>[Egg+05]<span> (</span><span class='info'>Eggert, L. and J. Touch, &ldquo;A Lower Effort Per-Domain Behavior (PDB) for Differentiated Services,&rdquo; October&nbsp;2005.</span><span>)</span></a> and <a class='info' href='#Kok+04'>[Kok+04]<span> (</span><span class='info'>Kokku, R., Bohra, A., Ganguly, S., and A. Venkataramani, &ldquo;A Multipath Background Network Architecture,&rdquo; May&nbsp;2007.</span><span>)</span></a> and intro of <a class='info' href='#Key+04'>[Key+04]<span> (</span><span class='info'>Key, P., MassouliÃ©, L., and B. Wang, &ldquo;Emulating Low-Priority Transport at the Application Layer: a Background Transfer Service,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Orthogonal work</h3>

<p>Various suggestions have been published for realizing a LBE service by influencing the way packets are treated in routers. One example is the Persistent Class Based Queuing (P-CBQ) scheme presented in <a class='info' href='#Car+01'>[Car+01]<span> (</span><span class='info'>Carlberg, K., Gevros, P., and J. Crowcroft, &ldquo;Lower than best effort: a design and implementation,&rdquo; 2001.</span><span>)</span></a>, which is a variant of Class Based Queuing (CBQ) with per-flow accounting. <a class='info' href='#RFC3662'>RFC 3662<span> (</span><span class='info'>Bless, R., Nichols, K., and K. Wehrle, &ldquo;A Lower Effort Per-Domain Behavior (PDB) for Differentiated Services,&rdquo; December&nbsp;2003.</span><span>)</span></a> [RFC3662] defines a DiffServ per-domain behavior called "Lower Effort".
</p>
<p><a class='info' href='#Kok+04'>Harp<span> (</span><span class='info'>Kokku, R., Bohra, A., Ganguly, S., and A. Venkataramani, &ldquo;A Multipath Background Network Architecture,&rdquo; May&nbsp;2007.</span><span>)</span></a> [Kok+04] realizes a LBE service by dissipating background traffic to less-utilized paths of the network. This is achieved without changing routers by using edge nodes as relays. According to the authors, these edge nodes should be gateways of organizations in order to align their scheme with usage incentives, but the technical solution would also work if Harp was only deployed in end hosts. It detects impending congestion by looking at delay similar to <a class='info' href='#Ven+02'>TCP Nice<span> (</span><span class='info'>Venkataramani, A., Kokku, R., and M. Dahlin, &ldquo;TCP Nice: a mechanism for background transfers,&rdquo; 2002.</span><span>)</span></a> [Ven+02] and manages to improve utilization and fairness over pure single-path solutions.
</p>
<p>An entirely different approach is taken in <a class='info' href='#Egg+05'>[Egg+05]<span> (</span><span class='info'>Eggert, L. and J. Touch, &ldquo;A Lower Effort Per-Domain Behavior (PDB) for Differentiated Services,&rdquo; October&nbsp;2005.</span><span>)</span></a>: here, the priority of a flow is reduced via a generic idletime scheduling strategy in a host's operating system. While results presented in this paper show that the new scheduler can effectively shield regular tasks from low-priority ones (e.g. TCP from greedy UDP) with only a minor performance impact, it is an underlying assumption that all involved end hosts would use the idletime scheduler. In other words, it is not the focus of this work to protect a standard TCP flow which originates from any host where the presented scheduling scheme may not be implemented.
</p>
<p>TODO: studies dealing with the precision of congestion prediction in end hosts (i.e. using delay to determine the onset of congestion) may be relevant in this document, and could be discussed here, e.g. <a class='info' href='#Bha+07'>[Bha+07]<span> (</span><span class='info'>Bhandarkar, S., Reddy, A., Zhang, Y., and D. Loguinov, &ldquo;Emulating AQM from end hosts,&rdquo; 2007.</span><span>)</span></a> and the references therein.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgements</h3>

<p>The author would like to thank Dragana Damjanovic for reference pointers. Surely lots of other folks will help in one way or another later and I'll thank them all here.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>This document introduces no new security considerations.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="Bha+07">[Bha+07]</a></td>
<td class="author-text">Bhandarkar, S., Reddy, A., Zhang, Y., and D. Loguinov, &ldquo;Emulating AQM from end hosts,&rdquo; Proceedings of ACM SIGCOMM&nbsp;2007, 2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="Bra+94">[Bra+94]</a></td>
<td class="author-text">Brakmo, L., O'Malley, S., and L. Peterson, &ldquo;TCP Vegas: New techniques for congestion detection and avoidance,&rdquo; Proceedings of SIGCOMM&nbsp;'94, pages 24-35, August&nbsp;1994.</td></tr>
<tr><td class="author-text" valign="top"><a name="Car+01">[Car+01]</a></td>
<td class="author-text">Carlberg, K., Gevros, P., and J. Crowcroft, &ldquo;Lower than best effort: a design and implementation,&rdquo; Workshop on Data communication in Latin America and the Caribbean&nbsp;2007, San Jose, Costa Rica, Pages: 244 - 265, 2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="Cro+98">[Cro+98]</a></td>
<td class="author-text">Crowcroft, J. and P. Oechslin, &ldquo;Differentiated end-to-end Internet services using a weighted proportional fair sharing TCP,&rdquo; ACM SIGCOMM Computer Communication Review&nbsp;vol. 28, no. 3 (July 1998), pp. 53-69, 1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="Dam+09">[Dam+09]</a></td>
<td class="author-text">Damjanovic, D. and M. Welzl, &ldquo;MulTFRC: Providing Weighted Fairness for Multimedia Applications (and others too!),&rdquo; Work in progress&nbsp;..., 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="Egg+05">[Egg+05]</a></td>
<td class="author-text">Eggert, L. and J. Touch, &ldquo;A Lower Effort Per-Domain Behavior (PDB) for Differentiated Services,&rdquo; Proceedings of 20th ACM Symposium on Operating Systems Principles&nbsp;SOSP 2005, Brighton, United Kingdom, pp. 249/262, October&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="Hac+04">[Hac+04]</a></td>
<td class="author-text">Hacker, T., Noble, B., and B. Athey, &ldquo;Improving Throughput and Maintaining Fairness using Parallel TCP,&rdquo; Proceedings of Infocom&nbsp;2004, March&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="Hen+00">[Hen+00]</a></td>
<td class="author-text">Hengartner, U., Bolliger, J., and T. Gross, &ldquo;TCP Vegas revisited,&rdquo; Proceedings of Infocom&nbsp;2000, March&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="Key+04">[Key+04]</a></td>
<td class="author-text">Key, P., MassouliÃ©, L., and B. Wang, &ldquo;Emulating Low-Priority Transport at the Application Layer: a Background Transfer Service,&rdquo; Proceedings of ACM SIGMETRICS&nbsp;2004, January&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="Kok+04">[Kok+04]</a></td>
<td class="author-text">Kokku, R., Bohra, A., Ganguly, S., and A. Venkataramani, &ldquo;A Multipath Background Network Architecture,&rdquo; Proceedings of Infocom&nbsp;2007, May&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="Kuo+08">[Kuo+08]</a></td>
<td class="author-text">Kuo, F. and X. Fu, &ldquo;Probe-Aided MulTCP: an aggregate congestion control mechanism,&rdquo; ACM SIGCOMM Computer Communication Review&nbsp;vol. 38, no. 1 (January 2008), pp. 17-28, 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="Kur+00">[Kur+00]</a></td>
<td class="author-text">Kurata, K., Hasegawa, G., and M. Murata, &ldquo;Fairness Comparisons Between TCP Reno and TCP Vegas for Future Deployment of TCP Vegas,&rdquo; Proceedings of INET&nbsp;2000, July&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="Kuz+06">[Kuz+06]</a></td>
<td class="author-text">Kuzmanovic, A. and E. Knightly, &ldquo;<a href="http://www.ece.rice.edu/networks/TCP-LP/">TCP-LP: low-priority service via end-point congestion control</a>,&rdquo; IEEE/ACM Transactions on Networking (ToN)&nbsp; Volume 14, Issue 4, pp. 739-752., August&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="Liu+07">[Liu+07]</a></td>
<td class="author-text">Liu, S., Vojnovic, M., and D. Gunawardena, &ldquo;Competitive and Considerate Congestion Control for Bulk Data Transfers,&rdquo; Proceedings of IWQoS&nbsp;2007, June&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="Ott+04">[Ott+04]</a></td>
<td class="author-text">Ott, D., Sparks, T., and K. Mayer-Patel, &ldquo;Aggregate congestion control for distributed multimedia applications,&rdquo; Proceedings of Infocom&nbsp;2004, March&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1323">[RFC1323]</a></td>
<td class="author-text"><a href="mailto:van@CSAM.LBL.GOV">Jacobson, V.</a>, <a href="mailto:Braden@ISI.EDU">Braden, B.</a>, and <a href="mailto:dab@cray.com">D. Borman</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1323">TCP Extensions for High Performance</a>,&rdquo; RFC&nbsp;1323, May&nbsp;1992 (<a href="ftp://ftp.isi.edu/in-notes/rfc1323.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2309">[RFC2309]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, B.</a>, <a href="mailto:DDC@lcs.mit.edu">Clark, D.</a>, <a href="mailto:Jon.Crowcroft@cs.ucl.ac.uk">Crowcroft, J.</a>, <a href="mailto:bdavie@cisco.com">Davie, B.</a>, <a href="mailto:deering@cisco.com">Deering, S.</a>, <a href="mailto:Estrin@usc.edu">Estrin, D.</a>, <a href="mailto:Floyd@ee.lbl.gov">Floyd, S.</a>, <a href="mailto:Van@ee.lbl.gov">Jacobson, V.</a>, <a href="mailto:Minshall@fiberlane.com">Minshall, G.</a>, <a href="mailto:craig@bbn.com">Partridge, C.</a>, <a href="mailto:LLP@cs.arizona.edu">Peterson, L.</a>, <a href="mailto:KKRama@research.att.com">Ramakrishnan, K.</a>, <a href="mailto:Shenker@parc.xerox.com">Shenker, S.</a>, <a href="mailto:JTW@lcs.mit.edu">Wroclawski, J.</a>, and <a href="mailto:Lixia@cs.ucla.edu">L. Zhang</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2309">Recommendations on Queue Management and Congestion Avoidance in the Internet</a>,&rdquo; RFC&nbsp;2309, April&nbsp;1998 (<a href="ftp://ftp.isi.edu/in-notes/rfc2309.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2309.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2309.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3662">[RFC3662]</a></td>
<td class="author-text">Bless, R., Nichols, K., and K. Wehrle, &ldquo;<a href="http://tools.ietf.org/html/rfc3662">A Lower Effort Per-Domain Behavior (PDB) for Differentiated Services</a>,&rdquo; RFC&nbsp;3662, December&nbsp;2003 (<a href="ftp://ftp.isi.edu/in-notes/rfc3662.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5348">[RFC5348]</a></td>
<td class="author-text">Floyd, S., Handley, M., Padhye, J., and J. Widmer, &ldquo;<a href="http://tools.ietf.org/html/rfc5348">TCP Friendly Rate Control (TFRC): Protocol Specification</a>,&rdquo; RFC&nbsp;5348, September&nbsp;2008 (<a href="ftp://ftp.isi.edu/in-notes/rfc5348.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Spr+00">[Spr+00]</a></td>
<td class="author-text">Spring, N., Chesire, M., Berryman, M., Sahasranaman, V., Anderson, T., and B. Bershad, &ldquo;Receiver based management of low bandwidth access links,&rdquo; Proceedings of Infocom&nbsp;2000, pp. 245-254, vol.1, 2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="Ven+02">[Ven+02]</a></td>
<td class="author-text">Venkataramani, A., Kokku, R., and M. Dahlin, &ldquo;TCP Nice: a mechanism for background transfers,&rdquo; Proceedings of OSDI&nbsp;'02, 2002.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael Welzl</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Innsbruck</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Technikerstr. 21 A</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Innsbruck,   6020</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Austria</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+43 512 507 6110</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:michael.welzl@uibk.ac.at">michael.welzl@uibk.ac.at</a></td></tr>
</table>
</body></html>
