<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>A Uniform RESTful URL Query Pattern for RIRs</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Path Specification">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 IP Networks">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Autonomous Systems">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Reverse DNS">
<link href="#rfc.section.3" rel="Chapter" title="3 Response Formats">
<link href="#rfc.references" rel="Chapter" title="4 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document describes uniform patterns for which to construct HTTP URLs that may be used to retreive information from Regional Internet Registries (RIRs) using "RESTful" web access patterns.  " />
  <meta name="description" content="This document describes uniform patterns for which to construct HTTP URLs that may be used to retreive information from Regional Internet Registries (RIRs) using "RESTful" web access patterns.  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">A.L. Newton</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">ARIN</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">K. Ranjbar</td>
</tr>
<tr>
<td class="left">Expires: March 24, 2012</td>
<td class="right">RIPE NCC</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">A.L. Servin</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">LACNIC</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">September 21, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">A Uniform RESTful URL Query Pattern for RIRs<br />
  <span class="filename">draft-newton-et-al-weirds-rir-query-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document describes uniform patterns for which to construct HTTP URLs that may be used to retreive information from Regional Internet Registries (RIRs) using "RESTful" web access patterns.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on March 24, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>
<h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">The Regional Internet Registries (RIRs) have begun experimenting with RESTful web services for access to Whois data. This document presents uniform patterns which may be used to contruct URLs for accessing data from these RESTful web services.  </p>
<p id="rfc.section.1.p.2">The patterns described in this document purposefully do not encompass all of the methods employed in the Whois and RESTful web services of all of the RIRs. The intent of the patterns described here are to enable lookups of networks by IP address, autonomous system numbers by number, and reverse DNS meta-data reverse DNS domain labels. It is envisioned that each RIR will continue to maintain NICNAME/WHOIS and/or RESTful web services specific to their needs and those of their constituencies, and the information retreived through the patterns described here may reference such services.  </p>
<p id="rfc.section.1.p.3">Whois services, in general, are read-only services. Therefore URL patterns presented here are only applicable to the HTTP GET and HEAD methods.  </p>
<p id="rfc.section.1.p.4">This document does not describe the results or entities returned from issuing the described URLs with an HTTP GET. It is envisioned that other documents will describe these entities in various serialization formats, such as XML and JSON.  </p>
<p id="rfc.section.1.p.5">Additionally, resource management, provisioning and update functions are out of scope for this document. RIRs have various and divergent methods covering these functions, and it is unlikely a uniform approach for these functions will ever be possible.  </p>
<p id="rfc.section.1.p.6">And while HTTP contains mechanisms for servers to authenticate clients and clients to authenticate servers, from which authorization schemes may be built, both authentication of clients and servers and authorization for access to data are out-of-scope of this document. In general, these matters require "policy" and are not the domain of technical standards body.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Path Specification</h1>
<p id="rfc.section.2.p.1">The uniform patterns start with a base URL specified by each RIR or any other service provider offering this service. The base URL will be appended with resource type specific path segments. The base URL may contain its own path segments (e.g. http://example.com/... or http://example.com/restful-whois/... ).  </p>
<p id="rfc.section.2.p.2">The resource type path segments are: </p>

<dl>
<dt>'ip'</dt>
<dd style="margin-left: 8">IP networks and associated data referenced using either an IPv4 or IPv6 address (i.e. not CIDR notation).</dd>
<dt>'autnum'</dt>
<dd style="margin-left: 8">Autonomous system registrations and associated data referenced using an AS Plain autonomous system number.</dd>
<dt>'rdns'</dt>
<dd style="margin-left: 8">Reverse DNS information and associated data referenced using a fully-qualified domain name.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> <a href="#ip-network-paths" id="ip-network-paths">IP Networks</a>
</h1>
<p id="rfc.section.2.1.p.1">Queries for information about IP networks are of the form /ip/XXX.XXX.XXX.XXX/...  where the path segment following 'ip' is either an IPv4 or IPv6 address. While an IP address may fall into multiple IP networks in a hierarchy of networks, this query targets the "most-specific" or lowest IP network in a hierarchy.  </p>
<p id="rfc.section.2.1.p.2">Path segments following the IP address target specific information associated with the targetted IP network in the following way: </p>

<dl>
<dt>'registration'</dt>
<dd style="margin-left: 8">The query is for the network registration data.</dd>
<dt>'operator'</dt>
<dd style="margin-left: 8">The query is for data about the network operator of the IP network. The network operator is not always considered to be the end user or end site customer of the IP network, a distinction made in some cases. For example, a residential Internet installation may be assigned IP addresses, but the provider from whom they receive Internet access is considered the network operator. Another rule of thumb is that the network operator is the entity contacted to coordinate network issues and has published contact information for this purpose, and operator information can be further decomposed into operator contact information, which is returned with the 'operator' query when not specifically targetted (see below).</dd>
</dl>

<p> </p>
<p id="rfc.section.2.1.p.3">When no path segment follows the IP address, the semantics of the query are that both registration and operator information are to be returned.  </p>
<div id="#rfc.figure.1"></div>
<p>The following example URL is a query for the IP network registrion information.</p>
<pre>
                    
  http://example.com/somepath/ip/192.0.2.0/registration
                    
                    </pre>
<div id="#rfc.figure.2"></div>
<p>The following example URL is a query for the network operator information of the most specific network containing 192.0.2.0</p>
<pre>
                    
  http://example.com/somepath/ip/192.0.2.0/operator
                    
                    </pre>
<div id="#rfc.figure.3"></div>
<p>And this is an example URL for both the registration and operator information of the most specific network containing 192.0.2.0</p>
<pre>
                    
  http://example.com/somepath/ip/192.0.2.0
                    
                    </pre>
<p id="rfc.section.2.1.p.4">The contact information of an operator maybe specifically targetted by following it with a 'contacts' path segment. And the type of contact information may be further targetted by following that path segment with a type. The types are: </p>

<ul>
<li>tech</li>
<li>admin</li>
<li>abuse</li>
<li>noc</li>
</ul>

<p> </p>
<div id="#rfc.figure.4"></div>
<p>For example:</p>
<pre>
                        
  /ip/192.0.2.0/operator/contacts
                        
                    </pre>
<p>returns all the contact information for the network operator of the most specific network containing IP address 192.0.2.0.</p>
<div id="#rfc.figure.5"></div>
<p>And this path targets only the abuse contacts of that network operator.</p>
<pre>
                        
  /ip/192.0.2.0/operator/contacts/abuse
                        
                    </pre>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> Autonomous Systems</h1>
<p id="rfc.section.2.2.p.1">Queries for information regarding autonomous system number registrations are of the form /autnum/XXX/... where XXX is an autonomous system number. In some registries, registration of autonomous system numbers is done on an individual number basis, while other registries may register blocks of autonomous system numbers. The semantics of this query is such that if a number falls within a range of registered blocks, the target of the query is the block registration, and that individual number registrations are considered a block of numbers with a size of 1.  </p>
<div id="#rfc.figure.6"></div>
<p>For example, to find information on autonomous system number 65551, the following path would be used:</p>
<pre>
                        
  /autnum/65551
                        
                    </pre>
<p id="rfc.section.2.2.p.2">The autnum path segment may be followed by a 'registration' or 'operator' path segment or no additional path segment, all of which follow the semantics <a href="#ip-network-paths">above</a> <cite title="NONE">[ip-network-paths]</cite>.  </p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> Reverse DNS</h1>
<p id="rfc.section.2.3.p.1">Queries for reverse DNS information are of the form /rdns/XXXXXXXXX/... where XXXX is a fully-qualified domain name in either the in-addr.arpa or ip6.arpa zones.  </p>
<div id="#rfc.figure.7"></div>
<p>For example, to find information on the zone serving the network 192.0.2/24, the following path would be used:</p>
<pre>
                        
  /rdns/2.0.192.in-addr.arpa                        
                        
                    </pre>
<p id="rfc.section.2.3.p.2">The rdns path segment may be follwed by a 'registration' or 'operator' path segment or no additional path segment, all of which follow the semantics in <a href="#ip-network-paths">Section 2.1</a>.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Response Formats</h1>
<p id="rfc.section.3.p.1">URLs may contain the 'format' query parameter. The value of the query parameter contains the MIME type of the desired format of the response. This parameter is used instead of the HTTP Accept header to defeat web caches and better support HTTP clients that do not support alteration of the Accept header.  </p>
<div id="#rfc.figure.8"></div>
<p>The following is an example of a URL for AS 65551 requesting the response be in text/plain format:</p>
<pre>
                    
  http://example.com/autnum/65551?format=text%2Fplain
                    
                </pre>
<p id="rfc.section.3.p.2">This document does not specify the contents of the responses. It is envisioned that multiple format types may be supported. Other documents will specify the contents of responses.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">4.</a> References</h1>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Andrew Lee Newton</span> 
	  <span class="n hidden">
		<span class="family-name">Newton</span>
	  </span>
	</span>
	<span class="org vcardline">American Registry for Internet Numbers</span>
	<span class="adr">
	  <span>3635 Concorde Parkway</span>

	  <span class="vcardline">
		<span class="locality">Chantilly</span>,  
		<span class="region">VA</span> 
		<span class="code">20151</span>
	  </span>
	  <span class="country-name vcardline">US</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:andy@arin.net">andy@arin.net</a></span>

<span class="vcardline">URI: <a href="http://www.arin.net">http://www.arin.net</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Kaveh Ranjbar</span> 
	  <span class="n hidden">
		<span class="family-name">Ranjbar</span>
	  </span>
	</span>
	<span class="org vcardline">RIPE Network Coordination Centre</span>
	<span class="adr">
	  <span>Singel 258</span>

	  <span class="vcardline">
		<span class="locality">Amsterdam</span>,  
		<span class="region"></span>
		<span class="code">1016AB</span>
	  </span>
	  <span class="country-name vcardline">NL</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:kranjbar@ripe.net">kranjbar@ripe.net</a></span>

<span class="vcardline">URI: <a href="http://www.ripe.net">http://www.ripe.net</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Arturo L. Servin</span> 
	  <span class="n hidden">
		<span class="family-name">Servin</span>
	  </span>
	</span>
	<span class="org vcardline">Latin American and Caribbean Internet Address Registry</span>
	<span class="adr">
	  <span>Rambla Republica de Mexico 6125</span>

	  <span class="vcardline">
		<span class="locality">Montevideo</span>,  
		<span class="region"></span>
		<span class="code">11300</span>
	  </span>
	  <span class="country-name vcardline">UY</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:aservin@lacnic.net">aservin@lacnic.net</a></span>

<span class="vcardline">URI: <a href="http://www.lacnic.net">http://www.lacnic.net</a></span>

  </address>
</div>
  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Path Specification</a>
</li>
<li>2.1.   <a href="#rfc.section.2.1">IP Networks</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Autonomous Systems</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Reverse DNS</a>
</li>
<li>3.   <a href="#rfc.section.3">Response Formats</a>
</li>
<li>4.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  

</body>
</html>