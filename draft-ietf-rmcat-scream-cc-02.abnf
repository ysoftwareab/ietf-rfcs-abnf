owd_fraction = owd/owd_target
owd_fraction_avg = (1-OWD_WEIGHT)*owd_fraction_avg+
          OWD_WEIGHT*owd_fraction
a = R(owd_fraction_hist,1)/R(owd_fraction_hist,0)
owd_trend = a*owd_fraction_avg
owd_trend_mem = max(0.99*owd_trend_mem, owd_trend)

in_fast_increase = false
cwnd_last_max = cwnd
cwnd = max(min_cwnd,cwnd*BETA_LOSS)
in_fast_increase = false
cwnd_last_max = cwnd
cwnd = max(min_cwnd,cwnd*BETA_ECN)
scale = max(0.2,min(1.0,(abs(cwnd-cwnd_last_max)/cwnd_i*4)^2))

in_fast_increase=false
cwnd_i=cwnd
cwnd = cwnd + bytes_newly_acked*scale
off_target = (owd_target - owd) / owd_target

gain = GAIN
cwnd = min(cwnd, max_bytes_in_flight*MAX_BYTES_IN_FLIGHT_HEAD_ROOM)
cwnd = max(cwnd, MIN_CWND)



owd_norm = owd / OWD_TARGET_LOW
owd_norm_var = VARIATION(owd_norm_history(100))
owd_norm_avg = AVERAGE(owd_norm_history(20))
owd_target = owd_norm_avg*OWD_TARGET_LO*1.1
owd_target = min(OWD_TARGET_HI, owd_target)
owd_target = max(OWD_TARGET_LO, owd_target)

x_cwnd=1.0+BYTES_IN_FLIGHT_SLACK*(1.0-owd_trend/0.5)/100.0
cwnd_s = max(cwnd*x_cwnd, cwnd+MSS)

send_wnd = cwnd_s-bytes_in_flight

target_bitrate_last_max = target_bitrate
target_bitrate = max(BETA_R* target_bitrate, TARGET_BITRATE_MIN)
scl_i = (target_bitrate - target_bitrate_last_max)/
          target_bitrate_last_max
increment = RAMP_UP_SPEED*RATE_ADJUST_INTERVAL*
                   (1.0-min(1.0, owd_trend/0.2))
pre_congestion = min(1.0, max(0.0, owd_fraction_avg-0.3)/0.7)
target_bitrate=current_rate*(1.0-PRE_CONGESTION_GUARD*
             pre_congestion)-TX_QUEUE_SIZE_FACTOR *rtp_queue_size
rate_rtp_limit = max(br, max(rate_rtp,rtp_rate_median))
target_bitrate = min(target_bitrate, rate_rtp_limit)
target_bitrate = min(TARGET_BITRATE_MAX,
        max(TARGET_BITRATE_MIN,target_bitrate))


PRE_CONGESTION_GUARD=0, the effect is a somewhat faster rate increase
n=N-k
n=1

                    Figure 2: Autocorrelation function

