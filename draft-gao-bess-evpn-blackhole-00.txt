



Network Working Group                                             Y. Gao
Internet-Draft                                                   H. Wang
Intended status: Standards Track                     Huawei Technologies
Expires: January 3, 2019                                   July 02, 2018


           EVPN blackhole community extention for Blackholing
                    draft-gao-bess-evpn-blackhole-00

Abstract

   Ethernet Virtual Private Networks (EVPN) is becoming the de-facto
   standard-based control plane solution for Data Center and layer-2
   Service Provider applications.The risk of hacking and DDos attacks
   within the EVPN network is general common concern.Blackhole mac is a
   method used to block hacking or DDos attacks, The network device
   discard the packets where the source or destionation match the
   blackhole mac.Normally blackhole mac is mannually configured on the
   networkdevic,Configure blackhole mac is complex and error-prone task
   for network operators.This document introduces a blackhole community
   extension for evpn mac route to distribute the blackhole mac in the
   EVPN networks.The evpn mac route with blackhole community allows the
   bgp speaker to notify the recipients the specific mac is a blackhole
   mac.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in .

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 3, 2019.




Gao & Wang               Expires January 3, 2019                [Page 1]

Internet-Draft      draft-gao-bess-evpn-blackhole-00           July 2018


Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Blackhole Extended Community Attribute  . . . . . . . . . . .   3
   3.  Control Plane Processing  . . . . . . . . . . . . . . . . . .   3
   4.  Data Packets Processing . . . . . . . . . . . . . . . . . . .   3
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   Hacking attacks are a serious threat to the network infrastructure.In
   order to prevent a hacker from using a MAC address to attack a user
   device or network, the MAC address of an untrusted user is configured
   as blackhole mac on the network device, The network device directly
   discards the received packets where the source or destination MAC
   address is the blackhole MAC address.

   DDoS attacks targeting a certain mac may cause congestion of links,In
   order to block DDoS attacks, the mac being attacked could be
   congfigured as blackhole mac on the network device, The network
   device directly discards the received packets where the destination
   MAC address is the blackhole MAC address.

   Normally blackhole mac address entrys are manually configured on the
   device.  After blackhole mac entrys are configured, the device
   discards packets from or destined for the blackhole mac address.
   Configure blackhole mac is complex and error-prone task for network
   operators.  Therefore a well-known BGP community for blackholing
   based on evpn route is defined for operational ease.



Gao & Wang               Expires January 3, 2019                [Page 2]

Internet-Draft      draft-gao-bess-evpn-blackhole-00           July 2018


   This document introduces a blackhole community extension for evpn mac
   route, The BGP speaker advertise evpn mac route with this community
   indicate that the specific mac is a blackhole mac, the recipients
   install the mac address as blackhole mac address entry and discard
   the packet corresponds to the blackhole mac address.

2.  Blackhole Extended Community Attribute

   MAC Mobility Extended Community can be used to carry the blackhole
   mac attribute.  MAC Mobility Extended Community may be advertised
   along with MAC/IP Advertisement routes.  The low-order eighth "S" bit
   of the Flags octet is already defined as the "Sticky/static" flag and
   may be set to 1.  A value of 1 means that the MAC address is static
   and cannot move.  The low-order seventh "B" bit of the Flags octet is
   used as "blackhole" flag and may be set to 1.  A value of 1 means
   that the MAC address is blackhole mac . The semantics of this
   attribute is to allow a network to interpret the presence of this
   community as an advisory qualification to drop any traffic being sent
   towards or from this mac.

   The MAC Mobility extended community is encoded as an 8-octet value,
   as follows:

        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Type=0x06     | Sub-Type=0x00 |R|R|R|R|R|R|B|S|  Reserved=0   |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                       Sequence Number                         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

3.  Control Plane Processing

   When a network device detect a hacking attack, it install the attack
   mac address as blackhole mac entry automatic or manually.  Then the
   network device advertise the attack mac address in evpn mac route
   with MAC Mobility Extended Community, the MAC Mobility Extended
   Community set the "blackhole" flag . The recipients install the mac
   address as blackhole mac address entry.

4.  Data Packets Processing

   When the network device received packets where the source or
   destination MAC address match the blackhole MAC address.  The network
   device discards the packet directly.







Gao & Wang               Expires January 3, 2019                [Page 3]

Internet-Draft      draft-gao-bess-evpn-blackhole-00           July 2018


5.  IANA Considerations

   TBD.

6.  Security Considerations

   Unauthorized addition of the BLACKHOLE BGP community to a mac route
   by the forwarding agent may cause a unexpected packet discard.  BGP
   have to support the mechanism to prevent the unauthorized
   modification of information by the forwarding agent.Recipients of
   routing information have the ability to to detect the unauthorized
   modification.  Howto prevent the unauthorized modification is out of
   the scope of this document.

7.  Acknowledgements

   The authors of this document would like to thank zhuangshunwan for
   their comments and review of this document.

8.  References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC7432]  Sajassi, A., Ed., Aggarwal, R., Bitar, N., Isaac, A.,
              Uttaro, J., Drake, J., and W. Henderickx, "BGP MPLS-Based
              Ethernet VPN", RFC 7432, DOI 10.17487/RFC7432, February
              2015, <https://www.rfc-editor.org/info/rfc7432>.

Authors' Addresses

   Yuan Gao
   Huawei Technologies
   101 Software Avenue, Yuhua District
   Nanjing  210012
   China

   Email: sean.gao@huawei.com











Gao & Wang               Expires January 3, 2019                [Page 4]

Internet-Draft      draft-gao-bess-evpn-blackhole-00           July 2018


   Haibo Wang
   Huawei Technologies
   Huawei Bld., No.156 Beiqing Rd.
   Beijing  100095
   China

   Email: rainsword.wang@huawei.com












































Gao & Wang               Expires January 3, 2019                [Page 5]
