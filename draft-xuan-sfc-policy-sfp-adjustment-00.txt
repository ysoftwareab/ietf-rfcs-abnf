<SFC Working Group>                                      Truong-Xuan Do
Internet Draft                                             Younghan Kim
Intended status: Informational               Soongsil University, Korea
Expires:   Jan 2017                                         Jul 7, 2016




          Policy-based Service Function Path Adjustment
              draft-xuan-sfc-policy-sfp-adjustment-00


			  
   Abstract
   
   This document describes about policy-based SFP adjustment which 
   covers two new use cases for SFP adjustment in addition to existing 
   use cases defined in [ietf-sfc-control-plane] and in 
   [irtf-nfvrg-resource-management]. These two use cases include 
   QoS and affinity policies. 
   
   
   Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."
   
   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html
   
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html
   
   This Internet-Draft will expire on Jan 2017.




<Do, et al.>               Expires January 7,2017              [Page 1]

Internet-Draft       <Policy-based SFP adjustment>         Jul  7, 2016


   Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors. All rights reserved.
   
   This document is subject to BCP 78 and the IETF Trust's Legal 
   Provisions
   Relating to IETF Documents (http://trustee.ietf.org/license-info)
   in effect on the date of publication of this document.  Please
   review these documents carefully, as they describe your rights
   and restrictions with respect to this document.
   
   

   Table of Contents

   1. Introduction...................................................3
   2. Conventions used in this document..............................3
   3. Service Function Path Adjustment...............................3
   4. Policy architecture for SFC....................................4
   5. Policy-based SFP adjustment....................................5
   6. Alignment with control plane document..........................6
   7. Security Considerations........................................6
   8. IANA Considerations............................................6
   9. References.....................................................6
      9.1. Normative References......................................6
      9.2. Informative References....................................6





<Do, et al.>               Expires January 7,2017              [Page 2]

Internet-Draft       <Policy-based SFP adjustment>         Jul  7, 2016 

1. Introduction
   
   The SFP could be dynamically adjusted based on the state and 
   attributes of the SFP components. In some cases, the SFP adjustment
   is carried out due to the failure of one SFP component or the 
   policies of network operators. This document describes about policy-
   based SFP adjustment which covers two new use cases for SFP 
   adjustment in addition to existing use cases defined in 
   [ietf-sfc-control-plane] and in [irtf-nfvrg-resource-management]. 
   These two use cases include polices related to Quality of Service
   treatment and affinity rules.    
   
   
   
2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [RFC2119].


    The terms about SFC, SFP, SFF, SF, and classifier are defined in 
    [RFC7665] and [ietf-sfc-control-plane]
	
3. Service Function Path Adjustment

As discribed in [RFC7665], the SFP is composed by the combination of 
different SF instances, SFFs, and classifiers. One SFC can have more 
than one SFPs. The SFP can be adjusted due to the failure of one SF in 
the chain or load balancing requirements of the network operators. 
These use cases are covered in the [ietf-sfc-control-plane] as below:
+ SFP fail-over
+ SFP with better latency
+ Traffic engineered SFP
+ SF/SFP load-balancing

Other use cases are also covered in [irtf-nfvrg-resource-management]

+ Path Optimization
+ Energy efficiency
	

<Do, et al.>               Expires January 7,2017              [Page 3]

Internet-Draft       <Policy-based SFP adjustment>         Jul  7, 2016


4. Policy architecture for SFC

Figure 1 shows the policy architecture for service function chain.
The policies are described in high level languagues at policy 
decision point (PDP) which will be translated into subsystem 
configurations and enforced at enforcement points (PEP).

                +------------+
                | Policy     |
                | decision   |
                +-----+------+
                      |
               +------|---------------------------------------+
               | +----v------+                                |
               | |Policy     | SFC  Control Plane             |
       +-------+ |enforcement|                                |
       |       | +-----------+                                |
       C1      +------------------^-------------^-------------+
+------+--------------|C3+------------------------------------+
|      |            +----+        |             |             |
|      |            | SF |        |C2           |C2           |
|      |            +-+--+        |             |             |
| +----V--- --+       |           |             |             |
| |   SFC     |     +-+--+      +-+---+        +-+---+        |
| |Classifier +----^+SFF +-----^+SFF  +-------^+SFF  |        |
| |   Node    +v----+(PEP)v-----+(PEP)+v-------+(PEP)|        |
| +-----------+     +-+--+      +-+---+        +--+--+        |
|                     |           |              |            |
|                     |C2      ---+---           |            |
|                     |       |       |     +----+------+ C4  |
|                     V     +-+--+ +--+-+   | SFC Proxy +-->  |
|                           | SF | |SF  |   +-----------+     |
|                           +----+ +----+                     |
|                             |C3    |C3                      |
|  SFC Data Plane Components  V      V                        |
+-------------------------------------------------------------+

               Figure 1. Policy architecture for SFC

			   

   

<Do, et al.>               Expires January 7,2017              [Page 4]

Internet-Draft       <Policy-based SFP adjustment>         Jul  7, 2016

5. Policy-based SFP adjustment

We assume that the control plane which is responsible for calculating 
the SFP has the global view and real-time status of network components
such as service function, service function forwarder. The control 
plane knows the capacity, location of each network component. 
The control plane also monitors the network metrics: workload, latency,
bandwidth of each component. Based on this information, the SFP 
adjustment can be done based on the policies from network operators
as followings:

+ QoS policies: depending on the service plan of each customer,the 
new SFP is calculated which takes into account the QoS parameters
of that customer. For example, the customer with gold plan will be 
served by the SFP which consists of SFs, SFFs, and classifiers 
satisfying the QoS parameters of that gold plan.


+---------------------------------------------------------------+
| Policy: "A customer with a Gold service plan"                 |
+------+----------------+----------------+-----------------+----+
       |                |                |                 |
       +                +                +                 +
       V                V                V                 V
+-------------+  +------------+   +------------+   +------------+
|Service      |  |Service     |   |Classifier  |   | Networking |
|Function     |  |Function    |   |            |   | subsystem  |
|             |  |Forwarder   |   |            |   |            |
|Policy       |  |Policy      |   |Policy      |   | Policy     |
|translation: |  |translation:|   |translation:|   | Translation|
|             |  |            |   |            |   |            |
|Selected SF  |  |Selected SFF|   |Selected    |   | Give the   |
|has low      |  |has strong  |   |classifier  |   | SFP best   |
|working load |  |capacity    |   |has strong  |   | latency    |
|low latency  |  |            |   |capacity    |   | bandwidth  |
|             |  |            |   |            |   |            |
|             |  |            |   |            |   |            |
+-------------+  +------------+   +------------+   +------------+

                 Figure 2. Policy-based SFP adjustment

+ Affinity and anti-affinity policies: the new SFP is calculated which 
takes into account the affinity or anti-affinity policies. For example,
when a SF in the SFP fails, the replacement SF should satisfy some 
anti-affinity policies defined by network operators for achieving 
the resiliency. That is, the replacement SF and failed SF instances 
should be located in the different physical hosts or hypervisors or 
NFVIs.  

+ Traffic engineering and load balancing policies: mentioned in the
[ietf-sfc-control-plane]
	

<Do, et al.>               Expires January 7,2017              [Page 5]



Internet-Draft       <Policy-based SFP adjustment>         Jul  7, 2016

6. Alignment with control plane document

This document adds two more use cases for SFP adjustment to the 
control plane document [ietf-sfc-control-plane] of SFC WG. 

7. Security Considerations
TBD.

8. IANA Considerations

TBD.

9. References

9.1. Normative References


   [RFC7665] 
             J. Halpern, C. Pignataro, "Service Function Chaining 
             (SFC) architecture", IETF RFC 7665, Oct 2015
			       



9.2. Informative References

    [ietf-sfc-control-plane] 
              M. Boucadair, "Service Function Chaining (SFC) 
              Control Plane Components & Requirements",
              draft-ietf-sfc-control-plane-06, May 2016

    [irtf-nfvrg-resource-management]
               
              Lee, S., Pack, S., Shin, M., and E. Paik, "Resource
              Management in Service Chaining", draft-irtf-nfvrg-
              resource-management-service-chain-03, Mar 2016.

<Do, et al.>               Expires January 7,2017              [Page 6]

Internet-Draft       <Policy-based SFP adjustment>         Jul  7, 2016


Authors' Addresses

   Truong-Xuan Do
   Soongsil University
   Changui Bldg. 403,
   (156-743) 511 Sangdo-Dong, Dongjak-Gu, Seoul, Korea

   Phone: +82 10 4473 6869
   Email: thespring1989@gmail.com


   Younghan Kim
   Soongsil University
   11F Hyungnam Engineering Bldg. 1107,
   (156-743) 511 Sangdo-Dong, Dongjak-Gu, Seoul, Korea

   Phone: +82-2-820-0904
   Email: younghak@ssu.ac.kr































<Do, et al.>               Expires January 7,2017              [Page 7]

