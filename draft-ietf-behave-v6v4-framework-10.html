<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Framework for IPv4/IPv6 Translation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Framework for IPv4/IPv6 Translation">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">behave</td><td class="header">F. Baker</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">X. Li</td></tr>
<tr><td class="header">Expires: February 18, 2011</td><td class="header">C. Bao</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">CERNET Center/Tsinghua University</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">K. Yin</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">August 17, 2010</td></tr>
</table></td></tr></table>
<h1><br />Framework for IPv4/IPv6 Translation<br />draft-ietf-behave-v6v4-framework-10</h1>

<h3>Abstract</h3>

<p>This note describes a framework for IPv4/IPv6 translation. This is in
      the context of replacing NAT-PT, which was deprecated by RFC 4966, and
      to enable networks to have IPv4 and IPv6 coexist in a somewhat rational
      manner while transitioning to an IPv6 network.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on February 18, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#why">1.1.</a>&nbsp;
Why Translation?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#glossary">1.2.</a>&nbsp;
Terminology<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#requirements">1.3.</a>&nbsp;
Translation Objectives<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#plan">1.4.</a>&nbsp;
Transition Plan<br />
<a href="#scenarios">2.</a>&nbsp;
Scenarios for IPv4/IPv6 Translation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario1">2.1.</a>&nbsp;
Scenario 1: an IPv6 network to the IPv4 Internet<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario2">2.2.</a>&nbsp;
Scenario 2: the IPv4 Internet to an IPv6 network<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario3">2.3.</a>&nbsp;
Scenario 3: the IPv6 Internet to an IPv4 network<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario4">2.4.</a>&nbsp;
Scenario 4: an IPv4 network to the IPv6 Internet<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario5">2.5.</a>&nbsp;
Scenario 5: an IPv6 network to an IPv4 network<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario6">2.6.</a>&nbsp;
Scenario 6: an IPv4 network to an IPv6 network<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario7">2.7.</a>&nbsp;
Scenario 7: the IPv6 Internet to the IPv4 Internet<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario8">2.8.</a>&nbsp;
Scenario 8: the IPv4 Internet to the IPv6 Internet<br />
<a href="#proposal">3.</a>&nbsp;
Framework<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#components2">3.1.</a>&nbsp;
Translation Components<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#address2">3.1.1.</a>&nbsp;
Address Translation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#iit2">3.1.2.</a>&nbsp;
IP and ICMP Translation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#napt64">3.1.3.</a>&nbsp;
Maintaining Translation State<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DNS64">3.1.4.</a>&nbsp;
DNS64 and DNS46<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ALG">3.1.5.</a>&nbsp;
ALGs for Other Applications Layer Protocols<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#scenario20">3.2.</a>&nbsp;
Operation Mode for Specific Scenarios<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#stateless2">3.2.1.</a>&nbsp;
Stateless Translation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#stateful2">3.2.2.</a>&nbsp;
Stateful Translation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">3.3.</a>&nbsp;
Layout of the Related Documents<br />
<a href="#ops22">4.</a>&nbsp;
Translation in Operation<br />
<a href="#anchor2">5.</a>&nbsp;
Unsolved Problems<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">7.</a>&nbsp;
Security Considerations<br />
<a href="#Acknowledgements">8.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This note describes a framework for IPv4/IPv6 translation. This is in
      the context of replacing <a class='info' href='#RFC2766'>NAT-PT (Network Address Translation - Protocol Translation)<span> (</span><span class='info'>Tsirtsis, G. and P. Srisuresh, &ldquo;Network Address Translation - Protocol Translation (NAT-PT),&rdquo; February&nbsp;2000.</span><span>)</span></a> [RFC2766], which was
      deprecated by <a class='info' href='#RFC4966'>[RFC4966]<span> (</span><span class='info'>Aoun, C. and E. Davies, &ldquo;Reasons to Move the Network Address Translator - Protocol Translator (NAT-PT) to Historic Status,&rdquo; July&nbsp;2007.</span><span>)</span></a>, and to enable networks to
      have IPv4 and IPv6 coexist in a somewhat rational manner while
      transitioning to an IPv6-only network.
</p>
<p>NAT-PT was deprecated to inform the community that NAT-PT had operational issues 
   and was not considered a 
   viable medium- or long-term strategy for
   either coexistence or transition.  

It wasn't intended to say that IPv4&lt;-&gt;IPv6 translation was bad, 
but the way that NAT-PT did it was bad, and in particular using 
NAT-PT as a general-purpose solution was bad. 

As with the deprecation of the RIP routing protocol 
	  <a class='info' href='#RFC1923'>[RFC1923]<span> (</span><span class='info'>Halpern, J. and S. Bradner, &ldquo;RIPv1 Applicability Statement for Historic Status,&rdquo; March&nbsp;1996.</span><span>)</span></a>
      at the time the Internet was converting to CIDR, the point was to encourage 
	  network operators to actually move away from technology with known issues.
</p>
<p><a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a> describes the IETF's view of the most
      sensible transition model. The IETF recommends, in short, that network
      operators (transit providers, service providers, enterprise networks,
      small and medium businesses, SOHO and residential customers, and any other
      kind of network that may currently be using IPv4) obtain an IPv6 prefix,
      turn on IPv6 routing within their networks and between themselves and
      any peer, upstream, or downstream neighbors, enable it on their
      computers, and use it in normal processing. This should be done while
      leaving IPv4 stable, until a point is reached that any communication
      that can be carried out could use either protocol equally well. At that
      point, the economic justification for running both becomes debatable,
      and network operators can justifiably turn IPv4 off. This process is
      comparable to that of <a class='info' href='#RFC4192'>[RFC4192]<span> (</span><span class='info'>Baker, F., Lear, E., and R. Droms, &ldquo;Procedures for Renumbering an IPv6 Network without a Flag Day,&rdquo; September&nbsp;2005.</span><span>)</span></a>, which describes
      how to renumber a network using the same address family without a flag
      day. While running stably with the older system, deploy the new. Use the
      coexistence period to work out such kinks as arise. When the new is also
      running stably, shift production to it. When network and economic
      conditions warrant, remove the old, which is now no longer
      necessary.
</p>
<p>The question arises: what if that is infeasible due to the time
      available to deploy or other considerations? What if the process of
      moving a network and its components or customers is starting too late
      for contract cycles to effect IPv6 turn-up on important parts at a point
      where it becomes uneconomical to deploy global IPv4 addresses in new
      services? How does one continue to deploy new services without
      balkanizing the network?
</p>
<p>This document describes translation as one of the tools
      networks might use to facilitate coexistence and ultimate
      transition.
</p>
<a name="why"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Why Translation?</h3>

<p>Besides dual-stack deployment, there are two fundamental approaches
        one could take to interworking between IPv4 and IPv6: tunneling and
        translation. One could - and in the  
	 <a class='info' href='#6NET'>[6NET]<span> (</span><span class='info'>, &ldquo;Website: http://www.6net.org/,&rdquo; .</span><span>)</span></a>
        we did - build an overlay
        network 
	 that tunnels one protocol over the other.
	 Various proposals take
        that model, including <a class='info' href='#RFC3056'>6to4<span> (</span><span class='info'>Carpenter, B. and K. Moore, &ldquo;Connection of IPv6 Domains via IPv4 Clouds,&rdquo; February&nbsp;2001.</span><span>)</span></a> [RFC3056], <a class='info' href='#RFC4380'>Teredo<span> (</span><span class='info'>Huitema, C., &ldquo;Teredo: Tunneling IPv6 over UDP through Network Address Translations (NATs),&rdquo; February&nbsp;2006.</span><span>)</span></a> [RFC4380], <a class='info' href='#RFC5214'>ISATAP<span> (</span><span class='info'>Templin, F., Gleeson, T., and D. Thaler, &ldquo;Intra-Site Automatic Tunnel Addressing Protocol (ISATAP),&rdquo; March&nbsp;2008.</span><span>)</span></a> [RFC5214], and <a class='info' href='#I-D.ietf-softwire-dual-stack-lite'>DS-Lite<span> (</span><span class='info'>Durand, A., Droms, R., Woodyatt, J., and Y. Lee, &ldquo;Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion,&rdquo; August&nbsp;2010.</span><span>)</span></a> [I&#8209;D.ietf&#8209;softwire&#8209;dual&#8209;stack&#8209;lite]. The
        advantage of doing so is that the new is enabled to work without
        disturbing the old protocol, providing connectivity between users of
        the new protocol. There are two disadvantages to tunneling:</p>
<ul class="text">
<li>

	     Users of the new architecture
            are unable to use
            the services of the underlying infrastructure - it is just
            bandwidth, and
</li>
<li>It doesn't enable new protocol users to communicate with old
            protocol users without dual-stack hosts.
</li>
</ul>

<p>As noted, in this work, we look at Internet Protocol translation as
        a transition strategy. <a class='info' href='#RFC4864'>[RFC4864]<span> (</span><span class='info'>Van de Velde, G., Hain, T., Droms, R., Carpenter, B., and E. Klein, &ldquo;Local Network Protection for IPv6,&rdquo; May&nbsp;2007.</span><span>)</span></a> forcefully makes
        the point that many of the reasons people use Network Address
        Translators are met as well by routing or protocol mechanisms that
        preserve the end-to-end addressability of the Internet. What it did
        not consider is the case in which there is an ongoing requirement to
        communicate with IPv4 systems, but for example configuring IPv4 routing is not in
        the network operator's view the most desirable strategy, or is
        infeasible due to a shortage of global address space. Translation
        enables the client of a network, whether a transit network, an access
        network, or an edge network, to access the services of the network and
        communicate with other network users regardless of their protocol
        usage - within limits. Like NAT-PT, IPv4/IPv6 translation under this
        rubric is not a long-term support strategy, but it is a medium-term
        coexistence strategy that can be used to facilitate a long-term
        program of transition.
</p>
<a name="glossary"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Terminology</h3>

<p>The following terminology is used in this document and other
        documents related to it. </p>
<blockquote class="text"><dl>
<dt>An IPv4 network:</dt>
<dd>A specific network that has an IPv4-only deployment.  
This could be an enterprise's IPv4-only network, an ISP's IPv4-only network or even an IPv4-only host. 
The IPv4 Internet is the set of all interconnected IPv4 networks.  
</dd>
<dt>An IPv6 network:</dt>
<dd> A specific network that has an IPv6-only deployment. 
This could be an enterprise's IPv6-only network, an ISP's IPv6-only network or even an IPv6-only host. 
The IPv6 Internet is the set of all interconnected IPv6 networks. 

</dd>
<dt>DNS46:</dt>
<dd>A DNS translator that translates AAAA record to A record.

</dd>
<dt>DNS64:</dt>
<dd>A DNS translator that translates A record to AAAA record.

</dd>
<dt>Dual-Stack implementation:</dt>
<dd>A Dual-Stack
            implementation, in this context, comprises an IPv4/IPv6 enabled end system
            stack, applications plus routing in the network. It implies that two application
            instances are capable of communicating using either IPv4 or IPv6 -
            they have stacks, they have addresses, and they have any necessary
            network support including routing.
</dd>
<dt>IPv4-converted addresses:</dt>
<dd>  
IPv6 addresses used to represent IPv4 nodes in an IPv6 network. 
They have an explicit mapping relationship to IPv4 addresses. 
Both stateless and stateful translators use IPv4-converted addresses 
to represent IPv4 addresses.
 
</dd>
<dt>IPv4-only:</dt>
<dd>An IPv4-only implementation, in this
            context, comprises an IPv4-enabled end system stack, applications 
	     directly or indirectly using that IPv4 stack, plus routing in the
            network. It implies that two application instances are capable of
            communicating using IPv4, but not IPv6 - they have an IPv4 stack,
            addresses, and network support including IPv4 routing and
            potentially IPv4/IPv4 translation, but some element is missing
            that prevents communication with IPv6 hosts.
</dd>
<dt>IPv4-translatable addresses:</dt>
<dd>  
IPv6 addresses to be assigned to IPv6 nodes for use with stateless translation.
They have an explicit mapping relationship to IPv4 addresses.
A stateless translator uses the corresponding IPv4 addresses to 
represent the IPv6 addresses. A stateful translator does not use 
this kind of addresses, since IPv6 hosts are represented by the 
IPv4 address pool in the translator via dynamic state. 
 
</dd>
<dt>IPv6-only:</dt>
<dd>An IPv6-only implementation, in this
            context, comprises an IPv6-enabled end system stack, applications 
	     directly or indirectly using that IPv6 stack,  plus routing in the
            network. It implies that two application instances are capable of
            communicating using IPv6, but not IPv4 - they have an IPv6 stack,
            addresses, and network support including routing in IPv6, but some
            element is missing that prevents communication with IPv4 hosts.
</dd>
<dt>Network-Specific Prefix (NSP):</dt>
<dd> 
	From an IPv6 prefix assigned to a network
   	operator, the operator chooses a longer prefix for use by the
   	operator's translator(s).  Hence a given IPv4 address would have
   	different IPv6 representations in different networks that use
   	different network-specific prefixes.  A network-specific prefix is also known as a
   	Local Internet Registry (LIR) prefix.
            
</dd>
<dt>State:</dt>
<dd>"State" refers to dynamic information that is
            stored in a network element. For example, if two systems are
            communicating using a TCP connection, each stores information about the
            connection, which is called "connection state". In this context,
            the term refers to dynamic correlations between IP addresses on
            either side of a translator, or {IP address, transport protocol,
            transport port number} tuples on either side of the translator. Of
            stateful algorithms, there are at least two major flavors
            depending on the kind of state they maintain: 
<blockquote class="text"><dl>
<dt>Hidden state:</dt>
<dd>the existence of this state is
                unknown outside the network element that contains it.
</dd>
<dt>Known state:</dt>
<dd>the existence of this state is
                known by other network elements.
</dd>
</dl></blockquote>
</dd>
<dt>Stateful Translation:</dt>
<dd>A translation algorithm may be
            said to "require state in a network element" or be "stateful" if
            the transmission or reception of a packet creates or modifies a
            data structure in the relevant network element.        
</dd>
<dt>Stateful Translator:</dt>
<dd> 
A translator that uses stateful translation 
for either the source or destination 
address. A stateful translator typically
also uses a stateless translation algorithm for the other type of 
address. 
		
</dd>
<dt>Stateless Translation:</dt>
<dd>A translation algorithm that
            is not "stateful" is "stateless". It derives its needed information
            algorithmically from the messages it is translating, and pre-configured information.
</dd>
<dt>Stateless Translator:</dt>
<dd>

A translator that uses only stateless
translation for both destination address and source
address.

		
</dd>
<dt>Well-Known Prefix (WKP):</dt>
<dd> 

The IPv6 prefix defined in 
<a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a> 
for use in an algorithmic mapping.
            
</dd>
</dl></blockquote>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Translation Objectives</h3>

<p>In any translation model, there is a question of objectives.
        Ideally, one would like to make any system and any application running
        on it able to "talk with" - exchange datagrams supporting applications
        with - any other system running the same application regardless of
        whether they have an IPv4 stack and connectivity or IPv6 stack and
        connectivity. That was the model for NAT-PT, and the things it
        necessitated led to scaling and operational difficulties 
        <a class='info' href='#RFC4966'>[RFC4966]<span> (</span><span class='info'>Aoun, C. and E. Davies, &ldquo;Reasons to Move the Network Address Translator - Protocol Translator (NAT-PT) to Historic Status,&rdquo; July&nbsp;2007.</span><span>)</span></a>.
	
</p>
<p>So the question comes back to what different kinds of connectivity
        can be easily supported and what kinds are harder, and what technologies are
        needed to at least pick the low-hanging fruit. We observe that
        applications today fall into two main categories:</p>
<blockquote class="text"><dl>
<dt>Client/Server Application:</dt>
<dd>Per whatis.com,
            "'Client/server' describes the relationship between two computer
            programs in which one program, the client, makes a service request
            from another program, the server, which fulfills the request." In
            networking, the behavior of the applications is that connections
            are initiated from client software and systems to server software
            and systems. Examples include mail handling between an end user
            and his mail system (POP3, IMAP, and MUA-&gt;MTA SMTP), FTP, the
            web, and DNS name resolution.
</dd>
<dt>Peer-to-Peer (P2P) Application:</dt>
<dd> A P2P application is an 
		application that uses the same endpoint to initiate outgoing sessions to 
		peering hosts as well as accept incoming sessions from peering hosts.
		These in turn fall broadly into two categories:
<blockquote class="text"><dl>
<dt>Peer-to-peer infrastructure applications:</dt>
<dd>Examples
                of "infrastructure applications" include SMTP between MTAs,
                Network News, and SIP. Any MTA might open an SMTP session with
                any other at any time; any SIP Proxy might similarly connect
                with any other SIP Proxy. An important characteristic of these
                applications is that they use ephemeral sessions - they open
                sessions when they are needed and close them when they are
                done.
</dd>
<dt>Peer-to-peer file exchange applications:</dt>
<dd>Examples
                of these include Limewire, BitTorrent, and UTorrent. These are
                applications that open some sessions between systems and leave
                them open for long periods of time, and where ephemeral
                sessions are important, are able to learn about the
                reliability of peers from history or by reputation. They use
                the long-term sessions to map content availability. Short-term
                sessions are used to exchange content. They tend to prefer to
                ask for content from peers that they find reliable and
                available.
</dd>
</dl></blockquote>
</dd>
</dl></blockquote>

<p>If the goal is the ability to open connections between
        systems, then one must ask who opens connections. </p>
<ul class="text">
<li>We need a technology that will enable systems that act as
            clients to be able to open sessions with other systems that act as
            servers, whether in the IPv6-&gt;IPv4 direction or the
            IPv4-&gt;IPv6 direction. Ideally, this is stateless; especially in
            a carrier infrastructure, the preponderance of accesses will be to
            servers, and this optimizes access to them. However, a stateful
            algorithm is acceptable if the complexity is minimized and a
            stateless algorithm cannot be constructed.
</li>
<li>We also need a technology that will allow peers to connect with
            each other, whether in the IPv6-&gt;IPv4 direction or the
            IPv4-&gt;IPv6 direction. Again, it would be ideal if this was
            stateless, but a stateful algorithm is acceptable if the
            complexity is minimized and a stateless algorithm cannot be
            constructed.
</li>
<li>In some situations, hosts are purely clients.  
		In those situations, we do not need an algorithm to enable connections to those hosts.
</li>
</ul>

<p>The complexity arguments bring us in the direction of hidden state:
        if state must be shared between the application and the translator or
        between translation components, complexity and deployment issues are
        greatly magnified. The objective of the translators is to avoid, as much as possible, 
	any software changes in hosts or applications necessary to support translation.
		
</p>
<p>NAT-PT is an example of a facility with known state - at least two
        software components (the data plane translator and the DNS Application
        Layer Gateway, which may be implemented in the same or different
        systems) share and must coordinate translation state. A typical
        IPv4/IPv4 NAT implements an algorithm with hidden state. Obviously,
        stateless translation requires less computational overhead than
        stateful translation, and less memory to maintain the state, because
        the translation tables and their associated methods and processes
        exist in a stateful algorithm and don't exist in a stateless one.
</p>
<a name="plan"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.4"></a><h3>1.4.&nbsp;
Transition Plan</h3>

<p>While the design of IPv4 made it impossible for IPv6 to be
        compatible on the wire, the designers intended that it would coexist
        with IPv4 during a period of transition. The primary mode of
        coexistence was dual-stack operation - routers would be dual-stacked
        so that the network could carry both address families, and
        IPv6-capable hosts could be dual-stack to maintain access to IPv4-only
        partners. The goal was that the preponderance of hosts and routers in
        the Internet would be IPv6-capable long before IPv4 address space
        allocation was completed. At this time, it appears the exhaustion of
        IPv4 address space will occur before significant IPv6 adoption.
</p>
<p>Curran's <a class='info' href='#RFC5211'>"A Transition Plan for IPv6"<span> (</span><span class='info'>Curran, J., &ldquo;An Internet Transition Plan,&rdquo; July&nbsp;2008.</span><span>)</span></a> [RFC5211] proposes a three-phase progression: </p>
<blockquote class="text"><dl>
<dt>Preparation Phase (current):</dt>
<dd>characterized by pilot
            use of IPv6, primarily through transition mechanisms defined in
            <a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a>, and planning activities.
</dd>
<dt>Transition Phase (2010 through 2011):</dt>
<dd>characterized
            by general availability of IPv6 in provider networks which should
            be native IPv6; organizations should provide IPv6 connectivity for
            their Internet-facing servers, but should still provide IPv4-based
            services via a separate service name.
</dd>
<dt>Post-Transition Phase (2012 and beyond):</dt>
<dd>characterized
            by a preponderance of IPv6-based services and diminishing support
            for IPv4-based services.
</dd>
</dl></blockquote>

<p>Various timelines have been discussed, but most will agree 
		with the pattern of the above three transition phases, also known as 
		an "S" curve transition pattern.
</p>
<p>In each of these phases, the coexistence problem and solution space
        has a different focus: </p>
<blockquote class="text"><dl>
<dt>Preparation Phase:</dt>
<dd>Coexistence tools are needed to
            facilitate early adopters by removing impediments to IPv6
            deployment, and to assure that nothing is lost by adopting IPv6,
            in particular that the IPv6 adopter has unfettered access to the
            global IPv4 Internet regardless of whether they have a global IPv4
            address (or any IPv4 address or stack at all). While it might
            appear reasonable for the cost and operational burden to be borne
            by the early adopter, the shared goal of promoting IPv6 adoption
            would argue against that model. Additionally, current IPv4 users
            should not be forced to retire or upgrade their equipment and the
            burden remains on service providers to carry and route native
            IPv4. This is known as the early stage of the "S" curve. 
</dd>
<dt>Transition Phase:</dt>
<dd>
			During the middle stage of "S" curve,     
			while IPv6 adoption can be
            expected to accelerate, there will still be a significant portion
            of the Internet operating IPv4-only or preferring IPv4. During
            this phase the norm shifts from IPv4 to IPv6, and coexistence
            tools evolve to ensure interoperability between domains that may
            be restricted to IPv4 or IPv6.
</dd>
<dt>Post-Transition Phase:</dt>
<dd> This is the last stage of "S" curve. In this phase, IPv6 is
            ubiquitous and the burden of maintaining interoperability shifts
            to those who choose to maintain IPv4-only systems. While these
            systems should be allowed to live out their economic life cycles,
            the IPv4-only legacy users at the edges should bear the cost of
            coexistence tools, and at some point service provider networks
            should not be expected to carry and route native IPv4 traffic.
</dd>
</dl></blockquote>

<p>The choice between the terms "transition" versus "coexistence" has
        engendered long philosophical debate. "Transition" carries the sense
        that one is going somewhere, while "coexistence" seems more like one is
        sitting somewhere. Historically with the IETF, "transition" has been
        the term of choice <a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a><a class='info' href='#RFC5211'>[RFC5211]<span> (</span><span class='info'>Curran, J., &ldquo;An Internet Transition Plan,&rdquo; July&nbsp;2008.</span><span>)</span></a>, and the tools for interoperability have been
        called "transition mechanisms". There is some perception or
        conventional wisdom that adoption of IPv6 is being impeded by the
        deficiency of tools to facilitate interoperability of nodes or
        networks that are constrained (in some way, fully or partially) from
        full operation in one of the address families. In addition, it is
        apparent that transition will involve a period of coexistence; the
        only real question is how long that will last.
</p>
<p>Thus, coexistence is an integral part of the transition plan, not
        in conflict with it, but there will be a balancing act. It starts out
        being a way for early IPv6 adopters to easily exploit the bigger IPv4
        Internet, and ends up being a way for late/never adopters to hang on
        with IPv4 (at their own expense, with minimal impact or visibility to
        the Internet). One way to look at solutions is that cost incentives
        (both monetary cost and the operational overhead for the end user)
        should encourage IPv6 and discourage IPv4. That way natural market
        forces will keep the transition moving - especially as the legacy
        IPv4-only stuff ages out of use. 
        
        The end goal should not be to
        eliminate IPv4 by fiat, but rather render it redundant through
        ubiquitous IPv6 deployment. IPv4 may never go away completely, but
        rational plans should move the costs of maintaining IPv4 to those who
        insist on using it after wide adoption of IPv6.
</p>
<a name="scenarios"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Scenarios for IPv4/IPv6 Translation</h3>

<p>
It is important to note that the choice of translation solution and the assumptions
about the network where they are used impact the consequences. A translator for the 
general case has a number of issues that a translator for a more specific situation 
may not have at all.  

</p>
<p>
The intention of this document is to focus on 
translation solutions
under all kinds of situations. 

All IPv4/IPv6 translation cases can be easily described in terms of 
"interoperation between a set of systems (applications) that only communicate using IPv4 
and a set of systems that only communicate using IPv6", but the differences 
at a detailed level make them interesting.  

</p>
<p>   
Based on the transition plan described in <a class='info' href='#plan'>Section&nbsp;1.4<span> (</span><span class='info'>Transition Plan</span><span>)</span></a>, there are 
four types of IPv4/IPv6 translation scenarios: 

</p>
<p>a. Interoperation between an IPv6 network and the IPv4 Internet  
</p>
<p>b. Interoperation between an IPv4 network and the IPv6 Internet  
</p>
<p>c. Interoperation between an IPv6 network and an IPv4 network    
</p>
<p>d. Interoperation between the IPv6 Internet and the IPv4 Internet 
</p>
<p> 
Each one of the above can be divided into two scenarios, depending on whether the 
IPv6 side or the IPv4 side initiates communication, so there are a total of
eight scenarios.

</p>
<p> Scenario 1: an IPv6 network to the IPv4 Internet  
</p>
<p> Scenario 2: the IPv4 Internet to an IPv6 network  
</p>
<p> Scenario 3: the IPv6 Internet to an IPv4 network  
</p>
<p> Scenario 4: an IPv4 network to the IPv6 Internet  
</p>
<p> Scenario 5: an IPv6 network to an IPv4 network    
</p>
<p> Scenario 6: an IPv4 network to an IPv6 network    
</p>
<p> Scenario 7: the IPv6 Internet to the IPv4 Internet
</p>
<p> Scenario 8: the IPv4 Internet to the IPv6 Internet
</p>
<p>
We will discuss each scenario in detail in the next section.

</p>
<a name="scenario1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Scenario 1: an IPv6 network to the IPv4 Internet</h3>

<p>
Due to the lack of IPv4 addresses or under other technical or economical
constraints, the network is IPv6-only, but the hosts in the network require 
communicating with the global IPv4 Internet. 

</p>
<p>
This is the typical scenario for what we sometimes call "green-field" deployments.  
One example is an enterprise network that wishes to operate only IPv6 for operational 
simplicity, but still wishes to reach the content in the IPv4 Internet. The green-field 
enterprise scenario is different from an ISP's network in the sense that there is only one place that the 
enterprise can easily modify: the border between its network and the IPv4 Internet.  
Obviously, the IPv4 Internet operates 
the way it already does.  But in addition, the hosts in the enterprise network are 
commercially available devices, personal computers with existing operating systems. 
This restriction drives us to a "one box" type of solution, where IPv6 can be 
translated into IPv4 to reach the public Internet. 

</p>
<p>
Other cases that have been mentioned include wireless ISP networks and sensor networks. 
These bear a striking resemblance to this scenario as well, if one considers the 
ISP network to simply be a very special kind of enterprise network.
    

</p><br /><hr class="insert" />
<a name="fig_scenario1_10"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------
   //        \\       -----------
  /            \     //          \\
 /             +----+              \
|              |XLAT|               |
|  The IPv4    +----+  An IPv6      |
|  Internet    +----+  Network      |  XLAT: IPv6/IPv4
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS64
  \            /     \\          //
   \\        //       -----------
      --------
                &lt;====
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Scenario 1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
Both stateless 
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a> 
and stateful
<a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a> 
solutions can support Scenario 1.

</p>
<a name="scenario2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Scenario 2: the IPv4 Internet to an IPv6 network</h3>

<p>

When the enterprise networks or ISP networks adopt Scenario 1,
the IPv6-only users will not only want to access servers on the IPv4 Internet 
but also want to setup their own servers in the network which are accessible by the users on the IPv4 Internet,
since the majority of the
Internet users are still in the IPv4 Internet.

Thus, with a translation solution for this scenario, the benefits 
would be clear.  Not only could servers move directly to IPv6 without trudging 
through a difficult transition period, 
but they could do so without risk of losing connectivity with the IPv4-only Internet. 

</p><br /><hr class="insert" />
<a name="fig_scenario2"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------
   //        \\        ----------
  /            \     //          \\
 /             +----+              \
|              |XLAT|               |
|  The IPv4    +----+  An IPv6      |
|  Internet    +----+  Network      |  XLAT: IPv4/IPv6
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS46
  \            /     \\          //
   \\        //        ----------
     --------
                ====&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Scenario 2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>   
In general, this scenario presents a hard case for translation.
Stateful translation such as NAT-PT <a class='info' href='#RFC2766'>[RFC2766]<span> (</span><span class='info'>Tsirtsis, G. and P. Srisuresh, &ldquo;Network Address Translation - Protocol Translation (NAT-PT),&rdquo; February&nbsp;2000.</span><span>)</span></a> can be used 
in this scenario, but it requires a tightly coupled DNS ALG in the translator and
 this technique was deprecated by the IETF  <a class='info' href='#RFC4966'>[RFC4966]<span> (</span><span class='info'>Aoun, C. and E. Davies, &ldquo;Reasons to Move the Network Address Translator - Protocol Translator (NAT-PT) to Historic Status,&rdquo; July&nbsp;2007.</span><span>)</span></a>.

</p>
<p> 
The stateless translation solution 
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>
in Scenario 1 can also work in Scenario 2, since it can support
IPv4-initiated communications with a subset of the IPv6 addresses (IPv4-translatable addresses) in an IPv6 network.

</p>
<a name="scenario3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Scenario 3: the IPv6 Internet to an IPv4 network</h3>

<p>
There is a requirement for a legacy IPv4 network to provide services to IPv6 
hosts. 

</p><br /><hr class="insert" />
<a name="fig_scenario3"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

                      -----------
    ----------       //         \\
  //          \\    /             \
 /             +----+              \
|              |XLAT|               |
|  An IPv4     +----+  The IPv6     |
|  Network     +----+  Internet     |  XLAT: IPv6/IPv4
|              |DNS |               |        Translator
 \             +----+               /  DNS:  DNS64
  \\         //      \             /
    ---------         \\         //
                       -----------
               &lt;====
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Scenario 3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
Stateless translation 
will not work for this scenario,  
because an IPv4 network needs to communicate with all of the IPv6 Internet, 
not just a small subset, and stateless can only support a subset of the IPv6 addresses.

However, IPv6-initiated communication can be achieved through stateful 
translation 
<a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>.


In this case, a Network Specific Prefix assigned to the translator will 
give the hosts unique IPv4-converted IPv6 addresses, no matter the 
legacy IPv4 network uses public IPv4 addresses or
<a class='info' href='#RFC1918'>[RFC1918]<span> (</span><span class='info'>Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and E. Lear, &ldquo;Address Allocation for Private Internets,&rdquo; February&nbsp;1996.</span><span>)</span></a> 
addresses. Also there is no need to synthesizing AAAA  from A records, 
since static AAAA records can be put in the 
regular DNS to represent these IPv4-only hosts as discussed 
in Section 7.3 of 
<a class='info' href='#I-D.ietf-behave-dns64'>[I&#8209;D.ietf&#8209;behave&#8209;dns64]<span> (</span><span class='info'>Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>.


</p>
<a name="scenario4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
Scenario 4: an IPv4 network to the IPv6 Internet</h3>

<p>
Due to technical or economical constraints, the network is IPv4-only, 
and IPv4-only hosts (applications) may require communicating with the global IPv6 Internet. 

</p><br /><hr class="insert" />
<a name="fig_scenario_4"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

                      -----------
    ----------       //         \\
  //          \\    /             \
 /             +----+              \
|              |XLAT|               |
|  An IPv4     +----+  The IPv6     |  XLAT: IPv4/IPv6
|  Network     +----+  Internet     |        Translator
|              |DNS |               |  DNS:  DNS46
 \             +----+               /
  \\         //      \             /
    ---------         \\         //
                       ----------
               =====&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Scenario 4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>   
In general, this scenario presents a hard case for translation.
Stateful translation such as NAT-PT <a class='info' href='#RFC2766'>[RFC2766]<span> (</span><span class='info'>Tsirtsis, G. and P. Srisuresh, &ldquo;Network Address Translation - Protocol Translation (NAT-PT),&rdquo; February&nbsp;2000.</span><span>)</span></a> can be used 
in this scenario, but it requires a tightly coupled DNS ALG in the translator and
 this technique was deprecated by the IETF  <a class='info' href='#RFC4966'>[RFC4966]<span> (</span><span class='info'>Aoun, C. and E. Davies, &ldquo;Reasons to Move the Network Address Translator - Protocol Translator (NAT-PT) to Historic Status,&rdquo; July&nbsp;2007.</span><span>)</span></a>.

</p>
<p>
From the transition phase discussion in <a class='info' href='#plan'>Section&nbsp;1.4<span> (</span><span class='info'>Transition Plan</span><span>)</span></a>, 
this scenario will probably only occur when we are well past the early stage of the "S" curve and 
the IPv4/IPv6 transition has already moved to the right direction. Therefore, in-network translation 
is not considered viable for this scenario and other techniques should be considered.

</p>
<a name="scenario5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.5"></a><h3>2.5.&nbsp;
Scenario 5: an IPv6 network to an IPv4 network</h3>

<p>
In this scenario, both an IPv4 network and an IPv6 network are within 
the same organization. 

</p>
<p>
The IPv4 addresses used are either public IPv4 addresses or <a class='info' href='#RFC1918'>[RFC1918]<span> (</span><span class='info'>Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and E. Lear, &ldquo;Address Allocation for Private Internets,&rdquo; February&nbsp;1996.</span><span>)</span></a> 
addresses.  The IPv6 addresses used are either public IPv6 addresses or 
<a class='info' href='#RFC4193'>ULAs (Unique Local Addresses)<span> (</span><span class='info'>Hinden, R. and B. Haberman, &ldquo;Unique Local IPv6 Unicast Addresses,&rdquo; October&nbsp;2005.</span><span>)</span></a> [RFC4193].

</p><br /><hr class="insert" />
<a name="fig_scenario5"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

    ---------          ---------
  //         \\      //          \\
 /             +----+              \
|              |XLAT|               |
|  An IPv4     +----+  An IPv6      |
|  Network     +----+  Network      |  XLAT: IPv6/IPv4
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS64
  \\         //      \\          //
     --------          ---------
               &lt;====

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Scenario 5&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>  
The translation requirement from this scenario has no 
significant difference from scenario 1, so both the stateful and stateless 
translation schemes discussed in <a class='info' href='#scenario1'>Section&nbsp;2.1<span> (</span><span class='info'>Scenario 1: an IPv6 network to the IPv4 Internet</span><span>)</span></a> apply here. 


</p>
<a name="scenario6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6"></a><h3>2.6.&nbsp;
Scenario 6: an IPv4 network to an IPv6 network</h3>

<p>
This is another scenario when both an IPv4 network and an IPv6 network are within 
the same organization.   

</p>
<p>
The IPv4 addresses used are either public IPv4 addresses or <a class='info' href='#RFC1918'>[RFC1918]<span> (</span><span class='info'>Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and E. Lear, &ldquo;Address Allocation for Private Internets,&rdquo; February&nbsp;1996.</span><span>)</span></a> 
addresses.  The IPv6 addresses used are either public IPv6 addresses or 
<a class='info' href='#RFC4193'>ULAs (Unique Local Addresses)<span> (</span><span class='info'>Hinden, R. and B. Haberman, &ldquo;Unique Local IPv6 Unicast Addresses,&rdquo; October&nbsp;2005.</span><span>)</span></a> [RFC4193].

</p><br /><hr class="insert" />
<a name="fig_scenario6"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------          ---------
  //         \\      //          \\
 /             +----+              \
|              |XLAT|               |
|  An IPv4     +----+  An IPv6      |
|  Network     +----+  Network      |  XLAT: IPv4/IPv6
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS46
   \\        //      \\          //
     --------          ---------
	         ====&gt;

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Scenario 6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The translation requirement from this scenario has no 
significant difference from scenario 2,  so the translation scheme 
discussed in <a class='info' href='#scenario2'>Section&nbsp;2.2<span> (</span><span class='info'>Scenario 2: the IPv4 Internet to an IPv6 network</span><span>)</span></a> applies here.

</p>
<a name="scenario7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.7"></a><h3>2.7.&nbsp;
Scenario 7: the IPv6 Internet to the IPv4 Internet</h3>

<p>
This seems the ideal case for in-network translation technology, where any IPv6-only host or application on the global Internet 
can initiate communication with any IPv4-only host or application on the global Internet.

</p><br /><hr class="insert" />
<a name="fig_scenario7"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------          ---------
   //       \\        //        \\
  /           \      /            \
 /             +----+              \
|              |XLAT|               |
|  The IPv4    +----+  The IPv6     |
|  Internet    +----+  Internet     |  XLAT: IPv6/IPv4
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS64
   \          /      \            /
    \\      //        \\        //
     --------          ---------
	       &lt;====

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: Scenario 7&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Due 
to the huge difference in size between the address spaces of the IPv4 Internet and the IPv6 
Internet, there is no viable translation technique to handle unlimited IPv6 address
translation. 

</p>
<p>
If we ever run into this scenario, fortunately, the IPv4/IPv6 transition has already 
passed the early stage of the "S" curve. Therefore, there is no obvious 
business reason to demand a translation solution as the only transition strategy.

</p>
<a name="scenario8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8"></a><h3>2.8.&nbsp;
Scenario 8: the IPv4 Internet to the IPv6 Internet</h3>

<p>
  This case is very similar to Scenario 7. The analysis and conclusions for Scenario 7 also applies for this scenario. 

</p><br /><hr class="insert" />
<a name="fig_scenario8"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------          ---------
   //       \\        //        \\
  /           \      /            \
 /             +----+              \
|              |XLAT|               |
|  The IPv4    +----+  The IPv6     |
|  Internet    +----+  Internet     |  XLAT: IPv4/IPv6
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS46
   \          /      \            /
    \\      //        \\        //
     --------          ---------
	         ====&gt;

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;8: Scenario 8&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="proposal"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Framework</h3>

<p>Having laid out the preferred transition model and the options for
      implementing it (<a class='info' href='#why'>Section&nbsp;1.1<span> (</span><span class='info'>Why Translation?</span><span>)</span></a>), defined terms (<a class='info' href='#glossary'>Section&nbsp;1.2<span> (</span><span class='info'>Terminology</span><span>)</span></a>), considered the requirements (<a class='info' href='#requirements'>Section&nbsp;1.3<span> (</span><span class='info'>Translation Objectives</span><span>)</span></a>), considered the transition model (<a class='info' href='#plan'>Section&nbsp;1.4<span> (</span><span class='info'>Transition Plan</span><span>)</span></a>), and considered the kinds of scenarios the
      facility would support (<a class='info' href='#scenarios'>Section&nbsp;2<span> (</span><span class='info'>Scenarios for IPv4/IPv6 Translation</span><span>)</span></a>), we now turn to a
      framework for IPv4/IPv6 translation. The framework contains the following components:

	 </p>
<ul class="text">
<li>Address translation
</li>
<li>IP and ICMP translation
</li>
<li>Maintaining translation state
</li>
<li>DNS64 and DNS46
</li>
<li>ALGs for other application-layer protocols (e.g., FTP)
</li>
</ul>

<a name="components2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Translation Components</h3>

<a name="address2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Address Translation</h3>

<p>
   When IPv6/IPv4 translation is performed, we should specify how an
   individual IPv6 address is translated to a corresponding IPv4
   address, and vice versa, in cases where an algorithmic mapping is used.
This includes the choice of IPv6 prefix and the choice of method 
by which the remainder of the IPv6 address is derived from an IPv4 address
<a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a>. The usages of the
IPv6 addresses are shown in the following figures.

</p><br /><hr class="insert" />
<a name="address-stateless"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

      ------------
H4 - (IPv4 network) - IPv4 address corresponding to H6's IPv4-
(IPv4 ------------            translatable address
address)          \
                   --------------
                  |Stateless XLAT|
                   --------------
                                 \
                                 -----------
IPv4-converted address of H4 - (IPv6 network) - H6 (IPv4-
                                 -----------   translatable address)

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;9: IPv6 address representation for stateless translation&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="address-stateful"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

      ------------
H4 - (IPv4 network) - IPv4 address in the translator's IPv4 pool
(IPv4 ------------
address)          \
                   --------------
                  |Stateful XLAT |
                   --------------
                                 \
                                 -----------
IPv4-converted address of H4 - (IPv6 network) - H6 (any IPv6 address)
                                 -----------

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;10: IPv6 address representation for stateful translation&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
     For both stateless and stateful translation, an algorithmic mapping table is used to 
     translate IPv6 destination addresses (IPv4-converted addresses) to IPv4 destination addresses                            
     in IPv6 to IPv4 direction and translate IPv4 source addresses                            
     to IPv6 source addresses (IPv4-converted addresses) in IPv4 to IPv6 direction. 
     Note that translating IPv6 source addresses to IPv4 source addresses in IPv6 to IPv4 direction and
     translating IPv4 destination addresses to IPv6 destination addresses in IPv4 to IPv6 direction
     will be different for 
     stateless translation and stateful translation. 

</p>
<p>
</p>
<ul class="text">
<li>
     For stateless translation, the same algorithmic mapping table is used 
     to translate IPv6 source addresses (IPv4-translatable addresses) to IPv4 source      
     addresses in IPv6 to IPv4 direction and 
     translate IPv4 destination addresses                               
     to IPv6 destination addresses (IPv4-translatable addresses) in IPv4 to IPv6 direction.  
     In this case, blocks of service provider's IPv4 
     addresses are mapped into IPv6 and used by physical IPv6 nodes. 
     The original IPv4 form of these blocks of service provider's IPv4 
     addresses are used to represent the physical IPv6 nodes in IPv4. 
     Note that stateless translation supports both IPv6 initiated as 
     well as IPv4 initiated communications. 

</li>
<li>

     For stateful translation, the algorithmic mapping table is not used to 
     translate source addresses in IPv6 to IPv4 direction and destination addresses in IPv4 to IPv6 direction. Instead, 
     a state table is used to 
     translate IPv6 source      addresses to IPv4 source      addresses in IPv6 to IPv4 direction and 
     translate IPv4 destination addresses to IPv6 destination addresses in IPv4 to IPv6 direction.  
     In this case, 
     blocks of the service provider's IPv4 addresses are maintained in 
     the translator as the IPv4 address pools and are dynamically bound 
     to specific IPv6 addresses.  The original IPv4 form of these 
     blocks of service provider's IPv4 addresses is used to represent 
     the IPv6 address in IPv4.  However, due to the dynamic binding, 
     stateful translation in general only supports IPv6-initiated 
     communication. 

</li>
</ul><p>

</p>
<a name="iit2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
IP and ICMP Translation</h3>

<p>
   The IPv4/IPv6 translator is based on the update to the Stateless IP/ICMP
   Translation Algorithm (SIIT) described in 
<a class='info' href='#RFC2765'>[RFC2765]<span> (</span><span class='info'>Nordmark, E., &ldquo;Stateless IP/ICMP Translation Algorithm (SIIT),&rdquo; February&nbsp;2000.</span><span>)</span></a>.

The algorithm
   translates between IPv4 and IPv6 packet headers (including ICMP
   headers).

</p>
<p>
   The IP and ICMP translation document 
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>
discusses header translation for both stateless and stateful modes, 
but does not cover maintaining state in the stateful mode.
   
	In the stateless mode, translation information is carried in the
   address itself plus configuration in the translator,

	permitting both IPv4->IPv6 and IPv6->IPv4 session
   establishment. In the stateful mode, translation state is maintained
   between IPv4 address/transport port tuples and IPv6 address/transport
   port tuples, enabling IPv6 systems to open sessions with IPv4
   systems.  The choice of operational mode is made by the operator
   deploying the network and is critical to the operation of the
   applications using it.

</p>
<a name="napt64"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.3"></a><h3>3.1.3.&nbsp;
Maintaining Translation State</h3>

<p>
  For the stateful translator, besides IP and ICMP translation, special 
 action must be taken to maintain the translation states.
<a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>
describes a mechanism for maintaining state.

</p>
<a name="DNS64"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.4"></a><h3>3.1.4.&nbsp;
DNS64 and DNS46</h3>

<p>
		DNS64 <a class='info' href='#I-D.ietf-behave-dns64'>[I&#8209;D.ietf&#8209;behave&#8209;dns64]<span> (</span><span class='info'>Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a> and possible future DNS46 documents
		describe the
          mechanisms by which a DNS translator is intended to operate. It is
          designed to operate on the basis of known address translation algorithms defined in 
		<a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a> 
	
</p>
<p>There are at least two possible implementations of a DNS64 and DNS46: 
		  </p>
<blockquote class="text"><dl>
<dt>Static records:</dt>
<dd>One could literally populate DNS
              with corresponding A and AAAA records. 
		This mechanism works for scenarios 2, 3, 5 and 6.
</dd>
<dt>Dynamic Translation of static records:</dt>
<dd>In more
              general operation, the preferred behavior is an A record to be
              (retrieved and) translated to an AAAA record by the DNS64 if and only if
              no reachable AAAA record exists, or for an AAAA record to be
              (retrieved and) translated to an A record by the DNS46 if and only if
              no reachable A record exists. 
		
</dd>
</dl></blockquote>

<a name="ALG"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.5"></a><h3>3.1.5.&nbsp;
ALGs for Other Applications Layer Protocols</h3>

<p>In addition, some applications require special support. An
          example is FTP. FTP's active mode doesn't work well across NATs
          without extra support such as SOCKS

<a class='info' href='#RFC1928'>[RFC1928]<span> (</span><span class='info'>Leech, M., Ganis, M., Lee, Y., Kuris, R., Koblas, D., and L. Jones, &ldquo;SOCKS Protocol Version 5,&rdquo; March&nbsp;1996.</span><span>)</span></a>
<a class='info' href='#RFC3089'>[RFC3089]<span> (</span><span class='info'>Kitamura, H., &ldquo;A SOCKS-based IPv6/IPv4 Gateway Mechanism,&rdquo; April&nbsp;2001.</span><span>)</span></a>.

		Across NATs, it generally uses
          passive mode. However, the designers of FTP wrote
          different and incompatible passive mode implementations for IPv4 and
          IPv6 networks. Hence, either they need to fix FTP, or a translator
          must be written for the application. Other applications may be
          similarly broken.
</p>
<p>As a general rule, a simple operational recommendation will work
          around many application issues, which is that there should be a
          server in each domain or an instance of the server should have an
          interface in each domain. For example, an SMTP MTA may be confused
          by finding an IPv6 address in its HELO when it is connected to using
          IPv4 (or vice versa), but would work perfectly well if it had an
          interface in both the IPv4 and IPv6 domains and was used as an
          application-layer bridge between them.
</p>
<a name="scenario20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Operation Mode for Specific Scenarios</h3>

<p>
	Currently, the proposed solutions for IPv6/IPv4 translation
	are classified into stateless translation and stateful translation.

</p>
<a name="stateless2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Stateless Translation</h3>

<p>
For stateless translation, the translation information is carried in the address itself plus configuration in the translators, 
permitting both IPv4-&gt;IPv6 and IPv6-&gt;IPv4 session initiation. Stateless translation
supports end-to-end address transparency and has better scalability compared with stateful translation.
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>.

</p>
<p>
The stateless translation mechanisms typically put constraints on 
what IPv6 addresses can be assigned to IPv6 nodes that want to 
communicate with IPv4 destinations using an algorithmic mapping. 
For Scenario 1 ("an IPv6 network to the IPv4 Internet"), 
it is not a serious drawback, since the address assignment policy 
can be applied to satisfy this requirement for the IPv6 nodes that 
need to communicate with the IPv4 Internet. 

In addition, stateless translation supports Scenario 2 
("the IPv4 Internet to an IPv6 network"), 
which means that not only could servers move directly to IPv6 
without trudging through a difficult transition period, 
but they could do so without risk of losing connectivity 
with the IPv4-only Internet.

</p>
<p>
Stateless translation can be used for Scenarios 1, 2, 5 and 6, i.e., 
it supports "an IPv6 network to the IPv4 Internet", 
"the IPv4 Internet to an IPv6 network", "an IPv6 network to an IPv4 network" 
and "an IPv4 network to an IPv6 network". 

</p><br /><hr class="insert" />
<a name="IVIa"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

      --------
   //        \\       -----------
  /            \     //          \\
 /             +----+              \
|              |XLAT|               |
|  The IPv4    +----+  An IPv6      |
|  Internet    +----+  Network      |  XLAT: Stateless IPv4/IPv6
|              |DNS |  (address     |        Translator
 \             +----+   subset)    /   DNS:  DNS64/DNS46
  \            /     \\          //
   \\        //        ----------
     --------
               &lt;====&gt;


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;11: Stateless translation for Scenarios 1 and 2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="IVIb"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------          ---------
  //         \\      //          \\
 /             +----+              \
|              |XLAT|               |
|  An IPv4     +----+  An IPv6      |
|  Network     +----+  Network      |  XLAT: Stateless IPv4/IPv6
|              |DNS |  (address     |        Translator
 \             +----+   subset)    /   DNS:  DNS64/DNS46
   \\        //      \\          //
     --------          ---------
	       &lt;====&gt;


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;12: Stateless translation for Scenarios 5 and 6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The implementation of the stateless translator needs to refer to
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>,
and <a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a>.

</p>
<a name="stateful2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Stateful Translation</h3>

<p>
For stateful translation, the translation state is maintained between 
IPv4 address/port pairs and IPv6 address/port pairs, enabling IPv6 
systems to open sessions with IPv4 systems
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>
<a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>. 

</p>
<p>
Stateful translator can be used for Scenarios 1, 3 and 5, i.e., 
it supports "an IPv6 network to the IPv4 Internet", 
"the IPv6 Internet to an IPv4 network" and "an IPv6 network to an IPv4 network".

</p>
<p>

   For Scenario 1, any IPv6 addresses in an IPv6 network can use
   stateful translation, however it typically only supports initiation
   from the IPv6 side. In addition, it does not
   result in stable addresses of IPv6 nodes that can be used in DNS,
   which may cause problems for the protocols and applications that do not deal well with highly
   dynamic addresses.



</p><br /><hr class="insert" />
<a name="NAT64a"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------
   //        \\       -----------
  /            \     //          \\
 /             +----+              \
|              |XLAT|               |
|  The IPv4    +----+  An IPv6      |
|  Internet    +----+  Network      |  XLAT: Stateful IPv4/IPv6
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS64
  \            /     \\          //
   \\        //       -----------
     --------
                &lt;====

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;13: Stateful translation for Scenario 1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
  Scenario 3 handles servers using IPv4 private addresses 
  <a class='info' href='#RFC1918'>[RFC1918]<span> (</span><span class='info'>Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and E. Lear, &ldquo;Address Allocation for Private Internets,&rdquo; February&nbsp;1996.</span><span>)</span></a>
  and being reached from the IPv6 Internet.  This includes cases 
  of servers that for some reason cannot be upgraded to IPv6 and 
  don't have public IPv4 addresses and yet need to be reached by 
  IPv6 nodes in the IPv6 Internet. 


</p><br /><hr class="insert" />
<a name="NAT64b"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

                      -----------
    ----------       //         \\
   //          \\    /             \
 /             +----+              \
|              |XLAT|               |
|  An IPv4     +----+  The IPv6     |
|  Network     +----+  Internet     |  XLAT: Stateful IPv4/IPv6
|              |DNS |               |        Translator
 \             +----+               /  DNS:  DNS64
  \\         //      \             /
    ---------         \\         //
                      -----------
                &lt;====

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;14: Stateful translation for Scenario 3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
Similarly, stateful translation can also be used for Scenario 5.

</p><br /><hr class="insert" />
<a name="NAT64c"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

     --------          ---------
  //         \\      //          \\
 /             +----+              \
|              |XLAT|               |
|  An IPv4     +----+  An IPv6      |
|  Network     +----+  Network      |  XLAT: Stateful IPv4/IPv6
|              |DNS |               |        Translator
 \             +----+              /   DNS:  DNS64
   \\        //      \\          //
     --------          ---------
	        &lt;====

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;15: Stateful translation for Scenario 5&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
The implementation of the stateful translator needs to refer to
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>,
<a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>,
and <a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a>.


</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Layout of the Related Documents</h3>

<p>
Based on the above analysis, the IPv4/IPv6 translation series consists of
the following documents.

</p>
<p>
</p>
<ul class="text">
<li>
Framework for IPv4/IPv6 Translation (this document).

</li>
<li>
Address translation (the choice of IPv6 prefix and the choice of 
method by which the remainder of the IPv6 address
is derived from an IPv4 address, part of the SIIT update)
<a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a>.

</li>
<li>
IP and ICMP Translation (header translation and ICMP handling, part of the SIIT update) 
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>.
</li>
<li>
Xlate-stateful (stateful translation including session database and mapping table handling)
<a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>.

</li>
<li>
DNS64 (DNS64: A to AAAA mapping and DNSSec discussion)
<a class='info' href='#I-D.ietf-behave-dns64'>[I&#8209;D.ietf&#8209;behave&#8209;dns64]<span> (</span><span class='info'>Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>.

</li>
<li>
FTP ALG <a class='info' href='#I-D.ietf-behave-ftp64'>[I&#8209;D.ietf&#8209;behave&#8209;ftp64]<span> (</span><span class='info'>Beijnum, I., &ldquo;IPv6-to-IPv4 translation FTP considerations,&rdquo; July&nbsp;2010.</span><span>)</span></a>.


</li>
<li>
Others (DNS46, Multicast, etc).

</li>
</ul><p>

</p>
<p>
The relationship among these documents is shown in the following figure.

</p><br /><hr class="insert" />
<a name="doc"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

            -----------------------------------------
           |   Framework for IPv4/IPv6 Translation  |
            -----------------------------------------
              ||                                 ||
 -------------------------------------------------------------------
|             ||     stateless and stateful      ||                 |
|   --------------------                   ---------------------    |
|  |Address Translation |   &lt;========     | IP/ICMP Translation |   |
|   --------------------                   ---------------------    |
|          /\                                        /\             |
|          ||                      ------------------||------------ |
|          ||                     |  stateful        \/             |
|   -----------------             |        ---------------------    |
|  |   DNS64/DNS46   |            |       |  Table Maintenance  |   |
|   -----------------             |        ---------------------    |
 -------------------------------------------------------------------
           /\                                        /\
           ||                                        ||
    -----------------                       --------------------
   |     FTP ALG     |                     |      Others        |
    -----------------                       --------------------



</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;16: Document Layout&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
In the document layout, the IP/ICMP Translation and DNS64/DNS46 normatively refer to Address Translation.
The Table Maintenance and IP/ICMP Translation normatively refer to each other. 
</p>
<p> 
The FTP ALG and other documents normatively refer to the Address Format, IP/ICMP Translation and Table Maintenance  
documents.

</p>
<a name="ops22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Translation in Operation</h3>

<p>Operationally, there are two ways that translation could be used -
        as a permanent solution making transition "the other guy's problem",
        and as a temporary solution for a new part of one's network while
        bringing up IPv6 services in the remaining parts of one's network. 
	 We obviously recommend the latter at the present stage. 

For the IPv4
   parts of the network, 
<a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a>'s 
recommendation holds. Bring IPv6
   up in those domains, move production to it, and then take down
   the now-unnecessary IPv4 service when economics warrant. This 
approach to transition entails the least risk.

       
</p><br /><hr class="insert" />
<a name="operation"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>

              ----------------------
       //////                        \\\\\\
   ///         IPv4 or Dual Stack           \\\
 ||    +----+      Routing          +-----+    ||
|      |IPv4|                       |IPv4+|      |
|      |Host|                       |IPv6 |      |
 ||    +----+                       |Host |    ||
   \\\                              +-----+ ///
       \\\\\----+----+-+-----+ +----+-/////
                |XLAT|-|DNS64|-|FTP |
                |    |-|DNS46|-|ALG |
       /////----+----+ +-----+ +----+-\\\\\
   ///                                      \\\
 ||    +-----+                     +----+      ||
|      |IPv4+|                     |IPv6|        |
|      |IPv6 |                     |Host|        |
 ||    |Host |                     +----+      ||
   \\\ +-----+  IPv6-only Routing           ///
       \\\\\\                        //////
              ----------------------

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;17: Translation Operational Model&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
 <a class='info' href='#operation'>Figure&nbsp;17<span> (</span><span class='info'>Translation Operational Model</span><span>)</span></a> 
 shows that, during the coexistence phase, one expects a
combination of hosts, applications, and networks. Hosts might include
IPv6-only gaming devices and handsets, older
   computer operating systems that are IPv4-only, and modern mainline
   operating systems that support both. 
Applications might include ones that are IPv4-only and modern
   applications that support both IPv4 and IPv6.
Networks might include dual-stack devices operating in single-stack networks, 
whether that stack is IPv4 or IPv6 and fully functional dual-stack networks.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Unsolved Problems</h3>

<p>
      The framework does not cover all possible scenarios, 
      and may be extended in the future to address them.  
       
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>This memo requires no parameter assignment by the IANA.
</p>
<p>Note to RFC Editor: This section will have served its purpose if it
      correctly tells IANA that no new assignments or registries are required,
      or if those assignments or registries are created during the RFC
      publication process. From the author's perspective, it may therefore be
      removed upon publication as an RFC at the RFC Editor's discretion.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>
	This document is the framework of IPv4/IPv6 translation. The security issues are addressed in individual IPv4/IPv6 translation documents, i.e.
<a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a>,
<a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; May&nbsp;2010.</span><span>)</span></a>,
<a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>,
<a class='info' href='#I-D.ietf-behave-dns64'>[I&#8209;D.ietf&#8209;behave&#8209;dns64]<span> (</span><span class='info'>Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>,

and
<a class='info' href='#I-D.ietf-behave-ftp64'>[I&#8209;D.ietf&#8209;behave&#8209;ftp64]<span> (</span><span class='info'>Beijnum, I., &ldquo;IPv6-to-IPv4 translation FTP considerations,&rdquo; July&nbsp;2010.</span><span>)</span></a>.
	
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgements</h3>

<p>This is under development by a large group of people. Those who have
      posted to the list during the discussion include Andrew Sullivan, Andrew
      Yourtchenko, Bo Zhou, Brian Carpenter, Dan Wing, Dave Thaler, David Harrington, 
	  Ed Jankiewicz, Gang Chen, Hui Deng, Hiroshi Miyata, Iljitsch van Beijnum, John Schnizlein, 	
	  Magnus Westerlund, Marcelo Bagnulo Braun, Margaret Wasserman, Masahito Endo,
      Phil Roberts, Philip Matthews, Remi Denis-Courmont and Remi Despres. 
</p>
<p>Ed Jankiewicz described the transition plan.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-address-format">[I-D.ietf-behave-address-format]</a></td>
<td class="author-text">Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-address-format-10.txt">IPv6 Addressing of IPv4/IPv6 Translators</a>,&rdquo; draft-ietf-behave-address-format-10 (work in progress), August&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-address-format-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-dns64">[I-D.ietf-behave-dns64]</a></td>
<td class="author-text">Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-dns64-10.txt">DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers</a>,&rdquo; draft-ietf-behave-dns64-10 (work in progress), July&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-dns64-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-ftp64">[I-D.ietf-behave-ftp64]</a></td>
<td class="author-text">Beijnum, I., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-ftp64-04.txt">IPv6-to-IPv4 translation FTP considerations</a>,&rdquo; draft-ietf-behave-ftp64-04 (work in progress), July&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-ftp64-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-v6v4-xlate">[I-D.ietf-behave-v6v4-xlate]</a></td>
<td class="author-text">Li, X., Bao, C., and F. Baker, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-20.txt">IP/ICMP Translation Algorithm</a>,&rdquo; draft-ietf-behave-v6v4-xlate-20 (work in progress), May&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-20.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-v6v4-xlate-stateful">[I-D.ietf-behave-v6v4-xlate-stateful]</a></td>
<td class="author-text">Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-stateful-12.txt">Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers</a>,&rdquo; draft-ietf-behave-v6v4-xlate-stateful-12 (work in progress), July&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-stateful-12.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="6NET">[6NET]</a></td>
<td class="author-text">&ldquo;Website: http://www.6net.org/.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-softwire-dual-stack-lite">[I-D.ietf-softwire-dual-stack-lite]</a></td>
<td class="author-text">Durand, A., Droms, R., Woodyatt, J., and Y. Lee, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-dual-stack-lite-06.txt">Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion</a>,&rdquo; draft-ietf-softwire-dual-stack-lite-06 (work in progress), August&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-dual-stack-lite-06.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1918">[RFC1918]</a></td>
<td class="author-text"><a href="mailto:yakov@cisco.com">Rekhter, Y.</a>, <a href="mailto:rgm3@is.chrysler.com">Moskowitz, R.</a>, <a href="mailto:Daniel.Karrenberg@ripe.net">Karrenberg, D.</a>, <a href="mailto:GeertJan.deGroot@ripe.net">Groot, G.</a>, and <a href="mailto:lear@sgi.com">E. Lear</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1918">Address Allocation for Private Internets</a>,&rdquo; BCP&nbsp;5, RFC&nbsp;1918, February&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1918.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1923">[RFC1923]</a></td>
<td class="author-text"><a href="mailto:jhalpern@newbridge.com">Halpern, J.</a> and <a href="mailto:sob@harvard.edu">S. Bradner</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1923">RIPv1 Applicability Statement for Historic Status</a>,&rdquo; RFC&nbsp;1923, March&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1923.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1928">[RFC1928]</a></td>
<td class="author-text"><a href="mailto:mleech@bnr.ca">Leech, M.</a>, Ganis, M., Lee, Y., Kuris, R., Koblas, D., and L. Jones, &ldquo;<a href="http://tools.ietf.org/html/rfc1928">SOCKS Protocol Version 5</a>,&rdquo; RFC&nbsp;1928, March&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1928.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2765">[RFC2765]</a></td>
<td class="author-text"><a href="mailto:nordmark@sun.com">Nordmark, E.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2765">Stateless IP/ICMP Translation Algorithm (SIIT)</a>,&rdquo; RFC&nbsp;2765, February&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2765.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2766">[RFC2766]</a></td>
<td class="author-text"><a href="mailto:george.tsirtsis@bt.com">Tsirtsis, G.</a> and <a href="mailto:srisuresh@yahoo.com">P. Srisuresh</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2766">Network Address Translation - Protocol Translation (NAT-PT)</a>,&rdquo; RFC&nbsp;2766, February&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2766.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3056">[RFC3056]</a></td>
<td class="author-text">Carpenter, B. and K. Moore, &ldquo;<a href="http://tools.ietf.org/html/rfc3056">Connection of IPv6 Domains via IPv4 Clouds</a>,&rdquo; RFC&nbsp;3056, February&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3056.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3089">[RFC3089]</a></td>
<td class="author-text">Kitamura, H., &ldquo;<a href="http://tools.ietf.org/html/rfc3089">A SOCKS-based IPv6/IPv4 Gateway Mechanism</a>,&rdquo; RFC&nbsp;3089, April&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3089.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4192">[RFC4192]</a></td>
<td class="author-text">Baker, F., Lear, E., and R. Droms, &ldquo;<a href="http://tools.ietf.org/html/rfc4192">Procedures for Renumbering an IPv6 Network without a Flag Day</a>,&rdquo; RFC&nbsp;4192, September&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4192.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4193">[RFC4193]</a></td>
<td class="author-text">Hinden, R. and B. Haberman, &ldquo;<a href="http://tools.ietf.org/html/rfc4193">Unique Local IPv6 Unicast Addresses</a>,&rdquo; RFC&nbsp;4193, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4193.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4213">[RFC4213]</a></td>
<td class="author-text">Nordmark, E. and R. Gilligan, &ldquo;<a href="http://tools.ietf.org/html/rfc4213">Basic Transition Mechanisms for IPv6 Hosts and Routers</a>,&rdquo; RFC&nbsp;4213, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4213.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4380">[RFC4380]</a></td>
<td class="author-text">Huitema, C., &ldquo;<a href="http://tools.ietf.org/html/rfc4380">Teredo: Tunneling IPv6 over UDP through Network Address Translations (NATs)</a>,&rdquo; RFC&nbsp;4380, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4380.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4864">[RFC4864]</a></td>
<td class="author-text">Van de Velde, G., Hain, T., Droms, R., Carpenter, B., and E. Klein, &ldquo;<a href="http://tools.ietf.org/html/rfc4864">Local Network Protection for IPv6</a>,&rdquo; RFC&nbsp;4864, May&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4864.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4966">[RFC4966]</a></td>
<td class="author-text">Aoun, C. and E. Davies, &ldquo;<a href="http://tools.ietf.org/html/rfc4966">Reasons to Move the Network Address Translator - Protocol Translator (NAT-PT) to Historic Status</a>,&rdquo; RFC&nbsp;4966, July&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4966.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5211">[RFC5211]</a></td>
<td class="author-text">Curran, J., &ldquo;<a href="http://tools.ietf.org/html/rfc5211">An Internet Transition Plan</a>,&rdquo; RFC&nbsp;5211, July&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5211.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5214">[RFC5214]</a></td>
<td class="author-text">Templin, F., Gleeson, T., and D. Thaler, &ldquo;<a href="http://tools.ietf.org/html/rfc5214">Intra-Site Automatic Tunnel Addressing Protocol (ISATAP)</a>,&rdquo; RFC&nbsp;5214, March&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5214.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Fred Baker</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Santa Barbara, California  93117</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-408-526-4257</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+1-413-473-2403</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:fred@cisco.com">fred@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Xing Li</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CERNET Center/Tsinghua University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Room 225, Main Building, Tsinghua University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing,   100084</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86 10-62785983</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:xing@cernet.edu.cn">xing@cernet.edu.cn</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Congxiao Bao</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CERNET Center/Tsinghua University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Room 225, Main Building, Tsinghua University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing,   100084</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86 10-62785983</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:congxiao@cernet.edu.cn">congxiao@cernet.edu.cn</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kevin Yin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">No. 2 Jianguomenwai Ave, Chaoyang District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Beijing,   100022</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86-10-8515-5094</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:kyin@cisco.com">kyin@cisco.com</a></td></tr>
</table>
</body></html>
