<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Session Recording for Conferences using SMIL </title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Conventions">
<link href="#rfc.section.3" rel="Chapter" title="3 Terminology">
<link href="#rfc.section.4" rel="Chapter" title="4 Recording">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Audio/Video">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Chat">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Slides">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Whiteboard">
<link href="#rfc.section.5" rel="Chapter" title="5 Tagging">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 SMIL Head">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 SMIL Body">
<link href="#rfc.section.5.2.1" rel="Chapter" title="5.2.1 Audio/Video">
<link href="#rfc.section.5.2.2" rel="Chapter" title="5.2.2 Chat">
<link href="#rfc.section.5.2.3" rel="Chapter" title="5.2.3 Slides">
<link href="#rfc.section.5.2.4" rel="Chapter" title="5.2.4 Whiteboard">
<link href="#rfc.section.6" rel="Chapter" title="6 Playout">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document deals with session recording, specifically for what concerns recording of multimedia conferences, both centralized and distributed. Each involved media is recorded separately, and is then properly tagged. A SMIL " />
  <meta name="description" content="This document deals with session recording, specifically for what concerns recording of multimedia conferences, both centralized and distributed. Each involved media is recorded separately, and is then properly tagged. A SMIL " />
  <meta name="keywords" content="XCON, DCON, MEDIACTRL, Conferencing, Session Recording" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">DISPATCH</td>
<td class="right">A. Amirante</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">University of Napoli</td>
</tr>
<tr>
<td class="left">Expires: December 22, 2011</td>
<td class="right">T. Castaldi</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">L. Miniero</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Meetecho</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">S P. Romano</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">University of Napoli</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">June 20, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Session Recording for Conferences using SMIL <br />
  <span class="filename">draft-romano-dcon-recording-04</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document deals with session recording, specifically for what concerns recording of multimedia conferences, both centralized and distributed. Each involved media is recorded separately, and is then properly tagged. A SMIL <a href="#W3C.CR-SMIL3-20080115">[W3C.CR-SMIL3-20080115]</a> metadata is used to put all the separate recordings together and handle their synchronization, as well as the possibly asynchronous opening and closure of media within the context of a conference.  This SMIL metadata can subsequently be used by an interested user by means of a compliant player in order to passively receive a playout of the whole multimedia conference session. The motivation for this document comes from our experience with our conferencing framework, Meetecho, for which we implemented a recording functionality.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted to IETF in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 22, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Conventions</a>
</li>
<li>3.   <a href="#rfc.section.3">Terminology</a>
</li>
<li>4.   <a href="#rfc.section.4">Recording</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Audio/Video</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Chat</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Slides</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Whiteboard</a>
</li>
<li>5.   <a href="#rfc.section.5">Tagging</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">SMIL Head</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">SMIL Body</a>
</li>
<li>5.2.1.   <a href="#rfc.section.5.2.1">Audio/Video</a>
</li>
<li>5.2.2.   <a href="#rfc.section.5.2.2">Chat</a>
</li>
<li>5.2.3.   <a href="#rfc.section.5.2.3">Slides</a>
</li>
<li>5.2.4.   <a href="#rfc.section.5.2.4">Whiteboard</a>
</li>
<li>6.   <a href="#rfc.section.6">Playout</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">Acknowledgements</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#sec-intro" id="sec-intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">This document deals with session recording, specifically for what concerns recording of multimedia conferences, both centralized and distributed. Each involved media is recorded separately, and is then properly tagged. Such a functionality is often required in many conferencing systems, and is of great interest to the XCON <a href="#RFC5239">[RFC5239]</a> Working Group. The motivation for this document comes from our experience with our conferencing framework, Meetecho, for which we implemented a recording functionality.  Meetecho is a standards-based conferencing framework, and so we tried our best to implement recording in a standard fashion as well.  </p>
<p id="rfc.section.1.p.2">In the approach presented in this document, a SMIL <a href="#W3C.CR-SMIL3-20080115">[W3C.CR-SMIL3-20080115]</a> metadata is used to put all the separate recordings together and handle their synchronization, as well as the possibly asynchronous opening and closure of media within the context of a conference.  This SMIL metadata can subsequently be used by an interested user by means of a compliant player in order to passively receive a playout of the whole multimedia conference session.  </p>
<p id="rfc.section.1.p.3">The document presents the approach by sequentially describing the several required steps. So, in <a href="#sec-recording">Section 4</a> the recording step is presented, with an overview of how each involved media might be recorded and stored for future use. As it will be explained in the following sections, existing approaches might be exploited to achieve this steps (e.g. MEDIACTRL <a href="#RFC5567">[RFC5567]</a>. Then, in <a href="#sec-tagging">Section 5</a> the tagging process is described, by showing how each media can be addressed in a SMIL metadata file, with specific focus upon the timing and inter-media synchronization aspects. Finally, <a href="#sec-playout">Section 6</a> is devoted to describing how a potential player for the recorded session can be implemented and what it is supposed to achieve.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#sec-conv" id="sec-conv">Conventions</a>
</h1>
<p id="rfc.section.2.p.1">In this document, the key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as described in BCP 14, RFC 2119 <a href="#RFC2119">[RFC2119]</a> and indicate requirement levels for compliant implementations.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#sec-teminology" id="sec-teminology">Terminology</a>
</h1>
<p id="rfc.section.3.p.1">TBD.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#sec-recording" id="sec-recording">Recording</a>
</h1>
<p id="rfc.section.4.p.1">When a multimedia conference is realized over the Internet, several media might be involved at the same time. Besides, these media might come and go asynchronously during the lifetime of the same conference. This makes it quite clear that, in case such a conference needs to be recorded in order to allow a subsequent, possibly offline, playout, these media need to be recorded in a format that is aware of all the timing-related aspects. A typical example is a videoconference with slide sharing. While audio and video have a life of their own, slides changes might be triggered at a completely different pace.  Besides, the start of a slideshow might occur much later than the start of the audio/video session. All these requirements must be taken into account when dealing with session recording in a conference. Besides, it's important that all the individual recordings be taken in a standard fashion, in order to achieve the maximum compatibility among different solutions and avoid any proprietary mechanism or approach that could prevent a successful playout later on.  </p>
<p id="rfc.section.4.p.2">In this document, we present our approach towards media recording in a conference. Specifically, we will deal with the recording of the following media: </p>
<p></p>

<ul>
<li>audio and video streams (in <a href="#sec-rec-av">Section 4.1</a>);</li>
<li>text chats (in <a href="#sec-rec-chat">Section 4.2</a>);</li>
<li>slide presentations (in <a href="#sec-rec-slides">Section 4.3</a>);</li>
<li>whiteboards (in <a href="#sec-rec-wb">Section 4.4</a>).</li>
</ul>

<p> </p>
<p id="rfc.section.4.p.4">Additional media that might be involved in a conference (e.g. desktop or application sharing) are not presented in this document, and their description is left to future extensions.  </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#sec-rec-av" id="sec-rec-av">Audio/Video</a>
</h1>
<p id="rfc.section.4.1.p.1">In a conferencing system compliant with <a href="#RFC5239">[RFC5239]</a>, audio and video streams contributed by participants are carried in RTP channels <a href="#RFC3550">[RFC3550]</a>. These RTP channels may or may not be secured (e.g by means of SRTP/ZRTP). Whether or not these channels are secured, anyway, is not an issue in this case. In fact, as it is usually the case, all the participants terminate their media streams at a central point (a mixer entity), with whom they would have a secured connection. This means that the mixer would get access to the unencrypted payloads, and would be able to mix and/or store them accordingly.  </p>
<p id="rfc.section.4.1.p.2">From an high level topology point of view, this is how a recorder for audio and video streams could be envisaged: </p>
<div id="#rfc.figure.1"></div>
<div id="#fig-rec-av"></div>
<pre>
					
           SIP   +------------+ SIP
      /----------|   XCON AS  |--------
     /           +------------+        \
    /                   |MEDIACTRL      \
   /                    |                \
+-----+              +-----+              +-----+
|     |     RTP      |     |   RTP        |     |
|UA-A +&lt;------------&gt;+Mixer+&lt;------------&gt;+UA-B |
|     |              |     |              |     |
+-----+              +-++--+              +-----+
                      |   |
           RTP UA-A   |   | RTP UA-B (Rx+Tx)
           (Rx+Tx)    V   V
                   +----------+
                   |          |
                   | Recorder |
                   |          |
                   +----------+
						
				</pre>
<p></p>
<p></p>

<dl>
<dt></dt>
<dd style="margin-left: 8">[Editors' Note: this is a slightly modified version of the topology proposed on the DISPATCH mailing list,</dd>
<dt></dt>
<dd style="margin-left: 8">http://www.ietf.org/mail-archive/web/dispatch/current/msg00256.html</dd>
<dt></dt>
<dd style="margin-left: 8">where the Application Server has been specialized in an XCON-aware AS, and the AS&lt;-&gt;Mixer protocol is the Media Control Channel Framework protocol (CFW) specified in <a href="#RFC6230">[RFC6230]</a>.]</dd>
</dl>

<p> </p>
<p id="rfc.section.4.1.p.5">That said, actually recording audio and video streams in a conference may be accomplished in several ways. Two different approaches might be highlighted: </p>
<p></p>

<ol>
<li>recording each contribution from/to each participant in a separate file (<a href="#fig-rec-sep">Figure 2</a>);</li>
<li>recording the overall mix (one for audio and one from video, or more if several mixes for the same media type are available) in a dedicated file (<a href="#fig-rec-mix">Figure 3</a>).</li>
</ol>

<p> </p>
<div id="#rfc.figure.2"></div>
<div id="#fig-rec-sep"></div>
<pre>
					
                              +-------+
                              | UAC-C |
                              +-------+
                                  "
                          C (RTP) "
                                  "
                                  "
                                  v
+-------+  A (RTP)           +----------+           B (RTP)  +-------+
| UAC-A |===================&gt;| Recorder |&lt;===================| UAC-B |
+-------+                    +----------+                    +-------+
                                  *
                                  *
                                  *
                                  ****&gt; A.gsm, A.h263
                                  ****&gt; B.g711, B.h264
                                  ****&gt; C.amr
						 
				</pre>
<p></p>
<div id="#rfc.figure.3"></div>
<div id="#fig-rec-mix"></div>
<pre>
					
                              +-------+
                              | UAC-C |
                              +-------+
                                  "
                          C (RTP) "
                                  "
                                  "
                                  v
+-------+  A (RTP)           +----------+           B (RTP)  +-------+
| UAC-A |===================&gt;| Recorder |&lt;===================| UAC-B |
+-------+                    +----------+                    +-------+
                                  *
                                  *
                                  *
                                  ****&gt; (A+B+C).wav, (A+B+C).h263
						 
				</pre>
<p></p>
<p id="rfc.section.4.1.p.9">Of the two, the second is probably more feasable. In fact, the first would require a potentially vast amount of separate recordings which would need to be subsequently muxed and correlated to each other. Besides, within the context of a multimedia conference, most of the times the streams are already mixed for all the participants, and so recording the mix directly would be a clear advantage.  Such an approach, of course, assumes that all the streams pass through a central point where the mixing occurs: it is the case depicted in <a href="#fig-rec-av">Figure 1</a>.  The recording would take place in that point. Such central point, the mixer (which in this case would also act as the recorder, or a frontend to it), might be a MEDIACTRL-based <a href="#RFC5567">[RFC5567]</a> Media Server. Considering the similar nature of audio and video (both being RTP based and mixed by probably the same entity) they are analysed in the same section of this document. The same applies to tagging and playout as well. It is important to note that in case any policy is involved (e.g. moderation by means of the BFCP <a href="#RFC4582">[RFC4582]</a>) the mixer would take it into account when recording. In fact, the same policies applied to the actual conference with respect to the delivery of audio and video to the participants needs to be enforced for the recording as well.  </p>
<p id="rfc.section.4.1.p.10">In a more general way, if the mixer does not support a direct recording of the mixes it prepares, recording a mix can be achieved by attaching the recorder entity (whatever it is) as a passive participant to the conference. This would allow the recorder to receive all the involved audio and video streams already properly mixed, with policies already taken into consideration. This approach is depicted in <a href="#fig-rec-passive">Figure 4</a>.  </p>
<div id="#rfc.figure.4"></div>
<div id="#fig-rec-passive"></div>
<pre>
					
                             +-------+
                             |  UAC  |
                             |   C   |
                             +-------+
                                " ^
                        C (RTP) " "
                                " "
                                " " A+B (RTP)
                                v "
+-------+  A (RTP)           +--------+  A+C (RTP)         +-------+
|  UAC  |===================&gt;| Media  |===================&gt;|  UAC  |
|   A   |&lt;===================| Server |&lt;===================|   B   |
+-------+         B+C (RTP)  +--------+           B (RTP)  +-------+
                                 "
                                 "
                                 " A+B+C (RTP)
                                 "
                                 v
                           +----------+
                           | Recorder |
                           +----------+
                                 *
                                 ****&gt; (A+B+C).wav, (A+B+C).h263
						 
				</pre>
<p></p>
<p id="rfc.section.4.1.p.12">Whether or not the mixer is MEDIACTRL-based, it's quite likely that the AS handling the multimedia conference business logic has some control on the mixing involved.  This means it can request the recording of each available audio and/or video mix in a conference, if only by adding the passive participant as mentioned above.  Besides, events occurring at the media level or business logic in the AS itself allow the AS to take note of timing information for each of the recorded media. For instance, the AS may take note of when the video mixing started, in order to properly tag the video recording in the tagging phase. Both the recordings and the timing events list would subsequently be used in order to prepare the metadata information of the audio and video in the overall session recording description. Such a phase is described in <a href="#sec-tag-av">Section 5.2.1</a>.  </p>
<p id="rfc.section.4.1.p.13">In a MEDIACTRL Media Server, such a functionality might be accomplished by means of the Mixer Control Package <a href="#I-D.ietf-mediactrl-mixer-control-package">[I-D.ietf-mediactrl-mixer-control-package]</a>. At the end of the conference, URLs to the actual recordings would be made available for the AS to use. The AS might then subsequently access those recordings according to its business logic, e.g. to store them somewhere else (the MS storage might be temporary) or to implement an offline transcoding and/or mixing of all the recordings in order to obtain a single file representative of the whole audio/video participation in the conference. Practical examples of these scenarios are presented in <a href="#I-D.ietf-mediactrl-call-flows">[I-D.ietf-mediactrl-call-flows]</a>.  </p>
<p id="rfc.section.4.1.p.14">Of course, if the recording of a mix is not possible or desired, one could still fallback to the first approach, that is individually recording all the incoming contributions.  It is the case, for instance, of conferencing systems which don't implement video mixing, but just rely instead on a switching/forwarding of the potentially several video streams to each participant.  This functionality can also be achieved by means of the same control package previously introduced, since it allows for the recording of both mixes and individual connections.  Once the conference ends, the AS can then decide what to do with the recordings, e.g. mixing them all together offline (thus obtaining an overall mix) or leave them as they are.  The tagging process would the subsequently take the decision into account, and address the resulting media accordingly.  </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#sec-rec-chat" id="sec-rec-chat">Chat</a>
</h1>
<p id="rfc.section.4.2.p.1">What has been said about audio and video partially applies to text chats as well. In fact, just as for audio and video a central mixer is usually involved, for instant messaging most of the times the contributions by all participants pass through a central node from where they are forwarded to the other participants. It is the case, for instance, of XMPP <a href="#RFC3920">[RFC3920]</a> and MSRP <a href="#RFC4975">[RFC4975]</a> based text conferences.  If so, recording of the text part of a conference is not hard to achieve either.  The AS just needs to implement some form of logging, in order to store all the messages flowing through the text conference central node, together with information on the senders of these messages and timing-related information. Of course, the AS may not directly be the text conference mixer: the same considerations apply, however, in the sense that the remote mixer must be able to implement the aforementioned logging, and must be able to receive related instructions from the controlling AS. Besides, considering the possible protocol-agnostic nature of the conferencing system (as envisaged in <a href="#RFC5239">[RFC5239]</a>), several different instant messaging protocols may be involved in the same conference. Just as the conferencing system would act as a protocol gateway during the lifetime of the conference (i.e. provide MSRP users with the text coming from XMPP participants and viceversa), all the contributions coming from the different instant messaging protocols would need to be recorded in the same log, and in the same format, to avoid ambiguity later on.  </p>
<p id="rfc.section.4.2.p.2">An example of a recorder for instant messaging is presented in <a href="#fig-rec-chat">Figure 5</a>.  </p>
<div id="#rfc.figure.5"></div>
<div id="#fig-rec-chat"></div>
<pre>
					
                              +-------+
                              | UAC-C |
                              +-------+
                                  ^
                         C (MSRP) " '10.11.24 Hi!'
                                  "
                                  "
                                  v
+-------+  A (XMPP)          +----------+           B (IRC)  +-------+
| UAC-A |&lt;==================&gt;| Recorder |&lt;==================&gt;| UAC-B |
+-------+  '10.11.26 Hey C'  +----------+ '10.11.30 Hey man' +-------+
                                  *
                                  *
                                  *     [..]
                                  ****&gt; 10.11.24 &lt;User C&gt; Hi!
                                  ****&gt; 10.11.26 &lt;User A&gt; Hey C
                                  ****&gt; 10.11.30 &lt;User B&gt; Hey man
                                        [..]
						 
				</pre>
<p></p>
<p id="rfc.section.4.2.p.4">The same considerations already mentioned about optional policies involved apply to text conferences as well: i.e., if a UAC is not allowed to contribute text to the chat, this contribution is excluded both from the mix the other participants receive and from the ongoing recording.  </p>
<p id="rfc.section.4.2.p.5">Considerations about the format of the recording are left to <a href="#sec-tag-chat">Section 5.2.2</a>.  Until then, we just assume the AS has a way to record text conferences somehow in a format it is familiar with. This format would subsequently be converted to another, standard, format that a player would be able to access.  </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#sec-rec-slides" id="sec-rec-slides">Slides</a>
</h1>
<p id="rfc.section.4.3.p.1">Another media typically available in a multimedia conference over the internet is the slides presentation. In fact, slides, whatever format they're in, are still the most common way of presenting something within a collaboration framework.  The problem is that, most of the times, these slides are deployed in a proprietary way (e.g. Microsoft Powerpoint and the like). This means that, besides the recording aspect of the issue, the delivery itself of such a slides can be problematic when considered in a standards based conferencing framework.  </p>
<p id="rfc.section.4.3.p.2">Considering that no standard way of implementing such a functionality is commonly available yet, we assume that a conferencing framework makes such slides available to the participants in a conference as a slideshow, that is, a series of static images whose appearance might be dictated by a dedicated protocol. For instance, a presenter may trigger the change of a slide by means of an instant messaging protocol, providing each authorized participant with an URL from where to get the current slide with optional metadata to describe its content.  </p>
<p id="rfc.section.4.3.p.3">An example is presented in <a href="#fig-rec-slide">Figure 6</a>. The presenter has previously uploaded its presentation converted in a proprietary format. The presentation has been converted to images and a description of the new format has been sent back to the presenter (e.g. an XML metadata). At this point, the presenter makes use of XMPP to inform the other participants about the current slide, by providing an HTTP URL to the related image.  </p>
<div id="#rfc.figure.6"></div>
<div id="#fig-rec-slide"></div>
<pre>
					
                             +-----------+
                             | Presenter |
                             +-----------+
                                  "
                          (XMPP)  " Current presentation: f44gf
                                  " Current slide number: 4
                                  " URL: http://example.com/f44gf/4.jpg
                                  "
                                  v
+-------+  (XMPP)            +----------+            (XMPP)  +-------+
| UAC-A |&lt;===================| ConfServ |===================&gt;| UAC-B |
+-------+                    +----------+                    +-------+
    |                                                            |
    | HTTP GET (http://example.com/f44gf/4.jpg)                  |
    v                  HTTP GET (http://example.com/f44gf/4.jpg) |
                                                                 v
						 
				</pre>
<p></p>
<p id="rfc.section.4.3.p.5">From this assumption, the recording of each slide presentation would be relatively trivial to achieve. In fact, the AS would just need to have access to the set of images (with the optional metadata involved) of each presentation, and to the additional information related to presenters and to when each slide was triggered.  For instance, the AS may take note of the fact that slide 4 from presentation "f44gf" of the example above has been presented by UAC "spromano" from the second 56 of the conference to the second 302.  Properly recording all those events would allow for a subsequent tagging, thus allowing for the integration of this medium in the whole session recording description together with the other media involved. This phase will be described in <a href="#sec-tag-slides">Section 5.2.3</a>.  </p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> <a href="#sec-rec-wb" id="sec-rec-wb">Whiteboard</a>
</h1>
<p id="rfc.section.4.4.p.1">To conclude the overview on the analysed media, we consider a further medium which is quite commonly deployed in multimedia conferences: the shared whiteboard. There are several ways of implementing such a functionality.  While some standard solutions exist, they are rarely used within the context of commercial conferencing application, which usually prefer to implement it in a proprietary fashion.  </p>
<p id="rfc.section.4.4.p.2">Without delving into a discussion on this aspect, suffices it to say that for a successful recording of a whiteboard session most of the times it is enough to just record the individual contributions of each involved participant (together with the usual timing-related information). In fact, this would allow for a subsequent replay of the whiteboard session in an easy way. Unlike audio and video, whiteboarding usually is a very lightweight media, and so recording the individual contributions rather than the resulting mix (as we suggested in <a href="#sec-rec-av">Section 4.1</a>) is advisable. These contributions may subsequently be mixed together in order to obtain a standard recording (e.g. a series of images, animations, or even a low framerate video). An example of recording for this medium is presented in <a href="#fig-rec-wb">Figure 7</a>.  </p>
<div id="#rfc.figure.7"></div>
<div id="#fig-rec-wb"></div>
<pre>
					
                               +-------+
                               | UAC-C |
                               +-------+
                                   "
                          C (XMPP) " 10.11.20: line
                                   "
                                   "
                                   v
+-------+  A (XMPP)          +-----------+          B (XMPP)  +-------+
| UAC-A |===================&gt;| WB server |&lt;===================| UAC-B |
+-------+  10.10.56: circle  +-----------+    10.12.30: text  +-------+
                                   *
                                   *
                                   *
                                   ****&gt; 10.10.56: circle (A)
                                   ****&gt; 10.11.20: line (C)
                                   ****&gt; 10.12.30: text (B)
						 
				</pre>
<p></p>
<p id="rfc.section.4.4.p.4">The recording process may be enriched by the population of a parallel event list. For instance, optimizations might include event as the creation of a new whiteboard, the clearing of an existing whiteboard or the adding of a background image that replaced the previously existing content. Such event would be precious in a subsequent playout of the recorded steps, since they would allow for a more lightweight replication in case seeking is involved. For instance, if 70 drawings have been done, but at second 560 of the conference the whiteboard has been cleared and since then only 5 drawings have been added, a viewer seeking to second 561 would just need the clear+5 drawings to be replicated. Anyway, further discussion upon the tagging process of this media is presented in <a href="#sec-tag-wb">Section 5.2.4</a>.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#sec-tagging" id="sec-tagging">Tagging</a>
</h1>
<p id="rfc.section.5.p.1">Once the different media have been recorded and stored, and their timing related somehow, this information needs to be properly tagged in order to allow intra-media and inter-media synchronization in case a playout is invoked. Besides, it would be desirable to make use of standard means for achieving such a functionality. For these reasons, we chose to make use of the Synchronized Multimedia Integration Language <a href="#W3C.CR-SMIL3-20080115">[W3C.CR-SMIL3-20080115]</a>, which fulfills all the aforementioned requirements, besides being a well-established W3C standard. In fact, timing information is very easy to address using this specification, and VCR-like controls (start, pause, stop, rewind, fast forward, seek and the like) are all easily deploayble in a player using the format.  </p>
<p id="rfc.section.5.p.2">The SMIL specification provides means to address different media by using custom tags (e.g. audio, img, textstream and so on), and for each of these media the related tempification can be easily described. The following subsections will describe how a SMIL metadata could be prepared in order to map with the media recorded as described in <a href="#sec-recording">Section 4</a>.  </p>
<p id="rfc.section.5.p.3">Specifically, considering how a SMIL file is assumed to be constructed, the head will be described in <a href="#sec-tag-head">Section 5.1</a>, while the body (with different focus for each media) will be presented in <a href="#sec-tag-body">Section 5.2</a>.  </p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#sec-tag-head" id="sec-tag-head">SMIL Head</a>
</h1>
<p id="rfc.section.5.1.p.1">As specified in <a href="#W3C.CR-SMIL3-20080115">[W3C.CR-SMIL3-20080115]</a>, a SMIL file is composed of two separate sections: a head and a body.  The head, among all the needed information, also includes details about the allowed layouts for a multimedia presentation.  Considering the amount of media that might have been involved in a single conference, properly constructing such a section definitely makes much sense. In fact, all the involved media need to be placed in order not to prevent access to other concurrent media within the context of the same recording.  </p>
<p id="rfc.section.5.1.p.2">For instance, this is how a series of different media might be placed in a layout according to different screen resolutions: </p>
<div id="#rfc.figure.8"></div>
<pre>
					
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;smil xmlns:xml="http://www.w3.org/XML/1998/namespace"&gt;
  &lt;head&gt;
    &lt;switch systemScreenSize="800X600"&gt;
      &lt;layout&gt;
        &lt;root-layout width="800" height="600" background-color="black"/&gt;
        &lt;region id="image0" regionName="image" fit="fill" top="310" \
                left="370" width="400" height="350" /&gt;
        &lt;region id="video0" regionName="video" top="0" left="370" \
                width="430" height="310" fit="fill" /&gt;
        &lt;region id="chat0" regionName="chat" fit="fill" alt="chat" \
                top="410" left="370" width="400" height="-60"/&gt;
        &lt;region id="wb0" regionName="wb" top="0" left="0" width="370" \
                height="520"/&gt;
      &lt;/layout&gt;
    &lt;/switch&gt;
    &lt;switch systemScreenSize="1024X768"&gt;
      &lt;layout&gt;
        &lt;root-layout width="1024" height="768" \
                     background-color="black"/&gt;
        &lt;region id="image1" regionName="image" fit="fill" top="310" \
                left="594" width="400" height="350"/&gt;
        &lt;region id="video1" regionName="video" top="0" left="594" \
                width="430" height="310" fit="fill"/&gt;
        &lt;region id="chat1" regionName="chat" fit="fill" alt="chat" \
                top="578" left="594" width="400" height="108"/&gt;
        &lt;region id="wb1" regionName="wb" top="0" left="0" width="594" \
                height="688"/&gt;
      &lt;/layout&gt;
    &lt;/switch&gt;
[..]
				
				</pre>
<p></p>
<p id="rfc.section.5.1.p.4">That said, it's important that this section of the SMIL file be constructed properly. In fact, the layout description also contains explicit region identifiers, which are referred to when describing media in the body section.  </p>
<p id="rfc.section.5.1.p.5">TBD. (?) </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> <a href="#sec-tag-body" id="sec-tag-body">SMIL Body</a>
</h1>
<p id="rfc.section.5.2.p.1">The SMIL head section described previously is very important for what concerns presentation-related settings, but does not contain any timing-related information. Such information, in fact, belongs to a separate section in the SMIL file, the so called body. This body contains the information on all the involved media in the recorded session, and for each media timing information are provided. This timing information includes not only when each media appears and when it goes away, but also details on the media lifetime as well. By correlating the timing information for each media, a SMIL reader can infer inter-media synchronization and present the recorded session as it was conceived to appear.  </p>
<p id="rfc.section.5.2.p.2">Besides, the involved media can be grouped in the body in order to implement sequential and/or parallel playback involving a subset of the available media. This is made possible by making use of the &lt;seq&gt; and &lt;par&gt; elements. The &lt;par&gt; element in particular is of great interest to this document, since in a multimedia conference many media are presented to participants at the same time.  </p>
<p id="rfc.section.5.2.p.3">That said, it is important to be able to separately address each involved medium. To do so, SMIL makes use of well specified elements. For instance, a &lt;video&gt; element is used to state the presence of a video stream in the session. Each of these elements can be furtherly customized and configured by means of ad-hoc attributes. For instance, the 'src' attribute in a &lt;video&gt; element means that the actual video stream source can be found at the provided address.  </p>
<p id="rfc.section.5.2.p.4">The element for each media is also the place where SMIL adds information upon when the addressed media comes into play.  This is done by means of two attributes called 'begin' and 'end' respectively. As the names themselves suggest, the 'begin' attribute gives a temporal reference on the media start, while the 'end' attribute specifies when the media ends. For instance, an element formatted in the following way: </p>
<div id="#rfc.figure.9"></div>
<pre>
					
&lt;video src="http://www.example.com/conference45.avi" region="box12" \
       begin="15s" end="400s"/&gt;
				
				</pre>
<p></p>
<p id="rfc.section.5.2.p.6">means that a video stream (whose URL is provided in 'src') must be played in the session only 15 seconds after the session beginning, and that it must end 385 seconds after. This information is also used when seeking through a session. For instance, if a user accessing the recording seeks to 200 seconds after the beginning, the video will appear as well at the relative time of 200-15=185 seconds.  </p>
<p id="rfc.section.5.2.p.7">Considering the recorded media presented in <a href="#sec-recording">Section 4</a>, the construction of following sections of the body will be described: </p>
<p></p>

<ul>
<li>audio/video streams (in <a href="#sec-tag-av">Section 5.2.1</a>);</li>
<li>text chats (in <a href="#sec-tag-chat">Section 5.2.2</a>);</li>
<li>slide presentations (in <a href="#sec-tag-slides">Section 5.2.3</a>);</li>
<li>whiteboards (in <a href="#sec-tag-wb">Section 5.2.4</a>).</li>
</ul>

<p> </p>
<h1 id="rfc.section.5.2.1">
<a href="#rfc.section.5.2.1">5.2.1.</a> <a href="#sec-tag-av" id="sec-tag-av">Audio/Video</a>
</h1>
<p id="rfc.section.5.2.1.p.1">In SMIL, the element to describe an audio stream is &lt;audio&gt;, while for video the element is &lt;video&gt;. Considering that these two stream types are handled in a very similar way, only video will be addressed. This is an explicit choice for two reasons: (i) video is slightly more complex to address than audio, and so treating video makes more sense; (ii) often off-line encoders/muxers will place the recorded elementary audio and video streams in a single video container, which means both streams can actually be addressed in a single media file.  </p>
<p id="rfc.section.5.2.1.p.2">That said, &lt;video&gt; is the element used in a SMIL bod to state the presence of an audio/video stream. It's tempification, related to other media, might be implemented by making use of a &lt;par&gt;/&lt;seq&gt; aggregator. In such an element, some attributes are of great relevance and should be included: </p>
<p></p>

<ul>
<li>'src', to address the actual video file to use (usually a HTTP URL);</li>
<li>'begin' and 'end', for timing information (when the video should appear/disappear in the session);</li>
<li>'region', to specify where the stream will need to appear in the layout as configured in the head (e.g. place it in the region called box12).</li>
</ul>

<p> </p>
<p id="rfc.section.5.2.1.p.4">All these information can easily be taken according to the stream as recorded previously (optionally re-encoded and/or re-muxed), together with the timing information as part of the event log. The 'src', in particular, can be any video file, which means that an encoding of the stream for a player is quite trivial to achieve.  </p>
<p id="rfc.section.5.2.1.p.5">Besides, as mentioned in <a href="#sec-rec-av">Section 4.1</a>, recordings may be available as already mixed streams, or individual streams. In case the recording is already mixed, then the tagging can be done as seen in the previous paragraph: </p>
<div id="#rfc.figure.10"></div>
<pre>
					
&lt;video src="http://www.example.com/conference45.avi" region="box12" \
       begin="15s" end="400s"/&gt;
				
				</pre>
<p></p>
<p id="rfc.section.5.2.1.p.7">where this element would state the presence of an audio/video stream, to appear in the specified region in the specified range of time. In case several recordings are available, instead, the tagging would be a little more complex: in fact, the metadata would need to address the parallel playback of the different recordings, which would also need to reflect the actual lifetime of the original streams in the conference. For instance, if UAC A joined the conference much before UAC B, its contributions would appear in the playout accordingly. An example of how this could be achieved in a SMIL metadata is presented here: </p>
<div id="#rfc.figure.11"></div>
<pre>
					
&lt;par&gt;
   [..]
   &lt;video src="http://www.example.com/userA.avi" region="box12" \
          begin="15s" end="400s"/&gt;
   &lt;video src="http://www.example.com/userB.avi" region="box16" \
          begin="230s" end="521s"/&gt;
   [..]
&lt;/par&gt;
				
				</pre>
<p></p>
<p id="rfc.section.5.2.1.p.9">This lines tell an interested player that the two specified video streams (whose URLs are provided in the respective 'src' attributes) must be played in parallel, and in different regions.  Anyway, video stream 'userA.avi' starts after 15 seconds, while 'userB.avi' starts after 230 seconds since the beginning of the conference, reflecting the appearance of these media in the conference itself.  </p>
<h1 id="rfc.section.5.2.2">
<a href="#rfc.section.5.2.2">5.2.2.</a> <a href="#sec-tag-chat" id="sec-tag-chat">Chat</a>
</h1>
<p id="rfc.section.5.2.2.p.1">Text in SMIL can be addressed in several different ways, the most common ones being &lt;text&gt; and &lt;textstream&gt; elements. &lt;text&gt;, however, usually deals only with static text content, that is text without timing information (e.g. HTML). For this reason, &lt;textstream&gt; should be used instead, since it allows text to appear and disappear in real-time.  </p>
<p id="rfc.section.5.2.2.p.2">The attributes to configure the element are basically the same as the one presented for &lt;video&gt; (src, region, begin, end). The difference, anyway, is on the file to refer to in the 'src' attribute. In fact, if timing information is needed, a proper format for tempified text is needed. The &lt;textstream&gt; element supports RealText Markup, which is a separate markup language for dealing with real-time text. It is the format used, for instance, for subtitle captioning. An example of RealText is presented in the following lines: </p>
<div id="#rfc.figure.12"></div>
<pre>
					
&lt;window width="340" height="160" wordwrap="true" loop="false" \
        bgcolor="white"&gt;
   &lt;font color="black" face="Arial" size="+0"&gt;
      &lt;Time begin="0:00:02.2"/&gt;&lt;br/&gt;&lt;User C&gt;Hi
      &lt;Time begin="0:00:04.5"/&gt;&lt;br/&gt;&lt;User A&gt;Hey C
      &lt;Time begin="0:00:08.1"/&gt;&lt;br/&gt;&lt;User B&gt;Hey man
      [..]
				
				</pre>
<p></p>
<p id="rfc.section.5.2.2.p.4">This example recalls <a href="#fig-rec-chat">Figure 5</a>, where the first message (by User C) was sent at 10.11.24. Assuming the text conference started at 10.11.22, the log is converted to RealText and tagged accordingly (e.g. User C saying his first message two seconds after the conference started). The RealText fine can then be addressed in SMIL using the aforementioned &lt;textstream&gt; element: </p>
<div id="#rfc.figure.13"></div>
<pre>
					
&lt;par&gt;
   [..]
   &lt;textstream src="http://example.com/chats/conf45.rt" region="chat" \
               begin="0s" end="500s"/&gt;
   [..]
&lt;/par&gt;
				
				</pre>
<p></p>
<p id="rfc.section.5.2.2.p.6">Once the requirement on the file format is assessed, the next step is obvious. Whatever format the chat in the conference had been recorded into, it needs to be converted to a RealText file in order to have it addressed in the resulting SMIL file. The conversion is usually very trivial to achieve, considering that chat logs often have the same information needed in a RealText file except for the presentation format.  </p>
<h1 id="rfc.section.5.2.3">
<a href="#rfc.section.5.2.3">5.2.3.</a> <a href="#sec-tag-slides" id="sec-tag-slides">Slides</a>
</h1>
<p id="rfc.section.5.2.3.p.1">The easiest way to deal with a slideshow and/or a shared slide presentation is to make use of the &lt;img&gt; element. In fact, as anticipated in <a href="#sec-rec-slides">Section 4.3</a>, slides in a presentation most often are composed of a static content, and can be assimilated to images.  This means that addressing a complete presentation in a SMIL file can be achieved by following these steps: </p>
<p></p>

<ol>
<li>preparing a list of images reflecting the original presentations (e.g. 10 images for 10 slides, or more if any animation was involved);</li>
<li>prepare the timing related information (e.g. when slide 1 appeared, and when it was substituted by slide 2);</li>
<li>placing a series of &lt;img&gt; elements in the SMIL metadata to address the first two steps.</li>
</ol>

<p> </p>
<p id="rfc.section.5.2.3.p.3">An example of this, recalling the scenario depicted in <a href="#fig-rec-slide">Figure 6</a>, is presented here: </p>
<div id="#rfc.figure.14"></div>
<pre>
					
&lt;par&gt;
   [..]
   &lt;img src="http://www.example.com/f44gf/1.jpg" region="image" \
        begin="0s" end="10s"/&gt;
   &lt;img src="http://www.example.com/f44gf/2.jpg" region="image" \
        begin="10s" end="18s"/&gt;
   &lt;img src="http://www.example.com/f44gf/3.jpg" region="image" \
        begin="18s" end="30s"/&gt;
   [..]
&lt;/par&gt;
				
				</pre>
<p></p>
<p id="rfc.section.5.2.3.p.5">The slideshow would usually be a sequence, and so a &lt;seq&gt; would seem the more apt way to address the presentation sharing. Nevertheless, timing information are very important, and it's quite likely that several additional media will flow in parallel with the slides (e.g.  the video stream which includes the presenter talking). That's why a &lt;par&gt; element is used instead, which for brevity omits the other media involved.  </p>
<h1 id="rfc.section.5.2.4">
<a href="#rfc.section.5.2.4">5.2.4.</a> <a href="#sec-tag-wb" id="sec-tag-wb">Whiteboard</a>
</h1>
<p id="rfc.section.5.2.4.p.1">As anticipated in <a href="#sec-rec-wb">Section 4.4</a>, no standard solution is usually deployed when talking of whitebording in a conferencing system.  For this reason, the recording process suggested in <a href="#sec-rec-wb">Section 4.4</a> is just a timing-aware dump of all the interactions occurred at the whiteboard level. These interactions might subsequently be converted in a more common format as, for instance, a video or an image slide show.  In case of a video, the same considerations of <a href="#sec-tag-av">Section 5.2.1</a> would apply, since the whiteboard recording would actually be a video itself.  In case it is converted to a slideshow, the tagging process would occur as explained in <a href="#sec-tag-slides">Section 5.2.3</a>.  </p>
<p id="rfc.section.5.2.4.p.2">However, SMIL also allows for custom, non-standard media to be involved in its metadata. This can be achieved by means of the standard element &lt;ref&gt;, which is a generic media reference. This element allows for the description and addressing of non-standard media (or at least media the chosen SMIL specification is not aware of), which could be implemented in a custom player. This means that, if a whiteboard has been recorded in a proprietary way, and this way needs for a reason or for another to be preserved, the &lt;ref&gt; element may be used to address it: in fact, the same attributes previously introduced (including 'src' and the others) are available to this element as well.  Of course, if this approach is used only a player able to understand the proprietary media extension would be able to replay the recorded whiteboard session. To make the player aware of the format employed, a 'type' attribute could be added as well.  </p>
<p id="rfc.section.5.2.4.p.3">An example of how the recorded whiteboard might be addressed is provided here: </p>
<div id="#rfc.figure.15"></div>
<pre>
					
&lt;par&gt;
   [..]
      &lt;ref src="http://example.com/wb/wb12.txt" region="wb" \
           type="myFormat"/&gt;
   [..]
&lt;/par&gt;
				
				</pre>
<p></p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#sec-playout" id="sec-playout">Playout</a>
</h1>
<p id="rfc.section.6.p.1">Once the SMIL metadata has been properly prepared, a playout of the recorded conference is not difficult to achieve. In fact, an interested user just needs to get a SMIL-aware player supporting the several file formats involved, that are: (i) audio/video; (ii) images; (iii) RealText; (iv) the whiteboarding session, whatever format it has been recorded into.  Considering the standard nature of SMIL and of almost all the media involved, the session is likely to be easily accessable to many players out there in the wild. Anyway, the 'type' attribute for all the involved media can be used to check for the support of the related media or not.  </p>
<p id="rfc.section.6.p.2">Additional information provided in the SMIL head (e.g. the &lt;switch&gt; elements and the &lt;layout&gt; they suggest) provide guidance for players to presenting the addressed media in the expected way.  </p>
<p id="rfc.section.6.p.3">The sequence an interested user needs to realize in order to access a recorded conference session can be summarized in the following simplified steps: </p>
<p></p>

<ul>
<li>the user retrieves the SMIL file associated with the conference she/he is interested to (e.g. by means of HTTP or other out-of-band mechanisms);</li>
<li>the SMIL file is passed to a compliant media player (which could have been the means to get the SMIL file in the first place);</li>
<li>the player parses the SMIL file and checks if all the media are supported; apart from explicitly non-standard media (e.g. whiteboard) the player might check if the envolved media files are encoded in a format it supports (e.g. a video file encoded in H.264/MP3);</li>
<li>the player prepares the presentation screen; it makes use of the information in the &lt;head&gt; in order to choose the right layout; the choice may be automatic (e.g. according to the screen resolution) or guided by the user;</li>
<li>the player starts retrieving each involved media file; it may either retrieve each file in its completeness, or start downloading and then start the playout almost immediately (e.g. buffering); it also listens for user-generated events, like the user pausing/resuming the playout, or seeking to a specific time in the conference; if any of these events occur, it takes the related action (e.g. seeking to the right time for each medium in the conference, taking the timing information from the SMIL file as well).</li>
</ul>

<p> </p>
<p id="rfc.section.6.p.5">A general overview of the scenario can be seen in <a href="#fig-play">Figure 16</a>.  </p>
<div id="#rfc.figure.16"></div>
<div id="#fig-play"></div>
<pre>
					
+------+ 1. START    +----------+                          +----------+
| User |------------&gt;|   User   |-------------------------&gt;| Sessions |
|      |&lt;------------| (player) |  2. get conf45.smil      | database |
+------+  6. SHOW    +----------+                          +----------+
                       |  |  |
                       |  |  |
                       |  |  |   3. get audios and videos  +-----------+
                       |  |  +----------------------------&gt;| WebServer |
                       |  |                                |  (video)  |
                       |  |    4. get RealText files       +-----------+
                       |  +-------------------------------&gt;|  (text)   |
                       |    5. get slide images            +-----------+
                       +----------------------------------&gt;|  (images) |
                                                           +-----------+
						 
				</pre>
<p></p>
<p id="rfc.section.6.p.7">In this quite oversimplified scenario, an interested viewer chooses to start viewing a previously recorded conference. She/he knows the address to the recorded session (http://example.com/conf45.smil) and passes it to her/his player (1.). Starting the playout triggers the retrieval of the SMIL description (2.), which may be achieved by means of HTTP or any other protocol. Once the player has access to the description, it starts retrieving the individual media resources addressed there (video in 3., chat in 4., slides in 5.), and, according to the implementation of the player, it either waits for all the downloads to complete or just buffers a little while before starting the presentation to the user (6.).  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#sec-security" id="sec-security">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">TBD.  </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#sec-acks" id="sec-acks">Acknowledgements</a>
</h1>
<p id="rfc.section.8.p.1">The authors would like to thank...  </p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2234">[RFC2234]</b></td>
<td class="top">
<a href="mailto:dcrocker@imc.org" title="Internet Mail Consortium">Crocker, D.</a> and <a href="mailto:paulo@turnpike.com" title="Demon Internet Ltd.">P. Overell</a>, "<a href="http://tools.ietf.org/html/rfc2234">Augmented BNF for Syntax Specifications: ABNF</a>", RFC 2234, November 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2434">[RFC2434]</b></td>
<td class="top">
<a href="mailto:narten@raleigh.ibm.com" title="IBM Corporation">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no" title="Maxware">H.T. Alvestrand</a>, "<a href="http://tools.ietf.org/html/rfc2434">Guidelines for Writing an IANA Considerations Section in RFCs</a>", BCP 26, RFC 2434, October 1998.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3550">[RFC3550]</b></td>
<td class="top">
<a>Schulzrinne, H.</a>, <a>Casner, S.</a>, <a>Frederick, R.</a> and <a>V. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>", STD 64, RFC 3550, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5567">[RFC5567]</b></td>
<td class="top">
<a>Melanchuk, T.</a>, "<a href="http://tools.ietf.org/html/rfc5567">An Architectural Framework for Media Server Control</a>", RFC 5567, June 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6230">[RFC6230]</b></td>
<td class="top">
<a>Boulton, C.</a>, <a>Melanchuk, T.</a> and <a>S. McGlashan</a>, "<a href="http://tools.ietf.org/html/rfc6230">Media Control Channel Framework</a>", RFC 6230, May 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-mediactrl-mixer-control-package">[I-D.ietf-mediactrl-mixer-control-package]</b></td>
<td class="top">
<a>McGlashan, S</a>, <a>Melanchuk, T</a> and <a>C Boulton</a>, "<a href="http://tools.ietf.org/html/draft-ietf-mediactrl-mixer-control-package-14">A Mixer Control Package for the Media Control Channel Framework</a>", Internet-Draft draft-ietf-mediactrl-mixer-control-package-14, January 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-mediactrl-call-flows">[I-D.ietf-mediactrl-call-flows]</b></td>
<td class="top">
<a>Amirante, A</a>, <a>Castaldi, T</a>, <a>Miniero, L</a> and <a>S Romano</a>, "<a href="http://tools.ietf.org/html/draft-ietf-mediactrl-call-flows-07">Media Control Channel Framework (CFW) Call Flow Examples</a>", Internet-Draft draft-ietf-mediactrl-call-flows-07, July 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5239">[RFC5239]</b></td>
<td class="top">
<a>Barnes, M.</a>, <a>Boulton, C.</a> and <a>O. Levin</a>, "<a href="http://tools.ietf.org/html/rfc5239">A Framework for Centralized Conferencing</a>", RFC 5239, June 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4582">[RFC4582]</b></td>
<td class="top">
<a>Camarillo, G.</a>, <a>Ott, J.</a> and <a>K. Drage</a>, "<a href="http://tools.ietf.org/html/rfc4582">The Binary Floor Control Protocol (BFCP)</a>", RFC 4582, November 2006.</td>
</tr>
<tr>
<td class="reference"><b id="W3C.CR-SMIL3-20080115">[W3C.CR-SMIL3-20080115]</b></td>
<td class="top">
<a>Bulterman, D.</a>, "<a>Synchronized Multimedia Integration Language (SMIL 3.0)</a>", World Wide Web Consortium CR CR-SMIL3-20080115, January 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3920">[RFC3920]</b></td>
<td class="top">
<a href="mailto:stpeter@jabber.org" title="Jabber Software Foundation">Saint-Andre, P.</a>, "<a href="http://tools.ietf.org/html/rfc3920">Extensible Messaging and Presence Protocol (XMPP): Core</a>", RFC 3920, October 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4975">[RFC4975]</b></td>
<td class="top">
<a>Campbell, B.</a>, <a>Mahy, R.</a> and <a>C. Jennings</a>, "<a href="http://tools.ietf.org/html/rfc4975">The Message Session Relay Protocol (MSRP)</a>", RFC 4975, September 2007.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Alessandro Amirante</span> 
	  <span class="n hidden">
		<span class="family-name">Amirante</span>
	  </span>
	</span>
	<span class="org vcardline">University of Napoli</span>
	<span class="adr">
	  <span>Via Claudio 21</span>

	  <span class="vcardline">
		<span class="locality">Napoli</span>,  
		<span class="region"></span>
		<span class="code">80125</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:alessandro.amirante@unina.it">alessandro.amirante@unina.it</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Tobia Castaldi</span> 
	  <span class="n hidden">
		<span class="family-name">Castaldi</span>
	  </span>
	</span>
	<span class="org vcardline">Meetecho</span>
	<span class="adr">
	  <span>Via Carlo Poerio 89</span>

	  <span class="vcardline">
		<span class="locality">Napoli</span>,  
		<span class="region"></span>
		<span class="code">80100</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tcastaldi@meetecho.com">tcastaldi@meetecho.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Lorenzo Miniero</span> 
	  <span class="n hidden">
		<span class="family-name">Miniero</span>
	  </span>
	</span>
	<span class="org vcardline">Meetecho</span>
	<span class="adr">
	  <span>Via Carlo Poerio 89</span>

	  <span class="vcardline">
		<span class="locality">Napoli</span>,  
		<span class="region"></span>
		<span class="code">80100</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:lorenzo@meetecho.com">lorenzo@meetecho.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Simon Pietro Romano</span> 
	  <span class="n hidden">
		<span class="family-name">Romano</span>
	  </span>
	</span>
	<span class="org vcardline">University of Napoli</span>
	<span class="adr">
	  <span>Via Claudio 21</span>

	  <span class="vcardline">
		<span class="locality">Napoli</span>,  
		<span class="region"></span>
		<span class="code">80125</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:spromano@unina.it">spromano@unina.it</a></span>

  </address>
</div>

</body>
</html>