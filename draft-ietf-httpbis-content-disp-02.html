<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Use of the Content-Disposition Header Field
  in the Hypertext Transfer Protocol (HTTP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Use of the Content-Disposition Header Field
  in the Hypertext Transfer Protocol (HTTP)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">HTTPbis Working Group</td><td class="header">J. Reschke</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">greenbytes</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc2616'>2616</a> (if&nbsp;approved)</td><td class="header">September 22, 2010</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: March 26, 2011</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Use of the Content-Disposition Header Field
  in the Hypertext Transfer Protocol (HTTP)<br />draft-ietf-httpbis-content-disp-02</h1>

<h3>Abstract</h3>

<p>
      HTTP/1.1 defines the Content-Disposition response header field,
      but points out that it is not part of the HTTP/1.1 Standard. 
      This specification takes over the definition and registration of
      Content-Disposition, as used in HTTP, and clarifies internationalization
      aspects.
    
</p>
<h3>Editorial Note (To be removed by RFC Editor before publication)</h3>

<p>
      This specification is expected to replace the definition of Content-Disposition
      in the HTTP/1.1 specification, as currently revised by the IETF HTTPbis
      working group. See also <a href='http://trac.tools.ietf.org/wg/httpbis/trac/ticket/123'>http://trac.tools.ietf.org/wg/httpbis/trac/ticket/123</a>. 
    
</p>
<p>
      Discussion of this draft should take place on the HTTPBIS working group
      mailing list (ietf-http-wg@w3.org). The current issues list is
      at <a href='http://trac.tools.ietf.org/wg/httpbis/trac/query?component=content-disp'>http://trac.tools.ietf.org/wg/httpbis/trac/query?component=content-disp</a>
      and related documents (including fancy diffs) can be found at
      <a href='http://tools.ietf.org/wg/httpbis/'>http://tools.ietf.org/wg/httpbis/</a>.
    
</p>
<p>
      The changes in this draft are summarized in <a class='info' href='#changes.since.01'>Appendix&nbsp;D.6<span> (</span><span class='info'>Since draft-ietf-httpbis-content-disp-01</span><span>)</span></a>.
    
</p>
<h3>Status of This Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on March 26, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Notational Conventions<br />
<a href="#header.field.definition">3.</a>&nbsp;
Header Field Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">3.1.</a>&nbsp;
Grammar<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#disposition.type">3.2.</a>&nbsp;
Disposition Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#disposition.parameter.filename">3.3.</a>&nbsp;
Disposition Parameter: 'Filename'<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#disposition.parameter.extensions">3.4.</a>&nbsp;
Disposition Parameter: Extensions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#extensibility">3.5.</a>&nbsp;
Extensibility<br />
<a href="#examples">4.</a>&nbsp;
Examples<br />
<a href="#i18n">5.</a>&nbsp;
Internationalization Considerations<br />
<a href="#security.considerations">6.</a>&nbsp;
Security Considerations<br />
<a href="#iana.considerations">7.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#registry">7.1.</a>&nbsp;
Registry for Disposition Values and Parameter<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#header.field.registration">7.2.</a>&nbsp;
Header Field Registration<br />
<a href="#anchor3">8.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#changes.from.rfc2616">Appendix&nbsp;A.</a>&nbsp;
Changes from the RFC 2616 Definition<br />
<a href="#diffs.compared.to.rfc2183">Appendix&nbsp;B.</a>&nbsp;
Differences compared to RFC 2183<br />
<a href="#alternatives">Appendix&nbsp;C.</a>&nbsp;
Alternative Approaches to Internationalization<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#alternatives.rfc2047">C.1.</a>&nbsp;
RFC 2047 Encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#alternatives.percent">C.2.</a>&nbsp;
Percent Encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#alternatives.sniff">C.3.</a>&nbsp;
Encoding Sniffing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#alternatives.implementations">C.4.</a>&nbsp;
Implementations (to be removed by RFC Editor before publication)<br />
<a href="#change.log">Appendix&nbsp;D.</a>&nbsp;
Change Log (to be removed by RFC Editor before publication)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">D.1.</a>&nbsp;
Since draft-reschke-rfc2183-in-http-00<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">D.2.</a>&nbsp;
Since draft-reschke-rfc2183-in-http-01<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">D.3.</a>&nbsp;
Since draft-reschke-rfc2183-in-http-02<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">D.4.</a>&nbsp;
Since draft-reschke-rfc2183-in-http-03<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.00">D.5.</a>&nbsp;
Since draft-ietf-httpbis-content-disp-00<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#changes.since.01">D.6.</a>&nbsp;
Since draft-ietf-httpbis-content-disp-01<br />
<a href="#rfc.index">&#167;</a>&nbsp;
Index<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
  HTTP/1.1 defines the Content-Disposition response header field in Section 19.5.1 of <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>,
  but points out that it is not part of the HTTP/1.1 Standard (Section 15.5):

</p>
<p></p>
<blockquote class="text">
<p>
    Content-Disposition is not part of the HTTP standard, but since it is
    widely implemented, we are documenting its use and risks for implementers.
  
</p>
</blockquote>

<p>
  This specification takes over the definition and registration of
  Content-Disposition, as used in HTTP.
  Based on interoperability testing with existing User Agents, 
  it fully defines a profile of the
  features defined in the Multipurpose Internet Mail Extensions (MIME) variant (<a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a>) of the 
  header field, and also clarifies internationalization
  aspects.

</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Notational Conventions</h3>

<p>
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
  "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document
  are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.

</p>
<p>
  This specification uses the augmented BNF notation defined in
  Section 2.1 of <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, including its rules for
  linear whitespace (LWS).

</p>
<a name="header.field.definition"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Header Field Definition</h3>
<a name='anchor10'></a><a name='anchor11'></a>
<p>
  The Content-Disposition response header field is used to convey additional
  information about how to process the response payload, and also can be used
  to attach additional metadata, such as the filename to use when saving the
  response payload locally.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Grammar</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  content-disposition = "Content-Disposition" ":"
                         disposition-type *( ";" disposition-parm )

  disposition-type    = "inline" | "attachment" | disp-ext-type
                      ; case-insensitive
  disp-ext-type       = token

  disposition-parm    = filename-parm | disp-ext-parm

  filename-parm       = "filename" "=" value
                      | "filename*" "=" ext-value

  disp-ext-parm       = token "=" value
                      | ext-token "=" ext-value
  ext-token           = &lt;the characters in token, followed by "*"&gt;
</pre></div>
<p>Defined in <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  token       = &lt;token, defined in [RFC2616], Section 2.2&gt;
  value       = &lt;value, defined in [RFC2616], Section 3.6&gt;
</pre></div>
<p>Defined in <a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a>:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  ext-value   = &lt;ext-value, defined in [RFC5987], Section 3.2&gt;
</pre></div>
<a name="disposition.type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Disposition Type</h3>

<p>
  If the disposition type matches "attachment" (case-insensitively), this
  indicates that the user agent should prompt the user to save the response
  locally, rather than process it normally (as per its media type).

</p>
<p>
  On the other hand, if it matches "inline" (case-insensitively), this implies
  default processing.

</p>
<p>
  Unknown or unhandled disposition types SHOULD be handled the same way as
  "attachment" (see also <a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a>, Section 2.8).

</p>
<a name="disposition.parameter.filename"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Disposition Parameter: 'Filename'</h3>

<p>
  The parameters "filename" and "filename*", to be matched case-insensitively,
  provide information on how to construct a filename for storing the message
  payload.

</p>
<p>
  Depending on the disposition type, this information might be used right away
  (in the "save as..." interaction caused for the "attachment" disposition type),
  or later on (for instance, when the user decides to save the contents of the
  current page being displayed). 

</p>
<p>
  The parameters "filename" and "filename*" differ only in that "filename*" uses
  the encoding defined in <a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a>, allowing the use 
  of characters not present in the ISO-8859-1 character set (<a class='info' href='#ISO-8859-1'>[ISO&#8209;8859&#8209;1]<span> (</span><span class='info'>International Organization for Standardization, &ldquo;Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1,&rdquo; 1998.</span><span>)</span></a>).

</p>
<p>
  Many user agent implementations predating this specification
  do not understand the "filename*" parameter. Therefore, when both "filename"
  and "filename*" are present in a single header field value, recipients
  SHOULD pick "filename*" and ignore "filename". This way, senders
  can avoid special-casing specific user agents by sending both the
  more expressive "filename*" parameter, and the "filename" parameter
  as fallback for legacy recipients (see <a class='info' href='#examples'>Section&nbsp;4<span> (</span><span class='info'>Examples</span><span>)</span></a> for 
  an example).

</p>
<p>
  It is essential that user agents treat the specified filename as advisory
  only, thus be very careful in extracting the desired information.
  In particular:
  </p>
<ul class="text">
<li>
      When the value contains path separator characters, all but the last
      segment SHOULD be ignored. This prevents unintentional overwriting
      of well-known file system location (such as "/etc/passwd").
    
</li>
<li>
      Many platforms do not use Internet Media Types (<a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>)
      to hold type information in the file system, but rely on filename
      extensions instead. Trusting the server-provided file extension could
      introduce a privilege escalation when the saved file is later opened 
      (consider ".exe"). Thus, recipients need to ensure that a file extension
      is used that is safe, optimally matching the media type of the received
      payload.
    
</li>
<li>
      Other aspects recipients need to be aware of are names that have a 
      special meaning in the file system or in shell commands, such as "." and "..",
      "~", "|", and also device names.
    
</li>
</ul><p>

</p>
<a name="disposition.parameter.extensions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Disposition Parameter: Extensions</h3>

<p>
  To enable future extensions, unknown parameters SHOULD be ignored (see also <a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a>, Section 2.8).

</p>
<a name="extensibility"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Extensibility</h3>

<p>
  Note that Section 9 of <a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> defines IANA registries both
  for disposition types and disposition parameters. This registry is
  shared by different protocols using Content-Disposition, such as MIME and HTTP.
  Therefore, not all registered values may make sense in the context of HTTP.

</p>
<a name="examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Examples</h3>

<p>
Direct UA to show "save as" dialog, with a filename of "example.html":  

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Disposition: Attachment; filename=example.html
</pre></div>
<p>
Direct UA to behave as if the Content-Disposition header field wasn't present,
but to remember the filename "example.html" for a subsequent save operation:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Content-Disposition: INLINE; FILENAME= "example.html"
</pre></div>
<p>
Direct UA to show "save as" dialog, with a filename of "an example":

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Disposition: Attachment; Filename*=UTF-8'en'an%20example
</pre></div>
<p>Note that this example uses the extended encoding defined in
<a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a> to specify that the natural language of the filename
is English, and also to encode the space character which is not allowed in the
token production.

</p>
<p>
Direct UA to show "save as" dialog, with a filename containing the Unicode character  U+20AC (EURO SIGN):

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Content-Disposition: attachment;
                       filename*= UTF-8''%e2%82%ac%20rates
</pre></div>
<p>
  Here, the encoding defined in <a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a> is also used to encode the 
  non-ISO-8859-1 character.

</p>
<p>
Same as above, but adding the "filename" parameter for compatibility with
user agents not implementing RFC 5987:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Content-Disposition: attachment;
                       filename="EURO rates";
                       filename*=utf-8''%e2%82%ac%20rates
</pre></div>
<p>
  Note: as of September 2010, those user agents that do not support the RFC 5987
  encoding ignore "filename*" when it occurs after "filename". Unfortunately,
  some user agents that do support RFC 5987 do pick the "filename" rather
  than the "filename*" parameter when it occurs first; it is expected that
  this situation is going to improve soon.

</p>
<a name="i18n"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Internationalization Considerations</h3>

<p>
  The "filename*" parameter (<a class='info' href='#disposition.parameter.filename'>Section&nbsp;3.3<span> (</span><span class='info'>Disposition Parameter: 'Filename'</span><span>)</span></a>),
  using the encoding defined in <a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a>, allows the 
  server to transmit characters outside the ISO-8859-1 character set,
  and also to optionally specify the language in use.

</p>
<p>
  Future parameters might also require internationalization, in which case
  the same encoding can be used.

</p>
<a name="security.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
  Using server-supplied information for constructing local filenames introduces
  many risks. These are summarized in <a class='info' href='#disposition.parameter.filename'>Section&nbsp;3.3<span> (</span><span class='info'>Disposition Parameter: 'Filename'</span><span>)</span></a>.

</p>
<p>
  Furthermore, implementers also ought to be aware of the Security
  Considerations applying to HTTP (see Section 15 of <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>), and also the parameter encoding defined in <a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a>
  (see Section 5). 

</p>
<a name="iana.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<a name="registry"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Registry for Disposition Values and Parameter</h3>

<p>
  This specification does not introduce any changes to the registration
  procedures for disposition values and parameters that are defined in 
  Section 9 of <a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a>.

</p>
<a name="header.field.registration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Header Field Registration</h3>

<p>
  This document updates the definition of the Content-Disposition HTTP header field
  in the permanent HTTP header field registry (see <a class='info' href='#RFC3864'>[RFC3864]<span> (</span><span class='info'>Klyne, G., Nottingham, M., and J. Mogul, &ldquo;Registration Procedures for Message Header Fields,&rdquo; September&nbsp;2004.</span><span>)</span></a>).

</p>
<p>
</p>
<blockquote class="text"><dl>
<dt>Header field name:</dt>
<dd>Content-Disposition
</dd>
<dt>Applicable protocol:</dt>
<dd>http
</dd>
<dt>Status:</dt>
<dd>standard
</dd>
<dt>Author/Change controller:</dt>
<dd>IETF
</dd>
<dt>Specification document:</dt>
<dd>this specification (<a class='info' href='#header.field.definition'>Section&nbsp;3<span> (</span><span class='info'>Header Field Definition</span><span>)</span></a>)
</dd>
</dl></blockquote><p>

</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgements</h3>

<p>
  Thanks to Rolf Eike Beer, Bjoern Hoehrmann, Alfred Hoenes, Roar Lauritzsen,
  Henrik Nordstrom, and Mark Nottingham for their valuable feedback.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ISO-8859-1">[ISO-8859-1]</a></td>
<td class="author-text">International Organization for Standardization, &ldquo;Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1,&rdquo; ISO/IEC&nbsp;8859-1:1998, 1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5987">[RFC5987]</a></td>
<td class="author-text"><a href="mailto:julian.reschke@greenbytes.de">Reschke, J.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5987">Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters</a>,&rdquo; RFC&nbsp;5987, August&nbsp;2010.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2046">[RFC2046]</a></td>
<td class="author-text"><a href="mailto:ned@innosoft.com">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com">N. Borenstein</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2046">Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</a>,&rdquo; RFC&nbsp;2046, November&nbsp;1996.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2047">[RFC2047]</a></td>
<td class="author-text"><a href="mailto:moore@cs.utk.edu">Moore, K.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2047">MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</a>,&rdquo; RFC&nbsp;2047, November&nbsp;1996.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2183">[RFC2183]</a></td>
<td class="author-text"><a href="mailto:rens@century.com">Troost, R.</a>, <a href="mailto:sdorner@qualcomm.com">Dorner, S.</a>, and <a href="mailto:moore@cs.utk.edu">K. Moore</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2183">Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field</a>,&rdquo; RFC&nbsp;2183, August&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2231">[RFC2231]</a></td>
<td class="author-text"><a href="mailto:ned.freed@innosoft.com">Freed, N.</a> and <a href="mailto:moore@cs.utk.edu">K. Moore</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2231">MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations</a>,&rdquo; RFC&nbsp;2231, November&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3629">[RFC3629]</a></td>
<td class="author-text"><a href="mailto:fyergeau@alis.com">Yergeau, F.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>,&rdquo; STD&nbsp;63, RFC&nbsp;3629, November&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3864">[RFC3864]</a></td>
<td class="author-text"><a href="mailto:GK-IETF@ninebynine.org">Klyne, G.</a>, <a href="mailto:mnot@pobox.com">Nottingham, M.</a>, and <a href="mailto:JeffMogul@acm.org">J. Mogul</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>,&rdquo; BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005.</td></tr>
</table>

<a name="changes.from.rfc2616"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Changes from the RFC 2616 Definition</h3>

<p>
  Compared to Section 19.5.1 of <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, the following
  normative changes reflecting actual implementations have been made:
</p>
<ul class="text">
<li>
    According to RFC 2616, the disposition type "attachment" only applies to
    content of type "application/octet-stream". This restriction has been 
    removed, because user agents in practice do not check the content type, and
    it also discourages properly declaring the media type.
  
</li>
<li>
    RFC 2616 only allows "quoted-string" for the filename parameter. This 
    would be an exceptional parameter syntax, and also doesn't reflect actual
    use.
  
</li>
<li>
    The definition for the disposition type "inline" (<a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a>, Section 2.1)
    has been re-added with a suggestion for its processing.
  
</li>
<li>
    This specification requires support for the extended parameter encoding
    defined in <a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a>.
  
</li>
</ul><p>

</p>
<a name="diffs.compared.to.rfc2183"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Differences compared to RFC 2183</h3>

<p>
  Section 2 of <a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a> defines several additional
  disposition parameters: "creation-date", "modification-date",
  "quoted-date-time", and "size". These do not appear to be implemented by
  any user agent, thus have been omitted from this specification.

</p>
<a name="alternatives"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Alternative Approaches to Internationalization</h3>

<p>
  By default, HTTP header field parameters cannot carry characters outside
  the ISO-8859-1 (<a class='info' href='#ISO-8859-1'>[ISO&#8209;8859&#8209;1]<span> (</span><span class='info'>International Organization for Standardization, &ldquo;Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1,&rdquo; 1998.</span><span>)</span></a>) character encoding (see
  <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, Section 2.2). For the "filename"
  parameter, this of course is an unacceptable restriction.

</p>
<p>
  Unfortunately, user agent implementers have not managed to come up with
  an interoperable approach, although the IETF Standards Track specifies
  exactly one solution (<a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a>, clarified and profiled for
  HTTP in <a class='info' href='#RFC5987'>[RFC5987]<span> (</span><span class='info'>Reschke, J., &ldquo;Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters,&rdquo; August&nbsp;2010.</span><span>)</span></a>).

</p>
<p>
  For completeness, the sections below describe the various approaches that
  have been tried, and explains how they are inferior to the RFC 5987
  encoding used in this specification.

</p>
<a name="alternatives.rfc2047"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.1"></a><h3>C.1.&nbsp;
RFC 2047 Encoding</h3>

<p>
  RFC 2047 defines an encoding mechanism for
  header fields, but this encoding is not supposed to be used for
  header field parameters - see Section 5 of <a class='info' href='#RFC2047'>[RFC2047]<span> (</span><span class='info'>Moore, K., &ldquo;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text,&rdquo; November&nbsp;1996.</span><span>)</span></a>:  

</p>
<p></p>
<blockquote class="text">
<p>
    An 'encoded-word' MUST NOT appear within a 'quoted-string'.
  
</p>
<p>
    ...
  
</p>
<p>
    An 'encoded-word' MUST NOT be used in parameter of a MIME Content-Type or Content-Disposition field, or in any structured field body except within a 'comment' or 'phrase'.
  
</p>
</blockquote>

<p>
  In practice, some user agents implement the encoding, some do not
  (exposing the encoded string to the user), and some get confused by it.

</p>
<a name="alternatives.percent"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.2"></a><h3>C.2.&nbsp;
Percent Encoding</h3>

<p>
  Some user agents accept percent encoded (<a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>, Section 2.1)
  sequences of characters encoded using the UTF-8 (<a class='info' href='#RFC3629'>[RFC3629]<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a>) character encoding.

</p>
<p>
  In practice, this is hard to use because those user agents
  that do not support it will display the escaped character sequence to the user.

</p>
<p>
  Furthermore, the first user agent to implement this did choose the encoding
  based on local settings; thus making it very hard to use in multi-lingual
  environments.

</p>
<a name="alternatives.sniff"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.3"></a><h3>C.3.&nbsp;
Encoding Sniffing</h3>

<p>
  Some user agents inspect the value (which defaults to ISO-8859-1) and
  switch to UTF-8 when it seems to be more likely to be the correct
  interpretation.

</p>
<p>
  As with the approaches above, this is not interoperable and furthermore
  risks misinterpreting the actual value.

</p>
<a name="alternatives.implementations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.4"></a><h3>C.4.&nbsp;
Implementations (to be removed by RFC Editor before publication)</h3>

<p>
  Unfortunately, as of September 2010, neither the encoding defined in RFCs 2231
  and 5987, nor any of the alternate approaches discussed above was
  implemented interoperably. Thus, this specification recommends the approach
  defined in RFC 5987, which at least has the advantage of actually being 
  specified properly.

</p>
<p>
  The table below shows the implementation support for the various approaches:

</p><table class="full" align="left" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left">User Agent</th><th align="left">RFC 2231/5987</th><th align="left">RFC 2047</th><th align="left">Percent Encoding</th><th align="left">Encoding Sniffing</th></tr>
<tr>
<td align="left">Chrome</td>
<td align="left">no</td>
<td align="left">yes</td>
<td align="left">yes</td>
<td align="left">yes</td>
</tr>
<tr>
<td align="left">Firefox</td>
<td align="left">yes (*)</td>
<td align="left">yes</td>
<td align="left">no</td>
<td align="left">yes</td>
</tr>
<tr>
<td align="left">Internet Explorer</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">yes</td>
<td align="left">no</td>
</tr>
<tr>
<td align="left">Konqueror</td>
<td align="left">yes</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
</tr>
<tr>
<td align="left">Opera</td>
<td align="left">yes (*)</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
</tr>
<tr>
<td align="left">Safari</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">yes</td>
</tr>
</table>
<br clear="all" />

<p style='text-align: left'>
  (*) Does not implement the fallback behavior to "filename" described in 
  <a class='info' href='#disposition.parameter.filename'>Section&nbsp;3.3<span> (</span><span class='info'>Disposition Parameter: 'Filename'</span><span>)</span></a>.
  
</p>
<a name="change.log"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D"></a><h3>Appendix D.&nbsp;
Change Log (to be removed by RFC Editor before publication)</h3>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.1"></a><h3>D.1.&nbsp;
Since draft-reschke-rfc2183-in-http-00</h3>

<p> 
  Adjust terminology ("header" -&gt; "header field").
  Update rfc2231-in-http reference.

</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.2"></a><h3>D.2.&nbsp;
Since draft-reschke-rfc2183-in-http-01</h3>

<p> 
  Update rfc2231-in-http reference. Actually define the "filename"
  parameter. Add internationalization considerations. 
  Add examples using the RFC 5987 encoding.
  Add overview over other approaches, plus a table reporting
  implementation status.
  Add and resolve issue "nodep2183".
  Add issues "asciivsiso",
  "deplboth", "quoted", and "registry".

</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.3"></a><h3>D.3.&nbsp;
Since draft-reschke-rfc2183-in-http-02</h3>

<p>
  Add and close issue "docfallback".
  Close issues "asciivsiso", "deplboth", "quoted", and 
  "registry".

</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.4"></a><h3>D.4.&nbsp;
Since draft-reschke-rfc2183-in-http-03</h3>

<p>
  Updated to be a Working Draft of the IETF HTTPbis Working Group.

</p>
<a name="changes.since.00"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.5"></a><h3>D.5.&nbsp;
Since draft-ietf-httpbis-content-disp-00</h3>

<p>
  Closed issues:
  </p>
<ul class="text">
<li>
      <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/242'>http://tools.ietf.org/wg/httpbis/trac/ticket/242</a>:
      "handling of unknown disposition types"
    
</li>
</ul><p>

</p>
<p>
  Slightly updated the notes about the proposed fallback behavior.

</p>
<a name="changes.since.01"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.D.6"></a><h3>D.6.&nbsp;
Since draft-ietf-httpbis-content-disp-01</h3>

<p>
  None yet.

</p><a name="rfc.index"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Index</h3>
<table>
<tr><td><strong>C</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td><a href="#anchor11"><b>Content-Disposition header</b></a></td></tr>
<tr><td><strong>H</strong></td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td>Headers</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;&nbsp;<a href="#anchor10"><b>Content-Disposition</b></a></td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Julian F. Reschke</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">greenbytes GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hafenweg 16</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Muenster, NW  48155</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:julian.reschke@greenbytes.de">julian.reschke@greenbytes.de</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></td></tr>
</table>
</body></html>
