


ENUM -- Telephone Number Mapping                                O. Lendl
Working Group                                                    enum.at
Internet-Draft                                               May 2, 2008
Expires: November 3, 2008


         IANA Registration for the enumservice-subtype 'sip:lr'
                       draft-lendl-enum-sip-lr-00

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on November 3, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2008).

Abstract

   This document requests IANA registration of an enumservice-subtype
   for loose route variant for SIP, the Session Initiation Protocol.
   This subtype allows for the routing of SIP messages addressed to tel:
   Uniform Resource Identifiers (URIs) according to
   [I-D.rosenberg-sip-ua-loose-route].






Lendl                   Expires November 3, 2008                [Page 1]

Internet-Draft         SIP Loose Route Enumservice              May 2008


Table of Contents

   1.  Preface . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3

   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3

   3.  ENUM Service Registration - sip:lr  . . . . . . . . . . . . . . 4

   4.  Example . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4

   5.  Security & Privacy Considerations . . . . . . . . . . . . . . . 5

   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 5

   7.  DNS Considerations  . . . . . . . . . . . . . . . . . . . . . . 5

   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 6
     8.1.  Normative References  . . . . . . . . . . . . . . . . . . . 6
     8.2.  Informative References  . . . . . . . . . . . . . . . . . . 6

   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . . . 6
   Intellectual Property and Copyright Statements  . . . . . . . . . . 7





























Lendl                   Expires November 3, 2008                [Page 2]

Internet-Draft         SIP Loose Route Enumservice              May 2008


1.  Preface

   There is discussion in the IETF SIP working group regarding the
   introduction of a distinction between "routing" and "retargeting" of
   SIP calls.  No consensus has been reached yet.  This document is
   based on one of the proposals ([I-D.rosenberg-sip-ua-loose-route]).

   The purpose of this I-D is to stimulate discussion in the ENUM WG on
   what the implications could be if the ua-loose-route idea is
   standardized.


2.  Introduction

   E.164 Number Mapping (ENUM) [RFC3761] uses the Domain Name System
   (DNS) [RFC1035] to refer from E.164 numbers [refs.E164] to Uniform
   Resource Identifiers (URIs) [RFC3986].  Specific services to be used
   with ENUM must be registered with IANA.
   [I-D.ietf-enum-enumservices-guide] describes the process of such an
   Enumservice registration.

   The enumservice registration for SIP Addresses-of-Record [RFC3764]
   defines a mapping from E.164 telephone number to a SIP AoR which can
   be used by SIP devices to retarget a telephone number based call
   towards a SIP AoR.  INVITE messages generated by this process use the
   retrieved AoR as the Request URI.

   If further call routing hops are done based on the original telephone
   number (TN), the ENUM entry often contains not a true AoR, but
   something like sip:TN@nexthop.example.com;user=phone.  The SIP proxy
   at that next hop extracts the TN from the Request URI and applies his
   own TN-based routing algorithm to determine the next steps.

   According to [I-D.rosenberg-sip-ua-loose-route], this is a clear
   example of a "routing" operation and not a "retargetting" operation,
   as from a logical point of view the call is still addressed to the
   same telephone number.  Consequently, the Request-URI should be kept,
   and only a Route header should be inserted to indicate the next SIP
   hop.  For backward compatibility reasons, it is necessary (Section 6,
   last paragraph in [I-D.rosenberg-sip-ua-loose-route]) that the next
   hop indicates that he supports loose-route.

   This subtype for the "sip" enumservice does exactly that: it allows
   the destination network to announce that it supports loose routing as
   defined by [I-D.rosenberg-sip-ua-loose-route].






Lendl                   Expires November 3, 2008                [Page 3]

Internet-Draft         SIP Loose Route Enumservice              May 2008


3.  ENUM Service Registration - sip:lr

   The following template contains information required for the IANA
   registrations of the "lr" subtype for the Enumservice "sip",
   according to [I-D.ietf-enum-enumservices-guide]:

   Enumservice Type: "sip"

   Enumservice Subtype: "lr"

   URI Schemes: "sip"

   Functional Specification:
      This Enumservice/subtype indicates that the resource identified is
      a SIP next hop towards the endpoint identified by the telephone
      number as defined by [I-D.rosenberg-sip-ua-loose-route].

   Security Considerations: see Section 5

   Intended Usage: COMMON

   Registration Document: This document's RFC number once it is
   published.

   Author: Otmar Lendl <mailto:otmar.lendl@enum.at>


4.  Example

   An example ENUM entry indicating a SIP next hop could look like:

             $ORIGIN 6.9.4.0.6.9.4.5.1.1.4.4.e164.arpa.
             @  IN NAPTR  ( 100 10 "u"
                            "E2U+sip:lr"
                            "!^.*$!sip:p1.example.com;lr!" .
                          )

   To visualize the difference between how "sip" and "sip:lf" entries
   are interpreted, consider the following entries:

             $ORIGIN 6.9.4.0.6.9.4.5.1.1.4.4.e164.arpa.
             @  IN NAPTR  ( 100 10 "u"
                            "E2U+sip"
                            "!^.*$!sip:alice@example.com!" .
                          )
             @  IN NAPTR  ( 100 10 "u"
                            "E2U+sip:lr"
                            "!^.*$!sip:p1.example.com;lr!" .



Lendl                   Expires November 3, 2008                [Page 4]

Internet-Draft         SIP Loose Route Enumservice              May 2008


                          )

   A SIP proxy dealing with a call to tel:+441154960496 can select
   either record.  The first leads to

           INVITE sip:alice@example.com SIP/2.0

   being sent to the proxy responsible for example.com.  If the sip:lr
   record is used, then

           INVITE tel:+441154960496 SIP/2.0
           Route: <sip:p1.example.com;lr>

   is sent to p1.example.com.


5.  Security & Privacy Considerations

   The registration document of the "sip" enumservice ([RFC3764])
   contains an extensive Security section.

   The loose route subtype adds no new concerns, to the contrary: as the
   SIP URI contained in such a records does not contain a (potentially
   revealing) AoR, but only a hostname and port, it is less likely to
   leak personal information.

   On the other hand, the hostnames contained in these records may
   expose information on the internal network topology.


6.  IANA Considerations

   This memo requests IANA to add a new "lr" Enumservice subtype to the
   'Enumservice Registrations' registry entry for "sip", according to
   the definitions in this document and
   [I-D.ietf-enum-enumservices-guide].

   The required template is contained in Section 3.


7.  DNS Considerations

   This is a straight forward ENUM service-type.


8.  References





Lendl                   Expires November 3, 2008                [Page 5]

Internet-Draft         SIP Loose Route Enumservice              May 2008


8.1.  Normative References

   [RFC3761]  Faltstrom, P. and M. Mealling, "The E.164 to Uniform
              Resource Identifiers (URI) Dynamic Delegation Discovery
              System (DDDS) Application (ENUM)", RFC 3761, April 2004.

   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              RFC 3986, January 2005.

   [RFC3764]  Peterson, J., "enumservice registration for Session
              Initiation Protocol (SIP) Addresses-of-Record", RFC 3764,
              April 2004.

   [I-D.ietf-enum-enumservices-guide]
              Hoeneisen, B., Mayrhofer, A., and J. Livingood, "IANA
              Registration of Enumservices: Guide, Template and IANA
              Considerations", draft-ietf-enum-enumservices-guide-08
              (work in progress), March 2008.

8.2.  Informative References

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.

   [refs.E164]
              ITU-T, "The international public telecommunication
              numbering plan", Recommendation E.164 (02/05), Feb 2005.

   [I-D.rosenberg-sip-ua-loose-route]
              Rosenberg, J., "Applying Loose Routing to Session
              Initiation Protocol (SIP) User Agents  (UA)",
              draft-rosenberg-sip-ua-loose-route-02 (work in progress),
              January 2008.


Author's Address

   Otmar Lendl
   enum.at GmbH
   Karlsplatz 1/9
   Wien  A-1010
   Austria

   Phone: +43 1 5056416 33
   Email: otmar.lendl@enum.at
   URI:   http://www.enum.at/




Lendl                   Expires November 3, 2008                [Page 6]

Internet-Draft         SIP Loose Route Enumservice              May 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Lendl                   Expires November 3, 2008                [Page 7]

