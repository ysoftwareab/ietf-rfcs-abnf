<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Application-Layer Traffic Optimization (ALTO) Problem Statement</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Application-Layer Traffic Optimization (ALTO) Problem Statement">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">E. Marocco</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Telecom Italia</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">V. Gurbani</td></tr>
<tr><td class="header">Expires: May 7, 2009</td><td class="header">Bell Laboratories, Alcatel-Lucent</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 03, 2008</td></tr>
</table></td></tr></table>
<h1><br />Application-Layer Traffic Optimization (ALTO) Problem Statement<br />DOCNAME</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 7, 2009.</p>

<h3>Abstract</h3>

<p>
      A significant part of the Internet traffic today is generated by
      peer-to-peer applications used, for example, for file sharing,
      realtime communications and live media streaming.  Such
      applications often deal with large amounts of data in direct
      peer-to-peer connections, but they usually have little knowledge
      of the underlying network topology.  As a result, they may
      choose their peers based on measurements and statistics which,
      in some situations, may lead to suboptimal choices.  This
      document describes problem related to optimizing traffic
      generated by peer-to-peer applications through the use of
      network-layer information, provides a representative set of
      use cases that may exhibit this problem, and outlines 
      considerations that have to be taken in account when arriving
      at equitable solutions.
    
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Research or Engineering?<br />
<a href="#anchor3">2.</a>&nbsp;
Definitions<br />
<a href="#problem">3.</a>&nbsp;
The Problem<br />
<a href="#usecases">4.</a>&nbsp;
Use Cases<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">4.1.</a>&nbsp;
File sharing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.2.</a>&nbsp;
Cache/Mirror Selection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.3.</a>&nbsp;
Live Media Streaming<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.4.</a>&nbsp;
Realtime Communications<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.5.</a>&nbsp;
Distributed Hash Tables<br />
<a href="#solution">5.</a>&nbsp;
Solution Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.1.</a>&nbsp;
ALTO Service Providers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.2.</a>&nbsp;
Discovery of ALTO servers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.3.</a>&nbsp;
User Privacy<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.4.</a>&nbsp;
Topology Hiding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">5.5.</a>&nbsp;
Coexistence with Caching<br />
<a href="#anchor14">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor15">7.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">8.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
      A significant part of the Internet traffic today is generated by
      peer-to-peer (P2P) applications used, for example, for file
      sharing, realtime communications and live media streaming <a class='info' href='#WWW.cachelogic.picture'>[WWW.cachelogic.picture]<span> (</span><span class='info'>Parker, A., &ldquo;The true picture of peer-to-peer filesharing,&rdquo; .</span><span>)</span></a> <a class='info' href='#WWW.wired.fuel'>[WWW.wired.fuel]<span> (</span><span class='info'>Glasner, J., &ldquo;P2P fuels global bandwidth binge,&rdquo; .</span><span>)</span></a>.  Different from the client/server
      architecture, P2P applications access resources (e.g. files or
      media relays) distributed across the Internet and exchange large
      amounts of data in connections that they establish directly with
      nodes sharing such resources.
    
</p>
<p>
      One advantage of P2P systems arises from the fact that the
      resources such systems offer are often made available through
      multiple replicas.  Yet applications generally do not have
      reliable information of the underlying network and thus have to
      select among available instances based on information they
      deduce from empirical measurements which, in some situations,
      lead to suboptimal choices.
    
</p>
<p>
      </p>
<blockquote class="text">
<p>
          For example, popular metrics based on round trip time
          estimation sometimes used for initial sources selection
          (i.e. before actual data transmissions begin, when goodput
          values are unknown) perform quite badly for file sharing
          applications as they tend to ignore bandwidth and
          reliability of underlying links, which have much more
          influence than delay on file transfers.
        
</p>
</blockquote><p>
    
</p>
<p>
      Many of the existing P2P systems are based on an overlay network
      consisting of direct connections peers establish among
      themselves; such connections, obviously, do not account for the
      underlying network topology.  In addition to simply achieving
      suboptimal performance, such networks can lead to congestions
      and cause serious inefficiencies.  As shown in <a class='info' href='#ACM.fear'>[ACM.fear]<span> (</span><span class='info'>Karagiannis, T., Rodriguez, P., and K. Papagiannaki, &ldquo;Should ISPs fear Peer-Assisted Content Distribution?,&rdquo; .</span><span>)</span></a>, traffic generated by popular P2P
      applications often cross network boundaries multiple times,
      overloading links which are frequently subject to congestion
      <a class='info' href='#ACM.bottleneck'>[ACM.bottleneck]<span> (</span><span class='info'>Akella, A., Seshan, S., and A. Shaikh, &ldquo;An Empirical Evaluation of WideArea Internet Bottlenecks,&rdquo; .</span><span>)</span></a>.
    
</p>
<p>
      Recent studies <a class='info' href='#ACM.ispp2p'>[ACM.ispp2p]<span> (</span><span class='info'>Aggarwal, V., Feldmann, A., and C. Scheideler, &ldquo;Can ISPs and P2P systems co-operate for improved performance?,&rdquo; .</span><span>)</span></a> <a class='info' href='#WWW.p4p.overview'>[WWW.p4p.overview]<span> (</span><span class='info'>Xie, H., Krishnamurthy, A., Silberschatz, A., and R. Yang, &ldquo;P4P: Explicit Communications for Cooperative Control Between           P2P and Network Providers,&rdquo; .</span><span>)</span></a> <a class='info' href='#ACM.ono'>[ACM.ono]<span> (</span><span class='info'>Choffnes, D. and F. Bustamante, &ldquo;Taming the Torrent: A practical approach to reducing           cross-ISP traffic in P2P systems,&rdquo; .</span><span>)</span></a> have shown
      that if Internet Service Providers (ISP), network operators or
      third parties in general provide reliable network information
      such as topology and/or bandwidth to P2P applications, it would
      be possible to greatly increase application performance, reduce
      congestion and optimize the overall traffic across different
      networks.  This document gives the problem statement of
      optimizing traffic generated by P2P applications using
      information provided by a separate party.
    
</p>
<p>
      The rest of this document is structured as follows.  <a class='info' href='#problem'>Section&nbsp;3<span> (</span><span class='info'>The Problem</span><span>)</span></a> introduces the problem more formally. <a class='info' href='#usecases'>Section&nbsp;4<span> (</span><span class='info'>Use Cases</span><span>)</span></a> describes some use cases where both P2P
      applications and network operators would benefit from a solution
      to such a problem. <a class='info' href='#solution'>Section&nbsp;5<span> (</span><span class='info'>Solution Considerations</span><span>)</span></a> describes the main
      issues to consider when designing such a solution.
    
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Research or Engineering?</h3>

<p>
        At the time of writing, several solutions have been proposed
        to address the problem described in this document, both inside
        and outside the IETF accompanied by encouraging simulation and
        field test results <a class='info' href='#I-D.bonaventure-informed-path-selection'>[I&#8209;D.bonaventure&#8209;informed&#8209;path&#8209;selection]<span> (</span><span class='info'>Saucez, D. and B. Donnet, &ldquo;The case for an informed path selection service,&rdquo; February&nbsp;2008.</span><span>)</span></a> <a class='info' href='#ACM.ispp2p'>[ACM.ispp2p]<span> (</span><span class='info'>Aggarwal, V., Feldmann, A., and C. Scheideler, &ldquo;Can ISPs and P2P systems co-operate for improved performance?,&rdquo; .</span><span>)</span></a> <a class='info' href='#WWW.p4p.overview'>[WWW.p4p.overview]<span> (</span><span class='info'>Xie, H., Krishnamurthy, A., Silberschatz, A., and R. Yang, &ldquo;P4P: Explicit Communications for Cooperative Control Between           P2P and Network Providers,&rdquo; .</span><span>)</span></a>.  Such
        solutions have been proposed independently, but all consists
        of two essential parts:

        </p>
<ul class="text">
<li>
            a discovery mechanism which can be used by a P2P
            application to find a reliable information source;
          
</li>
<li>
            a protocol used by P2P applications to query such sources
            in order to retrieve the information needed to perform
            better-than-random selection of the endpoints providing a
            desired resource.
          
</li>
</ul><p>
      
</p>
<p>
        It is not easy to foresee how such solutions would perform in
        the Internet, but a more accurate evaluation would require
        representative data collected from real systems by a critical
        mass of users.
      
</p>
<p>
        However, wide adoption will probably never happen without an
        agreement on a common solution based on open standard.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Definitions</h3>

<p>
      The following terms have special meaning in the definition of
      the Application-Layer Traffic Optimization (ALTO) problem.
    
</p>
<p>
      </p>
<blockquote class="text"><dl>
<dt>Application:</dt>
<dd>
          A distributed communication system (e.g., file sharing) that
          uses the ALTO service to improve its performance (or quality
          of experience) while reducing resource consumption in the
          underlying network infrastructure.  Applications may use the
          P2P model to organize themselves, or they can be simple
          client-server based, or even a hybrid of both.
        
</dd>
<dt>Peer:</dt>
<dd>
          A specific participant in an application.  Colloquially, a
          peer refers to a participant in a P2P network or system, and
          this definition does not violate that assumption.  If the
          application is based on a client-server or hybrid model,
          then the usage of the terms "client" and "server" imparts
          enough context for dis-ambiguity.
        
</dd>
<dt>Resource:</dt>
<dd>
          A piece of content (e.g. a file or a chunk of a file) or a
          server process (e.g. for relaying a media stream or for
          perfoming a computation) which can be accessed by
          applications. In the ALTO context a resource is often
          available in several equivalent replicas, shared by
          different peers.
        
</dd>
<dt>Resource Identifier:</dt>
<dd>
          An application layer identifier used to identify a resource,
          no matter how many replicas thereof exist.
        
</dd>
<dt>Resource Provider:</dt>
<dd>
          For P2P applications, a resource provider is a specific peer
          that provides some resources.  For client-server or hybrid
          applications, a provider is a server that hosts a resource.
        
</dd>
<dt>Resource Consumer:</dt>
<dd>
          For P2P applications, a resource consumer is a specific peer
          that needs to access resources.  For client-server or hybrid
          applications, a consumer is a client that needs to access
          resources.
        
</dd>
<dt>Transport Address:</dt>
<dd>
          All address information that is needed by a resource
          consumer to access the desired resource at a specific
          resource provider. This information usually consists of the
          resource provider's IP address, and it may include other
          information, such as a transport protocol identifier or port
          numbers.
        
</dd>
<dt>Overlay Network:</dt>
<dd>
          A virtual network consisting of direct connections on top of
          another network, established by a group of peers.  This
          logical structure, which can be used to implement
          distributed applications, may benefit from guidance from the
          ALTO service.
        
</dd>
<dt>Resource Directory:</dt>
<dd>
          An entity which is separate from the resource consumer, and
          which assists a resource consumer to identify a set of
          resource providers. In P2P applications, the resource
          directory may be referred to as a P2P tracker.  Some
          applications do not use this concept and do the address
          mapping directly in the resource consumer.
        
</dd>
<dt>Host Location Attribute:</dt>
<dd>
          Information which is related to the location of a host in
          the network topology.  The ALTO service gives
          recommendations based on this information.  A host location
          attribute may consist, for example, of an IP address, an
          address prefix or address range that contains the host, an
          autonomous system (AS) number, or any other localization
          attribute.  These different options may provide different
          levels of detail.  Depending on the system architecture,
          this may have implications on the quality of the
          recommendations ALTO is able to provide, on whether
          recommendations can be aggregated, and on how much
          privacy-sensitive information about users might be disclosed
          to additional parties.
        
</dd>
<dt>ALTO Service:</dt>
<dd>
          If several resource providers are able to provide the same
          resource, the ALTO service gives guidance to a resource
          consumer or resource directory, on which resource
          provider(s) to select, in order to optimize its performance
          (or quality of experience) while minimizing resource
          consumption in the underlying network infrastructure.
        
</dd>
<dt>ALTO Server:</dt>
<dd>
          A logical entity that provides interfaces that can be used
          to query the ALTO service.
        
</dd>
<dt>ALTO Client:</dt>
<dd>
          The logical entity that sends ALTO queries. Depending on the
          architecture of the application it may be embedded in the
          resource consumer or in the resource directory.
        
</dd>
<dt>ALTO Query:</dt>
<dd>
          A message sent from an ALTO client to an ALTO server, which
          requests guidance from the ALTO Service.
        
</dd>
<dt>ALTO Reply:</dt>
<dd>
          A message sent from an ALTO server to an ALTO client, which
          contains guiding information from the ALTO service.
        
</dd>
<dt>ALTO Transaction:</dt>
<dd>
          An ALTO transaction consists of an ALTO query and the
          corresponding ALTO reply.
        
</dd>
<dt>Local Traffic:</dt>
<dd>
          Internet traffic which stays within the network
          infrastructure of one Internet Service Providers (ISP).
          This type of traffic usually causes the least costs for the
          ISP.
        
</dd>
<dt>Peering Traffic:</dt>
<dd>
          Internet traffic exhcanged by two Internet Service Providers
          whose networks are directly connected.  Apart from
          infrastructure and operational costs, peering traffic is
          usually free, within the contract of a peering agreement.
        
</dd>
<dt>Transit Traffic:</dt>
<dd>
          Internet traffic exchanged on the basis of economic
          agreements between Internet Service Providers (ISP). An ISP
          generally pays a transit provider for the delivery of
          traffic flowing between its network and networks that are
          not directly connected.
        
</dd>
</dl></blockquote><p>
    
</p>
<a name="problem"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
The Problem</h3>

<p>
      Network engineers have been facing the problem of traffic
      optimization for a long time now and have already designed
      mechanisms like MPLS <a class='info' href='#RFC3031'>[RFC3031]<span> (</span><span class='info'>Rosen, E., Viswanathan, A., and R. Callon, &ldquo;Multiprotocol Label Switching Architecture,&rdquo; January&nbsp;2001.</span><span>)</span></a> and DiffServ <a class='info' href='#RFC3260'>[RFC3260]<span> (</span><span class='info'>Grossman, D., &ldquo;New Terminology and Clarifications for Diffserv,&rdquo; April&nbsp;2002.</span><span>)</span></a> to deal with it.  The problem they address
      consists in finding (or setting) optimal routes for packets
      traveling between specific source and destination addresses and
      based on requirements such as low latency, high reliability, and
      priority.  Such solutions are usually implemented at the link
      and network layers, and tend to be almost transparent.  At best,
      applications can only "mark" the traffic they generate with the
      corresponding properties.
    
</p>
<p>
      However, P2P applications that are today posing serious
      challenges to Internet infrastructures, do not benefit much from
      the above techniques and "cooperating" with external services
      aware of the network topology could greatly optimize the traffic
      they generate.  In fact, when a P2P application needs to
      establish a connection, the logical target is not a host, but
      rather a resource (e.g. a file or a media relay) generally
      available in multiple instances on different peers; selection of
      the closest one -- or, in general, the best from an overlay
      topological proximity -- has much more impact on the overall
      traffic than the route followed by its packets to reach the
      endpoint.
    
</p>
<p>
      Optimization of the peer selection is particularly important in
      the initial phase of the process.  Consider a P2P protocol such
      as BitTorrent, where a querying peer receives a list of
      candidate destinations where a resource resides.  From this
      list, the peer will derive a smaller set of candidates to
      connect to and exchange information with.  In another example, a
      streaming video client may be provided with a list of
      destinations from which it can download content from.  In both
      cases, the use of topology information in an early stage will
      allow applications to improve their performance and will help
      ISPs make a better use of their network resources (in
      particular, reducing the transit traffic on interdomain links).
    
</p>
<p>
      Addressing the Application-Layer Traffic Optimization (ALTO)
      problem means, on the one hand, deploying an ALTO service to
      provide applications with information regarding the underlying
      network and, on the other hand, enhancing applications in order
      to use such information to perform better-than-random selection
      of the endpoints they establish connections with.
    
</p>
<a name="usecases"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Use Cases</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
File sharing</h3>

<p>
        File sharing applications allow users to search for content
        shared by other users and download it.  Typically, search
        results consist of many instances of the same file (or chunk
        of a file) available from multiple sources; the goal of an
        ALTO solution would be to help peers find the best ones
        according to the underlying networks.
      
</p>
<p>
        On the application side, integration of ALTO functionalities
        may happen at different levels.  For example, while in the
        completely decentralized Gnutella network selection of the
        best sources is totally up to the user, in systems like
        BitTorrent and eDonkey, central elements (i.e. trackers or
        servers) act as mediators.  Therefore, in the former case,
        optimization would require modification in the applications,
        while in the latter it could just be implemented in some
        central elements.
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Cache/Mirror Selection</h3>

<p>
        Providers of popular content like media and software
        repositories usually resort to geographically distributed
        caches and mirrors for load balancing.  Selection of the
        proper mirror/cache for a given user is today based on
        inaccurate geolocation data, on proprietary network location
        systems or often delegated to the user himself.  An ALTO
        solution could be easily adopted to ease such a selection in
        an automated way.
      
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Live Media Streaming</h3>

<p>
        P2P applications for live streaming allow users to receive
        multimedia content produced by one source and targeted to
        multiple destinations, in a realtime or near-realtime way
        without recurring to multicast.  Such applications typically
        participate in the distribution of the content, acting as both
        receivers and senders; the goal of an ALTO solution would be
        to help peers to find the best sources and the best
        destinations for media flows they receive and relay.
      
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Realtime Communications</h3>

<p>
        P2P realtime communications allow users to establish direct
        media flows, usually to place audio and video calls, or to
        have text chats.  In the basic case, media would flow directly
        between the two endpoints; however, in the general case, a
        significant portion of communications between users with
        limited access to the Internet (e.g. users behind NATs,
        firewalls or HTTP proxies) need to be relayed by other
        elements.  Such media relays are distributed over the Internet
        -- in some cases co-located with applications with a public
        address; the goal of an ALTO solution would be to help peers
        to find the best relays.
      
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Distributed Hash Tables</h3>

<p>
        Distributed hash tables (DHT) are a class of overlay
        algorithms used to implement lookup functionalities in popular
        P2P systems, without recurring to centralized elements.  In
        such systems, peers maintain addresses of other peers
        participating in the same DHT in a routing table, sorted
        according to specific criteria.  An ALTO solution would
        provide valuable information for DHT algorithms which, in
        order to reduce path latency of distributed queries, include
        round trip time estimations among such criteria <a class='info' href='#SIGCOMM.resprox'>[SIGCOMM.resprox]<span> (</span><span class='info'>Gummadi, K., Gummadi, R., Ratnasamy, S., Gribble, S., Shenker, S., and I. Stoica, &ldquo;The impact of DHT routing geometry on resilience and           proximity,&rdquo; .</span><span>)</span></a>.
      
</p>
<a name="solution"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Solution Considerations</h3>

<p>
      This section introduces some aspects to keep in consideration
      when designing an ALTO service to provide applications with
      information they can use to perform better-than-random peer
      selection.
    
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
ALTO Service Providers</h3>

<p>
        ALTO services can be provided by at least three different
        kinds of entity:

        </p>
<ol class="text">
<li>
            Network operators: usually have full knowledge of the
            network they administer and are aware of the topology and
            policies that transit and peering traffic are subject to;
          
</li>
<li>
            Third parties: entities different from the network
            operators, but which may have collected network
            information. Examples of such entities are content
            delivery networks (like Akamai) which control wide and
            highly distributed infrastructures, or companies providing
            an ALTO service on behalf of ISPs (and thus acquire the
            information from the ISPs themselves);
          
</li>
<li>
            User communities: running distributed algorithms, for
            example for estimating the topology of the Internet.
          
</li>
</ol><p>
      
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Discovery of ALTO servers</h3>

<p>
        As a direct consequence of the totally decentralized
        architecture of the Internet, it seems almost impossible to
        centralize all information P2P applications may need to
        optimize traffic they generate.  Therefore, any solution for
        the ALTO problem will need to specify a mechanism for
        applications to find a proper ALTO server to query.
      
</p>
<p>
        It is important to note that, depending on the implementation
        of the ALTO service, an ALTO server could be a centralized
        entity for example deployed by the network operator as well as
        a volatile node participating in a distributed algorithm.
      
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
User Privacy</h3>

<p>
        Information provided by the ALTO client querying the ALTO
        server could help increase the level of accuracy in the
        replies.  For example, if the querying client indicates what
        kind of application it is using (e.g. realtime communications
        or bulk data transfer), the server will be able to indicate
        priorities in its replies accomodating the requirements of the
        traffic the application will generate.  However, it is
        important that for using an ALTO service the application does
        not have to disclose information it may consider sensible.
      
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Topology Hiding</h3>

<p>
        Operators can play an important role in addressing the ALTO
        problem, but they generally consider network information they
        own to be confidential; therefore, in order to succeed and
        achieve wide adoption, any solution should provide a method to
        help P2P applications in peer selection without explicitly
        disclosing topology of the underlying network.
      
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Coexistence with Caching</h3>

<p>
        A common approach to optimizing traffic generated by
        applications which require large data transfers is based on
        caching techniques.  In some cases, such techniques have
        proven to be extremely effective in both enhancing user
        experience and saving network resources; however, they have
        two main limits in respect to the solutions based on provision
        of topology information:

        </p>
<ol class="text">
<li>
            Application specificity: since a cache is meant to replace
            the source of the content being accessed -- either
            explicitly or transparently -- it must be able to speak
            the same protocol with the querying peer.  For this
            reason, caching solutions can be reasonably adopted only
            for most popular applications (e.g. HTTP and BitTorrent).
          
</li>
<li>
            Content awareness: since caches need to actually store the
            content being delivered, they are subject to legal threats
            whenever the user does not have the right to access or
            distribute such content.  This limitation makes caching
            approaches unusable in today's popular file sharing
            systems.
          
</li>
</ol><p>
      
</p>
<p>
        In general, solutions based on provision of topology
        information need not to interfere with caching; to the
        contrary, if ALTO service used by applications is aware of the
        presence of chaches, it can point them out in its replies with
        higher priorities and thus achieve greater optimization.
      
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
      The approach proposed in this document requires P2P applications
      to delegate a portion of their routing capability to third
      parties, giving them a significant role in systems where that
      would be otherwise excluded.
    
</p>
<p>
      In the case where an ALTO solution is deployed by the network
      operator, it is conceivable that the P2P community would
      consider it hostile because the operator could, for example:

      </p>
<ul class="text">
<li>
          redirect applications to corrupted mediators providing
          malicious content;
        
</li>
<li>
          track connections to perform content inspection;
        
</li>
<li>
          apply policies based on criteria other than network
          efficiency (for example, to avoid peering points regulated
          by inconvenient economic agreements).
        
</li>
</ul><p>
    
</p>
<p>
      However, ALTO is completely optional for P2P applications and 
      its purpose is to help improve performance of such applications.
      If, for some reason, it fails to achieve this purpose, it would 
      simply fail to gain popularity and would not be used.
    
</p>
<p>
      Even in cases where the ALTO service provider would decide to
      maliciously alter results returned by queries only after the
      solution has gained popularity (i.e. it behaves for a while to
      become popular and then starts misbehaving), it would be fairly
      easy for P2P application maintainers and users to revert to
      solutions that are not using it.  After all, it would all come
      down to change some application settings in cases where the
      protocol is implemented inside the client and upgrading
      centralized elements for architectures like BitTorrent and
      eDonkey.
    
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<p>
      Vinay Aggarwal and the P4P working group conducted the research
      work done outside the IETF.  Emil Ivov, Rohan Mahy, Anthony
      Bryan, Stanislav Shalunov, Laird Popkin, Stefano Previdi,
      Reinaldo Penno, Dimitri Papadimitriou, Sebastian Kiesel, and
      many others provided insightful discussions, specific comments
      and much needed corrections.
    
</p>
<p>
      Thanks in particular to Richard Yang for several reviews.
    
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ACM.bottleneck">[ACM.bottleneck]</a></td>
<td class="author-text">Akella, A., Seshan, S., and A. Shaikh, &ldquo;An Empirical Evaluation of WideArea Internet Bottlenecks,&rdquo; &nbsp;Proceedings of ACM SIGCOMM, October 2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="ACM.fear">[ACM.fear]</a></td>
<td class="author-text">Karagiannis, T., Rodriguez, P., and K. Papagiannaki, &ldquo;Should ISPs fear Peer-Assisted Content Distribution?,&rdquo; &nbsp;In ACM USENIX IMC, Berkeley 2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="ACM.ispp2p">[ACM.ispp2p]</a></td>
<td class="author-text">Aggarwal, V., Feldmann, A., and C. Scheideler, &ldquo;Can ISPs and P2P systems co-operate for improved performance?,&rdquo; &nbsp;In ACM SIGCOMM Computer Communications Review
                         (CCR), 37:3, pp. 29-40.</td></tr>
<tr><td class="author-text" valign="top"><a name="ACM.ono">[ACM.ono]</a></td>
<td class="author-text">Choffnes, D. and F. Bustamante, &ldquo;Taming the Torrent: A practical approach to reducing
          cross-ISP traffic in P2P systems,&rdquo; &nbsp;Proceedings of ACM SIGCOMM, August 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.bonaventure-informed-path-selection">[I-D.bonaventure-informed-path-selection]</a></td>
<td class="author-text">Saucez, D. and B. Donnet, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-bonaventure-informed-path-selection-00.txt">The case for an informed path selection service</a>,&rdquo; draft-bonaventure-informed-path-selection-00 (work in progress), February&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-bonaventure-informed-path-selection-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3031">[RFC3031]</a></td>
<td class="author-text">Rosen, E., Viswanathan, A., and R. Callon, &ldquo;<a href="http://tools.ietf.org/html/rfc3031">Multiprotocol Label Switching Architecture</a>,&rdquo; RFC&nbsp;3031, January&nbsp;2001 (<a href="ftp://ftp.isi.edu/in-notes/rfc3031.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3260">[RFC3260]</a></td>
<td class="author-text">Grossman, D., &ldquo;<a href="http://tools.ietf.org/html/rfc3260">New Terminology and Clarifications for Diffserv</a>,&rdquo; RFC&nbsp;3260, April&nbsp;2002 (<a href="ftp://ftp.isi.edu/in-notes/rfc3260.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SIGCOMM.resprox">[SIGCOMM.resprox]</a></td>
<td class="author-text">Gummadi, K., Gummadi, R., Ratnasamy, S., Gribble, S., Shenker, S., and I. Stoica, &ldquo;The impact of DHT routing geometry on resilience and
          proximity,&rdquo; &nbsp;Proceedings of ACM SIGCOMM, August 2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="WWW.cachelogic.picture">[WWW.cachelogic.picture]</a></td>
<td class="author-text">Parker, A., &ldquo;<a href="http://www.cachelogic.com">The true picture of peer-to-peer filesharing</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="WWW.p4p.overview">[WWW.p4p.overview]</a></td>
<td class="author-text">Xie, H., Krishnamurthy, A., Silberschatz, A., and R. Yang, &ldquo;<a href="http://www.dcia.info/documents/P4P_Overview.pdf">P4P: Explicit Communications for Cooperative Control Between
          P2P and Network Providers</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="WWW.wired.fuel">[WWW.wired.fuel]</a></td>
<td class="author-text">Glasner, J., &ldquo;<a href="http://www.wired.com/techbiz/media/news/2005/04/67202">P2P fuels global bandwidth binge</a>.&rdquo;</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Enrico Marocco</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Telecom Italia</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Via G. Reiss Romoli, 274</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Turin  10148</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:enrico.marocco@telecomitalia.it">enrico.marocco@telecomitalia.it</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vijay K. Gurbani</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bell Laboratories, Alcatel-Lucent</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1960 Lucent Lane</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Naperville, IL  60566</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:vkg@alcatel-lucent.com">vkg@alcatel-lucent.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
