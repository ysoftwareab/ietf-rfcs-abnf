



TEAS Working Group                                               A. Wang
Internet-Draft                                             China Telecom
Intended status: Informational                                  X. Huang
Expires: February 27, 2020                                        C. Kou
                                                                    BUPT
                                                                   Z. Li
                                                            China Mobile
                                                                   P. Mi
                                                     Huawei Technologies
                                                         August 26, 2019


      Scenarios and Simulation Results of PCE in Native IP Network
                 draft-ietf-teas-native-ip-scenarios-07

Abstract

   The requirements for the End to End(E2E) performance assurance are
   emerging within the service provider network, there are various
   solutions to meet such demands, but there is no one solution can meet
   these requirements in native IP network, especially one universal
   solution can cover intra-domain and inter-domain scenarios together.

   This document describes the scenarios and simulation results for Path
   Computation Elements (PCE) in native IP network, which integrates the
   advantage of distributed protocols, and the power of centrally
   control technologies to provide one feasible traffic engineering
   solution in various complex scenarios for the service provider.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on February 27, 2020.






Wang, et al.            Expires February 27, 2020               [Page 1]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  CCDR Scenarios. . . . . . . . . . . . . . . . . . . . . . . .   4
     3.1.  QoS Assurance for Hybrid Cloud-based Application. . . . .   4
     3.2.  Link Utilization Maximization . . . . . . . . . . . . . .   5
     3.3.  Traffic Engineering for Multi-Domain  . . . . . . . . . .   6
     3.4.  Network Temporal Congestion Elimination.  . . . . . . . .   7
   4.  CCDR Simulation.  . . . . . . . . . . . . . . . . . . . . . .   7
     4.1.  Topology Simulation . . . . . . . . . . . . . . . . . . .   7
     4.2.  Traffic Matrix Simulation.  . . . . . . . . . . . . . . .   8
     4.3.  CCDR End-to-End Path Optimization . . . . . . . . . . . .   8
     4.4.  Network Temporal Congestion Elimination . . . . . . . . .  10
   5.  CCDR Deployment Consideration.  . . . . . . . . . . . . . . .  11
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  12
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  12
   8.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  12
   9.  Acknowledgement . . . . . . . . . . . . . . . . . . . . . . .  12
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  12
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  12
     10.2.  Informative References . . . . . . . . . . . . . . . . .  13
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  13

1.  Introduction

   Service provider network is composed of thousands of routers that run
   distributed protocol to exchange the reachability information between
   them.  The path for the destination network is mainly calculated and
   controlled by the distributed protocols.  These distributed protocols
   are robust enough to support the current evolution of Internet but
   have some difficulties when application requires the E2E performance




Wang, et al.            Expires February 27, 2020               [Page 2]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


   assurance, or in the situation that the service provider wants to
   maximize the link utilization within their network.

   Multiprotocol Label Switching (MPLS) for Traffic Engineering(TE)
   technology [RFC3209]is one solution for finely planned network but it
   mainly applies to the MPLS network.  Even for MPLS network, the MPLS-
   TE technology is often used for Label Switched Path (LSP) protection.
   It is seldom used for dynamic performance assurance requirements
   within real time traffic network.

   Segment Routing [RFC8402] is another solution that integrates some
   advantages of distributed protocol and centrally control mode, but it
   requires the underlying network, especially the provider edge router
   to do label push and pop action in-depth, and need complex mechanism
   for coexisting with the Non-Segment Routing network.  Additionally,
   it can only maneuver the E2E path for MPLS and IPv6 traffic via
   different mechanisms.

   Deterministic Networking (DetNet)[RFC8578] describes use cases for
   diverse industries that have a common need for "deterministic flows",
   which can provide guaranteed bandwidth, bounded latency, and other
   properties germane to the transport of time-sensitive data.  The use
   cases focus mainly on the industrial critical applications within one
   centrally controlled network and are out of scope of this draft.

   This draft describes scenarios in native IP network that the
   Centrally Control Dynamic Routing (CCDR) framework can easily solve,
   without the change of the data plane behaviour on the router.  It
   also gives the path optimization simulation results to illustrate the
   applicability of CCDR framework.

2.  Terminology

   This document uses the following terms defined in [RFC5440]: PCE.

   The following terms are defined in this document:

   o  BRAS: Broadband Remote Access Server

   o  CD: Congestion Degree

   o  CR: Core Router

   o  CCDR: Central Control Dynamic Routing

   o  E2E: End to End

   o  IDC: Internet Data Center



Wang, et al.            Expires February 27, 2020               [Page 3]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


   o  MAN: Metro Area Network

   o  QoS: Quality of Service

   o  SR: Service Router

   o  UID: Utilization Increment Degree

   o  WAN: Wide Area Network

3.  CCDR Scenarios.

   The following sections describe some scenarios that the CCDR
   framework is suitable for deployment.

3.1.  QoS Assurance for Hybrid Cloud-based Application.

   With the emerge of cloud computing technologies, enterprises are
   putting more and more services on the public oriented cloud
   environment, but keep core business within their private cloud.  The
   communication between the private and public cloud sites will span
   the Wide Area Network (WAN) network.  The bandwidth requirements
   between them are variable and the background traffic between these
   two sites changes from time to time.  Enterprise applications just
   want to exploit the network capabilities to assure the E2E Quality of
   Service(QoS) performance on demand.

   CCDR, which integrates the merits of distributed protocol and the
   power of centrally control, is suitable for this scenario.  The
   possible solution framework is illustrated below:

                            +------------------------+
                            | Cloud Based Application|
                            +------------------------+
                                        |
                                  +-----------+
                                  |    PCE    |
                                  +-----------+
                                        |
                                        |
                               //--------------\\
                          /////                  \\\\\
     Private Cloud Site ||       Distributed          |Public Cloud Site
                         |       Control Network      |
                          \\\\\                  /////
                               \\--------------//

                  Figure 1: Hybrid Cloud Communication Scenario



Wang, et al.            Expires February 27, 2020               [Page 4]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


   By default, the traffic path between the private and public cloud
   site will be determined by the distributed control network.  When
   applications require the E2E QoS assurance, it can send these
   requirements to PCE, let PCE compute one E2E path which is based on
   the underlying network topology and the real traffic information, to
   accommodate the application's QoS requirements.  The proposed
   solution can refer the draft [I-D.ietf-teas-pce-native-ip].
   Section 4 describes the detail simulation process and the result.

3.2.  Link Utilization Maximization

   Network topology within Metro Area Network (MAN) is generally in star
   mode as illustrated in Figure 2, with different devices connect
   different customer types.  The traffic from these customers is often
   in tidal pattern that the links between the Core Router(CR)/Broadband
   Remote Access Server(BRAS) and CR/Service Router(SR) will experience
   congestion in different periods, because the subscribers under BRAS
   often use the network at night and the dedicated line users under SR
   often use the network during the daytime.  The uplink between BRAS/SR
   and CR must satisfy the maximum traffic volume between them
   respectively and this causes these links often in underutilization
   situation.

                              +--------+
                              |   CR   |
                              +----|---+
                                   |
                       --------|--------|-------|
                       |       |        |       |
                    +--|-+   +-|-    +--|-+   +-|+
                    |BRAS|   |SR|    |BRAS|   |SR|
                    +----+   +--+    +----+   +--+

              Figure 2: Star-mode Network Topology within MAN

   If we consider to connect the BRAS/SR with local link loop (which is
   more cheaper), and control the MAN with the CCDR framework, we can
   exploit the tidal phenomena between BRAS/CR and SR/CR links, maximize
   the links (which is more expensive) utilization of them .












Wang, et al.            Expires February 27, 2020               [Page 5]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


                                       +-------+
                                   -----  PCE  |
                                   |   +-------+
                              +----|---+
                              |   CR   |
                              +----|---+
                                   |
                       --------|--------|-------|
                       |       |        |       |
                    +--|-+   +-|-    +--|-+   +-|+
                    |BRAS-----SR|    |BRAS-----SR|
                    +----+   +--+    +----+   +--+

                   Figure 3: Link Utilization Maximization via CCDR

3.3.  Traffic Engineering for Multi-Domain

   The service provider networks are often comprised of different
   domains, interconnected with each other,form very complex topology
   that illustrated in Figure.4.  Due to the traffic pattern to/from MAN
   and IDC, the utilization of links between them are often asymmetric.
   It is almost impossible to balance the utilization of these links via
   the distributed protocol, but this unbalance phenomenon can be
   overcome via the CCDR framework.

                    +---+                +---+
                    |MAN|-----------------IDC|
                    +-|-|       |        +-|-+
                      |     ---------|     |
                      ------|BackBone|------
                      |     ----|----|     |
                      |         |          |
                    +-|--       |        ----+
                    |IDC|----------------|MAN|
                    +---|                |---+

        Figure 4: Traffic Engineering for Complex Multi-Domain Topology

   Solution for this scenario requires the gather of NetFlow
   information, analysis the source/destination AS of them and determine
   what is the main cause of the congested link.  After this, the
   operator can use the multi external Border Gateway Protocol(eBGP)
   sessions described in [I-D.ietf-teas-pce-native-ip]to schedule the
   traffic among different domains.







Wang, et al.            Expires February 27, 2020               [Page 6]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


3.4.  Network Temporal Congestion Elimination.

   In more general situation, there are often temporal congestions
   within the service provider's network.  Such congestion phenomena
   often appear repeatedly and if the service provider has some methods
   to mitigate it, it will certainly increase the degree of satisfaction
   for their customers.  CCDR is also suitable for such scenario in such
   manner that the distributed protocol process most of the traffic
   forwarding and the controller schedule some traffic out of the
   congestion links to lower the utilization of them.  Section 4
   describes the simulation process and results about such scenario.

4.  CCDR Simulation.

   The following sections describe the topology, traffic matrix, E2E
   path optimization and congestion elimination in CCDR applied
   scenarios.

4.1.  Topology Simulation

   The network topology mainly contains nodes and links information.
   Nodes used in simulation have two types: core node and edge node.
   The core nodes are fully linked to each other.  The edge nodes are
   connected only with some of the core nodes.  Figure 5 is a topology
   example of 4 core nodes and 5 edge nodes.  In CCDR simulation, 100
   core nodes and 400 edge nodes are generated.

























Wang, et al.            Expires February 27, 2020               [Page 7]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


                                     +----+
                                    /|Edge|\
                                   | +----+ |
                                   |        |
                                   |        |
                     +----+    +----+     +----+
                     |Edge|----|Core|-----|Core|---------+
                     +----+    +----+     +----+         |
                             /  |    \   /   |           |
                       +----+   |     \ /    |           |
                       |Edge|   |      X     |           |
                       +----+   |     / \    |           |
                             \  |    /   \   |           |
                     +----+    +----+     +----+         |
                     |Edge|----|Core|-----|Core|         |
                     +----+    +----+     +----+         |
                                 |          |            |
                                 |          +------\   +----+
                                 |                  ---|Edge|
                                 +-----------------/   +----+


                        Figure 5: Topology of Simulation

   The number of links connecting one edge node to the set of core nodes
   is randomly between 2 to 30, and the total number of links is more
   than 20000.  Each link has its congestion threshold.

4.2.  Traffic Matrix Simulation.

   The traffic matrix is generated based on the link capacity of
   topology.  It can result in many kinds of situations, such as
   congestion, mild congestion and non-congestion.

   In CCDR simulation, the dimension of the traffic matrix is 500*500.
   About 20% links are overloaded when the Open Shortest Path First
   (OSPF) protocol is used in the network.

4.3.  CCDR End-to-End Path Optimization

   The CCDR E2E path optimization is to find the best path which is the
   lowest in metric value and each link of the path is far below link's
   threshold.  Based on the current state of the network, PCE within
   CCDR framework combines the shortest path algorithm with penalty
   theory of classical optimization and graph theory.

   Given background traffic matrix which is unscheduled, when a set of
   new flows comes into the network, the E2E path optimization finds the



Wang, et al.            Expires February 27, 2020               [Page 8]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


   optimal paths for them.  The selected paths bring the least
   congestion degree to the network.

   The link Utilization Increment Degree(UID) when the new flows are
   added into the network is shown in Figure 6.  The first graph in
   Figure 6 is the UID with OSPF and the second graph is the UID with
   CCDR E2E path optimization.  The average UID of the first graph is
   more than 30%. After path optimization, the average UID is less than
   5%. The results show that the CCDR E2E path optimization has an eye-
   catching decreasing in UID relative to the path chosen based on OSPF.

           +-----------------------------------------------------------+
           |                *                               *    *    *|
         60|                *                             * * *  *    *|
           |*      *       **     * *         *   *   *  ** * *  * * **|
           |*   * ** *   * **   *** **  *   * **  * * *  ** * *  *** **|
           |* * * ** *  ** **   *** *** **  **** ** ***  **** ** *** **|
         40|* * * ***** ** ***  *** *** **  **** ** *** ***** ****** **|
     UID(%)|* * ******* ** ***  *** ******* **** ** *** ***** *********|
           |*** ******* ** **** *********** *********** ***************|
           |******************* *********** *********** ***************|
         20|******************* ***************************************|
           |******************* ***************************************|
           |***********************************************************|
           |***********************************************************|
          0+-----------------------------------------------------------+
          0    100   200   300   400   500   600   700   800   900  1000
           +-----------------------------------------------------------+
           |                                                           |
         60|                                                           |
           |                                                           |
           |                                                           |
           |                                                           |
         40|                                                           |
     UID(%)|                                                           |
           |                                                           |
           |                                                           |
         20|                                                           |
           |                                                          *|
           |                                     *                    *|
           |        *         *  *    *       *  **                 * *|
          0+-----------------------------------------------------------+
          0    100   200   300   400   500   600   700   800   900  1000
                                Flow Number
             Figure 6: Simulation Result with Congestion Elimination






Wang, et al.            Expires February 27, 2020               [Page 9]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


4.4.  Network Temporal Congestion Elimination

   Different degree of network congestions are simulated.  The
   Congestion Degree (CD) is defined as the link utilization beyond its
   threshold.

   The CCDR congestion elimination performance is shown in Figure 7.
   The first graph is the CD distribution before the process of
   congestion elimination.  The average CD of all congested links is
   more than 10%. The second graph shown in Figure 7 is the CD
   distribution after congestion elimination process.  It shows only 12
   links among totally 20000 links exceed the threshold, and all the CD
   values are less than 3%. Thus, after scheduling of the traffic in
   congestion paths, the degree of network congestion is greatly
   eliminated and the network utilization is in balance.




































Wang, et al.            Expires February 27, 2020              [Page 10]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


                          Before congestion elimination
           +-----------------------------------------------------------+
           |                *                            ** *   ** ** *|
         20|                *                     *      **** * ** ** *|
           |*      *       **     * **       **  **** * ***** *********|
           |*   *  * *   * **** ****** *  ** *** **********************|
         15|* * * ** *  ** **** ********* *****************************|
           |* * ******  ******* ********* *****************************|
     CD(%) |* ********* ******* ***************************************|
         10|* ********* ***********************************************|
           |*********** ***********************************************|
           |***********************************************************|
          5|***********************************************************|
           |***********************************************************|
           |***********************************************************|
          0+-----------------------------------------------------------+
              0            0.5            1            1.5            2

                        After congestion elimination
          +-----------------------------------------------------------+
          |                                                           |
        20|                                                           |
          |                                                           |
          |                                                           |
        15|                                                           |
          |                                                           |
    CD(%) |                                                           |
        10|                                                           |
          |                                                           |
          |                                                           |
        5 |                                                           |
          |                                                           |
          |        *        **  * *  *  **   *  **                 *  |
        0 +-----------------------------------------------------------+
           0            0.5            1            1.5            2
                            Link Number(*10000)
            Figure 7: Simulation Result with Congestion Elimination

5.  CCDR Deployment Consideration.

   With the above CCDR scenarios and simulation results, we can know it
   is necessary and feasible to find one general solution to cope with
   various complex situations for the complex optimal path computation
   in centrally manner in native IP network based on the underlay
   network topology and the real time traffic.






Wang, et al.            Expires February 27, 2020              [Page 11]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


   [I-D.ietf-teas-pce-native-ip] gives the solution for above scenarios,
   such thoughts can be extended to cover requirements in other
   situations in future.

6.  Security Considerations

   This document considers mainly the integration of distributed
   protocol and the central control capability of PCE.  It certainly can
   ease the management of network in various traffic engineering
   scenarios described in this document, but the central control manner
   also bring the new point that may be easily attacked.  Solutions for
   CCDR scenarios should keep these in mind and consider more for the
   protection of PCEand their communication with the underlay devices,
   as that described in document [RFC5440] and [RFC8253]

7.  IANA Considerations

   This document does not require any IANA actions.

8.  Contributors

   Lu Huang contributes to the content of this draft.

9.  Acknowledgement

   The author would like to thank Deborah Brungard, Adrian Farrel,
   Huaimo Chen, Vishnu Beeram and Lou Berger for their supports and
   comments on this draft.

10.  References

10.1.  Normative References

   [I-D.ietf-teas-pce-native-ip]
              Wang, A., Zhao, Q., Khasanov, B., Chen, H., and R. Mallya,
              "PCE in Native IP Network", draft-ietf-teas-pce-native-
              ip-03 (work in progress), April 2019.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

   [RFC8253]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              RFC 8253, DOI 10.17487/RFC8253, October 2017,
              <https://www.rfc-editor.org/info/rfc8253>.



Wang, et al.            Expires February 27, 2020              [Page 12]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


10.2.  Informative References

   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", RFC 3209, DOI 10.17487/RFC3209, December 2001,
              <https://www.rfc-editor.org/info/rfc3209>.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

   [RFC8578]  Grossman, E., Ed., "Deterministic Networking Use Cases",
              RFC 8578, DOI 10.17487/RFC8578, May 2019,
              <https://www.rfc-editor.org/info/rfc8578>.

Authors' Addresses

   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing, Beijing  102209
   China

   Email: wangaj3@chinatelecom.cn


   Xiaohong Huang
   Beijing University of Posts and Telecommunications
   No.10 Xitucheng Road, Haidian District
   Beijing
   China

   Email: huangxh@bupt.edu.cn


   Caixia Kou
   Beijing University of Posts and Telecommunications
   No.10 Xitucheng Road, Haidian District
   Beijing
   China

   Email: koucx@lsec.cc.ac.cn








Wang, et al.            Expires February 27, 2020              [Page 13]

Internet-Draft    CCDR Scenario and Simulation Results       August 2019


   Zhenqiang Li
   China Mobile
   32 Xuanwumen West Ave, Xicheng District
   Beijing  100053
   China

   Email: li_zhenqiang@hotmail.com


   Penghui Mi
   Huawei Technologies
   Tower C of Bldg.2, Cloud Park, No.2013 of Xuegang Road
   Shenzhen, Bantian,Longgang District  518129
   China

   Email: mipenghui@huawei.com



































Wang, et al.            Expires February 27, 2020              [Page 14]
