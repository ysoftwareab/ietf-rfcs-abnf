<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>FCAST: Scalable Object Delivery on top of the ALC Protocol</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="FCAST: Scalable Object Delivery on top of the ALC Protocol">
<meta name="keywords" content="ALC, NORM">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">RMT</td><td class="header">V. Roca</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">INRIA</td></tr>
<tr><td class="header">Intended status: Experimental</td><td class="header">February 25, 2008</td></tr>
<tr><td class="header">Expires: August 28, 2008</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />FCAST: Scalable Object Delivery on top of the ALC Protocol<br />draft-roca-rmt-newfcast-01.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 28, 2008.</p>

<h3>Abstract</h3>

<p>
This document introduces the FCAST object (e.g. file) delivery application
on top of the ALC reliable multicast protocols.
FCAST is a highly scalable application that provides a reliable
object delivery service.

</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#sec:intro">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Requirements notation<br />
<a href="#anchor2">3.</a>&nbsp;
Definitions, Notations and Abbreviations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.1.</a>&nbsp;
Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.2.</a>&nbsp;
Abbreviations<br />
<a href="#sec:specifications">4.</a>&nbsp;
FCAST Specifications<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:meta-data">4.1.</a>&nbsp;
Meta-Data Associated to Objects<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:meta-data_tx">4.2.</a>&nbsp;
Meta-Data Transmission<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:carousel">4.3.</a>&nbsp;
Object Transmissions Within a Carousel<br />
<a href="#sec:control_info_format">5.</a>&nbsp;
Control Information Formats<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:ext_omd_format">5.1.</a>&nbsp;
Object Meta-Data ALC/LCT Header Extension (EXT_OMD) Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:trailer_format">5.2.</a>&nbsp;
Object Trailer Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec:carousel_instance_object">5.3.</a>&nbsp;
Carousel Instance Object (CIO) Format<br />
<a href="#anchor5">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor6">7.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">8.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="sec:intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
This document introduces the FCAST reliable and scalable object (e.g. file)
delivery application on top of the ALC reliable multicast protocols.

</p>
<p>
Since FCAST is built on top of ALC/LCT 
<a class='info' href='#draft-ietf-rmt-pi-alc-revised'>[draft&#8209;ietf&#8209;rmt&#8209;pi&#8209;alc&#8209;revised]<span> (</span><span class='info'>Luby, M., Watson, M., and L. Vicisano, &ldquo;Asynchronous Layered Coding (ALC) Protocol Instantiation,&rdquo; February&nbsp;2007.</span><span>)</span></a>
<a class='info' href='#draft-ietf-rmt-bb-lct-revised'>[draft&#8209;ietf&#8209;rmt&#8209;bb&#8209;lct&#8209;revised]<span> (</span><span class='info'>Luby, M., Watson, M., and L. Vicisano, &ldquo;Layered Coding Transport (LCT) Building Block,&rdquo; February&nbsp;2007.</span><span>)</span></a>,
it inherits in particular the concepts of ``PUSH'' and ``ON-DEMAND''
delivery modes and the concept of Transport Object ID (TOI) that uniquely
identifies the object(s) being transported in an ALC session.

</p>
<p>
Depending on the target use case, the delivery service
that FCAST defines will be more or less reliable.
For instance, when used in ON-DEMAND mode over a time period that
largely exceeds the typical download time, the service can be considered
as fully reliable.
When FCAST is used along with a session control application capable
of collecting reception information and taking appropriate
corrective measures, then the service can be considered as fully reliable.
But if FCAST operates in PUSH mode, for a time period that is close
to the typical download time, then the service is usually only partially
reliable.

</p>
<p>
Depending on the target use case, the FCAST scalability
will be more or less important.
For instance, if used on top of purely unidirectional transport
channels, with no feedback information at all, which is the default
mode of operation, then the scalability is maximum since neither
FCAST, nor ALC/LCT, UDP or IP will generate feedback messages.
But if FCAST is used along with a session control application
capable of collecting reception
information from the receivers, then this session control
application (that is kept separate from FCAST) will probably
create a limit on the FCAST scalability.
This situation can be mitigated by using a hierarchy of feedback
message aggregators or servers.
How this session control application can be designed is out of
the scope of the present document.

</p>
<p>
A goal of FCAST is to enable the receivers to collect meta-data
information sent in-band, along with the objects.
The transmission of meta-data is done in two complementary ways.
Depending on the target use case, the sender will use one
scheme or the other, or both of them.
When the client must be able to process the meta-data, or a
subset of the meta-data, early in the reception process, and
in particular before the object has been completely received
and decoded, then meta-data (or a subset) is included in
a dedicated ALC/LCT header extension.
When it is sufficient for the client to extract the meta-data,
or a subset of the meta-data, once the object has been fully
received and decoded, then meta-data (or a subset) is appended
to the object.
Several motivations can lead a sender to use one method or the
other, or both.
Using a dedicated header extension enables a client to
select the objects he is interested in, based on various
criteria (like the object size or encoding).
In that case the client can decide to receive the
following packets, or to drop them if he's not interested
by the object, which saves both processing and memory resources.
But appending meta-data to the object is also an efficient
way to carry the information, in particular with very small
objects, for instance when the size of the object and the associated
meta-data is less than the maximum payload size.
With larger objects, appending the meta-data to the object
enables to benefit from the erasure protection that is
probably provided by the FEC encoding of the object.

</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Requirements notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
    "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
    and "OPTIONAL" in this document are to be interpreted as
    described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Definitions, Notations and Abbreviations</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Definitions</h3>

<p>This document uses the following definitions:
</p>
<blockquote class="text">
<p> Carousel:	this is the object transmission system of an FCAST sender;
</p>
<p> Carousel Instance: this is a fixed set of registered objects, that will be
	sent by the carousel during a certain number of cycles. Whenever objects
	need to be added or removed, a new Carousel Instance is defined;
</p>
<p> Carousel Cycle: within a cycle, all the objects registered
	in the Carousel Instance are transmitted a certain number of times.
	By default, objects are transmitted once per cycle, but higher values
	are possible, that might differ according to the object (e.g. to
	simulate different levels of priorities);
</p>
</blockquote><p>

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Abbreviations</h3>

<p>This document uses the following abbreviations:
</p>
<blockquote class="text">
<p>CIO:		Carousel Instance Object
</p>
<p>OMD:		Object Meta Data
</p>
<p>FEC OTI:	FEC Object Transmission Information
</p>
<p>FPI:		FEC Payload ID
</p>
</blockquote>

<a name="sec:specifications"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
FCAST Specifications</h3>

<p>
This section gives more details on the key design principles behind
FCAST, and their motivations.

</p>
<a name="sec:meta-data"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Meta-Data Associated to Objects</h3>

<p>
Meta-data are associated to each object sent during a session.
The meta-data can be composed of, but are not limited to:
</p>
<ul class="text">
<li> the name and location (URI) of the object; 
</li>
<li> the MIME type of the object; 
</li>
<li> the size of the object; 
</li>
<li> the (optional) encoding of the object performed by FCAST; 
</li>
<li> the size of the object after the (optional) encoding performed by FCAST; 
</li>
<li> the timestamp associated to this object; 
</li>
<li> the time validity of the object, after which the object is considered
	as out-of-date; 
</li>
<li> the message digest of the object, for instance its SHA-1 sum, in order
	to check its integrity; 
</li>
<li> a digital signature for this object; 
</li>
<li> when a file is split into several objects by FCAST, an indication that
	this is a split of the original object; 
</li>
<li> when a file is split into several objects by FCAST, the slice index
	in $[0 .. Slice_Nb[$, and the total number of slices; 
</li>
<li> when a file is split into several objects by FCAST, a counter indicating
	the offset at which this slice starts within the original object; 
</li>
<li> the FEC Object Transmission Information (FEC-OTI) when it is
	preferable to carry the information as meta-data rather than
	within the ALC/LCT EXT_FTI header extension; 
</li>
</ul><p>
This list is not limited, and new meta-data information can be
added to this list as the need arises.
Note also that these items are not all mandatory.
The only mandatory meta-data item is the name and location of the object
(i.e. ``Content-Location'' attribute).

</p>
<a name="sec:meta-data_tx"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Meta-Data Transmission</h3>

<p>
FCAST proposes two complementary but optional ways to carry meta-data:
</p>
<ul class="text">
<li> by appending meta-data to the object being transmitted:
	this is a very efficient scheme, since meta-data are received along
	with the object, and benefit from the optional FEC erasure protection
	of the object. Yet a limit of this scheme is that a client does not
	know the meta-data of an object before receiving and decoding the object
	completely; 
</li>
<li> by adding a dedicated EXT_OMD (Object Meta-Data) header
	extension to the ALC/LCT packets for a given object:
	this header extension contains a subset or all of the meta-data of the associated
	object.
	Because this header extension can be retrieved and processed before
	the object is totally received and decoded, it gives the opportunity to a client to
	know the object's content and determine whether or not to receive
	it altogether.
	There are constraints on the EXT_OMD size (<a class='info' href='#sec:ext_omd_format'>Section&nbsp;5.1<span> (</span><span class='info'>Object Meta-Data ALC/LCT Header Extension (EXT_OMD) Format</span><span>)</span></a>):
	the EXT_OMD size cannot exceed 1020 bytes, and the resulting ALC packet,
	after adding the UDP/IP headers, should remain below the PMTU for higher efficiency. 
</li>
</ul><p>

</p>
<p>
Depending on the target use case, the sender can choose:
</p>
<ul class="text">
<li> to send the meta-data in the EXT_OMD header extension of all (or most of)
	the ALC packets sent. In that case, a client will immediately retrieve
	the meta-data of the object, no matter when he joins the session, and
	can then decide whether or not to decode the object; 
</li>
<li> to send the meta-data in the EXT_OMD header extension of the first few
	ALC packets sent. In that case, in PUSH mode, a client having joined
	the session before transmissions actually start, quickly recovers the
	meta-data of the object and can decide whether or not to download the
	object; 
</li>
<li> to send the meta-data in the EXT_OMD header extension of ALC packets
	chosen periodically, for instance once per second, or every 1000 ALC
	packets. This strategy enables a receiver to be able to recover the
	meta-data of an object quickly, for instance on average every 0.5
	seconds when the EXT_OMD is sent once per second.
	The client can then decide whether or not to decode the
	object, and whether or not to keep the already received packets of
	the object; 
</li>
<li> to send the meta-data only in the object, appended to this later.
	For instance, it makes sense when sending small objects, since the
	meta-data size can be comparable to that of the object.
	In that case, receiving the object is probably not a problem to clients,
	even if they are finally not interested in it; 
</li>
<li> to send the meta-data both appended to the object and {in some/in most
	of/in all/periodically in} ALC packets with the EXT_OMD header extension.
	In some cases, the information contained in the EXT_OMD can be a
	subset of the meta-data, for instance containing the information
	required by the clients to take the decision of downloading
	the object or discarding the associated packets, but not the
	pieces of information that are required by the end user to process
	the object.
	In some cases, the meta-data appended to the object and the
	meta-data contained in the EXT_OMD header extension of the ALC packets
	can complement (without creating duplications) one another;

	What information should be put in the EXT_OMD header extension
	versus should be appended to the object is not specified in
	this document and depends on the target use case.
	In some cases, the client must be
	able to select the objects he's interested in after receiving
	some high level indication on the content, e.g. the file's name
	and encoding, plus a human readable description of the content.
	In that case, these pieces of information are included in the
	EXT_OMD.
	In other target use cases, the client might decide to drop the
	objects whose size exceeds a given threshold, because of insufficient
	memory resources for instance. In that case, the EXT_OMD contains
	the object's transfer length; 
</li>
</ul><p>

</p>
<a name="sec:carousel"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Object Transmissions Within a Carousel</h3>

<p>
The object transmissions are performed within the carousel of an FCAST sender.
This carousel sends all the objects that have been scheduled for transmission,
for a given number of cycles (i.e. repetitions).
In some use-cases (e.g. in PUSH mode), there will be a single cycle, whereas
in other use-cases (e.g. in ON-DEMAND mode), transmissions could last several
days which can represent a high number of cycles.
By default, objects are transmitted once per cycle, but higher values
are possible, that might differ according to the object, for instance to
simulate different levels of priorities.
We call the Carousel Instance a fixed set of registered objects that will be
sent by the carousel during a certain number of cycles. Whenever objects
need to be added or removed, a new Carousel Instance is defined.

</p>
<p>
The FCAST application can optionally create a Carousel Instance
Object (or CIO), that describes the carousel instance.
More specifically, this CIO:
</p>
<ul class="text">
<li> lists the objects that are part of the current carousel instance.
	It provides the TOI of the objects that are in the current
	carousel instance. Implicitly, all objects that are not in
	this list are considered as not being part of the current carousel
	instance, even if they were present in the previous carousel
	instances.
	However this CIO does not describe the objects themselves
	and in particular this CIO does not include any meta-data.
	
</li>
<li> TBD
	
</li>
</ul><p>

</p>
<p>
Using a CIO is not mandatory.
If it is not used, then the clients progressively learn what files
are part of the carousel by receiving ALC packets with new TOIs.
However using a CIO has several benefits:
</p>
<ul class="text">
<li> the receivers know when they can leave the session, i.e. when they
	have received all the objects that are part of the delivery session,
	thanks to a Complete keyword that can be added to the CIO; 
</li>
<li> In case of a session with a dynamic set of objects, the sender can
	easily inform the receivers that some objects have been removed from the
	carousel by using the CLOSE object mechanism of ALC/LCT,
	even if no Carousel Instance object is used.
	However it requires that the clients receive at least one of the
	ALC packets containing the ALC CLOSE object flag.
	A client with an intermittent connectivity will not necessarily be informed.
	It is therefore recommended to use a CIO; 
</li>
</ul><p>

</p>
<p>
The decision of how often and when the CIO
should be sent within an FCAST session is left to the sender and
depends on many parameters, including the target use case, and the
session dynamics.
In case of an FCAST session in PUSH mode, the CIO should be sent
before the objects (and with a low frequency after the start
to enable late receivers to catch up, if this is desired).
In case of a highly dynamic FCAST session, a CIO will
probably be sent at the beginning of each new carousel instance,
and then periodically.
The period depends on the desired maximum latency that could be
experienced by late receivers who join the FCAST session in the
middle of a carousel instance transmission cycle, and who therefore
missed the initial CIO transmission.

</p>
<p>
At a sender, the following operations take place:
</p>
<ul class="text">
<li> the user (or another application) selects a set of objects (e.g.
	files) to deliver and submits them to the FCAST application.
	The user also specifies how many times each object should be sent
	in this carousel
	(said differently, if objects have similar lengths, assigning them
	a different number of transmissions leads to define different 
	transmission priorities to each of them);
   
</li>
<li> the user then informs FCAST that all the
	objects of the set have been submitted.
	If no new object will be submitted later to FCAST, i.e. if the session's
	content is now complete, the user also informs FCAST;
   
</li>
<li> the FCAST application now knows the full list of objects that are
	part of the carousel instance and defines a transmission schedule
	of the objects and the associated ALC packets (e.g. by sending
	them in sequence);
   
</li>
<li> the FCAST application starts the carousel, for the number of
	transmissions specified for each object.
	Deciding whether to use the EXT_OMD and/or appending meta-data
	to each object is left to the sender.
	The FCAST application also decides whether or not to create and
	send a CIO.
	If FCAST knows that no new object will be submitted and if FCAST
	creates a CIO, then the sender includes the Complete
	keyword to inform all clients that no object in addition to
	the ones specified in this carousel instance will be sent; 
   
</li>
<li> then transmissions take place until:
	
<ul class="text">
<li> each object has been transmitted the desired number of times, or 
</li>
<li> the user wants to add one or several new objects to the carousel,
		or on the opposite wants to remove them from the carousel.
		In that case a new carousel instance must be created,
		i.e. we continue at step 1 above. 
</li>
</ul>
   
</li>
</ul><p>

</p>
<a name="sec:control_info_format"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Control Information Formats</h3>

<a name="sec:ext_omd_format"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Object Meta-Data ALC/LCT Header Extension (EXT_OMD) Format</h3>

<p>
The EXT_OMD header extension format is the following.
This is an ALC PI Specific header extension (i.e. HET &le; 127).

</p><br /><hr class="insert" />
<a name="fig:ext_omd_format"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   HET = XXX   |       HEL     | Format| CENC  |               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               |
.                                                               .
.                Object Meta Data Content                       .
|                                               +-+-+-+-+-+-+-+-+
|                                               |    Padding    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Object Meta-Data (EXT_OMD) header extension format.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
In <a class='info' href='#fig:ext_omd_format'>Figure&nbsp;1<span> (</span><span class='info'>Object Meta-Data (EXT_OMD) header extension format.</span><span>)</span></a>, the Format field defines the format of the
Object Meta Data Content field (e.g. XML), while
the CENC field defines the optional content encoding of
the Object Meta Data Content field (e.g. gzip).
An optional padding field is used to make the EXT_OMD an integral
number of 32 bit words.
Because of the HEL semantic, the EXT_OMD size cannot exceed:
255 * 4 = 1020 bytes.
Of course, the resulting ALC packet size, after adding the
UDP/IP headers, should remain below the PMTU size for higher efficiency.
This constraint can lead the sender to use the EXT_OMD extension
in separate control ALC packets, containing no data or repair
symbol.

</p>
<a name="sec:trailer_format"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Object Trailer Format</h3>

<p> To each object of an FCAST session, a trailer is appended that might
or not include meta-data.
The format of the trailer is the following: 
</p><br /><hr class="insert" />
<a name="fig:trailer_with_md_format"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                                +-+-+-+-+-+-+-+-+
             Object data                        |               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               |
.                                                               .
.                Object Meta Data Content                       .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Format| CENC  |       Trailer Length          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Object trailer with meta-data.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p> In <a class='info' href='#fig:trailer_with_md_format'>Figure&nbsp;2<span> (</span><span class='info'>Object trailer with meta-data.</span><span>)</span></a>, the Format and  CENC fields have
the same meaning as for EXT_OMD. If no object meta data is
appended to the object, then these two fields are not present.
The Trailer Length field contains the number of bytes used
by all the trailer fields, from the Object Meta Data Content
field up to and including the Trailer Length field.

<br /><hr class="insert" />
<a name="fig:trailer_format"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                                +-+-+-+-+-+-+-+-+
             Object data                        |    Trailer... |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| ...Length = 2 |
+-+-+-+-+-+-+-+-+
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Object trailer without meta-data.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


</p>
<p> <a class='info' href='#fig:trailer_with_md_format'>Figure&nbsp;2<span> (</span><span class='info'>Object trailer with meta-data.</span><span>)</span></a> shows an object trailer
without any meta-data.
In that case the Trailer Length value equals 2, which means that the
trailer is only composed of the Trailer Length field. 
</p>
<a name="sec:carousel_instance_object"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Carousel Instance Object (CIO) Format</h3>

<p> The Carousel Instance object format is the following.
It basically consists of two lists:
</p>
<ul class="text">
<li> a list of TOIs included in the current carousel instance,
	specified either as the individual TOIs of each object,
	or as a TOI span (e.g. 10..100 means that all
	objects whose TOI is in the range 10 to 100 inclusive
	are part of the carousel instance), or both.
	In all cases, a TOI in the list is included unless otherwise
	specified by the exclude list; 
</li>
<li> a list of TOIs to exclude from the current carousel
	instance, even if they are part of the include list.
	Here also the TOIs are specified either as the individual
	TOIs to exclude, or as a TOI span to exclude, or both.
	In all cases, the priority of the exclude list is higher
	than the priority of the include list: if a TOI is on
	both list, then the TOI is considered not being part of
	the carousel instance. 
</li>
</ul><p>

</p>
<p> The TOI 0 is reserved for the Carousel Instance object.
The various instances of this object are identified by the
Carousel Instance ID. 
</p>
<p>
XXX: format TDB

</p>
<p> The Carousel Instance ID identifies the carousel instance.
It starts from 0 and is incremented by 1 for each new carousel instance.
Wrapping of the Carousel Instance ID can happen.
In that case, IDs that wrapped to 0 must be considered higher than
the IDs used before the wrapping. 
</p>
<p> The Expires attribute identifies the validity period of
this carousel instance.
This validity period is expressed as an NTP time.
The validity period should enable the transmission, the reception
and processing of all the objects that belong to this carousel instance. 
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>TBD
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<p>
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; RFC&nbsp;2119, BCP&nbsp;14, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-ietf-rmt-bb-lct-revised">[draft-ietf-rmt-bb-lct-revised]</a></td>
<td class="author-text">Luby, M., Watson, M., and L. Vicisano, &ldquo;Layered Coding Transport (LCT) Building Block,&rdquo; &nbsp;draft-ietf-rmt-bb-lct-revised-05.txt (work in progress), February&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-ietf-rmt-pi-alc-revised">[draft-ietf-rmt-pi-alc-revised]</a></td>
<td class="author-text">Luby, M., Watson, M., and L. Vicisano, &ldquo;Asynchronous Layered Coding (ALC) Protocol Instantiation,&rdquo; &nbsp;draft-ietf-rmt-pi-alc-revised-04.txt (work in progress), February&nbsp;2007.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vincent Roca</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">INRIA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">655, av. de l'Europe</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Inovallee; Montbonnot</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ST ISMIER cedex  38334</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:vincent.roca@inria.fr">vincent.roca@inria.fr</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://planete.inrialpes.fr/~roca/">http://planete.inrialpes.fr/~roca/</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
