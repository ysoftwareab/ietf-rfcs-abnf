matcheddn = "<NONE>";
errmsg = "<NONE>";
rc = 0;

ld = ldap_init( "localhost", LDAP_PORT );
lderr = ldap_get_lderrno( NULL, &matcheddn, &errmsg );
ufn = ldap_dn2ufn( binddn );
lderr = ldap_get_lderrno( NULL, &matcheddn, &errmsg );
ufn == NULL ? binddn : ufn );
msgid = ldap_simple_bind( ld, binddn, NULL );
lderr = ldap_get_lderrno( ld, &matcheddn, &errmsg );
rc = -1;
lderr = ldap_get_lderrno( ld, &matcheddn, &errmsg );
rc = -1;
rc = -1;
rc = -1;
lderr = ldap_get_lderrno( NULL, &matcheddn, &errmsg );
rc = -1;
