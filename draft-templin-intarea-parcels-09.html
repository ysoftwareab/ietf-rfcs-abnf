<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>IP Parcels</title>
<meta content="Fred L. Templin" name="author">
<meta content='
       IP packets (both IPv4 and IPv6) are understood to contain a unit of
      data which becomes the retransmission unit in case of loss. Upper layer
      protocols such as the Transmission Control Protocol (TCP) prepare data
      units known as "segments", with traditional arrangements including a
      single segment per packet. This document presents a new construct known
      as the "IP Parcel" which permits a single packet to carry multiple
      segments, essentially creating a "packet-of-packets". IP parcels provide
      an essential building block for accommodating larger Maximum
      Transmission Units (MTUs) in the Internet as discussed in this
      document. 
    ' name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="I-D" name="keyword">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-templin-intarea-parcels-09" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/09a-ov05q0mc.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">IP Parcels</td>
<td class="right">February 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Templin</td>
<td class="center">Expires 14 August 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-templin-intarea-parcels-09</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfcRFC2675" class="eref">RFC2675</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-02-10" class="published">10 February 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-08-14">14 August 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">F. L. Templin, <span class="editor">Ed.</span>
</div>
<div class="org">Boeing Research &amp; Technology</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">IP Parcels</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">IP packets (both IPv4 and IPv6) are understood to contain a unit of
      data which becomes the retransmission unit in case of loss. Upper layer
      protocols such as the Transmission Control Protocol (TCP) prepare data
      units known as "segments", with traditional arrangements including a
      single segment per packet. This document presents a new construct known
      as the "IP Parcel" which permits a single packet to carry multiple
      segments, essentially creating a "packet-of-packets". IP parcels provide
      an essential building block for accommodating larger Maximum
      Transmission Units (MTUs) in the Internet as discussed in this
      document.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 14 August 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-background-and-motivation" class="xref">Background and Motivation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-ip-parcel-formation" class="xref">IP Parcel Formation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-transmission-of-ip-parcels" class="xref">Transmission of IP Parcels</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-parcel-path-qualification" class="xref">Parcel Path Qualification</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-integrity" class="xref">Integrity</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-rfc2675-updates" class="xref">RFC2675 Updates</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-ipv4-jumbograms" class="xref">IPv4 Jumbograms</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-implementation-status" class="xref">Implementation Status</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-14.1" class="xref">14.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-14.2" class="xref">14.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">IP packets (both IPv4 <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span> and IPv6 <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>) are understood to contain a unit of data which
      becomes the retransmission unit in case of loss. Upper layer protocols
      such as the Transmission Control Protocol (TCP) <span>[<a href="#RFC0793" class="xref">RFC0793</a>]</span>, QUIC <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>, LTP <span>[<a href="#RFC5326" class="xref">RFC5326</a>]</span> and others prepare data units known as "segments",
      with traditional arrangements including a single segment per packet.
      This document presents a new construct known as the "IP Parcel" which
      permits a single packet to carry multiple segments. This essentially
      creates a "packet-of-packets" with the IP layer headers appearing only
      once but with possibly multiple upper layer protocol segments.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Parcels are formed when an upper layer protocol entity (identified by
      the "5-tuple" source IP address/port number, destination IP address/port
      number and protocol number) prepares a buffer of data with the
      concatenation of up to 64 properly-formed segments that can be broken
      out into smaller parcels using a copy of the IP header. All segments
      except the final segment must be equal in size and no larger than 65535
      octets (minus headers), while the final segment must be no larger than
      the others but may be smaller. The upper layer protocol entity then
      delivers the buffer and non-final segment size to the IP layer, which
      appends the necessary IP headers to identify this as a parcel and not an
      ordinary packet.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Each original parcel can traverse arbitrarily many parcel-capable IP
      links in the path until arriving at a parcel-capable ingress middlebox
      at the edge of a wide area Internetwork. The ingress middlebox may break
      the parcel out into smaller (sub-)parcels and encapsulate them in
      headers suitable for traversing the Internetwork. These smaller parcels
      may then be rejoined into one or more larger parcels at an egress
      middlebox which forwards them further over parcel-capable IP links
      toward the final destination. Repackaging of parcels is therefore
      commonplace, while reordering of segments within a parcel or even loss
      of individual segments is possible but not desirable. But, what matters
      is that the number of parcels delivered to the final destination should
      be kept to a minimum, and that loss or receipt of individual segments
      (and not parcel size) determines the retransmission unit.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The following sections discuss rationale for creating and shipping
      parcels as well as the actual protocol constructs and procedures
      involved. IP parcels provide an essential building block for
      accommodating larger Maximum Transmission Units (MTUs) in the Internet.
      It is further expected that the parcel concept may drive future
      innovation in applications, operating systems, network equipment and
      data links.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terms">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">A "parcel" is defined as "a thing or collection of things wrapped in
      paper in order to be carried or sent by mail". Indeed, there are many
      examples of parcel delivery services worldwide that provide an essential
      transit backbone for efficient business and consumer transactions.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">In this same spirit, an "IP parcel" is simply a collection of up to
      64 upper layer protocol segments wrapped in an efficient package for
      transmission and delivery (i.e., a "packet of packets") while a
      "singleton IP parcel" is simply a parcel that contains a single segment.
      IP parcels are distinguished from ordinary packets through the special
      header constructions discussed in this document.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in BCP 14
      <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span><span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when,
      they appear in all capitals, as shown here.<a href="#section-2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="aero-omni">
<section id="section-3">
      <h2 id="name-background-and-motivation">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-background-and-motivation" class="section-name selfRef">Background and Motivation</a>
      </h2>
<p id="section-3-1">Studies have shown that by sending and receiving larger packets
      applications can realize greater performance due to reduced numbers of
      system calls and interrupts as well as larger atomic data copies between
      kernel and user space. Large packets in the network also result in
      reduced numbers of device interrupts and better network utilization in
      comparison with smaller packet sizes.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">A first study <span>[<a href="#QUIC" class="xref">QUIC</a>]</span> involved performance enhancement
      of the QUIC protocol <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> using the linux Generic
      Segment/Receive Offload (GSO/GRO) facility. GSO/GRO provide a robust
      (but non-standard) service very similar in nature to the IP parcel
      service described here, and its application has shown significant
      performance increases due to the increased transfer unit size between
      the operating system kernel and QUIC application.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">A second study <span>[<a href="#I-D.templin-dtn-ltpfrag" class="xref">I-D.templin-dtn-ltpfrag</a>]</span> showed that
      GSO/GRO also improved performance for the Licklider Transmission
      Protocol (LTP) <span>[<a href="#RFC5326" class="xref">RFC5326</a>]</span> for small- to medium-sized
      segments. Historically, the NFS protocol also saw significant
      performance increases using larger (single-segment) UDP datagrams even
      when IP fragmentation is invoked, and LTP still follows this profile
      today. Moreover, LTP shows this (single-segment) performance increase
      profile extending to the largest possible segment size which suggests
      that additional performance gains may be possible using (multi-segment)
      IP parcels that exceed 65535 octets.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">TCP also benefits from larger packet sizes and efforts have
      investigated TCP performance using jumbograms internally with changes to
      the linux GSO/GRO facilities <span>[<a href="#BIG-TCP" class="xref">BIG-TCP</a>]</span>. The idea is to
      use the jumbo payload internally and to allow GSO and GRO to use buffer
      sizes larger than 65535 octets, but with the understanding that links
      that support jumbos natively are not yet widely available. Hence, IP
      parcels provides a packaging that can be considered in the near term
      under current deployment limitations.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">The issue with sending large packets is that they are often lost at
      links with smaller Maximum Transmission Units (MTUs), and the resulting
      Packet Too Big (PTB) message may be lost somewhere in the path back to
      the original source. This "Path MTU black hole" condition can degrade
      performance unless robust path probing techniques are used, however the
      best case performance always occurs when no packets are lost due to size
      restrictions.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">These considerations therefore motivate a design where the maximum
      segment size should be no larger than 65535 octets (minus headers),
      while parcels that carry the segments may themselves be significantly
      larger. Then, even if a middlebox needs to sub-divide the parcels into
      smaller sub-parcels to forward further toward the final destination, an
      important performance optimization for both the original source and
      final destination can be realized.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">An analogy: when a consumer orders 50 small items from a major online
      retailer, the retailer does not ship the order in 50 separate small
      boxes. Instead, the retailer puts as many of the small boxes as possible
      into one or a few larger boxes (or parcels) then places the parcels on a
      semi-truck or airplane. The parcels arrive at a regional distribution
      center where they may be further redistributed into slightly smaller
      parcels that get delivered to the consumer. But most often, the consumer
      will only find one or a few parcels at his doorstep and not 50
      individual boxes. This greatly reduces handling overhead for both the
      retailer and consumer.<a href="#section-3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="parcels">
<section id="section-4">
      <h2 id="name-ip-parcel-formation">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-ip-parcel-formation" class="section-name selfRef">IP Parcel Formation</a>
      </h2>
<p id="section-4-1">IP parcel formation is invoked by an upper layer protocol (identified
      by the 5-tuple as above) when it emits a data buffer containing the
      concatenation of up to 64 segments. All non-final segments MUST be equal
      in length while the final segment MUST NOT be larger but MAY be smaller.
      Each non-final segment MUST be no larger than 65535 octets minus the
      length of the IP header plus extensions, minus the length of an
      additional IPv6 header in case an encapsulation middlebox is visited on
      the path (see: <a href="#xmit" class="xref">Section 5</a>). The upper layer protocol then
      presents the buffer and non-final segment size to the IP layer which
      appends a single IP header (plus any extension headers) before
      presenting the parcel to either the adaptation layer or the outgoing
      network interface itself (see: <a href="#xmit" class="xref">Section 5</a>).<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">For IPv4, the IP layer prepares the parcel by appending an IPv4
      header with a Jumbo Payload option formed as follows:<a href="#section-4-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-3">
<pre>+--------+--------+--------+--------+--------+--------+
|00001011|00000110|       Jumbo Payload Length        |
+--------+--------+--------+--------+--------+--------+</pre><a href="#section-4-3" class="pilcrow">¶</a>
</div>
<p id="section-4-4">where option type is set to '00001011' and option length is
      set to '00000110' which distinguishes the option from its former
      (deprecated) use as "IPv4 Probe MTU" by <span>[<a href="#RFC1063" class="xref">RFC1063</a>]</span>). In
      this new format, "Jumbo Payload Length" is a 32-bit unsigned integer
      value (in network byte order) set to the lengths of the IPv4 header plus
      all concatenated segments. The IP layer next sets the IPv4 header DF bit
      to 1, then sets the IPv4 header Total Length field to the length of the
      IPv4 header plus the length of the first segment only. Note that the IP
      layer can form true IPv4 jumbograms (as opposed to parcels) by instead
      setting the IPv4 header Total Length field to the length of the IPv4
      header plus options (see: <a href="#jumbo" class="xref">Section 9</a>).<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">For IPv6, the IP layer forms a parcel by appending an IPv6 header
      with a Jumbo Payload option <span>[<a href="#RFC2675" class="xref">RFC2675</a>]</span> the same as for
      IPv4 above with option type set to '11000010' and option length set to
      '00000100' where "Jumbo Payload Length" is set to the lengths of the
      IPv6 Hop-by-Hop Options header and any other extension headers present
      plus all concatenated segments. The IP layer next sets the IPv6 header
      Payload Length field to the lengths of the IPv6 Hop-by-Hop Options
      header and any other extension headers present plus the length of the
      first segment only. As with IPv4 the IP layer can form true IPv6
      jumbograms (as opposed to parcels) by instead setting the IPv6 header
      Payload Length field to 0 (see: <span>[<a href="#RFC2675" class="xref">RFC2675</a>]</span>).<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">An IP parcel therefore has the following structure:<a href="#section-4-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-7">
<pre>+--------+--------+--------+--------+
|                                   |
~        Segment J (K octets)       ~
|                                   |
+--------+--------+--------+--------+
~                                   ~
~                                   ~
+--------+--------+--------+--------+
|                                   |
~        Segment 3 (L octets)       ~
|                                   |
+--------+--------+--------+--------+
|                                   |
~        Segment 2 (L octets)       ~
|                                   |
+--------+--------+--------+--------+
|                                   |
~        Segment 1 (L octets)       ~
|                                   |
+--------+--------+--------+--------+
|     IP Header Plus Extensions     |
~    {Total, Payload} Length = M    ~
|      Jumbo Payload Length = N     |
+--------+--------+--------+--------+
</pre><a href="#section-4-7" class="pilcrow">¶</a>
</div>
<p id="section-4-8">where J is the total number of segments (between 1 and 64), L
      is the length of each non-final segment which MUST NOT be larger than
      65535 octets (minus headers as above) and K is the length of the final
      segment which MUST NOT be larger than L. The values M and N are then set
      to the length of the IP header plus extensions for IPv4 or to the length
      of the extensions only for IPv6, then further calculated as
      follows:<a href="#section-4-8" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4-9.1">M = M + ((J-1) ? L : K)<a href="#section-4-9.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-4-9.2">N = N + (((J-1) * L) + K)<a href="#section-4-9.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-10">Note: a "singleton" parcel is one that includes only the IP
      header plus extensions with a single segment of length K, while a "null"
      parcel is a singleton with K=0, i.e., a parcel consisting of only the IP
      header plus extensions with no octets beyond.<a href="#section-4-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="xmit">
<section id="section-5">
      <h2 id="name-transmission-of-ip-parcels">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-transmission-of-ip-parcels" class="section-name selfRef">Transmission of IP Parcels</a>
      </h2>
<p id="section-5-1">The IP layer next presents the parcel to the outgoing network
      interface. For ordinary IP interfaces, the IP layer simply forwards the
      parcel over the underlying link the same as for any IP packet after
      which it may then be forwarded by any number of routers over additional
      parcel-capable IP links. If any next hop IP link in the path either does
      not support parcels or configures an MTU that is too small to transit
      the parcel without fragmentation, the router instead opens the parcel
      and forwards each enclosed segment as a separate IP packet (i.e., by
      appending a copy of the parcel's IP header to each segment but with the
      Jumbo Payload option removed according to the standards <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span><span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>). Or, if the router does not
      recognize parcels at all, it drops the parcel and (for IPv6) may return
      an ICMP "Parameter Problem" message according to <span>[<a href="#RFC2675" class="xref">RFC2675</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">If the outgoing network interface is an OMNI interface <span>[<a href="#I-D.templin-6man-omni" class="xref">I-D.templin-6man-omni</a>]</span>, the OMNI Adaptation Layer (OAL) of
      this First Hop Segment (FHS) OAL node forwards the parcel to the next
      OAL hop which may be either an OAL intermediate node or the Last Hop
      Segment (LHS) OAL node (which may also be the final destination itself).
      The OAL assigns a monotonically- incrementing (modulo 127) "Parcel ID"
      and subdivides the parcel into sub-parcels no larger than the maximum of
      the path MTU to the next hop or 65535 octets (minus the length of
      encapsulation headers) by determining the number of segments of length L
      that can fit into each sub-parcel under these size constraints. For
      example, if the OAL determines that a sub-parcel can contain 3 segments
      of length L, it creates sub-parcels with the first containing segments
      1-3, the second containing segments 4-6, etc. and with the final
      containing any remaining segments. The OAL then appends an identical IP
      header plus extensions to each sub-parcel while resetting M and N in
      each according to the above equations with J set to 3 and K set to L for
      each non-final sub-parcel and with J set to the remaining number of
      segments for the final sub-parcel.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">The OAL next performs IP encapsulation on each sub-parcel with
      destination set to the next hop IP address then inserts an IPv6 Fragment
      Header after the IP encapsulation header, i.e., even if the
      encapsulation header is IPv4, even if no actual fragmentation is needed
      and/or even if the Jumbo Payload option is present. The OAL then assigns
      a randomly-initialized 32-bit Identification number that is
      monotonically-incremented for each consecutive sub-parcel, then performs
      IPv6 fragmentation over the sub-parcel if necessary to create fragments
      small enough to traverse the path to the next OAL hop while writing the
      Parcel ID and setting or clearing the "Parcel (P)" and "(More)
      Sub-Parcels (S)" bits in the Fragment Header of the first fragment (see:
      <span>[<a href="#I-D.templin-6man-fragrep" class="xref">I-D.templin-6man-fragrep</a>]</span>). (The OAL sets P to 1 for a
      parcel or to 0 for a non-parcel. When P is 1, the OAL next sets S to 1
      for non-final sub-parcels or to 0 if the sub-parcel contains the final
      segment.) The OAL then forwards each IP encapsulated packet/fragment to
      the next OAL hop.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">When the next OAL hop receives the encapsulated IP fragments or whole
      packets, it reassembles if necessary. If the P flag in the first
      fragment is 0, the next hop then processes the reassembled entity as an
      ordinary IP packet; otherwise it continues processing as a sub-parcel.
      If the next hop is an OAL intermediate node, it retains the sub-parcels
      along with their Parcel ID and Identification values for a brief time in
      hopes of re-combining with peer sub-parcels of the same original parcel
      identified by the 4-tuple consisting of the IP encapsulation source and
      destination, Identification and Parcel ID. The combining entails the
      concatenation of the segments included in sub-parcels with the same
      Parcel ID and with Identification values within 64 of one another to
      create a larger sub-parcel possibly even as large as the entire original
      parcel. Order of concatenation is not important, with the exception that
      the final sub-parcel (i.e., the one with S set to 0) must occur as the
      final concatenation before transmission. The OAL then appends a common
      IP header plus extensions to each re-combined sub-parcel while resetting
      M and N in each according to the above equations with J, K and L set
      accordingly.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">This OAL intermediate node next forwards the re-combined
      sub-parcel(s) to the next hop toward the LHS OAL node using
      encapsulation the same as specified above. (The intermediate node MUST
      ensure that the S flag remains set to 0 in the sub-parcel that contains
      the final segment.) When the parcel or sub-parcels arrive at the LHS OAL
      node, the OAL re-combines them into the largest possible sub-parcels
      while honoring the S flag. If the LHS OAL node is also the final
      destination, it delivers the sub-parcels to upper layers which act on
      the enclosed 5-tuple information supplied by the original source. If the
      LHS OAL node is not the final destination, it instead forwards each
      sub-parcel the same as for an ordinary IP packet the same as discussed
      above.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">Note: while the LHS OAL node may be tempted to re-combine the
      sub-parcels of multiple different parcels with identical upper layer
      protocol 5-tuples and with non-final segments of identical length, this
      process could become complicated when the different parcels each have
      final segments of diverse lengths. Since this might interfere with any
      perceived performance advantages, the decision of whether and how to
      perform inter-parcel concatenation is an implementation matter.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">Note: some IPv6 fragmentation and reassembly implementations may
      require a well-formed IPv6 header to perform their operations. When the
      encapsulation is based on IPv4, such implementations translate the
      encapsulation header into an IPv6 header with IPv4-Mapped IPv6 addresses
      before performing the fragmentation/reassembly operation, then restore
      the original IPv4 header before further processing.<a href="#section-5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="probe">
<section id="section-6">
      <h2 id="name-parcel-path-qualification">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-parcel-path-qualification" class="section-name selfRef">Parcel Path Qualification</a>
      </h2>
<p id="section-6-1">To determine whether parcels are supported over at least a leading
      portion of the forward path toward the final destination, the original
      source can send a singleton IP parcel formatted as a "Parcel Probe" that
      contains an upper layer protocol probe segment (e.g., a data segment, an
      ICMP Echo Request message, etc.). The purpose of the probe is to elicit
      a "Parcel Reply" and possibly also an ordinary upper layer protocol
      probe reply from the final destination.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">If the original source receives a positive Parcel Reply, it marks the
      path as "parcels supported" and ignores any ICMP <span>[<a href="#RFC0792" class="xref">RFC0792</a>]</span><span>[<a href="#RFC4443" class="xref">RFC4443</a>]</span> and/or Packet Too Big (PTB)
      messages <span>[<a href="#RFC1191" class="xref">RFC1191</a>]</span><span>[<a href="#RFC8201" class="xref">RFC8201</a>]</span> concerning the
      probe. If the original source instead receives a negative Parcel Reply
      or no reply, it marks the path as "parcels not supported" and may regard
      any ICMP and/or PTB messages concerning the probe (or its contents) as
      indications of a possible middlebox restriction.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">The original source can therefore send Parcel Probes in parallel with
      sending real data as ordinary IP packets. If the original source
      receives a positive Parcel Reply, it can begin using IP parcels.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">Parcel Probes use the IP parcel option type (see: <a href="#parcels" class="xref">Section 4</a>) but set a different option length and replace the
      option value with control information plus a 4-octet "Path MTU" value
      into which conformant middleboxes write the minimum link MTU observed
      the same as described in <span>[<a href="#RFC1063" class="xref">RFC1063</a>]</span><span>[<a href="#I-D.ietf-6man-mtu-option" class="xref">I-D.ietf-6man-mtu-option</a>]</span>. Parcel Probes can also include an
      upper layer protocol probe segment the same as described in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span><span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span>.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">The original source sends Parcel Probes unidirectionally in the
      forward path toward the final destination to elicit a Parcel Reply,
      since it will often be the case that IP parcels are supported only in
      the forward path and not in the return path. Parcel Probes may be
      dropped in the forward path by any node that does not recognize IP
      parcels, but a Parcel Reply must be packaged such that it will not be
      dropped even if IP parcels are not recognized in the return path.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">Original sources send Parcel Probes using the following option
      format:<a href="#section-6-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-7">
<pre>                  +--------+--------+
                  |  Type  | Length |
+--------+--------+--------+--------+
|      Nonce-1    |   Nonce-2 (0-1) |
+--------+--------+--------+--------+
|   Nonce-2 (2-3) |Reserved| Check  |
+--------+--------+--------+--------+
|               PMTU                |
+--------+--------+--------+--------+
</pre><a href="#section-6-7" class="pilcrow">¶</a>
</div>
<p id="section-6-8">For IPv4, the original source MUST set Type to '00001011' and
      Length to '00001110' - this is the same Type as for an ordinary IPv4
      parcel (see: <a href="#parcels" class="xref">Section 4</a>) but with a different Length. The
      original source then MUST set Nonce-1 to 0xffff, set Nonce-2 to a
      (pseudo)-random 32-bit value and set Reserved to 0. The original source
      finally MUST set Check to the same value that will appear in the TTL of
      the outgoing IPv4 header and MUST set PMTU to the MTU of the outgoing
      IPv4 interface. The original source finally sends the Parcel Probe over
      the outgoing IPv4 interface. According to <span>[<a href="#RFC7126" class="xref">RFC7126</a>]</span>,
      middleboxes (i.e., routers, security gateways, firewalls, etc.) that do
      not observe this specification SHOULD drop IP packets that contain
      option type '00001011' ("IPv4 Probe MTU") but some might instead either
      implement <span>[<a href="#RFC1063" class="xref">RFC1063</a>]</span> or ignore the option altogether. IPv4
      middleboxes that observe this specification instead MUST process the
      option as a Parcel Probe as specified below.<a href="#section-6-8" class="pilcrow">¶</a></p>
<p id="section-6-9">For IPv6, the original source MUST set Type to '11000010' and Length
      to '00001100' - this is the same Type as for an ordinary IPv6 parcel
      (see: <a href="#parcels" class="xref">Section 4</a>) but with a different Length. The
      original source then MUST set both Nonce-1 and Nonce-2 to a
      (pseudo)-random 48-bit value and set Reserved to 0. The original source
      finally MUST set Check to the same value that will appear in the Hop
      Limit of the outgoing IPv6 header and MUST set PMTU to the MTU of the
      outgoing IPv6 interface. The original source finally sends the Parcel
      Probe over the outgoing IPv6 interface. According to <span>[<a href="#RFC2675" class="xref">RFC2675</a>]</span>, middleboxes (i.e., routers, security gateways,
      firewalls, etc.) that understand the IPv6 Jumbo Payload option are
      required to detect a number of possible format errors and return an
      ICMPv6 Parameter Problem message, but no guidance is given regarding
      forwarding. IPv6 middleboxes that observe this specification instead
      MUST process the option as a Parcel Probe as specified below.<a href="#section-6-9" class="pilcrow">¶</a></p>
<p id="section-6-10">When a middlebox that observes this specification receives a Parcel
      Probe it first compares the Check value with the IP header Hop
      Limit/TTL; if the values differ, the middlebox MUST return a negative
      Parcel Reply (see below) and drop the probe.<a href="#section-6-10" class="pilcrow">¶</a></p>
<p id="section-6-11">Next, if the next hop IP link either does not support parcels or
      configures an MTU that is too small to pass the parcel, the middlebox
      compares the Parcel Probe PMTU value with the MTU of the inbound link
      for the probe and MUST (re)set PMTU to the lower MTU. The middlebox then
      MUST return a positive Parcel Reply (see below) and convert the probe
      into an ordinary IP packet by removing the Parcel Probe option according
      to the standards <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span><span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>. If
      the next hop IP link configures a sufficiently large MTU, the middlebox
      then MUST forward the ordinary IP packet to the next hop; otherwise, it
      MUST drop the packet and should return a suitable PTB.<a href="#section-6-11" class="pilcrow">¶</a></p>
<p id="section-6-12">If the next hop IP link both supports parcels and configures an MTU
      that is large enough to pass the parcel, the middlebox instead compares
      the Parcel Probe PMTU value with the MTUs of both the inbound and
      outbound links for the probe and MUST (re)set PMTU to the lower MTU. The
      middlebox then MUST reset Check to the same value that will appear in
      the TTL/Hop Limit of the outgoing IP header, and MUST forward the Parcel
      Probe to the next hop.<a href="#section-6-12" class="pilcrow">¶</a></p>
<p id="section-6-13">The final destination may therefore receive either an ordinary IP
      packet containing an upper layer protocol probe or a Parcel Probe. If
      the final destination receives an ordinary IP packet, it performs any
      necessary integrity checks then delivers the packet to upper layers
      which will return an upper layer probe response. If the final
      destination instead receives a Parcel Probe, it first compares the Check
      value with the IP header Hop Limit/TTL; if the values differ, the final
      destination MUST drop the probe and return a negative Parcel Reply (see
      below). Otherwise, the final destination compares the Parcel Probe PMTU
      value with the MTU of the inbound link for the probe and MUST (re)set
      PMTU to the lower MTU. The final destination then MUST return a positive
      Parcel Reply (see below) and convert the probe into an ordinary IP
      packet by removing the Parcel Probe option according to the standards
      <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span><span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>.The final destination
      then performs any necessary integrity checks and delivers the packet to
      upper layers.<a href="#section-6-13" class="pilcrow">¶</a></p>
<p id="section-6-14">When the middlebox or final destination returns a Parcel Reply, it
      prepares an IP header of the same protocol version that appeared in the
      Parcel Probe with source and destination addresses reversed, with
      {Protocol, Next Header} set to the value '60' (i.e., "IPv6 Destination
      Option") and with an IPv6 Destination Option header with Next Header set
      to the value '59' (i.e., "IPv6 No Next Header") <span>[<a href="#RFC8200" class="xref">RFC8200</a>]</span>. The node next copies the body of the Parcel Probe
      option as the sole Parcel Reply Destination Option (and for IPv4 resets
      Type to '11000010' and Length to '00001100') and includes no other
      octets beyond the end of the option. The node then MUST (re)set Check to
      1 for a positive or to 0 for a negative Parcel Reply, then MUST finally
      set the IP header {Total, Payload} Length field according to the length
      of the included Destination Option and return the Parcel Reply to the
      source. (Since filtering middleboxes may drop IPv4 packets with Protocol
      '60' the destination should wrap an IPv4 Parcel Reply in UDP/IPv4
      headers with the IPv4 source and destination addresses copied from the
      Parcel Reply and with UDP port numbers set to the UDP port number for
      OMNI <span>[<a href="#I-D.templin-6man-omni" class="xref">I-D.templin-6man-omni</a>]</span>.)<a href="#section-6-14" class="pilcrow">¶</a></p>
<p id="section-6-15">After sending a Parcel Probe the original source may therefore
      receive a Parcel Reply (see above) and/or an upper layer protocol probe
      reply. If the source receives a Parcel Reply, it first matches Nonce-2
      (and for IPv6 only also matches Nonce-1) with the values it had included
      in the Parcel Probe. If the values do not match, the source discards the
      Parcel Reply. Next, the source examines the Check value and marks the
      path as "parcels supported" if the value is 1 or "parcels not supported"
      otherwise. If the source marks the path as "parcels supported", it also
      records the PMTU value as the maximum parcel size for the forward path
      to this destination.<a href="#section-6-15" class="pilcrow">¶</a></p>
<p id="section-6-16">After receiving a positive Parcel Reply, the original source can
      begin sending IP parcels up to the size recorded in the PMTU to the
      final destination. Any upper layer protocol probe replies will determine
      the maximum segment size that can be included in the parcel, but this is
      an upper layer consideration. The original source should then
      periodically re-initiate Parcel Path Qualification as long as its
      session with the final destination is sustained (i.e., in case the
      forward path fluctuates). If at any time performance appears to degrade,
      the original source should immediately re-initiate Parcel Path
      Qualification.<a href="#section-6-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="integrity">
<section id="section-7">
      <h2 id="name-integrity">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-integrity" class="section-name selfRef">Integrity</a>
      </h2>
<p id="section-7-1">Each segment of a (multi-segment) IP parcel includes its own upper
      layer protocol integrity check. This allows for IP parcels to support
      much stronger integrity for the same amount of upper layer protocol data
      in comparison with an ordinary IP packet or Jumbogram containing only a
      single segment. The integrity checks must then be verified at the final
      destination, which accepts any segments with correct integrity while
      discarding any corrupted segments and counting them as a loss event.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">IP parcels can range in length from as small as only the IP header
      sizes to as large as the IP headers plus (64 * (65535 minus headers))
      octets. Although link layer integrity checks provide sufficient
      protection for contiguous data blocks up to approximately 9KB, reliance
      on the presence of link-layer integrity checks may not be possible over
      links such as tunnels. Moreover, the segment contents of a received
      parcel may arrive in an incomplete and/or rearranged order with respect
      to their original packaging.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">For these reasons, the OAL at each hop of an OMNI link includes an
      integrity check when it performs IP fragmentation on a sub-parcel, with
      the integrity verified during reassembly at the next hop.<a href="#section-7-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="issues">
<section id="section-8">
      <h2 id="name-rfc2675-updates">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-rfc2675-updates" class="section-name selfRef">RFC2675 Updates</a>
      </h2>
<p id="section-8-1">Section 3 of <span>[<a href="#RFC2675" class="xref">RFC2675</a>]</span> provides a list of certain
      conditions to be considered as errors. In particular:<a href="#section-8-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-8-2.1">error: IPv6 Payload Length != 0 and Jumbo Payload option
          present<a href="#section-8-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-8-2.2">error: Jumbo Payload option present and Jumbo Payload Length &lt;
          65,536<a href="#section-8-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-8-3">Implementations that obey this specification ignore these conditions
      and do not consider them as errors.<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="jumbo">
<section id="section-9">
      <h2 id="name-ipv4-jumbograms">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-ipv4-jumbograms" class="section-name selfRef">IPv4 Jumbograms</a>
      </h2>
<p id="section-9-1">By defining a new IPv4 Jumbo Payload option, this document also
      implicitly enables an IPv4 jumbogram service defined as an IPv4 packet
      with Total Length set to the length of the IPv4 header plus extensions
      only, and with a Jumbo Payload option in the IPv4 extension headers. All
      other aspects of IPv4 jumbograms are the same as for IPv6 jumbograms
      <span>[<a href="#RFC2675" class="xref">RFC2675</a>]</span>.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="implement">
<section id="section-10">
      <h2 id="name-implementation-status">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-implementation-status" class="section-name selfRef">Implementation Status</a>
      </h2>
<p id="section-10-1">Common widely-deployed implementations include services such as TCP
      Segmentation Offload (TSO) and Generic Segmentation/Receive Offload
      (GSO/GRO). These services support a robust (but not standardized)
      service that has been shown to improve performance in many instances.
      Implementation of the IP parcel service is a work in progress.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">The IANA is instructed to change the "MTUP - MTU Probe" entry in the
      'ip option numbers' registry to the "JUMBO - IPv4 Jumbo Payload" option.
      The Copy and Class fields must both be set to 0, and the Number and
      Value fields must both be set to 11'. The reference must be changed to
      this document (RFCXXXX).<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="secure">
<section id="section-12">
      <h2 id="name-security-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-12-1">Original sources match the Jumbo Payload Length and Nonce values in
      received Parcel Replies with the Parcel Probes they send. If the values
      match, the Parcel Reply is likely an authentic response to the Parcel
      Probe. In environments where stronger authentication is necessary, the
      encapsulating authentication services of OMNI can be used <span>[<a href="#I-D.templin-6man-omni" class="xref">I-D.templin-6man-omni</a>]</span>.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">Communications networking security is necessary to preserve
      confidentiality, integrity and availability.<a href="#section-12-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ack">
<section id="section-13">
      <h2 id="name-acknowledgements">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-13-1">This work was inspired by ongoing AERO/OMNI/DTN investigations. The
      concepts were further motivated through discussions on the intarea and
      6man lists.<a href="#section-13-1" class="pilcrow">¶</a></p>
<p id="section-13-2">A considerable body of work over recent years has produced useful
      "segmentation offload" facilities available in widely-deployed
      implementations.<a href="#section-13-2" class="pilcrow">¶</a></p>
<p id="section-13-3">.<a href="#section-13-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-14">
      <h2 id="name-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-14.1">
        <h3 id="name-normative-references">
<a href="#section-14.1" class="section-number selfRef">14.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC0791">[RFC0791]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Protocol"</span>, <span class="seriesInfo">STD 5</span>, <span class="seriesInfo">RFC 791</span>, <span class="seriesInfo">DOI 10.17487/RFC0791</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc791">https://www.rfc-editor.org/info/rfc791</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2675">[RFC2675]</dt>
        <dd>
<span class="refAuthor">Borman, D.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"IPv6 Jumbograms"</span>, <span class="seriesInfo">RFC 2675</span>, <span class="seriesInfo">DOI 10.17487/RFC2675</span>, <time datetime="1999-08" class="refDate">August 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2675">https://www.rfc-editor.org/info/rfc2675</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
      <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-14.2">
        <h3 id="name-informative-references">
<a href="#section-14.2" class="section-number selfRef">14.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="BIG-TCP">[BIG-TCP]</dt>
        <dd>
<span class="refAuthor">Dumazet, E.</span>, <span class="refTitle">"BIG TCP, Netdev 0x15 Conference (virtual), https://netdevconf.info/0x15/session.html?BIG-TCP"</span>, <time datetime="2021-08-31" class="refDate">31 August 2021</time>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-6man-mtu-option">[I-D.ietf-6man-mtu-option]</dt>
        <dd>
<span class="refAuthor">Hinden, R. M.</span> and <span class="refAuthor">G. Fairhurst</span>, <span class="refTitle">"IPv6 Minimum Path MTU Hop-by-Hop Option"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6man-mtu-option-12</span>, <time datetime="2022-01-27" class="refDate">27 January 2022</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-6man-mtu-option-12.txt">https://www.ietf.org/archive/id/draft-ietf-6man-mtu-option-12.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-tcpm-rfc793bis">[I-D.ietf-tcpm-rfc793bis]</dt>
        <dd>
<span class="refAuthor">Eddy, W. M.</span>, <span class="refTitle">"Transmission Control Protocol (TCP) Specification"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tcpm-rfc793bis-26</span>, <time datetime="2022-02-08" class="refDate">8 February 2022</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-tcpm-rfc793bis-26.txt">https://www.ietf.org/archive/id/draft-ietf-tcpm-rfc793bis-26.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.templin-6man-fragrep">[I-D.templin-6man-fragrep]</dt>
        <dd>
<span class="refAuthor">Templin, F. L.</span>, <span class="refTitle">"IPv6 Fragment Retransmission and Path MTU Discovery Soft Errors"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-templin-6man-fragrep-05</span>, <time datetime="2021-12-22" class="refDate">22 December 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-templin-6man-fragrep-05.txt">https://www.ietf.org/archive/id/draft-templin-6man-fragrep-05.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.templin-6man-omni">[I-D.templin-6man-omni]</dt>
        <dd>
<span class="refAuthor">Templin, F. L.</span> and <span class="refAuthor">T. Whyman</span>, <span class="refTitle">"Transmission of IP Packets over Overlay Multilink Network (OMNI) Interfaces"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-templin-6man-omni-52</span>, <time datetime="2021-12-31" class="refDate">31 December 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-templin-6man-omni-52.txt">https://www.ietf.org/archive/id/draft-templin-6man-omni-52.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.templin-dtn-ltpfrag">[I-D.templin-dtn-ltpfrag]</dt>
        <dd>
<span class="refAuthor">Templin, F. L.</span>, <span class="refTitle">"LTP Fragmentation"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-templin-dtn-ltpfrag-08</span>, <time datetime="2022-02-01" class="refDate">1 February 2022</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-templin-dtn-ltpfrag-08.txt">https://www.ietf.org/archive/id/draft-templin-dtn-ltpfrag-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC">[QUIC]</dt>
        <dd>
<span class="refAuthor">Ghedini, A.</span>, <span class="refTitle">"Accelerating UDP packet transmission for QUIC, https://blog.cloudflare.com/accelerating-udp-packet-transmission-for-quic/"</span>, <time datetime="2020-01-08" class="refDate">8 January 2020</time>. </dd>
<dd class="break"></dd>
<dt id="RFC0792">[RFC0792]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Control Message Protocol"</span>, <span class="seriesInfo">STD 5</span>, <span class="seriesInfo">RFC 792</span>, <span class="seriesInfo">DOI 10.17487/RFC0792</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc792">https://www.rfc-editor.org/info/rfc792</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0793">[RFC0793]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Transmission Control Protocol"</span>, <span class="seriesInfo">STD 7</span>, <span class="seriesInfo">RFC 793</span>, <span class="seriesInfo">DOI 10.17487/RFC0793</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc793">https://www.rfc-editor.org/info/rfc793</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1063">[RFC1063]</dt>
        <dd>
<span class="refAuthor">Mogul, J.</span>, <span class="refAuthor">Kent, C.</span>, <span class="refAuthor">Partridge, C.</span>, and <span class="refAuthor">K. McCloghrie</span>, <span class="refTitle">"IP MTU discovery options"</span>, <span class="seriesInfo">RFC 1063</span>, <span class="seriesInfo">DOI 10.17487/RFC1063</span>, <time datetime="1988-07" class="refDate">July 1988</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1063">https://www.rfc-editor.org/info/rfc1063</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1191">[RFC1191]</dt>
        <dd>
<span class="refAuthor">Mogul, J.</span> and <span class="refAuthor">S. Deering</span>, <span class="refTitle">"Path MTU discovery"</span>, <span class="seriesInfo">RFC 1191</span>, <span class="seriesInfo">DOI 10.17487/RFC1191</span>, <time datetime="1990-11" class="refDate">November 1990</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1191">https://www.rfc-editor.org/info/rfc1191</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
        <dd>
<span class="refAuthor">Conta, A.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">M. Gupta, Ed.</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 89</span>, <span class="seriesInfo">RFC 4443</span>, <span class="seriesInfo">DOI 10.17487/RFC4443</span>, <time datetime="2006-03" class="refDate">March 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4443">https://www.rfc-editor.org/info/rfc4443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4821">[RFC4821]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span> and <span class="refAuthor">J. Heffner</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery"</span>, <span class="seriesInfo">RFC 4821</span>, <span class="seriesInfo">DOI 10.17487/RFC4821</span>, <time datetime="2007-03" class="refDate">March 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4821">https://www.rfc-editor.org/info/rfc4821</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5326">[RFC5326]</dt>
        <dd>
<span class="refAuthor">Ramadas, M.</span>, <span class="refAuthor">Burleigh, S.</span>, and <span class="refAuthor">S. Farrell</span>, <span class="refTitle">"Licklider Transmission Protocol - Specification"</span>, <span class="seriesInfo">RFC 5326</span>, <span class="seriesInfo">DOI 10.17487/RFC5326</span>, <time datetime="2008-09" class="refDate">September 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5326">https://www.rfc-editor.org/info/rfc5326</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7126">[RFC7126]</dt>
        <dd>
<span class="refAuthor">Gont, F.</span>, <span class="refAuthor">Atkinson, R.</span>, and <span class="refAuthor">C. Pignataro</span>, <span class="refTitle">"Recommendations on Filtering of IPv4 Packets Containing IPv4 Options"</span>, <span class="seriesInfo">BCP 186</span>, <span class="seriesInfo">RFC 7126</span>, <span class="seriesInfo">DOI 10.17487/RFC7126</span>, <time datetime="2014-02" class="refDate">February 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7126">https://www.rfc-editor.org/info/rfc7126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8201">[RFC8201]</dt>
        <dd>
<span class="refAuthor">McCann, J.</span>, <span class="refAuthor">Deering, S.</span>, <span class="refAuthor">Mogul, J.</span>, and <span class="refAuthor">R. Hinden, Ed.</span>, <span class="refTitle">"Path MTU Discovery for IP version 6"</span>, <span class="seriesInfo">STD 87</span>, <span class="seriesInfo">RFC 8201</span>, <span class="seriesInfo">DOI 10.17487/RFC8201</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8201">https://www.rfc-editor.org/info/rfc8201</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8899">[RFC8899]</dt>
        <dd>
<span class="refAuthor">Fairhurst, G.</span>, <span class="refAuthor">Jones, T.</span>, <span class="refAuthor">Tüxen, M.</span>, <span class="refAuthor">Rüngeler, I.</span>, and <span class="refAuthor">T. Völker</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery for Datagram Transports"</span>, <span class="seriesInfo">RFC 8899</span>, <span class="seriesInfo">DOI 10.17487/RFC8899</span>, <time datetime="2020-09" class="refDate">September 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8899">https://www.rfc-editor.org/info/rfc8899</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9000">[RFC9000]</dt>
      <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9000">https://www.rfc-editor.org/info/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Fred L. Templin (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Boeing Research &amp; Technology</span></div>
<div dir="auto" class="left"><span class="street-address">P.O. Box 3707</span></div>
<div dir="auto" class="left">
<span class="locality">Seattle</span>, <span class="region">WA</span> <span class="postal-code">98124</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fltemplin@acm.org" class="email">fltemplin@acm.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
