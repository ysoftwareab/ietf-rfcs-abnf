
Internet-Draft                                          B. Berry, Editor
Intended status: Informational                                S. Ratliff
Expires: February 28, 2008                                   E. Paradise
                                                                   Cisco
                                                                T.Kaiser
                                                      Harris Corporation
                                                                M. Adams
                                                       L3 Communications
                                                      September 10, 2007

                   PPP Over Ethernet (PPPoE) Extensions
                   for Scaled Credits and Link Metrics

              draft-bberry-pppoe-scaled-credits-metrics-01.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other 
   documents at any time.  It is inappropriate to use Internet-Drafts 
   as reference material or to cite them other than as "work in 
   progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on February 28, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2007).

Abstract

   This document specifies a method for optional flow control credit 
   scaling and link quality metric scaling for Point-to-Point over  
   Ethernet (PPPoE).  Credit and metric scaling is required when 
   connecting to high performance devices that employ the PPPoE credit
   flow control and link metric reports as defined in RFC 4938.

Berry, et. al.           Expires February 28, 2008             [Page 1]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007

1.  Introduction

   PPP over Ethernet (PPPoE) [2] is a protocol for establishing and
   encapsulating sessions between hosts and traffic aggregators for 
   PPP [1] transport over Ethernet. PPPoE [2] was extended by RFC 4938 
   [3], which provides Credit Flow and Link Metrics. 
   
   This document specifies an enhancement to RFC 4938 [3] credit flow 
   and metric reports to support high performance (radio) traffic 
   aggregators. The enhancements are backward compatible to maintain 
   the functionality of RFC4938.
   
2  Terminology

    BCN      Backward Credit Notification
    
    CDR      Current Data rate
    
    FCN      Forward Credit Notification

    gbps     gigabits (1,000,000,000) per second

    kbps     kilobit (1,000) bits per second
    
    mbps     megabits (1,000,000) per second
    
    MDR      Maximum Data rate

    tbps     terabits (1,000,000,000,000) per second
    






















Berry, et. al.           Expires February 28, 2008             [Page 2]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


3.  Overview of Credit and Metric Enhancements

   RFC 4938 defined credits in 64-byte units of PPP payload.  This 
   document specifies a new optional Credit Scalar Tag that can be  
   used in the PADR-PADS exchange to modify the credit unit value.  
   
   RFC 4938 defined the metrics maximum data rate and the current data 
   rate in units of kilobits per second.  With high performance devices,
   the need to express data rates greater than kilobits per second is 
   needed. To support the dynamic nature of high performance radio 
   devices, two bits for each data rate, the maximum data rate and the
   current data rate, are allocated from the Reserved field to specify 
   the data rate units.

   The tables below show the impact of the new Credit Scalar Tag and 
   the enhanced Metric Tag.


   Packet Types
           Packet                    Status
           =======================================================
           PADR                      Enhanced, optionally includes  
                                        the Credit Scalar Tag
           PADS                      Enhanced, optionally includes  
                                        the Credit Scalar Tag
           PADG                      Unchanged
           PADC                      Unchanged
           PADQ                      Enhanced, metrics are expressed
                                        in the default units or scalar 
                                        the units.


   Tag_Types and Tag_Values

           Tag    Tag
           Value  Description        Status
           =======================================================
           0x0106 Credits            Unchanged
           0x0107 Metrics            Modified, MD and CD bits defined
           0x0108 Sequence Number    Unchanged
           0x0109 Credit Scalar      New










Berry, et. al.           Expires February 28, 2008             [Page 3]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


4.  Packet Enhancements 

4.1.  PPPoE Active Discovery Request (PADR)

   The PADR packet is enhanced to optionally contain a single Credit 
   Scalar Tag TLV.  The Credit Scalar Tag defines the credit unit 
   value. If the Credit Scalar tag is omitted, the default value of 
   64-bytes is used for the session.  When the client includes the 
   Credit Tag in the PADR, the server MUST send the PADS with the
   Credit Tag.  This PADR credit scalar value is applied to all 
   credit values associated with the client.

   An example packet is shown in Appendix B.


4.2.  PPPoE Active Discovery Session-confirmation (PADS)

   The PADS packet is enhanced to optionally contain a single Credit 
   Tag Scalar Tag TLV.  The Credit Scalar Tag defines the credit unit 
   value. The Credit Scalar Tag MUST be included when it was included
   in the PADR.  If the Credit Tag was not included it MUST be omitted,
   indicating that the 64-bytesdefault is used for the session.  This 
   credit scalar value is applied to all credit values associated with
   the server.

   An example packet is shown in Appendix B.

4.3.  PPPoE Active Discovery Session-Grant (PADG)

   The PADG packet must contain a single Credit Tag TLV, indicating 
   the Forward Credit Notification (FCN) and the Backward Credit
   Notification (BCN) of the PPPoE Session.
   
   The FCN and BCN values must be scaled by the value established 
   during session establishment in the Credit Scalar Tags or by the
   default 64-byte value prior to processing.

   An example packet is shown in Appendix B.














Berry, et. al.           Expires February 28, 2008             [Page 4]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


4.4.  PPPoE Active Discovery Session-Credit Response (PADC)

   The PADC packet must contain a single Credit Tag TLV, indicating 
   the Forward Credit Notification (FCN) and the Backward Credit
   Notification (BCN) of the PPPoE session, and any number of other 
   Tag types.

   The FCN and BCN values must be scaled by the value established 
   during session establishment in the Credit Scalar Tags or by the
   default 64-byte value prior to processing.

   An example packet is shown in Appendix B.


4.5.  PPPoE Active Discovery Quality (PADQ)

   The PADQ must carry a single Metric Tag TLV. When processing the
   data rates, the values must be converted using the indicated
   data rate units.  This document ehances the Metric Tag as described 
   below.

   An example packet is shown in Appendix B.





























Berry, et. al.           Expires February 28, 2008             [Page 5]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


5     TAG Enhancements

5.1   Metric Tag TLV

   The Metric Tag TYPE, contains the following fields:

       Receive only - a bit that indicates whether the link is bi-
       directional or receive only.  A value of -1- indicates that 
       the link is receive-only.
       
       MD - Two bits that designate the units of the maximum data rate.
       
                MD Scale:  00 == kbps 
                           01 == mbps 
                           10 == gbps 
                           11 == tbps 
                
       CD - Two bits that designate the units of the current data rate.

                CD Scale:  00 == kbps 
                           01 == mbps 
                           10 == gbps 
                           11 == tbps 

       Reserved - Reserved fields are zeroed unless otherwise specified.

       Maximum data rate - the maximum theoretical data rate, in
       scalar units per second, that the link is capable of
       providing.  When metrics are reported, the maximum data rate 
       must be reported.

       Current data rate - the current data rate, in scalar units per 
       second, achieved on the link.  If there is no distinction
       between maximum data rate and current data rate, current data
       rate should equal the maximum data rate.
















Berry, et. al.           Expires February 28, 2008             [Page 6]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


       Latency - the transmission delay that a packet encounters as it
       is transmitted over the Host link.  This is reported in absolute
       delay, milliseconds.  If latency cannot be calculated, a value 
       of 0 should be reported.  The calculation of latency is device
       dependent.  For example, the latency may be a running average
       calculated from the internal queuing.

       Resources - a percentage, 0-100, representing the amount of
       remaining or available resources, such as battery power.  If
       resources cannot be calculated, a value of 100 should be
       reported.

       Relative Link Quality (RLQ) - a non-dimensional number, 0-100,
       representing the relative link quality.  A value of 100
       represents a link of the highest quality.  If the RLQ cannot 
       be calculated, a value of 100 should be reported.

   The PPPoE Active Discovery Quality (PADQ) packet can be used to 
   query link metrics by setting the PADQ Metric Tag Length to zero.

   An example tag is shown in Appendix A.

5.2   Credit Scalar Tag TLV

   The Credit Scalar Tag can be used to change from the default 
   64-byte credit unit.  The new credit scalar can range from
   1-byte to 65535-bytes.  A zero value is ignored and the 
   default 64-byte unit remains set.  
   
   For example, if a high performance device requires credit
   grants in 512-bytes units, the new Credit Scalar TLV is
   included in the PADR-PADS exchange to set its credit flow 
   to 512-byte units. 
    
   In another example, a high performance device requires credit
   grants in 2048-bytes units.  To set the new scalar value, the
   high performance device must use the Credit Scalar in the 
   PADR-PADS exchange to set its credit flow to 2048-byte units.   













Berry, et. al.           Expires February 28, 2008             [Page 7]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007

   
6.  IANA Considerations

   IANA has assigned the following PPPoE TAG Values as noted in [4]:

   TAG Value     TAG Name              Tag Description         Reference
   -----------   -------------------   ---------------------   ---------
   262  0x0106   Credits               See the reference       [RFC4938]
   263  0x0107   Metrics               See the reference       [RFC4938]
   264  0x0108   Sequence Number       See the reference       [RFC4938]
   265  0x0109   Credit Scalar         See the reference       [RFCnnnn]

   IANA has assigned the following PPPoE Code fields as noted in [4]:

   Code      PPPoE Packet Name              Description        Reference
   --------  -----------------------------  -----------------  ---------
   10  0x0a  PADG, Session-Grant            See the reference  [RFC4938]
   11  0x0b  PADC, Session-Credit Response  See the reference  [RFC4938]
   12  0x0c  PADQ, Quality                  See the reference  [RFC4938]




7.  Security Considerations

   This memo defines a mechanism to scale the credit grant units and
   the link metrics to the existing credit-based flow control mechanism 
   and link quality metrics of Point-to-Point over Ethernet (PPPoE).
   These extensions are subsequent to the existing PPPoE security 
   mechanisms as described in RFC 2516 [2].  






















Berry, et. al.           Expires February 28, 2008             [Page 8]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007

Appendix A: Tag Values

   Feature Tag_Types and Tag_Values

           Tag    Tag
           Value  Description        Status
           ===================================
           0x0106 Credits            Unchanged
           0x0107 Metrics            Modified
           0x0108 Sequence Number    Unchanged
           0x0109 Credit Scalar      New



   0x0107 Metric Tag

   This tag is used to report the link quality and performance. The
   Metrics Tag contains the Receive Only indicator, Resource 
   status, Latency, Relative Link Quality (RLQ), Current data rate, 
   and Maximum data rate.  The Metrics Tag is required by the PADQ 
   packet.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0107       |        Tag Length=0x0A        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Reserved        | MD| CD|R|      RLQ      |    Resources  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Latency (MS)          |   Current Datarate            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Maximum Datarate           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



















Berry, et. al.           Expires February 28, 2008             [Page 9]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


   0x0109 Credit Scalar Tag

   This tag contains the scalar value that is to be applied to the
   session credit manipulation.  The Credit Scalar Tag is OPTIONAL
   with the PADR, PADS packets.  A value of zero is ignored and the
   default scalar of 64 bytes is applied.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0109       |        Tag Length=0x02        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             Scalar            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+





































Berry, et. al.           Expires February 28, 2008            [Page 10]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007

Appendix B: Example Packet Formats


   A PADR packet with the Credit Tag Type 0x0106 and the OPTIONAL 
   Credit Scalar Tag Type 0x0109:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Access_Concentrator_mac_addr                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Host_mac_addr (cont)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x19  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     SESSION_ID = 0x1234       |      LENGTH = 0x0C            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0101       |        Tag Length=0x00        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0106       |        Tag Length=0x04        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              FCN              |             BCN=0             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0109       |        Tag Length=0x02        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            scalar             |  
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

   The Credit Tag (0x106) FCN value is expressed in units of the 
   session credit scalar.  If the Credit Scalar Tag is omitted,
   the FCN is expressed in 64-byte units.



















Berry, et. al.           Expires February 28, 2008            [Page 11]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007

   A PADS packet with the Credit Tag Type 0x0106 and the OPTIONAL 
   Credit Scalar Tag Type:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Access_Concentrator_mac_addr                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Host_mac_addr (cont)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x65  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     SESSION_ID = 0x1234       |      LENGTH = 0x0C            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0101       |        Tag Length=0x00        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0106       |        Tag Length=0x04        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              FCN              |              BCN              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0109       |        Tag Length=0x02        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            scalar             |  
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

   The Credit Tag (0x106) FCN value is expressed in units of the 
   session metric scalar received in the PADR.  If the PADR did not
   contain the Credit Scalar Tag, the FCN is expressed in the default
   64-byte units.

   The Credit Tag (0x106) BCN value is expressed in units of the 
   session credit scalar contained in this PADS.  If the Credit  
   Scalar Tag is omitted, the BCN is expressed in 64-byte units.

















Berry, et. al.           Expires February 28, 2008            [Page 12]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007

   A PADG packet with the Credit Tag Type 0x0106:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Destination_mac_addr                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Destination_mac_addr(c)    |       Source_mac_addr         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Source mac_addr (cont)                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x0A  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     SESSION_ID = 0x1234       |      LENGTH = 0x0E            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0108       |        Tag Length=0x02        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Sequence Number         |       Tag Type = 0x0106       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Tag Length=0x04        |               FCN             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              BCN              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The FCN and BCN values are expressed in the respective units
   of the session credit scalar.


























Berry, et. al.           Expires February 28, 2008            [Page 13]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


   A PADC packet with the Credit Tag Type 0x0106:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Destination_mac_addr                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Destination_mac_addr(c)    |       Source_mac_addr         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Source mac_addr (cont)                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x0B  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     SESSION_ID = 0x1234       |      LENGTH = 0x0E            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0108       |        Tag Length=0x02        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Sequence Number         |       Tag Type = 0x0106       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Tag Length=0x04        |               FCN             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              BCN              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The FCN and BCN values are expressed in the respective units 
   of the session credit scalar.

























Berry, et. al.           Expires February 28, 2008            [Page 14]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


   A PADQ packet with Metric Tag Type 0x0107 showing the scalar bits:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Access_Concentrator_mac_addr                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Host_mac_addr (cont)                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x0C  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     SESSION_ID = 0x1234       |      LENGTH = 0x12            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0101       |        Tag Length=0x00        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Tag Type = 0x0107       |        Tag Length=0x0A        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Reserved      | MD| CD|R|      RLQ      |    Resources  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Latency (MS)          |   Current Datarate            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Maximum Datarate           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The maximum datarate and the current datarate are expressed in 
   units determined by the MD and CD bits, respectively. 























Berry, et. al.           Expires February 28, 2008            [Page 15]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


Normative References

   [1] Simpson, W., Ed., "The Point-to-Point Protocol (PPP)", STD 51,
       RFC 1661, July 1994.

   [2] Mamakos, L., Lidl, K., Evarts, J., Carrel, D., Simone, D., and R.
       Wheeler, "A Method for Transmitting PPP Over Ethernet (PPPoE)",
       RFC 2516, February 1999.

   [3] Berry, B., Holgate, H., "PPP Over Ethernet (PPPoE) Extensions
       for Credit Flow and Link Metrics",
       RFC 4938, June 2007.
       
   [4] Arberg, P. and V. Mammoliti, "IANA Considerations for PPP over
       Ethernet (PPPoE)", RFC 4937, June 2007.


Authors' Addresses

   Bo Berry, Editor
   Cisco
   170 West Tasman Drive
   San Jose, CA  95134
   EMail: bberry@cisco.com
   
   Stan Ratliff
   Cisco
   170 West Tasman Drive
   San Jose, CA  95134
   EMail: sratliff@cisco.com

   Ed Paradise 
   Cisco
   170 West Tasman Drive
   San Jose, CA  95134
   EMail: pdice@cisco.com
   
   Tim Kaiser
   Harris Corporation
   Government Communications System Division
   Mail Stop 25-11F
   P.O. Box 37
   Melbourne, FL 32902-0037 
   EMail: timothy.kaiser@harris.com
   
   Mike D Adams
   640 N 2200 W MS F1J12
   Salt Lake City, Utah 84116
   801 594-2367
   EMail: Michael.D.Adams@L-3com.com
   
Berry, et. al.           Expires February 28, 2008            [Page 16]

Internet-Draft     PPPoE Scaled Credits and Metrics      September 2007


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on
   an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE 
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE
   IETF TRUST AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL 
   WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY
   WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE
   ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS
   FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed 
   to pertain to the implementation or use of the technology described 
   in this document or the extent to which any license under such 
   rights might or might not be available; nor does it represent that 
   it has made any independent effort to identify any such rights.  
   Information on the procedures with respect to rights in RFC 
   documents can be found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the  
   use of such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository 
   at http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgements

   Funding for the RFC Editor function is currently provided by the
   Internet Society.






Berry, et. al.           Expires February 28, 2008            [Page 17]

