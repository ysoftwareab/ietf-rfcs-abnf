


INTERNET-DRAFT                                                  J. Dunn
Benchmarking Methodology Working Group                        C. Martin
Expires: May 2005                                      SI International
                                                           October 2004


Methodology for Forwarding Information Base (FIB) based Router Performance


                     draft-ietf-bmwg-fib-meth-02.txt


Status of this Memo


   "By submitting this Internet-Draft, I certify that any applicable patent
   or other IPR claims of which I am aware have been disclosed, or will  be
   disclosed,  and  any  of  which  I  become  aware  will be disclosed, in
   accordance with RFC 3668."


   This document is an Internet-Draft and is in full conformance  with  all
   provisions of Section 10 of RFC2026 [IPROC].


   Internet-Drafts  are  working documents of the Internet Engineering Task
   Force (IETF), its areas, and its working groups.  Note that other groups
   may also distribute working documents as Internet-Drafts.


   Internet-Drafts  are  draft  documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by  other  documents  at  any
   time.  It  is inappropriate to use Internet-Drafts as reference material
   or to cite them other than as "work in progress."


   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt


   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.



Abstract


   The forwarding performance of an IP router is highly  dependent  on  the
   information in its forwarding information base.  This document describes
   the methodology to  be  used  to  determine  the  IP  packet  forwarding
   performance  of  an  IP  router  as a function of the routers ability to
   properly form and optimize its forwarding information base.


1. Introduction


   This document  covers  the  measurement  of  the  IP  packet  forwarding
   performance  of  IP  routers  on  the  basis  of  the routers ability to
   properly form and optimize its forwarding information base (FIB).  [FIB-
   TERM] describes the terminology associated with this document.


   This  version  of  the document describes a more general approach to the
   determination of  router  performance  than  previous  versions.   As  a
   result,  it  is the intent of the authors that this document serves as a
   catalyst for further discussions concerning the approach outline in this


Dunn et al.                  Expires May 2005                  [Page 1]
   draft-ietf-bmwg-fib-meth-02.txt                           October 2004


   draft.   The  purpose  of this document is to describe a methodology for                  
   measuring the impact of FIB generation from a given routing  information
   base  (RIB) on the forwarding performance of a router.  The objective is
   to determine whether a router can maintain performance levels as the RIB
   grows in size and complexity.



   This  document  utilizes  the  methodology  described  in  [METHOD]  for
   measuring the FIB-dependent throughput, FIB-dependent latency  and  FIB-
   dependent  frame  loss  rate  of  IP packets as they traverse the router
   under test.  The forwarding performance of a router should  be  observed
   under different RIB sizes and compositions.


2. Terms Of Reference


   This  document utilizes the methodologies for packet throughput, latency
   and loss measurements described in [METHOD].


   Definitions unique to this test methodology are covered in [FIB-TERM].


   The application of methodologies  described  in  this  document  is  not
   limited  to  IP  forwarding;  however,  it  is  beyond the scope of this
   document to explicitly describe their application. In this document, use
   of  the  term  IP is protocol version independent.  Traffic, RIB and FIB
   may be IPv4, IPv6 or both.


3. Overview


   The methodology described in this document is based on the precept  that
   the  FIB  is  formed  from  information  in the RIB and, possibly, other
   configured variables.  The methodology is independent of the particulars
   associated  with populating the RIB or setting these variables; however,
   this SHOULD be done using routing protocols, e.g., OSPF [OSPF].  RIB and
   FIB   contents  MAY  be  determined  either  through  observing  traffic
   forwarding  or  management  information   base   (MIB)   queries.    For
   completeness,  this determination SHOULD be made using both.  Generation
   of the FIB from the RIB based on three major components:


   - Interface Identifier - Route Optimization - Routing Policies


   The following three sub-sections describe  these  components  and  their
   effect on FIB generation.


   3.1 Interface Identifier


   The  interface identifier entry in the FIB establishes the physical path
   for datagram forwarding.  If the interface not active or down, the  path
   is  no  longer  available  and the entry SHOULD be removed from the FIB.
   Descriptions of interface identifiers are  contained  in  [MIB-BGP]  and
   [MIB-OSPF].  3.2 Route Optimization


   Route  optimization  seeks to minimize the overall effort on the part of


Dunn et al.                  Expires May 2005                  [Page 2]


   draft-ietf-bmwg-fib-meth-02.txt                           October 2004


   the  router  to  forward  datagrams.   Optimization  has   three   basic
   components:


   - Route Aggregation - Route Flap Damping - Route Metrics


   Route  aggregation  seeks  to  minimize the number of entries in the FIB
   corresponding to a set of reachable address  prefixes.   These  prefixes
   could  be  contiguous or overlapping.  Methods for route aggregation are
   described in [IDR].



   Route flap damping seeks to minimize unnecessary  re-generation  of  the
   FIB  based  on  unstable  routing  information.   Methods for route flap
   damping are described in [BGP-FLAP].


   Route metrics assign a relative weight or merit to a  particular  routed
   path.   Descriptions  of  these metrics are found in [MIB-BGP] and [MIB-
   OSPF].


   3.3 Routing Policies


   Routing policies are administrative restrictions or requirements on  the
   FIB.  The take two major forms:


   - Access Control Lists - Route Filters


   Access  control  lists can be used to explicitly allow or deny access to
   physical interfaces of network prefixes.  This can be done either on the
   basis of individual protocol addresses or entire prefixes.


   Route  filters are a set of protocol addresses or prefixes against which
   a given route will be matched. The resulting  action  of  a  match  will
   depend on the use of the route filter.


4.0  Methodology


   The methodologies for determining the effects of the three components of
   FIB generation are still under investigation.  The authors look  to  the
   BMWG for guidance, suggestions and constructive input.
















Dunn et al.                  Expires May 2005                  [Page 3]
   draft-ietf-bmwg-fib-meth-02.txt                           October 2004


   5. Security Considerations


   As  this  document  is  solely  for the purpose of providing performance
   methodologies  and  describes  neither  a  protocol  nor  a   protocol's
   implementation;   therefore,   there   are  no  security  considerations
   associated with this document.


6. Informative References


   [IPROC]  Bradner, S., "The Internet Standards Process  --  Revision  3",
   BCP  9,  RFC 2026, October 1996.  [FIB-TERM]  Trotter, G., " Terminology
   for Forwarding Information Base (FIB)  based  Router  Performance",  RFC
   3222, December, 2001.  [METHOD]  Bradner, S., McQuaid, J., "Benchmarking
   Methodology for Network Interconnect  Devices",  RFC  2544,  March  1999
   [OSPF]   Moy,  J,  "OSPF  Version  2,"  RFC 2328, April 1998.  [MIB-BGP]
   Willis, S., Burrus, J., Chu, J. "Definitions of Managed Objects for  the
   Fourth  Version of the Border Gateway Protocol (BGP-4) using SMIv2," RFC
   1657, July 1994.  [MIB-OSPF] Baker, F.,  Colton,  R.,  "OSPF  Version  2
   Management  Information Base," RFC 1850, November 1995.  [IDR] Chen, E.,
   Stewart, J., "A Framework for Inter-Domain Route Aggregation," RFC 2519,
   February  1999.   [BGP-FLAP]  Villamizar, C., Chandra, R., Govindan, R.,
   "BGP Route Flap Damping," RFC 2439, November 1998.


7. Acknowledgements


   The current authors would like to acknowledge  Guy  Trotter  of  Agilent
   Technologies  for his work on the first edition of this draft.  His work
   has spurred the current authors to consider a broader set of performance
   criteria for FIB generation.


8. Author's Addresses


   Jeffrey  Dunn SI International 12012 Sunset Hills Road Suite 800 Reston,
   VA 20190-5869 USA Ph: +1 703 234 6959 e-mail: jeffrey.dunn@si-intl.com


   Cynthia Martin SI  International  12012  Sunset  Hills  Road  Suite  800
   Reston, VA 20190-5869 USA Ph: +1 703 234 6962 e-mail: Cynthia.martin@si-
   intl.com


9.0 Intellectual Property Considerations


   The IETF takes no position  regarding  the  validity  or  scope  of  any
   Intellectual  Property  Rights  or other rights that might be claimed to
   pertain to the implementation or use of the technology described in this
   document  or  the extent to which any license under such rights might or
   might not be available; nor does it  represent  that  it  has  made  any
   independent  effort  to  identify  any  such  rights. Information on the
   procedures with respect to rights in RFC documents can be found  in  BCP
   78 and BCP 79.


   Copies  of  IPR  disclosures  made  to  the  IETF  Secretariat  and  any
   assurances of licenses to be made available, or the result of an attempt
   made  to  obtain  a  general  license  or permission for the use of such


Dunn et al.                  Expires May 2005                  [Page 4]


      draft-ietf-bmwg-fib-meth-02.txt                           October 2004


   proprietary  rights  by  implementers  or  users  of  this specification
   can   be   obtained   from   the   IETF   on-line   IPR   repository  at
   http://www.ietf.org/ipr.


   The IETF invites any interested party to  bring  to  its  attention  any
   copyrights,  patents or patent applications, or other proprietary rights
   that may cover  technology  that  may  be  required  to  implement  this
   standard.   Please   address  the  information  to  the  IETF  at  ietf-
   ipr@ietf.org.


   9.1 IPR Disclosure Acknowledgement


   By submitting this Internet-Draft, I certify that any applicable  patent
   or  other IPR claims of which I am aware have been disclosed, and any of
   which I become aware will be disclosed, in accordance with RFC 3668.


10. Full Copyright Statement


   Copyright (C) The Internet Society (2004).  This document is subject  to
   the rights, licenses and restrictions contained in BCP 78, and except as
   set forth therein, the authors retain all their rights.



   This document and the information contained herein are  provided  on  an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR
   IS SPONSORED  BY  (IF  ANY),  THE  INTERNET  SOCIETY  AND  THE  INTERNET
   ENGINEERING  TASK  FORCE  DISCLAIM  ALL  WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING  BUT  NOT  LIMITED  TO  ANY  WARRANTY  THAT  THE  USE  Of  THE
   INFORMATION   HEREIN  WILL  NOT  INFRINGE  ANY  RIGHTS  OR  ANY  IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
























Dunn et al.                  Expires May 2005                  [Page 5]