links = [* link]
link = {
     href: tstr    ; resource URI
     * tstr => value
value = tstr   ; text value -- the normal case
         / true   ; no value given, just the name
         / [2* tstr/true ] ; repeats for two or more

                   Figure 1: CoRE Link Format Data Model

links = [* link]
link = {
href => tstr    ; resource URI
href = 1
label = tstr / &(
     rel: 2,       anchor: 3,  rev: 4,
     hreflang: 5,  media: 6,   title: 7,
     type: 8,      rt: 9,      if: 10,
     sz: 11,       ct: 12,     obs: 13,
value = tstr   ; text value -- the normal case
         / true   ; no value given, just the name
         / [2* tstr/true ] ; repeats for two or more

               Figure 2: CoRE Link Format Data Model (CBOR)
PTOKENCHAR = %r"[\[\]\w!#-+\--/:<-?^-`{-~@]"
QUOSTRCHAR = %r{(?:[^"\\]|\\.)}    # to be used inside "
ATTRCHAR   = %r"[\w!#$&+.^`|~-]"
MUSTBEQUOTED = map_to_true(%w{anchor title rt if})
ANCHORNAME = "href"
SCANATTR =
RAWMAPPINGS = <<-DATA
MAPPINGS = Hash.new {|h, k| k}

wl = WLNK.new
ss = StringScanner.new(s.as_utf8)
res = { ANCHORNAME => ss[1].as_utf8 }
key = ss[1].as_utf8
value = ss[2] ||
                       (ss[3] ? ss[3].gsub(/\\(.)/) { $1 } : true)
res = res.dup
u = res.delete(ANCHORNAME)
lf = CoRE::Links.parse(ARGF.read)

