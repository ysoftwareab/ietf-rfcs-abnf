
Internet Engineering Task Force                                 J. Tian 
                                                               Motorola 
Internet Draft                                                  A.Helal 
Document: draft-tian-sa-mip-00.txt                University of Florida 
Expires: November 1 2006                                       May 2006 
    
    
                            MIP SPEED EXTENSION 
                                      
                        <draft-tian-sa-mip-00.txt> 
    
    
Status of this Memo 
    
   By submitting this Internet-Draft, each author represents that any 
   applicable patent or other IPR claims of which he or she is aware 
   have been or will be disclosed, and any of which he or she becomes 
   aware will be disclosed, in accordance with Section 6 of BCP 79. 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet- 
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt. 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
   This Internet-Draft will expire on November 1, 2006. 
    
Copyright Notice 
    
      Copyright (C) The Internet Society (2006). 
    
Abstract 
    
   The speed extension to the Mobile Internet Protocol provides a way 
   for the Foreign Agents and Home Agents to perceive the moving speed 
   of the Mobile Nodes. With the speed information popularized in the 
   mobile IP network, the behavior of the Mobile IP implementation with 
   speed adaptive algorithm implemented will automatically adapt to the 
   speed of the Mobile Node so that the performance of the Mobile IP 
   won’t decline dramatically in a rapid moving environment. At the same 
 
 
Tian & Helal            Expires - November 2006               [Page 1] 
                          MIP SPEED EXTENSION                 May 2006 
 
 
   time, the Mobile IP speed adaptive algorithm only requires reasonable 
   resources that are enough for seamless handoff.   
    
    
Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119 [i]. 
    
Table of Contents 
    
   1. Introduction...................................................2 
   2. Performance of MIP and the moving speed of MN..................3 
      2.1 Performance of MIP at different moving speeds..............3 
      2.2 Relationship between Performance of MIP and moving speeds of 
      MN.............................................................3 
   3. Speed adaptive MIP (SA-MIP)....................................4 
      3.1 Foreign Agent set size.....................................4 
      3.2 MIP speed extension........................................5 
      3.3 SA-MIP handoff procedure...................................6 
   4. Security Considerations........................................6 
   References........................................................7 
   Author's Addresses................................................7 
   Full Copyright Statement..........................................7 
   Acknowledgments...................................................8 
    
1. Introduction 
    
   While TCP/IP successfully overcomes the barriers of time and distance 
   in a wired network, mobile IP is a promising technology to eliminate 
   the barrier of location for the increasing wireless internet usage. 
   Third generation (3G) services combine high speed mobile access with 
   IP-based services. 3G networks are based on a set of radio technology 
   standards such as CDMA2000, EDGE and WCDMA. Mobile IP (MIP) can be 
   used as the common macro mobility management framework to merge all 
   these technologies and allow mobile users to roam between different 
   access networks. 
    
   Throughout history, the economic wealth of people or a nation has 
   been closely tied to transportation efficiency. A person can drive a 
   car on high way at speed of 80miles/h. Some high speed trains such as 
   France TGV, Japanese bullet, German maglev can travel at speeds of 
   over 200 miles/h. Could people surf the internet, communicate with 
   families and enjoy an online movie while traveling at high speeds? 
   Could the current network infrastructure support rapid mobility? 
    
   A review on recent research on MIP shows a great amount of efforts 
   contributed to reducing MIP handoff latency. [1] proposed two 
 
 
Tian & Helal            Expires - November 2006               [Page 2] 
                          MIP SPEED EXTENSION                 May 2006 
 
 
   mobility protocols, pre- and post-registration, using L2 trigger. In 
   pre- registration, MN may communicate with both oFA (old Foreign 
   Agent) and nFA (new Foreign Agent). In post-registration, data are 
   cached in nFA before the registration is completed. Fast-handover [2] 
   for Mobile IPv6 network combines the about two methods. But they all 
   depend on L2 (layer 2). S-MIP[3], uses MN location and movement 
   patterns to ‘instruct’ the MN when and how handoff should be carried 
   out. [4] also uses MN’s movement model to predict handoff. But all 
   these efforts didn’t consider the speed factor of MN, which may cause 
   problems when the MN moving rapidly. 
    
2. 
   Performance of MIP and the moving speed of MN 
    
   MIPv4[5] is designed independently from all Layer 2 technologies. In 
   order to evaluate the performance of MIP in rapid moving 
   environments, without losing generality, 802.11b is used as the Layer 
   2 technology to evaluate the performance of MIP. 
    
2.1 Performance of MIP at different moving speeds 
    
   The experiment results shows that the time-sequence graph and 
   throughput graph at speed 20m/s and Access Point(AP) distance 1000m 
   are similar to those graphs at speed 10m/s and AP distance 500m. Also 
   the time-sequence graph and throughput graph at speed 80m/s and AP 
   distance 1000m are similar to those graphs at speed 40m/s and AP 
   distance 500m, as well as those graphs at speed 20m/s and AP distance 
   250m. If double the moving speed of MN and at the same time double 
   the AP distance, the average throughput shows no suggestive 
   difference. 
    
2.2 Relationship between Performance of MIP and moving speeds of MN 
  
   The experiment also shows that the handoff overall time doesn’t 
   change with speed and effective time/total travel time ratio 
   decreases when the speed increases. 
    
   Let Pavg – Average throughput 
   Pmaxavg – Average throughput without handoff 
   Ttravel – Total travel time 
   Teffective – Total effective time for ftp transmission 
   Thandoff – Total handoff time while traveling 
   Khandoff – The number of handoffs while traveling 
   thandoff – Average handoff time among 7 times of handoff 
    
   Then, Pavg = (Pmaxavg / Ttravel ) x Teffetive  
   = Pmaxavg (Ttravel – Thandoff )/ Ttravel 
   = Pmaxavg (1 – Thandoff / Ttravel) 
   = Pmaxavg( 1 – Khandoff x thandoff / Ttravle) 
   = Pmaxavg( 1 – (Khandoff / Ttravle ) x thandoff ))  
 
 
Tian & Helal            Expires - November 2006               [Page 3] 
                          MIP SPEED EXTENSION                 May 2006 
 
 
    
   Since thandoff doesn’t change, The change of Pavg is caused by 
   Khandoff/Ttravel ratio.  
    
   Define MN handoff rate as rh = v/d, which is the ratio of the MN’s 
   speed and the cell size(AP distance). It means that how many APs or 
   FAs the MN hands over in one second. rh is also equal to Khandoff / 
   Ttravel. 
    
   The relationship between the performance of MIP over WLAN and the 
   moving speed is presented in the following equation:  
    
   Pavg = Pmaxavg( 1 – rh x thandoff )     (1) 
    
   Where Pavg is the average throughput for the MN; Pmaxavg is the 
   average throughput without handoff. thandoff is the average handoff 
   time (in second) for every handoff procedure. 
    
3. Speed adaptive MIP (SA-MIP) 
    
   Equation 1 shows that the performance of MIP depends on the MN 
   handoff rate. rh is also equal to the ratio of Khandoff/Ttravel, 
   where Khandoff is the number of handoffs occurred during the MN 
   traveling. Ttravel is MN’s total travel time. To reduce rh without 
   changing total travel time, the number of handoffs needs to be 
   reduced. The optimal is Khandoff = 0 
    
3.1 Foreign Agent set size. 
    
   Let N be the total FA numbers on the way MN travels. Let’s assume M 
   is the number of FAs with whom the MN can communicate without L3 
   handoff delay. The optimal is let M = N. But this costs too many 
   resources, especially when the number of active MNs is large. It's 
   hard to know how long the MN will travel at the beginning. 
    
   Let M be the size of the FA Set with whom the MN can communicate 
   without L3 handoff delay. From IP level of view, M is the number of 
   FAs that MN has registered to and can communicate with at that 
   moment. 
    
   Now the question is: 
   1. How to decide FA set size M 
   2. How to guarantee MN can communicate with a FA set almost like to 
   do with a single FA. 
    
   For question 1, equation 6 gives the FA set size. 
    
   M = | thandoff x rh | + 1     (2) 
    
 
 
Tian & Helal            Expires - November 2006               [Page 4] 
                          MIP SPEED EXTENSION                 May 2006 
 
 
   In this equation, thandoff is the handoff time for every handoff 
   procedure, and rh is the handoff rate. The value of thandoff can be 
   an experimental measurement result. rh is dynamic.  
    
   For question 2, the solution is to let MN pre-register M potential 
   FAs along the way MN travels, at the same time let IP packets be 
   multicasted to those M FAs in this FA set. So MN will not experience 
   any handoff delay from the IP level of view. 
    
   In SA-MIP, the set of FAs that MN can talk to without L3 latency is 
   extended from one point at low moving speed to a line at high moving 
   speed. The length of the line dynamically changes with the MN handoff 
   rate. The behavior of SA-MIP will automatically adapt to the handoff 
   rate of the MN so that the performance of SA-MIP won’t decline 
   dramatically in a rapid moving environment. At the same time, SA-MIP 
   only cost reasonable amount of resource that is appropriate for 
   seamless handoff.   
    
3.2 MIP speed extension 
    
   MN’s registration message is extended by speed extension. According 
   to Mobile IP Vendor/Organization-Specific Extensions[6]. Two 
   Vendor/Organization Specific Extensions are allowed for MIP, Critical 
   (CVSE) and Normal (NVSE) Vendor/Organization Specific Extensions. The 
   basic difference is when the CVSE is encountered but not recognized, 
   the message containing the extension must be silently discarded, 
   whereas when a NVSE is encountered but not recognized, the extension 
   should be ignored, but the rest of the Extensions and message data 
   must still be processed. the NVSE extension format is use for the 
   speed extension.  
    
      The format of the speed extension is as shown below. It follows 
   the format of NVSE extension. 
    
       0                   1                   2                   3 
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |  Type = 134   |    Length     |             reserved          | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                             Vendor/Org-ID                     | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |          Speed-Type           |       Speed-Value 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    
             Figure 1: Normal Vendor/Organization Specific Extension 
    
   Type        NVSE-TYPE-NUMBER 134 
    

 
 
Tian & Helal            Expires - November 2006               [Page 5] 
                          MIP SPEED EXTENSION                 May 2006 
 
 
   Length      Length in bytes of this extension, not including the   
               Type and Length bytes. 
    
   Reserved    Reserved for future use.  To be set to 0. 
    
   Vendor/Org-ID 
               The high-order octet is 0 and the low-order 3 octets are 
               the SMI Network Management Private Enterprise Code of the 
               Vendor in network byte order, as defined in the Assigned 
               Numbers RFC [7]. 5400 may be used here. 
    
   Speed-Type  Indicates the type of speedExtension. Number 10 indicates 
               the Speed-Value is an absolute speed value. Number 11  
               indicates the Speed-Value is value of handoff rate in  
               FAs/second. 
    
   Speed-Value When the Speed-Type is 10, this value is an absolute   
               speed value in meters/second. When the Speed-Type is 11, 
               this value is a handoff rate in FAs/second. 
    
3.3 SA-MIP handoff procedure 
    
   Whenever the MN needs to handoff to a new FA set, after it gets a new 
   agent advertisements, it sends a registration request with up-to-date 
   speed or handoff rate information to the very first FA in a new FA 
   set. The first FA relays the registration request to upper FA or HA. 
   Meanwhile, it decapsulates the speed extension, refill the MIP header 
   and authentication extension and then forward it to other FAs(M-1 
   FAs) in this FA set. These other FAs relay the registration request 
   to upper FA or HA as well, just like the request comes from the MN. 
   When the GFA or HA received these registration requests, it builds up 
   tunnels downwards to each FA and responses with a registration reply. 
   When the FA received the registration reply, it builds up tunnel 
   upwards to the GFA or HA. Whenever the MN setups the Link-layer 
   contact with the FA, the later forwards the registration reply to the 
   former. The MN gets the care-of-address from agent advertisement 
   message or registration reply message, and begins data communication. 
   At the same time, it sends registration request to the new FA with 
   up-to-date speed or handoff rate information. This new FA 
   decapsulates the registration request message and sets up a new FA 
   set. The new FA refill the MIP header and authentication extension 
   and then forward it to other FAs in this FA set and repeats the above 
   process. 
    
4. Security Considerations 
    
   This document assumes that the MIP registration messages with speed 
   extension are authenticated using a method defined by the Mobile IP 
   protocol.  This document does not impose any additional requirements 
 
 
Tian & Helal            Expires - November 2006               [Page 6] 
                          MIP SPEED EXTENSION                 May 2006 
 
 
   on Mobile IP messages from a security point of view.  So this is not 
   expected to be a security issue.  
    
References
                     
    
   [1]   K. El Malki et al., “Low latency handoffs in mobile IPv4”,IETF 
      draft-ietf-monileip-low-latency - handoffs -v4-04.txt, 2002 
    
   [2]   R. Koodli, "Fast Handovers for Mobile IPv6" IETF draft-ietf-
   mobileip-fast-mipv6-08.txt, 2003 
    
   [3]   R.Hsieh, G.Zhou, and A.Seneviratne, S-MIP: "A Seamless Handoff 
   Architecture for Mobile IP". Proceedings of INFOCOM, San Francisco, 
   2003 
    
   [4]   N.Van den Wijngaert, and C.Blondia, “An Urban Mobility Model 
   and Predictive Hando ver Scheme for Mobile IP”, Proceedings of 
   OPNETWORK 2004, Washington D.C., 2004. 
    
   [5]   C.Perkins,RFC3344,“IP Mobility Support for IPv4”, August 2002. 
    
   [6]   G. Dommety K. Leung, "Mobile IP Vendor/Organization-Specific 
   Extensions" RFC 3115, April 2001. 
    
   [7]   Reynolds, J. and J. Postel, "Assigned Numbers", STD 2, RFC 
   1700, October 1994 
    
Author's Addresses 
    
   Jun Tian 
   Motorola 
   600 North U.S. Highway 45, MS:AN2 
   Libertyville, IL 60048 
   Phone: 847-877-5809 
   Email: jacky.tian@motorola.com 
    
   Abdelsalam (Sumi) Helal 
   University of Florida 
   P.O. Box 116120 
   Gainesville, Florida 32611-6120  
   Phone: 352-392-6845 
   Email: helal@cise.ufl.edu  
    
Full Copyright Statement 
    
   Copyright (C) The Internet Society (2006).  This document is subject 
   to the rights, licenses and restrictions contained in BCP 78, and 

 
 
Tian & Helal            Expires - November 2006               [Page 7] 
                          MIP SPEED EXTENSION                 May 2006 
 
 
   except as set forth therein, the authors retain all their rights. 
    
   "This document and the information contained herein are provided on 
   an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE 
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE 
   INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR 
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF 
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
    
Acknowledgments 
    
   The authors would like to thank Janise McNair, Dapeng Wu, Paul 
   Fishwick and Markus Schneider for their useful discussions. 
    
    

































 
 
Tian & Helal            Expires - November 2006               [Page 8] 

