S_CR = S_CR + CC_R - FSE_R(f)

S_P = 0
S_P = S_P + P(i)
DELTA = CC_R - FSE_R(f)
S_CR = S_CR * CC_R / FSE_R(f)
S_CR = S_CR + DELTA
S_P = 0
S_P = S_P + P(i)
new_S_CR = new_S_CR + FSE_R(i)
DELTA =  CC_R - FSE_R(f)

S_CR = S_CR + DELTA
S_CR = new_S_CR + DELTA
S_P = S_P + P(i)
TLO = TLO + (P(f)/S_P) * S_CR - DR(f))
Rate = min(new_DR, (P(f)*S_CR)/S_P + TLO)

TLO = 0  // f has 'taken' TLO
S_CR = 1, TLO = 0



S_CR = 10, TLO = 0
S_CR = 11, TLO = 0



CC_R = 8. new_DR = infinity.
S_CR = 9, TLO = 0



CC_R=2. new_DR = infinity.
S_CR = 10, TLO = 0



CC_R=7. new_DR=2.
DR = min(2, 7) = 2.
S_CR = 11, TLO = 5.33
CC_R=4.33. new_DR = infinity.
S_CR = 12, TLO = 0



CC_R = 7.33. new_DR = infinity.
S_P = 0.5.
S_CR = 9.33, TLO = 0




