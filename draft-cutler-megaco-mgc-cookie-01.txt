

MEGACO                                                     Wayne Cutler
Internet Draft                                                  Marconi
                                                         Communications
Document: <draft-cutler-megaco-mgc-cookie-01.txt>             July 2001
Category: Informational


                   MGC Cookie Package for Megaco/H248


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as "work in
   progress."
   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.



1. Abstract

   This documents provides a proposed definition for a supplemental
   package to Megaco/H.248. The proposed package addresses support of
   functionality to enable a MGC to store information on a MG which can
   subsequently be retrieved via audit. The specific purpose for
   storing / retrieving data in this way is regarded as being solely
   the concern of the MGC. This draft merely proposes the means for
   supporting such capability.

   It is worth noting that one such use of this capability would be to
   facilitate MGC recovery action in the event of an MGC restart. This
   specific capability was described in a previous draft (draft-cutler-
   megaco-recvpkg-01.txt) which was presented at IETF49 in San Diego.
   This draft supercedes the previous one.

2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC-2119 [1].




Cutler                   Expires January 2002                        1
 
                  MGC Cookie Package for Megaco/H248         July 2001




3. MGC Cookie Package

   Package ID: mgcckie (0x????)
   Version : 1
   Extends: None

   This package defines a property to enable the MGC to store a cookie
   on a MG. The cookie may be stored against any MG termination (i.e.
   both real and ephemeral). The cookie may be retrieved via the audit
   mechanism. The cookie is treated by the MG as an opaque digit
   string.

3.1 Properties

   MGC Cookie

   Property ID : cookie (0x0001)
   Type : 1*64 (SAFECHAR)
   Possible Values : Any, as defined by the MGC
   Defined in : Local Control Descriptor
   Characteristics : Read/Write

3.2 Events

   None.

3.3 Signals

   None.

3.4 Statistics

   None.

3.5 Procedures

   The MGC may store a cookie against any MG termination. The cookie
   may be subsequently updated at will by the MGC. In general, a cookie
   may be stored against any existing termination irrespective of
   whether that termination is in a (non-null) context or not. However,
   since ephemeral terminations do not exist outside of a context, it
   follows an ephemeral termination must be related to a context in
   order for a cookie to be able to be stored against it.

   As mentioned previously, a specific use of this capability would be
   to facilitate MGC recovery action in the event of an MGC restart. As
   an illustration of this usage, consider the following scenario :-

   1) A MGC sets up a call between 2 ISUP trunk GWs.
   2) The orig. MG (MG1) has a circuit termination(C1) and an ephemeral
      termination (E1) in context CX1.


Cutler                   Expires January 2002                        2
 
                  MGC Cookie Package for Megaco/H248         July 2001


   3) The term. MG (MG2) has a circuit termination(C2) and an ephemeral
      termination (E2) in context CX2.
   4) At MG1, cookies are stored against C1 and E1 to identify the
      billing reference and far end GW connection respectively. Similar
      cookies are stored at MG2 against its terminations.
   5) During the speech phase, the MGC is restarted and loses knowledge
      of the active call. However, the RTP stream is unaffected and
      continues between the 2 MGs.
   6) Eventually the call releases and an ISUP-REL message is received
      by the MGC. The CIC in the message identifies termination C1 on
      MG1.
   7) Via audit of MG1, the MGC discovers CX1 and E1, plus associated
      cookies. This enables the billing reference to be re-learnt as
      well as identifying the far end (MG2) connection.
   8) Audit can be performed at MG2 to discover all related connection
      information (CX2, C2 and E2),
   9) MG2 can now be cleaned up and ISUP-REL message sent against the
      CIC corresponding to termination C2.
   10)Both MGs disconnected, both trunks released normally and billing
      terminated correctly. End users oblivious to the fact that the
      MGC restarted in mid call.


4. Formal Syntax

   As in [4], the package described in this draft may be encoded as
   ASN.1 or augmented Backus-Naur Form (BNF) [2].


5. Security Considerations

   MGs may be untrusted and therefore the MGC MAY choose to encrypt the
   stored cookie. For other security considerations, refer to [3].




9. References


   1  Bradner, S., "Key words for use in RFCs to Indicate Requirement
      Levels", BCP 14, RFC 2119, March 1997.

   2  Crocker.D & Overell.P (editors), "Augmented BNF for Syntax
      Specifications: ABNF", RFC 2234, November 1997.

   3  Cuervo et al, "Megaco Protocol", RFC 2885, August 2000.





10.  Acknowledgments


Cutler                   Expires January 2002                        3
 
                  MGC Cookie Package for Megaco/H248         July 2001





11. Author's Addresses

   Wayne Cutler
   Marconi Communications
   New Century Park
   Coventry CV3 1HJ
   England
   Phone: +44 24 76562417
   Email: wayne.cutler@marconi.com










































Cutler                   Expires January 2002                        4
 
                  MGC Cookie Package for Megaco/H248         July 2001



Full Copyright Statement

   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into







































Cutler                   Expires January 2002                        5
 