<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Stateless SRv6 Point-to-Multipoint Path</title>
<meta content="Huaimo Chen" name="author">
<meta content="Mike McBride" name="author">
<meta content="Yanhe Fan" name="author">
<meta content="Zhenbin Li" name="author">
<meta content="Xuesong Geng" name="author">
<meta content="Mehmet Toy" name="author">
<meta content="Aijun Wang" name="author">
<meta content="Lei Liu" name="author">
<meta content="Xufeng Liu" name="author">
<meta content="
       This document describes a solution for a SRv6 Point-to-Multipoint (P2MP) 
         Path/Tree to deliver the traffic from the ingress of the path to 
         the multiple egresses/leaves of the path in a SR domain.
         There is no state stored in the core of the network for a SR P2MP path 
         like a SR Point-to-Point (P2P) path in this solution. 
       
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-chen-pim-srv6-p2mp-path-04" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-chen-pim-srv6-p2mp-path-04-or0rep_p.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Stateless SRv6 P2MP</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Chen, et al.</td>
<td class="center">Expires 25 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-chen-pim-srv6-p2mp-path-04</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-22" class="published">22 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-25">25 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">H. Chen</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">M. McBride</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">Y. Fan</div>
<div class="org">Casa Systems</div>
</div>
<div class="author">
      <div class="author-name">Z. Li</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">X. Geng</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">M. Toy</div>
<div class="org">Verizon</div>
</div>
<div class="author">
      <div class="author-name">A. Wang</div>
<div class="org">China Telecom</div>
</div>
<div class="author">
      <div class="author-name">L. Liu</div>
<div class="org">Fujitsu</div>
</div>
<div class="author">
      <div class="author-name">X. Liu</div>
<div class="org">Volta Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Stateless SRv6 Point-to-Multipoint Path</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes a solution for a SRv6 Point-to-Multipoint (P2MP) 
         Path/Tree to deliver the traffic from the ingress of the path to 
         the multiple egresses/leaves of the path in a SR domain.
         There is no state stored in the core of the network for a SR P2MP path 
         like a SR Point-to-Point (P2P) path in this solution.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2"></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>
      when, and only when, they appear in all
      capitals, as shown here.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 25 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-of-p2mp-multicast-" class="xref">Overview of P2MP Multicast Tree</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-encoding-p2mp-multicast-tre" class="xref">Encoding P2MP Multicast Tree</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-procedures-behaviors" class="xref">Procedures/Behaviors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-procedure-behavior-on-ingre" class="xref">Procedure/Behavior on Ingress Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-procedure-behavior-on-trans" class="xref">Procedure/Behavior on Transit Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-procedure-behavior-on-egres" class="xref">Procedure/Behavior on Egress Node</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-stateless-srv6-p2mp-path-fo" class="xref">Stateless SRv6 P2MP Path for Ingress</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-protection" class="xref">Protection</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-global-protection" class="xref">Global Protection</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-local-protection" class="xref">Local Protection</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-example-ipv6-header-using-g" class="xref">Example IPv6 Header using G-SRv6</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Segment Routing (SR) for unicast or Point-to-Point (P2P) path
        is described in <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>. 
        For SR multicast or Point-to-Multipoint (P2MP) path/tree, 
        it may be implemented through using multiple SR P2P paths.
        The function of a SR P2MP path/tree from an ingress node to 
        multiple (say n) egress/leaf nodes is implemented by n SR P2P
        paths. These n P2P paths are from the ingress to those n egress/leaf 
        nodes of the P2MP path/tree. 
        This solution may waste some network resources such as 
        link bandwidth.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">An alternative solution proposed in 
        <span>[<a href="#I-D.shen-spring-p2mp-transport-chain" class="xref">I-D.shen-spring-p2mp-transport-chain</a>]</span> 
        uses a number of P2MP chain tunnels to implement a P2MP path/tree
        from an ingress to n egress/leaf nodes. 
        Each P2MP chain tunnel is a tunnel from the ingress to a leaf node as
        its tail end and may have some leaf nodes as its bud nodes along the tunnel.
        This alternative solution improves the usage of network resources
        over the solution above using pure P2P paths.
        However, these two solutions are based on SR P2P paths.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">A solution for a SR P2MP path/tree using a P2MP multicast tree is
        proposed in <span>[<a href="#I-D.ietf-pim-sr-p2mp-policy" class="xref">I-D.ietf-pim-sr-p2mp-policy</a>]</span>.       
        For a SR P2MP path/tree from an ingress/root to multiple egress/leaf nodes, 
        a multicast P2MP tree is created to
        deliver the traffic from the ingress/root to the egress/leaf nodes. 
        The state of the tree
        is instantiated in the forwarding plane by a controller such as PCE at
        Root node, intermediate Replication nodes and Leaf nodes of the tree.
        This is not consistent with the SR principles in which no state is stored 
        at the core of the network.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document describes a new solution for a SRv6 Point-to-Multipoint (P2MP) 
        Path/Tree to deliver the traffic from the ingress of the path to 
        the multiple egresses/leaves of the path in a SR domain.
        This solution uses a P2MP multicast tree without storing 
        its state in the core of the network for a SR P2MP path/tree 
        like a SR P2P path. 

        For distinguishing a SRv6 P2MP path/tree used in the other solutions
        with storing some states in the core, 
        a new name, called stateless SRv6 P2MP path/tree, is used in
        the solution in this document.
        Even though SRv6 P2MP path/tree and stateless SRv6 P2MP path/tree
        are used interchangably in the document, 
        they both mean stateless SRv6 P2MP path/tree.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-overview-of-p2mp-multicast-">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-of-p2mp-multicast-" class="section-name selfRef">Overview of P2MP Multicast Tree</a>
      </h2>
<p id="section-2-1">For a SR P2P path from its ingress to its egress, 
        a segment list for the path is provided to the ingress.
        The ingress pushes the list into a packet, and the packet 
        is delivered to the egress according to the segment list 
        without any state in the core of the network.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">For a SR P2MP path from its ingress to multiple egress/leaf nodes, 
        a segment list for the P2MP path is provided to the ingress.
        The ingress pushes the list into a packet, and the packet 
        is delivered to the multiple egress/leaf nodes according to 
        the segment list without any state in the core of the network.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3"><a href="#p2mp-path-R-L14" class="xref">Figure 1</a> 
       shows a SR P2MP path from ingress/root R to four egress/leaf nodes 
       L1, L2, L3 and L4. 
       Nodes P1, P2, P3 and P4 are the transit nodes of the P2MP path.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">Suppose that X-m is the segment identifier (SID) of node X. 
       X-m is an adjacent SID or node SID. 
       For simplicity, we assume X-m is a node SID in the illustrations below.
       R-m, P1-m, P2-m, P3-m, P4-m, L1-m, L2-m, L3-m and L4-m are the SIDs 
       of the nodes on the SR P2MP path. 
       They are multicast SIDs or replication SIDs in general.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">A multicast SID is a SID from a multicast SID block. 
       In a SR domain supporting SR multicast, 
       each node has a multicast node SID, 
       which is globally significant; 
       each adjacency of a node has a multicast adjacency SID, 
       which is locally significant. 
       A multicast SID of a node on a SR P2MP path is associated with 
       the SIDs of the next hop (or say downstream) nodes. 
       When the node receives a packet with its multicast SID, 
       it duplicates and sends the packet to each of the next hop nodes
       according to their SIDs.<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">If node P on a SR P2MP path has B (B &gt; 1) next hop nodes along 
       the path,
       the SID of node P, P-m, MUST be a multicast SID when it is in the 
       segment list for the P2MP path. 

       The SIDs of the B next hop nodes just follow P-m in the segment list.
       When node P receives the packet with P-m, 
       it duplicates and sends the packet to each of the B next hop nodes
       along the P2MP path.<a href="#section-2-6" class="pilcrow">¶</a></p>
<span id="name-sr-p2mp-path-from-r-to-l1-l"></span><div id="p2mp-path-R-L14">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-7.1">
<pre>
                   [L1]                  R Ingress/Root
                   /                    Li Egress/Leaf
                  /                     Pi Transit Node
                 /
               [P2]------[L2]
               /
              /
             /
  [R]------[P1]                [L3]
             \                /
              \              /
               \            /
               [P3]------[P4]------[L4]
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-sr-p2mp-path-from-r-to-l1-l" class="selfRef">SR P2MP Path from R to L1, L2, L3 and L4</a>
        </figcaption></figure>
</div>
<p id="section-2-8">&lt;P1-m, P2-m, P3-m, L1-m, L2-m, P4-m, L3-m, L4-m&gt; is a segment list 
       for the SR P2MP path in <a href="#p2mp-path-R-L14" class="xref">Figure 1</a> 
       to be pushed into a packet at ingress/root R.
       Node P1 has 2 next hop nodes P2 and P3 along the P2MP path.
       The next hop nodes' SIDs P2-m and P3-m follow P1-m, 
       which is P1's multicast SID. 
       When P1 receives a packet transported by the P2MP path,
       it duplicates and sends the packet to the next hop nodes P2 and P3
       according to P1-m, P2-m and P3-m.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">The number of branches or next hops from node P1 is a value of 
       one argument in P1-m, called N-Branches. 
       The value of N-Branches in P1-m is 2. 
       With this information, node P1 duplicates and sends the packet 
       to 2 next hop nodes P2 and P3, which are indicated by the 2 
       SIDs P2-m and P3-m following P1-m.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">The number of SIDs of the nodes under node P1 is a value of 
       another argument in P1-m, called N-SIDs. 
       The value of N-SIDs in P1-m is 7, indicating that there are 7
       SIDs following P1-m in the segment list.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">There are 2 branches or next hops (i.e., L1 and L2) from node P2 and
       2 SIDs (i.e., L1-m and L2-m) of the nodes under node P2. 
       The values of N-Branches and N-SIDs in P2-m are 2 and 2.
       with this information, before sending the packet to node P2, 
       node P1 pushes the SIDs under node P2 into the packet (i.e., 
       the packet has a new segment list with the SIDs under node P2. 
       The new segment list replaces the old one in the packet).<a href="#section-2-11" class="pilcrow">¶</a></p>
<p id="section-2-12">There are 1 branch or next hop (i.e., P4) from node P3 and
       3 SIDs (i.e., P4-m, L3-m and L4-m) of the nodes under node P3. 
       The values of N-Branches and N-SIDs in P3-m are 1 and 3 respectively.
       with this information, before sending the packet to node P3, 
       node P1 pushes the SIDs under node P3 into the packet.<a href="#section-2-12" class="pilcrow">¶</a></p>
<p id="section-2-13">Each node on the SR P2MP path sends the packet to
       its next hop nodes according to the segment list and 
       no state is stored in any transit node (i.e., the core of the network).
       The packet is delivered to the egress/leaf nodes from the ingress.<a href="#section-2-13" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-encoding-p2mp-multicast-tre">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-encoding-p2mp-multicast-tre" class="section-name selfRef">Encoding P2MP Multicast Tree</a>
      </h2>
<p id="section-3-1">For each sub-tree STi of a SR P2MP path from the ingress node 
         of the P2MP path, suppose that<a href="#section-3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.1">the multicast SID of the next hop node NHi is mSIDi;<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-2.2">there are Bi branches (i.e., outgoing interfaces) to the next hop node 
         BNHj (j = 1, ..., Bi) from node NHi along the sub-tree, 
         the multicast SID of BNHj is mSIDij;<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-2.3">the number of branches (i.e., outgoing interfaces) under the node BNHj 
         (j = 1, ..., Bi) is BBj; and

         the number of SIDs of the nodes under each of the Bi branches 
         from node BNHj is NSj (j = 1, ..., Bi).<a href="#section-3-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-3">Sub-tree STi is encoded as segment list<a href="#section-3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-4">
<pre>
      &lt; mSIDi,  mSIDi1, ..., mSIDiBi,   SegSeq1, ...,  SegSeqBi  &gt;,
        \___/  \____________________/   \______/      \________/
SIDs of  NHi    Bi branches/next-hops   sub-tree       sub-tree
                BNHj of node NHi        from BNH1      from BNHBi
</pre><a href="#section-3-4" class="pilcrow">¶</a>
</div>
<p id="section-3-5">
         where mSIDi contains the number of branches, Bi, in its N-Branches field, 
         and the number of SIDs under mSIDi in its N-SIDs field; 
         mSIDij (j = 1, ..., Bi) contains the number of branches, BBj, 
         in its N-Branches field and the number of SIDs, NSj, in its N-SIDs field; 
         SegSeqj (j = 1, ..., Bi) is the SID sequence in the segment list 
         encoding the sub-trees from node BNHj.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">For the P2MP path in Figure 1 
         from ingress node R to egress nodes L1, L2, L3 and L4, 
         there is one sub-tree from R.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">For this sub-tree,<a href="#section-3-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-8.1">the next hop node is P1 and the multicast SID of P1 is P1-m;<a href="#section-3-8.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-8.2">there are 2 branches to the next hop nodes P2 and P3 from node P1 
         along the sub-tree; the number of SIDs of the nodes under P1 is 7;
         the multicast SIDs of P2 and P3 are P2-m and P3-m respectively;<a href="#section-3-8.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-8.3">the numbers of SIDs of the nodes under these two branches are 
         2 and 3 respectively. 
         The SIDs of the nodes under P2 are L1-m and L2-m. 
         The SIDs of the nodes under P3 are P4-m, L3-m and L4-m.<a href="#section-3-8.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-9">The sub-tree is encoded as segment list<a href="#section-3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-10">
<pre>
      &lt; P1-m,  P2-m, P3-m,          L1-m, L2-m,  P4-m, L3-m, L4-m &gt;,
        \__/  \___________/         \________/   \______________/
SIDs of  P1   2 branches/next-hops   sub-tree     sub-tree
              P2 and P3 of node P1   from P2      from P3
    where
      P1-m's N-Branches field is set to 2 and its N-SIDs field to 7;
      P2-m's N-Branches field is set to 2 and its N-SIDs field to 2;
      P3-m's N-Branches field is set to 1 and its N-SIDs field to 3;

      L1-m and L2-m are the SID sequence in the segment list encoding
      the sub-trees from P2;

      P4-m, L3-m and L4-m are the SID sequence in the segment list
      encoding the sub-trees from P3; and

      P4-m's N-Branches field is set to 2 and its N-SIDs field to 2.
</pre><a href="#section-3-10" class="pilcrow">¶</a>
</div>
<p id="section-3-11"><a href="#srh-p2mp-p1-2-l1-4" class="xref">Figure 2</a> 
         shows in details the segment list, 
         which is an encoding of the P2MP multicast tree for the 
         SR P2MP path from R to L1, L2, L3 and L4.<a href="#section-3-11" class="pilcrow">¶</a></p>
<span id="name-encoding-of-p2mp-multicast-"></span><div id="srh-p2mp-p1-2-l1-4">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-3-12.1">
<pre>
                              N-Branches   N-SIDs
 +---------------------------+-----------+-----------+--------------+
 | P1's Multicast SID Locator|     2     |     7     |  Arguments   | P1-m
 +---------------------------+-----------+-----------+--------------+
 | P2's Multicast SID Locator|     2     |     2     |  Arguments   | P2-m
 +---------------------------+-----------+-----------+--------------+
 | P3's Multicast SID Locator|     1     |     3     |  Arguments   | P3-m
 +---------------------------+-----------+-----------+--------------+
 | L1's Multicast SID Locator|     0     |     0     |  Arguments   | L1-m
 +---------------------------+-----------+-----------+--------------+
 | L2's Multicast SID Locator|     0     |     0     |  Arguments   | L2-m
 +---------------------------+-----------+-----------+--------------+
 | P4's Multicast SID Locator|     2     |     2     |  Arguments   | P4-m
 +---------------------------+-----------+-----------+--------------+
 | L3's Multicast SID Locator|     0     |     0     |  Arguments   | L3-m
 +---------------------------+-----------+-----------+--------------+
 | L4's Multicast SID Locator|     0     |     0     |  Arguments   | L4-m
 +---------------------------+-----------+-----------+--------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-encoding-of-p2mp-multicast-" class="selfRef">Encoding of P2MP Multicast Tree from R to L1 - L4</a>
        </figcaption></figure>
</div>
<p id="section-3-13">
         SID P1-m indicates that there are 2 branches and 7 SIDs under P1. 
         SID P2-m indicates that there are 2 branches and 2 SIDs under P2. 
         SID P3-m indicates that there are 1 branch and 3 SIDs under P3.
         SIDs L1-m and L2-m indicate that there is no branch under them. 
         SID P4-m indicates that there are 2 branches and 2 SIDs under P4. 
         L3-m and L4-m indicate that there is no branch under them.<a href="#section-3-13" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-procedures-behaviors">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-procedures-behaviors" class="section-name selfRef">Procedures/Behaviors</a>
      </h2>
<p id="section-4-1">This section describes the procedures or behaviors on 
         the ingress, transit and egress/leaf node of a SR P2MP path
         to deliver a packet received from the path to its destinations.<a href="#section-4-1" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-procedure-behavior-on-ingre">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-procedure-behavior-on-ingre" class="section-name selfRef">Procedure/Behavior on Ingress Node</a>
        </h3>
<p id="section-4.1-1">For a packet to be transported by a SR P2MP Path, 
         the ingress of the P2MP path duplicates the packet for each sub-tree 
         of the SR P2MP path branching from the ingress, 
         pushes the segment list encoding the sub-tree into the packet 
         by executing H.Encaps 
         <span>[<a href="#I-D.ietf-spring-srv6-network-programming" class="xref">I-D.ietf-spring-srv6-network-programming</a>]</span>
         and 
         sends the packet to the next hop node along the sub-tree.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Regarding to the finite size of the segment list,  
         a sub-tree can be "split" into multiple sub-trees such that 
         each of the sub-trees can be encoded in the segment list of 
         the finite size.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">For example, there is one sub-tree from the ingress R of the SR P2MP path 
         in <a href="#p2mp-path-R-L14" class="xref">Figure 1</a> via next hop node P1 
         towards egress/leaf nodes L1, L2, L3 and L4.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">For this sub-tree, the ingress R duplicates the packet, 
         set the destination address (DA) to P1-m (i.e., multicast SID of node P1), 
         pushes the segment list without P1-m 
         (i.e., &lt;P2-m, P3-m, L1-m, L2-m, P4-m, L3-m, L4-m&gt;) 
         encoding the sub-tree 
         in a Segment  Routing Header (SRH) of the packet by executing H.Encaps 
         and 
         sends the packet to DA (i.e., node P1).  

         The contents of the multicast SIDs P1-m, P2-m, P3-m, L1-m, L2-m, P4-m, 
         L3-m, L4-m are shown in <a href="#srh-p2mp-p1-2-l1-4" class="xref">Figure 2</a>.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">
Suppose that the duplicated packet is Pkt0 for the sub-tree.
The execution of H.Encaps pushes an IPv6 header (i.e., SRH) to Pkt0 and 
sets some fields in the header to produce an encapsulated packet Pkt'.
Pkt' is represented in the following:<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-6">
<pre>
    Pkt' = (SA=R, DA=P1-m)( L4-m, L3-m,..., P3-m,P2-m; SL=7)Pkt0
                           \________________________/
           corresponds to: &lt;P2-m,P3-m, ..., L3-m,L4-m&gt;
</pre><a href="#section-4.1-6" class="pilcrow">¶</a>
</div>
<p id="section-4.1-7">

where DA=P1-m means that the destination address (DA) is set to P1-m;
SA=R means that the source address (SA) is set to R;
SL=7 means that the number of Segments Left (SL) is 7.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-procedure-behavior-on-trans">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-procedure-behavior-on-trans" class="section-name selfRef">Procedure/Behavior on Transit Node</a>
        </h3>
<p id="section-4.2-1">When a transit node of a SR P2MP path receives a packet 
         transported by the P2MP path, the DA of the packet is a 
         multicast SID of the node and the packet contains a segment list 
         for the sub-trees under the transit node. 
         The DA and the segment list comprise the information for encoding 
         the sub-trees.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">For example, when node P1 receives a packet transported by the SR 
         P2MP path in  <a href="#p2mp-path-R-L14" class="xref">Figure 1</a>, 
         the packet's DA is P1-m (which is a multicast SID of node P1) and 
         the segment list in the packet is 
         &lt;P2-m, P3-m, L1-m, L2-m, P4-m, L3-m, L4-m&gt;.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">The N-Branches field (which has value of n) of the DA indicates that 
         there are n branches (or say sub-trees) under the transit node. 
         The N-SIDs field of the DA indicates the number of SIDs for these n 
         sub-trees under the transit node. 
         The multicast SIDs of the next hop nodes of these n sub-trees are 
         the first n multicast SIDs of the segment list in the packet.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">For example, the N-Branches field (which has value of 2) of DA = P1-m 
         indicates that there are 2 branches (or say sub-trees) under node P1. 
         The N-SIDs field (which has value of 7) of the DA = P1-m indicates 
         that there are 7 SIDs for these 2 sub-trees under node P1.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">The first multicast SID (P2-m) of the segment list is the SID of 
         the next hop node (P2) of the first sub-tree; 
         The second multicast SID (P3-m) of the segment list is the SID of 
         the next hop node (P3) of the second sub-tree.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<p id="section-4.2-6">After the multicast SIDs of the next hop nodes, 
         there are n blocks of SIDs for those n sub-trees. 
         The N-SIDs field (which has value of B1) of the first multicast SID 
         of the next hop nodes indicates that there are B1 SIDs 
         in the first block for the first sub-tree; 
         the N-SIDs field (which has value of B2) of the second multicast SID 
         of the next hop nodes indicates that there are B2 SIDs 
         in the second block for the second sub-tree after the first block; 
         and so on.<a href="#section-4.2-6" class="pilcrow">¶</a></p>
<p id="section-4.2-7">For example, there are 2 blocks of SIDs for the 2 sub-trees 
         under node P1 after the multicast SIDs P2-m and P3-m of 
         the next hop nodes P2 and P3. 
         The N-SIDs field of P2-m (the first multicast SID of the next hop nodes) 
         has value of  2, indicating that there are 2 SIDs in the first block 
         for the first sub-tree, which are L1-m and L2-m.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
<p id="section-4.2-8">The N-SIDs field of P3-m (the second multicast SID of the next hop nodes) 
         has value of 3, indicating that there are 3 SIDs in the second block 
         for the second sub-tree after the first block, 
         which are P4-m, L3-m and L4-m.<a href="#section-4.2-8" class="pilcrow">¶</a></p>
<p id="section-4.2-9">The transit node duplicates the packet without top header 
         for each sub-tree under it and 
         adds a new header with a new segment list built from the SID block 
         for the sub-tree to the duplicated packet by executing H.Encaps. 

         It sets the DA of the packet to the multicast SID of the next hop node 
         along the sub-tree and sends the packet to the DA.<a href="#section-4.2-9" class="pilcrow">¶</a></p>
<p id="section-4.2-10">For example, node P1 duplicates the packet for the first sub-tree 
        towards L1 and L2 and 
        adds a new header with a new segment list &lt;L1-m, L2-m&gt;.

        It sets DA = P2-m (multicast SID of next hop P2), and 
        sends the packet to the DA (i.e., P2).<a href="#section-4.2-10" class="pilcrow">¶</a></p>
<p id="section-4.2-11">
Suppose that the duplicated packet is Pkt0 for the sub-tree.
The execution of H.Encaps pushes a new IPv6 header (i.e., SRH) to Pkt0 and 
sets some fields in the header to produce an encapsulated packet Pkt'.
Pkt' is represented in the following:<a href="#section-4.2-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2-12">
<pre>
    Pkt' = (SA=P1, DA=P2-m)( L2-m, L1-m;  SL=2)Pkt0.
                            \__________/
          corresponds to:   &lt;L1-m, L2-m&gt;
</pre><a href="#section-4.2-12" class="pilcrow">¶</a>
</div>
<p id="section-4.2-13">
where DA=P2-m means that the destination address (DA) is set to P2-m;
SA=P1 means that the source address (SA) is set to P1;
SL=2 means that the number of Segments Left (SL) is 2.<a href="#section-4.2-13" class="pilcrow">¶</a></p>
<p id="section-4.2-14">Node P1 duplicates the packet for the second sub-tree via P3 
         towards L3 and L4 and 
         adds a new header with a new segment list &lt;P4-m, L3-m, L4-m&gt;. 
         
         It sets DA = P3-m (multicast SID of next hop P3), and 
         sends the packet to the DA (i.e., P3).<a href="#section-4.2-14" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-procedure-behavior-on-egres">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-procedure-behavior-on-egres" class="section-name selfRef">Procedure/Behavior on Egress Node</a>
        </h3>
<p id="section-4.3-1">When an egress node of a SR P2MP path receives a packet transported 
         by the P2MP path, the DA of the packet is a SID of the egress node. 
         The egress node sends the packet to its destination accordingly.
         If the SID is a multicast SID of the egress, the N-Branches field 
         and N-SIDs field are all zeros.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
</section>
</section>
<div id="path4-ingress">
<section id="section-5">
      <h2 id="name-stateless-srv6-p2mp-path-fo">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-stateless-srv6-p2mp-path-fo" class="section-name selfRef">Stateless SRv6 P2MP Path for Ingress</a>
      </h2>
<p id="section-5-1">A controller such as PCE can compute a 
         stateless SRv6 P2MP path and send it to its ingress.
         For a packet to be transported by the path,
         the ingress encapsulates the packet with the path and
         the packet will be delivered to the egresses of the path
         without any states in the network core.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">An example architecture using PCE as a controller is 
         illustrated in <a href="#arch-pce4-path-1" class="xref">Figure 3</a>.

         There is a connection (i.e., PCE session) between the PCE 
         and (the PCC running on) each of the PEs, which are 
         possible ingress nodes in the network domain. 

         Note that some of connections between the PCE and PEs
         are not shown in the figure.<a href="#section-5-2" class="pilcrow">¶</a></p>
<span id="name-architecture-using-pce"></span><div id="arch-pce4-path-1">
<figure id="figure-3">
        <div class="alignLeft art-text artwork" id="section-5-3.1">
<pre>
                   +------------------------------------+
                   |                 PCE                |
                   +------------------------------------+
                   /                                    \
                  /                                      \
                 /    ~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~~\~^~
                /   _(      (P2)---------(P3)-----------(PE2)  )
               /   (        /              \_______      /      )
              /  _(        /                _______)____/        )
             / _(         /                /      (_____         )
            /_(          /                /             \       )
           /(           /                /               \      )
(CE) --- (PE1)--------(P1)-------------(P4)-------------(PE3)    )
           ( \          \                \                      )
           (  \          \                \       Network      )
           (   \          \                \                    )
            (_ (PE5)------(P5)------------(PE4)                 )
              (                                                )
               '---._.-.-._.-._.-.-._.-._.-.-._.-.-._.-.-._.-.)</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-architecture-using-pce" class="selfRef">Architecture using PCE</a>
        </figcaption></figure>
</div>
<p id="section-5-4">

         The PCE has the information about the network domain from
         the IGP or BGP (BGP-LS). The information includes 
         link bandwidth, link colors, node SIDs, and so on.

         A separate multicast SID could be provisioned on every 
         replication node
         and the PCE gets the SID on the node from IGP or BGP.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">The PCE maintains the current status of the network resource
         usage in its local TED (Traffic Engineering Database), and 
         the status of every stateless SRv6 P2MP path in its local
         LSP-DB (Label Switch Path Database).<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">Upon receiving a request for a stateless SRv6 P2MP path from
         a user or application, 
         the PCE computes a path based on the network resource  
         availability stored in the TED.

         After a path satisfying the given constraints is found,
         the PCE constructs a stateless SRv6 P2MP path using the 
         multicast SIDs of the nodes on the path and 
         encodes the structure of the P2MP path/tree into
         the parameters of the SIDs. 
         In fact, the stateless SRv6 P2MP path is a segment list
         consisting of multicast SIDs with parameter values.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">And then the PCE sends the segment list representing the path 
         to the ingress node of the path
         in a PCEP message such as PCInitiate. 

         After receiving the path from the PCE, 
         the ingress node establishes the path by 
         creating a forwarding entry in its FIB.
         For every multicast packet to be transported by the path,
         the forwarding entry encapsulates the packet with the segment list
         and the packet will be delivered to the egress nodes of the path
         along the path without any state in the core of the network.<a href="#section-5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="protect">
<section id="section-6">
      <h2 id="name-protection">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-protection" class="section-name selfRef">Protection</a>
      </h2>
<p id="section-6-1">Protections for a SR P2MP path can be classified into two types: 
         global protection and local protection.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="g-protect">
<section id="section-6.1">
        <h3 id="name-global-protection">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-global-protection" class="section-name selfRef">Global Protection</a>
        </h3>
<p id="section-6.1-1">For a primary SR P2MP path from an ingress node R1 to multiple 
         egress nodes Li (i = 1, ..., n),
         a backup SR P2MP path from an ingress node R1' to multiple 
         egress nodes Li' (i = 1, ..., n)
         is set up to provide global protection for the primary SR P2MP path.
         If R1' is the same as R1, 
         the failure of the ingress node R1 of the primary SR P2MP path is not
         protected; otherwise (i.e., 
         R1' and R1 are different and connected to the same traffic source), 
         the failure of the ingress node R1 is protected.
         If Li' is the same as Li (i = 1, ..., n), 
         the failure of the egress nodes Li (i = 1, ..., n) of 
         the primary SR P2MP path is not
         protected; otherwise (i.e., 
         Li' and Li are different and connected to the same destination), 
         the failure of the egress nodes Li is protected.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">When a failure happens on the primary SR P2MP path and 
          is detected by the source of the traffic or other entity, 
          the traffic to be transported by the primary SR P2MP path
          is switched to the backup SR P2MP path, which sends
          the traffic from its ingress node R1' to its egress nodes Li' 
          (i = 1, ..., n).<a href="#section-6.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="l-protect">
<section id="section-6.2">
        <h3 id="name-local-protection">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-local-protection" class="section-name selfRef">Local Protection</a>
        </h3>
<p id="section-6.2-1">Local protection or say Fast Reroute (FRR) of a node and
          adjacency segment on a SR P2P path is proposed in 
          <span>[<a href="#I-D.ietf-rtgwg-segment-routing-ti-lfa" class="xref">I-D.ietf-rtgwg-segment-routing-ti-lfa</a>]</span> and 
          <span>[<a href="#I-D.ietf-rtgwg-srv6-egress-protection" class="xref">I-D.ietf-rtgwg-srv6-egress-protection</a>]</span>.
          It can be applied to 
          FRR of a node and adjacency segment on a SR P2MP path 
          in a similar way. 
          But FRR for SR P2MP path is more complicated.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">More details will be added later.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">TBD<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">TBD<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Acknowledgements">
<section id="section-9">
      <h2 id="name-acknowledgements">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-9-1">The authors would like to thank Acee Lindem, Jeffrey Zhang
         and Daniel Voyer
         for their valuable comments and suggestions on this draft.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-6man-segment-routing-header">[I-D.ietf-6man-segment-routing-header]</dt>
        <dd>
<span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Dukes, D.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6man-segment-routing-header-26</span>, <time datetime="2019-10-22" class="refDate">22 October 2019</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-6man-segment-routing-header-26.txt">https://www.ietf.org/archive/id/draft-ietf-6man-segment-routing-header-26.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-rtgwg-segment-routing-ti-lfa">[I-D.ietf-rtgwg-segment-routing-ti-lfa]</dt>
        <dd>
<span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Francois, P.</span>, <span class="refAuthor">Decraene, B.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"Topology Independent Fast Reroute using Segment Routing"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtgwg-segment-routing-ti-lfa-07</span>, <time datetime="2021-06-29" class="refDate">29 June 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-rtgwg-segment-routing-ti-lfa-07.txt">https://www.ietf.org/archive/id/draft-ietf-rtgwg-segment-routing-ti-lfa-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-rtgwg-srv6-egress-protection">[I-D.ietf-rtgwg-srv6-egress-protection]</dt>
        <dd>
<span class="refAuthor">Hu, Z.</span>, <span class="refAuthor">Chen, H.</span>, <span class="refAuthor">Chen, H.</span>, <span class="refAuthor">Wu, P.</span>, <span class="refAuthor">Toy, M.</span>, <span class="refAuthor">Cao, C.</span>, <span class="refAuthor">He, T.</span>, <span class="refAuthor">Liu, L.</span>, and <span class="refAuthor">X. Liu</span>, <span class="refTitle">"SRv6 Path Egress Protection"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtgwg-srv6-egress-protection-04</span>, <time datetime="2021-10-17" class="refDate">17 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-rtgwg-srv6-egress-protection-04.txt">https://www.ietf.org/archive/id/draft-ietf-rtgwg-srv6-egress-protection-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spring-srv6-network-programming">[I-D.ietf-spring-srv6-network-programming]</dt>
        <dd>
<span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Garvia, P. C.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-srv6-network-programming-28</span>, <time datetime="2020-12-29" class="refDate">29 December 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-spring-srv6-network-programming-28.txt">https://www.ietf.org/archive/id/draft-ietf-spring-srv6-network-programming-28.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Dukes, D., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-pim-sr-p2mp-policy">[I-D.ietf-pim-sr-p2mp-policy]</dt>
        <dd>
<span class="refAuthor">(editor), D. V.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Parekh, R.</span>, <span class="refAuthor">Bidgoli, H.</span>, and <span class="refAuthor">Z. Zhang</span>, <span class="refTitle">"Segment Routing Point-to-Multipoint Policy"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-pim-sr-p2mp-policy-03</span>, <time datetime="2021-08-23" class="refDate">23 August 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-pim-sr-p2mp-policy-03.txt">https://www.ietf.org/archive/id/draft-ietf-pim-sr-p2mp-policy-03.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spring-sr-replication-segment">[I-D.ietf-spring-sr-replication-segment]</dt>
        <dd>
<span class="refAuthor">(editor), D. V.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Parekh, R.</span>, <span class="refAuthor">Bidgoli, H.</span>, and <span class="refAuthor">Z. Zhang</span>, <span class="refTitle">"SR Replication Segment for Multi-point Service Delivery"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-sr-replication-segment-05</span>, <time datetime="2021-08-20" class="refDate">20 August 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-spring-sr-replication-segment-05.txt">https://www.ietf.org/archive/id/draft-ietf-spring-sr-replication-segment-05.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.shen-spring-p2mp-transport-chain">[I-D.shen-spring-p2mp-transport-chain]</dt>
      <dd>
<span class="refAuthor">Shen, Y.</span>, <span class="refAuthor">Zhang, Z.</span>, <span class="refAuthor">Parekh, R.</span>, <span class="refAuthor">Bidgoli, H.</span>, and <span class="refAuthor">Y. Kamite</span>, <span class="refTitle">"Point-to-Multipoint Transport Using Chain Replication in Segment Routing"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-shen-spring-p2mp-transport-chain-04</span>, <time datetime="2021-06-14" class="refDate">14 June 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-shen-spring-p2mp-transport-chain-04.txt">https://www.ietf.org/archive/id/draft-shen-spring-p2mp-transport-chain-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-example-ipv6-header-using-g">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-example-ipv6-header-using-g" class="section-name selfRef">Example IPv6 Header using G-SRv6</a>
      </h2>
<p id="appendix-A-1">For simplicity, 64 bits for Common Prefix, 16 bits for Node ID,
         8 bits for the number of branches (N-Branches) and 
         8 bits for the number of SIDs (N-SIDs)
         are used when G-SRv6 compression method is applied for
         &lt;P1-m, P2-m, P3-m, L1-m, L2-m, P4-m, L3-m, L4-m&gt;
         at ingress node R in <a href="#p2mp-path-R-L14" class="xref">Figure 1</a>.

         The Destination Address (DA) is illustrated below
         in <a href="#da1" class="xref">Figure 4</a>. 
         It contains the Common Prefix of 64 bits, 
         node P1's ID of 16 bits, 
         the value 2 for the number of branches (N-Branches) of 8 bits,
         and the value 7 for the number of SIDs (N-SIDs) of 8 bits.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<span id="name-destination-address-da"></span><div id="da1">
<figure id="figure-4">
        <div class="alignLeft art-text artwork" id="appendix-A-2.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |         2001:db9:0:0 (Common Prefix)                          |
 |                                                               |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            P1 ID              |       2       |       7       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                                                               |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-destination-address-da" class="selfRef">Destination Address (DA)</a>
        </figcaption></figure>
</div>
<p id="appendix-A-3">
The IPv6 header is shown in <a href="#srh1" class="xref">Figure 5</a>.

Ingress node R sends a packet with the IPv6 header to the DA.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<span id="name-ipv6-header"></span><div id="srh1">
<figure id="figure-5">
        <div class="alignLeft art-text artwork" id="appendix-A-4.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 | Next Header   |  Hdr Ext Len  |  Routing Type | Segments Left |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |  Last Entry   |      Flags    |              Tag              |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            P4 ID              |       2       |       2       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            L3 ID              |       0       |       0       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            L4 ID              |       0       |       0       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                            Padding                            |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            P2 ID              |       2       |       2       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            P3 ID              |       1       |       3       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            L1 ID              |       0       |       0       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |            L2 ID              |       0       |       0       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-ipv6-header" class="selfRef">IPv6 Header</a>
        </figcaption></figure>
</div>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Huaimo Chen</span></div>
<div dir="auto" class="left"><span class="org">Futurewei</span></div>
<div dir="auto" class="left">
<span class="locality">Boston, MA</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Huaimo.chen@futurewei.com" class="email">Huaimo.chen@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mike McBride</span></div>
<div dir="auto" class="left"><span class="org">Futurewei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:michael.mcbride@futurewei.com" class="email">michael.mcbride@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yanhe Fan</span></div>
<div dir="auto" class="left"><span class="org">Casa Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yfan@casa-systems.com" class="email">yfan@casa-systems.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Zhenbin Li</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lizhenbin@huawei.com" class="email">lizhenbin@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xuesong Geng</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gengxuesong@huawei.com" class="email">gengxuesong@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mehmet Toy</span></div>
<div dir="auto" class="left"><span class="org">Verizon</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mehmet.toy@verizon.com" class="email">mehmet.toy@verizon.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Aijun Wang</span></div>
<div dir="auto" class="left"><span class="org">China Telecom</span></div>
<div dir="auto" class="left"><span class="street-address">Beiqijia Town, Changping District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">102209</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wangaj3@chinatelecom.cn" class="email">wangaj3@chinatelecom.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lei Liu</span></div>
<div dir="auto" class="left"><span class="org">Fujitsu</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liulei.kddi@gmail.com" class="email">liulei.kddi@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xufeng Liu</span></div>
<div dir="auto" class="left"><span class="org">Volta Networks</span></div>
<div dir="auto" class="left">
<span class="locality">McLean</span>, <span class="region">VA</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:xufeng.liu.ietf@gmail.com" class="email">xufeng.liu.ietf@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
