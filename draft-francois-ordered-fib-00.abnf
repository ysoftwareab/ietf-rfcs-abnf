rspt = rSPT(Y);

worst_case_update_delay = depth(R,rspt) * MAX_FIB

WaitingList = getNeighboursUpstream(R,rspt);
completionMessageSendingList = nexthops(X,SPT(R));

newSPT = computeSPT(R)
worst_case_update_delay = PathLength(R,X,newSPT) * MAX_FIB

WaitingList = nexthops(R,X,newSPT);

