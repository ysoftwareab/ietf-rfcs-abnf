



Network Working Group                                              X. Xu
Internet-Draft                                                    Huawei
Intended status: Standards Track                            C. Jacquenet
Expires: October 29, 2015                                         Orange
                                                                 L. Fang
                                                               Microsoft
                                                          April 27, 2015


       L3VPN Address Prefix Based Outbound Route Filter for BGP-4
                   draft-xu-bess-l3vpn-prefix-orf-02

Abstract

   This document defines a new Outbound Router Filter (ORF) type for
   BGP, refered to as "L3VPN Address Prefix Outbound Route Filter", that
   can be used to perform L3VPN address-prefix-based route filtering.
   This ORF-type supports prefix-length- or range-based matching, wild-
   card-based address prefix matching, as well as the exact address
   prefix matching for L3VPN address families.  The L3VPN Address Prefix
   ORF is applicable in the Virtual Subnet context.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on October 29, 2015.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Xu, et al.              Expires October 29, 2015                [Page 1]

Internet-Draft                                                April 2015


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  L3VPN Address Prefix ORF Encoding . . . . . . . . . . . . . .   3
   4.  L3VPN Address Prefix ORF Matching . . . . . . . . . . . . . .   3
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   The Outbound Route Filtering (ORF) Capability defined in [RFC5291]
   provides a mechanism for a BGP speaker to send to its BGP peer a set
   of ORFs that can be used by its peer to filter its outbound routing
   updates to the speaker.  The Address Prefix ORF defined in [RFC5292]
   is used to perform address-prefix-based route filtering.  However,
   the Address Prefix ORF is not much suitable for L3VPN [RFC4364] route
   filtering since there is no Route-Target (RT) field contained in the
   Address Prefix ORF entry.

   This document builds on [RFC5292] and defines a new ORF-type for BGP,
   referred to as "L3VPN Address Prefix Outbound Route Filter (L3VPN
   Address Prefix ORF)", that can be used to perform L3VPN address
   prefix-based route filtering.  The L3VPN Address Prefix ORF supports
   prefix-length- or range-based matching, wild-card-based address
   prefix matching, as well as the exact address prefix matching for
   L3VPN address families.  The L3VPN Address Prefix ORF is applicable
   to reduce the RIB size of PE routers in the Virtual Subnet
   [I-D.ietf-l3vpn-virtual-subnet] context.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].




Xu, et al.              Expires October 29, 2015                [Page 2]

Internet-Draft                                                April 2015


2.  Terminology

   This memo makes use of the terms defined in [RFC5292] and [RFC4364].

3.  L3VPN Address Prefix ORF Encoding

   The ORF-Type for the L3VPN Address Prefix ORF-Type is TBD.

   A L3VPN Address Prefix ORF entry includes a Route Target field in
   addition to those fields which have been contained in the Address
   Prefix ORF [RFC5292].  That's to say, a L3VPN Address Prefix ORF
   entry consists of the following fields <Sequence, Action, Match,
   Reserved, Route-Target, Minlen, Maxlen, Length, Prefix>.  Note that
   the Prefix field here doesn't include the Route Distinguisher (RD)
   part of a L3VPN address prefix.  For example, in the case of a VPNv4
   address prefix, only the IPv4 address prefix part of that VPNv4
   address prefix is contained in that Prefix field.

   A L3VPN Address Prefix ORF entry is encoded as follows: the "Action",
   "Match" and "Reserved" fields of the entry are encoded in the common
   part [RFC5291], while the remaining fields of the entry are encoded
   in the "type specific part" [RFC5291], as shown in Figure 1.  When
   the Action component of an ORF entry specifies REMOVE-ALL, the entry
   consists of only the common part.

   +--------------------------------+
   |   Sequence (4 octets)          |
   +--------------------------------+
   |   Route Target(8 or 16 octets) |
   +--------------------------------+
   |   Minlen   (1 octet)           |
   +--------------------------------+
   |   Maxlen   (1 octet)           |
   +--------------------------------+
   |   Length   (1 octet)           |
   +--------------------------------+
   |   Prefix   (variable length)   |
   +--------------------------------+

      Figure 1: Type Specific Part of L3VPN Address Prefix ORF Entry
                                 Encoding

4.  L3VPN Address Prefix ORF Matching

   When performing route matching search on those L3VPN routes which are
   associated with the Route Target as specified in the received L3VPN
   Address Prefix ORF entries, the Address-Prefix-ORF-specific matching




Xu, et al.              Expires October 29, 2015                [Page 3]

Internet-Draft                                                April 2015


   rules as defined in [RFC5292] are almost preserved except that the RD
   SHOULD be ignored.

5.  Acknowledgements

   The authors would like to thank Mach Chen and Shunwan Zhuang for
   their comments on this document.

6.  IANA Considerations

   The ORF-type for the L3VPN Address Prefix ORF needs to be assigned by
   the IANA.

7.  Security Considerations

   This document does not introduce any new security considerations.

8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC5291]  Chen, E. and Y. Rekhter, "Outbound Route Filtering
              Capability for BGP-4", RFC 5291, August 2008.

   [RFC5292]  Chen, E. and S. Sangli, "Address-Prefix-Based Outbound
              Route Filter for BGP-4", RFC 5292, August 2008.

8.2.  Informative References

   [I-D.ietf-l3vpn-virtual-subnet]
              Xu, X., Raszuk, R., Hares, S., Yongbing, F., Jacquenet,
              C., Boyes, T., and B. Fee, "Virtual Subnet: A L3VPN-based
              Subnet Extension Solution", draft-ietf-l3vpn-virtual-
              subnet-03 (work in progress), December 2014.

   [RFC4364]  Rosen, E. and Y. Rekhter, "BGP/MPLS IP Virtual Private
              Networks (VPNs)", RFC 4364, February 2006.

Authors' Addresses

   Xiaohu Xu
   Huawei

   Email: xuxiaohu@huawei.com




Xu, et al.              Expires October 29, 2015                [Page 4]

Internet-Draft                                                April 2015


   Christian Jacquenet
   Orange

   Email: christian.jacquenet@orange.com


   Luyuan Fang
   Microsoft

   Email: lufang@microsoft.com









































Xu, et al.              Expires October 29, 2015                [Page 5]
