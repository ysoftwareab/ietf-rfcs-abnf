<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Uninterruptible Power Supply (UPS) Management Protocol -- Commands and Responses</title>
<meta content="Roger Price" name="author">
<meta content="
       This text describes the command/response protocol currently used in
the management of Uninterruptible Power Supply (UPS) units and other
power devices often deployed in small offices, and in IT installations
subject to an erratic public power supply.  The UPS units typically
interface to an Attachment Daemon in the system they protect.  This
daemon is in turn polled by a Management Daemon which notifies users
and system administrators of power supply incidents, and takes system
shutdown decisions.  The commands and responses described by this text
are exchanged between the UPS Attachment Daemon and the Management
Daemon.  Current practice leads to weak security and this is addressed
in the Security and IANA Considerations.
 
    " name="description">
<meta content="xml2rfc 3.5.0" name="generator">
<meta content="Uninterruptible Power Supply UPS NUT" name="keyword">
<meta content="draft-rprice-ups-management-protocol-01" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.2
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.4.1
    requests 2.25.1
    setuptools 53.0.0
    six 1.15.0
-->
<link href="/tmp/draft-rprice-ups-management-protocol-01.exp-sh10tidp.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">UPS management protocol</td>
<td class="right">February 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Price</td>
<td class="center">Expires 22 August 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">IETF</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-rprice-ups-management-protocol-01</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-02-18" class="published">18 February 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-08-22">22 August 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Price, <span class="editor">Ed.</span>
</div>
<div class="org">Network UPS Tools Project</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Uninterruptible Power Supply (UPS) Management Protocol -- Commands and Responses</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This text describes the command/response protocol currently used in
the management of Uninterruptible Power Supply (UPS) units and other
power devices often deployed in small offices, and in IT installations
subject to an erratic public power supply.  The UPS units typically
interface to an Attachment Daemon in the system they protect.  This
daemon is in turn polled by a Management Daemon which notifies users
and system administrators of power supply incidents, and takes system
shutdown decisions.  The commands and responses described by this text
are exchanged between the UPS Attachment Daemon and the Management
Daemon.  Current practice leads to weak security and this is addressed
in the Security and IANA Considerations.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 22 August 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-how-to-read-this-text" class="xref">How to read this text</a><a href="#section-toc.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-current-practice" class="xref">Current practice</a><a href="#section-toc.1-1.1.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a><a href="#section-toc.1-1.1.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="xref">1.4</a>.  <a href="#name-comments" class="xref">Comments</a><a href="#section-toc.1-1.1.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-attachment-daemon" class="xref">Attachment Daemon</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-driver" class="xref">Driver</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-event" class="xref">Event</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-instant-command" class="xref">Instant Command</a><a href="#section-toc.1-1.2.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="xref">2.5</a>.  <a href="#name-management-daemon" class="xref">Management Daemon</a><a href="#section-toc.1-1.2.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a href="#section-2.6" class="xref">2.6</a>.  <a href="#name-nut-network-ups-tools-proje" class="xref">NUT (Network UPS Tools) Project</a><a href="#section-toc.1-1.2.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.7">
                <p id="section-toc.1-1.2.2.7.1"><a href="#section-2.7" class="xref">2.7</a>.  <a href="#name-primary" class="xref">Primary</a><a href="#section-toc.1-1.2.2.7.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.8">
                <p id="section-toc.1-1.2.2.8.1"><a href="#section-2.8" class="xref">2.8</a>.  <a href="#name-secondary" class="xref">Secondary</a><a href="#section-toc.1-1.2.2.8.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.9">
                <p id="section-toc.1-1.2.2.9.1"><a href="#section-2.9" class="xref">2.9</a>.  <a href="#name-session" class="xref">Session</a><a href="#section-toc.1-1.2.2.9.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.10">
                <p id="section-toc.1-1.2.2.10.1"><a href="#section-2.10" class="xref">2.10</a>. <a href="#name-ups-status" class="xref">UPS status</a><a href="#section-toc.1-1.2.2.10.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.11">
                <p id="section-toc.1-1.2.2.11.1"><a href="#section-2.11" class="xref">2.11</a>. <a href="#name-ups-variable" class="xref">UPS variable</a><a href="#section-toc.1-1.2.2.11.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-protocol-overview" class="xref">Protocol overview</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-protocol-specification" class="xref">Protocol specification</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-notation-used-in-this-speci" class="xref">Notation used in this specification</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-commands" class="xref">Commands</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-fsd" class="xref"><code>FSD</code></a><a href="#section-toc.1-1.4.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-get" class="xref"><code>GET</code></a><a href="#section-toc.1-1.4.2.2.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.2.2.1">
                        <p id="section-toc.1-1.4.2.2.2.2.2.1.1"><a href="#section-4.2.2.1" class="xref">4.2.2.1</a>.  <a href="#name-cmddesc" class="xref"><code>CMDDESC</code></a><a href="#section-toc.1-1.4.2.2.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.2.2.2">
                        <p id="section-toc.1-1.4.2.2.2.2.2.2.1"><a href="#section-4.2.2.2" class="xref">4.2.2.2</a>.  <a href="#name-desc" class="xref"><code>DESC</code></a><a href="#section-toc.1-1.4.2.2.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.2.2.3">
                        <p id="section-toc.1-1.4.2.2.2.2.2.3.1"><a href="#section-4.2.2.3" class="xref">4.2.2.3</a>.  <a href="#name-numlogins" class="xref"><code>NUMLOGINS</code></a><a href="#section-toc.1-1.4.2.2.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.2.2.4">
                        <p id="section-toc.1-1.4.2.2.2.2.2.4.1"><a href="#section-4.2.2.4" class="xref">4.2.2.4</a>.  <a href="#name-type" class="xref"><code>TYPE</code></a><a href="#section-toc.1-1.4.2.2.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.2.2.5">
                        <p id="section-toc.1-1.4.2.2.2.2.2.5.1"><a href="#section-4.2.2.5" class="xref">4.2.2.5</a>.  <a href="#name-upsdesc" class="xref"><code>UPSDESC</code></a><a href="#section-toc.1-1.4.2.2.2.2.2.5.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.2.2.6">
                        <p id="section-toc.1-1.4.2.2.2.2.2.6.1"><a href="#section-4.2.2.6" class="xref">4.2.2.6</a>.  <a href="#name-var" class="xref"><code>VAR</code></a><a href="#section-toc.1-1.4.2.2.2.2.2.6.1" class="pilcrow">¶</a></p>
</li>
                    </ul>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-help" class="xref"><code>HELP</code></a><a href="#section-toc.1-1.4.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a href="#section-4.2.4" class="xref">4.2.4</a>.  <a href="#name-instcmd" class="xref"><code>INSTCMD</code></a><a href="#section-toc.1-1.4.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5">
                    <p id="section-toc.1-1.4.2.2.2.5.1"><a href="#section-4.2.5" class="xref">4.2.5</a>.  <a href="#name-list" class="xref"><code>LIST</code></a><a href="#section-toc.1-1.4.2.2.2.5.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5.2.1">
                        <p id="section-toc.1-1.4.2.2.2.5.2.1.1"><a href="#section-4.2.5.1" class="xref">4.2.5.1</a>.  <a href="#name-client" class="xref"><code>CLIENT</code></a><a href="#section-toc.1-1.4.2.2.2.5.2.1.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5.2.2">
                        <p id="section-toc.1-1.4.2.2.2.5.2.2.1"><a href="#section-4.2.5.2" class="xref">4.2.5.2</a>.  <a href="#name-cmd" class="xref"><code>CMD</code></a><a href="#section-toc.1-1.4.2.2.2.5.2.2.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5.2.3">
                        <p id="section-toc.1-1.4.2.2.2.5.2.3.1"><a href="#section-4.2.5.3" class="xref">4.2.5.3</a>.  <a href="#name-enum" class="xref"><code>ENUM</code></a><a href="#section-toc.1-1.4.2.2.2.5.2.3.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5.2.4">
                        <p id="section-toc.1-1.4.2.2.2.5.2.4.1"><a href="#section-4.2.5.4" class="xref">4.2.5.4</a>.  <a href="#name-range" class="xref"><code>RANGE</code></a><a href="#section-toc.1-1.4.2.2.2.5.2.4.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5.2.5">
                        <p id="section-toc.1-1.4.2.2.2.5.2.5.1"><a href="#section-4.2.5.5" class="xref">4.2.5.5</a>.  <a href="#name-rw" class="xref"><code>RW</code></a><a href="#section-toc.1-1.4.2.2.2.5.2.5.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5.2.6">
                        <p id="section-toc.1-1.4.2.2.2.5.2.6.1"><a href="#section-4.2.5.6" class="xref">4.2.5.6</a>.  <a href="#name-ups" class="xref"><code>UPS</code></a><a href="#section-toc.1-1.4.2.2.2.5.2.6.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.5.2.7">
                        <p id="section-toc.1-1.4.2.2.2.5.2.7.1"><a href="#section-4.2.5.7" class="xref">4.2.5.7</a>.  <a href="#name-var-2" class="xref"><code>VAR</code></a><a href="#section-toc.1-1.4.2.2.2.5.2.7.1" class="pilcrow">¶</a></p>
</li>
                    </ul>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.6">
                    <p id="section-toc.1-1.4.2.2.2.6.1"><a href="#section-4.2.6" class="xref">4.2.6</a>.  <a href="#name-login" class="xref"><code>LOGIN</code></a><a href="#section-toc.1-1.4.2.2.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.7">
                    <p id="section-toc.1-1.4.2.2.2.7.1"><a href="#section-4.2.7" class="xref">4.2.7</a>.  <a href="#name-logout" class="xref"><code>LOGOUT</code></a><a href="#section-toc.1-1.4.2.2.2.7.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.8">
                    <p id="section-toc.1-1.4.2.2.2.8.1"><a href="#section-4.2.8" class="xref">4.2.8</a>.  <a href="#name-password" class="xref"><code>PASSWORD</code></a><a href="#section-toc.1-1.4.2.2.2.8.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.9">
                    <p id="section-toc.1-1.4.2.2.2.9.1"><a href="#section-4.2.9" class="xref">4.2.9</a>.  <a href="#name-primary-2" class="xref"><code>PRIMARY</code></a><a href="#section-toc.1-1.4.2.2.2.9.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.10">
                    <p id="section-toc.1-1.4.2.2.2.10.1"><a href="#section-4.2.10" class="xref">4.2.10</a>. <a href="#name-protver" class="xref"><code>PROTVER</code></a><a href="#section-toc.1-1.4.2.2.2.10.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.11">
                    <p id="section-toc.1-1.4.2.2.2.11.1"><a href="#section-4.2.11" class="xref">4.2.11</a>. <a href="#name-set" class="xref"><code>SET</code></a><a href="#section-toc.1-1.4.2.2.2.11.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.12">
                    <p id="section-toc.1-1.4.2.2.2.12.1"><a href="#section-4.2.12" class="xref">4.2.12</a>. <a href="#name-starttls" class="xref"><code>STARTTLS</code></a><a href="#section-toc.1-1.4.2.2.2.12.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.13">
                    <p id="section-toc.1-1.4.2.2.2.13.1"><a href="#section-4.2.13" class="xref">4.2.13</a>. <a href="#name-username" class="xref"><code>USERNAME</code></a><a href="#section-toc.1-1.4.2.2.2.13.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2.2.14">
                    <p id="section-toc.1-1.4.2.2.2.14.1"><a href="#section-4.2.14" class="xref">4.2.14</a>. <a href="#name-ver" class="xref"><code>VER</code></a><a href="#section-toc.1-1.4.2.2.2.14.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-error-responses" class="xref">Error responses</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-statuses-and-events" class="xref">Statuses and Events</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-status-symbols" class="xref">Status symbols</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-events" class="xref">Events</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-namespaces-used-by-command-" class="xref">Namespaces used by Command, Responses, Statuses and Variables</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-port-name-and-number-used-t" class="xref">Port name and number used to manage UPS units</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-current-situation" class="xref">Current situation</a><a href="#section-toc.1-1.6.2.2.2.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.1.2.1">
                        <p id="section-toc.1-1.6.2.2.2.1.2.1.1"><a href="#section-6.2.1.1" class="xref">6.2.1.1</a>.  <a href="#name-port-nut-3493" class="xref">Port nut/3493</a><a href="#section-toc.1-1.6.2.2.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.1.2.2">
                        <p id="section-toc.1-1.6.2.2.2.1.2.2.1"><a href="#section-6.2.1.2" class="xref">6.2.1.2</a>.  <a href="#name-port-ups-401" class="xref">Port ups/401</a><a href="#section-toc.1-1.6.2.2.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                    </ul>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-request-to-iana" class="xref">Request to IANA</a><a href="#section-toc.1-1.6.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-agent-verification" class="xref">Agent verification</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-encryption" class="xref">Encryption</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-current-security-practice" class="xref">Current security practice</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-security-needs" class="xref">Security needs</a><a href="#section-toc.1-1.7.2.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.4.2.1">
                    <p id="section-toc.1-1.7.2.4.2.1.1"><a href="#section-7.4.1" class="xref">7.4.1</a>.  <a href="#name-attachment-daemon-shim" class="xref">Attachment Daemon shim</a><a href="#section-toc.1-1.7.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.4.2.2">
                    <p id="section-toc.1-1.7.2.4.2.2.1"><a href="#section-7.4.2" class="xref">7.4.2</a>.  <a href="#name-management-daemon-shim" class="xref">Management Daemon shim</a><a href="#section-toc.1-1.7.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-variables-and-instant-comma" class="xref">Variables and Instant Commands</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-ups-variables" class="xref">UPS variables</a><a href="#section-toc.1-1.11.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-ups-readable-and-writable-v" class="xref">UPS readable and writable variables</a><a href="#section-toc.1-1.11.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-ups-instant-commands" class="xref">UPS Instant Commands</a><a href="#section-toc.1-1.11.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-change-log" class="xref">Change Log</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-b.1" class="xref">B.1</a>.  <a href="#name-changes-in-version-01" class="xref">Changes in version 01</a><a href="#section-toc.1-1.12.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<section id="section-1.1">
        <h3 id="name-how-to-read-this-text">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-how-to-read-this-text" class="section-name selfRef">How to read this text</a>
        </h3>
<p id="section-1.1-1">The editor recommends that you read the HTML version of this text.
It renders the protocol symbols such as <code>OL</code> correctly without
quotation marks.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">To lighten the text, the term "UPS" is used when "Managed Power
Device" would be more complete.  The reader should understand the
simple "UPS" to include other managed power devices.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<aside id="section-1.1-3">
          <p id="section-1.1-3.1"><span class="cref">Ed: To be removed.  The Idnits tool signals false
positives when reading variable names such
as <code>ups.delay.shutdown</code>.  It wrongly assumes that they are
domain names and applies RFC2606 which calls for use of domain names
such as <code>example.com</code></span><a href="#section-1.1-3.1" class="pilcrow">¶</a></p>
</aside>
</section>
<section id="section-1.2">
        <h3 id="name-current-practice">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-current-practice" class="section-name selfRef">Current practice</a>
        </h3>
<div id="intro">
<p id="section-1.2-1">This text documents UPS management techniques and
current UPS management practice published by the <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> which has
been operational since 1998.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-1.2-2">Since May 2002, the protocol described by this text has been
operating on IANA port nut/3493 running over TCP.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<aside id="section-1.2-3">
          <p id="section-1.2-3.1">Historically, the previous number 3305 was a relic of the
original code's ancestry, and conflicted with other services.  UDP
support was dropped in July 2003. It had been deprecated for some time
and was only capable of the simplest query commands as authentication
is impossible over a UDP socket.<a href="#section-1.2-3.1" class="pilcrow">¶</a></p>
</aside>
</section>
<section id="section-1.3">
        <h3 id="name-requirements-language">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.3-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described
in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-1.4">
        <h3 id="name-comments">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-comments" class="section-name selfRef">Comments</a>
        </h3>
<p id="section-1.4-1">The editor welcomes comments.  Technical matters should be
addressed to the <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span>'s <span><a href="#mailinglist" class="xref">mailing
list</a> [<a href="#mailinglist" class="xref">mailinglist</a>]</span>.  Editorial matters may be addressed directly to the
editor, email: <code>ietf@rogerprice.org</code> .<a href="#section-1.4-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The following technical terms appear in this text.<a href="#section-2-1" class="pilcrow">¶</a></p>
<section id="section-2.1">
        <h3 id="name-attachment-daemon">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-attachment-daemon" class="section-name selfRef">Attachment Daemon</a>
        </h3>
<div id="AD">
<p id="section-2.1-1">The Attachment Daemon talks to the UPS units or other
power devices often through a <span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span> specific to the hardware model
and the connection medium, e.g. USB, serial.  It maintains an
abstracted view of the hardware through the use of hardware
statuses <a href="#st" class="xref">2.10</a>.  A <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> may consult the
abstracted view using the commands described in this text.  Although
the term "Attachment Daemon" includes the word "daemon" nothing
requires that it be implemented as a detached software service.  An
Attachment Daemon must support <span><a href="#st" class="xref">statuses</a> (<a href="#st" class="xref">2.10</a>)</span> OB and OL.  It must also support status LB if
the UPS provides such information.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-2.2">
        <h3 id="name-driver">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-driver" class="section-name selfRef">Driver</a>
        </h3>
<div id="Driver">
<p id="section-2.2-1">A Driver is that part of an Attachment Daemon which
is specific to the hardware, the connection medium and the connection
protocol, e.g. USB, serial.  In current practice the Attachment Daemon
has a driver for each hardware interface type it supports.  Although
this text considers the driver to be part of the Attachment Daemon,
current practice is to see it as a separate software unit running as
an unattached daemon "in front of" the Attachment Daemon.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-2.3">
        <h3 id="name-event">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-event" class="section-name selfRef">Event</a>
        </h3>
<p id="section-2.3-1">An Event is a change in <span><a href="#st" class="xref">UPS status</a> (<a href="#st" class="xref">2.10</a>)</span> detected by the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span><a href="#section-2.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.4">
        <h3 id="name-instant-command">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-instant-command" class="section-name selfRef">Instant Command</a>
        </h3>
<div id="IC">
<p id="section-2.4-1">A command which when sent to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> causes the
hardware to immediately perform a function. For example <code>INSTCMD
su700 test.panel.start</code><a href="#section-2.4-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-2.5">
        <h3 id="name-management-daemon">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-management-daemon" class="section-name selfRef">Management Daemon</a>
        </h3>
<div id="MD">
<p id="section-2.5-1">The Management Daemon is primarily reponsible for
managing the hardware and the system reaction to power loss.  Using
commands sent to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> it follows the status of the UPS and
determines when UPS events occur.  It takes decisions based on the
events, such a calling for a system shutdown. Although the term
includes the word "daemon" nothing requires that it be implemented as
a detached software service.  The Management Daemon may also provide
administrative functions such as a graphic interface to view the
hardware activity.<a href="#section-2.5-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-2.6">
        <h3 id="name-nut-network-ups-tools-proje">
<a href="#section-2.6" class="section-number selfRef">2.6. </a><a href="#name-nut-network-ups-tools-proje" class="section-name selfRef">NUT (Network UPS Tools) Project</a>
        </h3>
<div id="proj">
<p id="section-2.6-1">The primary goal of the <span><a href="#NUT" class="xref">NUT
project</a> [<a href="#NUT" class="xref">NUT</a>]</span> is to provide support for Power Devices, such as
Uninterruptible Power Supplies.  The Project has been in operation
since 1998 with a major rework in 2003.  It operates through
a <span><a href="#mailinglist" class="xref">mailing list</a> [<a href="#mailinglist" class="xref">mailinglist</a>]</span> and
a <span><a href="#NUT" class="xref">web site</a> [<a href="#NUT" class="xref">NUT</a>]</span>.<a href="#section-2.6-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-2.7">
        <h3 id="name-primary">
<a href="#section-2.7" class="section-number selfRef">2.7. </a><a href="#name-primary" class="section-name selfRef">Primary</a>
        </h3>
<div id="prim">
<p id="section-2.7-1">When a power device such as a UPS unit supplies power
to more than one system, the one to which the data lead is connected
is known as the primary.  The others are secondary.  See
figure <a href="#fig.oview4" class="xref">4</a>.  Common current
practice for system administrators is to consider the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> in the
primary to be the Primary Management Daemon which is in charge of the
shutdown of all the systems powered by the UPS.  The Primary
Management Daemon sets status symbol <code>FSD</code> to order the secondaries
to shut down.<a href="#section-2.7-1" class="pilcrow">¶</a></p>
</div>
<aside id="section-2.7-2">
          <p id="section-2.7-2.1">Note: Historically, the primary was known as the "Master".<a href="#section-2.7-2.1" class="pilcrow">¶</a></p>
</aside>
</section>
<section id="section-2.8">
        <h3 id="name-secondary">
<a href="#section-2.8" class="section-number selfRef">2.8. </a><a href="#name-secondary" class="section-name selfRef">Secondary</a>
        </h3>
<div id="sec">
<p id="section-2.8-1">When a hardware device such as a UPS unit supplies
power to more than one system, the one to which the data lead is
connected is known as the <span><a href="#prim" class="xref">Primary</a> (<a href="#prim" class="xref">2.7</a>)</span>.  The other are secondaries.  There
is no <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> in a secondary. See figure <a href="#fig.oview4" class="xref">4</a>.  Common current practice for system administrators is
to consider the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> in a secondary to be a Secondary Management
Daemon which understands status symbol <code>FSD</code> as an order to shut
down.<a href="#section-2.8-1" class="pilcrow">¶</a></p>
</div>
<aside id="section-2.8-2">
          <p id="section-2.8-2.1">Note: Historically, the secondary was known as the "Slave".<a href="#section-2.8-2.1" class="pilcrow">¶</a></p>
</aside>
</section>
<section id="section-2.9">
        <h3 id="name-session">
<a href="#section-2.9" class="section-number selfRef">2.9. </a><a href="#name-session" class="section-name selfRef">Session</a>
        </h3>
<div id="sess">
<p id="section-2.9-1">The <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> may open a session with a specified device
such as a UPS known to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>. The session structure provides for
audit and security as well as access to mission critical UPS
functions.  For example good practice requires a password protection
for an <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span> which turns off a UPS outlet.  Other than the commands
and responses used, the details of session management are outside the
scope of this text.<a href="#section-2.9-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-2.10">
        <h3 id="name-ups-status">
<a href="#section-2.10" class="section-number selfRef">2.10. </a><a href="#name-ups-status" class="section-name selfRef">UPS status</a>
        </h3>
<div id="st">
<p id="section-2.10-1">The status of a hardware device such as a UPS unit is a
symbolic description of the state of the unit.  It consists of a space
separated list of symbols from the set {<code>ALARM</code> <code>BOOST</code> <code>BYPASS</code>
          <code>CAL</code> <code>CHRG</code> <code>COMM</code> <code>DISCHRG</code> <code>FSD</code> <code>LB</code> <code>NOCOMM</code> <code>OB</code> <code>OFF</code>
          <code>OVER</code> <code>RB</code> <code>RB</code> <code>TEST</code> <code>TRIM</code>}.  The symbols &amp;*TICK and <code>TOCK</code>
are experimental additions to the status and are not in common current
practice.  See <span><a href="#symbols" class="xref">the appendix</a> (<a href="#symbols" class="xref">5.1</a>)</span>
which specifies each of these symbols.  The statuses <code>LB</code>, <code>OB</code> and
<code>OL</code> are considered fundamental and are supported for all units.
Other statuses depend on the feature set of the hardware.<a href="#section-2.10-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-2.11">
        <h3 id="name-ups-variable">
<a href="#section-2.11" class="section-number selfRef">2.11. </a><a href="#name-ups-variable" class="section-name selfRef">UPS variable</a>
        </h3>
<div id="var">
<p id="section-2.11-1">The features provided by each UPS are represented by
variables giving the current value attached to that feature.  The UPS
variable is an abstraction of the UPS hardware configuration and
activity maintained by the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  See <span><a href="#variables" class="xref">the
appendix</a> (<a href="#variables" class="xref">Section A.1, Paragraph 1</a>)</span> which provides a non exhaustive list of variables.
For example the variable <code>battery.charge</code> contains the current
charge of the UPS battery as a percentage value.<a href="#section-2.11-1" class="pilcrow">¶</a></p>
</div>
</section>
</section>
<section id="section-3">
      <h2 id="name-protocol-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-protocol-overview" class="section-name selfRef">Protocol overview</a>
      </h2>
<div id="overview">
<p id="section-3-1">Figure <a href="#fig.oview" class="xref">1</a>
shows a reference configuration in which the command/response protocol
applies.  The UPS shown is representative of all power devices,<a href="#section-3-1" class="pilcrow">¶</a></p>
</div>
<span id="name-reference-configuration"></span><div id="fig.oview">
<figure id="figure-1">
        <div class="artwork art-text alignCenter" id="section-3-2.1">
<pre>                                            "The client"
           ,--------------,               ,--------------,
 ,-----,   |     UPS      | &lt;-Commands    |     UPS      |
 | UPS |---|  Attachment  |---------------|  Management  |
 |     |===|    Daemon    |   Responses-&gt; |    Daemon    |
 /-----\   '--------------'               '--------------'
            UPS Attachment                 UPS Management
                System        Network          System</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-reference-configuration" class="selfRef">Reference Configuration</a>
        </figcaption></figure>
</div>
<p id="section-3-3">The reference configuration in figure <a href="#fig.oview" class="xref">1</a> shows a single UPS unit which has a power supply link
(<code>===</code>) and a data link (<code>---</code>) attached to a system
running an <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  The UPS provides power supply protection to the
system running the Attachment Daemon.  In practice there may be more
than one UPS unit, and a unit may provide power protection to more
than one system.  The figure also shows a single <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span>.  In practice
there may be more than one Management Daemon, and any one Management
Daemon may manage more than one UPS Attachment Daemon.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">The protocol applies to connections between the Management Daemon
and the Attachment daemon. The Management Daemon is known as
the <strong>client</strong>.  It sends commands over TCP to the
Attachment Daemon and receives responses over TCP from that daemon.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">The two daemons may run in the same system, or may be connected
through a local or wide area network.  In simple cases, as shown in
figure <a href="#fig.oview2" class="xref">2</a>, the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>
and the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> are in the same system, the one protected by the UPS.
The commands and responses are exchanged through an internal loopback
interface.<a href="#section-3-5" class="pilcrow">¶</a></p>
<span id="name-simplified-single-system-co"></span><div id="fig.oview2">
<figure id="figure-2">
        <div class="artwork art-text alignCenter" id="section-3-6.1">
<pre>                                         "The client"
           ,--------------------,---------------------,
 ,-----,   |     UPS       &lt;-Commands        UPS      |
 | UPS |---|  Attachment        |         Management  |
 |     |===|    Daemon       Responses-&gt;    Daemon    |
 /-----\   '--------------------'---------------------'
                             Internal
                             loopback
             UPS Attachment and Management System</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-simplified-single-system-co" class="selfRef">Simplified single-system configuration</a>
        </figcaption></figure>
</div>
<p id="section-3-7">The reference configuration does not require any specific
design. For example figure <a href="#fig.oview3" class="xref">3</a> shows an arrangement in which the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> is
closely associated with, or even included in the UPS system setup.
This is becoming more prevalent with the availability of low cost
processors able to run the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span><a href="#section-3-7" class="pilcrow">¶</a></p>
<span id="name-ups-and-attachment-daemon-i"></span><div id="fig.oview3">
<figure id="figure-3">
        <div class="artwork art-text alignCenter" id="section-3-8.1">
<pre>                                      "The client"
 ,-----,------------,               ,--------------,
 |     |    UPS     | &lt;-Commands    |     UPS      |
 | UPS - Attachment |---------------|  Management  |
 |     |   Daemon   |   Responses-&gt; |    Daemon    |
 /-----'------------\               '--------------'
    UPS Attachment                   UPS Management
        System           Network          System</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-ups-and-attachment-daemon-i" class="selfRef">UPS and Attachment Daemon integration</a>
        </figcaption></figure>
</div>
<p id="section-3-9">As the power requirements for processors decrease, it is becoming
increasingly common to use a single UPS to protect multiple systems as
shown in figure <a href="#fig.oview4" class="xref">4</a>.  However
there is only one data line (<code>---</code>) from the UPS to the <span><a href="#prim" class="xref">Primary</a> (<a href="#prim" class="xref">2.7</a>)</span>
system.  The others have only power connections (<code>===</code>) to the
UPS, and each is known as a <span><a href="#sec" class="xref">Secondary</a> (<a href="#sec" class="xref">2.8</a>)</span>.  A <span><a href="#sec" class="xref">Secondary</a> (<a href="#sec" class="xref">2.8</a>)</span> does not run an <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>,
it connects over a network to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> in the
primary. Figure <a href="#fig.oview4" class="xref">4</a> shows the
<span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> and the primary <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> in the same system.  This is common
practice but it is not a technical requirement.<a href="#section-3-9" class="pilcrow">¶</a></p>
<span id="name-ups-protects-multiple-syste"></span><div id="fig.oview4">
<figure id="figure-4">
        <div class="artwork art-text alignCenter" id="section-3-10.1">
<pre>                                      "The client"
           ,--------------------,---------------------,
 ,-----,   |     UPS       &lt;-Commands      Primary    |
 |     |---|  Attachment        |         Management  |   Primary
 |     |===|    Daemon       Responses-&gt;    Daemon    |
 |     |   '--------------------'---------------------'
 | UPS |            ^
 |     |            '&lt;-Commands---Responses-&gt;,
 |     |                                     v
 |     |            ,--------------,-----------------,
 |     |============|              |     Secondary   |
 /-----\            |              |     Management  |   Secondary
                    |              |       Daemon    |
                    '--------------'-----------------'</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-ups-protects-multiple-syste" class="selfRef">UPS protects multiple systems</a>
        </figcaption></figure>
</div>
</section>
<section id="section-4">
      <h2 id="name-protocol-specification">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-protocol-specification" class="section-name selfRef">Protocol specification</a>
      </h2>
<p id="section-4-1">This specification includes only the commands and their responses.
An implementation of the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> has an internal state machine, and some
complex implementations of the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> include an internal state
machine; for example to assist the system shutdown of a complex
installation.  However the management protocol used between them is
effectively stateless.  Most responses received by the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> are
sufficient in themselves, and at most require knowledge of the
previous response to that command.  See for
example <span><a href="#Event" class="xref">table</a> (<a href="#Event" class="xref">5.2</a>)</span> which maps the
new <code>ups.status</code> response and the previous <code>ups.status</code>
response to an <span><a href="#Event" class="xref">Event</a> (<a href="#Event" class="xref">5.2</a>)</span> which is taken as the basis for <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> action.<a href="#section-4-1" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-notation-used-in-this-speci">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-notation-used-in-this-speci" class="section-name selfRef">Notation used in this specification</a>
        </h3>
<p id="section-4.1-1">The character set used for commands and responses is UTF-8 but
current practice is to limit the character set used to the single byte
UTF-8 characters 0-127.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Multi-word elements are contained within U+0022 QUOTATION MARK
characters for easier parsing. E.g. <code>"UPS on fire"</code>. Embedded
quotation marks are escaped with U+005C REVERSE SOLIDUS \ often known
as backslashes. Embedded backslashes are also escaped by representing
them as \\.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<div id="onenewline">
<p id="section-4.1-3">Commands and responses have no leading or
trailing whitespace, and are terminated with a single new
line character U+000A LINE FEED (LF).<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</div>
<p id="section-4.1-4">White space within commands and responses is reduced to one U+0020
(SP) SPACE.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-commands">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-commands" class="section-name selfRef">Commands</a>
        </h3>
<div id="commands">
<p id="section-4.2-1"></p>
</div>
<section id="section-4.2.1">
          <h4 id="name-fsd">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-fsd" class="section-name selfRef"><code>FSD</code></a>
          </h4>
<p id="section-4.2.1-1">A <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> which is <span><a href="#prim" class="xref">Primary</a> (<a href="#prim" class="xref">2.7</a>)</span> and has the required authority, uses this
command to set status symbol <code>FSD</code> in the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  Current practice
uses the symbol to tell each <span><a href="#sec" class="xref">Secondary</a> (<a href="#sec" class="xref">2.8</a>)</span> system to shut down.  It has the
same value as the pair of status symbols <code>OB</code> <code>LB</code>.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">Command: <code>FSD &lt;upsname&gt;</code>             The response is:
<code>OK FSD-SET</code> if the command is successful.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
<p id="section-4.2.1-3">

Current practice requires that an application introduce security
controls in its session management to defend against abusive use of
this command.  The details are outside the scope of this text.<a href="#section-4.2.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2">
          <h4 id="name-get">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-get" class="section-name selfRef"><code>GET</code></a>
          </h4>
<p id="section-4.2.2-1">Retrieve a single response from the server. The possible
sub-commands are:<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<section id="section-4.2.2.1">
            <h5 id="name-cmddesc">
<a href="#section-4.2.2.1" class="section-number selfRef">4.2.2.1. </a><a href="#name-cmddesc" class="section-name selfRef"><code>CMDDESC</code></a>
            </h5>
<p id="section-4.2.2.1-1">Command: <code>GET CMDDESC &lt;upsname&gt; &lt;cmdname&gt;</code><a href="#section-4.2.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2.1-2">Response:
CMDDESC &lt;upsname&gt; &lt;cmdname&gt; "&lt;description&gt;"<a href="#section-4.2.2.1-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2.1-3">For example: <code>GET CMDDESC su700 load.on</code> and
response <code>CMDDESC su700 load.on "Turn on the load immediately"</code><a href="#section-4.2.2.1-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2.1-4">This is like <code>DESC</code>, but it applies to an <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span>.<a href="#section-4.2.2.1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2.2">
            <h5 id="name-desc">
<a href="#section-4.2.2.2" class="section-number selfRef">4.2.2.2. </a><a href="#name-desc" class="section-name selfRef"><code>DESC</code></a>
            </h5>
<p id="section-4.2.2.2-1">Command: <code>GET DESC &lt;upsname&gt; &lt;varname&gt;</code><a href="#section-4.2.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2.2-2">Response: <code>DESC &lt;upsname&gt; &lt;varname&gt; "&lt;description&gt;"</code><a href="#section-4.2.2.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2.2-3">where &lt;description&gt; is a string that gives a brief
explanation of the named variable.  The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> may return "Unavailable"
if the file which provides this description is not installed.<a href="#section-4.2.2.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2.2-4">For example command <code>GET DESC su700 ups.status</code> and
response <code>DESC su700 ups.status "UPS status"</code><a href="#section-4.2.2.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2.3">
            <h5 id="name-numlogins">
<a href="#section-4.2.2.3" class="section-number selfRef">4.2.2.3. </a><a href="#name-numlogins" class="section-name selfRef"><code>NUMLOGINS</code></a>
            </h5>
<p id="section-4.2.2.3-1">Command: <code>GET NUMLOGINS &lt;upsname&gt;</code><a href="#section-4.2.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2.3-2">Response: <code>NUMLOGINS &lt;upsname&gt; &lt;value&gt;</code><a href="#section-4.2.2.3-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2.3-3">where &lt;value&gt; is the number of clients which have succeeded
in doing a LOGIN to this UPS.<a href="#section-4.2.2.3-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2.3-4">For example command <code>GET NUMLOGINS su700</code> and
response <code>NUMLOGINS su700 1</code><a href="#section-4.2.2.3-4" class="pilcrow">¶</a></p>
<p id="section-4.2.2.3-5">This information may be needed by the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> to determine how many
clients are still connected when starting the system shutdown process.<a href="#section-4.2.2.3-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2.4">
            <h5 id="name-type">
<a href="#section-4.2.2.4" class="section-number selfRef">4.2.2.4. </a><a href="#name-type" class="section-name selfRef"><code>TYPE</code></a>
            </h5>
<p id="section-4.2.2.4-1">Command: <code>GET TYPE &lt;upsname&gt; &lt;varname&gt;</code><a href="#section-4.2.2.4-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2.4-2">Response: <code>TYPE &lt;upsname&gt; &lt;varname&gt; &lt;type&gt;...</code><a href="#section-4.2.2.4-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2.4-3">where &lt;type&gt; can be one or more of the following tokens.
Multiple types may be returned.<a href="#section-4.2.2.4-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2.4-4">For example command <code>GET TYPE su700 input.transfer.low</code> and
response <code>TYPE su700 input.transfer.low ENUM</code><a href="#section-4.2.2.4-4" class="pilcrow">¶</a></p>
<span id="name-variable-types"></span><table class="center" id="table-1">
              <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-variable-types" class="selfRef">Variable types</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">    Type    
    </th>
                  <th class="text-center" rowspan="1" colspan="1">Meaning
</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>RW</code> </td>
                  <td class="text-left" rowspan="1" colspan="1">This variable may be set to another value with
command <code>SET</code>
                  </td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>ENUM</code> </td>
                  <td class="text-left" rowspan="1" colspan="1">An enumerated type, which supports specific
pre-determined values
</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>STRING:n</code> </td>
                  <td class="text-left" rowspan="1" colspan="1">This is a string of maximum
length <code>n</code>
                  </td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>RANGE</code> </td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <p id="section-4.2.2.4-5.2.4.2.1">This is a number, either integer or
float, comprised in the range which may be seen with the
command <span><a href="#range" class="xref"><code>LIST RANGE</code></a> (<a href="#range" class="xref">4.2.5.4</a>)</span><a href="#section-4.2.2.4-5.2.4.2.1" class="pilcrow">¶</a></p>
</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>NUMBER</code> </td>
                  <td class="text-left" rowspan="1" colspan="1">This is a single numeric value, either
integer or float
</td>
                </tr>
              </tbody>
            </table>
<p id="section-4.2.2.4-6">Notes:<a href="#section-4.2.2.4-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.2.4-7.1">
                <code>ENUM</code>, <code>STRING:n</code> and <code>RANGE</code>, are usually associated with
<code>RW</code>, but not always. The default &lt;type&gt;, when omitted, is
numeric, so either integer or float. Each <span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span> is then responsible
for handling values as either integer or float.<a href="#section-4.2.2.4-7.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.2.2.4-7.2">Current practice is to represent floating point values using
locale <code>C.utf8</code> which is a decimal (base 10) US english-based
representation. Hexadecimal, exponents, and comma for thousands
separator are not allowed. For example: "1200.20" is valid, while
"1,200.20" and "1200,20" are invalid.<a href="#section-4.2.2.4-7.2" class="pilcrow">¶</a>
</li>
            </ul>
</section>
<section id="section-4.2.2.5">
            <h5 id="name-upsdesc">
<a href="#section-4.2.2.5" class="section-number selfRef">4.2.2.5. </a><a href="#name-upsdesc" class="section-name selfRef"><code>UPSDESC</code></a>
            </h5>
<p id="section-4.2.2.5-1">Command: <code>GET UPSDESC &lt;upsname&gt;</code><a href="#section-4.2.2.5-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2.5-2">Response: <code>UPSDESC &lt;upsname&gt; "&lt;description&gt;"</code><a href="#section-4.2.2.5-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2.5-3">where &lt;description&gt; is defined by the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> configuration. If
it is not set, current practice is for the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to return
"Unavailable".<a href="#section-4.2.2.5-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2.5-4">For example command <code>GET UPSDESC su700</code> and response
<code>UPSDESC su700 "Development box"</code><a href="#section-4.2.2.5-4" class="pilcrow">¶</a></p>
<p id="section-4.2.2.5-5">This can be used to provide human-readable descriptions instead of
a cryptic <code>upsname@hostname</code> string.<a href="#section-4.2.2.5-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2.6">
            <h5 id="name-var">
<a href="#section-4.2.2.6" class="section-number selfRef">4.2.2.6. </a><a href="#name-var" class="section-name selfRef"><code>VAR</code></a>
            </h5>
<p id="section-4.2.2.6-1">Command: <code>GET VAR &lt;upsname&gt; &lt;varname&gt;</code><a href="#section-4.2.2.6-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2.6-2">Response: <code>VAR &lt;upsname&gt; &lt;varname&gt; "&lt;value&gt;"</code><a href="#section-4.2.2.6-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2.6-3">For example command <code>GET VAR su700 ups.status</code> and response
<code>VAR su700 ups.status "OB LB"</code><a href="#section-4.2.2.6-3" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4.2.3">
          <h4 id="name-help">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-help" class="section-name selfRef"><code>HELP</code></a>
          </h4>
<p id="section-4.2.3-1">Return a list of the commands supported by the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  This command
is intended for human as well as program use.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.3-2">Command <code>HELP</code><a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
<p id="section-4.2.3-3">For example, the following command line sequence executed on an <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>:<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
<div id="section-4.2.3-4">
<pre class="sourcecode">netcat localhost 3493
HELP
Commands: HELP VER GET LIST SET INSTCMD LOGIN LOGOUT
          LOGOUT USERNAME PASSWORD STARTTLS

</pre><a href="#section-4.2.3-4" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.2.4">
          <h4 id="name-instcmd">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-instcmd" class="section-name selfRef"><code>INSTCMD</code></a>
          </h4>
<p id="section-4.2.4-1">Send an <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span> to the UPS.<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
<p id="section-4.2.4-2">Command: <code>INSTCMD &lt;upsname&gt; &lt;cmdname&gt;</code>            
The response is: <code>OK</code><a href="#section-4.2.4-2" class="pilcrow">¶</a></p>
<p id="section-4.2.4-3">where <code>&lt;upsname&gt;</code> is the name of the UPS
and <code>&lt;cmdname&gt;</code> is the <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span> to be issued to that UPS.<a href="#section-4.2.4-3" class="pilcrow">¶</a></p>
<p id="section-4.2.4-4">For example the command: <code>INSTCMD su700 test.panel.start</code>
and the response <code>OK</code><a href="#section-4.2.4-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.5">
          <h4 id="name-list">
<a href="#section-4.2.5" class="section-number selfRef">4.2.5. </a><a href="#name-list" class="section-name selfRef"><code>LIST</code></a>
          </h4>
<p id="section-4.2.5-1">The <code>LIST</code> commands all produce a response with a common container
format. The response will begin with <code>BEGIN LIST</code> and then
repeat the initial query.  A list then follows, with as many lines as
are necessary.  The response ends with <code>END LIST</code> followed by
the initial query.<a href="#section-4.2.5-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5-2">The formatting may seem a bit redundant, but it makes a different
form of client possible.  A client can send a <code>LIST</code> query and then
go off and wait for the response. When it arrives, the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> doesn't
need a complicated state machine to remember which list is which.<a href="#section-4.2.5-2" class="pilcrow">¶</a></p>
<p id="section-4.2.5-3">The possible subcommands are:<a href="#section-4.2.5-3" class="pilcrow">¶</a></p>
<section id="section-4.2.5.1">
            <h5 id="name-client">
<a href="#section-4.2.5.1" class="section-number selfRef">4.2.5.1. </a><a href="#name-client" class="section-name selfRef"><code>CLIENT</code></a>
            </h5>
<p id="section-4.2.5.1-1">The command calls for the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to report all the current <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span>
clients of a given UPS. See <span><a href="#login" class="xref">command
LOGIN</a> (<a href="#login" class="xref">4.2.6</a>)</span>.<a href="#section-4.2.5.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5.1-2">Command: <code>LIST CLIENT &lt;upsname&gt;</code>             The response
is for further study.<a href="#section-4.2.5.1-2" class="pilcrow">¶</a></p>
<aside id="section-4.2.5.1-3">
              <p id="section-4.2.5.1-3.1">The current practice for the listing is based on the current
practice for command <code>LOGIN</code>.  For example, the command <code>LIST
CLIENT ups1</code> and the response:<a href="#section-4.2.5.1-3.1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.2.5.1-3.2">
<pre>BEGIN LIST CLIENT ups1
CLIENT ups1 ::1
CLIENT ups1 198.51.100.2
END LIST CLIENT ups1</pre><a href="#section-4.2.5.1-3.2" class="pilcrow">¶</a>
</div>
</aside>
</section>
<section id="section-4.2.5.2">
            <h5 id="name-cmd">
<a href="#section-4.2.5.2" class="section-number selfRef">4.2.5.2. </a><a href="#name-cmd" class="section-name selfRef"><code>CMD</code></a>
            </h5>
<p id="section-4.2.5.2-1">The command calls for the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to report a list of each UPS <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span>
which the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> may sent to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  This <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span> list is the
abstracted view of the UPS hardware capabilities.  An economical UPS
will support few or no <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span> but a professional model should support
more.<a href="#section-4.2.5.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5.2-2">Command: <code>LIST CMD &lt;upsname&gt;</code>             The response is:<a href="#section-4.2.5.2-2" class="pilcrow">¶</a></p>
<div id="section-4.2.5.2-3">
<pre class="sourcecode">BEGIN LIST CMD &lt;upsname&gt;
CMD &lt;upsname&gt; &lt;cmdname&gt;
...
END LIST CMD &lt;cmdname&gt;
</pre><a href="#section-4.2.5.2-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.5.2-4">where <code>&lt;upsname&gt;</code> is the name of the UPS,
and <code>&lt;cmdname&gt;</code> is the name of the command which may be
issued to the UPS.<a href="#section-4.2.5.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2.5.2-5">For example the command: <code>LIST CMD su700</code> and the response:<a href="#section-4.2.5.2-5" class="pilcrow">¶</a></p>
<div id="section-4.2.5.2-6">
<pre class="sourcecode">BEGIN LIST CMD su700
CMD su700 load.on
CMD su700 test.panel.start
...
END LIST CMD su700

</pre><a href="#section-4.2.5.2-6" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.2.5.3">
            <h5 id="name-enum">
<a href="#section-4.2.5.3" class="section-number selfRef">4.2.5.3. </a><a href="#name-enum" class="section-name selfRef"><code>ENUM</code></a>
            </h5>
<p id="section-4.2.5.3-1">The command calls for the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to report the set of possible
values of a UPS variable which has predetermined values.<a href="#section-4.2.5.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5.3-2">Command: <code>LIST ENUM &lt;upsname&gt; &lt;varname&gt;</code>
            The response is:<a href="#section-4.2.5.3-2" class="pilcrow">¶</a></p>
<div id="section-4.2.5.3-3">
<pre class="sourcecode">BEGIN LIST ENUM &lt;upsname&gt; &lt;varname&gt;
ENUM &lt;upsname&gt; &lt;varname&gt; "&lt;value&gt;"
...
END LIST ENUM &lt;upsname&gt; &lt;varname&gt;
</pre><a href="#section-4.2.5.3-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.5.3-4">where <code>&lt;upsname&gt;</code> is the name of the UPS,
<code>&lt;varname&gt;</code> is the UPS variable and
<code>&lt;value&gt;</code> is one of the possible values of the UPS
variable.  Note that the U+0022 QUOTATION MARK characters are part of
the response.<a href="#section-4.2.5.3-4" class="pilcrow">¶</a></p>
<p id="section-4.2.5.3-5">For example the command: <code>LIST ENUM su700 input.transfer.low</code>
and the response:<a href="#section-4.2.5.3-5" class="pilcrow">¶</a></p>
<div id="section-4.2.5.3-6">
<pre class="sourcecode">BEGIN LIST ENUM su700 input.transfer.low
ENUM su700 input.transfer.low "103"
ENUM su700 input.transfer.low "100"
...
END LIST ENUM su700 input.transfer.low

</pre><a href="#section-4.2.5.3-6" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.2.5.4">
            <h5 id="name-range">
<a href="#section-4.2.5.4" class="section-number selfRef">4.2.5.4. </a><a href="#name-range" class="section-name selfRef"><code>RANGE</code></a>
            </h5>
<div id="range">
<p id="section-4.2.5.4-1">The command calls for the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to report the
interval in which valid values of a UPS variable lie.<a href="#section-4.2.5.4-1" class="pilcrow">¶</a></p>
</div>
<p id="section-4.2.5.4-2">Command: <code>LIST RANGE &lt;upsname&gt; &lt;varname&gt;</code>
            The response is:<a href="#section-4.2.5.4-2" class="pilcrow">¶</a></p>
<div id="section-4.2.5.4-3">
<pre class="sourcecode">BEGIN LIST RANGE &lt;upsname&gt; &lt;varname&gt;
RANGE &lt;upsname&gt; &lt;varname&gt; "&lt;min&gt;" "&lt;max&gt;"
...
END LIST RANGE &lt;upsname&gt; &lt;varname&gt;
</pre><a href="#section-4.2.5.4-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.5.4-4">where <code>&lt;upsname&gt;</code> is the name of the UPS,
<code>&lt;varname&gt;</code> is the UPS variable and
{<code>&lt;min&gt;</code>,<code>&lt;max&gt;</code>} is the interval of valid
values of the UPS variable.  Note that the U+0022 QUOTATION MARK
characters are part of the response.<a href="#section-4.2.5.4-4" class="pilcrow">¶</a></p>
<p id="section-4.2.5.4-5">For example, the command <code>LIST RANGE su700
input.transfer.low</code> and the response:<a href="#section-4.2.5.4-5" class="pilcrow">¶</a></p>
<div id="section-4.2.5.4-6">
<pre class="sourcecode">BEGIN LIST RANGE su700 input.transfer.low
RANGE su700 input.transfer.low "90" "100"
RANGE su700 input.transfer.low "102" "105"
...
END LIST RANGE su700 input.transfer.low

</pre><a href="#section-4.2.5.4-6" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.2.5.5">
            <h5 id="name-rw">
<a href="#section-4.2.5.5" class="section-number selfRef">4.2.5.5. </a><a href="#name-rw" class="section-name selfRef"><code>RW</code></a>
            </h5>
<p id="section-4.2.5.5-1">The command calls for the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to report a list of the UPS
variables associated with a given UPS which may be read and written by
the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span>.  These variables are the abstracted view of the UPS
hardware capabilities.  An economical UPS will support few variables
but a professional model should support at least the variables which
are needed for automatic shutdown and restart.<a href="#section-4.2.5.5-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5.5-2">Command: <code>LIST RW &lt;upsname&gt;</code>             The response is:<a href="#section-4.2.5.5-2" class="pilcrow">¶</a></p>
<div id="section-4.2.5.5-3">
<pre class="sourcecode">BEGIN LIST RW &lt;upsname&gt;
RW &lt;upsname&gt; &lt;varname&gt; "&lt;value&gt;"
...
END LIST RW &lt;upsname&gt;
</pre><a href="#section-4.2.5.5-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.5.5-4">where <code>&lt;upsname&gt;</code> is the name of the UPS,
<code>&lt;varname&gt;</code> is the UPS variable and
<code>&lt;value&gt;</code> is the value of the UPS variable.  Note that
the U+0022 QUOTATION MARK characters are part of the response.<a href="#section-4.2.5.5-4" class="pilcrow">¶</a></p>
<p id="section-4.2.5.5-5">For example the command: <code>LIST RW su700</code> and the response:<a href="#section-4.2.5.5-5" class="pilcrow">¶</a></p>
<div id="section-4.2.5.5-6">
<pre class="sourcecode">BEGIN LIST RW su700
RW su700 output.voltage.nominal "115"
RW su700 ups.delay.shutdown "020"
...
END LIST RW su700

</pre><a href="#section-4.2.5.5-6" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.2.5.6">
            <h5 id="name-ups">
<a href="#section-4.2.5.6" class="section-number selfRef">4.2.5.6. </a><a href="#name-ups" class="section-name selfRef"><code>UPS</code></a>
            </h5>
<p id="section-4.2.5.6-1">Command: <code>LIST UPS</code>             The response is:<a href="#section-4.2.5.6-1" class="pilcrow">¶</a></p>
<div id="section-4.2.5.6-2">
<pre class="sourcecode">BEGIN LIST UPS
UPS &lt;upsname&gt; "&lt;description&gt;"
...
END LIST UPS
</pre><a href="#section-4.2.5.6-2" class="pilcrow">¶</a>
</div>
<p id="section-4.2.5.6-3">where &lt;upsname&gt; is the name of a UPS, and &lt;description&gt;
is the value of the description maintained by the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> if
available. It is set to "Unavailable" otherwise.  Note that the U+0022
QUOTATION MARK characters are part of the response.<a href="#section-4.2.5.6-3" class="pilcrow">¶</a></p>
<p id="section-4.2.5.6-4">This command can also be used to determine what values of
&lt;upsname&gt; are valid before calling other functions on the
server. This is also a good way to handle situations where a single
<span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> supports multiple UPS's.  It is also useful for clients which
perform a UPS discovery process.<a href="#section-4.2.5.6-4" class="pilcrow">¶</a></p>
<p id="section-4.2.5.6-5">For example, the response:<a href="#section-4.2.5.6-5" class="pilcrow">¶</a></p>
<div id="section-4.2.5.6-6">
<pre class="sourcecode">BEGIN LIST UPS
UPS su700 "Development box"
END LIST UPS

</pre><a href="#section-4.2.5.6-6" class="pilcrow">¶</a>
</div>
</section>
<section id="section-4.2.5.7">
            <h5 id="name-var-2">
<a href="#section-4.2.5.7" class="section-number selfRef">4.2.5.7. </a><a href="#name-var-2" class="section-name selfRef"><code>VAR</code></a>
            </h5>
<p id="section-4.2.5.7-1">Command: <code>LIST VAR &lt;upsname&gt;</code>             The response is:<a href="#section-4.2.5.7-1" class="pilcrow">¶</a></p>
<div id="section-4.2.5.7-2">
<pre class="sourcecode">BEGIN LIST VAR &lt;upsname&gt;
VAR &lt;upsname&gt; &lt;varname&gt; "&lt;value&gt;"
...
END LIST VAR &lt;upsname&gt;
</pre><a href="#section-4.2.5.7-2" class="pilcrow">¶</a>
</div>
<p id="section-4.2.5.7-3">where <code>&lt;upsname&gt;</code> is the name of the UPS,
<code>&lt;varname&gt;</code> is the UPS variable and
<code>&lt;value&gt;</code> is the value of the UPS variable.  Note that
the U+0022 QUOTATION MARK characters are part of the response.<a href="#section-4.2.5.7-3" class="pilcrow">¶</a></p>
<p id="section-4.2.5.7-4">The response to this command lists the UPS variables available for
this UPS and their current values.  For example the command <code>LIST
VAR su700</code> and the response:<a href="#section-4.2.5.7-4" class="pilcrow">¶</a></p>
<div id="section-4.2.5.7-5">
<pre class="sourcecode">BEGIN LIST VAR su700
VAR su700 ups.mfr "APC"
VAR su700 ups.mfr.date "10/17/96"
...
END LIST VAR su700


</pre><a href="#section-4.2.5.7-5" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-4.2.6">
          <h4 id="name-login">
<a href="#section-4.2.6" class="section-number selfRef">4.2.6. </a><a href="#name-login" class="section-name selfRef"><code>LOGIN</code></a>
          </h4>
<div id="login">
<p id="section-4.2.6-1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> provides facilities to limit access to the
UPS unit(s) to which it is attached.  A system administrator performs
a login to open a <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span> and gain access to a UPS, and a logout when
the <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span> is no longer needed.<a href="#section-4.2.6-1" class="pilcrow">¶</a></p>
</div>
<p id="section-4.2.6-2">Command: <code>LOGIN &lt;upsname&gt;</code>             The response
is <code>OK</code> if the login is successful.<a href="#section-4.2.6-2" class="pilcrow">¶</a></p>
<aside id="section-4.2.6-3">
            <p id="section-4.2.6-3.1">Current practice is for the command <code>LOGIN</code> to allow
connection to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  If there are two UPS units attached to the
<span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> logging into the first will automatically log into the second as
well.<a href="#section-4.2.6-3.1" class="pilcrow">¶</a></p>
</aside>
</section>
<section id="section-4.2.7">
          <h4 id="name-logout">
<a href="#section-4.2.7" class="section-number selfRef">4.2.7. </a><a href="#name-logout" class="section-name selfRef"><code>LOGOUT</code></a>
          </h4>
<p id="section-4.2.7-1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> provides facilities to limit access to the UPS unit(s) to
which it is attached.  A system administrator performs a login to open
a <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span> and gain access, and a logout when the <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span> is no longer
needed.  The command <code>LOGOUT</code> allows the system administrator to
disconnect gracefully.<a href="#section-4.2.7-1" class="pilcrow">¶</a></p>
<p id="section-4.2.7-2">Command: <code>LOGOUT</code> with the response <code>OK Goodbye</code> if the
disconnection was successful.<a href="#section-4.2.7-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.8">
          <h4 id="name-password">
<a href="#section-4.2.8" class="section-number selfRef">4.2.8. </a><a href="#name-password" class="section-name selfRef"><code>PASSWORD</code></a>
          </h4>
<p id="section-4.2.8-1">The <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> specifies a password required to enter a <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span> with the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.<a href="#section-4.2.8-1" class="pilcrow">¶</a></p>
<p id="section-4.2.8-2">Command: <code>PASSWORD &lt;password&gt;</code>             The response is:
<code>OK</code> if the command is successful.<a href="#section-4.2.8-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.9">
          <h4 id="name-primary-2">
<a href="#section-4.2.9" class="section-number selfRef">4.2.9. </a><a href="#name-primary-2" class="section-name selfRef"><code>PRIMARY</code></a>
          </h4>
<p id="section-4.2.9-1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> uses this command within a <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span> to claim that it is a
<span><a href="#prim" class="xref">Primary</a> (<a href="#prim" class="xref">2.7</a>)</span> and has the required authority to perform such critical
actions as setting status symbol <code>FSD</code>.<a href="#section-4.2.9-1" class="pilcrow">¶</a></p>
<p id="section-4.2.9-2">Command: <code>PRIMARY &lt;upsname&gt;</code> with response: <code>OK</code>
if the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> does have such authority.<a href="#section-4.2.9-2" class="pilcrow">¶</a></p>
<p id="section-4.2.9-3">where <code>&lt;upsname&gt;</code> is the name of the UPS.<a href="#section-4.2.9-3" class="pilcrow">¶</a></p>
<aside id="section-4.2.9-4">
            <p id="section-4.2.9-4.1">Note: Historically, this command was known as <code>MASTER</code>.<a href="#section-4.2.9-4.1" class="pilcrow">¶</a></p>
</aside>
</section>
<section id="section-4.2.10">
          <h4 id="name-protver">
<a href="#section-4.2.10" class="section-number selfRef">4.2.10. </a><a href="#name-protver" class="section-name selfRef"><code>PROTVER</code></a>
          </h4>
<p id="section-4.2.10-1">Return the implementation version of the command/response protocol
used by the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  This command is intended for human as well as
program use.<a href="#section-4.2.10-1" class="pilcrow">¶</a></p>
<p id="section-4.2.10-2">Command <code>PROTVER</code><a href="#section-4.2.10-2" class="pilcrow">¶</a></p>
<p id="section-4.2.10-3">For example, the following command line sequence in the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>:<a href="#section-4.2.10-3" class="pilcrow">¶</a></p>
<div id="section-4.2.10-4">
<pre class="sourcecode">netcat localhost 3493
PROTVER
1.2</pre><a href="#section-4.2.10-4" class="pilcrow">¶</a>
</div>
<aside id="section-4.2.10-5">
            <p id="section-4.2.10-5.1">Note: Historically, this command was known
as <code>NETVER</code> and current practice is to use <code>NETVER</code>
instead of <code>PROTVER</code><a href="#section-4.2.10-5.1" class="pilcrow">¶</a></p>
</aside>
</section>
<section id="section-4.2.11">
          <h4 id="name-set">
<a href="#section-4.2.11" class="section-number selfRef">4.2.11. </a><a href="#name-set" class="section-name selfRef"><code>SET</code></a>
          </h4>
<p id="section-4.2.11-1">The command calls for the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to set a UPS variable to a given
value.  Whether this has an effect on the UPS hardware is specific to
the <span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span> and the UPS model.<a href="#section-4.2.11-1" class="pilcrow">¶</a></p>
<p id="section-4.2.11-2">Command: <code>SET VAR &lt;upsname&gt; &lt;varname&gt;
"&lt;value&gt;"</code>             The response is: <code>OK</code><a href="#section-4.2.11-2" class="pilcrow">¶</a></p>
<p id="section-4.2.11-3">where <code>&lt;upsname&gt;</code> is the name of the UPS,
<code>&lt;varname&gt;</code> is the UPS variable and
<code>&lt;value&gt;</code> is the value to be assigned to the UPS
variable.  Note that the U+0022 QUOTATION MARK characters are part of
the command.<a href="#section-4.2.11-3" class="pilcrow">¶</a></p>
<p id="section-4.2.11-4">For example the command: <code>SET VAR su700 ups.id "My UPS"</code> and
the response <code>OK</code><a href="#section-4.2.11-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.12">
          <h4 id="name-starttls">
<a href="#section-4.2.12" class="section-number selfRef">4.2.12. </a><a href="#name-starttls" class="section-name selfRef"><code>STARTTLS</code></a>
          </h4>
<p id="section-4.2.12-1">The client tells the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to switch to TLS encrypted
communication.  When the client receives <code>OK</code> it also switches
to TLS encryption.<a href="#section-4.2.12-1" class="pilcrow">¶</a></p>
<p id="section-4.2.12-2">Command: <code>STARTTLS</code>             The response is: <code>OK
STARTTLS</code> if the command is successful.<a href="#section-4.2.12-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.13">
          <h4 id="name-username">
<a href="#section-4.2.13" class="section-number selfRef">4.2.13. </a><a href="#name-username" class="section-name selfRef"><code>USERNAME</code></a>
          </h4>
<p id="section-4.2.13-1">The <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span> may require that the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> identifies a "UPS management
user" who has been authorised to send commands to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  In
current practice, this "user" is specific to UPS management and is not
a user of the operating system.  The technique for specifying this UPS
management user is specific to the implementation, and may be done
with a configuration file.<a href="#section-4.2.13-1" class="pilcrow">¶</a></p>
<p id="section-4.2.13-2">Command: <code>USERNAME &lt;username&gt;</code>             The response
is <code>OK</code> if the command is successful.<a href="#section-4.2.13-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.14">
          <h4 id="name-ver">
<a href="#section-4.2.14" class="section-number selfRef">4.2.14. </a><a href="#name-ver" class="section-name selfRef"><code>VER</code></a>
          </h4>
<p id="section-4.2.14-1">Return the impementation version of the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  This command is
intended for human as well as program use.<a href="#section-4.2.14-1" class="pilcrow">¶</a></p>
<p id="section-4.2.14-2">Command <code>VER</code><a href="#section-4.2.14-2" class="pilcrow">¶</a></p>
<p id="section-4.2.14-3">For example, the following command line sequence:<a href="#section-4.2.14-3" class="pilcrow">¶</a></p>
<div id="section-4.2.14-4">
<pre class="sourcecode">netcat localhost 3493
VER
Network UPS Tools upsd 2.7.4 - http://www.networkupstools.org/

</pre><a href="#section-4.2.14-4" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-4.3">
        <h3 id="name-error-responses">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-error-responses" class="section-name selfRef">Error responses</a>
        </h3>
<div id="responses">
<p id="section-4.3-1"></p>
</div>
<p id="section-4.3-2">Error responses have the following format:<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<div id="section-4.3-3">
<pre class="sourcecode">ERR &lt;error-name&gt; [&lt;extra&gt;]
</pre><a href="#section-4.3-3" class="pilcrow">¶</a>
</div>
<p id="section-4.3-4">where <code>&lt;error-name&gt;</code> is a single word token taken from
the 27 characters A-Z and HYPHEN-MINUS U+002D. Implementations may if
needed add an additional optional <code>&lt;extra&gt;</code>.  Current
practice does not make use of this possibility.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">The <code>&lt;error-name&gt;</code> may have one of the following
values:<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<span id="name-error-responses-2"></span><table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-error-responses-2" class="selfRef">Error responses</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">    The error name token    
               <br><code>&lt;error-name&gt;</code>
              </th>
              <th class="text-center" rowspan="1" colspan="1">Meaning
</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ACCESS-DENIED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The client's host and/or
authentication details (username, password) are not sufficient to
execute the requested command.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ALREADY-LOGGED-IN</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <p id="section-4.3-6.2.2.2.1">The client has already sent a
successful <code>LOGIN</code> command for a given UPS and can't do it again.<a href="#section-4.3-6.2.2.2.1" class="pilcrow">¶</a></p>
<p id="section-4.3-6.2.2.2.2">Note: Current practice is to impose a limit of one <code>LOGIN</code> record
per connection.  If there are two UPS's attached to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>, logging
into one of them automatically logs into the other as well.
See <span><a href="#login" class="xref">command LOGIN</a> (<a href="#login" class="xref">4.2.6</a>)</span>.<a href="#section-4.3-6.2.2.2.2" class="pilcrow">¶</a></p>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ALREADY-SET-PASSWORD</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The client has already
supplied a PASSWORD and is attempting to repeat the command in the
same <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span>.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ALREADY-SET-USERNAME</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The client has already
supplied a USERNAME, and is attempting to repeat the command within
the same <span><a href="#sess" class="xref">Session</a> (<a href="#sess" class="xref">2.9</a>)</span>.
      

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ALREADY-SSL-MODE</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">TLS/SSL mode is already enabled
on this connection, so the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> can't start it again.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CMD-NOT-SUPPORTED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The specified UPS doesn't
support the <span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span> command.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>DATA-STALE</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <p id="section-4.3-6.2.7.2.1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> is connected to the
<span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span> for the UPS, but that driver isn't providing regular updates
or has specifically marked the data as stale.  Current practice is for
the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to refuse to provide the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> with variables on stale units
to avoid false readings.<a href="#section-4.3-6.2.7.2.1" class="pilcrow">¶</a></p>
<p id="section-4.3-6.2.7.2.2">This generally means that the <span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span> is running, but it has lost
communication with the hardware. Check the physical connection to the
equipment.<a href="#section-4.3-6.2.7.2.2" class="pilcrow">¶</a></p>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>DRIVER-NOT-CONNECTED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> can't perform the
requested command, since the <span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span> for that UPS is not
connected. This usually means that the driver is not running, or if it
is, is misconfigured.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>FEATURE-NOT-CONFIGURED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">This instance of the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>
hasn't been configured properly to allow the requested feature to
operate. In current practice this error response is possible only for
command <code>STARTTLS</code>.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>FEATURE-NOT-SUPPORTED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">This instance of <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> does
not support the requested feature.  In current practice this error
response is possible only for command <code>STARTTLS</code>.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>INSTCMD-FAILED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> failed to deliver the
<span><a href="#IC" class="xref">instant command</a> (<a href="#IC" class="xref">2.4</a>)</span> request to the <span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span>. No further information is available to
the client. This typically indicates a dead or broken driver.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>INVALID-ARGUMENT</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The client sent an argument to a
command which is not recognized or is otherwise invalid in this
context. This is typically caused by sending a valid command such as
<code>GET</code> with an invalid subcommand.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>INVALID-PASSWORD</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The client sent an invalid
password.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>INVALID-USERNAME</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The client sent an invalid
username.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>INVALID-VALUE</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The value specified in the request
is not valid. This usually applies to a <code>SET</code> of an <code>ENUM</code> type
which is using a value not in the list of allowed values.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PASSWORD-REQUIRED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The command requires a password
for authentication, but the client hasn't provided one.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>READONLY</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The requested variable in a <code>SET</code>
command is not writable.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>SET-FAILED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> failed to deliver the set
request to the <span><a href="#Driver" class="xref">Driver</a> (<a href="#Driver" class="xref">2.2</a>)</span>. This is simlar to <code>INSTCMD-FAILED</code>.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TOO-LONG</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The requested value in a <code>SET</code> command
is too long.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>UNKNOWN-COMMAND</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> doesn't recognize the
command.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>UNKNOWN-UPS</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The UPS specified in the request is
not known to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>. This usually means that it didn't match
anything in the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> configuration.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>USERNAME-REQUIRED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The command requires a username
for authentication, but the client hasn't provided one.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>VAR-NOT-SUPPORTED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">The specified UPS doesn't
support the <span><a href="#var" class="xref">UPS variable</a> (<a href="#var" class="xref">2.11</a>)</span> in the command.
</td>
            </tr>
          </tbody>
        </table>
</section>
</section>
<section id="section-5">
      <h2 id="name-statuses-and-events">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-statuses-and-events" class="section-name selfRef">Statuses and Events</a>
      </h2>
<section id="section-5.1">
        <h3 id="name-status-symbols">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-status-symbols" class="section-name selfRef">Status symbols</a>
        </h3>
<div id="symbols">
<p id="section-5.1-1">These symbols resume the abstracted view of the
UPS hardware maintained by the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  The
variable <code>ups.status</code> contains one or more space-separated
status symbols which together describe the UPS state at that instant.
In current practice the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> will poll variable <code>ups.status</code>
every 5 seconds with a command such as <code>GET VAR su700
ups.status</code> and response <code>VAR su700 ups.status "OB LB"</code> to
discover changes in the UPS status.  These changes will indicate UPS
events.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</div>
<span id="name-ups-status-symbols"></span><table class="center" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-ups-status-symbols" class="selfRef">UPS status symbols</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Symbol </th>
              <th class="text-center" rowspan="1" colspan="1">Meaning
</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ALARM</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The UPS reports that it requires intervention.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>BOOST</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The UPS has determined the voltage level of the public supply is
too low, and is boosting it to the required level.  The UPS continues
to supply the protected system from the public supply.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>BYPASS</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The UPS is feeding current directly from the public supply to the
protected system.  The backup facilities are disconnected.  This state
allows maintenance personnel to change the batteries without
interrupting the protected system.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CAL</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The UPS is calibrating itself, for example to determine at what
charge the <code>LB</code> status is raised or lowered.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CHRG</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">
                <p id="section-5.1-2.2.5.2.1">The UPS battery is charging.  This usually implies that the UPS
also has status <code>OL</code>, but may not be the case if the UPS also has
status <code>OFF</code>.<a href="#section-5.1-2.2.5.2.1" class="pilcrow">¶</a></p>
<p id="section-5.1-2.2.5.2.2">Note: <code>OL</code> does not imply <code>CHRG</code> if the battery is floating.<a href="#section-5.1-2.2.5.2.2" class="pilcrow">¶</a></p>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>COMM</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> has effective contact with the UPS.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>DISCHRG</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">
                <p id="section-5.1-2.2.7.2.1">The UPS battery is discharging.  This usually implies that the UPS
also has status <code>OB</code>, but may not be the case if the UPS also has
status <code>OFF</code>.<a href="#section-5.1-2.2.7.2.1" class="pilcrow">¶</a></p>
<p id="section-5.1-2.2.7.2.2">Note: <code>OB</code> does not imply <code>DISCHRG</code> if the battery is floating.<a href="#section-5.1-2.2.7.2.2" class="pilcrow">¶</a></p>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>FSD</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">This "Forced Shut Down" status signals that the final shutdown
sequence has begun.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>LB</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">Low Battery. The battery level of the UPS is below a chosen limit.
The UPS may be in status OL or OB.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>NOCOMM</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> has no effective contact with the UPS.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OB</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">On Battery. The UPS is offline, taking energy from it's battery.
The battery is discharging.  A UPS must have status <code>OB</code> or <code>OL</code>,
otherwise it is deemed dead.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OFF</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The UPS is in state "Off".  It does not react to failure in the
public power supply.  The exact meaning depends on the model.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OL</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">OnLine. The UPS is online, receiving energy from the public supply.
The battery is charging.   A UPS must have status <code>OB</code> or <code>OL</code>,
otherwise it is deemed dead.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OVER</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">Overloaded. The UPS reports that the load on it is beyond it's
normal operating maximum.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>RB</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">Replace battery. The UPS reports that it's battery/batteries should
be replaced.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TEST</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">Under test. The UPS is currently undergoing a test, which may have
been called for manually or internally.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TICK</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">Heartbeat. A software UPS in the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> provides a regular signal
monitored by the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> as a way of verifying effective end-to-end
management. <code>TICK</code> and <code>TOCK</code> are companions.

</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TOCK</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">Heartbeat. See <code>TICK</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TRIM</code>
              </td>
              <td class="text-left" rowspan="1" colspan="1">The UPS has determined that the voltage level of the public supply
is too high, and is reducing it to the required level.  The UPS
continues to supply the protected system from the public supply.
</td>
            </tr>
          </tbody>
        </table>
</section>
<section id="section-5.2">
        <h3 id="name-events">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-events" class="section-name selfRef">Events</a>
        </h3>
<div id="Event">
<p id="section-5.2-1">A <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> deduces the occurrence of a UPS Event from a
change in the <span><a href="#st" class="xref">UPS status</a> (<a href="#st" class="xref">2.10</a>)</span> received from the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.  The following table
summarises the process. A status of "none" means that the status
symbol is not present in the variable <code>ups.status</code>. In current
practice, the variable <code>ups.status</code> is retrieved every 5
seconds. The "old" status is therefore the previous value retrieved 5
  seconds ago.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-5.2-2">Current practice is for the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> to assign names to certain
events.  These is shown in the table in parentheses.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<span id="name-event-deduction-from-status"></span><table class="center" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-event-deduction-from-status" class="selfRef">Event deduction from status changes</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Old status </th>
              <th class="text-left" rowspan="1" colspan="1">New status </th>
              <th class="text-left" rowspan="1" colspan="1">Event                    </th>
              <th class="text-left" rowspan="1" colspan="1">    
    </th>
              <th class="text-left" rowspan="1" colspan="1">Old status </th>
              <th class="text-left" rowspan="1" colspan="1">New status </th>
              <th class="text-left" rowspan="1" colspan="1">Event
</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ALARM</code>   </td>
              <td class="text-left" rowspan="1" colspan="1">Alarm on                 </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ALARM</code>   </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Alarm off
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>BOOST</code>   </td>
              <td class="text-left" rowspan="1" colspan="1">Boosting voltage         </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>BOOST</code>   </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Not boosting
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>BYPASS</code>  </td>
              <td class="text-left" rowspan="1" colspan="1">Bypass on                </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>BYPASS</code>  </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Bypass off
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CAL</code>     </td>
              <td class="text-left" rowspan="1" colspan="1">Calibrating              </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CAL</code>     </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Not calibrating
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CHRG</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">Charging                 </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CHRG</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Not charging
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>COMM</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">UPS communicating<br>(<code>COMMOK</code>)     </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>COMM</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">[Note 5]
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>DISCHRG</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Discharging              </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>DISCHRG</code> </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Not discharging
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>FSD</code>     </td>
              <td class="text-left" rowspan="1" colspan="1">System shutdown<br>(<code>FSD</code>) (<code>SHUTDOWN</code>)      </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>FSD</code>     </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Shutdown abandoned [Note 1]
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>LB</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">Low battery [Note 2]<br>(<code>LOWBATT</code>) </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>LB</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Battery not low
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>NOCOMM</code>  </td>
              <td class="text-left" rowspan="1" colspan="1">UPS dead? [Note 5]<br>(<code>COMMBAD</code>) (<code>NOCOMM</code>) </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>NOCOMM</code>  </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">[Note 5]
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OFF</code>     </td>
              <td class="text-left" rowspan="1" colspan="1">UPS turned off           </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OFF</code>     </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">UPS not turned off
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OB</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OL</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">Receiving wall power<br>(<code>ONLINE</code>)  </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OL</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OB</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">Wall power lost<br>(<code>ONBATT</code>)
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OVER</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">UPS overloaded           </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OVER</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Overload gone
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>RB</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">Replace battery<br>(<code>REPLBATT</code>)     </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>RB</code>      </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Replacement cancelled
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TEST</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">Test starts              </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TEST</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Test finished
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TICK</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">Heartbeat event [Note 4] </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TICK</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">No heartbeat [Note 4]
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TOCK</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">Heartbeat event [Note 4] </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TOCK</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">No heartbeat [Note 4]
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TRIM</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">Trimming voltage         </td>
              <td class="text-left" rowspan="1" colspan="1">    
    </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>TRIM</code>    </td>
              <td class="text-left" rowspan="1" colspan="1">none       </td>
              <td class="text-left" rowspan="1" colspan="1">Not trimming
</td>
            </tr>
          </tbody>
        </table>
<p id="section-5.2-4">Notes<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-5.2-5">
<li id="section-5.2-5.1">Current practice does not include this event.<a href="#section-5.2-5.1" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-5.2">If the status <code>OB</code> is present, current practice takes <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span>
reception of <code>LB</code> as an order to perform an emergency system
shutdown.<a href="#section-5.2-5.2" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-5.3">(For future use)<a href="#section-5.2-5.3" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-5.4">The use of a software defined UPS to provide a heartbeat is
experimental and is not part of common current practice.<a href="#section-5.2-5.4" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-5.5">Current practice is: if the UPS has not responded for 15 seconds,
the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> assumes that the UPS is "dead" (<code>NOCOMM</code>), and if the last
known <code>OL</code>/<code>OB</code> status was <code>OB</code> a system shutdown (<code>FSD</code>) is
called for.<a href="#section-5.2-5.5" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</section>
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1"><span class="cref">Ed: See <span><a href="#RFC8126" class="xref">Guidelines
for Writing an IANA Considerations Section in RFCs</a> [<a href="#RFC8126" class="xref">RFC8126</a>]</span></span>.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="IANA">
<p id="section-6-2">This text raises five matters which fall within IANA
Considerations:<a href="#section-6-2" class="pilcrow">¶</a></p>
</div>
<ol start="1" type="1" class="normal type-1" id="section-6-3">
<li id="section-6-3.1">The namespaces occupied by the <span><a href="#commands" class="xref">protocol commands</a> (<a href="#commands" class="xref">4.2</a>)</span> described in this text.<a href="#section-6-3.1" class="pilcrow">¶</a>
</li>
        <li id="section-6-3.2">The namespaces occupied by the <span><a href="#responses" class="xref">protocol responses</a> (<a href="#responses" class="xref">4.3</a>)</span> described in this text.<a href="#section-6-3.2" class="pilcrow">¶</a>
</li>
        <li id="section-6-3.3">The namespace occupied by <span><a href="#st" class="xref">UPS status</a> (<a href="#st" class="xref">2.10</a>)</span> names,<a href="#section-6-3.3" class="pilcrow">¶</a>
</li>
        <li id="section-6-3.4">The namespace occupied by <span><a href="#var" class="xref">UPS variable</a> (<a href="#var" class="xref">2.11</a>)</span> names,<a href="#section-6-3.4" class="pilcrow">¶</a>
</li>
        <li id="section-6-3.5">The port name and port number used to manage UPS units.<a href="#section-6-3.5" class="pilcrow">¶</a>
</li>
      </ol>
<section id="section-6.1">
        <h3 id="name-namespaces-used-by-command-">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-namespaces-used-by-command-" class="section-name selfRef">Namespaces used by Command, Responses, Statuses and Variables</a>
        </h3>
<p id="section-6.1-1">Current <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> experience after more than 20 years is that the UPS
management area advances slowly, and that there are few requests to
modify or extend the Commands, Responses, Statuses and Variables.  When
this does occur, the <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> has been able to settle the matter
without difficulty in the project mailing list.  It is therefore
proposed to not burden IANA with this namespace management and to
continue with the current process in which the project in its mailing
list acts as a Working Group,<a href="#section-6.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-port-name-and-number-used-t">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-port-name-and-number-used-t" class="section-name selfRef">Port name and number used to manage UPS units</a>
        </h3>
<section id="section-6.2.1">
          <h4 id="name-current-situation">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-current-situation" class="section-name selfRef">Current situation</a>
          </h4>
<p id="section-6.2.1-1">See the IANA <span>[<a href="#Registry" class="xref">Registry</a>]</span> for the latest
situation.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<section id="section-6.2.1.1">
            <h5 id="name-port-nut-3493">
<a href="#section-6.2.1.1" class="section-number selfRef">6.2.1.1. </a><a href="#name-port-nut-3493" class="section-name selfRef">Port nut/3493</a>
            </h5>
<p id="section-6.2.1.1-1">In 2002 IANA assigned port nut/3493 to project lead Russell Kroll,
and updated the assignment to the <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> itself in 2020.<a href="#section-6.2.1.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-6.2.1.2">
            <h5 id="name-port-ups-401">
<a href="#section-6.2.1.2" class="section-number selfRef">6.2.1.2. </a><a href="#name-port-ups-401" class="section-name selfRef">Port ups/401</a>
            </h5>
<p id="section-6.2.1.2-1">In 2008 IANA assigned ups/401 "Uninterruptible Power Supply" to Mr.
Charles Bennett as both assignee and contact.  We have been unable to
find any protocol document or other published activity report for this
port.  Mr. Bennett himself died in 2015,
see <span><a href="#Bennett" class="xref">obituary</a> [<a href="#Bennett" class="xref">Bennett</a>]</span>.  Since his email address
was registered by IANA as <code>bennettc@ohio.edu</code> it is possible
that the University of Ohio is a successor in interest.  The editor
tried to contact the IT support department of the university by email
and telephone but was rejected.
<span class="cref">Ed: My non-contact was Mr. Keith Brock, IT Support Senior
Specialist, brock@ohio.edu +1 740 597 2136</span><a href="#section-6.2.1.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-6.2.2">
          <h4 id="name-request-to-iana">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-request-to-iana" class="section-name selfRef">Request to IANA</a>
          </h4>
<p id="section-6.2.2-1">The <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> is mindful of IANA's position<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<blockquote id="section-6.2.2-2">that the
applicant MUST NOT use the requested port in implementations deployed
for use on the public Internet prior to the completion of the
assignment<a href="#section-6.2.2-2" class="pilcrow">¶</a>
</blockquote>
<p id="section-6.2.2-3"><span><a href="#RFC6335" class="xref">in clause 8.1.1
of</a> [<a href="#RFC6335" class="xref">RFC6335</a>]</span> and makes the following requests to assist the security
migration strategy described in <a href="#need" class="xref">Section 7.4, Paragraph 1</a>.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.2.2-4">
<li id="section-6.2.2-4.1">The <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> wishes to use the existing UPS Management Protocol as
described in this text on existing port ups/401 for full security
access to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>, i.e. command <code>STARTTLS</code> must be issued, accepted
and applied.<a href="#section-6.2.2-4.1" class="pilcrow">¶</a>
</li>
            <li id="section-6.2.2-4.2">The <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> requests that IANA consider transferring port ups/401 to
the <span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> and would appreciate IANA Expert advice on this matter.<a href="#section-6.2.2-4.2" class="pilcrow">¶</a>
</li>
          </ol>
</section>
</section>
</section>
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<div id="Sec">
<p id="section-7-1">A functioning power supply is vital to a computing
system.  The <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> is able to shut down a working system and it's power
supply: this raises multiple security issues.  Most of these are well
known IT issues concerning system protection and disaster recovery,
and are beyond the scope of this text.  However the protocol itself
has security considerations:<a href="#section-7-1" class="pilcrow">¶</a></p>
</div>
<ol start="1" type="1" class="compact type-1" id="section-7-2">
<li id="section-7-2.1">It should not be possible for non-authorised agents to open
sessions and send mission-critical commands such as <code>FSD
&lt;upsname&gt;</code> to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.<a href="#section-7-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-7-2.2">It should not be possible to intercept the traffic between the
<span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> and the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span>.<a href="#section-7-2.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-7-3">The following facilities address these requirements.<a href="#section-7-3" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-agent-verification">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-agent-verification" class="section-name selfRef">Agent verification</a>
        </h3>
<div id="password">
<p id="section-7.1-1">The protocol provides commands <code>LOGIN</code> and
<code>PASSWORD</code> which allow a <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> to authenticate itself to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span>.
The password needs protection from sniffing: This is done by
encrypting the traffic.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</div>
</section>
<section id="section-7.2">
        <h3 id="name-encryption">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-encryption" class="section-name selfRef">Encryption</a>
        </h3>
<div id="TLS">
<p id="section-7.2-1">The protocol provides command <code>STARTTLS</code> which calls
on the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> to support TLS encryption of the communication.  If this
command is accepted, the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> must also encrypt.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</div>
<p id="section-7.2-2">At present the command <code>STARTTLS</code> is too frequently refused, and
traffic proceeds unencrypted, with for example plain text transmission
of passwords.<a href="#section-7.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-7.3">
        <h3 id="name-current-security-practice">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-current-security-practice" class="section-name selfRef">Current security practice</a>
        </h3>
<div id="weak">
<p id="section-7.3-1">Experience over the last 20 years shows that new UPS
management software releases are not frequent, and when installed,
stay unmodified for some years.  This is probably because UPS
management is a mature hardware dependent activity.  A limited number
of system administrators have access to the UPS hardware and software
and tend to assume a certain "security by obscurity" since many
installations have a configuration as shown in
figure <a href="#fig.weak" class="xref">5</a> which uses port
nut/3493 between the two daemons running in the same system.  The
traffic is often not encrypted, and when encrypted uses deprecated
early versions of SSL/TLS.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
</div>
<span id="name-common-single-system-config"></span><div id="fig.weak">
<figure id="figure-5">
          <div class="artwork art-text alignCenter" id="section-7.3-2.1">
<pre> ,-----,   ,--------------------,---------------------,
 | UPS |---|  Attachment   &lt;-Commands     Management  |
 |     |===|    Daemon       Responses-&gt;    Daemon    |
 /-----\   '--------------------'---------------------'
              Listens on
             port nut/3493
             for localhost</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-common-single-system-config" class="selfRef">Common single-system configuration</a>
          </figcaption></figure>
</div>
<p id="section-7.3-3">This situation is now changing as low cost processors become
available, costing significantly less than a UPS unit.  This evolution
makes it interesting to shift to a configuration as shown in
figure <a href="#fig.weaker" class="xref">6</a>, but it also
exacerbates the security weakness of figure <a href="#fig.weak" class="xref">5</a> since the traffic between the daemons is now over an
exposed network.<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<span id="name-integration-of-ups-and-atta"></span><div id="fig.weaker">
<figure id="figure-6">
          <div class="artwork art-text alignCenter" id="section-7.3-4.1">
<pre> ,-----,------------,               ,--------------,
 | UPS - Attachment | &lt;-Commands    |  Management  |
 |     |   Daemon   |   Responses-&gt; |    Daemon    |
 /-----'------------\               '--------------'
         Listens on
        port nut/3493</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-integration-of-ups-and-atta" class="selfRef">Integration of UPS and Attachment Daemon</a>
          </figcaption></figure>
</div>
</section>
<section id="section-7.4">
        <h3 id="name-security-needs">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-security-needs" class="section-name selfRef">Security needs</a>
        </h3>
<div id="need">
<p id="section-7.4-1">UPS management needs to move to a more secure
practice in which all traffic is encrypted, but this cannot be imposed
by a wave of the hand.  The ideal would be an easy-to-follow migration
plan which provides the required encryption but tolerates the slow
moving updates of the UPS software.  A possible technique introduces
shims between the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> and the network, and between the network and
the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> as shown in figure <a href="#fig.shim" class="xref">7</a>.
These shims provide TLS support, allowing the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> and <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> to
continue temporarily without native TLS.  The technique has been
successfully tested, but the principal difficulty is that the shims
make use of a second port which is not currently available.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
</div>
<span id="name-shims-provide-tls-support-d"></span><div id="fig.shim">
<figure id="figure-7">
          <div class="artwork art-text alignCenter" id="section-7.4-2.1">
<pre>              TLS shim listens     TLS shim listens
                 on port ??          on port 3493
 ,-----,------------,----,               ,----,--------------,
 | UPS - Attachment |TLS | &lt;-STARTTLS    | TLS|  Management  |
 |     |   Daemon   |shim|         OK--&gt; |shim|    Daemon    |
 /-----'------------'----\               '----'--------------'
         Listens on
       port nut/3493</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-shims-provide-tls-support-d" class="selfRef">Shims provide TLS support during migration</a>
          </figcaption></figure>
</div>
<section id="section-7.4.1">
          <h4 id="name-attachment-daemon-shim">
<a href="#section-7.4.1" class="section-number selfRef">7.4.1. </a><a href="#name-attachment-daemon-shim" class="section-name selfRef">Attachment Daemon shim</a>
          </h4>
<p id="section-7.4.1-1">The shim in front of the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> listens to incoming traffic on a
port to be specified.  When it receives the command <code>STARTTLS</code> it<a href="#section-7.4.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.4.1-2">
<li id="section-7.4.1-2.1">Returns <code>OK</code> to the client and sets up TLS encapsulation.<a href="#section-7.4.1-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-7.4.1-2.2">Does not send <code>STARTTLS</code> to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> port nut/3493.<a href="#section-7.4.1-2.2" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-7.4.1-3">All other commands and responses are passed through.<a href="#section-7.4.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-7.4.2">
          <h4 id="name-management-daemon-shim">
<a href="#section-7.4.2" class="section-number selfRef">7.4.2. </a><a href="#name-management-daemon-shim" class="section-name selfRef">Management Daemon shim</a>
          </h4>
<p id="section-7.4.2-1">The shim in front of the <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> listens for incoming traffic on port
nut/3493.  When it receives the command <code>STARTTLS</code> it<a href="#section-7.4.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.4.2-2">
<li id="section-7.4.2-2.1">Returns <code>FEATURE-NOT-CONFIGURED</code> to the client.<a href="#section-7.4.2-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-7.4.2-2.2">Sends <code>STARTTLS</code> to the <span><a href="#AD" class="xref">Attachment Daemon</a> (<a href="#AD" class="xref">2.1</a>)</span> on a port to be specified.<a href="#section-7.4.2-2.2" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-7.4.2-3">All other commands and responses are passed through.<a href="#section-7.4.2-3" class="pilcrow">¶</a></p>
</section>
</section>
</section>
<section id="section-8">
      <h2 id="name-acknowledgements">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<div id="Ack">
<p id="section-8-1">

This text is based on the
<span><a href="#proj" class="xref">NUT Project</a> (<a href="#proj" class="xref">2.6</a>)</span> <span><a href="#developerguide" class="xref">documentation</a> [<a href="#developerguide" class="xref">developerguide</a>]</span>. The editor
acknowledges the work of Charles Lepple, Arjen de Korte, Arnaud
Quette, Jim Klimov, Russell Kroll, and many others who contribute to
the nut-upsuser <span><a href="#mailinglist" class="xref">mailing list</a> [<a href="#mailinglist" class="xref">mailinglist</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
</div>
<p id="section-8-2">The source for the text is marked up using an SGML
DTD <span>[<a href="#SGML" class="xref">SGML</a>]</span> and an XML meta-DTD as defined by
HyTime Annex A <span>[<a href="#HyTimeA" class="xref">HyTimeA</a>]</span>.
The <code>sgmlnorm</code> <span>[<a href="#sgmlnorm" class="xref">sgmlnorm</a>]</span> program
generates XML which
program <code>xml2rfc</code> <span>[<a href="#RFC7991" class="xref">RFC7991</a>]</span> uses to
prepare the text.  The editor acknowledges the support received in the
xml2rfc mailing list.<a href="#section-8-2" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-normative-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
    <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10">
      <h2 id="name-informative-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="Bennett">[Bennett]</dt>
      <dd>
<span class="refTitle">"Charles Bennett Obituary"</span>, <span class="seriesInfo">Publisher: Jagers and Sons Funeral Home, 24 Morris Ave., Athens OH</span>, <span>&lt;<a href="https://www.legacy.com/obituaries/name/charles-bennett-obituary?pid=174356861">https://www.legacy.com/obituaries/name/charles-bennett-obituary?pid=174356861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="developerguide">[developerguide]</dt>
      <dd>
<span class="refTitle">"Network UPS Tools (NUT) Project Developer Guide"</span>, <span>&lt;<a href="https://networkupstools.org/docs/developer-guide.chunked/ar01s09.html">https://networkupstools.org/docs/developer-guide.chunked/ar01s09.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HyTimeA">[HyTimeA]</dt>
      <dd>
<span class="refTitle">"International Standard ISO/IEC 10744 -- Hypermedia/Time-based Structuring Language, Annex A, SGML Extended Facilities"</span>, <span class="seriesInfo">ISO/IEC JTC 1/SC 34  Document description and processing languages</span>, <time datetime="1997" class="refDate">1997</time>. </dd>
<dd class="break"></dd>
<dt id="mailinglist">[mailinglist]</dt>
      <dd>
<span class="refTitle">"Network UPS Tools (NUT) Project Mailing List"</span>, <span>&lt;<a href="https://alioth-lists.debian.net/cgi-bin/mailman/listinfo/nut-upsuser">https://alioth-lists.debian.net/cgi-bin/mailman/listinfo/nut-upsuser</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="NUT">[NUT]</dt>
      <dd>
<span class="refTitle">"Network UPS Tools (NUT) Project"</span>, <span>&lt;<a href="https://www.networkupstools.org">https://www.networkupstools.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Registry">[Registry]</dt>
      <dd>
<span class="refTitle">"Service Name and Transport Protocol Port Number Registry"</span>, <span class="seriesInfo">Publisher: IANA</span>, <span>&lt;<a href="https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml">https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6335">[RFC6335]</dt>
      <dd>
<span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Eggert, L.</span><span class="refAuthor">, Touch, J.</span><span class="refAuthor">, Westerlund, M.</span><span class="refAuthor">, and S. Cheshire</span>, <span class="refTitle">"Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port Number Registry"</span>, <span class="seriesInfo">BCP 165</span>, <span class="seriesInfo">RFC 6335</span>, <span class="seriesInfo">DOI 10.17487/RFC6335</span>, <time datetime="2011-08" class="refDate">August 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6335">https://www.rfc-editor.org/info/rfc6335</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7991">[RFC7991]</dt>
      <dd>
<span class="refAuthor">Hoffman, P.</span>, <span class="refTitle">"The "xml2rfc" Version 3 Vocabulary"</span>, <span class="seriesInfo">RFC 7991</span>, <time datetime="2016-12" class="refDate">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
      <dd>
<span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Leiba, B.</span><span class="refAuthor">, and T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SGML">[SGML]</dt>
      <dd>
<span class="refAuthor">Goldfarb, Charles F.</span>, <span class="refTitle">"The SGML Handbook"</span>, <span class="seriesInfo">ISBN 0-19-853737-9</span>, <time datetime="1990" class="refDate">1990</time>. </dd>
<dd class="break"></dd>
<dt id="sgmlnorm">[sgmlnorm]</dt>
    <dd>
<span class="refAuthor">Clark, James.</span>, <span class="refTitle">"SGMLNORM An SGML System Conforming to International Standard ISO 8879 -- Standard Generalized Markup Language"</span>, <span>&lt;<a href="http://www.jclark.com/sp/sgmlnorm.htm">http://www.jclark.com/sp/sgmlnorm.htm</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-appendix.a">
      <h2 id="name-variables-and-instant-comma">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-variables-and-instant-comma" class="section-name selfRef">Variables and Instant Commands</a>
      </h2>
<div id="Annex1">
<p id="section-appendix.a-1"></p>
</div>
<section id="section-a.1">
        <h2 id="name-ups-variables">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-ups-variables" class="section-name selfRef">UPS variables</a>
        </h2>
<div id="variables">
<p id="section-a.1-1">The UPS variables represent the abstracted state
of the UPS unit.  The number of variables depends on the
sophistication of the product.  Those shown here are a typical
example.  An implementation of a <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> acting as a utility program may
provide a listing of the variables available, as well as acting on
them. <span class="cref">Ed: NUT: upsc</span><a href="#section-a.1-1" class="pilcrow">¶</a></p>
</div>
<span id="name-typical-ups-variables"></span><div id="typvar">
<table class="center" id="table-5">
          <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-typical-ups-variables" class="selfRef">Typical UPS Variables</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Variable </th>
              <th class="text-center" rowspan="1" colspan="1">Typical value </th>
              <th class="text-center" rowspan="1" colspan="1">Default description
</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>battery.charge</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>100</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Battery charge (percent of full)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>battery.charge.low</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>20</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Remaining battery level when UPS switches to LB (percent)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>battery.runtime</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1481</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Battery runtime (seconds)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>battery.type</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PbAc</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Battery chemistry"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>device.mfr</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>WhizBang</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"" 
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>device.model</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>Economy 1700</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"" 
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>device.serial</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1234567890</code> </td>
              <td class="text-left" rowspan="1" colspan="1">""
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>device.type</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups</code> </td>
              <td class="text-left" rowspan="1" colspan="1">""
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.name</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>usbhid-ups</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver name"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.lowbatt</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>37</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.offdelay</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>30</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.ondelay</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>40</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.pollfreq</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>30</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.pollinterval</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>2</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.port</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>auto</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.synchronous</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>no</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.parameter.vendorid</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>0999</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver parameter: &lt;name&gt;"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.version</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>2.7.4</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Driver version - NUT release"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.version.data</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>HID 1.39</code> </td>
              <td class="text-left" rowspan="1" colspan="1">""
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>driver.version.internal</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>0.41</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Internal driver version"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>input.transfer.high</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>264</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"High voltage transfer point (V)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>input.transfer.low</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>184</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Low voltage transfer point (V)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.1.desc</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PowerShare Outlet 1</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet description"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.1.id</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>2</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet system identifier"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.1.status</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>on</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet switch status"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.1.switchable</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>no</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet switch ability"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.2.desc</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PowerShare Outlet 2</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet description"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.2.id</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>3</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet system identifier"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.2.status</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>on</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet switch status"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.2.switchable</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>no</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet switch ability"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.desc</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>Main Outlet</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet description"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.id</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet system identifier"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.power</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>25</code> </td>
              <td class="text-left" rowspan="1" colspan="1">""
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.switchable</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>no</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Outlet switch ability"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>output.frequency.nominal</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>50</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Nominal output frequency (Hz)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>output.voltage</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>230.0</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Output voltage (V)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>output.voltage.nominal</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>230</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Nominal output voltage (V)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.beeper.status</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>enabled</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"UPS beeper status"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.delay.shutdown</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>20</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Interval to wait after shutdown with delay command (seconds)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.delay.start</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>30</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Interval to wait before (re)starting the load (seconds)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.firmware</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>02</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"UPS firmware"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.load</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>20</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Load on UPS (percent of full)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.mfr</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>WhizBang</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"UPS manufacturer"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.model</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>Economy 1700</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"UPS model"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.power.nominal</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1700</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"UPS power rating (VA)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.productid</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ffff</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Product ID for USB devices"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.serial</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>000000000</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"UPS serial number"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.status</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>OL</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"UPS status"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.timer.shutdown</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>0</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Time before the load will be shutdown (seconds)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.timer.start</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>0</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Time before the load will be started (seconds)"
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.vendorid</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>0999</code> </td>
              <td class="text-left" rowspan="1" colspan="1">"Vendor ID for USB devices"
</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
<section id="section-a.2">
        <h2 id="name-ups-readable-and-writable-v">
<a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-ups-readable-and-writable-v" class="section-name selfRef">UPS readable and writable variables</a>
        </h2>
<div id="rw">
<p id="section-a.2-1">Some of the features of a UPS are represented by
variables which may be tuned by the user.  The following variables are
typical of such tunable features.  The precise list depends on the
model of UPS.  An implementation of a <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> acting as a utility
program may provide a listing of the variables available, as well as
acting on them. <span class="cref">Ed: NUT: upsrw</span><a href="#section-a.2-1" class="pilcrow">¶</a></p>
</div>
<span id="name-typical-readable-and-writab"></span><table class="center" id="table-6">
          <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-typical-readable-and-writab" class="selfRef">Typical readable and writable UPS Variables</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Variable </th>
              <th class="text-center" rowspan="1" colspan="1">Typical value
    </th>
              <th class="text-center" rowspan="1" colspan="1">Default description provided as response to the command <code>GET DESC</code>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>battery.charge.low</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>20</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Remaining battery level when UPS switches to LB (percent)"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>input.transfer.high</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>264</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"High voltage transfer point (V)"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>input.transfer.low</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>184</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Low voltage transfer point (V)"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.1.desc</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PowerShare Outlet 1</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Outlet description"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.2.desc</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PowerShare Outlet 2</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Outlet description"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.2.switchable</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>no</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Outlet switch ability"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.desc</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>Main Outlet</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Outlet description"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>outlet.power</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>25</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Description unavailable"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>output.voltage.nominal</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>230</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Nominal output voltage (V)"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.delay.shutdown</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>20</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Interval to wait after shutdown with delay command (seconds)"</code>
              </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ups.delay.start</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>30</code> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"Interval to wait before (re)starting the load (seconds)"</code>
              </td>
            </tr>
          </tbody>
        </table>
</section>
<section id="section-a.3">
        <h2 id="name-ups-instant-commands">
<a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-ups-instant-commands" class="section-name selfRef">UPS Instant Commands</a>
        </h2>
<div id="instcmd">
<p id="section-a.3-1">Some of the features of a UPS are actions which
may be ordered by the user.  The following variables represent such
actions.  The precise list depends on the model of UPS.  An
implementation of a <span><a href="#MD" class="xref">Management Daemon</a> (<a href="#MD" class="xref">2.5</a>)</span> acting as a utility program may provide a
listing of the variables available, as well as acting on
them. <span class="cref">Ed: NUT: upscmd</span><a href="#section-a.3-1" class="pilcrow">¶</a></p>
</div>
<span id="name-typical-instant-commands"></span><table class="center" id="table-7">
          <caption>
<a href="#table-7" class="selfRef">Table 7</a>:
<a href="#name-typical-instant-commands" class="selfRef">Typical Instant Commands</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Command </th>
              <th class="text-center" rowspan="1" colspan="1">Meaning
</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>beeper.disable</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Disable the UPS beeper
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>beeper.enable</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Enable the UPS beeper
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>beeper.mute</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Temporarily mute the UPS beeper
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>load.off</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Turn off the load immediately
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>load.off.delay</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Turn off the load with a delay (seconds)
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>load.on</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Turn on the load immediately
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>load.on.delay</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Turn on the load with a delay (seconds)
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>shutdown.return</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Turn off the load and return when power is back
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>shutdown.stayoff</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Turn off the load and remain off
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>shutdown.stop</code> </td>
              <td class="text-left" rowspan="1" colspan="1">Stop a shutdown in progress
</td>
            </tr>
          </tbody>
        </table>
</section>
</section>
<section id="section-appendix.b">
      <h2 id="name-change-log">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<p id="section-appendix.b-1">This section is to be removed before publishing as an RFC.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
<p id="section-appendix.b-2"><span class="cref">Ed: To be removed on publication.</span><a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
<section id="section-b.1">
        <h2 id="name-changes-in-version-01">
<a href="#section-b.1" class="section-number selfRef">B.1. </a><a href="#name-changes-in-version-01" class="section-name selfRef">Changes in version 01</a>
        </h2>
<ol start="1" type="1" class="compact type-1" id="section-b.1-1">
<li id="section-b.1-1.1">There is exactly <span><a href="#onenewline" class="xref">one
newline</a> (<a href="#onenewline" class="xref">4.1</a>)</span> at the end of commands and responses.<a href="#section-b.1-1.1" class="pilcrow">¶</a>
</li>
          <li id="section-b.1-1.2">Added descriptions to variables in <span><a href="#Annex1" class="xref">Annex</a> (<a href="#Annex1" class="xref">A</a>)</span>.<a href="#section-b.1-1.2" class="pilcrow">¶</a>
</li>
          <li id="section-b.1-1.3">Added clause <span><a href="#Event" class="xref">Event</a> (<a href="#Event" class="xref">5.2</a>)</span>.<a href="#section-b.1-1.3" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</section>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Roger Price (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Network UPS Tools Project</span></div>
<div dir="auto" class="left"><span class="locality">La Gaude
            </span></div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+33%20493%2024%2043%2057" class="tel">+33 493 24 43 57</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:ietf@rogerprice.org" class="email">ietf@rogerprice.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
