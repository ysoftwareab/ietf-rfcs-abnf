<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RADIUS Extensions for Server Load Balancing</title>
<meta content="Daniel Massameno" name="author">
<meta content="
          This document describes a method for a Network Access 
   Server (NAS) to dynamically discover all available RADIUS servers.
   It defines a new message type within the STATUS-SERVER message, which is 
   requested by the NAS and provided by the RADIUS server.  The
   NAS is then able to load balance its RADIUS messages across multiple
   RADIUS servers based on priority and weight supplied by the initial
   server. 
    " name="description">
<meta content="xml2rfc 2.45.3" name="generator">
<meta content="radius load balance adc" name="keyword">
<meta content="draft-massameno-radius-lb-00" name="ietf.draft">
<link href="/tmp/draft-massameno-radius-lb-00-5faez1x4.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">radius-lb</td>
<td class="right">June 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Massameno</td>
<td class="center">Expires 27 December 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Internet Engineering Task Force</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-xml2rfc-template-06</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-06-25" class="published">25 June 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-12-27">27 December 2020</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D.J. Massameno, <span class="editor">Ed.</span>
</div>
<div class="org">Yale University</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">RADIUS Extensions for Server Load Balancing</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">   This document describes a method for a Network Access 
   Server (NAS) to dynamically discover all available RADIUS servers.
   It defines a new message type within the STATUS-SERVER message, which is 
   requested by the NAS and provided by the RADIUS server.  The
   NAS is then able to load balance its RADIUS messages across multiple
   RADIUS servers based on priority and weight supplied by the initial
   server.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 27 December 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a><a href="#section-toc.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.1.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-overall-message-exchange-su" class="xref">Overall Message Exchange Summary</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-attributes-needed-for-statu" class="xref">Attributes Needed for Status-Server-LB</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-table-of-attributes" class="xref">Table of Attributes</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-required-status-server-lb-a" class="xref">Required Status-Server-LB Attributes</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="xref">2.3.1</a>.  <a href="#name-nas-ip-address-and-or-nas-i" class="xref">NAS-IP Address and/or NAS-Identifier</a><a href="#section-toc.1-1.2.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="xref">2.3.2</a>.  <a href="#name-message-authenticator" class="xref">Message-Authenticator</a><a href="#section-toc.1-1.2.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-lb-request-attribute" class="xref">LB-Request Attribute</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-lb-response-attribute" class="xref">LB-Response Attribute</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-lb-response-attribute-forma" class="xref">LB-Response Attribute Format</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-the-svr-record-tlv" class="xref">The SVR-Record TLV</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-svr-record-ipv4" class="xref">SVR-Record-IPv4</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-svr-record-ipv6" class="xref">SVR-Record-IPv6</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-table-of-sub-attributes" class="xref">Table of Sub-Attributes</a><a href="#section-toc.1-1.5.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-sub-attributes-needed-for-s" class="xref">Sub-Attributes Needed for SVR-Record TLV</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-lb-ttl" class="xref">LB-TTL</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-lb-priority" class="xref">LB-Priority</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-lb-weight" class="xref">LB-Weight</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-lb-ipv4" class="xref">LB-IPv4</a><a href="#section-toc.1-1.6.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="xref">6.5</a>.  <a href="#name-lb-ipv6" class="xref">LB-IPv6</a><a href="#section-toc.1-1.6.2.5.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-load-balancing-rules" class="xref">Load Balancing Rules</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-session-based-load-balancin" class="xref">Session-Based Load Balancing</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-load-balancing-weight" class="xref">Load Balancing Weight</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-clear-text-transmission" class="xref">Clear Text Transmission</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-reconnaissance" class="xref">Reconnaissance</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-md5" class="xref">MD5</a><a href="#section-toc.1-1.8.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-nas-identifying-initial-rad" class="xref">NAS identifying Initial RADIUS Servers</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Modern networks require Authentication, Authorization and Accounting (AAA) 
      services for a wide range of deployment scenarios.  Many of these scenarios are 
      mission critical and require fault tolerance and increased up-time.  Most network 
      equipment can be configured to access multiple back-end RAIDUS servers.  When one 
      server fails the equipment switches to the other RADIUS server.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The configuration of multiple RADIUS servers within the Network Access Server (RADIUS 
      Client) currently has a number of limitations within contemporary implementations. 
      There may be a limitation in the number of RADIUS servers that can be easily configured 
      and maintained.  Also, until a failure is detected, the Network Access Server will likely 
      only use one RADIUS server, even if multiple are configured.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">To relieve these limitations, some installations choose to use a load balancer between the 
      Network Access Server and the RADIUS server.  This has the advantage of supporting an 
      arbitrarily large number of RADIUS servers.  The load balancer can be configured to 
      distribute the load evenly based on a defined algorithm.  Proportional load distribution 
      may be a desirable property when trying to scale out to multiple back-end RADIUS servers 
      for the purposes of increasing capacity.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The RADIUS extensions in this document achieve the load balancing property without using 
      a separate load balancing device.  With the removal of the external load balancer the 
      operational complexity of the entire system will decrease.  Also, as opposed to a third-party 
      device, the NAS and RADIUS servers are the best devices to determine the operational status
      of the necessary components, thereby assisting in fault detection and avoidance.<a href="#section-1-4" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
       "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
       document are to be interpreted as described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-terminology">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.2-1">This document frequently uses the following terms:<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<dl class="dlNewline" id="section-1.2-2">
          <dt id="section-1.2-2.1">session</dt>
<dd style="margin-left: 8.5em" id="section-1.2-2.2">Each service provided by the NAS to a user attempting to connect (a dial-in user in the original RADIUS specifications) constitutes a session.  The beginning of the session is defined as the point where service is first provided and the end of the session defined as the point where service is ended.  A user may have multiple sessions in parallel or series if supported by the NAS.<a href="#section-1.2-2.2" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-1.2-2.3">calling-station</dt>
<dd style="margin-left: 8.5em" id="section-1.2-2.4">This is the user or device that wishes access to the network.  It connects to the NAS and, in most cases, presents identifying information.<a href="#section-1.2-2.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-1.2-2.5">NAS</dt>
<dd style="margin-left: 8.5em" id="section-1.2-2.6">This is a Network Access Server.  This is the device that receives the incoming connection from a calling-station that wishes access to the network.  Some vendors call this the Network Access Device (NAD).  The NAS then communicates with the RADIUS Server on behalf of the calling-station.<a href="#section-1.2-2.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-1.2-2.7">RADIUS Server</dt>
<dd style="margin-left: 8.5em" id="section-1.2-2.8">This is the machine that implements the server side of the RADIUS protocol.<a href="#section-1.2-2.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-1.2-2.9">AAA services</dt>
<dd style="margin-left: 8.5em" id="section-1.2-2.10">The RADIUS protocol serves the functions of Authentication (identity), Authorization (what the user is allowed to do and how their connection should be configured), and Accounting (a record of the actions taken for the connection).<a href="#section-1.2-2.10" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-1.2-2.11">PDU</dt>
<dd style="margin-left: 8.5em" id="section-1.2-2.12">The Protocol Data Unit is the organization of data in a formal specification that is serialized and transmitted between entities on a network.<a href="#section-1.2-2.12" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-2">
      <h2 id="name-overall-message-exchange-su">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overall-message-exchange-su" class="section-name selfRef">Overall Message Exchange Summary</a>
      </h2>
<p id="section-2-1">The RADIUS protocol <span>[<a href="#RFC2865" class="xref">RFC2865</a>]</span> defines a PDU for transporting messages 
        within UDP.  The operation of the Code, Identifier, Length, and Authenticator 
        fields are specified in RFC2865.  The operation of the Status-Server message 
        is specified in <span>[<a href="#RFC5997" class="xref">RFC5997</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="main_pdu">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-2-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Code      |  Identifier   |            Length             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   |                          Authenticator                        |
   |                                                               |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Attributes ...
   +-+-+-+-+-+-+-+-+-+-+-+-+-

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
</div>
<dl class="dlNewline" id="section-2-3">
        <dt id="section-2-3.1">Code</dt>
<dd style="margin-left: 1.0em" id="section-2-3.2">12 for Status-Server.  This is the code used in RFC5997.<a href="#section-2-3.2" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-2-3.3">Identifier</dt>
<dd style="margin-left: 1.0em" id="section-2-3.4">      The Identifier field MUST be changed whenever the content of the
      Attributes field changes, and whenever a valid reply has been
      received for a previous request.  For retransmissions, the
      Identifier MUST remain unchanged.<a href="#section-2-3.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-2-3.5">Authenticator</dt>
<dd style="margin-left: 1.0em" id="section-2-3.6">      The Request Authenticator value MUST be changed each time a new
      Identifier is used.  
      The Authenticator does not authenticate the identity of the NAS or the RADIUS 
      server.  The Message-Authenticator (Attribute 80) <span>[<a href="#RFC3579" class="xref">RFC3579</a>]</span> MUST be used 
      to authenticate both sides of the message exchange.<a href="#section-2-3.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-2-3.7">Length</dt>
<dd style="margin-left: 1.0em" id="section-2-3.8">      The Length field is two octets.  It indicates the length of the
      packet including the Code, Identifier, Length, Authenticator and
      Attribute fields.  Octets outside the range of the Length field
      MUST be treated as padding and ignored on reception.  If the
      packet is shorter than the Length field indicates, it MUST be
      silently discarded.  The minimum length is 20 and maximum length
      is 4096.<a href="#section-2-3.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-2-3.9">Attributes</dt>
<dd style="margin-left: 1.0em" id="section-2-3.10">      The Attribute field is variable in length, and contains the list
      of Attributes that are required for the type of service, as well
      as any desired optional Attributes.<a href="#section-2-3.10" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
<section id="section-2.1">
        <h3 id="name-attributes-needed-for-statu">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-attributes-needed-for-statu" class="section-name selfRef">Attributes Needed for Status-Server-LB</a>
        </h3>
<p id="section-2.1-1">The conversation between the NAS and the RADIUS server for the purposes 
        of the load-balance function involves a sending an LB-Request attribute 
        to the server.  The server then responds with an LB-Response attribute.  Both 
        MUST contain a RADIUS attribute Message-Authenticator [RFC3579].<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-table-of-attributes">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-table-of-attributes" class="section-name selfRef">Table of Attributes</a>
        </h3>
<p id="section-2.2-1">The following table provides a guide to which attributes may be found
   in which kinds of packets, and in what quantity.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<div id="table_needed_attr">
<figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-2.2-2.1">
<pre>
   LB-Request    LB-Response   #     Attribute
   0-1           0             4     NAS-IP-Address [Note 1]
   0-1           0             32    NAS-Identifier [Note 1]
   1             1             80    Message-Authenticator
   1             1             191   LB-Request / LB-Response


</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a></figcaption></figure>
</div>
<p id="section-2.2-3">[Note 1] A Status-Server message MUST contain either a NAS-IP-Address or a
   NAS-Identifier (or both).<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2-4">0     This attribute MUST NOT be present in packet.
0-1   Zero or one instance of this attribute MAY be present in packet.
1     Exactly one instance of this attribute MUST be present in packet.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3">
        <h3 id="name-required-status-server-lb-a">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-required-status-server-lb-a" class="section-name selfRef">Required Status-Server-LB Attributes</a>
        </h3>
<p id="section-2.3-1">The required attributes for a valid LB-Request message are outlined here.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<section id="section-2.3.1">
          <h4 id="name-nas-ip-address-and-or-nas-i">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-nas-ip-address-and-or-nas-i" class="section-name selfRef">NAS-IP Address and/or NAS-Identifier</a>
          </h4>
<p id="section-2.3.1-1">The NAS-IP-Address or the NAS-Identifier or both attributes are required 
      in an LB-Request message.  These are specified in [RFC2865] as Attributes 4 and 
      32 respectively.  This will identify the NAS to the RADIUS server.<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.2">
          <h4 id="name-message-authenticator">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-message-authenticator" class="section-name selfRef">Message-Authenticator</a>
          </h4>
<p id="section-2.3.2-1">In a normal RADIUS access-request message the Request Authenticator field is 
      hashed with the identity material from the calling-station and the RADIUS shared 
      secret.  In an LB-Request message there is no calling-station, so this mechanism 
      cannot be used.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.2-2">RFC3579 specifies Attribute 80 that computes an MD5 hash across the entire 
      RADIUS PDU combined with the shared secret.  This mechanism must be used in 
      all LB-Request and LB-Response PDUs.<a href="#section-2.3.2-2" class="pilcrow">¶</a></p>
</section>
</section>
</section>
<section id="section-3">
      <h2 id="name-lb-request-attribute">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-lb-request-attribute" class="section-name selfRef">LB-Request Attribute</a>
      </h2>
<p id="section-3-1">The conversation between the NAS and the server to implement the Status-Server-LB 
      protocol MUST include a RADIUS message with the LB-Request attribute.  This message 
      informs the server that the NAS would like to discover all RADIUS servers that are 
      available to handle RADIUS authentication requests.  The NAS anticipates a Status-Server-LB 
      response in the form of an LB-Response PDU.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">The Attributes field in the RADIUS message shall be arranged as follows.<a href="#section-3-2" class="pilcrow">¶</a></p>
<div id="lb-request-attribute">
<figure id="figure-3">
        <div class="artwork art-text alignLeft" id="section-3-3.1">
<pre>
    0                   1                   2
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type=191    |    Length     |S|R|R|R|R|R|R|R|R|R|R|R|R|R|R|R|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a></figcaption></figure>
</div>
<dl class="dlNewline" id="section-3-4">
        <dt id="section-3-4.1">Type</dt>
<dd style="margin-left: 1.0em" id="section-3-4.2">191 for Status-Server Load Balancing.<a href="#section-3-4.2" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-3-4.3">Length</dt>
<dd style="margin-left: 1.0em" id="section-3-4.4">
          <p id="section-3-4.4.1">= 4<a href="#section-3-4.4.1" class="pilcrow">¶</a></p>
<p id="section-3-4.4.2"> The length field calculates the length of the attribute, which includes 
      the type, length and capabilities field.<a href="#section-3-4.4.2" class="pilcrow">¶</a></p>
</dd>
<dd class="break"></dd>
<dt id="section-3-4.5">Server-Status-LB Bit (S-bit)</dt>
<dd style="margin-left: 1.0em" id="section-3-4.6">This bit is to indicate the client can process Status-Server-LB as 
      described in this document.  It MUST be set to indicate compliance 
      with this standard.<a href="#section-3-4.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-3-4.7">R-Bit</dt>
<dd style="margin-left: 1.0em" id="section-3-4.8">These bits are reserved for future capabilities of the protocol.  These 
      MUST be set to zero on transmission and ignored on receipt.<a href="#section-3-4.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
<p id="section-3-5">A NAS that sends an LB-Request attribute but does not receive an LB-Response 
    attribute MUST continue normally as if it had not sent the LB-Request attribute.<a href="#section-3-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-lb-response-attribute">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-lb-response-attribute" class="section-name selfRef">LB-Response Attribute</a>
      </h2>
<p id="section-4-1">When the server receives a Status-Server packet from the NAS and 
      it contains an LB-Request attribute it SHOULD respond with a Status-Server 
      message that contains an LB-Response attribute.  In scenarios where the 
      administrator does not want to convey load-balancer information to the NAS 
      the RADIUS server MAY choose to not respond.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">If the initial Status-Server message included attributes other than the 
      LB-Request attribute the server MAY choose to respond but simply omit the 
      LB-Response attribute.<a href="#section-4-2" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-lb-response-attribute-forma">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-lb-response-attribute-forma" class="section-name selfRef">LB-Response Attribute Format</a>
        </h3>
<p id="section-4.1-1">The Attributes field in the RADIUS message shall be arranged as follows.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<div id="lb-response-attribute">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-4.1-2.1">
<pre>
    0                   1                   2
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
   |   Type=191    |    Length     |  Server_Info ...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-


</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a></figcaption></figure>
</div>
<dl class="dlNewline" id="section-4.1-3">
          <dt id="section-4.1-3.1">Type</dt>
<dd style="margin-left: 1.0em" id="section-4.1-3.2">191 for Status-Server Load Balancing.<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-4.1-3.3">Length</dt>
<dd style="margin-left: 1.0em" id="section-4.1-3.4">
            <p id="section-4.1-3.4.1">&gt;= 3<a href="#section-4.1-3.4.1" class="pilcrow">¶</a></p>
<p id="section-4.1-3.4.2">The length field calculates the length in octets of the Type field, 
      Length field, and the concatenation of all the server_info PDUs.<a href="#section-4.1-3.4.2" class="pilcrow">¶</a></p>
</dd>
<dd class="break"></dd>
<dt id="section-4.1-3.5">Server_Info</dt>
<dd style="margin-left: 1.0em" id="section-4.1-3.6">      The String field is one or more server_info PDUs.  Each PDU defines 
      the status of a single server and its defining characteristics.<a href="#section-4.1-3.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-5">
      <h2 id="name-the-svr-record-tlv">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-the-svr-record-tlv" class="section-name selfRef">The SVR-Record TLV</a>
      </h2>
<p id="section-5-1">The SVR-Record (Server Record) TLV is a family of Type-Length-Value attributes 
        that holds multiple sub-attributes as described in Section 5.  Each SVR-Record 
        type supports a particular address family.  SVR-Record-IPv4 and SVR-Record-IPv6 
        are defined in this document.  Other address families may be supported by future 
        standards.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">In order to support more than six SVR-Records in one RADIUS packet these 
        attributes are allocated in the Long-Extended-Type Attribute 
        defined in <span>[<a href="#RFC6929" class="xref">RFC6929</a>]</span>.<a href="#section-5-2" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-svr-record-ipv4">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-svr-record-ipv4" class="section-name selfRef">SVR-Record-IPv4</a>
        </h3>
<dl class="dlNewline" id="section-5.1-1">
          <dt id="section-5.1-1.1">Description</dt>
<dd style="margin-left: 1.0em" id="section-5.1-1.2">
            <p id="section-5.1-1.2.1">This attribute indicates a SVR-Record that contains information 
      about an IPv4  RADIUS server.  This attribute conforms to 
      the TLV-Data type described in <span>[<a href="#RFC8044" class="xref">RFC8044</a>]</span>.<a href="#section-5.1-1.2.1" class="pilcrow">¶</a></p>
<p id="section-5.1-1.2.2">  A summary of the SVR-Record_ipv4 Attribute format is shown below.  The fields are transmitted 
          from left to right.<a href="#section-5.1-1.2.2" class="pilcrow">¶</a></p>
<div id="svr-record-ipv4">
<figure id="figure-5">
              <div class="artwork art-text alignLeft" id="section-5.1-1.2.3.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |   TLV-Type    |  TLV-Length   |     TLV-Data ...
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a></figcaption></figure>
</div>
</dd>
<dd class="break"></dd>
<dt id="section-5.1-1.3">Type</dt>
<dd style="margin-left: 1.0em" id="section-5.1-1.4">245.TBD1  for SVR-Record-IPv4.<a href="#section-5.1-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-5.1-1.5">Length</dt>
<dd style="margin-left: 1.0em" id="section-5.1-1.6">
            <p id="section-5.1-1.6.1">The TLV-Length field is one octet and indicates the length of
         this TLV, including the TLV-Type, TLV-Length, and TLV-Value
         fields.  It MUST have a value between 3 and 255.  If a client
         or server receives a TLV with an invalid TLV-Length, then the
         attribute that encapsulates that TLV MUST be considered to be
         an invalid attribute and is handled as per
         [RFC6929], Section 2.8.<a href="#section-5.1-1.6.1" class="pilcrow">¶</a></p>
<p id="section-5.1-1.6.2">
         TLVs having a TLV-Length of two (2) MUST NOT be sent; omit the
         entire TLV instead.<a href="#section-5.1-1.6.2" class="pilcrow">¶</a></p>
</dd>
<dd class="break"></dd>
<dt id="section-5.1-1.7">TLV-Data</dt>
<dd style="margin-left: 1.0em" id="section-5.1-1.8">The TLV-Data for the SVR-Record-IPv6 attribute indicates the usage of
         one RADIUS server that has an IPv6 address.  It must include 
         sub-attributes for LB-TTL, LB-priority, LB-Weight and LB-IPv4.<a href="#section-5.1-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-5.2">
        <h3 id="name-svr-record-ipv6">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-svr-record-ipv6" class="section-name selfRef">SVR-Record-IPv6</a>
        </h3>
<dl class="dlNewline" id="section-5.2-1">
          <dt id="section-5.2-1.1">Description</dt>
<dd style="margin-left: 1.0em" id="section-5.2-1.2">
            <p id="section-5.2-1.2.1">      This attribute indicates an SVR-Record that contains information 
      about an IPv6  RADIUS server.  This attribute conforms to the 
      TLV-Data type described in RFC8044.<a href="#section-5.2-1.2.1" class="pilcrow">¶</a></p>
<p id="section-5.2-1.2.2">     A summary of the SVR-Record-IPv6 Attribute format is shown below.  The
   fields are transmitted from left to right.<a href="#section-5.2-1.2.2" class="pilcrow">¶</a></p>
<div id="svr-record-ipv6">
<figure id="figure-6">
              <div class="artwork art-text alignLeft" id="section-5.2-1.2.3.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |   TLV-Type    |  TLV-Length   |     TLV-Data ...
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a></figcaption></figure>
</div>
</dd>
<dd class="break"></dd>
<dt id="section-5.2-1.3">Type</dt>
<dd style="margin-left: 1.0em" id="section-5.2-1.4">245.TBD2  for SVR-Record-IPv6.<a href="#section-5.2-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-5.2-1.5">Length</dt>
<dd style="margin-left: 1.0em" id="section-5.2-1.6">
            <p id="section-5.2-1.6.1">The TLV-Length field is one octet and indicates the length of
         this TLV, including the TLV-Type, TLV-Length, and TLV-Value
         fields.  It MUST have a value between 3 and 255.  If a client
         or server receives a TLV with an invalid TLV-Length, then the
         attribute that encapsulates that TLV MUST be considered to be
         an invalid attribute and is handled as per
         [RFC6929], Section 2.8.<a href="#section-5.2-1.6.1" class="pilcrow">¶</a></p>
<p id="section-5.2-1.6.2">
         TLVs having a TLV-Length of two (2) MUST NOT be sent; omit the
         entire TLV instead.<a href="#section-5.2-1.6.2" class="pilcrow">¶</a></p>
</dd>
<dd class="break"></dd>
<dt id="section-5.2-1.7">TLV-Data</dt>
<dd style="margin-left: 1.0em" id="section-5.2-1.8">The TLV-Data for the SVR-Record-IPv6 attribute indicates the usage of
         one RADIUS server that has an IPv6 address.  It must include 
         sub-attributes for LB-TTL, LB-priority, LB-Weight and LB-IPv6.<a href="#section-5.2-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-5.3">
        <h3 id="name-table-of-sub-attributes">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-table-of-sub-attributes" class="section-name selfRef">Table of Sub-Attributes</a>
        </h3>
<p id="section-5.3-1">The following table provides a guide to which sub-attributes may be found
   in which kinds of packets and in what quantity.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<div id="sub-attribute-table">
<figure id="figure-7">
          <div class="artwork art-text alignLeft" id="section-5.3-2.1">
<pre>
   SVR-Record-IPv4   SVR-Record-IPv6   #    Sub-Attribute
   1                 1                 1    LB-TTL
   1                 1                 2    LB-priority
   1                 1                 3    LB-Weight
   1                 0                 4    LB-IPv4
   0                 1                 5    LB-IPv6

</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a></figcaption></figure>
</div>
<p id="section-5.3-3">The following table defines the meaning of the above table entries.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<div id="sub-attribute-table-explained">
<figure id="figure-8">
          <div class="artwork art-text alignLeft" id="section-5.3-4.1">
<pre>
0     This attribute MUST NOT be present in TLV.
0+    Zero or more instances of this attribute MAY be
      present in packet.
0-1   Zero or one instance of this attribute MAY be present
      in packet.
1     Exactly one instance of this attribute MUST
      be present in packet.


</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a></figcaption></figure>
</div>
</section>
</section>
<section id="section-6">
      <h2 id="name-sub-attributes-needed-for-s">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-sub-attributes-needed-for-s" class="section-name selfRef">Sub-Attributes Needed for SVR-Record TLV</a>
      </h2>
<p id="section-6-1">The server_info field contains multiple SVR-Records.  Each SVR-Record will contain 
        multiple sub-fields that are documented in this section.<a href="#section-6-1" class="pilcrow">¶</a></p>
<section id="section-6.1">
        <h3 id="name-lb-ttl">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-lb-ttl" class="section-name selfRef">LB-TTL</a>
        </h3>
<dl class="dlNewline" id="section-6.1-1">
          <dt id="section-6.1-1.1">Description</dt>
<dd style="margin-left: 1.0em" id="section-6.1-1.2">
            <p id="section-6.1-1.2.1">      This attribute indicates how long the NAS should 
        consider the SVR-Record valid.<a href="#section-6.1-1.2.1" class="pilcrow">¶</a></p>
<p id="section-6.1-1.2.2">        A summary of the User-Name Attribute format is shown below.  The
   fields are transmitted from left to right.<a href="#section-6.1-1.2.2" class="pilcrow">¶</a></p>
<div id="lb-ttl">
<figure id="figure-9">
              <div class="artwork art-text alignLeft" id="section-6.1-1.2.3.1">
<pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |            integer
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       integer  (cont)          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a></figcaption></figure>
</div>
</dd>
<dd class="break"></dd>
<dt id="section-6.1-1.3">Type</dt>
<dd style="margin-left: 1.0em" id="section-6.1-1.4">1 for LB-TTL<a href="#section-6.1-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.1-1.5">Length</dt>
<dd style="margin-left: 1.0em" id="section-6.1-1.6"> 6<a href="#section-6.1-1.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.1-1.7">integer</dt>
<dd style="margin-left: 1.0em" id="section-6.1-1.8">This field indicates the number of seconds this SVR-Record should 
      be in-use and considered valid.  If the TTL is 0, the entry
      SHOULD be removed from the cache immediately.  If the value is
      0xffffffff, the recipient can decide locally how long to store the
      mapping.  It conforms to the integer data type specified in RFC8044.<a href="#section-6.1-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.2">
        <h3 id="name-lb-priority">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-lb-priority" class="section-name selfRef">LB-Priority</a>
        </h3>
<dl class="dlNewline" id="section-6.2-1">
          <dt id="section-6.2-1.1">Description</dt>
<dd style="margin-left: 1.0em" id="section-6.2-1.2">
            <p id="section-6.2-1.2.1">This attribute indicates the priority of the SVR-Record.<a href="#section-6.2-1.2.1" class="pilcrow">¶</a></p>
<p id="section-6.2-1.2.2">A summary of the LB-priority Attribute format is shown below.  The
   fields are transmitted from left to right.<a href="#section-6.2-1.2.2" class="pilcrow">¶</a></p>
<div id="lb-priority">
<figure id="figure-10">
              <div class="artwork art-text alignLeft" id="section-6.2-1.2.3.1">
<pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |            integer
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       integer  (cont)          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a></figcaption></figure>
</div>
</dd>
<dd class="break"></dd>
<dt id="section-6.2-1.3">Type</dt>
<dd style="margin-left: 1.0em" id="section-6.2-1.4">2 for LB-Priority<a href="#section-6.2-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.2-1.5">Length</dt>
<dd style="margin-left: 1.0em" id="section-6.2-1.6"> 6<a href="#section-6.2-1.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.2-1.7">integer</dt>
<dd style="margin-left: 1.0em" id="section-6.2-1.8">        This field indicates the priority of this target host.  A NAS MUST attempt to
        use the target RADIUS server with the lowest-numbered priority
        it can reach; target servers with the same priority SHOULD be used in
        an order defined by the LB-Weight field.  An SVR-Record with a lower-numbered 
        LB-priority should
        always used be before an SVR-Record of a higher-numbered LB-priority, 
        regardless of LB-Weight.  It conforms to the integer data 
        type specified in RFC8044.<a href="#section-6.2-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.3">
        <h3 id="name-lb-weight">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-lb-weight" class="section-name selfRef">LB-Weight</a>
        </h3>
<dl class="dlNewline" id="section-6.3-1">
          <dt id="section-6.3-1.1">Description</dt>
<dd style="margin-left: 1.0em" id="section-6.3-1.2">
            <p id="section-6.3-1.2.1">This attribute indicates the weighting of the SVR-Record relative to
      other SVR-Record of the same priority.<a href="#section-6.3-1.2.1" class="pilcrow">¶</a></p>
<p id="section-6.3-1.2.2">   A summary of the LB-Weight Attribute format is shown below.  The
   fields are transmitted from left to right.<a href="#section-6.3-1.2.2" class="pilcrow">¶</a></p>
<div id="lb-weight">
<figure id="figure-11">
              <div class="artwork art-text alignLeft" id="section-6.3-1.2.3.1">
<pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |            integer
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       integer  (cont)          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a></figcaption></figure>
</div>
</dd>
<dd class="break"></dd>
<dt id="section-6.3-1.3">Type</dt>
<dd style="margin-left: 1.0em" id="section-6.3-1.4">3 for LB-Weight<a href="#section-6.3-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.3-1.5">Length</dt>
<dd style="margin-left: 1.0em" id="section-6.3-1.6"> 6<a href="#section-6.3-1.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.3-1.7">integer</dt>
<dd style="margin-left: 1.0em" id="section-6.3-1.8">  The weight field specifies a
        relative weight for entries with the same priority. Larger
        weights SHOULD be given a proportionately higher probability of
        being used for AAA services.  SVR-Record with a lower-numbered LB-priority should
        always be used before SVR-Record of a higher-numbered LB-priority, regardless of
        LB-Weight.  It conforms to the integer data type specified in RFC8044.<a href="#section-6.3-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.4">
        <h3 id="name-lb-ipv4">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-lb-ipv4" class="section-name selfRef">LB-IPv4</a>
        </h3>
<dl class="dlNewline" id="section-6.4-1">
          <dt id="section-6.4-1.1">Description</dt>
<dd style="margin-left: 1.0em" id="section-6.4-1.2">
            <p id="section-6.4-1.2.1">This attribute indicates the IPv4 address of the SVR-Record.<a href="#section-6.4-1.2.1" class="pilcrow">¶</a></p>
<p id="section-6.4-1.2.2">  A summary of the LB-IPv4 Attribute format is shown below.  The
   fields are transmitted from left to right.<a href="#section-6.4-1.2.2" class="pilcrow">¶</a></p>
<div id="lb-ipv4-tlv">
<figure id="figure-12">
              <div class="artwork art-text alignLeft" id="section-6.4-1.2.3.1">
<pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |            Address...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ... Address ...  (cont)     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a></figcaption></figure>
</div>
</dd>
<dd class="break"></dd>
<dt id="section-6.4-1.3">Type</dt>
<dd style="margin-left: 1.0em" id="section-6.4-1.4">4 for LB-IPv4<a href="#section-6.4-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.4-1.5">Address</dt>
<dd style="margin-left: 1.0em" id="section-6.4-1.6"> 6<a href="#section-6.4-1.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.4-1.7">Address</dt>
<dd style="margin-left: 1.0em" id="section-6.4-1.8">This is the IPv4 address of the SVR-Record.  While taking into consideration
      the LB-priority and LB-Weight attributes the NAS SHOULD attempt to use 
      this  address as a RADIUS server.  All considerations for client and server 
      authentication mechanisms MUST still be observed.  It conforms to the ipv4addr data 
      type specified in RFC8044.<a href="#section-6.4-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.5">
        <h3 id="name-lb-ipv6">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-lb-ipv6" class="section-name selfRef">LB-IPv6</a>
        </h3>
<dl class="dlNewline" id="section-6.5-1">
          <dt id="section-6.5-1.1">Description</dt>
<dd style="margin-left: 1.0em" id="section-6.5-1.2">
            <p id="section-6.5-1.2.1">This attribute indicates the IPv6 address of the SVR-Record.<a href="#section-6.5-1.2.1" class="pilcrow">¶</a></p>
<p id="section-6.5-1.2.2">    A summary of the LB-IPv6 Attribute format is shown below.  The
   fields are transmitted from left to right.<a href="#section-6.5-1.2.2" class="pilcrow">¶</a></p>
<div id="lb-ipv6-tlv">
<figure id="figure-13">
              <div class="artwork art-text alignLeft" id="section-6.5-1.2.3.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |            Address...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        ... Address ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        ... Address ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        ... Address ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        ... Address ...         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a></figcaption></figure>
</div>
</dd>
<dd class="break"></dd>
<dt id="section-6.5-1.3">Type</dt>
<dd style="margin-left: 1.0em" id="section-6.5-1.4">5 for LB-IPv4<a href="#section-6.5-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.5-1.5">Length</dt>
<dd style="margin-left: 1.0em" id="section-6.5-1.6">18<a href="#section-6.5-1.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-6.5-1.7">Address</dt>
<dd style="margin-left: 1.0em" id="section-6.5-1.8">      This is the IPv6 address of the SVR-Record.  While taking into consideration
      the LB-priority and LB-Weight attributes the NAS SHOULD attempt to use this
      address as a RADIUS server.  All considerations for client and server 
      authentication mechanisms MUST still be observed.  It conforms to the ipv6addr 
      data type specified in RFC8044.<a href="#section-6.5-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-7">
      <h2 id="name-load-balancing-rules">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-load-balancing-rules" class="section-name selfRef">Load Balancing Rules</a>
      </h2>
<p id="section-7-1">When there are multiple SVR-Records available with the same LB-priority,
        a non-zero weight, and excluding those SVR-Records with an inferior 
        LB-priority, the NAS MUST distribute the AAA messages across those servers.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="SESSION-LB">
<section id="section-7.1">
        <h3 id="name-session-based-load-balancin">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-session-based-load-balancin" class="section-name selfRef">Session-Based Load Balancing</a>
        </h3>
<p id="section-7.1-1">RADIUS servers may cache user data after retrieving that data from a 
        back-end database.  If a NAS queries a RADIUS server for a particular user the 
        server cache will be populated.  If the NAS then uses the same RADIUS server 
        for subsequent queries for the same user it will represent a cache hit.  
        Sending the query to a different RADIUS server may represent a cache miss.  
        A cache miss may be an expensive operation in terms of time and other server 
        resources.  Under these Status-Server-LB rules the NAS MUST send all RADIUS 
        messages relative to a particular session to the same RADIUS server to maximize 
        the probability of a cache-hit.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">A NAS may terminate multiple sessions from multiple calling-stations.  
        It SHOULD use whatever means is available from the conversation with 
        the calling-station to uniquely identify sessions.  Examples include, 
        but are not limited to, the RADIUS attributes User Name 
        and Calling-Station-Id.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-7.2">
        <h3 id="name-load-balancing-weight">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-load-balancing-weight" class="section-name selfRef">Load Balancing Weight</a>
        </h3>
<p id="section-7.2-1">The weight field specifies a relative weight for entries with the same 
        priority. Larger weights SHOULD be given a proportionately higher probability 
        of being used for AAA services.  The NAS should attempt to maintain the 
        proper distribution of sessions based on LB-Weight, but MUST retain the 
        properties of Session-Based Load Balancing described in <a href="#SESSION-LB" class="xref">Section 7.1</a><a href="#section-7.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<div id="Security">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">RADIUS Server Load Balancing has many of the same security implications as the base RADIUS protocol.<a href="#section-8-1" class="pilcrow">¶</a></p>
<section id="section-8.1">
        <h3 id="name-clear-text-transmission">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-clear-text-transmission" class="section-name selfRef">Clear Text Transmission</a>
        </h3>
<p id="section-8.1-1">The RADIUS protocol is unencrypted clear-text on the wire.  The Message-Authenticator 
       attribute is required and protects the RADIUS message from tampering, but it does not encrypt the data.

      The Server Load Balance extensions to RADIUS do not communicate any user 
      identity information or user-authentication materials.  Being able to view the LB-Request 
      or LB Response PDU in clear-text does not compromise any of this data.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-8.2">
        <h3 id="name-reconnaissance">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-reconnaissance" class="section-name selfRef">Reconnaissance</a>
        </h3>
<p id="section-8.2-1">If an attacker could impersonate a NAS then they would be able to use the LB-Request 
      to gain a list of available RADIUS servers.  This is additional information the attacker 
      may not have access to otherwise.  Each RADIUS message is authenticated with 
      the Message-Authenticator attribute, so the attacker would need access to the 
      shared secret to correctly submit a valid LB-Request.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-8.3">
        <h3 id="name-md5">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-md5" class="section-name selfRef">MD5</a>
        </h3>
<p id="section-8.3-1">The RADIUS Response Authenticator and the Message-Authenticator attribute both rely on the 
      integrity of the MD5 algorithm.  If an attacker is able to reverse-engineer the shared 
      secret by using a weakness in the MD5 algorithm, then the Message-Authenticator attribute
      will no longer provide message integrity.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<p id="section-8.3-2">This document recommends the development of better mechanisms for authenticating
      messages within the RADIUS protocol using more modern encryption standards.<a href="#section-8.3-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="INITIAL-IDENT">
<section id="section-9">
      <h2 id="name-nas-identifying-initial-rad">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-nas-identifying-initial-rad" class="section-name selfRef">NAS identifying Initial RADIUS Servers</a>
      </h2>
<p id="section-9-1">For a NAS to use the RADIUS Server Load Balancing service it must be able 
      to contact an initial RADIUS server.  Options include static configuration of an 
      initial seed RADIUS server.  Other implementations may use a DNS SRV record of the 
      form _radius._udp.name.  The format and use of the SRV record is described in [RFC2782].<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">Implementation-specific mechanisms may be employed but are generally outside the scope of this document.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-10-1">This implementation used Attribute 191 for the LB-Request and LB-Response 
      PDU.  An official registration is requested from IANA.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">The Vendor Specified Attribute 26 may be used to encapsulate the LB-Request 
      and LB-Response PDU where no vendor interoperability is required.<a href="#section-10-2" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2865">[RFC2865]</dt>
<dd>
<span class="refAuthor">Rigney, C.</span><span class="refAuthor">, Willens, S.</span><span class="refAuthor">, Rubens, A.</span><span class="refAuthor">, and W. Simpson</span>, <span class="refTitle">"Remote Authentication Dial In User Service (RADIUS)"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2865</span>, <span class="seriesInfo">DOI 10.17487/RFC2865</span>, <time datetime="2000-06">June 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2865">https://www.rfc-editor.org/info/rfc2865</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3579">[RFC3579]</dt>
<dd>
<span class="refAuthor">Aboba, B.</span><span class="refAuthor">, Calhoun, P.</span><span class="refAuthor">, and W. Simpson</span>, <span class="refTitle">"RADIUS (Remote Authentication Dial In User Service) Support For Extensible Authentication Protocol (EAP)"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 3579</span>, <span class="seriesInfo">DOI 10.17487/RFC3579</span>, <time datetime="2003-09">September 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3579">https://www.rfc-editor.org/info/rfc3579</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5997">[RFC5997]</dt>
<dd>
<span class="refAuthor">Dekok, A.</span>, <span class="refTitle">"Use of Status-Server Packets in the Remote Authentication Dial In User Service (RADIUS) Protocol"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC RFC5997</span>, <span class="seriesInfo">DOI 10.17487/RFC5997</span>, <time datetime="2010-08">August 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5997">https://www.rfc-editor.org/info/rfc5997</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6929">[RFC6929]</dt>
<dd>
<span class="refAuthor">Dekok, A.</span>, <span class="refTitle">"Remote Authentication Dial-In User Service (RADIUS) Protocol Extensions"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 6929</span>, <span class="seriesInfo">DOI 10.17487/RFC6929</span>, <time datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6929">https://www.rfc-editor.org/info/rfc6929</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8044">[RFC8044]</dt>
<dd>
<span class="refAuthor">Dekok, A.</span>, <span class="refTitle">"Data Types in RADIUS"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8044</span>, <span class="seriesInfo">DOI 10.17487/RFC8044</span>, <time datetime="2017-01">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8044">https://www.rfc-editor.org/info/rfc8044</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="section-appendix.a">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Daniel Massameno (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Yale University</span></div>
<div dir="auto" class="left"><span class="street-address">150 Munson Street</span></div>
<div dir="auto" class="left">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06492</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:dan.massameno@yale.edu" class="email">dan.massameno@yale.edu</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
