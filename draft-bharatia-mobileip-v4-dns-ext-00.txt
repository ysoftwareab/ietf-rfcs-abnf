    
   Mobile IP Working Group                         Jayshree Bharatia 
   Internet Draft                                  Kuntal Chowdhury 
   Category: Standards Track                       Nortel Networks    
   Expires on September 2002                        
   <draft-bharatia-mobileip-v4-dns-ext-00.txt>     March 2002 


      Mobile IPv4 Extension: Using DNS Servers Assigned by Home Agent 



   Status of this Memo 
    
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026. Internet-Drafts are working 
   documents of the Internet Engineering Task Force (IETF), its areas, 
   and its working groups. Note that other groups may also distribute 
   working documents as Internet-Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress". 
    
   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 
    
   Abstract 

   This draft provides an extension to Mobile IPv4 protocol where the 
   Mobile Node (MN) obtains an information regarding DNS Servers from a 
   home agent. This is achieved by defining a new extension of a 
   Registration Reply message. 

1  Introduction 

   Currently, There is no explicit mechanism defined in [RFC3320] for 
   assigning primary and secondary DNS servers in the IP network. In any 
   case, the MN has to obtain information of the DNS Servers. This 
   information can be passed to the MN by the IP network or it can be 
   obtained by some other means like the use of DHCP etc. 
    
   This draft basically considers a scenario where Mobile Node obtains 
   DNS addresses from the IP network. In this proposal, both primary and 
   secondary DNS servers are assigned by the Home Agent (HA) and their 
   information is passed to the MN after successful Mobile IPv4 
   Registration procedure. This proposed solution is more generic and 
   does not rely on the use of any specific link layer. Note that the 
   scope of this document is to emphasize on the mechanism by which the 
   information regarding DNS server addresses are relayed to MN. It does 
 
Bharatia,Chowdhury      Expires September 2002                       1
                                    
   not include discussion of how DNS server addresses are obtained by 
   the HA. 
    
   Note that this draft does not preclude supporting this extension in 
   the foreign network. If reverse tunneling is not supported and the HA 
   does not return the DNS server address extensions in the Registration 
   Reply message, then the FA may append DNS sever address extensions to 
   the Registration Reply message before relaying the Registration Reply 
   to the MN. But there might be some security issues involved with this 
   option. 

1.1 Glossary of Terms 

   FA          Foreign Agent 
   HA          Home Agent 
   MN          Mobile Node 
   DNS         Domain Name Server 

2  Conventions used in this document  

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",  
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119.  
    
3  Detailed Description of the Proposed Solution 

   This draft provides a mechanism to convey DNS addresses from the HA 
   to the MN. This information is passed to the MN during successful 
   Mobile IP Registration procedure. 
    
   The message flow of the solution is shown in figure 1. Upon 
   successful Mobile IP Registration, the HA appends IP addresses of DNS 
   servers in the Registration Reply message with new Mobile IP 
   extension (defined in section 4). The MN receives this extension and 
   sets the corresponding fields in the DNS lookup accordingly. 
    
     MN                            FA                                HA         
     --                            --                                -- 

   1. <----Agent Advertisement------ 
   2. -----Registration Request----> 
   3.                              ----Registration Request-------------
   4.                              <---Registration Response------------
                                       (w/ Extension for DNS) 
   5. <--Registration Response------ 
      (w/ Extension for DNS) 
    
   Figure 1-Exchanges of DNS Servers Information 
    
   Figure 1 shows message exchanges between different Mobile IP 
   entities. In this figure, steps 1-3 are normal message exchanges for 
   Mobile IP support. 
 
Bharatia,Chowdhury      Expires September 2002                       2
                                    
    
   Step 4: The HA appends Mobile IPv4 extension (discussed in section 4) 
          for primary and secondary DNS servers. 
   Step 5: The FA forwards the Registration Reply message to the MN. 
          When MN receives this new Mobile IP extension, it sets the DNS 
          lookup accordingly. 

4  DNS Extension 

   The Mobile IP extension for primary and secondary DNS servers shall 
   have the following format 
    
   0                   1                   2                   3 
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |     Type      |    Length     |    DNS-Address_primary        | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   | DNS-Address_primary (cont)    |    DNS-Address_secondary      | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   | DNS-Address_secondary (cont)  | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    
   Type 
       DNS-IPV4-EXT-TYPE=TBD. This extension value will be assigned by 
       IANA from the   numbering space defined for Mobile IP 
       Registration Reply extensions in [RFC3220] 
   Length 
       10  
   DNS-Address_primary 
       The DNS-Address_primary (4 octets) is the address of primary DNS 
       server to be used by the MN. 
   DNS-Address_secondary 
       The DNS-Address_secondary (4 octets) is the address of secondary 
       DNS server to be used by the MN. 

5  IANA Considerations 

   This draft defines a new Mobile IPv4 extension of type DNS-IPV4-EXT-
   TYPE as defined in section 4 of this document. The value will be 
   defined by IANA from the numbering space defined for the Registration 
   Reply in [RFC3220]. 

6  Security Considerations 

   There are no additional security aspects imposed by this document in 
   addition to the one defined in [RFC3320]. 

7  References 

   [RFC3320]   "IP Mobility Support for IPv4", RFC3320 

8  Acknowledgments 

   Authors like to thank Pete Wenzel, Tom Hussey and Glenn Morrow for 
   their valuable input to this work 

9  Author's Address 
    
 
Bharatia,Chowdhury      Expires September 2002                       3
                                    
   Jayshree Bharatia 
   Nortel Networks 
   2221, Lakeside Blvd,   
   Richardson, TX-75082  
   Phone : 972-684-5767 
   jayshree@nortelnetworks.com 
    
   Kuntal Chowdhury 
   Nortel Networks 
   2221, Lakeside Blvd,   
   Richardson, TX-75082  
   Phone : 972-685-7788 
   chowdury@nortelnetworks.com 
 
Bharatia,Chowdhury      Expires September 2002                       4
