<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Host-Meta: Web Host Metadata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Host-Meta: Web Host Metadata">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">E. Hammer-Lahav</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Yahoo!</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">October 23, 2009</td></tr>
<tr><td class="header">Expires: April 26, 2010</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Host-Meta: Web Host Metadata<br />draft-hammer-hostmeta-01</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 26, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
        This memo describes a method for locating host metadata for Web-based protocols.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ns">1.2.</a>&nbsp;
Namespace and Version<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.3.</a>&nbsp;
Notational Conventions<br />
<a href="#anchor4">2.</a>&nbsp;
Metadata Scope<br />
<a href="#anchor5">3.</a>&nbsp;
The host-meta Document Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Scope element">3.1.</a>&nbsp;
The 'host-meta:Scope' Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Link element">3.2.</a>&nbsp;
The 'Link' Element<br />
<a href="#obtain">4.</a>&nbsp;
Obtaining host-meta Documents<br />
<a href="#Security">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor6">6.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">6.1.</a>&nbsp;
The host-meta Well-Known URI<br />
<a href="#anchor8">Appendix&nbsp;A.</a>&nbsp;
Acknowledgments<br />
<a href="#anchor9">Appendix&nbsp;B.</a>&nbsp;
Document History<br />
<a href="#rfc.references1">7.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        Web-based protocols often require the discovery of host policy or metadata, where host is
        not a single resource but the collection of resources identified by URIs with a common
        scheme and authority as defined by <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>. While these protocols have a
        wide range of metadata needs, they often define metadata that is concise, has simple syntax
        requirements, and can benefit from sharing its metadata store with other related protocols.
      
</p>
<p>
        Because there is no URI or a resource available to describe a host, many of the methods
        used for associating per-resource metadata (such as HTTP headers) are not available. This
        often leads to the usage of the root HTTP resource as a placeholder for host metadata that
        is not specific to the root resource, and often has nothing to do it.
      
</p>
<p>
        This memo registers the "well-known" URI suffix 'host-meta' in the Well-Known URI Registry
        established by <a class='info' href='#I-D.nottingham-site-meta'>[I&#8209;D.nottingham&#8209;site&#8209;meta]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;Defining Well-Known URIs,&rdquo; September&nbsp;2009.</span><span>)</span></a>, and specifies a simple,
        general-purpose metadata document for hosts, to be used by multiple Web-based protocols.
        The name 'host-meta' was chosen based on the HTTP 'Host' header defined by <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>.
      
</p>
<p>
        Please discuss this draft on the
        <a href='https://www.ietf.org/mailman/listinfo/apps-discuss'>apps-discuss@ietf.org</a>
        mailing list.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Example</h3>

<p>
          A simple host-meta document for the 'example.com' and 'www.example.com' authorities and
          'http' scheme with a link providing scope-wide copyright information and a link template
          providing a URI for obtaining resource-specific metadata for each resource within the
          host-meta document scope:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    &lt;?xml version='1.0' encoding='UTF-8'?&gt;
    &lt;XRD xmlns='http://docs.oasis-open.org/ns/xri/xrd-1.0'
         xmlns:host-meta='http://host-meta.net/ns/1.0'&gt;

        &lt;host-meta:Scope scheme='http' authority='example.com' /&gt;
        &lt;host-meta:Scope scheme='http' authority='www.example.com' /&gt;

        &lt;Link&gt;
            &lt;Title xml:lang='en-us'&gt;Site License Policy&lt;/Title&gt;
            &lt;Rel&gt;license&lt;/Rel&gt;
            &lt;URI&gt;http://example.com/license&lt;/URI&gt;
        &lt;/Link&gt;
        &lt;Link&gt;
            &lt;Title xml:lang='en-us'&gt;Resource Descriptor&lt;/Title&gt;
            &lt;Rel&gt;describedby&lt;/Rel&gt;
            &lt;URITemplate&gt;http://meta.example.com?uri={uri}&lt;/URITemplate&gt;
        &lt;/Link&gt;
    &lt;/XRD&gt;
</pre></div>
<a name="ns"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Namespace and Version</h3>

<p>
          The host-meta document uses the XRD 1.0 XML namespace URI <a class='info' href='#W3C.REC-xml-names-19990114'>[W3C.REC&#8209;xml&#8209;names&#8209;19990114]<span> (</span><span class='info'>Hollander, D., Layman, A., and T. Bray, &ldquo;Namespaces in XML,&rdquo; January&nbsp;1999.</span><span>)</span></a>:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    http://docs.oasis-open.org/ns/xri/xrd-1.0
</pre></div>
<p>
        The XML namespace URI for the host-meta specific extension elements defined in this
        specification is:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    http://host-meta.net/ns/1.0
</pre></div>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Notational Conventions</h3>

<p>
          The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
          "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in
          <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
        
</p>
<p>
          This specification uses the namespace prefix "host-meta:" for the extension Namespace URI
          identified in <a class='info' href='#ns'>Section&nbsp;1.2<span> (</span><span class='info'>Namespace and Version</span><span>)</span></a>.  Note that the choice of namespace prefix is arbitrary
          and not semantically significant. Element names without a namespace prefix belong to the
          XRD 1.0 XML namespace identified in <a class='info' href='#ns'>Section&nbsp;1.2<span> (</span><span class='info'>Namespace and Version</span><span>)</span></a>.
        
</p>
<p>
          This document uses the Augmented Backus-Naur Form (ABNF) notation of <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a>.
          Additionally, the following rules are included from <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>: reserved and
          unreserved.
        
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Metadata Scope</h3>

<p>
        The scope of each host-meta document is defined by one or more scheme-authority pairs, each
        applies to the collection of resources identified by URIs with the same scheme and authority
        as defined by <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>. The scope MUST be expressed explicitly within the
        document by using the one or more <a class='info' href='#Scope element'>'host-meta:Scope' elements<span> (</span><span class='info'>The 'host-meta:Scope' Element</span><span>)</span></a>.
      
</p>
<p>
        The host-meta scope does not apply to a subset, nor does it apply to other combinations of
        scheme and authority (e.g., using another scheme, port, or a different hostname in the same
        domain) not explicitly declared. For example, resources with URIs beginning with
        'http://example.com/', 'http://example.com:8080/', 'https://example.com/', and
        'http://www.example.com/' all have different and non-overlapping scopes.
      
</p>
<p>
        The scope declared within the host-meta document MUST match the scheme and authority used
        to <a class='info' href='#obtain'>obtain<span> (</span><span class='info'>Obtaining host-meta Documents</span><span>)</span></a> the document. However, protocols MAY use a different
        scheme to obtain the document than the one they are interested in, as long as both scheme
        and authority combinations are declared. For example, a protocol can use HTTP to obtain
        metadata about a scheme other than 'http' for which a host-meta document cannot be obtained
        using the method described in <a class='info' href='#obtain'>Section&nbsp;4<span> (</span><span class='info'>Obtaining host-meta Documents</span><span>)</span></a>.
      
</p>
<p>
        Protocols MAY place additional requirements on protocol-specific metadata retrieved from
        multiple host-meta documents. For example, protocols can require that protocol-specific
        metadata obtained for the 'example.com:80' authority to be the same in both host-meta
        documents for the 'http' and 'https' schemes.
      
</p>
<p>
        Any changes in scope, the retrieval of metadata for one scheme using another, and other
        requirements should only occur after a careful consideration of their security implications
        and authoritativeness.
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
The host-meta Document Format</h3>

<p>
        The host-meta document uses the XRD 1.0 document format as defined by
        <a class='info' href='#OASIS.XRD-1.0'>[OASIS.XRD&#8209;1.0]<span> (</span><span class='info'>Hammer-Lahav, E. and W. Norris, &ldquo;Extensible Resource Descriptor (XRD) Version 1.0 (work in progress),&rdquo; .</span><span>)</span></a>, which provides a simple and extensible XML-based format
        for describing resources. Since the host-meta XRD document does not describe a single
        resource but a collection of resources, this memo defines additional XRD elements and
        processing rules. The XRD elements not mentioned in this memo are allowed and used as
        defined in <a class='info' href='#OASIS.XRD-1.0'>[OASIS.XRD&#8209;1.0]<span> (</span><span class='info'>Hammer-Lahav, E. and W. Norris, &ldquo;Extensible Resource Descriptor (XRD) Version 1.0 (work in progress),&rdquo; .</span><span>)</span></a>.
      
</p>
<p>
        host-meta document SHOULD NOT include the 'Subject' or 'Alias' XRD elements since these
        elements require a valid URI to identify the resource being described, which is not
        available for the host-meta scope. The use of these elements in host-meta is undefined.
        Instead, host-meta defines the <a class='info' href='#Scope element'>'host-meta:Scope' element<span> (</span><span class='info'>The 'host-meta:Scope' Element</span><span>)</span></a> for
        declaring document scope.
      
</p>
<p>
        The subject (or "context resource" as defined by <a class='info' href='#I-D.nottingham-http-link-header'>[I&#8209;D.nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;Web Linking,&rdquo; July&nbsp;2009.</span><span>)</span></a>)
        of the XRD 'Type' and 'Link' elements is the entire collection of resources included in the
        document scope, with the exception of 'Link' elements with a 'URITemplate' child element as
        defined in <a class='info' href='#Link element'>Section&nbsp;3.2<span> (</span><span class='info'>The 'Link' Element</span><span>)</span></a>.
      
</p>
<a name="Scope element"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
The 'host-meta:Scope' Element</h3>

<p>
          The 'host-meta:Scope" element is used to declare the scope of the host-meta document and
          is defined as a child element of the root 'XRD' element. The parent 'XRD' element MUST
          include one but MAY include more 'host-meta:Scope' elements (order does not matter).
          The element includes two REQUIRED attributes: 'scheme' and 'authority' and MUST NOT
          include a content.
        
</p>
<p>
          The 'scheme' and 'authority' attributes use the same syntax and semantics defined by
          <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>, and MUST NOT contain empty values. If the 'authority' attribute
          does not include a port number, the port is implicitly set to the default port number for
          the given scheme, and does not include any other port number.
        
</p>
<p>
            For example, these two scope declarations are equivalent:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

        &lt;host-meta:Scope scheme='http' authority='example.com' /&gt;
        &lt;host-meta:Scope scheme='http' authority='example.com:80' /&gt;
</pre></div>
<a name="Link element"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
The 'Link' Element</h3>

<p>
          The XRD 'Link' element, when used with the 'URI' child element, conveys a link relation
          between the collection of resources included in the host-meta document scope and a common
          target URI.
        
</p>
<p>
            For example, the following link declares a common author for the entire scope:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    &lt;Link&gt;
        &lt;Rel&gt;author&lt;/Rel&gt;
        &lt;URI&gt;http://example.com/author&lt;/URI&gt;
    &lt;/Link&gt;
</pre></div>
<p>
          However, there are cases in which individual resources within the same scope do not share
          the same target URI, but follow a common pattern in how the target URI is constructed. A
          'Link' element with a 'URITemplate' child element conveys relations whose context are
          individual resources within the host-meta document scope, and whose target is constructed
          by applying the context URI to a template.
        
</p>
<p>
            For example, a blog with multiple authors can provide information about each article's
            author by appending a suffix (such as ';by') to the URI of each article. Each article
            has a unique author, but all share the same pattern of where that information is located:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    &lt;Link&gt;
        &lt;Rel&gt;author&lt;/Rel&gt;
        &lt;URITemplate&gt;{+uri};by&lt;/URITemplate&gt;
    &lt;/Link&gt;
</pre></div>
<a name="template_syntax"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Template Syntax</h3>

<p>
            host-meta defines a simple template syntax and a vocabulary for URI transformation. A
            template is a string containing brace-enclosed ("{}") variable names marking the parts
            of the string that are to be substituted by the corresponding variable values.
          
</p>
<p>
            Before substituting template variables, any value character other than reserved and
            unreserved (as defined by <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>) MUST be percent-encoded per
            <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>. If a variable name is not prefixed by a '+' character, any
            reserved character SHALL also be percent-encoded.
          
</p>
<p>
            To construct a URI using a template, the context URI is parsed into its URI components
            and each component value assigned to a variable name. The variable set is based on the
            URI vocabulary defined by <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> section 3 and includes: 'scheme',
            'authority', 'path', 'query', 'fragment', 'userinfo', 'host', and 'port'. In addition,
            this memo defines the 'uri' variable as the entire context URI excluding the fragment
            component and the '#' fragment separator.
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    foo://william@example.com:8080/over/there?name=ferret#nose
    \_/   \______________________/\_________/ \_________/ \__/
     |              |                  |           |        |
    scheme      authority             path       query   fragment

    foo://william@example.com:8080/over/there?name=ferret#nose
          \_____/ \_________/ \__/
             |         |        |
         userinfo     host     port

    foo://william@example.com:8080/over/there?name=ferret#nose
    \___________________________________________________/
                             |
                            uri
</pre></div>
<p>
            Protocols MAY define additional variables and syntax rules, but SHOULD only do so for
            protocol-specific relation types, and MUST NOT change the meaning of the variables
            defined above. If a template uses an unknown syntax or contains unknown variable names,
            the parent 'Link' element SHOULD be ignored.
          
</p>
<p>
              The template syntax ABNF:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    URI-Template  =  *( uri-char | variable )
    variable      =  "{" [ "+" ] var-name "}"
    uri-char      =  ( reserved | unreserved )
    var-name      =  uri-var | ( 1*var-char )
    uri-var       =  "scheme" | "authority" | "path"     |
                     "query"  | "fragment"  | "userinfo" |
                     "host"   | "port"      | "uri"
    var-char      =  ALPHA / DIGIT / "." / "_"
</pre></div>
<p>
              For example, given the input URI 'http://example.com/r/1?f=xml#top', each of the
              following templates will produce the associated output URI:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    {+uri}&amp;test --&gt;
    http://example.com/r/1?f=xml&amp;test

    http://example.org?q={uri} --&gt;
    http://example.org?q=http%3A%2F%2Fexample.com%2Fr%2F1%3Ff%3Dxml

    http://meta.{host}:8080{+path}?{+query} --&gt;
    http://meta.example.com:8080/r/1?f=xml
</pre></div>
<a name="obtain"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Obtaining host-meta Documents</h3>

<p>
        The host-meta document for a given scheme-authority pair is identified by a URI constructed
        using the desired scheme, authority, and '/.well-known/host-meta' as the URI path. For
        example, given the 'http' scheme and 'www.example.com:80' authority, the host-meta URI is:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      http://www.example.com/.well-known/host-meta
</pre></div>
<p>
        The host-meta document is obtained by dereferencing the request host-meta URI. The
        semantics of the protocol used to obtain the host-meta document apply. Therefore, if the
        server indicates that the host-meta resource is located elsewhere (in HTTP, 3xx response
        status codes), the client MUST try to obtain the resource from the location provided. This
        means that the host-meta document for one authority MAY be retrieved from a different
        authority. Likewise, if the resource is not available or exists (in HTTP, the 404 or 410
        response status codes), the client SHOULD infer that metadata is not available via this
        mechanism.
      
</p>
<p>
        If a representation is successfully obtained, but is not in the format described above,
        clients SHOULD infer that the authority is using this URI for other purposes, and not
        process it as a host-meta document. To aid in this process, authorities using this
        mechanism SHOULD correctly label host-meta responses with the "application/xrd+xml" internet
        media type.
      
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
        The metadata returned by the host-meta resource is presumed to be under the control of the
        appropriate authority and representative of all the resources described by it. If this
        resource is compromised or otherwise under the control of another party, it may represent a
        risk to the security of the server and data served by it, depending on what protocols use it.
      
</p>
<p>
        Scoping metadata to a single scheme-authority pair is the default host-meta scope. Protocols
        that change the scope without careful consideration can incur security risks.
      
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
The host-meta Well-Known URI</h3>

<p>
          This memo registers the 'host-meta' well-known URI in the Well-Known URI Registry as defined by
          <a class='info' href='#I-D.nottingham-site-meta'>[I&#8209;D.nottingham&#8209;site&#8209;meta]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;Defining Well-Known URIs,&rdquo; September&nbsp;2009.</span><span>)</span></a>.

          </p>
<blockquote class="text"><dl>
<dt>URI suffix:</dt>
<dd>
              host-meta
            
</dd>
<dt>Change controller:</dt>
<dd>
              IETF
            
</dd>
<dt>Specification document(s):</dt>
<dd>
              [[ this document ]]
            
</dd>
<dt>Related information:</dt>
<dd>
              None
            
</dd>
</dl></blockquote><p>
        
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgments</h3>

<p>
        This memo was initially based on <a class='info' href='#I-D.nottingham-site-meta'>[I&#8209;D.nottingham&#8209;site&#8209;meta]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;Defining Well-Known URIs,&rdquo; September&nbsp;2009.</span><span>)</span></a>.
      
</p>
<p>
        The author would like to acknowledge the contributions of everyone who
        provided feedback and use cases for this memo; in particular, Dirk Balfanz, DeWitt Clinton,
        Blaine Cook, Breno de Medeiros, Brad Fitzpatrick, Will Norris, Mark Nottingham, John Panzer,
        and Drummond Reed.
      
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Document History</h3>

<p>
        [[ to be removed by the RFC editor before publication as an RFC ]]
      
</p>
<p>
        -01

        </p>
<ul class="text">
<li>
            Editorial rewrite.
          
</li>
<li>
            Redefined scope as a scheme-authority pair.
          
</li>
<li>
            Added document structure section.
          
</li>
</ul><p>
      
</p>
<p>
        -00

        </p>
<ul class="text">
<li>
            Initial draft.
          
</li>
</ul><p>
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.nottingham-http-link-header">[I-D.nottingham-http-link-header]</a></td>
<td class="author-text">Nottingham, M., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nottingham-http-link-header-06.txt">Web Linking</a>,&rdquo; draft-nottingham-http-link-header-06 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-nottingham-http-link-header-06.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.nottingham-site-meta">[I-D.nottingham-site-meta]</a></td>
<td class="author-text">Nottingham, M. and E. Hammer-Lahav, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nottingham-site-meta-03.txt">Defining Well-Known URIs</a>,&rdquo; draft-nottingham-site-meta-03 (work in progress), September&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-nottingham-site-meta-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="OASIS.XRD-1.0">[OASIS.XRD-1.0]</a></td>
<td class="author-text">Hammer-Lahav, E. and W. Norris, &ldquo;<a href="http://www.oasis-open.org/committees/download.php/34815/xrd-1.0-cd01.html">Extensible Resource Descriptor (XRD) Version 1.0 (work in progress)</a>&rdquo; (<a href="http://www.oasis-open.org/committees/download.php/34815/xrd-1.0-cd01.html">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text">Crocker, D. and P. Overell, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5234.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-P3P-20020416">[W3C.REC-P3P-20020416]</a></td>
<td class="author-text">Marchiori, M., &ldquo;<a href="http://www.w3.org/TR/2002/REC-P3P-20020416">The Platform for Privacy Preferences 1.0 (P3P1.0)
Specification</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-P3P-20020416, April&nbsp;2002 (<a href="http://www.w3.org/TR/2002/REC-P3P-20020416">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-names-19990114">[W3C.REC-xml-names-19990114]</a></td>
<td class="author-text">Hollander, D., Layman, A., and T. Bray, &ldquo;<a href="http://www.w3.org/TR/1999/REC-xml-names-19990114">Namespaces in XML</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xml-names-19990114, January&nbsp;1999 (<a href="http://www.w3.org/TR/1999/REC-xml-names-19990114">HTML</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Eran Hammer-Lahav</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yahoo!</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:eran@hueniverse.com">eran@hueniverse.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://hueniverse.com">http://hueniverse.com</a></td></tr>
</table>
</body></html>
