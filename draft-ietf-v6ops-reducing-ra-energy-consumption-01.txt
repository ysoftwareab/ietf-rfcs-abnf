



IPv6 Operations                                           A. Yourtchenko
Internet-Draft                                                     Cisco
Intended status: Best Current Practice                        L. Colitti
Expires: March 10, 2016                                           Google
                                                       September 7, 2015


          Reducing energy consumption of Router Advertisements
           draft-ietf-v6ops-reducing-ra-energy-consumption-01

Abstract

   Frequent Router Advertisement messages can severely impact host power
   consumption.  This document recommends operational practices to avoid
   such impact.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 10, 2016.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.




Yourtchenko & Colitti    Expires March 10, 2016                 [Page 1]

Internet-Draft       Reducing RA energy consumption       September 2015


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Problem scenarios . . . . . . . . . . . . . . . . . . . . . .   2
     2.1.  Solicited multicast RAs on large networks . . . . . . . .   2
     2.2.  Frequent periodic Router Advertisements . . . . . . . . .   2
   3.  Consequences  . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Recommendations . . . . . . . . . . . . . . . . . . . . . . .   3
     4.1.  Network-side recommendations  . . . . . . . . . . . . . .   3
     4.2.  Device-side recommendations . . . . . . . . . . . . . . .   4
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     8.2.  URIs  . . . . . . . . . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   Routing information is communicated to IPv6 hosts by Router
   Advertisement (RA) messages [RFC4861].  If these messages are too
   frequent, they can severely impact power consumption on battery-
   powered hosts.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.  Problem scenarios

2.1.  Solicited multicast RAs on large networks

   On links with a large number of battery-powered devices, sending
   solicited Router Advertisements multicast can severely impact host
   power consumption.  This is because every time a device joins the
   network, all devices on the network receive a multicast Router
   Advertisement.  In the worst case, if devices are continually joining
   and leaving the network, and the network is large enough, then all
   devices on the network will receive solicited Router Advertisements
   at the maximum rate specified by section 6.2.6 of [RFC4861], which is
   one every 3 seconds.

2.2.  Frequent periodic Router Advertisements

   Some networks send periodic multicast Router Advertisements very
   frequently (e.g., once every few seconds).  This may be due to a




Yourtchenko & Colitti    Expires March 10, 2016                 [Page 2]

Internet-Draft       Reducing RA energy consumption       September 2015


   desire to ensure that hosts always have access to up-to-date router
   information.  This has severe impact on battery life.

3.  Consequences

   Observed reactions to frequent Router Advertisement messages by
   battery-powered devices include:

   o  Some hosts simply experience bad battery life on these networks
      and otherwise operate normally.  This is frustrating for users of
      these networks.

   o  Some hosts react by dropping all Router Advertisement messages
      when in power saving mode on any network, e.g., [1].  This causes
      devices to lose connectivity when in power-saving mode,
      potentially disrupting background network communications, because
      the device is no longer able to send packets or acknowledge
      received traffic.

   o  Some hosts react by dropping *all* IPv6 packets when in power
      saving mode, [2].  This disrupts network communications.

   Compounding the problem, when dealing with devices that drop Router
   Advertisements when in power saving mode, some network administrators
   work around the problem by sending RAs even more frequently.  This
   causes devices to engage in even more aggressive filtering.

4.  Recommendations

4.1.  Network-side recommendations

   1.  Router manufacturers SHOULD allow network administrators to
       configure the routers to respond to Router Solicitations with
       unicast Router Advertisements if:

       *  The Router Solicitation's source address is not the
          unspecified address, and:

       *  The solicitation contains a valid Source Link-Layer Address
          option.

   2.  Administrators of networks that serve large numbers (tens or
       hundreds) of battery-powered devices SHOULD enable this
       behaviour.

   3.  Networks that serve battery-powered devices SHOULD NOT send
       multicast RAs too frequently (e.g., more than one every 5-10
       minutes for current battery-powered devices) unless the



Yourtchenko & Colitti    Expires March 10, 2016                 [Page 3]

Internet-Draft       Reducing RA energy consumption       September 2015


       information in the RA packet has substantially changed.  If there
       is a desire to ensure that hosts pick up configuration changes
       quickly, those networks MAY send frequent Router Advertisements
       for a limited period of time (e.g., not more than one minute)
       immediately after a configuration change.

   No protocol changes are required.  Responding to Router Solicitations
   with unicast Router Advertisements is already allowed by section
   6.2.6 of [RFC4861], and Router Advertisement intervals are already
   configurable by the administrator to a wide range of values.

4.2.  Device-side recommendations

   1.  Mobile devices that intend to maintain IPv6 connectivity while
       asleep MUST NOT ignore RAs while asleep.

   2.  Mobile devices that do not intend to maintain IPv6 connectivity
       while asleep SHOULD disconnect from the IPv6 network and SHOULD
       reconnect to the network (including performing any DNAv6
       procedures [RFC6059], sending Router Solicitations and performing
       Duplicate Address Detection) when waking up.

5.  Acknowledgements

   The authors wish to thank Steven Barth, Erik Kline, Erik Nordmark,
   Alexandru Petrescu, Mark Smith, and Jinmei Tatuya for feedback and
   helpful suggestions.

6.  IANA Considerations

   None.

7.  Security Considerations

   None.

8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC4861]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", RFC 4861,
              September 2007.





Yourtchenko & Colitti    Expires March 10, 2016                 [Page 4]

Internet-Draft       Reducing RA energy consumption       September 2015


   [RFC6059]  Krishnan, S. and G. Daley, "Simple Procedures for
              Detecting Network Attachment in IPv6", RFC 6059, DOI 10
              .17487/RFC6059, November 2010,
              <http://www.rfc-editor.org/info/rfc6059>.

8.2.  URIs

   [1] https://code.google.com/p/android/issues/detail?id=32662

   [2] http://www.gossamer-threads.com/lists/nsp/ipv6/54641

Authors' Addresses

   Andrew Yourtchenko
   Cisco
   7a de Kleetlaan
   Diegem, 1831
   Belgium

   Phone: +32 2 704 5494
   Email: ayourtch@cisco.com


   Lorenzo Colitti
   Google
   Roppongi 6-10-1
   Minato, Tokyo  106-6126
   JP

   Email: lorenzo@google.com





















Yourtchenko & Colitti    Expires March 10, 2016                 [Page 5]
