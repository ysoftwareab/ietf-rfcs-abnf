<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Generalized Multi-Protocol Label Switching (GMPLS) Signaling Extensions for G.709 Amendment3 and G.sup43 Optical Transport Networks Control</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Generalized Multi-Protocol Label Switching (GMPLS) Signaling Extensions for G.709 Amendment3 and G.sup43 Optical Transport Networks Control">
<meta name="keywords" content="G.709, GMPLS, Signaling Extension">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">X. Fu</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">M. Ke</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Y. Bao</td></tr>
<tr><td class="header">Expires: January 7, 2010</td><td class="header">ZTE Corporation</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 06, 2009</td></tr>
</table></td></tr></table>
<h1><br />Generalized Multi-Protocol Label Switching (GMPLS) Signaling Extensions for G.709 Amendment3 and G.sup43 Optical Transport Networks Control<br />draft-fuxh-ccamp-gmpls-extension-for-evolutive-otn-01</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 7, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document updates the "draft-ke-ccamp-gmpls-odu0-00.txt". It describes the extensions of GMPLS signaling to control Optical Transport Networks (OTN) including ODU0, ODU1, ODU2, ODU2e, ODU3, ODU3e1, ODU3e2, ODU4 and ODUflex. It also covers the interworking of control plane between pre-G.709 controlling and G.709 Amendment3 controlling.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Conventions Used in This Document<br />
<a href="#anchor3">2.</a>&nbsp;
GMPLS Extension for G.709 Amendment3 and G.sup43-Overview<br />
<a href="#anchor4">3.</a>&nbsp;
Generalized Label Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.1.</a>&nbsp;
Traffic Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.1.</a>&nbsp;
Signal Type (ST)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.1.2.</a>&nbsp;
Number of Multiplexed Components (NMC)<br />
<a href="#anchor8">4.</a>&nbsp;
Backward Compatibility Considerations<br />
<a href="#anchor9">5.</a>&nbsp;
Generalized Label<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.1.</a>&nbsp;
Label Space<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.2.</a>&nbsp;
Label Distribution Rules<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.3.</a>&nbsp;
Calculation of Label Number for ODUflex<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">5.4.</a>&nbsp;
Example of Generalized Label<br />
<a href="#anchor14">6.</a>&nbsp;
Interworking Considerations<br />
<a href="#anchor15">7.</a>&nbsp;
Control of ODUflex resizing<br />
<a href="#anchor16">8.</a>&nbsp;
Contributors<br />
<a href="#anchor17">9.</a>&nbsp;
Security Considerations<br />
<a href="#anchor18">10.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor19">11.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">12.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document describes the extensions of GMPLS signaling to control Optical Transport Networks (OTN) including ODU0, ODU1, ODU2, ODU2e, ODU3, ODU3e1, ODU3e2, ODU4 and ODUflex. It also covers the interworking of control plane between pre-G.709 controlling and G.709 Amendment3 controlling. The control of ODUflex resizing is for further study.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Conventions Used in This Document</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
GMPLS Extension for G.709 Amendment3 and G.sup43-Overview</h3>

<p>The concept of Lower Order (LO) ODUk and High Order (HO) ODUk in the G.709 Amendment3 multiplex hierarchy is introduced as same information structures but with different client signals. LO-ODUk can be considered as the service layer and the HO-ODUk can be considered as the Tunnel Layer. LO-ODUk can be multiplexed into the HO-ODUk or can be mapped directly to OTUk layer.
</p>
<p>The LO-ODUk into HO-ODUk multiplexing and OCh into OMSn multiplexing provide a two stage multiplexing capability. ODU0 are to be transported over ODUk (k=1,2,3,4) and ODU2e are to be transported over ODUk ( k=3,3e1,3e2,4).
</p>
<p>The ability to accommodate any client bit rate into a variable bit rate LO-ODU and map into any number of Tributary Slots of HO-ODU i.e. being agnostic to the service bit rate and provide flexibility to the mapping process creates a future proof multi service OTN evolution. ODUflex is a LO-ODU that enhances bit transparent transport over OTN. It can be of any rate of ODU0 rate or higher and has a generic capacity.
</p>
<p>GMPLS signaling extensions for pre-G.709 has been described in [RFC4328]. It extended the Generalized Label Request, the Generalized Label and Traffic Parameter. This document give more extension for the G.709 Amendment3 and G.sup43. It covers the Generalized Label, Traffic Parameters. It also give some consideration about the interworking of control plane between pre-G.709 controlling and G.709 Amendment3 controlling.
</p>
<p>To support the application of ODU0, ODU1, ODU2, ODU2e, ODU3, ODU3e1, ODU3e2 and ODU4, the extensions based on [RFC4328] are needed.  The first extension defines signal Type of these ODUk in G.709 Traffic Parameters. The second extension provides the compatible definition of ODUk Label.
</p>
<p>ODUflex should be more further study in the future (e.g., Control of ODUflex resizing).
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Generalized Label Request</h3>

<p>[RFC4328] extends the LSP Encoding Type, the Switching Type, and G-PID (Generalized-PID) values to accommodate G.709 Recommendation [ITUT-G.709].  Signaling of ODU0, ODU1, ODU2e, ODU4, ODUflex, ODU3e1 and ODU3e2 LSP must comply with these extensions. Additional LSP Encoding Type code-point for the OTN Digital Path layer must be used for these new ODUk types LSP and their switching types belong to the TDM class.
</p>
<p>G.709 Amendment3 clarifies that the layer stack of the OTN contains a Lover Order ODU layer in which each LO-ODU signal carries a customer service instance, and a Higher Order ODU layer in which each HO-ODU signal carries a multiplex of LO-ODU signals. But the Encoding Types of LO and HO layer are aslo G.709 ODUk (Digital Path) which is defined in [RFC4328].
</p>
<p>When the client payload is transported over the Optical Channel layer, [RFC4328] defines the Generalized-PID with respect to the LSP Encoding Type for G.709 OTUk at 2.5, 10, 40 Gbps. This G-PID type should be extended to support the transport of Digital Section at 100G Gbps.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Traffic Parameters</h3>

<p>G.709 traffic parameters has been defined in [RFC4328]. The backwards compatibility must be considered. Backwards compatibility considerations for each feature will be covered in this document. The definition of Number of Virtual Components (NVC) and Multiplier (MT) is same as [RFC4328]
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Signal Type (ST)</h3>

<p>Pre-G.709 defines the OPU2 and OPU3 with 2.5G tributary slots multiplex structure. G.709 Amendment3 defines the OPU1, OPU2, OPU3, OPU4 with 1.25G tributary slots multiplex structure. G.sup43 defines the OPU3e1 with 2.5G tributary slots multiplex structure and OPU3e2 with 1.25G tributary slots multiplex structure.
</p>
<p>Following is the Signal Type extended for G.709 Amendment3 and G.sup43. Values from 0  to 8 are defined in [RFC4328]. The size of OPU2 and OPU3 tributary slots which are define in [RFC4328] is 2.5G. Other new Signal Types are extended for G.709 Amendment3 and G.sup43.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Value  Type
-----  ----
0      Not significant
1      ODU1 (i.e., 2.5 Gbps)
2      ODU2 (i.e., 10  Gbps) /*The size of OPU2 TS is 2.5G*/
3      ODU3 (i.e., 40  Gbps) /*The size of OPU3 TS is 2.5G*/
4      Reserved (for future use)
5      Reserved (for future use)
6      OCh at 2.5 Gbps
7      OCh at 10  Gbps
8      OCh at 40  Gbps
9      OCh at 100 Gbps
10     ODU0
11     ODU1    /*The size of OPU1 TS is 1.25G*/
12     ODU2    /*The size of OPU2 TS is 1.25G*/
13     ODU3    /*The size of OPU3 TS is 1.25G*/
14     ODU4    /*The size of OPU4 TS is 1.25G*/
15     ODU2e   /*10Gbps for FC1200 and GE LAN */
16     ODU3e1  /*The size of OPU3e1 TS is 2.5G */
17     ODU3e2  /*The size of OPU3e2 TS is 1.25G */
18     ODUflex /*The size of OPU2/OPU3/OPU4 TS is 1.25G */
19     ODUflex /*The size of OPU2/OPU3 TS is 2.5G */
20-255 Reserved (for future use)
</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
Number of Multiplexed Components (NMC)</h3>

<p>The NMC values difined for G.709 Amendment3 and G.sup43 are as follows:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
NMC  Description
---  -----------
1    ODU0 is mapped into 1.25G tributary slots of OPU1.
1    ODU0 is mapped into 1.25G tributary slots of OPU2.
1    ODU0 is mapped into 1.25G tributary slots of OPU3.
1    ODU0 is mapped into 1.25G tributary slots of OPU4.
2    ODU1 is mapped into 1.25G tributary slots of OPU2.
2    ODU1 is mapped into 1.25G tributary slots of OPU3.
2    ODU1 is mapped into 1.25G tributary slots of OPU4.
8    ODU2 is mapped into 1.25G tributary slots of OPU3.
8    ODU2 is mapped into 1.25G tributary slots of OPU4.
9    ODU2e is mapped into 1.25G tributary slots of OPU3.
8    ODU2e is mapped into 1.25G tributary slots of OPU3e2.
8    ODU2e is mapped into 1.25G tributary slots of OPU4.
32   ODU3 is mapped into 1.25G tributary slots of OPU4.
1-8  ODUflex is mapped into 1.25G tributary slots of OPU2.
1-32 ODUflex is mapped into 1.25G tributary slots of OPU3.
1-80 ODUflex is mapped into 1.25G tributary slots of OPU4.

1    ODU1 is mapped into 2.5G tributary slots of OPU2.
1    ODU1 is mapped into 2.5G tributary slots of OPU3.
4    ODU2 is mapped into 2.5G tributary slots of OPU3.
5    ODU2e is mapped into 2.5G tributary slots of OPU3.
4    ODU2e is mapped into 2.5G tributary slots of OPU3e1.
1-4  ODUflex is mapped into 2.5G tributary slots of OPU2.
1-16 ODUflex is mapped into 2.5G tributary slots of OPU3.
</pre></div>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Backward Compatibility Considerations</h3>

<p>Equipment supporting a 1.25G TS structure for OPU2 or OPU3 must be backward compatible with equipment which supports only the 2.5G TS structure. Also, the extension defined in this document is backward compatible with [RFC4328] for ODU1, ODU2 and ODU3. So the extension defined in this document is a supplement and extension of [RFC4328].
</p>
<p>In terms of G.709 Amendment3, a one-byte payload type signal is defined in the PSI[0] byte of the payload structure identifier to indicate the composition of the OPUk signal. The code points can differentiate whether the ODU multiplex structure supports 2.5G tributary slots or 1.25G tributary slots. Also, in order to be backward compatible with [RFC4328] for ODU1, ODU2 and ODU3, it needs the Signal Type charactering the ODU multiplex structure to differentiate the size of tributary slots and the Generalized Label format.
</p>
<p>When a downstream (upstream)node receive Path (Resv) message in which Signal Type (i.e., ODU1, ODU2 or ODU3) characters ODU multiplex structure supporting 2.5G tributary slots, it must identifies the Generalized Label format based on [RFC4328].
</p>
<p>When a downstream (upstream) node receive Path (Resv) message in which Signal Type (i.e., ODU1, ODU2 or ODU3) characters ODU multiplex structure supporting 1.25G tributary slots, it must identifies the Generalized Label format based on this document.
</p>
<p>Following is a example of backward compatibility for ODU1, ODU2 and ODU3. For instance, we need to setup a ODU1 (2.5G bandwidth) LSP between node 1 and nodes 3. Node 2 must identify the Generalized Label format based on [RFC4328] after receiving the Path message. Node 2 must identify the Generalized Label format based on this document after receiving the Resv message. In other hand, node 3 must identify the Generalized Label format based on this document.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


   +---+    OTU3 (16*2.5G)    +---+     OTU3(32*1.25G)   +---+
---| 1 |----------------------| 2 |----------------------| 3 |---
   +---+                      +---+                      +---+
        ---------------------&gt;     ----------------------&gt;
      Path(Signal Type=1)          Path(Signal Type=11)

        &lt;---------------------     &lt;----------------------
      Resv(Signal type=1)          Resv(Signal type=11)



   +---+    OTU2 (4*2.5G)     +---+     OTU2(8*1.25G)    +---+
---| 1 |----------------------| 2 |----------------------| 3 |---
   +---+                      +---+                      +---+
        ---------------------&gt;     ----------------------&gt;
      Path(Signal Type=1)          Path(Signal Type=11)

        &lt;---------------------    &lt;----------------------
      Resv(Signal type=1)          Resv(Signal type=11)


   +---+      OTU1 (2.5G)     +---+      OTU1(2*1.25G)   +---+
---| 1 |----------------------| 2 |----------------------| 3 |---
   +---+                      +---+                      +---+
        ---------------------&gt;     ----------------------&gt;
      Path(Signal Type=1)          Path(Signal Type=11)

        &lt;---------------------     &lt;----------------------
      Resv(Signal type=1)          Resv(Signal type=11)
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Backward Compatibility Scenario&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Control plane designed for G.709 Amendment3 and G.sup43 should have the ability to synchronously process the different Generalized Label format of ODU2 and ODU3 defined in [RFC4328] and this document. The Generalized Label format is identified by the Signal Type in Traffic Parameters.
</p>
<p>When a downstream node receive Path message in which Signal Type is ODU0, ODU2e, ODUflex, ODU4, ODU3e1 or ODU3e2, it must identifies the Generalized Label format based on this document.
</p>
<p>If one node receives a Path message in which the Signal Type characters the ODU multiplex structure, it must check the local mapping capability. If it can not support this ODU multiplex structure, the Path message will be terminated, and a PathErr message with a "Traffic Control Error/Service unsupported" indication will be generated.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Generalized Label</h3>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Label Space</h3>

<p>G.709 Amendment3 has been added many different client payload bit rates which are mainly based on Gigabit Ethernet. An Optical Data Unit (ODU) frame has been defined for each of these bit rates.  ODUk refers to the frame at bit rate k, where k = 0 (for 1.2G Gbps which is sepecially introduced for GE client signal), 1 (for 2.5 Gbps CBR), 2 (for 10 Gbps including CBR and GE LAN), 2e (also for 10 Gbps which is sepecially introduced for FC1200 and GE LAN client signal), 3 (for 40 Gbps including CBR and GE) or 4 (for 100 Gbps which is sepecially introduced for GE client signal). ODU0 can be mapped into ODU1, ODU2, ODU3, ODU4. ODU1, ODU2 and ODU3 can be mapped into ODU4. ODU2e can be mapped into ODU3, ODU3e1, ODU3e2 and ODU4. ODU1 can be is mapped into 1.25G tributary slots of OPU2 and OPU3. ODU2 can be is mapped into 1.25G tributary slots of OPU3.
</p>
<p>The ODUflex can be used for CBR clients and for packet clients. The existing G.709 mappings for CBR clients into ODU0, 1, 2, 3 will continue to be used. New ODUflex mappings will not be defined for these clients. The CBR ODUflex rate should be 239/238*client bit rate. The Packet ODUflex bit rate is based on an incremental number of tributary slots of the ODUk (k=2, 3, 4) expected to carry the ODUflex. The Packet ODUflex rate should be n*1.24416 Gbps+/-20ppm (1&lt;=n&lt;=80). CBR ODUflex and Packet ODUflex are transported by mapping into an integer number of TS of an OPUk (of a High Order ODUk) for k&gt;1. There is no OTUflex.
</p>
<p>Most Lower Order ODUk signals have the same number of tributary slots in all High Order ODUk(i.e. HO OPUk signals). There are however a few exceptions; the most well known is LO ODU2e (i.e. LO ODU 10.399G). ODU2e fits into 5*2.5G tributary slots of OPU3, 9*1.25G tributary slots of OPU3, or 8*1.25G tributary slots of OPU4. 
</p>
<p>Following is the ODUk label format for the G.709 Amendment3 and G.sup43.
</p><br /><hr class="insert" />
<a name="Label Format for G.709 Amendment3 and G.sup43"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    reserve    |       t4        |      t3       |    t2   |t1 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Label Format for G.709 Amendment3 and G.sup43&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The specification of the fields t1, t2, t3 and t4 self-consistently characterizes the ODUk label space. The value space for the t1, t2, t3, t4, t5 and t6 fields is defined as follows:
				 	</p>
<ol class="text">
<li>t1 (2-bit):
							
<ul class="text">
<li>t1=[1..2] indicates the tributary slot (t1th) used by the ODU0 in an ODTUG1 (via ODTU01) mapped into an ODU1 (via OPU1). ODU0 is mapped into 1.25G tributary slots of OPU1.
</li>
<li>t1 is not significant for the other ODUk signal types (i.e., t1 value MUST be set to 0 and ignored).
</li>
</ul>
						
</li>
<li>t2 (5-bit):
							
<ul class="text">
<li>t2=[1..8] indicates the tributary slot (t2th) used by the ODU0 in an ODTUG2 (via ODTU02) mapped into an ODU2 (via OPU2). ODU0 is mapped into 1.25G tributary slots of OPU2.
</li>
<li>t2=[9..16] indicates the tributary slot (t2th-8) used by the ODU1 in an ODTUG2 (via ODTU12) mapped into an ODU2 (via OPU2). ODU1 is mapped into 1.25G tributary slots of OPU2. Two labels need to be allocated for one ODU1 connection. They may be continuous or non-continuous.
</li>
<li>t2=[17..24] indicates the tributary slot (t2th-16) used by the ODUflex in an ODTUG2 (via ODTU2.ts) mapped into an ODU2 (via OPU2). ODUflex is mapped into 1.25G tributary slots of OPU2. How many labels need to be allocated for one ODUflex connection is based on transport of a particular physical layer client. The number of label is determined by the NMC value. They may be continuous or non-continuous.
</li>
<li>t2=[25..28] indicates the tributary slot (t2th-24) used by the ODUflex in an ODTUG2 mapped into an ODU2 (via OPU2). ODUflex is mapped into 2.5G tributary slots of OPU2. How many labels needs to be allocated for one ODUflex connection is based on transport of a particular physical layer client. The number of label is determined by the NMC value. They may be continuous or non-continuous. This label definition may be removed in the future.
</li>
<li>t2 is not significant for the other ODUk signal types (i.e., t2 value MUST be set to 0 and ignored).
</li>
<li>t3=31 indicates an ODU2e sinal that is not further sub-divided. Two control planes controlling G.sup43 network elements which will be interworked should base on this Generalized Label format.
</li>
</ul>
						
</li>
<li>t3 (8-bit):
							
<ul class="text">
<li>t3=[1..32] indicates the tributary slot (t3th) used by the ODU0 in an ODTUG3 (via ODTU03) mapped into an ODU3 (via OPU3). ODU0 is mapped into 1.25G tributary slots of OPU3.
</li>
<li>t3=[33..64] indicates the tributary slot (t3th-32) used by the ODU1 in an ODTUG3 (via ODTU13) mapped into an ODU3 (via OPU3). ODU1 is mapped into 1.25G tributary slots of OPU3. Two labels need to be allocated for one ODU1 connection. They may be continuous or non-continuous.
</li>
<li>t3=[65..96] indicates the tributary slot (t3th-64) used by the ODU2 in an ODTUG3 (via ODTU23) mapped into an ODU3 (via OPU3). ODU2 is mapped into 1.25G tributary slots of OPU3. Eight labels need to be allocated for one ODU2 connection. They may be continuous or non-continuous.
</li>
<li>t3=[97..128] indicates the tributary slot (t3th-96) used by the ODU2e in an ODTUG3 (via ODTU3.ts) mapped into an ODU3 (via OPU3). ODU2e is mapped into 1.25G tributary slots of OPU3. Nine labels need to be allocated for one ODU2e connection. They may be continuous or non-continuous.
</li>
<li>t3=[129..160] indicates the tributary slot (t3th-128) used by the ODUflex in an ODTUG3 (via ODTU3.ts) mapped into an ODU3 (via OPU3). ODUflex is mapped into 1.25G tributary slots of OPU3. How many labels needs to be allocated for one ODUflex connection is based on transport of a particular physical layer client. The number of label is determined by the NMC value. They may be continuous or non-continuous.
</li>
<li>t3=[161..176] indicates the tributary slot (t5th-160) used by the ODU2e in an ODTUG3e1 (via ODTU2e3e1) mapped into an ODU3e1 (via OPU3e1). ODU2e is mapped into 2.5G tributary slots of OPU3e1. Four labels need to be allocated for one ODU2e connection. They may be continuous or non-continuous. 
								<br />
<br />

								The mapping of ODU2e into four 2.5G tributary slots is defined in the non normative G.sup43. Two control planes controlling G.sup43 network elements which will be interworked should base on this Generalized Label format.
</li>
<li>t3=[177..202] indicates the tributary slot (t5th-176) used by the ODU2e in an ODTUG3e2 (via ODTU2e3e2) mapped into an ODU3e2 (via OPU3e2). ODU2e is mapped into 1.25G tributary slots of OPU3e2. Eight labels need to be allocated for one ODU2e connection. 
								<br />
<br />

								The mapping of ODU2e into eight 1.25G tributary slots is defined in the non normative G.sup43. Two control planes controlling G.sup43 network elements which will be interworked should base on this Generalized Label format.
</li>
<li>t3=[203..218] indicates the tributary slot (t3th-202) used by the ODUflex in an ODTUG3 (via ODTU3.ts) mapped into an ODU3 (via OPU3). ODUflex is mapped into 2.5G tributary slots of OPU3. How many labels needs to be allocated for one ODUflex connection is based on transport of a particular physical layer client. The number of label is determined by the NMC value. They may be continuous or non-continuous. This label definition may be removed in the future.
</li>
<li>t3=[219..234] indicates the tributary slot (t3th-218) used by the ODU2e in an ODTUG3 (via ODTU2e3)mapped into an ODU3 (via OPU3). ODU2e is mapped into 2.5G tributary slots of OPU3. Five labels need to be allocated for one ODU2e connection. They may be continuous or non-continuous. 
								<br />
<br />

								The option of mapping clients into 2.5G tributary slots of ODU3 using GMP would be removed from consideration and from the draft revised G.709 (resulting in the mapping for ODU2e into five 2.5G tributary slots would not be supported in favour of using GMP mapping into nine 1.25G tributary slots). So this label definition may be removed in the future.
</li>
<li>t3 is not significant for the other ODUk signal types (i.e., t3 value MUST be set to 0 and ignored).
</li>
</ul>
						
</li>
<li>t4 (9-bit):
							
<ul class="text">
<li>t4=1 indicates an ODU4 signal that is not further sub-divided.
</li>
<li>t4=[2..81] indicates the tributary slot (t4th-1) used by the ODU0 in an ODTUG4 (via ODTU4.1) mapped into an ODU4 (via OPU4). ODU0 is mapped into 1.25G tributary slots of OPU4.
</li>
<li>t4=[82..161] indicates the tributary slot (t4th-81) used by the ODU1 in an ODTUG4 (via ODTU4.2) mapped into an ODU4 (via OPU4). ODU1 is mapped into 1.25G tributary slots of OPU4. Two labels need to be allocated for one ODU1 connection. They may be continuous or non-continuous.
</li>
<li>t4=[162..241] indicates the tributary slot (t4th-161) used by the ODU2 in an ODTUG4 (via ODTU4.8) mapped into an ODU4 (via OPU4). ODU2 is mapped into 1.25G tributary slots of OPU4. Eight labels need to be allocated for one ODU2 connection. They may be continuous or non-continuous.
</li>
<li>t4=[242..321] indicates the tributary slot (t4th-241) used by the ODU2e in an ODTUG4 mapped into an ODU4 (via OPU4). ODU2e is mapped into 1.25G tributary slots of OPU4. Eight labels need to be allocated for one ODU2e connection. They may be continuous or non-continuous.
</li>
<li>t4=[322..401] indicates the tributary slot (t4th-321) used by the ODUflex (via ODTU4.ts) in an ODTUG4 mapped into an ODU4 (via OPU4). ODUflex is mapped into 1.25G tributary slots of OPU4. How many labels needs to be allocated for one ODUflex connection is based on transport of a particular physical layer client. The number of label is determined by the NMC value. They may be continuous or non-continuous.
</li>
<li>t4=[402..481] indicates the tributary slot (t4th-401) used by the ODU3 (via ODTU4.32) in an ODTUG4 mapped into an ODU4 (via OPU4). ODU3 is mapped into 1.25G tributary slots of OPU4. Tirty-two labels need to be allocated for one ODU3 connection. They may be continuous or non-continuous.
</li>
<li>t4 is not significant for the other ODUk signal types (i.e., t4 value MUST be set to 0 and ignored).
</li>
</ul>
						
</li>
</ol><p>
				
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Label Distribution Rules</h3>

<p>It was noted that VCAT is only defined currently for ODU1, ODU2, and ODU3. The draft revision of G.709 Amendment3 will not define VCAT for ODU1, ODU2e and ODU4. So there is no any necessary extension for the new ODUk signal. The label distribution rules must be same as [RFC4328].
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Calculation of Label Number for ODUflex</h3>

<p>For an ODUflex that is based on transport of a particular physical layer client (e.g., ODU2e) the size of the ODUflex depends on that client. In general, it is a bit-synchronous mapping of the client with the ODUflex bit-rate being 239/238 times the bit-rate of the client. for this type of ODUflex, the number of tributary slots is chosen to fit. 
				<br />
<br />

				For example, ODU2e fits into 5*2.5G tributary slots of OPU3 (i.e., Five labels need to be allocated for one ODUflex connection when ODUflex is mapped into 2.5G tributary slots of ODU3), 9*1.25G tributary slots of OPU3 (i.e., Nine labels need to be allocated for one ODUflex connection when ODUflex is mapped into 1.25G tributary slots of OPU3), or 8*1.25G tributary slots of OPU4 (i.e., Eight labels need to be allocated for one ODUflex connection when ODUflex is mapped into 1.25G tributary slots of OPU4).
</p>
<p>For an ODUflex to provide flexibly sized trunks for packet transport, the granularity is selected to provide a reasonably efficient mapping into tributary slots of high order OPU2, OPU3, and OPU4. A good choice here seems to be to allow these trunks to be provisioned in sizes of n*1.24416G+/-20ppm (1&lt;=n&lt;=80). The number of labels is from 1 to 80.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Example of Generalized Label</h3>

<p>The following examples are given in order to illustrate the processing described in this document.
			</p>
<ol class="text">
<li>ODU2e in OTU2e mapping or ODU4 in OTU4 mapping: when one ODU2e (ODU4) signal is directly transported in an OTU2e (OTU4),the upstream node requests results simply in an ODU2e (ODU4) signal request.
				<br />
<br />

				In such conditions, the downstream node has to return a unique label because the ODU2e (ODU4) is directly mapped into the corresponding OTU2e (OTU4).  Because a single ODUk signal is requested, the downstream node has to return a single ODUk label, which can be, for instance, one of the following:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - Signal type=14, t4=1, t3=0, t2=0, t1=0;
      indicates a single ODU4 mapped into an OTU4

    - Signal type=15, t4=0, t3=0, t2=31, t1=0;
      indicates a single ODU2e mapped into an OTU2e
</pre></div>
				
</li>
<li>ODU0 into ODUk multiplexing (k = 1, 2, 3 or 4): when one ODU0 is multiplexed into the payload of a structured ODU1 (ODU2, ODU3 or ODU4), the upstream node requests results simply in an ODU0 signal request.
				<br />
<br />

				 In such conditions, the downstream node has to return a unique label because the ODU0 is multiplexed into one ODTUG1 (ODTUG2, ODTUG3 or OTDUG4). The latter is then mapped into the ODU1 (ODU2, ODU3 or ODU4) via OPU1 (OPU2, OPU3 or OPU4) and then mapped into the corresponding OTU1 (OTU2, OTU3 or OTU4). Because a single ODU0 multiplexed signal is requested (Signal Type = 10 and NMC = 1), the downstream node has to return a single ODU0 label, which can take, for instance, one of the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=0, t2=0, t1=2;
      indicates the ODU0 in the 1st TS of the ODTUG1

    - t4=0, t3=0, t2=5, t1=0;
      indicates the ODU0 in the 4th TS of the ODTUG2

    - t4=0, t3=27, t2=0, t1=0;
      indicates the ODU0 in the 26th TS of the ODTUG3

    - t4=69, t3=0, t2=0, t1=0;
      indicates the ODU0 in the 68th TS of the ODTUG4
</pre></div>
				
</li>
<li>ODU1 into 1.25G tributary slots of OPUk (k = 2, 3, 4) multiplexing: when one ODU1 is multiplexed into the payload of a structured ODU2 (ODU3 or ODU4), the upstream node requests results simply in an ODU1 signal request.
				<br />
<br />

				In such conditions, the downstream node has to return two labels because the ODU1 is multiplexed into one ODTUG2 (ODTUG3 or ODTUG4). The latter is then mapped into the ODU2 (ODU3 or ODU4) via OPU2 (OPU3 or OPU4) and then mapped into the corresponding OTU2 (OTU3 or OTU4). Because a single ODU1 multiplexed signal is requested (Signal Type = 11 and NMC = 2), the downstream node has to return two ODU1 labels, which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=0, t2=14, t1=0;
      indicates the ODU1 in the 5th 1.25G TS of the ODTUG2

      or

    - t4=0, t3=59, t2=0, t1=0;
      indicates the ODU1 in the 26th 1.25G TS of the ODTUG3

      or

    - t4=83, t3=0, t2=0, t1=0;
      indicates the ODU1 in the 1st 1.25G TS of the ODTUG4
</pre></div>
				
</li>
<li>ODU2 into 1.25G tributary slots of OPU3: when one ODU2 is multiplexed into the payload of a structured ODU3, the upstream node requests results simply in an ODU2 signal request.
				<br />
<br />

				In such conditions, the downstream node has to return eight labels because the ODU2 is multiplexed into one ODTUG3. The latter is then mapped into the ODU3 via OPU3 and then mapped into the corresponding OTU3. Because a single ODU1 multiplexed signal is requested (Signal Type = 12 and NMC = 8), the downstream node has to return eight ODU2 labels, which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=68, t2=0, t1=0;
      indicates the ODU1 in the 3rd 1.25G TS of the ODTUG3

    - t4=0, t3=74, t2=0, t1=0;
      indicates the ODU1 in the 9th 1.25G TS of the ODTUG3

    - t4=0, t3=83, t2=0, t1=0;
      indicates the ODU1 in the 18th 1.25G TS of the ODTUG3
</pre></div>
				
</li>
<li>ODU2/ODU2e into ODU4 multiplexing: when one ODU2 (or ODU2e) is multiplexed into the payload of a structured ODU4, the upstream node requests results simply in an ODU2 (or ODU2e) signal request.
				<br />
<br />

				In such conditions, the downstream node has to return eight labels because the ODU2 (ODU2e) is multiplexed into one ODTUG4. The latter is then mapped into the ODU4 via OPU4 and then mapped into the corresponding OTU4. Because a single ODU2 (or ODU2e) multiplexed signal is requested (Signal Type = 12 and NMC = 8 or Signal Type = 15 and NMC = 8), the downstream node has to return eight ODU2 (or ODU2e) labels, one of which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - Signal type=12, t4=183, t3=0, t2=0, t1=0;
      indicates the ODU2 in the 21st TS of the ODTUG4

    - Signal type=15, t4=321, t3=0, t2=0, t1=0;
      indicates the ODU2e in the 79th TS of the ODTUG4
</pre></div>
				
</li>
<li>ODU3 into ODU4 multiplexing: when one ODU3 is multiplexed into the payload of a structured ODU4, the upstream node requests results simply in an ODU3 signal request.
				<br />
<br />

				In such conditions, the downstream node has to return thirty-two labels because the ODU3 is multiplexed into one ODTUG4. The latter is then mapped into the ODU4 via OPU4 and then mapped into the corresponding OTU4. Because a single ODU3 multiplexed signal is requested (Signal Type = 13 and NMC = 32), the downstream node has to return thirty-two ODU3 labels, one of which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=409, t3=0, t2=0, t1=0;
      indicates the ODU3 in the 7th TS of the ODTUG4

    - t4=450, t3=0, t2=0, t1=0;
      indicates the ODU3 in the 48th TS of the ODTUG4

    - t4=473, t3=0, t2=0, t1=0;
      indicates the ODU3 in the 71st TS of the ODTUG4
</pre></div>
				
</li>
<li>ODU2e into 1.25G tributary slots of OPU3: when one ODU2e is multiplexed into the payload of a structured ODU3, the upstream node requests results simply in an ODU2e signal request.
				<br />
<br />

				In such conditions, the downstream node has to return nine labels because the ODU2e is multiplexed into one ODTUG3. The latter is then mapped into the ODU3 via OPU3 and then mapped into the corresponding OTU3. Because a single ODU2e multiplexed signal is requested (Signal Type = 15 and NMC = 9), the downstream node has to return nine ODU2e labels, one of which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=101, t2=0, t1=0;
      indicates the ODU2e in the 4th 1.25G TS of the ODTUG3

    - t4=0, t3=113, t2=0, t1=0;
      indicates the ODU2e in the 16th 1.25G TS of the ODTUG3

    - t4=0, t3=121, t2=0, t1=0;
      indicates the ODU2e in the 24th 1.25G TS of the ODTUG3
</pre></div>
				
</li>
<li>ODU2e into ODU3e1 multiplexing: when one ODU2e is multiplexed into the payload of a structured ODU3e1, the upstream node requests results simply in an ODU2e signal request.
				<br />
<br />

				In such conditions, the downstream node has to return four labels because the ODU2e is multiplexed into one ODTUG3e1. The latter is then mapped into the ODU3e1 via OPU3e1 and then mapped into the corresponding OTU3e1. Because a single ODU2e multiplexed signal is requested (Signal Type = 15 and NMC = 4), the downstream node has to return four ODU2e labels, which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=162, t2=0, t1=0;
      indicates the ODU2e in the 1st TS of the ODTUG3e1

    - t4=0, t3=167, t2=0, t1=0;
      indicates the ODU2e in the 6th TS of the ODTUG3e1

    - t4=0, t3=171, t2=0, t1=0;
      indicates the ODU2e in the 10th TS of the ODTUG3e1

    - t4=0, t3=176, t2=0, t1=0;
      indicates the ODU2e in the 15th TS of the ODTUG3e1
</pre></div>
				
</li>
<li>ODU2e into ODU3e2 multiplexing: when one ODU2e is multiplexed into the payload of a structured ODU3e2, the upstream node requests results simply in an ODU2e signal request.
				<br />
<br />

				In such conditions, the downstream node has to return eight labels because the ODU2e is multiplexed into one ODTUG3e2. The latter is then mapped into the ODU3e2 via OPU3e2 and then mapped into the corresponding OTU3e2. Because a single ODU2e multiplexed signal is requested (Signal Type = 15 and NMC = 8), the downstream node has to return eight ODU2e labels, one of which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=182, t2=0, t1=0;
      indicates the ODU2e in the 5th TS of the ODTUG3e2

    - t4=0, t3=198, t2=0, t1=0;
      indicates the ODU2e in the 21st TS of the ODTUG3e2

    - t4=0, t3=208, t2=0, t1=0;
      indicates the ODU2e in the 31st TS of the ODTUG3e2
</pre></div>
				
</li>
<li>ODUflex is mapped into 1.25G tributary slots of OPU2 (OPU3 or OPU4). when one ODUflex is multiplexed into the payload of a structured ODU2 (ODU3 or ODU4), the upstream node requests results simply in an ODUflex signal request.
				<br />
<br />

				In such conditions, the downstream node has to return some labels whose number is determined in terms of NMC value. Because the ODUflex is multiplexed into one ODTUG2 (ODTUG3 or ODTUG4). The latter is then mapped into the ODU2 (ODU3 or ODU4) via OPU2 (OPU3 or OPU4) and then mapped into the corresponding OTU2 (OTU3 or OTU4). Because a single ODUflex multiplexed signal is requested (Signal Type = 18), the downstream node has to return some labels (i.e., the number of labels is NMC), which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=0, t2=22, t1=0;
      indicates the ODUflex in the 5th 1.25G TS of the ODTUG2

      or

    - t4=0, t3=151, t2=0, t1=0;
      indicates the ODUflex in the 22nd 1.25G TS of the ODTUG3

      or

    - t4=369, t3=0, t2=0, t1=0;
      indicates the ODUflex in the 47th 1.25G TS of the ODTUG4
</pre></div>
				
</li>
<li>ODUflex is mapped into 2.5G tributary slots of OPU2 (or OPU3). when one ODUflex is multiplexed into the payload of a structured ODU2 (or ODU3), the upstream node requests results simply in an ODUflex signal request.
				<br />
<br />

				In such conditions, the downstream node has to return some labels whose number is determined in terms of NMC valuce. Because the ODUflex is multiplexed into one ODTUG2 (or ODTUG3). The latter is then mapped into the ODU2 (or ODU3) via OPU2 (or OPU3) and then mapped into the corresponding OTU2 (or OTU3). Because a single ODUflex multiplexed signal is requested (Signal Type = 19), the downstream node has to return some labels (i.e., the number of labels is NMC), which can take, for instance, the following values:
				<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    - t4=0, t3=0, t2=27, t1=0;
      indicates the ODUflex in the 2nd 2.5G TS of the ODTUG2

      or

    - t4=0, t3=215, t2=0, t1=0;
      indicates the ODUflex in the 12nd 2.5G TS of the ODTUG3
</pre></div>
				
</li>
</ol><p>
	    
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Interworking Considerations</h3>

<p>Equipment supporting a 1.25G TS structure for OPU2 or OPU3 must be backward compatible with equipment which supports only the 2.5G TS structure. There must be some considerations on interworking between pre-G.709 and new OTN equipment. Following figure is a interworking example between pre-G.709 and G.709 Amendment3.
</p><br /><hr class="insert" />
<a name="Interworking Example between pre-G.709 and G.709 Amendment3"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      4*2.5G TS   32*1.25G TS  80*1.25G TS  16*2.5G TS   8*1.25G TS
         |            |           |           |            |
         |            |           |           |            |
        \|/          \|/         \|/         \|/          \|/
 +----+ OTU2 +----+ OTU3 +----+ OTU4 +----+ OTU3  +----+  OTU2 +----+
-|DXC1|------|DXC2|------|DXC3|------|DXC4|-------|DXC5|-------|DXC6|-
 +----+      +----+      +----+      +----+       +----+       +----+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Interworking Scenario between pre-G.709 and G.709 Amendment3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Interworking can probably be accomplished by requiring the new equipment to support the pre-G.709 payload mappings onto link that are attached to another equipment. One approach that may satisfy this is to represent the capacity of a link in terms of the number of timeslots and the time slot bandwidth. This can be reflected in the Interface Switching Capability Descriptor. In the this scenario, node DXC2, DXC4 and DXC5 should have the interworking capability.
</p>
<p>With the introduction of many new Lower Order ODU bit rates, TE links should be represented by means of either their bandwidth or their number of tributary slots, the bandwidth per tributary slot and the set of client ODU signals supported. Traffic Engineering Database (TED) should be compose of the following TE link for this scenario.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

               Max LSP Bandwidth  Minimum LSP Bandwidth
OTU2(DXC1-DXC2)     ODU2 (10G)       ODU1 (2.5G)
OTU2(DXC5-DXC6)     ODU2 (10G)       ODU0 (1.25G)
OTU3(DXC2-DXC3)     ODU3 (40G)       ODU1 (1.25G)
OTU3(DXC4-DXC5)     ODU3 (40G)       ODU1 (2.5G)
OTU4(DXC3-DXC4)     ODU4 (100G)      ODU0 (1.25G)
</pre></div>
<p>When we need to setup a ODU1 (2.5G) LSP between DXC1 node and DXC6 nodes, the path computation entiy may computate an DXC1-DXC2-DXC3-DXC4-DXC5-DXC6 route by the ODU1 bandwidth request in an G.709 network.
		 	</p>
<ol class="text">
<li>In the case of one end-to-end session, the setup of a end-to-end connection must be based on the section "Backward Compatibility Considerations" in this document. The Traffic Parameters have to be changed in DXC2, DXC4, and DXC5 node.
				<br /><hr class="insert" />
<a name="Contiguous TE LSP"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 +----+      +----+      +----+      +----+       +----+       +----+
-|DXC1|------|DXC2|------|DXC3|------|DXC4|-------|DXC5|-------|DXC6|-
 +----+      +----+      +----+      +----+       +----+       +----+
        Path        Path        Path         Path         Path
      -------&gt;     ------&gt;     ------&gt;     -------&gt;     -------&gt;
        ST=1        ST=11       ST=11       ST=1         ST=11
       NMC=1       NMC=2       NMC=2       NMC=1        NMC=2

        Resv        Resv        Resv         Resv         Resv
      &lt;-------     &lt;------     &lt;------     &lt;-------     &lt;-------
        ST=1        ST=11       ST=11       ST=1         ST=11
       NMC=1       NMC=2       NMC=2       NMC=1        NMC=2
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Contiguous TE LSP&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

	      
</li>
<li>The end-to-end connection also can be setuped with multiple segment session (i.e., ODU1 LSP1, ODU1 LSP2, ODU1 LSP3, ODU1 LSP4).
			<br /><hr class="insert" />
<a name="Stitching TE LSP"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 +----+      +----+      +----+      +----+       +----+       +----+
-|DXC1|------|DXC2|------|DXC3|------|DXC4|-------|DXC5|-------|DXC6|-
 +----+      +----+      +----+      +----+       +----+       +----+
  |             |                      |             |             |
  |&lt;-ODU1 LSP1-&gt;|&lt;-----ODU1 LSP2------&gt;|&lt;-ODU1 LSP3-&gt;|&lt;-ODU1 LSP4-&gt;|
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Stitching TE LSP&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      Druing setup of each segment lsp, tributary slot size should be known to control plane. One approach that may satisfy this is based on the Signal Type in Traffic Parameters. Signal Type and NMC in each segment LSP don't need to be changed any more. Following is the value of Signal Type for different segment LSP.
			<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

           Value     Type
ODU1 LSP1  1         ODU1 (i.e., 2.5 Gbps is not further sub-divided)
ODU1 LSP2  11        ODU1 /*The size of OPUk TS is 1.25G*/
ODU1 LSP3  1         ODU1 (i.e., 2.5 Gbps is not further sub-divided)
ODU1 LSP4  11        ODU1 /*The size of OPUk TS is 1.25G*/
</pre></div>
      editor note: If the segment LSP can be created and prepaired for stitching by signaling, the end-to-end connection is stitched to several segment LSPs (i.e., ODU1 LSP1, ODU1 LSP2, ODU1 LSP3, ODU1 LSP4). The traffic parameters of this end-to-end session is TBD.
</li>
</ol><p>
		
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Control of ODUflex resizing</h3>

<p>TBD
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Contributors</h3>

<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>TBD.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>TBD.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgments</h3>

<p>The RFC text was produced using Marshall Rose's xml2rfc tool.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ITUT-G709">[ITUT-G709]</a></td>
<td class="author-text">ITU-T, &ldquo;Interface for the Optical Transport Network (OTN),&rdquo; G.709 Recommendation (and Amendment 1)&nbsp;, October&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3630">[RFC3630]</a></td>
<td class="author-text">Katz, D., Kompella, K., and D. Yeung, &ldquo;<a href="http://tools.ietf.org/html/rfc3630">Traffic Engineering (TE) Extensions to OSPF Version 2</a>,&rdquo; RFC&nbsp;3630, September&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3630.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4203">[RFC4203]</a></td>
<td class="author-text">Kompella, K. and Y. Rekhter, &ldquo;<a href="http://tools.ietf.org/html/rfc4203">OSPF Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)</a>,&rdquo; RFC&nbsp;4203, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4203.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4206">[RFC4206]</a></td>
<td class="author-text">Kompella, K. and Y. Rekhter, &ldquo;<a href="http://tools.ietf.org/html/rfc4206">Label Switched Paths (LSP) Hierarchy with Generalized Multi-Protocol Label Switching (GMPLS) Traffic Engineering (TE)</a>,&rdquo; RFC&nbsp;4206, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4206.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4328">[RFC4328]</a></td>
<td class="author-text">Papadimitriou, D., &ldquo;<a href="http://tools.ietf.org/html/rfc4328">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Extensions for G.709 Optical Transport Networks Control</a>,&rdquo; RFC&nbsp;4328, January&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4328.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5150">[RFC5150]</a></td>
<td class="author-text">Ayyangar, A., Kompella, K., Vasseur, JP., and A. Farrel, &ldquo;<a href="http://tools.ietf.org/html/rfc5150">Label Switched Path Stitching with Generalized Multiprotocol Label Switching Traffic Engineering (GMPLS TE)</a>,&rdquo; RFC&nbsp;5150, February&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5150.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Xihua Fu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ZTE Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">West District,ZTE Plaza,No.10,Tangyan South Road,Gaoxin District</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Xi An  710065</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R.China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+8613798412242</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:fu.xihua@zte.com.cn">fu.xihua@zte.com.cn</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://wwwen.zte.com.cn/">http://wwwen.zte.com.cn/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ming Ke</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ZTE Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3F,R&amp;D Building 3,ZTE Industrial Park,XiLi LiuXian Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nanshan District,Shenzhen  518055</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R.China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86 755 26773914</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ke.ming@zte.com.cn">ke.ming@zte.com.cn</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yuanlin Bao</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ZTE Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">5F,R&amp;D Building 3, ZTE Industrial Park, XiLi LiuXian Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nanshan District,Shenzhen  518055</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R.China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86 755 26773731</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:bao.yuanlin@zte.com.cn">bao.yuanlin@zte.com.cn</a></td></tr>
</table>
</body></html>
