



Internet Engineering Task Force                        G.Galimberti, Ed.
Internet-Draft                                                     Cisco
Intended status: Standards Track                            R.Kunze, Ed.
Expires: January 7, 2016                                Deutsche Telekom
                                                             K. Lam, Ed.
                                                          Alcatel-Lucent
                                                     D. Hiremagalur, Ed.
                                                       G. G.Grammel, Ed.
                                                                 Juniper
                                                             L.Fang, Ed.
                                                        G.Ratterree, Ed.
                                                               Microsoft
                                                            July 6, 2015


  A YANG model to manage the optical interface parameters of "G.698.2
                  single channel" in DWDM applications
                  draft-dharini-netmod-g-698-2-yang-04

Abstract

   This memo defines a Yang model that translates the SNMP mib module
   defined in draft-galikunze-ccamp-g-698-2-snmp-mib for managing single
   channel optical interface parameters of DWDM applications, using the
   approach specified in G.698.2.  This model is to support the optical
   parameters specified in ITU-T G.698.2 [ITU.G698.2] and application
   identifiers specified in ITU-T G.874.1 [ITU.G874.1] .  Note that
   G.874.1 encompasses vendor-specific codes, which if used would make
   the interface a single vendor IaDI and could still be managed.

   The Yang model defined in this memo can be used for Optical
   Parameters monitoring and/or configuration of the endpoints of the
   multi-vendor IaDI based on the Black Link approach.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.



G.Galimberti, et al.     Expires January 7, 2016                [Page 1]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 7, 2016.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3
   2.  The Internet-Standard Management Framework  . . . . . . . . .   4
   3.  Conventions . . . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Overview  . . . . . . . . . . . . . . . . . . . . . . . . . .   4
     4.1.  Optical Parameters Description  . . . . . . . . . . . . .   5
       4.1.1.  Rs-Ss Configuration . . . . . . . . . . . . . . . . .   6
       4.1.2.  Table of Application Codes  . . . . . . . . . . . . .   7
     4.2.  Use Cases . . . . . . . . . . . . . . . . . . . . . . . .   7
     4.3.  Optical Interface for G.698.2 . . . . . . . . . . . . . .  14
   5.  Structure of the Yang Module  . . . . . . . . . . . . . . . .  14
   6.  Yang Module . . . . . . . . . . . . . . . . . . . . . . . . .  15
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .  19
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  20
   9.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  20
   10. Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  20
   11. References  . . . . . . . . . . . . . . . . . . . . . . . . .  21
     11.1.  Normative References . . . . . . . . . . . . . . . . . .  21
     11.2.  Informative References . . . . . . . . . . . . . . . . .  23
   Appendix A.  Change Log . . . . . . . . . . . . . . . . . . . . .  24
   Appendix B.  Open Issues  . . . . . . . . . . . . . . . . . . . .  24
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  24






G.Galimberti, et al.     Expires January 7, 2016                [Page 2]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


1.  Introduction

   This memo defines a Yang model that translates the SNMP mib module
   defined in draft-galikunze-ccamp-g-698-2-snmp-mib for managing single
   channel optical interface parameters of DWDM applications, using the
   approach specified in G.698.2.  This model is to support the optical
   parameters specified in ITU-T G.698.2 [ITU.G698.2], application
   identifiers specified in ITU-T G.874.1 [ITU.G874.1] and the Optical
   Power at Transmitter and Receiver side.  Note that G.874.1
   encompasses vendor-specific codes, which if used would make the
   interface a single vendor IaDI and could still be managed.`

   The Black Link approach allows supporting an optical transmitter/
   receiver pair of one vendor to inject an optical tributary signal and
   run it over an optical network composed of amplifiers, filters, add-
   drop multiplexers from a different vendor.  In the OTN architecture,
   the 'black-link' represents a pre-certified network media channel
   conforming to G.698.2 specifications at the S and R reference points.

   [Editor's note: In G.698.2 this corresponds to the optical path from
   point S to R; network media channel is also used and explained in
   draft-ietf-ccamp-flexi-grid-fwk-02]

   Management will be performed at the edges of the network media
   channel (i.e., at the transmitters and receivers attached to the S
   and R reference points respectively) for the relevant parameters
   specified in G.698.2 [ITU.G698.2], G.798 [ITU.G798], G.874
   [ITU.G874], and the performance parameters specified in G.7710/Y.1701
   [ITU-T G.7710] and G.874.1 [ITU.G874.1].

   G.698.2 [ITU.G698.2] is primarily intended for metro applications
   that include optical amplifiers.  Applications are defined in G.698.2
   [ITU.G698.2] using optical interface parameters at the single-channel
   connection points between optical transmitters and the optical
   multiplexer, as well as between optical receivers and the optical
   demultiplexer in the DWDM system.  This Recommendation uses a
   methodology which does not explicitly specify the details of the
   optical network between reference point Ss and Rs, e.g., the passive
   and active elements or details of the design.  The Recommendation
   currently includes unidirectional DWDM applications at 2.5 and 10
   Gbit/s (with 100 GHz and 50 GHz channel frequency spacing).  Work is
   still under way for 40 and 100 Gbit/s interfaces.  There is
   possibility for extensions to a lower channel frequency spacing.
   This document specifically refers to the "application code" defined
   in the G.698.2 [ITU.G698.2] and included in the Application
   Identifier defined in G.874.1 [ITU.G874.1] and G.872 [ITU.G872], plus
   a few optical parameters not included in the G.698.2 application code
   specification.



G.Galimberti, et al.     Expires January 7, 2016                [Page 3]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   This draft refers and supports the draft-kunze-g-698-2-management-
   control-framework

   The building of a yang model describing the optical parameters
   defined in G.698.2 [ITU.G698.2], and reflected in G.874.1
   [ITU.G874.1], allows the different vendors and operator to retrieve,
   provision and exchange information across the G.698.2 multi-vendor
   IaDI in a standardized way.  In addition to the parameters specified
   in ITU recommendations the Yang models support also the "vendor
   specifica application identifier", the Tx and Rx power at the Ss and
   Rs points and the channel frequency.

   The Yang Model, reporting the Optical parameters and their values,
   characterizes the features and the performances of the optical
   components and allow a reliable black link design in case of multi
   vendor optical networks.

   Although RFC 3591 [RFC3591], which draft-galikunze-ccamp-g-698-2-
   snmp-mib is extending, describes and defines the SNMP MIB of a number
   of key optical parameters, alarms and Performance Monitoring, as this
   RFC is over a decade old, it is primarily pre-OTN, and a more
   complete and up-to-date description of optical parameters and
   processes can be found in the relevant ITU-T Recommendations.  The
   same considerations can be applied to the RFC 4054 [RFC4054].

2.  The Internet-Standard Management Framework

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to section 7 of
   RFC 3410 [RFC3410].

   This memo specifies a Yang model for optical interfaces.

3.  Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119] In
   the description of OIDs the convention: Set (S) Get (G) and Trap (T)
   conventions will describe the action allowed by the parameter.

4.  Overview









G.Galimberti, et al.     Expires January 7, 2016                [Page 4]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Figure 1 shows a set of reference points, for the linear "black link"
   approach, for single-channel connection (Ss and Rs) between
   transmitters (Tx) and receivers (Rx).  Here the DWDM network elements
   include an OM and an OD (which are used as a pair with the opposing
   element), one or more optical amplifiers and may also include one or
   more OADMs.


          +-------------------------------------------------+
       Ss |              DWDM Network Elements              | Rs
   +--+ | |  | \                                       / |  |  | +--+
   Tx L1--|->|   \    +------+            +------+   /   |--|-->Rx L1
   +---+  |  |    |   |      |  +------+  |      |  |    |  |    +--+
   +---+  |  |    |   |      |  |      |  |      |  |    |  |    +--+
   Tx L2--|->| OM |-->|------|->| OADM |--|------|->| OD |--|-->Rx L2
   +---+  |  |    |   |      |  |      |  |      |  |    |  |    +--+
   +---+  |  |    |   |      |  +------+  |      |  |    |  |    +--+
   Tx L3--|->|   /    | DWDM |    |  ^    | DWDM |   \   |--|-->Rx L3
   +---+  |  | /      | Link +----|--|----+ Link |     \ |  |    +--+
          +-----------+           |  |           +----------+
                               +--+  +--+
                               |        |
                            Rs v        | Ss
                            +-----+  +-----+
                            |RxLx |  |TxLx |
                            +-----+  +-----+
   Ss = reference point at the DWDM network element tributary output
   Rs = reference point at the DWDM network element tributary input
   Lx = Lambda x
   OM = Optical Mux
   OD = Optical Demux
   OADM = Optical Add Drop Mux


   from Fig. 5.1/G.698.2

                   Figure 1: Linear Black Link approach

   G.698.2 [ITU.G698.2] defines also Ring "Black Link" approach
   configurations [Fig. 5.2/G.698.2] and Linear "black link" approach
   for Bidirectional applications[Fig. 5.3/G.698.2]

4.1.  Optical Parameters Description

   The G.698.2 pre-certified network media channels are managed at the
   edges, i.e. at the transmitters (Tx) and receivers (Rx) attached to
   the S and R reference points respectively.  The set of parameters




G.Galimberti, et al.     Expires January 7, 2016                [Page 5]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   that could be managed are specified in G.698.2 [ITU.G698.2] section
   5.3 referring the "application code" notation

   The definitions of the optical parameters are provided below to
   increase the readability of the document, where the definition is
   ended by (R) the parameter can be retrieve with a read, when (W) it
   can be provisioned by a write, (R,W) can be either read or written.

4.1.1.  Rs-Ss Configuration

   The Rs-Ss configuration table allows configuration of Central
   Frequency, Power and Application codes as described in [ITU.G698.2]
   and G.694.1 [ITU.G694.1]
   This parameter report the current Transceiver Output power, it can be
   either a setting and measured value (G, S).

   Central frequency (see G.694.1 Table 1) (see G.694.1 Table 1):
      This parameter indicates the Central frequency value that Ss and
      Rs will be set to work (in THz).  See the details in Section 6/
      G.694.1 (G, S).

   Single-channel application codes(see G.698.2):
      This parameter indicates the transceiver application code at Ss
      and Rs as defined in [ITU.G698.2] Chapter 5.4 - this parameter can
      be called Optical Interface Identifier OII as per [draft-
      martinelli-wson-interface-class](G).

   Number of Single-channel application codes Supported
      This parameter indicates the number of Single-channel application
      codes supported by this interface (G).

   Current Laser Output power:
      This parameter report the current Transceiver Output power, it can
      be either a setting and measured value (G, S).

   Current Laser Input power:
      This parameter report the current Transceiver Input power (G).














G.Galimberti, et al.     Expires January 7, 2016                [Page 6]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   +---------------------------------------------+---------+-----------+
   | PARAMETERS                                  | Get/Set | Reference |
   +---------------------------------------------+---------+-----------+
   | Central frequency Value                     |   G,S   |  G.694.1  |
   |                                             |         |    S.6    |
   | Single-channel application codes            |    G    |  G.698.2  |
   |                                             |         |   S.5.3   |
   | Number of Single-channel application codes  |    G    |    N.A.   |
   | Supported                                   |         |           |
   | Current Output Power                        |   G,S   |    N.A.   |
   | Current Input Power                         |    G    |    N.A.   |
   +---------------------------------------------+---------+-----------+

                       Table 1: Rs-Ss Configuration

4.1.2.  Table of Application Codes

   This table has a list of Application codes supported by this
   interface at point R are defined in G.698.2.

     Application code Identifier:
         The Identifier for the Application code.

     Application code Type:
      This parameter indicates the transceiver type of application code
      at Ss and Rs as defined in [ITU.G874.1], that is used by this
      interface Standard = 0, PROPRIETARY = 1
      The first 6 octets of the printable string will be the OUI
      (organizationally unique identifier) assigned to the vendor
      whose implementation generated the Application Identifier Code.

     Application code Length:
        The number of octets in the Application Code.

     Application code:
      This is the application code that is defined in G.698.2 or the
      vendor generated code which has the OUI.


4.2.  Use Cases

   The use cases described below are assuming that power monitoring
   functions are available in the ingress and egress network element of
   the DWDM network, respectively.  By performing link property
   correlation it would be beneficial to include the current transmit
   power value at reference point Ss and the current received power
   value at reference point Rs.  For example if the Client transmitter
   power (OXC1) has a value of 0dBm and the ROADM interface measured



G.Galimberti, et al.     Expires January 7, 2016                [Page 7]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   power (at OLS1) is -6dBm the fiber patch cord connecting the two
   nodes may be pinched or the connectors are dirty.  More, the
   interface characteristics can be used by the OLS network Control
   Plane in order to check the Optical Channels feasibility.  Finally
   the OXC1 transceivers parameters (Application Code) can be shared
   with OXC2 using the LMP protocol to verify the Transceivers
   compatibility.  The actual route selection of a specific wavelength
   within the allowed set is outside the scope of LMP.  In GMPLS, the
   parameter selection (e.g. central frequency) is performed by RSVP-TE.

   G.698.2 defines a single channel optical interface for DWDM systems
   that allows interconnecting network-external optical transponders
   across a DWDM network.  The optical transponders are considered to be
   external to the DWDM network.  This so-called 'black link' approach
   illustrated in Figure 5-1 of G.698.2 and a copy of this figure is
   provided below.  The single channel fiber link between the Ss/Rs
   reference points and the ingress/egress port of the network element
   on the domain boundary of the DWDM network (DWDM border NE) is called
   access link in this contribution.  Based on the definition in G.698.2
   it is considered to be part of the DWDM network.  The access link
   typically is realized as a passive fiber link that has a specific
   optical attenuation (insertion loss).  As the access link is an
   integral part of the DWDM network, it is desirable to monitor its
   attenuation.  Therefore, it is useful to detect an increase of the
   access link attenuation, for example, when the access link fiber has
   been disconnected and reconnected (maintenance) and a bad patch panel
   connection (connector) resulted in a significantly higher access link
   attenuation (loss of signal in the extreme case of an open connector
   or a fiber cut).  In the following section, two use cases are
   presented and discussed:

        1) pure access link monitoring
        2) access link monitoring with a power control loop

   These use cases require a power monitor as described in G.697 (see
   section 6.1.2), that is capable to measure the optical power of the
   incoming or outgoing single channel signal.  The use case where a
   power control loop is in place could even be used to compensate an
   increased attenuation as long as the optical transmitter can still be
   operated within its output power range defined by its application
   code.










G.Galimberti, et al.     Expires January 7, 2016                [Page 8]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Figure 2 Access Link Power Monitoring



                                       +--------------------------+
                                       |    P(in) = P(Tx) - a(Tx) |
                                       |    ___                   |
       +----------+                    |    \ /  Power Monitor    |
       |          | P(Tx)              |     V                    |
       |  +----+  | Ss    //\\         |     |    |\              |
       |  | TX |----|-----\\//------------------->| \             |
       |  +----+  | Access Link (AL-T) |       .  |  |            |
       |          | attenuation a(Tx)  |       .  |  |==============>
       |          |                    |       .  |  |            |
       | External |                    |      --->| /             |
       | Optical  |                    |          |/              |
       |Transpond.|                    |    P(out)                |
       |          |                    |    ___                   |
       |          |                    |    \ /  Power Monitor    |
       |          | P(Rx)              |     V                    |
       |  +----+  | Rs    //\\         |     |    |\              |
       |  | RX |<---|-----\\//--------------------| \             |
       |  +----+  | Access Link (AL-R) |       .  |  |            |
       |          | Attenuation a(Rx)  |       .  |  |<==============
       +----------+                    |       .  |  |            |
                                       |      <---| /             |
       P(Rx) = P(out) - a(Rx)          |          |/              |
                                       |                          |
                                       |           ROADM          |
                                       +--------------------------+

        -  For AL-T monitoring: P(Tx) and a(Tx) must be known
        -  For AL-R monitoring: P(RX) and a(Rx) must be known

       An alarm shall be raised if P(in) or P(Rx) drops below a
       configured threshold (t [dB]):
       -  P(in) < P(Tx) - a(Tx) - t (Tx direction)
       -  P(Rx) < P(out) - a(Rx) - t (Rx direction)
       -  a(Tx) =| a(Rx)


                       Figure 2: Extended LMP Model









G.Galimberti, et al.     Expires January 7, 2016                [Page 9]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Pure Access Link  (AL) Monitoring Use Case

      Figure 4 illustrates the access link monitoring use case and the
      different physical properties involved that are defined below:

    - Ss, Rs: G.698.2 reference points
    - P(Tx):  current optical output power of transmitter Tx
    - a(Tx):  access link attenuation in Tx direction (external
              transponder point of view)
    - P(in):  measured current optical input power at the input port
              of border DWDM NE
    - t:      user defined threshold (tolerance)
    - P(out): measured current optical output power at the output port
              of border DWDM NE
    - a(Rx):  access link attenuation in Rx direction (external
              transponder point of view)
    - P(Rx):  current optical input power of receiver Rx

   Assumptions:
   - The access link attenuation in both directions (a(Tx), a(Rx))
     is known or can be determined as part of the commissioning
     process.  Typically, both values are the same.
   - A threshold value t has been configured by the operator. This
     should also be done during commissioning.
   - A control plane protocol (e.g. this draft) is in place that allows
     to periodically send the optical power values P(Tx) and P(Rx)
     to the control plane protocol instance on the DWDM border NE.
     This is llustrated in Figure 3.
   - The DWDM border NE is capable to periodically measure the optical
     power Pin and Pout as defined in G.697 by power monitoring points
     depicted as yellow triangles in the figures below.

   AL monitoring process:
   - Tx direction: the measured optical input power Pin is compared
     with the expected optical input power P(Tx) - a(Tx). If the
     measured optical input power P(in) drops below the value
     (P(Tx) - a(Tx) - t) a low power alarm shall be raised indicating
     that the access link attenuation has exceeded a(Tx) + t.
   - Rx direction: the measured optical input power P(Rx) is
     compared with the expected optical input power P(out) - a(Rx).
     If the measured optical input power P(Rx) drops below the value
     (P(out) - a(Rx) - t) a
     low power alarm shall be raised indicating that the access link
     attenuation has exceeded a(Rx) + t.







G.Galimberti, et al.     Expires January 7, 2016               [Page 10]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Figure 3 Use case 1: Access Link power monitoring



     +----------+                    +--------------------------+
     | +------+ |    P(Tx), P(Rx)    |  +-------+               |
     | |      | | =================> |  |       |               |
     | | LMP  | |    P(in), P(out)   |  |  LMP  |               |
     | |      | | <================= |  |       |               |
     | +------+ |                    |  +-------+               |
     |          |                    |                          |
     |          |                    |    P(in) - P(Tx) - a(Tx) |
     |          |                    |    ___                   |
     |          |                    |    \ /  Power Monitor    |
     |          | P(Tx)              |     V                    |
     |  +----+  | Ss    //\\         |     |    |\              |
     |  | TX |----|-----\\//------------------->| \             |
     |  +----+  | Access Link (AL-T) |       .  |  |            |
     |          | attenuation a(Tx)  |       .  |  |==============>
     |          |                    |       .  |  |            |
     | External |                    |      --->| /             |
     | Optical  |                    |          |/              |
     |Transpond.|                    |    P(out)                |
     |          |                    |    ___                   |
     |          |                    |    \ /  Power Monitor    |
     |          | P(Rx)              |     V                    |
     |  +----+  | Rs    //\\         |     |    |\              |
     |  | RX |<---|-----\\//--------------------| \             |
     |  +----+  | Access Link (AL-R) |       .  |  |            |
     |          | Attenuation a(Rx)  |       .  |  |<==============
     +----------+                    |       .  |  |            |
                                     |      <---| /             |
     P(Rx) = P(out) - a(Rx)          |          |/              |
                                     |                          |
                                     |           ROADM          |
                                     +--------------------------+

     - For AL-T monitoring: P(Tx) and a(Tx) must be known
     - For AL-R monitoring: P(RX) and a(Rx) must be known

       An alarm shall be raised if P(in) or P(Rx) drops below a
       configured threshold  (t [dB]):
       -  P(in) < P(Tx) - a(Tx) - t (Tx direction)
       -  P(Rx) < P(out) - a(Rx) - t (Rx direction)
       -  a(Tx) = a(Rx)


                       Figure 3: Extended LMP Model



G.Galimberti, et al.     Expires January 7, 2016               [Page 11]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Power Control Loop Use Case

     This use case is based on the access link monitoring use case as
     described above. In addition, the border NE is running a power
     control application that is capable to control the optical output
     power of the single channel tributary signal at the output port
     of the border DWDM NE (towards the external receiver Rx) and the
     optical output power of the single channel tributary signal at
     the external transmitter Tx within their known operating range.
     The time scale of this control loop is typically relatively slow
     (e.g. some 10s or minutes) because the access link attenuation
     is not expected to vary much over time (the attenuation only
     changes when re-cabling occurs).
     From a data plane perspective, this use case does not require
     additional data plane extensions. It does only require a protocol
     extension in the control plane (e.g. this LMP draft) that allows
     the power control application residing in the DWDM border NE to
     modify the optical output power of the DWDM domain-external
     transmitter Tx within the range of the currently used application
     code. Figure 5 below illustrates this use case utilizing the LMP
     protocol with extensions defined in this draft.






























G.Galimberti, et al.     Expires January 7, 2016               [Page 12]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Figure 4 Use case 2: Power Control Loop



    +----------+                       +--------------------------+
    | +------+ | P(Tx),P(Rx),Set(Pout) |  +-------+   +--------+  |
    | |      | | ====================> |  |       |   | Power  |  |
    | | LMP  | | P(in),P(out),Set(PTx) |  |  LMP  |   |Control |  |
    | |      | | <==================== |  |       |   | Loop   |  |
    | +------+ |                       |  +-------+   +--------+  |
    |     |    |                       |                          |
    | +------+ |                       |    P(in) = P(Tx) - a(Tx) |
    | |C.Loop| |                       |    ___                   |
    | +------+ |                       |    \ /  Power Monitor    |
    |     |    | P(Tx)                 |     V                    |
    | +------+ | Ss    //\\            |     |    |\              |
    | | TX  |>---|-----\\//---------------------->| \             |
    | +------+ | Access Link (AL-T)    |       .  |  |            |
    |  VOA(Tx) | attenuation a(Tx)     |       .  |  |==============>
    |          |                       |       .  |  |            |
    | External |                       |      --->| /             |
    | Optical  |                       |          |/              |
    |Transpond.|                       |    P(out)                |
    |          |                       |    ___                   |
    |          |                       |    \ /  Power Monitor    |
    |          | P(Rx)                 |     V                    |
    |  +----+  | Rs    //\\            |     |  VOA(out) |\       |
    |  | RX |<---|-----\\//---------------------<|-------| \      |
    |  +----+  | Access Link (AL-R)    |             .   |  |     |
    |          | attenuation a(Rx)     |             .   |  |<=======
    +----------+                       |        VOA(out) |  |     |
                                       |     <--<|-------| /      |
    P(Rx) = P(out) - a(Rx)             |                 |/       |
                                       |                          |
                                       |            ROADM         |
                                       +--------------------------+

           The Power Control Loops in Transponder and ROADM regulate
           the Variable Optical Attenuators (VOA) to adjust the
           proper power in base of the ROADM and Receiver
           caracteristics and the Access Link attenuation


                       Figure 4: Extended LMP Model







G.Galimberti, et al.     Expires January 7, 2016               [Page 13]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


4.3.  Optical Interface for G.698.2

   The ietf-opt-if-g698-2 is an augment to the ietf-interface.  It
   allows the user to set the application code/vendor transceiver class/
   Central frequency and the output power.  The module can also be used
   to get the list of supported application codes/transceiver class and
   also the Central frequency/output power/input power of the interface.

        module: ietf-opt-if-g698-2
        augment /if:interfaces/if:interface:
            +--rw optIfOChRsSs
                  +--rw ifCurrentApplicationCode
                  |  +--rw applicationCodeId    uint8
                  |  +--rw applicationCodeType  uint8
                  |  +--rw applicationCodeLength uint8
                  |  +--rw applicationCode?     string
                  +--ro ifSupportedApplicationCodes
                  |  +--ro numberApplicationCodesSupported?   uint32
                  |  +--ro applicationCodesList* [applicationCodeId]
                  |     +--ro applicationCodeId   uint8
                  |     +--rw applicationCodeType  uint8
                  |     +--rw applicationCodeLength uint8
                  |     +--ro applicationCode?    string
                  +--rw outputPower?                     int32
                  +--ro inputPower?                      int32
                  +--rw centralFrequency?                uint32


       notifications:
      +---n optIfOChCentralFrequencyChange
      |  +--ro if-name?      leafref
      |  +--ro newCentralFrequency
      |     +--ro centralFrequency?   uint32
      +---n optIfOChApplicationCodeChange
      |  +--ro if-name?              leafref
      |  +--ro newApplicationCode
      |     +--ro applicationCodeId?   uint8
      |     +--rw applicationCodeType  uint8
      |     +--rw applicationCodeLength uint8
      |     +--ro applicationCode?     string



5.  Structure of the Yang Module

   ietf-opt-if-g698-2 is a top level model for the support of this
   feature.




G.Galimberti, et al.     Expires January 7, 2016               [Page 14]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


6.  Yang Module

   The ietf-opt-if-g698-2 is defined as an extension to ietf interfaces.


   <CODE BEGINS> file "ietf-opt-if-g698-2.yang"

   module ietf-opt-if-g698-2 {
        namespace "urn:ietf:params:xml:ns:yang:ietf-opt-if-g698-2";
        prefix ietf-opt-if-g698-2;

        import ietf-interfaces {
          prefix if;
        }

        organization
          "IETF NETMOD (NETCONF Data Modelling Language)
          Working Group";

        contact
          "WG Web:   <http://tools.ietf.org/wg/netmod/>
           WG List:  <mailto:netmod@ietf.org>

           WG Chair: Thomas Nadeau
                     <mailto:tnadeau@lucidvision.com>

           WG Chair: Juergen Schoenwaelder
                     <mailto:j.schoenwaelder@jacobs-university.de>

           Editor:   Dharini Hiremagalur
                     <mailto:dharinih@juniper.net>";

        description
          "This module contains a collection of YANG definitions for
           configuring Optical interfaces.

           Copyright (c) 2013 IETF Trust and the persons identified
           as authors of the code.  All rights reserved.

           Redistribution and use in source and binary forms, with or
           without modification, is permitted pursuant to, and
           subject to the license terms contained in, the Simplified
           BSD License set forth in Section 4.c of the IETF Trust's
           Legal Provisions Relating to IETF Documents
           (http://trustee.ietf.org/license-info).";

       revision "2015-06-24" {
              description



G.Galimberti, et al.     Expires January 7, 2016               [Page 15]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


                 "Revision 4.0";

              reference
                 " draft-dharini-netmod-dwdm-if-yang 3.0";
       }
       revision "2015-02-24" {
              description
                 "Revision 3.0";

              reference
                 " draft-dharini-netmod-dwdm-if-yang 3.0";
       }
       revision "2014-11-10" {
              description
                 "Revision 2.0";
              reference
                 " ";
       }
       revision "2014-10-14" {
              description
                 "Revision 1.0";
               reference
                 " ";
       }
       revision "2014-05-10" {
              description
                  "Initial revision.";
              reference
                  "RFC XXXX: A YANG Data Model for Optical
                   Management of an Interface for g.698.2
                   support";
       }





         grouping optIfOChApplicationCode  {
                description "Application code entity.";
                leaf applicationCodeId {
                   type uint8 {
                         range "1..255";
                   }
                   description
                         "Id for the Application code";
                }
                leaf applicationCodeType {
                   type uint8 {



G.Galimberti, et al.     Expires January 7, 2016               [Page 16]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


                         range "0..1";
                }
                  description
                         "Type for the Application code
                           0 - Standard, 1 - Proprietory
                           When the Type is Proprietory, then the
                           first 6 octets of the applicationCode
                           will be the OUI (organizationally unique
                           identifier)";

                }
                leaf applicationCodeLength {
                   type uint8 {
                         range "1..255";
                   }
                   description
                         "Number of octets in the Application code";

                }
                leaf applicationCode {
                   type string {
                         length "1..255";
                   }
                   description "This parameter indicates the
                        transceiver application code at Ss and Rs as
                        defined in [ITU.G698.2] Chapter 5.3, that
                        is/should be used by this interface.
                        The optIfOChApplicationsCodeList has all the
                        application codes supported by this
                        interface.";

                }
         }


         grouping optIfOChApplicationCodeList {
           description "List of Application codes group.";
           leaf numberApplicationCodesSupported {
               type uint32;
               description "Number of Application codes
                            supported by this interface";
            }
           list applicationCodeList {
               key "applicationCodeId";
               description "List of the application codes";
               uses optIfOChApplicationCode;
           }
         }



G.Galimberti, et al.     Expires January 7, 2016               [Page 17]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


        grouping optIfOChPower {
           description "Interface optical Power";
           leaf outputPower {
               type int32;
               units ".01dbm";
               description "The output power for this interface in
                             .01 dBm.";
           }

           leaf inputPower {
                type int32;
                units ".01dbm";
                config false;
                description "The current input power of this
                      interface";
           }
        }

         grouping optIfOChCentralFrequency {
           description "Interface Central Frequency";
             leaf  centralFrequency {
               type uint32;
               description "This parameter indicate This parameter
                       indicates the frequency of this interface ";

              }
        }

         notification optIfOChCentralFrequencyChange {
            description "A change of Central Frequency has been
                         detected.";
            leaf "if-name" {
                type leafref {
                    path "/if:interfaces/if:interface/if:name";
                }
                description "Interface name";
            }
            container newCentralFrequency {
                   description "The new Central Frequency of the
                                interface";
                   uses optIfOChCentralFrequency;
            }
         }

         notification optIfOChApplicationCodeChange {
            description "A change of Application code has been
                         detected.";
            leaf "if-name" {



G.Galimberti, et al.     Expires January 7, 2016               [Page 18]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


                type leafref {
                    path "/if:interfaces/if:interface/if:name";
                }
                description "Interface name";
            }
            container newApplicationCode {
               description "The new application code for the
                   interface";
               uses optIfOChApplicationCode;
            }
         }



         augment "/if:interfaces/if:interface" {
           description "Parameters for an optical interface";
           container optIfOChRsSs {
              description "RsSs path configuration for an interface";
              container ifCurrentApplicationCode {
                   description "Current Application code of the
                                interface";
                   uses optIfOChApplicationCode;
               }

               container ifSupportedApplicationCodes {
                   config false;
                   description "Supported Application codes of
                                the interface";
                   uses optIfOChApplicationCodeList;
               }

               uses optIfOChPower;

               uses optIfOChCentralFrequency;

            }
         }
      }

   <CODE ENDS>


7.  Security Considerations

   The YANG module defined in this memo is designed to be accessed via
   the NETCONF protocol [RFC6241]. he lowest NETCONF layer is the secure
   transport layer and the mandatory-to-implement secure transport is
   SSH [RFC6242].  The NETCONF access control model [RFC6536] provides



G.Galimberti, et al.     Expires January 7, 2016               [Page 19]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   the means to restrict access for particular NETCONF users to a pre-
   configured subset of all available NETCONF protocol operation and
   content.

8.  IANA Considerations

   This document registers a URI in the IETF XML registry [RFC3688].
   Following the format in [RFC3688], the following registration is
   requested to be made:

   URI: urn:ietf:params:xml:ns:yang:ietf-interfaces:ietf-opt-if-g698-2

   Registrant Contact: The IESG.

   XML: N/A, the requested URI is an XML namespace.

   This document registers a YANG module in the YANG Module Names
   registry [RFC6020].

   This document registers a YANG module in the YANG Module Names
   registry [RFC6020].

   prefix: ietf-opt-if-g698-2 reference: RFC XXXX

9.  Acknowledgements

   Gert Grammel is partly funded by European Union Seventh Framework
   Programme under grant agreement 318514 CONTENT.

10.  Contributors





















G.Galimberti, et al.     Expires January 7, 2016               [Page 20]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


               Dean Bogdanovic
                 Juniper Networks
                 Westford
                 U.S.A.
                 email deanb@juniper.net

               Bernd Zeuner
                 Deutsche Telekom
                 Darmstadt
                 Germany
                 email B.Zeuner@telekom.de

               Arnold Mattheus
                 Deutsche Telekom
                 Darmstadt
                 Germany
                 email a.mattheus@telekom.de

               Manuel Paul
                 Deutsche Telekom
                 Berlin
                 Germany
                 email Manuel.Paul@telekom.de

               Walid Wakim
                 Cisco
                 9501 Technology Blvd
                 ROSEMONT, ILLINOIS 60018
                 UNITED STATES
                 email wwakim@cisco.com


11.  References

11.1.  Normative References

   [RFC2863]  McCloghrie, K. and F. Kastenholz, "The Interfaces Group
              MIB", RFC 2863, June 2000.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2578]  McCloghrie, K., Ed., Perkins, D., Ed., and J.
              Schoenwaelder, Ed., "Structure of Management Information
              Version 2 (SMIv2)", STD 58, RFC 2578, April 1999.






G.Galimberti, et al.     Expires January 7, 2016               [Page 21]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   [RFC2579]  McCloghrie, K., Ed., Perkins, D., Ed., and J.
              Schoenwaelder, Ed., "Textual Conventions for SMIv2", STD
              58, RFC 2579, April 1999.

   [RFC2580]  McCloghrie, K., Perkins, D., and J. Schoenwaelder,
              "Conformance Statements for SMIv2", STD 58, RFC 2580,
              April 1999.

   [RFC3591]  Lam, H-K., Stewart, M., and A. Huynh, "Definitions of
              Managed Objects for the Optical Interface Type", RFC 3591,
              September 2003.

   [RFC6205]  Otani, T. and D. Li, "Generalized Labels for Lambda-
              Switch-Capable (LSC) Label Switching Routers", RFC 6205,
              March 2011.

   [ITU.G698.2]
              International Telecommunications Union, "Amplified
              multichannel dense wavelength division multiplexing
              applications with single channel optical interfaces",
              ITU-T Recommendation G.698.2, November 2009.

   [ITU.G709]
              International Telecommunications Union, "Interface for the
              Optical Transport Network (OTN)", ITU-T Recommendation
              G.709, March 2003.

   [ITU.G872]
              International Telecommunications Union, "Architecture of
              optical transport networks", ITU-T Recommendation G.872,
              November 2001.

   [ITU.G798]
              International Telecommunications Union, "Characteristics
              of optical transport network hierarchy equipment
              functional blocks", ITU-T Recommendation G.798, October
              2010.

   [ITU.G874]
              International Telecommunications Union, "Management
              aspects of optical transport network elements", ITU-T
              Recommendation G.874, July 2010.

   [ITU.G874.1]
              International Telecommunications Union, "Optical transport
              network (OTN): Protocol-neutral management information
              model for the network element view", ITU-T Recommendation
              G.874.1, January 2002.



G.Galimberti, et al.     Expires January 7, 2016               [Page 22]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   [ITU.G959.1]
              International Telecommunications Union, "Optical transport
              network physical layer interfaces", ITU-T Recommendation
              G.959.1, November 2009.

   [ITU.G826]
              International Telecommunications Union, "End-to-end error
              performance parameters and objectives for international,
              constant bit-rate digital paths and connections", ITU-T
              Recommendation G.826, November 2009.

   [ITU.G8201]
              International Telecommunications Union, "Error performance
              parameters and objectives for multi-operator international
              paths within the Optical Transport Network (OTN)", ITU-T
              Recommendation G.8201, April 2011.

   [ITU.G694.1]
              International Telecommunications Union, "Spectral grids
              for WDM applications: DWDM frequency grid", ITU-T
              Recommendation G.694.1, June 2002.

   [ITU.G7710]
              International Telecommunications Union, "Common equipment
              management function requirements", ITU-T Recommendation
              G.7710, May 2008.

11.2.  Informative References

   [RFC3410]  Case, J., Mundy, R., Partain, D., and B. Stewart,
              "Introduction and Applicability Statements for Internet-
              Standard Management Framework", RFC 3410, December 2002.

   [RFC2629]  Rose, M., "Writing I-Ds and RFCs using XML", RFC 2629,
              June 1999.

   [RFC4181]  Heard, C., "Guidelines for Authors and Reviewers of MIB
              Documents", BCP 111, RFC 4181, September 2005.

   [I-D.kunze-g-698-2-management-control-framework]
              Kunze, R., "A framework for Management and Control of
              optical interfaces supporting G.698.2", draft-kunze-
              g-698-2-management-control-framework-00 (work in
              progress), July 2011.

   [RFC4054]  Strand, J. and A. Chiu, "Impairments and Other Constraints
              on Optical Layer Routing", RFC 4054, May 2005.




G.Galimberti, et al.     Expires January 7, 2016               [Page 23]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


Appendix A.  Change Log

   This optional section should be removed before the internet draft is
   submitted to the IESG for publication as an RFC.

   Note to RFC Editor: please remove this appendix before publication as
   an RFC.

Appendix B.  Open Issues

   Note to RFC Editor: please remove this appendix before publication as
   an RFC.

Authors' Addresses

   Gabriele Galimberti (editor)
   Cisco
   Via Santa Maria Molgora, 48 c
   20871 - Vimercate
   Italy

   Phone: +390392091462
   Email: ggalimbe@cisco.com


   Ruediger Kunze (editor)
   Deutsche Telekom
   Dddd, xx
   Berlin
   Germany

   Phone: +49xxxxxxxxxx
   Email: RKunze@telekom.de


   Kam Lam (editor)
   Alcatel-Lucent
   USA

   Phone: +1 732 331 3476
   Email: kam.lam@alcatel-lucent.com










G.Galimberti, et al.     Expires January 7, 2016               [Page 24]

Internet-Draft    draft-dharini-netmod-g-698-2-yang-04         July 2015


   Dharini Hiremagalur (editor)
   Juniper
   1194 N Mathilda Avenue
   Sunnyvale - 94089 California
   USA

   Email: dharinih@juniper.net


   Gert Grammel (editor)
   Juniper
   Oskar-Schlemmer Str. 15
   80807 Muenchen
   Germany

   Phone: +49 1725186386
   Email: ggrammel@juniper.net


   Luyuan Fang (editor)
   Microsoft
   5600 148th Ave NE
   Redmond, WA 98502
   USA

   Email: lufang@microsoft.com


   Gary Ratterree (editor)
   Microsoft
   5600 148th Ave NE
   Redmond, WA 98502
   USA

   Email: gratt@microsoft.com
















G.Galimberti, et al.     Expires January 7, 2016               [Page 25]
