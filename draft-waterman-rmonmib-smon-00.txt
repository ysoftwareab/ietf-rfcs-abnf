INTERNET-DRAFT

         		<draft-waterman-rmonmib-smon-00.txt> 
 
 
		Remote Network Monitoring MIB Extensions for Switch Networks 
 
					October 15, 1996 
 
					Richard Waterman 
					Madge Networks 
					rwaterma@madge.com 
 
					Bill Lahaye 
					Cabletron Systems 
					lahaye@ctron.com 
 
					Dan Romascanu 
					Madge Networks 
					dromasca@madge.com 
 
Status of this Memo 
 
This document is an Internet-Draft.  Internet-Drafts are working 
documents of the Internet Engineering Task Force (IETF), its areas, and 
its working groups.  Note that other groups may also distribute working 
documents as Internet-Drafts. 
 
Internet-Drafts are draft documents valid for a maximum of six months 
and may be updated, replaced, or obsoleted by other documents at any 
time.  It is inappropriate to use Internet- Drafts as reference material 
or to cite them other than as ``work in progress.'' 
 
To learn the current status of any Internet-Draft, please check the 
``1id-abstracts.txt'' listing contained in the Internet- Drafts Shadow 
Directories on ds.internic.net (US East Coast), nic.nordu.net (Europe), 
ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific Rim). 















Rich Waterman  Expires April 21, 1997          [Page 1]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


1.  Introduction 
This memo defines an experimental portion of the Management 
Information Base (MIB) for use with network management protocols
 in the Internet community.  In particular, it describes managed objects 
used for managing remote monitoring probes, specifically for 
switch networks. 
 
 
2.  Overview 
This document addresses issues related to applying "Remote Technology" 
to Switch Networks.    Switches today differ from standard shared media 
protocols: 
 
-	Data is not, in general, broadcast.  This may be caused by the switch 
	architecture  or by the connection-oriented nature of the data.  
	The means, therefore, of  monitoring the non-broadcast traffic needs 
	to be considered. 
-	Data across the switch fabric can be cell and/or frame oriented.  
	Many systems  convert between frames and cells and a true remote 
	monitoring system needs to  take this into consideration. 
-	Switch traffic may consist of multiple protocols such as Ethernet, 
	Token Ring,  FDDI and ATM all running on a single switch architecture 
	fabric.  
-	Switching incorporates logical segmentation such as Virtual LANs 
	(vLANs) or  Emulated LANs (ELANs).   
-	Switching incorporates packet and cell prioritization. 
 
Differences such as these make monitoring difficult.  The current RMON 
and 
RMON 2 standards do not provide for things that are unique to switches.   

 
Monitoring switches is difficult also due to the many switching 
strategies 
employed all (or most) of which are priorietary in nature. 
 
This document attempts to provide the framework to include different 
switching strategies emplyoyed for monitored connections.  This MIB is 
limited to monitoring, any configuration of the switch is outside the 
scope 
of this document. 

Specifically, this MIB addresses common functionality with all 
current switching protocols including Ethernet Switching covered 
under RMON I, Token Ring Switching under the Token Ring 
Extensions for the RMON MIB (rfc1513 - TR-RMON) as well as 
proposals for Switch Monitoring for ATM.   
 
Togther these technologies have common characteristics that make it 
imperative to present a global switch monitoring view. 


 Rich Waterman  Expires April 21, 1997          [Page 2]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


2.1 MIB Structure 
 
-  	Global Group including: 
		-	Overall switched network statistics 
		-	Traffic per QoS/switch priority class 
		-	Local vs. network switched traffic 
		-	Shared vs. switched traffic  
		-	Global flow control counters. 
-  	Logical Segment Group including:  
		-	vLAN/ELAN Filters and Logical Segmentation data  
-  	Control group including: 
		-	probe connection control (port copy, redirection, and 
			general circuit filtering).  
- 	Protocol Directory 
		- 	Table of all protocol frames types (if applicable) 
			used in switching 
-	 Connection Group 
		- 	Counts the amount of traffic on behalf of each 
			unidirection connection in the switch. 
 
By providing this global view, the user will have the ability to look at 
an 
entire switch network's traffic and then "zoom-in" to specific problems 
using local remote monitoring schemes presented by protocols such as 
RMON, 
RMON 2 and switch monitoring for ATM. 

2.2  Global Group 
 
The Global Group gives statistics on the overall traffic traversing the 
switch. 
This includes total system traffic,  traffic per priority/QoS class, 
logical 
vs. network switched traffic and global flow control information.   
The Global Group gives the capacity of the switch to aggregate switched 
network statistics.  Presumably there will be pieces of equipment that 
aggregate various switching technology.  The 'global' level should 
aggregate 
all of the statistics to view this as one singular switch.   
 
2.2.1  Global Data Collecction 
 
Various switches have different capabilities for collecting this 'global' 

data including: 
 
		segment- single segment/single protocol aggregation . 
 
		switchGlobal - 	ability to aggregate between segments 
				connected to a single switching device.  
				Ability to aggregate multiple protocols 	
				within a single switching device. 
 

Rich Waterman  Expires April 21, 1997          [Page 3]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


		netGlobal - 	ability to aggregate multiple protocols and 
				multiple  switching devices.  

2.2.2  Global Data Per Prioity 
 
Data will be collected per priority level.  A collection of statistical 
total per priority.  The meaning of priority is set according to two 
non-finalized standards including  802.1q for switching and QoS under 
ATM. 
 
2.2.3 Global Local vs. Global Network Data 
 
Statistical totals are kept per data destination of local vs. network.  
Data can be classified as local switched which stays within a local 
switch unit/hub and global data which is forwarded as backbone traffic 
between various network equipment (hubs, router, internet, etc.). 

2.2.4 Global Shared vs. Switched Traffic 
 
A collection of statistical total per data destination of shared vs. 
switch 
cluster vs. full switch data.   
	-	data is 'shared' and can be viewed by all other equipment on 
		a non-routed, non-bridged segment.   
	-	Data that is Clustered is shared with a limited number of 
		users and  switched for all other users.   
	-	Data that is full switched is switched for all traffic.  " 
 
2.3 Logical Group 
 
The Logical Group consists of a collection of statistical total per 
logical segment. Logical segments include all elans and vlans.  VLANs 
are defined by the 802.1q standard.  Note that logical segmentation will 
go across physical switches and may need to be aggregated my 
mid-managers. 
 
2.4  Software Control Group 
 
The Software Control Group allows defined probe connection control.  
This primarlily deals with "steering" switch traffic to a specific port 
or 
memory for further analysis by internal or external probes.  Different 
switch equipment may implement the connection control in various ways.   
 	1)   RMON instrumentation is embedded in the switch fabric 
	2)   Traffic is steered to an internal RMON probe 
	3)   Traffic is steered to an external RMON probe 
	4)   Probe is monitoring the switch externally without any 
		traffic steering 
 
Whichever the means, filters must be defined to partition data which will 
be 
sent to the appropriate spot (memory, external port, etc.).   Note that 
because
we are referring to 'ports', we will use the 'Entity MIB" definitions for 

referring to a port. 

Rich Waterman  Expires April 21, 1997          [Page 4]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


A dynamic table of filters is defined for the port copy.  Data can be 
specified by  address, physical ports and/or logical lans (elans/vlans).  

To define, the management console will define a unique identifier which 
uniquely defines this group of filters.  Under this one identifier, there 

can be a list of <addr, port, vlan> 
pairs. 

2.5	Protocol Directory Group 
The general format  is borrowed from Remote Network Monitoring MIB 
Protocol 
Identifiers <draft-ietf-rmonmib-rmonprot-03.txt>  

The intent of this group is to describe the type of switch 
connections monitored by this mib.  Two basic strategies 
are represented:
 
                1) Port only switching 
 
                2) Protocol based switching 

The switchProtocolDir table describes frames type or group of 
protocol frames types supported in the switching decision. 
For example an IPX switching decision may consider multiple 
frame types(e.g. DIXE, Novell RAW, LLC, SNAP) or 
 just one frame type(e.g. IP over SNAP).

2.6 	Connection Group

The group counts the amount of traffic on behalf of each 
unidirection connection in the switch. Seperate connection tables 
are kept for each switch strategy(e.g.port,  L2, L3, L4 etc.) 


3.  Relationship to the Other MIBs 
 
This MIB is meant to run in conjunction with MIBs such as RMON and 
RMON 2.  In addition, this MIB is meant to be complementary to other 
ATM switch monitoring specific proposals.   
One example is in the port steering ability which is meant to 'mimic' the 

Circuit Steering definition in other proposals. 
For referring to hub ports, the Entity MIB is used because it allows 
definition 
of physical entities such as modules and ports.  The 802.1q standard is 
defining standard references for vLANs and whenever vLANs are referenced, 

it is with respect to that defined by that standard. 




 
Rich Waterman  Expires April 21, 1997          [Page 5]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996



4. Definitions 
 
 
SMON-MIB DEFINITIONS ::= BEGIN 
 
-- Title:       	Global Switch Remote Monitoring 
-- Version:    	1.0 
-- Date:        	17-Oct-1996 
-- By:		Rich Waterman 
-- Last Update:	  
 
IMPORTS 
     	MODULE-IDENTITY, OBJECT-TYPE, Counter32, 
	Integer32, Counter64, experimental 
		FROM SNMPv2-SMI 
	mib-2, ifType                   
		FROM RFC1213-MIB 
	RowStatus, TEXTUAL-CONVENTION, RowPointer 
		FROM SNMPv2-TC 
	IANAifType 
		FROM IANAifType-MIB 
	OwnerString
		FROM RFC1757-MIB
	LastCreateTime
		FROM RMON2-MIB
	MODULE-COMPLIANCE, OBJECT-GROUP 
		FROM SNMPv2-CONF; 

switchRMON MODULE-IDENTITY 
	LAST-UPDATED "9610170000Z" 
	ORGANIZATION "IETF" 
	CONTACT-INFO 
		"Rich Waterman 
		Madge Networks 
		Phone:  +1 408 952 9790 
		Email: rwaterma@madge.com 
 
		Bill Lahaye 
		Cabletron Systems 
		Phone:  +1 603 337 5211 
		Email:  lahaye@ctron.com" 
	DESCRIPTION 
		"The MIB module for managing remote monitoring device 			 
		implementations for Switch Networks" 
	::= { experimental XX } 
 
smonMIBObjects OBJECT IDENTIFIER ::= { switchRMON 1 } 
 

Rich Waterman  Expires April 21, 1997          [Page 6]
  
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srGlobal	OBJECT IDENTIFIER ::= { smonMIBObjects 1 } 
srLogical	OBJECT IDENTIFIER ::= { smonMIBObjects 2 } 
srControl	OBJECT IDENTIFIER ::= { smonMIBObjects 3 } 
srProtocolDir	OBJECT IDENTIFIER ::= { smonMIBObjects 4 } 
srConn		OBJECT IDENTIFIER ::= { smonMIBObjects 5 } 

-- Textual Conventions 
SwitchAddr ::=  TEXTUAL-CONVENTION 
    STATUS current 
    DESCRIPTION 
         " This Textual Convention describes the switch connection 
           descriminator. For a layer 2 switching strategy the 
           switchAddr would represent Mac Layer addresses. 
           For a layer 3 only switching strategy the switchAddr 
           would represent network addresses. In beyond layer 3 
           strategies, switchAddr would represent the network address 
           followed by pertinent layer 4 and above addreses(e.g. 
           IP address, followed by IP protocol type followed by 
           source port and destination port. 

           For port only switching, this TC would describe the ports 
           involved(inPort, outPort) in the connection." 
	SYNTAX OCTET STRING 
 
-- 			srGlobal 
--  	Statistics on the overall traffic traversing the switch. 
--   	This includes traffic per priority QoS class, logical vs 
--	network switched traffic and global flow control information  
 
srGlSMONCapability	OBJECT-TYPE 
	SYNTAX	INTEGER { 
		segment(1), 
		switchGlobal(2), 
		netGlobal(3) 
	} 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The capacity of the agent to aggregate switched network 
		statistics.  Presumably there will be pieces of equipment 
		that aggregate various switching technology.  The 'global' 
		level should aggregate all of the statistics to view this 
		as one singular switch.  Various switches have different 
		capabilities for collecting this 'global' data: 
		segment(1) - single segment/single protocol aggregation . 
		switchGlobal(2) - ability to aggregate between segments 
			connected to a single switching device.  Ability 
			to aggregate multiple protocols	 within a single 
			switching device. 

Rich Waterman  Expires April 21, 1997          [Page 7]
  
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996

		
		netGlobal(3) - ability to aggregate multiple protocols 
			and multiple switching devices.  " 
	::= { srGlobal 1 } 
 
 srGlSMONActivation	OBJECT-TYPE 
	SYNTAX	INTEGER { 
		on(1), 
		off(2) 
		} 
	MAX-ACCESS	read-write 
	STATUS		current 
	DESCRIPTION 
	"Setting this variable to value on(1) results into activating the 
	capability of agregating information from different segments in a 
	switched network environment.  
 
	Once the collection is activated, RMON and RMON II global variables 
	(matrix, topN) can then be collected based on the view.  In addition, 
	specific variables are defined here which represent common global 
	counters" 
	::= { srGlobal 2 } 

--      	Global System Statitics per Switch Entity 
--	A given piece of equipment or middle level manager will aggregate 
--	all statistics. 
 
srSystemTotalFrames      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Packets Received by the 
                      switch entity ." 
              ::= { srGlobal 3 } 

srSystemTotalOctets      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Octets Received by the 
                      switch entity ." 
              ::= { srGlobal 4 } 
 




Rich Waterman  Expires April 21, 1997          [Page 8]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srSystemTotalErroredPackets      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Packets Received by the 
                       switch entity that contained errors." 
              ::= { srGlobal 5 } 

srSystemTotalErroredOctets      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Octets Received by the 
                       switch entity from errored packets."  
              ::= { srGlobal 6 } 

 srSystemTotalMcastPackets      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Mac-layer Multicast Packets 
                       Received by the switch entity." 
              ::= { srGlobal 7 } 

srSystemTotalMcastOctets      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Octets in Mac-layer  
                       Multicast Packets Received by the switch entity." 
              ::= { srGlobal 8 } 

srSystemTotalBcastPackets      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Mac-layer Broadcast Packets 
                       Received by the switch entity." 
              ::= { srGlobal 9 } 
 



Rich Waterman  Expires April 21, 1997          [Page 9]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srSystemTotalBcastOctets      OBJECT-TYPE 
              SYNTAX  Counter64 
              MAX-ACCESS  read-only 
              STATUS  current 
              DESCRIPTION 
                      "The total number of Octets in Mac-layer  
                       Broadcast Packets Received by the switch entity." 
              ::= { srGlobal 10 } 

-- 
--	Global Statistc Per Priority Level 
--	This is a dynamically created table whose size depends on the 
--	number of defined  
--	priorities 
-- 
 
srGlPriorStatsTable		OBJECT-TYPE 
	SYNTAX 		SEQUENCE OF SrGlPriorStatsEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A collection of statistical total per priority.  The meaning 
		of priority is set according to two non-finalized standards.  
		802.1q is standardized switched  priority.  The draft 
		ATM-RMON standard defines QOSIndex." 
	::= { srGlobal 11 } 
 
srGlPriorStatsEntry	OBJECT-TYPE 
	SYNTAX		SrGlPriorStatsEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A conceptual row in the srGlPriorStatsTable." 
	INDEX { srGlPrLevel} 
	::= { srGlPriorStatsTable 1 } 

SrGlPriorStatsEntry ::= SEQUENCE { 
	srGlPrLevel			Integer32, 
	srGlPrTotalFrames		Counter32, 
	srGlPrTotalOctets		Counter64, 
	srGlPrTotalUnicast		Counter32, 
	srGlPrTotalBcast		Counter32, 
	srGlPrTotalMcast		Counter32, 
	srGlPrStatsStatus		RowStatus 
} 
 


Rich Waterman  Expires April 21, 1997          [Page 10]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srGlPrLevel	OBJECT-TYPE 
	SYNTAX		Integer32 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"The priority classification for this entry.  Priority is 
		defined by 802.1q. In general, it will be a level 
		between 1-8." 
	::= { srGlPriorStatsEntry 1} 
 
srGlPrTotalFrames	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free frames/cells detected on 
		behalf of this  priority level" 
	::= { srGlPriorStatsEntry 2 }  
 
srGlPrTotalOctets	OBJECT-TYPE 
	SYNTAX		Counter64 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free octets detected on behalf 
		of this priority/QoS" 
	::= { srGlPriorStatsEntry 3 } 
 
srGlPrTotalUnicast	OBJECT-TYPE 
	SYNTAX		Counter32	 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free inbound unicast 
		frames/point-to-point cells detected on behalf of this 
		priority level" 
	::= { srGlPriorStatsEntry 4 }  


srGlPrTotalMcast	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free inbound multicast 
		frames/point-to-mcast cells detected on behalf of this 
		priority level" 
	::= { srGlPriorStatsEntry 5 }  

 Rich Waterman  Expires April 21, 1997          [Page 11]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srGlPrTotalBcast	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free inbound/broadcast 
		frames/cells detected on behalf of this priority level" 
	::= { srGlPriorStatsEntry 6}  
 
srGlPrStatsStatus	OBJECT-TYPE 
	SYNTAX	RowStatus 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The status of this row. 
		An entry may not exist in the active state unless all objects 
		in the entry have an appropriate value.  If this object is 
		not equal to active (1), all associated data collections 
		shall be deleted." 
	::= { srGlPriorStatsEntry 7 } 

-- 
--	Local/Network Table 
--	A static table representing percentage of traffic that is local vs 
--	network (backbone) traffic.  Local traffic stays within a given piece 
--	of equipment (hub, etc.).  Network traffic is forwarded betweeen the 
--	equipment. 
-- 
 
srGlLocNetStatsTable	OBJECT-TYPE 
	SYNTAX 		SEQUENCE OF SrGlLocNetEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A collection of statistical total per data destination of 
		local vs. network.  Data can be classified as local switched 
		which stays within a local switch unit/hub and global data 
		which is forwarded as backbone traffic between various 
		network equipment  such as hubs, router, internet, etc." 
	::= {srGlobal 12} 
 
 






Rich Waterman  Expires April 21, 1997          [Page 12]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srGlLocNetEntry	OBJECT-TYPE 
	SYNTAX		SrGlLocNetEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A row in the srGlLocNetStatsTable." 
	INDEX { srGlLocNetIndex} 
	::= { srGlLocNetStatsTable 1} 

SrGlLocNetEntry ::= SEQUENCE { 
	srGlLocNetIndex		INTEGER, 
	srGlLocNetTotalFrames	Counter32, 
	srGlLocNetTotalOctets	Counter64, 
	srGlLocNetTotalUnicast	Counter32, 
	srGlLocNetTotalMcast	Counter32, 
	srGlLocNetTotalBcast	Counter32 
} 

srGlLocNetIndex	OBJECT-TYPE 
	SYNTAX	INTEGER { 
		local (1), 
		network (2) 
	} 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"Data that is classified as 'local' (1) goes between specific 
		ports on a given switch.  Data that is classified as 
		'network' (2) is destined for the switch backbone." 
	::= {srGlLocNetEntry 1 } 
 
srGlLocNetTotalFrames	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free frames/cells detected on 
		behalf of this local/Network destination" 
	::= { srGlLocNetEntry 2 }  

 srGlLocNetTotalOctets	OBJECT-TYPE 
	SYNTAX		Counter64	 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free octets detected on behalf of 
		this local/network destination" 
	::= { srGlLocNetEntry 3 } 

Rich Waterman  Expires April 21, 1997          [Page 13]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srGlLocNetTotalUcast	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free unicast frames/point-to-point  
		cells detected on behalf of this local/Network level" 
	::= { srGlLocNetEntry 4 }  

srGlLocNetTotalMcast	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free inbound multicast 
		frames/point-to-mcast cells detected on behalf of this 
		Local/Network level" 
	::= { srGlLocNetEntry 5 }  
 
srGlLocNetTotalBcast	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free inbound broadcast 
		frames/ cells detected on behalf of this Local/Network level" 
	::= { srGlLocNetEntry 6 }  

-- 
--	Static Global Table of shared vs. switch traffic 
--		Data can be classifed as 'shared', 'switch cluster' and 
--		'fully switch' traffic. 
-- 
 
srGlShSwStatsTable	OBJECT-TYPE 
	SYNTAX 		SEQUENCE OF SrGlShSwStatsEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A collection of statistical total per data destination of 
		shared vs. switch cluster vs. full switch data.   
		-	Data that is shared represents data that is 'shared' 
			and can be  viewed by all other equipment on a 
			non-routed, non-bridged segment.   
		-	Data that is Clustered is shared with a limited  
			number of users and switched for all other users.   
		-	Data that is full switched is switched for all traffic.  " 
	::= {srGlobal 13} 
 
Rich Waterman  Expires April 21, 1997          [Page 14]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996



srGlShSwStatsEntry	OBJECT-TYPE 
	SYNTAX		SrGlShSwStatsEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A row in the srGlShSwStatsTable." 
	INDEX { srGlShSwIndex} 
	::= { srGlShSwStatsTable 1} 
 
SrGlShSwStatsEntry ::= SEQUENCE { 
	srGlShSwIndex		INTEGER, 
	srGlShSwTotalFrames	Counter32, 
	srGlShSwTotalOctets		Counter64 
} 

srGlShSwIndex	OBJECT-TYPE 
	SYNTAX	INTEGER { 
		shared (1), 
		clusterSwitch (2), 
		fullSwitch (3) 
	} 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"Data that is classified as shared (1) is shared by all users 
		in a given full  segment.  Data that is classified as 
		ClusterSwitch (2) is shared by a limited number of users in a 
		segment and switched with the rest of the users.   
		Data that is classified as fullSwitch (3) are switched with 
		all users on a given segment." 
	::= {srGlShSwStatsEntry 2 } 
 
srGlShSwTotalFrames	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
	"The total number of error-free frames/cells detected on behalf of 
	this shared/switch classification" 
	::= { srGlShSwStatsEntry 3 }  
 






Rich Waterman  Expires April 21, 1997          [Page 15]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srGlShSwTotalOctets	OBJECT-TYPE 
	SYNTAX		Counter64	 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free octets detected on behalf 
		of this shared/switched classification" 
	::= { srGlShSwStatsEntry 4 } 


--			FLOW CONTROL 
--  	Data on flow control.  Want to keep counter of how many times flow 
--	control is applied on the switch fabric and how many times packets 
--	are dropped as a result of congestion.  This information varies per 
--	protocol type, switch  implementation, etc., but is a  
--	critical parameter for optimizing network performance and an overall 
--	view of the number of time some kind of flow control is asserted is 
--	a valuable piece of information. 
-- 
 
srGlFlowCtlApplied	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"Each time flow control is applied by a piece of equipment 
		on the network, this counter will be incremented.  " 
	::= { srGlobal 14} 
 
srGlDroppedPkts	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"Total number of packets dropped on the switch.  This would 
		typically be caused from buffers filling up on the local 
		switch" 
	::= { srGlobal 15 } 










Rich Waterman  Expires April 21, 1997          [Page 16]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


--   
--			srLogical  
--			Switch RMON - Logical Group 
-- 
--	Define the Logical Segment View. 
--	This include vLANs/ELANs Filters together with logical segmentation 
data 
--   
-- 
--		Logical Segment Statistics Table 
--	Dynamic table of global vlan/elan traffic 
-- 
 
srLogSegStatTable	OBJECT-TYPE 
	SYNTAX 		SEQUENCE OF SrLogSegStatEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A collection of statistical total per logical segment.  
		Logical segments include all elans and vlans.  VLANs are 
		defined by the 802.1q standard.  The logical representation 
		of the lan is defined by the srLogSegNumber construct (tbd).
		Note that logical segmentation will go across physical  
		switches and may need to be aggregated my mid-managers " 
	::= {srLogical 1} 
 
srLogSegStatEntry	OBJECT-TYPE 
	SYNTAX		SrLogSegStatEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A conceptual row in the srLogSegStatTable." 
	INDEX {srLogSegNo} 
	::= { srLogSegStatTable 1} 

SrLogSegStatEntry ::= SEQUENCE { 
	srLogSegNo			OCTET STRING, 
	srLogSegTotalFrames		Counter32, 
	srLogSegTotalOctets		Counter32, 
	srLogSegStatus		RowStatus 
} 
 
srLogSegNo	OBJECT-TYPE 
	SYNTAX	OCTET STRING 
	MAX-ACCESS  not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A numerical identifier of a logical elan/vlan to be defined 
		in 802.1q, ATM, etc." 
	::= { srLogSegStatEntry 1 } 
 
Rich Waterman  Expires April 21, 1997          [Page 17]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srLogSegTotalFrames	OBJECT-TYPE 
	SYNTAX		Counter32 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free frames/cells detected on 
		behalf of this logical network destination" 
	::= { srLogSegStatEntry 2 }  
 
srLogSegTotalOctets	OBJECT-TYPE 
	SYNTAX		Counter32	 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"The total number of error-free octets detected on behalf 
		of this Logical  network" 
	::= { srLogSegStatEntry 3} 

srLogSegStatus	OBJECT-TYPE 
	SYNTAX		RowStatus 
	MAX-ACCESS	read-create 
	STATUS		current 
	DESCRIPTION 
		"The status of this row. 
		An entry may not exist in the active state unless all objects 
		in the entry have an appropriate value.  If this object is 
		not equal to active (1), all associated data collections 
		shall be deleted." 
	::= { srLogSegStatEntry 4 } 

--				srControl 
--				Switch RMON - Software Control Group 
-- 
--	Defines the Control and Port View.  This allows defined probe 
--	connection control.  Different switch equipment may implement the 
--	connection control in various ways.   
--	1)   RMON instrumentation is embedded in the switch fabric 
--	2)   Traffic is steered to an internal RMON probe 
--	3)   Traffic is steered to an external RMON probe 
--	4)   Probe is monitoring the switch externally without any traffic 
--		steering 
--	Whichever the means, filters must be defined to partition data 
--	which will be sent  
	
--	to the appropriate spot (memory, external port, etc.). 
--	Because we are referring to 'ports', we will use the 'Entity MIB" 
--	definitions for referring to a port: 
--		In the Entity MIB, there is a variable described: 
-- 		'entAliasMappingIdentifier' which states:  'The value of 

Rich Waterman  Expires April 21, 1997          [Page 18]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996

--		this object identifies a particular conceptual row 
--		associated with the indicated entPhysicalIndex and 
--		entLogicalIndex pair.' 
 
srCtlPortCxnType	OBJECT-TYPE 
	SYNTAX	BITS { 
		portCopySpecPort (0),	  
		portCopyAnyPort(1),		  
		embeddedRMON (2),		  
		externalProbe (3)		  
	} 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"Bitmap - For PortCopy, Traffic can be copied to a single 
		physical port on a piece of equipment whereby a protocol 
		analyzer or probe can be connected for monitoring specific 
		traffic.  For PortCopySpecPort, there is a specific port on 
		the piece of equipment that is dedicated to the copy port  
		function.  For PortCopyAnyPort, any port on the equipment 
		may be setup as a Copy Port.  If this is set, then PortCxnPort 
		must be set to the appropriate port. 
		For EmbeddedRMON or data redirected to memory, probe has  
		access to all data and can see everything (no need to steer).   
		Still will need to set up filters to define captured data " 
	::= { srControl 1 } 
 
srCtlPortCxnLANType	OBJECT-TYPE 
	SYNTAX		IANAifType 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		"If  srCtlPortCxnType is portCopySpecPort(1) or 
		portCopyAnyPort(2),  
		then this variable will give the type of port that 
		the traffic will be mirrored  
		to" 
	::= {srControl 2 } 

srCtlPortCxnPort OBJECT-TYPE 
   	SYNTAX     		RowPointer 
    	MAX-ACCESS  	read-only 
    	STATUS      		current 
    	DESCRIPTION 
            	"If PortCxnCtrlType is port copy, then this represents a 
		specific port that traffic, defined by above filter, will 
		go to. The value of this object identifies a particular 
		conceptual row associated with the indicated 
		entPhysicalIndex and entLogicalIndex pair in the entity MIB.  
	::= {srControl 3 } 

Rich Waterman  Expires April 21, 1997          [Page 19]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srCtlPortCxnFltrs		OBJECT-TYPE 
	SYNTAX 	BITS {	 
		byPorts (0), 
		byAddr (1), 
		byLogLan (2) 
	} 
	MAX-ACCESS	read-only 
	STATUS		current 
	DESCRIPTION 
		" Bitmap that represent the types of filter that can be used 
		to select 'mirrored' traffic - ie which methods are supported 
		by this equipment.   byPorts represents a select list of 
		physical entity MIB defined ports.  byAddr represents specific 
		physical layer (MAC, etc.) addresses.  byLogLan is filtering 
		according to logical vlan/elan name" 
	::= {srControl 4 } 
 
-- 
--	Port Filter Table. 
--	Dynamic table of filters allowable for the port copy.  Data can be 
--	specified by address, physical ports and/or logical lans 
(elans/vlans). 
--	The management console will define a unique identifier 
--	(srCtlFilterIdentifier) which uniquely defines this group of filters.  
 
--	Under this one identifier, there can be a list  
--	of <addr, port, vlan> pairs each with a sequential identifier 
--	(srCtlIndex).  After console has setup all the desired pairs, the 
--	rows will be activated.   Note that this does not start the actual 
--	port traffic redirection process.  For that, the srCtlFilterActivation 

--	table must  be set 
-- 
srCtlPortFilterTable	OBJECT-TYPE 
	SYNTAX		SEQUENCE OF SrCtlPortFilterEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"Table defined to allow filters for copying data to port or 
		memory.  Filters defined (by PortCxnFltrs) may include table 
		that includes Port, Addressees and/or logical lans 
		(elans/vlans)." 
	::= {srControl 5 } 
 
srCtlPortFilterEntry OBJECT-TYPE 
	SYNTAX		SrCtlPortFilterEntry 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		"A conceptual row in the PortFilterTable" 
	INDEX { srCtlFilterIdentifier} 
	::= { srCtlPortFilterTable 1 } 
 
Rich Waterman  Expires April 21, 1997          [Page 20]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


SrCtlPortFilterEntry ::= SEQUENCE { 
	srCtlFilterIdentifier		Integer32, 
	srCtlActivationStatus		INTEGER, 
	srCtlFilterPorts		RowPointer, 
	srCtlFilterAddrs		SwitchAddr, 
	srCtlLogNet			OCTET STRING, 
	srCtlPortStatus		RowStatus 
} 
 
 
srCtlFilterIdentifier	OBJECT-TYPE 
	SYNTAX		Integer32 
	MAX-ACCESS	not-accessible 
	STATUS		current 
	DESCRIPTION 
		" A unique identifier defining these groups of 
		<port, addr, vlan> pairs " 
	::= { srCtlPortFilterEntry 1 } 

srCtlActivationStatus		OBJECT-TYPE 
	SYNTAX 	INTEGER {	 
		filterActive (1), 
		filterNotActive (2) 
	} 
	MAX-ACCESS	read-create 
	STATUS		current 
	DESCRIPTION 
		" represent the types of filter that can be used to select  
		mirrored traffic" 
	::= { srCtlPortFilterEntry 2 } 
 
srCtlFilterPorts	OBJECT-TYPE 
	SYNTAX		RowPointer 
	MAX-ACCESS	read-create 
	STATUS		current 
	DESCRIPTION 
		" A list of valid ports whose traffic will be sent to the 
		mirrored or copy port.  This is also a pointer from the 
		entity MIB (see explanation under srCtlPortCxnPort) " 
	::= { srCtlPortFilterEntry 3} 
 
srCtlFilterAddrs	OBJECT-TYPE 
	SYNTAX		SwitchAddr 
	MAX-ACCESS	read-create 
	STATUS		current 
	DESCRIPTION 
		"A list of valid addresses (MAC/ATM) whose traffic will be 
		sent to the mirrored/copy port" 
	::= { srCtlPortFilterEntry 4 } 

Rich Waterman  Expires April 21, 1997          [Page 21]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srCtlLogNet		OBJECT-TYPE 
	SYNTAX		OCTET STRING 
	MAX-ACCESS	read-create 
	STATUS		current 
	DESCRIPTION 
		"A list of valid logical net number (ELAN/VLAN) whose 
		traffic will be  sent to  the mirrored/copy port." 
	::= { srCtlPortFilterEntry 5 } 
 
srCtlPortStatus	OBJECT-TYPE 
	SYNTAX		RowStatus 
	MAX-ACCESS	read-create 
	STATUS		current 
	DESCRIPTION 
		"The status of this row. 
		An entry may not exist in the active state unless all objects 
		in the entry have an appropriate value.  Any/all of the above 
		read-create fields must be filled in by the management station 
		before chaning to active.  If this object is not equal to 
		active (1), all associated data collections shall be deleted." 
	::= { srCtlPortFilterEntry 6 } 



























Rich Waterman  Expires April 21, 1997          [Page 22]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


--  
-- SWITCH protocol Directory 
-- 
-- Table of all protocol frames types(if applicable)  used in switching 
-- 
-- See "Remote Network Monitoring MIB Protocol Identifiers" 
-- <draft-ietf-rmonmib-rmonprot-03.txt> May 1996 for a 
--  discussion on Protocol Identifiers. This mib modifies 
-- the Protocol Identifiers format and symantics to fit 
-- a "connection oriented" environment. 
--  
--  
-- Unlike the protocolDir of RMON II, this table  cannot have new entries 

-- added by network applications.  It is not the intention of this MIB to 

-- perform command and control on the switch. The intent of this table 
and 
-- the srProtocolSwTable table is to describe the type of switch 
-- connections monitored by this mib. 

srProtocolDirTable OBJECT-TYPE 
    SYNTAX      SEQUENCE OF SrProtocolDirTblEntry 
    MAX-ACCESS  not-accessible 
    STATUS      current 
    DESCRIPTION 
	" A list of protocol frame types used in switching " 
    ::= { srProtocolDir 1 } 
 
srProtocolDirTblEntry OBJECT-TYPE 
    SYNTAX      SrProtocolDirTblEntry 
    MAX-ACCESS  not-accessible 
    STATUS      current 
    DESCRIPTION 
  
            "A conceptual row in the srProtocolDirTable. 
             new rows may be constructed by the agent at any 
             time, extending the switching criteria.  
 
             The general format  borrowed from Remote Network 
             Monitoring MIB Protocol Identifiers 
             <draft-ietf-rmonmib-rmonprot-03.txt>  

             NOTE: the parameters portion 
             of the protocol is not included in the oid string. 
 
 




Rich Waterman  Expires April 21, 1997          [Page 23]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


     +---+--------+--------+--------+--------+ 
     | c |  proto |  proto |  proto |  proto | 
     | n |  base  |    L3  |   L4   |   L5   | 
     | t |(+flags)|        |        |        | 
     +---+--------+--------+--------+--------+ subOID 
     | 1 | 4 or 8 |    4   |    4   |    4   | count 
 
             where each protocol layer is described in 
             four sub-identifier blocks. 
 
The first layer encapsulation is called the base identifier and it 
contains optional protocol-function information and the base layer (e.g. 
MAC layer) enumeration value used in this protocol identifier. 
 
The base identifier is encoded as four octets as shown in the following 
figure. 
 
     base-identifier format 
     +---+---+---+---+ 
     |   |   |   |   | 
     | f |op1|op2| m | 
     +---+---+---+---+ octet 
     | 1 | 1 | 1 | 1 | count 
 
The first octet ('f') is the special function code. the only function 
code defined thus far is (1) the wildcard function for the base 
identifier. 
The next two octets ('op1' and 'op2') are operands for the indicated 
function and must be set to zero.  The last octet, 
'm', is the enumerated value for a particular base layer encapsulation, 
found (see Remote Network Monitoring MIB Protocol Identifiers 
<draft-ietf-rmonmib-rmonprot-03.txt>  for further details. 
All four octets are encoded in network-byte-order. 
 
             Examples of indexing in this entry are: 
 
             L2 only: 
	     srProtocolIndex.4.1.0.0.1 encodes mac address switching 
             NOTE the use of the wildcard funtion bit!  
 
 
             IPX L2-L4 
 
             srProtocolIndex.8.0.0.0.1.0.0.129.55 encodes ether2.IPX. 
 
             srProtocolIndex.8.0.0.0.3.0.0.129.55 encodes SNAP.IPX 
 
             srProtocolIndex.8.0.0.0.5.0.0.0.1 encodes 8023.IPX 
 
Rich Waterman  Expires April 21, 1997          [Page 24]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


             srProtocolIndex.8.0.0.0.2.0.224.224.3 encodes LLC.IPX 
             
 
             IP L3-L4 
 
             srProtocolIndex.12.1.0.0.1.0.0.8.0.0.0.0.17  
                                             encodes anylink.IP.UDP 
 
             srProtocolIndex.12.1.0.0.1.0.0.8.0.0.0.0.6 
                                             encodes anylink.IP.TCP" 
 
 
    INDEX { srProtocolDirID } 
    ::= { srProtocolDirTable 1 } 

SrProtocolDirTblEntry ::= SEQUENCE { 
 
    srProtocolDirID                OCTET STRING, 
    srProtocolIndx                INTEGER (1..65535), 
    srProtocolSwitchIndex          INTEGER (1..65535), 
    srProtocolDesc		   OCTET STRING (SIZE (0..127)), 
 
  } 
srProtocolDirID OBJECT-TYPE 
	SYNTAX OCTET STRING 
	MAX-ACCESS read-only 
	STATUS current 
    	DESCRIPTION 
              	"A unique identifier for a particular protocol ." 
    	::= { srProtocolDirTblEntry 1 } 
 
srProtocolIndx OBJECT-TYPE 
    	SYNTAX INTEGER (1..65535) 
    	MAX-ACCESS read-only 
   	 STATUS current 
    	DESCRIPTION 
       		" An index that uniquely identifies an entry in this table ." 
   	 ::= { srProtocolDirTblEntry 2 } 










Rich Waterman  Expires April 21, 1997          [Page 25]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srProtocolSwitchIndex OBJECT-TYPE 
    	SYNTAX INTEGER (1..65535) 
   	MAX-ACCESS read-only 
    	STATUS current 
    	DESCRIPTION 
       " An index that uniquely identifies the switching strategy to 
which 
         this protocol frame belongs. Protocols should be grouped 
according 
         to the switching decision method employed by the switch.  
         For example, the IPX group may consist of several frame 
         types (DIXE, Novell RAW, LLC, SNAP). Each of those framing 
         types would be an SrProtocolDirTblEntry instance whose  
         srProtocolSwitchIndex would all be the same( all frames types 
         would logically be considered when making switching decisions)." 

 
    ::= { srProtocolDirTblEntry 3 } 

srProtocolDesc OBJECT-TYPE 
    	SYNTAX OCTET STRING (SIZE (0..127)) 
    	MAX-ACCESS read-only 
    	STATUS current 
    	DESCRIPTION 
       " A description of the protocol encapsulation used in 
         switching decisions." 
	  
    ::= { srProtocolDirTblEntry 4 } 
 
 
switchProtocolSwTbl      OBJECT IDENTIFIER ::= { srProtocolDir 2 } 
 
srProtocolSwTable OBJECT-TYPE 
    	SYNTAX      SEQUENCE OF SrProtocolSwTableEntry 
    	MAX-ACCESS  not-accessible 
    	STATUS      current 
    	DESCRIPTION 
		" A list of strategies used in switching " 
    	::= { switchProtocolSwTbl 1 } 

srProtocolSwTableEntry OBJECT-TYPE 
    	SYNTAX      SrProtocolSwTableEntry 
    	MAX-ACCESS  not-accessible 
    	STATUS      current 
    	DESCRIPTION 
            "A conceptual row in the srProtocolSwTable. 
             Each entry in this table represents the protocol 
             strategies employed by the switch. Two basic strategies 
             can be represented in this table.  
 

Rich Waterman  Expires April 21, 1997          [Page 26]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


                1) Port only switching 
 
                2) Protocol based switching 
 
             Protocol based switching entries can be further described 
             in the switchProtocolDir table. The switchProtocolDir table 
             describes frames type or group of protocol frames types 
             supported in the switching decision. For example 
             an IPX switching decision may consider multiple 
             frame types(e.g. DIXE, Novell RAW, LLC, SNAP) or 
             just one frame type(e.g. IP over SNAP)." 
 
    	INDEX { srProtocolIndex } 
    	::= { srProtocolSwTable 1 } 
 
SrProtocolSwTableEntry ::= SEQUENCE { 
  
    	srProtocolIndex                  INTEGER (1..65535), 
    	srProtocolType                   INTEGER , 
    	srProtocolLayer                  INTEGER , 
    	srProtocolSwDesc               OCTET STRING (SIZE (0..127)), 
  
  } 

srProtocolIndex OBJECT-TYPE 
   	SYNTAX INTEGER (1..65535) 
    	MAX-ACCESS read-only 
    	STATUS current 
    	DESCRIPTION 
              "A unique index for this group" 
    ::= { srProtocolSwTableEntry 1 } 

 srProtocolType  OBJECT-TYPE 
   	SYNTAX INTEGER { 
         		port-only (1), 
         		protocol (2) 
        	} 
    	MAX-ACCESS read-only 
    	STATUS current 
    	DESCRIPTION 
              " Type of switching strategy employed by the switch.  
                Port-only implies connection entries are determined 
                by the input port and/or  outport of the switch. 
                Protocol switching refers to protocol based switching 
                strategy. Packets are examined at L2(mac address), 
                L3(IP),L4(IP ports, IPX ports) in order to create 
                an entry in the connection table." 
 
   	 ::= { srProtocolSwTableEntry 2 } 

Rich Waterman  Expires April 21, 1997          [Page 27]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


 srProtocolLayer OBJECT-TYPE 
   	SYNTAX INTEGER 
    	MAX-ACCESS read-only 
    	STATUS current 
    	DESCRIPTION 
              "The uppermost layer considered in the protocol to 
               discriminate between switch connections. Layer 3 
               (on top of an IP identifier) would imply that IP 
               addresses only are considered as part of the 
               connection ID. Layer 4 (on top of an IP 
               identifier would indicate that ports are included 
               in the connection ID. A zero would indicate that 
               no protocol layer is part of the connection ID." 
 
    	::= { srProtocolSwTableEntry 3 } 
 
srProtocolSwDesc OBJECT-TYPE 
   	SYNTAX OCTET STRING (SIZE (0..127))
    	MAX-ACCESS read-only 
    	STATUS current 
    	DESCRIPTION 
              "A description of the switch protocol trategy." 
    	::= { srProtocolSwTableEntry 4 } 

























Rich Waterman  Expires April 21, 1997          [Page 28]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


--  
-- 
-- SWITCH Connection Group 
-- 
-- Counts the amount of traffic on behalf of each unidirection 
-- connection in the switch. Seperate connection tables are kept for each 

-- switch strategy(e.g.port,  L2, L3, L4 etc.) 
 
srConnControlTable OBJECT-TYPE 
    	SYNTAX      SEQUENCE OF SrConnControlEntry 
    	MAX-ACCESS  not-accessible 
    	STATUS      current 
    	DESCRIPTION 
            "A list of SWITCH table control entries. 
 
            These entries will enable the collection of SWITCH 
connections  
            information in the srConnTable and srConnTable." 
             
    	::= { srConn 1 } 
 
 
srConnControlEntry OBJECT-TYPE 
    	SYNTAX      SrConnControlEntry 
    	MAX-ACCESS  not-accessible 
    	STATUS      current 
    	DESCRIPTION 
            "A conceptual row in the  srConnControlTable.  
    	::= { srConnControlEntry 1 } 
 





Rich Waterman  Expires April 21, 1997          [Page 29]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srConnControlProtocolIndex OBJECT-TYPE 
    	SYNTAX      Integer32 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            "This object identifies on behalf of which switch protocol 
             strategy the connection information is being kept. This is 
             the same value as the srProtocolIndex object in the 
             corresponding ProtocolSwTableEntry entry describing the 
             switch strategy." 
    	::= { srConnControlEntry 2 } 

srConnControlInserts OBJECT-TYPE 
    	SYNTAX      Counter32 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            "The number of times an srConnTbl entry has been inserted 
            into the switch connection table(srConnTbl).  If an entry 
            is inserted, then deleted, and then inserted, this counter 
            will be incremented by 2.   
 
            The addition of a conversation into the srConnTable. 
 
            Note that the table size can be determined by subtracting 
            srConnControlDeletes from srConnControlInserts." 
    	::= { srConnControlEntry 3 } 
 
 srConnControlDeletes OBJECT-TYPE 
    	SYNTAX      Counter32 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            "The number of times an srConnTbl entry has been deleted 
            from the switch connection table(srConnTbl) (for any reason). 

            If an entry is deleted, then inserted, and then deleted,  
            this counter will be incremented by 2.  
 
            Note that the table size can be determined by subtracting 
            srConnControlDeletes from srConnControlInserts." 
    	::= { srConnControlEntry 4 } 
 






Rich Waterman  Expires April 21, 1997          [Page 30]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srConnControlDropEvents OBJECT-TYPE 
    	SYNTAX      Counter32 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            "The total number of events in which packets which should 
have 
            been counted in the associated srConnEntry 
            but were dropped by the probe due to lack 
            of resources.  Note that this number is not necessarily the 
            number of packets; it is just the number of 
            times this condition has been detected." 
    	::= { srConnControlEntry 5 } 
 
 
srConnControlOwner OBJECT-TYPE 
    	SYNTAX      OwnerString 
    	MAX-ACCESS  read-create 
    	STATUS      current 
    	DESCRIPTION 
            "The entity that configured this entry and is therefore 
            using the resources assigned to it." 
    	::= { srConnControlEntry 6 } 
 
 
srConnControlStatus OBJECT-TYPE 
    	SYNTAX      RowStatus 
    	MAX-ACCESS  read-create 
    	STATUS      current 
    	DESCRIPTION 
            "The status of this SrConnControlEntry. 
 
            An entry may not exist in the active state unless all 
            objects in the entry have an appropriate value. 
 
            If this object is not equal to active(1), all associated 
            entries in the srConnTable shall be deleted." 
    	::= { srConnControlEntry 7 } 

srConnTable OBJECT-TYPE 
    	SYNTAX      SEQUENCE OF SrConnEntry 
    	MAX-ACCESS  not-accessible 
    	STATUS      current 
    	DESCRIPTION 
            "A collection of statistics for conversations between 
            particular SWITCH endpoint addresses that have been 
discovered 
            on behalf protocols involved in switch decisions. 
 
            The probe will add a new entry to this table for all 
            conversations (connections) between distinct endpoints.  
             entries are associated)." 
    	INDEX { srConnControlSwitchIndex,   srConnEntrySrcAddress, 
             srConnEntryDstAddress } 
    	::= { srConnTable 1 } 

SrConnEntry    ::= SEQUENCE { 
    	srConnEntryInPort                   RowPointer, 
    	srConnEntryOutPort                  RowPointer, 
    	srConnEntrySrcAddress               SwitchAddr, 
    	srConnEntryDstAddress               SwitchAddr, 
    	srConnEntryCreateTime               LastCreateTime, 
    	srConnEntryPkts                     Counter32, 
    	srConnEntryOctets                   Counter32 
} 
 
srConnEntryInPort  OBJECT-TYPE 
    	SYNTAX      RowPointer 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            " The source port/interface  address of this entry. This 
value 
              represents the way into the switch for this connection." 
    	::= { srConnEntry 1 } 
 
srConnEntryOutPort  OBJECT-TYPE 
    	SYNTAX      RowPointer
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            " The destination port/interface  address of this entry. This 
value 
             represents the way out of the switch for this connection. " 
    	::= { srConnEntry 2 } 

srConnEntrySrcAddress OBJECT-TYPE 
    	SYNTAX      OCTET STRING
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            " The source address of this entry. For a Layer 2 only  
              connection, this would be the Source Mac Address. For 
              a layer three connection, this would be the network  
              address  (e.g. IP address). For a TCP connection, 
              this would be the source network address 
              followed by the IP protocol type, followed by the 
              source TCP port." 
    	::= { srConnEntry 3 } 

Rich Waterman  Expires April 21, 1997          [Page 32]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


srConnEntryDstAddress OBJECT-TYPE 
    	SYNTAX      OCTET STRING 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            " The destination address of this entry. For a Layer 2 only  
              connection, this would be the destination Mac Address. For 
              a layer three connection, this would be the network  
              address  (e.g. IP address). For a TCP connection, 
              this would be the destination network address 
              followed by the IP protocol type, followed by the 
              destination TCP port." 
    	::= { srConnEntry 4 } 

srConnEntryCreateTime OBJECT-TYPE 
    	SYNTAX      LastCreateTime 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            " The value of sysUpTime when this entry was activated.  This 

            can be used by the management station to ensure that the 
            entry has not been deleted and recreated between polls." 
    	::= { srConnEntry 5 } 

srConnEntryPkts OBJECT-TYPE 
    	SYNTAX      Counter32 
    	MAX-ACCESS  read-only
    	STATUS      current 
    	DESCRIPTION 
            " The number of packets sent from src to dest." 
    	::= { srConnEntry 6 } 
 
srConnEntryOctets OBJECT-TYPE 
    	SYNTAX      Counter32 
    	MAX-ACCESS  read-only 
    	STATUS      current 
    	DESCRIPTION 
            " The number of octets sent from src to dest." 
    	::= { srConnEntry 7 } 
 








Rich Waterman  Expires April 21, 1997          [Page 33]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


--  
--	Conformance Information 
- 
smonConformance OBJECT IDENTIFIER ::= { switchRMON 2 } 
 
smonCompliances OBJECT IDENTIFIER ::= { smonConformance 1 } 
smonGroups      OBJECT IDENTIFIER ::= { smonConformance 2 } 
 
-- compliance statements 
 
smonCompliance MODULE-COMPLIANCE 
    STATUS  current 
    DESCRIPTION 
            "The compliance statement for SNMP entities which implement 
            the Switch RMON MIB." 
    MODULE  -- this module 
        MANDATORY-GROUPS { smonGlobalGroup, 
                           smonLogicalGroup, switchStrategyDirGroup, 
switchConnGroup } 
    ::= { smonCompliances 1 } 
 
-- MIB groupings 

smonGlobalGroup    OBJECT-GROUP 
    	OBJECTS { 
            	srGlSMONCapability, 
		srGlSMONActivation, 
		srSystemTotalFrames, 
                	srSystemTotalOctets, 
                	srSystemTotalMcastPackets, 
                	srSystemTotalMcastOctets, 
                	srSystemTotalBcastPackets, 
                	srSystemTotalBcastOctets 
		srGlLocNetTotalFrames, 
		srGlLocNetTotalOctets, 
		srGlShSwTotalFrames,	
		srGlShSwTotalOctets	
	} 
    	STATUS  current 
    	DESCRIPTION 
		"The collection of objects which are used to represent 
		global smon statistics." 
	::= { smonGroups 1 } 
 





Rich Waterman  Expires April 21, 1997          [Page 34]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


smonLogicalGroup    OBJECT-GROUP 
    	OBJECTS { 
		srLogSegTotalFrames, 
		srLogSegTotalOctets 
	} 
    	STATUS  current 
    	DESCRIPTION 
		"The collection of objects which are used to represent 
		logical smon statistics." 
	::= { smonGroups 2 } 

switchStrategyDirGroup OBJECT-GROUP 
    	OBJECTS { 
		srProtocolIndex, 
                	srProtocolType, 
                	srProtocolLayer, 
                	srProtocolSwDesc, 
		srProtocolDirID, 
                	srProtocolIndex, 
                	srProtocolSwitchIndex, 
		srProtocolDesc 
	} 
    	STATUS  current 
    	DESCRIPTION 
		"The collection of objects which are used to represent 
		 which protocols are supported in the switching function." 
	::= { smonGroups 3 } 

switchConnGroup OBJECT-GROUP 
    	OBJECTS { 
                	srConnControlSwitchIndex, 
                	srConnControlProtocolIndex, 
                	srConnControlInserts, 
                	srConnControlDeletes, 
                	srConnControlOwner, 
                	srConnControlStatus, 
                	srConnEntrySrcAddress, 
                	srConnEntryDstAddress, 
                	srConnEntryCreateTime, 
                	srConnEntryPkts, 
                	srConnEntryOctets, 
	} 
    	STATUS  current 
    	DESCRIPTION 
		"The collection of objects which are used to represent 
		unidirectional connection smon statistics." 
	::= { smonGroups 4 } 
 
END 

 Rich Waterman  Expires April 21, 1997          [Page 35]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996

 
7.  References 
 
[1]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and 
     S. Waldbusser, "Structure of Management Information for version 2 
     of the Simple Network Management Protocol (SNMPv2)", RFC 1902, 
     January 1996. 
 
[2]  McCloghrie, K., and M. Rose, Editors, "Management Information Base 
     for Network Management of TCP/IP-based internets: MIB-II", STD 17, 
     RFC 1213, Hughes LAN Systems, Performance Systems International, 
     March 1991. 
 
[3]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and 
     S. Waldbusser, "Textual Conventions for version 2 of the Simple 
     Network Management Protocol (SNMPv2)", RFC 1903, January 1996. 
 
[4]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and 
     S. Waldbusser, "Protocol Operations for version 2 of the Simple 
     Network Management Protocol (SNMPv2)", RFC 1905, January 1996. 
 
[5]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and 
     S. Waldbusser, "Conformance Statements for version 2 of the Simple 
     Network Management Protocol (SNMPv2)", RFC 1904, January 1996. 
 
[6]  Case, J., M. Fedor, M. Schoffstall, J. Davin, "Simple Network 
     Management Protocol", RFC 1157, SNMP Research, Performance Systems 
     International, MIT Laboratory for Computer Science, May 1990. 
 
[7]  McCloghrie, K., and Kastenholtz, F., "Interfaces Group Evolution", 
     RFC 1573, Hughes LAN Systems, FTP Software, January 1994. 
 
[8]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and 
     S. Waldbusser, "Transport Mappings for version 2 of the Simple 
     Network Management Protocol (SNMPv2)", RFC 1906, January 1996. 

 [9]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and 
     S. Waldbusser, "Introduction to Community-based SNMPv2", RFC 1901, 
     January 1996. 
 
[10]  S. Waldbusser, "Remote Network Monitoring MIB", RFC 1757, Carnegie 
Mellon  
        University, February 1995 
 
[11] McCloghrie, K., and Bierman, A., "Entity MIB", 
draft-ietf-entmib-entmib-07.txt,  
        August, 1996 
 
[12] Lidinsky, B., "Draft Standard for Virtual Bridged Local Area 
Networks",  P802.1q,  
       August 30, 1996 
 
Rich Waterman  Expires April 21, 1997          [Page 36]
 
Internet Draft   RMON-Switch Monitoring MIB   October 21, 1996


8.  Security Considerations 
 
In order to implement this MIB, an agent must make certain management 
information available about various logical and physical entities within 
a managed system, which may be considered sensitive in some network 
environments. 
 
Therefore, a network administrator may wish to employ instance-level 
access control, and configure the Entity MIB access (i.e., community 
strings in SNMPv1 and SNMPv2C), such that certain instances within this 
MIB, are excluded 
from particular MIB views. 
 
9.  Authors' Addresses 
 
     	Richard Waterman 
     	Madge Networks 
     	2310 N. First St. 
     	San Jose, CA.   95131 
     	Email: rwaterma@madge.com 
 
	Bill Lahaye 
	Cabletron Systems 
	Email:  lahaye@ctron.com 
 
    	Dan Romascanu 
     	Madge Networks 
     	Atidim Technology Park, Bldg. 3 
     	Tel Aviv   61131 
      	Israel 
 
 
	 















Rich Waterman  Expires April 21, 1997          [Page 37]


