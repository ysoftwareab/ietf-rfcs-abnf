CCAMP Working Group                              J.E. Lopez de Vergara
Internet Draft                          Universidad Autonoma de Madrid
Intended status: Standards Track                              V. Lopez
Expires: January 7, 2016                           O. Gonzalez de Dios
                                                   Telefonica I+D/GCTO
                                                               D. King
                                                  Lancaster University
                                                                Y. Lee
                                                                Huawei
                                                                Z. Ali
                                                         Cisco Systems
                                                          July 6, 2015

              YANG data model for Flexi-Grid Optical Networks
                 draft-vergara-ccamp-flexigrid-yang-01.txt


Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79. This document may not be modified,
   and derivative works of it may not be created, except to publish it
   as an RFC and to translate it into languages other than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on January 7, 2016.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents


Lopez de Vergara, et al.    Expires January 7, 2016          [Page 1]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   carefully, as they describe your rights and restrictions with
   respect to this document. Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Abstract

   This document defines a YANG model for managing flexi-grid DWDM 
   Networks. The model described in this document is composed of two
   submodels: one to define an flex-grid traffic engineering database,
   and other one to describe the flex-grid paths or media channels.

Table of Contents


   1. Introduction ...............................................2
   2. Conventions used in this document ..........................3
   3. Flex-grid network topology model overview ..................3
   4. Main building blocks........................................5
      4.1. Flex-grid TED .........................................5
      4.2. Media-channel/network-media-channel ...................7
   5. Example of use .............................................9
   6. Formal Syntax ..............................................11
   7. Security Considerations ....................................11
   8. IANA Considerations ........................................11
   9. References .................................................11
      9.1. Normative References ..................................11
      9.2. Informative References ................................12
   10. Contributors ..............................................12
   11. Acknowledgments ...........................................12
   Appendix A. YANG models........................................12
      A.1. Flex-grid TED YANG Model ..............................13
      A.2. Media Channel YANG Model ..............................28
      A.3. License ...............................................35
   Authors' Addresses ............................................36


1. Introduction

   Internet-based traffic is dramatically increasing every year.
   Moreover, such traffic is also becoming more dynamic. Thus,
   transport networks need to evolve from current DWDM systems towards
   elastic optical networks, based on flexi-grid transmission and
   switching technologies. This technology aims at increasing both
   transport network scalability and flexibility, allowing the
   optimization of bandwidth usage.

   This document presents a YANG model for flex-grid objects in the 


Lopez de Vergara, et al.    Expires January 7, 2016          [Page 2]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   dynamic optical network, including the nodes, transponders and links 
   between them, as well as how such links interconnect nodes and 
   transponders.
   
   The YANG model for flexi-grid [I-D.draft-ietf-ccamp-flexi-grid-fwk]
   networks allows the representation of the flex-grid optical layer of
   a network, combined with the underlying physical layer. The model is
   defined in two YANG modules:

   o Optical-TED (Traffic Engineering Database): This module defines
      all the information needed to represent the flex-grid optical 
      node, an transponder and link.

   o Media-channel: This module defines the whole path from a source
      transponder to the destination through a number of intermediate
      nodes.

   This document identifies the flexi-grid components, parameters and 
   their values, characterizes the features and the performances of the
   flex-grid elements. An application example is provided towards the
   end of the document to better understand their utility.

2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

   In this document, these words will appear with that interpretation
   only when in ALL CAPS. Lower case uses of these words are not to be
   interpreted as carrying RFC-2119 significance.

   In this document, the characters ">>" preceding an indented line(s)
   indicates a compliance requirement statement using the key words
   listed above. This convention aids reviewers in quickly identifying
   or finding the explicit compliance requirements of this RFC.

3. Flex-grid network topology model overview

   YANG is a data modeling language used to model configuration data
   manipulated by the NETCONF protocol. Several YANG models have already
   been specified for network configurations. For instance, the work in 
   [I-D.draft-ietf-i2rs-yang-network-topo] has proposed a YANG model of
   a TED, but only covering the IP layer. A YANG model has also been 
   proposed in [I-D.draft-dharini-netmod-g-698-2-yang] to configure
   flex-grid DWDM parameters. 

   As stated before, we propose a model to describe an flex-grid 
   topology that is split in two YANG sub-modules:


Lopez de Vergara, et al.    Expires January 7, 2016          [Page 3]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   o flexgrid-TED: In order to be compatible with existing proposals, 
     we augment the definitions contained in [RFC6020], by defining the
     different elements we find in an flex-grid network: a node, a
     transponder and a link. For that, each of those elements is
     defined as a container that includes a group of attributes.
     References to the elements are provided to be later used in the
     definition of a media channel. It also includes the data types for
     the type of modulation, the flex-grid technology, the FEC, etc.
   o Media-channel: This module defines the whole path from a source
     transponder to the destination through a number of intermediate
     nodes and links. For this, it takes the information defined before
     in the flex-grid TED. 
     
     The following section provides a detailed view of each module.


4. Main building blocks

   Subsections below detail each of the defined YANG modules. They are
   listed in Appendix A.

4.1.  Flex-grid TED

   The description of the three main components, flex-grid-node, 
   flex-grid-transponder and flex-grid-link is provided below. 
   flex-grid-sliceable-transponders are also defined.

   <flex-grid-node> ::= <flex-grid-node-attributes>

     <flex-grid-node>: This element designates a node in the network

     <flex-grid-node-attributes> ::= <node-id> <list-interface>
     <connectivity_matrix>

          <optical-node-attributes>: Contains all the attributes
          related to the node, such as its unique id, its interfaces or
          its management addresses.

          <node-id>: An unique numeric identifier for the node. It is
          also used as a reference in order to point to it in the
          media-channel module.

          <list-interface> ::= <name> <port-number> <input-port> 
          <output-port> <description> <interface-type> 
          [<numbered-interface> / <unnumbered-interface>]

               <list-interface>: The list containing all the
               information of the interfaces



Lopez de Vergara, et al.    Expires January 7, 2016          [Page 4]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


               <name>: Determines the interface name.

               <port-number>: Port number of the interface.

               <input-port>: Boolean value that defines whether the
               interface is input or not.

               <output-port>: Boolean value that defines whether the
               interface is output or not.

               <description>: Description of the usage of the interface.

               <interface-type>: Determines if the interface is numbered
               or unnumbered.

               <numbered-interface> ::= <n-i-ip-address>

                    <numbered-interface>: A interface with its own IP
                    address

                    <n-i-ip-address>: Only available if <interface-type>
                    is "numbered-interface". Determines the IP address
                    of the interface.

               <unnumbered-interface> ::= <u-i-ip-address> <label>

                    <unnumbered-interface>: A interface that needs a
                    label to be unique

                    <u-i-ip-address>: Only available if <interface-type>
                    is "numbered-interface". Determines the node IP 
                    address, which with the label defines the interface.

                    <label>: Label that determines the interface, joint
                    with the node IP address.

          <connectivity-matrix> ::= <connections>

               <connectivity-matrix>: Determines whether a connection
               port in/port out exists.

               <connections> ::= <input-port-id> <output-port-id>

                    <connections>: The actual connection between an
                    input port and an output port

                    <input-port-id>: The input port associated with the
                    output port.



Lopez de Vergara, et al.    Expires January 7, 2016          [Page 5]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015



                    <output-port-id>: The output port associated with 
                    the input port.


   <optical-transponder> ::= <optical-transponder-attributes> <optical-
   node-attributes>

     <optical-transponder>: Determines an optical transponder in the
     network

     <optical-transponder-attributes> ::= <available-modulation>
     <modulation-type> <available-FEC> <FEC-enabled> [<FEC-type>]

          <optical-transponder-attributes>: Contains all the attributes
          related to the transponder, such as whether it has FEC
          enabled or not, or its modulation type..

          <available-modulation>: It provides a list of the modulations
          available at this transponder.

          <modulation-type>: Determines the type of modulation in use:
          QPSK, QAM16, QAM64...

          <available-FEC>: It provides a list of the FEC algorithms
          available at this transponder.

          <FEC-enabled>: Boolean value that determines whether is the
          FEC enabled or not.

          <FEC-type>: Determines the type of FEC in use: reed-solomon,
          hamming-code, enum golay, BCH...

     <optical-node-attributes>: See above, node attributes are reused
     also for transponders.



   <optical-sliceable-transponder> ::= <carrier-id> 
     <optical-transponder-attributes>

     <optical-sliceable-transponder>: Provides a list of transponders.

     <carrier-id>: An identifier for each one of the transponders in the
     list.

     <optical-transponder-attributes>: See above, transponder attributes
     are reused also for sliceable transponders.



Lopez de Vergara, et al.    Expires January 7, 2016          [Page 6]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   <link> ::= <optical-link-attributes>

     <link>: This element describes all the information of a link.

     <optical-link-attributes> ::= <link-id> <technology-type> 
     <available-label-flexigrid> <N-max> <base-frequency> 
     <nominal-central-frequency-granularity> <slot-width-granularity>

          <optical-link-attributes>: Contains all the attributes
          related to the link, such as its unique id, its N value, its
          latency, etc.

          <link-id>: Unique id of the link

          <technology-type>: Optical technology used in this link:
          Flexigrid, WDM50, WDM100...

          <available-label-flexigrid>: Array of bits that determines, 
          with each bit, the availability of each interface for 
          flexigrid technology.

          <N-max>: The max value of N in this link, being N the number 
          of slots.

          <base-frequency>: The default central frequency used in the
          link.

          <nominal-central-frequency-granularity>: It is the spacing
          between allowed nominal central frequencies and it is set to
          6.25 GHz (note: sometimes referred to as 0.00625 THz).

          <slot-width-granularity>: 12.5 GHz, as defined in G.694.1.

4.2. Media-channel/network-media-channel

   The model defines two types of media channel, following the
   terminology summarized in [I-D.draft-ietf-ccamp-flexi-grid-fwk]:
   media-channel, which represents a (effective) frequency slot 
   supported by a concatenation of media elements (fibers, amplifiers,
   filters, switching matrices...); network media channel: It is a media
   channel that transports an Optical Tributary Signal. In the model, 
   the network media channel has as end-points transponders, which are
   the source and destination of the optical signal. The description of
   these components is provided below:

   <media-channel> ::= <source> <destination> <link-channel> <effective-
   freq-slot>

     <media-channel>: Determines a media-channel and its components.


Lopez de Vergara, et al.    Expires January 7, 2016          [Page 7]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


     <source > ::= <source-node> <source-port>

          <source>: In a media-channel, the source is a node and a port.

          <source-node>: Reference to the source node of the media
          channel.

          <source-port>: Reference to the source port in the source
          <node.

     <destination> ::= <destination-node> <destination-port>

          <destination>: In a media-channel, the destination is a node 
          and a port.

          <destination-node>: Reference to the destination node of the
          media channel.

          <destination-port>: Reference to the destination port in the
          destination node.

     <link-channel> ::= <link-id> <N> <M> <source-node> <source-port>
     <destination-node> <destination-port> <link> <bidirectional>

          <link-channel>: Defines a list with each of the links between
          elements in the media channel.

          <link-id>: Unique identifier for the link channel

          <N>: N used for this link channel.

          <M>: M used for this link channel.

          <source-node>: Reference to the source node of this link
          channel.

          <source-port>: Reference to the source port of this link
          channel.

          <destination-node>: Reference to the destination node of this
          link channel.

          <destination-port>: Reference to the destination port of this
          link channel.

          <link>: Reference to the link of this link channel.

          <bidirectional>: Indicates if this link is bidirectional or
          not.


Lopez de Vergara, et al.    Expires January 7, 2016          [Page 8]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


     <effective-freq-slot> ::= <N> <M>

          <effective-freq-slot>: Defines the effective frequency slot of
          the media channel, which could be different from the one 
          defined in the link channels.

          <N>: Defines the effective N for this media channel.

          <M>: Defines the effective M for this media channel.

   <network-media-channel> ::= <source> <destination> <link-channel>
   <effective-freq-slot>

     <network-media-channel>: Determines a network media-channel and
     its components.

     <source > ::= <source-node> <source-transponder>

          <source>: In a network media channel, the source is defined by
          a node and a transponder.

          <source-node>: Reference to the source node of the media
          channel.

          <source-transponder>: Reference to the source transponder in
          the source node.

     <destination> ::= <destination-node> <destination-transponder>

          <destination>: In a network media channel, the destination is
          defined by a node and a transponder

          <destination-node>: Reference to the destination node of the
          media channel.

          <destination-port>: Reference to the destination port in the
          destination node.

     <link-channel>: See above, the information is reused for both types
     of media channels.

     <effective-freq-slot>: See above, this information is reused for 
     both types of media channels.


5. Example of use

   In order to explain how this model is used, we provide the following
   example. An optical network usually has multiple transponders,


Lopez de Vergara, et al.    Expires January 7, 2016          [Page 9]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   switches (nodes) and links between them. Figure 1 shows a simple
   topology, where two physical paths interconnect two optical
   transponders.

                               Media channel
            <==================================================>
                                  Path x
            <-------------------------------------------------->

                     +---------+          +---------+
              Link 1 | Optical |  Link 2  | Optical | Link 3
                .--->|  node   |<-------->|  node   |<---.
                |    |    B    |          |    C    |    |
                |    +---------+          +---------+    |
                v                                        v
            +-------------+                      +-------------+
            |   Optical   |                      |   Optical   |
            | transponder |                      | transponder |
            |      A      |                      |      E      |
            +-------------+                      +-------------+
                  ^                                    ^
                  |             +---------+            |
                  |    Link 4   | Optical |   Link 5   |
                  '------------>|  node   |<-----------'
                                |    D    |
                                +---------+
            <-------------------------------------------------->
                                  Path y

                      Figure 1. Topology example.

   In order to configure a media channel to interconnect transponders A
   and E, first of all we have to populate the optical TED YANG model
   with all elements in the network:

   1. We define the transponders A and E, including their FEC type, if
      enabled, and modulation type. We also provide node identifiers
      and addresses for the transponders, as well as interfaces
      included in the transponders. It is also possible sliceable
      transponders if needed.

   2. We do the same for the nodes B, C and D, providing their
      identifiers, addresses and interfaces, as well as the internal
      connectivity matrix between interfaces.

   3. Then, we also define the links 1 to 5 that interconnect nodes and
      transponders, indicating which flexi-grid labels are available. 
      Other information, such as the slot frequency and granularity are
      also provided.


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 10]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   Next, we can configure the media channel from the information we
   have stored in the optical TED, by querying which elements are
   available, and planning the resources that have to be provided on
   each situation. Note that every element in the optical TED has a
   reference, and this is the way in which they are called in the media
   channel.

   4. Depending on the case, it is possible to define either the source
      and destination node ports, or the source and destination node
      and transponder. In our case, we would define a network media
      channel, with source transponder A and source node B, and
      destination transponder E and destination node C. Thus, we are
      going to follow path x.

   5. Then, for each link in the path x, we indicate which channel we
      are going to use, providing information about the slots, and what
      nodes are connected.

   Finally, the optical TED has to be updated with each element usage
   status each time a media channel is created or torn down.

6. Formal Syntax

   The following syntax specification uses the augmented Backus-Naur
   Form (BNF) as described in [RFC5234].

7. Security Considerations

   The transport protocol used for sending the managed information MUST
   support authentication and SHOULD support encryption.

   The defined data-model by itself does not create any security
   implications.


8. IANA Considerations

   The namespace used in the defined models is currently based on the
   IDEALIST project URI. Future versions of this document could
   register a URI in the IETF XML registry [RFC3688], as well as in the
   YANG Module Names registry [RFC6020].
   

9. References

9.1. Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 11]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   [RFC5234] Crocker, D. and P. Overell, "Augmented BNF for Syntax
             Specifications: ABNF", STD 68, RFC 5234, January 2008,
             <http:/www.rfc-editor.org/info/rfc5234>.

   [RFC6020] Bjorklund, M., Ed., "YANG - A Data Modeling Language for 
             the Network Configuration Protocol (NETCONF)", RFC 6020,
             October 2010.

   [RFC3688] Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
             January 2004.


9.2. Informative References

   [I-D.draft-ietf-ccamp-flexi-grid-fwk] Gonzalez de Dios, O., Casellas,
         R., "Framework and Requirements for GMPLS based control of 
         Flexi-grid DWDM networks", draft-ietf-ccamp-flexi-grid-fwk-05,
         2015.

   [I-D.draft-ietf-i2rs-yang-network-topo]  Clemm, A., Ananthakrishnan,
         H., Medved, J., Tkacik, T., Varga, R., Bahadur, N., "A YANG 
         Data Model for Network Topologies", Internet Draft 
         draft-ietf-i2rs-yang-network-topo-01.txt, 2015.

   [I-D.draft-dharini-netmod-g-698-2-yang] Galimberti, G., Kunze, R.,
         Kam Lam, Hiremagalur, D., Grammel, G., Eds., "A YANG model to
         manage optical interface parameters of DWDM applications", 
         Internet Draft, draft-dharini-netmod-g-698-2-yang-04, 2015.


10. Contributors

   The model presented in this paper was contributed to by more people
   than can be listed on the author list.  Additional contributors
   include:

   o Daniel Michaud Vallinoto, Universidad Autonoma de Madrid

11. Acknowledgments

   The work presented in this Internet-Draft has been partially funded
   by the European Commission under the project Industry-Driven Elastic
   and Adaptive Lambda Infrastructure for Service and Transport
   Networks (IDEALIST) of the Seventh Framework Program, with Grant
   Agreement Number: 317999.


Appendix A.                 YANG models



Lopez de Vergara, et al.    Expires January 7, 2016         [Page 12]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


A.1. Flex-grid TED YANG Model

<CODE BEGINS> file "ietf-flexigrid.yang"

   module flexi-grid-TED {
      namespace "urn:ietf:params:xml:ns:yang:ietf-flexigrid-topology";

      prefix flexigrid;

          import ietf-inet-types {

                  prefix inet;
          }

          import network-topology {

                  prefix nt;
          }

      organization
         "IETF CCAMP Working Group";

      contact
         "Editor: Jorge Lopez <jorge.lopez_vergara@uam.es>";

      description
         "This module contains a collection of YANG definitions for
         Flexi-Grid.

         Copyright (c) 2015 IETF Trust and the persons identified as
         authors of the code.  All rights reserved.

         Redistribution and use in source and binary forms, with or
         without modification, is permitted pursuant to, and subject
         to the license terms contained in, the Simplified BSD
         License set forth in Section 4.c of the IETF Trust's Legal
         Provisions Relating to IETF Documents
         (http://trustee.ietf.org/license-info).";

      revision 2015-07-01 {
         description
            "version 2.";

      reference
         "RFC XXX: A Yang Data Model for Flexi-Grid Optical Networks ";
      }

      typedef optical-node-type {



Lopez de Vergara, et al.    Expires January 7, 2016         [Page 13]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


         description 
            "Determines the node type: optical-sliceable-transponder";
               type enumeration {
                  enum optical-sliceable-transponder;
       }

       typedef modulation {

         description 
            "Enumeration that defines the type of wave modulation";
               type enumeration {
                  enum QPSK;
                  enum DP_QPSK;
                  enum QAM16;
                  enum DP_QAM16;
                  enum DC_DP_QAM16;
                  }

          }



          typedef optical-technology {








                  description "Enumeration that defines the type of
   optical technology";



                  type enumeration {

                          enum Flexigrid;

                          enum WDM50;

                          enum WDM100;

                  }

          }




Lopez de Vergara, et al.    Expires January 7, 2016         [Page 14]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


          typedef FEC {



                  description "Enumeration that defines the type of
   FEC";



                  type enumeration {

                          enum reed-solomon;

                          enum hamming-code;

                          enum golay;

                  }

          }













          typedef interface-type {



                  description "Enumeration that defines if an interface
   is numbered or unnumbered";



                  type enumeration {

                          enum numbered-interfaces;

                          enum unnumbered-interfaces;

                  }


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 15]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015

          }





          typedef optical-transponder-ref {

                  type leafref {

                          path "/nt:network-
   topology/nt:topology/nt:node/nt:node-id";

                  }

                  description

                          "This type is used by data models that need
   to reference

                           an optical transponder.";

          }




          typedef optical-node-ref {

                  type leafref {

                          path "/nt:network-
   topology/nt:topology/nt:node/nt:node-id";

                  }

                  description

                          "This type is used by data models that need
   to reference

                           an optical node.";

          }



          typedef optical-link-ref {

                  type leafref {


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 16]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                          path "/nt:network-
   topology/nt:topology/nt:link/nt:link-id";

                  }

                  description

                          "This type is used by data models that need
   to reference

                           an optical link.";

          }



          typedef optical-node-port-ref {

                  type leafref {




                          path "/nt:network-
   topology/nt:topology/nt:node/o-ted:interface/o-ted:port-number";

                  }

                  description

                          "This type is used by data models that need
   to reference

                           an optical link.";

          }









          grouping optical-ted-topology-type {

                  container optical-ted-topology {

                          presence "indicates optical TED Topology";


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 17]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                  }

          }



          grouping optical-ted-topology-attributes {

                  container optical-ted-topology-attributes {

                          leaf name {

                                  description "Name of the topology";

                                  type string;

                          }




   }

          }



          grouping optical-node-type {



                  description "Used to determine the type of the
   optical node.";



                  leaf type {

                          type optical-node-type;

                  }

          }








Lopez de Vergara, et al.    Expires January 7, 2016         [Page 17]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


          grouping optical-node-attributes {



                  description "Set of attributes of an optical node.";



                  list interface {



                          key "name";



                          unique "port-number";




                          description "List of interfaces contained by
   the node";



                          leaf name {

                                  type string;

                          }



                          leaf port-number {

                                  type uint32;

                                  description "Number of the port used
   by the interface";

                          }



                          leaf input-port {

                                  type boolean;


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 18]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                                  description "Determines if the port
   is an input port";

                          }



                          leaf output-port {

                                  type boolean;

                                  description "Determines if the port
   is an output port";

                          }




                          leaf description {

                                  type string;

                                  description "Description of the
   interface";

                          }



                          leaf interfaces-type {

                                  type interface-type;

                                  description "Determines the type of
   the interface";

                          }



                          container numbered-interface {



                                  when "interfaces-type == numbered-
   interfaces";




Lopez de Vergara, et al.    Expires January 7, 2016         [Page 19]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                                  description "Grouping that defines an
   numbered interface with an ip-address";



                                  leaf n-i-ip-address{

                                          type inet:ip-address;

                                  }

                          }








                          container unnumbered-interface {



                                  when "interfaces-type == unnumbered-
   interfaces";



                                  description "Grouping that defines an
   unnumbered interface with an ip-address and a label";



                                  leaf u-i-ip-address{

                                          type inet:ip-address;

                                  }

                                  leaf label {

                                          type uint32;

                                  }

                          }

                  }


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 20]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                  container connectivity-matrix {



                          list connections {



                                  key "input-port-id";





                                  leaf input-port-id {

                                          type optical-node-port-ref;

                                  }



                                  leaf output-port-id {

                                          type optical-node-port-ref;

                                  }

                          }

                  }

          }



          grouping optical-transponder-attributes {



                  description "Set of attributes of an optical
   transponder.";



                  leaf-list available-modulation {

                          type modulation;

Lopez de Vergara, et al.    Expires January 7, 2016         [Page 21]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                          description "List determining all the
   available modulations";

                  }



                  leaf modulation-type {




                          type modulation;

                          description "Modulation type of the wave";

                  }



                  leaf-list available-FEC {

                          type FEC;

                          description "List determining all the
   available FEC";

                  }



                  leaf FEC-enabled {

                          type boolean;

                          description "Determines whether the FEC is
   enabled or not";

                  }



                  leaf FEC-type {

                          type FEC;

                          description "FEC type of the transponder";

                  }


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 22]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015

                uses optical-node-attributes;

          }







          grouping optical-sliceable-transponder-attributes {



                  description

                          "Grouping that defines a sliceable
   transponder which is composed by several transponders.";

                  list transponder-list {



                          key "carrier-id";



                          leaf carrier-id {

                                  type uint32;

                          }



                          uses optical-transponder-attributes;

                  }



          }



          grouping optical-link-attributes {



                  description "Set of attributes of an optical link";


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 23]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                  leaf-list available-label-flexigrid {




                          type bits {

                                  bit is-available;

                          }

                          description "Array of bits that determines
   whether a spectral slot is available or not.";



                          when "technology-type == Flexigrid";

                          }

                          description "Array of bits that determines
   whether a wavelength is available or not.";



                          when "technology-type != Flexigrid";

                  }



                  leaf N-max {

                          type int32;

                          description "Maximum number of channels
   available.";

                  }





                  leaf base-frequency {

                          type decimal64 {

                                  fraction-digits 5;

Lopez de Vergara, et al.    Expires January 7, 2016         [Page 24]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                          }

                          units THz;

                          default 193.1;

                          description "Default central frequency";

                          reference "draft-ietf-ccamp-flexi-grid-fwk-
   01";

                  }



                  leaf nominal-central-frequency-granularity {

                          type decimal64 {

                                  fraction-digits 5;

                          }

                          units GHz;

                          default 6.25;

                          description "It is the spacing between
   allowed nominal central frequencies and it is set to 6.25 GHz";

                          reference "draft-ietf-ccamp-flexi-grid-fwk-
   01";

                  }



                  leaf slot-width-granularity {

                          type decimal64 {



                                  fraction-digits 5;

                          }

                          units GHz;



Lopez de Vergara, et al.    Expires January 7, 2016         [Page 25]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                          description "Minimum space between slot
   widths";

                          reference "draft-ietf-ccamp-flexi-grid-fwk-
   01";

                  }



                  leaf technology-type {

                          type optical-technology;

                          description "Determines which technology is
   used at optical-level";

                  }



   }









          augment "/nt:network-topology/nt:topology/nt:topology-types"
   {

                  uses optical-ted-topology-type;

          }







          augment "/nt:network-topology/nt:topology" {

                  when "nt:topology-types/optical-ted-topology";

                  uses optical-ted-topology-attributes;

          }
          
Lopez de Vergara, et al.    Expires January 7, 2016         [Page 26]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


          augment "/nt:network-topology/nt:topology/nt:node" {

                  when "../nt:topology-types/o-ted:optical-ted-
   topology";

                  uses optical-node-type;

          }



          augment "/nt:network-topology/nt:topology/nt:node" {

                  when "../nt:topology-types/o-ted:optical-ted-
   topology";

                  uses optical-node-attributes;

          }



          augment "/nt:network-topology/nt:topology/nt:node" {

                  when "o-ted:optical-node-type/o-ted:optical-
   transponder";

                  uses optical-transponder-attributes;

          }



          augment "/nt:network-topology/nt:topology/nt:node" {



                  when "o-ted:optical-node-type/o-ted:optical-
   sliceable-transponder";

                  uses optical-sliceable-transponder-attributes;

          }



          augment "/nt:network-topology/nt:topology/nt:link" {

                  when "../nt:topology-types/o-ted:optical-ted-
   topology";

                  uses optical-link-attributes;

Lopez de Vergara, et al.    Expires January 7, 2016         [Page 27]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


          }

   }

A.2. Media Channel YANG Model

   module media-channel {



          namespace "http://www.tid.es/idealist ";



          prefix m-c;



          import optical-TED {

                  prefix o-ted;

          }



          revision 2014-06-05;







          container media-channel {



                  description "Media association that represents both
   the topology

                                  (i.e., path through the media) and
   the resource (frequency slot) that

                                  it occupies.  As a topological
   construct, it represents a (effective)

                                  frequency slot supported by a
   concatenation of media elements

                                  (fibers, amplifiers, filters,
   switching matrices...).  This term is

Lopez de Vergara, et al.    Expires January 7, 2016         [Page 28]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                                  used to identify the end-to-end
   physical layer entity with its

                                  corresponding (one or more) frequency
   slots local at each link

                                  filters.";



                  reference "draft-ietf-ccamp-flexi-grid-fwk-01";



                  container source {



                          leaf source-node {

                                  type o-ted:optical-node-ref;

                          }



                          leaf source-port {

                                  type o-ted:optical-node-port-ref;

                          }

                  }



                  container destination {

                          leaf destination-node {

                                  type o-ted:optical-node-ref;

                          }



                          leaf destination-port {

                                  type o-ted:optical-node-port-ref;

                          }


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 29]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                  }



                  uses media-channel-attributes;

          }



          container network-media-channel {



                  description "It is a media channel that transports an
   Optical Tributary Signal ";



                  reference "draft-ietf-ccamp-flexi-grid-fwk-01";



                  container source {

                          leaf source-node {

                                  type o-ted:optical-node-ref;

                          }



                          leaf source-transponder {

                                  type o-ted:optical-transponder-ref;

                          }

                  }



                  container destination {

                          leaf destination-node {

                                  type o-ted:optical-node-ref;

                          }


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 30]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                          leaf destination-transponder {

                                  type o-ted:optical-transponder-ref;

                          }

                  }



                  uses media-channel-attributes;

          }



          grouping media-channel-attributes {



                  container effective-freq-slot {



                          description "The effective frequency

                          slot is an attribute of a media channel and,
   being a frequency slot,

                          it is described by its nominal central
   frequency and slot width";



                          reference "draft-ietf-ccamp-flexi-grid-fwk-
   01";



                          leaf N {

                                  type int32;

                                  description

                                          "Is used to determine the
   Nominal Central Frequency. The set of nominal

                                           central frequencies can be
   built using the following expression f =

Lopez de Vergara, et al.    Expires January 7, 2016         [Page 31]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                                           193.1 THz + n x 0.00625 THz,
   where 193.1 THz is ITU-T ''anchor

                                           frequency'' for transmission
   over the C band, n is a positive or

                                           negative integer including
   0.";


                                  reference "draft-ietf-ccamp-flexi-
   grid-fwk-01";

                  }



                          leaf M {

                                  type int32;

                                  description

                                          "Is used to determine the
   slot width. A slot width is constrained

                                          to be M x SWG (that is, M x
   12.5 GHz), where M is an integer greater

                                          than or equal to 1.";

                                  reference "draft-ietf-ccamp-flexi-
   grid-fwk-01";

                          }

                  }



                  list link-channel {



                          key "link-id";


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 32]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015

                          leaf link-id {

                                  type int32;

                          }




                          uses link-channel;

                  }

          }



          grouping link-channel {



                  description "A link channel is one of the
   concatenated elements of the media channel.";



                  leaf N {

                          type int32;

                          description

                                  "Is used to determine the Nominal
   Central Frequency. The set of nominal

                                   central frequencies can be built
   using the following expression f =

                                   193.1 THz + n x 0.00625 THz, where
   193.1 THz is ITU-T ''anchor

                                   frequency'' for transmission over
   the C band, n is a positive or

                                   negative integer including 0.";

                          reference "draft-ietf-ccamp-flexi-grid-fwk-
   01";

                  }

Lopez de Vergara, et al.    Expires January 7, 2016         [Page 33]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015

                  leaf M {



                          type int32;

                          description

                                  "Is used to determine the slot width.
   A slot width is constrained

                                  to be M x SWG (that is, M x 12.5
   GHz), where M is an integer greater

                                  than or equal to 1.";

                          reference "draft-ietf-ccamp-flexi-grid-fwk-
   01";

                  }



                  leaf source-node {

                          type o-ted:optical-node-ref;

                  }



                  leaf source-port {

                          type o-ted:optical-node-port-ref;

                  }



                  leaf destination-node {

                          type o-ted:optical-node-ref;

                  }



                  leaf destination-port {

                          type o-ted:optical-node-port-ref;


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 34]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


                  }



                  leaf link {

                          type o-ted:optical-link-ref;

                  }



                  leaf bidireccional {

                          type boolean;

                          description "Determines whether the link is
   bidireccional or not";

                  }

          }

   }

   <CODE ENDS>
 
A.3. License

   Copyright (c) 2015 IETF Trust and the persons identified as authors
   of the code. All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

   o Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

   o Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in
      the documentation and/or other materials provided with the
      distribution.

   o Neither the name of Internet Society, IETF or IETF Trust, nor the
      names of specific contributors, may be used to endorse or promote
      products derived from this software without specific prior
      written permission.



   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT

Lopez de Vergara, et al.    Expires January 7, 2016         [Page 35]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
   FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.



Authors' Addresses

   Jorge E. Lopez de Vergara
   Universidad Autonoma de Madrid
   Escuela Politecnica Superior
   C/Francisco Tomas y Valiente, 11
   E-28049 Madrid, Spain

   Email: jorge.lopez_vergara@uam.es


   Victor Lopez
   Telefonica I+D/GCTO
   Distrito Telefonica
   E-28050 Madrid, Spain

   Email: victor.lopezalvarez@telefonica.com


   Oscar Gonzalez de Dios
   Telefonica I+D/GCTO
   Distrito Telefonica
   E-28050 Madrid, Spain

   Email: oscar.gonzalezdedios@telefonica.com


   Daniel King
   Lancaster University

   Email: d.king@lancaster.ac.uk

   Young Lee
   Huawei Technologies
   
   Email: leeyoung@huawei.com


Lopez de Vergara, et al.    Expires January 7, 2016         [Page 36]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015


   Zafar Ali
   Cisco Systems

   Email: zali@cisco.com















































Lopez de Vergara, et al.    Expires January 7, 2016         [Page 37]
Internet-Draft     A YANG data model for Flexi-Grid        July 2015