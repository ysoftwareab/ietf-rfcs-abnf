


Internet Engineering Task Force                                   SIP WG
Internet Draft                                              G. Camarillo
                                                                Ericsson
                                                            J. Rosenberg
                                                             dynamicsoft
draft-ietf-mmusic-anat-00.txt
December 6, 2003
Expires: May 2004


           The Alternative Network Address Types Semantics
       for the Session Description Protocol Grouping Framework

STATUS OF THIS MEMO

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress".

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   To view the list Internet-Draft Shadow Directories, see
   http://www.ietf.org/shadow.html.


Abstract

   This document defines the Alternative Network Address Types (ANAT)
   semantics for the SDP grouping framework. The ANAT semantics allow
   offering alternative types of network addresses to establish a
   particular media stream.











G. Camarillo et. al.                                          [Page 1]


Internet Draft                    SIP                   December 6, 2003





                           Table of Contents



   1          Introduction ........................................    3
   1.1        Terminology .........................................    3
   2          ANAT Semantics ......................................    3
   3          Preference ..........................................    3
   4          Offer/Answer and ANAT ...............................    4
   4.1        ANAT and Media Configurations .......................    4
   5          SIP Option-Tag ......................................    4
   6          Example .............................................    4
   7          IANA Considerations .................................    5
   8          Security Considerations .............................    5
   9          Authors' Addresses ..................................    5
   10         Normative References ................................    6
   































G. Camarillo et. al.                                          [Page 2]

Internet Draft                    SIP                   December 6, 2003


1 Introduction

   An SDP [1] session description contains the media parameters to be
   used to establish a number of media streams. For a particular media
   stream, an SDP session description contains, among other parameters,
   the network addresses and the codec to be used to transfer media. SDP
   allows providing a set of codecs per media stream, but only one
   network address.

   Being able to offer a set of network addresses to establish a media
   stream is useful in environments with both IPv4-only hosts and IPv6-
   only hosts, for instance.

   This document defines the Alternative Network Address Types (ANAT)
   semantics for the SDP grouping framework [2]. The ANAT semantics
   allow expressing alternative network addresses (e.g., different IP
   versions) for a particular media stream.

1.1 Terminology

   In this document, the key words "MUST", "MUST NOT", "REQUIRED",
   "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
   and "OPTIONAL" are to be interpreted as described in RFC 2119 [3] and
   indicate requirement levels for compliant SIP implementations.

2 ANAT Semantics

   We define a new "semantics" attribute within the SDP grouping
   framework [2]: ANAT (Alternative Network Address Types).

   Media lines grouped using ANAT semantics provide alternative network
   addresses of different types for a single logical media stream. The
   entity creating a session description with an ANAT group MUST be
   ready to receive (or send) media over any of the grouped m lines. The
   ANAT semantics MUST NOT be used to group media streams whose network
   addresses are of the same type.

3 Preference

   The entity generating a session description may have an order of
   preference for the alternative network address types offered. The
   identifiers of the media streams MUST be listed in order of
   preference in the group line. In the example below, the m= line with
   mid=1 has a higher preference than the m line with mid=2.


            a=group:ANAT 1 2




G. Camarillo et. al.                                          [Page 3]


Internet Draft                    SIP                   December 6, 2003


4 Offer/Answer and ANAT

   An answerer receiving a session description that uses the ANAT
   semantics SHOULD use the address with highest priority it understands
   and set the ports of the rest of the m= lines of the group to zero.

4.1 ANAT and Media Configurations

   The creator of a session description MAY want to use different media
   configurations (e.g., audio codec) for different network addresses in
   the same ANAT group. The receiver of such a session may find some of
   the m lines unacceptable. They may contain codecs that the answerer
   does not support or contain any other parameter that makes them
   unacceptable. The answerer should, following normal SIP procedures,
   set their ports to zero in the answer.

5 SIP Option-Tag

   We define the option-tag "sdp-anat" for use in the Require and
   Supported SIP [4] header fields. SIP user agents that place this
   option-tag in a Supported header field understand the ANAT semantics
   as defined in this document.

   Using the sdp-anat option-tag in a Require header field allows a user
   agent to explicitly discover whether or not the remote end supports
   the ANAT semantics. Nevertheless, user agents MAY use the ANAT
   semantics without using the sdp-anat option tag. In this case, an
   offer with an ANAT group may be received by a user agent without
   support for it. Such a user agent may refuse the offer because it
   contains unknown address types or may only establish the media
   streams whose address types understands (it would reject the rest.)
   If this behavior is not acceptable for the generator of an offer, it
   MUST use the sdp-anat option-tag in a Require header field.

6 Example

   The session description below contains an IPv4 address and an IPv6
   address grouped using ANAT.



      v=0
      o=bob 280744730 28977631 IN IP4 host.example.com
      s=
      t=0 0
      a=group:ANAT 1 2
      m=audio 6886 RTP/AVP 0
      c=IN IP6 2001:0600::1



G. Camarillo et. al.                                          [Page 4]


Internet Draft                    SIP                   December 6, 2003


      a=mid:1
      m=audio 22334 RTP/AVP 0
      c=IN IP4 192.0.2.2
      a=mid:2



7 IANA Considerations

   IANA needs to register the following new "semantics" attribute for
   the SDP grouping framework [2]:


   Semantics                            Token      Reference
   -----------------------              -----      ---------
   Alternative Network Address Types    ANAT        [RFCxxxx]


   It should be registered in the SDP parameters registry
   (http://www.iana.org/assignments/sdp-parameters) under Semantics for
   the "group" SDP Attribute.

   This document defines a SIP option-tag (sdp-anat) in Section 5. It
   should be registered in the SIP parameter registry
   (http://www.iana.org/assignments/sip-parameters.)

        SIP user agents that place the sdp-anat option-tag in a
        Supported header field understand the ANAT semantics.

8 Security Considerations

   An attacker adding group lines using the ANAT semantics to an SDP
   session description could make an end-point use only one out of all
   the streams offered by the remote end, when the intention of the
   remote-end might have been to establish all the streams.

   An attacker removing group lines using ANAT semantics could make and
   end-point establish a higher number of media streams. If the end-
   point sends media over all of them, the session bandwidth may
   increase dramatically.

   It is thus STRONGLY RECOMMENDED that integrity protection be applied
   to the SDP session descriptions. For session descriptions carried in
   SIP [4], S/MIME is the natural choice to provide such end-to-end
   integrity protection, as described in RFC 3261. Other applications
   MAY use a different form of integrity protection.

9 Authors' Addresses



G. Camarillo et. al.                                          [Page 5]


Internet Draft                    SIP                   December 6, 2003


   Gonzalo Camarillo
   Ericsson
   Advanced Signalling Research Lab.
   FIN-02420 Jorvas
   Finland
   electronic mail:  Gonzalo.Camarillo@ericsson.com

   Jonathan Rosenberg
   dynamicsoft
   72 Eagle Rock Ave
   East Hanover, NJ 07936
   USA
   electronic mail:  jdrosen@dynamicsoft.com

10 Normative References

   [1] M. Handley and V. Jacobson, "SDP: session description protocol,"
   RFC 2327, Internet Engineering Task Force, Apr. 1998.

   [2] G. Camarillo, G. Eriksson, J. Holler, and H. Schulzrinne,
   "Grouping of media lines in the session description protocol (SDP),"
   RFC 3388, Internet Engineering Task Force, Dec. 2002.

   [3] S. Bradner, "Key words for use in RFCs to indicate requirement
   levels," RFC 2119, Internet Engineering Task Force, Mar. 1997.

   [4] J. Rosenberg, H. Schulzrinne, G. Camarillo, A. R. Johnston, J.
   Peterson, R. Sparks, M. Handley, and E. Schooler, "SIP: session
   initiation protocol," RFC 3261, Internet Engineering Task Force, June
   2002.





   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights. Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11. Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.



G. Camarillo et. al.                                          [Page 6]


Internet Draft                    SIP                   December 6, 2003


   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard. Please address the information to the IETF Executive
   Director.

   Full Copyright Statement

   Copyright (c) The Internet Society (2003). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


















G. Camarillo et. al.                                          [Page 7]


