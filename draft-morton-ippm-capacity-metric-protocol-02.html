<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Test Protocol for One-way IP Capacity Measurement</title>
<meta content="Len Ciavattone" name="author">
<meta content="Al Morton" name="author">
<meta content="
       This memo addresses the problem of protocol support for measuring
      Network Capacity metrics in RFC xxxx:
      draft-ietf-ippm-capacity-metric-method, where the method deploys a
      feedback channel from the receiver to control the sender's transmission
      rate in near-real-time. It supplies a simple protocol to perform the
      measurements. 
       See Section 10: The authors seek feedback to determine what
      additional features will be necessary for an IETF Standards Track
      Protocol, beyond what is present in the running code available now. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-morton-ippm-capacity-metric-protocol-02" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-morton-ippm-capacity-metric-protocol-02-o7xf_bca.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Test Protocol for IP Capacity Measuremen</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Ciavattone &amp; Morton</td>
<td class="center">Expires 28 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-morton-ippm-capacity-metric-protocol-02</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-25" class="published">25 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-28">28 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Ciavattone</div>
<div class="org">AT&amp;T Labs</div>
</div>
<div class="author">
      <div class="author-name">A. Morton</div>
<div class="org">AT&amp;T Labs</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Test Protocol for One-way IP Capacity Measurement</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This memo addresses the problem of protocol support for measuring
      Network Capacity metrics in RFC xxxx:
      draft-ietf-ippm-capacity-metric-method, where the method deploys a
      feedback channel from the receiver to control the sender's transmission
      rate in near-real-time. It supplies a simple protocol to perform the
      measurements.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">See Section 10: The authors seek feedback to determine what
      additional features will be necessary for an IETF Standards Track
      Protocol, beyond what is present in the running code available now.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 28 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-scope-goals-and-applicabili" class="xref">Scope, Goals, and Applicability</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-protocol-overview" class="xref">Protocol Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-general-parameters-and-defi" class="xref">General Parameters and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-setup-request-and-response-" class="xref">Setup Request and Response Exchange</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-setup-response-processing-a" class="xref">Setup Response Processing at the Client</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-test-activation-request-and" class="xref">Test Activation Request and Response</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-test-activation-request-at-" class="xref">Test Activation Request at the client</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-test-activation-request-ser" class="xref">Test Activation Request - server response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-test-activation-response-ac" class="xref">Test Activation Response action at the client</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-test-stream-transmission-an" class="xref">Test Stream Transmission and Measurement Feedback Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-test-packet-pdu-and-roles" class="xref">Test Packet PDU and Roles</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-status-pdu" class="xref">Status PDU</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-stopping-the-test" class="xref">Stopping the Test</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-method-of-measurement" class="xref">Method of Measurement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-running-code" class="xref">Running Code</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="xref">13.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="xref">13.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The IETF's efforts to define Network and Bulk Transport Capacity have
      been chartered and finally progressed after over twenty years.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Over that time, the performance community has seen development of
      Informative definitions in <span>[<a href="#RFC3148" class="xref">RFC3148</a>]</span> for Framework for
      Bulk Transport Capacity (BTC), RFC 5136 for Network Capacity and Maximum
      IP-layer Capacity, and the Experimental metric definitions and methods
      in <span>[<a href="#RFC8337" class="xref">RFC8337</a>]</span>, Model-Based Metrics for BTC.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This memo looks at the problem of measuring Network Capacity metrics
      defined in <span>[<a href="#I-D.ietf-ippm-capacity-metric-method" class="xref">I-D.ietf-ippm-capacity-metric-method</a>]</span> where
      the method deploys a feedback channel from the receiver to control the
      sender's transmission rate in near-real-time.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Although there are several test protocol already available for
      support and manage active measurements, this protocol is a major
      departure from their operation:<a href="#section-1-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1-5">
<li id="section-1-5.1">UDP transport is used for all setup, test activation, and control
          messages, and for results feedback (not TCP), simplifying
          operations.<a href="#section-1-5.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-5.2">TWAMP <span>[<a href="#RFC5357" class="xref">RFC5357</a>]</span> and STAMP <span>[<a href="#RFC8762" class="xref">RFC8762</a>]</span>
          use the philosophy that one host is a Session-Reflector, sending
          test packets every time they receive a test packet. This protocol
          supports a one-way test with periodic status messages returned to
          the sender. These messages are also a basis for on-path Round-trip
          delay measurements, which are a key input to the load adjustment
          search algorithm.<a href="#section-1-5.2" class="pilcrow">¶</a>
</li>
        <li id="section-1-5.3">OWAMP <span>[<a href="#RFC4656" class="xref">RFC4656</a>]</span> supports one-way testing with
          results Fetch at the end of the test session. This protocol supports
          a one-way test and requires periodic status messages returned to the
          sender to support the load adjustment search algorithm.<a href="#section-1-5.3" class="pilcrow">¶</a>
</li>
        <li id="section-1-5.4">The security features of OWAMP <span>[<a href="#RFC4656" class="xref">RFC4656</a>]</span> and TWAMP
          <span>[<a href="#RFC5357" class="xref">RFC5357</a>]</span> have been described as "unusual", to the
          point that IESG approved their use while also asking that these
          methods not be used again. Further, the common OWAMP <span>[<a href="#RFC4656" class="xref">RFC4656</a>]</span> and TWAMP <span>[<a href="#RFC5357" class="xref">RFC5357</a>]</span> approach to
          security is over 15 years old at this time.<a href="#section-1-5.4" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-1-6">Note: the -02 update of this draft will be the last that describes
      version 8 of the protocol in the running code. Future updates of the
      draft will correspond to protocol version 9 and higher versions.<a href="#section-1-6" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
        "OPTIONAL" in this document are to be interpreted as described in BCP
        14<span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only
        when, they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-2">
      <h2 id="name-scope-goals-and-applicabili">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-scope-goals-and-applicabili" class="section-name selfRef">Scope, Goals, and Applicability</a>
      </h2>
<p id="section-2-1">The scope of this memo is to define a protocol to measure the Maximum
      IP-Layer Capacity metric and according to the standardized method.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">The continued goal is to harmonize the specified metric and method
      across the industry, and this protocol supports the specifications of
      IETF and other Standards Development Organizations.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">All active testing protocols currently defined by the IPPM WG are
      UDP-based, but this protocol specifies both control and test protocols
      using UDP transport. Also, the control protocol continues operating
      during testing to convey results and dynamic configurations.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">The primary application of the protocol described here is the same as
      in Section 2 of <span>[<a href="#RFC7497" class="xref">RFC7497</a>]</span> where:<a href="#section-2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-5.1">The access portion of the network is the focus of this problem
          statement. The user typically subscribes to a service with
          bidirectional access partly described by rates in bits per
          second.<a href="#section-2-5.1" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<section id="section-3">
      <h2 id="name-protocol-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-protocol-overview" class="section-name selfRef">Protocol Overview</a>
      </h2>
<p id="section-3-1">This section gives an informative overview of the communication
      protocol between two test end-points (without expressing requirements:
      later sections provide details and requirements).<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">One end-point takes the role of server, awaiting connection requests
      on a well-known port from the other end-point, the client.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The client requires configuration of a test direction parameter
      (upstream or downstream test) as well as the hostname or IP address of
      the server in order to begin the setup and configuration exchanges with
      the server.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">The protocol uses UDP transport and has four phases:<a href="#section-3-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-5">
<li id="section-3-5.1">Setup Request and Response Exchange: The client requests to begin
          a test by communicating its protocol version, intended security
          mode, and jumbo datagram support. The server either confirms
          matching configuration or rejects the connection. The server also
          communicates the ephemeral port for further communication when
          accepting the client's request.<a href="#section-3-5.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-5.2">Test Activation Request and Response: the client composes a
          request conveying parameters such as the testing direction, the
          duration of the test interval and test sub-intervals, and various
          thresholds. The server then chooses to accept, ignore or modify any
          of the test parameters, and communicates the set that will be used
          unless the client rejects the modifications. Note that the client
          assumes that the Test Activation exchange has opened any co-located
          firewalls and network address/port translators for the test
          connection (in response to the Request packet on the ephemeral port)
          and the traffic that follows. If the Test Activation is rejected or
          fails, the client assumes that the firewall will close the
          address/port combination after the firewall's configured idle
          traffic time-out.<a href="#section-3-5.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-5.3">Test Stream Transmission and Measurement Feedback Messages:
          Testing proceeds with one end-point sending load PDUs and the other
          end-point receiving the load PDUs and sending frequent status
          messages to communicate status and transmission conditions there.
          The feedback messsages are input to a load-control algorithm at the
          server, which controls future sending rates at either end-point as
          needed. The choice to locate the load-control algorithm at the
          server, regardlesss of transmiision direction, means that the
          algorithm can be updated more easily at a host within the network,
          and at a fewer number of hosts than the number of clients.<a href="#section-3-5.3" class="pilcrow">¶</a>
</li>
        <li id="section-3-5.4">Stopping the Test: The server initiates the phase to stop the
          test by setting the STOP1 indication in load PDUs or sstatus
          feedback messages. The client acknowledges by setting the STOP2 in
          further load PDUs or messages, and a graceful connection termination
          at each end-point follows. (Since the load PDUs and feedback
          messages are used, this phase is kind of a sub-phase of 3.) If the
          Test traffic stops or the communication path fails, the client
          assumes that the firewall will close the address/port combination
          after the firewall's configured idle traffic time-out.<a href="#section-3-5.4" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-3-6"></p>
</section>
<section id="section-4">
      <h2 id="name-general-parameters-and-defi">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-general-parameters-and-defi" class="section-name selfRef">General Parameters and Definitions</a>
      </h2>
<p id="section-4-1">This section lists the REQUIRED input factors to specify a Sender or
      Receiver metric.<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">Src, the address of a host (such as the globally routable IP
          address).<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.2">Dst, the address of a host (such as the globally routable IP
          address).<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.3">MaxHops, the limit on the number of Hops a specific packet may
          visit as it traverses from the host at Src to the host at Dst
          (implemented in the TTL or Hop Limit).<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.4">T0, the time at the start of measurement interval, when packets
          are first transmitted from the Source.<a href="#section-4-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.5">I, the nominal duration of a measurement interval at the
          destination (default 10 sec)<a href="#section-4-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.6">dt, the nominal duration of m equal sub-intervals in I at the
          destination (default 1 sec)<a href="#section-4-2.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.7">dtn, the beginning boundary of a specific sub-interval, n, one of
          m sub-intervals in I<a href="#section-4-2.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.8">FT, the feedback time interval between status feedback messages
          communicating measurement results, sent from the receiver to control
          the sender. The results are evaluated to determine how to adjust the
          current offered load rate at the sender (default 50ms)<a href="#section-4-2.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.9">Tmax, a maximum waiting time for test packets to arrive at the
          destination, set sufficiently long to disambiguate packets with long
          delays from packets that are discarded (lost), such that the
          distribution of one-way delay is not truncated.<a href="#section-4-2.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.10">F, the number of different flows synthesized by the method
          (default 1 flow)<a href="#section-4-2.10" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.11">flow, the stream of packets with the same n-tuple of designated
          header fields that (when held constant) result in identical
          treatment in a multi-path decision (such as the decision taken in
          load balancing). Note: The IPv6 flow label MAY be included in the
          flow definition when routers have complied with <span>[<a href="#RFC6438" class="xref">RFC6438</a>]</span> guidelines.<a href="#section-4-2.11" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.12">Type-P, the complete description of the test packets for which
          this assessment applies (including the flow-defining fields). Note
          that the UDP transport layer is one requirement for test packets
          specified below. Type-P is a parallel concept to "population of
          interest" defined in clause 6.1.1 of<span>[<a href="#Y.1540" class="xref">Y.1540</a>]</span>.<a href="#section-4-2.12" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.13">PM, a list of fundamental metrics, such as loss, delay, and
          reordering, and corresponding target performance threshold. At least
          one fundamental metric and target performance threshold MUST be
          supplied (such as One-way IP Packet Loss <span>[<a href="#RFC7680" class="xref">RFC7680</a>]</span>
          equal to zero).<a href="#section-4-2.13" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-3">A non-Parameter which is required for several metrics is
      defined below:<a href="#section-4-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-4.1">T, the host time of the *first* test packet's *arrival* as
          measured at the destination Measurement Point, or MP(Dst). There may
          be other packets sent between source and destination hosts that are
          excluded, so this is the time of arrival of the first packet used
          for measurement of the metric.<a href="#section-4-4.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-5">Note that time stamp format and resolution, sequence numbers,
      etc. will be established by this memo.<a href="#section-4-5" class="pilcrow">¶</a></p>
</section>
<section id="section-5">
      <h2 id="name-setup-request-and-response-">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-setup-request-and-response-" class="section-name selfRef">Setup Request and Response Exchange</a>
      </h2>
<p id="section-5-1">All messages defined in this section SHALL use UDP transport. The
      hosts SHALL calculate and include the UDP checksum, or check the UDP
      checksum as neccessary.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">The client SHALL begin the Control protocol connection by sending a
      Setup Request message to the server's control port.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">The client SHALL simultaneously start a test initiation timer so that
      if the control protocol fails to complete all exchanges in the allocated
      time, the client software SHALL exit (close the UDP socket and indicate
      an error message to the user).<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">(Note: in version 8, the watchdog time-out is configured, in udpst.h,
      as #define WARNING_NOTRAFFIC 1 // Receive traffic stopped warning
      threshold (sec) #define TIMEOUT_NOTRAFFIC (WARNING_NOTRAFFIC + 4) or 5
      seconds)<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">The Setup Request message PDU SHALL be organized as follows:<a href="#section-5-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-6">
<pre>        uint16_t controlId;   // Control ID = 0xACE1
        uint16_t protocolVer; // Protocol version = 0x08
        uint8_t cmdRequest;   // Command request = 1 (request)
        uint8_t cmdResponse;  // Command response = 0
        uint16_t reserved1;   // Reserved (alignment)
        uint16_t testPort;    // Test port on server  (=0 for Request)
        uint8_t jumboStatus;  // Jumbo datagram support status (BOOL)
        uint8_t authMode;     // Authentication mode
        uint32_t authUnixTime;// Authentication time stamp
        unsigned char authDigest[AUTH_DIGEST_LENGTH] // SHA256_DIGEST_LENGTH = 32 oct

</pre><a href="#section-5-6" class="pilcrow">¶</a>
</div>
<p id="section-5-7">The UDP PDU format layout SHALL be as follows (big-endian
      AB):<a href="#section-5-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-8">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          controlId            |          protocolVer          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  cmdRequest   | cmdResponse   |           reserved1           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           testPort            |  jumboStatus  |   authMode    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         authUnixTime                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   |                                                               |
   |                                                               |
   |                                                               |
   |          authDigest[AUTH_DIGEST_LENGTH](256 bits)             |
   |                                                               |
   |                                                               |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><a href="#section-5-8" class="pilcrow">¶</a>
</div>
<p id="section-5-9">When the server receives the Setup Request it SHALL validate the
      request by checking the protocol version, the jumbo datagram support
      indicator, and the authentication data if utilized. If the client has
      selected options for:<a href="#section-5-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-10.1">Jumbo datagram support status (BOOL),<a href="#section-5-10.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-10.2">Authentication mode, and<a href="#section-5-10.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-10.3">Authentication time stamp<a href="#section-5-10.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-11">that do not match the server configuration, the server MUST reject
      the Setup Request.<a href="#section-5-11" class="pilcrow">¶</a></p>
<p id="section-5-12">(Note: in version 8, the watchdog time is configured, in udpst.h, as
      #define WARNING_NOTRAFFIC 1 // Receive traffic stopped warning threshold
      (sec) #define TIMEOUT_NOTRAFFIC (WARNING_NOTRAFFIC + 4) or 5
      seconds)<a href="#section-5-12" class="pilcrow">¶</a></p>
<p id="section-5-13">If the Setup Request must be rejected (due to any of the reasons in
      the Command response codes listed below), a Setup Response SHALL be sent
      back to the client with a corresponding command response value
      indicating the reason for the rejection.<a href="#section-5-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-14">
<pre>        uint16_t controlId;   // Control ID = 0xACE1
        uint16_t protocolVer; // Protocol version = 0x08
        uint8_t cmdRequest;   // Command request = 2 (reply)
        uint8_t cmdResponse;  // Command response = &lt;see table below&gt;
        uint16_t reserved1;   // Reserved (alignment)
        uint16_t testPort;    // Test port on server  (available port in Response)
        uint8_t jumboStatus;  // Jumbo datagram support status (BOOL)
        uint8_t authMode;     // Authentication mode
        uint32_t authUnixTime;// Authentication time stamp
        unsigned char authDigest[AUTH_DIGEST_LENGTH] // 32 octets, MBZ

Command Response Codes
Control Header Setup Request Code CHSR_CRSP_NONE     0 = None
Control Header Setup Request Code CHSR_CRSP_ACKOK    1 = Acknowledgement
Control Header Setup Request Code CHSR_CRSP_BADVER   2 = Bad Protocol Version
Control Header Setup Request Code CHSR_CRSP_BADJS    3 = Invalid Jumbo datagram option
Control Header Setup Request Code CHSR_CRSP_AUTHNC   4 = Unexpected Authentication in Setup Request
Control Header Setup Request Code CHSR_CRSP_AUTHREQ  5 = Authentication missing in Setup Request
Control Header Setup Request Code CHSR_CRSP_AUTHINV  6 = Invalid authentication method
Control Header Setup Request Code CHSR_CRSP_AUTHFAIL 7 = Authentication failure
Control Header Setup Request Code CHSR_CRSP_AUTHTIME 8 = Authentication time is invalid in Setup Request</pre><a href="#section-5-14" class="pilcrow">¶</a>
</div>
<p id="section-5-15">@@@@ To Do: How do we communicate multiple errors when the server
      sends the Setup Response? Is an error hierarchy possible, where Bad
      Protocol Version means that none of the other aspects (higher error
      numbers) were checked? New text to address this issue appears below:<a href="#section-5-15" class="pilcrow">¶</a></p>
<p id="section-5-16">There is a hierarchy of Command Response codes, beginning with: "2 =
      Bad Protocol Version", which SHALL be checked first because it is a
      fixed field length and the most reliable check. The server SHOULD
      communicate the first error condition detected in the order listed
      below:<a href="#section-5-16" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-17">
<pre>3 = Invalid Jumbo datagram option
5 = Authentication missing in Setup Request
4 = Unexpected Authentication in Setup Request
6 = Invalid authentication method (SHA-256 not used)
7 = Authentication failure (both shared secret and time)
8 = Authentication time is invalid in Setup Request (replay attack)</pre><a href="#section-5-17" class="pilcrow">¶</a>
</div>
<p id="section-5-18">The only circumstance when a server would not communicate the
      appropriate Command Response Code for an error condition above is when
      an attack has been detected, in which case the server will allow setup
      attempts with errors to terminate silently.<a href="#section-5-18" class="pilcrow">¶</a></p>
<p id="section-5-19">@@@@ Or, if multiple error codes are wanted, would a flag system work
      better? For an expanded field multiple error codes, we could use decimal
      values that set 1 bit in the cmdResponse (0,1,2,4,8,...) for each code,
      and expand the cmdResponse field to 16 bits by using the nearby reserved
      field as shown below (and moving the fields within the 32-bit word):<a href="#section-5-19" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-20">
<pre>0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          controlId            |          protocolVer          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  reserved1    |  cmdRequest   |          cmdResponse          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><a href="#section-5-20" class="pilcrow">¶</a>
</div>
<p id="section-5-21">@@@@ - end text for discussion -<a href="#section-5-21" class="pilcrow">¶</a></p>
<p id="section-5-22">If the server finds that the Setup Request matches its configuration
      and is otherwise acceptable, the server SHALL initiate a new connection
      for the client, using a new UDP socket allocated from the UDP ephemeral
      port range. Then, the server SHALL start a watchdog timer (to terminate
      the connection in case the client goes silent), and sends the Setup
      Response back to the client (see below for composition).<a href="#section-5-22" class="pilcrow">¶</a></p>
<p id="section-5-23">If the Setup Request is accepted by the server, a Setup Response
      SHALL be sent back to the client with a corresponding command response
      value indicating 1 = Acknowledgement.<a href="#section-5-23" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-24">
<pre>        uint16_t controlId;   // Control ID = 0xACE1
        uint16_t protocolVer; // Protocol version = 0x08
        uint8_t cmdRequest;   // Command request = 2 (reply)
        uint8_t cmdResponse;  // Command response = 1 (Acknowledgement)
        uint16_t reserved1;   // Reserved (alignment)
        uint16_t testPort;    // Test port on server  (available port in Response)
        uint8_t jumboStatus;  // Jumbo datagram support status (BOOL)
        uint8_t authMode;     // Authentication mode
        uint32_t authUnixTime;// Authentication time stamp
        unsigned char authDigest[AUTH_DIGEST_LENGTH] // 32 octets, MBZ
        ...</pre><a href="#section-5-24" class="pilcrow">¶</a>
</div>
<p id="section-5-25">The new connection is associated with a new UDP socket allocated from
      the UDP ephemeral port range at the server. The server SHALL set a timer
      for the new connection as a watchdog (in case the client goes quiet) and
      send the Setup response back to the client.<a href="#section-5-25" class="pilcrow">¶</a></p>
<p id="section-5-26">(Note: in version 8, the watchdog time-out is configured at 5
      seconds)<a href="#section-5-26" class="pilcrow">¶</a></p>
<p id="section-5-27">The Setup Response SHALL include the port number at the server for
      the new socket, and this UDP port-pair SHALL be used for all subsequent
      communication. The server SHALL also include the values of:<a href="#section-5-27" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-28.1">Jumbo datagram support status (BOOL),<a href="#section-5-28.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-28.2">Authentication mode, and<a href="#section-5-28.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-28.3">Authentication time stamp<a href="#section-5-28.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-29">for the client's use on the new connection in its Setup Response, and
      the remaining 32 octets MUST Be Zero (MBZ).<a href="#section-5-29" class="pilcrow">¶</a></p>
<p id="section-5-30">Finally, the new UDP connection associated with the new socket and
      port number is opened, and the server awaits communication there.<a href="#section-5-30" class="pilcrow">¶</a></p>
<p id="section-5-31">If a Test Activation request is not subsequently received from the
      client on this new port number before the watchdog timer expires, the
      server SHALL close the socket and deallocate the port.<a href="#section-5-31" class="pilcrow">¶</a></p>
<p id="section-5-32"></p>
<section id="section-5.1">
        <h3 id="name-setup-response-processing-a">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-setup-response-processing-a" class="section-name selfRef">Setup Response Processing at the Client</a>
        </h3>
<p id="section-5.1-1">When the client receives the Setup response from the server it
        first checks the cmdResponse value. If this value indicates an error
        the client SHALL display/report a relevant message to the user or
        management process and exit. If the client receives a Command Response
        code (CRSP) that is not equal to one of the codes defined above, then
        the client MUST terminate the connection and terminate operation of
        the current Setup Request. If the Command Response code (CRSP) value
        indicates success the client SHALL compose a Test Activation Request
        with all the test parameters it desires such as the test direction,
        the test duration, etc.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-6">
      <h2 id="name-test-activation-request-and">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-test-activation-request-and" class="section-name selfRef">Test Activation Request and Response</a>
      </h2>
<p id="section-6-1">This section is divided according to the sending and processing of
      the client, server, and again at the client.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">All messages defined in this section SHALL use UDP transport. The
      hosts SHALL calculate and include the UDP checksum, or check the UDP
      checksum as neccessary.<a href="#section-6-2" class="pilcrow">¶</a></p>
<section id="section-6.1">
        <h3 id="name-test-activation-request-at-">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-test-activation-request-at-" class="section-name selfRef">Test Activation Request at the client</a>
        </h3>
<p id="section-6.1-1">Upon a successful setup, the client SHALL then send the Test
        Activation Request to the UDP port number the server communicated in
        the Setup Response.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">@@@@ To Do: Add Options for UDP payload content (beyond the Test
        PDU), such as all zeroes, all ones, alternating one and zero, and
        pseudo-random.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">The client SHALL compose Test Activation Request as follows:<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1-4">
<pre>        uint16_t controlId;   // Control ID
        uint16_t protocolVer; // Protocol version
        uint8_t cmdRequest; // Command request, 1 = upstream, 2 = downstream
        uint8_t cmdResponse;         // Command response (set to 0)
        uint16_t lowThresh;          // Low delay variation threshold
        uint16_t upperThresh;        // Upper delay variation threshold
        uint16_t trialInt;           // Status feedback/trial interval (ms)
        uint16_t testIntTime;        // Test interval time (sec)
        uint8_t subIntPeriod;        // Sub-interval period (sec)
        uint8_t ipTosByte;           // IP ToS byte for testing
        uint16_t srIndexConf;        // Configured sending rate index (see Note below)
        uint8_t useOwDelVar;         // Use one-way delay instead of RTT
        uint8_t highSpeedDelta;      // High-speed row adjustment delta
        uint16_t slowAdjThresh;      // Slow rate adjustment threshold
        uint16_t seqErrThresh;       // Sequence error threshold
        uint8_t ignoreOooDup;        // Ignore Out-of-Order/Duplicate datagrams
        uint8_t reserved1;           // (Alignment)
        uint16_t reserved2;          // (Alignment)

Control Header Test Activation Command Request Values:
CHTA_CREQ_NONE      0 = No Request
CHTA_CREQ_TESTACTUS 1 = Request test in Upstream direction (client to server, client takes the role of sending test packets)
CHTA_CREQ_TESTACTDS 2 = Request test in Downstream direction (server to client, client takes the role of receiving test packets)

Control Header Test Activation Command Response Values:
CHTA_CRSP_NONE     0 = Used by client when making a Request
CHTA_CRSP_ACKOK    1 = Used by Server in affirmative Response
CHTA_CRSP_BADPARAM 2 = Used by Server to indicate an error; bad parameter; reject;
</pre><a href="#section-6.1-4" class="pilcrow">¶</a>
</div>
<p id="section-6.1-5">Note: uint16_t srIndexConf is the table index of the configured
        *fixed* sending rate index to use. The client can request the
        specified rate, or the server can use this field to coerce a maximum
        rate in its response. If the server sets to 0 in its response, client
        SHALL not use fixed rate.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
<p id="section-6.1-6">The UDP PDU format of the Test Activation Request is as follows
        (big-endian AB):<a href="#section-6.1-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1-7">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          controlId            |          protocolVer          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  cmdRequest   | cmdResponse   |           lowThresh           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         upperThresh           |           trialInt            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         testIntTime           | subIntPeriod  |  ipTosByte    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         srIndexConf           |  useOwDelVar  |highSpeedDelta |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         slowAdjThresh         |         seqErrThresh          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | ignoreOooDup  | reserved1     |           reserved2           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
Note: This is only 28 octets of the 56 octet PDU sent, the rest are MBZ
for a Test Activation Request.</pre><a href="#section-6.1-7" class="pilcrow">¶</a>
</div>
<p id="section-6.1-8">The client SHALL use the configuration for<a href="#section-6.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-9.1">Jumbo datagram support status (BOOL),<a href="#section-6.1-9.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.1-9.2">Authentication mode, and<a href="#section-6.1-9.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.1-9.3">Authentication time stamp<a href="#section-6.1-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.1-10">requested and confirmed by the server.<a href="#section-6.1-10" class="pilcrow">¶</a></p>
<p id="section-6.1-11"></p>
</section>
<section id="section-6.2">
        <h3 id="name-test-activation-request-ser">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-test-activation-request-ser" class="section-name selfRef">Test Activation Request - server response</a>
        </h3>
<p id="section-6.2-1">After the server receives the Test Activation request on the new
        connection, it MUST choose to accept, ignore or modify any of the test
        parameters.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">When the server sends the Test Activation response back, it SHALL
        set the cmd Response field to:<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">uint8_t cmdResponse;// Command response (set to 1, ACK, or 2
        error)<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2-4">The server SHALL include all the test parameters again to make the
        client aware of any changes.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
<p id="section-6.2-5">If the client has requested an upstream test, the server SHALL
        include the transmission parameters from the first row of the sending
        rate table.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
<p id="section-6.2-6">The remaining 28 octets of the Test Activation Request (normally
        read from the first row of the sending rate table) are called the
        Sending Rate Structure, and SHALL be organized as follows:<a href="#section-6.2-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2-7">
<pre>        uint32_t txInterval1; // Transmit interval (us)
        uint32_t udpPayload1; // UDP payload (bytes)
        uint32_t burstSize1;  // UDP burst size per interval
        uint32_t txInterval2; // Transmit interval (us)
        uint32_t udpPayload2; // UDP payload (bytes)
        uint32_t burstSize2;  // UDP burst size per interval
        uint32_t udpAddon2;   // UDP add-on (bytes)</pre><a href="#section-6.2-7" class="pilcrow">¶</a>
</div>
<p id="section-6.2-8">with<a href="#section-6.2-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2-9">
<pre>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          txInterval1                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          udpPayload1                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          burstSize1                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          txInterval2                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          udpPayload2                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          burstSize2                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          udpAdddon2                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><a href="#section-6.2-9" class="pilcrow">¶</a>
</div>
<p id="section-6.2-10">Note that the server additionally has the option of completely
        rejecting the request and sending back an appropriate command response
        value:<a href="#section-6.2-10" class="pilcrow">¶</a></p>
<p id="section-6.2-11">uint8_t cmdResponse; // Command response (set to 2, error)<a href="#section-6.2-11" class="pilcrow">¶</a></p>
<p id="section-6.2-12">If activation continues, the new connection is prepared for an
        upstream OR downstream test.<a href="#section-6.2-12" class="pilcrow">¶</a></p>
<p id="section-6.2-13">In the case of a downstream test, the server prepares to send with
        either a single timer to send status PDUs at the specified interval OR
        dual timers to send load PDUs based on the first row of the sending
        rate table.<a href="#section-6.2-13" class="pilcrow">¶</a></p>
<p id="section-6.2-14">The server SHALL then send a Test Activation response back to the
        client, update the watchdog timer with a new time-out value, and set a
        test duration timer to eventually stop the test.<a href="#section-6.2-14" class="pilcrow">¶</a></p>
<p id="section-6.2-15">The new connection is now ready for testing.<a href="#section-6.2-15" class="pilcrow">¶</a></p>
</section>
<section id="section-6.3">
        <h3 id="name-test-activation-response-ac">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-test-activation-response-ac" class="section-name selfRef">Test Activation Response action at the client</a>
        </h3>
<p id="section-6.3-1">When the client receives the Test Activation response, it first
        checks the command response value.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">If the client receives a Test Activation command response value
        that indicates an error, the client SHALL display/report a relevant
        message to the user or management process and exit.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3-3">If the client receives a Test Activation command response value
        that is not equal to one of the codes defined above, then the client
        MUST terminate the connection and terminate operation of the current
        Setup Request.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<p id="section-6.3-4">If the client receives a Test Activation command response value
        that indicates success (CHTA_CRSP_ACKOK) the client SHALL update its
        configuration to use any test parameters modified by the server.<a href="#section-6.3-4" class="pilcrow">¶</a></p>
<p id="section-6.3-5">Next, the client SHALL prepare its connection for either an
        upstream test with dual timers set to send load PDUs (based on the
        starting transmission parameters sent by the server), OR a downstream
        test with a single timer to send status PDUs at the specified
        interval.<a href="#section-6.3-5" class="pilcrow">¶</a></p>
<p id="section-6.3-6">Then, the client SHALL stop the test initiation timer, set a new
        time-out value for the watchdog timer, and start the timer (in case
        the server goes quiet).<a href="#section-6.3-6" class="pilcrow">¶</a></p>
<p id="section-6.3-7">The connection is now ready for testing.<a href="#section-6.3-7" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-7">
      <h2 id="name-test-stream-transmission-an">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-test-stream-transmission-an" class="section-name selfRef">Test Stream Transmission and Measurement Feedback Messages</a>
      </h2>
<p id="section-7-1">This section describes the testing phase of the protocol. The roles
      of sender and receiver vary depending whether the direction of testing
      is from server to client, or the reverse.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">All messages defined in this section SHALL use UDP transport. The
      hosts SHALL calculate and include the UDP checksum, or check the
      received UDP checksum before further processing, as neccessary.<a href="#section-7-2" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-test-packet-pdu-and-roles">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-test-packet-pdu-and-roles" class="section-name selfRef">Test Packet PDU and Roles</a>
        </h3>
<p id="section-7.1-1">Testing proceeds with one end point sending load PDUs, based on
        transmission parameters from the sending rate table, and the other end
        point receiving the load PDUs and sending status messages to
        communicate the traffic conditions at the receiver.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">The watchdog timer at the receiver SHALL be reset each time a test
        PDU is received. See non-graceful test stop in Section 8 for handling
        the watchdog/NOTRAFFIC time-out expiration at each end-point.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">When the server is sending Load PDUs in the role of sender, it
        SHALL use the transmission parameters directly from the sending rate
        table via the index that is currently selected (which was based on the
        feedback in its received status messages).<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1-4">However, when the client is sending load PDUs in the role of
        sender, it SHALL use the discreet transmission parameters that were
        communicated by the server in its periodic status messages (and not
        referencing a sending rate table). This approach allows the server to
        control the individual sending rates as well as the algorithm used to
        decide when and how to adjust the rate.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
<p id="section-7.1-5">The server uses a load adjustment algorithm which evaluates
        measurements, either it's own or the contents of received feedback
        messages. This algorithm is unique to udpst; it provides the ability
        to search for the Maximum IP Capacity that is absent from other
        testing tools. Although the algorithm depends on the protocol, it is
        not part of the protocol per se.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<p id="section-7.1-6">The current algorithm has three paths to its decision on the next
        sending rate:<a href="#section-7.1-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-7.1-7">
<li id="section-7.1-7.1">When there are no impairments present (no sequence errors, low
            delay variation), resulting in sending rate increase.<a href="#section-7.1-7.1" class="pilcrow">¶</a>
</li>
          <li id="section-7.1-7.2">When there are low impairments present (no sequence errors but
            higher levels of delay variation), so the same sending rate is
            retained.<a href="#section-7.1-7.2" class="pilcrow">¶</a>
</li>
          <li id="section-7.1-7.3">When the impairment levels are above the thresholds set for
            this purpose and "congestion" is inferred, resulting in sending
            rate decrease.<a href="#section-7.1-7.3" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-7.1-8">The algorithm also has two modes for increasing/decreasing the
        sending rate:<a href="#section-7.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-9.1">A high-speed mode to achieve high sending rates quickly, but
            also back-off quickly when "congestion" is inferred from the
            measurements. Any two consecutive feedback intervals that have a
            sequence number anomaly and/or contain an upper delay variation
            threshold exception in both of the two consecutive intervals,
            count as the two consecutive feedback measurements required to
            declare "congestion" within a test.<a href="#section-7.1-9.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-9.2">A single-step mode where all rate adjustments use the minimum
            increase or decrease of one step in the sending rate table. The
            single step mode continues after the first inference of
            "congestion" from measured impairments.<a href="#section-7.1-9.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.1-10">On the other hand, the test configuration MAY use a fixed sending
        rate requested by the client, using the field below:<a href="#section-7.1-10" class="pilcrow">¶</a></p>
<p id="section-7.1-11">uint16_t srIndexConf; // Configured sending rate index<a href="#section-7.1-11" class="pilcrow">¶</a></p>
<p id="section-7.1-12">The client MAY communicate the desired fixed rate in it's
        activation request.<a href="#section-7.1-12" class="pilcrow">¶</a></p>
<p id="section-7.1-13">The Load PDU SHALL have the following format and field
        definitions:<a href="#section-7.1-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.1-14">
<pre>        uint16_t loadId; // Load ID (=0xBEEF for the LOad PDU)
        uint8_t testAction;  // Test action (= 0x00 normally, until test stop)
        uint8_t rxStopped;   // Receive traffic stopped indicator (BOOL)
        uint32_t lpduSeqNo;  // Load PDU sequence number (starts at 1)
        uint16_t udpPayload; // UDP payload LENGTH(bytes)
        uint16_t spduSeqErr; // Status PDU sequence error count
        //
        uint32_t spduTime_sec;  // Send time in last received status PDU
        uint32_t spduTime_nsec; // Send time in last received status PDU
        uint32_t lpduTime_sec;  // Send time of this load PDU
        uint32_t lpduTime_nsec; // Send time of this load PDU

Test Action Codes
TEST_ACT_TEST  0  // normal
TEST_ACT_STOP1 1  // normal stop at end of test: server sends in STATUS or Test PDU
TEST_ACT_STOP2 2  // ACK of STOP1: sent by client in STATUS or Test PDU
</pre><a href="#section-7.1-14" class="pilcrow">¶</a>
</div>
<p id="section-7.1-15">The Test Load UDP PDU format is as follows (big-endian
        AB):<a href="#section-7.1-15" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.1-16">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           loadId              |   testAction  | rxStopped     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           lpduSeqNo                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           udpPayload          |           spduSeqErr          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          spduTime_sec                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         spduTime_nsec                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          lpduTime_sec                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         lpduTime_nsec                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   .                    MBZ = udpPayload - 28 octets               .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   .                                                               .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   .                                                               .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   .                                                               .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   .                                                               .</pre><a href="#section-7.1-16" class="pilcrow">¶</a>
</div>
<p id="section-7.1-17"></p>
</section>
<section id="section-7.2">
        <h3 id="name-status-pdu">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-status-pdu" class="section-name selfRef">Status PDU</a>
        </h3>
<p id="section-7.2-1">The receiver SHALL send a Status PDU to the sender during a test at
        the configured feedback interval.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">The watchdog timer at the test PDU sender SHALL be reset each time
        a Status PDU is received. See non-graceful test stop in Section 8 for
        handling the watchdog/NOTRAFFIC time-out expiration at each end-point.<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2-3">@@@@ To Do: What protections from bit errors (checksum) or on-path
        attacks (something stronger) are warrented for teh Status PDUs? These
        PDUs are a key part of the server-client control loop. Added a
        requirement to calculate and include/check the UDP checksum.<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<p id="section-7.2-4">The Status Header PDU SHALL have the following format and field
        definitions:<a href="#section-7.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2-5">
<pre>// Status feedback header for UDP payload of status PDUs
//

        uint16_t statusId;  // Status ID = 0xFEED
        uint8_t testAction; // Test action
        uint8_t rxStopped;  // Receive traffic stopped indicator (BOOL)
        uint32_t spduSeqNo; // Status PDU sequence number (starts at 1)
        //
        struct sendingRate srStruct; // Sending Rate Structure (28 octets)
        //
        uint32_t subIntSeqNo;      // Sub-interval sequence number
        struct subIntStats sisSav; // Sub-interval Saved Stats Structure  (52 octets)
        //
        uint32_t seqErrLoss; // Loss sum
        uint32_t seqErrOoo;  // Out-of-Order sum
        uint32_t seqErrDup;  // Duplicate sum
        //
        uint32_t clockDeltaMin; // Clock delta minimum (either RTT or 1-way delay)
        uint32_t delayVarMin;   // Delay variation minimum
        uint32_t delayVarMax;   // Delay variation maximum
        uint32_t delayVarSum;   // Delay variation sum
        uint32_t delayVarCnt;   // Delay variation count
        uint32_t rttMinimum;    // Minimum round-trip time sampled
        uint32_t rttSample;     // Last round-trip time sample
        uint8_t delayMinUpd;    // Delay minimum(s) updated observed, communicated in both directions.
        uint8_t reserved2;      // (alignment)
        uint16_t reserved3;     // (alignment)
        //
        uint32_t tiDeltaTime;   // Trial interval delta time
        uint32_t tiRxDatagrams; // Trial interval receive datagrams
        uint32_t tiRxBytes;     // Trial interval receive bytes
        //
        uint32_t spduTime_sec;  // Send time of this status PDU
        uint32_t spduTime_nsec; // Send time of this status PDU
</pre><a href="#section-7.2-5" class="pilcrow">¶</a>
</div>
<p id="section-7.2-6">The Status feedback UDP payload PDUs format is as follows
        (big-endian AB):<a href="#section-7.2-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2-7">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          statusId             |   testAction  | rxStopped     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           spduSeqNo                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   .               Sending Rate Structure (28 octets)              .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          subIntSeqNo                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   .        Sub-interval Saved Stats Structure  (52 octets)        .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           seqErrLoss                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           seqErrOoo                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           seqErrDup                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         clockDeltaMin                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarMin                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarMax                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarSum                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarCnt                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          rttMinimum                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           rttSample                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  delayMinUpd  |   reserved2   |           reserved3           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          tiDeltaTime                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         tiRxDatagrams                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           tiRxBytes                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         spduTime_sec                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         spduTime_nsec                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-7.2-7" class="pilcrow">¶</a>
</div>
<p id="section-7.2-8">Note that the Sending Rate Structure (28 octets) is defined in the
        Test Activation section.<a href="#section-7.2-8" class="pilcrow">¶</a></p>
<p id="section-7.2-9">Also note that the Sub-interval Saved Stats Structure (52 octets)
        SHALL be included (and populated as required when the server is in the
        receiver role) as defined below.<a href="#section-7.2-9" class="pilcrow">¶</a></p>
<p id="section-7.2-10">The Sub-interval saved statistics structure for received traffic
        measurements SHALL be organized and formatted as follows:<a href="#section-7.2-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2-11">
<pre>        uint32_t rxDatagrams; // Received datagrams
        uint32_t rxBytes;     // Received bytes
        uint32_t deltaTime;   // Time delta
        uint32_t seqErrLoss;  // Loss sum
        uint32_t seqErrOoo;   // Out-of-Order sum
        uint32_t seqErrDup;   // Duplicate sum
        uint32_t delayVarMin; // Delay variation minimum
        uint32_t delayVarMax; // Delay variation maximum
        uint32_t delayVarSum; // Delay variation sum
        uint32_t delayVarCnt; // Delay variation count
        uint32_t rttMinimum;  // Minimum round-trip time
        uint32_t rttMaximum;  // Maximum round-trip time
        uint32_t accumTime;   // Accumulated time
----------------------------------------------------------------------------

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          rxDatagrams                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                            rxBytes                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           deltaTime                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           seqErrLoss                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           seqErrOoo                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           seqErrDup                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarMin                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarMax                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarSum                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          delayVarCnt                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          rttMinimum                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          rttMaximum                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           accumTime                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-7.2-11" class="pilcrow">¶</a>
</div>
<p id="section-7.2-12">Note that the 52 octet saved statistics structure above has slight
        differences from the 40 octets that follow in the status feedback PDU,
        particularly the time-related fields.<a href="#section-7.2-12" class="pilcrow">¶</a></p>
<p id="section-7.2-13">Upon receiving the Status Feedback PDU or expiration of the
        feedback interval, the server SHALL perform calculations required by
        the Load adjustment algorithm and adjust its sending rate, or signal
        that the client do so in its role as as sender.<a href="#section-7.2-13" class="pilcrow">¶</a></p>
<p id="section-7.2-14">@@@@ To Do: Additional measurements, like interface byte counters
        from a client at a residential gateway, would change the Status
        Feedback PDU (and the protocol version number as a result). Interface
        byte counters seem useful for specific circumstances, such as when the
        client application has acces to an interface that sees all traffic
        to/from a service subscriber's location.<a href="#section-7.2-14" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-8">
      <h2 id="name-stopping-the-test">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-stopping-the-test" class="section-name selfRef">Stopping the Test</a>
      </h2>
<p id="section-8-1">When the test duration timer on the server expires, it SHALL set the
      connection test action to STOP and also starts marking all outgoing load
      or status PDUs with a test action of STOP1.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">uint8_t testAction; // Test action (server sets STOP1)<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">This is simply a non-reversible state for all future messages sent
      from the server.<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">When the client receives a load or status PDU with the STOP1
      indication, it SHALL finalize testing, display the test results, and
      also mark its connection with a test action of STOP (so that any PDUs
      received subsequent to the STOP1 are ignored).<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">With the test action of the client's connection set to STOP, the very
      next expiry of a send timer for either a load or status PDU SHALL cause
      the client to schedule an immediate end time to exit.<a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">The client SHALL then send all subsequent load or status PDUs with a
      test action of STOP2<a href="#section-8-6" class="pilcrow">¶</a></p>
<p id="section-8-7">uint8_t testAction; // Test action (client sets STOP2)<a href="#section-8-7" class="pilcrow">¶</a></p>
<p id="section-8-8">as confirmation to the server, and a graceful termination of the test
      can begin.<a href="#section-8-8" class="pilcrow">¶</a></p>
<p id="section-8-9">When the server receives the STOP2 confirmation in the load or status
      PDU, the server SHALL schedule an immediate end time for the connection
      which closes the socket and deallocates it.<a href="#section-8-9" class="pilcrow">¶</a></p>
<p id="section-8-10">In a non-graceful test stop, the watchdog/NOTRAFFIC time-outs at each
      end-point will expire (sometimes at one end-point first), notifications
      in logs, STDOUT, and/or formateed output SHALL be made, and the test
      action of each end-point's connection SHALL be set to STOP.<a href="#section-8-10" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-method-of-measurement">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-method-of-measurement" class="section-name selfRef">Method of Measurement</a>
      </h2>
<p id="section-9-1">The architecture of the method REQUIRES two cooperating hosts
      operating in the roles of Src (test packet sender) and Dst (receiver),
      with a measured path and return path between them.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">The duration of a test duration, parameter I, MUST be constrained in
      a production network, since this is an active test method and it will
      likely cause congestion on the Src to Dst host path during a test.<a href="#section-9-2" class="pilcrow">¶</a></p>
<section id="section-9.1">
        <h3 id="name-running-code">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-running-code" class="section-name selfRef">Running Code</a>
        </h3>
<p id="section-9.1-1">This section is for the benefit of the Document Shepherd's form,
        and will be deleted prior to final review.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">Much of the development of the method and comparisons with existing
        methods conducted at IETF Hackathons and elsewhere have been based on
        the example udpst Linux measurement tool (which is a working reference
        for further development) <span>[<a href="#udpst" class="xref">udpst</a>]</span>. The current
        project:<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-3.1">is a utility that can function as a client or server daemon<a href="#section-9.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.1-3.2">requires a successful client-initiated setup handshake between
            cooperating hosts and allows firewalls to control inbound
            unsolicited UDP which either go to a control port [expected and
            w/authentication] or to ephemeral ports that are only created as
            needed. Firewalls protecting each host can both continue to do
            their job normally. This aspect is similar to many other test
            utilities available.<a href="#section-9.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.1-3.3">is written in C, and built with gcc (release 9.3) and its
            standard run-time libraries<a href="#section-9.1-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.1-3.4">allows configuration of most of the parameters described in
            Sections 4 and 7.<a href="#section-9.1-3.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.1-3.5">supports IPv4 and IPv6 address families.<a href="#section-9.1-3.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.1-3.6">supports IP-layer packet marking.<a href="#section-9.1-3.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.1-4"></p>
</section>
</section>
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">Active metrics and measurements have a long history of security
      considerations. The security considerations that apply to any active
      measurement of live paths are relevant here. See <span>[<a href="#RFC4656" class="xref">RFC4656</a>]</span> and <span>[<a href="#RFC5357" class="xref">RFC5357</a>]</span>.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">When considering privacy of those involved in measurement or those
      whose traffic is measured, the sensitive information available to
      potential observers is greatly reduced when using active techniques
      which are within this scope of work. Passive observations of user
      traffic for measurement purposes raise many privacy issues. We refer the
      reader to the privacy considerations described in the Large Scale
      Measurement of Broadband Performance (LMAP) Framework <span>[<a href="#RFC7594" class="xref">RFC7594</a>]</span>, which covers active and passive techniques.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">There are some new considerations for Capacity measurement as
      described in this memo.<a href="#section-10-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-10-4">
<li id="section-10-4.1">Cooperating source and destination hosts and agreements to test
          the path between the hosts are REQUIRED. Hosts perform in either the
          Src or Dst roles.<a href="#section-10-4.1" class="pilcrow">¶</a>
</li>
        <li id="section-10-4.2">It is REQUIRED to have a user client-initiated setup handshake
          between cooperating hosts that allows firewalls to control inbound
          unsolicited UDP traffic which either goes to a control port
          [expected and w/authentication] or to ephemeral ports that are only
          created as needed. Firewalls protecting each host can both continue
          to do their job normally.<a href="#section-10-4.2" class="pilcrow">¶</a>
</li>
        <li id="section-10-4.3">
          <p id="section-10-4.3.1">Client-server authentication and integrity protection for
          feedback messages conveying measurements is RECOMMENDED. To
          accomodate different host limitations and testing circumstances,
          different modes of operation are recommended:<a href="#section-10-4.3.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10-4.3.2">
<pre> A. Unathenticated mode (for all phases)
AND
 B. OPTIONAL Authenticated set-up only
SHA-256 HMAC time-window verification (5 min time stamp verification)
(could add silent failure option)

     -=-=-=-=-=-=-=-=-=-

 C. Encrypted setup and test-activation
(currently using OpenSSL Library, so KISS, but may be too slow for
test packets)

     -=-=-=-=--=- Old/lowpower host performance impacts -=-=-=-=-=-=-

 D. Encrypted feedback messages (maybe split into Integrity and encrypt?)

 E. Integrity protection for test packets SHA-256 HMAC

 F. Encrypted test packets (maybe also valuable to defeat compression on links)


</pre><a href="#section-10-4.3.2" class="pilcrow">¶</a>
</div>
</li>
        <li id="section-10-4.4">Hosts MUST limit the number of simultaneous tests to avoid
          resource exhaustion and inaccurate results.<a href="#section-10-4.4" class="pilcrow">¶</a>
</li>
        <li id="section-10-4.5">Senders MUST be rate-limited. This can be accomplished using a
          pre-built table defining all the offered load rates that will be
          supported (Section 8.1). The recommended load-control search
          algorithm results in "ramp up" from the lowest rate in the
          table.<a href="#section-10-4.5" class="pilcrow">¶</a>
</li>
        <li id="section-10-4.6">Service subscribers with limited data volumes who conduct
          extensive capacity testing might experience the effects of Service
          Provider controls on their service. Testing with the Service
          Provider's measurement hosts SHOULD be limited in frequency and/or
          overall volume of test traffic (for example, the range of I duration
          values SHOULD be limited).<a href="#section-10-4.6" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-10-5">The exact specification of these features was hopefully accomplished
      during this protocol development.<a href="#section-10-5" class="pilcrow">¶</a></p>
</section>
<div id="IANA">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">This memo requests IANA to assign a UDP port.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-12">
      <h2 id="name-acknowledgments">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-12-1">Thanks to Ruediger Geib, Lincoln Lavoie, Can Desem, and Greg Mirsky
      for reviewing this draft and providing helpful suggestions and areas for
      further development.<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
<section id="section-13">
      <h2 id="name-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-ippm-capacity-metric-method">[I-D.ietf-ippm-capacity-metric-method]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Geib, R.</span>, and <span class="refAuthor">L. Ciavattone</span>, <span class="refTitle">"Metrics and Methods for One-way IP Capacity"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-capacity-metric-method-12</span>, <time datetime="2021-06-09" class="refDate">9 June 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-ippm-capacity-metric-method-12.txt">https://www.ietf.org/archive/id/draft-ietf-ippm-capacity-metric-method-12.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2330">[RFC2330]</dt>
        <dd>
<span class="refAuthor">Paxson, V.</span>, <span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Mahdavi, J.</span>, and <span class="refAuthor">M. Mathis</span>, <span class="refTitle">"Framework for IP Performance Metrics"</span>, <span class="seriesInfo">RFC 2330</span>, <span class="seriesInfo">DOI 10.17487/RFC2330</span>, <time datetime="1998-05" class="refDate">May 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2330">https://www.rfc-editor.org/info/rfc2330</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2681">[RFC2681]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A Round-trip Delay Metric for IPPM"</span>, <span class="seriesInfo">RFC 2681</span>, <span class="seriesInfo">DOI 10.17487/RFC2681</span>, <time datetime="1999-09" class="refDate">September 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2681">https://www.rfc-editor.org/info/rfc2681</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6438">[RFC6438]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span> and <span class="refAuthor">S. Amante</span>, <span class="refTitle">"Using the IPv6 Flow Label for Equal Cost Multipath Routing and Link Aggregation in Tunnels"</span>, <span class="seriesInfo">RFC 6438</span>, <span class="seriesInfo">DOI 10.17487/RFC6438</span>, <time datetime="2011-11" class="refDate">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6438">https://www.rfc-editor.org/info/rfc6438</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7497">[RFC7497]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Rate Measurement Test Protocol Problem Statement and Requirements"</span>, <span class="seriesInfo">RFC 7497</span>, <span class="seriesInfo">DOI 10.17487/RFC7497</span>, <time datetime="2015-04" class="refDate">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7497">https://www.rfc-editor.org/info/rfc7497</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7680">[RFC7680]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, <span class="refAuthor">Zekauskas, M.</span>, and <span class="refAuthor">A. Morton, Ed.</span>, <span class="refTitle">"A One-Way Loss Metric for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">STD 82</span>, <span class="seriesInfo">RFC 7680</span>, <span class="seriesInfo">DOI 10.17487/RFC7680</span>, <time datetime="2016-01" class="refDate">January 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7680">https://www.rfc-editor.org/info/rfc7680</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8468">[RFC8468]</dt>
      <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Fabini, J.</span>, <span class="refAuthor">Elkins, N.</span>, <span class="refAuthor">Ackermann, M.</span>, and <span class="refAuthor">V. Hegde</span>, <span class="refTitle">"IPv4, IPv6, and IPv4-IPv6 Coexistence: Updates for the IP Performance Metrics (IPPM) Framework"</span>, <span class="seriesInfo">RFC 8468</span>, <span class="seriesInfo">DOI 10.17487/RFC8468</span>, <time datetime="2018-11" class="refDate">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8468">https://www.rfc-editor.org/info/rfc8468</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="copycat">[copycat]</dt>
        <dd>
<span class="refAuthor">Edleine, K.</span>, <span class="refAuthor">Kuhlewind, K.</span>, <span class="refAuthor">Trammell, B.</span>, and <span class="refAuthor">B. Donnet</span>, <span class="refTitle">"copycat: Testing Differential Treatment of New Transport Protocols in the Wild (ANRW '17)"</span>, <time datetime="2017-07-15" class="refDate">15 July 2017</time>, <span>&lt;<a href="https://irtf.org/anrw/2017/anrw17-final5.pdf">https://irtf.org/anrw/2017/anrw17-final5.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LS-SG12-A">[LS-SG12-A]</dt>
        <dd>
<span class="refAuthor">12, I. S.</span>, <span class="refTitle">"LS - Harmonization of IP Capacity and Latency Parameters: Revision of Draft Rec. Y.1540 on IP packet transfer performance parameters and New Annex A with Lab Evaluation Plan"</span>, <time datetime="2019-05" class="refDate">May 2019</time>, <span>&lt;<a href="https://datatracker.ietf.org/liaison/1632/">https://datatracker.ietf.org/liaison/1632/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LS-SG12-B">[LS-SG12-B]</dt>
        <dd>
<span class="refAuthor">12, I. S.</span>, <span class="refTitle">"LS on harmonization of IP Capacity and Latency Parameters: Consent of Draft Rec. Y.1540 on IP packet transfer performance parameters and New Annex A with Lab &amp; Field Evaluation Plans"</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://datatracker.ietf.org/liaison/1645/">https://datatracker.ietf.org/liaison/1645/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2544">[RFC2544]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span> and <span class="refAuthor">J. McQuaid</span>, <span class="refTitle">"Benchmarking Methodology for Network Interconnect Devices"</span>, <span class="seriesInfo">RFC 2544</span>, <span class="seriesInfo">DOI 10.17487/RFC2544</span>, <time datetime="1999-03" class="refDate">March 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2544">https://www.rfc-editor.org/info/rfc2544</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3148">[RFC3148]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span> and <span class="refAuthor">M. Allman</span>, <span class="refTitle">"A Framework for Defining Empirical Bulk Transfer Capacity Metrics"</span>, <span class="seriesInfo">RFC 3148</span>, <span class="seriesInfo">DOI 10.17487/RFC3148</span>, <time datetime="2001-07" class="refDate">July 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3148">https://www.rfc-editor.org/info/rfc3148</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4656">[RFC4656]</dt>
        <dd>
<span class="refAuthor">Shalunov, S.</span>, <span class="refAuthor">Teitelbaum, B.</span>, <span class="refAuthor">Karp, A.</span>, <span class="refAuthor">Boote, J.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A One-way Active Measurement Protocol (OWAMP)"</span>, <span class="seriesInfo">RFC 4656</span>, <span class="seriesInfo">DOI 10.17487/RFC4656</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4656">https://www.rfc-editor.org/info/rfc4656</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5136">[RFC5136]</dt>
        <dd>
<span class="refAuthor">Chimento, P.</span> and <span class="refAuthor">J. Ishac</span>, <span class="refTitle">"Defining Network Capacity"</span>, <span class="seriesInfo">RFC 5136</span>, <span class="seriesInfo">DOI 10.17487/RFC5136</span>, <time datetime="2008-02" class="refDate">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5136">https://www.rfc-editor.org/info/rfc5136</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5357">[RFC5357]</dt>
        <dd>
<span class="refAuthor">Hedayat, K.</span>, <span class="refAuthor">Krzanowski, R.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Yum, K.</span>, and <span class="refAuthor">J. Babiarz</span>, <span class="refTitle">"A Two-Way Active Measurement Protocol (TWAMP)"</span>, <span class="seriesInfo">RFC 5357</span>, <span class="seriesInfo">DOI 10.17487/RFC5357</span>, <time datetime="2008-10" class="refDate">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5357">https://www.rfc-editor.org/info/rfc5357</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6815">[RFC6815]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refAuthor">Dubray, K.</span>, <span class="refAuthor">McQuaid, J.</span>, and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Applicability Statement for RFC 2544: Use on Production Networks Considered Harmful"</span>, <span class="seriesInfo">RFC 6815</span>, <span class="seriesInfo">DOI 10.17487/RFC6815</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6815">https://www.rfc-editor.org/info/rfc6815</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7312">[RFC7312]</dt>
        <dd>
<span class="refAuthor">Fabini, J.</span> and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Advanced Stream and Sampling Framework for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">RFC 7312</span>, <span class="seriesInfo">DOI 10.17487/RFC7312</span>, <time datetime="2014-08" class="refDate">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7312">https://www.rfc-editor.org/info/rfc7312</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7594">[RFC7594]</dt>
        <dd>
<span class="refAuthor">Eardley, P.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Bagnulo, M.</span>, <span class="refAuthor">Burbridge, T.</span>, <span class="refAuthor">Aitken, P.</span>, and <span class="refAuthor">A. Akhter</span>, <span class="refTitle">"A Framework for Large-Scale Measurement of Broadband Performance (LMAP)"</span>, <span class="seriesInfo">RFC 7594</span>, <span class="seriesInfo">DOI 10.17487/RFC7594</span>, <time datetime="2015-09" class="refDate">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7594">https://www.rfc-editor.org/info/rfc7594</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7799">[RFC7799]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8337">[RFC8337]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span> and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Model-Based Metrics for Bulk Transport Capacity"</span>, <span class="seriesInfo">RFC 8337</span>, <span class="seriesInfo">DOI 10.17487/RFC8337</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8337">https://www.rfc-editor.org/info/rfc8337</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8762">[RFC8762]</dt>
        <dd>
<span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Jun, G.</span>, <span class="refAuthor">Nydell, H.</span>, and <span class="refAuthor">R. Foote</span>, <span class="refTitle">"Simple Two-Way Active Measurement Protocol"</span>, <span class="seriesInfo">RFC 8762</span>, <span class="seriesInfo">DOI 10.17487/RFC8762</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8762">https://www.rfc-editor.org/info/rfc8762</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8972">[RFC8972]</dt>
        <dd>
<span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Min, X.</span>, <span class="refAuthor">Nydell, H.</span>, <span class="refAuthor">Foote, R.</span>, <span class="refAuthor">Masputra, A.</span>, and <span class="refAuthor">E. Ruffini</span>, <span class="refTitle">"Simple Two-Way Active Measurement Protocol Optional Extensions"</span>, <span class="seriesInfo">RFC 8972</span>, <span class="seriesInfo">DOI 10.17487/RFC8972</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8972">https://www.rfc-editor.org/info/rfc8972</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TR-471">[TR-471]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Broadband Forum TR-471: IP Layer Capacity Metrics and Measurement"</span>, <time datetime="2020-07-10" class="refDate">10 July 2020</time>, <span>&lt;<a href="https://www.broadband-forum.org/technical/download/TR-471.pdf">https://www.broadband-forum.org/technical/download/TR-471.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="udpst">[udpst]</dt>
        <dd>
<span class="refAuthor">udpst Project Collaborators</span>, <span class="refTitle">"UDP Speed Test Open Broadband project"</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://github.com/BroadbandForum/obudpst">https://github.com/BroadbandForum/obudpst</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Y.1540">[Y.1540]</dt>
        <dd>
<span class="refAuthor">Y.1540, I. R.</span>, <span class="refTitle">"Internet protocol data communication service - IP packet transfer and availability performance parameters"</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-Y.1540-201912-I/en">https://www.itu.int/rec/T-REC-Y.1540-201912-I/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Y.Sup60">[Y.Sup60]</dt>
      <dd>
<span class="refAuthor">Morton, A., Rapporteur.</span>, <span class="refTitle">"Recommendation Y.Sup60, (09/20) Interpreting ITU-T Y.1540 maximum IP-layer capacity measurements"</span>, <time datetime="2020-09-11" class="refDate">11 September 2020</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-Y.Sup60/en">https://www.itu.int/rec/T-REC-Y.Sup60/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Len Ciavattone</span></div>
<div dir="auto" class="left"><span class="org">AT&amp;T Labs</span></div>
<div dir="auto" class="left"><span class="street-address">200 Laurel Avenue South</span></div>
<div dir="auto" class="left">
<span class="locality">Middletown,</span>, <span class="region">NJ</span> <span class="postal-code">07748</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lencia@att.com" class="email">lencia@att.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Al Morton</span></div>
<div dir="auto" class="left"><span class="org">AT&amp;T Labs</span></div>
<div dir="auto" class="left"><span class="street-address">200 Laurel Avenue South</span></div>
<div dir="auto" class="left">
<span class="locality">Middletown,</span>, <span class="region">NJ</span> <span class="postal-code">07748</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+1%20732%20420%201571" class="tel">+1 732 420 1571</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:acm@research.att.com" class="email">acm@research.att.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
