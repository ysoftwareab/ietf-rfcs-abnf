



Networking Working Group                                         R. Chen
Internet-Draft                                                 Zh. Zhang
Intended status: Standards Track                         ZTE Corporation
Expires: February 5, 2022                                 August 4, 2021


                 BGP Link-State extensions for BIER-TE
                  draft-cz-bier-bgp-ls-bier-te-ext-00

Abstract

   Bit Index Explicit Replication (BIER)-TE shares architecture and
   packet formats with BIER as described in [RFC8279].  BIER-TE forwards
   and replicates packets based on a BitString in the packet header, but
   every BitPosition of the BitString of a BIER-TE packet indicates one
   or more adjacencies as described in [I-D.ietf-bier-te-arch].

   BGP Link-State (BGP-LS) enables the collection of various topology
   informations from the network, and the topology informations are used
   by the PCE to calculate the path and then propagate them onto the
   BFRs(instead of having each node to calculate on its own) and that
   can be for both inter-as and intra-as situations.

   This document specifies extensions to the BGP Link-state address-
   family in order to advertise BIER-TE informations.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on February 5, 2022.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Chen & Zhang            Expires February 5, 2022                [Page 1]

Internet-Draft        BGP-LS extensions for BIER-TE          August 2021


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  BGP-LS Extensions for BIER-TE . . . . . . . . . . . . . . . .   3
     3.1.  The new Link Attribute TLV  . . . . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative references  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative references  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   Bit Index Explicit Replication (BIER)-TE shares architecture and
   packet formats with BIER as described in [RFC8279].  BIER-TE forwards
   and replicates packets based on a BitString in the packet header, but
   every BitPosition of the BitString of a BIER-TE packet indicates one
   or more adjacencies as described in [[I-D.ietf-bier-te-arch]].

   When BIER-TE is enabled in an IGP domain, BIER-TE-related
   informations will be advertised via IGP link-state routing protocols.
   The flooding scope for the IGP extensions for BIER-TE is IGP area-
   wide. by using the IGP alone it is not enough to construct across
   multiple IGP Area.

   The BGP-LS address-family/sub-address-family have been defined to
   allow BGP to carry Link-State informations.  This document specifies
   extensions to the BGP Link-state address-family in order to advertise
   BIER-TE-specific informations, Similar to BGP-LS Advertisement of IGP
   Traffic Engineering Performance Metric Extensions([RFC8571]).  An
   external component (e.g., a controller/a PCE(see [RFC4655] for PCE-
   Based Architecture , [RFC5440] for PCEP and [RFC5376] for Inter-AS
   Requirements for the PCEP.))then can learn the BIER-TE informations
   in the "northbound" direction and calculate BIER-TE Path and then




Chen & Zhang            Expires February 5, 2022                [Page 2]

Internet-Draft        BGP-LS extensions for BIER-TE          August 2021


   propagate them onto BFRs (instead of having each BFR to calculate on
   its own), and that can be for both inter-as and intra-as situations.

2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119.

3.  BGP-LS Extensions for BIER-TE

   BIER-TE attributes and BitPositions associated with a link or
   adjacency are advertised using the BGP-LS link Attribute TLV defined
   in this section and associated with the BGP-LS Link NLRI.

3.1.  The new Link Attribute TLV

   The BIER-TE information TLV is defined to advertise the BIER-TE
   informations.  The informations are derived from BIER-TE Info Sub-TLV
   of IS-IS(section 2 of [[I-D.chen-bier-te-isis]]) BIER-TE sub-TLV of
   OSPFv2 (section 2 of [[I-D.chen-bier-te-ospf]]) and OSPFv3 (section 2
   of [[I-D.chen-bier-te-ospfv3]]).  According to different subdomain,
   the BIER-TE information TLV may appear multiple times.

   The BIER-TE information TLV has the following format:


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |          Type (TBD1)          |             Length            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | sub-domain-id |     MT-ID     |      BAR      |    IPA        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |         BitPosition           |         EndBitPosition        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



                   Figure 1: The BIER-TE information TLV

   Type:A 2-octet field with value TBD1, see IANA Considerations
   section.

   Length: 2 octets.

   Subdomain-id: Unique value identifying the BIER-TE sub-domain, 1
   octet.



Chen & Zhang            Expires February 5, 2022                [Page 3]

Internet-Draft        BGP-LS extensions for BIER-TE          August 2021


   MT-ID: Multi-Topology ID that identifies the topology that is
   associated with the BIER-TE sub-domain. 1 octet.

   BAR: A 1-octet field encoding the BIER Algorithm, used to calculate
   underlay paths to reach BFERs.  Values are allocated from the "BIER
   Algorithms" registry which is defined in [RFC8401].

   IPA: A 1-octet field encoding the IGP Algorithm, used to either
   modify,enhance, or replace the calculation of underlay paths to reach
   BFERs as defined by the BAR value.  Values are from the IGP Algorithm
   registry.

   BitPosition: A 2-octet field encoding the BitPosition locally
   configured on the link/interface when the Link Type of the link in
   the Router-Link TLV containing this Sub-TLV is 1 (i.e., Point-to-
   Point connection to another router) or 2 (i.e., connection to Transit
   Network or say LAN).

   EndBitPosition: A 2-octet field encoding the BitPosition of the
   connection on the designated Intermediate Systems (Dis) end (ISIS) /
   designated router (DR) end( OSPFv2 and OSPFv3).  For ISIS, this field
   is valid when the neighbor is a pseudonode.  If the neighbor is not a
   pseudonode, this field MUST be ignored.  For OSPFv2 and OSPFv3, this
   field is valid when the Link Type in the Router-Link TLV containing
   this Sub-TLV is 2 (i.e., Transit Network or LAN) and for the other
   value of the Link Type, this field MUST be ignored.  The
   EndBitPosition may be configured on the link/interface to a transit
   network (i.e., broadcast link or say LAN).

   If the MT-ID value is outside of the values specified in [RFC4915],
   the BIER-TE information Sub-TLV MUST be ignored.

4.  IANA Considerations

   This document requests assigning code-points from the registry for
   the new Link Attribute TLV.


           +-------------------+-----------------------------+-----------------+
           |   TLV Code Point  |  Description                | Value defined   |
           +-------------------+-----------------------------+-----------------+
           |       TBD1        |  BIER-TE information        | this document   |
           +-------------------+-----------------------------+-----------------+



                    Table 1: The new Link Attribute TLV




Chen & Zhang            Expires February 5, 2022                [Page 4]

Internet-Draft        BGP-LS extensions for BIER-TE          August 2021


5.  Security Considerations

   Procedures and protocol extensions defined in this document do not
   affect the BGP security model.  See the "Security
   Considerations"section of [RFC4271] for a discussion of BGP security.
   Security considerations for acquiring and distributing BGP-LS
   information are discussed in [RFC7752].

6.  Acknowledgements

   TBD.

7.  References

7.1.  Normative references

   [I-D.chen-bier-te-isis]
              Chen, H., McBride, M., Wang, A., Mishra, G. S., Fan, Y.,
              Liu, L., and X. Liu, "IS-IS Extensions for BIER-TE",
              draft-chen-bier-te-isis-01 (work in progress), July 2021.

   [I-D.chen-bier-te-ospf]
              Chen, H., McBride, M., Wang, A., Mishra, G. S., Fan, Y.,
              Liu, L., and X. Liu, "OSPF Extensions for BIER-TE", draft-
              chen-bier-te-ospf-02 (work in progress), July 2021.

   [I-D.chen-bier-te-ospfv3]
              Chen, H., McBride, M., Wang, A., Mishra, G. S., Fan, Y.,
              Liu, L., and X. Liu, "OSPFv3 Extensions for BIER-TE",
              draft-chen-bier-te-ospfv3-02 (work in progress), July
              2021.

   [I-D.ietf-bier-te-arch]
              Eckert, T., Cauchie, G., and M. Menth, "Tree Engineering
              for Bit Index Explicit Replication (BIER-TE)", draft-ietf-
              bier-te-arch-10 (work in progress), July 2021.

   [RFC4655]  Farrel, A., Vasseur, J., and J. Ash, "A Path Computation
              Element (PCE)-Based Architecture", RFC 4655,
              DOI 10.17487/RFC4655, August 2006,
              <https://www.rfc-editor.org/info/rfc4655>.

   [RFC4915]  Psenak, P., Mirtorabi, S., Roy, A., Nguyen, L., and P.
              Pillay-Esnault, "Multi-Topology (MT) Routing in OSPF",
              RFC 4915, DOI 10.17487/RFC4915, June 2007,
              <https://www.rfc-editor.org/info/rfc4915>.





Chen & Zhang            Expires February 5, 2022                [Page 5]

Internet-Draft        BGP-LS extensions for BIER-TE          August 2021


   [RFC7752]  Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and
              S. Ray, "North-Bound Distribution of Link-State and
              Traffic Engineering (TE) Information Using BGP", RFC 7752,
              DOI 10.17487/RFC7752, March 2016,
              <https://www.rfc-editor.org/info/rfc7752>.

   [RFC8279]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Przygienda, T., and S. Aldrin, "Multicast Using Bit Index
              Explicit Replication (BIER)", RFC 8279,
              DOI 10.17487/RFC8279, November 2017,
              <https://www.rfc-editor.org/info/rfc8279>.

   [RFC8401]  Ginsberg, L., Ed., Przygienda, T., Aldrin, S., and Z.
              Zhang, "Bit Index Explicit Replication (BIER) Support via
              IS-IS", RFC 8401, DOI 10.17487/RFC8401, June 2018,
              <https://www.rfc-editor.org/info/rfc8401>.

   [RFC8571]  Ginsberg, L., Ed., Previdi, S., Wu, Q., Tantsura, J., and
              C. Filsfils, "BGP - Link State (BGP-LS) Advertisement of
              IGP Traffic Engineering Performance Metric Extensions",
              RFC 8571, DOI 10.17487/RFC8571, March 2019,
              <https://www.rfc-editor.org/info/rfc8571>.

7.2.  Informative references

   [RFC4271]  Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., "A
              Border Gateway Protocol 4 (BGP-4)", RFC 4271,
              DOI 10.17487/RFC4271, January 2006,
              <https://www.rfc-editor.org/info/rfc4271>.

   [RFC5376]  Bitar, N., Zhang, R., and K. Kumaki, "Inter-AS
              Requirements for the Path Computation Element
              Communication Protocol (PCECP)", RFC 5376,
              DOI 10.17487/RFC5376, November 2008,
              <https://www.rfc-editor.org/info/rfc5376>.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

Authors' Addresses









Chen & Zhang            Expires February 5, 2022                [Page 6]

Internet-Draft        BGP-LS extensions for BIER-TE          August 2021


   Ran Chen
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Phone: +86 025 88014636
   Email: chen.ran@zte.com.cn


   Zheng Zhang
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Email: zhang.zheng@zte.com.cn


































Chen & Zhang            Expires February 5, 2022                [Page 7]
