TEAS Working Group                                             A.Wang
Internet Draft                                           China Telecom

Intended status: Standard Track                       February 12, 2018
Expires: August 11, 2018


            Redistribute Route Originator Extend TLV for BGP-LS
         draft-wang-idr-redistribute-route-originator-01.txt


Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 11, 2018.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document.

Abstract

   This document describes one TLV extended for BGP-LS to transfer the
   originator of redistributed routes in order to let the SDN
   controller to deduce the network topology automatically under the
   multi-domain environments.

   This extension can expand the usage of BGP-LS protocol to multi-
   domain; enable the network operator to collect the connection
   relationship between different domains and then calculate the
   overall network topology automatically based on the information
   provided by BGP-LS protocol.

<A.Wang>               Expires August 11, 2018                [Page 1]

Internet-Draft Redistribute Route Originator Extend TLV for BGP-LS
                         February 12, 2018
Table of Contents


   1. Introduction ................................................ 2
   2. Conventions used in this document............................ 2
   3. Multi-Domain Scenarios....................................... 2
      3.1. Proposed Solution....................................... 3
      3.2. Redistributed Routes Originator TLV .................... 3
      3.3. Topology Reconstruction................................. 4
   4. Security Considerations...................................... 4
   5. IANA Considerations ......................................... 4
   6. Conclusions ................................................. 4
   7. References .................................................. 5
      7.1. Normative References.................................... 5
      7.2. Informative References.................................. 5
   8. Acknowledgments ............................................. 5

1. Introduction

   BGP-LS [RFC 7752] describes the methodology that using BGP protocol
   to transfer the Link-State information. Such method can enable SDN
   controller to collect the underlay network topology automatically,
   but it can only get the information within one IGP domain. If the
   operator has more than one IGP domain, and these domains interconnect
   each other, there is no suitable TLV within current BGP-LS to
   transfer the interconnect information.
   This draft introduces one new TLV to extend the BGP-LS protocol to
   transfer the key information related to the interconnect topology.
   After that, the SDN controller can then deduce the multi-domain
   topology automatically based on the information from BGP-LS protocol.

2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

3. Multi-Domain Scenarios.

   Fig.1  illustrates  the  multi-domain  scenarios  that  this  draft
   discussed. Normally, SDN Controller can get the topology of IGP A and
   IGP B individually via the BGP-LS protocol, but it can't get the
   topology connection information between these two IGP domains because
   there is normally no IGP protocol run on the connected links.



<A.Wang et.>           Expires August 11, 2018                 [Page 2]

Internet-Draft Redistribute Route Originator Extend TLV for BGP-LS
                         February 12, 2018
                             +--------------+
                          ---|SDN Controller----
                          |  +--------------+  |
                          |                    |
                        BGP-LS              BGP-LS
                          |                    |
                          |                    |
                        ------                 ---
                    ///-     -\\\          //--   --\\
                   /             \        /           \
                  |  R3-------R1--|------|-T1-------T3 |
                 |                 |    |               |
                 |       IGP A     |    |     IGP B     |
                 |                 |    |               |
                  |  R4 ------R2--|------|-T2-------T4 |
                   \             /        \           /
                    \\\-     -///          \\--   --//
                        -----                  ---

                       Fig.1 Multi-Domain Scenarios



3.1. Proposed Solution.

   To get the topology information between these two domains, we can use
   the redistribute method to redistribute the connected links into the
   IGP domain respectively. The prefix of the redistributed links will
   then be gotten via the BGP-LS border router within each domain.
   Although these border routers know where these redistributed prefixes
   coming from, but they do not advertise such information to the BGP-LS
   information collector.

3.2. Redistributed Routes Originator TLV

   This draft proposes to define one new TLV to transfer such key
   information; we call it "Redistributed Routes Originator" TLV. The
   format of this TLV is illustrated below:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |              Type             |             Length            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



<A.Wang et.>           Expires August 11, 2018                 [Page 3]

Internet-Draft Redistribute Route Originator Extend TLV for BGP-LS
                         February 12, 2018
     //                Redistributed Routes Originator               //
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Type: should be allocated by IANA.

   Length: 4 Bytes.

   Redistributed Routes Originator: Router ID of the redistributed
   routes.

   This TLV should be coincided with the IGP Route Tag TLV or OSPF
   Route Type TLV, because these two TLVs indicate the associated
   prefixes redistributed via other protocols.



3.3. Topology Reconstruction.

   When SDN Controller gets such information from BGP-LS protocol, it
   should compares the proximity of the redistributed prefixes. If they
   are under the same scope, then it should find the corresponding
   associated "redistributed route originator" TLV, build the link
   between these two originators.

   After iterating the above procedures for all of the redistributed
   prefixes, the SDN controller can then draw the connection topology
   between different domains automatically.



4. Security Considerations

   TBD

5. IANA Considerations

   TBD

6. Conclusions

   TBD







<A.Wang et.>           Expires August 11, 2018                 [Page 4]

Internet-Draft Redistribute Route Originator Extend TLV for BGP-LS
                         February 12, 2018
7. References

7.1. Normative References

   [RFC7752] H. Gredler, Ed., J. Medved, S. Previdi, A. Farrel, S. Ray,
   "North-Bound Distribution of Link-State and Traffic Engineering (TE)
   Information Using BGP ", RFC7752, March 2016,
   https://tools.ietf.org/html/rfc7752



7.2. Informative References





8. Acknowledgments

   TBD.





Authors' Addresses

   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing,China

   Email: wangaj.bri@chinatelecom.cn














<A.Wang et.>           Expires August 11, 2018                 [Page 5]

