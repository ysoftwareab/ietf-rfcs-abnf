Network Working Group                      Satish Jamadagni
INTERNET-DRAFT                              Vidhya R
Category: Informational                    
<draft-satish-iapp-mip-00.txt>
August 5 2006
Expires: January 5, 2007


                An IAPP-Mobile IP reference interworking protocol

Status of this Memo 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that      
   other groups may also distribute working documents as Internet-
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   By submitting this Internet-Draft, each author represents that any 
   applicable patent or other IPR claims of which he or she is aware 
   have been or will be disclosed, and any of which he or she becomes 
   aware will be disclosed, in accordance with Section 6 of BCP 79. 

   This document is subject to the rights, licenses
   and restrictions contained in BCP 78, and except as set forth
   therein, the authors retain all their rights.

   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html. 

    
   This Internet-Draft will expire on January 5, 2007. 
    
Copyright Notice 
    
      Copyright (C) The Internet Society (2006).
    












Satish, Vidhya       Expires January, 2007          [Page 1]
Internet-Draft   IAPP-Mobile IP reference protocol    august 2006




Abstract

With WLAN hotspots becoming more wide spread, there is growing interest
among cellular service providers in WLAN-Cellular interworking/roaming
architectures. Service providers are looking at deployment of
interworking heterogeneous wireless access points. There is also a
growing breed of terminals trying to build a capability to roam 
between 3G and 802.xx technologies. Working groups within IETF and
IEEE 802.21 are involved in defining seamless roaming standards.
802.21 is attempting to define roaming standards not just from one
802-based network to another, but also between 802-based networks
and 3G cellular network. Support for handoff between heterogeneous
wireless networks is becoming vital. Mobile IP has always been the
macro network mobility protocol of choice where as the IAPP - Inter
Access Point Protocol (802.11f) has been recommended as the roaming
protocol between 802.11 access points.

This draft suggests a mechanism of supporting handoff between IAPP
supported 802.xx devices and 3G packet core networks.


1.  Introduction
The combination of 3G and WLAN wireless technologies offers the
possibility of achieving anywhere, anytime Internet access, which
benefits both end users and service providers. In this draft we
discuss one interworking architecture for providing integrated service
capability across widely deployed 3G CDMA2000-based and 802.11-based
networks. Two well known design choices for 3G-WLAN integration haven
been proposed in [1] namely the tightly coupled and loosely coupled
architectures. The proposed MIP-IAPP handoff mechanism can be used in
either configuration depending on where the interworking function is
implemented. The discussed interactions between the IAPP protocol and
the Mobile IP stack can also be in a gateway. Such a gateway can
facilitate fast handoff needs typical of intertechnology handovers.
For a mobile device with interfaces to both technologies, an 
interworking gateway with IAPP & Mobile IP interactions will support
seamless handoff in the presence of overlapping radio coverage.


1.1.  Terminology

This document uses the following terms:

Intertechnology Handover Gateway:
          An gateway entity that facilitates signaling and seamless
          handover between a 3GPP core and a WLAN accesspoint.





Satish, Vidhya       Expires January, 2007              [Page 2]
Internet-Draft   IAPP-Mobile IP reference protocol    august 2006


Loosely coupled architecture
          An Authentication Server is an entity that provides an
          Authentication Service to an Authenticator. This service
          verifies from the credentials provided by the Supplicant, the
          claim of identity made by the Supplicant.

Tightly coupled architecture
          The protocol entity associated with a physical or virtual
          (802.11) Port.  A given PAE may support the protocol
          functionality associated with the Authenticator, Supplicant
          or both.



2. 802.11f – THE INTER ACCESS POINT PROTOCOL (IAPP)

The 802.11f recommended practice for WLAN access points [8] describes a
set of services that allows the wireless LAN Access Points (APs) to
interoperate on a common Distribution System (DS), using the TCP
over IP (TCP/IP) or User Datagram Protocol over IP (UDP/IP)
to carry IAPP packets between APs. It also describes the use of the
Remote Authentication Dial-in User Service (RADIUS) Protocol, so APs
may obtain information about one another. The IAPP specification also
provides a proactive caching mechanism to accomodate faster roaming
concerns by sending a Station context to neighboring APs. 

The devices in a network that use the IAPP are typically 802.11 APs.
Other layer 2 networking devices, such as bridges and switches are
also affected by the operation of the IAPP. The IAPP protocol
primiarly allows for a single AP connectivity for WLAN terminals
at any point in time. A notion of a single access point connectivity
is very valid under a WLAN-3G roaming scenario as well.


3. Fast Handoff drafts for mobile IP

Mobile IP handoffs have been shown to have latencies that are not
suited for the wireless domains. This has led to the study of fast
handoff techniques between wireless access points [7]. Fast handoff
techniques are more relevant to an inter technology handoff. In [7]
three techniques are suggested to achieve low latency handovers:
Pre registration, Post registration and a combined registration
method.

The PRE-REGISTRATION handoff method allows the a mobile terminal to
be involved in an anticipated IP-layer handoff.  The MN is assisted
by the network in performing an L3 handoff before it completes the
L2 handoff. The POST-REGISTRATION handoff method allows the oFA
(old FA) and nFA (new FA) to utilize L2 triggers to set up a 
bi-directional tunnel between oFA and nFA that allows the MN to
continue using its oFA while on nFA's subnet. 


Satish, Vidhya       Expires January, 2007            [Page 3]
Internet-Draft   IAPP-Mobile IP reference protocol    August 2006


This minimizes the impact on real-time applications. The combined
method involves both the methods mentioned above.

If the PRE-REGISTRATION handoff can be
performed before the L2 handoff completes, the combined method
resolves to a PRE-REGISTRATION handoff.

In this draft we map IAPP signals to the fast handoff messages as 
described in [7].


4. 3G-WLAN INTERWORKING SCENARIOs

Two approaches have been discussed in [1] [5] for WLAN and CDMA 2000
networks.The rationale behind the tightly coupled approach is to make
the WLAN network appear to the 3G core network as another 3G access
network. The WLAN network would then have to fake functions that are
part of a 3G radio access networks. In this architecture, the WLAN
gateway network element appears as a 3G core or a packet control
function (PCF) to a CDMA2000 core network.

The loosely coupled approach introduces a new element in the WLAN
network, the WLAN gateway which connects to the Internet and does not
have any direct link to 3G network elements such as a PDSN. We call
this approach loosely coupled interworking because it completely
separates the data paths in WLAN and 3G networks. The high-speed WLAN
data traffic is never injected into the 3G core network, but the end
user still experiences seamless access. 

The mentioned IAPP-MIP mapping functions can be accommodated within
the scope of both approaches with the only requirement of a fast handoff
primitives being available as described in [7].

A 3GPP2 compliant PDSN implements the foreign agent (FA)
functionality defined in Mobile IP [3], allowing cross-PDSN mobility.
The 3GPP2 standards for CDMA 2000 also support a fast handoff method
where in a tunnel is established between the source and the target
PDSNs. This tunnel helps in faster signaling as well as act as a
bi-casting tunnel for data. Additional caching functionality would be
requiredto accommodate the IAPP-MIP signaling.

5. IAPP triggers for fast Mobile IP Interworking
In this draft we suggest the MIP-IAPP coupling architecture within the
context of a handover between WLAN and 3GPP2 network. The architecture
proposed in this paper suggests handoff notifications between the
IAPP demon and the Foreign Agent (FA) either in a WLAN-CDMA gateway or
in a CDMA 2000 PDSN which implements an IAPP demon. Though we recommend
that the PDSN implement an IAPP entity the WLAN and CDMA2000 data paths
will remain distinct and as such our approach could be termed a loosely
coupled architecture approach. Both IAPP as well as Mobile IP fast
handoff drafts support caching of a mobile terminals handover context
in possible targets. 

Satish, Vidhya           Expires January, 2007          [Page 4]
Internet-Draft   IAPP-Mobile IP reference protocol    August 2006



This similarity between the IAPP design and fast
handoff pre-registration support in MIP has led us to suggest a mapping
function between the two protocols at either the WLAN & CDMA gateway or
at the CDMA2000 PDSN. This supports fast handoff between WLAN and a
CDMA 2000 network by means of mutual notification between the IAPP and
the Mobile IP protocols. 

The rest of the draft will focus on the specifics of the IAPP and
Mobile IP interactions within a WLAN gateway architecture. A WLAN
distributed network supports fast handoff through IAPP interactions
and specifically proactive context caching. Therefore, a natural way
to implement inter technology handoff between CDMA2000 and WLAN
networks is to implement Mobile IP extensions, specifically the FA to
interact with the IAPP entity. The following sections show a few of the
IAPP and Mobile IP interaction points in a WLAN gateway architecture.

A close interaction between the IAPP and a FA helps in achieving
two goals:

1. Discovery of WLAN network by a CDMA 2000 wireless network and vice
versa.

2. A subsequent fast handoff or layer 2 trigger transportation between
WLAN and a CDMA network.

5.1. Network discovery & proactive caching
The fact that an IAPP agent resides on the CDMA 2000 PDSN and a FA
resides on the WLAN gateway allows the CDMA network to be WLAN mesh
aware. For inter-technology handoff, discovery should always precede
any exchange of signaling information. Such a discovery is facilitated
by the IAPP CACHE notify

The IAPP CACHE notify message from the IAPP to the MIP FA is treated
as a MIP Pre-Registration indication. The following diagram shows the
IAPP CACHE notify mapping in an FA. The CACHE primitive also helps in
the discovery of a neighbouring WLAN entity in a 3G network. It should
be mentioned at this stage that such a message can be restricted to a
set of mobiles that support both WLAN and 3G services.














Satish, Vidhya            Expires January, 2007          [Page 5]
Internet-Draft   IAPP-Mobile IP reference protocol    august 2006



Local APME      Local IAPP                      Local FA
     |               |                              |
     |               |                              |
     |               |        Start                 |
     |               |   Confirmation               |
     |               |     timeout                  |
     |IAPP-ADO.request|       ____                  |
     |--------------->|-------\__/    Start         |
     |                |       /__\    Confirm       |
     |                |         |      timeout      |
     |IAPP-CACHE      |         |      ___          |
     |--------------->|---------|------\__/         |
     |Notify .request |         |      /__\         |
     |                | Send    | Layer2 |          |
     |                |---------|------->|          |
     |                | Up date |Frame   |          |
     |                |         |(confirm)|         |
     |                |<------- |--------|----      |
     |                | Send    |ADD-notify|        |
     |                |---------|---------|---------|------------->
     |                |         | packet |          | IAPP
     |                |         |(confirm)|         |
     |                |<--------|---------|---------|----- specific
     |IAPP-ADD.confirm|        \|/        |         |
     |<--- -----------|<-------/ \        |         |
     |(Status=SUCCESSFUL)|                |         |
     |                |                   |         |
     |                | Send CACHE        | notify  |
     |                |------------- -----|-------->|
     |                |packet to neighbours|        |MIP Fast handoff
     |                |                   |         |-->
     |                |                   |         |Pre-Registration
     |                |  confirm          |         | request
     |                |<------------------|---------|
     |                |                   |         |
     |                |                   |         |



5.2 Trigger notifications between IAPP and Mobile IP
IAPP is not a layer 2 mechanism. It uses layer 2 association and
re-association triggers from the MLME of the AP to facilitate mobility
whereas Mobile IP uses layer 3 advertisements to initiate layer 3
handovers. The L2 indications both at WLAN AP and the CDMA 2000 AP
during a WLAN CDMA handover will have to be transported. The FA
association will have to be notified to the IAPP as IAPP MOVE
indication. The following figure illustrates the mapping the IAPP MOVE
primitive to the FA registration request message from a mobile.




Satish, Vidhya          Expires January, 2007          [Page 6]
Internet-Draft   IAPP-Mobile IP reference protocol    august 2006



Local MLME            Local APME               Local IAPP
    |                      |                       |
    |         MLME -       |     On cache hit      |
    |  REASSOCIATE         |         for           |
    |--------------------->|    reassociating      |
    |    .indication       |           STA         |
    |                      |     IAPP- CACHE-      |
    |                      |-------------------->  |
    |                      |   NOTIFY .request     |
    |                      |                       |
    |                      |                       |
    |                      |                       |
    |                      |                       |
    |                      |     IAPP-CACHE-       |
    |                      |<--------------------  |
    |                      |   NOTIFY .confirm     |
    |                      |                       |
    |                      |                       |
    |                      | IAPP-MOVE           |Notify CDMA FA of a
    |                      |-------------------->|move to a CDMA network
    |                      |      .request       |------------------->
    |                      |                     |The FA responds with
    |                      |                     |notification to HA
    |                      |                     |



6. ACKNOWLEDGEMENTS:
We acknowledge all people who helped review this draft.

7. REFERENCES
1. Milind M. Buddhikot, Girish Chandranmenon, Seungjae Han, Yui-Wah Lee,
Scott Miller, and Luca Salgarelli, Design and implementation of a 
LAN/CDMA 2000 Interworking architecture, IEEE communications magazine,
November 2003.

2. “TIA/EIA/IS-835B cdma2000 Wireless IP Network Standard,” 3GPP2, 2000.

3. C. Perkins, Ed., “IP Mobility Support for IPv4,” IETF RFC 3344,
Aug. 2002.

4. A. Salkintzis, C. Fors, and R. Pazhyannur, “WLAN-GPRS Integration
for Next-generation Mobile Data Networks,” IEEE Wireless Commun.,
Oct. 2002.

5. 3GPP2-WLAN interworking, Stage 1 Requirements, S-R0087-0 V1.0, 3GPP2,
2004. 

6. Jin Xiaohui, Li Jiandong, IAPP enhancement protocol,
IEEE 0-7803-7010-4, IEEE 2001.


Satish, Vidhya             Expires January, 2007          [Page 7]
Internet-Draft   IAPP-Mobile IP reference protocol    august 2006


7. K. El Malki, et al, Low Latency Handoffs in Mobile IPv4,
draft-ietf-mobileip-lowlatency-handoffs-v4-09.txt, IETF,
work in progress

8. Recommended Practice for Multi-Vendor Access Point Interoperability
via an Inter-Access Point Protocol Across Distribution Systems
Supporting IEEE 802.11 Operation, IEEE P802.11F, IEEE 2003.

7. Author's Contacts 
    
Satish Jamadagni 
Bangalore - 560078
e-mail: sjamadagni@yahoo.com

Vidhya R
Bangalore - 560078
email: vjamadagni@yahoo.com

Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Satish, Vidhya             Expires January, 2007          [Page 8]
Internet-Draft   IAPP-Mobile IP reference protocol    august 2006


Copyright Statement

   Copyright (C) The Internet Society (2006).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.
















































Satish, Vidhya            Expires January, 2007              [Page 9]
