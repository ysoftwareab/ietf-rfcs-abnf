<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Comparing ALPS and Half-RTT Data</title>
<meta content="David Benjamin" name="author">
<meta content="
       This document compares the Application Layer Protocols Settings extension with
the half-RTT feature in TLS 1.3. 
    " name="description">
<meta content="xml2rfc 3.4.0" name="generator">
<meta content="draft-davidben-tls-alps-half-rtt-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.4.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.6.1
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.3.1
    requests 2.25.0
    setuptools 40.6.2
    six 1.15.0
-->
<link href="/tmp/draft-davidben-tls-alps-half-rtt-00-x74n5x6r.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Comparing ALPS and Half-RTT Data</td>
<td class="right">December 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Benjamin</td>
<td class="center">Expires 6 June 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">TLS</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-davidben-tls-alps-half-rtt-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-12-03" class="published">3 December 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-06-06">6 June 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Benjamin</div>
<div class="org">Google LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Comparing ALPS and Half-RTT Data</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document compares the Application Layer Protocols Settings extension with
the half-RTT feature in TLS 1.3.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 6 June 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-using-half-rtt-data" class="xref">Using Half-RTT Data</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-half-rtt-delimiter" class="xref">Half-RTT Delimiter</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-non-integer-http-settings" class="xref">Non-Integer HTTP Settings</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-early-data-and-session-tick" class="xref">Early Data and Session Tickets</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-client-certificates" class="xref">Client Certificates</a><a href="#section-toc.1-1.2.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="xref">2.5</a>.  <a href="#name-tls-terminators" class="xref">TLS Terminators</a><a href="#section-toc.1-1.2.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a href="#section-2.6" class="xref">2.6</a>.  <a href="#name-tcp-flow-control" class="xref">TCP Flow Control</a><a href="#section-toc.1-1.2.2.6.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-using-alps" class="xref">Using ALPS</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-half-rtt-delimiter-2" class="xref">Half-RTT Delimiter</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-non-integer-http-settings-2" class="xref">Non-Integer HTTP Settings</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-early-data-and-session-ticke" class="xref">Early Data and Session Tickets</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-client-certificates-2" class="xref">Client Certificates</a><a href="#section-toc.1-1.3.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-tls-terminators-2" class="xref">TLS Terminators</a><a href="#section-toc.1-1.3.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="xref">3.6</a>.  <a href="#name-tcp-flow-control-2" class="xref">TCP Flow Control</a><a href="#section-toc.1-1.3.2.6.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">An application-layer protocol often starts with both parties
negotiating parameters under which the protocol operates; for
instance, HTTP/2 <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span> and HTTP/3 <span>[<a href="#I-D.ietf-quic-http" class="xref">I-D.ietf-quic-http</a>]</span> use a SETTINGS
frame to exchange the list of protocol parameters supported by each endpoint.
This can achieved by waiting for TLS handshake <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> to complete and then
performing the application-layer handshake within the application protocol
itself.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">This approach, however, means application protocols must wait for a secondary
negotiation to complete, often incurring network round-trip. HTTP/2 and HTTP/3
mitigate this with a best-effort negotiation scheme: clients do not wait for
server SETTINGS before sending a request. But then, by the time the client
applies the setting, it has already sent the first request based on the default
values. This limits the kinds of extensions possible. For example, the SETTINGS
frame cannot support negotiate header compression <span>[<a href="#QUIC-3622" class="xref">QUIC-3622</a>]</span> or a different
static table <span>[<a href="#HTTP2-788" class="xref">HTTP2-788</a>]</span> without changing the protocol to disable compression
by default and switch partway through.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Protocol selection is another example of application-level negotiation with
these trade-offs. The Application Layer Protocol Negotiation (ALPN) extension
<span>[<a href="#RFC7301" class="xref">RFC7301</a>]</span> adds protocol selection into the TLS handshake. ALPN is instead
consistently ordered before all application data, including TLS 1.3 early data,
without either a round-trip penalty or the need to send initial pre-negotiation
data (see Section 3.2 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>).<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The Application Layer Protocol Settings (ALPS) extension <span>[<a href="#I-D.vvv-tls-alps" class="xref">I-D.vvv-tls-alps</a>]</span>
implements <span>[<a href="#QUIC-3086-COMMENT" class="xref">QUIC-3086-COMMENT</a>]</span> and adds a similar mechanism for settings
within the protocol. It sends ALPN-specific protocol settings strings in the
handshake, which can be ordered correctly relative to application data and
integrated with TLS 1.3 early data negotiation.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">As an alternative, Section 4.4.4 of <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> allows a server to send
application data after the server Finished message, often referred to as
half-RTT data. Half-RTT data is not a complete solution to the settings problem,
however. This document describes the other changes necessary and compares the
approach to ALPS.<a href="#section-1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="using-half-rtt-data">
<section id="section-2">
      <h2 id="name-using-half-rtt-data">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-using-half-rtt-data" class="section-name selfRef">Using Half-RTT Data</a>
      </h2>
<p id="section-2-1">Although not currently widely-implemented, half-RTT data can be used to deliver
HTTP/2 SETTINGS and other values at the right round-trip. This would result in
a handshake flow like the following.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2-2">
<pre>
    Client                                              Server

    ClientHello               --------&gt;
                                                    ServerHello
                                                            ...
                                                     {Finished}
                              &lt;--------       [HTTP/2 SETTINGS]
    ...
    {Finished}
    [HTTP/2 SETTINGS]         --------&gt;
    [HTTP/2 requests]         &lt;-------&gt;      [HTTP/2 responses]
</pre><a href="#section-2-2" class="pilcrow">¶</a>
</div>
<p id="section-2-3">The approach, however, requires a number of additional changes and protocol
interactions to work correctly.<a href="#section-2-3" class="pilcrow">¶</a></p>
<div id="halfrtt-delimiter">
<section id="section-2.1">
        <h3 id="name-half-rtt-delimiter">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-half-rtt-delimiter" class="section-name selfRef">Half-RTT Delimiter</a>
        </h3>
<p id="section-2.1-1">In this design, the client waits to receive the HTTP/2 SETTINGS frame before
sending requests. However, HTTP/2 servers are not required to send SETTINGS in
half-data today, and most existing ones do not. [[TODO: Did I ever write this
down anywhere I can link to? When I probed TLS 1.3 HTTP/2 servers, I found none
that send half-RTT data.]] Without a new signal to the client, waiting would
add a latency penalty to existing servers. TLS 1.3 does not include a delimiter
between half-RTT data and the rest of the server application stream, so the
client does not know a priori when it is done reading.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">One option would be a TLS extension that adds a delimiter between half-RTT and
normal server application data. The client would then wait for that delimiter
without round-trip penalty and proceed. This would not work in QUIC because QUIC
does not use TLS for application data at all. Instead, half-RTT data would need
to be lifted into the handshake, which is the ALPS extension.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">Alternatively, the client could rely on application protocol semantics, and
assume the protocol defines exactly what is sent in half-RTT. However, HTTP/2
does not do this today. This would require defining new HTTP/2.1 and HTTP/3.1
protocols with a MUST-level requirement to send half-RTT SETTINGS. HTTP/2.1 and
HTTP/3.1 would be negotiated via ALPN. Note both HTTP/2 and HTTP/3 must be
updated because, per Section 3.2 of <span>[<a href="#I-D.ietf-quic-http" class="xref">I-D.ietf-quic-http</a>]</span>, connectivity
problems can break QUIC and clients are encouraged to fall back to a TCP-based
version of HTTP.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="non-integer-http-settings">
<section id="section-2.2">
        <h3 id="name-non-integer-http-settings">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-non-integer-http-settings" class="section-name selfRef">Non-Integer HTTP Settings</a>
        </h3>
<p id="section-2.2-1">The HTTP/2 and HTTP/3 SETTINGS frame can only carry integer values, but
extensions may need to carry variable-length data. For example,
<span>[<a href="#I-D.davidben-http-client-hint-reliability" class="xref">I-D.davidben-http-client-hint-reliability</a>]</span> uses a string value.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2"><span>[<a href="#I-D.bishop-httpbis-extended-settings" class="xref">I-D.bishop-httpbis-extended-settings</a>]</span> proposes an EXTENDED_SETTINGS frame to
fix this. If defining HTTP/2.1 and HTTP/3.1, EXTENDED_SETTINGS can be added as a
mandatory component of the new protocols.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2-3">If EXTENDED_SETTINGS is left optional, the client needs to know whether to
expect a half-RTT EXTENDED_SETTINGS frame after half-RTT SETTINGS, to avoid the
issues discussed in <a href="#halfrtt-delimiter" class="xref">Section 2.1</a>. Thus SETTINGS would need to contain a
SETTINGS_EXTENDED_SETTINGS setting to indicate more half-RTT frames are coming.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2-4"><span>[<a href="#HTTPWG-COMMENT" class="xref">HTTPWG-COMMENT</a>]</span> suggested tabling EXTENDED_SETTINGS in favor of
extensions defining new HTTP frames. That would not work here, absent each
extension additionally defining an analog to SETTINGS_EXTENDED_SETTINGS, to
signal to the client to expect a new frame.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="early-data-and-session-tickets">
<section id="section-2.3">
        <h3 id="name-early-data-and-session-tick">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-early-data-and-session-tick" class="section-name selfRef">Early Data and Session Tickets</a>
        </h3>
<p id="section-2.3-1">TLS 1.3 introduces early data, which allows clients to send application data
before receiving a ServerHello from the server. <span>[<a href="#RFC8470" class="xref">RFC8470</a>]</span> describes how to use
it in HTTP.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">Application-level connection properties additionally must be established before
the client sends early data. Otherwise if, for instance, HPACK static tables are
negotiated, the client will not be able to encode the early request. Note
Section 2 of <span>[<a href="#RFC8470" class="xref">RFC8470</a>]</span> says early data in HTTP is conceptually concatenated
with other application data, so early data and 1-RTT data in HTTP must share
decoding rules.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<p id="section-2.3-3">Early data is sent before any response from the server, so connection properties
are typically carried over from the ticket. Section 4.2.10 of <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span>
describes the mechanism for the ALPN extension: Each PSK has an associated ALPN
protocol, determined from the previous connection. The client sends early data
assuming that protocol was used. If the server negotiates a different value, it
rejects early data.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3-4">Reliably-ordered protocol settings would require a similar construction. However
TLS does not define ALPN's early data behavior generally, so every application
protocol would need to define it themselves and, when implementing, rely on
various callback interfaces in the TLS implementation.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
<p id="section-2.3-5">This also introduces a dependency between NewSessionTicket and the server
application data stream: the NewSessionTicket is not meaningful without part of
the server application data (here, the SETTINGS and EXTENDED_SETTINGS frames).
Moreover, in QUIC and DTLS, post-handshake messages are not ordered relative to
application data, so the client may receive NewSessionTicket messages in the
wrong order. The client then cannot store sessions in the TLS session until some
application-defined point. This requires further integration between TLS and the
application protocol.<a href="#section-2.3-5" class="pilcrow">¶</a></p>
<p id="section-2.3-6">See related discussion in <span>[<a href="#QUIC-436" class="xref">QUIC-436</a>]</span>, <span>[<a href="#QUIC-2790" class="xref">QUIC-2790</a>]</span>, and <span>[<a href="#QUIC-2945" class="xref">QUIC-2945</a>]</span>. Note
HTTP/3 addressed the ordering issue by making associating settings with the
ticket optional on the client <span>[<a href="#QUIC-2972" class="xref">QUIC-2972</a>]</span>, while a solution to this problem
makes it mandatory.<a href="#section-2.3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="halfrtt-client-certs">
<section id="section-2.4">
        <h3 id="name-client-certificates">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-client-certificates" class="section-name selfRef">Client Certificates</a>
        </h3>
<p id="section-2.4-1">TLS APIs are often structured around the following sequence of operations:<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-2.4-2">
<li id="section-2.4-2.1">The calling application configures TLS parameters. This may include preferred
cipher suites, client certificate requirements, callbacks to defer some
configuration, etc.<a href="#section-2.4-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-2.4-2.2">The calling application runs the handshake to some notion of completion.
Before the handshake completes, connection properties are not established,
the peer is not authenticated, and the application does not read or write
data.<a href="#section-2.4-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-2.4-2.3">The calling application queries handshake properties. It may query the
negotiated ALPN protocol to determine how to proceed in the application
protocol. It may query the peer certificate for application-level access
checks.<a href="#section-2.4-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-2.4-2.4">The calling application reads and writes data according to the application
protocol.<a href="#section-2.4-2.4" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-2.4-3">This is analogous to many TCP socket APIs, where there is a "connect" or
"accept" operation that completes before "recv" and "send" operations are
available.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">In server connections that do not resume a session, the TLS 1.3 half-RTT point
has different semantics from a complete TLS handshake. The client's identity has
not been established yes, so TLS implementations cannot transparently report the
connection as ready to the calling application. Doing so risks security issues
(the application's client certificate requirements are not yet checked) and
compatibility breaks (the application cannot usefully query the peer
certificate).<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<p id="section-2.4-5">Instead, the TLS implementation might expose a separate interface for an earlier
partial completion state. The application would then write half-RTT data,
knowing that client authentication requirements are not yet met. This
complicates the interface and the above structure. Alternatively, the TLS
implementation may require the application configure a byte string to send as
half-RTT data during the handshake, but note this risks the deadlocks described
in <a href="#halfrtt-tcp" class="xref">Section 2.6</a>.<a href="#section-2.4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tls-terminators">
<section id="section-2.5">
        <h3 id="name-tls-terminators">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-tls-terminators" class="section-name selfRef">TLS Terminators</a>
        </h3>
<p id="section-2.5-1">Some server deployments use a TLS terminator which then makes a TCP connection
to some backend application server. These deployments would need to
preserve any MUST-level requirements to send SETTINGS in half-RTT data. A TLS
terminator which completes the handshake and then proxies data from the backend
server would inadvertently add a round-trip delay to the SETTINGS frame,
delaying HTTP requests. However, a TLS terminator which begins proxying data at
the half-RTT point instead risks skipping client certificate authentication.<a href="#section-2.5-1" class="pilcrow">¶</a></p>
<p id="section-2.5-2">Instead, the TLS terminator must coordinate with the backend server to determine
what data may be sent early to unauthenticated clients, and what data is bulk
application traffic.<a href="#section-2.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="halfrtt-tcp">
<section id="section-2.6">
        <h3 id="name-tcp-flow-control">
<a href="#section-2.6" class="section-number selfRef">2.6. </a><a href="#name-tcp-flow-control" class="section-name selfRef">TCP Flow Control</a>
        </h3>
<p id="section-2.6-1">If not implemented properly, this design risks deadlocks with TCP flow control
<span>[<a href="#TCP-TLS" class="xref">TCP-TLS</a>]</span>. It is possible for both the client Finished flight and the server
half-RTT data to exceed transport buffers. The server must read the client
Finished flight and complete the handshake, even if the half-RTT data has not
been written to the wire.<a href="#section-2.6-1" class="pilcrow">¶</a></p>
<p id="section-2.6-2">In particular, a TLS implementation may try to avoid the issues in
<a href="#halfrtt-client-certs" class="xref">Section 2.4</a> by treating half-RTT as a configured string sent as
part of the handshake, rather than exposing a writable stream to the calling
application. This strategy must still write half-RTT data in parallel with
completing the handshake to avoid a deadlock. Many TLS implementations are
layered on top of non-blocking TCP socket APIs, which means the calling
application would still be responsible for driving these parallel operations.
This changes the I/O patterns the application expects from TLS.<a href="#section-2.6-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="using-alps">
<section id="section-3">
      <h2 id="name-using-alps">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-using-alps" class="section-name selfRef">Using ALPS</a>
      </h2>
<p id="section-3-1">The ALPS strategy is described in <span>[<a href="#I-D.vvv-tls-alps" class="xref">I-D.vvv-tls-alps</a>]</span> and
<span>[<a href="#I-D.vvv-httpbis-alps" class="xref">I-D.vvv-httpbis-alps</a>]</span>. It implements <span>[<a href="#QUIC-3086-COMMENT" class="xref">QUIC-3086-COMMENT</a>]</span>, sending
application settings in the EncryptedExtensions on both client and server. The
client half is not strictly necessary (TLS 1.3 is always writable on the client
first), but simplifies server implementations in QUIC, where application data
streams are not ordered relative to each other.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3-2">
<pre>
    Client                                               Server

    ClientHello               --------&gt;
                                                    ServerHello
                                          {EncryptedExtensions}
                                        + alps(HTTP/2 SETTINGS)
                                                            ...
                              &lt;--------              {Finished}
    {EncryptedExtensions}
    + alps(HTTP/2 SETTINGS)
    ...
    {Finished}
    [HTTP/2 requests]         &lt;-------&gt;      [HTTP/2 responses]
</pre><a href="#section-3-2" class="pilcrow">¶</a>
</div>
<div id="half-rtt-delimiter">
<section id="section-3.1">
        <h3 id="name-half-rtt-delimiter-2">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-half-rtt-delimiter-2" class="section-name selfRef">Half-RTT Delimiter</a>
        </h3>
<p id="section-3.1-1">ALPS does not require a half-RTT delimiter. The entire payload is sent in the
EncryptedExtensions message, which includes a common framing for extension
values.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="non-integer-http-settings-1">
<section id="section-3.2">
        <h3 id="name-non-integer-http-settings-2">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-non-integer-http-settings-2" class="section-name selfRef">Non-Integer HTTP Settings</a>
        </h3>
<p id="section-3.2-1">As in half-RTT data, an ALPS mechanism for HTTP/2 and HTTP/3 must handle the
SETTINGS frame limitations. <span>[<a href="#I-D.vvv-httpbis-alps" class="xref">I-D.vvv-httpbis-alps</a>]</span> allows the ALPS payload to
contain multiple frames, so either the <span>[<a href="#I-D.bishop-httpbis-extended-settings" class="xref">I-D.bishop-httpbis-extended-settings</a>]</span>
or <span>[<a href="#HTTPWG-COMMENT" class="xref">HTTPWG-COMMENT</a>]</span> strategies may be used. The payload is already framed in
EncryptedExtensions, so there is no need for an indicator value like
SETTINGS_EXTENDED_SETTINGS.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="early-data-and-session-tickets-1">
<section id="section-3.3">
        <h3 id="name-early-data-and-session-ticke">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-early-data-and-session-ticke" class="section-name selfRef">Early Data and Session Tickets</a>
        </h3>
<p id="section-3.3-1">As in the half-RTT strategy, ALPS requires early data and session ticket
integration. However, this behavior is part of the extension itself, so, like
ALPN, there is no need to specify and implement this additional logic for each
application protocol.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">Unlike the application-level integration for half-RTT data, this TLS-level
integration for ALPS does not have ordering issues with NewSessionTicket.
NewSessionTicket messages are ordered relative to the handshake, so the ALPS
values will always be available before a NewSessionTicket.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="alps-client-certs">
<section id="section-3.4">
        <h3 id="name-client-certificates-2">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-client-certificates-2" class="section-name selfRef">Client Certificates</a>
        </h3>
<p id="section-3.4-1">As in ALPN and the half-RTT strategy, the server ALPS value is sent before
receiving the client certificate. In ALPS, this would be part of the extension
semantics exposed to application protocols, just as ALPN configuration is not
protected by client certificates.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tls-terminators-1">
<section id="section-3.5">
        <h3 id="name-tls-terminators-2">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-tls-terminators-2" class="section-name selfRef">TLS Terminators</a>
        </h3>
<p id="section-3.5-1">As in the half-RTT solution, ALPS requires a TLS terminator deployment to
coordinate with its backend server to separate the early, unauthenticated
SETTINGS data from the rest of the stream. However, the payload is already
naturally kept separate from the rest of the application stream. Instead, the
settings values are an analog of the ALPN value, which already requires
coordination.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tcp-flow-control">
<section id="section-3.6">
        <h3 id="name-tcp-flow-control-2">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-tcp-flow-control-2" class="section-name selfRef">TCP Flow Control</a>
        </h3>
<p id="section-3.6-1">ALPS sends the settings values in-band in the TLS handshake, rather than
afterwards, so the deadlock risks described in <span>[<a href="#TCP-TLS" class="xref">TCP-TLS</a>]</span> do not apply. The
client will read the entire EncryptedExtensions message (and more) before
trying to send the client Certificate, CertificateVerify, and Finished.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-4">
      <h2 id="name-security-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-4-1">Any server information delivered in time for the client's first application
data records must be sent before checking client certificates.
<a href="#halfrtt-client-certs" class="xref">Section 2.4</a> and <a href="#alps-client-certs" class="xref">Section 3.4</a> discuss strategies for
ensuring the calling application does not inadvertently reveal sensitive
information to unauthenticated clients.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document has no IANA considerations.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-informative-references">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="HTTP2-788">[HTTP2-788]</dt>
      <dd>
<span class="refTitle">"Update the HPACK static table"</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://github.com/httpwg/http2-spec/issues/788">https://github.com/httpwg/http2-spec/issues/788</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HTTPWG-COMMENT">[HTTPWG-COMMENT]</dt>
      <dd>
<span class="refAuthor">Thomson, M.</span>, <span class="refTitle">"draft-bishop-httpbis-extended-settings-00 comments"</span>, <time datetime="2016-07-13" class="refDate">13 July 2016</time>, <span>&lt;<a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2016JulSep/0127.html">https://lists.w3.org/Archives/Public/ietf-http-wg/2016JulSep/0127.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.bishop-httpbis-extended-settings">[I-D.bishop-httpbis-extended-settings]</dt>
      <dd>
<span class="refAuthor">Bishop, M.</span>, <span class="refTitle">"HTTP/2 Extended SETTINGS Extension"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bishop-httpbis-extended-settings-01</span>, <time datetime="2016-11-15" class="refDate">15 November 2016</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-bishop-httpbis-extended-settings-01.txt">http://www.ietf.org/internet-drafts/draft-bishop-httpbis-extended-settings-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.davidben-http-client-hint-reliability">[I-D.davidben-http-client-hint-reliability]</dt>
      <dd>
<span class="refAuthor">Benjamin, D.</span>, <span class="refTitle">"Client Hint Reliability"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-davidben-http-client-hint-reliability-02</span>, <time datetime="2020-11-30" class="refDate">30 November 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-davidben-http-client-hint-reliability-02.txt">http://www.ietf.org/internet-drafts/draft-davidben-http-client-hint-reliability-02.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-quic-http">[I-D.ietf-quic-http]</dt>
      <dd>
<span class="refAuthor">Bishop, M.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 3 (HTTP/3)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-http-32</span>, <time datetime="2020-10-20" class="refDate">20 October 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-quic-http-32.txt">http://www.ietf.org/internet-drafts/draft-ietf-quic-http-32.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.vvv-httpbis-alps">[I-D.vvv-httpbis-alps]</dt>
      <dd>
<span class="refAuthor">Vasiliev, V.</span>, <span class="refTitle">"Using TLS Application-Layer Protocol Settings (ALPS) in HTTP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-vvv-httpbis-alps-00</span>, <time datetime="2020-07-06" class="refDate">6 July 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-vvv-httpbis-alps-00.txt">http://www.ietf.org/internet-drafts/draft-vvv-httpbis-alps-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.vvv-tls-alps">[I-D.vvv-tls-alps]</dt>
      <dd>
<span class="refAuthor">Benjamin, D.</span><span class="refAuthor"> and V. Vasiliev</span>, <span class="refTitle">"TLS Application-Layer Protocol Settings Extension"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-vvv-tls-alps-01</span>, <time datetime="2020-09-21" class="refDate">21 September 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-vvv-tls-alps-01.txt">http://www.ietf.org/internet-drafts/draft-vvv-tls-alps-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-2790">[QUIC-2790]</dt>
      <dd>
<span class="refAuthor">Thomson, M.</span>, <span class="refTitle">"Binding settings into session tickets"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://github.com/quicwg/base-drafts/issues/2790">https://github.com/quicwg/base-drafts/issues/2790</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-2945">[QUIC-2945]</dt>
      <dd>
<span class="refAuthor">Oku, K.</span>, <span class="refTitle">"When to send the SETTINGS frame"</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://github.com/quicwg/base-drafts/issues/2945">https://github.com/quicwg/base-drafts/issues/2945</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-2972">[QUIC-2972]</dt>
      <dd>
<span class="refAuthor">Bishop, M.</span>, <span class="refTitle">"Send complete SETTINGS"</span>, <time datetime="2019-08" class="refDate">August 2019</time>, <span>&lt;<a href="https://github.com/quicwg/base-drafts/pull/2972">https://github.com/quicwg/base-drafts/pull/2972</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-3086-COMMENT">[QUIC-3086-COMMENT]</dt>
      <dd>
<span class="refAuthor">Bishop, M.</span>, <span class="refTitle">"Add application parameters to QUIC handshake and use it for H3 SETTINGS (comment)"</span>, <time datetime="2019-10-17" class="refDate">17 October 2019</time>, <span>&lt;<a href="https://github.com/quicwg/base-drafts/issues/3086#issuecomment-543373506">https://github.com/quicwg/base-drafts/issues/3086#issuecomment-543373506</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-3622">[QUIC-3622]</dt>
      <dd>
<span class="refTitle">"Make using static table and Huffman encoding in QPACK opt-in"</span>, <time datetime="2020-05" class="refDate">May 2020</time>, <span>&lt;<a href="https://github.com/quicwg/base-drafts/issues/3622">https://github.com/quicwg/base-drafts/issues/3622</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-436">[QUIC-436]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"Move SETTINGS into TLS Handshake"</span>, <time datetime="2017-04" class="refDate">April 2017</time>, <span>&lt;<a href="https://github.com/quicwg/base-drafts/issues/436">https://github.com/quicwg/base-drafts/issues/436</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7301">[RFC7301]</dt>
      <dd>
<span class="refAuthor">Friedl, S.</span><span class="refAuthor">, Popov, A.</span><span class="refAuthor">, Langley, A.</span><span class="refAuthor">, and E. Stephan</span>, <span class="refTitle">"Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension"</span>, <span class="seriesInfo">RFC 7301</span>, <span class="seriesInfo">DOI 10.17487/RFC7301</span>, <time datetime="2014-07" class="refDate">July 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7301">https://www.rfc-editor.org/info/rfc7301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7540">[RFC7540]</dt>
      <dd>
<span class="refAuthor">Belshe, M.</span><span class="refAuthor">, Peon, R.</span><span class="refAuthor">, and M. Thomson, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 2 (HTTP/2)"</span>, <span class="seriesInfo">RFC 7540</span>, <span class="seriesInfo">DOI 10.17487/RFC7540</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7540">https://www.rfc-editor.org/info/rfc7540</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8470">[RFC8470]</dt>
      <dd>
<span class="refAuthor">Thomson, M.</span><span class="refAuthor">, Nottingham, M.</span><span class="refAuthor">, and W. Tarreau</span>, <span class="refTitle">"Using Early Data in HTTP"</span>, <span class="seriesInfo">RFC 8470</span>, <span class="seriesInfo">DOI 10.17487/RFC8470</span>, <time datetime="2018-09" class="refDate">September 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8470">https://www.rfc-editor.org/info/rfc8470</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TCP-TLS">[TCP-TLS]</dt>
    <dd>
<span class="refAuthor">Benjamin, D.</span>, <span class="refTitle">"TLS 1.3 and TCP interactions"</span>, <time datetime="2020-05-29" class="refDate">29 May 2020</time>, <span>&lt;<a href="https://mailarchive.ietf.org/arch/msg/tls/hymweZ66b2C8nnYyXF8cwj7qopc/">https://mailarchive.ietf.org/arch/msg/tls/hymweZ66b2C8nnYyXF8cwj7qopc/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="acknowledgments">
<section id="section-appendix.a">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-appendix.a-1">This document has benefited from contributions and suggestions from Victor
Vasiliev.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">David Benjamin</span></div>
<div dir="auto" class="left"><span class="org">Google LLC</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:davidben@google.com" class="email">davidben@google.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
