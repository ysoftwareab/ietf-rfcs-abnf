
INTERNET-DRAFT                 SONET LINEAR APS MIB           J. Johnson
Expires October 8, 2000                                      M. Thatcher
                                                              J. Kuhfeld
                                                        Redback Networks
                                                           April 8, 2000



                     Definitions of Managed Objects
                   for SONET Linear APS architectures

                 draft-ietf-atommib-sonetaps-mib-01.txt



Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


Copyright Notice

   Copyright (C) The Internet Society 1999.  All Rights Reserved.


Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in TCP/IP based internets.
   In particular it defines objects for managing networks using SONET
   linear Automatic Protection Switching (APS) architectures.



Expires October 8, 2000                                         [Page 1]


INTERNET-DRAFT                                                April 2000


   This memo specifies a MIB module in a manner that is both compliant
   to the SNMPv2 SMI, and semantically identical to the peer SNMPv1
   definitions.


1. Introduction

   This memo defines a portion of the Management Information Base (MIB)
   used for managing SONET linear Automatic Protection Switching (APS)
   architectures. Two linear APS architectures are supported, the 1+1
   architecture and the 1:n architecture.


1.1 Change Log

   This section lists changes made in the Internet Draft revisions of
   this document.

   April 8, 2000

   The following changes were made for the version of this document
   dated April 8, 2000.

   The SYNTAX of apsMapGroupName was changed from SnmpAdminString (SIZE
   (1..32)) to SnmpAdminString (SIZE (0..32)).

   A statement regarding SDH support has been added (suggested by Kaj
   Tesink).

   The rbn prefix has been eliminated (suggested by Orly Nicklass).

   The root of the mib has been changed to experimental XX (suggested by
   Orly Nickalss).

   RowStatus objects have been placed after the table index to allow for
   growth of the tables (suggested by Orly Nicklass).

   The architecture types onePlusOneCompatible and onePlusOneOptimized
   were added to apsConfigMode (suggested by Orly Nicklass).

   The value noCmd has been added to the ApsSwitchCommand and
   ApsControlCommand TEXTUAL-CONVENTIONs. It is returned by a read
   request when no command has been written to the object in question
   since initialization (suggested by Orly Nicklass).

   apsMIBNotifications was changed from apsMIB 0 to apsMIB2.
   apsNotificationsPrefix was created as apsMIBNotifications 0 and the
   individual notifications now fall under apsNotificationsPrefix



Expires October 8, 2000                                         [Page 2]


INTERNET-DRAFT                                                April 2000


   (suggested by Orly Nicklass).

   The DEFVAL of apsConfigWaitToRestore was changed from 10 to 600
   (suggested by Orly Nicklass).

   ApsCommandEntry was corrected to use ApsSwitchCommand and
   ApsControlCommand instead of Integer32 (suggested by Orly Nicklass).

   December 7, 1999

   The following changes were made for the version of this document
   dated December 7, 1999.

   The ApsK1K2 TEXTUAL-CONVENTION was changed from an Integer32 to OCTET
   STRING (SIZE (2)) (borrowed from draft-kchapman-sonet-aps-mib-00.txt
   [19]).

   The command table is indexed by group and channel rather than group
   only.  In apsCommandEntry INDEX specification, IMPLIED was removed
   from apsConfigName and apsChanNumber was added. This allows the use
   of simple command enumeration rather than "cryptic" Integer32 values
   combining channel and command (a variation on command handling in
   draft-kchapman-sonet-aps-mib-00.txt [19]).

   A number of DESCRIPTION fields have been expanded.

   Far-End Protection Line Failure conditions are now monitored. The bit
   feplf was added to apsStatusCurrent, the Counter32 apsStatusFEPLFs
   was added to ApsStatusEntry, and the the NOTIFICATION-TYPE
   apsTrapFEPLF was created (borrowed from draft-kchapman-sonet-aps-
   mib-00.txt [19]).

   The apsChanIfIndex DESCRIPTION indicates that it is an interface with
   ifType sonet(39) (feedback from Kaj Tesink).

   DisplayString objects apsConfigName and apsChanGroupName were changed
   to SnmpAdminString (feedback from Kaj Tesink).

   apsChanGroupName SYNTAX was changed to SnmpAdminString (SIZE (1..32))
   in order to be consistent with apsConfigName.

   Channel configuration is enacted by creating rows in
   apsChanConfigTable which is indexed by group name and channel number.
   (a variation on channel creation in draft-kchapman-sonet-aps-
   mib-00.txt [19]).

   apsStatusCreationTime was renamed apsConfigCreationTime and moved
   from apsStatusTable to apsConfigTable, since it is associated with



Expires October 8, 2000                                         [Page 3]


INTERNET-DRAFT                                                April 2000


   row creation in that table.

   June 28, 1999

   The following changes were made for the version of this document
   dated June 28, 1999.

   References to Protection Switch Byte Failure (PSBF) conditions were
   moved from the channel table to the group status table. Specifically,
   the psbf failure bit was moved from apsChanStatus to
   apsStatusCurrent, apsChanPSBFs was deleted and replaced with
   apsStatusPSBFs and the NOTIFICATION-TYPE apsTrapPSBF was created.
   (feedback from Ken Chapman)


2. The SNMP Management Framework

   The SNMP Management Framework presently consists of five major
   components:

   An overall architecture, described in RFC 2571 [1].

   Mechanisms for describing and naming objects and events for the
   purpose of management. The first version of this Structure of
   Management Information (SMI) is called SMIv1 and described in RFC
   1155 [2], RFC 1212 [3] and RFC 1215 [4]. The second version, called
   SMIv2, is described in RFC 2578 [5], RFC 2579 [6] and RFC 2580 [7].

   Message protocols for transferring management information. The first
   version of the SNMP message protocol is called SNMPv1 and described
   in RFC 1157 [8]. A second version of the SNMP message protocol, which
   is not an Internet standards track protocol, is called SNMPv2c and
   described in RFC 1901 [9] and RFC 1906 [10]. The third version of the
   message protocol is called SNMPv3 and described in RFC 1906 [10], RFC
   2572 [11] and RFC 2574 [12].

   Protocol operations for accessing management information. The first
   set of protocol operations and associated PDU formats is described in
   RFC 1157 [8]. A second set of protocol operations and associated PDU
   formats is described in RFC 1905 [13].

   A set of fundamental applications described in RFC 2573 [14] and the
   view-based access control mechanism described in RFC 2575 [15].

   A more detailed introduction to the current SNMP Management Framework
   can be found in RFC 2570 [16].

   Managed objects are accessed via a virtual information store, termed



Expires October 8, 2000                                         [Page 4]


INTERNET-DRAFT                                                April 2000


   the Management Information Base or MIB.  Objects in the MIB are
   defined using the mechanisms defined in the SMI.

   This memo specifies a MIB module that is compliant to the SMIv2. A
   MIB conforming to the SMIv1 can be produced through the appropriate
   translations. The resulting translated MIB must be semantically
   equivalent, except where objects or events are omitted because no
   translation is possible (use of Counter64). Some machine readable
   information in SMIv2 will be converted into textual descriptions in
   SMIv1 during the translation process. However, this loss of machine
   readable information is not considered to change the semantics of the
   MIB.


3. Object Definitions

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  Objects in the MIB are
   defined using the subset of Abstract Syntax Notation One (ASN.1)
   defined in the SMI.  In particular, each object type is named by an
   OBJECT IDENTIFIER, an administratively assigned name.  The object
   type together with an object instance serves to uniquely identify a
   specific instantiation of the object.  For human convenience, we
   often use a textual string, termed the descriptor, to refer to the
   object type.


4. Overview

   These objects are used to control and manage SONET linear APS
   architectures.

   The mib contains two scalars, containing counts of APS groups and
   SONET LTEs respectively and six tables: apsMapTable,
   apsChanConfigTable, apsConfigTable, apsCommandTable,
   apsChanStatusTable and apsStatusTable. The apsMapTable provides a
   list of SONET LTE interfaces available on the system.  The
   apsChanConfigTable supports addition, modification and deletion of
   entries representing linear APS channels.  The apsConfigTable
   supports addition, modification and deletion of entries representing
   linear APS groups. The apsCommandTable provides linear APS commands
   that support protection switching and the ability to modify APS
   operation. The apsChanStatusTable provides individual channel
   statistics.  The apsStatusTable provides group level statistics.


5. Definitions




Expires October 8, 2000                                         [Page 5]


INTERNET-DRAFT                                                April 2000


   APS-MIB DEFINITIONS ::= BEGIN

   IMPORTS
        MODULE-IDENTITY, TimeTicks,
        OBJECT-IDENTITY, experimental
             FROM SNMPv2-SMI;

   apsMIB MODULE-IDENTITY
       LAST-UPDATED    "200004082300Z"
       ORGANIZATION        "IETF AToMMIB Working Group"
       CONTACT-INFO
           "       Jeff Johnson
                   Postal: RedBack Networks. Inc.
                   350 Holger Way
                   San Jose, CA 95134-1362
                   Tel: +1 408 571 5460
                   Email: jeff@redback.com

                   Michael Thatcher
                   Postal: RedBack Networks. Inc.
                   350 Holger Way
                   San Jose, CA 95134-1362
                   Tel: +1 408 571 5449
                   Email: thatcher@redback.com

                   Jim Kuhfeld
                   Postal: RedBack Networks. Inc.
                   350 Holger Way
                   San Jose, CA 95134-1362
                   Tel: +1 408 571 5465
                   Email: jkuhfeld@redback.com"
       DESCRIPTION
           "This management information module supports the configuration and
            management of SONET linear APS groups.  The definitions and
            descriptions used in this mib have been derived from
            Synchronous Optical Network (SONET) Transport Systems:
            Common Generic Criteria, GR-253-CORE Revision 2, January 1999,
            section 5.3. The MIB is also consistent with the Multiplex
            Section Protection (MSP) protocol as specified in ITU-T
            Recommendation G.783, Characteristics of synchronous digital
            hierarchy (SDH) equipment function blocks, Annex A and B.

            Ring APS groups are not currently supported by this mib.

            The mib contains six tables.

            The apsMapTable contains entries for each SONET LTE
            interface available on the system. The table serves two



Expires October 8, 2000                                         [Page 6]


INTERNET-DRAFT                                                April 2000


            purposes. It can be used to locate SONET LTE
            interfaces that are not currently included in
            APS groups. It also provides a mapping from InterfaceIndex
            to group name and channel number for those SONET LTE
            interfaces that are included in APS groups.
            Entries in apsMapTable cannot be added or deleted
            through operations defined in this mib. However, an
            apsMapEntry may be added or deleted through other system
            mechanisms, such as hot swap.

            The apsChanConfigTable supports addition, modification and
            deletion of entries representing linear APS channels.
            Entries are indexed by a text group name and integer channel
            number. Each entry contains an InterfaceIndex value identifying
            the SONET LTE used for the channel and the priority of the
            channel. A side effect of row creation or deletion is
            creation or deletion of corresponding command and
            channel status entries, and the setting of map entry
            fields. Creation of 2-14 entries in this table with a
            common group name index and consecutive channel numbers
            beginning with zero is the first step in the creation
            and configuration of an APS group. It is not necessary
            to create channel numbers in order, however the resulting
            set of channels must begin with channel number 0 and
            must be consecutive.

            The apsConfigTable supports addition, modification and deletion of
            entries representing linear APS groups. Entries are indexed by a
            text group name. Each entry contains parameters that specify the
            configuration of a particular linear APS group. Entries are
            created  in this table after a set of channels are created
            in the apsChanConfigTable. In order to successfully set an
            instance of apsConfigRowStatus to active the apsConfigEntry
            must contain valid values and all associated apsChanConfigEntry
            rows must be valid and produce a consecutive set of channels
            beginning with channel number 0.

            The apsCommandTable provides linear APS commands that support
            protection switching and the ability to modify APS operation.
            Commands may only be entered if the corresponding
            apsConfigRowStatus instance is set to active. Entries in this
            table are created as a side effect of row addition in the
            apsChanConfigTable.

            The apsChanStatusTable provides individual channel statistics.
            Entries in this table are created as a side effect of row
            addition in the apsChanConfigTable.




Expires October 8, 2000                                         [Page 7]


INTERNET-DRAFT                                                April 2000


            The apsStatusTable provides group level statistics. Entries in
            this table are created as a side effect of row addition in
            apsConfigTable.


            An APS group is created and configured with the following sequence
            of events:

            CHANNEL CONFIGURATION

            Create an entry in the apsChanConfigTable
            Set the apsChanGroupName in an apsChanConfigEntry to a
            user-friendly text string which will serve as the
            APS group name. The string must not be equal to
            the apsConfigName of an existing apsConfigEntry with
            apsConfigRowStatus set to active, since a channel cannot be
            added to an active group. The string may be set equal
            to the apsConfigName of a row which is currently not
            set to active, or it may be set to a string which does
            not currently exist in any instance of apsConfigName.
            A channel number is entered in apsChanNumber.
            A channel priority is entered in apsChanPriority, if
            the intended architecture is 1:n. apsChanPriority is
            ignored if the architecture is 1+1. The InterfaceIndex
            value of a SONET LTE interface is entered in apsChanIfIndex.

            This step is repeated for all apsChanConfigEntry instances
            which are to be included in the APS group.

            ACTIVATING THE GROUP

            If the apsChanGroupName does not exist in an instance
            of apsConfigName, an apsConfigEntry is created with
            the apsChanGroupName value used as the index for the row.
            The apsConfigRowStatus value may be set to createAndGo.
            The apsGroupConfigEntry and apsChanConfigEntry instances with
            matching name fields will be checked for consistency.
            If any errors in the channel numbers, architecture or
            configuration are uncovered the apsConfigRowStatus set
            will return inconsistentValue, otherwise noError is returned.

            If the apsChanGroupName value used in channel configuration
            exists in a previously created, inactive apsConfigEntry instance,
            the apsConfigRowStatus value may be set to active.
            "

       REVISION      "200004082300Z"
       DESCRIPTION



Expires October 8, 2000                                         [Page 8]


INTERNET-DRAFT                                                April 2000


           "A draft version of the linear APS MIB."
           ::= { experimental XX }
   -- assign XX
   -- remove this notice from the MIB




   apsMIBObjects OBJECT IDENTIFIER
        ::= { apsMIB 1 }

   apsMIBNotifications OBJECT IDENTIFIER
        ::= { apsMIB 2 }

   apsMIBConformance OBJECT IDENTIFIER
        ::= { apsMIB 3 }


   ApsK1K2 ::= TEXTUAL-CONVENTION
       STATUS current
       DESCRIPTION
       "This Textual Convention describes an object that stores
        a SONET K1 and K2 byte APS protocol field.

       K1 is located in the first octet, K2 is located in
       the second octet.

       Bits 1-4 of the K1 byte indicate a request.

       1111  Lockout of Protection
       1110  Forced Switch
       1101  SF - High Priority
       1100  SF - Low Priority
       1011  SD - High Priority
       1010  SD - Low Priority
       1001  not used
       1000  Manual Switch
       0111  not used
       0110  Wait-to-Restore
       0101  not used
       0100  Exercise
       0011  not used
       0010  Reverse Request
       0001  Do Not Revert
       0000  No Request

       Bits 5-8 of the K1 byte indicate the channel associated with the
       request defined in bits 1-4.



Expires October 8, 2000                                         [Page 9]


INTERNET-DRAFT                                                April 2000


       0000 is the Null channel

       1-14 are working channels.
       15   is the extra traffic channel

       Bits 1-4 of the K2 byte indicate a channel. The channel is
       defined with the same syntax as K1 Bits 5-8.


       Bit 5 of the K2 byte indicates the
       architecture.

       0 if the architecture is 1+1
       1 if the architecture is 1:n

       Bits 6-8 of the K2 byte indicates the
       mode.

       000 - 011 are reserved for future use

       100  indicates the mode is unidirectional
       101  indicates the mode is bidirectional

       110  RDI-L

       111  AIS-L
       "
       REFERENCE
           "Bellcore (Telcordia Technologies) GR-253-CORE, Issue 2,
           Revision 2 (January 1999), 5.3.5."
       SYNTAX      OCTET STRING (SIZE (2))


   ApsSwitchCommand ::= TEXTUAL-CONVENTION
       STATUS       current
       DESCRIPTION
       "An APS switch command allows a user to perform protection
        switch actions.

        The Switch command values are:

        noCmd(1)

        This value should be returned by a read request when no switch
        command has been written to the object in question since
        initialization. This value may not be used in a write operation.

        clear(2)



Expires October 8, 2000                                        [Page 10]


INTERNET-DRAFT                                                April 2000


        Clears all of the switch commands listed below for the specified
        channel.

        lockoutOfProtection(3)

        Prevents any of the working channels from switching to the protection
        line.

        forcedSwitchWorkToProtect(4)

        Switches the specified working channel to the protection line.

        forcedSwitchProtectToWork(5)

        Switches the working channel back from the protection line to
        the working line.

        manualSwitchWorkToProtect(6)

        Switches the specified working channel to the protection line.

        manualSwitchProtectToWork(7)

        Switches the working channel back from the protection line to
        the working line.

        exercise(8)

        Exercises the protocol for a protection switch of the specified
        channel by issuing an Exercise request for that channel and
        checking the response on the APS channel.
                "
       SYNTAX       INTEGER {
                        noCmd(1),
                        clear(2),
                        lockoutOfProtection(3),
                        forcedSwitchWorkToProtect(4),
                        forcedSwitchProtectToWork(5),
                        manualSwitchWorkToProtect(6),
                        manualSwitchProtectToWork(7),
                        exercise(8)
                    }

   ApsControlCommand ::= TEXTUAL-CONVENTION
       STATUS       current
       DESCRIPTION
       "An APS control command applies only to LTE that support the
        1:n architecture and performs the following actions.



Expires October 8, 2000                                        [Page 11]


INTERNET-DRAFT                                                April 2000


        The Control command values are:

        noCmd(1)

        This value should be returned by a read request when no control
        command has been written to the object in question since
        initialization. This value may not be used in a write operation.

        lockoutWorkingChannel(2)

        Prevents the specified working channel from switching to the protection
        line.

        clearLockoutWorkingChannel(3)

        Clears the lockout a working channel command for the channel specified.
                "
       SYNTAX       INTEGER {
                        noCmd(1),
                        lockoutWorkingChannel(2),
                        clearLockoutWorkingChannel(3)
                    }


   --
   -- APS Configuration Table
   --
   -- This table supports the addition, configuration and deletion of APS
   -- groups.
   --

   apsConfig     OBJECT IDENTIFIER ::= { apsMIBObjects 1 }

   apsConfigGroups OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The count of APS groups."
       ::= { apsConfig 1 }


   apsConfigTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF ApsConfigEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "This table lists the APS groups that have been configured



Expires October 8, 2000                                        [Page 12]


INTERNET-DRAFT                                                April 2000


            on the system."
       ::= { apsConfig 2 }

   apsConfigEntry OBJECT-TYPE
       SYNTAX      ApsConfigEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A conceptual row in the apsConfigTable."
       INDEX { IMPLIED apsConfigName }
       ::= { apsConfigTable  1 }

   ApsConfigEntry ::= SEQUENCE {
       apsConfigName                  SnmpAdminString,
       apsConfigRowStatus             RowStatus,
       apsConfigMode                  INTEGER,
       apsConfigSdBerThreshold        Integer32,
       apsConfigSfBerThreshold        Integer32,
       apsConfigWaitToRestore         Integer32,
       apsConfigCreationTime          TimeTicks
   }


   apsConfigName OBJECT-TYPE
       SYNTAX      SnmpAdminString (SIZE (1..32))
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A textual name for the APS group.
           "
       ::= { apsConfigEntry 1 }

   apsConfigRowStatus OBJECT-TYPE
       SYNTAX      RowStatus
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "The status of this APS group entry.

           An entry may not exist in the active state unless all
           objects in the entry have an appropriate value. Also,
           all associated apsChanConfigEntry rows must represent
           a set of consecutive channel numbers beginning with
           zero.

           If this object is set to destroy, all associated
           apsChanConfigEntry, apsCommandEntry and apsChanStatusEntry
           rows will be deleted. Also, The fields apsMapGroupName



Expires October 8, 2000                                        [Page 13]


INTERNET-DRAFT                                                April 2000


           and apsMapChanNumber in apsMapEntry rows corresponding
           to the deleted channels will be set to a string of size 0
           and -1 respectively.

           This object may be set to notInService. When set to
           notInService changes may be made to apsConfigMode,
           apsConfigSdBerThreshold, apsCOnfigSfBerThreshold,
           and apsConfigWaitToRestore. Also, rows may be
           added and deleted from apsChanConfigTable.
           "
       ::= { apsConfigEntry 2 }

   apsConfigMode OBJECT-TYPE
                 SYNTAX      BITS {
                                  onePlusOne(0),
                                  oneToN(1),
                                  onePlusOneCompatible(2),
                                  onePlusOneOptimized(3),
                                  revertive(4),
                                  bidirectional(5),
                                  extraTrafficAllowed(6)
                                  }
                 MAX-ACCESS  read-create
                 STATUS      current
                 DESCRIPTION
                 "The architecture and mode of the APS group.  The
                  values mean:

                  onePlusOne

                  The 1+1 architecture permanently bridges the working
                  line to the protection line.

                  oneToN

                  The 1:n architecture allows one protection channel to
                  protect up to n working channels. When a fault is detected
                  on one of the n working channels that channel is bridged
                  over the protection channel.

                  onePlusOneCompatible

                  This refers to 1 + 1 bidirectional switching compatible with
                  1:n bidirectional switching as specified in ITU-T
                  Recommendation G.783 (04/97) section A.3.4.1. Since this
                  mode necessitates bidirectional switching the bidirectional
                  bit must also be set whenever onePlusOneCompatible is set.




Expires October 8, 2000                                        [Page 14]


INTERNET-DRAFT                                                April 2000


                  onePlusOneOptimized

                  This refers to 1 + 1 bidirectional switching optimized
                  for a network using predominantly 1 + 1 bidirectional
                  switching as specified in ITU-T Recommendation G.783 (04/97)
                  section B.1. Since this mode necessitates bidirectional
                  switching, the bidirectional bit must also be set whenever
                  onePlusOneOptimized is set.

                  Note: onePlusOne, oneToOne, onePlusOneCompatible and
                  onePlusOneOptimized are mutually exclusive.

                  revertive

                  When the condition that caused a switch to the protection
                  line has been cleared the signal is switched back to the
                  working line. If this bit is clear it indicates a
                  non-revertive system which remains on the protection line
                  until another switch request is received.

                  bidirectional

                  The bi-directional mode provides protection in both
                  directions.

                  If this bit is clear it indicates  unidirectional mode which
                  provides protection in one direction. The default for 1:n is
                  bidirectional. The default for 1+1 is unidirectional.

                  extraTrafficAllowed

                  Extra traffic may be carried on the protection channel in
                  a 1:n architecture if this flag is set. It may be necessary
                  to disable this in order to interwork with other SONET
                  network elements that don't support extra traffic.

                  This object may not be modified if the associated
                  apsConfigRowStatus object is equal to active(1)."
       DEFVAL { '1'H }
       ::= { apsConfigEntry 3 }





   apsConfigSdBerThreshold OBJECT-TYPE
       SYNTAX      Integer32 (5..9)
       MAX-ACCESS  read-create



Expires October 8, 2000                                        [Page 15]


INTERNET-DRAFT                                                April 2000


       STATUS      current
       DESCRIPTION
           "The Signal Degrade Bit Error Rate.

            The negated value of this number is used as the exponent of
            10 for computing the threshold value for the Bit Error Rate
            (BER). For example, a value of 5 indicates a BER threshold of
            10^-5.

           This object may not be modified if the associated
           apsConfigRowStatus object is equal to active(1)."
       DEFVAL { 5 }
       ::= { apsConfigEntry 4 }


   apsConfigSfBerThreshold OBJECT-TYPE
       SYNTAX      Integer32 (3..5)
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "The Signal Failure Bit Error Rate.

            The negated value of this number is used as the exponent of
            10 for computing the threshold value for the Bit Error Rate
            (BER). For example, a value of 5 indicates a BER threshold of
            10^-5.

           This object may not be modified if the associated
           apsConfigRowStatus object is equal to active(1)."
       DEFVAL { 3 }
       ::= { apsConfigEntry 5 }

   apsConfigWaitToRestore OBJECT-TYPE
       SYNTAX      Integer32 (300..720)
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "The Wait To Restore period in seconds.

            This field only applies if revertive switching is enabled,
            otherwise this value is ignored. After clearing of a
            condition that necessitated an automatic switch, the
            wait to restore period must elapse before reverting.
            This is intended to avoid rapid switch oscillations.

            This object may not be modified if the associated
            apsConfigRowStatus object is equal to active(1)."
       DEFVAL { 600 }



Expires October 8, 2000                                        [Page 16]


INTERNET-DRAFT                                                April 2000


       ::= { apsConfigEntry 6 }

   apsConfigCreationTime OBJECT-TYPE
       SYNTAX      TimeTicks
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime at the time the associated
            apsConfigRowStatus instance was set to active."
       ::= { apsConfigEntry 7 }


   --
   -- APS Status Table
   --
   -- This table provides APS group statistics.
   --


   apsStatusTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF ApsStatusEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "This table provides status information about APS groups that have
            been configured on the system."
       ::= { apsMIBObjects 2 }

   apsStatusEntry OBJECT-TYPE
       SYNTAX      ApsStatusEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A conceptual row in the apsStatusTable."
       INDEX { IMPLIED apsConfigName}
       ::= { apsStatusTable  1 }

   ApsStatusEntry ::= SEQUENCE {
       apsStatusK1K2Rcv               ApsK1K2,
       apsStatusK1K2Trans             ApsK1K2,
       apsStatusCurrent               BITS,
       apsStatusModeMismatches        Counter32,
       apsStatusChannelMismatches     Counter32,
       apsStatusPSBFs                 Counter32,
       apsStatusFEPLFs                Counter32
   }





Expires October 8, 2000                                        [Page 17]


INTERNET-DRAFT                                                April 2000


   apsStatusK1K2Rcv OBJECT-TYPE
       SYNTAX      ApsK1K2
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
       "The current value of the K1 and K2 bytes received on the
        protection channel."
       ::= { apsStatusEntry 1 }


   apsStatusK1K2Trans OBJECT-TYPE
       SYNTAX        ApsK1K2
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
       "The current value of the K1 and K2 bytes transmitted on the
        protection channel."
       ::= { apsStatusEntry 2 }



   apsStatusCurrent OBJECT-TYPE
       SYNTAX      BITS {
                     modeMismatch(0),
                     channelMismatch(1),
                     psbf(2),
                     feplf(3),
                     extraTraffic(4)
                    }
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
       "The current status of the APS group.

        modeMismatch

        Modes other than 1+1 unidirectional monitor protection line
        K2 bit 5, which indicates the architecture  and K2 bits
        6-8, which indicate if the mode is unidirectional or
        bidirectional. A conflict between the current local mode
        and the received K2 mode information constitutes a
        mode mismatch.

        channelMismatch

        This bit indicates a  mismatch between the transmitted K1 channel
        and the received K2 channel has been detected.




Expires October 8, 2000                                        [Page 18]


INTERNET-DRAFT                                                April 2000


        psbf

        This bit indicates a Protection Switch Byte Failure (PSBF) is
        in effect. This condition occurs when an invalid code or
        persistently unacceptable codes in the K1 byte are received.

        feplf

        Modes other than 1+1 unidirectional monitor the K1 byte
        for Far-End Protection-Line failures. A Far-End
        Protection-Line defect is declared based on receiving
        SF on the protection line.

        extraTraffic

        This bit indicates whether extra traffic is currently being
        accepted on the protection line.
       "
       ::= { apsStatusEntry 3 }


   apsStatusModeMismatches OBJECT-TYPE
       SYNTAX     Counter32
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "A count of Mode Mismatch conditions."
       ::= { apsStatusEntry 4 }


   apsStatusChannelMismatches OBJECT-TYPE
       SYNTAX     Counter32
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "A count of Channel Mismatch conditions."
       ::= { apsStatusEntry 5 }

   apsStatusPSBFs OBJECT-TYPE
       SYNTAX     Counter32
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "A count of Protection Switch Byte Failure conditions.
            This condition occurs when an invalid code or persistently
            unacceptable codes in the K1 byte are received."
       ::= { apsStatusEntry 6 }




Expires October 8, 2000                                        [Page 19]


INTERNET-DRAFT                                                April 2000


   apsStatusFEPLFs OBJECT-TYPE
       SYNTAX     Counter32
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "A count of Far-End Protection-Line Failure conditions.
            This condition is declared based on receiving SF on
            the protection line in the K1 byte."
       ::= { apsStatusEntry 7 }


   --
   -- APS Map Group
   --
   -- Lists the SONET LTE interfaces that may be used to create APS groups.
   --

   apsMap      OBJECT IDENTIFIER ::= { apsMIBObjects 3 }

   apsChanLTEs OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The count of available SONET LTE interfaces that may be included
            in APS groups."
       ::= { apsMap 1 }


   apsMapTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF ApsMapEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "This table lists the SONET LTE interfaces that may be included in
            APS groups. This is a list of all interfaces on the system with
            ifType sonet(39)."
       ::= { apsMap 2 }

   apsMapEntry OBJECT-TYPE
       SYNTAX      ApsMapEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A conceptual row in the apsMapTable."
       INDEX { apsMapIfIndex }
       ::= { apsMapTable  1 }




Expires October 8, 2000                                        [Page 20]


INTERNET-DRAFT                                                April 2000


   ApsMapEntry ::= SEQUENCE {
       apsMapIfIndex               InterfaceIndex,
       apsMapGroupName             SnmpAdminString,
       apsMapChanNumber            Integer32
   }



   apsMapIfIndex OBJECT-TYPE
       SYNTAX     InterfaceIndex
       MAX-ACCESS not-accessible
       STATUS     current
       DESCRIPTION
       "The Interface Index assigned to a SONET LTE. This is an interface
        with ifType sonet(39)."
       ::= { apsMapEntry 1 }


   apsMapGroupName OBJECT-TYPE
       SYNTAX      SnmpAdminString (SIZE (0..32))
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "A textual name for the APS group which this channel is
            included in.

           If the channel is not part of an APS group this value is set to
           a string of size 0.
          "
       ::= { apsMapEntry 2 }


   apsMapChanNumber OBJECT-TYPE
       SYNTAX     Integer32 (-1..14)
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
       "This field is set to a unique channel number within an APS group.
        The value 0 indicates the null channel. The values 1-14 define a
        working channel.

        If the SONET LTE is not part of an APS group this value is set to -1.
       "
       ::= { apsMapEntry 3 }

   --
   -- APS Channel Configuration Table
   --



Expires October 8, 2000                                        [Page 21]


INTERNET-DRAFT                                                April 2000


   -- This table supports the addition, configuration and deletion of channels
   -- in APS groups.
   --


   apsChanConfigTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF ApsChanConfigEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "This table lists the APS channels that have been configured
            in APS groups."
       ::= { apsMIBObjects 4 }

   apsChanConfigEntry OBJECT-TYPE
       SYNTAX      ApsChanConfigEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A conceptual row in the apsChanConfigTable."
       INDEX {apsChanGroupName, apsChanNumber}
       ::= { apsChanConfigTable  1 }

   ApsChanConfigEntry ::= SEQUENCE {
       apsChanGroupName             SnmpAdminString,
       apsChanNumber                Integer32,
       apsChanRowStatus             RowStatus,
       apsChanIfIndex               InterfaceIndex,
       apsChanPriority              INTEGER
   }

   apsChanGroupName OBJECT-TYPE
       SYNTAX      SnmpAdminString (SIZE (1..32))
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A textual name for the APS group which this channel is
            included in."
       ::= { apsChanConfigEntry 1 }

   apsChanNumber OBJECT-TYPE
       SYNTAX     Integer32 (0..14)
       MAX-ACCESS not-accessible
       STATUS     current
       DESCRIPTION
       "This field is set to a unique channel number within an APS group.
        The value 0 indicates the null channel. The values 1-14 define a
        working channel.



Expires October 8, 2000                                        [Page 22]


INTERNET-DRAFT                                                April 2000


        This field must be assigned a unique number within the group."

       ::= { apsChanConfigEntry 2 }

   apsChanRowStatus OBJECT-TYPE
       SYNTAX      RowStatus
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "The status of this APS channel entry.

           An entry may not exist in the active state unless all
           objects in the entry have an appropriate value.

           A row may not be created with an apsChanGroupName value
           equal to an apsConfigName value if the associated
           apsConfigRowStatus object is equal to active. However,
           if the apsConfigRowStatus object is equal to notInService,
           a row may be created. In other words, a channel may not
           be added to an active group.

           A row may be created with an apsChanGroupName value
           that is not equal to any existing instance of apsConfigName.
           This action is the initial step in adding a SONET LTE to a
           new APS group. An instance of apsConfigName equal to this
           instance of apsChanGroupName will subsequently be created.

           If this object is set to destroy, the associated instance
           of apsMapGroupName will be set to a string of size 0 and
           the apsMapChanNumber will be set to -1
           The channel command and channel status entries will also be
           deleted by this action.

           apsChanNumber must be set to a unique channel number within
           the APS group. The value 0 indicates the null channel.
           The values 1-14 define a working channel. When an attempt is
           made to set the  corresponding apsConfigRowStatus field to
           active the apsChanNumber values of all entries with equal
           apsChanGroupName fields must represent a set of consecutive
           integer values beginning with 0 and ending with n, where n is
           greater than or equal to 1 and less than or equal to 14. Otherwise
           the error inconsistentValue is returned to the apsConfigRowStatus
           set attempt.
           "
       ::= { apsChanConfigEntry 3 }

   apsChanIfIndex OBJECT-TYPE
       SYNTAX     InterfaceIndex



Expires October 8, 2000                                        [Page 23]


INTERNET-DRAFT                                                April 2000


       MAX-ACCESS read-create
       STATUS     current
       DESCRIPTION
       "The Interface Index assigned to a SONET LTE. This is an
        interface with ifType sonet(39). This must not be set
        to the InterfaceIndex of a SONET LTE that is currently
        configured in an APS group. This cannot be set if
        the group specified by apsChanGroupName is currently active.
        "

       ::= { apsChanConfigEntry 4 }


   apsChanPriority OBJECT-TYPE
       SYNTAX     INTEGER {low(1), high(2)}
       MAX-ACCESS read-create
       STATUS     current
       DESCRIPTION
           "The priority of the channel.

            This field deterimines whether high or low priority
            SD and SF codes are used in K1 requests.

           This field is only applicable if the channel is to be included in
           a group using the 1:n architecture. It is not applicable if the
           channel is to be included in a group using the 1+1 architecture,
           and is ignored in that case.
           "
       DEFVAL { 1 }
       ::= { apsChanConfigEntry 5 }

   --
   -- APS Command Table
   --
   -- This table provides the ability to initiate APS commands.
   --

   apsCommandTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF ApsCommandEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "This table allows commands to be sent to configured APS groups."
       ::= { apsMIBObjects 5 }

   apsCommandEntry OBJECT-TYPE
       SYNTAX      ApsCommandEntry
       MAX-ACCESS  not-accessible



Expires October 8, 2000                                        [Page 24]


INTERNET-DRAFT                                                April 2000


       STATUS      current
       DESCRIPTION
           "A conceptual row in the apsCommandTable."
       INDEX {apsChanGroupName, apsChanNumber}
       ::= { apsCommandTable  1 }

   ApsCommandEntry ::= SEQUENCE {
       apsCommandSwitch         ApsSwitchCommand,
       apsCommandControl        ApsControlCommand
   }

   apsCommandSwitch OBJECT-TYPE
       SYNTAX      ApsSwitchCommand
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
       "Allows the initiation of an APS switch command on the
        APS group and channel specified by the index values.

        When read this object returns the last command written
        or noCmd(1) if no command has been written to this
        channel since initialization. The return of the last command
        written does not imply that this command is currently in effect.
        This request may have been preempted by a higer priority
        local or remote request. In order to determine the
        current state of the APS group it is necessary to read
        the objects apsStatusK1K2Rcv and apsStatusK1K2Trans.

        The value lockoutOfProtection(2) should only be applied
        to the protection line channel since that switch command
        prevents any of the working channels from switching to the protection
        line. Following the same logic, forcedSwitchProtectToWork(4) and
        manualSwitchProtectToWork(6) should only be applied to the protection
        line channel.

        forcedSwitchWorkToProtect(3) and manualSwitchWorkToProtect(5)
        should only be applied to a working channel.
        "
       ::= { apsCommandEntry 1 }

   apsCommandControl OBJECT-TYPE
       SYNTAX      ApsControlCommand
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
       "Allows the initiation of an APS control command on the
        APS group and channel specified by the index values.




Expires October 8, 2000                                        [Page 25]


INTERNET-DRAFT                                                April 2000


        When read this object returns the last command written
        or noCmd(1) if no command has been
        written to this channel since initialization.

        This command should not be applied to the protection
        line however, for simplicity the value noCmd(1)
        can be returned if this object is queried with the protection line
        channel.
        "
       ::= { apsCommandEntry 2 }

   --
   -- APS Channel Status Table
   --
   -- This table provides APS channel statistics.
   --

   apsChanStatusTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF ApsChanStatusEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "This table contains status information for all SONET LTE
            interfaces that are included in APS groups."
       ::= { apsMIBObjects 6 }

   apsChanStatusEntry OBJECT-TYPE
       SYNTAX      ApsChanStatusEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A conceptual row in the apsChanStatusTable."
       INDEX {apsChanGroupName, apsChanNumber}
       ::= { apsChanStatusTable  1 }

   ApsChanStatusEntry ::= SEQUENCE {
       apsChanStatus                BITS,
       apsChanSignalDegrades        Counter32,
       apsChanSignalFailures        Counter32,
       apsChanSwitchovers           Counter32,
       apsChanLastSwitchover        TimeTicks
   }

   apsChanStatus OBJECT-TYPE
       SYNTAX     BITS {
                  lockedOut(0),
                  sd(1),
                  sf(2),



Expires October 8, 2000                                        [Page 26]


INTERNET-DRAFT                                                April 2000


                  switched(3)
               }
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "Indicates the current state of the port.

            lockedOut

            This bit, when applied to a working channel, indicates that
            the channel is prevented from switching to the protection line.
            When applied to the null channel, this bit indicates that no
            working channel may switch to the protection line.

            sd

            A signal degrade condition is in effect.

            sf

            A signal failure condition is in effect.

            switched

            The switched bit is applied to a working channel if that
            channel is currently switched to the protection line.
            "
       ::= { apsChanStatusEntry 1 }


   apsChanSignalDegrades OBJECT-TYPE
       SYNTAX     Counter32
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "A count of Signal Degrade conditions. This
            condition occurs when the line Bit Error Rate
            exceeds the currently configured threshold."
       ::= { apsChanStatusEntry 2 }

   apsChanSignalFailures OBJECT-TYPE
       SYNTAX     Counter32
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "A count of Signal Failure conditions that have been
            detected on the incoming signal. This condition occurs
            when a loss of signal, loss of frame, AIS-L or a Line



Expires October 8, 2000                                        [Page 27]


INTERNET-DRAFT                                                April 2000


            bit error rate exceeding 10^-3 is detected on an
            incoming line."
       ::= { apsChanStatusEntry 3 }

   apsChanSwitchovers OBJECT-TYPE
       SYNTAX     Counter32
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "The number of times this channel has switched to the protection
            line. When queried with index value apsChanNumber set to 0, which
            is the protection line, this object will return 0. "
       ::= { apsChanStatusEntry 4 }

   apsChanLastSwitchover OBJECT-TYPE
       SYNTAX     TimeTicks
       MAX-ACCESS read-only
       STATUS     current
       DESCRIPTION
           "The value of sysUpTime when this channel last completed a switch
            to the protection line. If this channel has never switched to the
            protection line, or this channel is the protection line, the value
            0  will be returned."
       ::= { apsChanStatusEntry 5 }

   --
   -- APS TRAPS
   --

   apsNotificationsPrefix OBJECT IDENTIFIER
        ::= { apsMIBNotifications 0 }

   apsTrapSwitchover NOTIFICATION-TYPE
       OBJECTS { apsChanSwitchovers, apsChanStatus }
       STATUS  current
       DESCRIPTION
               "An apsTrapSwitchover notification is sent when the
               value of an instance of apsChanSwitchovers increments."
                  ::= { apsNotificationsPrefix 1 }

   apsTrapModeMismatch NOTIFICATION-TYPE
       OBJECTS { apsStatusModeMismatches, apsStatusCurrent }
       STATUS  current
       DESCRIPTION
               "An apsTrapModeMismatch notification is sent when the
               value of an instance of apsStatusModeMismatches increments."
                  ::= { apsNotificationsPrefix 2 }




Expires October 8, 2000                                        [Page 28]


INTERNET-DRAFT                                                April 2000


   apsTrapChannelMismatch NOTIFICATION-TYPE
       OBJECTS { apsStatusChannelMismatches, apsStatusCurrent }
       STATUS  current
       DESCRIPTION
               "An apsTrapChannelMismatch notification is sent when the
               value of an instance of apsStatusChannelMismatches increments."
                  ::= { apsNotificationsPrefix 3 }

   apsTrapPSBF NOTIFICATION-TYPE
       OBJECTS { apsStatusPSBFs, apsStatusCurrent }
       STATUS  current
       DESCRIPTION
               "An apsTrapPSBF notification is sent when the
                value of an instance of apsStatusPSBFs increments."
                  ::= { apsNotificationsPrefix 4 }

   apsTrapFEPLF NOTIFICATION-TYPE
       OBJECTS { apsStatusFEPLFs, apsStatusCurrent }
       STATUS  current
       DESCRIPTION
               "An apsTrapFEPLFs notification is sent when the
                value of an instance of apsStatusFEPLFs increments."
                  ::= { apsNotificationsPrefix 5 }


   -- conformance information

   apsGroups      OBJECT IDENTIFIER ::= { apsMIBConformance 1 }
   apsCompliances OBJECT IDENTIFIER ::= { apsMIBConformance 2 }


   apsCompliance MODULE-COMPLIANCE
       STATUS  current
       DESCRIPTION
       "The compliance statement for linear APS groups."

       MODULE
       MANDATORY-GROUPS { apsConfigGeneral, apsStatusGeneral, apsChanGeneral }

           OBJECT  apsConfigMode
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."

           OBJECT  apsConfigSdBerThreshold
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."



Expires October 8, 2000                                        [Page 29]


INTERNET-DRAFT                                                April 2000


           OBJECT  apsConfigSfBerThreshold
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."

           OBJECT  apsConfigWaitToRestore
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."

           OBJECT  apsConfigRowStatus
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."

           OBJECT  apsChanIfIndex
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."

           OBJECT  apsChanPriority
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."

           OBJECT  apsChanRowStatus
           MIN-ACCESS  read-only
           DESCRIPTION
               "Write access is not required."


           GROUP       apsConfigOneToN
           DESCRIPTION
               "Implementation of this group is optional for all
                linear APS implementations. The information is
                applicable to groups implementing the linear
                APS 1:n architecture"

           GROUP       apsCommandOnePlusOne
           DESCRIPTION
               "Implementation of this group is optional for all
                linear APS implementations. The information is
                applicable to groups implementing the linear
                APS 1+1 architecture and supporting set operations."

          GROUP       apsCommandOneToN
           DESCRIPTION
               "Implementation of this group is optional for all



Expires October 8, 2000                                        [Page 30]


INTERNET-DRAFT                                                April 2000


                linear APS implementations. The information is
                applicable to groups implementing the linear
                APS 1:n architecture and supporting set operations."

          GROUP       apsChanOneToN
           DESCRIPTION
               "Implementation of this group is optional for all
                linear APS implementations. The information is
                applicable to groups implementing the linear
                APS 1:n architecture."

          GROUP       apsTotalsGroup
           DESCRIPTION
               "Implementation of this group is optional for all
                linear APS implementations."

          GROUP       apsMapGroup
           DESCRIPTION
               "Implementation of this group is optional for all
                linear APS implementations."

       ::= { apsCompliances 1 }

   -- units of conformance

   apsConfigGeneral    OBJECT-GROUP
       OBJECTS
       {
           apsConfigMode,
           apsConfigSdBerThreshold,
           apsConfigSfBerThreshold,
           apsConfigCreationTime,
           apsConfigRowStatus
       }
       STATUS  current
       DESCRIPTION
       "A collection of apsConfigTable objects providing configuration
        information applicable to all linear APS groups."
       ::= { apsGroups 1 }

   apsConfigOneToN    OBJECT-GROUP
       OBJECTS
       {
           apsConfigWaitToRestore
       }
       STATUS  current
       DESCRIPTION
       "The apsConfigTable object that provides information which is only



Expires October 8, 2000                                        [Page 31]


INTERNET-DRAFT                                                April 2000


        applicable to groups implementing the linear APS 1:n architecture."
       ::= { apsGroups 2 }

   --  If set operations are not supported neither of the following two groups
   --  are implemented. If sets are supported only one of these groups is
   --  implemented for a linear APS group instance.

   apsCommandOnePlusOne    OBJECT-GROUP
       OBJECTS
       {
           apsCommandSwitch
       }
       STATUS  current
       DESCRIPTION
       "The  apsCommandTable object which is applicable to groups
        implementing the linear APS 1+1 architecture. Also, set operations
        must be supported."
       ::= { apsGroups 3 }

   apsCommandOneToN    OBJECT-GROUP
       OBJECTS
       {
           apsCommandSwitch,
           apsCommandControl
       }
       STATUS  current
       DESCRIPTION
       "A collection of apsCommandTable objects which are applicable to
        groups implementing the linear APS 1:n architecture. Also, set
        operations must be supported."
       ::= { apsGroups 4 }


   apsStatusGeneral    OBJECT-GROUP
       OBJECTS
       {
           apsStatusK1K2Rcv,
           apsStatusK1K2Trans,
           apsStatusCurrent,
           apsStatusModeMismatches,
           apsStatusChannelMismatches,
           apsStatusPSBFs,
           apsStatusFEPLFs
       }
       STATUS  current
       DESCRIPTION
       "A collection of apsStatusTable objects providing status information
        applicable to all linear APS groups."



Expires October 8, 2000                                        [Page 32]


INTERNET-DRAFT                                                April 2000


       ::= { apsGroups 5 }

   apsChanGeneral    OBJECT-GROUP
       OBJECTS
       {
           apsChanIfIndex,
           apsChanRowStatus,
           apsChanStatus,
           apsChanSignalDegrades,
           apsChanSignalFailures,
           apsChanSwitchovers,
           apsChanLastSwitchover
      }
       STATUS  current
       DESCRIPTION
       "A collection of channel objects providing information applicable to
        all linear APS channels."
       ::= { apsGroups 6 }

   apsChanOneToN    OBJECT-GROUP
       OBJECTS
       {
           apsChanPriority
       }
       STATUS  current
       DESCRIPTION
       "The apsChanConfigTable object that provides information which is only
        applicable to groups implementing the linear APS 1:n architecture."
       ::= { apsGroups 7 }

   apsTotalsGroup OBJECT-GROUP
       OBJECTS
       {
           apsConfigGroups,
           apsChanLTEs
       }
       STATUS  current
       DESCRIPTION
       "A collection of objects providing optional counts of configured APS groups
        and SONET LTE interfaces."
       ::= { apsGroups 8 }


   apsMapGroup OBJECT-GROUP
       OBJECTS
       {
           apsMapGroupName,
           apsMapChanNumber



Expires October 8, 2000                                        [Page 33]


INTERNET-DRAFT                                                April 2000


       }
       STATUS  current
       DESCRIPTION
       "A collection of apsMapTable objects providing a mapping
        from sonet(39) InterfaceIndex to group name and channel
        number for assigned APS channels and a list of unassigned
        sonet(39) interfaces."
       ::= { apsGroups 9 }

   apsTrapOptional NOTIFICATION-GROUP
       NOTIFICATIONS {apsTrapSwitchover, apsTrapModeMismatch,
                      apsTrapChannelMismatch, apsTrapPSBF,
                      apsTrapFEPLF }
       STATUS    current
       DESCRIPTION
       "A collection of SONET linear APS notifications that may optionally be
        implemented."
       ::= { apsGroups 10 }

   END



6. Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.


7. Acknowledgments

   This document is a product of the AToMMIB Working Group. A number of
   constructs from a separate draft submission by Ken Chapman have been
   included here. Additionally, suggestions by Orly Nicklass and Kaj Tesink
   have been incorporated.





Expires October 8, 2000                                        [Page 34]


INTERNET-DRAFT                                                April 2000


8. References


   [1]  Harrington, D., Presuhn, R., and B. Wijnen, An Architecture for
        Describing SNMP Management Frameworks, RFC 2571, Cabletron Systems,
        Inc., BMC Software, Inc., IBM T. J. Watson Research, April 1999

   [2]  Rose, M., and K. McCloghrie, Structure and Identification of
        Management Information for TCP/IP-based Internets, RFC 1155,
        STD 16, Performance Systems International, Hughes LAN Systems, May 1990

   [3]  Rose, M., and K. McCloghrie, Concise MIB Definitions, RFC 1212,
        STD 16, Performance Systems International, Hughes LAN Systems, March 1991

   [4]  M. Rose, A Convention for Defining Traps for use with the SNMP,
        RFC 1215, Performance Systems International, March 1991

   [5]  McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose,
        M., and S. Waldbusser, Structure of Management Information Version 2
        (SMIv2), RFC 2578, STD 58, Cisco Systems, SNMPinfo, TU
        Braunschweig, SNMP Research, First Virtual Holdings, International
        Network Services, April 1999

   [6]  McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose,
        M., and S. Waldbusser, Textual Conventions for SMIv2, RFC 2579,
        STD 58, Cisco Systems, SNMPinfo, TU Braunschweig, SNMP Research,
        First Virtual Holdings, International Network Services, April 1999

   [7]  McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose,
        M., and S. Waldbusser, Conformance Statements for SMIv2, RFC
        2580, STD 58, Cisco Systems, SNMPinfo, TU Braunschweig, SNMP Research,
        First Virtual Holdings, International Network Services, April 1999

   [8]  Case, J., Fedor, M., Schoffstall, M., and J. Davin, Simple Network
        Management Protocol, RFC 1157, STD 15, SNMP Research, Performance
        Systems International, Performance Systems International, MIT Laboratory
        for Computer Science, May 1990.

   [9]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
        Introduction to Community-based SNMPv2, RFC 1901, SNMP Research,
        Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc., International
        Network Services, January 1996.

   [10] Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
        Transport Mappings for Version 2 of the Simple
        Network Management Protocol (SNMPv2), RFC 1906, SNMP Research, Inc.,
        Cisco Systems, Inc., Dover Beach Consulting, Inc., International
        Network Services, January 1996.



Expires October 8, 2000                                        [Page 35]


INTERNET-DRAFT                                                April 2000


   [11] Case, J., Harrington D., Presuhn R., and B. Wijnen, Message
        Processing and Dispatching for the Simple Network Management Protocol
        (SNMP), RFC 2572, SNMP Research, Inc., Cabletron Systems, Inc.,
        BMC Software, Inc., IBM T. J. Watson Research, April 1999

   [12] Blumenthal, U., and B. Wijnen, User-based Security Model (USM)
        for version 3 of the Simple Network Management Protocol (SNMPv3),
        RFC 2574, IBM T. J. Watson Research, April 1999

   [13] Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
        Protocol Operations for Version 2 of the Simple
        Network Management Protocol (SNMPv2), RFC 1905, SNMP Research, Inc.,
        Cisco Systems, Inc., Dover Beach Consulting, Inc., International
        Network Services, January 1996.

   [14] Levi, D., Meyer, P., and B. Stewart, SNMPv3 Applications,
        RFC 2573, SNMP Research, Inc., Secure Computing Corporation,
        Cisco Systems, April 1999

   [15] Wijnen, B., Presuhn, R., and K. McCloghrie, View-based Access
        Control Model (VACM) for the Simple Network Management Protocol
        (SNMP), RFC 2575, IBM T. J. Watson Research, BMC Software, Inc.,
        Cisco Systems, Inc., April 1999

   [16] Case, J., Mundy, R., Partain, D., and B. Stewart, Introduction to
        Version 3 of the Internet-standard Network Management Framework,
        RFC 2570, SNMP Research, Inc., TIS Labs at Network Associates, Inc.,
        Ericsson, Cisco Systems, April 1999

   [17] McCloghrie, K., and F. Kastenholz.  "The Interfaces Group MIB
        using SMIv2", RFC 2233, November 1997.

   [18] GR-253-CORE Issue 2, December 1995, Revision 2, January 1999

   [19] ITU-T Recommendation G.783 (04/97)

   [20] K. Chapman, "Definitions of Managed Objects for SONET Linear
        Automatic Protection Switching (APS)",
        draft-kchapman-sonet-aps-00.txt, July 1999


9.Security Considerations

   There are a number of management objects defined in this MIB
   that have a MAX-ACCESS clause of read-write and/or read-create.
   Such objects may be considered sensitive or vulnerable in some
   network environments.  The support for SET operations in a
   non-secure environment without proper protection can have a



Expires October 8, 2000                                        [Page 36]


INTERNET-DRAFT                                                April 2000


   negative effect on network operations.

   SNMPv1 by itself is not a secure environment.  Even if the
   network itself is secure (for example by using IPSec), even then,
   there is no control as to who on the secure network is allowed
   to access and GET/SET (read/change/create/delete) the objects in
   this MIB.

   It is recommended that the implementers consider the security
   features as provided by the SNMPv3 framework.  Specifically, the
   use of the User-based Security Model RFC 2574 [RFC2574] and the
   View-based Access Control Model RFC 2575 [RFC2575] is recommended.

   It is then a customer/user responsibility to ensure that the SNMP
   entity giving access to an instance of this MIB, is properly
   configured to give access to the objects only to those
   principals (users) that have legitimate rights to indeed GET or
   SET (change/create/delete) them.


10. Editor's  Address

   Jeff Johnson
   RedBack Networks. Inc.
   350 Holger Way
   San Jose, CA 95134-1362
   Phone: +1 408 571 5460
   Email: jeff@redback.com

   Michael Thatcher
   RedBack Networks. Inc.
   350 Holger Way
   San Jose, CA 95134-1362
   Phone: +1 408 571 5449
   Email: thatcher@redback.com

   Jim Kuhfeld
   RedBack Networks. Inc.
   350 Holger Way
   San Jose, CA 95134-1362
   Phone: +1 408 571 5465
   Email: jkuhfeld@redback.com


11. Full Copyright Statement

   Copyright (C) The Internet Society (1999).  All Rights Reserved.




Expires October 8, 2000                                        [Page 37]


INTERNET-DRAFT                                                April 2000


   This document and translations of it may be copied and furnished
   to others, and derivative works that comment on or otherwise
   explain it or assist in its implmentation may be prepared, copied,
   published and distributed, in whole or in part, without
   restriction of any kind, provided that the above copyright notice
   and this paragraph are included on all such copies and derivative
   works.  However, this document itself may not be modified in any
   way, such as by removing the copyright notice or references to the
   Internet Society or other Internet organizations, except as needed
   for the purpose of developing Internet standards in which case the
   procedures for copyrights defined in the Internet Standards
   process must be followed, or as required to translate it into
   languages other than English.

   The limited permissions granted above are perpetual and will not
   be revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on
   an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
   PURPOSE."



























Expires October 8, 2000                                        [Page 38]

