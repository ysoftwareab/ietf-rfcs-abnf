<!DOCTYPE html>
<html lang="en" class="Internet-Draft ">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Packetization Layer Path MTU Discovery (PLMTUD) For UDP Transports Using Session Traversal Utilities for NAT (STUN)</title>
<meta content="Marc Petit-Huguenin" name="author">
<meta content="Gonzalo Salgueiro" name="author">
<meta content="
       The datagram exchanged between two Internet endpoints have to go through a series of physical and virtual links that may have different limits on the upper size of the datagram they can transmit without fragmentation.
Because fragmentation is considered harmful, most transports and protocols are designed with a mechanism that permits dynamic measurement of the maximum size of a datagram.
This mechanism is called Packetization Layer Path MTU Discovery (PLPMTUD).
But the UDP transport and some of the protocols that use UDP were designed without that feature.
The Session Traversal Utilities for NAT (STUN) Usage described in this document permits retrofitting an existing UDP-based protocol with such a feature.
Similarly, a new UDP-based protocol could simply reuse the mechanism described in this document. 
    " name="description">
<meta content="xml2rfc 3.5.0" name="generator">
<meta content="draft-ietf-tram-stun-pmtud-20" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.2
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.4.1
    requests 2.25.1
    setuptools 54.0.0
    six 1.15.0
-->
<link href="/tmp/draft-ietf-tram-stun-pmtud-20.rfc-fblr18jj.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">STUN PMTUD</td>
<td class="right">March 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Petit-Huguenin &amp; Salgueiro</td>
<td class="center">Expires 29 September 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-tram-stun-pmtud-20</dd>
<dt class="label-">:</dt>
<dd></dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-03-28" class="published">28 March 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-09-29">29 September 2021</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Petit-Huguenin</div>
<div class="org">Impedance Mismatch</div>
</div>
<div class="author">
      <div class="author-name">G. Salgueiro</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Packetization Layer Path MTU Discovery (PLMTUD) For UDP Transports Using Session Traversal Utilities for NAT (STUN)</h1>
<div id="_14f62a2d-353e-4193-aadb-168c542e9550">
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<div id="_96e44827-a448-476a-be77-4f0b1bb76b85">
<p id="section-abstract-1">The datagram exchanged between two Internet endpoints have to go through a series of physical and virtual links that may have different limits on the upper size of the datagram they can transmit without fragmentation.
Because fragmentation is considered harmful, most transports and protocols are designed with a mechanism that permits dynamic measurement of the maximum size of a datagram.
This mechanism is called Packetization Layer Path MTU Discovery (PLPMTUD).
But the UDP transport and some of the protocols that use UDP were designed without that feature.
The Session Traversal Utilities for NAT (STUN) Usage described in this document permits retrofitting an existing UDP-based protocol with such a feature.
Similarly, a new UDP-based protocol could simply reuse the mechanism described in this document.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 29 September 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-of-operations" class="xref">Overview of Operations</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-probing-mechanisms" class="xref">Probing Mechanisms</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-simple-probing-mechanism" class="xref">Simple Probing Mechanism</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-sending-a-probe-request" class="xref">Sending a Probe Request</a><a href="#section-toc.1-1.4.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-receiving-a-probe-request" class="xref">Receiving a Probe Request</a><a href="#section-toc.1-1.4.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="xref">4.1.3</a>.  <a href="#name-receiving-a-probe-response" class="xref">Receiving a Probe Response</a><a href="#section-toc.1-1.4.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-complete-probing-mechanism" class="xref">Complete Probing Mechanism</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-sending-a-probe-indications" class="xref">Sending a Probe Indications and Report Request</a><a href="#section-toc.1-1.4.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-receiving-an-icmp-packet" class="xref">Receiving an ICMP Packet</a><a href="#section-toc.1-1.4.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-receiving-a-probe-indicatio" class="xref">Receiving a Probe Indication and Report Request</a><a href="#section-toc.1-1.4.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a href="#section-4.2.4" class="xref">4.2.4</a>.  <a href="#name-receiving-a-report-response" class="xref">Receiving a Report Response</a><a href="#section-toc.1-1.4.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.2.2.5">
                    <p id="section-toc.1-1.4.2.2.2.5.1"><a href="#section-4.2.5" class="xref">4.2.5</a>.  <a href="#name-using-checksums-as-packet-i" class="xref">Using Checksums as Packet Identifiers</a><a href="#section-toc.1-1.4.2.2.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="compact ulEmpty toc" id="section-toc.1-1.4.2.2.2.6">
                    <p id="section-toc.1-1.4.2.2.2.6.1"><a href="#section-4.2.6" class="xref">4.2.6</a>.  <a href="#name-using-sequence-numbers-as-p" class="xref">Using Sequence Numbers as Packet Identifiers</a><a href="#section-toc.1-1.4.2.2.2.6.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-probe-support-signaling-mec" class="xref">Probe Support Signaling Mechanisms</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-explicit-probe-support-sign" class="xref">Explicit Probe Support Signaling Mechanism</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-implicit-probe-support-sign" class="xref">Implicit Probe Support Signaling Mechanism</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-stun-attributes" class="xref">STUN Attributes</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-identifiers" class="xref">IDENTIFIERS</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-pmtud-supported" class="xref">PMTUD-SUPPORTED</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-padding" class="xref">PADDING</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-dplpmtud-considerations" class="xref">DPLPMTUD Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-features-required-to-provid" class="xref">Features Required to provide Datagram PLPMTUD</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-application-support-for-dpl" class="xref">Application Support for DPLPMTUD with UDP</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-new-stun-methods" class="xref">New STUN Methods</a><a href="#section-toc.1-1.9.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-new-stun-attributes" class="xref">New STUN Attributes</a><a href="#section-toc.1-1.9.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.10.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.10.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-changelog" class="xref">Changelog</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-contributors" class="xref">Contributors</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.d" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<div id="_c9812974-bed2-4cdf-bcb4-8d49a60e942a">
<p id="section-1-1">The Packetization Layer Path MTU Discovery (PMTUD) specification <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> describes a method to discover the Path MTU, but does not describe a practical protocol to do so with UDP.
Many application layer protocols based on the transport layer protocol UDP do not implement the Path MTU discovery mechanism described in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span>.
These application layer protocols can make use of the probing mechanisms described in this document instead of designing their own adhoc extension.
These probing mechanisms are implemented with Session Traversal Utilities for NAT (STUN), but their usage is not limited to STUN-based protocols.<a href="#section-1-1" class="pilcrow">¶</a></p>
</div>
<div id="_d9e8864d-9b06-4da7-b41e-a284d6208996">
<p id="section-1-2">The STUN usage defined in this document for Packetization Layer Path MTU Discovery (PLPMTUD) between a client and a server permits proper measurement of the Path MTU for application layer protocols based on the transport layer protocol UDP in the network.
It also simplifies troubleshooting and has multiple other applications across a wide variety of technologies.<a href="#section-1-2" class="pilcrow">¶</a></p>
</div>
<div id="_5d661575-b60a-4e12-823f-10f1d102eef1">
<p id="section-1-3">Complementary techniques can be used to discover additional network characteristics, such as the network path (using the STUN Traceroute mechanism described in <span>[<a href="#I-D.martinsen-tram-stuntrace" class="xref">I-D.martinsen-tram-stuntrace</a>]</span>) and bandwidth availability (using the mechanism described in <span>[<a href="#I-D.martinsen-tram-turnbandwidthprobe" class="xref">I-D.martinsen-tram-turnbandwidthprobe</a>]</span>).
In addition, <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span> provides a robust method for Path MTU Discovery for a broader range of protocols and applications.<a href="#section-1-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="overview">
<section id="section-2">
      <h2 id="name-overview-of-operations">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-of-operations" class="section-name selfRef">Overview of Operations</a>
      </h2>
<div id="_0113445c-1c68-4d7a-b155-aa7a2afc6b84">
<p id="section-2-1">This section is meant to be informative only and is not intended as a substitute for <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
</div>
<div id="_2c2bbeba-b798-4a47-8def-7ad9caa640d5">
<p id="section-2-2">A UDP endpoint that uses this specification to discover the Path MTU over UDP and knows that the endpoint it is communicating with also supports this specification can choose to use either the Simple Probing mechanism (as described in <a href="#probing_simple" class="xref">Section 4.1</a>) or the Complete Probing mechanism (as described in <a href="#probing_complete" class="xref">Section 4.2</a>).
The selection of which Probing Mechanism to use is dependent on performance and security and complexity trade-offs.<a href="#section-2-2" class="pilcrow">¶</a></p>
</div>
<div id="_083a8685-3189-4ef2-aba7-0ea07deb89dc">
<p id="section-2-3">If the Simple Probing mechanism is chosen, then the client initiates Probe transactions, as shown in Figure 1, which decrease in size until transactions succeed, indicating that the Path MTU has been discovered.
It then uses that information to update the Path MTU.<a href="#section-2-3" class="pilcrow">¶</a></p>
</div>
<span id="name-simple-probing-example"></span><div id="_64b5f057-2ece-4543-8111-7382f0f29aa8">
<figure id="figure-1">
        <div id="_9a5fd398-042f-4ccd-8e18-6ef47ad394ff">
<div class="artwork art-text alignLeft art-ascii-art" id="section-2-4.1">
<pre>Client           Server
  |                 |
  | Probe Request   |
  |----------------&gt;|
  |                 |
  |  Probe Response |
  |&lt;----------------|
  |                 |</pre>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-simple-probing-example" class="selfRef">Simple Probing Example</a>
        </figcaption></figure>
</div>
<div id="_32fcdcc2-39ea-4f06-a9e7-87c0ba400e44">
<p id="section-2-5">If the Complete Probing mechanism (as described in <a href="#probing_complete" class="xref">Section 4.2</a>) is chosen, then the client sends Probe Indications of various sizes (as specified in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span>) interleaved with UDP packets sent by the UDP protocol.
The client then sends a Report Request for the ordered list of identifiers for the UDP packets and Probe Indications received by the server.
The client then compares the list returned in the Report Response with its own list of identifiers for the UDP packets and Probe Indications it sent.
The client examines the received reports to determine which probes were successful.
When a probe succeeds with a larger size than the current PMTU, the PMTU is increased.
When the probes indicate the current PMTU is not supported the size is decreased.
This mechanism acts to detect that traffic is being back holed.<a href="#section-2-5" class="pilcrow">¶</a></p>
</div>
<div id="_c8d6c39d-a953-4f70-a396-3e196d5baac7">
<p id="section-2-6">Because of the possibility of amplification attack, the Complete Probing mechanism must be authenticated as specified in <a href="#probing_signal_explicit" class="xref">Section 5.1</a>.
Particular care must be taken to prevent amplification when an external mechanism is used to trigger the Complete Probing mechanism.<a href="#section-2-6" class="pilcrow">¶</a></p>
</div>
<span id="name-complete-probing-example"></span><div id="_1051d8dd-ba2a-4af9-a2b4-b000406d274b">
<figure id="figure-2">
        <div id="_ee0c279a-0d8f-4410-adf6-cfbb77d5c254">
<div class="artwork art-text alignLeft art-ascii-art" id="section-2-7.1">
<pre>Client              Server
   | UDP Packet        |
   |------------------&gt;|
   |                   |
   | UDP Packet        |
   |------------------&gt;|
   |                   |
   | Probe Indication  |
   |------------------&gt;|
   |                   |
   | UDP Packet        |
   |------------------&gt;|
   |                   |
   | Probe Indication  |
   |------------------&gt;|
   |                   |
   | Report Request    |
   |------------------&gt;|
   |   Report Response |
   |&lt;------------------|
   |                   |</pre>
</div>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-complete-probing-example" class="selfRef">Complete Probing Example</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="term">
<section id="section-3">
      <h2 id="name-terminology">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<div id="_a5e80da9-a2ff-4fca-b68c-62fd7405ec1e">
<p id="section-3-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span><span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as shown here.<a href="#section-3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="probing">
<section id="section-4">
      <h2 id="name-probing-mechanisms">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-probing-mechanisms" class="section-name selfRef">Probing Mechanisms</a>
      </h2>
<div id="_c9561992-c195-46fe-b819-f5017a61435e">
<p id="section-4-1">The Probing mechanism is used to discover the Path MTU in one direction only: from the client to the server.
Both endpoints MAY behave as a client and a server to achieve bi-directional path discovery.<a href="#section-4-1" class="pilcrow">¶</a></p>
</div>
<div id="_433b1782-b87f-4874-8c42-f690b0e96ef9">
<p id="section-4-2">Two Probing mechanisms are described: a Simple Probing mechanism and a more complete mechanism that can converge more quickly and find an appropriate Path MTU in the presence of congestion.
Additionally, the Simple Probing mechanism does not require authentication except where used as an implicit signaling mechanism, whereas the complete mechanism does.<a href="#section-4-2" class="pilcrow">¶</a></p>
</div>
<div id="_5f94e3b9-f1f1-4681-ace0-49801b3cd0f4">
<p id="section-4-3">Implementations supporting this specification MUST implement the server side of both the Simple Probing mechanism (<a href="#probing_simple" class="xref">Section 4.1</a>) and the Complete Probing mechanism (<a href="#probing_complete" class="xref">Section 4.2</a>).<a href="#section-4-3" class="pilcrow">¶</a></p>
</div>
<div id="_429620d4-3c63-4096-a857-5916ce5a958b">
<p id="section-4-4">Implementations supporting this specification MUST implement the client side of the Complete Probing mechanism.
They MAY implement the client side of the Simple Probing mechanism.<a href="#section-4-4" class="pilcrow">¶</a></p>
</div>
<div id="_56f84882-26ce-48fb-b9d8-ccb36a7a562c">
<p id="section-4-5">The FINGERPRINT mechanism described in section 7 of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> MUST be used for both probing mechanisms.<a href="#section-4-5" class="pilcrow">¶</a></p>
</div>
<div id="probing_simple">
<section id="section-4.1">
        <h3 id="name-simple-probing-mechanism">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-simple-probing-mechanism" class="section-name selfRef">Simple Probing Mechanism</a>
        </h3>
<div id="_661459c7-da83-4f61-a72b-9f29fc6ecff7">
<p id="section-4.1-1">The Simple Probing mechanism is implemented by sending a Probe Request with a PADDING attribute over UDP with the DF bit set in the IP header for IPv4 packets and IPv6 packets without the Fragment Header included.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_919797bd-56b3-474f-831e-152444dfcb4a">
<aside id="section-4.1-2">
          <p id="section-4.1-2.1">NOTE: Routers might be configured to clear the DF bit or ignore the DF bit which can be difficult or impossible to detect if reassembly occurs prior to receiving the packet.<a href="#section-4.1-2.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_78af2b3b-e97f-40fd-bc2e-48da16278c76">
<p id="section-4.1-3">The Simple Probing Mechanism uses only STUN Requests/Responses, which are subject to the congestion control mechanism in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> section 6.2.1.
The default Rc and Rm values may be defined differently for a combination of the Simple Probing Mechanism and the protocol running on the same port.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</div>
<div id="probing_simple_send">
<section id="section-4.1.1">
          <h4 id="name-sending-a-probe-request">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-sending-a-probe-request" class="section-name selfRef">Sending a Probe Request</a>
          </h4>
<div id="_a2e1a1d0-88c6-42d4-9b7d-4b7176bf68f5">
<p id="section-4.1.1-1">A client forms a Probe Request by using the Probe Method and following the rules in Section 6.1 of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_a0cc807d-b657-4a5e-a074-dcc068e86569">
<p id="section-4.1.1-2">The Probe transaction MUST be authenticated if the Simple Probing mechanism is used in conjunction with the Implicit Probing Support mechanism described in <a href="#probing_signal_implicit" class="xref">Section 5.2</a>.
If not, the Probe transaction MAY be authenticated.<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_02af301d-5879-4a00-9551-5505084e07b1">
<p id="section-4.1.1-3">The client adds a PADDING attribute with a length that, when added to the IP and UDP headers and the other STUN components, is equal to the Selected Probe Size, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.3.
The PADDING bits MUST be set to zero.
The client MUST add the FINGERPRINT attribute so the STUN messages are disambiguated from the other protocol packets as specified in Section 7 of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_dab65f73-7793-4b22-810e-f815bd020833">
<p id="section-4.1.1-4">Then the client sends the Probe Request to the server over UDP with the DF bit set for IPv4 packets and IPv6 packets without the Fragment Header included.
For the purpose of this transaction, the Rc parameter is set to 3 and the initial value for RTO stays at 500 ms as specified in Section 6.2.1 of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>.<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_d2e991bf-ee0a-45b1-8a50-3016c0e70799">
<p id="section-4.1.1-5">To be able to determine the reason STUN messages may be blocked, a client MUST NOT send a probe if it does not have knowledge that the server supports this specification.
This is done either by external signalling or by a mechanism specific to the UDP protocol to which PMTUD capabilities are added or by one of the mechanisms specified in <a href="#probing_signal" class="xref">Section 5</a>.<a href="#section-4.1.1-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="probing_simple_receiverequest">
<section id="section-4.1.2">
          <h4 id="name-receiving-a-probe-request">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-receiving-a-probe-request" class="section-name selfRef">Receiving a Probe Request</a>
          </h4>
<div id="_42654e81-c178-45fd-abe5-49378cd8c9ab">
<p id="section-4.1.2-1">A server receiving a Probe Request MUST process it as specified in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_37b234c3-4d27-457d-856c-6f0f539d2037">
<p id="section-4.1.2-2">The server then creates a Probe Response.
The server MUST add the FINGERPRINT attribute so the STUN messages are disambiguated from the other protocol packets as specified in Section 7 of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>.
The server then sends the response to the client.<a href="#section-4.1.2-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="probing_simple_receiveresponse">
<section id="section-4.1.3">
          <h4 id="name-receiving-a-probe-response">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-receiving-a-probe-response" class="section-name selfRef">Receiving a Probe Response</a>
          </h4>
<div id="_fd5e5dbb-cb39-4b65-a47a-f9e0bf11f356">
<p id="section-4.1.3-1">A client receiving a Probe Response MUST process it as specified in section 6.3.3 of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> and MUST ignore the PADDING attribute.
If a response is received this is interpreted as a Probe Success, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.6.1.
If an ICMP packet "Fragmentation needed" or "Packet Too Big" is received then this is interpreted as a Probe Failure, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.6.2.
If the Probe transaction times out, then this is interpreted as a Probe Inconclusive, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.6.4.
Validation MUST be performed on the ICMP packet as specified in <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span>.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="probing_complete">
<section id="section-4.2">
        <h3 id="name-complete-probing-mechanism">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-complete-probing-mechanism" class="section-name selfRef">Complete Probing Mechanism</a>
        </h3>
<div id="_cbc51924-7552-43bf-b90b-5243f66b8e29">
<p id="section-4.2-1">The Complete Probing mechanism is implemented by sending one or more Probe Indications with a PADDING attribute over UDP with the DF bit set in the IP header for IPv4 packets and IPv6 packets without the Fragment Header included followed by a Report Request to the same server.
A router on the path to the server can reject this Indication with an ICMP message or drop it.
The server keeps a chronologically ordered list of identifiers for all packets received (including retransmitted packets) and sends this list back to the client in the Report Response.
The client analyzes this list to find which packets were not received.
Because UDP packets do not contain an identifier, the Complete Probing mechanism needs a way to identify each packet received.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_3190416c-2148-4346-8bdb-991d3f7c6fe3">
<p id="section-4.2-2">Some application layer protocols may already have a way of identifying each individual UDP packet, in which case these identifiers SHOULD be used in the IDENTIFIERS attribute of the Report Response.
While there are other possible packet identification schemes, this document describes two different ways to identify a specific packet when no application layer protocol-specific identification mechanism is available.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_f7b7f457-1714-45e3-91ed-f54f4382350b">
<p id="section-4.2-3">In the first packet identification mechanism, the server computes a checksum over each packet received and sends back to the sender the list of checksums ordered chronologically.
The client compares this list to its own list of checksums.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_0baf1c27-bd97-40b3-bd4a-7c0f2d895d1f">
<p id="section-4.2-4">In the second packet identification mechanism, the client prepends the UDP data with a header that provides a sequence number.
The server sends back the chronologically ordered list of sequence numbers received that the client then compares with its own list.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_8847e2bb-2944-4e85-880e-e06f04a03b29">
<p id="section-4.2-5">The Simple Probing Mechanism uses STUN indications, which are not subject to the congestion control mechanism in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> section 6.2.1.
As it will have to be intricately related to the protocol that runs on the same port, each implementation of the Complete Probing Mechanism in association MUST define the congestion control that will be applied to the STUN Indications.
The default Rc and Rm values for the STUN Requests/Responses may be defined differently for a combination of the Simple Probing Mechanism and the protocol running on the same port.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</div>
<div id="probing_complete_send">
<section id="section-4.2.1">
          <h4 id="name-sending-a-probe-indications">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-sending-a-probe-indications" class="section-name selfRef">Sending a Probe Indications and Report Request</a>
          </h4>
<div id="_ce13456c-d6d3-4531-af58-ad29501ab32e">
<p id="section-4.2.1-1">A client forms a Probe Indication by using the Probe Method and following the rules in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> Section 6.1.
The client adds to a Probe Indication a PADDING attribute with a size that, when added to the IP and UDP headers and the other STUN components, is equal to the Selected Probe Size, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.3.
The PADDING bits MUST be set to zero.
If the authentication mechanism permits it, then the Indication MUST be authenticated.
The client MUST add the FINGERPRINT attribute so the STUN messages are disambiguated from the other protocol packets.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_34c1c559-94cc-4878-b738-d374dd7174a5">
<p id="section-4.2.1-2">Then the client sends a Probe Indication to the server over UDP with the DF bit set for IPv4 packets and IPv6 packets without the Fragment Header included.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_567a2fdb-e36c-42b3-95e1-9382ae4d32a6">
<p id="section-4.2.1-3">Then the client forms a Report Request by following the rules in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> Section 6.1.
The Report transaction MUST be authenticated to prevent amplification attacks.
The client MUST add the FINGERPRINT attribute so the STUN messages are disambiguated from the other protocol packets.<a href="#section-4.2.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_a6a9aecb-4185-4472-befe-0ce34c99cb14">
<p id="section-4.2.1-4">Then the client waits half the RTO after sending the last Probe Indication and then sends the Report Request to the server over UDP.<a href="#section-4.2.1-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="probing_complete_receiveicmp">
<section id="section-4.2.2">
          <h4 id="name-receiving-an-icmp-packet">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-receiving-an-icmp-packet" class="section-name selfRef">Receiving an ICMP Packet</a>
          </h4>
<div id="_01ca90be-d26b-4f90-9d87-e0d021a717a9">
<p id="section-4.2.2-1">If an ICMP packet "Fragmentation needed" or "Packet Too Big" is received then this is interpreted as a Probe Failure, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.5.
Validation MUST be performed on the ICMP packet as specified in <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span>.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="probing_complete_receiveprobe">
<section id="section-4.2.3">
          <h4 id="name-receiving-a-probe-indicatio">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-receiving-a-probe-indicatio" class="section-name selfRef">Receiving a Probe Indication and Report Request</a>
          </h4>
<div id="_7835fe8c-c2aa-477e-a427-32fd1c382c2d">
<p id="section-4.2.3-1">A server supporting this specification will keep the identifiers of all packets received in a chronologically ordered list.
The packets that are to be associated to a given flow's identifier are selected according to Section 5.2 of <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span>.
The same identifier can appear multiple times in the list because of retransmissions.
The maximum size of this list is calculated such that when the list is added to the Report Response, the total size of the packet does not exceed the unknown Path MTU, as defined in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> Section 6.1.
Older identifiers are removed when new identifiers are added to a list that is already full.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_3c3414f8-fcaa-48a1-b657-4fda02155453">
<p id="section-4.2.3-2">A server receiving a Report Request MUST process it as specified in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> and MUST ignore the PADDING attribute.<a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_29508bee-8594-4b6a-89ef-6448a36ce062">
<p id="section-4.2.3-3">The server creates a Report Response and adds an IDENTIFIERS attribute that contains the chronologically ordered list of all identifiers received so far.
The server MUST add the FINGERPRINT attribute.
The server then sends the response to the client.<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_926ef2dc-3752-41c2-8cfd-adafb2afbee6">
<p id="section-4.2.3-4">The exact content of the IDENTIFIERS attribute depends on what type of identifiers have been chosen for the protocol.
Each protocol adding PMTUD capabilities as specified by this specification MUST describe the format of the contents of the IDENTIFIERS attribute, unless it is using one of the formats described in this specification.
See <a href="#attrs_identifiers" class="xref">Section 6.1</a> for details about the IDENTIFIERS attribute.<a href="#section-4.2.3-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="probing_complete_receiveresponse">
<section id="section-4.2.4">
          <h4 id="name-receiving-a-report-response">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-receiving-a-report-response" class="section-name selfRef">Receiving a Report Response</a>
          </h4>
<div id="_bbae9d40-973e-4858-9e28-82369c65d0d6">
<p id="section-4.2.4-1">A client receiving a Report Response processes it as specified in <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>.
If the response IDENTIFIERS attribute contains the identifier of a Probe Indication, then this is interpreted as a Probe Success for this probe, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.5.
If a Probe Indication identifier cannot be found in the Report Response, this is interpreted as a Probe Failure, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.5.
If a Probe Indication identifier cannot be found in the Report Response but identifiers for other packets sent before or after the Probe Indication can all be found, this is interpreted as a Probe Failure as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 7.5.
If the Report Transaction times out, this is interpreted as a Full-Stop Timeout, as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> Section 3.<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="probing_complete_checksum">
<section id="section-4.2.5">
          <h4 id="name-using-checksums-as-packet-i">
<a href="#section-4.2.5" class="section-number selfRef">4.2.5. </a><a href="#name-using-checksums-as-packet-i" class="section-name selfRef">Using Checksums as Packet Identifiers</a>
          </h4>
<div id="_4ecfa33e-614b-462d-baf9-841e4563a2be">
<p id="section-4.2.5-1">When using a checksum as a packet identifier, the client keeps a chronologically ordered list of the packets it transmits, along with an associated checksum value.
For STUN Probe Indication or Request packets, the associated checksum value is the FINGERPRINT value from the packet; for other packets a checksum value is computed.
The value of the checksum is computed as the CRC-32 of the UDP payload, as defined by the Length field of the UDP datagram <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span>, XOR'ed with the 32-bit value 0x5354554e.
The 32-bit CRC is the one defined in ITU V.42 <span>[<a href="#ITU.V42.2002" class="xref">ITU.V42.2002</a>]</span>, which has a generator polynomial of x^32 + x^26 + x^23 + x^22 + x^16 + x^12 + x^11 + x^10 + x^8 + x^7 + x^5 + x^4 + x^2 + x + 1.<a href="#section-4.2.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_b02f3f35-e695-4f8a-aa35-9640c864f8ed">
<p id="section-4.2.5-2">For each STUN Probe Indication or Request, the server retrieves the STUN FINGERPRINT value.
For all other packets, the server calculates the checksum as described above.
It puts these FINGERPRINT and checksum values in a chronologically ordered list that is sent back in the Report Response.<a href="#section-4.2.5-2" class="pilcrow">¶</a></p>
</div>
<div id="_f45797f3-0879-4b35-bc70-cd42f7545e39">
<p id="section-4.2.5-3">The contents of the IDENTIFIERS attribute is a list of 4 byte numbers, each using the same encoding that is used for the contents of the FINGERPRINT attribute.<a href="#section-4.2.5-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_using_sequence_numbers_as_packet_identifiers">
<section id="section-4.2.6">
          <h4 id="name-using-sequence-numbers-as-p">
<a href="#section-4.2.6" class="section-number selfRef">4.2.6. </a><a href="#name-using-sequence-numbers-as-p" class="section-name selfRef">Using Sequence Numbers as Packet Identifiers</a>
          </h4>
<div id="_2543ae59-e70f-44a2-a9af-4b9a8b85135d">
<p id="section-4.2.6-1">When using sequence numbers, a small header similar to the TURN ChannelData header, as defined in Section 11.4 of <span>[<a href="#RFC5766" class="xref">RFC5766</a>]</span>, is added in front of all packets that are not a STUN Probe Indication or Request.
The initial sequence number MUST be randomized and is monotonically incremented by one for each packet sent.
The most significant bit of the sequence number is always 0.
The server collects the sequence number of the packets sent, or the 4 first bytes of the transaction ID if a STUN Probe Indication or Request is sent.
In that case, the most significant bit of the 4 first bytes is set to 1.<a href="#section-4.2.6-1" class="pilcrow">¶</a></p>
</div>
<div id="_25bc532c-48d0-41c5-a05b-4f26a56d17bc">
<figure id="figure-3">
            <div id="_7180ef31-2e19-436e-8579-3199bef19c40">
<div class="artwork art-text alignLeft art-ascii-art" id="section-4.2.6-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Channel Number        |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0|                      Sequence number                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
/                       Application Data                        /
/                                                               /
|                                                               |
|                               +-------------------------------+
|                               |
+-------------------------------+</pre>
</div>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a></figcaption></figure>
</div>
<div id="_8ec161a1-17e8-46c6-b8f9-7568eb1d08dc">
<p id="section-4.2.6-3">The Channel Number is always 0xFFFF.
The Length field specifies the length in bytes of the sequence number and application data fields.
The header values are encoded using network order.<a href="#section-4.2.6-3" class="pilcrow">¶</a></p>
</div>
<div id="_1342fcd7-e1cb-47d6-b7e8-f93ce5257551">
<p id="section-4.2.6-4">The contents of the IDENTIFIERS attribute is a chronologically ordered list of 4 byte numbers, each containing either a sequence number, if the packet was not a STUN Probe Indication or Request, or the 4 first bytes of the transaction ID, with the most significant bit forced to 1, if the packet is a STUN Probe Indication or Request.<a href="#section-4.2.6-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="probing_signal">
<section id="section-5">
      <h2 id="name-probe-support-signaling-mec">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-probe-support-signaling-mec" class="section-name selfRef">Probe Support Signaling Mechanisms</a>
      </h2>
<div id="_335beb96-9617-479c-8bdd-f20a8d58a73b">
<p id="section-5-1">The PMTUD mechanism described in this document is intended to be used by any UDP-based protocols that do not have built-in PMTUD capabilities, irrespective of whether those UDP-based protocols are STUN-based or not.
So the manner in which a specific protocol discovers that it is safe to send PMTUD probes is largely dependent on the details of that specific protocol, with the exception of the Implicit Mechanism described below, which applies to any protocol.<a href="#section-5-1" class="pilcrow">¶</a></p>
</div>
<div id="probing_signal_explicit">
<section id="section-5.1">
        <h3 id="name-explicit-probe-support-sign">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-explicit-probe-support-sign" class="section-name selfRef">Explicit Probe Support Signaling Mechanism</a>
        </h3>
<div id="_652f5369-dbf3-425a-8b29-accee568f99a">
<p id="section-5.1-1">Some of these mechanisms can use a separate signalling mechanism (for instance, an SDP attribute in an Offer/Answer exchange <span>[<a href="#RFC3264" class="xref">RFC3264</a>]</span>), or an optional flag that can be set in the protocol that is augmented with PMTUD capabilities.
STUN Usages that can benefit from PMTUD capabilities can signal in-band that they support probing by inserting a PMTUD-SUPPORTED attribute in some STUN methods.
The decision of which methods support this attribute is left to each specific STUN Usage.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_b0b81fc8-b0b0-407b-84dd-b5ac75e3444a">
<p id="section-5.1-2">UDP-based protocols that want to use any of these mechanisms, including the PMTUD-SUPPORTED attribute, to signal PMTUD capabilities MUST ensure that it cannot be used to launch an amplification attack.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_dbb905e1-931f-4daa-83c2-e70bdbe320d2">
<p id="section-5.1-3">An amplification attack can be prevented using techniques such as:<a href="#section-5.1-3" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-5.1-4.1">
            <div id="_4fbfb446-bc29-4aac-b507-5b373038c5df">
<p id="section-5.1-4.1.1">Authentication, where the source of the packet and the destination share a secret.<a href="#section-5.1-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.1-4.2">
            <div id="_b9de462f-581f-4ee7-bec8-17aafae99dd5">
<p id="section-5.1-4.2.1">3 way handshake with some form of unpredictable cookie.<a href="#section-5.1-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.1-4.3">
            <div id="_e9321c92-9bf4-4021-bf41-057169897a10">
<p id="section-5.1-4.3.1">Make sure that the total size of the traffic potentially generated is lower than the size of the request that generated it.<a href="#section-5.1-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
</section>
</div>
<div id="probing_signal_implicit">
<section id="section-5.2">
        <h3 id="name-implicit-probe-support-sign">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-implicit-probe-support-sign" class="section-name selfRef">Implicit Probe Support Signaling Mechanism</a>
        </h3>
<div id="_30b91098-450c-418e-85e8-9e08dbc25280">
<p id="section-5.2-1">As a result of the fact that all endpoints implementing this specification are both clients and servers, a Probe Request or Indication received by an endpoint acting as a server implicitly signals that this server can now act as a client and MAY send a Probe Request or Indication to probe the Path MTU in the reverse direction toward the former client, that will now be acting as a server.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_1fdfe753-0a6b-49a6-b67c-12cef20eaabe">
<p id="section-5.2-2">The Probe Request or Indication that are used to implicitly signal probing support in the reverse direction MUST be authenticated to prevent amplification attacks.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="attrs">
<section id="section-6">
      <h2 id="name-stun-attributes">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-stun-attributes" class="section-name selfRef">STUN Attributes</a>
      </h2>
<div id="attrs_identifiers">
<section id="section-6.1">
        <h3 id="name-identifiers">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-identifiers" class="section-name selfRef">IDENTIFIERS</a>
        </h3>
<div id="_c4a04dae-b89a-4cfc-b275-b21f6b51a1a5">
<p id="section-6.1-1">The IDENTIFIERS attribute carries a chronologically ordered list of UDP packet identifiers.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_b424755e-2f1f-4b4a-9941-e334f17aa6f5">
<p id="section-6.1-2">While Section 4.2.5 and Section 4.2.6 describe two possible methods for acquiring and formatting the identifiers used for this purpose, ultimately each protocol has to define how these identifiers are acquired and formatted.
Therefore, the contents of the IDENTIFIERS attribute is opaque.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="attrs_supported">
<section id="section-6.2">
        <h3 id="name-pmtud-supported">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-pmtud-supported" class="section-name selfRef">PMTUD-SUPPORTED</a>
        </h3>
<div id="_19d4c126-874a-4cb6-8a1b-9cef304ab8ff">
<p id="section-6.2-1">The PMTUD-SUPPORTED attribute indicates that its sender supports this mechanism, as incorporated into the STUN usage or protocol being used.
This attribute has no value part and thus the attribute length field is 0.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="attrs_padding">
<section id="section-6.3">
        <h3 id="name-padding">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-padding" class="section-name selfRef">PADDING</a>
        </h3>
<div id="_063e4cfd-528f-4ea0-aeb5-0b6bf2f90623">
<p id="section-6.3-1">The PADDING attribute allows for the entire message to be padded to force the STUN message to be divided into IP fragments.
The PADDING bits MUST be set to zero.
PADDING can be used in either Binding Requests or Binding Responses.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_673b642b-6187-4139-8755-009db62a9d59">
<p id="section-6.3-2">PADDING MUST NOT be longer than the length that brings the total IP datagram size to 64K, minus the IP and UDP headers and the other STUN components.
It SHOULD be equal in length to the MTU of the outgoing interface, rounded up to an even multiple of four bytes and SHOULD ensure a probe does not result in a packet larger than the MTU for the outgoing interface.
STUN messages sent with PADDING are intended to test the behavior of UDP fragmentation, therefore they are an exception to the usual rule that STUN messages need to be less than the PMTU for the path.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="dplpmtud">
<section id="section-7">
      <h2 id="name-dplpmtud-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-dplpmtud-considerations" class="section-name selfRef">DPLPMTUD Considerations</a>
      </h2>
<div id="_93e87060-ee9d-4f1e-9cf2-6d8d270dfd11">
<p id="section-7-1">This section specifies how the PMTUD mechanism described in this document conforms to Sections 3 and 6.1 of <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span> and indicates where each requirement is addressed.
The text in this section must be compared side-by-side with <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span> to understand the relationship between the two.<a href="#section-7-1" class="pilcrow">¶</a></p>
</div>
<div id="dplpmtud_required">
<section id="section-7.1">
        <h3 id="name-features-required-to-provid">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-features-required-to-provid" class="section-name selfRef">Features Required to provide Datagram PLPMTUD</a>
        </h3>
<div id="_c1c1f363-13e6-4e51-bf2d-685415f6ca7e">
<p id="section-7.1-1">This section covers Section 3 of <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span> and refers back to sections in this document covering each of the feature requirements.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_498f6c7d-36e8-45de-9b6f-dcb3c11bf6b1">
<ol start="1" type="1" class="normal type-1" id="section-7.1-2">
<li id="section-7.1-2.1">
            <div id="_fe0d77b9-305b-47d7-8379-809779687f42">
<p id="section-7.1-2.1.1">Managing the PLMPTU: This requirement is fulfilled by the Simple Probing and Complete Probing mechanisms as discussed in Section 2, Section 4.1 and Section 4.2 of this document.<a href="#section-7.1-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.2">
            <div id="_6b155ba6-8135-4450-ac6e-a6938a4a9853">
<p id="section-7.1-2.2.1">Probe packets: This requirement is fulfilled by including a PADDING attribute which indicates that the DF bit is set in the IP header for IPv4 packets and not including the Don't Fragment header in IPv6 packets as discussed in Section 4.1 and Section 4.2 of this document.<a href="#section-7.1-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.3">
            <div id="_38750081-2eea-4c24-ab7c-b9c977b142a6">
<p id="section-7.1-2.3.1">Reception feedback: This requirement fulfilled by the Probe Response and Report Response in Section 2 of this document.<a href="#section-7.1-2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.4">
            <div id="_7a664811-c9cb-4693-b29f-4497fea5a79f">
<p id="section-7.1-2.4.1">Probe loss recovery: This requirement is fulfilled by requiring that the PADDING bits MUST be set to zero as discussed in Section 4.1.1 and Section 4.2.1 of this document.
No retransmission is required as no user data is being transmitted in the probe.<a href="#section-7.1-2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.5">
            <div id="_b15bc97d-cc77-4f8f-9b6f-94b7250eb310">
<p id="section-7.1-2.5.1">PMTU parameters: This requirement is fulfilled by setting the Selected Probe Size as defined in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> and discussed in Section 4.1 and Section 4.2 of this document.<a href="#section-7.1-2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.6">
            <div id="_03046bfa-391b-41ed-908b-e3f8581ddd81">
<p id="section-7.1-2.6.1">Processing PTB messages: This requirement is fulfilled by the Probe Response and Report Response in Section 4.1.3 and Section 4.2.2 of this document.<a href="#section-7.1-2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.7">
            <div id="_2d8dfea6-29fc-4b0a-aa0a-fca010c96d75">
<p id="section-7.1-2.7.1">Probing and congestion control: This requirement is fulfilled by the Probe Request and Probe Indication discussed in Section 4.1.1 and Section 4.2.1 of this document.
It conforms to Section 6.2.1 of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>.<a href="#section-7.1-2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.8">
            <div id="_becd7d9d-9e66-4ee6-8c49-812b4a58e2fd">
<p id="section-7.1-2.8.1">Probing and flow control: This requirement is out of scope and is not discussed in this document.<a href="#section-7.1-2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li id="section-7.1-2.9">
            <div id="_d67ac501-d9bd-4574-9e7f-287b22a103f3">
<p id="section-7.1-2.9.1">Shared PLPMTU state: An implementation follows the same guidelines to share state than in <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span>.<a href="#section-7.1-2.9.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ol>
</div>
<div id="_295026d0-96df-4d7e-ab41-2488a5a49cac">
<p id="section-7.1-3">Datagram reordering: This requirement is fulfilled by the Report Response in Section 4.2 of this document.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_9d882d98-2ddd-4282-a372-725691c73ef8">
<p id="section-7.1-4">Datagram delay and duplication: This requirement is fulfilled by the Report Response in Section 4.2 of this document.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_58839f6b-b23d-4dc9-904d-a3aed857f6ac">
<p id="section-7.1-5">When to probe: This requirement is discussed in Section 2 of this document.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="dplpmtud_application">
<section id="section-7.2">
        <h3 id="name-application-support-for-dpl">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-application-support-for-dpl" class="section-name selfRef">Application Support for DPLPMTUD with UDP</a>
        </h3>
<div id="_7a4dd292-91a3-4a95-a226-a42e43d8bbdb">
<p id="section-7.2-1">This section covers Section 6.1 of <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span> and refers back to which sections in this document covers each of the feature requirements.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_1192ae5f-8609-4744-be64-19cf15e1e1c7">
<p id="section-7.2-2">6.1.1 Application Request: This requirement is fulfilled by the Simple Probing and Complete Probing mechanisms as discussed in Section 2, Section 4.1 and Section 4.2 of this document.<a href="#section-7.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_ff92abca-5770-485d-9cb7-54b61db8db47">
<p id="section-7.2-3">6.1.2 Application Response: This requirement is fulfilled by the Simple Probing and Complete Probing mechanisms as discussed in Section 4.1 and Section 4.2 of this document.<a href="#section-7.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_8c3022d7-7703-4568-9237-d7e5ba565765">
<p id="section-7.2-4">6.1.3 Sending Application Probe Packets: This requirement is fulfilled by the requirement that the PADDING bits MUST are set to zero as discussed in Section 4.1.1 and Section 4.2.1 of this document.<a href="#section-7.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_1d57432e-300b-4eca-9c53-6f21a50a4fb8">
<p id="section-7.2-5">6.1.4 Initial Connectivity: This requirement is fulfilled by the Implicit and Explicit Probe Support Signaling mechanisms as discussed Section 5 of this document.<a href="#section-7.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_3ed9ed9b-02d8-4bcf-86d9-e0d4c4a7e5f4">
<p id="section-7.2-6">6.1.5 Validating the Path: This requirement is fulfilled by the Report Request and Report Response mechanisms as discussed in Section 4.2 of this document.<a href="#section-7.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_1bb1c05d-e48d-4c02-8d68-600312a3e4ad">
<p id="section-7.2-7">6.1.6 Handling of PTB Messages: This requirement is fulfilled by the Probe Response and Report Response in Section 4.1.3 and Section 4.2.2 of this document.<a href="#section-7.2-7" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<div id="_6f1292a3-3d24-42fd-b93d-72aa5542078d">
<p id="section-8-1">The PMTUD mechanism described in this document, when used without the signalling mechanism described in Section 5.1, does not introduce any specific security considerations beyond those described in <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> and <span>[<a href="#RFC8899" class="xref">RFC8899</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
</div>
<div id="_95bd591a-6543-401c-9d22-2427190038d0">
<p id="section-8-2">The attacks described in Section 11 of <span>[<a href="#RFC4821" class="xref">RFC4821</a>]</span> apply equally to the mechanism described in this document.<a href="#section-8-2" class="pilcrow">¶</a></p>
</div>
<div id="_fe4be48b-470c-4285-a05a-03de5d4065c3">
<p id="section-8-3">The amplification attacks introduced by the signalling mechanism described in Section 5.1 can be prevented by using one of the techniques described in that section.<a href="#section-8-3" class="pilcrow">¶</a></p>
</div>
<div id="_5d9f7df3-d3d0-48b6-a7c9-200d883ab6df">
<p id="section-8-4">The Simple Probing mechanism may be used without authentication because this usage by itself cannot trigger an amplification attack as the Probe Response is smaller than the Probe Request except when used in conjunction with the Implicit Probing Support Signaling mechanism.<a href="#section-8-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="iana">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="_8bee2668-294d-40f3-b9f7-6992744648f3">
<p id="section-9-1">This specification defines two new STUN methods and two new STUN attributes.<a href="#section-9-1" class="pilcrow">¶</a></p>
</div>
<div id="iana_methods">
<section id="section-9.1">
        <h3 id="name-new-stun-methods">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-new-stun-methods" class="section-name selfRef">New STUN Methods</a>
        </h3>
<div id="_756eb8ea-cc3f-40e7-a79e-f25988f58bc5">
<p id="section-9.1-1">IANA is requested to add the following methods to the STUN Method Registry:<a href="#section-9.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_0dbdc6fd-2bee-4be7-839a-8ea73f2dc0fc">
<p id="section-9.1-2">0xXXX : Probe<a href="#section-9.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_cdc4a053-a684-437d-9656-a4c0bc76d62e">
<p id="section-9.1-3">0xXXX : Report<a href="#section-9.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_91a81cba-b513-4782-899a-3642ca34e293">
<p id="section-9.1-4">See Sections Section 4.1 and Section 4.2 for the semantics of these new methods.<a href="#section-9.1-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="iana_attrs">
<section id="section-9.2">
        <h3 id="name-new-stun-attributes">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-new-stun-attributes" class="section-name selfRef">New STUN Attributes</a>
        </h3>
<div id="_bb0dc8f3-967a-498d-adab-3cf3f817ce7b">
<p id="section-9.2-1">IANA is requested to add the following attributes to the STUN Method Registry:<a href="#section-9.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_c2d7d7f7-f0c7-44ae-9009-0db6472a838e">
<p id="section-9.2-2">Comprehension-required range (0x0000-0x7FFF):<a href="#section-9.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_2a018e1d-7564-4206-8fb5-6275122109b6">
<p id="section-9.2-3">0xXXXX: IDENTIFIERS<a href="#section-9.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_07a6e50a-d098-4135-aa41-a72db74b25a4">
<p id="section-9.2-4">Comprehension-optional range (0x8000-0xFFFF):<a href="#section-9.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_6ee76ef0-c387-472f-8ece-aaba10571dde">
<p id="section-9.2-5">0xXXXX: PMTUD-SUPPORTED<a href="#section-9.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_1f170913-296d-4eb7-b022-c421215a0f6a">
<p id="section-9.2-6">IANA is requested to add a reference to RFC-to-be (in addition to RFC 5780) for the following STUN attribute:<a href="#section-9.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_00156179-4889-4cda-8b60-60b4ce1653a5">
<p id="section-9.2-7">0x0026: PADDING<a href="#section-9.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_8a2c55ca-a35c-48af-be32-75a65117b47c">
<p id="section-9.2-8">The IDENTIFIERS STUN attribute is defined in Section 6.1, the PMTUD-SUPPORTED STUN attribute is defined in Section 6.2; the PADDING STUN attribute is redefined in Section 6.3.<a href="#section-9.2-8" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="_references">
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="_normative_references">
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="ITU.V42.2002">[ITU.V42.2002]</dt>
        <dd>
<span class="refAuthor">International Telecommunications Union</span>, <span class="refTitle">"Error-correcting Procedures for DCEs Using Asynchronous-to-Synchronous Conversion"</span>, <span class="refContent">ITU-T Recommendation V.42</span>, <time datetime="2002" class="refDate">2002</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="refContent">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4821">[RFC4821]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span><span class="refAuthor"> and J. Heffner</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery"</span>, <span class="seriesInfo">RFC 4821</span>, <span class="seriesInfo">DOI 10.17487/RFC4821</span>, <time datetime="2007-03" class="refDate">March 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4821">https://www.rfc-editor.org/info/rfc4821</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="refContent">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8489">[RFC8489]</dt>
        <dd>
<span class="refAuthor">Petit-Huguenin, M.</span><span class="refAuthor">, Salgueiro, G.</span><span class="refAuthor">, Rosenberg, J.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, Mahy, R.</span><span class="refAuthor">, and P. Matthews</span>, <span class="refTitle">"Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 8489</span>, <span class="seriesInfo">DOI 10.17487/RFC8489</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8489">https://www.rfc-editor.org/info/rfc8489</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8899">[RFC8899]</dt>
      <dd>
<span class="refAuthor">Fairhurst, G.</span><span class="refAuthor">, Jones, T.</span><span class="refAuthor">, Tuexen, M.</span><span class="refAuthor">, Ruengeler, I.</span><span class="refAuthor">, and T. Voelker</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery for Datagram Transports"</span>, <span class="seriesInfo">RFC 8899</span>, <span class="seriesInfo">DOI 10.17487/RFC8899</span>, <time datetime="2020-09" class="refDate">September 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8899">https://www.rfc-editor.org/info/rfc8899</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="_informative_references">
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.martinsen-tram-stuntrace">[I-D.martinsen-tram-stuntrace]</dt>
        <dd>
<span class="refAuthor">Martinsen, M.</span><span class="refAuthor"> and D. Wing</span>, <span class="refTitle">"STUN Traceroute"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-martinsen-tram-stuntrace-01</span>, <time datetime="2015-06" class="refDate">June 2015</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-martinsen-tram-stuntrace-01">https://tools.ietf.org/html/draft-martinsen-tram-stuntrace-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.martinsen-tram-turnbandwidthprobe">[I-D.martinsen-tram-turnbandwidthprobe]</dt>
        <dd>
<span class="refAuthor">Martinsen, M.</span><span class="refAuthor">, Andersen, T.</span><span class="refAuthor">, Salgueiro, G.</span><span class="refAuthor">, and M. Petit-Huguenin</span>, <span class="refTitle">"Traversal Using Relays around NAT (TURN) Bandwidth Probe"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-martinsen-tram-turnbandwidthprobe-00</span>, <time datetime="2015-06" class="refDate">June 2015</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-martinsen-tram-turnbandwidthprobe-00">https://tools.ietf.org/html/draft-martinsen-tram-turnbandwidthprobe-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3264">[RFC3264]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span><span class="refAuthor"> and H. Schulzrinne</span>, <span class="refTitle">"An Offer/Answer Model with Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 3264</span>, <span class="seriesInfo">DOI 10.17487/RFC3264</span>, <time datetime="2002-06" class="refDate">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3264">https://www.rfc-editor.org/info/rfc3264</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5766">[RFC5766]</dt>
      <dd>
<span class="refAuthor">Mahy, R.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and J. Rosenberg</span>, <span class="refTitle">"Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 5766</span>, <span class="seriesInfo">DOI 10.17487/RFC5766</span>, <time datetime="2010-04" class="refDate">April 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5766">https://www.rfc-editor.org/info/rfc5766</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="changelog">
<section id="section-appendix.a">
      <h2 id="name-changelog">
<a href="#name-changelog" class="section-name selfRef">Changelog</a>
      </h2>
<div id="_f71cc1a1-c7a1-43ea-ab3a-8c4d15609ea8">
<p id="section-appendix.a-1">This section must be removed before publication as an RFC.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_f9a464f0-9537-453a-99d6-0447fec86499">
<dl class="dlParallel" id="section-appendix.a-2">
        <dt id="section-appendix.a-2.1">draft-ietf-tram-stun-pmtud-20: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-2.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-3.1">
          <div id="_9360c611-4bd8-4db6-94ed-490c7971f55e">
<p id="section-appendix.a-3.1.1">Modifications following reviews by Gorry and Magnus.<a href="#section-appendix.a-3.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_f543a6e1-3abe-4bfb-9d79-742b36c0743f">
<dl class="dlParallel" id="section-appendix.a-4">
        <dt id="section-appendix.a-4.1">draft-ietf-tram-stun-pmtud-19: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-4.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-5.1">
          <div id="_0726e664-9a8e-4a5e-b9e4-9ddf692ab9d6">
<p id="section-appendix.a-5.1.1">Nits.<a href="#section-appendix.a-5.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-5.2">
          <div id="_d22aab44-0168-427f-a3e3-4e506001920d">
<p id="section-appendix.a-5.2.1">Update references, including sections number.<a href="#section-appendix.a-5.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-5.3">
          <div id="_16b29f2d-3f46-4806-bea1-57f285443d5d">
<p id="section-appendix.a-5.3.1">Move co-editor to contributor section.<a href="#section-appendix.a-5.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-5.4">
          <div id="_fc31440e-7a7e-4a83-af50-38a708b61703">
<p id="section-appendix.a-5.4.1">Changelog (formerly Release Notes) is more compact.<a href="#section-appendix.a-5.4.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_97336040-4a16-40f8-aa13-0be0ca702d86">
<dl class="dlParallel" id="section-appendix.a-6">
        <dt id="section-appendix.a-6.1">draft-ietf-tram-stun-pmtud-18: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-6.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-7.1">
          <div id="_281f2c40-4d0c-4331-b1ea-af853fe21b7e">
<p id="section-appendix.a-7.1.1">Modifications to address DISCUSS and COMMENT from IESG review.
updated section 7.<a href="#section-appendix.a-7.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_05a2eaee-46cb-4cfa-8c6d-1678644a72e4">
<dl class="dlParallel" id="section-appendix.a-8">
        <dt id="section-appendix.a-8.1">draft-ietf-tram-stun-pmtud-17: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-8.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-9.1">
          <div id="_70f42ee1-1195-438e-8708-fdb831764ab4">
<p id="section-appendix.a-9.1.1">Modifications to address DISCUSS and COMMENT from IESG review.
Added section 7.<a href="#section-appendix.a-9.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_1fe96bd8-e1b4-4152-a2ed-fb700dc87350">
<dl class="dlParallel" id="section-appendix.a-10">
        <dt id="section-appendix.a-10.1">draft-ietf-tram-stun-pmtud-16: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-10.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-11.1">
          <div id="_5f0fc263-81fb-43f6-a2a8-3ab8b825e215">
<p id="section-appendix.a-11.1.1">Modifications to address DISCUSS and COMMENT from IESG review<a href="#section-appendix.a-11.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_8c300d6b-7878-45c6-88f9-5565a527337e">
<dl class="dlParallel" id="section-appendix.a-12">
        <dt id="section-appendix.a-12.1">draft-ietf-tram-stun-pmtud-15: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-12.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-13.1">
          <div id="_8ae58392-1fa2-4997-b20a-83212541d87c">
<p id="section-appendix.a-13.1.1">Modifications to address DISCUSS and COMMENT from IESG review<a href="#section-appendix.a-13.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_0bd3d856-a4b8-4017-80b0-9773547a1025">
<dl class="dlParallel" id="section-appendix.a-14">
        <dt id="section-appendix.a-14.1">draft-ietf-tram-stun-pmtud-14: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-14.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-15.1">
          <div id="_53122934-8e80-40ed-b4bf-a5f3a7981f7b">
<p id="section-appendix.a-15.1.1">Modifications to address COMMENTS from IESG review<a href="#section-appendix.a-15.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_84bc49fb-f516-4016-9679-dc7c61ea4615">
<dl class="dlParallel" id="section-appendix.a-16">
        <dt id="section-appendix.a-16.1">draft-ietf-tram-stun-pmtud-13: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-16.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-17.1">
          <div id="_9bf1e88c-a9f6-46df-9e01-711f53ef1547">
<p id="section-appendix.a-17.1.1">Modifications to address nits<a href="#section-appendix.a-17.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_b27e1f87-5d11-468f-bbe5-3466edb9b094">
<dl class="dlParallel" id="section-appendix.a-18">
        <dt id="section-appendix.a-18.1">draft-ietf-tram-stun-pmtud-12: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-18.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-19.1">
          <div id="_f96416c6-6a61-400a-b979-c10fb05d9639">
<p id="section-appendix.a-19.1.1">Modifications following IESG review.
Incorporated RFC5780 PADDING attribute (Adam's Discuss) and added IPv6 language (Suresh's Discuss).<a href="#section-appendix.a-19.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_733c18e2-3e87-422c-96a9-9e8ccd4556bf">
<dl class="dlParallel" id="section-appendix.a-20">
        <dt id="section-appendix.a-20.1">draft-ietf-tram-stun-pmtud-11: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-20.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-21.1">
          <div id="_ae48af3c-1ef4-4acb-8bf0-2dc2d59d5f46">
<p id="section-appendix.a-21.1.1">Modifications following IESG review.<a href="#section-appendix.a-21.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_e945641e-356d-45bf-aa2a-8f36c1c27588">
<dl class="dlParallel" id="section-appendix.a-22">
        <dt id="section-appendix.a-22.1">draft-ietf-tram-stun-pmtud-10: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-22.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-23.1">
          <div id="_d762a98f-0b79-4574-9de8-578d53e41b0f">
<p id="section-appendix.a-23.1.1">Modifications following reviews for gen-art (Roni Even) and secdir (Carl Wallace).<a href="#section-appendix.a-23.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_688b34f6-b05d-4f2e-8697-16da9c7e9ec5">
<dl class="dlParallel" id="section-appendix.a-24">
        <dt id="section-appendix.a-24.1">draft-ietf-tram-stun-pmtud-09: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-24.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-25.1">
          <div id="_bae5aa88-29ac-43bf-82d7-edfdb9e501de">
<p id="section-appendix.a-25.1.1">Add 3 ways of preventing amplification attacks.<a href="#section-appendix.a-25.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_ff9e9dca-2c7c-4819-be45-478cf2ae74c1">
<dl class="dlParallel" id="section-appendix.a-26">
        <dt id="section-appendix.a-26.1">draft-ietf-tram-stun-pmtud-08: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-26.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-27.1">
          <div id="_f56232b3-7c87-4de8-9811-f682d9532454">
<p id="section-appendix.a-27.1.1">Updates following Spencer's review.<a href="#section-appendix.a-27.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_3a951f0d-6ef8-4045-b79a-d22a5a3aaba9">
<dl class="dlParallel" id="section-appendix.a-28">
        <dt id="section-appendix.a-28.1">draft-ietf-tram-stun-pmtud-07: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-28.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-29.1">
          <div id="_967933ab-2dcd-4747-99ec-3e352c60adc5">
<p id="section-appendix.a-29.1.1">Updates following Shepherd review.<a href="#section-appendix.a-29.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_f8e5526c-2a62-4c6b-b2fb-4b74b5c0626d">
<dl class="dlParallel" id="section-appendix.a-30">
        <dt id="section-appendix.a-30.1">draft-ietf-tram-stun-pmtud-06: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-30.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-31.1">
          <div id="_9932de6d-1746-4841-be38-bf7021716144">
<p id="section-appendix.a-31.1.1">Nits.<a href="#section-appendix.a-31.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-31.2">
          <div id="_e1264a67-37be-4da8-a9c0-e165da5ddc31">
<p id="section-appendix.a-31.2.1">Restore missing changelog for previous version.<a href="#section-appendix.a-31.2.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_dd217911-5c36-4d97-a1c2-5cc0fb5b015d">
<dl class="dlParallel" id="section-appendix.a-32">
        <dt id="section-appendix.a-32.1">draft-ietf-tram-stun-pmtud-05: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-32.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-33.1">
          <div id="_27f8c3f0-9466-4f97-8934-70dd5b206faa">
<p id="section-appendix.a-33.1.1">Modifications following Brandon Williams review.<a href="#section-appendix.a-33.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_0c54d82a-2f3d-4402-b814-d8ed12e03736">
<dl class="dlParallel" id="section-appendix.a-34">
        <dt id="section-appendix.a-34.1">draft-ietf-tram-stun-pmtud-04: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-34.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-35.1">
          <div id="_f8d35ab9-0a04-4fd4-b601-5f313b1bf149">
<p id="section-appendix.a-35.1.1">Modifications following Simon Perreault and Brandon Williams reviews.<a href="#section-appendix.a-35.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_7a705cf7-fb3a-4d7d-b420-d2ad67d4df8c">
<dl class="dlParallel" id="section-appendix.a-36">
        <dt id="section-appendix.a-36.1">draft-ietf-tram-stun-pmtud-03: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-36.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-37.1">
          <div id="_1f2a29de-0149-4ec2-babf-bc131ee1d2a0">
<p id="section-appendix.a-37.1.1">Add new Overview of Operations section with ladder diagrams.<a href="#section-appendix.a-37.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.2">
          <div id="_bf8ed9b9-d8b5-4543-ac2e-4b6288c1cdea">
<p id="section-appendix.a-37.2.1">Authentication is mandatory for the Complete Probing mechanism, optional for the Simple Probing mechanism.<a href="#section-appendix.a-37.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.3">
          <div id="_e14a3390-01b6-4c71-8c2e-bfc85165ff6f">
<p id="section-appendix.a-37.3.1">All the ICE specific text moves to a separate draft to be discussed in the ICE WG.<a href="#section-appendix.a-37.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.4">
          <div id="_ea1685c2-30d2-4887-827b-9f69a0cf4fbe">
<p id="section-appendix.a-37.4.1">The TURN usage is removed because probing between a TURN server and TURN client is not useful.<a href="#section-appendix.a-37.4.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.5">
          <div id="_5d0d5f28-32c3-4960-b8a8-cd4b9de1a0ec">
<p id="section-appendix.a-37.5.1">Any usage of PMTUD-SUPPORTED or other signaling mechanisms (formerly knows as discovery mechanisms) must now be authenticated.<a href="#section-appendix.a-37.5.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.6">
          <div id="_efe6864b-5375-43b3-a969-896509102b60">
<p id="section-appendix.a-37.6.1">Both probing mechanisms are MTI in the server, the complete probing mechanism is MTI in the client.<a href="#section-appendix.a-37.6.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.7">
          <div id="_287f1b30-4948-4aa6-a2a4-152a9716c28b">
<p id="section-appendix.a-37.7.1">Make clear that stopping after 3 retransmission is done by changing the STUN parameter.<a href="#section-appendix.a-37.7.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.8">
          <div id="_14381a9a-6e3f-4462-a55f-1fce95558cce">
<p id="section-appendix.a-37.8.1">Define the format of the attributes.<a href="#section-appendix.a-37.8.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.9">
          <div id="_a4486f1f-0c37-4a9f-b99d-caf4bfeba148">
<p id="section-appendix.a-37.9.1">Make clear that the specification is for any UDP protocol that does not already have PMTUD capabilities, not just STUN based protocols.<a href="#section-appendix.a-37.9.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.10">
          <div id="_a586b111-bddf-4921-908b-c7547da6cfc0">
<p id="section-appendix.a-37.10.1">Change the default delay to send the Report Request to 250 ms after the last Indication if the RTO is unknown.<a href="#section-appendix.a-37.10.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.11">
          <div id="_b123935a-779d-46d9-994e-36ff96b953f6">
<p id="section-appendix.a-37.11.1">Each usage of this specification must the format of the IDENTIFIERS attribute contents.<a href="#section-appendix.a-37.11.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.12">
          <div id="_c22ac56c-1ca5-47a0-8543-24237b6cbec0">
<p id="section-appendix.a-37.12.1">Better define the implicit signaling mechanism.<a href="#section-appendix.a-37.12.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.13">
          <div id="_eebd12de-8ed8-4980-af89-2c305c722841">
<p id="section-appendix.a-37.13.1">Extend the Security Consideration section.<a href="#section-appendix.a-37.13.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-37.14">
          <div id="_d4bc40ef-8b62-4803-af37-94c8775213b8">
<p id="section-appendix.a-37.14.1">Tons of nits.<a href="#section-appendix.a-37.14.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_8d7cc09c-4824-4c55-95e2-756db7e06624">
<dl class="dlParallel" id="section-appendix.a-38">
        <dt id="section-appendix.a-38.1">draft-ietf-tram-stun-pmtud-02: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-38.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-39.1">
          <div id="_afc54ae7-0acf-4db8-b5af-5ade7f9482fe">
<p id="section-appendix.a-39.1.1">Cleaned up references.<a href="#section-appendix.a-39.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_bfd5927e-83b8-4e5d-b88d-abdb39e367ac">
<dl class="dlParallel" id="section-appendix.a-40">
        <dt id="section-appendix.a-40.1">draft-ietf-tram-stun-pmtud-01: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-40.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-41.1">
          <div id="_117870b0-7a0f-474b-8bae-0629e49cbbed">
<p id="section-appendix.a-41.1.1">Added Security Considerations Section.<a href="#section-appendix.a-41.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-41.2">
          <div id="_bd188bbb-ba0b-44a7-98ba-1b97ea101149">
<p id="section-appendix.a-41.2.1">Added IANA Considerations Section.<a href="#section-appendix.a-41.2.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_77bb97a2-4d7a-41d5-8960-97aca0526c18">
<dl class="dlParallel" id="section-appendix.a-42">
        <dt id="section-appendix.a-42.1">draft-ietf-tram-stun-pmtud-00: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-42.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-43.1">
          <div id="_f7b9f579-af92-47e0-913c-22a12f10baf2">
<p id="section-appendix.a-43.1.1">Adopted by WG - Text unchanged.<a href="#section-appendix.a-43.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_77d40bb0-20aa-48db-bbf0-7987c0279bd1">
<dl class="dlParallel" id="section-appendix.a-44">
        <dt id="section-appendix.a-44.1">draft-petithuguenin-tram-stun-pmtud-01: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-44.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-45.1">
          <div id="_1fcef17b-861f-4413-97c5-55664313d608">
<p id="section-appendix.a-45.1.1">Moved some Introduction text to the Probing Mechanism section.<a href="#section-appendix.a-45.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-45.2">
          <div id="_a9c14de0-7e6c-49a7-83bd-a519c6766f83">
<p id="section-appendix.a-45.2.1">Added cross-reference to the other two STUN troubleshooting mechanism drafts.<a href="#section-appendix.a-45.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-45.3">
          <div id="_b447e498-326c-4e15-8f81-9e195dac2529">
<p id="section-appendix.a-45.3.1">Updated references.<a href="#section-appendix.a-45.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-45.4">
          <div id="_76e4a125-d740-4a10-9ce7-29dc1e8bb981">
<p id="section-appendix.a-45.4.1">Added Gonzalo Salgueiro as co-author.<a href="#section-appendix.a-45.4.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_f126ce83-676f-4062-8411-a47a511f9c20">
<dl class="dlParallel" id="section-appendix.a-46">
        <dt id="section-appendix.a-46.1">draft-petithuguenin-tram-stun-pmtud-00: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-46.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-47.1">
          <div id="_6190b7ec-8be3-429d-9163-392f1af3654b">
<p id="section-appendix.a-47.1.1">General refresh for republication.<a href="#section-appendix.a-47.1.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_63665b8f-c081-42ef-aa99-98c7341de402">
<dl class="dlParallel" id="section-appendix.a-48">
        <dt id="section-appendix.a-48.1">draft-petithuguenin-behave-stun-pmtud-03: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-48.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-49.1">
          <div id="_ba2e8ff3-7dde-443e-8736-0134aed1df3e">
<p id="section-appendix.a-49.1.1">Changed author address.<a href="#section-appendix.a-49.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-49.2">
          <div id="_77bb399a-c0e0-4d09-90ec-0464bcafab31">
<p id="section-appendix.a-49.2.1">Changed the IPR to trust200902.<a href="#section-appendix.a-49.2.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_c9d876b4-a86a-45e5-9436-ec8e19a9b053">
<dl class="dlParallel" id="section-appendix.a-50">
        <dt id="section-appendix.a-50.1">draft-petithuguenin-behave-stun-pmtud-02: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-50.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-51.1">
          <div id="_eb67419a-77d5-4c4f-ae89-3d1f666dcd28">
<p id="section-appendix.a-51.1.1">Defined checksum and sequential numbers as possible packet identifiers.<a href="#section-appendix.a-51.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-51.2">
          <div id="_c53dcd9d-ab9c-4f18-8b9c-31c4c316714a">
<p id="section-appendix.a-51.2.1">Updated the reference to RFC 5389<a href="#section-appendix.a-51.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-51.3">
          <div id="_b6ae5660-244b-4cab-aeb9-12de62e515b6">
<p id="section-appendix.a-51.3.1">The FINGERPRINT attribute is now mandatory.<a href="#section-appendix.a-51.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-51.4">
          <div id="_60c8670c-8f95-4954-ac29-5463ab2a2f7e">
<p id="section-appendix.a-51.4.1">Changed the delay between Probe indication and Report request to be RTO/2 or 50 milliseconds.<a href="#section-appendix.a-51.4.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-51.5">
          <div id="_7fc590d0-b8c4-491f-8775-c451d0ca70f8">
<p id="section-appendix.a-51.5.1">Added ICMP packet processing.<a href="#section-appendix.a-51.5.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-51.6">
          <div id="_1d7e0f70-1cfe-4b57-a599-5497318e03ee">
<p id="section-appendix.a-51.6.1">Added Full-Stop Timeout detection.<a href="#section-appendix.a-51.6.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-51.7">
          <div id="_de4a8ad6-6199-4d02-8a63-8dd5b659c7eb">
<p id="section-appendix.a-51.7.1">Stated that Binding request with PMTUD-SUPPORTED does not start the PMTUD process if already started.<a href="#section-appendix.a-51.7.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<span class="break"></span><div id="_3aae4c0a-bb64-48f3-8bc7-de746b6d58a1">
<dl class="dlParallel" id="section-appendix.a-52">
        <dt id="section-appendix.a-52.1">draft-petithuguenin-behave-stun-pmtud-01: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.a-52.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.a-53.1">
          <div id="_f01d38d3-ce84-4260-9533-61ff7bebfbed">
<p id="section-appendix.a-53.1.1">Removed the use of modified STUN transaction but shorten the retransmission for the simple probing mechanism.<a href="#section-appendix.a-53.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-53.2">
          <div id="_108f2461-5aea-4b91-bf70-bd316ce0dbf8">
<p id="section-appendix.a-53.2.1">Added a complete probing mechanism.<a href="#section-appendix.a-53.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-53.3">
          <div id="_b1f6f77e-fcd1-4206-b55c-fc60c9508271">
<p id="section-appendix.a-53.3.1">Removed the PADDING-RECEIVED attribute.<a href="#section-appendix.a-53.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.a-53.4">
          <div id="_6bd3453a-7f8d-417d-8ad8-d374ce8864ef">
<p id="section-appendix.a-53.4.1">Added release notes.<a href="#section-appendix.a-53.4.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
</section>
</div>
<div id="ack">
<section id="section-appendix.b">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<div id="_3779dad1-96e5-4e71-ad43-a6cd03646f86">
<p id="section-appendix.b-1">Thanks to Eilon Yardeni, Geir Sandbakken, Paal-Erik Martinsen, Tirumaleswar Reddy, Ram Mohan R, Simon Perreault, Brandon Williams, Tolga Asveren, Spencer Dawkins, Carl Wallace, Roni Even, Gorry Fairhurst, and Magnus Westerlund for the comments, suggestions and questions that helped improve this document.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
</div>
<div id="_94dfa4a4-48f6-4d89-8e7b-68f832d5a7ba">
<p id="section-appendix.b-2">Special thanks to Dan Wing, who supported this document since its first publication back in 2008.<a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="contrib">
<section id="section-appendix.c">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Felipe Garrido</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">7200-12 Kit Creek Road<br>Research Triangle Park, NC 27709</span></div>
<div dir="auto" class="left"><span class="country-name">United States</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fegarrid@cisco.com" class="email">fegarrid@cisco.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.d">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marc Petit-Huguenin</span></div>
<div dir="auto" class="left"><span class="org">Impedance Mismatch</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marc@petit-huguenin.org" class="email">marc@petit-huguenin.org</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gonzalo Salgueiro</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">7200-12 Kit Creek Road<br>Research Triangle Park, NC 27709</span></div>
<div dir="auto" class="left"><span class="country-name">United States</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gsalguei@cisco.com" class="email">gsalguei@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
