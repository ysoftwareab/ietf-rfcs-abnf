<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>BGP Extended Community Attribute
    for QoS Marking</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="BGP Extended Community Attribute
    for QoS Marking">
<meta name="keywords" content="Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Inter-Domain Routing Working Group</td><td class="header">Th. Knoll</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Chemnitz University of Technology</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">July 07, 2008</td></tr>
<tr><td class="header">Expires: January 8, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />BGP Extended Community Attribute
    for QoS Marking<br />draft-knoll-idr-qos-attribute-01</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 8, 2009.</p>

<h3>Abstract</h3>

<p>This document specifies a simple signalling mechanism for
      inter-domain QoS marking using several instances of a new BGP Extended
      Community Attribute. Class based packet marking and forwarding is
      currently performed independently within ASes. The new QoS marking
      attribute makes the QoS class marking within the IP prefix advertising
      AS known to all access and transit ASes. This enables individual
      (re-)marking and possibly forwarding treatment adaptation to the
      original QoS class setup of the respective originating AS. The attribute
      provides the means to signal QoS markings on different layers, which are
      linked together in QoS Class Sets. It provides inter-domain and
      cross-layer insight into the QoS class mapping of the source AS with
      minimal signalling traffic.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Problem Statement<br />
<a href="#anchor3">3.</a>&nbsp;
Related Work<br />
<a href="#Attribute_Definition">4.</a>&nbsp;
Definition of the QoS Marking Attribute<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">4.1.</a>&nbsp;
Extended Community Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.2.</a>&nbsp;
Structure of the QoS Marking Attribute<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tech_type">4.3.</a>&nbsp;
Technology Type Enumeration<br />
<a href="#anchor6">5.</a>&nbsp;
Attribute Usage<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.1.</a>&nbsp;
QoS Marking Attribute Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.2.</a>&nbsp;
AS Border Packet Forwarding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.3.</a>&nbsp;
IP Prefix Aggregation<br />
<a href="#Confidentiality">6.</a>&nbsp;
Confidentiality Considerations<br />
<a href="#IANA">7.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">8.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#appendix_a">Appendix&nbsp;A.</a>&nbsp;
QoS Marking Attribute Example<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>A new BGP Extended Community Attribute is defined in this document,
      which carries QoS marking information for different network layer
      technologies across ASes. This attribute is called "QoS Marking
      Attribute". This new attribute provides a mechanism within BGP-4 <a class='info' href='#RFC4271'>[RFC4271]<span> (</span><span class='info'>Rekhter, Y., Li, T., and S. Hares, &ldquo;A Border Gateway Protocol 4 (BGP-4),&rdquo; January&nbsp;2006.</span><span>)</span></a> for associating all advertised prefixes of the
      AS with its differentiated QoS Class Marking information. It allows for
      the consistent exchange of class encoding values between BGP peers for
      physical, data link and network QoS mechanisms. These labels can be used
      to control the distribution of this information, for the encoding and
      for treatment adjustments within the AS or for other applications. One
      globally seen QoS Class Set per AS is required for scalability reasons.
      It is the AS provider's responsibility to enforce the globally signalled
      Set throughout the AS.
</p>
<p>Several QoS Marking Attributes MAY be included in a single BGP UPDATE
      message. They are virtually linked together by means of an identical
      "QoS Set Number" field. Each QoS Marking Attribute is encoded as 8-octet
      tuple, as defined in <a class='info' href='#Attribute_Definition'>Section&nbsp;4<span> (</span><span class='info'>Definition of the QoS Marking Attribute</span><span>)</span></a>.
      Signalled QoS Class Sets are assumed to be valid for traffic crossing
      this AS. If different QoS strategies are used with an AS, its provider
      is responsible for consistent transport of transit traffic across this
      inhomogeneous domain. In all transit forwarding cases, QoS based
      tunnelling mechanisms are the means of choice for transparent traffic
      transport.
</p>
<p>The availability of the "Best Effort" forwarding class is implied and
      defaults to a zero encoding on all signalled layers. It is therefore not
      necessary to include QoS Marking Attributes for the Best Effort Class as
      long as the default encoding is in place.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Problem Statement</h3>

<p>Current inter-domain peering is "best effort" peering only. That is,
      traffic forwarding between ASes is without traffic class differentiation
      and without any forwarding guarantee. It is common for network providers
      to reset any IP packet class markings to zero, the best effort DSCP
      marking, at the AS ingress router, which eliminates any traffic
      differentiation. Some providers perform higher layer classification at
      the ingress in order to guess the forwarding requirements and to match
      on their AS internal QoS forwarding policy. There is no standardized set
      of classes, no standardized marking (class encoding) and no standardized
      forwarding behaviour, which cross-domain traffic could rely on. QoS
      policy decisions are taken by AS providers independently and in an
      uncoordinated fashion.
</p>
<p>This general statement does not cover the existing individual
      agreements, which do offer quality based peering with strict QoS
      guarantees. However, such SLA based agreements are of bilateral or
      multilateral nature and do not offer a means for a general "better than
      best effort" peering. This draft does not aim for making such SLA based
      agreements become void. On the contrary, those agreements are expected
      to exist for special traffic forwarding paths with strictly guaranteed
      QoS.
</p>
<p>There are many approaches, which propose proper inter-domain QoS
      strategies including inter-domain parameter signalling, metering,
      monitoring and misbehaviour detection. Such complex strategies get close
      to guaranteed QoS based forwarding at the expense of dynamic
      measurements and adjustments, of state keeping on resource usage vs.
      traffic load and in particular of possibly frequent inter-domain
      signalling.
</p>
<p>The proposed QoS Class marking approach dissociates from the complex
      latter solutions and targets the general "better than best effort"
      peering in coexistence with SLA based agreements. It enables ASes to
      make their supported Class Sets and their encoding globally known. In
      other words, this support information constitutes a simple map of QoS
      enabled roads in transit and destination ASes.
</p>
<p>Signalling the coarse information about the supported class set and
      its cross-layer encoding within the involved forwarding domains of the
      selected AS path removes the lack of knowledge about the over-all
      available traffic differentiation. AS providers are enabled to make an
      informed decision about supported class encodings and might adopt to
      them. No guarantees are offered by this "better than best effort"
      approach, but as much as easily possible traffic differentiation without
      the need for frequent inter-domain signalling and for costly ingress
      re-classification will be achieved.
</p>
<p>Remarking the class encoding of customer traffic in order to match
      neighbouring class set encodings is reasonable at AS peering points. For
      AS internal forwarding, the encapsulation within any kind of QoS
      supporting tunnelling technology is highly recommended. The cross-layer
      signalling of QoS encoding will further ease the setup of QoS based
      inter-domain tunnelling.
</p>
<p>The general confidentiality concern of disclosing AS internal policy
      information is addressed in <a class='info' href='#Confidentiality'>Section&nbsp;6<span> (</span><span class='info'>Confidentiality Considerations</span><span>)</span></a>. In
      short, AS providers can signal a different class set in the QoS Marking
      Attributes to the one actually used internally. The different class sets
      (externally signalled vs. internally applied one) require an undisclosed
      strictly defined mapping at the AS borders between the two. This way, a
      distinction between internal and external QoS Class Sets can be
      achieved.
</p>
<p>The general need for class based accounting is not addressed by this
      draft. MIB extensions are also required, which separate traffic
      variables by traffic marking. It is expected for both that existing
      procedures can be reused in a class based manner.
</p>
<p>
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Related Work</h3>

<p>A number of QoS improvement approaches have been proposed before and
      a selection will be briefly mentioned in this section.
</p>
<p>Most of the approaches perform parameter signalling. <a class='info' href='#I-D.jacquenet-bgp-qos'>[I&#8209;D.jacquenet&#8209;bgp&#8209;qos]<span> (</span><span class='info'>Cristallo, G., &ldquo;The BGP QOS_NLRI Attribute,&rdquo; February&nbsp;2004.</span><span>)</span></a> defines the QOS_NLRI attribute,
      which is used for propagating QoS-related information associated to the
      NLRI (Network Layer Reachability Information) information conveyed in a
      BGP UPDATE message. Single so called "QoS routes" are signalled, which
      fulfil certain QoS requirements. Several information types are defined
      for the attribute, which concentrate on rate and delay type
      parameters.
</p>
<p><a class='info' href='#I-D.boucadair-qos-bgp-spec'>[I&#8209;D.boucadair&#8209;qos&#8209;bgp&#8209;spec]<span> (</span><span class='info'>Boucadair, M., &ldquo;QoS-Enhanced Border Gateway Protocol,&rdquo; July&nbsp;2005.</span><span>)</span></a> is based on the
      specified QOS_NLRI attribute and introduces some modifications to it.
      The notion of AS-local and extended QoS classes is used, which
      effectively describes the local set of QoS performance parameters or
      their cross-domain combined result. Two groups of QoS delivery services
      are distinguished, where the second group concentrates on ID associated
      QoS parameter propagation between adjacent peers. The first group is of
      more interest for this draft since it concentrates on the "identifier
      propagation" such as the DSCP value for example. However, this
      signalling is specified for the information exchange between adjacent
      peers only and assumes the existence of extended QoS classes and offline
      traffic engineering functions.
</p>
<p>Another approach is described in <a class='info' href='#I-D.liang-bgp-qos'>[I&#8209;D.liang&#8209;bgp&#8209;qos]<span> (</span><span class='info'>Benmohamed, L., &ldquo;QoS Enhancements to BGP in Support of Multiple Classes of Service,&rdquo; June&nbsp;2006.</span><span>)</span></a>. It associates a list of QoS metrics
      with each prefix by extending the existing AS_PATH attribute format.
      Hop-by-hop metric accumulation is performed as the AS_PATH gets extended
      in relaying ASes. Metrics are generically specified as a list of
      TLV-style attribute elements. The metrics such as bandwidth and delay
      are exemplary mentioned in the draft.
</p>
<p>One contribution specialized in the signalling of Type Of Service
      (TOS) values which are in turn directly mapped to DSCP values in section
      3.2 of the draft <a class='info' href='#I-D.zhang-idr-bgp-extcommunity-qos'>[I&#8209;D.zhang&#8209;idr&#8209;bgp&#8209;extcommunity&#8209;qos]<span> (</span><span class='info'>Zhang, Z., &ldquo;ExtCommunity map and carry TOS value of IP header,&rdquo; November&nbsp;2005.</span><span>)</span></a>. The TOS value is
      signalled within an Extended Community Attribute and, if it is
      understood correctly, will be applied to a certain route. An additional
      value field is used to identify, which routes belong to which signalled
      TOS community. Who advertises such attributes and whether they are of
      transitive or non-transitive type remains unspecified.
</p>
<p>The most comprehensive analysis (although not an IETF draft) is given
      in <a class='info' href='#MIT_CFP'>[MIT_CFP]<span> (</span><span class='info'>Amante, S., Bitar, N., Bjorkman, N., and others, &ldquo;Inter-provider Quality of Service - White paper draft           1.1,&rdquo; November&nbsp;2006.</span><span>)</span></a>. This "Inter- provider Quality of
      Service" white paper examines the inter-domain QoS requirements and
      derives a comprehensive approach for the introduction of at least one
      QoS class with guaranteed delay parameters. The implementation aspects
      of metering, monitoring, parameter feedback and impairment allocations
      are all considered in the white paper. However, QoS guarantees and
      parameter signalling is beyond the intention of this QoS Marking
      Attribute draft.
</p>
<p>Other drafts may also be considered as related work as long as they
      convey QoS marking information and might be "misused" for QoS class
      signalling.
</p>
<p>One example is the usage of the "Traffic Engineering Attribute" as
      defined in <a class='info' href='#I-D.ietf-softwire-bgp-te-attribute'>[I&#8209;D.ietf&#8209;softwire&#8209;bgp&#8209;te&#8209;attribute]<span> (</span><span class='info'>Fedyk, D., Rekhter, Y., and H. Ould-Brahim, &ldquo;BGP Traffic Engineering Attribute,&rdquo; December&nbsp;2008.</span><span>)</span></a>.
      However, the attribute is non-transitive and the LSP encoding types are
      not generally applicable to inter-domain peering types. Its usage of the
      targeted QoS Marking signalling is not possible. The included maximum
      bandwidth of each of eight priority classes, could however be used in
      future draft extensions.
</p>
<p>The second example is the current "Dissemination of flow
      specification rules" draft <a class='info' href='#I-D.ietf-idr-flow-spec'>[I&#8209;D.ietf&#8209;idr&#8209;flow&#8209;spec]<span> (</span><span class='info'>Marques, P., Sheth, N., Raszuk, R., Greene, B., Mauch, J., and D. McPherson, &ldquo;Dissemination of flow specification rules,&rdquo; May&nbsp;2009.</span><span>)</span></a>. It defines a new BGP NLRI
      encoding format, which can be used to distribute traffic flow
      specifications. Such flow specification can also include DSCP values as
      type 11 in the NLRI. Furthermore, one could signal configuration actions
      together with the DSCP encoding, which could be used for filtering
      purposes or even trigger remarking and route selection with it. Such
      usage is not defined in the draft and can hardly be achieved because of
      the following reasons. The flow specification is focused on single
      flows, which might even be part of an aggregate. Such fine grained
      specification is counterproductive for the coarse grained general QoS
      Marking approach of this draft. The novel approach of cross-layer QoS
      Marking could also not be incorporated, which might be essential for
      future tunnelled inter-domain peering.
</p>
<a name="Attribute_Definition"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Definition of the QoS Marking Attribute</h3>

<p>
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Extended Community Type</h3>

<p>The new QoS Marking Attribute is encoded as a BGP Extended
        Community Attribute <a class='info' href='#RFC4360'>[RFC4360]<span> (</span><span class='info'>Sangli, S., Tappan, D., and Y. Rekhter, &ldquo;BGP Extended Communities Attribute,&rdquo; February&nbsp;2006.</span><span>)</span></a>. It is therefore a
        transitive optional BGP attribute with Type Code 16. An adoption to
        the simple BGP Community Attribute encoding <a class='info' href='#RFC1997'>[RFC1997]<span> (</span><span class='info'>Chandrasekeran, R., Traina, P., and T. Li, &ldquo;BGP Communities Attribute,&rdquo; August&nbsp;1996.</span><span>)</span></a> is not defined in this document. The actual
        encoding within the BGP Extended Community Attribute is as
        follows.
</p>
<p>The QoS Marking Attribute is of regular type which results in a 1
        octet Type field followed by 7 octets for the QoS marking structure.
        The Type is IANA-assignable and marks the community as transitive
        across ASes. The type number has been assigned by IANA to 0x00 <a class='info' href='#IANA_EC'>[IANA_EC]<span> (</span><span class='info'>IANA, &ldquo;Border Gateway Protocol (BGP) Data Collection Standard           Communities,&rdquo; June&nbsp;2008.</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="Figure_1"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 0 0 0|                                               |
+-+-+-+-+-+-+-+-+   7 octet QoS Marking Attribute structure     |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Structure of the QoS Marking Attribute</h3>

<p>The QoS Marking Attributes provides a flexible encoding structure
        for various QoS Markings on different layers. This flexibility is
        achieved by a Flags, a QoS Set Number and a Technology Type field
        within the 7 octet structure as defined below.
</p><br /><hr class="insert" />
<a name="Figure_2"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Flags      | QoS Set Number|Technology Type| QoS Marking O |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| QoS Marking A |   P. Count    | C. Unused ='0'|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Flags:
</p><br /><hr class="insert" />
<a name="Figure_3"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre> 0  1  2  3  4  5  6  7
+--+--+--+--+--+--+--+--+
|0  0  0 |R |I |A |0 |0 |
+--+--+--+--+--+--+--+--+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p></p>
<blockquote class="text"><dl>
<dt></dt>
<dd>All used and unused flags default to a value of
            &lsquo;0&rsquo;. The following table shows the bit encoding of the
            Flags field.
</dd>
</dl></blockquote>
<br /><hr class="insert" />
<a name="Table_1"></a>
<table class="full" align="left" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">Bit</th><th align="left">Flag</th><th align="left">Encoding</th></tr>
<tr>
<td align="left">0-2</td>
<td align="left">unused</td>
<td align="left">Default to &lsquo;0&rsquo;</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">R</td>
<td align="left">&lsquo;1&rsquo; &hellip; remarking occurred</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">I</td>
<td align="left">&lsquo;1&rsquo; &hellip; QoS marking ignored</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">A</td>
<td align="left">&lsquo;1&rsquo; &hellip; QoS class aggregation occurred</td>
</tr>
<tr>
<td align="left">6,7</td>
<td align="left">unused</td>
<td align="left">Default to &lsquo;0&rsquo;</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<p></p>
<blockquote class="text"><dl>
<dt></dt>
<dd>The Flags "R, I and A" are set to '0' in the advertisement by
            the IP prefix originating AS. Transit ASes MUST change the flag
            value to '1' once the respective event occurred. If the QoS
            marking actively used in the transit AS internal forwarding is
            different from the advertised original one, the 'Remarking (R)'
            flag is set to '1'. This MUST be done separately for each
            technology type attribute within the attribute set. The same
            applies to the 'Ignore (I)' flag, if the respective advertised QoS
            marking is ignored in the transit AS internal forwarding.
</dd>
<dt></dt>
<dd>The 'Aggregation (A)' flag MUST be set to '1' by the UPDATE
            message relaying transit AS, if the respective IP prefixes will be
            advertised inside an IP prefix aggregate constituted from
            differing Class Sets.
</dd>
<dt></dt>
<dd>If the defined Flags are cleared - and by means of the zero 'I'
            flag and the later on explained Processing Count it is shown that
            no "QoS Class ignorant" is involved in the forwarding path - a
            consistent class based overall forwarding is available along this
            path.
</dd>
</dl></blockquote>

<p>QoS Set Number:
</p>
<p></p>
<blockquote class="text"><dl>
<dt></dt>
<dd>Several single QoS Marking Attributes can be logically grouped
            into a QoS Marking Attribute Set characterized by a identical QoS
            Set Number. This grouping of the single QoS Marking Attributes
            into a set provides a cross-layer linking between the QoS class
            encodings. The number of signalled QoS Marking Attributes as well
            as QoS Marking Attribute Sets is at the operator&rsquo;s choice of
            the originating AS. The enumerated QoS set numbers have BGP UPDATE
            message local significance starting with set number 0x00.
</dd>
</dl></blockquote>

<p>Technology Type:
</p>
<p>The technology type encoding uses the enumeration list <a class='info' href='#tech_type'>in<span> (</span><span class='info'>Technology Type Enumeration</span><span>)</span></a>. Future version of this draft will need
        an extended enumeration list administered by IANA.
</p>
<p>QoS Marking / Enumeration O &amp; A:
</p>
<p>The interpretation of these identically approached fields depends
        on the selected layer and technology. ASes, which process the
        Attribute and support the given QoS Class by means of a QoS mechanism
        using bit encodings for the targeted priority (e.g. IP DSCP, Ethernet
        User Priority, MPLS EXP etc.) MUST use a copy of the encoding in this
        attribute field. Unused higher order bits default to &lsquo;0&rsquo;.
        Other technologies, which use separate forwarding channels for
        different classes (such as L-LSPs, VPI/VCI inferred ATM classes,
        lambda inferred priority, etc.) SHALL use class enumerations as
        encoding in this attribute field. The enumeration count starts with
        zero for the best effort traffic class and rises by one with each
        available higher priority class.
</p>
<p>There are two QoS Marking fields within the QoS Marking Attribute
        for the "original (O)" and the "active (A)" QoS marking.
</p>
<p>QoS Marking O (Original QoS Marking):</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>The IP prefix originating AS copies the internally associated
            QoS encoding of the given Technology Type into this one octet
            field. The field MUST remain unchanged in BGP UPDATE messages of
            relaying nodes.
</dd>
</dl></blockquote>

<p>QoS Marking A (Active QoS Marking):</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>QoS Marking A and O MUST be identically encoded by the prefix
            originating AS.
</dd>
<dt></dt>
<dd>All other ASes use this Active QoS Marking field to advertise
            their internal QoS encoding of the given class and technology. A
            cleared Marking field (all zero) signals that this traffic class
            experiences default traffic treatment within the transit AS
            forwarding technology.
</dd>
</dl></blockquote>

<p>Processing Count (P. Count):</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>Each BGP instance, which processes the attribute and appends a
            different AS number to the AS_PATH, MUST increase this counter by
            one. The attribute originating instance initializes the counter
            value to '0x00'.
</dd>
</dl></blockquote><p>Currently Unused (C. Unused):</p>
<blockquote class="text"><dl>
<dt></dt>
<dd>This one octet field is currently unused and MUST be set to
            '0x00'.
</dd>
</dl></blockquote>

<a name="tech_type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Technology Type Enumeration</h3>

<p>A small list of technologies is provided in the table below for the
        direct encoding of common technology types. The mapping of all virtual
        channel technologies into a single technology type value is for
        limiting the number of different attributes in an UPDATE message. It
        is therefore a contribution to scalability.
</p><br /><hr class="insert" />
<a name="Table_3"></a>
<table class="full" align="left" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">Value</th><th align="left">Technology Type</th></tr>
<tr>
<td align="left">0x00</td>
<td align="left">DiffServ enabled IP (DSCP encoding)</td>
</tr>
<tr>
<td align="left">0x01</td>
<td align="left">Ethernet using 802.1q priority tag</td>
</tr>
<tr>
<td align="left">0x02</td>
<td align="left">MPLS using E-LSP</td>
</tr>
<tr>
<td align="left">0x03</td>
<td align="left">Virtual Channel (VC) encoding using separate channels for QoS
          forwarding / one channel per class (e.g. ATM VCs, FR VCs, MPLS
          L-LSPs)</td>
</tr>
<tr>
<td align="left">0x04</td>
<td align="left">GMPLS &ndash; time slot encoding</td>
</tr>
<tr>
<td align="left">0x05</td>
<td align="left">GMPLS &ndash; lambda encoding</td>
</tr>
<tr>
<td align="left">0x06</td>
<td align="left">GMPLS &ndash; fibre encoding</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Attribute Usage</h3>

<p>Providers MAY choose to process the QoS Marking Attributes and adopt
      the priority encoding and tunnel selection according to their local
      policy. Whether this MAY also lead to different IGP routing decisions or
      even effect BGP update filters is out of scope for the attribute
      definition.
</p>
<p>Only the IP prefix originating AS is allowed to signal the QoS
      Marking Attributes and Set. AS providers, which make use of this
      signalling mechanism MUST make sure that only one external Class Set
      will be advertised for the AS. All advertised prefixes, which originate
      from that AS will be sent with the same QoS Marking Attribute Set in the
      respective UPDATE message. Transit ASes MUST NOT modify or extend the
      QoS Marking Attribute Set except for the update of each 'QoS Marking A'
      field contained in the Attribute Set, the respective "R, I, A" flags and
      the Processing Counter. Prefixes with associated identical QoS Marking
      Attribute Sets are to be advertised together in common UPDATE messages
      in relaying nodes.
</p>
<p><a class='info' href='#Figure_4'>Figure&nbsp;4</a> shows an AS peering example with
      different Class Sets. It shows the case in AS 5 where different Class
      Sets are used internally and externally. The proposed QoS Class Set
      signalling will always use the external definitions within the UPDATE
      message QoS Marking Attributes. The example also shows, that IP
      prefixes, which originate in AS 5 and AS 3 can be advertised together
      with the same QoS Marking Attribute Set as long as their Layer 2
      encoding is identical.
</p><br /><hr class="insert" />
<a name="Figure_4"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                   AS 5 = Transit AS
+------------+     =================     +------------+
+   AS 1     +      AS internal:         +   AS 3     +
+ 4 classes  +         5 classes         + 3 classes  +
+   L2/L3    +         L2/L3             +   L2/L3    +
+(EF,2xAF,BE)+      AS external:         +(EF,AF11,BE)+
+         [] +         3 classes         +[]          +
+------------+         L3 (EF,AF11,BE)   +------------+
              \    +---------------+    /
               \   |       []      |   /
                \  |      /  \     |  /
                 \ |  --()---()--  | /
                  \| /   |    |  \ |/
                   |[]   |    |  []|
                  /| \   |    |  / |\
                 / |  --()---()--  | \
                /  |      \  /     |  \
               /   |       []      |   \
              /    +---------------+    \
+------------+                           +------------+
+         [] +                           +[]          +
+   AS 2     +                           +   AS 4     +
+ 2 classes  +                           + 6 classes  +
+   L2/L3    +                           +  L1/L2/L3  +
+  (EF,BE)   +                           +(EF,4xAF,BE)+
+------------+                           +------------+
[] ... AS Border Router
() ... AS internal Router</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
QoS Marking Attribute Example</h3>

<p>See <a class='info' href='#appendix_a'>Appendix&nbsp;A<span> (</span><span class='info'>QoS Marking Attribute Example</span><span>)</span></a> for an example QoS Marking
        Attribute Set.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
AS Border Packet Forwarding</h3>

<p>IP packet forwarding based on packet header QoS encoding might
        require remarking of packets in order to match AS internal policies
        and encodings of neighbouring ASes.
</p>
<p>Identical QoS class sets and encodings between neighbouring ASes do
        not require any remarking. Different encodings will be matched on the
        outgoing traffic.
</p>
<p>Outgoing traffic for a given IP prefix uses the 'QoS Marking A'
        information of the respective BGP UPDATE message QoS Marking Attribute
        for adopted remarking of the forwarded packet.
</p>
<p>If the Process Count is smaller than the number of different AS
        numbers in the AS PATH or if the 'I' flag is set for a given encoding,
        the outgoing traffic remarking can not be applied due to this
        signalled lack of QoS Class forwarding support.
</p>
<p>'QoS Marking O' information is used for outgoing remarking, if the
        targeted class is not supported by the neighbouring AS.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
IP Prefix Aggregation</h3>

<p>Several IP prefixes of different IP prefix originating ASes MAY be
        aggregated to a shorter IP prefix in transit ASes. If the original
        Class Sets of the aggregated prefixes are identical, the aggregate
        will use the same Set. In all other cases, the resulting IP prefix
        aggregate is handled the same as if the transit AS were the
        originating AS for this aggregated prefix. The transit AS provider MAY
        care for AS internal mechanisms, which map the signalled aggregate QoS
        Class Set to the different original Class Sets in the internal
        forwarding path.
</p>
<p>In case of IP prefix aggregation with different QoS Class Sets, the
        'Aggregation (A)' flag of each QoS Marking Attribute within the Set
        MUST be set to '1'.
</p>
<a name="Confidentiality"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Confidentiality Considerations</h3>

<p>The disclosure of confidential AS intrinsic information is of no
      concern since the signalled marking for QoS class encodings can be
      adopted prior to the UPDATE advertisement of the IP prefix originating
      AS. This way, a distinction between internal and external QoS Class Sets
      can be achieved. AS internal cross-layer marking adaptation and policy
      based update filtering allows for consistent QoS class support despite
      made up QoS Class Set and encoding information within UPDATE
      advertisements. In case of such policy hiding strategy, the required AS
      internal ingress and egress adaptation SHALL be done transparently
      without explicit "Active Marking" and 'R' flag signalling.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This document defines a new BGP Extended Community Attribute, which
      includes a "Technology Type" field. <a class='info' href='#tech_type'>Section&nbsp;4.3<span> (</span><span class='info'>Technology Type Enumeration</span><span>)</span></a>
      enumerates a number of popular technologies. This list is expected to
      suffice for first implementations. However, future or currently
      uncovered technologies may arise, which require an extended "Technology
      Type" enumeration list administered by IANA.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>This extension to BGP does not change the underlying security issues
      inherent in the existing BGP.
</p>
<p>Malicious signalling behaviour of QoS marking Attribute advertising
      ASes can result in misguided neighbours about non existing or
      maliciously encoded Class Sets. Removal of QoS Marking Attribute Sets
      leads to the current best effort peering, which is no stringent security
      concern.
</p>
<p>The strongest thread is the advertisement of numerous very fine
      grained Class Sets, which could limit the scalability of this approach.
      However, neighbouring ASes are free to set the ignore flag of single
      attributes or to stop processing the QoS Marking Attributes of a certain
      routing advertisement, once a self-set threshold has been crossed. By
      means of this self defence mechanism it should not be possible to crash
      neighbouring peers due to the excessive use of the new attribute.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="IANA_EC">[IANA_EC]</a></td>
<td class="author-text">IANA, &ldquo;<a href="http://www.iana.org/assignments/bgp-extended-communities">Border Gateway Protocol (BGP) Data Collection Standard
          Communities</a>,&rdquo; June&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1997">[RFC1997]</a></td>
<td class="author-text"><a href="mailto:rchandra@cisco.com">Chandrasekeran, R.</a>, <a href="mailto:pst@cisco.com">Traina, P.</a>, and <a href="mailto:tli@skat.usc.edu">T. Li</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1997">BGP Communities Attribute</a>,&rdquo; RFC&nbsp;1997, August&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1997.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4271">[RFC4271]</a></td>
<td class="author-text">Rekhter, Y., Li, T., and S. Hares, &ldquo;<a href="http://tools.ietf.org/html/rfc4271">A Border Gateway Protocol 4 (BGP-4)</a>,&rdquo; RFC&nbsp;4271, January&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4271.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4360">[RFC4360]</a></td>
<td class="author-text">Sangli, S., Tappan, D., and Y. Rekhter, &ldquo;<a href="http://tools.ietf.org/html/rfc4360">BGP Extended Communities Attribute</a>,&rdquo; RFC&nbsp;4360, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4360.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.boucadair-qos-bgp-spec">[I-D.boucadair-qos-bgp-spec]</a></td>
<td class="author-text">Boucadair, M., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-boucadair-qos-bgp-spec-01.txt">QoS-Enhanced Border Gateway Protocol</a>,&rdquo; draft-boucadair-qos-bgp-spec-01 (work in progress), July&nbsp;2005 (<a href="http://www.ietf.org/internet-drafts/draft-boucadair-qos-bgp-spec-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-idr-flow-spec">[I-D.ietf-idr-flow-spec]</a></td>
<td class="author-text">Marques, P., Sheth, N., Raszuk, R., Greene, B., Mauch, J., and D. McPherson, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-idr-flow-spec-09.txt">Dissemination of flow specification rules</a>,&rdquo; draft-ietf-idr-flow-spec-09 (work in progress), May&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-idr-flow-spec-09.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-softwire-bgp-te-attribute">[I-D.ietf-softwire-bgp-te-attribute]</a></td>
<td class="author-text">Fedyk, D., Rekhter, Y., and H. Ould-Brahim, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-bgp-te-attribute-04.txt">BGP Traffic Engineering Attribute</a>,&rdquo; draft-ietf-softwire-bgp-te-attribute-04 (work in progress), December&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-bgp-te-attribute-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.jacquenet-bgp-qos">[I-D.jacquenet-bgp-qos]</a></td>
<td class="author-text">Cristallo, G., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-jacquenet-bgp-qos-00.txt">The BGP QOS_NLRI Attribute</a>,&rdquo; draft-jacquenet-bgp-qos-00 (work in progress), February&nbsp;2004 (<a href="http://www.ietf.org/internet-drafts/draft-jacquenet-bgp-qos-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.liang-bgp-qos">[I-D.liang-bgp-qos]</a></td>
<td class="author-text">Benmohamed, L., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-liang-bgp-qos-00.txt">QoS Enhancements to BGP in Support of Multiple Classes of Service</a>,&rdquo; draft-liang-bgp-qos-00 (work in progress), June&nbsp;2006 (<a href="http://www.ietf.org/internet-drafts/draft-liang-bgp-qos-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.zhang-idr-bgp-extcommunity-qos">[I-D.zhang-idr-bgp-extcommunity-qos]</a></td>
<td class="author-text">Zhang, Z., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-zhang-idr-bgp-extcommunity-qos-00.txt">ExtCommunity map and carry TOS value of IP header</a>,&rdquo; draft-zhang-idr-bgp-extcommunity-qos-00 (work in progress), November&nbsp;2005 (<a href="http://www.ietf.org/internet-drafts/draft-zhang-idr-bgp-extcommunity-qos-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="MIT_CFP">[MIT_CFP]</a></td>
<td class="author-text">Amante, S., <a href="mailto:">Bitar, N.</a>, <a href="mailto:">Bjorkman, N.</a>, and <a href="mailto:">others</a>, &ldquo;<a href="http://cfp.mit.edu/docs/interprovider-qos-nov2006.pdf">Inter-provider Quality of Service - White paper draft
          1.1</a>,&rdquo; November&nbsp;2006.</td></tr>
</table>

<a name="appendix_a"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
QoS Marking Attribute Example</h3>

<p>The example AS is advertising several IP prefixes, which experience
      equal QoS treatment from AS internal networks. The IP packet forwarding
      policy within this originating AS defines e.g. 3 traffic classes for IP
      traffic (DSCP1, DSCP2 and DSCP3). These three classes are also
      consistently taken care of within an EXP bit supporting MPLS tunnel
      forwarding. The BGP UPDATE message for the announced IP prefixes will
      contain the following QoS Marking Attribute Set together with the IP
      prefix NLRI.
</p><br /><hr class="insert" />
<a name="Figure_5"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 0 0 0|0 0 0 0 0 0 0 0|0 0 0 0 0 0 0 0|0 0 1 0 1 1 1 0|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 1 0 1 1 1 0|0 0 0 0 0 0 0 0| C. Unused ='0'|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 0 0 0|0 0 0 0 0 0 0 0|0 0 0 0 0 0 1 0|0 0 0 0 0 1 0 1|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 1 0 1|0 0 0 0 0 0 0 0| C. Unused ='0'|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

|0 0 0 0 0 0 0 0|0 0 0 0 0 0 0 1|0 0 0 0 0 0 0 0|0 0 0 1 1 0 0 0|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 1 1 0 0 0|0 0 0 0 0 0 0 0| C. Unused ='0'|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 0 0 0|0 0 0 0 0 0 0 1|0 0 0 0 0 0 1 0|0 0 0 0 0 0 1 1|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 0 1 1|0 0 0 0 0 0 0 0| C. Unused ='0'|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

|0 0 0 0 0 0 0 0|0 0 0 0 0 0 1 0|0 0 0 0 0 0 0 0|0 0 0 0 1 0 0 0|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 1 0 0 0|0 0 0 0 0 0 0 0| C. Unused ='0'|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 0 0 0|0 0 0 0 0 0 1 0|0 0 0 0 0 0 1 0|0 0 0 0 0 0 0 1|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0 0 0 0 1|0 0 0 0 0 0 0 0| C. Unused ='0'|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
The class set as well as the example encodings are arbitrarily chosen.
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Thomas Martin Knoll</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chemnitz University of Technology</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Reichenhainer Str. 70 /331</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chemnitz,   09126</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">GERMANY</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49-371-531-33246</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+49-371-531-833246</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:knoll@etit.tu-chemnitz.de">knoll@etit.tu-chemnitz.de</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
