<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Operational Considerations for use of DNS in IoT devices</title>
<meta content="Michael Richardson" name="author">
<meta content="
       This document details concerns about how Internet of Things devices use IP
addresses and DNS names.
The issue becomes acute as network operators begin deploying RFC8520 Manufacturer Usage Description (MUD) definitions to control device access. 
       This document explains the problem through a series of examples of what can
go wrong, and then provides some advice on how a device manufacturer can best
make deal with these issues.
The recommendations have an impact upon device and network protocol design. 
       {RFC-EDITOR, please remove. Markdown and issue tracker for this document is at https://github.com/mcr/iot-mud-dns-considerations.git } 
    " name="description">
<meta content="xml2rfc 3.5.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-opsawg-mud-iot-dns-considerations-01" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.2
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.4.1
    requests 2.25.1
    setuptools 53.0.0
    six 1.15.0
-->
<link href="/tmp/opsawg-mud-iot-dns-considerations-dofavu2p.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">mud-iot-dns</td>
<td class="right">February 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Richardson</td>
<td class="center">Expires 25 August 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">OPSAWG Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-opsawg-mud-iot-dns-considerations-01</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-02-21" class="published">21 February 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Best Current Practice</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-08-25">25 August 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Richardson</div>
<div class="org">Sandelman Software Works</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Operational Considerations for use of DNS in IoT devices</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document details concerns about how Internet of Things devices use IP
addresses and DNS names.
The issue becomes acute as network operators begin deploying RFC8520 Manufacturer Usage Description (MUD) definitions to control device access.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document explains the problem through a series of examples of what can
go wrong, and then provides some advice on how a device manufacturer can best
make deal with these issues.
The recommendations have an impact upon device and network protocol design.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">{RFC-EDITOR, please remove. Markdown and issue tracker for this document is at https://github.com/mcr/iot-mud-dns-considerations.git }<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 25 August 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-strategies-to-map-names" class="xref">Strategies to map names</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-dns-and-ip-anti-patterns-fo" class="xref">DNS and IP Anti-Patterns for IoT device Manufacturers</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-use-of-ip-address-literals-" class="xref">Use of IP address literals in-protocol</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-use-of-non-deterministic-dn" class="xref">Use of non-deterministic DNS names in-protocol</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-use-of-a-too-inclusive-dns-" class="xref">Use of a too inclusive DNS name</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-dns-privacy-and-outsourcing" class="xref">DNS privacy and outsourcing versus MUD controllers</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-recommendations-to-iot-devi" class="xref">Recommendations to IoT device manufacturer on MUD and DNS usage</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-consistently-use-dns" class="xref">Consistently use DNS</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-use-primary-dns-names-contr" class="xref">Use primary DNS names controlled by the manufacturer</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-use-content-distribution-ne" class="xref">Use Content-Distribution Network with stable names</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-prefer-dns-servers-learnt-f" class="xref">Prefer DNS servers learnt from DHCP/Route Advertisements</a><a href="#section-toc.1-1.6.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.9.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.9.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-appendices" class="xref">Appendices</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a href="#RFC8520" class="xref">RFC8520</a>]</span> provides a standardized way to describe how a specific purpose device makes use of Internet resources.
Access Control Lists (ACLs) can be defined in an RFC8520 Manufacturer Usage Description (MUD) file that permit a device to access Internet resources by DNS name.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Use of a DNS name rather than IP address in the ACL has many advantages: not only does the layer of indirection permit the mapping of name to IP address to be changed over time, it also generalizes automatically to IPv4 and IPv6 addresses, as well as permitting loading balancing of traffic by many different common ways, including geography.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">At the MUD policy enforcement point - the firewall - there is a problem.
The firewall has only access to the layer-3 headers of the packet.
This includes the source and destination IP address, and if not encrypted by IPsec, the destination UDP or TCP port number present in the transport header.
The DNS name is not present!<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">In theory, on TLS 1.2 connections the MUD policy enforcement point might observe the Server Name  Identifier (SNI), in practice it involves active termination of the TCP connection (a forced circuit proxy) in order to see enough of the traffic.  And to what end? TLS 1.3 provides options to encrypt the ESNI.
XXX - rewrite this part to explain better.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">So in order to implement these name based ACLs, there must be a mapping between the names in the ACLs and layer-3 IP addresses.
The first section of this document details a few strategies that are used.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">The second section of this document details how common manufacturer anti-patterns get in the way this mapping.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">The third section of this document details how current trends in DNS presolution such as public DNS servers, DNS over TLS (DoT), and DNS over HTTPS (DoH) cause problems for the strategies employed.   Poor interactions with content-distribution networks is a frequent pathology that can result.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">The fourth section of this document makes a series of recommendations ("best current practices") for manufacturers on how to use DNS, and IP addresses with specific purpose IoT devices.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">The Privacy Considerations section concerns itself with issues that DNS-over-TLS and DNS-over-HTTPS are frequently used to deal with.
How these concerns apply to IoT devices located within a residence or enterprise is a key concern.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">The Security Considerations section covers some of the negative outcomes should MUD/firewall managers and IoT manufacturers choose not to cooperate.<a href="#section-1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document is a Best Current Practices (BCP) document.
It uses the above language where it needs to make a normative requirement on implementations.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mapping">
<section id="section-3">
      <h2 id="name-strategies-to-map-names">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-strategies-to-map-names" class="section-name selfRef">Strategies to map names</a>
      </h2>
<p id="section-3-1">The most naive method is to try to map IP addresses to names using the in-addr.arpa (IPv4), and ipv6.arpa (IPv6) mappings.
This fails for a number of reasons:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-2">
<li id="section-3-2.1">it can not be done fast enough,<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.2">it reveals usage patterns of the devices,<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.3">the mapping are often incomplete,<a href="#section-3-2.3" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.4">even if the mapping is present, due to virtual hosting, it may not map back to the name used in the ACL.<a href="#section-3-2.4" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-3-3">This is not a successful strategy, and do not use it.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">XXX -- explain in detail how this can fail.
YYY -- explain N:1 vs 1:1 for virtual hosting.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">The simplest successful strategy for translating names is for a MUD controller to take is to do a DNS lookup on the name (a forward lookup), and then use the resulting IP addresses to populate the physical ACLs.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">There are still a number of failures possible.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">The most important one is in the mapping of the names to IP addresses may be non-deterministic.
<span>[<a href="#RFC1794" class="xref">RFC1794</a>]</span> describes the very common mechanism that returns DNS A (or reasonably AAAA) records in a permutted order.
This is known as Round Robin DNS, and it has been used for many decades.
The device is intended to use the first IP address that is returned, and each query returns addresses in a different ordering, splitting the load among many servers.<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">This situation does not result in failures as long as all possible A/AAAA records are returned.
The MUD controller and the device get a matching set, and the ACLs that are setup cover all possibilities.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">There are a number of circumstances in which the list is not exhaustive.
The simplest is when the round robin does not return all addresses.
This is routinely done by geographical DNS load balancing system.
It can also happen if there are more addresses than will conveniently fit into a DNS reply.
The reply will be marked as truncated.
(If DNSSEC resolution will be done, then the entire RR must be retrieved over TCP (or using a larger EDNS(0) size) before being validated)<a href="#section-3-9" class="pilcrow">¶</a></p>
<p id="section-3-10">However, in a geographical DNS load balancing system, different answers are given based upon the locality of the system asking.
There may also be further layers of round-robin indirection.<a href="#section-3-10" class="pilcrow">¶</a></p>
<p id="section-3-11">Aside from the list of records being incomplete, the list may have changed between the time that the MUD controller did the lookup and the time that the IoT device does the lookup, and this change can result in a failure for the ACL to match.<a href="#section-3-11" class="pilcrow">¶</a></p>
<p id="section-3-12">In order to compensate for this, the MUD controller SHOULD regularly do DNS lookups.
These lookups need to be rate limited in order to avoid load.
It may be necessary to avoid recursive DNS servers in order to avoid receiving cached data.  Properly designed recursive servers should cache data for many minutes to days, while the underlying DNS data can change at a higher frequency, providing different answers to different queries!<a href="#section-3-12" class="pilcrow">¶</a></p>
<p id="section-3-13">A MUD controller that is aware of which recursive DNS server that the IoT device will use can instead query that server on a periodic basis.
Doing so provides three advantages:<a href="#section-3-13" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-14">
<li id="section-3-14.1">any geographic load balancing will base the decision on the geolocation of the recursive DNS server, and the recursive name server will provide the same answer to the MUD controller as to the IoT device.<a href="#section-3-14.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-14.2">the resulting name to IP address mapping in the recursive name server will be cached, and will remain the same for the entire advertised Time-To-Live reported in the DNS query return.
This also allows the MUD controller to avoid doing unnecessary queries.<a href="#section-3-14.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-14.3">if any addresses have been omitted in a round-robin DNS process, the cache will have the set of addresses that were returned.<a href="#section-3-14.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-3-15">The solution of using the same caching recursive resolver as the target device is very simple when the MUD controllers is located in a residential CPE device.
The device is usually also the policy enforcement point for the ACLs, and a caching resolver is  typically located on the same device.
In addition the convenience, there is a shared fate advantage: as all three components are running on the same device, if the device is rebooted, clearing the cache, then all three components will  get restarted when the device is restarted.<a href="#section-3-15" class="pilcrow">¶</a></p>
<p id="section-3-16">Where the solution is more complex is when the MUD controller is located elsewhere in an Enteprise, or remotely in a cloud such as when a Software Defines Network (SDN) is used to manage the ACLs.
The DNS servers for a particular device may not be known to the MUD controller, nor the MUD controller be even permitted to make recusive queries that server if it is known.
In this case, additional installation specific mechanisms are probably needed to get the right view of DNS.<a href="#section-3-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dns-and-ip-anti-patterns-for-iot-device-manufacturers">
<section id="section-4">
      <h2 id="name-dns-and-ip-anti-patterns-fo">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-dns-and-ip-anti-patterns-fo" class="section-name selfRef">DNS and IP Anti-Patterns for IoT device Manufacturers</a>
      </h2>
<p id="section-4-1">XXX - Anti-Pattern is unclear<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">This section describes a number of things with IoT manufacturers have been observed to do in the field, each of which presents difficulties for MUD enforcement points.<a href="#section-4-2" class="pilcrow">¶</a></p>
<div id="inprotocol">
<section id="section-4.1">
        <h3 id="name-use-of-ip-address-literals-">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-use-of-ip-address-literals-" class="section-name selfRef">Use of IP address literals in-protocol</a>
        </h3>
<p id="section-4.1-1">A common pattern for a number of devices is to look for firmware updates in a two step process.
An initial query is made (often over HTTPS, sometimes with a POST, but the method is immaterial) to an authoritatve server.
(What is this)
The current firmware model of the device is sometimes provided and then the authoritative server provides a determination if a new version is required, and if so, what version.
In simpler cases, an HTTPS end point is queried which provides the name and URL of the most recent firmware.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The more complex case supports situations in which the device needs to be running the latest patch release before it can apply the next major release.
For instance, a device running 1.4 must upgrade to at least version 1.9 before it is able to download version 2.0 of the firmware.
(XXX:consider removing this, non-essential)<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The authoritative upgrade server then responds with a URL of a firmware blob that the device should download and install.
Best practice is that firmware is either signed internally (<span>[<a href="#I-D.ietf-suit-architecture" class="xref">I-D.ietf-suit-architecture</a>]</span>) so that it can be verified, or a hash of the blob is provided.
XXX - explain problem with IP address literals.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">The challenge for a MUD controller is in the details of the URL that is provided is not visible to the MUD controller.
An authoritative server might be tempted to provided an IP address literal inside the protocol: there are two arguments for doing this.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">One is that it eliminates problems to firmware updates that might be caused by lack of DNS, or incompatibilities with DNS.
For instance the bug that causes interoperability issues with some recursive servers would become unpatchable for devices that were forced to use that recursive resolver type.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">A second reason to avoid a DNS in the URL is when an inhouse content-distribution system is involved that involves on-demand instances being added (or removed) from a cloud computing architecture.
This model is typical of on-demand video systems including Netflix (see [LOOKING FOR NETFLIX REF],
[WINDOWS UPDATE REF]), but this can occur in quite a number of other situations.
Third-party content-distribution networks (CDN) tend to use DNS names in order to isolate the content-owner from changes to the distribution network.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">[BEHAVE-BCP-REF] gives other good reasons why IP address literals are bad
ideas; in particular they work very poorly when devices have IPv6
capabilities, and are on IPv6-only networks with NAT64 (see <span>[<a href="#RFC6146" class="xref">RFC6146</a>]</span>).<a href="#section-4.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="use-of-non-deterministic-dns-names-in-protocol">
<section id="section-4.2">
        <h3 id="name-use-of-non-deterministic-dn">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-use-of-non-deterministic-dn" class="section-name selfRef">Use of non-deterministic DNS names in-protocol</a>
        </h3>
<p id="section-4.2-1">A second pattern is for a control protocol to connect to a known HTTP end
point.
This is easily described in MUD.
Within that control protocol references are made to additional content at other URLs.
The values of those URLs do not fit any easily described pattern and may point at arbitrary names.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Those names are often within some third-party Content-Distribution-Network (CDN) system, or may be arbitrary names in a cloud-provider storage system such as Amazon S3 (such <span>[<a href="#AmazonS3" class="xref">AmazonS3</a>]</span>, or <span>[<a href="#Akamai" class="xref">Akamai</a>]</span>).<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3"><strong>INSERT</strong> examples of non-deterministic CDN content.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">Since it is not possible to predict a name for where the content will be, it is not possible to include that into the MUD file.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">This applies to the firmware update situation as well.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="use-of-a-too-inclusive-dns-name">
<section id="section-4.3">
        <h3 id="name-use-of-a-too-inclusive-dns-">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-use-of-a-too-inclusive-dns-" class="section-name selfRef">Use of a too inclusive DNS name</a>
        </h3>
<p id="section-4.3-1">Some CDNs make all customer content at a single URL (such as s3.amazonaws.com).
This seems to be ideal from a MUD point of view: a completely predictable URL.
The problem is that a compromised device could then connect to any S3 bucket, potentially attacking other buckets.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Provide an EXAMPLE, https://s3.awazonaws.com/petrocks/scenary/, XXX<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">The MUD ACLs provide only for permitting end points (hostnames and ports), but do not filter URLs (nor could filtering be enforced within HTTPS).<a href="#section-4.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="dns-privacy-and-outsourcing-versus-mud-controllers">
<section id="section-5">
      <h2 id="name-dns-privacy-and-outsourcing">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-dns-privacy-and-outsourcing" class="section-name selfRef">DNS privacy and outsourcing versus MUD controllers</a>
      </h2>
<p id="section-5-1"><span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span> and <span>[<a href="#RFC8094" class="xref">RFC8094</a>]</span> provide for DNS over TLS (DoT) and DNS over HTTPS (DoH).
<span>[<a href="#I-D.ietf-dnsop-terminology-ter" class="xref">I-D.ietf-dnsop-terminology-ter</a>]</span> details the terms.
But, even with traditional DNS over Port-53 (Do53), it is possible to outsource DNS  queries to other public services, such as those operated by Google, CloudFlare, Verisign, etc.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">There are significant privacy issues with having IoT devices sending their DNS queries to an outside entity.
Doing it over a secure transport (DoT/DoH) is clearly better than doing so on
port 53.
The providers of the secure resolver service will, however, still see the IoT device queries.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">A described above in <a href="#mapping" class="xref">Section 3</a> the MUD controller needs to have access to the same resolver(s) as the IoT device.
Use of the QuadX resolvers (such as Google's 8.8.8.8) at first seems to present less of a problem than use of some other less well known resolver.
While any system may use QuadX, in most cases those services are massively replicated via anycast: there is no guarantee that a MUD controller will speak to the same instance, or get the same geographic anycast result.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">XXX - THIS NEEDS WAY MORE EXPLANATION.<a href="#section-5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-to-iot-device-manufacturer-on-mud-and-dns-usage">
<section id="section-6">
      <h2 id="name-recommendations-to-iot-devi">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-recommendations-to-iot-devi" class="section-name selfRef">Recommendations to IoT device manufacturer on MUD and DNS usage</a>
      </h2>
<p id="section-6-1">Inclusion of a MUD file with IoT devices is operationally quite simple.
It requires only a few small changes to the DHCP client code to express the
MUD URL.
It can even be done without code changes via the use of a QR code affixed to the packaging (see <span>[<a href="#I-D.richardson-mud-qrcode" class="xref">I-D.richardson-mud-qrcode</a>]</span>.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The difficult part is determining what to put into the MUD file itself.
There are currently tools that help with the definition and analysis of MUD files, see <span>[<a href="#mudmaker" class="xref">mudmaker</a>]</span>.
The remaining difficulty is now the semantic contents of what is in the MUD file.
An IoT manufacturer must now spend some time reviewing what the network communications that their device does.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">This document has discussed a number of challenges that occur relating to how DNS requests are made and resolved, and it is the goal of this section to make recommendations on how to modify IoT systems to work well with MUD.<a href="#section-6-3" class="pilcrow">¶</a></p>
<div id="consistently-use-dns">
<section id="section-6.1">
        <h3 id="name-consistently-use-dns">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-consistently-use-dns" class="section-name selfRef">Consistently use DNS</a>
        </h3>
<p id="section-6.1-1">The first recommendation is to avoid using IP address literals in any protocol.
Names should always be used.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="use-primary-dns-names-controlled-by-the-manufacturer">
<section id="section-6.2">
        <h3 id="name-use-primary-dns-names-contr">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-use-primary-dns-names-contr" class="section-name selfRef">Use primary DNS names controlled by the manufacturer</a>
        </h3>
<p id="section-6.2-1">The second recommendation is to allocate and use names within zones controlled by the manufacturer.
These names can be populated with an alias (see <span>[<a href="#RFC8499" class="xref">RFC8499</a>]</span> section 2) that points to the production system.
Ideally, a different name is used for each logical function, allowing for different rules in the MUD file to be enabled and disabled.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">While it used to be costly to have a large number of aliases in a web server certificate, this is no longer the case.
Wildcard certificates are also commonly available which allowed for an infinite number of possible names.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="use-content-distribution-network-with-stable-names">
<section id="section-6.3">
        <h3 id="name-use-content-distribution-ne">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-use-content-distribution-ne" class="section-name selfRef">Use Content-Distribution Network with stable names</a>
        </h3>
<p id="section-6.3-1">When aliases point to a Content-Distribution Network (CDN), prefer to use stable names that point to appropriately load balanced targets.
CDNs that employ very low time-to-live (TTL) values for DNS make it harder for the MUD controller to get the same answer as the IoT Device.
A CDN that always returns the same set of A and AAAA records, but permutes them to provide the best one first provides a more reliable answer.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="prefer-dns-servers-learnt-from-dhcproute-advertisements">
<section id="section-6.4">
        <h3 id="name-prefer-dns-servers-learnt-f">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-prefer-dns-servers-learnt-f" class="section-name selfRef">Prefer DNS servers learnt from DHCP/Route Advertisements</a>
        </h3>
<p id="section-6.4-1">IoT Devices should prefer doing DNS to the network provided DNS servers.
Whether this is restricted to Classic DNS (Do53) or also includes using DoT/DoH is a local decision, but a locally provided DoT server SHOULD be used, as recommended by <span>[<a href="#I-D.reddy-dprive-bootstrap-dns-server" class="xref">I-D.reddy-dprive-bootstrap-dns-server</a>]</span> and <span>[<a href="#I-D.peterson-doh-dhcp" class="xref">I-D.peterson-doh-dhcp</a>]</span>.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<p id="section-6.4-2">The ADD WG is currently only focusing on insecure discovery mechanisms
like DHCP/RA <span>[<a href="#I-D.btw-add-home" class="xref">I-D.btw-add-home</a>]</span> and DNS based discovery mechanisms ({?{I-D.pauly-add-deer}}). Secure discovery of network provided DoH/DoT resolver is possible using the mechanisms discussed in <span>[<a href="#I-D.reddy-add-enterprise" class="xref">I-D.reddy-add-enterprise</a>]</span> section-4.<a href="#section-6.4-2" class="pilcrow">¶</a></p>
<p id="section-6.4-3">Use of public QuadX resolver instead of the provided DNS resolver, whether Do53, DoT or DoH is discouraged.
Should the network provide such a resolver for use, then there is no reason not to use it, as the network operator has clearly thought about this.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
<p id="section-6.4-4">Some manufacturers would like to have a fallback to using a public resolver to mitigate against local misconfiguration.
There are a number of reasons to avoid this, or at least do this very carefully.
The recommendation here is to do this only when the provided resolvers provide no answers to any queries at all, and do so repeatedly.
The use of the operator provided resolvers SHOULD be retried on a periodic basis, and once they answer, there should be no further attempts to contact public resolvers.<a href="#section-6.4-4" class="pilcrow">¶</a></p>
<p id="section-6.4-5">Finally, the list of public resolvers that might be contacted MUST be listed in the MUD file as destinations that are to be permitted!
This should include the port numbers (53, 853 for DoT, 443 for DoH) that will be used as well.<a href="#section-6.4-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="privacy-considerations">
<section id="section-7">
      <h2 id="name-privacy-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-7-1">The use of non-local DNS servers exposes the list of names resolved to a third parties, including passive eavesdroppers.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The use of DoT and DoH eliminates the minimizes threat from passive eavesdropped, but still exposes the list to the operator of the DoT or DoH server.
There are additional methods, such as described by <span>[<a href="#I-D.pauly-dprive-oblivious-doh" class="xref">I-D.pauly-dprive-oblivious-doh</a>]</span>.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">The use of unencrypted (Do53) requests to a local DNS server exposes the list to any internal passive eavesdroppers, and for some situations that may be significant, particularly if unencrypted WiFi is used.
Use of Encrypted DNS connection to a local DNS recursive resolver is a preferred choice, assuming that the trust anchor for the local DNS server can be obtained, such as via <span>[<a href="#I-D.reddy-dprive-bootstrap-dns-server" class="xref">I-D.reddy-dprive-bootstrap-dns-server</a>]</span>.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">IoT devices that reach out to the manufacturer at regular intervals to check for firmware updates are informing passive eavesdroppers of the existence of a specific manufacturer's device being present at the origin location.<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5">Identifying the IoT device type empowers the attacker to launch targeted attacks 
to the IoT device (e.g., Attacker can advantage of the device vulnerability).<a href="#section-7-5" class="pilcrow">¶</a></p>
<p id="section-7-6">While possession of a Large (Kitchen) Appliance at a residence may be uninteresting to most, possession of intimate personal devices (e.g., "sex toys") may be a cause for embarrassment.<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">IoT device manufacturers are encouraged to find ways to anonymize their update queries.
For instance, contracting out the update notification service to a third party that deals with a large variety of devices would provide a level of defense against passive eavesdropping.
Other update mechanisms should be investigated, including use of DNSSEC signed TXT records with current version information.
This would permit DoT or DoH to convey the update notification in a private fashion.
This is particularly powerful if a local recursive DoT server is used, which then communicates using DoT over the Internet.<a href="#section-7-7" class="pilcrow">¶</a></p>
<p id="section-7-8">The more complex case of section <a href="#inprotocol" class="xref">Section 4.1</a> postulates that the version number needs to be provided to an intelligent agent that can decided the correct route to do upgrades.
The current <span>[<a href="#I-D.ietf-suit-architecture" class="xref">I-D.ietf-suit-architecture</a>]</span> specification provides a wide variety of ways to accomplish the same thing without having to divulge the current version number.<a href="#section-7-8" class="pilcrow">¶</a></p>
<p id="section-7-9">The use of a publically specified firmware update protocol would also enhance privacy of IoT devices.
In such a system the IoT device would never contact the manufacturer for version information or for firmware itself.
Instead, details of how to query and where to get the firmware would be provided as a MUD extension, and a Enterprise-wide mechanism would retrieve firmware, and then distribute it internally.
Aside from the bandwidth savings of downloading the firmware only once, this also makes the number of devices active confidential,  and provides some evidence about which devices have been upgraded and which ones might still be vulnerable.
(The unpatched devices might be lurking, powered off, lost in a closet)<a href="#section-7-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">This document deals with conflicting Security requirements:<a href="#section-8-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-8-2">
<li id="section-8-2.1">devices which an operator wants to manage using <span>[<a href="#RFC8520" class="xref">RFC8520</a>]</span><a href="#section-8-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-8-2.2">requirements for the devices to get access to network resources that  may be critical to their continued safe operation.<a href="#section-8-2.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-8-3">This document takes the view that the two requirements do not need to be in conflict, but resolving the conflict requires some advance planning by all parties.<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="Akamai">[Akamai]</dt>
        <dd>
<span class="refTitle">"Akamai"</span>, <time datetime="2019" class="refDate">2019</time>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Akamai_Technologies">https://en.wikipedia.org/wiki/Akamai_Technologies</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="AmazonS3">[AmazonS3]</dt>
        <dd>
<span class="refTitle">"Amazon S3"</span>, <time datetime="2019" class="refDate">2019</time>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Amazon_S3">https://en.wikipedia.org/wiki/Amazon_S3</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-dnsop-terminology-ter">[I-D.ietf-dnsop-terminology-ter]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span>, <span class="refTitle">"Terminology for DNS Transports and Location"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-dnsop-terminology-ter-02</span>, <time datetime="2020-08-03" class="refDate">3 August 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-dnsop-terminology-ter-02.txt">http://www.ietf.org/internet-drafts/draft-ietf-dnsop-terminology-ter-02.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-suit-architecture">[I-D.ietf-suit-architecture]</dt>
        <dd>
<span class="refAuthor">Moran, B.</span><span class="refAuthor">, Tschofenig, H.</span><span class="refAuthor">, Brown, D.</span><span class="refAuthor">, and M. Meriac</span>, <span class="refTitle">"A Firmware Update Architecture for Internet of Things"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-suit-architecture-15</span>, <time datetime="2021-01-17" class="refDate">17 January 2021</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-suit-architecture-15.txt">http://www.ietf.org/internet-drafts/draft-ietf-suit-architecture-15.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.peterson-doh-dhcp">[I-D.peterson-doh-dhcp]</dt>
        <dd>
<span class="refAuthor">Peterson, T.</span>, <span class="refTitle">"DNS over HTTP resolver announcement Using DHCP or Router Advertisements"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-peterson-doh-dhcp-01</span>, <time datetime="2019-10-21" class="refDate">21 October 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-peterson-doh-dhcp-01.txt">http://www.ietf.org/internet-drafts/draft-peterson-doh-dhcp-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.reddy-dprive-bootstrap-dns-server">[I-D.reddy-dprive-bootstrap-dns-server]</dt>
        <dd>
<span class="refAuthor">Reddy.K, T.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, Richardson, M.</span><span class="refAuthor">, and M. Boucadair</span>, <span class="refTitle">"A Bootstrapping Procedure to Discover and Authenticate DNS-over-TLS and DNS-over-HTTPS Servers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-reddy-dprive-bootstrap-dns-server-08</span>, <time datetime="2020-03-06" class="refDate">6 March 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-reddy-dprive-bootstrap-dns-server-08.txt">http://www.ietf.org/internet-drafts/draft-reddy-dprive-bootstrap-dns-server-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1794">[RFC1794]</dt>
        <dd>
<span class="refAuthor">Brisco, T.</span>, <span class="refTitle">"DNS Support for Load Balancing"</span>, <span class="seriesInfo">RFC 1794</span>, <span class="seriesInfo">DOI 10.17487/RFC1794</span>, <time datetime="1995-04" class="refDate">April 1995</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1794">https://www.rfc-editor.org/info/rfc1794</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6146">[RFC6146]</dt>
        <dd>
<span class="refAuthor">Bagnulo, M.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and I. van Beijnum</span>, <span class="refTitle">"Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers"</span>, <span class="seriesInfo">RFC 6146</span>, <span class="seriesInfo">DOI 10.17487/RFC6146</span>, <time datetime="2011-04" class="refDate">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6146">https://www.rfc-editor.org/info/rfc6146</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7858">[RFC7858]</dt>
        <dd>
<span class="refAuthor">Hu, Z.</span><span class="refAuthor">, Zhu, L.</span><span class="refAuthor">, Heidemann, J.</span><span class="refAuthor">, Mankin, A.</span><span class="refAuthor">, Wessels, D.</span><span class="refAuthor">, and P. Hoffman</span>, <span class="refTitle">"Specification for DNS over Transport Layer Security (TLS)"</span>, <span class="seriesInfo">RFC 7858</span>, <span class="seriesInfo">DOI 10.17487/RFC7858</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7858">https://www.rfc-editor.org/info/rfc7858</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8094">[RFC8094]</dt>
        <dd>
<span class="refAuthor">Reddy, T.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, and P. Patil</span>, <span class="refTitle">"DNS over Datagram Transport Layer Security (DTLS)"</span>, <span class="seriesInfo">RFC 8094</span>, <span class="seriesInfo">DOI 10.17487/RFC8094</span>, <time datetime="2017-02" class="refDate">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8094">https://www.rfc-editor.org/info/rfc8094</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8499">[RFC8499]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span><span class="refAuthor">, Sullivan, A.</span><span class="refAuthor">, and K. Fujiwara</span>, <span class="refTitle">"DNS Terminology"</span>, <span class="seriesInfo">BCP 219</span>, <span class="seriesInfo">RFC 8499</span>, <span class="seriesInfo">DOI 10.17487/RFC8499</span>, <time datetime="2019-01" class="refDate">January 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8499">https://www.rfc-editor.org/info/rfc8499</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8520">[RFC8520]</dt>
      <dd>
<span class="refAuthor">Lear, E.</span><span class="refAuthor">, Droms, R.</span><span class="refAuthor">, and D. Romascanu</span>, <span class="refTitle">"Manufacturer Usage Description Specification"</span>, <span class="seriesInfo">RFC 8520</span>, <span class="seriesInfo">DOI 10.17487/RFC8520</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8520">https://www.rfc-editor.org/info/rfc8520</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.btw-add-home">[I-D.btw-add-home]</dt>
        <dd>
<span class="refAuthor">Boucadair, M.</span><span class="refAuthor">, Reddy.K, T.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, Cook, N.</span><span class="refAuthor">, and T. Jensen</span>, <span class="refTitle">"DHCP and Router Advertisement Options for Encrypted DNS Discovery"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-btw-add-home-12</span>, <time datetime="2021-01-22" class="refDate">22 January 2021</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-btw-add-home-12.txt">http://www.ietf.org/internet-drafts/draft-btw-add-home-12.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.pauly-dprive-oblivious-doh">[I-D.pauly-dprive-oblivious-doh]</dt>
        <dd>
<span class="refAuthor">Kinnear, E.</span><span class="refAuthor">, McManus, P.</span><span class="refAuthor">, Pauly, T.</span><span class="refAuthor">, and C. Wood</span>, <span class="refTitle">"Oblivious DNS Over HTTPS"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-pauly-dprive-oblivious-doh-04</span>, <time datetime="2021-01-26" class="refDate">26 January 2021</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-pauly-dprive-oblivious-doh-04.txt">http://www.ietf.org/internet-drafts/draft-pauly-dprive-oblivious-doh-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.reddy-add-enterprise">[I-D.reddy-add-enterprise]</dt>
        <dd>
<span class="refAuthor">Reddy.K, T.</span><span class="refAuthor"> and D. Wing</span>, <span class="refTitle">"DNS-over-HTTPS and DNS-over-TLS Server Deployment Considerations for Enterprise Networks"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-reddy-add-enterprise-00</span>, <time datetime="2020-06-23" class="refDate">23 June 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-reddy-add-enterprise-00.txt">http://www.ietf.org/internet-drafts/draft-reddy-add-enterprise-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.richardson-mud-qrcode">[I-D.richardson-mud-qrcode]</dt>
        <dd>
<span class="refAuthor">Richardson, M.</span><span class="refAuthor">, Latour, J.</span><span class="refAuthor">, and H. Gharakheili</span>, <span class="refTitle">"On loading MUD URLs from QR codes"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-richardson-mud-qrcode-00</span>, <time datetime="2020-12-17" class="refDate">17 December 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-richardson-mud-qrcode-00.txt">http://www.ietf.org/internet-drafts/draft-richardson-mud-qrcode-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="mudmaker">[mudmaker]</dt>
      <dd>
<span class="refTitle">"Mud Maker"</span>, <time datetime="2019" class="refDate">2019</time>, <span>&lt;<a href="https://mudmaker.org">https://mudmaker.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="appendices">
<section id="section-appendix.a">
      <h2 id="name-appendices">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-appendices" class="section-name selfRef">Appendices</a>
    </h2>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael Richardson</span></div>
<div dir="auto" class="left"><span class="org">Sandelman Software Works</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mcr+ietf@sandelman.ca" class="email">mcr+ietf@sandelman.ca</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
