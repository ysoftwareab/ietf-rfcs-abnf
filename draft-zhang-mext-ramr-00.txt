





     MEXT Working Group                                        Hong-Ke Zhang 
     Internet Draft                                              Zhi-Wei Yan  
     Expires: March 2009                                       Si-Dong Zhang 
                                                               Hua-Chun Zhou 
                                                              Jian-Feng Guan 
                                                 Beijing Jiaotong University 
                                                          September 30, 2008 
                                         
                                           
           Router Advertisement Extension to Recognize Access Location for 
                                    Mobile Router 
                            draft-zhang-mext-ramr-00.txt 


     Status of this Memo 

        By submitting this Internet-Draft, each author represents that       
        any applicable patent or other IPR claims of which he or she is       
        aware have been or will be disclosed, and any of which he or she       
        becomes aware will be disclosed, in accordance with Section 6 of       
        BCP 79. 

        Internet-Drafts are working documents of the Internet Engineering 
        Task Force (IETF), its areas, and its working groups.  Note that 
        other groups may also distribute working documents as Internet-Drafts. 

        Internet-Drafts are draft documents valid for a maximum of six months 
        and may be updated, replaced, or obsoleted by other documents at any 
        time.  It is inappropriate to use Internet-Drafts as reference 
        material or to cite them other than as "work in progress." 

        The list of current Internet-Drafts can be accessed at 
             http://www.ietf.org/ietf/1id-abstracts.txt 

        The list of Internet-Draft Shadow Directories can be accessed at 
             http://www.ietf.org/shadow.html 

        This Internet-Draft will expire on March 30,2009. 

     Abstract 

        The Router Advertisement message in IPv6 Neighbor Discovery Protocol 
        [2] contains an 8-bit field reserved for single-bit flags. Several 
        protocols have reserved flags in this field and others are preparing 
        to reserve a sufficient number of flags to exhaust the field. This 
        document defines a flag to the Router Advertisement message that 
        extends the available number of flag bits available. The extended 
        flag defined in this document is mainly used by Mobile Router to 
        identify its location. 

      
      
      
     Zhang et al.            Expires March 30, 2009                 [Page 1] 
      
     Internet-Draft           RA extension for MR             September 2008 
      

     Conventions used in this document 

        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
        document are to be interpreted as described in [1]. 

     Table of Contents 

         
        1. Introduction...................................................2 
        2. Extended RA....................................................2 
        3. Security Considerations........................................5 
        4. References.....................................................5 
        Author's Addresses................................................5 
        Intellectual Property Statement...................................5 
        Full Copyright Statement..........................................6 
        Acknowledgment....................................................6 
         
      1. Introduction 

        The Router Advertisement message in IPv6 Neighbor Discovery Protocol 
        [2] contains an 8-bit field reserved for single-bit flags. Several 
        protocols have reserved flags in this field and others are preparing 
        to reserve a sufficient number of flags to exhaust this field. 

        The RA may be sent by Access Router including the Mobile Router (MR) 
        in mobile network. When several MR are connected in a nested manner, 
        they do not know the nested situation according to the basic NEMO 
        protocol. So it is not convenient to do some special configuration 
        and optimization, such as route optimization. 

        Routers send out Router Advertisement message periodically, or in 
        response to a Router Solicitation. This document defines a flag for 
        the Router Advertisement message. The extended format of RA is 
        illustrated in figure 1.  

         

      2. Extended RA 

        This document defines a flag for the Router Advertisement message. 
        The extended format of RA is illustrated in figure 1.  

         

         
      
      
     Zhang et al.            Expires March 30,2009                  [Page 2] 
         
     Internet-Draft           RA extension for MR             September 2008 
      

         

          0                 1                   2                   3     

          0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 

          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

          |     Type      |     Code      |          Checksum           | 

          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

          | Cur Hop Limit |M|O|R|  Reserved |       Router Lifetime     | 

          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

          |                         Reachable Time                      | 

          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

          |                          Retrans Timer                      | 

          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

          |   Options ... 

          +-+-+-+-+-+-+-+-+-+-+-+- 

                           Figure 1: Extended RA 

       Type            

       134 

       Code            

       0 

       Checksum        

       The ICMP checksum.  See [ICMPv6]. 

       Cur Hop Limit   

        8-bit unsigned integer.  The default value that should be placed in 
        the Hop Count field of the IP header for outgoing IP packets. A 
        value of zero means unspecified (by this router). 
      
      
     Zhang et al.            Expires March 30,2009                  [Page 3] 
         
     Internet-Draft           RA extension for MR             September 2008 
      

       M               

       1-bit "Managed address configuration" flag.  When set, hosts use the 
       administered (stateful) protocol for address autoconfiguration in 
       addition to any addresses autoconfigured using stateless address 
       autoconfiguration.  The use of this flag is described in [ADDRCONF]. 

       O               

       1-bit "Other stateful configuration" flag.  When set, hosts use the 
       administered (stateful) protocol for autoconfiguration of other (non-
       address) information.  The use of this flag is described in 
       [ADDRCONF]. 

       R               

       1-bit "Mobile Router Discovery" flag. This flag is only used by the 
       mobile router. When the mobile router receives a RA message 
       containing this flag, it will recognize that this message is sent out 
       by a mobile router and it they connect in a nested manner, then the 
       flag in its RA message should be set to 1. Otherwise, when the mobile 
       router receives a RA message without this flag, it will recognize it 
       connects to a common access router, and then the flag in its RA 
       message should be set to 0. So, the mobile router with this flag set 
       to 0 is the root mobile router, while the mobile router with this 
       flag set to 1 is the nested mobile router. 

       Reserved        

       A 5-bit unused field.  It MUST be initialized to zero by the sender 
       and MUST be ignored by the receiver. 

       Router Lifetime    

       16-bit unsigned integer.  The lifetime associated with the default 
       router in units of seconds.  The maximum value corresponds to 18.2 
       hours.  A Lifetime of 0 indicates that the router is not a default 
       router and SHOULD NOT appear on the default router list. 

       Reachable Time     

       32-bit unsigned integer.  The time, in milliseconds, that a node 
       assumes a neighbor is reachable after having received a reachability 
       confirmation. A value of zero means unspecified (by this router). 

       Retrans Timer             

      
      
     Zhang et al.            Expires March 30,2009                  [Page 4] 
         
     Internet-Draft           RA extension for MR             September 2008 
      

       32-bit unsigned integer.  The time, in milliseconds, between 
       retransmitted Neighbor Solicitation messages. A value of zero means 
       unspecified (by this router). 

      3. Security Considerations 

        When a malicious MR broadcast RA with the false flag, hierarchy of 
        nested mobile network can be confused. 

      4. References 

        [1]   Bradner, S., "Key words for use in RFCs to Indicate Requirement 
              Levels", BCP 14, RFC 2119, March 1997. 

        [2]   Narten, T., Nordmark, E., and W. Simpson, "Neighbor Discovery 
              for IP Version 6 (IPv6)", RFC 2461, December 1998. 

     Author's Addresses 

        Hong-Ke Zhang, Zhi-Wei Yan, Hua-Chun Zhou, Si-Dong Zhang, Jian-Feng 
        Guan 
        NGI Research Center 
        Beijing Jiaotong University of China 
            
        Phone: +861051685677 
        Email:hkzhang@bjtu.edu.cn  
              06120232@bjtu.edu.cn 
              hchzhou@bjtu.edu.cn 
              sdzhang@center.njtu.edu.cn 
              guanjian8632@163.com 

      

     Intellectual Property Statement 

        The IETF takes no position regarding the validity or scope of any 
        Intellectual Property Rights or other rights that might be claimed to 
        pertain to the implementation or use of the technology described in 
        this document or the extent to which any license under such rights 
        might or might not be available; nor does it represent that it has 
        made any independent effort to identify any such rights.  Information 
        on the procedures with respect to rights in RFC documents can be 
        found in BCP 78 and BCP 79. 

        Copies of IPR disclosures made to the IETF Secretariat and any 
        assurances of licenses to be made available, or the result of an 
        attempt made to obtain a general license or permission for the use of 
      
      
     Zhang et al.            Expires March 30,2009                  [Page 5] 
         
     Internet-Draft           RA extension for MR             September 2008 
      

        such proprietary rights by implementers or users of this 
        specification can be obtained from the IETF on-line IPR repository at 
        http://www.ietf.org/ipr. 

        The IETF invites any interested party to bring to its attention any 
        copyrights, patents or patent applications, or other proprietary 
        rights that may cover technology that may be required to implement 
        this standard.  Please address the information to the IETF at 
        ietf-ipr@ietf.org. 

     Full Copyright Statement

   	Copyright (C) The IETF Trust (2008).

   	This document is subject to the rights, licenses and restrictions
   	contained in BCP 78, and except as set forth therein, the authors
   	retain all their rights.

   	This document and the information contained herein are provided on an
   	"AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   	OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   	THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   	OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   	THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   	WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

     Acknowledgment 

        Funding for the RFC Editor function is currently provided by the 
        Internet Society. 

         













      
      
     Zhang et al.            Expires March 30,2009                  [Page 6] 
         
