<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Dynamic Host Configuration Protocol
	for IPv6 (DHCPv6) Options for Dual-Stack Lite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Dynamic Host Configuration Protocol
	for IPv6 (DHCPv6) Options for Dual-Stack Lite">
<meta name="keywords" content="DHCPv6, Softwire, DS Lite">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Dynamic Host Configuration Working</td><td class="header">D. Hankins</td></tr>
<tr><td class="header">Group</td><td class="header">ISC</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">T. Mrugalski</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Gdansk University of Technology</td></tr>
<tr><td class="header">Expires: July 10, 2010</td><td class="header">January 06, 2010</td></tr>
</table></td></tr></table>
<h1><br />Dynamic Host Configuration Protocol
	for IPv6 (DHCPv6) Options for Dual-Stack Lite<br />draft-ietf-softwire-ds-lite-tunnel-option-01</h1>

<h3>Abstract</h3>

<p>This document specifies two DHCPv6 Options which are meant 
	to be used by Softwire Initiator (SI) to retrieve its attached
	DS-Lite AFTR (Address Family Transition Router).
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on July 10, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Requirements Language<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction<br />
<a href="#anchor3">3.</a>&nbsp;
DHCPv6 Options<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#option-addr">3.1.</a>&nbsp;
The Dual-Stack Lite Softwire Concentrator Address
    DHCPv6 Option<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#option-FQDN">3.2.</a>&nbsp;
The Dual-Stack Lite Softwire Concentrator Name
      DHCPv6 Option<br />
<a href="#anchor4">4.</a>&nbsp;
DHCPv6 Server Behavior<br />
<a href="#anchor5">5.</a>&nbsp;
DHCPv6 Client Behavior<br />
<a href="#anchor6">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor7">7.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor8">8.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">9.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements Language</h3>

<p>In this document, the key words "MAY", "MUST", "MUST NOT", "OPTIONAL",
	"RECOMMENDED", "SHOULD", and "SHOULD NOT", are to be interpreted as
	described in <a class='info' href='#RFC2119'>BCP 14, RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p><a class='info' href='#draft-ietf-softwire-dual-stack-lite-02'>Dual-Stack
	Lite<span> (</span><span class='info'>Durand, A., Ed., &ldquo;Dual-stack lite broadband deployments post IPv4 		exhaustion,&rdquo; October&nbsp;2009.</span><span>)</span></a> [draft&#8209;ietf&#8209;softwire&#8209;dual&#8209;stack&#8209;lite&#8209;02] is a solution to offer both IPv4 and IPv6
	connectivity to customers which are addressed only with an
	IPv6 prefix (no IPv4 address is assigned to the attachment
	device). One of its key components is an IPv4-over-IPv6 tunnel, commonly
	referred to as a Softwire, but a DS-Lite Basic Bridging
	BroadBand (B4) will not know if
        the network it is attached to offers Dual-Stack Lite support, and if
        it did would not know the remote end of the tunnel to establish a
        connection.
</p>
<p>To inform the B4 of the Address Family Transition Router's
        (AFTR) location, either an IPv6 address or Fully Qualified Domain Name
        (FQDN) may be used.  Once this information is conveyed, the presence
        of the configuration indicating the AFTR's location
        also informs a host to initiate Dual-Stack Lite (DS-Lite)
        service and become a Softwire Initiator.
</p>
<p>To provide the conveyance of the configuration information, two
        <a class='info' href='#RFC3315'>DHCPv6<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315] Options are used; one in the
        case where the host receives an IPv6 address, and one in the case
        where the host receives an FQDN in order to derive an IPv6
        address.
</p>
<p>This document assumes that the SI is provided with
      appropriate instructions for the activation of an IPv4-in-IPv6
      scheme which is supposed to be supported in both B4 and
      AFTR. Consequently, this memo does not precise the IPv4-in-IPv6
      encapsulation scheme to be used by B4.
	
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
DHCPv6 Options</h3>

<p>Following sub-sections define two new DHCPv6 Options, conformant with
    requirements specified in <a class='info' href='#RFC3315'>DHCPv6<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315] Section 22.1.
    
</p>
<a name="option-addr"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
The Dual-Stack Lite Softwire Concentrator Address
    DHCPv6 Option</h3>

<p>The Dual-Stack Lite Softwire Concentrator Address Option consists of
        option-code and option-len fields (common for all DHCPv6 Options), and
        a 128 bit tunnel-endpoint-addr field, containing one IPv6 address.
        The tunnel-endpoint-addr specifies the location of the remote tunnel
        endpoint, expected to be located at an AFTR (DS-Lite Address Family
        Transition Router element).
</p>
<p>The DS-Lite Address DHCPv6 Option MAY appear in the root
	scope of a DHCPv6 packet. It MUST NOT appear inside any IA_NA,
	IA_TA, IA_PD, IAADDR, or similar.
</p>
<p>The DS-Lite Address DHCPv6 Option MUST NOT appear more than once in a
        message.
</p>
<p>The format of the Dual-Stack Lite Softwire Concentrator Addr
      DHCPv6 Option is shown in the following figure:
</p><br /><hr class="insert" />
<a name="option-format-addr"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>
     0                   1                   2                   3
     0 1 2-3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-------------------------------+-------------------------------+
    |   OPTION_DS_LITE_ADDR (TBD)   |         option-len: 16        |
    +-------------------------------+-------------------------------+
    |                                                               |
    |               tunnel-endpoint-addr (IPv6 Address)             |
    |                                                               |
    |                                                               |
    +---------------------------------------------------------------+
</pre></div>
<p style='text-align: center'>DS Lite IPv6 Address DHCPv6 Option format.
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Below is provided the description of the enclosed fields:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>option-code:</dt>
<dd>OPTION_DS_LITE_ADDR (TBD)
</dd>
<dt>option-len:</dt>
<dd>Length of the tunnel-endpoint-addr
          field, which is currently defined to be precisely 16 octets.
</dd>
<dt>tunnel-endpoint-addr:</dt>
<dd>This field contains a single
          IPv6 address in binary representation of the remote tunnel
          endpoint, located at the DS-Lite AFTR.  It is precisely 16 octets
          in length.
</dd>
</dl></blockquote>

<p>The client validates the DS-Lite Address DHCPv6 Option by confirming the
        option is of 16 octets in length or greater.  The client MUST ignore
        tunnel-endpoint-addr  shorter than 16 octets.  In the event the
        option is greater than 16 octets in length, only the first 16 octets
        are interpreted.
</p>
<p>Because this option conveys the tunnel-endpoint-addr value,
        no further processing is required of the client.
</p>
<p>The definition of this option is simple and encloses only a
      single IPv6 address. It is temping to define a flexible option
      which may convey several IPv6 addresses (for robustness and
      service availability reasons), but for the sake of simplicity
      and consistency it is recommended to use a FQDN Option instead
      of conveying several IPv6 addresses.
</p>
<a name="option-FQDN"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
The Dual-Stack Lite Softwire Concentrator Name
      DHCPv6 Option</h3>

<p>The Dual-Stack Lite Softwire Concentrator Name Option consists of
        option-code and option-len fields (common for all DHCPv6 Options), and
        a variable length tunnel-endpoint-name field, containing a
        Fully Qualified Domain Name that refers to the AFTR the client
        is requested to establish a connection with.
</p>
<p>The DS-Lite Name option MAY appear in the root scope of a DHCPv6
        packet.  It MUST NOT appear inside any IA_NA, IA_TA, IA_PD,
        IAADDR, or similar.
</p>
<p>The DS-Lite Name DHCPv6 Option MUST NOT appear more than once in a
        message.
</p>
<p>The format of the Dual-Stack Lite Softwire Concentrator Name
      DHCPv6 Option is shown in th following figure:
</p><br /><hr class="insert" />
<a name="option-format-FQDN"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-------------------------------+-------------------------------+
    |   OPTION_DS_LITE_NAME (TBD)   |           option-len          |
    +-------------------------------+-------------------------------+
    |                   tunnel-endpoint-name (FQDN)                 |
    +---------------------------------------------------------------+
</pre></div>
<p style='text-align: center'>DS-Lite FQDN DHCPv6 Option format.
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Below is provided the description of the enclosed fields:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>option-code:</dt>
<dd>OPTION_DS_LITE_NAME (TBD)
</dd>
<dt>option-len:</dt>
<dd>Length in octets of the
          tunnel-endpoint-name field.
</dd>
<dt>tunnel-endpoint-name:</dt>
<dd>This field contains a
          single Fully Qualified Domain Name of the remote tunnel endpoint,
          located at the DS-Lite AFTR.
</dd>
</dl></blockquote>

<p>The tunnel-endpoint-name field is formatted as
        required in <a class='info' href='#RFC3315'>DHCPv6<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315] Section 8
        (&quot;Representation and Use of Domain Names&quot;).  Briefly, the
        format described is using a single octet noting the length of one
        DNS label (limited to at most 64 octets), followed by the label.
        This repeats until all labels in the FQDN are exhausted.  The root
        label (or the end of the FQDN) is denoted as a zero length label.
        An example FQDN format for this option is shown in
        <a class='info' href='#fqdn-example'>Figure&nbsp;3</a>.
</p><br /><hr class="insert" />
<a name="fqdn-example"></a>
<div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>
    +------+------+------+------+------+------+------+------+------+
    | 0x07 |   e  |   x  |   a  |   m  |   p  |   l  |   e  | 0x03 |
    +------+------+------+------+------+------+------+------+------+
    |   i  |   s  |   c  | 0x03 |   o  |   r  |   g  | 0x00 |
    +------+------+------+------+------+------+------+------+
</pre></div>
<p style='text-align: center'>Example tunnel-endpoint-name.
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Note that in the specific case of the
        <a class='info' href='#fqdn-example'>example
        tunnel-endpoint-name,</a> the length of the option is
        17 octets, and so an option-len field value of 17 would be used.
</p>
<p>The client (B4) validates the option in this format by first confirming
        that the option length is greater than 3, that the option data can be
        contained by the option length (that the option length does not run off
        the end of the packet), and that the tunnel-endpoint-name is of
        valid format as described in <a class='info' href='#RFC3315'>DHCPv6 Section
        8<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315]; there are no compression tags, there is at least one label of
        nonzero length.
</p>
<p>The client (B4) determines a value for the tunnel-endpoint-addr from
        the tunnel-endpoint-name using standard DNS resolution, as
        defined in <a class='info' href='#RFC3596'>[RFC3596]<span> (</span><span class='info'>Thomson, S., Huitema, C., Ksinant, V., and M. Souissi, &ldquo;DNS Extensions to Support IP Version 6,&rdquo; October&nbsp;2003.</span><span>)</span></a>.  If the DNS response contains
        more than one IPv6 address, the client picks only one IPv6 address and
        uses it as a remote tunnel endpoint.  The client MUST NOT establish
        more than one DS Lite tunnel at the same time.  For a redundancy
        and high availability discussion, see Section 7.2 &quot;High
        availability&quot; of
        <a class='info' href='#draft-ietf-softwire-dual-stack-lite-02'>[draft&#8209;ietf&#8209;softwire&#8209;dual&#8209;stack&#8209;lite&#8209;02]<span> (</span><span class='info'>Durand, A., Ed., &ldquo;Dual-stack lite broadband deployments post IPv4 		exhaustion,&rdquo; October&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
DHCPv6 Server Behavior</h3>

<p>DHCP servers must translate user input from their own specific and
	unique operator's interfaces into configuration state for the client.
	The server MUST provide a way to configure the OPTION_DS_LITE_ADDR,
	and SHOULD allow the operator to enter a Fully Qualified Domain Name,
	upon which the server performs DNS Resolution to assemble its
	OPTION_DS_LITE_ADDR contents.  The server MAY either provide the same
	Fully Qualified Domain Name as OPTION_DS_LITE_NAME contents, or simply
	provide a distinct method of configuring it.
</p>
<p>If configured with values, DHCPv6 servers will include the
	DS Lite Address and/or Name Options if either or both appear on the
        client's Option Request Option (OPTION_ORO).
        <a class='info' href='#RFC3315'>RFC 3315 Section 17.2.2<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315]
	describes how a DHCPv6 client and server negotiate configuration
	values using the ORO.
</p>
<p>A DHCPv6 server MAY NOT send either Option if it has not been
	explicitly requested by the client.
</p>
<p>If the server is configured with an FQDN as the tunnel endpoint
        locator, the configured FDQN value MUST contain a resolvable Fully
        Qualified Domain Name, having appropriate delegations from the root,
        and having a AAAA record locating the Softwire Concentrator.
</p>
<p>If OPTION_DS_LITE_NAME is being configured, the server MUST
      be configured to provide OPTION_DNS_SERVERS defined in
	<a class='info' href='#RFC3646'>[RFC3646]<span> (</span><span class='info'>Droms, R., &ldquo;DNS Configuration options for Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; December&nbsp;2003.</span><span>)</span></a> together with the DS Lite option, so that
        clients will be able to ask for DNS servers locations to resolve the
        domain name provided in the DS-Lite Name DHCPv6 option.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
DHCPv6 Client Behavior</h3>

<p>A client that supports B4 functionality of the DS-Lite (defined
	in <a class='info' href='#draft-ietf-softwire-dual-stack-lite-02'>[draft&#8209;ietf&#8209;softwire&#8209;dual&#8209;stack&#8209;lite&#8209;02]<span> (</span><span class='info'>Durand, A., Ed., &ldquo;Dual-stack lite broadband deployments post IPv4 		exhaustion,&rdquo; October&nbsp;2009.</span><span>)</span></a>)
	MUST include OPTION_DS_LITE_ADDR on its OPTION_ORO, and MAY include
        OPTION_DS_LITE_NAME at its option and ability.
</p>
<p>If requesting the OPTION_DS_LITE_NAME DHCPv6 Option, the client also SHOULD
        request OPTION_DNS_SERVERS defined in <a class='info' href='#RFC3646'>[RFC3646]<span> (</span><span class='info'>Droms, R., &ldquo;DNS Configuration options for Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; December&nbsp;2003.</span><span>)</span></a> to be
        able to resolve any received domain name.
</p>
<p>If the client receives either DS-Lite Option, it MUST verify the
        option contents as described in <a class='info' href='#option-addr'>Section&nbsp;3.1<span> (</span><span class='info'>The Dual-Stack Lite Softwire Concentrator Address     DHCPv6 Option</span><span>)</span></a> and
        <a class='info' href='#option-FQDN'>Section&nbsp;3.2<span> (</span><span class='info'>The Dual-Stack Lite Softwire Concentrator Name       DHCPv6 Option</span><span>)</span></a>.  The client (B4) SHOULD establish a softwire
        tunnel to the tunnel-endpoint-addr IPv6 address it determines from
        either of these options.
</p>
<p>If the client requests and receives both the OPTION_DS_LITE_ADDR and
        the OPTION_DS_LITE_NAME, it MUST proceed with resolving the
        OPTION_DS_LITE_NAME.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>This document does not present any new security issues, but as with
	all DHCPv6-derived configuration state, it is completely possible that
	the configuration is being delivered by a third party (Man In The
	Middle).  As such, there is no basis to trust that the access the
	DS-Lite Softwire connection represents can be trusted, and it should
	not therefore bypass any security mechanisms such as IP firewalls.
</p>
<p><a class='info' href='#RFC3315'>RFC 3315<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315] discusses DHCPv6-related
	security issues.
</p>
<p><a class='info' href='#draft-ietf-softwire-dual-stack-lite-02'>[draft&#8209;ietf&#8209;softwire&#8209;dual&#8209;stack&#8209;lite&#8209;02]<span> (</span><span class='info'>Durand, A., Ed., &ldquo;Dual-stack lite broadband deployments post IPv4 		exhaustion,&rdquo; October&nbsp;2009.</span><span>)</span></a>
      discusses DS Lite	related security issues.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>IANA is requested to allocate two DHCPv6 Option codes referencing
        this document.  One delineating OPTION_DS_LITE_ADDR, and one
        delineating OPTION_DS_LITE_NAME.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgements</h3>

<p>Authors would like to thank Alain Durand, Rob Austein and Dave
      Thaler for their valuable feedback and suggestions.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3315">[RFC3315]</a></td>
<td class="author-text">Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;<a href="http://tools.ietf.org/html/rfc3315">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>,&rdquo; RFC&nbsp;3315, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3315.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3596">[RFC3596]</a></td>
<td class="author-text">Thomson, S., Huitema, C., Ksinant, V., and M. Souissi, &ldquo;<a href="http://tools.ietf.org/html/rfc3596">DNS Extensions to Support IP Version 6</a>,&rdquo; RFC&nbsp;3596, October&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3596.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3646">[RFC3646]</a></td>
<td class="author-text">Droms, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3646">DNS Configuration options for Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>,&rdquo; RFC&nbsp;3646, December&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3646.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-ietf-softwire-dual-stack-lite-02">[draft-ietf-softwire-dual-stack-lite-02]</a></td>
<td class="author-text">Durand, A., Ed., &ldquo;Dual-stack lite broadband deployments post IPv4
		exhaustion,&rdquo; October&nbsp;2009.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">David W. Hankins</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Internet Systems Consortium,
		Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">950 Charter Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redwood City, CA  94063</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 650 423 1307</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:David_Hankins@isc.org">David_Hankins@isc.org</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tomasz Mrugalski</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Gdansk University of Technology</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Storczykowa 22B/12</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Gdansk,   80-177</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Poland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+48 698 088 272</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tomasz.mrugalski@eti.pg.gda.pl">tomasz.mrugalski@eti.pg.gda.pl</a></td></tr>
</table>
</body></html>
