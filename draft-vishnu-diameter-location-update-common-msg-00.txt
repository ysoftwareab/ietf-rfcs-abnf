 
 
 
   
    
    
    
DIME Working Group          
Internet-Draft                                       Vishnu Ram    
Expires: February, 2007                              Satendra Gera   
                                                     October, 2006       
                                    
                   
                   
       Diameter Location-Update common message    
       draft-vishnu-diameter-location-update-common-msg-00.txt    
    
Status of this Memo    
    
   By submitting this Internet-Draft, each author represents that any    
   applicable patent or other IPR claims of which he or she is aware    
   have been or will be disclosed, and any of which he or she becomes    
   aware will be disclosed, in accordance with Section 6 of BCP 79.    
    
   Internet-Drafts are working documents of the Internet Engineering    
   Task Force (IETF), its areas, and its working groups.    
   Note that other groups may also distribute working documents as    
   Internet-Drafts.    
    
   Internet-Drafts are draft documents valid for a maximum of six months    
   and may be updated, replaced, or obsoleted by other documents at any    
   time.  It is inappropriate to use Internet-Drafts as reference    
   material or to cite them other than as "work in progress."    
    
   The list of current Internet-Drafts can be accessed at    
   http://www.ietf.org/ietf/1id-abstracts.txt.    
    
   The list of Internet-Draft Shadow Directories can be accessed at    
   http://www.ietf.org/shadow.html.    
    
   This Internet-Draft will expire on February 2007.    
    
Copyright Notice    
    
   Copyright (C) The Internet Society (2006).    
    
Abstract    
   The Diameter base protocol which is intended to provide     
   Authentication, Authorization and Accounting (AAA) framework for     
   applications (such as network access) is specified in [RFC 3588].     
   [RFC 3588] specifies a number of reusable common messages which can  
   be used across applications.   
   
   This draft adds to the list of common messages by adding a location   

 
 
Vishnu et al.,               Expires - April 2007              [Page 1] 

Internet-Draft  Diameter Location-Update common message October 2006 
 
 
   update message which can be used in different existing and potential  
   authentication ,authorization and accounting scenarios.   
      
   
Conventions used in this document    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",    
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this    
   document are to be interpreted as described in [RFC2119].    
    
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
    
    
   
   
   
   
   
   
  
  
  
  
 
  
 

 
 
Vishnu et al.,               Expires - April 2007              [Page 2] 

Internet-Draft  Diameter Location-Update common message October 2006 
 
 
   
Table of Contents    
    
   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4    
   2.  Location Update Command-Codes. . . . . . . . . . . . . . . . .  4    
   3.  Server-Identification . . . . . . . . . . . . . . . . . . . . . 6    
   4.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  6    
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . .  6    
   6.  Normative References . . . . . . . . . . . . . . . . . . . . .  6    
   7.  Informative References . . . . . . . . . . . . . . . . . . . .  7    
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . .  8    
   Intellectual Property and Copyright Statements . . . . . . . . . .  9    
   Disclaimer of Validity . . . . . . . . . . . . . . . . . . . . . .  9    
   Copyright Statement  . . . . . . . . . . . . . . . . . . . . . . .  9    
   Acknowledgment . . . . . . . . . . . . . . . . . . . . . . . . . .  9    
       
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
 
 

 
 
Vishnu et al.,               Expires - April 2007              [Page 3] 

Internet-Draft  Diameter Location-Update common message October 2006 
 
 
1.  Introduction    
    
   Section 8.3 and 9.7 of [RFC3588], list down number of reusable   
   common messages which can be used across applications.  
   This draft adds to the list of common messages by adding a location  
   update message which can be used in different existing and potential  
   authentication ,authorization and accounting scenarios.  
   Below figure tries to collate the scenarios where location update   
   message might be useful.  
     
     
   
     + + + + + + + + + + + + + + + + +  
    +  ___|          ______________   +  
    + |   |         |Entity Serving|  +    
    + |MN |         |MN (NAS,App-Se|  +  
    + |___|         |rver,CSCF etc)|_______LUR/LUA_____    
    +   |           |______________|  +                |  
    +   |       Cell C/Domain D       +                |   
    + + | + + + + + + + + + + + + + + +              __v________   
        |                                           |           |  
        |[Movement]                                 | AAA       |  
    + + | + + + + + + + + + + + + + + +             | Diameter  |  
   +    v                             +             | Server    |    
   +   ___|          ______________   +             |___________|  
   +  |   |         |Entity Serving|  +                ^  
   +  |MN |         |MN (NAS,App-Se|  +                |   
   +  |___|         |rver,CSCF etc)|_______LUR/LUA_____|  
   +                |______________|  +  
   +           Cell C'/Domain D'      +   
   + + + + + + + + + + + + + + + + + +    
  
   Location-Update command will be have utility in cases where entity   
   holding diameter client is serving mobile nodes which can move while  
   continuing a session.  
   In the above figure centralized AAA diameter server might be   
   interested in knowing the identity of the entity serving the MN at   
   any point of time for various reasons including:  
   - Correct routing of server initiated messages like deregistration,  
   - Session termination messages from the server,  
   - Logging.  
 
1.1 Problem statement 
   We can classify the location update in AAA as implicit and explicit  
   procedures. Implicit location update happens when the AAA Client  
   authenticates or sends a key generation request to the AAA Server  
   and the AAA Server, as part of that procedure, stores the AAA Client 
   Identity which is currently serving the user(MN). In some scenarios, 
   implicit location update may not happen. For example, in  
   architectures where there is context transfer between the two  
   serving entities, authentication request or key generation request  

 
 
Vishnu et al.,               Expires - April 2007              [Page 4] 

Internet-Draft  Diameter Location-Update common message October 2006 
 
 
   may not be sent to the AAA Server. In such scenarios, an explicit  
   Location-Update-Request command would be required. 
     
                     
2.   Location Update Command-Codes  
  
2.1  Location-Update-Request (LUR) Command  
  
   The Location-Update-Request (LUR) command is indicated by the  
   Command-Code set to TBD and the Command   
   Flags 'R' bit set. The Diameter client sends this command to the  
   Diameter server to request that the Diameter server store the   
   identification of the server that is currently serving the user.    
  
   The Message Format of the LUR command is as follows:  
  
       <LUR> ::= < Diameter Header: TBD, REQ, PXY >  
                 < Session-Id >  
                 { Origin-Host }  
                 { Origin-Realm }  
                 { Destination-Realm }  
                 { Server-Identification }    
                 [ Destination-Host ]  
                 [ User-Name ]  
               * [ Proxy-Info ]  
               * [ Route-Record ]  
               * [ AVP ]  
   
  
2.2.  Location-Update-Answer (LUA) Command  
  
   The Location-Update-Answer (LUA) is indicated by the Command-Code  
   set to TBD and the Command Flags' 'R'  
   bit cleared.  The Diameter server sends this command in response to a  
   previously received Diameter Location-Update-Request (LUR) command.  
      
   In addition to the values already defined in RFC 3588 [RFC3588], the  
   Result-Code AVP may contain one of the values defined in  
   Section 10.1.  
  
   The Result-Code AVP value in the Diameter LUA message may indicate a  
   success or an error in the execution of the Diameter LUR command.  
  
   If the Diameter server does not recognize the user name received   
   in the User-Name AVP, the Diameter server MUST build a Diameter   
   Location-Update-Answer (LUA) message and MUST set the Result-Code  
   AVP to DIAMETER_ERROR_USER_UNKNOWN.  
  
   The Message Format of the LUA command is as follows:  
  
       <LUA> ::= < Diameter Header: TBD, PXY >  

 
 
Vishnu et al.,               Expires - April 2007              [Page 5] 

Internet-Draft  Diameter Location-Update common message October 2006 
 
 
                 < Session-Id >  
                 { Result-Code }  
                 { Origin-Host }  
                 { Origin-Realm }  
                 [ User-Name ]  
               * [ Proxy-Info ]  
               * [ Route-Record ]  
               * [ AVP ]  
  
3. Server-Identification AVP  
     
   The Server-Identification AVP (AVP Code TBD) is of type OctetString   
   and contains the Identification of the entity currently serving the  
   MN.  
  
4. IANA Considerations   
   This document serves as IANA registration request for a number of 
   items that should be registered in the AAA parameters registry. 
 
4.1. Command Code 
 
   This document defines a new standard Location-Update command whose  
   Command Code is to be allocated within the standard permanent  
   Command Codes address space defined in RFC 3588 [RFC3588]  
   Section 11.2.1.  This command code should be registered in the  
   Command Codes sub-registry of the AAA parameters registry. 
 
4.2. AVP Code 
 
   This document defines new standard Server-Identification AVP, whose 
   AVP Codes are to be allocated within the AVP Codes address space  
   defined in RFC 3588 [RFC3588] Section 11.4.  
   This AVP codes should be registered in the AVP Codes sub-registry of 
   the AAA parameters registry. 
 
5. Security Considerations    
   
   This document does not contain a security protocol; it describes    
   extensions to the existing Diameter protocol.  All security issues of    
   DIAMETER protocol must be considered in implementing this     
   specification.  This extension does not add any unique concerns.    
    
6.  Normative References    
    
   [RFC2119]   Bradner, S., "Key words for use in RFCs to Indicate    
               Requirement Levels", BCP 14, RFC 2119, March 1997.              
    
   [RFC3588]   Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and J.    
               Arkko, "Diameter Base Protocol", RFC 3588,     
               September 2003.    
    

 
 
Vishnu et al.,               Expires - April 2007              [Page 6] 

Internet-Draft  Diameter Location-Update common message October 2006 
 
 
   [IANA]      Narten, T. and H. Alvestrand, "Guidelines for Writing    
               an IANA Considerations Section in RFCs", BCP 26, RFC    
               2434, October 1998.    
    
   [IANAADFAM] IANA; "Address Family Numbers",    
               http://www.iana.org/assignments/address-family-numbers    
    
   [IANAWEB]   IANA, "Number assignment", http://www.iana.org    
    
7. Informative References     
    
   [AAAREQ]       Aboba, B., Calhoun, P., Glass, S., Hiller, T., McCann,    
                  P., Shiino, H., Zorn, G., Dommety, G., Perkins, C.,    
                  Patil, B., Mitton, D., Manning, S., Beadles, M.,    
                  Walsh, P., Chen, X., Sivalingham, S., Hameed, A.,    
                  Munson, M., Jacobs, S., Lim, B., Hirschman, B., Hsu,    
                  R., Xu, Y., Campbell, E., Baba, S. and E. Jaques,    
                  "Criteria for Evaluating AAA Protocols for Network    
                  Access", RFC 2989, November 2000.    
    
   [AAATRANS]     Aboba, B. and J. Wood, "Authentication, Authorization    
                  and Accounting (AAA) Transport Profile", RFC 3539,    
                  June 2003.    
  


























 
 
Vishnu et al.,               Expires - April 2007              [Page 7] 



Internet-Draft  Diameter Location-Update common message October 2006 
 
 
Authors' Addresses    
    
   Vishnu Ram     
   Motorola     
   66/1, Bagmane Tech Park,      
   C V Raman Nagar, Bangalore, 560093     
   vishnu@motorola.com     
        
   Satendra Gera    
   Motorola     
   66/1, Bagmane Tech Park,      
   C V Raman Nagar, Bangalore, 560093     
   in1236c@motorola.com   
         
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
   
    
    
  
  
  
  
 
 
 
 
 
 
 
 

 
 
Vishnu et al.,               Expires - April 2007              [Page 8] 

Internet-Draft  Diameter Location-Update common message October 2006 
 
 
Intellectual Property Statement    
    
   The IETF takes no position regarding the validity or scope of any    
   Intellectual Property Rights or other rights that might be claimed to    
   pertain to the implementation or use of the technology described in    
   this document or the extent to which any license under such rights    
   might or might not be available; nor does it represent that it has    
   made any independent effort to identify any such rights.  Information    
   on the procedures with respect to rights in RFC documents can be    
   found in BCP 78 and BCP 79.    
    
   Copies of IPR disclosures made to the IETF Secretariat and any    
   assurances of licenses to be made available, or the result of an    
   attempt made to obtain a general license or permission for the use of    
   such proprietary rights by implementers or users of this    
   specification can be obtained from the IETF on-line IPR repository at    
   http://www.ietf.org/ipr.    
    
   The IETF invites any interested party to bring to its attention any    
   copyrights, patents or patent applications, or other proprietary    
   rights that may cover technology that may be required to implement    
   this standard.  Please address the information to the IETF at    
   ietf-ipr@ietf.org.    
    
    
Disclaimer of Validity    
    
   This document and the information contained herein are provided on an    
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS    
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET    
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,    
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE    
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED    
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.    
    
    
Copyright Statement    
    
   Copyright (C) The Internet Society (2006).  This document is subject    
   to the rights, licenses and restrictions contained in BCP 78, and    
   except as set forth therein, the authors retain all their rights.    
    
    
Acknowledgment    
    
   A significant contribution to this draft was made by Liyaqatali   
   G. Nadaf.    
    
   
   
 

 
 
Vishnu et al.,               Expires - April 2007              [Page 9] 


