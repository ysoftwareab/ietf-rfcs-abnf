<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Best Current Practice for
    Communications Services in support of Emergency Calling</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Best Current Practice for
    Communications Services in support of Emergency Calling">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">ecrit</td><td class="header">B. Rosen</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">NeuStar</td></tr>
<tr><td class="header">Intended status: BCP</td><td class="header">J. Polk</td></tr>
<tr><td class="header">Expires: January 10, 2010</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 09, 2009</td></tr>
</table></td></tr></table>
<h1><br />Best Current Practice for
    Communications Services in support of Emergency Calling<br />draft-ietf-ecrit-phonebcp-12</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 10, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>The IETF and other standards organization have efforts targeted at standardizing various aspects of placing emergency 
calls on IP networks. This memo describes best current practice on how devices, networks and services should use 
such standards to make emergency calls.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Terminology<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction<br />
<a href="#anchor3">3.</a>&nbsp;
Overview of how emergency calls are placed<br />
<a href="#WhichDevices">4.</a>&nbsp;
Which devices and services should support emergency calls<br />
<a href="#Identifying">5.</a>&nbsp;
Identifying an emergency call<br />
<a href="#Location">6.</a>&nbsp;
Location and its role in an emergency call<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#LocationTypes">6.1.</a>&nbsp;
Types of location information<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#LocationDetermination">6.2.</a>&nbsp;
Location Determination<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#UserLocation">6.2.1.</a>&nbsp;
User-entered location information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#WireDatabase">6.2.2.</a>&nbsp;
Access network "wire database" location
information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#EndSystemMeasuredLocation">6.2.3.</a>&nbsp;
End-system measured location information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NetworkMeasuredLocation">6.2.4.</a>&nbsp;
Network-measured location information<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#WhoAddsLocation">6.3.</a>&nbsp;
Who adds location, endpoint or proxy<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#LocationReference">6.4.</a>&nbsp;
Location and references to location<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#LocationConfiguration">6.5.</a>&nbsp;
End system location configuration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#WhenConfigure">6.6.</a>&nbsp;
When location should be configured<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Conveyance">6.7.</a>&nbsp;
Conveying location in SIP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#LocationUpdate">6.8.</a>&nbsp;
Location updates<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#MultipleLocations">6.9.</a>&nbsp;
Multiple locations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Validation">6.10.</a>&nbsp;
Location validation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DefaultLocation">6.11.</a>&nbsp;
Default location<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#OtherLocation">6.12.</a>&nbsp;
Other location considerations<br />
<a href="#anchor4">7.</a>&nbsp;
LIS and LoST Discovery<br />
<a href="#Routing">8.</a>&nbsp;
Routing the call to the PSAP<br />
<a href="#Signaling">9.</a>&nbsp;
Signaling of emergency calls<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#TLS">9.1.</a>&nbsp;
Use of TLS<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#UAsignaling">9.2.</a>&nbsp;
SIP signaling requirements for User Agents<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ProxySignaling">9.3.</a>&nbsp;
SIP signaling requirements for proxy servers<br />
<a href="#Callbacks">10.</a>&nbsp;
Call backs<br />
<a href="#MidCall">11.</a>&nbsp;
Mid-call behavior<br />
<a href="#Termination">12.</a>&nbsp;
Call termination<br />
<a href="#DisableFeatures">13.</a>&nbsp;
Disabling of features<br />
<a href="#Media">14.</a>&nbsp;
Media<br />
<a href="#Testing">15.</a>&nbsp;
Testing<br />
<a href="#Security">16.</a>&nbsp;
Security Considerations<br />
<a href="#anchor5">17.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor6">18.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">19.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">19.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">19.2.</a>&nbsp;
Informative References<br />
<a href="#anchor9">Appendix&nbsp;A.</a>&nbsp;
BCP Requirements Sorted by Responsible Party<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">A.1.</a>&nbsp;
Requirements of End Devices<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">A.2.</a>&nbsp;
Requirements of Service Providers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">A.3.</a>&nbsp;
Requirements of Access Network<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">A.4.</a>&nbsp;
Requirements of Intermediate Devices<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", 
"RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>This document uses terms from <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>, <a class='info' href='#RFC5012'>[RFC5012]<span> (</span><span class='info'>Schulzrinne, H. and R. Marshall, &ldquo;Requirements for Emergency Context Resolution with Internet Technologies,&rdquo; January&nbsp;2008.</span><span>)</span></a> and 
<a class='info' href='#I-D.ietf-ecrit-framework'>[I&#8209;D.ietf&#8209;ecrit&#8209;framework]<span> (</span><span class='info'>Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;Framework for Emergency Calling using Internet Multimedia,&rdquo; July&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p>This document describes how access networks, SIP user agents, proxy servers and PSAPs support emergency calling, as 
outlined in <a class='info' href='#I-D.ietf-ecrit-framework'>[I&#8209;D.ietf&#8209;ecrit&#8209;framework]<span> (</span><span class='info'>Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;Framework for Emergency Calling using Internet Multimedia,&rdquo; July&nbsp;2009.</span><span>)</span></a>, which is designed to complement the 
present document in section headings, numbering and content. This BCP succinctly describes the 
requirements of end devices and applications (requirements prefaced by "ED-"), access networks (including enterprise access networks)
(requirements prefaced by "AN-", service providers (requirements prefaced by "SP-") and PSAPs to 
achieve globally interoperable emergency calling on the Internet. 
</p>
<p>This document also defines requirements for "Intermediate" devices
which exist between end devices or applications and the access network.  For example, a home router is
an "Intermediate" device.  Reporting location on an emergency call (see <a class='info' href='#Location'>Section&nbsp;6<span> (</span><span class='info'>Location and its role in an emergency call</span><span>)</span></a>) 
may depend on the ability of such intermediate devices to meet the requirements prefaced by "INT-".
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Overview of how emergency calls are placed</h3>

<p>An emergency call can be distinguished (<a class='info' href='#Identifying'>Section&nbsp;5<span> (</span><span class='info'>Identifying an emergency call</span><span>)</span></a>) from any other call 
by a unique Service URN <a class='info' href='#RFC5031'>[RFC5031]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;A Uniform Resource Name (URN) for Emergency and Other Well-Known Services,&rdquo; January&nbsp;2008.</span><span>)</span></a>, which is placed in the 
call set-up signaling when a home or visited emergency dial string is detected. Because emergency 
services are local to specific geographic regions, a caller must obtain his location (<a class='info' href='#Location'>Section&nbsp;6<span> (</span><span class='info'>Location and its role in an emergency call</span><span>)</span></a>) prior to making emergency calls. To get this location, either a form of 
measuring (e.g., GPS) (<a class='info' href='#EndSystemMeasuredLocation'>Section&nbsp;6.2.3<span> (</span><span class='info'>End-system measured location information</span><span>)</span></a>) device location in 
the endpoint is deployed, or the endpoint is configured (<a class='info' href='#LocationConfiguration'>Section&nbsp;6.5<span> (</span><span class='info'>End system location configuration</span><span>)</span></a>) with its location from the access network's Location
Information Server (LIS). The location is conveyed (<a class='info' href='#Conveyance'>Section&nbsp;6.7<span> (</span><span class='info'>Conveying location in SIP</span><span>)</span></a>) in the SIP 
signaling with the call. The call is routed (<a class='info' href='#Routing'>Section&nbsp;8<span> (</span><span class='info'>Routing the call to the PSAP</span><span>)</span></a>) based on location 
using the LoST protocol <a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>, which maps a location to 
a set of PSAP URIs. Each URI 
resolves to a PSAP or an Emergency Services Routing Proxy (ESRP), which serves a group of PSAPs. The 
call arrives at the PSAP with the location included in the SIP INVITE request. 
</p>
<a name="WhichDevices"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Which devices and services should support emergency calls</h3>

<p>ED-1 A device or application SHOULD support emergency calling if a user could reasonably expect 
to be able to place a call for help with the device. Some jurisdictions have regulations governing
this.
</p>
<p>SP-1 If a device or application expects to be able to place a call for help, the service provider that 
supports it MUST facilitate emergency calling.  Some jurisdictions have regulations governing
this.
</p>
<p>ED-2 Devices that create media sessions and exchange audio, video and/or text, and have the 
capability to establish sessions to a wide variety of addresses, and communicate over private IP 
networks or the Internet, SHOULD support emergency calls.  Some jurisdictions have regulations governing
this.
</p>
<a name="Identifying"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Identifying an emergency call</h3>

<p>ED-3 Endpoints SHOULD recognize dial strings of emergency calls.  If the service provider
always knows the location of the device, then the service provider could recognize them.
</p>
<p>SP-2 Proxy servers SHOULD recognize emergency dial strings if for some 
reason the endpoint does not recognize them.  This cannot be relied upon by the device if the service
provider cannot always determine the location of the device.
</p>
<p>ED-4/SP-3 Emergency calls MUST be marked with a Service URN in the Request-URI of the 
INVITE.
</p>
<p>ED-5/SP-4 Local dial strings MUST be recognized.
</p>
<p>ED-6/SP-5 Devices MUST be able to be configured with the home country from which the home dial string(s)
can be determined.
</p>
<p>ED-7/SP-6 Emergency dial strings SHOULD be determined from LoST 
<a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>.  Dial Strings MAY be configured directly in the device.
</p>
<p>AN-1 LoST servers MUST return dial strings for emergency services
</p>
<p>ED-8 Endpoints which do not recognize emergency dial strings SHOULD send dial strings as per 
<a class='info' href='#RFC4967'>[RFC4967]<span> (</span><span class='info'>Rosen, B., &ldquo;Dial String Parameter for the Session Initiation Protocol Uniform Resource Identifier,&rdquo; July&nbsp;2007.</span><span>)</span></a>.
</p>
<p>SP-7 If a proxy server recognizes dial strings on behalf of its clients it MUST recognize emergency dial strings represented by <a class='info' href='#RFC4967'>[RFC4967]<span> (</span><span class='info'>Rosen, B., &ldquo;Dial String Parameter for the Session Initiation Protocol Uniform Resource Identifier,&rdquo; July&nbsp;2007.</span><span>)</span></a> and SHOULD recognize emergency dial strings represented by a tel URI <a class='info' href='#RFC3966'>[RFC3966]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;The tel URI for Telephone Numbers,&rdquo; December&nbsp;2004.</span><span>)</span></a>.
</p>
<p>ED-9 Endpoints SHOULD be able to have home dial strings provisioned.
</p>
<p>SP-8 Service providers MAY provision home dial strings in devices.
</p>
<p>ED-10 Devices SHOULD NOT have one button emergency calling initiation.
</p>
<p>ED-11/SP-9 All emergency services specified in <a class='info' href='#RFC5031'>[RFC5031]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;A Uniform Resource Name (URN) for Emergency and Other Well-Known Services,&rdquo; January&nbsp;2008.</span><span>)</span></a> 
MUST be recognized.
</p>
<a name="Location"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Location and its role in an emergency call</h3>

<p>Handling location for emergency calling usually involves several steps to process and multiple elements are involved. In 
Internet emergency calling, where the endpoint is located is "determined" using a variety of 
measurement or wiretracing methods. Endpoints may be "configured" with their own location by the 
access network. In some circumstances, a proxy server may insert location into the signaling on 
behalf of the endpoint. The location is "mapped" to the URI to send the call to, and the location 
is "conveyed" to the PSAP (and other elements) in the signaling. Likewise, we employ Location 
Configuration Protocols, the Location-to-Service Mapping Protocol, and Location Conveyance Protocols for these 
functions. The Location-to-Service Translation protocol 
<a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a> is the Location Mapping Protocol defined by the 
IETF.
</p>
<a name="LocationTypes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Types of location information</h3>

<p>There are several forms of location. In IETF location configuration and location conveyance protocols, civic and geospatial (geo) 
forms are both supported. The civic forms include both postal and jurisdictional fields. A cell 
tower/sector can be represented as a point (geo or civic) or polygon. Other forms of location 
representation must be mapped into either a geo or civic for use in emergency calls.
</p>
<p>ED-12/INT-1/SP-10 Endpoints, Intermediate Devices and Service Providers MUST be prepared to handle 
location represented in either civic or geo form.
</p>
<p>ED-13/INT-2/SP-11/AN-2 Elements MUST NOT convert (civic to geo or geo to civic) from the form of 
location the determination mechanism supplied.
</p>
<a name="LocationDetermination"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Location Determination</h3>

<p>ED-14/INT-3/AN-3 Any suitable location determination mechanism MAY be used.
</p>
<a name="UserLocation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
User-entered location information</h3>

<p>ED-15/INT-4/AN-4 Devices, intermediate Devices and/or access networks SHOULD support a manual method to "override" the 
location the access network determines. Where a civic form of location is provided, all fields in 
the PIDF-LO <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC5139'>[RFC5139]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO),&rdquo; February&nbsp;2008.</span><span>)</span></a> MUST 
be able to be specified.
</p>
<a name="WireDatabase"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.2"></a><h3>6.2.2.&nbsp;
Access network "wire database" location
information</h3>

<p>AN-5 Access networks supporting copper, fiber or other hard wired IP packet service SHOULD 
support location configuration. If the network does not support location configuration, it MUST 
require every device that connects to the network to support end system measured location.
</p>
<p>AN-6/INT-5 Access networks and intermediate devices providing wire database location information SHOULD provide interior 
location data (building, floor, room, cubicle) where possible. It is RECOMMENDED that interior location be provided when spaces 
exceed approximately 650 square meters.
</p>
<p>AN-7/INT-6 Access networks and intermediate devices (including enterprise networks) which support intermediate range wireless 
connections (typically 100m or less of range) and which do not support a more accurate location 
determination mechanism such as triangulation, MUST support location configuration where
the location of the access point is reflected as the location of the clients of that access point.  Where the
access network provides location configuration, intermediate devices MUST either be transparent to it,
or provide an interconnected client for the supported configuration mechanism and a server for a
configuration protocol supported by end devices downstream of the intermediate device
</p>
<a name="EndSystemMeasuredLocation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.3"></a><h3>6.2.3.&nbsp;
End-system measured location information</h3>

<p>ED-16/INT-7 Devices MAY support end-system measured location. Uncertainty of less than 100 m with 95% 
confidence SHOULD be available for dispatch.
</p>
<p>ED-17/INT-8/AN-8 Devices that support endpoint measuring of location MUST have at least a coarse 
location capability (typically &lt;1km accuracy when not location hiding) for routing of calls. 
The location mechanism MAY be a service provided by the access network.
</p>
<a name="NetworkMeasuredLocation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.4"></a><h3>6.2.4.&nbsp;
Network-measured location information</h3>

<p>AN-9 Access networks MAY provide network-measured location determination. Wireless access 
network which do not support network measured location MUST require that all devices connected to the 
network have end-system measured location. Uncertainty of less than 100 m with 95% confidence 
SHOULD be available for dispatch.
</p>
<p>AN-10 Access networks that provide network measured location MUST have at least a coarse location 
(typically &lt;1km when not location hiding) capability at all times for routing of calls.
</p>
<p>AN-11 Access networks with range of &lt;10 meters (e.g. personal area networks such as Bluetooth 
MUST provide a location to mobile devices connected 
to them. The location provided SHOULD be that of the access point location unless a more accurate mechanism 
is provided.
</p>
<a name="WhoAddsLocation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Who adds location, endpoint or proxy</h3>

<p>ED-18/INT-9 Endpoints SHOULD attempt to configure their own location using the LCPs listed in ED-21.
</p>
<p>SP-12 Proxies MAY provide location on behalf of devices if:
</p>
<ul class="text">
<li>The proxy has a relationship with all access networks the device could connect to, and the 
relationship allows it to obtain location.
</li>
<li>The proxy has an identifier, such as an IP address, that can be used by the access network to determine the location of the 
endpoint, even in the presence of NAT and VPN tunnels that may obscure the identifier between the access 
network and the service provider.
</li>
</ul>

<p>ED-19/INT-10/SP-13 Where proxies provide location on behalf of endpoints, the service provider MUST 
ensure that either the end device is provided with the local dial strings for its current location 
(where the end device recognizes dial strings), or the service provider proxy MUST detect the appropriate 
local dial strings at the time of the call.
</p>
<a name="LocationReference"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4"></a><h3>6.4.&nbsp;
Location and references to location</h3>

<p>ED-20/INT-11 Devices SHOULD be able to accept and forward location by value or by reference. An end 
device that receives location by reference (and does not also get the corresponding value) MUST be 
able to perform a dereference operation to obtain a value.
</p>
<a name="LocationConfiguration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5"></a><h3>6.5.&nbsp;
End system location configuration</h3>

<p>ED-21/INT-12 Devices MUST support both the DHCP location options <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, 
<a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a> and HELD <a class='info' href='#I-D.ietf-geopriv-http-location-delivery'>[I&#8209;D.ietf&#8209;geopriv&#8209;http&#8209;location&#8209;delivery]<span> (</span><span class='info'>Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;HTTP Enabled Location Delivery (HELD),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
When devices deploy a specific access network interface in which that access network supports location 
discovery such as LLDP-MED or 802.11v, the device SHOULD support the additional respective access network 
specific location discovery mechanism.
</p>
<p>AN-12/INT-13 The access network MUST support either DHCP location options or HELD. 
The access network SHOULD support other location technologies that are specific to the type of 
access network.
</p>
<p>AN-13/INT-14 Where a router is employed between a LAN and WAN in a small (less than approximately 
650 square meters) area, the router MUST be transparent to the location provided by the WAN to the LAN.  This may
mean the router must obtain location as a client from the WAN, and supply an LCP server to the LAN with
the location it obtains.  Where the area is larger, the LAN MUST have a location configuration mechanism 
meeting this BCP.
</p>
<p>ED-22/INT-15 Endpoints SHOULD try all LCPs supported by the device in any order or in parallel. The 
first one that succeeds in supplying location can be used.
</p>
<p>AN-14/INT-16 Access networks that support more than one LCP MUST reply with the same location
information (within the limits of the data format for the specific LCP) for all LCPs it 
supports.
</p>
<p>ED-23/INT-17/SP-14 When HELD is the LCP, the request MUST specify a value of "emergencyRouting" for 
the "responseTime" parameter and use the resulting location for routing.  If a value for dispatch location 
will be sent, another request with the "responseTime" parameter set to "emergencyDispatch" must be 
completed, with the result sent for dispatch purposes.
</p>
<p>ED-24  Where the operating system supporting application programs which need location for emergency calls
does not allow access to Layer 2 and Layer 3 functions necessary for a client application to use DHCP location
options and/or LLDP-MED, the operating system MUST provide a published API conforming to ED-12 through 
ED-21 and ED-21 through ED-31.  It is RECOMMENDED that all operating systems provide such an API.
</p>
<a name="WhenConfigure"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.6"></a><h3>6.6.&nbsp;
When location should be configured</h3>

<p>ED-25/INT-18 Endpoints SHOULD obtain location immediately after obtaining local network configuration 
information. When HELD is the LCP the client MUST support a random back-off period (between 30 
seconds and 300 seconds) for re-trying the HELD query, when no response is received, and no other LCP provided location information.
</p>
<p>ED-26/INT-19 If the device is configured to use DHCP for bootstrapping, it MUST include both options 
for location acquisition (civic and geodetic), the option for LIS discovery, and the option for LoST discovery 
as defined in <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a>,
<a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a> and 
<a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>.
</p>
<p>ED-27/INT-20 If the device sends a DHCPINFORM message, it MUST include both options 
for location acquisition (civic and geodetic), the option for LIS discovery, and the option for LoST discovery 
as defined in <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a>, 
<a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a> and 
<a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>.
</p>
<p>ED-28/INT-21 To minimize the effects of VPNs that do not allow packets to be sent via the native hardware interface
rather than via the VPN tunnel, location configuration SHOULD be attempted 
before such tunnels are established.
</p>
<p>ED-29/INT-22 Software which uses LCPs SHOULD locate and use the actual hardware network interface rather
than a VPN tunnel interface to direct LCP requests to the LIS in the actual access network.
</p>
<p>AN-15 Network administrators MUST take care in assigning IP addresses such that VPN address 
assignments can be distinguished from local devices (by subnet choice, for example), and LISs 
SHOULD NOT attempt to provide location to addresses that arrive via VPN connections unless it can
accurately determine the location for such addresses. 
</p>
<p>AN-16 Placement of NAT devices where an LCP uses IP address for an identifier SHOULD 
consider the effect of the NAT on the LCP. The address used to query the LIS MUST be able to correctly
identify the record in the LIS representing the location of the querying device
</p>
<p>ED-30/INT-23 For devices which are not expected to roam, refreshing location on the order of once per day is 
RECOMMENDED.
</p>
<p>ED-31/INT-24 For devices which roam, refresh of location information SHOULD be more frequent, with the frequency 
related to the mobility of the device and the ability of the access network to support the refresh 
operation. If the device can detect that it has moved, for example when it 
changes access points, the device SHOULD refresh its location.
</p>
<p>ED-32/INT-25/AN-17 It is RECOMMENDED that location determination not take longer than 250 ms to obtain 
routing location and systems SHOULD be designed such that the typical response is under 100 ms. 
However, as much as 3 seconds to obtain routing location MAY be tolerated if location accuracy can 
be substantially improved over what can be obtained in 250 ms.
</p>
<a name="Conveyance"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.7"></a><h3>6.7.&nbsp;
Conveying location in SIP</h3>

<p>ED-33/SP-15 Location sent between SIP elements MUST be conveyed using 
<a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="LocationUpdate"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.8"></a><h3>6.8.&nbsp;
Location updates</h3>

<p>ED-34/AN-18 Where the absolute location or the accuracy of location of the endpoint may change 
between the time the call is received at the PSAP and the time dispatch is completed, location 
update mechanisms MUST be provided.
</p>
<p>ED-35/AN-19 Mobile devices MUST be provided with a mechanism to get repeated location updates to 
track the motion of the device during the complete processing of the call.
</p>
<p>ED-36/AN-20 The LIS SHOULD provide a location reference which permits a subscription with 
appropriate filtering.
</p>
<p>ED-37/AN-21 For calls sent with location-by-reference, with a SIP or SIPS scheme, the server 
resolving the reference MUST support a SUBSCRIBE <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> to the presence 
event <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>. For other location-by-reference schemes that do not support subscription, the PSAP will have to
repeatedly dereference the URI to determine if the device moved. 
</p>
<p>ED-38 If location was sent by value, and the endpoint gets updated location, it MUST send the 
updated location to the PSAP via a SIP re-INVITE or UPDATE request. Such updates SHOULD be limited to no more than 
one update every 10 seconds.
</p>
<a name="MultipleLocations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.9"></a><h3>6.9.&nbsp;
Multiple locations</h3>

<p>ED-39/SP-16 If the LIS has more than one location for an endpoint it MUST use the procedures in 
<a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a>
</p>
<p>ED-40 If a UA has more than one location available to it, it MUST choose one location to 
route the call towards the PSAP.  If multiple locations are in a single PIDF, the procedures in
<a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a> MUST be followed.  If the UA has
multiple PIDFs, and has no reasonable basis to choose from among them, a random choice is acceptable.
</p>
<p>SP-17 If a proxy inserts location on behalf of an endpoint, and it has multiple locations 
available for the endpoint it MUST choose one location to use to route the call towards the PSAP. 

</p>
<p>SP-18 If a proxy is attempting to insert location but the UA conveyed a location to it, the 
proxy MUST use the UA's location for routing and MUST convey that location towards the PSAP. It MAY 
also include what it believes the location to be in a separate Geolocation header.
</p>
<p>SP-19 All location objects received by a proxy MUST be delivered to the PSAP.
</p>
<p>ED-41/SP-20 Location objects MUST contain information about the method by which the location was 
determined, such as GPS, manually entered, or based on access network topology included in a PIDF-
LO "method" element. In addition, the source of the location information MUST be included in a 
PIDF-LO "provided-by" element.
</p>
<p>ED-??/SP-?? A location with a method of "derived" MUST NOT be used unless no other location is
available.
</p>
<p>ED-42/SP-21 The "used-for-routing" parameter MUST be set to the location that was chosen for routing.
</p>
<a name="Validation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.10"></a><h3>6.10.&nbsp;
Location validation</h3>

<p>AN-22 A LIS should perform location validation of civic locations via LoST before 
entering a location in its database.
</p>
<p>ED-43 Endpoints SHOULD validate civic locations when they receive them from their LCP. 
Validation SHOULD be performed in conjunction with the LoST route query to minimize load on the 
LoST server.
</p>
<a name="DefaultLocation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.11"></a><h3>6.11.&nbsp;
Default location</h3>

<p>AN-23 When the access network cannot determine the actual location of the caller, it MUST supply 
a default location. The default SHOULD be chosen to be as close to the probable location of the 
device as the network can determine.  See <a class='info' href='#I-D.ietf-ecrit-framework'>[I&#8209;D.ietf&#8209;ecrit&#8209;framework]<span> (</span><span class='info'>Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;Framework for Emergency Calling using Internet Multimedia,&rdquo; July&nbsp;2009.</span><span>)</span></a>
</p>
<p>SP-22 Proxies handling emergency calls MUST insert a default location if the call does not 
contain a location and the proxy does not have a method for obtaining a better location.
</p>
<p>AN-24/SP-23 Default locations MUST be marked with method=Default and the proxy MUST be identified
in provided-by element of the PIDF-LO.
</p>
<a name="OtherLocation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.12"></a><h3>6.12.&nbsp;
Other location considerations</h3>

<p>ED-44 If the LCP does not return location in the form of a PIDF-LO <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>, the endpoint MUST map the location information it receives from the 
configuration protocol to a PIDF-LO.
</p>
<p>ED-45/AN-25 To prevent against spoofing of the DHCP server, elements implementing DHCP for 
location configuration SHOULD use <a class='info' href='#RFC3118'>[RFC3118]<span> (</span><span class='info'>Droms, R. and W. Arbaugh, &ldquo;Authentication for DHCP Messages,&rdquo; June&nbsp;2001.</span><span>)</span></a> although the difficulty in providing
appropriate credentials is significant.
</p>
<p>ED-46 S/MIME MUST NOT be used to encrypt the SIP Geolocation header or bodies.
</p>
<p>ED-47/SP-24 TLS MUST be used to protect location (but see <a class='info' href='#TLS'>Section&nbsp;9.1<span> (</span><span class='info'>Use of TLS</span><span>)</span></a>). IPSEC
<a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> is an acceptable alternative.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
LIS and LoST Discovery</h3>

<p>ED-48  Endpoints MUST support one or more mechanisms that allow them to determine 
their public IP address. Examples include STUN <a class='info' href='#RFC3489'>[RFC3489]<span> (</span><span class='info'>Rosenberg, J., Weinberger, J., Huitema, C., and R. Mahy, &ldquo;STUN - Simple Traversal of User Datagram Protocol (UDP) Through Network Address Translators (NATs),&rdquo; March&nbsp;2003.</span><span>)</span></a>
and HTTP get.
</p>
<p>ED-49  Endpoints MUST support LIS discovery as described in <a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a>, and 
the LoST discovery as described in <a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>. 
</p>
<p>ED-50  The device MUST have a configurable default LoST server parameter. 
If the device is provided by or managed by a service provider, it is expected that the 
service provider will configure this option.
</p>
<p>ED-51 DHCP LoST discovery MUST be used, if available, in preference to configured LoST servers.  If neither 
DHCP nor configuration leads to an available LoST server, the device MUST query DNS using it's SIP
domain for an SRV record for a LoST service and use that server.
</p>
<p>AN-26 Access networks which support DHCP MUST implement the LoST discovery option
</p>
<p>SP-25 Service Providers MUST provide an SRV entry in their DNS server which leads to a LoST server
</p>
<p>AN-27  Access Networks that use HELD and that have a DHCP server SHOULD
support DHCP options for providing LIS and LoST servers.
</p>
<p>ED-52 When an endpoint has obtained a LoST server via an discovery 
mechanism (e.g., via the DNS or DHCP), it MUST prefer 
the discovered LoST server over LoST servers configured by other means.
That is, the endpoint MUST send queries to this LoST server first, using 
other LoST servers only if these queries fail.
</p>
<a name="Routing"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Routing the call to the PSAP</h3>

<p>ED-53 Endpoints who obtain their own location SHOULD perform LoST mapping to the PSAP URI.
</p>
<p>ED-54 Mapping SHOULD be performed at boot time and whenever location changes beyond the service 
boundary obtained from a prior LoST mapping operation or the time-to-live value of that response 
has expired.  The value MUST be cached for possible later use.
</p>
<p>ED-55 The endpoint MUST attempt to update its location at the time of an emergency call. If it 
cannot obtain a new location quickly (see <a class='info' href='#Location'>Section&nbsp;6<span> (</span><span class='info'>Location and its role in an emergency call</span><span>)</span></a>), it MUST use the cached 
value.
</p>
<p>ED-56 The endpoint SHOULD attempt to update the LoST mapping at the time of an emergency call. 
If it cannot obtain a new mapping quickly, it MUST use the cached value.  If the device cannot update
the LoST mapping and does not have a cached value, it MUST signal an emergency call without a Route header
containing a PSAP URI.
</p>
<p>SP-26 Networks MUST be designed so that at least one proxy in the outbound path will recognize emergency calls with a Request URI of 
the service URN in the "sos" tree. An endpoint places a service URN in the Request URI to indicate 
that the endpoint understood the call was an emergency call. A proxy that processes such a call 
looks for the presence of a SIP Route header field with a URI of a PSAP. Absence of such a Route header 
indicates the UAC was unable to invoke LoST and the proxy MUST perform the LoST mapping and insert 
a Route header field with the URI obtained.
</p>
<p>SP-27 To deal with old user agents that predate this specification and with UAs that do not have 
access to their own location data, a proxy that recognizes a call as an emergency call that is not 
marked as such (see <a class='info' href='#Identifying'>Section&nbsp;5<span> (</span><span class='info'>Identifying an emergency call</span><span>)</span></a>) MUST also perform this mapping, with the 
best location it has available for the endpoint. The resulting PSAP URI would be placed in a Route
header with the service URN in the Request URI.
</p>
<p>SP-28 Proxy servers performing mapping SHOULD use location obtained from the access network for 
the mapping. If no location is available, a default location (see <a class='info' href='#DefaultLocation'>Section&nbsp;6.11<span> (</span><span class='info'>Default location</span><span>)</span></a>) MUST be supplied.
</p>
<p>SP-29 A proxy server which attempts mapping and fails to get a mapping MUST provide a default 
mapping. A suitable default mapping would be the mapping obtained previously for the default 
location appropriate for the caller.
</p>
<p>ED-57/SP-30 <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#RFC3263'>[RFC3263]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;Session Initiation Protocol (SIP): Locating SIP Servers,&rdquo; June&nbsp;2002.</span><span>)</span></a> procedures MUST be 
used to route an emergency call towards the PSAP's URI.
</p>
<p>ED-58 Initial INVITES MUST provide an Offer <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a>.
</p>
<a name="Signaling"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Signaling of emergency calls</h3>

<p>ED-59 deleted
</p>
<a name="TLS"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Use of TLS</h3>

<p>ED-60/SP-31 TLS MUST be specified when attempting to signal an emergency call.
IPSEC <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> is an acceptable  alternative.
</p>
<p>ED-61/SP-32 If TLS session establishment is not available, or fails, the call MUST be retried without TLS.
</p>
<p>ED-62/SP-33 <a class='info' href='#I-D.ietf-sip-outbound'>[I&#8209;D.ietf&#8209;sip&#8209;outbound]<span> (</span><span class='info'>Jennings, C., &ldquo;Managing Client Initiated Connections in the Session Initiation Protocol  (SIP),&rdquo; June&nbsp;2009.</span><span>)</span></a> is RECOMMENDED to maintain persistent 
TLS connections between elements.
</p>
<p>ED-63/AN-28 TLS MUST be specified when attempting to retrieve location (configuration or 
dereferencing) with HELD.  The use of <a class='info' href='#RFC5077'>[RFC5077]<span> (</span><span class='info'>Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig, &ldquo;Transport Layer Security (TLS) Session Resumption without Server-Side State,&rdquo; January&nbsp;2008.</span><span>)</span></a> is RECOMMENDED to minimize
the time to establish TLS sessions without keeping server-side state.
</p>
<p>ED-64/AN-29 If TLS session establishment fails, the location retrieval MUST be retried without TLS.
</p>
<a name="UAsignaling"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2"></a><h3>9.2.&nbsp;
SIP signaling requirements for User Agents</h3>

<p>ED-65 The initial SIP signaling method is an INVITE request:
</p>
<ol class="text">
<li>The Request URI SHOULD be the service URN in the "sos" tree, If the device cannot interpret local 
dial strings, the Request-URI SHOULD be a dial string URI <a class='info' href='#RFC4967'>[RFC4967]<span> (</span><span class='info'>Rosen, B., &ldquo;Dial String Parameter for the Session Initiation Protocol Uniform Resource Identifier,&rdquo; July&nbsp;2007.</span><span>)</span></a> with the dialed digits.
</li>
<li>The To header SHOULD be a service URN in the "sos" tree. If the device 
cannot interpret local dial strings, the To: SHOULD be a dial string URI with the dialed 
digits.
</li>
<li>The From header MUST be present and SHOULD be the AoR of the caller.
</li>
<li>A Via header MUST be present.
</li>
<li>A Route header SHOULD be present with a PSAP URI obtained from LoST (see <a class='info' href='#Routing'>Section&nbsp;8<span> (</span><span class='info'>Routing the call to the PSAP</span><span>)</span></a>) and the loose route parameter. If the device does not interpret dial plans, 
or was unable to obtain a route from a LoST server, no 
Route header will be present.
</li>
<li>A Contact header MUST be present which MUST be globally routable, for example a GRUU <a class='info' href='#I-D.ietf-sip-gruu'>[I&#8209;D.ietf&#8209;sip&#8209;gruu]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Obtaining and Using Globally Routable User Agent (UA) URIs (GRUU) in the  Session Initiation Protocol (SIP),&rdquo; October&nbsp;2007.</span><span>)</span></a>, and be valid for several minutes following the termination of the call, 
provided that the UAC remains registered with the same registrar,
to permit an immediate call-back to the specific device which 
placed the emergency call.  It is acceptable if the UAC inserts a locally routable URI and a subsequent B2BUA
maps that to a globally routable URI.
</li>
<li>Other headers MAY be included as per normal SIP behavior.
</li>
<li>A Supported header MUST be included with the 'geolocation' option tag 
<a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a>, unless the device does not understand the concept of SIP 
location.
</li>
<li>If a device understands the SIP location conveyance 
<a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a> extension and has its location available, it MUST 
include location either by-value, by-reference or both.
</li>
<li>If a device understands the SIP Location Conveyance extension and has its location unavailable 
or unknown to that device, it MUST include a Supported header with a "geolocation" option tag, 
and MUST NOT include a Geolocation header, and not include a PIDF-LO message body.
</li>
<li>If a device understands the SIP Location Conveyance extension and supports LoST 
<a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>, the Geolocation "used-for-routing" 
header parameter MUST be added to the corresponding URI in the Geolocation 
header.  If the device is unable to obtain a PSAP URI for any reason it
MUST NOT include "used-for-routing" on a Geolocation URI, so that downstream entities know that
LoST routing has not been completed.
</li>
<li>A SDP offer MUST be included in the INVITE. If voice is supported the offer MUST include 
the G.711 codec, see <a class='info' href='#Media'>Section&nbsp;14<span> (</span><span class='info'>Media</span><span>)</span></a>.
</li>
<li>If the device includes location-by-value, the UA MUST support multipart message bodies, since 
SDP will likely be also in the INVITE.
</li>
<li>A UAC SHOULD include a "inserted-by" header parameter with its own hostname on all Geolocation headers. 
This informs downstream elements which device entered the location at this URI (either cid-URL or 
location-by-reference URI).
</li>
<li>SIP Caller Preferences <a class='info' href='#RFC3841'>[RFC3841]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., and P. Kyzivat, &ldquo;Caller Preferences for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a> MAY be used to signal how the PSAP 
should handle the call. For example, a language preference expressed in an Accept-Language header 
may be used as a hint to cause the PSAP to route the call to a call taker who speaks the 
requested language.  SIP Caller Preferences may also be used to indicate a need to invoke a relay 
service for communication with people with disabilities in the call.
</li>
</ol>

<a name="ProxySignaling"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3"></a><h3>9.3.&nbsp;
SIP signaling requirements for proxy servers</h3>

<p>SP-34 SIP Proxy servers processing emergency calls:
</p>
<ol class="text">
<li>If the proxy interprets dial plans on behalf of user agents, the proxy MUST look for 
the local emergency dial string at the location of the end device and MAY look for the home 
dial string. If it finds it, the proxy MUST: 

<ul class="text">
<li>Insert a Geolocation header as above. Location-by-reference MUST be used 
because proxies must not insert bodies.
</li>
<li>Include the Geolocation "inserted-by" and "used-for-routing" parameters with its own hostname (which should match the Via it inserts) on the inserted-by.
</li>
<li>Map the location to a PSAP URI using LoST.
</li>
<li>Add a Route header with the PSAP URI.
</li>
<li>Replace the Request-URI (which was the dial string) with the service URN appropriate for 
the emergency dial string.
</li>
<li>Route the call using normal SIP routing mechanisms.
</li>
</ul>
</li>
<li>If the proxy recognizes the service URN in the Request URI, and does not find a a Route
header, it MUST query a LoST server. If multiple locations were
provided, the proxy uses the location that has the "used-for-routing"
marker set.  If a location was provided (which should be the 
case), the proxy uses that location to query LoST.  The proxy may have to dereference a location 
by reference to get a value.  If a location is not present, and the proxy can query a LIS which 
has the location of the UA it MUST do so.  If no location is present, and the proxy does not have 
access to a LIS which could provide location, the proxy MUST supply a default location (See <a class='info' href='#DefaultLocation'>Section&nbsp;6.11<span> (</span><span class='info'>Default location</span><span>)</span></a>).  The location (in the signaling, obtained from a LIS, or 
default) MUST be used in a query to LoST with the service URN received with the call.  The 
resulting URI MUST be placed in a Route header added to the call.
</li>
<li>The "inserted-by" parameter in any Geolocation: header received on the call MUST NOT be 
modified or deleted in transit.
</li>
<li>The proxy SHOULD NOT modify any parameters in Geolocation headers received in the call. It 
MAY add a Geolocation header. Such an additional location SHOULD NOT be used for routing; the 
location provided by the UA should be used.
</li>
<li>Either a P-Asserted-Identity <a class='info' href='#RFC3325'>[RFC3325]<span> (</span><span class='info'>Jennings, C., Peterson, J., and M. Watson, &ldquo;Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks,&rdquo; November&nbsp;2002.</span><span>)</span></a> or an Identity header <a class='info' href='#RFC4474'>[RFC4474]<span> (</span><span class='info'>Peterson, J. and C. Jennings, &ldquo;Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2006.</span><span>)</span></a>, or both, SHOULD be included to identify the sender. For services which 
must support emergency calls from unauthenticated devices, valid identity may not be available.
</li>
</ol>

<a name="Callbacks"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Call backs</h3>

<p>ED-66/SP-35 Devices device SHOULD have a globally routable URI in a Contact: header which remains valid for 30 minutes
past the time the original call containing the URI completes unless the device registration expires and is not
renewed.
</p>
<p>SP-36 Call backs to the Contact: header URI recieved within 30 minutes of an emergency call
must reach the device regardless of call features or services
that would normally cause the call to be routed to some other entity.
</p>
<p>SP-37 Devices MUST have a persistent AOR URI either in a P-Asserted-Identity: header or From: protected by 
an Identity header suitable for returning a call some time after the original call.  Such a call back would not
necessarily reach the device that originally placed the call.
</p>
<a name="MidCall"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Mid-call behavior</h3>

<p>ED-67/SP-38 During the course of an emergency call, devices and proxies MUST support REFER 
transactions with method=INVITE and the Referred-by: header <a class='info' href='#RFC3515'>[RFC3515]<span> (</span><span class='info'>Sparks, R., &ldquo;The Session Initiation Protocol (SIP) Refer Method,&rdquo; April&nbsp;2003.</span><span>)</span></a> in that transaction. 
</p>
<a name="Termination"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Call termination</h3>

<p>ED-68 deleted
</p>
<p>ED-69 There can be a case where the session signaling path is lost, and the user agent does not 
receive the BYE. If the call is hung up, and the session timer (if implemented) expires, the call MAY be declared 
lost. If in the interval, an incoming call is received from the domain of the PSAP, the device 
MUST drop the old call and alert for the (new) incoming call. Dropping of the old call MUST 
only occur if the user is attempting to hang up; the domain of an incoming call can only be 
determined from the From header, which is not reliable, and could be spoofed. Dropping an active 
call by a new call with a spoofed From: would be a DoS attack.
</p>
<a name="DisableFeatures"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
Disabling of features</h3>

<p>ED-70/SP-39 User Agents and proxies MUST disable features that will interrupt an
ongoing emergency call, such as:
</p>
<ul class="text">
<li>Call Waiting
</li>
<li>Call Transfer
</li>
<li>Three Way Call
</li>
<li>Hold
</li>
<li>Outbound Call Blocking
</li>
</ul><p>
when an emergency call is established.  Also see ED-77 in <a class='info' href='#Media'>Section&nbsp;14<span> (</span><span class='info'>Media</span><span>)</span></a>.
</p>
<p>ED-71/SP-40 The emergency dial strings SHOULD NOT be permitted in Call Forward numbers or speed 
dial lists.
</p>
<p>ED-72/SP-41 The User Agent and Proxies MUST disable call features which would interfere with the ability of 
call backs from the PSAP to be completed such as:
</p>
<ul class="text">
<li>Do Not Disturb
</li>
<li>Call Forward (all kinds)
</li>
</ul>

<p>ED-73 Call backs SHOULD be determined by retaining the domain of the PSAP which answers an 
outgoing emergency call and instantiating a timer which starts when the call is terminated.  If a 
call is received from the same domain and within the timer period, sent to the Contact: or AoR used 
in the emergency call, it should be assumed to be a call back.  The suggested timer period is 5 
minutes.  <a class='info' href='#RFC4916'>[RFC4916]<span> (</span><span class='info'>Elwell, J., &ldquo;Connected Identity in the Session Initiation Protocol (SIP),&rdquo; June&nbsp;2007.</span><span>)</span></a> may be used by the PSAP to inform the UA of the domain of the PSAP.
Recognizing a call back from the domain of the PSAP will not always work, and further
standardization will be required to give the UA the ability to recognize a call back.
</p>
<a name="Media"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14"></a><h3>14.&nbsp;
Media</h3>

<p>ED-74 Endpoints MUST send and receive media streams on RTP <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>.
</p>
<p>ED-75 Normal SIP offer/answer <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a> negotiations MUST be used to agree 
on the media streams to be used.
</p>
<p>ED-76 Endpoints supporting voice MUST support G.711 A law (and mu Law if they are intended be used in North America) encoded 
voice as described in <a class='info' href='#RFC3551'>[RFC3551]<span> (</span><span class='info'>Schulzrinne, H. and S. Casner, &ldquo;RTP Profile for Audio and Video Conferences with Minimal Control,&rdquo; July&nbsp;2003.</span><span>)</span></a>. It is desirable to include wideband codecs such
as AMR-WB in the offer.
</p>
<p>ED-77 Silence suppression (Voice Activity Detection methods) MUST NOT be used on emergency 
calls. PSAP call takers sometimes get information on what is happening in the background to 
determine how to process the call.
</p>
<p>ED-78 Endpoints supporting Instant Messaging (IM) MUST support both <a class='info' href='#RFC3428'>[RFC3428]<span> (</span><span class='info'>Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;Session Initiation Protocol (SIP) Extension for Instant Messaging,&rdquo; December&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#RFC4975'>[RFC4975]<span> (</span><span class='info'>Campbell, B., Mahy, R., and C. Jennings, &ldquo;The Message Session Relay Protocol (MSRP),&rdquo; September&nbsp;2007.</span><span>)</span></a>.
</p>
<p>ED-79 Endpoints supporting real-time text MUST use <a class='info' href='#RFC4103'>[RFC4103]<span> (</span><span class='info'>Hellstrom, G. and P. Jones, &ldquo;RTP Payload for Text Conversation,&rdquo; June&nbsp;2005.</span><span>)</span></a>. The 
expectations for emergency service support for the real-time text medium, described in <a class='info' href='#RFC5194'>[RFC5194]<span> (</span><span class='info'>van Wijk, A. and G. Gybels, &ldquo;Framework for Real-Time Text over IP Using the Session Initiation Protocol (SIP),&rdquo; June&nbsp;2008.</span><span>)</span></a>, Section 7.1 SHOULD be fulfilled.
</p>
<p>ED-80 Endpoints supporting video MUST support H.264 per <a class='info' href='#RFC3984'>[RFC3984]<span> (</span><span class='info'>Wenger, S., Hannuksela, M., Stockhammer, T., Westerlund, M., and D. Singer, &ldquo;RTP Payload Format for H.264 Video,&rdquo; February&nbsp;2005.</span><span>)</span></a>.
</p>
<a name="Testing"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.15"></a><h3>15.&nbsp;
Testing</h3>

<p>ED-81 INVITE requests to a service URN ending in ".test" indicates a request for an 
automated test. For example, "urn:service.sos.fire.test". As in standard SIP, a 200 (OK) response 
indicates that the address was recognized and a 404 (Not found) that it was not. A 486 (Busy Here) 
MUST be returned if the test service is busy, and a 404 (Not found) MUST be returned if 
the PSAP does not support the test mechanism.
</p>
<p>ED-82 In its response to the test, the PSAP MAY include a text body (text/plain) indicating the 
identity of the PSAP, the requested service, and the location reported with the call. For the 
latter, the PSAP SHOULD return location-by-value even if the original location delivered with the 
test was by-reference. If the location-by-reference was supplied, and the dereference requires 
credentials, the PSAP SHOULD use credentials supplied by the LIS for test purposes. This alerts the 
LIS that the dereference is not for an actual emergency call and location hiding techniques, if 
they are being used, may be employed for this dereference.  
Use of SIPS for the request would assure the response containing the location is kept private

</p>
<p>ED-83 A PSAP accepting a test call SHOULD accept a media loopback test
<a class='info' href='#I-D.ietf-mmusic-media-loopback'>[I&#8209;D.ietf&#8209;mmusic&#8209;media&#8209;loopback]<span> (</span><span class='info'>Sivachelvan, C., Venna, N., Jones, P., Stratton, N., Roychowdhury, A., and K. Hedayat, &ldquo;An Extension to the Session Description Protocol (SDP) for Media Loopback,&rdquo; April&nbsp;2010.</span><span>)</span></a> and SHOULD support the "rtp-pkt-loopback" and "rtp-start-loopback" 
options. The user agent would specify a loopback attribute of "loopback-source", the PSAP being the 
mirror. User Agents should expect the PSAP to loop back no more than 3 packets of each media type 
accepted (which limits the duration of the test), after which the PSAP would normally send BYE.
</p>
<p>ED-84 User agents SHOULD perform a full call test, including media loopback, after a disconnect 
and subsequent change in IP address not due to a reboot. After an initial test, a full test 
SHOULD be repeated approximately every 30 days with a random interval.
</p>
<p>ED-85 User agents MUST NOT place a test call immediately after booting. If the IP address 
changes after booting, the UA should wait a random amount of time (in perhaps a 30 minute period, 
sufficient for any avalanche restart to complete) and then test.
</p>
<p>ED-86 PSAPs MAY refuse repeated requests for test from the same device in a short period of 
time. Any refusal is signaled with a 486 or 488 response.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16"></a><h3>16.&nbsp;
Security Considerations</h3>

<p>Security considerations for emergency calling have been documented in 
<a class='info' href='#RFC5069'>[RFC5069]<span> (</span><span class='info'>Taylor, T., Tschofenig, H., Schulzrinne, H., and M. Shanmugam, &ldquo;Security Threats and Requirements for Emergency Call Marking and Mapping,&rdquo; January&nbsp;2008.</span><span>)</span></a>, and 
<a class='info' href='#I-D.barnes-geopriv-lo-sec'>[I&#8209;D.barnes&#8209;geopriv&#8209;lo&#8209;sec]<span> (</span><span class='info'>Barnes, R., Lepinski, M., Cooper, A., Morris, J., Tschofenig, H., and H. Schulzrinne, &ldquo;An Architecture for Location and Location Privacy in Internet Applications,&rdquo; March&nbsp;2009.</span><span>)</span></a>. 
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.17"></a><h3>17.&nbsp;
IANA Considerations</h3>

<p>This document has no actions for IANA.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.18"></a><h3>18.&nbsp;
Acknowledgements</h3>

<p>Work group members participating in the creation and review of this document include include 
Hannes Tschofenig, Ted Hardie, Marc Linsner, Roger Marshall, Stu Goldman, Shida Schubert, James 
Winterbottom, Barbara Stark, Richard Barnes and Peter Blatherwick.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.19"></a><h3>19.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>19.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-http-location-delivery">[I-D.ietf-geopriv-http-location-delivery]</a></td>
<td class="author-text">Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-http-location-delivery-16.txt">HTTP Enabled Location Delivery (HELD)</a>,&rdquo; draft-ietf-geopriv-http-location-delivery-16 (work in progress), August&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-http-location-delivery-16.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-lis-discovery">[I-D.ietf-geopriv-lis-discovery]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-lis-discovery-15.txt">Discovering the Local Location Information Server (LIS)</a>,&rdquo; draft-ietf-geopriv-lis-discovery-15 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-lis-discovery-15.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mmusic-media-loopback">[I-D.ietf-mmusic-media-loopback]</a></td>
<td class="author-text">Sivachelvan, C., Venna, N., Jones, P., Stratton, N., Roychowdhury, A., and K. Hedayat, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-media-loopback-13.txt">An Extension to the Session Description Protocol (SDP) for Media Loopback</a>,&rdquo; draft-ietf-mmusic-media-loopback-13 (work in progress), April&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-media-loopback-13.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sip-gruu">[I-D.ietf-sip-gruu]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-gruu-15.txt">Obtaining and Using Globally Routable User Agent (UA) URIs (GRUU) in the  Session Initiation Protocol (SIP)</a>,&rdquo; draft-ietf-sip-gruu-15 (work in progress), October&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-gruu-15.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sip-location-conveyance">[I-D.ietf-sip-location-conveyance]</a></td>
<td class="author-text">Polk, J. and B. Rosen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-location-conveyance-13.txt">Location Conveyance for the Session Initiation Protocol</a>,&rdquo; draft-ietf-sip-location-conveyance-13 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-location-conveyance-13.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sip-outbound">[I-D.ietf-sip-outbound]</a></td>
<td class="author-text">Jennings, C., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-outbound-20.txt">Managing Client Initiated Connections in the Session Initiation Protocol  (SIP)</a>,&rdquo; draft-ietf-sip-outbound-20 (work in progress), June&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-outbound-20.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="LLDP">[LLDP]</a></td>
<td class="author-text">IEEE, &ldquo;IEEE802.1ab Station and Media Access Control,&rdquo; Dec&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="LLDP-MED">[LLDP-MED]</a></td>
<td class="author-text">TIA, &ldquo;ANSI/TIA-1057 Link Layer Discovery Protocol - Media Endpoint
          Discovery.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3118">[RFC3118]</a></td>
<td class="author-text">Droms, R. and W. Arbaugh, &ldquo;<a href="http://tools.ietf.org/html/rfc3118">Authentication for DHCP Messages</a>,&rdquo; RFC&nbsp;3118, June&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3118.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3263">[RFC3263]</a></td>
<td class="author-text">Rosenberg, J. and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3263">Session Initiation Protocol (SIP): Locating SIP Servers</a>,&rdquo; RFC&nbsp;3263, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3263.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3264">[RFC3264]</a></td>
<td class="author-text">Rosenberg, J. and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3264">An Offer/Answer Model with Session Description Protocol (SDP)</a>,&rdquo; RFC&nbsp;3264, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3264.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3265">[RFC3265]</a></td>
<td class="author-text">Roach, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3265">Session Initiation Protocol (SIP)-Specific Event Notification</a>,&rdquo; RFC&nbsp;3265, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3265.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3428">[RFC3428]</a></td>
<td class="author-text">Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;<a href="http://tools.ietf.org/html/rfc3428">Session Initiation Protocol (SIP) Extension for Instant Messaging</a>,&rdquo; RFC&nbsp;3428, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3428.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3489">[RFC3489]</a></td>
<td class="author-text">Rosenberg, J., Weinberger, J., Huitema, C., and R. Mahy, &ldquo;<a href="http://tools.ietf.org/html/rfc3489">STUN - Simple Traversal of User Datagram Protocol (UDP) Through Network Address Translators (NATs)</a>,&rdquo; RFC&nbsp;3489, March&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3489.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3515">[RFC3515]</a></td>
<td class="author-text">Sparks, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3515">The Session Initiation Protocol (SIP) Refer Method</a>,&rdquo; RFC&nbsp;3515, April&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3515.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3551">[RFC3551]</a></td>
<td class="author-text">Schulzrinne, H. and S. Casner, &ldquo;<a href="http://tools.ietf.org/html/rfc3551">RTP Profile for Audio and Video Conferences with Minimal Control</a>,&rdquo; STD&nbsp;65, RFC&nbsp;3551, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3551.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3825">[RFC3825]</a></td>
<td class="author-text">Polk, J., Schnizlein, J., and M. Linsner, &ldquo;<a href="http://tools.ietf.org/html/rfc3825">Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information</a>,&rdquo; RFC&nbsp;3825, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3825.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3841">[RFC3841]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., and P. Kyzivat, &ldquo;<a href="http://tools.ietf.org/html/rfc3841">Caller Preferences for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3841, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3841.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3856">[RFC3856]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc3856">A Presence Event Package for the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;3856, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3856.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3966">[RFC3966]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://tools.ietf.org/html/rfc3966">The tel URI for Telephone Numbers</a>,&rdquo; RFC&nbsp;3966, December&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3966.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3984">[RFC3984]</a></td>
<td class="author-text">Wenger, S., Hannuksela, M., Stockhammer, T., Westerlund, M., and D. Singer, &ldquo;<a href="http://tools.ietf.org/html/rfc3984">RTP Payload Format for H.264 Video</a>,&rdquo; RFC&nbsp;3984, February&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3984.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4103">[RFC4103]</a></td>
<td class="author-text">Hellstrom, G. and P. Jones, &ldquo;<a href="http://tools.ietf.org/html/rfc4103">RTP Payload for Text Conversation</a>,&rdquo; RFC&nbsp;4103, June&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4103.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4119">[RFC4119]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>,&rdquo; RFC&nbsp;4119, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4474">[RFC4474]</a></td>
<td class="author-text">Peterson, J. and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc4474">Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;4474, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4474.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4776">[RFC4776]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://tools.ietf.org/html/rfc4776">Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information</a>,&rdquo; RFC&nbsp;4776, November&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4776.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4916">[RFC4916]</a></td>
<td class="author-text">Elwell, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4916">Connected Identity in the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;4916, June&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4916.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4967">[RFC4967]</a></td>
<td class="author-text">Rosen, B., &ldquo;<a href="http://tools.ietf.org/html/rfc4967">Dial String Parameter for the Session Initiation Protocol Uniform Resource Identifier</a>,&rdquo; RFC&nbsp;4967, July&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4967.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4975">[RFC4975]</a></td>
<td class="author-text">Campbell, B., Mahy, R., and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc4975">The Message Session Relay Protocol (MSRP)</a>,&rdquo; RFC&nbsp;4975, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4975.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5031">[RFC5031]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://tools.ietf.org/html/rfc5031">A Uniform Resource Name (URN) for Emergency and Other Well-Known Services</a>,&rdquo; RFC&nbsp;5031, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5031.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5139">[RFC5139]</a></td>
<td class="author-text">Thomson, M. and J. Winterbottom, &ldquo;<a href="http://tools.ietf.org/html/rfc5139">Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO)</a>,&rdquo; RFC&nbsp;5139, February&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5139.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5222">[RFC5222]</a></td>
<td class="author-text">Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;<a href="http://tools.ietf.org/html/rfc5222">LoST: A Location-to-Service Translation Protocol</a>,&rdquo; RFC&nbsp;5222, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5222.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5223">[RFC5223]</a></td>
<td class="author-text">Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;<a href="http://tools.ietf.org/html/rfc5223">Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP)</a>,&rdquo; RFC&nbsp;5223, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5223.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5491">[RFC5491]</a></td>
<td class="author-text">Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;<a href="http://tools.ietf.org/html/rfc5491">GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations</a>,&rdquo; RFC&nbsp;5491, March&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5491.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>19.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.barnes-geopriv-lo-sec">[I-D.barnes-geopriv-lo-sec]</a></td>
<td class="author-text">Barnes, R., Lepinski, M., Cooper, A., Morris, J., Tschofenig, H., and H. Schulzrinne, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-barnes-geopriv-lo-sec-05.txt">An Architecture for Location and Location Privacy in Internet Applications</a>,&rdquo; draft-barnes-geopriv-lo-sec-05 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-barnes-geopriv-lo-sec-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-ecrit-framework">[I-D.ietf-ecrit-framework]</a></td>
<td class="author-text">Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-framework-10.txt">Framework for Emergency Calling using Internet Multimedia</a>,&rdquo; draft-ietf-ecrit-framework-10 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-framework-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3325">[RFC3325]</a></td>
<td class="author-text">Jennings, C., Peterson, J., and M. Watson, &ldquo;<a href="http://tools.ietf.org/html/rfc3325">Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks</a>,&rdquo; RFC&nbsp;3325, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3325.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5012">[RFC5012]</a></td>
<td class="author-text">Schulzrinne, H. and R. Marshall, &ldquo;<a href="http://tools.ietf.org/html/rfc5012">Requirements for Emergency Context Resolution with Internet Technologies</a>,&rdquo; RFC&nbsp;5012, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5012.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5069">[RFC5069]</a></td>
<td class="author-text">Taylor, T., Tschofenig, H., Schulzrinne, H., and M. Shanmugam, &ldquo;<a href="http://tools.ietf.org/html/rfc5069">Security Threats and Requirements for Emergency Call Marking and Mapping</a>,&rdquo; RFC&nbsp;5069, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5069.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5077">[RFC5077]</a></td>
<td class="author-text">Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig, &ldquo;<a href="http://tools.ietf.org/html/rfc5077">Transport Layer Security (TLS) Session Resumption without Server-Side State</a>,&rdquo; RFC&nbsp;5077, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5077.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5194">[RFC5194]</a></td>
<td class="author-text">van Wijk, A. and G. Gybels, &ldquo;<a href="http://tools.ietf.org/html/rfc5194">Framework for Real-Time Text over IP Using the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;5194, June&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5194.txt">TXT</a>).</td></tr>
</table>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
BCP Requirements Sorted by Responsible Party</h3>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
Requirements of End Devices</h3>

<p>ED-1 A device or application SHOULD support emergency calling if a user could reasonably expect 
to be able to place a call for help with the device.  Some jurisdictions have regulations governing
this.
</p>
<p>ED-2 Devices that create media sessions and exchange audio, video and/or text, and have the 
capability to establish sessions to a wide variety of addresses, and communicate over private IP 
networks or the Internet, SHOULD support emergency calls.  Some jurisdictions have regulations governing
this.
</p>
<p>ED-3 Endpoints SHOULD recognize dial strings of emergency calls.  If the service provider
always knows the location of the device, then the service provider could recognize them.
</p>
<p>ED-4 Emergency calls MUST be marked with a Service URN in the Request-URI of the 
INVITE.
</p>
<p>ED-5 Local dial strings MUST be recognized.
</p>
<p>ED-6 Devices MUST be able to be configured with the home country from which the home dial string(s)
can be determined.
</p>
<p>ED-7 Emergency dial strings SHOULD be determined from LoST 
<a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>.  Dial Strings MAY be configured directly in the device.
</p>
<p>ED-8 Endpoints which do not recognize emergency dial strings SHOULD send dial strings as per 
<a class='info' href='#RFC4967'>[RFC4967]<span> (</span><span class='info'>Rosen, B., &ldquo;Dial String Parameter for the Session Initiation Protocol Uniform Resource Identifier,&rdquo; July&nbsp;2007.</span><span>)</span></a>.
</p>
<p>ED-9 Endpoints SHOULD be able to have home dial strings provisioned by configuration.
</p>
<p>ED-10 Devices SHOULD NOT have one button emergency calling initiation.
</p>
<p>ED-11 All emergency services specified in <a class='info' href='#RFC5031'>[RFC5031]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;A Uniform Resource Name (URN) for Emergency and Other Well-Known Services,&rdquo; January&nbsp;2008.</span><span>)</span></a> 
MUST be recognized.
</p>
<p>ED-12 Endpoints, Intermediate Devices and Service Providers MUST be prepared to handle 
location represented in either civic or geo form.
</p>
<p>ED-13 Elements MUST NOT convert (civic to geo or geo to civic) from the form of 
location the determination mechanism supplied.
</p>
<p>ED-14 Any suitable location determination mechanism MAY be used.
</p>
<p>ED-15 Devices, intermediate Devices and/or access networks SHOULD support a manual method to "override" the 
location the access network determines. Where a civic form of location is provided, all fields in 
the PIDF-LO <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC5139'>[RFC5139]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO),&rdquo; February&nbsp;2008.</span><span>)</span></a> MUST 
be able to be specified.
</p>
<p>ED-16 Devices MAY support end-system measured location. Uncertainty of less than 100 m with 95% 
confidence SHOULD be available for dispatch.
</p>
<p>ED-17 Devices that support endpoint measuring of location MUST have at least a coarse 
location capability (typically &lt;1km accuracy when not location hiding) for routing of calls. 
The location mechanism MAY be a service provided by the access network.
</p>
<p>ED-18 Endpoints SHOULD attempt to configure their own location using the LCPs listed in ED-21.
</p>
<p>ED-19 Where proxies provide location on behalf of endpoints, the service provider MUST 
ensure that either the end device is provided with the local dial strings for its current location 
(where the end device recognizes dial strings), or the service provider proxy MUST detect the appropriate 
local dial strings at the time of the call.
</p>
<p>ED-20 Devices SHOULD be able to accept and forward location by value or by reference. An end 
device that receives location by reference (and does not also get the corresponding value) MUST be 
able to perform a dereference operation to obtain a value.
</p>
<p>ED-21 Devices MUST support both the DHCP location options <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, 
<a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a> and HELD <a class='info' href='#I-D.ietf-geopriv-http-location-delivery'>[I&#8209;D.ietf&#8209;geopriv&#8209;http&#8209;location&#8209;delivery]<span> (</span><span class='info'>Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;HTTP Enabled Location Delivery (HELD),&rdquo; August&nbsp;2009.</span><span>)</span></a>.  
When devices deploy a specific access network interface in which that access network supports location 
discovery such as LLDP-MED or 802.11v, the device SHOULD support the additional respective access network 
specific location discovery mechanism.
</p>
<p>ED-22 Endpoints SHOULD try all LCPs supported by the device in any order or in parallel. The 
first one that succeeds in supplying location can be used.
</p>
<p>ED-23 When HELD is the LCP, the request MUST specify a value of "emergencyRouting" for 
the "responseTime" parameter and use the resulting location for routing.  If a value for dispatch location 
will be sent, another request with the "responseTime" parameter set to "emergencyDispatch" must be 
completed, with the result sent for dispatch purposes.
</p>
<p>ED-24  Where the operating system supporting application programs which need location for emergency calls
does not allow access to Layer 2 and Layer 3 functions necessary for a client application to use DHCP location
options and/or LLDP-MED, the operating system MUST provide a published API conforming to ED-12 through 
ED-21 and ED-21 through ED-31.  It is RECOMMENDED that all operating systems provide such an API.
</p>
<p>ED-25 Endpoints SHOULD obtain location immediately after obtaining local network configuration 
information. When HELD is the LCP the client MUST support a random back-off period (between 30 
seconds and 300 seconds) for re-trying the HELD query, when no response is received, and no other LCP provided location information.
</p>
<p>ED-26 If the device is configured to use DHCP for bootstrapping, it MUST include both options 
for location acquisition (civic and geodetic), the option for LIS discovery, and the option for LoST discovery 
as defined in <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a>,
<a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a> and 
<a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>.
</p>
<p>ED-27 If the device sends a DHCPINFORM message, it MUST include both options 
for location acquisition (civic and geodetic), the option for LIS discovery, and the option for LoST discovery 
as defined in <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a>, 
<a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a> and 
<a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>.
</p>
<p>ED-28 To minimize the effects of VPNs that do not allow packets to be sent via the native hardware interface
rather than via the VPN tunnel, location configuration SHOULD be attempted 
before such tunnels are established.
</p>
<p>ED-29 Software which uses LCPs SHOULD locate and use the actual hardware network interface rather
than a VPN tunnel interface to direct LCP requests to the LIS in the actual access network.
</p>
<p>ED-30 For devices which are not expected to roam, refreshing location on the order of once per day is 
RECOMMENDED.
</p>
<p>ED-31 For devices which roam, refresh of location information SHOULD be more frequent, with the frequency 
related to the mobility of the device and the ability of the access network to support the refresh 
operation. If the device can detect that it has moved, for example when it 
changes access points, the device SHOULD refresh its location.
</p>
<p>ED-32 It is RECOMMENDED that location determination not take longer than 250 ms to obtain 
routing location and systems SHOULD be designed such that the typical response is under 100 ms. 
However, as much as 3 seconds to obtain routing location MAY be tolerated if location accuracy can 
be substantially improved over what can be obtained in 250 ms.
</p>
<p>ED-33 Location sent between SIP elements MUST be conveyed using 
<a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a>.
</p>
<p>ED-34 Where the absolute location or the accuracy of location of the endpoint may change 
between the time the call is received at the PSAP and the time dispatch is completed, location 
update mechanisms MUST be provided.
</p>
<p>ED-35 Mobile devices MUST be provided with a mechanism to get repeated location updates to 
track the motion of the device during the complete processing of the call.
</p>
<p>ED-36 The LIS SHOULD provide a location reference which permits a subscription with 
appropriate filtering.
</p>
<p>ED-37 For calls sent with location-by-reference, with a SIP or SIPS scheme, the server 
resolving the reference MUST support a SUBSCRIBE <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> to the presence 
event <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>. For other location-by-reference schemes that do not support subscription, the PSAP will have to
repeatedly dereference the URI to determine if the device moved. 
</p>
<p>ED-38 If location was sent by value, and the endpoint gets updated location, it MUST send the 
updated location to the PSAP via a SIP re-INVITE or UPDATE request. Such updates SHOULD be limited to no more than 
one update every 10 seconds.
</p>
<p>ED-39 If the LIS has more than one location for an endpoint it MUST use the procedures in 
<a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a>
</p>
<p>ED-40 If a UA has more than one location available to it, it MUST choose one location to 
route the call towards the PSAP.  If multiple locations are in a single PIDF, the procedures in
<a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a> MUST be followed.  If the UA has
multiple PIDFs, and has no reasonable basis to choose from among them, a random choice is acceptable.
</p>
<p>ED-41 Location objects MUST contain information about the method by which the location was 
determined, such as GPS, manually entered, or based on access network topology included in a PIDF-
LO "method" element. In addition, the source of the location information MUST be included in a 
PIDF-LO "provided-by" element.
</p>
<p>ED-42 The "used-for-routing" parameter MUST be set to the location that was chosen for routing.
</p>
<p>ED-43 Endpoints SHOULD validate civic locations when they receive them from their LCP. 
Validation SHOULD be performed in conjunction with the LoST route query to minimize load on the 
LoST server.
</p>
<p>ED-44 If the LCP does not return location in the form of a PIDF-LO <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>, the endpoint MUST map the location information it receives from the 
configuration protocol to a PIDF-LO.
</p>
<p>ED-45 To prevent against spoofing of the DHCP server, elements implementing DHCP for 
location configuration SHOULD use <a class='info' href='#RFC3118'>[RFC3118]<span> (</span><span class='info'>Droms, R. and W. Arbaugh, &ldquo;Authentication for DHCP Messages,&rdquo; June&nbsp;2001.</span><span>)</span></a> although the difficulty in providing
appropriate credentials is significant.
</p>
<p>ED-46 S/MIME MUST NOT be used to encrypt the SIP Geolocation header or bodies.
</p>
<p>ED-47 TLS MUST be used to protect location (but see <a class='info' href='#TLS'>Section&nbsp;9.1<span> (</span><span class='info'>Use of TLS</span><span>)</span></a>). IPSEC
<a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> is an acceptable alternative.
</p>
<p>ED-48  Endpoints MUST support one or more mechanisms that allow them to determine 
their public IP address. Examples include STUN <a class='info' href='#RFC3489'>[RFC3489]<span> (</span><span class='info'>Rosenberg, J., Weinberger, J., Huitema, C., and R. Mahy, &ldquo;STUN - Simple Traversal of User Datagram Protocol (UDP) Through Network Address Translators (NATs),&rdquo; March&nbsp;2003.</span><span>)</span></a>
and HTTP get.
</p>
<p>ED-49  Endpoints MUST support LIS discovery as described in <a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a>, and 
the LoST discovery as described in <a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>. 
</p>
<p>ED-50  The device MUST have a configurable default LoST server parameter. 
If the device is provided by or managed by a service provider, it is expected that the 
service provider will configure this option.
</p>
<p>ED-51 DHCP LoST discovery MUST be used, if available, in preference to configured LoST servers.  If neither 
DHCP nor configuration leads to an available LoST server, the device MUST query DNS using it's SIP
domain for an SRV record for a LoST service and use that server.
</p>
<p>ED-52 When an endpoint has obtained a LoST server via an discovery 
mechanism (e.g., via the DNS or DHCP), it MUST prefer 
the discovered LoST server over LoST servers configured by other means.
That is, the endpoint MUST send queries to this LoST server first, using 
other LoST servers only if these queries fail.
</p>
<p>ED-53 Endpoints who obtain their own location SHOULD perform LoST mapping to the PSAP URI.
</p>
<p>ED-54 Mapping SHOULD be performed at boot time and whenever location changes beyond the service 
boundary obtained from a prior LoST mapping operation or the time-to-live value of that response 
has expired.  The value MUST be cached for possible later use.
</p>
<p>ED-55 The endpoint MUST attempt to update its location at the time of an emergency call. If it 
cannot obtain a new location quickly (see <a class='info' href='#Location'>Section&nbsp;6<span> (</span><span class='info'>Location and its role in an emergency call</span><span>)</span></a>), it MUST use the cached 
value.
</p>
<p>ED-56 The endpoint SHOULD attempt to update the LoST mapping at the time of an emergency call. 
If it cannot obtain a new mapping quickly, it MUST use the cached value.  If the device cannot update
the LoST mapping and does not have a cached value, it MUST signal an emergency call without a Route header
containing a PSAP URI.
</p>
<p>ED-57 <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#RFC3263'>[RFC3263]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;Session Initiation Protocol (SIP): Locating SIP Servers,&rdquo; June&nbsp;2002.</span><span>)</span></a> procedures MUST be 
used to route an emergency call towards the PSAP's URI.
</p>
<p>ED-58 Initial INVITES MUST provide an Offer <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a>.
</p>
<p>ED-59 deleted
</p>
<p>ED-60 TLS MUST be specified when attempting to signal an emergency call with SIP. 
IPSEC <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> is an acceptable alternative.
</p>
<p>ED-61 If TLS session establishment is not available, or fails, the call MUST be retried without TLS.
</p>
<p>ED-62 <a class='info' href='#I-D.ietf-sip-outbound'>[I&#8209;D.ietf&#8209;sip&#8209;outbound]<span> (</span><span class='info'>Jennings, C., &ldquo;Managing Client Initiated Connections in the Session Initiation Protocol  (SIP),&rdquo; June&nbsp;2009.</span><span>)</span></a> is RECOMMENDED to maintain persistent 
TLS connections between elements.
</p>
<p>ED-63 TLS MUST be specified when attempting to retrieve location (configuration or 
dereferencing) with HELD.  The use of <a class='info' href='#RFC5077'>[RFC5077]<span> (</span><span class='info'>Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig, &ldquo;Transport Layer Security (TLS) Session Resumption without Server-Side State,&rdquo; January&nbsp;2008.</span><span>)</span></a> is RECOMMENDED to minimize
the time to establish TLS sessions without keeping server-side state.
</p>
<p>ED-64 If TLS session establishment fails, the location retrieval MUST be retried without TLS.
</p>
<p>ED-65 The initial SIP signaling method is an INVITE request:
</p>
<ol class="text">
<li>The Request URI SHOULD be the service URN in the "sos" tree, If the device cannot interpret local 
dial strings, the Request-URI SHOULD be a dial string URI <a class='info' href='#RFC4967'>[RFC4967]<span> (</span><span class='info'>Rosen, B., &ldquo;Dial String Parameter for the Session Initiation Protocol Uniform Resource Identifier,&rdquo; July&nbsp;2007.</span><span>)</span></a> with the dialed digits.
</li>
<li>The To header SHOULD be a service URN in the "sos" tree. If the device 
cannot interpret local dial strings, the To: SHOULD be a dial string URI with the dialed 
digits.
</li>
<li>The From header MUST be present and SHOULD be the AoR of the caller.
</li>
<li>A Via header MUST be present.
</li>
<li>A Route header SHOULD be present with a PSAP URI obtained from LoST (see <a class='info' href='#Routing'>Section&nbsp;8<span> (</span><span class='info'>Routing the call to the PSAP</span><span>)</span></a>) and the loose route parameter. If the device does not interpret dial plans, 
or was unable to obtain a route from a LoST server, no 
Route header will be present.
</li>
<li>A Contact header MUST be present which MUST be globally routable, for example a GRUU <a class='info' href='#I-D.ietf-sip-gruu'>[I&#8209;D.ietf&#8209;sip&#8209;gruu]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Obtaining and Using Globally Routable User Agent (UA) URIs (GRUU) in the  Session Initiation Protocol (SIP),&rdquo; October&nbsp;2007.</span><span>)</span></a>, and be valid for several minutes following the termination of the call, 
provided that the UAC remains registered with the same registrar,
to permit an immediate call-back to the specific device which 
placed the emergency call.  It is acceptable if the UAC inserts a locally routable URI and a subsequent B2BUA
maps that to a globally routable URI.
</li>
<li>Other headers MAY be included as per normal SIP behavior.
</li>
<li>A Supported header MUST be included with the 'geolocation' option tag 
<a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a>, unless the device does not understand the concept of SIP 
location.
</li>
<li>If a device understands the SIP location conveyance 
<a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a> extension and has its location available, it MUST 
include location either by-value, by-reference or both.
</li>
<li>If a device understands the SIP Location Conveyance extension and has its location unavailable 
or unknown to that device, it MUST include a Supported header with a "geolocation" option tag, 
and MUST NOT include a Geolocation header, and not include a PIDF-LO message body.
</li>
<li>If a device understands the SIP Location Conveyance extension and supports LoST 
<a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>, the Geolocation "used-for-routing" 
header parameter MUST be added to the corresponding URI in the Geolocation 
header.  If the device is unable to obtain a PSAP URI for any reason it
MUST NOT include "used-for-routing" on a Geolocation URI, so that downstream entities know that
LoST routing has not been completed.
</li>
<li>A SDP offer MUST be included in the INVITE. If voice is supported the offer MUST include 
the G.711 codec, see <a class='info' href='#Media'>Section&nbsp;14<span> (</span><span class='info'>Media</span><span>)</span></a>.
</li>
<li>If the device includes location-by-value, the UA MUST support multipart message bodies, since 
SDP will likely be also in the INVITE.
</li>
<li>A UAC SHOULD include a "inserted-by" header parameter with its own hostname on all Geolocation headers. 
This informs downstream elements which device entered the location at this URI (either cid-URL or 
location-by-reference URI).
</li>
<li>SIP Caller Preferences <a class='info' href='#RFC3841'>[RFC3841]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., and P. Kyzivat, &ldquo;Caller Preferences for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a> MAY be used to signal how the PSAP 
should handle the call. For example, a language preference expressed in an Accept-Language header 
may be used as a hint to cause the PSAP to route the call to a call taker who speaks the 
requested language.  SIP Caller Preferences may also be used to indicate a need to invoke a relay 
service for communication with people with disabilities in the call.
</li>
</ol>

<p>ED-66 Devices device SHOULD have a globally routable URI in a Contact: header which remains valid for 30 minutes
past the time the original call containing the URI completes unless the device registration expires and is not
renewed.
</p>
<p>ED-67 During the course of an emergency call, devices and proxies MUST support REFER 
transactions with method=INVITE and the Referred-by: header <a class='info' href='#RFC3515'>[RFC3515]<span> (</span><span class='info'>Sparks, R., &ldquo;The Session Initiation Protocol (SIP) Refer Method,&rdquo; April&nbsp;2003.</span><span>)</span></a> in that transaction. 
</p>
<p>ED-68 deleted
</p>
<p>ED-69 There can be a case where the session signaling path is lost, and the user agent does not 
receive the BYE. If the call is hung up, and the session timer (if implemented) expires, the call MAY be declared 
lost. If in the interval, an incoming call is received from the domain of the PSAP, the device 
MUST drop the old call and alert for the (new) incoming call. Dropping of the old call MUST 
only occur if the user is attempting to hang up; the domain of an incoming call can only be 
determined from the From header, which is not reliable, and could be spoofed. Dropping an active 
call by a new call with a spoofed From: would be a DoS attack.
</p>
<p>ED-70 User Agents and proxies MUST disable features that will interrupt an
ongoing emergency call, such as:
</p>
<ul class="text">
<li>Call Waiting
</li>
<li>Call Transfer
</li>
<li>Three Way Call
</li>
<li>Hold
</li>
<li>Outbound Call Blocking
</li>
</ul><p>
when an emergency call is established.  Also see ED-77 in <a class='info' href='#Media'>Section&nbsp;14<span> (</span><span class='info'>Media</span><span>)</span></a>.
</p>
<p>ED-71 The emergency dial strings SHOULD NOT be permitted in Call Forward numbers or speed 
dial lists.
</p>
<p>ED-72 The User Agent and Proxies MUST disable call features which would interfere with the ability of 
call backs from the PSAP to be completed such as:
</p>
<ul class="text">
<li>Do Not Disturb
</li>
<li>Call Forward (all kinds)
</li>
</ul>

<p>ED-73 Call backs SHOULD be determined by retaining the domain of the PSAP which answers an 
outgoing emergency call and instantiating a timer which starts when the call is terminated.  If a 
call is received from the same domain and within the timer period, sent to the Contact: or AoR used 
in the emergency call, it should be assumed to be a call back.  The suggested timer period is 5 
minutes.  <a class='info' href='#RFC4916'>[RFC4916]<span> (</span><span class='info'>Elwell, J., &ldquo;Connected Identity in the Session Initiation Protocol (SIP),&rdquo; June&nbsp;2007.</span><span>)</span></a> may be used by the PSAP to inform the UA of the domain of the PSAP.
Recognizing a call back from the domain of the PSAP will not always work, and further
standardization will be required to give the UA the ability to recognize a call back.
</p>
<p>ED-74 Endpoints MUST send and receive media streams on RTP <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>.
</p>
<p>ED-75 Normal SIP offer/answer <a class='info' href='#RFC3264'>[RFC3264]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a> negotiations MUST be used to agree 
on the media streams to be used.
</p>
<p>ED-76 Endpoints supporting voice MUST support G.711 A law (and mu Law if they are intended be used in North America) encoded 
voice as described in <a class='info' href='#RFC3551'>[RFC3551]<span> (</span><span class='info'>Schulzrinne, H. and S. Casner, &ldquo;RTP Profile for Audio and Video Conferences with Minimal Control,&rdquo; July&nbsp;2003.</span><span>)</span></a>. It is desirable to include wideband codecs such
as AMR-WB in the offer.
</p>
<p>ED-77 Silence suppression (Voice Activity Detection methods) MUST NOT be used on emergency 
calls. PSAP call takers sometimes get information on what is happening in the background to 
determine how to process the call.
</p>
<p>ED-78 Endpoints supporting Instant Messaging (IM) MUST support both <a class='info' href='#RFC3428'>[RFC3428]<span> (</span><span class='info'>Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C., and D. Gurle, &ldquo;Session Initiation Protocol (SIP) Extension for Instant Messaging,&rdquo; December&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#RFC4975'>[RFC4975]<span> (</span><span class='info'>Campbell, B., Mahy, R., and C. Jennings, &ldquo;The Message Session Relay Protocol (MSRP),&rdquo; September&nbsp;2007.</span><span>)</span></a>.
</p>
<p>ED-79 Endpoints supporting real-time text MUST use <a class='info' href='#RFC4103'>[RFC4103]<span> (</span><span class='info'>Hellstrom, G. and P. Jones, &ldquo;RTP Payload for Text Conversation,&rdquo; June&nbsp;2005.</span><span>)</span></a>. The 
expectations for emergency service support for the real-time text medium, described in <a class='info' href='#RFC5194'>[RFC5194]<span> (</span><span class='info'>van Wijk, A. and G. Gybels, &ldquo;Framework for Real-Time Text over IP Using the Session Initiation Protocol (SIP),&rdquo; June&nbsp;2008.</span><span>)</span></a>, Section 7.1 SHOULD be fulfilled.
</p>
<p>ED-80 Endpoints supporting video MUST support H.264 per <a class='info' href='#RFC3984'>[RFC3984]<span> (</span><span class='info'>Wenger, S., Hannuksela, M., Stockhammer, T., Westerlund, M., and D. Singer, &ldquo;RTP Payload Format for H.264 Video,&rdquo; February&nbsp;2005.</span><span>)</span></a>.
</p>
<p>ED-81 INVITE requests to a service URN ending in ".test" indicates a request for an 
automated test. For example, "urn:service.sos.fire.test". As in standard SIP, a 200 (OK) response 
indicates that the address was recognized and a 404 (Not found) that it was not. A 486 (Busy Here) 
MUST be returned if the test service is busy, and a 404 (Not Found) MUST be returned if 
the PSAP does not support the test mechanism.
</p>
<p>ED-82 In its response to the test, the PSAP MAY include a text body (text/plain) indicating the 
identity of the PSAP, the requested service, and the location reported with the call. For the 
latter, the PSAP SHOULD return location-by-value even if the original location delivered with the 
test was by-reference. If the location-by-reference was supplied, and the dereference requires 
credentials, the PSAP SHOULD use credentials supplied by the LIS for test purposes. This alerts the 
LIS that the dereference is not for an actual emergency call and location hiding techniques, if 
they are being used, may be employed for this dereference. 
Use of SIPS for the request would assure the response containing the location is kept private.
</p>
<p>ED-83 A PSAP accepting a test call SHOULD accept a media loopback test
<a class='info' href='#I-D.ietf-mmusic-media-loopback'>[I&#8209;D.ietf&#8209;mmusic&#8209;media&#8209;loopback]<span> (</span><span class='info'>Sivachelvan, C., Venna, N., Jones, P., Stratton, N., Roychowdhury, A., and K. Hedayat, &ldquo;An Extension to the Session Description Protocol (SDP) for Media Loopback,&rdquo; April&nbsp;2010.</span><span>)</span></a> and SHOULD support the "rtp-pkt-loopback" and "rtp-start-loopback" 
options. The user agent would specify a loopback attribute of "loopback-source", the PSAP being the 
mirror. User Agents should expect the PSAP to loop back no more than 3 packets of each media type 
accepted (which limits the duration of the test), after which the PSAP would normally send BYE.
</p>
<p>ED-84 User agents SHOULD perform a full call test, including media loopback, after a disconnect 
and subsequent change in IP address not due to a reboot. After an initial test, a full test 
SHOULD be repeated approximately every 30 days with a random interval.
</p>
<p>ED-85 User agents MUST NOT place a test call immediately after booting. If the IP address 
changes after booting, the UA should wait a random amount of time (in perhaps a 30 minute period, 
sufficient for any avalanche restart to complete) and then test.
</p>
<p>ED-86 PSAPs MAY refuse repeated requests for test from the same device in a short period of 
time. Any refusal is signaled with a 486 or 488 response.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
Requirements of Service Providers</h3>

<p>SP-1 If a device or application expects to be able to place a call for help, the service provider that 
supports it MUST facilitate emergency calling.  Some jurisdictions have regulations governing
this.
</p>
<p>SP-2 Proxy servers SHOULD recognize emergency dial strings if for some 
reason the endpoint does not recognize them.  This cannot be relied upon by the device if the service
provider cannot always determine the location of the device.
</p>
<p>SP-3 Emergency calls MUST be marked with a Service URN in the Request-URI of the 
INVITE.
</p>
<p>SP-4 Local dial strings MUST be recognized.
</p>
<p>SP-5 Devices MUST be able to be configured with the home country from which the home dial string(s)
can be determined.
</p>
<p>SP-6 Emergency dial strings SHOULD be determined from LoST 
<a class='info' href='#RFC5222'>[RFC5222]<span> (</span><span class='info'>Hardie, T., Newton, A., Schulzrinne, H., and H. Tschofenig, &ldquo;LoST: A Location-to-Service Translation Protocol,&rdquo; August&nbsp;2008.</span><span>)</span></a>.  Dial Strings MAY be configured directly in the device.
</p>
<p>SP-7 If a proxy server recognizes dial strings on behalf of its clients it MUST recognize emergency dial strings represented by <a class='info' href='#RFC4967'>[RFC4967]<span> (</span><span class='info'>Rosen, B., &ldquo;Dial String Parameter for the Session Initiation Protocol Uniform Resource Identifier,&rdquo; July&nbsp;2007.</span><span>)</span></a> and SHOULD recognize emergency dial strings represented by a tel URI <a class='info' href='#RFC3966'>[RFC3966]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;The tel URI for Telephone Numbers,&rdquo; December&nbsp;2004.</span><span>)</span></a>.
</p>
<p>SP-8 Service providers MAY provide home dial strings by configuration.
</p>
<p>SP-9 All emergency services specified in <a class='info' href='#RFC5031'>[RFC5031]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;A Uniform Resource Name (URN) for Emergency and Other Well-Known Services,&rdquo; January&nbsp;2008.</span><span>)</span></a> 
MUST be recognized.
</p>
<p>SP-10 Endpoints, Intermediate Devices and Service Providers MUST be prepared to handle 
location represented in either civic or geo form.
</p>
<p>SP-11 Elements MUST NOT convert (civic to geo or geo to civic) from the form of 
location the determination mechanism supplied.
</p>
<p>SP-12 Proxies MAY provide location on behalf of devices if:
</p>
<ul class="text">
<li>The proxy has a relationship with all access networks the device could connect to, and the 
relationship allows it to obtain location.
</li>
<li>The proxy has an identifier, such as an IP address, that can be used by the access network to determine the location of the 
endpoint, even in the presence of NAT and VPN tunnels that may obscure the identifier between the access 
network and the service provider.
</li>
</ul>

<p>SP-13 Where proxies provide location on behalf of endpoints, the service provider MUST 
ensure that either the end device is provided with the local dial strings for its current location 
(where the end device recognizes dial strings), or the service provider proxy MUST detect the appropriate 
local dial strings at the time of the call.
</p>
<p>SP-14 When HELD is the LCP, the request MUST specify a value of "emergencyRouting" for 
the "responseTime" parameter and use the resulting location for routing.  If a value for dispatch location 
will be sent, another request with the "responseTime" parameter set to "emergencyDispatch" must be 
completed, with the result sent for dispatch purposes.
</p>
<p>SP-15 Location sent between SIP elements MUST be conveyed using 
<a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a>.
</p>
<p>SP-16 If the LIS has more than one location for an endpoint it MUST use the procedures in 
<a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a>
</p>
<p>SP-17 If a proxy inserts location on behalf of an endpoint, and it has multiple locations 
available for the endpoint it MUST choose one location to use to route the call towards the PSAP. 

</p>
<p>SP-18 If a proxy is attempting to insert location but the UA conveyed a location to it, the 
proxy MUST use the UA's location for routing and MUST convey that location towards the PSAP. It MAY 
also include what it believes the location to be in a separate Geolocation header.
</p>
<p>SP-19 All location objects received by a proxy MUST be delivered to the PSAP.
</p>
<p>SP-20 Location objects MUST contain information about the method by which the location was 
determined, such as GPS, manually entered, or based on access network topology included in a PIDF-
LO "method" element. In addition, the source of the location information MUST be included in a 
PIDF-LO "provided-by" element.
</p>
<p>SP-21 The "used-for-routing" parameter MUST be set to the location that was chosen for routing.
</p>
<p>SP-22 Proxies handling emergency calls MUST insert a default location if the call does not 
contain a location and the proxy does not have a method for obtaining a better location.
</p>
<p>SP-23 Default locations MUST be marked with method=Default and the proxy MUST be identified
in provided-by element of the PIDF-LO.
</p>
<p>SP-24 TLS MUST be used to protect location (but see <a class='info' href='#TLS'>Section&nbsp;9.1<span> (</span><span class='info'>Use of TLS</span><span>)</span></a>). IPSEC
<a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> is an acceptable alternative.
</p>
<p>SP-25 Service Providers MUST provide an SRV entry in their DNS server which leads to a LoST server
</p>
<p>SP-26 Networks MUST be designed so that at least one proxy in the outbound path will recognize emergency calls with a Request URI of 
the service URN in the "sos" tree. An endpoint places a service URN in the Request URI to indicate 
that the endpoint understood the call was an emergency call. A proxy that processes such a call 
looks for the presence of a SIP Route header field with a URI of a PSAP. Absence of such a Route header 
indicates the UAC was unable to invoke LoST and the proxy MUST perform the LoST mapping and insert 
a Route header field with the URI obtained.
</p>
<p>SP-27 To deal with old user agents that predate this specification and with UAs that do not have 
access to their own location data, a proxy that recognizes a call as an emergency call that is not 
marked as such (see <a class='info' href='#Identifying'>Section&nbsp;5<span> (</span><span class='info'>Identifying an emergency call</span><span>)</span></a>) MUST also perform this mapping, with the 
best location it has available for the endpoint. The resulting PSAP URI would be placed in a Route
header with the service URN in the Request URI.
</p>
<p>SP-28 Proxy servers performing mapping SHOULD use location obtained from the access network for 
the mapping. If no location is available, a default location (see <a class='info' href='#DefaultLocation'>Section&nbsp;6.11<span> (</span><span class='info'>Default location</span><span>)</span></a>) MUST be supplied.
</p>
<p>SP-29 A proxy server which attempts mapping and fails to get a mapping MUST provide a default 
mapping. A suitable default mapping would be the mapping obtained previously for the default 
location appropriate for the caller.
</p>
<p>SP-30 <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#RFC3263'>[RFC3263]<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;Session Initiation Protocol (SIP): Locating SIP Servers,&rdquo; June&nbsp;2002.</span><span>)</span></a> procedures MUST be 
used to route an emergency call towards the PSAP's URI.
</p>
<p>SP-31 TLS MUST be specified when attempting to signal an emergency call with SIP. 
IPSEC <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> is an acceptable alternative.
</p>
<p>SP-32 If TLS session establishment is not available, or fails, the call MUST be retried without TLS.
</p>
<p>SP-33 <a class='info' href='#I-D.ietf-sip-outbound'>[I&#8209;D.ietf&#8209;sip&#8209;outbound]<span> (</span><span class='info'>Jennings, C., &ldquo;Managing Client Initiated Connections in the Session Initiation Protocol  (SIP),&rdquo; June&nbsp;2009.</span><span>)</span></a> is RECOMMENDED to maintain persistent 
TLS connections between elements.
</p>
<p>SP-34 SIP Proxy servers processing emergency calls:
</p>
<ol class="text">
<li>If the proxy interprets dial plans on behalf of user agents, the proxy MUST look for 
the local emergency dial string at the location of the end device and MAY look for the home 
dial string. If it finds it, the proxy MUST: 

<ul class="text">
<li>Insert a Geolocation header as above. Location-by-reference MUST be used 
because proxies must not insert bodies.
</li>
<li>Include the Geolocation "inserted-by" and "used-for-routing" parameters with its own hostname (which should match the Via it inserts) on the inserted-by.
</li>
<li>Map the location to a PSAP URI using LoST.
</li>
<li>Add a Route header with the PSAP URI.
</li>
<li>Replace the Request-URI (which was the dial string) with the service URN appropriate for 
the emergency dial string.
</li>
<li>Route the call using normal SIP routing mechanisms.
</li>
</ul>
</li>
<li>If the proxy recognizes the service URN in the Request URI, and does not find a a Route
header, it MUST query a LoST server. If multiple locations were
provided, the proxy uses the location that has the "used-for-routing"
marker set.  If a location was provided (which should be the 
case), the proxy uses that location to query LoST.  The proxy may have to dereference a location 
by reference to get a value.  If a location is not present, and the proxy can query a LIS which 
has the location of the UA it MUST do so.  If no location is present, and the proxy does not have 
access to a LIS which could provide location, the proxy MUST supply a default location (See <a class='info' href='#DefaultLocation'>Section&nbsp;6.11<span> (</span><span class='info'>Default location</span><span>)</span></a>).  The location (in the signaling, obtained from a LIS, or 
default) MUST be used in a query to LoST with the service URN received with the call.  The 
resulting URI MUST be placed in a Route header added to the call.
</li>
<li>The "inserted-by" parameter in any Geolocation: header received on the call MUST NOT be 
modified or deleted in transit.
</li>
<li>The proxy SHOULD NOT modify any parameters in Geolocation headers received in the call. It 
MAY add a Geolocation header. Such an additional location SHOULD NOT be used for routing; the 
location provided by the UA should be used.
</li>
<li>Either a P-Asserted-Identity <a class='info' href='#RFC3325'>[RFC3325]<span> (</span><span class='info'>Jennings, C., Peterson, J., and M. Watson, &ldquo;Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks,&rdquo; November&nbsp;2002.</span><span>)</span></a> or an Identity header <a class='info' href='#RFC4474'>[RFC4474]<span> (</span><span class='info'>Peterson, J. and C. Jennings, &ldquo;Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2006.</span><span>)</span></a>, or both, SHOULD be included to identify the sender. For services which 
must support emergency calls from unauthenticated devices, valid identity may not be available.
</li>
</ol>

<p>SP-35 Devices device SHOULD have a globally routable URI in a Contact: header which remains valid for 30 minutes
past the time the original call containing the URI completes unless the device registration expires and is not
renewed. 
</p>
<p>SP-36 Call backs to the Contact: header URI recieved within 30 minutes of an emergency call
must reach the device regardless of call features or services
that would normally cause the call to be routed to some other entity.
</p>
<p>SP-37 Devices MUST have a persistent AOR URI either in a P-Asserted-Identity: header or From: protected by 
an Identity header suitable for returning a call some time after the original call.  Such a call back would not
necessarily reach the device that originally placed the call.
</p>
<p>SP-38 During the course of an emergency call, devices and proxies MUST support REFER 
transactions with method=INVITE and the Referred-by: header <a class='info' href='#RFC3515'>[RFC3515]<span> (</span><span class='info'>Sparks, R., &ldquo;The Session Initiation Protocol (SIP) Refer Method,&rdquo; April&nbsp;2003.</span><span>)</span></a> in that transaction. 
</p>
<p>SP-39 User Agents and proxies MUST disable features that will interrupt an
ongoing emergency call, such as:
</p>
<ul class="text">
<li>Call Waiting
</li>
<li>Call Transfer
</li>
<li>Three Way Call
</li>
<li>Hold
</li>
<li>Outbound Call Blocking
</li>
</ul><p>
when an emergency call is established.  Also see ED-77 in <a class='info' href='#Media'>Section&nbsp;14<span> (</span><span class='info'>Media</span><span>)</span></a>.
</p>
<p>SP-40 The emergency dial strings SHOULD NOT be permitted in Call Forward numbers or speed 
dial lists.
</p>
<p>SP-41 The User Agent and Proxies MUST disable call features which would interfere with the ability of 
call backs from the PSAP to be completed such as:
</p>
<ul class="text">
<li>Do Not Disturb
</li>
<li>Call Forward (all kinds)
</li>
</ul>

<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.3"></a><h3>A.3.&nbsp;
Requirements of Access Network</h3>

<p>AN-1 LoST servers MUST return dial strings for emergency services
</p>
<p>AN-2 Elements MUST NOT convert (civic to geo or geo to civic) from the form of 
location the determination mechanism supplied.
</p>
<p>AN-3 Any suitable location determination mechanism MAY be used.
</p>
<p>AN-4 Devices, intermediate Devices and/or access networks SHOULD support a manual method to "override" the 
location the access network determines. Where a civic form of location is provided, all fields in 
the PIDF-LO <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC5139'>[RFC5139]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO),&rdquo; February&nbsp;2008.</span><span>)</span></a> MUST 
be able to be specified.
</p>
<p>AN-5 Access networks supporting copper, fiber or other hard wired IP packet service SHOULD 
support location configuration. If the network does not support location configuration, it MUST 
require every device that connects to the network to support end system measured location.
</p>
<p>AN-6 Access networks and intermediate devices providing wire database location information SHOULD provide interior 
location data (building, floor, room, cubicle) where possible. It is RECOMMENDED that interior location be provided when spaces 
exceed approximately 650 square meters.
</p>
<p>AN-7 Access networks and intermediate devices (including enterprise networks) which support intermediate range wireless 
connections (typically 100m or less of range) and which do not support a more accurate location 
determination mechanism such as triangulation, MUST support location configuration where
the location of the access point is reflected as the location of the clients of that access point.  Where the
access network provides location configuration, intermediate devices MUST either be transparent to it,
or provide an interconnected client for the supported configuration mechanism and a server for a
configuration protocol supported by end devices downstream of the intermediate device
</p>
<p>AN-8 Devices that support endpoint measuring of location MUST have at least a coarse 
location capability (typically &lt;1km accuracy when not location hiding) for routing of calls. 
The location mechanism MAY be a service provided by the access network.
</p>
<p>AN-9 Access networks MAY provide network-measured location determination. Wireless access 
network which do not support network measured location MUST require that all devices connected to the 
network have end-system measured location. Uncertainty of less than 100 m with 95% confidence 
SHOULD be available for dispatch.
</p>
<p>AN-10 Access networks that provide network measured location MUST have at least a coarse location 
(typically &lt;1km when not location hiding) capability at all times for routing of calls.
</p>
<p>AN-11 Access networks with range of &lt;10 meters (e.g. personnal area networks such as Bluetooth 
MUST provide a location to mobile devices connected 
to them. The location provided SHOULD be that of the access point location unless a more accurate mechanism 
is provided.
</p>
<p>AN-12 The access network MUST support either DHCP location options or HELD. 
The access network SHOULD support other location technologies that are specific to the type of 
access network.
</p>
<p>AN-13 Where a router is employed between a LAN and WAN in a small (less than approximately 
650 square meters) area, the router MUST be transparent to the location provided by the WAN to the LAN.  This may
mean the router must obtain location as a client from the WAN, and supply an LCP server to the LAN with
the location it obtains.  Where the area is larger, the LAN MUST have a location configuration mechanism 
meeting this BCP.
</p>
<p>AN-14 Access networks that support more than one LCP MUST reply with the same location 
information (within the limits of the data format for the specific LCP) for all LCPs it 
supports.
</p>
<p>AN-15 Network administrators MUST take care in assigning IP addresses such that VPN address 
assignments can be distinguished from local devices (by subnet choice, for example), and LISs 
SHOULD NOT attempt to provide location to addresses that arrive via VPN connections unless it can
accurately determine the location for such addresses. 
</p>
<p>AN-16 Placement of NAT devices where an LCP uses IP address for an identifier SHOULD 
consider the effect of the NAT on the LCP. The address used to query the LIS MUST be able to correctly
identify the record in the LIS representing the location of the querying device
</p>
<p>AN-17 It is RECOMMENDED that location determination not take longer than 250 ms to obtain 
routing location and systems SHOULD be designed such that the typical response is under 100 ms. 
However, as much as 3 seconds to obtain routing location MAY be tolerated if location accuracy can 
be substantially improved over what can be obtained in 250 ms.
</p>
<p>AN-18 Where the absolute location or the accuracy of location of the endpoint may change 
between the time the call is received at the PSAP and the time dispatch is completed, location 
update mechanisms MUST be provided.
</p>
<p>AN-19 Mobile devices MUST be provided with a mechanism to get repeated location updates to 
track the motion of the device during the complete processing of the call.
</p>
<p>AN-20 The LIS SHOULD provide a location reference which permits a subscription with 
appropriate filtering.
</p>
<p>AN-21 For calls sent with location-by-reference, with a SIP or SIPS scheme, the server 
resolving the reference MUST support a SUBSCRIBE <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> to the presence 
event <a class='info' href='#RFC3856'>[RFC3856]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Presence Event Package for the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2004.</span><span>)</span></a>. For other location-by-reference schemes that do not support subscription, the PSAP will have to
repeatedly dereference the URI to determine if the device moved. 
</p>
<p>AN-22 A LIS should perform location validation of civic locations via LoST before 
entering a location in its database.
</p>
<p>AN-23 When the access network cannot determine the actual location of the caller, it MUST supply 
a default location. The default SHOULD be chosen to be as close to the probable location of the 
device as the network can determine.  See <a class='info' href='#I-D.ietf-ecrit-framework'>[I&#8209;D.ietf&#8209;ecrit&#8209;framework]<span> (</span><span class='info'>Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;Framework for Emergency Calling using Internet Multimedia,&rdquo; July&nbsp;2009.</span><span>)</span></a>
</p>
<p>AN-24 Default locations MUST be marked with method=Default and the proxy MUST be identified
in provided-by element of the PIDF-LO.
</p>
<p>AN-25 To prevent against spoofing of the DHCP server, elements implementing DHCP for 
location configuration SHOULD use <a class='info' href='#RFC3118'>[RFC3118]<span> (</span><span class='info'>Droms, R. and W. Arbaugh, &ldquo;Authentication for DHCP Messages,&rdquo; June&nbsp;2001.</span><span>)</span></a> although the difficulty in providing
appropriate credentials is significant.
</p>
<p>AN-26 Access networks which support DHCP MUST implement the LoST discovery option
</p>
<p>AN-27  Access Networks that use HELD and that have a DHCP server SHOULD
support DHCP options for providing LIS and LoST servers.
</p>
<p>AN-28 TLS MUST be specified when attempting to retrieve location (configuration or 
dereferencing) with HELD.  The use of <a class='info' href='#RFC5077'>[RFC5077]<span> (</span><span class='info'>Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig, &ldquo;Transport Layer Security (TLS) Session Resumption without Server-Side State,&rdquo; January&nbsp;2008.</span><span>)</span></a> is RECOMMENDED to minimize
the time to establish TLS sessions without keeping server-side state.
</p>
<p>AN-29 If TLS session establishment fails, the location retrieval MUST be retried without TLS.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.4"></a><h3>A.4.&nbsp;
Requirements of Intermediate Devices</h3>

<p>INT-1 Endpoints, Intermediate Devices and Service Providers MUST be prepared to handle 
location represented in either civic or geo form.
</p>
<p>INT-2 Elements MUST NOT convert (civic to geo or geo to civic) from the form of 
location the determination mechanism supplied.
</p>
<p>INT-3 Any suitable location determination mechanism MAY be used.
</p>
<p>INT-4 Devices, intermediate Devices and/or access networks SHOULD support a manual method to "override" the 
location the access network determines. Where a civic form of location is provided, all fields in 
the PIDF-LO <a class='info' href='#RFC4119'>[RFC4119]<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC5139'>[RFC5139]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO),&rdquo; February&nbsp;2008.</span><span>)</span></a> MUST 
be able to be specified.
</p>
<p>INT-5 Access networks and intermediate devices providing wire database location information SHOULD provide interior 
location data (building, floor, room, cubicle) where possible. It is RECOMMENDED that interior location be provided when spaces 
exceed approximately 650 square meters.
</p>
<p>INT-6 Access networks and intermediate devices (including enterprise networks) which support intermediate range wireless 
connections (typically 100m or less of range) and which do not support a more accurate location 
determination mechanism such as triangulation, MUST support location configuration where
the location of the access point is reflected as the location of the clients of that access point.  Where the
access network provides location configuration, intermediate devices MUST either be transparent to it,
or provide an interconnected client for the supported configuration mechanism and a server for a
configuration protocol supported by end devices downstream of the intermediate device
</p>
<p>INT-7 Devices MAY support end-system measured location. Uncertainty of less than 100 m with 95% 
confidence SHOULD be available for dispatch.
</p>
<p>INT-8 Devices that support endpoint measuring of location MUST have at least a coarse 
location capability (typically &lt;1km accuracy when not location hiding) for routing of calls. 
The location mechanism MAY be a service provided by the access network.
</p>
<p>INT-9 Endpoints SHOULD attempt to configure their own location using the LCPs listed in ED-21.
</p>
<p>INT-10 Where proxies provide location on behalf of endpoints, the service provider MUST 
ensure that either the end device is provided with the local dial strings for its current location 
(where the end device recognizes dial strings), or the service provider proxy MUST detect the appropriate 
local dial strings at the time of the call.
</p>
<p>INT-11 Devices SHOULD be able to accept and forward location by value or by reference. An end 
device that receives location by reference (and does not also get the corresponding value) MUST be 
able to perform a dereference operation to obtain a value.
</p>
<p>INT-12 Devices MUST support both the DHCP location options <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, 
<a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a> and HELD <a class='info' href='#I-D.ietf-geopriv-http-location-delivery'>[I&#8209;D.ietf&#8209;geopriv&#8209;http&#8209;location&#8209;delivery]<span> (</span><span class='info'>Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;HTTP Enabled Location Delivery (HELD),&rdquo; August&nbsp;2009.</span><span>)</span></a>.  
When devices deploy a specific access network interface in which that access network supports location 
discovery such as LLDP-MED or 802.11v, the device SHOULD support the additional respective access network 
specific location discovery mechanism.
</p>
<p>INT-13 The access network MUST support either DHCP location options or HELD. 
The access network SHOULD support other location technologies that are specific to the type of 
access network.
</p>
<p>INT-14 Where a router is employed between a LAN and WAN in a small (less than approximately 
650 square meters) area, the router MUST be transparent to the location provided by the WAN to the LAN.  This may
mean the router must obtain location as a client from the WAN, and supply an LCP server to the LAN with
the location it obtains.  Where the area is larger, the LAN MUST have a location configuration mechanism 
meeting this BCP.
</p>
<p>INT-15 Endpoints SHOULD try all LCPs supported by the device in any order or in parallel. The 
first one that succeeds in supplying location can be used.
</p>
<p>INT-16 Access networks that support more than one LCP MUST reply with the same location 
information (within the limits of the data format for the specific LCP) for all LCPs it 
supports.
</p>
<p>INT-17 When HELD is the LCP, the request MUST specify a value of "emergencyRouting" for 
the "responseTime" parameter and use the resulting location for routing.  If a value for dispatch location 
will be sent, another request with the "responseTime" parameter set to "emergencyDispatch" must be 
completed, with the result sent for dispatch purposes.
</p>
<p>INT-18 Endpoints SHOULD obtain location immediately after obtaining local network configuration 
information. When HELD is the LCP the client MUST support a random back-off period (between 30 
seconds and 300 seconds) for re-trying the HELD query, when no response is received, and no other LCP provided location information.
</p>
<p>INT-19 If the device is configured to use DHCP for bootstrapping, it MUST include both options 
for location acquisition (civic and geodetic), the option for LIS discovery, and the option for LoST discovery 
as defined in <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a>,
<a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a> and 
<a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>.
</p>
<p>INT-20 If the device sends a DHCPINFORM message, it MUST include both options 
for location acquisition (civic and geodetic), the option for LIS discovery, and the option for LoST discovery 
as defined in <a class='info' href='#RFC4776'>[RFC4776]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6) Option for Civic Addresses Configuration Information,&rdquo; November&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#RFC3825'>[RFC3825]<span> (</span><span class='info'>Polk, J., Schnizlein, J., and M. Linsner, &ldquo;Dynamic Host Configuration Protocol Option for Coordinate-based Location Configuration Information,&rdquo; July&nbsp;2004.</span><span>)</span></a>, 
<a class='info' href='#I-D.ietf-geopriv-lis-discovery'>[I&#8209;D.ietf&#8209;geopriv&#8209;lis&#8209;discovery]<span> (</span><span class='info'>Thomson, M. and J. Winterbottom, &ldquo;Discovering the Local Location Information Server (LIS),&rdquo; March&nbsp;2010.</span><span>)</span></a> and 
<a class='info' href='#RFC5223'>[RFC5223]<span> (</span><span class='info'>Schulzrinne, H., Polk, J., and H. Tschofenig, &ldquo;Discovering Location-to-Service Translation (LoST) Servers Using the Dynamic Host Configuration Protocol (DHCP),&rdquo; August&nbsp;2008.</span><span>)</span></a>.
</p>
<p>INT-21 To minimize the effects of VPNs that do not allow packets to be sent via the native hardware interface
rather than via the VPN tunnel, location configuration SHOULD be attempted 
before such tunnels are established.
</p>
<p>INT-22 Software which uses LCPs SHOULD locate and use the actual hardware network interface rather
than a VPN tunnel interface to direct LCP requests to the LIS in the actual access network.
</p>
<p>INT-23 For devices which are not expected to roam, refreshing location on the order of once per day is 
RECOMMENDED.
</p>
<p>INT-24 For devices which roam, refresh of location information SHOULD be more frequent, with the frequency 
related to the mobility of the device and the ability of the access network to support the refresh 
operation. If the device can detect that it has moved, for example when it 
changes access points, the device SHOULD refresh its location.
</p>
<p>INT-25 It is RECOMMENDED that location determination not take longer than 250 ms to obtain 
routing location and systems SHOULD be designed such that the typical response is under 100 ms. 
However, as much as 3 seconds to obtain routing location MAY be tolerated if location accuracy can 
be substantially improved over what can be obtained in 250 ms.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brian Rosen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NeuStar</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">470 Conrad Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mars, PA  16046</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 724 382 1051</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:br@brianrosen.net">br@brianrosen.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">James Polk</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3913 Treemont Circle</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Colleyville, TX  76034</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-817-271-3552</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jmpolk@cisco.com">jmpolk@cisco.com</a></td></tr>
</table>
</body></html>
