<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>The Need for Congestion Exposure in the Internet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="The Need for Congestion Exposure in the Internet">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Congestion Exposure</td><td class="header">T. Moncaster, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">L. Krug</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">BT</td></tr>
<tr><td class="header">Expires: April 26, 2010</td><td class="header">M. Menth</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">University of Wuerzburg</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Ara√∫jo</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">UCL</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">S. Blake</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Extreme Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Woundy</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Comcast</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 23, 2009</td></tr>
</table></td></tr></table>
<h1><br />The Need for Congestion Exposure in the Internet<br />draft-moncaster-congestion-exposure-problem-02</h1>

<h3>Status of This Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 26, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>  
   The success of the Internet is largely down to the ability to share capacity
	amongst all users while avoiding congestion collapse. However this relies on 
	the cooperation of all end users to work efficiently - even if everyone uses 
	TCP, a minority of users can command a large share of the network. To mitigate 
	the growth in this problem over recent years, some ISPs have imposed various
	controls on traffic using a range of proprietary approaches. These controls
	set ISPs in conflict with their customers and with some regulators.
   
</p>
<p>
   The root of the problem lies in the fact the ISPs are unable to see
	the most important information about the traffic - namely the amount
	of congestion that traffic is going to cause in the network. We
	propose congestion exposure as a possible solution. This allows packets
	to carry an accurate prediction of the congestion they expect to
	cause downstream. This memo sets out the motivations for congestion
	exposure and introduces a strawman protocol designed to achieve
	congestion exposure.
   
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#cong_exp_prob_intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_definitions">1.1.</a>&nbsp;
Definitions<br />
<a href="#cong_exp_prob_problem">2.</a>&nbsp;
The Problem<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_not_congestion">2.1.</a>&nbsp;
Congestion is not the problem<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_increase-manage">2.2.</a>&nbsp;
Increase capacity or manage traffic?<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_visibility">2.2.1.</a>&nbsp;
Making Congestion Visible<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_ECN">2.2.2.</a>&nbsp;
ECN - a Step in the Right Directions<br />
<a href="#cong_exp_prob_existing">3.</a>&nbsp;
Existing Approaches to Traffic Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_L3-measure">3.1.</a>&nbsp;
Layer 3 Measurement<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_volume">3.1.1.</a>&nbsp;
Volume Accounting<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_rate">3.1.2.</a>&nbsp;
Rate Measurement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_higher-layer">3.2.</a>&nbsp;
Higher Layer Discrimination<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_rate-lmits">3.2.1.</a>&nbsp;
Bottleneck Rate Policing<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#cong_exp_prob_dpi">3.2.2.</a>&nbsp;
DPI and Application Rate Policing<br />
<a href="#cong_exp_prob_timing">4.</a>&nbsp;
Why Now?<br />
<a href="#cong_exp_prob_requirements">5.</a>&nbsp;
Requirements for a Solution<br />
<a href="#cong_exp_prob_strawman">6.</a>&nbsp;
A Strawman Congestion Exposure Protocol<br />
<a href="#cong_exp_prob_uses">7.</a>&nbsp;
Use Cases<br />
<a href="#anchor1">8.</a>&nbsp;
IANA Considerations<br />
<a href="#cong_exp_prob_security">9.</a>&nbsp;
Security Considerations<br />
<a href="#cong_exp_prob_Conclusions">10.</a>&nbsp;
Conclusions<br />
<a href="#cong_exp_prob_Acknowledgements">11.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">12.</a>&nbsp;
Informative References<br />
</p>
<br clear="all" />

<a name="cong_exp_prob_intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
	The Internet has grown from humble origins to become a global phenomenon with 
	billions of end-users able to share the network and exchange data and more. 
	One of the key elements in this success has been the use of distributed algorithms 
	such as TCP that share capacity while avoiding congestion collapse. These algorithms 
	rely on the end-systems altruistically reducing their transmission rate in response 
	to any congestion they see.
	
</p>
<p>
	In recent years ISPs have seen a minority of users taking a
	larger share of the network by using applications that transfer data
	continuously for hours or 	even days at a time and even opening multiple
	simultaneous TCP connections. This issue became prevalent with the
	advent of "always on" broadband connections. Frequently peer to peer
	protocols have been held responsible <a class='info' href='#RFC5594'>[RFC5594]<span> (</span><span class='info'>Peterson, J. and A. Cooper, &ldquo;Report from the IETF Workshop on Peer-to-Peer (P2P) Infrastructure, May 28, 2008,&rdquo; July&nbsp;2009.</span><span>)</span></a> but streaming video
	traffic is becoming increasingly significant. In order to improve
	the network experience for the majority of their customers, many ISPs
	have chosen to impose controls on how their network's capacity is shared
	rather than continually buying more capacity. They calculate that most customers will 
	be unwilling to contribute to the cost of extra shared
	capacity if that will only really benefit a minority of users.
	Approaches include volume counting or charging, and application rate
	limiting. Typically these traffic controls, whilst not impacting
	most customers, set a restriction on a customer's level of network
	usage, as defined in a "fair usage policy".
	
</p>
<p>
	We believe that such traffic controls seek to control the wrong
	quantity. What matters in the network is neither the volume of
	traffic nor the rate of traffic, it is the contribution to congestion over
	time - congestion means that your traffic impacts other users, and
	conversely that their traffic impacts you. So if there is no congestion
	there need not be any restriction on the amount a user can
	send; restrictions only need to apply when others are sending
	traffic such that there is congestion.  In fact some of the current work at 
	the IETF <a class='info' href='#LEDBAT'>[LEDBAT]<span> (</span><span class='info'>Shalunov, S., &ldquo;Low Extra Delay Background Transport (LEDBAT),&rdquo; March&nbsp;2009.</span><span>)</span></a> and IRTF <a class='info' href='#CC-open-research'>[CC&#8209;open&#8209;research]<span> (</span><span class='info'>Welzl, M., Scharf, M., Briscoe, B., and D. Papadimitriou, &ldquo;Open Research Issues in Internet Congestion Control,&rdquo; September&nbsp;2009.</span><span>)</span></a> already reflects 
	this thinking. For example, an application intending to transfer large
	amounts of data could use LEDBAT to try to reduce its transmission
	rate before any competing TCP flows do, by detecting an increase in end-to-end
	delay (as a measure of incipient congestion). However these techniques 
	rely on voluntary, altruistic action by end users and their application
	providers. ISPs cannot enforce their use. This leads to our second point.
	
</p>
<p>
	The Internet was designed so that end-hosts detect and control congestion. We
	believe that congestion needs to be visible to network nodes as well,
	not just to the end hosts. More specifically, a network needs to be able to measure how much congestion traffic causes
	between the monitoring point in the network and the destination ("rest-of-path congestion"). This would be a new capability; 
	today a network can use explicit congestion notification (ECN) <a class='info' href='#RFC3168'>[RFC3168]<span> (</span><span class='info'>Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;The Addition of Explicit Congestion Notification (ECN) to IP,&rdquo; September&nbsp;2001.</span><span>)</span></a> to 
	detect how much congestion traffic has suffered between the source and a monitoring point in the 
	network, but not beyond. Such a capability would enable an ISP to give incentives for the use, without 
	restrictions, of LEDBAT-like applications whilst perhaps restricting excessive use of TCP and UDP ones. 
	
</p>
<p>
	So we propose a new approach which we call congestion exposure. We
	propose that congestion information should be made visible at the IP
	layer, so that any network node can measure the contribution to congestion of
	an aggregate of traffic as easily as straight volume can be measured today.
	Once the information is exposed in this way, it is then
	possible to use it to measure the true impact of any traffic on the
	network. Lacking the ability to see congestion, some ISPs count the volume
	each user transfers. On this basis LEDBAT applications would get blamed for
	hogging the network given the large amount of volume they transfer. However,
	because they yield rather than hog, they actually contribute very little to
	congestion. One use of exposed congestion information would be to measure the
	congestion attributable to a given user. and thereby
	incentivise the use of protocols such as <a class='info' href='#LEDBAT'>[LEDBAT]<span> (</span><span class='info'>Shalunov, S., &ldquo;Low Extra Delay Background Transport (LEDBAT),&rdquo; March&nbsp;2009.</span><span>)</span></a> 
	which aim to reduce the congestion caused by bulk data transfers. 
	
	
</p>
<p>
	Creating the incentive to deploy low-congestion protocols such as LEDBAT is just one of many motivations for
	congestion exposure. In general, congestion exposure gives ISPs a principled way
	to hold their customers accountable for the impact on others of their network
	usage and their choices of applications. It can measure the impact of an
	individual consumer, a large enterprise network or the traffic crossing a border
	from another ISP ‚Äì anywhere where volume is used today as a (poor) measure of
	usage. In <a class='info' href='#cong_exp_prob_uses'>Section&nbsp;7<span> (</span><span class='info'>Use Cases</span><span>)</span></a>, a range of potential use cases for congestion exposure are given,
	showing it is possible to imagine a wide range of other ways to use the exposed congestion information.

	
</p>
<a name="cong_exp_definitions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Definitions</h3>

<p>
	Throughout this document we refer to congestion repeatedly. Congestion has a wide 
	range of definitions. For the purposes of this document it is defined using the 
	simplest way that it can be measured - the instantaneous fraction of loss. More 
	precisely, congestion is bits lost divided by bits sent, taken over any brief period.
	By extension, if explicit congestion notification (ECN) is being used, the
	fraction of bits marked (rather than lost) gives a useful metric that can be
	thought of as analagous to congestion. Strictly congestion should measure impairment, whereas
	ECN aims to avoid any loss or delay impairments due to congestion. But for the
	purposes of this document, the two will both be called congestion.
	
</p>
<p>We also need to define two specific terms carefully:
	</p>
<blockquote class="text"><dl>
<dt></dt>
<dd> Upstream congestion is defined as the congestion 
	that has already been experienced by a packet as it travels along its path. In other words at 
	any point on the path it is the congestion between that point and the source of the packet.
</dd>
<dt></dt>
<dd> Downstream congestion is defined as the congestion 
	that a packet still has to experience on the remainder of its path. In other words at any
	point it is the congestion still to be experienced as the packet travels between that point 
	and ts destination.
</dd>
</dl></blockquote><p>
	
</p>
<a name="cong_exp_prob_problem"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
The Problem</h3>

<a name="cong_exp_prob_not_congestion"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Congestion is not the problem</h3>

<p>
		The problem is not congestion itself. The problem is how best to share available 
		capacity. When too much traffic meets too little capacity, congestion occurs. 
		Then we have to share out what capacity there is. But we should not (and cannot) solve the 
		capacity sharing problem by trying to make it go away ‚Äì by saying there 
		should somehow be no congestion, slower traffic or more capacity. That 
		misses the whole point of the Internet: to multiplex or 
		share available capacity at maximum utilisation.
		
</p>
<p>
		So as we say, the problem is not congestion in itself. Every elastic data
		transfer should (and usually will) congest a healthy data network. If it doesn't,
		its transport protocol is broken. There should always be periods approaching
		100% utilisation at some link along every data path through the Internet,
		implying that frequent periods of congestion are a healthy sign. If transport
		protocols are too weak to congest capacity, they are under-utilising it and
		hanging around longer than they need to, reducing the capacity available for the
		next data transfers that might be about to start.
		
</p>
<a name="cong_exp_prob_increase-manage"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Increase capacity or manage traffic?</h3>

<p>
		Some say the problem is that ISPs should invest in more capacity. Certainly
		increasing capacity should make the congested periods during data transfers
		shorter and the non-congested gaps between them longer. The argument goes that
		if capacity were large enough it would make the periods when there is a capacity
		sharing problem insignificant and not worth solving.
		
</p>
<p>
		Yet, ISPs are facing a quandary - traffic is growing rapidly and traffic
		patterns are changing significantly (see <a class='info' href='#cong_exp_prob_timing'>Section&nbsp;4<span> (</span><span class='info'>Why Now?</span><span>)</span></a> and 
		<a class='info' href='#Cisco-VNI'>[Cisco&#8209;VNI]<span> (</span><span class='info'>Cisco Systems, inc., &ldquo;Cisco Visual Networking Index: Forecast and Methodology, 2008‚Äì2013,&rdquo; June&nbsp;2009.</span><span>)</span></a>) They know that any increases in capacity will 
		have to be paid for by all their customers but capacity growth will be of most 
		benefit to the heaviest users. Faced with these problems, some ISPs are seeking to 
		reduce what they regard as "heavy usage" in order to improve the service experienced 
		by the majority of their customers.
</p>
<p>
		If done properly, managing traffic should be a valid alternative to increasing
		capacity. An ISP's customers can vote with their feet if the ISP chooses the
		wrong balance between making the service more expensive or managing heavy
		traffic. Current traffic management techniques <a class='info' href='#cong_exp_prob_existing'>Section&nbsp;3<span> (</span><span class='info'>Existing Approaches to Traffic Control</span><span>)</span></a> 
		fight against the capacity shares that TCP is aiming for. Ironically, they try to 
		impose something approaching LEDBAT-like behaviour on heavier flows. But as 
		we have seen, they cannot give LEDBAT the credit for doing this itself ‚Äì 
		the network just sees a LEDBAT flow as a large amount of volume.
		
</p>
<p>
		Thus the problem for the IETF is to ensure that ISPs and their equipment
		suppliers have appropriate protocol support ‚Äì not just to impose good capacity
		sharing themselves, but to encourage end-to-end protocols to share out capacity
		in everyone's best interests.
		
</p>
<a name="cong_exp_visibility"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.1"></a><h3>2.2.1.&nbsp;
Making Congestion Visible</h3>

<p>
		Unfortunately ISPs are only able to see limited information about the 
		traffic they forward. As we will see in section 3 they are forced to use 
		the only information they do have available which leads to myopic control 
		that has scant regard for the actual impact of the traffic or the underlying network 
		conditions. All their approaches are unsound because they cannot measure the most useful 
		metric. The volume or rate of a given flow or aggregate doesn‚Äôt directly affect other users, 
		but the congestion it causes does. This can be seen with a simple illustration. 
		A 5Mbps flow in an otherwise empty 10Mbps bottleneck causes no congestion and so 
		affects no other users. By contrast a 1Mbps flow entering a 10Mbps bottleneck that 
		is already fully occupied causes significant congestion and impacts every other user 
		sharing that bottleneck as well as suffering impairment itself. So the real problem that needs to be addressed is how to 
		close this information gap. How can we expose congestion at the IP layer so that it 
		can be used as the basis for measuring the impact of any traffic on the network 
		as a whole?
		
</p>
<a name="cong_exp_ECN"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.2"></a><h3>2.2.2.&nbsp;
ECN - a Step in the Right Directions</h3>

<p>
		Explicit Congestion Notification <a class='info' href='#RFC3168'>[RFC3168]<span> (</span><span class='info'>Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;The Addition of Explicit Congestion Notification (ECN) to IP,&rdquo; September&nbsp;2001.</span><span>)</span></a> allows routers to
		explicitly tell end-hosts that they are approaching the point of
		congestion.  ECN builds on Active Queue Mechanisms such as random
		early discard (RED) <a class='info' href='#RFC2309'>[RFC2309]<span> (</span><span class='info'>Braden, B., Clark, D., Crowcroft, J., Davie, B., Deering, S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G., Partridge, C., Peterson, L., Ramakrishnan, K., Shenker, S., Wroclawski, J., and L. Zhang, &ldquo;Recommendations on Queue Management and Congestion Avoidance in the Internet,&rdquo; April&nbsp;1998.</span><span>)</span></a> by allowing the router to mark a packet
		with a Congestion Experienced (CE) codepoint, rather than dropping
		it.  The probability of a packet being marked increases with the
		length of the queue and thus the rate of CE marks is a guide to the
		level of congestion at that queue.  This CE codepoint travels forward
		through the network to the receiver which then informs the sender
		that it has seen congestion.  The sender is then required to respond
		as if it had experienced a packet loss.  Because the CE codepoint is
		visible in the IP layer, this approach reveals the upstream
		congestion level for a packet.
		
</p>
<p>
		So Is ECN the Solution? Alas not - ECN does allow downstream nodes to measure the
		upstream congestion for any flow, but this is not enough. This can make a receiver 
		accountable for the congestion caused by incoming traffic. But a receiver can only control incoming
		congestion indirectly, by politely asking the sender to control it. A receiver
		cannot make a sender install an adaptive codec, or install LEDBAT instead of TCP.
		And a receiver cannot ask an attacker to stop flooding it with traffic.
		
		What is needed is knowledge of the downstream congestion level for which you need 
		additional information that is still concealed from the network - by design.
</p>
<a name="cong_exp_prob_existing"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Existing Approaches to Traffic Control</h3>

<p> 
	Existing approaches intended to address the problems outlined above can be broadly divided into two groups - those that passively monitor
	traffic and can thus measure the apparent impact of a given flow of packets and those that can actively discriminate against certain 
	packets, flows, applications or users based on various characteristics or metrics.
	
</p>
<a name="cong_exp_prob_L3-measure"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Layer 3 Measurement</h3>

<p>
		L3 measurement of traffic relies on using the information that
		can be measured directly or is revealed in the IP header of the
		packet (or lower layers). Architecturally, L3 measurement is best since it
		fits with the idea of the hourglass design of the Internet [RFC3439].
		This asserts that "the complexity of the Internet belongs at the
		edges, and the IP layer of the Internet should remain as simple as possible."
 
		
</p>
<a name="cong_exp_prob_volume"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Volume Accounting</h3>

<p>
			Volume accounting is a technique that is often used to discriminate between heavy and 
			light users. The volume of traffic sent by a given user or network is one of the easiest 
			pieces of information to monitor in a network. Measuring the size of every packet from the 
			header and adding them up is a simple operation. Consequently this has long been a favoured 
			measure used by	operators to control their customers.
			
</p>
<p>
			The precise manner in which this volume information is used may vary. Typically ISPs may 
			impose an overall volume cap on their customers (perhaps 10Gbytes a	month). Alternatively 
			they may decide that the heaviest users each month are subjected to some sanction. 
			
</p>
<p>
			Volume is naively thought to indicate the impact that one party's traffic has
			on others. But the same volume can cause very different impacts on others if it
			is transferred at slightly different times, or between slightly different endpoints.
			Also the impact on others greatly depends on how responsive the transport is to 
			congestion, whether responsive (TCP), very responsive (LEDBAT), aggressive (multiple TCPs) 
			or totally unresponsive.
			
</p>
<a name="cong_exp_prob_rate"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
Rate Measurement</h3>

<p>
			Traffic rates are often used as the basis of accounting at borders between ISPs. For 
			instance a contract might specify a charge based on the 95th percentile of the peak 
			rate of traffic crossing the border every month. Such bulk rate measurements are usually 
			simplified by measuring traffic volume over a short period, such as 15mins.	With a little extra
			effort it is possible to measure the rate of a given flow by using the 3-tuple of source 
			and destination IP address and protocol	number. 
			
</p>
<p>
			Rate measurements might be thought indicative of the impact of one aggregate of traffic on
			others, and rate is often limited to avoid impact on others. However such limits
			generally constrain everyone much more than they need to, just in case most
			parties send fast at the same time. And such limits constrain everyone too
			little at other times, when everyone actually does send fast at the same time.
			
</p>
<a name="cong_exp_prob_higher-layer"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Higher Layer Discrimination</h3>

<p>
		Over recent years a number of traffic management techniques have emerged that explicitly differentiate 
		between different traffic types, applications and even users. This is done because ISPs and operators
		feel they have a need to use such techniques to better control a new raft of applications that
		break some of the implicit design assumptions behind TCP (short-lived flows, limited flows per connection,
		generally between server and client).
		
</p>
<a name="cong_exp_prob_rate-lmits"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Bottleneck Rate Policing</h3>

<p>
			Bottleneck flow rate policers such as <a class='info' href='#XCHOKe'>[XCHOKe]<span> (</span><span class='info'>Chhabra, P., Chuig, S., Goel, A., John, A., Kumar, A., Saran, H., and R. Shorey, &ldquo;XCHOKe: Malicious Source Control for Congestion Avoidance at Internet Gateways,&rdquo; November&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#pBox'>[pBox]<span> (</span><span class='info'>Floyd, S. and K. Fall, &ldquo;Promoting the Use of End-to-End Congestion Control in the Internet,&rdquo; August&nbsp;1999.</span><span>)</span></a> 
			have been proposed as approaches for rate policing traffic. But they must be deployed at bottlenecks in order to work.  
			Unfortunately, a large proportion of traffic traverses at least two bottlenecks which limits the utility of this 
			approach. Such rate policers also make an assumption about what constitutes acceptable per-flow behaviour. If these 
			bottleneck policers were widely deployed, the Internet could find itself with one universal rate adaptation 
			policy embedded throughout the network.  With TCP's congestion control algorithm approaching its scalability 
			limits as the network bandwidth continues to increase, new algorithms are being developed for high-speed 
			congestion control.  Embedding assumptions about acceptable rate adaptation would make evolution to such 
			new algorithms extremely painful.  
			
</p>
<a name="cong_exp_prob_dpi"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
DPI and Application Rate Policing</h3>

<p>
			Some operators use deep packet inspection (DPI) and traffic analysis
			to identify certain applications they believe to have an excessive impact
			on the network. ISPs generally pick on applications that that they judge as
			low value to the customer in question and high impact on other customers. A
			common example is peer-to-peer file-sharing. Having identified a
			flow as belonging to such an application, the operator uses differential
			scheduling to limit the impact of that flow on others, which usually limits its
			throughput as well. This has fuelled the on-going battle between application developers 
			and DPI vendors. 
			
</p>
<p>
			When operators first started to limit the throughput of P2P, 
			it soon became common knowledge that turning on encryption could boost your throughput. The	DPI vendors 
			then improved their equipment so that it could identify P2P traffic by the pattern of packets it sends. 
			This risks becoming an endless vicious cycle - an arms race that neither side can win. Furthermore such 
			techniques may put the operator in direct conflict with the customers, regulators and content providers.
			
</p>
<a name="cong_exp_prob_timing"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Why Now?</h3>

<p>  
	The accountability and capacity sharing problems highlighted so far have always
	characterised the Internet to some extent. In 1988 Van Jacobson coded capacity
	sharing into TCP's e2e congestion control algorithms <a class='info' href='#TCPcc'>[TCPcc]<span> (</span><span class='info'>Jacobson, V. and M. Karels, &ldquo;Congestion Avoidance and Control,&rdquo; August&nbsp;1988.</span><span>)</span></a>. But 
	fair queuing algorithms were already being written for network operators to ensure each
	active user received an equal share of a link and couldn't game the system
	<a class='info' href='#RFC0970'>[RFC0970]<span> (</span><span class='info'>Nagle, J., &ldquo;On packet switches with infinite storage,&rdquo; December&nbsp;1985.</span><span>)</span></a>. The two approaches have divergent objectives, but 
	they have co-existed ever since.
	
</p>
<p>
	The main new factor has been the introduction of residential broadband, making
	'always-on' available to all, not just campuses and enterprises. Both TCP and
	approaches like fair queuing only share out capacity instantaneously; they don't
	take account of how much of each user's data is occupying a link over time,
	which can significantly reduce the capacity available to lighter usage.
	Therefore residential ISPs have been introducing new traffic management
	equipment that can prioritise based on each customer's usage profile. Otherwise
	capacity upgrades get eaten up by transfers of large amounts of data, with
	little gain for interactive usage <a class='info' href='#BB-Incentive'>[BB&#8209;Incentive]<span> (</span><span class='info'>MIT Communications Futures Program (CFP) and Cambridge University Communications Research Network, &ldquo;The Broadband Incentive Problem,&rdquo; September&nbsp;2005.</span><span>)</span></a>.
	
</p>
<p>
	In campus networks, capacity upgrades are the easiest way to mitigate the
	inability of TCP or FQ to take account of activity over time. But 
	capacity upgrades are much more expensive in residential broadband networks
	that are spread over large geographic areas and customers will only be happy
	to pay more for their service if they can see a significant benefit.
	
</p>
<p>
	However, these traffic management techniques fight the capacity
	shares e2e protocols are aiming at, rather than working together in unison. And,
	the more optimal ISPs try to make their controls, the more they need application
	knowledge within the network ‚Äì which isn't how the Internet was designed to work.
	Congestion exposure hasn't been considered before, because the depth of the
	problem has only recently been understood. We now understand that both networks 
	and end-systems to focus on	contribution to congestion, not volume or rate. Then 
	application knowledge is only needed on the end-system, where it should be. But 
	the reason this isn't happening is because the network cannot see the information it needs
	(congestion).
	
</p>
<p>
	As long as ISPs continue to use	rate and volume as the key metrics for determining 
	when to control	traffic there is no incentive to use LEDBAT or other low-congestion protocols that 
	improve the performance of competing interactive traffic. We believe that
	congestion exposure gives ISPs the information they need to be able to discriminate in 
	favour of such low-congestion transports. In turn this will give users a direct benefit
	from using such transports and so encourage their wider use.
	
</p>
<a name="cong_exp_prob_requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Requirements for a Solution</h3>

<p>
	This section proposes some requirements for any solution to this problem. We believe that a 
	solution that meets most of these requirements is likely to be better than one that doesn't, but we recognise
	that if a working group is established in this area, it may have to make tradeoffs.
		
	</p>
<ul class="text">
<li>Allow both upstream and downstream congestion to be visible at the IP layer -- visibility at the IP layer allows congestion in the heart of
		the network to be monitored at the edges and without deploying complicated and intrusive equipment such as DPI boxes. This gives several advantages:
</li>
<ol class="text">
<li>It enables policing of flows based on the congestion they are actually going to cause in the network.
</li>
<li>It allows the flow of congestion across ISP borders to be monitored.
</li>
<li>It supports a diversity of intra-domain and inter-domain congestion management practices. 
</li>
<li>It allows the contribution to congestion over time to be counted as easily as volume can be counted today.
</li>
<li>It supports contractual arrangements for managing traffic (acceptable use policies, SLAs etc) between just 
		the two parties exchanging traffic across their point of attachment, without involving others.
</li>
</ol>
<li>Avoid making assumptions about the behavior of specific applications (e.g. be agnostic to application and transport behaviour).
</li>
<li>Support the widest possible range of transport protocols for the widest range of data types 
		(elastic, inelastic, real-time, background, etc) -- don't force a "universal rate adaptable policy" 
		such as TCP-friendliness <a class='info' href='#RFC3448'>[RFC3448]<span> (</span><span class='info'>Handley, M., Floyd, S., Padhye, J., and J. Widmer, &ldquo;TCP Friendly Rate Control (TFRC): Protocol Specification,&rdquo; January&nbsp;2003.</span><span>)</span></a>.
</li>
<li>Be responsive to real-time congestion in the network.
</li>
<li>Allow incremental deployment of the solution and ideally permit permanent partial deployment to increase chances of successful deployment.
</li>
<li>Ensure packets supporting congestion exposure are distinguishable from others, so that each transport can control when it chooses to deploy congestion
		exposure, and ISPs can manage the two types of traffic distinctly.
</li>
<li>Support mechanisms that ensure the integrity of congestion notifications, thus making it hard for a user or network to distort the congestion signal.
</li>
<li>Be robust in the face of DoS attacks, so that congestion information can be used to identify and limit DoS traffic and to protect the hosts and
		network elements implementing congestion exposure.
</li>
</ul><p>
	Many of these requirements are by no means unique to the problem of congestion exposure. Incremental deployment for instance is a critical requirement for any 
	new protocol that affects something as fundamental as IP. Being robust under attack is also a pre-requisite for any protocol to succeed in the real Internet 
	and this is covered in more detail in <a class='info' href='#cong_exp_prob_security'>Section&nbsp;9<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.
	
</p>
<a name="cong_exp_prob_strawman"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
A Strawman Congestion Exposure Protocol</h3>

<p>
	In this section we explore a simple strawman protocol that would solve the congestion exposure problem. This protocol
	neatly illustrates how a solution might work. A practical implementation of this protocol has been produced and both simulations and 
	real-life testing show that it works. The protocol is based on a concept known as re-feedback <a class='info' href='#Re-fb'>[Re&#8209;fb]<span> (</span><span class='info'>Briscoe, B., Jacquet, A., Di Cairano-Gilfedder, C., Salvatori, A., Soppera, A., and M. Koyabe, &ldquo;Policing Congestion Response in an Internetwork Using Re-Feedback,&rdquo; August&nbsp;2005.</span><span>)</span></a> and builds on existing
	active queue management techniques like RED <a class='info' href='#RFC2309'>[RFC2309]<span> (</span><span class='info'>Braden, B., Clark, D., Crowcroft, J., Davie, B., Deering, S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G., Partridge, C., Peterson, L., Ramakrishnan, K., Shenker, S., Wroclawski, J., and L. Zhang, &ldquo;Recommendations on Queue Management and Congestion Avoidance in the Internet,&rdquo; April&nbsp;1998.</span><span>)</span></a> and ECN <a class='info' href='#RFC3168'>[RFC3168]<span> (</span><span class='info'>Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;The Addition of Explicit Congestion Notification (ECN) to IP,&rdquo; September&nbsp;2001.</span><span>)</span></a> 
	that network elements can already use to measure and expose congestion.

</p>
<p>
	Re-feedback, standing for re-inserted feedback, is a system designed to allow end-hosts to reveal to the network information
	about their network path that they have received via conventional feedback (for instance congestion). 

</p>
<p>
	In our strawman protocol we imagine that packets have two "congestion" fields in their IP header:
	</p>
<ul class="text">
<li>The first is a congestion experienced field to record the upstream congestion level along the path.
	Routers indicate their current congestion level by updating this field in every packet. As the packet traverses the network it 
	builds up a record of the overall congestion along its path in this field. This data is sent back to the sender who uses it to 
	determine its transmission rate. 
</li>
<li> The other is a whole-path congestion field that uses re-feedback to record the total congestion along the path. The sender 
	does this by re-inserting the current congestion level for the path into this field for every packet it transmits.
</li>
</ul><p>
	Thus at any node downstream of the sender you can see the upstream congestion for the packet (the congestion thus far), the whole 
	path congestion (with a time lag of 1RTT) and can calculate the downstream congestion by subtracting one from the other. 
</p>
<p>
	So congestion exposure can be achieved by coupling congestion notification from routers with
	the re-insertion of this information by the sender. This establishes information symmetry between users 
	and network providers. 


</p>
<a name="cong_exp_prob_uses"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Use Cases</h3>

<p>
	Once downstream congestion information is revealed in the IP header it can be used for a number of purposes. Precise details
	of how the information might be used are beyond the scope of this document but this section will give an overview
	of some possible uses. {ToDo: write up the rest of this section properly. Concentrate on a couple of the most useful
	potential use cases (traffic management and accountability?) and mention a couple of more arcane uses (traffic engineering 
	and e2e QoS). The key thing is to clarify that Congestion Exposure is a tool that can be used for many other things...}
	
</p>
<p>
	It allows an ISP to accurately identify which traffic is having the greatest impact on the network and either police 
	directly on that basis or use it to determine which users should be policed. It can form the basis of inter-domain 
	contracts between operators. It could even be used as the basis for inter-domain routing, thus encouraging operators 
	to invest appropriately in improving their infrastructure.
	
</p>
<p>  
	From Rich Woundy: "I would add a section about use cases. The primary use case would seem to be an "incentive environment that ensures 
	optimal sharing of capacity", although that could use a better title. Other use cases may include "DDoS mitigation", 
	"end-to-end QoS", "traffic engineering", and "inter-provider service monitoring". (You can see I am stealing liberally 
	from the motivation draft here. We'll have to see whether the other use cases are "core" to this group, or "freebies" 
	that come along with re-ECN as a particular protocol.)"
	
</p>
<p>
	My take on this is we need to concentrate on one or two major use cases. The most obvious one is using this to control user-behaviour and
	encourage the use of "congestion friendly" protocols such as LEDBAT.
	
</p>
<p>
	{Comments from Louise Krug:} simply say that operators MUST turn off any kind of rate limitation for LEDBAT traffic and what 
	they might mean for the amount of bandwidth they see compared to a throttled customer? You could then extend that to say how 
	it leads to better QoS differentiation under the assumption that there is a broad traffic mix any way? Not sure how much detail 
	you want to go into here though? 
	
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>This document makes no request to IANA. 
    
</p>
<a name="cong_exp_prob_security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>
	This section needs to briefly cover the obvious security aspects of any congestion exposure scheme: Source address spoofing, DoS, 
	integrity of signals, honesty. It might also be the place to mention the possible reluctance to reveal too much information 
	to the whole network (some ISPs view congestion level as a commercially sensitive concept). It needs to concentrate on two things in particular:
	DoS attacks that seek to corrupt the congestion information and how to ensure the honest declaration of information (both by 
	the network and by the end-user).
	
</p>
<p>
	Congestion Exposure is always going to rely on the honesty of the network and receiver in correctly reporting congestion to the sender, and the sender in correctly 
	revealing this congestion information back to the network. Looking at all three in turn:
	</p>
<ul class="text">
<li> The Network. In general it is not in any network's interest to under-declare congestion since this will have potentially
	negative consequences for all users of that network. It may be in its interest to over-declare congestion if, for instance, it wishes to force traffic to move away
	to a different network or indeed simply wants to reduce the ammonut of traffic it is carrying. Congestion Exposure itself shouldn't significantly alter the incentives
	for and against honest declaration of congestion by a network, but it is possible to imagine applications of Congestion Exposure that will change these incentives.
	
</li>
<li> The Receiver. Receivers generally have an incentive to under-declare congestion since they generally wish to receive the data from the sender as rapidly as
	possible. <a class='info' href='#Savage'>[Savage]<span> (</span><span class='info'>Savage, S., Wetherall, D., and T. Anderson, &ldquo;TCP Congestion Control with a Misbehaving Receiver,&rdquo; 1999.</span><span>)</span></a> explains how a receiver can significantly improve their throughput my failing to declare congestion. This is a problem with or
	without Congestion Exposure. <a class='info' href='#KGao'>[KGao]<span> (</span><span class='info'>Gao, K. and C. Wang, &ldquo;Incrementally Deployable Prevention to TCP Attack with Misbehaving Receivers,&rdquo; December&nbsp;2004.</span><span>)</span></a> explains one possible technique to encourage receiver's to be honest in their declaration of congestion.
</li>
<li> The Sender. In general most senders will respond appropriately to congestion they are informed of. Congestion Exposure also adds a requirement for them
	to let the network know how much congestion they have suffered. If the information is being used to control the sender then clearly there may be an incentive to under-declare
	congestion. However the receiver will always be able to check that the "whole-path congestion" is the same as the congestion he reported 1 RTT ago.
</li>
</ul><p>
	
	In addition there are potential problems from source spoofing. A malicious sender can pretend to be another user by spoofing their identity. By doing so they can
	inject false congestion information into the forward path and can distort or disrupt the integrity of the congestion signal.
</p>
<a name="cong_exp_prob_Conclusions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Conclusions</h3>

<p>
	Congestion exposure is the idea that traffic itself indicates to all nodes on its path how much 
	congestion it causes on the entire path. It is useful for network operators to police traffic only 
	if it really causes congestion in the Internet instead of doing blind rate capping independently 
	of the congestion situation. This change would give incentives to users to adopt new transport 
	protocols such as LEDBAT which try to avoid congestion more than TCP does. Requirements for 
	congestion exposure in the IP header were summarized, one technical solution was presented, and 
	additional use cases for congestion exposure were discussed.
	
    
</p>
<a name="cong_exp_prob_Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgements</h3>

<p>
	A number of people have provided text and comments for this memo. The document is being produced in support of a 
	BoF on Congestion Exposure as discussed extensively on the &lt;re-ecn@ietf.org&gt; mailing list.
    
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="BB-Incentive">[BB-Incentive]</a></td>
<td class="author-text">MIT Communications Futures Program (CFP) and Cambridge University Communications Research Network, &ldquo;<a href="http://cfp.mit.edu/docs/incentive-wp-sept2005.pdf">The Broadband Incentive Problem</a>,&rdquo; September&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="CC-open-research">[CC-open-research]</a></td>
<td class="author-text">Welzl, M., Scharf, M., Briscoe, B., and D. Papadimitriou, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-irtf-iccrg-welzl-congestion-control-open-research-05.txt">Open Research Issues in Internet Congestion Control</a>,&rdquo; draft-irtf-iccrg-welzl-congestion-control-open-research-05 (work in progress), September&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-irtf-iccrg-welzl-congestion-control-open-research-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Cisco-VNI">[Cisco-VNI]</a></td>
<td class="author-text">Cisco Systems, inc., &ldquo;<a href="http://www.cisco.com/en/US/solutions/collateral/ns341/ns525/ns537/ns705/ns827/white_paper_c11-481360.pdf">Cisco Visual Networking Index: Forecast and Methodology, 2008‚Äì2013</a>,&rdquo; June&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="Fairness">[Fairness]</a></td>
<td class="author-text">Briscoe, B., Moncaster, T., and A. Burness, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-briscoe-tsvwg-relax-fairness-01.txt">Problem Statement: Transport Protocols Don't Have To Do Fairness</a>,&rdquo; draft-briscoe-tsvwg-relax-fairness-01 (work in progress), July&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-briscoe-tsvwg-relax-fairness-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="KGao">[KGao]</a></td>
<td class="author-text">Gao, K. and C. Wang, &ldquo;<a href="http://www.cs.cmu.edu/~kgao/course/15744/network.pdf">Incrementally Deployable Prevention to TCP Attack with Misbehaving Receivers</a>,&rdquo; December&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="Kelly">[Kelly]</a></td>
<td class="author-text">Kelly, F., Maulloo, A., and D. Tan, &ldquo;<a href="http://www.statslab.cam.ac.uk/~frank/rate.html">Rate control for communication networks: shadow prices, proportional fairness and stability</a>,&rdquo; Journal of the Operational Research Society&nbsp;49(3) 237--252, 1998 (<a href="http://www.statslab.cam.ac.uk/~frank/rate.html">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="LEDBAT">[LEDBAT]</a></td>
<td class="author-text">Shalunov, S., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-shalunov-ledbat-congestion-00.txt">Low Extra Delay Background Transport (LEDBAT)</a>,&rdquo; draft-shalunov-ledbat-congestion-00 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-shalunov-ledbat-congestion-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="OfCom">[OfCom]</a></td>
<td class="author-text">Ofcom: Office of Communications, &ldquo;<a href="http://www.ofcom.org.uk/research/telecoms/reports/bbspeed_jan09/bbspeed_jan09.pdf">UK Broadband Speeds 2008: Research report</a>,&rdquo; January&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC0970">[RFC0970]</a></td>
<td class="author-text">Nagle, J., &ldquo;<a href="http://tools.ietf.org/html/rfc970">On packet switches with infinite storage</a>,&rdquo; RFC&nbsp;970, December&nbsp;1985 (<a href="http://www.rfc-editor.org/rfc/rfc970.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2309">[RFC2309]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, B.</a>, <a href="mailto:DDC@lcs.mit.edu">Clark, D.</a>, <a href="mailto:Jon.Crowcroft@cs.ucl.ac.uk">Crowcroft, J.</a>, <a href="mailto:bdavie@cisco.com">Davie, B.</a>, <a href="mailto:deering@cisco.com">Deering, S.</a>, <a href="mailto:Estrin@usc.edu">Estrin, D.</a>, <a href="mailto:Floyd@ee.lbl.gov">Floyd, S.</a>, <a href="mailto:Van@ee.lbl.gov">Jacobson, V.</a>, <a href="mailto:Minshall@fiberlane.com">Minshall, G.</a>, <a href="mailto:craig@bbn.com">Partridge, C.</a>, <a href="mailto:LLP@cs.arizona.edu">Peterson, L.</a>, <a href="mailto:KKRama@research.att.com">Ramakrishnan, K.</a>, <a href="mailto:Shenker@parc.xerox.com">Shenker, S.</a>, <a href="mailto:JTW@lcs.mit.edu">Wroclawski, J.</a>, and <a href="mailto:Lixia@cs.ucla.edu">L. Zhang</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2309">Recommendations on Queue Management and Congestion Avoidance in the Internet</a>,&rdquo; RFC&nbsp;2309, April&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2309.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2309.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2309.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3168">[RFC3168]</a></td>
<td class="author-text">Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;<a href="http://tools.ietf.org/html/rfc3168">The Addition of Explicit Congestion Notification (ECN) to IP</a>,&rdquo; RFC&nbsp;3168, September&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3168.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3439">[RFC3439]</a></td>
<td class="author-text">Bush, R. and D. Meyer, &ldquo;<a href="http://tools.ietf.org/html/rfc3439">Some Internet Architectural Guidelines and Philosophy</a>,&rdquo; RFC&nbsp;3439, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3439.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3448">[RFC3448]</a></td>
<td class="author-text">Handley, M., Floyd, S., Padhye, J., and J. Widmer, &ldquo;<a href="http://tools.ietf.org/html/rfc3448">TCP Friendly Rate Control (TFRC): Protocol Specification</a>,&rdquo; RFC&nbsp;3448, January&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3448.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4340">[RFC4340]</a></td>
<td class="author-text">Kohler, E., Handley, M., and S. Floyd, &ldquo;<a href="http://tools.ietf.org/html/rfc4340">Datagram Congestion Control Protocol (DCCP)</a>,&rdquo; RFC&nbsp;4340, March&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4340.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5594">[RFC5594]</a></td>
<td class="author-text">Peterson, J. and A. Cooper, &ldquo;<a href="http://tools.ietf.org/html/rfc5594">Report from the IETF Workshop on Peer-to-Peer (P2P) Infrastructure, May 28, 2008</a>,&rdquo; RFC&nbsp;5594, July&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5594.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Re-fb">[Re-fb]</a></td>
<td class="author-text">Briscoe, B., Jacquet, A., Di Cairano-Gilfedder, C., Salvatori, A., Soppera, A., and M. Koyabe, &ldquo;<a href="http://www.acm.org/sigs/sigcomm/sigcomm2005/techprog.html#session8">Policing Congestion Response in an Internetwork Using Re-Feedback</a>,&rdquo; ACM SIGCOMM CCR&nbsp;35(4)277--288, August&nbsp;2005 (<a href="http://www.cs.ucl.ac.uk/staff/B.Briscoe/projects/2020comms/refb/refb_sigcomm05.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Savage">[Savage]</a></td>
<td class="author-text">Savage, S., Wetherall, D., and T. Anderson, &ldquo;<a href="http://www.cs.ucsd.edu/~savage/papers/CCR99.pdf">TCP Congestion Control with a Misbehaving Receiver</a>,&rdquo; ACM SIGCOMM Computer Communication Review&nbsp;, 1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="TCPcc">[TCPcc]</a></td>
<td class="author-text">Jacobson, V. and M. Karels, &ldquo;<a href="http://ee.lbl.gov/papers/congavoid.pdf">Congestion Avoidance and Control</a>,&rdquo; Proc. ACM SIGCOMM'88 Symposium, Computer Communication Review&nbsp;18(4)314--329, Proc. ACM SIGCOMM'88 Symposium, Computer Communication Review&nbsp;18(4)314--329, August&nbsp;1988 (<a href="ftp://ftp.ee.lbl.gov/papers/congavoid.ps.Z">PS</a>, <a href="http://ee.lbl.gov/papers/congavoid.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XCHOKe">[XCHOKe]</a></td>
<td class="author-text">Chhabra, P., Chuig, S., Goel, A., John, A., Kumar, A., Saran, H., and R. Shorey, &ldquo;<a href="http://www.cc.gatech.edu/~akumar/xchoke.pdf">XCHOKe: Malicious Source Control for Congestion Avoidance at Internet Gateways</a>,&rdquo; Proceedings of IEEE International Conference on Network Protocols (ICNP-02)&nbsp;, November&nbsp;2002 (<a href="http://www.cc.gatech.edu/~akumar/xchoke.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="pBox">[pBox]</a></td>
<td class="author-text">Floyd, S. and K. Fall, &ldquo;<a href="http://www.aciri.org/floyd/end2end-paper.html">Promoting the Use of End-to-End Congestion Control in the Internet</a>,&rdquo; IEEE/ACM Transactions on Networking&nbsp;7(4) 458--472, August&nbsp;1999 (<a href="http://www.icir.org/floyd/papers/collapse.may99.pdf">PDF</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Toby Moncaster (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">BT</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">B54/70, Adastral Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martlesham Heath</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ipswich  IP5 3RE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+44 7918 901170</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:toby.moncaster@bt.com">toby.moncaster@bt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Louise Krug</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">BT</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">B54/77, Adastral Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martlesham Heath</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ipswich  IP5 3RE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:louise.burness@bt.com">louise.burness@bt.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael Menth</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Wuerzburg</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">room B206, Institute of Computer Science</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Am Hubland</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wuerzburg  D-97074</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 931 888 6644</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:menth@informatik.uni-wuerzburg.de">menth@informatik.uni-wuerzburg.de</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jo√£o Taveira Ara√∫jo</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UCL</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">GS206 Department of Electronic and Electrical Engineering</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Torrington Place</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">London  WC1E 7JE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:j.araujo@ee.ucl.ac.uk">j.araujo@ee.ucl.ac.uk</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Steven Blake</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Extreme Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Pamlico Building One, Suite 100</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3306/08 E. NC Hwy 54</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">RTP, NC 27709</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:sblake@extremenetworks.com">sblake@extremenetworks.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Richard Woundy</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">27 Industrial Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chelmsford, MA  01824</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:richard_woundy@cable.comcast.com">richard_woundy@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
</table>
</body></html>
