



Application-Layer Traffic Optimization                            C. Xie
Internet-Draft                                                   W. Wang
Intended status: Informational                             China Telecom
Expires: December 26, 2021                                         Q. Ma
                                                                  Huawei
                                                           June 24, 2021


                     ALTO for Querying LMAP Results
                         draft-xie-alto-lmap-00

Abstract

   Measuring broadband performance on a large scale is important for
   network diagnostics by providers and users, as well as for public
   policy.  The Large-scale Measurement of Broadband Performance (LMAP)
   framework, information model, and protocol have been developed for
   measurement task dissemination, initialization, reporting and
   storing.

   In the context of Large-Scale Measurement of Broadband Performance
   (LMAP), measurement results are currently made available in the
   repository to the public either at the finest granularity level (e.g.
   as a list of results of all individual tests), or in a very high
   level human- readable format.

   This document uses ALTO protocol to provide access to large-scale
   network measurement results, flexible enough to enable querying of
   specific and possibly aggregated data.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 26, 2021.





Xie, et al.             Expires December 26, 2021               [Page 1]

Internet-Draft                ALTO for LMAP                    June 2021


Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Requirements Language . . . . . . . . . . . . . . . . . . . .   3
   3.  Example Use Cases . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Solution Overview . . . . . . . . . . . . . . . . . . . . . .   4
   5.  Advantages of using ALTO  . . . . . . . . . . . . . . . . . .   5
   6.  Proposed ALTO protocol extension  . . . . . . . . . . . . . .   6
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   8.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   7
   Appendix A.  Example LMAP Report  . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   Measuring broadband performance on a large scale is important for
   network diagnostics by providers and users, as well as for public
   policy.  The Large-scale Measurement of Broadband Performance (LMAP)
   protocol [RFC7594] have been developed to gather measurement data and
   to upload such data to dedicated servers.

   Apart from protocols that can be used to gather measurement data and
   to upload such data to dedicated servers, there is also a need for
   protocols to retrieve - potentially aggregated - measurement results
   for a certain network (or part of a network), possibly in an
   automated way.

   Currently, two extremes are being used to provide access to large-
   scale measurement results: One the one hand, highly aggregated
   results for certain networks may be made available in the form of
   PDFs of figures.  Such presentations may be suitable for certain use



Xie, et al.             Expires December 26, 2021               [Page 2]

Internet-Draft                ALTO for LMAP                    June 2021


   cases, but certainly do not allow a user (or entity such as a service
   provider) select specific criteria and then create corresponding
   results.  On the other hand, complete and detailed results may be
   made available in the form of comma-separated-values(csv) files.
   Such data sets typically include the complete results being measured
   on a very fine-grained level and usually imply large file sizes (of
   result data sets).  Such detailed result data sets are very useful
   e.g. for the scientific community because they enable to execute
   complex data analytics algorithms or queries to analyse results.

   Considering the two extremes discussed above, this document uses ALTO
   protocol to provide access to large-scale network measurement
   results.  It must be possible to query for specific, possibly
   aggregated, results in a flexible way.  Otherwise, entities
   interested in measurement results either cannot select what kind of
   result aggregation they desire, or must always fetch large amounts of
   detailed results and process these huge datasets themselves.  The
   need for a flexible mechanism to query for dedicated, partial results
   becomes evident when considering use cases where a service provider
   or a process wants to use certain measurement results in an automated
   fashion.  For instance, consider a video streaming service provider
   which wants to know for a given end-user request the average download
   speed by the end user's access provider in the end user's region
   (e.g. to optimize/parametrize its http adaptive streaming service).
   Or consider a website which is interested in retrieving average
   connectivity speeds for users depending on access provider, region,
   or type of contract (e.g. to be able to adapt web content on a per-
   request basis according to such statistics).

2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119][RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Example Use Cases

   To motivate the usefulness of ALTO for querying LMAP results,
   consider some key use cases defined in [RFC7536]:

   o  Broadband network maintenance and monitoring
      A network operator needs to understand the performance of their
      networks, the performance of the suppliers (downstream and
      upstream networks), the performance of Internet access services,
      and the impact that such performance has on the experience of
      their customers.  Largely, the processes that ISPs operate (which



Xie, et al.             Expires December 26, 2021               [Page 3]

Internet-Draft                ALTO for LMAP                    June 2021


      are based on network measurement) include Identifying, isolating,
      and fixing problems, Design and planning,Understanding the quality
      experienced by customers, Understanding the impact and operation
      of new devices and technology

   o  Broadband performance benchmarking

      A regulator may want to evaluate the performance of the Internet
      access services offered by operators.

      While each jurisdiction responds to distinct consumer, industry,
      and regulatory concerns, much commonality exists in the need to
      produce datasets that can be used to compare multiple Internet
      access service providers, diverse technical solutions, geographic
      and regional distributions, and marketed and provisioned levels
      and combinations of broadband Internet access services.

      Regulators may want to publish performance measures of different
      ISPs as background information for end users.  They may also want
      to track the growth of high-speed broadband deployment, or to
      monitor the traffic management practices of Internet providers.

4.  Solution Overview

   This document addresses how to retrieve potentially aggregated
   network performance measurement results for a certain network.  These
   network performance measurement results are measured and gathered
   using LMAP based measurement system.  LMAP based measurement system
   are comprised of three components: Measurement Agent (MA),Collector
   and Controller.  The MA is located in both ingress node and egress
   node and instructed by the Controller to monitor a particular traffic
   flowing toward a given destination and to send the Report to the
   Collector.The Report contains:

   o  the MA-ID or a Group-ID

   o  the actual Measurement Results, including the time they were
      measured.

   o  the details of the Measurement Task

   o  the Cycle-ID, if one was included in the Instruction.

   o  perhaps the Subscriber's service parameters

   o  the measurement point designation of the MA and, if applicable,
      the MP or other MA, if the information was included in the
      Instruction.



Xie, et al.             Expires December 26, 2021               [Page 4]

Internet-Draft                ALTO for LMAP                    June 2021


   The collector then provides results to the repository in the ALTO
   server and format as ALTO information and expose it to the ALTO
   client, see figure 1.

                     +---------------+
                     |               |         +--------+
     +----------+    |  ALTO Server  |         |        |
     |Controller|    | +----------+  |<-------->  ALTO  |
     +------+---+    | |Collector |  |         | Client |
        |   |        | +------^---+  |         |        |
        |   |        +--------+------+         +--------+
        |   |                 |
        |   +-------------+   |
        |                 |   |
        |                 |   |
   +----V------+       +--V---+----+
   |   Ingress |       |   Egress  |
   |     Node  |       |    Node   |
   |    +--+   |       |    +--+   |
   |    |MA|   |       |    |MA|   |
   |    +--+   |       |    +--+   |
   +-----------+       +-----------+

5.  Advantages of using ALTO

   The ALTO protocol [RFC7285] specifies a very lightweight JSON-based
   encoding for network information and can play an important role in
   querying the measurement results as we argue in Section 2.

   ALTO is designed on two abstractions that are useful here.  First is
   the abstraction of the physical network topology into an aggregated
   but logical topology.  In this abstract topological view, referred to
   as "network map", individual hosts are aggregated into a well defined
   network location identifier called a PID.  Hosts could be aggregated
   into the PID depending on certain identifying characteristics such as
   geographical location, serving ISP, network mask, nominal access
   speed, or any mix of them.  The "network map" abstraction is
   essential for exporting network information in a scalable and
   privacy-preserving way.

   The second abstraction that is useful for LMAP is the notion of a
   "cost map".  Each PID identified in the network map can, in a sense,
   become a vertex in a cost map, and each edge joining adjacent
   vertices can have an associated cost.  The cost can be defined by the
   measurement server and can indicate routing hops, the financial cost
   of sending data over the link, available bandwidth on the link with
   bottled-up links increasingly showing a smaller value, or a user-
   defined cost attribute that allows arbitrary reasoning.



Xie, et al.             Expires December 26, 2021               [Page 5]

Internet-Draft                ALTO for LMAP                    June 2021


   The ALTO protocol defines several basic services based on such
   abstractions, but additional ones can be easily defined as
   extensions.

   There are other advantages to using ALTO as well.  The protocol is
   defined as a set of REST APIs on top of HTTP.  The data carried by
   the protocol is encoded as JSON.  Queries can be performed by clients
   locally after downloading the entire topological and cost maps or
   clients can send filtered requests to the ALTO server such that the
   ALTO server performs the required computation and returns the
   results.  The protocol supports a set of atomic constraints related
   to equality that can be used to filter results and only obtain a set
   of interest to the query.

   Additionally, protocol extensions that could also be useful for the
   LMAP usage scenario (e.g. extensions for incremental updates, for
   asynchronous change notifications and for encoding of multiple costs
   within the same cost map) have been proposed and are currently being
   discussed in the ALTO WG.

6.  Proposed ALTO protocol extension

   ALTO is designed on two abstractions that are useful here.  First is
   the abstraction of the physical network topology into an aggregated
   but logical topology.  The second abstraction that is useful for LMAP
   is the notion of a "cost map".

   To support LMAP measurement results exposure using ALTO protocol,
   cost calendar needs to be investigated to see how cost calendar
   attributes can be used to describe task execution schedule
   configuration.  In addition, some ALTO protocol extensions need to be
   considered

   o  Additional entity property type such as measurement point or
      report measurement point needs to be introduced to indicate where
      these results are measured and who report these measurement
      results.

   o  Additional entity property type such as task name or program name
      needs to be introduced to express what task is performed.

   o  Addition cost metrics need to be introduced to describe what
      performance metrics are collected and what their values are.








Xie, et al.             Expires December 26, 2021               [Page 6]

Internet-Draft                ALTO for LMAP                    June 2021


7.  Security Considerations

   TBD

8.  Acknowledgements

   This work provides approach to get access to large scale broadband
   network performance data and has benefited from the discussions of
   large-scale network measurement data retrieval over the years.

9.  IANA Considerations

   This document has no requests to IANA.

10.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC7285]  Alimi, R., Ed., Penno, R., Ed., Yang, Y., Ed., Kiesel, S.,
              Previdi, S., Roome, W., Shalunov, S., and R. Woundy,
              "Application-Layer Traffic Optimization (ALTO) Protocol",
              RFC 7285, DOI 10.17487/RFC7285, September 2014,
              <https://www.rfc-editor.org/info/rfc7285>.

   [RFC7536]  Linsner, M., Eardley, P., Burbridge, T., and F. Sorensen,
              "Large-Scale Broadband Measurement Use Cases", RFC 7536,
              DOI 10.17487/RFC7536, May 2015,
              <https://www.rfc-editor.org/info/rfc7536>.

   [RFC7594]  Eardley, P., Morton, A., Bagnulo, M., Burbridge, T.,
              Aitken, P., and A. Akhter, "A Framework for Large-Scale
              Measurement of Broadband Performance (LMAP)", RFC 7594,
              DOI 10.17487/RFC7594, September 2015,
              <https://www.rfc-editor.org/info/rfc7594>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

Appendix A.  Example LMAP Report

   The LMAP report below is in XML [W3C.REC-xml-20081126].
      <rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           message-id="1">
        <report xmlns="urn:ietf:params:xml:ns:yang:ietf-lmap-report">



Xie, et al.             Expires December 26, 2021               [Page 7]

Internet-Draft                ALTO for LMAP                    June 2021


          <date>2015-10-28T13:27:42+02:00</date>
          <agent-id>550e8400-e29b-41d4-a716-446655440000</agent-id>
          <result>
            <schedule>S1</schedule>
            <action>A1</action>
            <task>update-ping-targets</task>
            <start>2016-03-21T10:48:55+01:00</start>
            <end>2016-03-21T10:48:57+01:00</end>
            <status>0</status>
          </result>
          <result>
            <schedule>S1</schedule>
            <action>A2</action>
            <task>ping-all-targets</task>
            <start>2016-03-21T10:48:55+01:00</start>
            <end>2016-03-21T10:48:57+01:00</end>
            <status>0</status>
            <table>
              <column>target</column>
              <column>rtt</column>
              <row>
                <value>2001:db8::1</value>
                <value>42</value>
              </row>
              <row>
                <value>2001:db8::2</value>
                <value>24</value>
              </row>
            </table>
          </result>
          <result>
            <schedule>S2</schedule>
            <action>A1</action>
            <task>traceroute</task>
            <option>
              <id>target</id>
              <name>target</name>
              <value>2001:db8::1</value>
            </option>
            <option>
              <id>csv</id>
              <name>--csv</name>
            </option>
            <start>2016-03-21T10:48:55+01:00</start>
            <end>2016-03-21T10:48:57+01:00</end>
            <status>1</status>
            <table>
              <column>hop</column>



Xie, et al.             Expires December 26, 2021               [Page 8]

Internet-Draft                ALTO for LMAP                    June 2021


              <column>ip</column>
              <column>rtt</column>
              <row>
                <value>1</value>
                <value>2001:638:709:5::1</value>
                <value>10.5</value>
              </row>
              <row>
                <value>2</value>
                <value>?</value>
                <value></value>
              </row>
            </table>
          </result>
          <result>
            <schedule>S2</schedule>
            <action>A2</action>
            <task>traceroute</task>
            <option>
              <id>target</id>
              <name>target</name>
              <value>2001:db8::2</value>
            </option>
            <option>
              <id>csv</id>
              <name>--csv</name>
            </option>
            <start>2016-03-21T10:48:55+01:00</start>
            <end>2016-03-21T10:48:57+01:00</end>
            <status>1</status>
            <table>
              <column>hop</column>
              <column>ip</column>
              <column>rtt</column>
              <row>
                <value>1</value>
                <value>2001:638:709:5::1</value>
                <value>11.8</value>
              </row>
              <row>
                <value>2</value>
                <value>?</value>
                <value></value>
              </row>
            </table>
          </result>
        </report>
      </rpc>



Xie, et al.             Expires December 26, 2021               [Page 9]

Internet-Draft                ALTO for LMAP                    June 2021


Authors' Addresses

   Chongfeng Xie
   China Telecom
   Beijing
   China

   Email: xiechf@chinatelecom.cn


   Wei Wang
   China Telecom
   32 Xuanwumen West St, Xicheng District
   Beijing  102209

   Email: wangw36@chinatelecom.cn


   Qiufang Ma
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: maqiufang1@huawei.com


























Xie, et al.             Expires December 26, 2021              [Page 10]
