
Internet Engineering Task Force                                P. Savola
Internet-Draft                                                 CSC/FUNET
Expires: July 30, 2004                                      Jan 30, 2004


      Basic Transition Mechanisms (RFC 2893bis) Implementation and
                    Interoperability Report Template
         draft-savola-v6ops-mechv2-interop-impl-template-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on July 30, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2004). All Rights Reserved.

Abstract

   This memo is a checklist and a template to verify the implementation
   status and the interoperability of implemented features of Basic
   Transition Mechanisms for IPv6 Hosts and Routers (RFC 2893bis), to
   gather the implementation results to advance, and revise if
   necessary, RFC 2893bis to Draft Standard.










Savola                   Expires July 30, 2004                  [Page 1]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


Table of Contents

   1.    Introduction . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.    Part I: Information about the Implementation . . . . . . . .  3
   3.    Part II: Implementantation of the Features . . . . . . . . .  3
   3.1   Support for Dual Stack . . . . . . . . . . . . . . . . . . .  3
   3.1.1 DNS Resolver Support . . . . . . . . . . . . . . . . . . . .  3
   3.2   Configured Tunneling . . . . . . . . . . . . . . . . . . . .  4
   3.2.1 Fragmentation and MTU  . . . . . . . . . . . . . . . . . . .  4
   3.2.2 Hop Limit Handling . . . . . . . . . . . . . . . . . . . . .  5
   3.2.3 ICMPv4 Errors  . . . . . . . . . . . . . . . . . . . . . . .  6
   3.2.4 IPv4 Header Construction . . . . . . . . . . . . . . . . . .  6
   3.2.5 Decapsulation  . . . . . . . . . . . . . . . . . . . . . . .  6
   3.2.6 Link-local Addresses . . . . . . . . . . . . . . . . . . . .  8
   3.2.7 Neighbor Discovery over Tunnels  . . . . . . . . . . . . . .  8
   3.3   Miscellaneous  . . . . . . . . . . . . . . . . . . . . . . .  8
   4.    Part III: Interoperability of the Features . . . . . . . . .  8
   4.1   MTU and Fragmentation  . . . . . . . . . . . . . . . . . . .  8
   4.2   ICMP Error Messages  . . . . . . . . . . . . . . . . . . . .  9
   4.3   Encapsulation and Decapsulation  . . . . . . . . . . . . . .  9
   4.4   Link-local Addresses and Neighbor Discovery  . . . . . . . . 10
   5.    Security Considerations  . . . . . . . . . . . . . . . . . . 10
         Normative References . . . . . . . . . . . . . . . . . . . . 10
         Author's Address . . . . . . . . . . . . . . . . . . . . . . 11
         Intellectual Property and Copyright Statements . . . . . . . 12


























Savola                   Expires July 30, 2004                  [Page 2]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


1. Introduction

   This memo is a checklist and a template to verify the implementation
   status and the interoperability of implemented features of Basic
   Transition Mechanisms for IPv6 Hosts and Routers (RFC 2893bis) [1],
   to gather the implementation results to advance, and revise if
   necessary, RFC 2893bis to Draft Standard [2].

   This memo has three templates: the contact information and basic
   details of an implementation, the implementation status, and the
   interoperability.

   Hints for filling the template are given, when appropriate, in square
   brackets.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" are
   used only to refer to the requirement level specified in RFC 2893bis
   [1].

2. Part I: Information about the Implementation

      Name of the implementation:

      Version number, if appropriate:

      Organization:

      Origin of code: [developed from scratch, adapted, etc.?]

      Information from: [name and email address]


3. Part II: Implementantation of the Features

3.1 Support for Dual Stack

      Is a configuration switch provided to disable either stack? (MAY)

           * IPv4: [YES/NO]
           * IPv6: [YES/NO]

      Does DNS resolver implementation support AAAA records: [YES/NO]


3.1.1 DNS Resolver Support

   (Only filled if AAAA records are supported.)



Savola                   Expires July 30, 2004                  [Page 3]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


      When a query locates both AAAA and A records,

      Does the library filter or order (or provide the capability to do
      so) the results returned to the application to influence the
      selection of IP version? (MAY)

           * filter: [YES/NO]
   		o Is this configurable on the system level? [YES/NO]
           * order: [YES/NO]
   		o Is this configurable on the system level? [YES/NO]

      If the results are ordered, which records are ordered first: (MAY)
      [AAAA/A]

      If the results are filtered or ordered, is application allowed to
      control whether or not filtering takes place? (MUST): [YES/NO]


3.2 Configured Tunneling

      Is configured tunneling supported? [YES/NO]


3.2.1 Fragmentation and MTU

      Does the implementation treat the tunnel as an interface with MTU
      of about 64 kilobytes? (MUST NOT) [YES/NO]

      Does the implementation support static MTU determination? [YES/NO]

      Does the implementation support dynamic MTU determination?
      (OPTIONAL) [YES/NO]

      If yes to both, is it possible to choose between static and
      dynamic MTU on a per-tunnel basis? (SHOULD) [YES/NO]


3.2.1.1 Static MTU

   (Please only fill in if implemented.)

      Is the default MTU be between 1280 and 1480 bytes (inclusive)?
      (MUST) [YES/NO]

      Is the default MTU 1280 bytes? (SHOULD) [YES/NO]






Savola                   Expires July 30, 2004                  [Page 4]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


      Is there a configuration knob to change the MTU value? (MUST if
      not 1280 by default) [YES/NO]

      Is IPv4 Don't Fragment bit set used when encapsulating? (MUST NOT)
      [YES/NO]


3.2.1.2 Dynamic MTU Determination

   (Please only fill in if implemented.)

      oes dynamic MTU determination behave as described in the algorithm
      described in Section 3.2.2? (SHOULD) [YES/NO]

      In particular,

           * Are IPv6 packet too big messages sent if IPv6 packet
             is larger than 1280 and does not fit into the IPv4
             path MTU? [YES/NO]
           * If the IPv6 packet is not larger than 1280 bytes, but
             the IPv4 path MTU is less than equal to 1300, is the
             encapsulation done without setting the Don't Fragment
             bit in the IPv4 header? [YES/NO]
           * If the IPv4 path MTU is larger than 1300, and an IPv6
             packet which does not fit into the IPv4 path MTU is
             to be tunneled, is ICMv6 "packet too big" sent back,
             pointing to the maximum available MTU? [YES/NO]
           * If  the IPv4 path MTU is larger than 1300, and the
             IPv6 packet fits in it, is Don't Fragment bit set in
             the encapsulation? [YES/NO]

      If "no" to any one of these, please elaborate (optional):


3.2.2 Hop Limit Handling

      Is Hop Limit decreased by one only when forwarding the IPv6
      packet, as with any regular datalink? [YES/NO]

      Is it possible to administratively configure IPv4 TTL of a tunnel?
      [YES/NO]

           * If so, is it possible using IP Tunnel MIB? [YES/NO]

      Is the default TTL 255? [YES/NO]






Savola                   Expires July 30, 2004                  [Page 5]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


3.2.3 ICMPv4 Errors

   (Do not respond if only static MTU is supported, and ICMP errors are
   not relayed.)

      Are IPv4 packet too big ICMP errors relayed as IPv6 ICMP packet
      too big errors? [YES/NO]

      Are other kind of ICMP errors relayed as ICMPv6 messages if the
      ICMPv4 messages include enough payload? [YES/NO]

   	* If yes, is Destination Unreachable -
             Address Unreachable code used? [YES/NO]


3.2.4 IPv4 Header Construction

      Is ToS byte, when encapsulating, zero by default? [YES/NO]

           * If not, does the behaviour comply to
      RFC 2983 [3]

              and
      3168 [4]
    section 9.1? [YES/NO]

      Is the source address the outgoing interface address unless
      otherwise configured? [YES/NO]

      Can the source address of be administratively set to something
      else (SHOULD)? [YES/NO]


3.2.5 Decapsulation

      Does the node receive and process tunneled packets which have not
      been addressed to one of its own IPv4 addresses (e.g.
      255.255.255.255 or a directed broadcast address)? (must not) [YES/
      NO]

      Is source address of the packets arriving at the interface
      verified to be the tunnel endpoint configured at this node? (MUST)
      [YES/NO]

           * Are packets failing that check discarded (MUST)? [YES/NO]
           * Are any ICMP messages generated (SHOULD NOT)? [YES/NO]
           * Does the implementation generate ICMP destination
             unreachable packets for unknown protocols? [YES/NO]



Savola                   Expires July 30, 2004                  [Page 6]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


                o If yes, is the same ICMP code used here?
                  (MAY) [YES/NO]

      Is "Strict RPF" -like mechanism implemented for incoming IPv4
      packets? (MAY) [YES/NO]

           * If so, is it disabled by default (RECOMMENDED)? [YES/NO]
           * Are packets failing this check discarded (SHOULD)? [YES/NO]
                o Are any ICMP messages generated by default
                  (SHOULD NOT)? [YES/NO]

      Is the IPv6 MRU on the tunnel interfaces (at least) the maximum of
      1500 bytes and the largest (IPv6) interface MTU on the
      decapsulator? (MUST) [YES/NO]

      Is IPv4 tunnel packet reassembly supported up to (at least) the
      maximum of 1500 bytes and the largest MTU of the IPv4 interfaces?
      (MUST) [YES/NO]

           * Is there a knob to set a larger value? [YES/NO]
           * Is it possible to set a smaller value (MUST NOT)? [YES/NO]

      Are the IPv6 ToS bits modified when decapsulating? [YES/NO]

           * If so, is this conformant with RFC 2983 and
             RFC3168 section 9.1? [YES/NO]

      Is the IPv6 packet length determined from the IPv6 payload length
      (and not e.g., IPv4 length)? (MUST) [YES/NO]

      After decapsulation, are packets with invalid IPv6 source
      addresses discarded (MUST)? [YES/NO]

           * Are all of the following discarded (SHOULD): [YES/NO]
               1. IPv6 multicast addresses (FF00::/8)
               2. The loopback address (::1)
               3. IPv4 compatible addresses (::/96) except ::/128
                 (the unspecified address)
               4. IPv4-mapped IPv6 addresses (::ffff:0:0/96)

           * If not, what's missing:

           * If more are discarded, please elaborate (optional):

      Are the resulting IPv6 packets subjected to a strict RPF -like
      ingress filter (should)? [YES/NO]





Savola                   Expires July 30, 2004                  [Page 7]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


3.2.6 Link-local Addresses

      Does every IPv6 tunnel interface have a link-local address (MUST)?
      [YES/NO]

      What method is used to form the identifier:

            * IPv4 address as described in the document? [YES/NO]
               o If there are multiple addresses on an interface,
                 is just one chosen in some fashion? [YES/NO]

            * If some other mechanism, please describe (optional):


3.2.7 Neighbor Discovery over Tunnels

      Does the implementation at least accept and respond to NUD probes?
      (MUST) [YES/NO]

      Does the implementation send NUD probes? (SHOULD) [YES/NO]

            * If yes, can NUD probes be omitted on router-to-router
              links if a routing protocol tracks bidirectional
              reachability? [YES/NO]

      Are Source or Target Link Layer Address options sent with Neighbor
      Discovery? (SHOULD NOT) [YES/NO]

      Is the content of such options silently ignored? (MUST) [YES/NO]


3.3 Miscellaneous

      Are interfaces to different links treated as separate (e.g., from
      Discovery point-of-view)? (must) [YES/NO]


4. Part III: Interoperability of the Features

   (When describing the tested interoperability of a feature with
   another implementation, please include the name of the implementation
   and date, even, or place (as appropriate).  Abbreviations should be
   used and explained as appropriate.)

4.1 MTU and Fragmentation






Savola                   Expires July 30, 2004                  [Page 8]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


      Static MTU tested against Static MTU:

            * same MTU at each end:
            * different MTUs at each end:
            * a lower IPv6 MTU on the path than
              configured:
   	 * all of these also work with IPv4
              fragmentation:

      Static MTU tested against Dynamic MTU:

            * When Dynamic MTU sends larger packets than
              the static MTU at the other end:
            * all of these also work with IPv4
              fragmentation:
            * all the four branches of the dynamic
              algorithm tested:

      Dynamic MTU tested against Dynamic MTU:

            * all the four branches of the dynamic
              algorithm tested:


4.2 ICMP Error Messages

      Can relay ICMPv4 Packet Too Big errors to ICMPv6 so that the other
      implementations process them:

      Can receive and process ICMPv6 messages generated from ICMPv4
      Packet Too Big messages:

      Do both of these also work for other kind of ICMP errors?


4.3 Encapsulation and Decapsulation

      If implemented, has ToS byte modification been tested:

            * Our encapsulation is understood:
            * We understand what others encapsulate:

      If "Strict RPF" -like mechanism is implemented for IPv4, it has
      been tested to work with:

      IPv4 packet reassembly, up to the largest MTU of IPv4 interfaces,
      has been tested:




Savola                   Expires July 30, 2004                  [Page 9]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


      The implementation can defend its interface address with DAD (the
      unspecified address not filtered out):

      If "Strict RPF" -like mechanism is implemented for IPv6, it has
      been tested to work with:


4.4 Link-local Addresses and Neighbor Discovery

      Link-local addresses are tested to be generated in a unique-enough
      fashion:

      Does the implementation accept and respond to NUD probes:

      Does the implementation send NUD probes which are responded to:

      Does the implementation ignore the content (and not the whole
      message) of received SLLA/TLLA options:

      Does the implementation send SLLA/TLLA options, and the content is
      properly ignored:


5. Security Considerations

   This memo provides a template for checking the implementation and
   interoperability status of a standard, and as such has no security
   issues.

Normative References

   [1]  Nordmark, E. and R. Gilligan, "Basic Transition Mechanisms for
        IPv6 Hosts and Routers", draft-ietf-v6ops-mech-v2-01 (work in
        progress), October 2003.

   [2]  Bradner, S., "The Internet Standards Process -- Revision 3", BCP
        9, RFC 2026, October 1996.

   [3]  Black, D., "Differentiated Services and Tunnels", RFC 2983,
        October 2000.

   [4]  Ramakrishnan, K., Floyd, S. and D. Black, "The Addition of
        Explicit Congestion Notification (ECN) to IP", RFC 3168,
        September 2001.







Savola                   Expires July 30, 2004                 [Page 10]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


Author's Address

   Pekka Savola
   CSC/FUNET

   Espoo
   Finland

   EMail: psavola@funet.fi










































Savola                   Expires July 30, 2004                 [Page 11]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights. Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11. Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard. Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2004). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Savola                   Expires July 30, 2004                 [Page 12]

Internet-Draft    Transmech Implementation and Interoperability Jan 2004


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Savola                   Expires July 30, 2004                 [Page 13]


