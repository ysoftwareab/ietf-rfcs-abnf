


Network Working Group                                        N. Duffield
Internet-Draft                                        AT&T Labs-Research
Intended status: Standards Track                               A. Morton
Expires: January 10, 2010                                      AT&T Labs
                                                              J. Sommers
                                                      Colgate University
                                                            July 9, 2009


                      Burst Loss Metrics for IPPM
               draft-duffield-ippm-burst-loss-metrics-01

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.  This document may contain material
   from IETF Documents or IETF Contributions published or made publicly
   available before November 10, 2008.  The person(s) controlling the
   copyright in some of this material may not have granted the IETF
   Trust the right to allow modifications of such material outside the
   IETF Standards Process.  Without obtaining an adequate license from
   the person(s) controlling the copyright in such materials, this
   document may not be modified outside the IETF Standards Process, and
   derivative works of it may not be created outside the IETF Standards
   Process, except to format it for publication as an RFC or to
   translate it into languages other than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 10, 2010.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the



Duffield, et al.        Expires January 10, 2010                [Page 1]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   The IPPM Working Group has developed a one way packet loss metric
   that measures the loss rate on a Poisson probe stream between two
   hosts.  However, the burst properties of packet loss are required to
   understand the impact of packet loss on applications.  This draft
   defines one-way burst packet loss metrics that express the frequency
   and duration of loss episode, i.e., maximal sets of consecutively
   lost probe packets.  The draft also defines a probing methodology
   under which the burst loss metrics are to be measured.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].



























Duffield, et al.        Expires January 10, 2010                [Page 2]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  5
   2.  Singleton Definition for Type-P-One-way Bi-Packet Loss . . . .  5
     2.1.  Metric Name  . . . . . . . . . . . . . . . . . . . . . . .  5
     2.2.  Metric Parameters  . . . . . . . . . . . . . . . . . . . .  5
     2.3.  Metric Units . . . . . . . . . . . . . . . . . . . . . . .  6
     2.4.  Metric Definition  . . . . . . . . . . . . . . . . . . . .  6
     2.5.  Discussion . . . . . . . . . . . . . . . . . . . . . . . .  6
     2.6.  Methodologies  . . . . . . . . . . . . . . . . . . . . . .  6
     2.7.  Errors and Uncertainties . . . . . . . . . . . . . . . . .  6
     2.8.  Reporting the Metric . . . . . . . . . . . . . . . . . . .  7
   3.  General Definition of samples for
       Type-P-One-way-Bi-Packet-Loss  . . . . . . . . . . . . . . . .  7
     3.1.  Metric Name  . . . . . . . . . . . . . . . . . . . . . . .  7
     3.2.  Metric Parameters  . . . . . . . . . . . . . . . . . . . .  7
     3.3.  Metric Units . . . . . . . . . . . . . . . . . . . . . . .  7
     3.4.  Metric Definition  . . . . . . . . . . . . . . . . . . . .  7
     3.5.  Discussion . . . . . . . . . . . . . . . . . . . . . . . .  8
     3.6.  Methodologies  . . . . . . . . . . . . . . . . . . . . . .  8
     3.7.  Errors and Uncertainties . . . . . . . . . . . . . . . . .  8
     3.8.  Reporting the Metric . . . . . . . . . . . . . . . . . . .  8
   4.  An active probing methodology for Bi-Packet Loss . . . . . . .  8
     4.1.  Metric Name  . . . . . . . . . . . . . . . . . . . . . . .  8
     4.2.  Metric Parameters  . . . . . . . . . . . . . . . . . . . .  8
     4.3.  Metric Units . . . . . . . . . . . . . . . . . . . . . . .  9
     4.4.  Metric Definition  . . . . . . . . . . . . . . . . . . . .  9
     4.5.  Discussion . . . . . . . . . . . . . . . . . . . . . . . .  9
     4.6.  Methodologies  . . . . . . . . . . . . . . . . . . . . . .  9
     4.7.  Errors and Uncertainties . . . . . . . . . . . . . . . . . 10
     4.8.  Reporting the Metric . . . . . . . . . . . . . . . . . . . 10
   5.  Burst Loss Proto-Metrics . . . . . . . . . . . . . . . . . . . 10
     5.1.  Loss-Pair-Counts . . . . . . . . . . . . . . . . . . . . . 10
     5.2.  Bi-Packet-Loss-Ratio . . . . . . . . . . . . . . . . . . . 10
     5.3.  Bi-Packet-Loss-Episode-Duration  . . . . . . . . . . . . . 11
     5.4.  Bi-Packet-Loss-Episode-Frequency . . . . . . . . . . . . . 11
   6.  Burst Loss Metrics derived from Bi-Packet Loss Probing . . . . 11
     6.1.  Geometric Stream: Loss Ratio . . . . . . . . . . . . . . . 12
       6.1.1.  Metric Name  . . . . . . . . . . . . . . . . . . . . . 12
       6.1.2.  Metric Parameters  . . . . . . . . . . . . . . . . . . 12
       6.1.3.  Metric Units . . . . . . . . . . . . . . . . . . . . . 12
       6.1.4.  Metric Definition  . . . . . . . . . . . . . . . . . . 13
       6.1.5.  Discussion . . . . . . . . . . . . . . . . . . . . . . 13
       6.1.6.  Methodologies  . . . . . . . . . . . . . . . . . . . . 13
       6.1.7.  Errors and Uncertainties . . . . . . . . . . . . . . . 13
       6.1.8.  Reporting the Metric . . . . . . . . . . . . . . . . . 13
     6.2.  Geometric Steam: Loss Episode Duration . . . . . . . . . . 13
       6.2.1.  Metric Name  . . . . . . . . . . . . . . . . . . . . . 13



Duffield, et al.        Expires January 10, 2010                [Page 3]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


       6.2.2.  Metric Parameters  . . . . . . . . . . . . . . . . . . 13
       6.2.3.  Metric Units . . . . . . . . . . . . . . . . . . . . . 14
       6.2.4.  Metric Definition  . . . . . . . . . . . . . . . . . . 14
       6.2.5.  Discussion . . . . . . . . . . . . . . . . . . . . . . 14
       6.2.6.  Methodologies  . . . . . . . . . . . . . . . . . . . . 14
       6.2.7.  Errors and Uncertainties . . . . . . . . . . . . . . . 14
       6.2.8.  Reporting the Metric . . . . . . . . . . . . . . . . . 14
     6.3.  Geometric Stream: Loss Episode Frequency . . . . . . . . . 14
       6.3.1.  Metric Name  . . . . . . . . . . . . . . . . . . . . . 14
       6.3.2.  Metric Parameters  . . . . . . . . . . . . . . . . . . 14
       6.3.3.  Metric Units . . . . . . . . . . . . . . . . . . . . . 15
       6.3.4.  Metric Definition  . . . . . . . . . . . . . . . . . . 15
       6.3.5.  Discussion . . . . . . . . . . . . . . . . . . . . . . 15
       6.3.6.  Methodologies  . . . . . . . . . . . . . . . . . . . . 15
       6.3.7.  Errors and Uncertainties . . . . . . . . . . . . . . . 15
       6.3.8.  Reporting the Metric . . . . . . . . . . . . . . . . . 16
   7.  IPR Considerations . . . . . . . . . . . . . . . . . . . . . . 16
   8.  Security Considerations  . . . . . . . . . . . . . . . . . . . 16
   9.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 16
   10. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 17
   11. References . . . . . . . . . . . . . . . . . . . . . . . . . . 17
     11.1. Normative References . . . . . . . . . . . . . . . . . . . 17
     11.2. Informative References . . . . . . . . . . . . . . . . . . 17
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 17



























Duffield, et al.        Expires January 10, 2010                [Page 4]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


1.  Introduction

   This memo describes one-way burst packet loss metrics.  The losses
   experienced by the packet stream can be viewed as occurring in loss
   episodes, i.e., maximal set of consecutive lost packets.  The burst
   loss metrics express the frequency and duration of loss episodes.
   Although the average loss ratio can be expressed in terms of these
   quantities, they go further in characterizing the statistics of the
   patterns of packet loss within the stream of probes.  This is useful
   information in understanding the effect of packet losses on
   application performance, since different applications can have
   different sensitivities to patterns of burst loss, being sensitive
   not only to the long term average loss rate, but how losses are
   distributed in time, i.e., bursty vs. occurring independently.  As an
   example: MPEG video traffic may be sensitive to loss involving the
   I-frame in a group of pictures, but further burst losses of
   sufficiently short duration have no further impact (the damage is
   already done).

   The metrics defined in this memo are "derived metrics", according to
   Section 6.1 of [RFC2330] the IPPM framework.  They are based on the
   singleton loss metric defined in Section 2 of [RFC2680] .

   This is a working draft with several sections still to be completed.


2.   Singleton Definition for Type-P-One-way Bi-Packet Loss

2.1.  Metric Name

   Type-P-One-way-Bi-Packet-Loss

2.2.  Metric Parameters

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T1, a sending time of the first packet

   o  T2, a sending time of the second packet, with T2>T1

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric.

   o  P, the specification of the packet type, over and above the source
      and destination addresses




Duffield, et al.        Expires January 10, 2010                [Page 5]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


2.3.  Metric Units

   A Loss Pair is pair (l1, l2) where each of l1 and l2 is a binary
   value 0 or 1, where 0 signifies successful transmission of a packet
   and 1 signifies loss.

   The metric unit for Type-P-One-way-Bi-Packet-Loss takes is a Loss
   Pair

2.4.  Metric Definition

   1.  "The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (1,1)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst a wire-time T2>T1, and that neither packet was
       received at Dst.

   2.  The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (1,0)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst a wire-time T2>T1, and that the first packet was
       not received at Dst, and the second packet was received at Dst

   3.  The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (0,1)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst a wire-time T2>T1, and that the first packet was
       received at Dst, and the second packet was not received at Dst

   4.  The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (0,0)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst a wire-time T2>T1, and that both packet were
       received at Dst.

2.5.  Discussion

2.6.  Methodologies

   The methodologies related to the Type-P-One-way-Packet-Loss metric in
   Section 2.6 of [RFC2680] are similar for the Type-P-One-way-Bi-
   Packet-Loss metric described above.  In particular, the methodologies
   described in RFC 2680 apply to both packets of the pair.

2.7.  Errors and Uncertainties

   Sources of error for the Type-P-One-way-Packet-Loss metric in Section
   2.7 of [RFC2680] apply to each packet of the pair for the Type-P-One-



Duffield, et al.        Expires January 10, 2010                [Page 6]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   way-Bi-Packet-Loss metric.

2.8.  Reporting the Metric

   Refer to Section 2.8 of [RFC2680].


3.  General Definition of samples for Type-P-One-way-Bi-Packet-Loss

   Given the singleton metric for Type-P-One-way-Bi-Packet-Loss, we now
   define examples of samples of singletons.  The basic idea is as
   follows.  We first specify a set of times T1 < T2 <...<Tn, each of
   which acts as the first time of a packet pair for a single Type-P-
   One-way-Bi-Packet-Loss measurement.  This results is a set of n
   metric values of Type-P-One-way-Bi-Packet-Loss.

3.1.  Metric Name

   Type-P-One-way-Bi-Packet-Loss-Stream

3.2.  Metric Parameters

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  (T11,T12), (T21,T22)....,(Tn1,Tn2) a set of n times of sending
      times for packet pairs, with T11 < T12 <= T21 < T22 <=...<= Tn1 <
      Tn2

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric.

   o  P, the specification of the packet type, over and above the source
      and destination address

3.3.  Metric Units

   A set L1,L2,...,Ln of loss pairs

3.4.  Metric Definition

   Each loss pair Li for i-1,....n is the Type-P-One-way-Bi-Packet-Loss
   with parameters (Src, Dst, Ti1, Ti2, Fi, P) where Fi is the
   restriction of the selection function F to the packet pair at time
   Ti1, Ti2.





Duffield, et al.        Expires January 10, 2010                [Page 7]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


3.5.  Discussion

   The metric definition of Type-P-One-way-Bi-Packet-Loss-Stream is
   sufficiently general to describe the case where packets are sampled
   from a pre-existing stream.  This is useful in the case that there is
   a general purpose measurement stream setup between two hosts, and we
   which to select a substream from it for the purposes of burst loss
   measurement.  In the next section we specialize this somewhat to more
   concretely describe a purpose built packet stream for burst loss
   measurement.

3.6.  Methodologies

3.7.  Errors and Uncertainties

3.8.  Reporting the Metric


4.  An active probing methodology for Bi-Packet Loss

   This section specializes the preceding section for an active probing
   methodology.  The basic idea is a follows.  We set up a sequence of
   evenly spaced times T1 < T2 < ... < Tn.  Each time Ti is potentially
   the first packet time for a packet pair measurement.  We make an
   independent random decision at each time, whether to initiate such a
   measurement.  Hence the interval count between successive times at
   which a pair is initiated follows a geometric distribution.  We also
   specify that the spacing between successive times Ti is the same as
   the spacing between packets in a given pair.  Thus if pairs happen to
   be launched at the successive times Ti T(i+1), the second packet of
   the first pair is actually used as the first packet of the second
   pair.

4.1.  Metric Name

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream

4.2.  Metric Parameters

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [RFC3432] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and Ti+1




Duffield, et al.        Expires January 10, 2010                [Page 8]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   o  n, a count of potential measurement instants

   o  q, a launch probability

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric.

   o  P, the specification of the packet type, over and above the source
      and destination address

4.3.  Metric Units

   A set of Loss Pairs L1, L2, ..., Lm for some m <= n

4.4.  Metric Definition

   for each i = 0, 1, ..., n-1 we form the potential measurement time Ti
   = T + i * d.  With probability q, a packet pair measurement is
   launched at Ti, resulting in a Type-P-One-way-Bi-Packet-Loss with
   parameters (Src, Dst, Ti, Ti+1, Fi, P) where Fi is the restriction of
   the selection function F to the packet pair at times Ti, Ti+1.  L1,
   L2,...Lm are the resulting Loss Pairs; m can be less than n since not
   all time Ti have an associated measurement.

4.5.  Discussion

   The above definition of Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream is equivalent to using Type-P-One-way-Bi-Packet-Loss-Stream
   with an appropriate statistical definition of the selection function
   F.

4.6.  Methodologies

   The methodologies follow from:

   o  the specific time T0, from which all successive Ti follow, and

   o  the specific time spacing, and

   o  the methodologies discussion given above for the singleton Type-P-
      One-way-Bi-Packet-Loss metric.

   The issue of choosing an appropriate time spacing (e.g., one that is
   matched to expected characteristics of loss episodes) is outside the
   scope of this document.

   Note that as with any active measurement methodology, consideration
   must be made to handle out-of-order arrival of packets; see also



Duffield, et al.        Expires January 10, 2010                [Page 9]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   Section 3.6. of [RFC2680].

4.7.  Errors and Uncertainties

   In addition to sources of errors and uncertainties related to
   methodologies for measuring the singleton Type-P-One-way-Bi-Packet-
   Loss metric, a key source of error when emitting packets for Bi-
   Packet Loss relates to resource limits on the host used to send the
   packets.  In particular, the choice of T0, the choice of the time
   spacing, and the choice of the launch probability results in a
   schedule for sending packets.  Insufficient CPU resources on the
   sending host may result in an inability to send packets according to
   schedule.  Note that the choice of time spacing directly affects the
   ability of the host CPU to meet the required schedule (e.g., consider
   a 100 microsecond spacing versus a 100 millisecond spacing).

   For other considerations, refer to Section 3.7.  [RFC2680].

4.8.  Reporting the Metric

   Refer to Section 3.8. of [RFC2680].


5.  Burst Loss Proto-Metrics

   This section describes four generic proto-metric quantities
   associated with an arbitary set of loss pairs.  These are the Loss-
   Pair-Counts, Bi-Packet-Loss-Ratio, Bi-Packet-Loss-Episode-Duration,
   Bi-Packet-Loss-Episode-Frequency.  Specific burst loss metrics can
   then be constructed when these proto metrics take as their input,
   sets of loss pairs samples generated by the Type-P-One-way-Bi-Packet-
   Loss-Stream and Type-P-One-way-Bi-Packet-Loss-Geometric Stream.  The
   second of these is described in Section 4.

5.1.  Loss-Pair-Counts

   Loss-Pair-Counts are the absolute frequencies of the 4 types of loss
   pair outcome in a sample.  More precisely, the Loss-Pair-Counts
   associated with a set of loss pairs L1,,,,Ln are the numbers N(i,j)
   of such loss pairs that take each possible value (i,j) in the set (
   (0,0), (0,1), (1,0), (1,1)).

5.2.  Bi-Packet-Loss-Ratio

   The Bi-Packet-loss-ratio associated with a set of n loss pairs
   L1,,,,Ln is defined in terms of their Loss-Pair-Counts by the
   quantity (N(1,0) +N(1,1))/n




Duffield, et al.        Expires January 10, 2010               [Page 10]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   Note this is formally equivalent to the loss metric Type-P-One-way-
   Packet-Loss-Average from[RFC2680] since it averages single packet
   losses.

5.3.  Bi-Packet-Loss-Episode-Duration

   The Bi-Packet-Loss-Episode-Duration associated with a set of n loss
   pairs L1,,,,Ln is defined in terms of their Loss-Pair-Counts in the
   following cases:

   o  2*(N(0,1) + N(1,0) + N(1,1)/ (N(0,1)+N(1,0)) - 1 if N(0,1) +
      N(1,0) >1

   o  0 if N(0,1) + N(1,0) + N(1,1) = 0 (no probe packets lost)

   o  Undefined if N(0,1) + N(1,0) + N(0,0) = 0 (all probe packets lost)

   Note N(0,1) + N(1,0) is zero if there are no transitions between loss
   and no-loss outcomes.

5.4.  Bi-Packet-Loss-Episode-Frequency

   The Bi-Packet-Loss-Episode-Frequency associated with a set of n loss
   pairs L1,,,,Ln is defined in terms of their Loss-Pair-Counts as Bi-
   Packet-Loss-Ratio / Bi-Packet-Loss-Episode-Duration, when this can be
   defined, specifically, it is:

   o  (N(1,0)+N(1,1)) * (N(0,1)+N(1,0)) / (2*N(1,1)+N(0,1)+N(1,0) ) / n
      if N(0,1)+N(0,1) > 0

   o  0 if N(0,1)+N(1,0) +N(1,1) = 0 (no probe packets lost)

   o  1 if N(0,1) +N(1,0) +N(0,0) = 0 (all probe packets lost)


6.  Burst Loss Metrics derived from Bi-Packet Loss Probing

   Metrics for the frequency and duration of loss episodes are now
   defined as functions of set of n loss pairs L1,....,Ln.  Although a
   loss episode is defined as a maximal set of successive lost packets,
   the burst loss metrics are not defined directly in terms of the
   sequential patterns of packet loss exhibited by loss pairs.  This is
   because samples, including Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream, generally do not report all lost packets in each episode.
   Instead, the metrics are defined as functions of the Loss-Pair-Counts
   of the sample, for reasons that are now described.

   Consider an idealized Type-P-One-way-Bi-Packet-Loss-Geometric-Stream



Duffield, et al.        Expires January 10, 2010               [Page 11]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   sample in which the launch probability q =1.  It is shown in [SBDR08]
   that the average number of packets in a loss episode of this ideal
   sample is exactly the Bi-Packet-Loss-Episode-Duration derived from
   its set of loss pairs.  Note this computation makes no reference to
   the position of lost packet in the sequence of probes.

   A general Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with
   launch probability q < 1, independently samples, with probability q,
   each loss pair of an idealized sample.  On average, the Loss-Pair-
   Counts (if normalized by the total number of pairs) will be the same
   as in the idealized sample.  The burst loss metrics in the general
   case are thus estimators of those for the idealized case; the
   statistical properties of this estimation, including a derivation of
   the estimation variance, is provided in [SBDR08].

6.1.  Geometric Stream: Loss Ratio

6.1.1.  Metric Name

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio

6.1.2.  Metric Parameters

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [RFC3432] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and Ti+1

   o  n, a count of potential measurement instants

   o  q, a launch probability

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric.

   o  P, the specification of the packet type, over and above the source
      and destination address

6.1.3.  Metric Units

   A number in the interval [0,1]






Duffield, et al.        Expires January 10, 2010               [Page 12]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


6.1.4.  Metric Definition

   The result obtained by computing the Bi-Packet-Loss-Ratio over a
   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with the metric
   parameters.

6.1.5.  Discussion

6.1.6.  Methodologies

   Refer to Section 4.6

6.1.7.  Errors and Uncertainties

   Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled in
   general (when the lauch probability q <1) the metrics described in
   this Section can be regarded as statistical estimators of the
   corresponding idealized version corresponding to q = 1.  Estimation
   variance as it applies to Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream-Loss-Ratio is described in [SBDR08].

   For other issues refer to Section 4.7

6.1.8.  Reporting the Metric

   Refer to Section 4.8

6.2.  Geometric Steam: Loss Episode Duration

6.2.1.  Metric Name

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration

6.2.2.  Metric Parameters

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [RFC3432] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and Ti+1

   o  n, a count of potential measurement instants

   o  q, a launch probability




Duffield, et al.        Expires January 10, 2010               [Page 13]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric.

   o  P, the specification of the packet type, over and above the source
      and destination address

6.2.3.  Metric Units

   A non-negative number of seconds.

6.2.4.  Metric Definition

   The result obtained by computing the Bi-Packet-Loss-Episode-Duration
   over a Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with the
   metric parameters.

6.2.5.  Discussion

6.2.6.  Methodologies

   Refer to Section 4.6

6.2.7.  Errors and Uncertainties

   Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled in
   general (when the lauch probability q <1) the metrics described in
   this Section can be regarded as statistical estimators of the
   corresponding idealized version corresponding to q = 1.  Estimation
   variance as it applies to Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream-Episode-Duration is described in [SBDR08].

   For other issues refer to Section 4.7

6.2.8.  Reporting the Metric

   Refer to Section 4.8

6.3.  Geometric Stream: Loss Episode Frequency

6.3.1.  Metric Name

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Frequency

6.3.2.  Metric Parameters

   o  Src, the IP address of a source host





Duffield, et al.        Expires January 10, 2010               [Page 14]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [RFC3432] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and Ti+1

   o  n, a count of potential measurement instants

   o  q, a launch probability

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric.

   o  P, the specification of the packet type, over and above the source
      and destination address

6.3.3.  Metric Units

   A number in the interval [0,1]

6.3.4.  Metric Definition

   The result obtained by computing the Bi-Packet-Loss-Episode-Frequency
   over a Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with the
   metric parameters

   .

6.3.5.  Discussion

6.3.6.  Methodologies

   Refer toSection 4.6

6.3.7.  Errors and Uncertainties

   Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled in
   general (when the lauch probability q <1) the metrics described in
   this Section can be regarded as statistical estimators of the
   corresponding idealized version corresponding to q = 1.  Estimation
   variance as it applies to Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream-Episode-Frequency is described in [SBDR08].

   For other issues refer to Section 4.7






Duffield, et al.        Expires January 10, 2010               [Page 15]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


6.3.8.  Reporting the Metric

   Refer to Section 4.8


7.  IPR Considerations

   IPR disclosures concerning some of the material covered in this draft
   has been made to the IETF: see https://datatracker.ietf.org/ipr/1009/
   , https://datatracker.ietf.org/ipr/1010/ , and
   https://datatracker.ietf.org/ipr/1126/


8.  Security Considerations

   Conducting Internet measurements raises both security and privacy
   concerns.  This memo does not specify an implementation of the
   metrics, so it does not directly affect the security of the Internet
   nor of applications which run on the Internet.
   However,implementations of these metrics must be mindful of security
   and privacy concerns.

   There are two types of security concerns: potential harm caused by
   the measurements, and potential harm to the measurements.  The
   measurements could cause harm because they are active, and inject
   packets into the network.  The measurement parameters MUST be
   carefully selected so that the measurements inject trivial amounts of
   additional traffic into the networks they measure.  If they inject
   "too much" traffic, they can skew the results of the measurement, and
   in extreme cases cause congestion and denial of service.  The
   measurements themselves could be harmed by routers giving measurement
   traffic a different priority than "normal" traffic, or by an attacker
   injecting artificial measurement traffic.  If routers can recognize
   measurement traffic and treat it separately, the measurements may not
   reflect actual user traffic.  If an attacker injects artificial
   traffic that is accepted as legitimate, the loss rate will be
   artificially lowered.  Therefore, the measurement methodologies
   SHOULD include appropriate techniques to reduce the probability that
   measurement traffic can be distinguished from "normal" traffic.
   Authentication techniques, such as digital signatures, may be used
   where appropriate to guard against injected traffic attacks.  The
   privacy concerns of network measurement are limited by the active
   measurements described in this memo: they involve no release of user
   data.


9.  IANA Considerations




Duffield, et al.        Expires January 10, 2010               [Page 16]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


10.  Acknowledgements


11.  References

11.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2680]  Almes, G., Kalidindi, S., and M. Zekauskas, "A One-way
              Packet Loss Metric for IPPM", RFC 2680, September 1999.

   [RFC3393]  Demichelis, C. and P. Chimento, "IP Packet Delay Variation
              Metric for IP Performance Metrics (IPPM)", RFC 3393,
              November 2002.

   [RFC3432]  Raisanen, V., Grotefeld, G., and A. Morton, "Network
              performance measurement with periodic streams", RFC 3432,
              November 2002.

   [RFC3611]  Friedman, T., Caceres, R., and A. Clark, "RTP Control
              Protocol Extended Reports (RTCP XR)", RFC 3611,
              November 2003.

11.2.  Informative References

   [RFC2330]  Paxson, V., Almes, G., Mahdavi, J., and M. Mathis,
              "Framework for IP Performance Metrics", RFC 2330,
              May 1998.

   [RFC3357]  Koodli, R. and R. Ravikanth, "One-way Loss Pattern Sample
              Metrics", RFC 3357, August 2002.

   [SBDR08]   IEEE/ACM Transactions on Networking, 16(2): 307-320, "A
              Geometric Approach to Improving Active Packet Loss
              Measurement", 2008.














Duffield, et al.        Expires January 10, 2010               [Page 17]

Internet-Draft         Burst Loss Metrics for IPPM             July 2009


Authors' Addresses

   Nick Duffield
   AT&T Labs-Research
   180 Park Avenue
   Florham Park, NJ  07932
   USA

   Phone: +1 973 360 8726
   Fax:
   Email: duffield@research.att.com
   URI:   http://www.research.att.com/info/duffield


   Al Morton
   AT&T Labs
   200 Laurel Avenue South
   Middletown,, NJ  07748
   USA

   Phone: +1 732 420 1571
   Fax:   +1 732 368 1192
   Email: acmorton@att.com
   URI:   http://home.comcast.net/~acmacm/


   Joel Sommers
   Colgate University
   304 McGregory Hall
   Hamilton, NY  13346
   USA

   Phone: +1 315 228 7587
   Fax:
   Email: jsommers@colgate.edu
   URI:   http://cs.colgate.edu/faculty/jsommers















Duffield, et al.        Expires January 10, 2010               [Page 18]


