<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>SPPP Over SOAP and HTTP</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 SOAP Features and Protocol Layering">
<link href="#rfc.section.4" rel="Chapter" title="4 HTTP(s) Features and SPPP">
<link href="#rfc.section.5" rel="Chapter" title="5 Authentication and Session Management">
<link href="#rfc.section.6" rel="Chapter" title="6 Base Protocol Data Structures">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Request and Response Structures">
<link href="#rfc.section.6.1.1" rel="Chapter" title="6.1.1 Update Request and Response Structures">
<link href="#rfc.section.6.1.1.1" rel="Chapter" title="6.1.1.1 Update Request">
<link href="#rfc.section.6.1.1.2" rel="Chapter" title="6.1.1.2 Update Response">
<link href="#rfc.section.6.1.2" rel="Chapter" title="6.1.2 Query Request and Response Structures">
<link href="#rfc.section.6.1.2.1" rel="Chapter" title="6.1.2.1 Query Request">
<link href="#rfc.section.6.1.2.2" rel="Chapter" title="6.1.2.2 Query Response">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Response Codes and Messages">
<link href="#rfc.section.7" rel="Chapter" title="7 Protocol Operations">
<link href="#rfc.section.7.1" rel="Chapter" title="7.1 Add Destination Group Operation">
<link href="#rfc.section.7.2" rel="Chapter" title="7.2 Get Destination Groups Operation">
<link href="#rfc.section.7.3" rel="Chapter" title="7.3 Add Public Identifier Operation">
<link href="#rfc.section.7.4" rel="Chapter" title="7.4 Get Public Identifiers Operation">
<link href="#rfc.section.7.5" rel="Chapter" title="7.5 Add Route Group Operation">
<link href="#rfc.section.7.6" rel="Chapter" title="7.6 Get Route Groups Operation">
<link href="#rfc.section.7.7" rel="Chapter" title="7.7 Add Route Record Operation">
<link href="#rfc.section.7.8" rel="Chapter" title="7.8 Get Route Records Operation">
<link href="#rfc.section.7.9" rel="Chapter" title="7.9 Add Route Group Offer Operation">
<link href="#rfc.section.7.10" rel="Chapter" title="7.10 Accept Route Group Offer Operation">
<link href="#rfc.section.7.11" rel="Chapter" title="7.11 Reject Route Group Offer Operation">
<link href="#rfc.section.7.12" rel="Chapter" title="7.12 Get Route Group Offers Operation">
<link href="#rfc.section.7.13" rel="Chapter" title="7.13 Add Egress Route Operation">
<link href="#rfc.section.7.14" rel="Chapter" title="7.14 Get Egress Routes Operation">
<link href="#rfc.section.7.15" rel="Chapter" title="7.15 Delete Operation">
<link href="#rfc.section.8" rel="Chapter" title="8 SPPP SOAP WSDL Definition">
<link href="#rfc.section.9" rel="Chapter" title="9 SPPP SOAP Examples">
<link href="#rfc.section.10" rel="Chapter" title="10 Security Considerations">
<link href="#rfc.section.10.1" rel="Chapter" title="10.1 Integrity, Privacy, and Authentication">
<link href="#rfc.section.10.2" rel="Chapter" title="10.2 Vulnerabilities">
<link href="#rfc.section.10.3" rel="Chapter" title="10.3 Deployment Environment Specifics">
<link href="#rfc.section.11" rel="Chapter" title="11 IANA Considerations">
<link href="#rfc.section.12" rel="Chapter" title="12 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="13 References">
<link href="#rfc.references.1" rel="Chapter" title="13.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="13.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="The Session Peering Provisioning Protocol (SPPP) is an XML protocol that exists to enable the provisioning of session establishment data into Session Data Registries or SIP Service Provider data stores.  Sending XML data structures over Simple Object Access Protocol (SOAP) and HTTP(s) is a widely used, de-facto standard for messaging between elements of provisioning systems.  Therefore the combination of SOAP and HTTP(s) as a transport for SPPP is a natural fit.  The obvious benefits include leveraging existing industry expertise, leveraging existing standards, and a higher probability that existing provisioning systems can be more easily integrated with this protocol.  This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).  " />
  <meta name="description" content="The Session Peering Provisioning Protocol (SPPP) is an XML protocol that exists to enable the provisioning of session establishment data into Session Data Registries or SIP Service Provider data stores.  Sending XML data structures over Simple Object Access Protocol (SOAP) and HTTP(s) is a widely used, de-facto standard for messaging between elements of provisioning systems.  Therefore the combination of SOAP and HTTP(s) as a transport for SPPP is a natural fit.  The obvious benefits include leveraging existing industry expertise, leveraging existing standards, and a higher probability that existing provisioning systems can be more easily integrated with this protocol.  This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">DRINKS</td>
<td class="right">K.C. Cartwright</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">TNS</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">October 31, 2011</td>
</tr>
<tr>
<td class="left">Expires: May 03, 2012</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">SPPP Over SOAP and HTTP<br />
  <span class="filename">draft-ietf-drinks-sppp-over-soap-06</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>The Session Peering Provisioning Protocol (SPPP) is an XML protocol that exists to enable the provisioning of session establishment data into Session Data Registries or SIP Service Provider data stores.  Sending XML data structures over Simple Object Access Protocol (SOAP) and HTTP(s) is a widely used, de-facto standard for messaging between elements of provisioning systems.  Therefore the combination of SOAP and HTTP(s) as a transport for SPPP is a natural fit.  The obvious benefits include leveraging existing industry expertise, leveraging existing standards, and a higher probability that existing provisioning systems can be more easily integrated with this protocol.  This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 03, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">SOAP Features and Protocol Layering</a>
</li>
<li>4.   <a href="#rfc.section.4">HTTP(s) Features and SPPP</a>
</li>
<li>5.   <a href="#rfc.section.5">Authentication and Session Management</a>
</li>
<li>6.   <a href="#rfc.section.6">Base Protocol Data Structures</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Request and Response Structures</a>
</li>
<li>6.1.1.   <a href="#rfc.section.6.1.1">Update Request and Response Structures</a>
</li>
<li>6.1.1.1.   <a href="#rfc.section.6.1.1.1">Update Request</a>
</li>
<li>6.1.1.2.   <a href="#rfc.section.6.1.1.2">Update Response</a>
</li>
<li>6.1.2.   <a href="#rfc.section.6.1.2">Query Request and Response Structures</a>
</li>
<li>6.1.2.1.   <a href="#rfc.section.6.1.2.1">Query Request</a>
</li>
<li>6.1.2.2.   <a href="#rfc.section.6.1.2.2">Query Response</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Response Codes and Messages</a>
</li>
<li>7.   <a href="#rfc.section.7">Protocol Operations</a>
</li>
<li>7.1.   <a href="#rfc.section.7.1">Add Destination Group Operation</a>
</li>
<li>7.2.   <a href="#rfc.section.7.2">Get Destination Groups Operation</a>
</li>
<li>7.3.   <a href="#rfc.section.7.3">Add Public Identifier Operation</a>
</li>
<li>7.4.   <a href="#rfc.section.7.4">Get Public Identifiers Operation</a>
</li>
<li>7.5.   <a href="#rfc.section.7.5">Add Route Group Operation</a>
</li>
<li>7.6.   <a href="#rfc.section.7.6">Get Route Groups Operation</a>
</li>
<li>7.7.   <a href="#rfc.section.7.7">Add Route Record Operation</a>
</li>
<li>7.8.   <a href="#rfc.section.7.8">Get Route Records Operation</a>
</li>
<li>7.9.   <a href="#rfc.section.7.9">Add Route Group Offer Operation</a>
</li>
<li>7.10.   <a href="#rfc.section.7.10">Accept Route Group Offer Operation</a>
</li>
<li>7.11.   <a href="#rfc.section.7.11">Reject Route Group Offer Operation</a>
</li>
<li>7.12.   <a href="#rfc.section.7.12">Get Route Group Offers Operation</a>
</li>
<li>7.13.   <a href="#rfc.section.7.13">Add Egress Route Operation</a>
</li>
<li>7.14.   <a href="#rfc.section.7.14">Get Egress Routes Operation</a>
</li>
<li>7.15.   <a href="#rfc.section.7.15">Delete Operation</a>
</li>
<li>8.   <a href="#rfc.section.8">SPPP SOAP WSDL Definition</a>
</li>
<li>9.   <a href="#rfc.section.9">SPPP SOAP Examples</a>
</li>
<li>10.   <a href="#rfc.section.10">Security Considerations</a>
</li>
<li>10.1.   <a href="#rfc.section.10.1">Integrity, Privacy, and Authentication</a>
</li>
<li>10.2.   <a href="#rfc.section.10.2">Vulnerabilities</a>
</li>
<li>10.3.   <a href="#rfc.section.10.3">Deployment Environment Specifics</a>
</li>
<li>11.   <a href="#rfc.section.11">IANA Considerations</a>
</li>
<li>12.   <a href="#rfc.section.12">Acknowledgements</a>
</li>
<li>13.   <a href="#rfc.references">References</a>
</li>
<li>13.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>13.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">SPPP, defined in <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a>, is best supported by a transport and messaging infrastructure that is connection oriented, request-response oriented, easily secured, supports propagation through firewalls in a standard fashion, and that is easily integrated into back-office systems.  This is due to the fact that the client side of SPPP is likely to be integrated with organizations' operational support systems that facilitate transactional provisioning of user addresses and their associated session establishment data.  While the server side of SPPP is likely to reside in a separate organization's network, resulting the SPPP provisioning transactions traversing the Internet as they are propagated from the SPPP client to the SPPP server.  Given the current state of industry practice and technologies, SOAP and HTTP(s) are well suited for this type of environment. This document describes the specification for transporting SPPP XML structures over SOAP and HTTP(s).</p>
<p id="rfc.section.1.p.2">The specification in this document for transporting SPPP XML structures over SOAP and HTTP(s) is primarily comprised of five subjects:  (1) a description of any applicable SOAP features, (2) any applicable HTTP features, (3) security considerations, and perhaps most importantly, (5) the Web Services Description Language (WSDL) definition for SPPP over SOAP.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#Terminology" id="Terminology">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#SOAPFeatures" id="SOAPFeatures">SOAP Features and Protocol Layering</a>
</h1>
<p id="rfc.section.3.p.1">The list of SOAP features that are explicitly used and required for SPPP are limited.  Most SOAP features are not necessary for SPPP.  SPPP primarily uses SOAP simply as a standard message envelope technology.  The SOAP message envelope is comprised of the SOAP header and body.  As described in the SOAP specifications, the SOAP header can contain optional, application specific, information about the message.  The SOAP body contains the SPPP message itself, whose structure is defined by the combination of one of the WSDL operations defined in this document and the SPPP XML data structures defined in the SPPP protocol document.  SPPP does not rely on any data elements in the SOAP header.  All relevant data elements are defined in the SPPP XML schema described in <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a> and the SPPP WSDL specification described in this document.</p>
<p id="rfc.section.3.p.2">WSDL is a widely standardized and adopted technology for defining the top-level structures of the messages that are transported within the body of a SOAP message.  The WSDL definition for the SPPP SOAP messages is defined later in this document, which imports by reference the XML data types contained in the SPPP schema.  The IANA registry where the SPPP schema resides is described in The IETF XML Registry <a href="#RFC3688">[RFC3688]</a>.</p>
<p id="rfc.section.3.p.3">There are multiple structural styles that SOAP WSDL allows.  But the best practice for this type of application is what is sometimes referred to as the Document Literal Wrapped style of designing SOAP WSDL.  This style is generally regarded as an optimal approach that enhances maintainability, comprehension, portability, and, to a certain extent, performance.  It is characterized by setting the soapAction binding style as _document_, the soapAction encoding style as _literal_, and then defining the SOAP messages to simply contain a single data element that _wraps_ that is a data structure containing all the required input or output data elements. The figure below illustrates this high level technical structure as conceptual layers 3 through 6.</p>
<div id="#rfc.figure.1"></div>
<div id="#TechnicalStructureofSPPP"></div>
<pre>
        
                              +-------------+
                          (1) |  Transport  |Example:
                              |   Protocol  |  TCP, TLS, BEEP, etc.
                              +-------------+
                                     |
                                     V
                              +-------------+
                          (2) |   Message   |Example:
                              |   Envelope  | HTTP, SOAP, None, etc.
                              +-------------+
                                     |
                                     V
                             +--------------+
                      +------|    SOAP      |-----+
                     |   (3) |  Operation   |     |
            Contains |       +--------------+     | Contains
                     |          Example:          |
                     V      submitUpdateRqst      V
               +--------------+           +-------------+
               |SOAP Request  |           |SOAP Response|
       Example:|  Message     | (4)       |   Message   | Example:
 spppUpdate    | (Operation   |           | (Operation  |spppUpdate
    RequestMsg |   Input)     |           |  Output)    |   ResponseMsg
               +--------------+           +-------------+
                        |                       |
               Contains |                       | Contains
                        |                       |
                        V                       V
              +---------------+         +---------------+
      Example:|    Wrapped    | (5)     |  Wrapped      | Example:
  spppUpdate  |Request Object |         |Response Object| spppUpdate
      Request +---------------+         +---------------+     Response
                        |                       |
               Contains |                       | Contains
                        |                       |
                        V                       V
                +----------+             +-----------+
     Example:   |  SPPP    |             |   SPPP    |
     AddRteGrp  |XML Types |    (6)      | XML Types |
      RqstType  +----------+             +-----------+
        </pre>
<p id="rfc.section.3.p.4">The SOAP operations supported by SPPP are normatively defined later in this document.  Each SOAP operation defines a request/input message and a response/output message.  Each such request and response message then contains a single object that wraps the SPPP XML data types that comprise the inputs and the outputs, respectively, of the SOAP operation.</p>
<p id="rfc.section.3.p.5">SOAP faults are not used by the SPPP SOAP mapping.  All SPPP success and error responses are specified within the SPPP protocol specification <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a>.  However, if a SOAP fault were to occur, perhaps due to failures in the SOAP message handling layer of a SOAP library, the client application should capture and handle the fault.  Specifics on how to handle such SOAP faults, if they should occur, will be specific to the chosen SOAP implementation. </p>
<p id="rfc.section.3.p.6">SOAP 1.2 <a href="#SOAPREF">[SOAPREF]</a> or higher and WSDL 1.1 <a href="#WSDLREF">[WSDLREF]</a> or higher SHOULD be used.</p>
<p id="rfc.section.3.p.7">SPPP is a request/reply protocol that allows a client application to submit provisioning data and query requests to a server. The SPPP data structures are designed to be protocol agnostic. Concerns regarding encryption, non-repudiation, and authentication are beyond the scope of this document. For more details, please refer to the Transport Protocol Requirements section. </p>
<p id="rfc.section.3.p.8">As illustrated in the previous diagram, SPPP can be viewed as a set of layers that collectively define the structure of an SPPP request and response. Layers 1 and 2 represent the transport, envelope, and authentication technologies. This document defines layers 3, 4, and 5 below. </p>
<p></p>

<ol>
<li>Layer 1:  The transport protocol layer represents the communication mechanism between the client and server. SPPP can be layered over any transport protocol that provides a set of basic requirements defined in the Transport Protocol Requirements section. But this document specifies the required mechanism.</li>
<li>Layer 2:  The message envelope layer is optional, but can provide features that are above the transport technology layer but below the application messaging layer.  Technologies such as HTTP and SOAP are examples of messaging envelope technologies. This document specifies the required envelope technology.</li>
<li>Layers 3,4,5,6:  The operation and message layers provides an envelope-independent and transport-independent wrapper for the SPPP data model objects that are being acted on (created, modified, queried). </li>
</ol>

<p> </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#HTTPFeatures" id="HTTPFeatures">HTTP(s) Features and SPPP</a>
</h1>
<p id="rfc.section.4.p.1">SOAP is not tied to HTTP(s), however, for reasons described in the introduction, HTTP(s) is a good choice as the transport mechanism for the SPPP SOAP messages.  HTTP 1.1 includes the "persistent connection" feature, which allows multiple HTTP request/response pairs to be transported across a single HTTP connection.  This is an important performance optimization feature, particularly when the connections is an HTTPS connection where the relatively time consuming SSL handshake has occurred.  Persistent connections SHOULD be used for the SPPP HTTP connections.</p>
<p id="rfc.section.4.p.2">HTTP 1.1 <a href="#RFC2616">[RFC2616]</a> or higher SHOULD be used.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#AuthenticationSessionManagement" id="AuthenticationSessionManagement">Authentication and Session Management</a>
</h1>
<p id="rfc.section.5.p.1">To achieve integrity and privacy, conforming SPPP SOAP Clients and Servers MUST support SOAP over HTTP over TLS <a href="#RFC5246">[RFC5246]</a> as the secure transport mechanism.  This combination of HTTP and TLS is referred to as HTTPS.  And to accomplish authentication, conforming SOAP SPPP Clients and Servers MUST use HTTP Digest Authentication as defined in <a href="#RFC2617">[RFC2617]</a>.  As a result, the communication session is established through the initial HTTP connection setup, the digest authentication, and the TLS handshake.  When the HTTP connection is broken down, the communication session ends.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#basicdatastructures" id="basicdatastructures">Base Protocol Data Structures</a>
</h1>
<p id="rfc.section.6.p.1">SPPP uses a common model and a common set of data structures for most of the supported operations.  This section describes these common operation data structures.</p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> <a href="#requestandresponse" id="requestandresponse">Request and Response Structures</a>
</h1>
<p id="rfc.section.6.1.p.1">An SPPP client interacts with an SPPP server by using one of the supported transport mechanisms to send one or more requests to the server and receive corresponding replies from the server.  There are two generalized types of operations that an SPPP client can submit to an SPPP server, updates and queries.  The following two sub-sections describe the generalized data structures that are used for each of these two types of operations. </p>
<h1 id="rfc.section.6.1.1">
<a href="#rfc.section.6.1.1">6.1.1.</a> <a href="#updates" id="updates">Update Request and Response Structures</a>
</h1>
<p id="rfc.section.6.1.1.p.1">An SPPP update request is wrapped within the &lt;spppUpdateRequest&gt;  element while an SPPP update response is wrapped within an &lt;spppUpdateResponse&gt; element.  The following two sub-sections describe these two elements.</p>
<h1 id="rfc.section.6.1.1.1">
<a href="#rfc.section.6.1.1.1">6.1.1.1.</a> <a href="#updaterequest" id="updaterequest">Update Request</a>
</h1>
<p id="rfc.section.6.1.1.1.p.1">An SPPP update request object is contained within the generic &lt;spppUpdateRequest&gt; element. </p>
<div id="#rfc.figure.2"></div>
<pre>
                
                
  &lt;element name="spppUpdateRequest"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="clientTransId" type="spppb:TransIdType" 
                 minOccurs="0"/&gt;
        &lt;element name="minorVer" type="spppb:MinorVerType" 
                 minOccurs="0"/&gt;
        &lt;element name="rqst" type="spppb:BasicUpdateRqstType" 
                 maxOccurs="unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  
  &lt;simpleType name="TransIdType"&gt;
    &lt;restriction base="string"/&gt;
  &lt;/simpleType&gt;
  
  &lt;simpleType name="MinorVerType"&gt;
    &lt;restriction base="unsignedLong"/&gt;
  &lt;/simpleType&gt;

                 
              </pre>
<p></p>
<p id="rfc.section.6.1.1.1.p.3">The data elements within the &lt;spppUpdateRequest&gt; element are described as follows: </p>

<ul>
<li>clientTransId: Zero or one client-generated transaction ID that, within the context of the SPPP client, identifies this request. This value can be used at the discretion of the SPPP client to track, log or correlate requests and their responses. SPPP server MUST echo back this value to the client in the corresponding response to the incoming request.  SPPP server will not check this value for uniqueness. </li>
<li>minorVer: Zero or one minor version identifier, indicating the minor version of the SPPP API that the client is attempting to use. This is used in conjunction with the major version identifier in the XML namespace to identify the version of SPPP that the client is using.  If the element is not present, the server assumes that the client is using the latest minor version supported by the SPPP server for the given major version. The versions supported by a given SPPP server can be retrieved by the client using the SPPP server menu operation described later in the document.</li>
<li>rqst: One or more BasicUpdateRqstType objects.  These are the actions that the client is requesting the SPPP server perform.  They are processed by the SPPP server in the order in which they are included in the request.  And with respect to handling error conditions, it is a matter of policy whether the objects are processed in a "stop and rollback" fashion or in a "stop and commit" fashion.  In the "stop and rollback" scenario, the SPPP server would stop processing BasicUpdateRqstType object instances in the request at the first error and roll back any BasicUpdateRqstType object instances that had already been processed for that update request.  In the "stop and commit" scenario the SPPP server would stop processing BasicUpdateRqstType object instances in the request at the first error but commit any BasicUpdateRqstType object instances that had already been processed for that update request.  </li>
</ul>

<p> </p>
<p id="rfc.section.6.1.1.1.p.4">All update request objects extend the base type BasicUpdateRqstType. This base type is defined as follows: </p>
<div id="#rfc.figure.3"></div>
<pre>
              
  &lt;complexType name="BasicUpdateRqstType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
                                
            </pre>
<p></p>
<p id="rfc.section.6.1.1.1.p.6">The BasicUpdateRqstType object primarily acts as an abstract base type, and its only data element is described as follows: </p>

<ul><li>ext: This is the standard extension element for this object. Refer to the Extensibility section of this document for more details. </li></ul>

<p> </p>
<h1 id="rfc.section.6.1.1.2">
<a href="#rfc.section.6.1.1.2">6.1.1.2.</a> <a href="#updateresponse" id="updateresponse">Update Response</a>
</h1>
<p id="rfc.section.6.1.1.2.p.1">An SPPP update response object is contained within the generic &lt;spppUpdateResponse&gt; element. </p>
<div id="#rfc.figure.4"></div>
<pre>
                
  &lt;element name="spppUpdateResponse"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="overallResult" type="spppb:ResultCodeType"/&gt;
        &lt;element name="rqstObjResult" type="spppb:RqstObjResultCodeType" 
            minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;element name="clientTransId" type="spppb:TransIdType" 
            minOccurs="0"/&gt;
        &lt;element name="serverTransId" type="spppb:TransIdType"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
  
  &lt;complexType name="ResultCodeType"&gt;
    &lt;sequence&gt;
       &lt;element name="code" type="int"/&gt;
       &lt;element name="msg" type="string"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
  
  &lt;complexType name="RqstObjResultCodeType"&gt;
    &lt;complexContent&gt;
       &lt;extension base="spppb:ResultCodeType"&gt;
          &lt;sequence&gt;
             &lt;element name="rqstObj" type="spppb:BasicUpdateRqstType"/&gt;
          &lt;/sequence&gt;
       &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
  
                                
              </pre>
<p></p>
<p id="rfc.section.6.1.1.2.p.3">An &lt;spppUpdateResponse&gt; contains the elements necessary for the SPPP client to precisely determine the overall result of the request, and if an error occurred, it provides information about the specific object, data element, or condition caused the error. </p>
<p id="rfc.section.6.1.1.2.p.4">The data elements within the SPPP update response are described as follows: </p>

<ul>
<li>clientTransId: Zero or one client transaction ID.  This value is simply an echo of the client transaction ID that SPPP client passed into the SPPP update request. When included in the request, the SPPP server MUST return it in the corresponding response message.</li>
<li>serverTransId: Exactly one server transaction ID that identifies this request for tracking purposes. This value MUST be unique for a given SPPP server. </li>
<li>overallResult: Exactly one response code and message pair that explicitly identifies the result of the request. See the Response Code section for further details. </li>
<li>rqstObjResult: An optional response code, response message, and BasicRqstObject triplet. This element will be present only if an object level error has occurred. It indicates the error condition and the exact request object that contributed to the error. The response code will reflect the exact error. See the Response Code section for further details.</li>
<li>ext: This is the standard extension element for this object. Refer to the Extensibility section for more details. </li>
</ul>

<p> </p>
<h1 id="rfc.section.6.1.2">
<a href="#rfc.section.6.1.2">6.1.2.</a> <a href="#queries" id="queries">Query Request and Response Structures</a>
</h1>
<p id="rfc.section.6.1.2.p.1">At times, on behalf of the registrant, the registrar may need to have access to SPPP objects that were previously provisioned in the registry. A few examples include logging, auditing, and pre-provisioning dependency checking. This query mechanism is limited to aid provisioning scenarios and should not be confused with query protocols provided as part of the resolution system (e.g. ENUM and SIP).</p>
<p id="rfc.section.6.1.2.p.2">An SPPP query request is wrapped within the &lt;spppQueryRequest&gt;  element while an SPPP query response is wrapped within an &lt;spppQueryResponse&gt; element.  The following two sub-sections describe these two element structures.</p>
<h1 id="rfc.section.6.1.2.1">
<a href="#rfc.section.6.1.2.1">6.1.2.1.</a> <a href="#queryrequest" id="queryrequest">Query Request</a>
</h1>
<p id="rfc.section.6.1.2.1.p.1">An SPPP query request object is contained within the generic &lt;spppQueryRequest&gt; element. </p>
<div id="#rfc.figure.5"></div>
<pre>
                
  &lt;element name="spppQueryRequest"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="minorVer" type="spppb:MinorVerType" 
            minOccurs="0"/&gt;
        &lt;element name="rqst" type="spppb:BasicQueryRqstType"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
                 
              </pre>
<p></p>
<p id="rfc.section.6.1.2.1.p.3">The data elements within the &lt;spppQueryRequest&gt; element are described as follows: </p>

<ul>
<li>minorVer: Zero or one minor version identifier, indicating the minor version of the SPPP API that the client is attempting to use. This is used in conjunction with the major version identifier in the XML namespace to identify the version of SPPP that the client is using.  If the element is not present, the server assumes that the client is using the latest minor version supported by the SPPP server for the given major version. The versions supported by a given SPPP server can be retrieved by the client using the SPPP server menu operation described later in the document.</li>
<li>rqst: One BasicQueryRqstType objects.  This is the query that the client is requesting the SPPP server perform.  </li>
</ul>

<p> </p>
<p id="rfc.section.6.1.2.1.p.4">All query request objects extend the base type BasicQueryRqstType. This base type is defined as follows: </p>
<div id="#rfc.figure.6"></div>
<pre>
              
  &lt;complexType name="BasicQueryRqstType" abstract="true"&gt;
    &lt;sequence&gt;
      &lt;element name="ext" type="spppb:ExtAnyType" minOccurs="0"/&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
              
            </pre>
<p></p>
<p id="rfc.section.6.1.2.1.p.6">The BasicQueryRqstType object primarily acts as an abstract base type, and its only data element is described as follows: </p>

<ul><li>ext: This is the standard extension element for this object. Refer to the Extensibility section of this document for more details. </li></ul>

<p> </p>
<h1 id="rfc.section.6.1.2.2">
<a href="#rfc.section.6.1.2.2">6.1.2.2.</a> <a href="#queryresponse" id="queryresponse">Query Response</a>
</h1>
<p id="rfc.section.6.1.2.2.p.1">An SPPP query response object is contained within the generic &lt;spppQueryResponse&gt; element. </p>
<div id="#rfc.figure.7"></div>
<pre>
                
  &lt;element name="spppQueryResponse"&gt;
    &lt;complexType&gt;
      &lt;sequence&gt;
        &lt;element name="overallResult" type="spppb:ResultCodeType"/&gt;
        &lt;element name="resultSet" type="spppb:BasicObjType" 
           minOccurs="0" maxOccurs=" unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/complexType&gt;
  &lt;/element&gt;
                 
              </pre>
<p></p>
<p id="rfc.section.6.1.2.2.p.3">An &lt;spppQueryResponse&gt; contains the elements necessary for the SPPP client to precisely determine the overall result of the query, and if an error occurred, exactly what condition caused the error. </p>
<p id="rfc.section.6.1.2.2.p.4">The data elements within the SPPP query response are described as follows: </p>

<ul>
<li>overallResult: Exactly one response code and message pair that explicitly identifies the result of the request. See the Response Code section for further details. </li>
<li>resultSet: The set of zero or more objects that matched the query criteria.  If no objects matched the query criteria then this result set MUST be empty and the overallResult value MUST indicate success (if no matches are found for the query criteria, the response is considered a success).</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> <a href="#resultcodes" id="resultcodes">Response Codes and Messages</a>
</h1>
<p id="rfc.section.6.2.p.1">This section contains the listing of response codes and their corresponding human-readable text. </p>
<p id="rfc.section.6.2.p.2">The response code numbering scheme generally adheres to the theory formalized in section 4.2.1 of <a href="#RFC5321">[RFC5321]</a>: </p>

<ul>
<li>The first digit of the response code can only be 1 or 2: 1 = a positive result, 2 = a negative result. </li>
<li>The second digit of the response code indicates the category: 0 = Protocol Syntax, 1 = Implementation Specific Business Rule, 2 = Security, 3 = Server System. </li>
<li>The third and fourth digits of the response code indicate the individual message event within the category defines by the first two digits. </li>
</ul>

<p> </p>
<p id="rfc.section.6.2.p.3">The response codes are also categorized as to whether they are overall response codes that may only be returned in the "overallResult" data element in SPPP responses, of object level response codes that may only be returned in the "rqstObjResult" element of the SPPP responses.</p>
<div id="#rfc.table.1"></div>
<div id="#Table1"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Response Codes Numbering Scheme and Messages</caption>
<thead><tr>
<th class="left">Result Code</th>
<th class="left">Result Message</th>
<th class="left">Overall or Object Level</th>
</tr></thead>
<tbody>
<tr>
<td class="left">1000 </td>
<td class="left">Request Succeeded.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2001 </td>
<td class="left">Request syntax invalid.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2002 </td>
<td class="left">Request too large.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2003 </td>
<td class="left">Version not supported.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2103 </td>
<td class="left">Command invalid.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2301 </td>
<td class="left">System temporarily unavailable.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2302 </td>
<td class="left">Unexpected internal system or server error.</td>
<td class="left">Overall Response Code</td>
</tr>
<tr>
<td class="left">2104 </td>
<td class="left">Attribute value invalid. AttrName:[AttributeName] AttrVal:[AttributeValue]</td>
<td class="left">Object Level Response Code</td>
</tr>
<tr>
<td class="left">2105 </td>
<td class="left">Object does not exist. AttrName:[AttributeName] AttrVal:[AttributeValue]</td>
<td class="left">Object Level Response Code</td>
</tr>
<tr>
<td class="left">2106 </td>
<td class="left">Object status or ownership does not allow for operation. AttrName:[AttributeName] AttrVal:[AttributeValue]</td>
<td class="left">Object Level Response Code</td>
</tr>
</tbody>
</table>
<p id="rfc.section.6.2.p.4">Each of the object level response messages are "parameterized" with the following parameters: "AttributeName" and "AttributeValue". </p>
<p id="rfc.section.6.2.p.5">The use of these parameters MUST adhere to the following rules: </p>

<ul>
<li>All parameters within a response message are mandatory and MUST be present. </li>
<li>Any value provided for the "AttributeName" parameter MUST be an exact XSD element name of the protocol data element that the response message is referring to.  For example, valid values for "attribute name" are "dgName", "rgName", "rteRec", etc. </li>
<li>The value for "AttributeValue" MUST be the value of the data element to which the preceding "AttributeName" refers. </li>
<li>Result code 2104 SHOULD be used whenever an element value does not adhere to data validation rules. </li>
<li>Result codes 2104 and 2105 MUST NOT be used interchangeably. Response code 2105 SHOULD be returned by an update operation when the data element(s) used to uniquely identify a pre-existing object do not exist. If the data elements used to uniquely identify an object are malformed, then response code 2104 SHOULD be returned. </li>
</ul>

<p> </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#protocolcommands" id="protocolcommands">Protocol Operations</a>
</h1>
<p id="rfc.section.7.p.1">This section provides a description of the specification of each required operation (verb) for each SPPP data model object (the noun).  The specification of the data structures for the data model objects is contianed in the protocol specification.</p>
<h1 id="rfc.section.7.1">
<a href="#rfc.section.7.1">7.1.</a> <a href="#adddestgrp" id="adddestgrp">Add Destination Group Operation</a>
</h1>
<p id="rfc.section.7.1.p.1">The AddDestGrpRqstType operation creates or overwrites a Destination Group object. If a Destination Group with the given name and registrant ID (which together comprise the unique key for a Destination Group) does not exist, then the server MUST create the Destination Group. If a Destination Group with the given name and registrant ID does exist, then the server MUST replace the current properties of the Destination Group with the properties passed into the AddDestGrpsRqstType operation. The XSD declarations of the operation request object are as follows: </p>
<div id="#rfc.figure.8"></div>
<pre>
              
  &lt;complexType name="AddDestGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicUpdateRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="destGrp" type="spppb:DestGrpType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.1.p.3">The element passed into the spppUpdateRequest element for this operation is an element of type AddDestGrpRqsttype, which extends BasicUpdateRqstType and contains a DestGrpType object. </p>
<p id="rfc.section.7.1.p.4">As with the responses to all update operations, the result of the AddDestGrpRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.7.2">
<a href="#rfc.section.7.2">7.2.</a> <a href="#getdestgrps" id="getdestgrps">Get Destination Groups Operation</a>
</h1>
<p id="rfc.section.7.2.p.1">The getDestGrpsRqst operation allows an SPPP client to get the properties of Destination Group objects that a registrar is authorized to view on behalf of the registrant. The server will attempt to find a Destination Group object that has the registrant ID and destination group name pair contained in each ObjKeyType object instance. If there are no matching Destination Groups found then an empty result set will be returned.</p>
<p id="rfc.section.7.2.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetDestGrpsRqstType, which extends BasicQueryRqstType and contains zero or more ObjKeyType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.9"></div>
<pre>
              
  &lt;complexType name="GetDestGrpsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType" 
             maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.2.p.4">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.7.3">
<a href="#rfc.section.7.3">7.3.</a> <a href="#addpubIdsOper" id="addpubIdsOper">Add Public Identifier Operation</a>
</h1>
<p id="rfc.section.7.3.p.1">The AddPubIdRqstType operation creates or overwrites a Public Identifier object of any of the concrete types specified in the protocol data model specification. If a Public Identifier with the given identity (refer to the data model specification for the definition of how Public Identifiers are uniquely identified) does not exist, then the server MUST create the Public Identifier. If a Public Identifier with the given identity does exist, then the server MUST replace the current properties of that Public Identifier with the properties passed into the AddPubIdRqstType operation. The XSD declarations of the operation request object are as follows: </p>
<div id="#rfc.figure.10"></div>
<pre>
                
                &lt;complexType name="AddPubIdRqstType"&gt;
                  &lt;complexContent&gt;
                    &lt;extension base="spppb:BasicUpdateRqstType"&gt;
                      &lt;sequence&gt;
                        &lt;element name="pi" type="spppb:PubIdType"/&gt;
                      &lt;/sequence&gt;
                    &lt;/extension&gt;
                  &lt;/complexContent&gt;
                &lt;/complexType&gt;
                        
              </pre>
<p></p>
<h1 id="rfc.section.7.4">
<a href="#rfc.section.7.4">7.4.</a> <a href="#getpubIdsOper" id="getpubIdsOper">Get Public Identifiers Operation</a>
</h1>
<p id="rfc.section.7.4.p.1">The GetPubIdsRqstType operation allows an SPPP client to get the properties of Public Identifier objects that a registrar is authorized to view on behalf of the registrant. The server will attempt to find a Public Identifier object that has the properties of the Public Identifier object passed into this operation. If there are no matching Public Identifiers found then an empty result set will be returned. </p>
<p id="rfc.section.7.4.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetPubIdsRqstType, which extends BasicQueryRqstType and contains one or more PubIDType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.11"></div>
<pre>
                
  &lt;complexType name="GetPubIdsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType" 
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                          
              </pre>
<p></p>
<p id="rfc.section.7.4.p.4">As described earlier in the document, the result of any spppQueryRequest operation is a spppQueryResponse that contains the response code and the query result set, if any.</p>
<h1 id="rfc.section.7.5">
<a href="#rfc.section.7.5">7.5.</a> <a href="#addrtegrp" id="addrtegrp">Add Route Group Operation</a>
</h1>
<p id="rfc.section.7.5.p.1">The AddRteGrpRqstType operation creates or overwrites a Route Group object. If a Route Group with the given name and registrant ID (which together comprise the unique key or a Route Group) does not exist, then the server MUST create the Route Group. If a Route Group with the given name and registrant ID does exist, then the server MUST replace the current properties of the Route Group with the properties passed into the AddRteGrpRqstType operation. The XSD declarations of the AddRteGrpRqstType operation request object are as follows: </p>
<div id="#rfc.figure.12"></div>
<pre>
              
  &lt;complexType name="AddRteGrpRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicUpdateRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrp" type="spppb:RteGrpType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.5.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of AddRteGrpRqstType, which extends BasicUpdateRqstType and contains one RteGrpType object. </p>
<h1 id="rfc.section.7.6">
<a href="#rfc.section.7.6">7.6.</a> <a href="#getroutegrps" id="getroutegrps">Get Route Groups Operation</a>
</h1>
<p id="rfc.section.7.6.p.1">The getRteGrpsRqst operation allows an SPPP client to get the properties of Route Group objects that the registrar is authorized to view on behalf of the registrant. The server will attempt to find a Route Group object that has the registrant ID and route group name pair contained in each ObjKeyType object instance passed into this operation. If there are no matching Route Groups found then an empty result set will be returned. </p>
<p id="rfc.section.7.6.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetRteGrpsRqstType, which extends BasicUpdateRqstType and contains zero or more ObjKeyType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.13"></div>
<pre>
              
  &lt;complexType name="GetRteGrpsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.6.p.4">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.7.7">
<a href="#rfc.section.7.7">7.7.</a> <a href="#addrterec" id="addrterec">Add Route Record Operation</a>
</h1>
<p id="rfc.section.7.7.p.1">The AddRteRecRqstType operation creates or overwrites a Route Record object. If a Route Record with the given name and registrant ID (which together comprise the unique key or a Route Record) does not exist, then the server MUST create the Route Record. If a Route Record with the given name and registrant ID does exist, then the server MUST replace the current properties of the Route Record with the properties passed into the AddRteRecRqstType operation. The XSD declarations of the AddRteRecRqstType operation request object are as follows: </p>
<div id="#rfc.figure.14"></div>
<pre>
              
  &lt;complexType name="AddRteRecRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicUpdateRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteRec" type="spppb:RteRecType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.7.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of AddRteRecRqstType, which extends BasicUpdateRqstType and contains one RteRecType object. </p>
<p id="rfc.section.7.7.p.4">As with the responses to all update operations, the result of the AddRteRecRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.7.8">
<a href="#rfc.section.7.8">7.8.</a> <a href="#getrterecs" id="getrterecs">Get Route Records Operation</a>
</h1>
<p id="rfc.section.7.8.p.1">The getRteRecsRqst operation allows an SPPP client to get the properties of Route Record objects that a registrar is authorized to view on behalf of the registrant. The server will attempt to find a Route Record object that has the registrant ID and route record name pair contained in each ObjKeyType object instance. If there are no matching Route Record found then an empty result set will be returned. </p>
<p id="rfc.section.7.8.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetRteRecsRqstType, which extends BasicUpdateRqstType and contains zero or more ObjKeyType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.15"></div>
<pre>
              
  &lt;complexType name="GetRteRecsRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.8.p.4">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.7.9">
<a href="#rfc.section.7.9">7.9.</a> <a href="#addrtegrpoffer" id="addrtegrpoffer">Add Route Group Offer Operation</a>
</h1>
<p id="rfc.section.7.9.p.1">The AddRteGrpOffersRqstType operation creates or overwrites one or more Route Group Offer objects. If a Route Group Offer for the given Route Group object key and the &lt;offeredTo&gt; Org ID does not exist, then the server creates the Route Group Offer object. If a such a Route Group Offer does exist, then the server replaces the current object with the new object. The XSD declarations of the operation request object are as follows: </p>
<div id="#rfc.figure.16"></div>
<pre>
              
  &lt;complexType name="AddRteGrpOfferRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicUpdateRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="rteGrpOffer" type="spppb:RteGrpOfferType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.9.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of AddRteGrpOfferRqstType, which extends BasicUpdateRqstType and contains a RteGrpOfferType object. </p>
<p id="rfc.section.7.9.p.4">As with the responses to all update operations, the result of the AddRteGrpOfferRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.7.10">
<a href="#rfc.section.7.10">7.10.</a> <a href="#accrtegrpoff" id="accrtegrpoff">Accept Route Group Offer Operation</a>
</h1>
<p id="rfc.section.7.10.p.1">The AcceptRteGrpOffersRqstType operation is called by, or on behalf of, the data recipient to accept a Route Group Offer that is pending in the "offered" status for the data recipient's organization ID. If a Route Group Offer for the given Route Group Offer key (route name, route registrant ID, data recipient's organization ID) exists, then the server moves the Route Group Offer to the "accepted" status and adds that data recipient's organization ID into the list of peerOrgIds for that Route Group. If a such a Route Group Offer does not exist, then the server returns the appropriate error code, 2105. The XSD declarations for the operation request object are as follows: </p>
<div id="#rfc.figure.17"></div>
<pre>
              
&lt;complexType name="AcceptRteGrpOfferRqstType"&gt;
  &lt;complexContent&gt;
    &lt;extension base="spppb:BasicUpdateRqstType"&gt;
      &lt;sequence&gt;
        &lt;element name="rteGrpOfferKey" type="spppb:RteGrpOfferKeyType"/&gt;
      &lt;/sequence&gt;
    &lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.10.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of AcceptRteGrpOffersRqstType, which extends BasicUpdateRqstType and contains a RteGrpOfferKeyType object.</p>
<p id="rfc.section.7.10.p.4">As with the responses to all update operations, the result of the AcceptRteGrpOfferRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.7.11">
<a href="#rfc.section.7.11">7.11.</a> <a href="#rejrtegrpoff" id="rejrtegrpoff">Reject Route Group Offer Operation</a>
</h1>
<p id="rfc.section.7.11.p.1">The RejectRteGrpOffersRqstType operation is used for these purposes and is called by, or on behalf of, the data recipient to accept a Route Group Offer that is pending in the "offered" status or is in the "accepted" status for the data recipient's organization ID. If a Route Group Offer for the given Route Group Offer key (route name, route registrant ID, data recipient's organization ID) exists in either the offered or accepted status, then the server deletes that Route Group Offer object, and, if appropriate, removes the data recipient's organization ID from the list of peeringOrg IDs for that Route Group. If the Route Group Offer does not exist, then the server returns the appropriate error code, 2105. The XSD declarations for the operation request object are as follows: </p>
<div id="#rfc.figure.18"></div>
<pre>
              
&lt;complexType name="RejectRteGrpOfferRqstType"&gt;
  &lt;complexContent&gt;
    &lt;extension base="spppb:BasicUpdateRqstType"&gt;
      &lt;sequence&gt;
        &lt;element name="rteGrpOfferKey" type="spppb:RteGrpOfferKeyType"/&gt;
      &lt;/sequence&gt;
    &lt;/extension&gt;
  &lt;/complexContent&gt;
&lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.11.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of RejectRteGrpOffersRqstType, which extends BasicUpdateRqstType and contains a RteGrpOfferKeyType object.</p>
<p id="rfc.section.7.11.p.4">As with the responses to all update operations, the result of the RejectRteGrpOfferRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.7.12">
<a href="#rfc.section.7.12">7.12.</a> <a href="#getrtegrpoff" id="getrtegrpoff">Get Route Group Offers Operation</a>
</h1>
<p id="rfc.section.7.12.p.1">The getRteGrpOffersRqst operation allows an SPPP client to get the properties of zero or more Route Group Offer objects that registrar is authorized to view on behalf of the registrant. The server will attempt to find Route Group Offer objects that have all the properties specified in the criteria passed into the operation. If there are no matching Route Group Offers found then an empty result set will be returned. </p>
<p id="rfc.section.7.12.p.2">The element passed into the spppQueryRequest element for this operation is an instance of GetRteGrpOffersRqstType, which extends BasicQueryRqstType and contains the criteria that the returned Route Group Offer objects must match. Any limitation on the maximum number of objects that may be returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.19"></div>
<pre>
              
  &lt;complexType name="GetRteGrpOffersRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="offeredBy" type="spppb:OrgIdType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="offeredTo" type="spppb:OrgIdType"
            minOccurs="0" maxOccurs="unbounded"/&gt;
          &lt;element name="status" type="spppb:RteGrpOfferStatusType"
            minOccurs="0"/&gt;
          &lt;element name="rteGrpOfferKey"
            type="spppb:RteGrpOfferKeyType" minOccurs="0"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.12.p.4">The GetRteGrpOffersRqstType object is composed of the following elements: </p>

<ul>
<li>offeredBy: Zero or more organization IDs. Only offers that are offered to the organization IDs in this list should be included in the result set. The result set is also subject to other query criteria in the request.  </li>
<li>offeredTo: Zero or more organization IDs. Only offers that are offered by the organization IDs in this list should be included in the result set. The result set is also subject to other query criteria in the request.  </li>
<li>status: The status of the offer, offered or accepted.  Only offers in the specified status should be included in the result set. If this element is not present then the status of the offer should not be considered in the query. The result set is also subject to other query criteria in the request. </li>
<li>rteGrpOfferKey: Zero or more Route Group Offer Keys.  Only offers having one of these keys should be included in the result set. The result set is also subject to other query criteria in the request. </li>
</ul>

<p> </p>
<p id="rfc.section.7.12.p.5">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.7.13">
<a href="#rfc.section.7.13">7.13.</a> <a href="#egressRteOper" id="egressRteOper">Add Egress Route Operation</a>
</h1>
<p id="rfc.section.7.13.p.1">The AddEgrRteRqstType operation creates or overwrites an Egress Route object. If an Egress Route with the given name and registrant ID (which together comprise the unique key or an Egress Route) does not exist, then the server MUST create the Route Record. If a Route Record with the given name and registrant ID does exist, then the server MUST replace the current properties of the Route Record with the properties passed into the AddEgrRteRqstType operation. The XSD declarations of the AddEgrRteRqstType operation request object are as follows: </p>
<div id="#rfc.figure.20"></div>
<pre>
              
  &lt;complexType name="AddEgrRteRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicUpdateRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="egrRte" type="spppb:EgrRteType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
              
            </pre>
<p></p>
<p id="rfc.section.7.13.p.3">The element passed into the spppUpdateRequest element for this operation is an instance of AddEgrRteRqstType, which extends BasicUpdateRqstType and contains one EgrRteType object. </p>
<p id="rfc.section.7.13.p.4">As with the responses to all update operations, the result of the AddEgrRteRqstType operation is contained in the generic spppUpdateResponse data structure described in an earlier sections of this document.  For a detailed description of the spppUpdateResponse data structure refer to that section of the document.</p>
<h1 id="rfc.section.7.14">
<a href="#rfc.section.7.14">7.14.</a> <a href="#getegrtes" id="getegrtes">Get Egress Routes Operation</a>
</h1>
<p id="rfc.section.7.14.p.1">The GetEgrRtesRqstType operation allows an SPPP client to get the properties of Egress Route objects that a registrar is authorized to view on behalf of the registrant. The server will attempt to find a Egress Route object that has the registrant ID and Egress Route name pair contained in each ObjKeyType object instance. If there are no matching Egress Routes found then an empty result set will be returned. </p>
<p id="rfc.section.7.14.p.2">The element passed into the spppQueryRequest element for this operation is an instance of type GetEgrRtesRqstType, which extends BasicUpdateRqstType and contains zero or more ObjKeyType objects. Any limitation on the maximum number of objects that may be passed into or returned by this operation is a policy decision and not limited by the protocol. The XSD declaration of the operation is as follows: </p>
<div id="#rfc.figure.21"></div>
<pre>
              
  &lt;complexType name="GetEgrRtesRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicQueryRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="objKey" type="spppb:ObjKeyType"
            maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                        
            </pre>
<p></p>
<p id="rfc.section.7.14.p.4">As described in an earlier section of this document, the result of any spppQueryRequest operation is an spppQueryResponse element that contains the overall response code and the query result set, if any.  Refer to that section of the document for a detailed description of the spppQueryResponse element.</p>
<h1 id="rfc.section.7.15">
<a href="#rfc.section.7.15">7.15.</a> <a href="#delete_oper" id="delete_oper">Delete Operation</a>
</h1>
<p id="rfc.section.7.15.p.1">In order to remove an object from the registry, an authorized entity can send the &lt;spppUpdateRequest&gt; to the registry with a corresponding delete BasicUpdateRqstType object. Each 'Add' operation in SPPP has a corresponding 'Del' operation, which is used to delete the respective object type from the registry.  If the entity that issued the command is not authorized to perform this operation an appropriate error code will be returned in the &lt;spppUpdateRespnonse&gt; message. </p>
<p id="rfc.section.7.15.p.2">As an example, DelPubIdRqstType is used to delete Public Identifiers The DelPubIdsRqstType object definition is shown below: </p>
<div id="#rfc.figure.22"></div>
<pre>
                
  &lt;complexType name="DelPubIdRqstType"&gt;
    &lt;complexContent&gt;
      &lt;extension base="spppb:BasicUpdateRqstType"&gt;
        &lt;sequence&gt;
          &lt;element name="pi" type="spppb:PubIdType"/&gt;
        &lt;/sequence&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
                          
              </pre>
<p></p>
<p id="rfc.section.7.15.p.4">When an object is deleted, any references to that object must of course also be removed as the SPPP server implementation fulfills the deletion request.  Furthermore, the deletion of a composite object must also result in the deletion of the objects it contains.  As a result, the following rules apply to the deletion of SPPP object types: </p>

<ul>
<li>Destination Groups: When a destination group is deleted all public identifiers within that destination group must also be automatically deleted by the SPPP implementation as part of fulfilling the deletion request.  And any references between that destination group and any route group must be automatically removed by the SPPP implementation as part of fulfilling the deletion request.</li>
<li>Route Groups: When a route group is deleted any references between that route group and any destination group must be automatically removed by the SPPP implementation as part of fulfilling the deletion request.  Similarly any references between that route group and any route records must be removed by the SPPP implementation as part of fulfilling the deletion request.  Furthermore, route group offers relating that route group must also be deleted as part of fulfilling the deletion request.</li>
<li>Route Records: When a route record is deleted any references between that route record and any route group must be removed by the SPPP implementation as part of fulfilling the deletion request.</li>
<li>Public Identifiers: When a public identifier is deleted any references between that public identifier and its containing destination group must be removed by the SPPP implementation as part of fulfilling the deletion request.  And any route records contained directly within that Public Identifier must be deleted by the SPPP implementation as part of fulfilling the deletion request.</li>
</ul>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#SPPPWSDL" id="SPPPWSDL">SPPP SOAP WSDL Definition</a>
</h1>
<p id="rfc.section.8.p.1">The SPPP WSDL and data types are defined below.  The WSDL design approach is commonly referred to as _Generic WSDL_.  It is generic in the sense that there is not a specific WSDL operation defined for each object type that is supported by the SPPP protocol.  There is a single WSDL update operation called submitUpdateRqst, and a single WSDL query operation called submitQueryRqst.  The submitUpdateRqst operation takes as input an spppUpdateRequestMsg object and returns as output an spppUpdateResponseMsg object.  These objects _wrap_ the spppUpdateRequest and spppUpdateResponse objects respectively.  And finally, the spppSOAPBinding in the WSDL defines the binding style as _document_ and the encoding as _literal_.  It is this combination of _wrapped_ input and output data structures, _document_ binding style, and _literal_ encoding that characterize the Document Literal Wrapped style of WSDL specifications.</p>
<p id="rfc.section.8.p.2">Note: The following WSDL has been formatted (e.g., tabs, spaces) to meet I-D requirements.  </p>
<div id="#rfc.figure.23"></div>
<div id="#WSDL"></div>
<pre>

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsdl:definitions 
  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" 
  xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"   
  xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   
  xmlns:spppb="urn:ietf:params:xml:ns:sppp:base:1" 
  xmlns:sppps="urn:ietf:params:xml:ns:sppp:soap:1" 
  targetNamespace="urn:ietf:params:xml:ns:sppp:soap:1"&gt;
  &lt;wsdl:types&gt;
	&lt;xsd:schema 
    xmlns="http://www.w3.org/2001/XMLSchema" 
	xmlns:sppps="urn:ietf:params:xml:ns:sppp:soap:1" 
	targetNamespace="urn:ietf:params:xml:ns:sppp:soap:1"&gt;
	  
	&lt;annotation&gt;
	 &lt;documentation&gt;
	  ---- Import base schema ----
	 &lt;/documentation&gt;
	&lt;/annotation&gt;
	&lt;import namespace="urn:ietf:params:xml:ns:sppp:base:1" 
	  schemaLocation="spppbase.xsd"/&gt;
	&lt;annotation&gt;
	 &lt;documentation&gt;
	 ---- Key type(s) extended from base schema ----
	 &lt;/documentation&gt;
	&lt;/annotation&gt;
	&lt;complexType name="ObjKeyType"&gt;
	 &lt;complexContent&gt;
	  &lt;extension base="spppb:ObjKeyType"&gt;
		&lt;sequence&gt;
		  &lt;element name="rant" type="spppb:OrgIdType"/&gt;
		  &lt;element name="name" type="spppb:ObjNameType"/&gt;
		&lt;/sequence&gt;
	   &lt;/extension&gt;
	 &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RteGrpOfferKeyType"&gt;
	  &lt;complexContent&gt;
	   &lt;extension base="spppb:RteGrpOfferKeyType"&gt;
		&lt;sequence&gt;
		  &lt;element name="rteGrpKey" 
		  type="sppps:ObjKeyType"/&gt;
		  &lt;element name="offeredTo" 
		  type="spppb:OrgIdType"/&gt;
		&lt;/sequence&gt;
	   &lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;annotation&gt;
	 &lt;documentation&gt;
	   ---- Base Request Type Definitions ----
	 &lt;/documentation&gt;
	&lt;/annotation&gt;
	&lt;complexType name="BasicUpdateRqstType" 
	abstract="true"&gt;
	  &lt;sequence&gt;
		 &lt;element name="ext" type="spppb:ExtAnyType" 
		 minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="BasicQueryRqstType" abstract="true"&gt;
	  &lt;sequence&gt;
		&lt;element name="ext" type="spppb:ExtAnyType" 
		minOccurs="0"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;annotation&gt;
	&lt;documentation&gt;
	-- Request Type definition for various SPPP Objects. --
	&lt;/documentation&gt;
	&lt;/annotation&gt;
	&lt;complexType name="AddRteGrpRqstType"&gt;
  	  &lt;complexContent&gt;
	    &lt;extension base="sppps:BasicUpdateRqstType"&gt;
		 &lt;sequence&gt;
		  &lt;element name="rteGrp" type="spppb:RteGrpType"/&gt;
		 &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="DelRteGrpRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteGrpKey" 
			type="sppps:ObjKeyType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="GetRteGrpsRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicQueryRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteGrpKey" 
			  type="sppps:ObjKeyType" 
			  maxOccurs="unbounded"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="AddRteRecRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteRec" 
			type="spppb:RteRecType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="DelRteRecRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteRecKey" 
			type="sppps:ObjKeyType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="GetRteRecsRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicQueryRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteRecKey" 
			  type="sppps:ObjKeyType" 
			  maxOccurs="unbounded"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="AddDestGrpRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="destGrp" 
			type="spppb:DestGrpType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	  &lt;complexType name="DelDestGrpRqstType"&gt;
		&lt;complexContent&gt;
		  &lt;extension base="sppps:BasicUpdateRqstType"&gt;
			&lt;sequence&gt;
			  &lt;element name="destGrpKey" 
			  type="sppps:ObjKeyType"/&gt;
			&lt;/sequence&gt;
		  &lt;/extension&gt;
		&lt;/complexContent&gt;
	  &lt;/complexType&gt;
	&lt;complexType name="GetDestGrpsRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicQueryRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="destGrpKey" 
			type="sppps:ObjKeyType" 
			  minOccurs="0" maxOccurs="unbounded"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="AddPubIdRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="pi" type="spppb:PubIdType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="DelPubIdRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="pi" type="spppb:PubIdType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="GetPubIdsRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicQueryRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="pi" type="spppb:PubIdType" 
			  maxOccurs="unbounded"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="AddRteGrpOfferRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteGrpOffer" 
			type="spppb:RteGrpOfferType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="DelRteGrpOfferRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteGrpOfferKey" 
			type="sppps:RteGrpOfferKeyType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="AcceptRteGrpOfferRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteGrpOfferKey" 
			type="sppps:RteGrpOfferKeyType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RejectRteGrpOfferRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rteGrpOfferKey" 
			type="sppps:RteGrpOfferKeyType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="GetRteGrpOffersRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicQueryRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="offeredBy" 
			type="spppb:OrgIdType" 
			  minOccurs="0" maxOccurs="unbounded"/&gt;
			&lt;element name="offeredTo" 
			type="spppb:OrgIdType" 
			  minOccurs="0" maxOccurs="unbounded"/&gt;
			&lt;element name="status" 
			  type="spppb:RteGrpOfferStatusType" 
			  minOccurs="0"/&gt;
			&lt;element name="rteGrpOfferKey" 
			type="sppps:RteGrpOfferKeyType" 
			  minOccurs="0" maxOccurs="unbounded"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="AddEgrRteRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="egrRte" 
			type="spppb:EgrRteType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="DelEgrRteRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicUpdateRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="egrRteKey" 
			type="sppps:ObjKeyType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;complexType name="GetEgrRtesRqstType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:BasicQueryRqstType"&gt;
		  &lt;sequence&gt;
			&lt;element name="egrRteKey" 
			type="sppps:ObjKeyType" 
			maxOccurs="unbounded"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
	&lt;annotation&gt;
	&lt;documentation&gt;
	--- Generic Request and Response Definitions ----
	&lt;/documentation&gt;
	&lt;/annotation&gt;
	&lt;element name="spppUpdateRequest"&gt;
	  &lt;complexType&gt;
	    &lt;sequence&gt;
		  &lt;element name="clientTransId" 
		  type="spppb:TransIdType" minOccurs="0"/&gt;
		  &lt;element name="minorVer" 
		  type="spppb:MinorVerType" 
		  minOccurs="0"/&gt;
		  &lt;element name="rqst" 
		  type="sppps:BasicUpdateRqstType" 
		  maxOccurs="unbounded"/&gt;
		&lt;/sequence&gt;
	  &lt;/complexType&gt;
	&lt;/element&gt;
	&lt;element name="spppUpdateResponse"&gt;
	  &lt;complexType&gt;
		&lt;sequence&gt;
		  &lt;element name="clientTransId" 
		  type="spppb:TransIdType" minOccurs="0"/&gt;
		  &lt;element name="serverTransId" 
		  type="spppb:TransIdType"/&gt;
		  &lt;element name="overallResult" 
		  type="sppps:ResultCodeType"/&gt;
		  &lt;element name="rqstObjResult" 
		  type="sppps:RqstObjResultCodeType" minOccurs="0" 
		  maxOccurs="unbounded"/&gt;
		&lt;/sequence&gt;
	  &lt;/complexType&gt;
	&lt;/element&gt;
	&lt;element name="spppQueryRequest"&gt;
	  &lt;complexType&gt;
		&lt;sequence&gt;
		  &lt;element name="minorVer" 
		  type="spppb:MinorVerType" 
		  minOccurs="0"/&gt;
	   	  &lt;element name="rqst" 
	   	  type="sppps:BasicQueryRqstType"/&gt;
		&lt;/sequence&gt;
	  &lt;/complexType&gt;
	&lt;/element&gt;
	&lt;element name="spppQueryResponse"&gt;
	  &lt;complexType&gt;
		&lt;sequence&gt;
	  	  &lt;element name="overallResult" 
	  	  type="sppps:ResultCodeType"/&gt;
		  &lt;element name="resultSet" 
		  type="spppb:BasicObjType" 
		  minOccurs="0" maxOccurs="unbounded"/&gt;
		&lt;/sequence&gt;
	  &lt;/complexType&gt;
	&lt;/element&gt;
	&lt;element name="spppServerStatusRequest"&gt;
	  &lt;complexType&gt;
		&lt;sequence&gt;
	  	  &lt;element name="minorVer" 
	  	  type="spppb:MinorVerType" 
	  	  minOccurs="0"/&gt;
		&lt;/sequence&gt;
	  &lt;/complexType&gt;
	&lt;/element&gt;
	&lt;element name="spppServerStatusResponse"&gt;
	  &lt;complexType&gt;
		&lt;sequence&gt;
		  &lt;element name="overallResult" 
		  type="sppps:ResultCodeType"/&gt;
		  &lt;element name="svcMenu" 
		  type="spppb:SvcMenuType"/&gt;
		&lt;/sequence&gt;
	  &lt;/complexType&gt;
	&lt;/element&gt;
	&lt;annotation&gt;
	&lt;documentation&gt;
	--- Operation Result Type Definitions ----
	&lt;/documentation&gt;
	&lt;/annotation&gt;
	&lt;complexType name="ResultCodeType"&gt;
	  &lt;sequence&gt;
		&lt;element name="code" type="int"/&gt;
		&lt;element name="msg" type="token"/&gt;
	  &lt;/sequence&gt;
	&lt;/complexType&gt;
	&lt;complexType name="RqstObjResultCodeType"&gt;
	  &lt;complexContent&gt;
		&lt;extension base="sppps:ResultCodeType"&gt;
		  &lt;sequence&gt;
			&lt;element name="rqstObj" 
			type="sppps:BasicUpdateRqstType"/&gt;
		  &lt;/sequence&gt;
		&lt;/extension&gt;
	  &lt;/complexContent&gt;
	&lt;/complexType&gt;
   &lt;/xsd:schema&gt;
&lt;/wsdl:types&gt;

&lt;wsdl:message name="spppUpdateRequestMsg"&gt;
	&lt;wsdl:part name="rqst" 
	element="sppps:spppUpdateRequest"/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:message name="spppUpdateResponseMsg"&gt;
	&lt;wsdl:part name="rspns" 
	element="sppps:spppUpdateResponse"/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:message name="spppQueryRequestMsg"&gt;
&lt;wsdl:part name="rqst" element="sppps:spppQueryRequest"/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:message name="spppQueryResponseMsg"&gt;
	&lt;wsdl:part name="rspns" 
	element="sppps:spppQueryResponse"/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:message name="spppServerStatusRequestMsg"&gt;
	&lt;wsdl:part name="rqst" 
	element="sppps:spppServerStatusRequest"/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:message name="spppServerStatusResponseMsg"&gt;
	&lt;wsdl:part name="rspns" 
	element="sppps:spppServerStatusResponse"/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:portType name="spppPortType"&gt;
	&lt;wsdl:operation name="submitUpdateRqst"&gt;
		&lt;wsdl:input message="sppps:spppUpdateRequestMsg"/&gt;
		&lt;wsdl:output 
		message="sppps:spppUpdateResponseMsg"/&gt;
	&lt;/wsdl:operation&gt;
	&lt;wsdl:operation name="submitQueryRqst"&gt;
		&lt;wsdl:input message="sppps:spppQueryRequestMsg"/&gt;
		&lt;wsdl:output message="sppps:spppQueryResponseMsg"/&gt;
	&lt;/wsdl:operation&gt;
	&lt;wsdl:operation name="submitServerStatusRqst"&gt;
		&lt;wsdl:input 
		message="sppps:spppServerStatusRequestMsg"/&gt;
		&lt;wsdl:output 
		message="sppps:spppServerStatusResponseMsg"/&gt;
	&lt;/wsdl:operation&gt;
&lt;/wsdl:portType&gt;
&lt;wsdl:binding name="spppSoapBinding" 
 type="sppps:spppPortType"&gt;
	&lt;soap:binding style="document" 
	transport="http://schemas.xmlsoap.org/soap/http"/&gt;
	&lt;wsdl:operation name="submitUpdateRqst"&gt;
		&lt;soap:operation soapAction="submitUpdateRqst" 
		style="document"/&gt;
		&lt;wsdl:input&gt;
			&lt;soap:body use="literal"/&gt;
		&lt;/wsdl:input&gt;
		&lt;wsdl:output&gt;
			&lt;soap:body use="literal"/&gt;
		&lt;/wsdl:output&gt;
	&lt;/wsdl:operation&gt;
	&lt;wsdl:operation name="submitQueryRqst"&gt;
		&lt;soap:operation soapAction="submitQueryRqst" 
		style="document"/&gt;
		&lt;wsdl:input&gt;
			&lt;soap:body use="literal"/&gt;
		&lt;/wsdl:input&gt;
		&lt;wsdl:output&gt;
			&lt;soap:body use="literal"/&gt;
		&lt;/wsdl:output&gt;
	&lt;/wsdl:operation&gt;
	&lt;wsdl:operation name="submitServerStatusRqst"&gt;
		&lt;soap:operation 
		soapAction="submitServerStatusRqst" 
		style="document"/&gt;
		&lt;wsdl:input&gt;
			&lt;soap:body use="literal"/&gt;
		&lt;/wsdl:input&gt;
		&lt;wsdl:output&gt;
			&lt;soap:body use="literal"/&gt;
		&lt;/wsdl:output&gt;
	&lt;/wsdl:operation&gt;
&lt;/wsdl:binding&gt;
&lt;wsdl:service name="spppService"&gt;
	&lt;wsdl:port name="spppPort" 
	binding="sppps:spppSoapBinding"&gt;
		&lt;soap:address location="REPLACE_WITH_ACTUAL_URL"/&gt;
	&lt;/wsdl:port&gt;
&lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;

       </pre>
<p></p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#SPPPExamples" id="SPPPExamples">SPPP SOAP Examples</a>
</h1>
<p id="rfc.section.9.p.1">This section provides a few examples of SPPP SOAP messages.  This section of course relies on the XML data structures defined in the SPPP protocol specification <a href="#I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</a>.  So refer to that document to understand XML object types embedded in these example messages.</p>
<p id="rfc.section.9.p.2">Note: The following examples have been formatted (e.g., tabs, spaces) to meet I-D requirements.  </p>
<div id="#rfc.figure.24"></div>
<div id="#Example1"></div>
<pre>
        
&lt;soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:spb="urn:ietf:params:xml:ns:sppp:base:1"&gt;
  &lt;soapenv:Header/&gt;
  &lt;soapenv:Body&gt;
      &lt;spb:spppUpdateRequest 
      xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd" 
      xmlns="urn:ietf:params:xml:ns:sppp:base:1"   
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
          &lt;spb:clientTransId&gt;888&lt;/spb:clientTransId&gt;
          &lt;spb:minorVer&gt;1&lt;/spb:minorVer&gt;
          &lt;spb:rqst xsi:type="spb:AddDestGrpRqstType"&gt;
            &lt;spb:destGrp&gt;
               &lt;spb:rant&gt;registrant2&lt;/spb:rant&gt;
 	           &lt;spb:dgName&gt;DEST_GRP_SPPP_5&lt;/spb:dgName&gt;
            &lt;/spb:destGrp&gt;
          &lt;/spb:rqst&gt;
       &lt;/spb:spppUpdateRequest&gt;
  &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
       
       </pre>
<p></p>
<div id="#rfc.figure.25"></div>
<div id="#Example2"></div>
<pre>
        
&lt;soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:spb="urn:ietf:params:xml:ns:sppp:base:1"&gt;
   &lt;soapenv:Header/&gt;
   &lt;soapenv:Body&gt;
      &lt;spb:spppQueryRequest 
      xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd" 
      xmlns="urn:ietf:params:xml:ns:sppp:base:1" 
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
          &lt;spb:minorVer&gt;1&lt;/spb:minorVer&gt;
          &lt;spb:rqst xsi:type="spb:GetDestGrpsRqstType"&gt;
              &lt;spb:objKey&gt;
                  &lt;spb:rant&gt;registrant2&lt;/spb:rant&gt;
                  &lt;spb:name&gt;DEST_GRP_SPPP_5&lt;/spb:name&gt;
              &lt;/spb:objKey&gt;
          &lt;/spb:rqst&gt;
      &lt;/spb:spppQueryRequest&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
       
       </pre>
<p></p>
<div id="#rfc.figure.26"></div>
<div id="#Example3"></div>
<pre>
        
&lt;soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:spb="urn:ietf:params:xml:ns:sppp:base:1"&gt;
   &lt;soapenv:Header/&gt;
   &lt;soapenv:Body&gt;
      &lt;spb:spppQueryRequest 
      xsi:schemaLocation="urn:ietf:params:xml:ns:sppp:base:1 sppp.xsd" 
      xmlns="urn:ietf:params:xml:ns:sppp:base:1" 
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
          &lt;spb:clientTransId&gt;999&lt;/spb:clientTransId&gt;
          &lt;spb:minorVer&gt;1&lt;/spb:minorVer&gt;
          &lt;spb:rqst xsi:type="spb:DelDestGrpRqstType"&gt;
              &lt;spb:objKey&gt;
                  &lt;spb:rant&gt;registrant2&lt;/spb:rant&gt;
                  &lt;spb:name&gt;DEST_GRP_SPPP_5&lt;/spb:name&gt;
              &lt;/spb:objKey&gt;
          &lt;/spb:rqst&gt;
      &lt;/spb:spppQueryRequest&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
       
       </pre>
<p></p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#SecurityConsiderations" id="SecurityConsiderations">Security Considerations</a>
</h1>
<p id="rfc.section.10.p.1">SPPP is used to query and update session peering data and addresses, so the ability to access this protocol should be limited to users and systems that are authorized to query and update this data.  Because this data is sent in both directions, it may not be sufficient for just the client or user to be authenticated with the server.  The identity of the server should also be authenticated by the client, which is often accomplished using the TLS certificate exchange and validation described in <a href="#RFC2818">[RFC2818]</a>.  SPPP data may include sensitive information, routing data, lists of resolvable addresses, etc.  So when used in a production setting and across non-secure networks, SPPP should only be used over communications channels that provide strong encryption for data privacy.</p>
<h1 id="rfc.section.10.1">
<a href="#rfc.section.10.1">10.1.</a> <a href="#IntegrityPrivacyAuthentication" id="IntegrityPrivacyAuthentication">Integrity, Privacy, and Authentication</a>
</h1>
<p id="rfc.section.10.1.p.1">The SPPP SOAP binding relies on an underlying secure transport for integrity and privacy.  Such transports are expected to include TLS/HTTPS.  In addition to the application level authentication imposed by an SPPP server, there are a number of options for authentication within the transport layer and the messaging envelope.  These include TLS client certificates, HTTP Digest Access Authentication, and digital signatures within SOAP headers. </p>
<p id="rfc.section.10.1.p.2">At a miniumum, all conforming SPPP over SOAP implementations MUST support HTTPS.</p>
<h1 id="rfc.section.10.2">
<a href="#rfc.section.10.2">10.2.</a> <a href="#Vulnerabilities" id="Vulnerabilities">Vulnerabilities</a>
</h1>
<p id="rfc.section.10.2.p.1">The above protocols may have various vulnerabilities, and these may be inherited by SPPP over SOAP.  And SPPP itself may have vulnerabilities because an authorization model is not explicitly specified in the current specification.  </p>
<p id="rfc.section.10.2.p.2">It is important that SPPP implementations implement an authorization model that considers the source of each SPPP query or update request and determines whether it is reasonable to authorize that source to perform that specific query or update. </p>
<h1 id="rfc.section.10.3">
<a href="#rfc.section.10.3">10.3.</a> <a href="#DeploymentEnvironmentSpecifics" id="DeploymentEnvironmentSpecifics">Deployment Environment Specifics</a>
</h1>
<p id="rfc.section.10.3.p.1">Some deployments of SPPP over SOAP could choose to use transports without encryption.  This presents vulnerabilities but could be selected for deployments involving closed networks or debugging scenarios.  However, the vulnerabilities of such a deployment could be a lack of integrity and privacy of the data transported over SPPP messages in this type of deployment.</p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#IANAConsiderations" id="IANAConsiderations">IANA Considerations</a>
</h1>
<p id="rfc.section.11.p.1">This document uses URNs to describe XML namespaces and XML schemas conforming to a registry mechanism described in <a href="#RFC3688">[RFC3688]</a>.  </p>
<p id="rfc.section.11.p.2">URN assignments are requested:  urn:ietf:params:xml:ns:sppp:soap</p>
<h1 id="rfc.section.12">
<a href="#rfc.section.12">12.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.12.p.1">This document is a result of various discussions held by the DRINKS design team, which is comprised of the following individuals, in no specific order: Syed Ali (NeuStar), Sumanth Channabasappa (Cable Labs), David Schwartz (XConnect), Jean-Francois Mule (CableLabs), Kenneth Cartwright (TNS, Inc.), Manjul Maharishi (TNS, Inc.), Alexander Mayrhofer (enum.at GmbH).  </p>
<h1 id="rfc.references">
<a href="#rfc.references">13.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">13.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3688">[RFC3688]</b></td>
<td class="top">
<a>Mealling, M.</a>, "<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>", BCP 81, RFC 3688, January 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5246">[RFC5246]</b></td>
<td class="top">
<a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2617">[RFC2617]</b></td>
<td class="top">
<a href="mailto:john@math.nwu.edu" title="Northwestern University, Department of Mathematics">Franks, J.</a>, <a href="mailto:pbaker@verisign.com" title="Verisign Inc.">Hallam-Baker, P.M.</a>, <a href="mailto:jeff@AbiSource.com" title="AbiSource, Inc.">Hostetler, J.L.</a>, <a href="mailto:lawrence@agranat.com" title="Agranat Systems, Inc.">Lawrence, S.D.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.J.</a>, <a title="Netscape Communications Corporation">Luotonen, A.</a> and <a href="mailto:stewart@OpenMarket.com" title="Open Market, Inc.">L. Stewart</a>, "<a href="http://tools.ietf.org/html/rfc2617">HTTP Authentication: Basic and Digest Access Authentication</a>", RFC 2617, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2616">[RFC2616]</b></td>
<td class="top">
<a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a> and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2616, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.draft-ietf-drinks-spprov">[I-D.draft-ietf-drinks-spprov]</b></td>
<td class="top">
<a>Mule, J-F.M.</a>, <a>Cartwright, K.C.</a>, <a>Ali, S.A.</a> and <a>A.M. Mayrhofer</a>, "<a href="http://tools.ietf.org/html/draft-ietf-drinks-spprov-09">DRINKS Use cases and Protocol Requirements</a>", Internet-Draft draft-ietf-drinks-spprov-09, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="SOAPREF">[SOAPREF]</b></td>
<td class="top">
<a>Gudgin, M.</a>, <a>Hadley, M.</a>, <a>Moreau, J.</a> and <a>H. Nielsen</a>, "<a>SOAP Version 1.2 Part 1: Messaging Framework</a>", W3C Recommendation REC-SOAP12-part1-20030624, June 2002.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">13.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2818">[RFC2818]</b></td>
<td class="top">
<a>Rescorla, E.</a>, "<a href="http://tools.ietf.org/html/rfc2818">HTTP Over TLS</a>", RFC 2818, May 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5321">[RFC5321]</b></td>
<td class="top">
<a>Klensin, J.</a>, "<a href="http://tools.ietf.org/html/rfc5321">Simple Mail Transfer Protocol</a>", RFC 5321, October 2008.</td>
</tr>
<tr>
<td class="reference"><b id="WSDLREF">[WSDLREF]</b></td>
<td class="top">
<a>Christensen, E.</a>, <a>Curbera, F.</a>, <a>Meredith, G.</a> and <a>S. Weerawarana</a>, "<a>Web Services Description Language (WSDL) 1.1</a>", W3C Note NOTE-wsdl-20010315, March 2001.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Kenneth Cartwright</span> 
	  <span class="n hidden">
		<span class="family-name">Cartwright</span>
	  </span>
	</span>
	<span class="org vcardline">TNS</span>
	<span class="adr">
	  <span>1939 Roland Clarke Place</span>

	  <span class="vcardline">
		<span class="locality">Reston</span>,  
		<span class="region">VA</span> 
		<span class="code">20191</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:kcartwright@tnsi.com">kcartwright@tnsi.com</a></span>

  </address>
</div>

</body>
</html>