Network Working Group                                         A. Akhter  
Internet Draft                                                 R. Asati  
Expires: October 2006                                         M. Khalid
                                                                        
                                                          cisco Systems 
                                                          April 5, 2006 
                                    
 
                                      
                       MPLS Benchmarking Methodology 
                   <draft-akhter-bmwg-mpls-meth-00.txt> 


Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-
   Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on October 5, 2006. 

Abstract 

   The purpose of this draft is to describe methodology specific to the 
   benchmarking of MPLS forwarding devices.  It builds upon the tenets 
   set forth in [RFC2544], [RFC2432] and other IETF Benchmarking 
   Methodology Working Group (BMWG) efforts.  This document seeks to 
   extend these efforts to the MPLS paradigm. 
 
 
 
Akhter, et al.         Expires October 5, 2006                 [Page 1] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

    

   The BMWG produces two major classes of documents: Benchmarking 
   Terminology documents and Benchmarking Methodology documents.  The 
   Terminology documents present the benchmarks and other related terms. 
   The Methodology documents define the procedures required to collect 
   the benchmarks cited in the corresponding Terminology documents. 

     

Table of Contents 

    
   1. Introduction...................................................3 
   2. Document Scope.................................................4 
   3. Key Words to Reflect Requirements..............................4 
   4. Test Setup.....................................................4 
      4.1. Test Considerations.......................................5 
         4.1.1. IGP Support..........................................5 
         4.1.2. LDP Support..........................................6 
         4.1.3. Frame Sizes..........................................6 
         4.1.4. TTL..................................................6 
         4.1.5. Trial Duration.......................................6 
         4.1.6. Traffic Verification.................................6 
         4.1.7. Address Resolution and Dynamic Protocol State........6 
         4.1.8. Abbreviations Used...................................7 
   5. Reporting Format...............................................7 
   6. Test Cases - MPLS Forwarding...................................8 
      6.1. MPLS Forwarding and Throughput............................8 
         6.1.1. Unidirectional Static Label Imposition...............8 
         6.1.2. Unidirectional Static Single Label Disposition......10 
         6.1.3. Unidirectional Static Single Label Swap.............11 
         6.1.4. Bidirectional Static Single Label Imposition and 
         Disposition................................................13 
         6.1.5. Unidirectional Static Multi-label Imposition........15 
         6.1.6. Unidirectional Static Multi-label Disposition.......15 
         6.1.7. Unidirectional Static Single label Disposition with 
         Explicit-null..............................................15 
         6.1.8. Unidirectional Static Single label Swap with Explicit-
         null.......................................................15 
         6.1.9. Unidirectional Static Multi-label Disposition with 
         Explicit-null..............................................15 
         6.1.10. Unidirectional Static Single Label Disposition for 
         Aggregate Label............................................16 
         6.1.11. Unidirectional Static Single label Swap for Aggregate 
         Label......................................................16 

 
 
Akhter, et al.         Expires October 5, 2006                 [Page 2] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

         6.1.12. Unidirectional Multi-label Disposition with Explicit-
         null.......................................................16 
         6.1.13. Unidirectional Fragmentation with Imposition.......16 
         6.1.14. Unidirectional IPv6 Extension Header with Imposition16 
         6.1.15. Unidirectional IPv4 Router Options with Imposition.16 
      6.2. MPLS Forwarding - EXP Operation..........................16 
         6.2.1. IP-to-MPLS path - Label Imposition - EXP............16 
         6.2.2. MPLS-to-MPLS path - Label Imposition - EXP..........16 
         6.2.3. MPLS-to-IP path - Label Disposition - EXP...........16 
      6.3. MPLS Forwarding Delay Measurement........................16 
         6.3.1. Forwarding Delay in IP-to-MPLS path - Single Label 
         Imposition.................................................17 
         6.3.2. Forwarding Delay in IP-to-MPLS path - Multi Label 
         Imposition.................................................17 
         6.3.3. Forwarding Delay in MPLS-to-MPLS path - Single Label 
         Swap.......................................................17 
         6.3.4. Forwarding Delay in MPLS-to-MPLS path - Multi Label Swap
         ...........................................................17 
         6.3.5. Forwarding Delay in MPLS-to-IP path - Single Label 
         disposition................................................17 
         6.3.6. Forwarding Delay in MPLS-to-IP path - Multi Label 
         disposition................................................17 
      6.4. MPLS Forwarding Negative Characterization................17 
         6.4.1. MPLS TTL Timeout....................................17 
         6.4.2. MPLS topmost label's EOS bit within a label stack...17 
         6.4.3. MPLS label stack's depth............................17 
         6.4.4. MPLS packet received on a non-MPLS interface........17 
   7................................................................18 
   8................................................................18 
   9................................................................18 
   10. Security Considerations......................................18 
   11. IANA Considerations..........................................18 
   12. References...................................................19 
      12.1. Normative References....................................19 
   Author's Addresses...............................................19 
   Intellectual Property Statement..................................20 
   Disclaimer of Validity...........................................20 
   Copyright Statement..............................................21 
   Acknowledgment...................................................21 
    
1. Introduction 

   Over the past several years MPLS networks have gained greater 
   popularity, however there is no standard method to compare and 
   contrast the varying implementations and their strong and weak 
   points. This document proposes several criterias and a methodology 

 
 
Akhter, et al.         Expires October 5, 2006                 [Page 3] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

   for the comparison of various implementations of basic MPLS 
   forwarding devices. 

2. Document Scope 

    

   Generic MPLS is a foundation enabling technology for other more 
   advanced technologies such as IPv4 MPLS-VPNS, Layer 2 VPNs, and MPLS 
   Traffic Engineering. This document will limit it self to only generic 
   MPLS such as basic label forwarding and LDP for control-plane 
   activities. Child technologies will be covered in a subsequent set of 
   documents.  

    

   An accompanying document titled 'Terminology for MPLS Benchmarking' 
   defines many of the terms used in this document. The terminology 
   should be consulted before attempting to make use of this document. 

3. Key Words to Reflect Requirements 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in BCP 14, RFC 2119 
   [Br97].  RFC 2119 defines the use of these key words to help make the 
   intent of standards track documents as clear as possible.  While this 
   document uses these keywords, this document is not a standards track 
   document. 

4. Test Setup 

   The set of methodologies described in this document will use the 
   topologies described in this section. An effort has been made to 
   exclude superfluous equipment needs such that each test can be 
   carried out with the minimum number of requirements. 

    









 
 
Akhter, et al.         Expires October 5, 2006                 [Page 4] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

                    +-----------------+ 
    +---------+     |                 |     +---------+ 
    | Test    |     |                 |     | Test    | 
    | Port A1 +-----+ DA1         DB1 -----+ Port B1 | 
    +---------+     |                 |     +---------+ 
    +---------+     |       DUT       |     +---------+ 
    | Test    |     |                 |     | Test    | 
    | Port A2 +-----+ DA2         DB2 +-----+ Port B2 | 
    +---------+     |                 |     +---------+ 
         ...        |                 |        ... 
    +---------+     |                 |     +---------+ 
    | Test    |     +-----------------+     | Test    | 
    | Port Ax |                             | Port Bx | 
    +---------+                             +---------+ 
    

                  Figure 1 Topology #1, Basic Forwarding  

    

   Where (x) is determined by the maximum unidirectional forwarding 
   throughput of the DUT and the load capacity of the media between the 
   Test Ports and DUT. For example, if the DUT's forwarding throughput 
   is 100 frames per second (fps), and the media capacity is 50 fps than 
   x = 2.  

   The minimum value for Bx is 2, as multiple B interfaces are needed 
   for head of line blocking testing (Section TBD).  

4.1. Test Considerations 

   This methodology assumes a full-duplex uniform medium topology. The 
   medium used MUST be reported in each test result. Issues regarding 
   mixed transmission media, speed mismatches, media header differences 
   etc, are not under consideration. Flow control, QoS, Graceful Restart 
   and other non-essential traffic or traffic-effecting features MUST be 
   disabled, unless explicitly requested by the test case. 

4.1.1. IGP Support 

   All of the interfaces (A1, DA1, DB1, A2..) MUST support an IGP such 
   as IS-IS or OSPF. While technically, MPLS can work in conjunction 
   with RIP, EIGRP, or static routes etc, practically, devices will be 
   used with either OSPF or IS-IS. Furthermore, there are testing 
   considerations in this document that the device is able to provide a 
   stable control-plane during heavy forwarding. 

 
 
Akhter, et al.         Expires October 5, 2006                 [Page 5] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

    

4.1.2. LDP Support 

   The DUT must support at least one protocol for exchanging MPLS 
   labels. The most commonly used protocol is Label Distribution 
   Protocol (LDP)[RFC3036]. All of the interfaces connected to the DUT 
   such as A1, DA1, DB1, A2 etc., MUST support Label Distribution 
   Protocol (LDP) for IPv4 or IPv6 FECs. The test traffic generator will 
   need to learn and advertise labels from and to the DUT using LDP. 

4.1.3. Frame Sizes 

   Each test SHOULD be run with different frame sizes. For Ethernet, the 
   recommended sizes are 64, 128, 256, 512, 1024, 1280 and 1518.  
   Recommended sizes for other media can be found in RFC 2544.  

   In addition to the individual frame size test runs, an IMIX traffic 
   run SHOULD also be included. 

   When testing different frame sizes, the DUT configuration should 
   remain the same.  

4.1.4. TTL 

   The MPLS TTL or IP TTL (depending on which portion of the packet the 
   DUT is basing the forwarding behavior) MUST be large enough to 
   traverse the DUT.  

4.1.5. Trial Duration 

   Unless otherwise specified, the test portion of each trial SHOULD be 
   no less than 30 seconds when static routing is in place and no less 
   than 200 seconds when a dynamic routing protocol and LDP are being 
   used. 

4.1.6. Traffic Verification 

   In all cases the sent traffic MUST be accounted for, whether it was 
   received on the wrong port, correct port or not received at all. In 
   addition, the payload of the packet MUST be verified, as well as 
   checksum, frame sequencing and correct TTL decrementing.  

4.1.7. Address Resolution and Dynamic Protocol State 

    

 
 
Akhter, et al.         Expires October 5, 2006                 [Page 6] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

   If the test or media is making use of a dynamic protocol (eg ARP, 
   OSPF, LDP), all state for the protocols should be pre-established 
   before the start of the test. 

    

4.1.8. Abbreviations Used 

4.1.8.1. PxRNy 

     Port based Remote Network  

     P := port (could be A or B) 

     x: = port number  

     RN := Remote Network (can also be thought of as a network that is 
     reachable via ) Px. 

     y := number of network. (ie the first network reachable via B1 would 
     be called B1RN1 and the 5th  network would be called B1RN5) 

      

4.1.8.2. PxAN 

    

  Port Based Attached Network  

  P := port (could be A or B) 

  x: = port number  

  AN := Attached (connected) Network   

    

5. Reporting Format 

    

   For each test case, it is recommended that the following variables be 
   reported in addition to the specific parameters requested by the test 
   case: 

    
 
 
Akhter, et al.         Expires October 5, 2006                 [Page 7] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

        Parameter                     Unit 

        IGP                           ISIS or OSPF 

        Interface Type                GigE, POS, ATM etc 

        Interface Speed               1 gbps, 100 Mbps, etc 

        Interface Encapsulation       VLAN, PPP, HDLC 

        Packet Size                   Bytes 

        Number of A and B             1A, 2B 
        interfaces 

    

6. Test Cases - MPLS Forwarding 

6.1. MPLS Forwarding and Throughput 

   This section contains the description of the tests that are related 
   to the characterization of frame forwarding of a DUT in various MPLS 
   environments.  

6.1.1. Unidirectional Static Label Imposition 

   Objective 

     To obtain the maximum label imposition throughput for a regular 
     (IPv4 or IPv6) packet by the DUT.  

   Test Setup 

     It is recommended that a single A and B interface SHOULD be used. 
     However, if the forwarding throughput of the DUT is more than that 
     of the media rate, then additional A and B interfaces MUST be 
     enabled so as to match up the DUT's forwarding throughput. The 
     traffic streams offered MUST conform to section 16 of RFC 2544.  

     For this unidirectional test, the test tool will be sending 
     unlabeled traffic to ports DAx and receiving labeled traffic on 
     ports Bx. 

     The DUT will be configured such that a single network address will 
     be reachable via each Bx port. For example, there will be the 
     connected network on the link between DB1 and B1, and a single 
 
 
Akhter, et al.         Expires October 5, 2006                 [Page 8] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

     network (B1RN1) will be reachable via B1's Layer 3 address.  Test 
     tool traffic will be destined to an address in each BxRN1. 

      

     The DUT will be statically configured to impose a unique non-null 
     label for each BxRN1 

    

   Discussion 

      

   Procedure 

     Offer traffic from port Ax towards DUT at a constant load towards 
     all BxRN1 addresses for a fixed duration of time.  

     If any frame loss is detected, the offered load is decreased and 
     the sender will transmit again. An iterative search algorithm MUST 
     be used to determine the maximum offered frame rate with a zero 
     frame loss. 

     Each iteration will involve varying the offered load of the regular 
     traffic, while keeping the other parameters (test duration, number 
     of interfaces, number of addresses, frame size etc) constant, until 
     the maximum rate at which none of the offered frames are dropped is 
     determined. 

      

   Reporting Format 

     The following parameters MUST be reflected in the test report, in 
     addition to the parameters in section 4: 

      

     o Maximum throughput as defined in RFC 2432 

     o Values for each BxRN1 (eg 1.1.1.0/24) 

      



 
 
Akhter, et al.         Expires October 5, 2006                 [Page 9] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

     Results for each test SHOULD be in the form of a table with a row 
     for each of the tested frame sizes. Additional columns SHOULD 
     include: offered load and measured throughput.  

      

    

6.1.2. Unidirectional Static Single Label Disposition 

    

   Objective 

     To obtain the maximum label disposition throughput for a regular 
     (IPv4) packet by the DUT.  

      

   Test Setup 

     It is recommended that a single A and B interface SHOULD be used. 
     However, if the forwarding throughput of the DUT is more than that 
     of the media rate, then additional A and B interfaces MUST be 
     enabled so as to match up the DUT's forwarding throughput. The 
     traffic streams offered MUST conform to section 16 of RFC 2544.  

     For this unidirectional test, the test tool will be sending labeled 
     traffic to ports DAx and receiving on ports Bx. 

     The DUT will be configured such that a single network address will 
     be reachable via each Bx port. For example, there will be the 
     connected network on the link between DB1 and B1 (B1AN), and a 
     single network (B1RN1) will be reachable via B1's Layer 3 address.   

     The DUT will be statically configured such that each BxRN1 and BxAN 
     is assigned a unique non-null label, and that label is installed in 
     the LFIB. 

     Test tool traffic will be destined to BxRN1 and BxAN in a weighted 
     round robin fashion. The labels assigned to BxRN1 and BxAN on the 
     DUT will be used. The weighting ratio between  BxRN1 and BxAN is a 
     constant test parameter. A suggested ratio is 1:100 with 
     BxAN:BxRN1. 

    

 
 
Akhter, et al.         Expires October 5, 2006                [Page 10] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

   Discussion 

      

   Procedure 

     Offer traffic from port Ax towards DUT at a constant load towards 
     all BxRN1 addresses for a fixed duration of time.  

     If any frame loss is detected, the offered load is decreased and 
     the sender will transmit again. An iterative search algorithm MUST 
     be used to determine the maximum offered frame rate with a zero 
     frame loss. 

     Each iteration will involve varying the offered load of the regular 
     traffic, while keeping the other parameters (test duration, number 
     of interfaces, number of addresses, frame size, ratio of BxAN and 
     BxRN1 etc) constant, until the maximum rate at which none of the 
     offered frames are dropped is determined. 

   Reporting Format 

     The following parameters MUST be reflected in the test report, in 
     addition to the parameters in section 4: 

     o Maximum throughput as defined in RFC 2432 

     o Values for each BxAN (eg 1.1.1.0/24) 

     o Ratio of BxAN:BxRN1 

      

     Results for each test SHOULD be in the form of a table with a row 
     for each of the tested frame sizes. Additional columns SHOULD 
     include: offered load and measured throughput.  

    

6.1.3. Unidirectional Static Single Label Swap 

    

   Objective 

     To obtain the maximum label swap throughput for a labeled packet by 
     the DUT.  
 
 
Akhter, et al.         Expires October 5, 2006                [Page 11] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

      

   Test Setup 

     Although only a single A and B interface SHOULD be used, it is 
     possible that the forwarding capacity of the box may exceed the 
     media capacity. In such a case additional A and B interfaces MUST 
     be enabled and traffic streams offered MUST conform to section 16 
     of RFC 2544.  

     For this unidirectional test, the test tool will be sending labeled 
     traffic to ports DAx and receiving labeled traffic on ports Bx. 

     The DUT will be configured such that a single network address will 
     be reachable via each Bx port. For example, there will be the 
     connected network on the link between DB1 and B1 (B1AN), and a 
     single network (B1RN1) will be reachable via B1's Layer 3 address.   

     The DUT will be statically configured such that each BxRN1 is 
     assigned a unique non-null label, and that label is installed in 
     the LFIB. 

     The DUT will be statically configured such that each BxRN1 incoming 
     label (defined above) also has an outgoing label associated with 
     the Bx next-hop, such that a label swap will occour. 

     Test tool traffic will be destined to BxRN1. The labels assigned to 
     BxRN1 on the DUT will be used. 

    

   Discussion 

      

   Procedure 

     Offer traffic from port Ax towards DUT at a constant load towards 
     all BxRN1 addresses for a fixed duration of time.  

     If any frame loss is detected, the offered load is decreased and 
     the sender will transmit again. An iterative search algorithm MUST 
     be used to determine the maximum offered frame rate with a zero 
     frame loss. 

     Each iteration will involve varying the offered load of the regular 
     traffic, while keeping the other parameters (test duration, number 
 
 
Akhter, et al.         Expires October 5, 2006                [Page 12] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

     of interfaces, number of addresses, frame size, etc) constant, 
     until the maximum rate at which none of the offered frames are 
     dropped is determined. 

      

   Reporting Format 

     The following parameters MUST be reflected in the test report, in 
     addition to the parameters in section 4: 

     o Maximum throughput as defined in RFC 2432 

      

     Results for each test SHOULD be in the form of a table with a row 
     for each of the tested frame sizes. Additional columns SHOULD 
     include: offered load and measured throughput.  

    

    

6.1.4. Bidirectional Static Single Label Imposition and Disposition 

    

   Objective 

     To obtain the maximum label imposition and disposition throughput 
     for a labeled packet by the DUT.  

      

   Test Setup 

     Although only a single A and B interface SHOULD be used, it is 
     possible that the forwarding capacity of the box may exceed the 
     media capacity. In such a case additional A and B interfaces MUST 
     be enabled and traffic streams offered MUST conform to section 16 
     of RFC 2544.  

      

     For this bidirectional test, the test tool will be 
     sending/receiving labeled traffic via ports DAx and 
     receiving/sending unlabeled traffic via ports DBx. 
 
 
Akhter, et al.         Expires October 5, 2006                [Page 13] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

      

     The DUT will be configured such that a single network address will 
     be reachable via each Bx and Ax port. For example, there will be 
     the connected network on the link between DB1 and B1 (B1AN), and a 
     single network (B1RN1) will be reachable via B1's Layer 3 address.   

      

     The DUT will be statically configured such that each AxRN1 is 
     assigned a unique non-null label, and that label is installed in 
     the LFIB as an outgoing label for AxRN1. Each BxRN1 will also be 
     assigned a label, but this label will have an outgoing behavior of 
     'pop'. 

      

     Test tool traffic will be destined to BxRN1 and AxRN1. The labels 
     assigned to BxRN1 on the DUT will be used in traffic via DAx to 
     BxRN1. Traffic destined to AxRN1 will be unlabeled and sent via 
     DBx. 

    

   Discussion 

      

   Procedure 

     Offer traffic from port Ax towards DUT at a constant load towards 
     all BxRN1 addresses for a fixed duration of time. At the same time, 
     traffic is offered from Bx towards DUT at a constant load towards 
     the AxRN1 addresses.  

      

     If any frame loss is detected, the offered load is decreased on 
     both Ax and Bx and the sender will transmit again. An iterative 
     search algorithm MUST be used to determine the maximum offered 
     frame rate with a zero frame loss. 

      

     Each iteration will involve varying the offered load of the regular 
     traffic, while keeping the other parameters (test duration, number 
     of interfaces, number of addresses, frame size, etc) constant, 
 
 
Akhter, et al.         Expires October 5, 2006                [Page 14] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

     until the maximum rate at which none of the offered frames are 
     dropped is determined. 

      

   Reporting Format 

     The following parameters MUST be reflected in the test report, in 
     addition to the parameters in section 4: 

      

     . Maximum throughput as defined in RFC 2432 
     . If the load out of Ax and Bx are not the same, the differences 
       must be noted. 
      

     Results for each test SHOULD be in the form of a table with a row 
     for each of the tested frame sizes. Additional columns SHOULD 
     include: offered load and measured throughput.  

    

    

6.1.5. Unidirectional Static Multi-label Imposition 

    

6.1.6. Unidirectional Static Multi-label Disposition 

    

6.1.7. Unidirectional Static Single label Disposition with Explicit-null 

    

6.1.8. Unidirectional Static Single label Swap with Explicit-null 

    

6.1.9. Unidirectional Static Multi-label Disposition with Explicit-null 

    


 
 
Akhter, et al.         Expires October 5, 2006                [Page 15] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

6.1.10. Unidirectional Static Single Label Disposition for Aggregate 
   Label 

    

6.1.11. Unidirectional Static Single label Swap for Aggregate Label 

    

6.1.12. Unidirectional Multi-label Disposition with Explicit-null 

6.1.13. Unidirectional Fragmentation with Imposition 

6.1.14. Unidirectional IPv6 Extension Header with Imposition 

6.1.15. Unidirectional IPv4 Router Options with Imposition 

    

6.2. MPLS Forwarding - EXP Operation 

    

6.2.1. IP-to-MPLS path - Label Imposition - EXP  

6.2.2. MPLS-to-MPLS path - Label Imposition - EXP  

6.2.3. MPLS-to-IP path - Label Disposition - EXP  

    

    

6.3. MPLS Forwarding Delay Measurement 

   This measures the time taken by the DUT to forward the MPLS packet 
   during various MPLS switching paths such as IP-to-MPLS or MPLS-to-
   MPLS involving one or more labels. 

   The forwarding delay measurement requires the accurate propagation 
   delay measurement as prerequisite.  

   One of the propagation delay measurement mechanisms is to connect two 
   test ports such as A1 and B1 with the wire length=X (bypass DA1 and 
   DB1) and measure the time (t1) taken by the packet to reach from A1 
   to B1.   

 
 
Akhter, et al.         Expires October 5, 2006                [Page 16] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

   Once the time t1 has been recorded, then the DUT should be inserted 
   such that the test port A1 connects to DA1 and B1 connects to DB1, 
   and the sum of A1-DA1 wire length and B1-DB1 wire length equals X. 

   The packet should be sent from A1 to B1 such that the packet is 
   received by DA1, which after consulting with its forwarding table, 
   forwards the packet to B1 via DB1. The time (t2) taken by the packet 
   to reach B1 (from A1) is recorded. 

   The difference of time t2-t1 would provide the ballpark measurement 
   of DUT's forwarding delay.  

   The measurement for t2 could be performed under the following six 
   cases and the forward delay could be measured accordingly. 

     

6.3.1. Forwarding Delay in IP-to-MPLS path - Single Label Imposition 

6.3.2. Forwarding Delay in IP-to-MPLS path - Multi Label Imposition 

6.3.3. Forwarding Delay in MPLS-to-MPLS path - Single Label Swap 

6.3.4. Forwarding Delay in MPLS-to-MPLS path - Multi Label Swap 

6.3.5. Forwarding Delay in MPLS-to-IP path - Single Label disposition 

6.3.6. Forwarding Delay in MPLS-to-IP path - Multi Label disposition 

    

6.4. MPLS Forwarding Negative Characterization 

   The purpose of such characterization is to subject the DUT to various 
   negative forwarding scenarios and ensure that the DUT behaves 
   appropriately.  

6.4.1. MPLS TTL Timeout  

6.4.2. MPLS topmost label's EOS bit within a label stack 

6.4.3. MPLS label stack's depth 

6.4.4. MPLS packet received on a non-MPLS interface 

    

 
 
Akhter, et al.         Expires October 5, 2006                [Page 17] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

    

7.  

8.  

9.  

10. Security Considerations 

   During the course of test, the test topology must be disconnected 
   from devices that may forward the test traffic into a production 
   environment. 

   There are no specific security considerations within the scope of 
   this document. 

11. IANA Considerations 

   There are no considerations for IANA at this time. 



























 
 
Akhter, et al.         Expires October 5, 2006                [Page 18] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

12.  References 

12.1. Normative References 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC 2119, March 1997. 

   [RFC2544] Bradner, S. and McQuaid, J., "Benchmarking Methodology for 
             Network Interconnect Devices", RFC 2544, March 1999. 

   [RFC2432] Dubray, K., "Terminology for IP Multicast Benchmarking", 
             RFC 2432, October 1998. 

   [RFC3036] Andersson, L., Doolan, P., Feldman, N., Fredette, A. and B. 
             Thomas, "LDP Specification", RFC 3036, January 2001. 

    

Author's Addresses 

   Aamer Akhter 
   Cisco Systems 
   7025 Kit Creek Road 
   RTP, NC 27709 
   USA 
       
   Phone: 919 392 2564 
   Email: aakhter@cisco.com 
 

   Mohamed Khalid 
   Cisco Systems 
   7025 Kit Creek Road 
   RTP, NC 27709 
   USA 
       
   Phone: 919 392 3260 
   Email: mkhalid@cisco.com 
    








 
 
Akhter, et al.         Expires October 5, 2006                [Page 19] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

   Rajiv Asati 
   Cisco Systems 
   7025 Kit Creek Road 
   RTP, NC 27709 
   USA 
       
   Phone: 919 392 8558 
   Email: rajiva@cisco.com 
    

    

Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org. 

Disclaimer of Validity 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 


 
 
Akhter, et al.         Expires October 5, 2006                [Page 20] 

Internet-Draft      MPLS Benchmarking Methodology            April 2006 
    

Copyright Statement 

   Copyright (C) The Internet Society (2006). 

   This document is subject to the rights, licenses and restrictions 
   contained in BCP 78, and except as set forth therein, the authors 
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 

 

































 
 
Akhter, et al.         Expires October 5, 2006                [Page 21] 

