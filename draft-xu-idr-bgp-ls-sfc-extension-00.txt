



Network Working Group                                              X. Xu
Internet-Draft                                                    Huawei
Intended status: Standards Track                          April 28, 2014
Expires: October 30, 2014


               BGP Link-State Extensions for SR-based SFC
                  draft-xu-idr-bgp-ls-sfc-extension-00

Abstract

   The Segment Routing mechanism can be leveraged to realize the service
   path layer functionality of the Service Function Chaining (i.e,
   steering traffic through the service function path).  The link-state
   IGPs (i.e., IS-IS and OSPF) have been extended to advertise service
   information including services and the corrresponding service segment
   identifiers.  For the purpose of building service function paths
   which span across IGP areas, or even across ASes, this draft defines
   extensions to the BGP Link-state address-family to carry service
   information including services and the corrresponding service segment
   identifiers.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on October 30, 2014.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Xu                      Expires October 30, 2014                [Page 1]

Internet-Draft     BGP-LS Extensions for SR-based SFC         April 2014


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  BGP-LS Extensions for SR-based SFC  . . . . . . . . . . . . .   3
     3.1.  Node Attribute TLVs . . . . . . . . . . . . . . . . . . .   3
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   [I-D.xu-spring-sfc-use-case] describes a particular use case for
   SPRING where the Segment Routing (SR) mechanism is leveraged to
   realize the service path layer functionality of the SFC (i.e,
   steering traffic through the service function path).  To allow the
   service classifier to encode the segment list represeting a
   particular service path, the classifier needs to know on which
   service node(s) a given service is located and what segment ID (SID)
   is used to indicate that service on a given service node.The link-
   state IGPs (i.e., IS-IS [I-D.xu-isis-service-sid-adv] and OSPF
   [I-D.xu-ospf-service-sid-adv]) have been extended to advertise
   service information including services and the corresponding service
   SIDs.  However, the flooding-based propagation using IGPs is limited
   by the perimeter of the IGP domain.

   To address the need for applications that require visibility into
   LSDB across IGP areas, or even across ASes, the BGP-LS address-
   family/sub-address-family have been defined that allows BGP to carry
   LSDB information.  The BGP Network Layer Reachability Information
   (NLRI) encoding format for BGP-LS and a new BGP Path Attribute called
   BGP-LS attribute are defined in [I-D.ietf-idr-ls-distribution].  The
   identifying key of each LSDB object, namely a node, a link or a
   prefix, is encoded in the NLRI and the properties of the object are
   encoded in the BGP-LS attribute.





Xu                      Expires October 30, 2014                [Page 2]

Internet-Draft     BGP-LS Extensions for SR-based SFC         April 2014


   This document describes extensions to BGP-LS to carry service
   informaiton inlcuding services and their corresponding service SIDs.
   With such extensions, a service path can be computed across IGP
   areas, or even across ASes.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  Terminology

   This memo makes use of the terms defined in
   [I-D.ietf-idr-ls-distribution]

3.  BGP-LS Extensions for SR-based SFC

   The BGP-LS NLRI can be a node NLRI, a link NLRI or a prefix NLRI.
   The corresponding BGP-LS attribute is a node attribute, a link
   attribute or a prefix attribute.  BGP-LS defines the TLVs that map
   link-state information to BGP-LS NLRI and BGP-LS attribute.  This
   document adds additional BGP-LS attribute TLVs to encode service
   information currently including services and the corresponding
   service SIDs.  [I-D.xu-isis-service-sid-adv] defines the following
   two type of TLVs to encode service information:

   a.  Service TLVs

   b.  Service SID Sub-TLVs

   Therefore, the document defined the corresponding Node Attribute TLVs
   in the following subsection.

3.1.  Node Attribute TLVs

   The following 'Node Attribute' TLVs are defined:














Xu                      Expires October 30, 2014                [Page 3]

Internet-Draft     BGP-LS Extensions for SR-based SFC         April 2014


   +---------------+--------------------+----------+--------------------+
   | TLV Code Point| Description        | Length   | IS-IS Service      |
   |               |                    |          | TLV/sub-TLV        |
   +---------------+--------------------+----------+--------------------+
   |      TBD1     | Service 1 (S1)     | variable | Service TLV for S1 |
   |               |                    |          |                    |
   |     ...       |     ...            |   ...    |    ...             |
   |               |                    |          |                    |
   |      TBDn     | Service n (Sn)     | variable | Service TLV for Sn |
   |               |                    |          |                    |
   |      TBDn+1   | Service SID in     | variable | MPLS SID Sub-TLV   |
   |               | MPLS label format  |          |                    |
   |               |                    |          |                    |
   |      TBDn+2   | Service SID in     | variable | IPv6 SID Sub-TLV   |
   |               | IPv6 address format|          |                    |
   +---------------+--------------------+----------+--------------------+

   The sections refer to [I-D.xu-isis-service-sid-adv].  These TLVs can
   ONLY be added to the Node Attribute associated with the Node NLRI
   that originates the corresponding Service TLV.

4.  Acknowledgements

   TBD.

5.  IANA Considerations

   TBD.

6.  Security Considerations

   This document does not introduce any new security risk.

7.  References

7.1.  Normative References

   [I-D.ietf-idr-ls-distribution]
              Gredler, H., Medved, J., Previdi, S., Farrel, A., and S.
              Ray, "North-Bound Distribution of Link-State and TE
              Information using BGP", draft-ietf-idr-ls-distribution-04
              (work in progress), November 2013.

   [I-D.xu-isis-service-sid-adv]
              Xu, X., "Signaling Services and Service SIDs Using IS-IS",
              draft-xu-isis-service-sid-adv-00 (work in progress), April
              2014.




Xu                      Expires October 30, 2014                [Page 4]

Internet-Draft     BGP-LS Extensions for SR-based SFC         April 2014


   [I-D.xu-ospf-service-sid-adv]
              Xu, X., "Signaling Services and Service SIDs Using OSPF",
              draft-xu-ospf-service-sid-adv-00 (work in progress), April
              2014.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

7.2.  Informative References

   [I-D.xu-spring-sfc-use-case]
              Xu, X., "Service Function Chaining Use Case", draft-xu-
              spring-sfc-use-case-00 (work in progress), April 2014.

Author's Address

   Xiaohu Xu
   Huawei

   Email: xuxiaohu@huawei.com































Xu                      Expires October 30, 2014                [Page 5]
