

CCAMP Working Group                                     Alberto Bellato
Category: Internet Draft                                Michele Fontana
Expiration Date: August 2002                          Germano Gasparini
                                                           Gert Grammel
                                                              Jim Jones
                                                  Dimitri Papadimitriou
                                                                Alcatel

                                                          February 2002



        Traffic Engineering Routing Extensions to OSPF and ISIS
         for GMPLS Control of G.709 Optical Transport Networks

           draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt



Status of this Memo

   This document is an Internet-Draft and is in full conformance with
         all provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as "work in
   progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   Conventions used in this document:
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC-2119 [2].












D.Papadimitriou (Editor) et al. û Expires August 2002                1

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002



Abstract

   This document proposes the traffic engineering extensions to OSPF
   and IS-IS routing protocols to support dynamic Label Switched Path
   (LSP) processing when using Generalized MPLS signalling as defined
   in [GMPLS-SIG] and [GMPLS-G709] control for G.709 Optical Transport
   Networks (OTN).

1. Introduction

   A framework for controlling G.709 Optical Transport Networks (OTN)
   is described in [G709-FRM]. This document is based on TE extensions
   defined in [OSPF-TE] and [ISIS-TE] which have been extended for
   GMPLS in [GMPLS-OSPF-TE] and [GMPLS-ISIS-TE].

   The current proposal also uses the notion Link Bundling as defined
   in [MPLS-BDL]. A set of data bearing links between two adjacent
   GMPLS nodes (or simply nodes) is defined as a TE-link, which is
   identified by a TE link ID. GMPLS currently integrates the TE-link
   by detailing among others that several links having the same Traffic
   Engineering (TE) capabilities (i.e. same TE metric, same set of
   Resource Class and same Switching capability) can be advertised as a
   single TE-link. Such TE-links are referred to as link bundles whose
   individual data bearing link (or simply links) are referred to as
   component links; moreover, there is no longer a one-to-one
   association between a regular routing adjacency and a TE-link.

   In order to enable distributed G.709 OTN control, the IGP routing
   protocol needs to transport two different sets (or types) of
   information. First, a set that describes the link capabilities of a
   GMPLS G.709 OTN node (or simply a node in this context),
   independently of their usage. Second, a set that describes the OTN
   resources (more precisely the digital timeslots or the optical
   channels) that are in use at each TE link.

   The first set can be defined as being driven by less frequent
   updates (since TE link capabilities changes are not expected to be
   frequent) while the second would follow update interval values as
   than the one used for any other non-technology dependent TE Link
   attribute. We consider here that when this frequency is very low the
   corresponding TE-link capability is static; by opposition, other are
   referred to as dynamic.

   Moreover, in [G709-FRM], we describe the G.709 Optical Transport
   Hierarchy (OTH) as composed by a digital and an optical part. The
   first one includes the Digital Path Layer (i.e. the ODUk layers)
   while the second one includes the Optical Channel Layer (i.e. the
   OCh layer). Consequently we can define for of each of these
   hierarchies a separated set of specific TLV. We refer to the first
   set as LD (Link Digital) and to the second as LO (Link Optical).



D.Papadimitriou (Editor) et al. û Expires May 2002                   2

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   Consequently, for each of these sets, two specific sub-sets of
   information must be transported by an extended routing protocol to
   enable Traffic-Engineering of the G.709 LSPs (ODUk and OCh LSPs) in
   OTN. First, a set of information describing the TE-link capabilities
   (i.e. the OTM-n.m/OTM-nr.m/OTM-0.m interface capabilities)
   independently of their usage must be defined. Then a set of
   information describing the resources utilization (also referred to
   as ODUk or OCh component allocation) used at each TE-link and
   expressed in terms of number unallocated components.

   In this way, one reduces the amount of more static information
   (since changes are less frequent when considering TE-link
   capabilities) flooded throughout the routing protocol while keeping
   the more dynamic one (changes are more frequent when considering TE-
   link component allocation) confined to the layer to which this
   information is relevant.

   Therefore, for each of these sets, new TLVs are defined:

   1. G.709 TE-link capabilities:

      - LD-PC TLV : TE-Link ODUk Mapping Capability TLV
      - LD-MC TLV : TE-Link ODUk Multiplexing Capability TLV
      - LD-CC TLV : TE-Link ODUk virtual Concatenation Capability TLV
      - LO-MC TLV : TE-Link OCh  Multiplexing Capability TLV

   2. G.709 TE-link component allocation:

      - LD-CA TLV : TE-Link ODUk Component Allocation TLV
      - LO-CA TLV : TE-Link OCh  Component Allocation TLV

   It results from the TE-Link definition (see [MPLS-BDL]) that each
   component link of a bundled link must have the same G.709
   multiplexing and concatenation capabilities as defined hereafter.
   The corresponding TLVs (LD-MC, LO-MC and LD-CC) are specified once,
   and apply to each component link. No per component information or
   identification is required for these TLVs.

   Routing information is transported by OSPF in Link State
   Advertisements (LSAs) grouped in OSPF PDUs, and is transported by
   IS-IS in Link State PDUs (LSPs). When using OSPF, GMPLS TE links can
   be advertised using Opaque LSAs (Link State Advertisements) of Type
   10. The Traffic Engineering (TE) LSA, whose area flooding scope is
   specified [RFC-2370], has one top-level Type/Length/ Value (TLV)
   triplet and one or more nested sub-TLVs for extensibility.  The top-
   level TLV can take one of two following values (1) Router Address
   (referred to as the Node TLV) or (2) TE-Link TLV. So in this memo,
   we propose to extend the current sub-TLV set of the latter.

2. TE-Link Capabilities

   This section detail the TE-Link capabilities defined for the Digital
   Path (section 2.1) and the Optical Channel layer (section 2.2).

D.Papadimitriou (Editor) et al. û Expires May 2002                   3

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002



2.1 Digital Path Layer

   At the digital path layer (i.e. the ODUk layers) the TE-link
   capability TLVs includes:

      - LD-PC TLV : Link ODUk Mapping Capability TLV
      - LD-MC TLV : Link ODUk Multiplexing Capability TLV
      - LD-CC TLV : Link ODUk virtual Concatenation Capability TLV

2.1.1 Link ODUk Mapping Capability TLV (LD-PC TLV)

   The Link ODUk Mapping TLV (LD-PC TLV) represents the maximum number
   ODUk (k = 1, 2, 3) that can be allocated on a given TE link. The
   ODUk mapping capability simply translates the TE-link capacity in
   terms of the maximum number of supported ODUk signal components.

   In IS-IS, the LD-PC TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link ODUk Mapping Capability TLV (LD-PC TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 8          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU1        |        Maximum MP ODU2        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU3        |           Reserved            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS Link ODUk Mapping Capability TLV coding (Sub-TLV Type TBD and
   Length = 8):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU1        |        Maximum MP ODU2        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU3        |           Reserved            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The Maximum MP ODUk field indicates the maximum number of ODUk (k =
   1, 2, 3) that can be mapped into the corresponding number of OTUk.

2.1.2 Link ODUk Multiplexing Capability TLV (LD-MC TLV)

   Link ODUk Multiplexing Capability TLV (LD-MC TLV) describes the ODUk
   multiplexing structure available on a given link. This TLV indicates
   the signals that can be potentially allocated in an ODUk multiplex.


D.Papadimitriou (Editor) et al. û Expires May 2002                   4

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   As described in [ITUT-G709], in addition to the support of ODUk
   mapping into OTUk (k = 1, 2, 3), the current version of the G.709
   recommendation supports ODUk multiplexing. It refers to the
   multiplexing of ODUj (j = 1, 2) into an ODUk (k > j) signal, in
   particular:
      - ODU1 into ODU2 multiplexing
      - ODU1 into ODU3 multiplexing
      - ODU2 into ODU3 multiplexing
      - ODU1 and ODU2 into ODU3 multiplexing

   More precisely, ODUj into ODUk multiplexing (k > j) is defined when
   an ODUj is multiplexed into an ODUk Tributary Unit Group (i.e. an
   ODTUG constituted by ODU tributary slots) which is mapped into an
   OPUk. The resulting OPUk is then mapped into an ODUk and the ODUk is
   finally mapped into an OTUk. Subsequently, the OTUk is mapped into
   an OCh/OChr, which is then modulated onto an OCC/OCCr.

   In IS-IS, the LD-MC TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV with type TBD. In OSPF, this TLV is a sub-TLV of
   the Link TLV whose type is TBD.

   OSPF Link ODUk Multiplexing Capability TLV (LD-MC TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |         Length = 4            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |1|2|3|4|5|6|7|8|                  Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS Link ODUk Multiplexing Capability TLV coding (Sub-TLV Type TBD
   and Length = 4):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |1|2|3|4|5|6|7|8|                  Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The following values are currently defined:
      - Bit 1      : ODU1 multiplexing into ODU2
      - Bit 2      : ODU1 multiplexing into ODU3
      - Bit 3      : reserved for future use
      - Bit 4      : ODU2 multiplexing into ODU3
      - Bit 5 to 8 : reserved for future use

   A bit value of 1 indicates that the multiplexing capability is
   supported while a bit value of 0 indicates that the multiplexing
   capability is not supported. The support of ODU1 and ODU2 into ODU3
   multiplexing is defined by setting Bit 1 and Bit 4 to one.



D.Papadimitriou (Editor) et al. û Expires May 2002                   5

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   When Bit 1 to 8 are set to zero (in addition to the reserved field),
   ODUk multiplexing is not supported on the link: the corresponding
   ODUk signal is unstructured.

2.1.2 Link ODUk virtual Concatenation Capability TLV (LD-CC TLV)

   ODUk virtual concatenation refers to the concatenation of two or
   more identical ODUk signals as defined in [ITUT-G709]. The resulting
   signal is defined as an ODUk-Xv. The ODUk-Xv signal can then
   transport a non-OTN client signal, for instance, an ODU2-4v may
   transport an STM-256 client signal.

   The characteristic information of a virtual concatenated ODUk (ODUk-
   Xv) layer network is transported via a set of X ODUk LSP, each LSP
   having its own transfer delay. The egress G.709 node terminating the
   ODUk-Xv LSP has to compensate this differential delay in order to
   provide a contiguous payload at the output.

   In IS-IS, the Link ODUk Concatenation Capability TLV (LD-CC TLV) is
   defined as a sub-TLV of the Extended IS Reachability TLV whose Type
   is TBD. In OSPF, this TLV is a sub-TLV of the Link TLV, with type
   TBD.

   OSPF Link ODUk virtual Concatenation Capability TLV (LD-CC TLV)
   coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 8          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Max VC ODU1         |           Max VC ODU2         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Max VC ODU3         |            Reserved           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max VC indicates the Maximum number of ODUk (k = 1, 2, 3)
   signals that can compose an ODUk-Xv composed signals.

   ISIS Link ODUk virtual Concatenation Capability TLV coding (Sub-TLV
   Type TBD and Length = 8):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max VC ODU1          |           Max VC ODU3         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max VC ODU3          |             Reserved          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max VC indicates the Maximum number of ODUk (k = 1, 2, 3)
   signals that can compose an ODUk-Xv composed signals.


D.Papadimitriou (Editor) et al. û Expires May 2002                   6

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002



   The Max VC ODUk field (16-bit) indicates the maximum number of ODUk
   (k = 1, 2, 3) signals that can be virtually concatenated on the
   corresponding link. When Max VC ODUk = 0, it means that ODUk virtual
   multiplexing is not supported for the corresponding k index.

2.2 Optical Channel Layer

   At the Optical Channel layer (i.e. the OCh layer) the TE-link
   capability TLV includes only:

      - LO-MC TLV : Link OCh Multiplexing Capability TLV

2.2.1 Link OCh Multiplexing Capability TLV (LO-MC TLV)

   As described in [ITUT-G709], with reduced stack functionality: up to
   n (n >= 1) OCCr are multiplexed into an OCG-nr.m using wavelength
   division multiplexing. The OCCr tributary slots of the OCG-nr.m can
   be of different size. The number of OCCr that can be multiplexed
   into an OCG-nr.m is bounded by the following formula: 1 =< i + j + k
   =< n where i (respectively, k and j) represents the number of OChr
   carrying an OTU1 (respectively, OTU2 and OTU3). The OCG-nr.m is
   transported via the OTM-nr.m.

   With full stack functionality: up to n (n >= 1) OCC are multiplexed
   into an OCG-n.m using wavelength division multiplexing. The OCC
   tributary slots of the OCG-n.m can be of different size. The number
   of OCC that can be multiplexed into an OCG-n.m is bounded by the
   following formula: 1 =< i + j + k =< n where i (respectively, k and
   j) represents the number of OCh carrying an OTU1 (respectively, OTU2
   and OTU3). The OCG-n.m is transported via the OTM-n.m.

   In IS-IS, the LO-MC TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV with type TBD. In OSPF, this TLV is a sub-TLV of
   the Link TLV whose type is TBD.

   OSPF Link OCh Multiplexing Capability TLV (LO-MC TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |         Length = 8 (16)       |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | R |        Reserved           |               i               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               j               |               k               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Reserved           |           Extended i          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended j          |           Extended k          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



D.Papadimitriou (Editor) et al. û Expires May 2002                   7

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   ISIS Link OCh Multiplexing Capability TLV coding (Sub-TLV Type TBD
   and Length = 8 (or 16)):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | R |        Reserved           |               i               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               j               |               k               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Reserved           |           Extended i          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended j          |           Extended k          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R field (2 bits) indicates the OTM-x.m (x = rn or n) interfaces
   functionality support:
   - Value 0x00: each component link (OTM-n.m interface) belonging to
     the same link bundle can only have a full functionality support
   - Value 0x01: each component link (OTM-nr.m interface) belonging to
     the same link bundle can only have a reduced functionality support
   - Value 0x10: each component link (OTM-nr.m or OTM-n.m interface)
     belonging to the same link bundle can only have a reduced
     functionality or a full functionality support. This flag is used
     to indicate the extended form of the LO-MC TLV. In this case three
     additional fields representing the number of OCh having a non-
     associated overhead (naOH), each of these fields represents the
     number of OCh carrying an OTU1 (respectively, OTU2 and OTU3).
   - Value 0x11: each component link (OTM-n.m interface) belonging to
     the same link bundle has a vendor-specific implementation of the
     naOH transported through a specific supervisory channel

   The Extended i, j and k fields (16 bits) are defined as follows:
   - Value i (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU1 within a given TE-Link
   - Value j (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU2 within a given TE-Link
   - Value k (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU3 within a given TE-Link

3. TE-Link Component Allocation

   To detail the actual status of a TE-link (representing either a
   single component link or a bundled link), the following Component
   Allocation TLVs are defined:

      - LD-CA TLV : Link ODUk Component Allocation TLV
      - LO-CA TLV : Link OCh  Component Allocation TLV

3.1 Digital Path Layer

   The Link ODUk Component Allocation TLV (LD-CA TLV) represents the
   number of ODUk timeslots (also referred to as components) actually

D.Papadimitriou (Editor) et al. û Expires May 2002                   8

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   allocated on a given TE link and expressed in term of Number of
   Unallocated ODUk timeslots per k value (k = 1, 2, 3). Therefore,
   when advertised for the first time, this TLV represents the Maximum
   Number of ODUk components supported on a given TE link.

   The LD-CA TLV is defined in IS-IS as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link ODUk Component Allocation TLV (LD-CA TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 12         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where the V bit is reserved for future use (by default V = 0)

   ISIS Link ODUk Component Allocation TLV coding (Sub-TLV Type TBD and
   Length = 12):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where the V bit is reserved for future use (by default V = 0)

3.2 Optical Channel (OCh) Layer

   The Link OCh Component Allocation TLV (LO-CA TLV) represents the
   number of optical channel actually allocated on a given TE link.
   This TE Link can by definition include one (single link) or more
   than one (bundled link) OTM-nr.m or OTM-n.m interface. This
   allocation is expressed in terms of the Number of Unallocated
   Optical Channel per bit-rate, represented here as OCh1 (2.5 Gbps),
   OCh2 (10 Gbps) and OCh3 (40 Gbps), respectively. Therefore, when
   advertised for the first time, the Number of Unallocated OCh1, OCh2
   and OCh3 represents the Maximum Number of optical channels supported
   on a given TE link.


D.Papadimitriou (Editor) et al. û Expires May 2002                   9

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   The LO-CA TLV is defined in IS-IS as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link OCh Component Allocation TLV (LO-CA TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 12         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R bit indicates a reduced functionality stack (R = 1). So that
   when R = 0, the interface signal refers to an OTM-n.m. The value of
   this bit is irrelevant in any other situation.

   ISIS Link OCh Component Allocation TLV coding (Sub-TLV Type TBD and
   Length = 12):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R bit indicates a reduced functionality stack (R = 1). So that
   when R = 0, the interface signal refers to an OTM-n.m. The value of
   this bit is irrelevant in any other situation.

4. Security Considerations

   Routing protocol related security considerations are not discussed
   in this document.

5. References

   [GMPLS-ARCH] E.Mannie (Editor) et al., æGeneralized Multi-Protocol
                Label Switching (GMPLS) ArchitectureÆ, Internet Draft,
                Work in progress, draft-ietf-ccamp-gmpls-architecture-
                01.txt, November 2001.

   [G709-FRM]   A.Bellato, D.Papadimitriou (Editor) et al.,
                æGeneralized MPLS Signalling Extensions for G.709

D.Papadimitriou (Editor) et al. û Expires May 2002                  10

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


                Optical Transport NetworksÆ, Internet Draft, Work in
                progress, draft-fontana-ccamp-gmpls-g709-01.txt,
                November 2001.

   [GMPLS-ISIS-TE]      K.Kompella et al., æIS-IS Extensions in Support
                        of Generalized MPLS,Æ Internet Draft, Work in
                        progress, draft-ietf-isis-gmpls-extensions-
                        05.txt, February 2002.

   [GMPLS-LDP]  L.Berger (Editor) et al., æGeneralized MPLS Signaling -
                CR-LDP ExtensionsÆ, Internet Draft, Work in progress,
                draft-ietf-mpls-generalized-cr-ldp-05.txt, May 2001.

   [GMPLS-OSPF-TE]      K.Kompella et al., æOSPF Extensions in Support
                        of Generalized MPLS,Æ Internet Draft, Work in
                        progress, draft-ietf-ccamp-ospf-gmpls-
                        extensions-03.txt, February 2002.

   [GMPLS-RSVP] L.Berger (Editor) et al., æGeneralized MPLS Signaling -
                RSVP-TE ExtensionsÆ, Internet Draft, Work in progress,
                draft-ietf-mpls-generalized-rsvp-te-06.txt, November
                2001.

   [GMPLS-SIG]  L.Berger (Editor) et al., æGeneralized MPLS - Signaling
                Functional DescriptionÆ, Internet Draft, Work in
                progress, draft-ietf-mpls-generalized-signaling-07.txt,
                November 2001.

   [GMPLS-SSS]  E.Mannie (Editor) et al., æGeneralized MPLS û SDH/Sonet
                SpecificsÆ, Internet Draft, Work in progress, draft-
                ietf-ccamp-gmpls-sonet-sdh-02.txt, October 2001.

   [ISIS-TE]    T.Li et al.,æIS-IS Extensions for Traffic EngineeringÆ,
                draft-ietf-isis-traffic-04.txt, Internet Draft, Work in
                Progress, August 2001.

   [ITUT-G707]  ITU-T G.707 Recommendation, æNetwork node interface for
                the synchronous digital hierarchy (SDH)Æ, ITU-T, April
                2000.

   [ITUT-G709]  ITU-T G.709 version 1.0 (+ addendum), æInterface for
                the Optical Transport Network (OTN)Æ, ITU-T, October
                2001.

   [ITUT-G798]  ITU-T G.798 version 1.0, æCharacteristics of Optical
                Transport Network Hierarchy Equipment Functional
                BlocksÆ, ITU-T, October 2001.

   [ITUT-G872]  ITU-T G.872 Recommendation version 1.0, revision 6,
                æArchitecture of Optical Transport NetworkÆ, ITU-T,
                August 2001.



D.Papadimitriou (Editor) et al. û Expires May 2002                  11

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   [ITUT-GASTN] ITU-T G.807 Recommendation version 1.0, æAutomated
                Switched Transport NetworkÆ, ITU-T, February 2001.


   [MPLS-BDL]   K.Kompella et al., æLink Bundling in MPLS Traffic
                Engineering,Æ Internet Draft, draft-ietf-mpls-bundle-
                01.txt, November 2001.

   [OSPF-TE]    D.Katz, D.Yeung et K.Kompella, "Traffic Engineering
                Extensions to OSPF", draft-katz-yeung-ospf-traffic-
                06.txt, Internet Draft, Work in progress, October 2001.

   [RFC-2370]   R. Coltun, RFC 2370, Standard Track, "The OSPF Opaque
                LSA Option", IETF, July 1998.

6. Acknowledgments

   The authors would like to be thank Bernard Sales, Emmanuel Desmet,
   Jean-Loup Ferrant, Mathieu Garnot and Massimo Canali for their
   constructive comments and inputs.

7. Author's Addresses

   Alberto Bellato
   Alcatel
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7215
   Email: alberto.bellato@netit.alcatel.it

   Michele Fontana
   Alcatel
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7053
   Email: michele.fontana@netit.alcatel.it

   Germano Gasparini
   Alcatel
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7670
   Email: germano.gasparini@netit.alcatel.it

   Gert Grammel
   Alcatel
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7060
   Email: gert.grammel@netit.alcatel.it

   Jim Jones
   Alcatel

D.Papadimitriou (Editor) et al. û Expires May 2002                  12

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   3400 W. Plano Parkway,
   Plano, TX 75075, USA
   Phone: +1 972 519-2744
   Email: Jim.D.Jones1@usa.alcatel.com

   Dimitri Papadimitriou (Editor)
   Alcatel
   Francis Wellesplein 1,
   B-2018 Antwerpen, Belgium
   Phone: +32 3 240-8491
   Email: Dimitri.Papadimitriou@alcatel.be











































D.Papadimitriou (Editor) et al. û Expires May 2002                  13

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


Appendix 1 û Abbreviations

   1R           Re-amplification
   2R           Re-amplification and Re-shaping
   3R           Re-amplification, Re-shaping and Re-timing
   AI           Adapted information
   AIS          Alarm Indication Signal
   APS          Automatic Protection Switching
   BDI          Backward Defect Indication
   BEI          Backward Error Indication
   BI           Backward Indication
   BIP          Bit Interleaved Parity
   CBR          Constant Bit Rate
   CI           Characteristic information
   CM           Connection Monitoring
   EDC          Error Detection Code
   EXP          Experimental
   ExTI         Expected Trace Identifier
   FAS          Frame Alignment Signal
   FDI          Forward Defect Indication
   FEC          Forward Error Correction
   GCC          General Communication Channel
   IaDI         Intra-Domain Interface
   IAE          Incoming Alignment Error
   IrDI         Inter-Domain Interface
   MFAS         MultiFrame Alignment Signal
   MS           Maintenance Signal
   naOH         non-associated Overhead
   NNI          Network-to-Network interface
   OCC          Optical Channel Carrier
   OCG          Optical Carrier Group
   OCI          Open Connection Indication
   OCh          Optical Channel (with full functionality)
   OChr         Optical Channel (with reduced functionality)
   ODU          Optical Channel Data Unit
   OH           Overhead
   OMS          Optical Multiplex Section
   OMU          Optical Multiplex Unit
   OOS          OTM Overhead Signal
   OPS          Optical Physical Section
   OPU          Optical Channel Payload Unit
   OSC          Optical Supervisory Channel
   OTH          Optical transport hierarchy
   OTM          Optical transport module
   OTN          Optical transport network
   OTS          Optical transmission section
   OTU          Optical Channel Transport Unit
   PCC          Protection Communication Channel
   PLD          Payload
   PM           Path Monitoring
   PMI          Payload Missing Indication
   PRBS         Pseudo Random Binary Sequence
   PSI          Payload Structure Identifier

D.Papadimitriou (Editor) et al. û Expires May 2002                  14

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


   PT           Payload Type
   RES          Reserved
   RS           Reed-Solomon
   SM           Section Monitoring
   TC           Tandem Connection
   TCM          Tandem Connection Monitoring
   UNI          User-to-Network Interface


Appendix 2 û G.709 Indexes

   - Index k: The index "k" is used to represent a supported bit rate
     and the different versions of OPUk, ODUk and OTUk. k=1 represents
     an approximate bit rate of 2.5 Gbit/s, k=2 represents an
     approximate bit rate of 10 Gbit/s, k = 3 an approximate bit rate
     of 40 Gbit/s and k = 4 an approximate bit rate of 160 Gbit/s
     (under definition). The exact bit-rate values are in kbits/s:
    . OPU: k=1: 2 488 320.000, k=2:  9 995 276.962, k=3: 40 150 519.322
    . ODU: k=1: 2 498 775.126, k=2: 10 037 273.924, k=3: 40 319 218.983
    . OTU: k=1: 2 666 057.143, k=2: 10 709 225.316, k=3: 43 018 413.559

   - Index m: The index "m" is used to represent the bit rate or set of
     bit rates supported on the interface. This is a one or more digit
     ôkö, where each ôkö represents a particular bit rate. The valid
     values for m are (1, 2, 3, 12, 23, 123).

   - Index n: The index "n" is used to represent the order of the OTM,
     OTS, OMS, OPS, OCG and OMU. This index represents the maximum
     number of wavelengths that can be supported at the lowest bit rate
     supported on the wavelength. It is possible that a reduced number
     of higher bit rate wavelengths are supported. The case n=0
     represents a single channel without a specific wavelength assigned
     to the channel.

   - Index r: The index "r", if present, is used to indicate a reduced
     functionality OTM, OCG, OCC and OCh (non-associated overhead is
     not supported). Note that for n=0 the index r is not required as
     it implies always reduced functionality.
















D.Papadimitriou (Editor) et al. û Expires May 2002                  15

draft-gasparini-ccamp-gmpls-g709-ospf-isis-02.txt        February 2002


Full Copyright Statement


   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."




























D.Papadimitriou (Editor) et al. û Expires May 2002                  16
