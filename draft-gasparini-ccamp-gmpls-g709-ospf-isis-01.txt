

CCAMP Working Group                           Alberto Bellato (Alcatel)
Category: Internet Draft                      Michele Fontana (Alcatel)
Expiration Date: May 2002                   Germano Gasparini (Alcatel)
                                                 Gert Grammel (Alcatel)
                                                    Jim Jones (Alcatel)
                                        Dimitri Papadimitriou (Alcatel)

                                                          November 2001



        Traffic Engineering Routing Extensions to OSPF and ISIS
         for GMPLS Control of G.709 Optical Transport Networks

           draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt



Status of this Memo

   This document is an Internet-Draft and is in full conformance with
         all provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as "work in
   progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   Conventions used in this document:
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC-2119 [2].













D.Papadimitriou (Editor) et al. û Expires May 2002                   1

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


Abstract

   This document proposes the traffic engineering extensions to OSPF
   and IS-IS IGP routing protocols to support dynamic Label Switched
   Path (LSP) processing when using Generalized MPLS signalling as
   defined in [GMPLS-SIG] and [GMPLS-G709] control for G.709 Optical
   Transport Networks (OTN).

1. Introduction

   A framework for controlling G.709 Optical Transport Networks (OTN)
   is described in [G709-FRM]. This document is based on TE extensions
   defined in [OSPF-TE] and [ISIS-TE] which have been extended for
   GMPLS in [GMPLS-OSPF-TE] and [GMPLS-ISIS-TE]. It also refers to the
   notion of Forwarding Adjacency (FA) defined in [MPLS-HIER] and
   supports Link Bundling as defined in [MPLS-BDL].

   Routing information is transported by OSPF in Link State
   Advertisements (LSAs) grouped in OSPF PDUs, and is transported by
   IS-IS in Link State PDUs (LSPs).

   A set of data bearing link between two adjacent LSRs is defined as a
   TE link (and identified by a link ID). GMPLS integrates the TE-link
   notion by defining the following concepts:
   - links that are not Packet Switch Capable (PSC) may have TE
     properties; however, a Routing Adjacency (RA) cannot be brought up
     directly on such links
   - LSP can be advertised as a point-to-point TE-links in IGP routing
     protocol, i.e. as a Forwarding Adjacency (FA); thus, an advertised
     TE-link need no longer be between two direct neighbors (Forwarding
     Adjacencies (FA) are more extensively considered in [MPLS-HIER]).
   - several links having the same Traffic Engineering (TE)
     capabilities (i.e. same TE metric, same set of Resource Class and
     same Link Multiplexing capability) can be advertised as a single
     TE-link, such TE-links are referred to as link bundles whose
     individual link (or data bearing links) are referred to as
     component links; so there is no longer a one-to-one association
     between a regular routing adjacency and a TE-link.

   In [G709-FRM], we describe the G.709 hierarchy as composed by a
   digital hierarchy and an optical transport hierarchy. The first one
   includes the Digital Path Layer (i.e. the ODUk layers) while the OTH
   one includes the Optical Channel Layer (i.e. the OCh layer).
   Consequently we can define for of each of these hierarchies a
   separated set of specific TLV. We refer to the first set as LD (Link
   Digital) and to the second as LO (Link Optical).

   Moreover for each of these sets, two specific sub-sets of
   information must be transported by an extended routing protocol to
   enable Traffic-Engineering of the G.709 LSPs (ODUk and OCh LSPs) in
   OTN. First, a set of information describing the TE-link capabilities
   (i.e. the OTM-n.m/OTM-nr.m/OTM-0.m interface capabilities)
   independently of their usage must be defined. Then a set of

D.Papadimitriou (Editor) et al. û Expires May 2002                   2

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   information describing the resources utilization (also referred to
   as ODUk or OCh component allocation) used on each TE-link, i.e. the
   operational status of a link. This will reduce the amount of static
   information (changes are less frequent when considering TE-link
   capabilities) flooded throughout the routing domain while keeping
   the more dynamic one (changes are more frequent when considering TE-
   link component allocation) confined to the layer to which this
   information is relevant.

   Therefore, for each of these sets, new TLVs are defined:

   1. G.709 TE-link capabilities:

      - LD-MP TLV : Link ODUk Mapping Capability TLV
      - LD-MT TLV : Link ODUk Multiplexing Capability TLV
      - LD-VC TLV : Link ODUk Virtual Concatenation Capability TLV
      - LO-MT TLV : Link OCh  Multiplexing Capability TLV

   2. G.709 TE-link allocation:

      - LD-CA TLV : Link ODUk Component Allocation TLV
      - LO-CA TLV : Link OCh  Component Allocation TLV

   It results from the TE-link definition (see [MPLS-BDL]) that each
   component link of a bundled link must have the same G.709
   multiplexing and concatenation capabilities as defined hereafter.
   The corresponding TLVs (LD-MT, LO-MT and LD-VC) are specified once,
   and apply to each component link. No per component information or
   identification is required for these TLVs.

2. TE-Link Capabilities

   This section detail the TE-Link capabilities defined for the Digital
   Path (section 2.1) and the Optical Channel layer (section 2.2).

2.1 Digital Path Layer

   At the digital path layer (i.e. the ODUk layers) the TE-link
   capability TLVs includes:

      - LD-MP TLV : Link ODUk Mapping Capability TLV
      - LD-MT TLV : Link ODUk Multiplexing Capability TLV
      - LD-VC TLV : Link ODUk Virtual Concatenation Capability TLV

2.1.1 Link ODUk Mapping Capability TLV (LD-MP TLV)

   The Link ODUk Mapping TLV (LD-MP TLV) represents the maximum number
   ODUk (k = 1, 2, 3) that can be allocated on a given TE link. The
   ODUk mapping capability simply translates the TE-link capacity in
   terms of the maximum number of supported ODUk signal components.




D.Papadimitriou (Editor) et al. û Expires May 2002                   3

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   In IS-IS, the LD-MP TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link ODUk Mapping Capability TLV (LD-MP TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 8          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU1        |        Maximum MP ODU2        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU3        |           Reserved            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS Link ODUk Component Allocation TLV coding (Sub-TLV Type TBD and
   Length = 8):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU1        |        Maximum MP ODU2        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU3        |           Reserved            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The Maximum MP ODUk field indicates the number of ODUk (k = 1, 2, 3)
   that can be mapped into the corresponding OTUk.

2.1.2 Link ODUk Multiplexing Capability TLV (LD-MT TLV)

   Link ODUk Multiplexing Capability TLV (LD-MT TLV) describes the ODUk
   multiplexing structure available on a given link. This TLV indicates
   the signals that can be potentially allocated in an ODUk multiplex.

   At this layer, ODUk (flexible) multiplexing as described in [GMPLS-
   G709], two levels of ODUk multiplexing are defined:
   - ODU1 multiplexing: four ODU1 are multiplexed into one OPU2 which
     is mapped into one ODU2 or sixteen ODU1 are multiplexed into one
     OPU3 which is mapped into one ODU3
   - ODU2 multiplexing: four ODU2 are multiplexed into one OPU3 which
     is mapped into one ODU3

   More precisely, ODUj into ODUk multiplexing (k > j) is defined when
   an ODUj is multiplexed into an ODUk Tributary Unit Group (i.e. an
   ODTUG constituted by ODU tributary slots) which is mapped into an
   OPUk. The resulting OPUk is mapped into an ODUk and the ODUk is
   mapped into an OTUk. The OTUk is mapped into an OCh/OChr which is
   then modulated onto an OCC/OCCr.




D.Papadimitriou (Editor) et al. û Expires May 2002                   4

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   In IS-IS, the LD-MT TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV with type TBD. In OSPF, this TLV is a sub-TLV of
   the Link TLV whose type is TBD.

   OSPF Link ODUk Multiplexing Capability TLV (LD-MT TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |         Length = 4            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |1|2|3|4|5|6|7|8|                  Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS ODUk Multiplexing Capability TLV coding (Sub-TLV Type TBD and
   Length = 4):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |1|2|3|4|5|6|7|8|                  Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The following values are currently defined:
   - Bit 1 is set to 1: support of ODU1 multiplexing into ODU2.
   - Bit 2 is set to 1: support of ODU1 multiplexing into ODU3
   - Bit 3 is set to 0 and reserved for future use
   - Bit 4 is set to 1: support of ODU2 multiplexing into ODU3
   - Bit 5 to 8 are set to 0 and reserved for future use

   When Bit 1 to 8 are set to zero (in addition to the reserved field),
   ODUk multiplexing is not supported on the link: the corresponding
   ODUk signal is unstructured. The support of ODU1 into ODU2 into ODU3
   multiplexing is defined by setting Bit 1 and 4 to one.

2.1.2 Link ODUk Virtual Concatenation Capability TLV (LD-VC TLV)

   ODUk Inverse multiplexing is currently under specification at the
   ITU-T. Inverse multiplexing is implemented by means of virtual
   concatenation of two or more than two ODUk signals. The resulting
   signal is defined as ODUk-Xv. The ODUk-Xv signal can then transport
   a non-OTN client signal, for instance, an ODU2-4v may transport an
   STM-256 client signal.

   The characteristic information of a virtual concatenated ODUk (ODUk-
   Xv) layer network is transported via a set of X ODUk LSP, each LSP
   having its own transfer delay. The egress G709-LSR terminating the
   ODUk-Xv LSP has to compensate this differential delay in order to
   provide a contiguous payload at the output.

   In IS-IS, the Link ODUk Concatenation Capability TLV (LD-VC TLV) is
   defined as a sub-TLV of the Extended IS Reachability TLV whose Type


D.Papadimitriou (Editor) et al. û Expires May 2002                   5

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   is TBD. In OSPF, this TLV is a sub-TLV of the Link TLV, with type
   TBD.

   OSPF Link ODUk Concatenation Capability TLV (LD-VC TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 8          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Max VC ODU1         |           Max VC ODU2         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Max VC ODU3         |            Reserved           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max VC means the Maximum number of virtually concatenated ODUk
   (k = 1, 2, 3)

   ISIS Link ODUk Concatenation Capability TLV coding (Sub-TLV Type TBD
   and Length = 8):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max VC ODU1          |           Max VC ODU3         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max VC ODU3          |             Reserved          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max VC is the Maximum number of virtually concatenated ODUk (k
   = 1, 2, 3)

   The Max VC ODUk field (16-bit) indicates the maximum number of ODUk
   (k = 1, 2, 3) that can be virtually concatenated on the
   corresponding link. When Max VC ODUk = 0, it means that ODUk virtual
   multiplexing is not supported for the corresponding k index.

   Notice that we assume here that levels of virtually concatenated
   signals are only discrete and given by the 2 x 2^N formula (N > 1)
   other levels usage are left for further study.

2.2 Optical Channel Layer

   At the Optical Channel layer (i.e. the OCh layer) the TE-link
   capability TLV includes only:

      - LO-MT TLV : Link OCh Multiplexing Capability TLV

2.2.1 Link OCh Multiplexing Capability TLV (LO-MT TLV)

   As described in [G709-FRM], with reduced stack functionality: up to
   n (n >= 1) OCCr are multiplexed into an OCG-nr.m using wavelength
   division multiplexing. The OCCr tributary slots of the OCG-nr.m can

D.Papadimitriou (Editor) et al. û Expires May 2002                   6

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   be of different size. The number of OCCr that can be multiplexed
   into an OCG-nr.m is bounded by the following formula: 1 =< i + j + k
   =< n where i (respectively, k and j) represents the number of OChr
   carrying an OTU1 (respectively, OTU2 and OTU3). The OCG-nr.m is
   transported via the OTM-nr.m.

   With full stack functionality: up to n (n >= 1) OCC are multiplexed
   into an OCG-n.m using wavelength division multiplexing. The OCC
   tributary slots of the OCG-n.m can be of different size. The number
   of OCC that can be multiplexed into an OCG-n.m is bounded by the
   following formula: 1 =< i + j + k =< n where i (respectively, k and
   j) represents the number of OCh carrying an OTU1 (respectively, OTU2
   and OTU3). The OCG-n.m is transported via the OTM-n.m.

   In IS-IS, the LO-MT TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV with type TBD. In OSPF, this TLV is a sub-TLV of
   the Link TLV whose type is TBD.

   OSPF Link OCh Multiplexing Capability TLV (LO-MT TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |         Length = 8 (16)       |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | R |        Reserved           |               i               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               j               |               k               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Reserved           |           Extended i          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended j          |           Extended k          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS Link OCh Multiplexing Capability TLV coding (Sub-TLV Type TBD
   and Length = 8 (or 16)):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | R |        Reserved           |               i               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               j               |               k               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Reserved           |           Extended i          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended j          |           Extended k          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R field indicates the OTM-x.m (x = rn or n) interfaces
   functionality support:
   - Value 0x00: each component link (OTM-n.m interface) belonging to
     the same link bundle can only have a full functionality support

D.Papadimitriou (Editor) et al. û Expires May 2002                   7

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   - Value 0x01: each component link (OTM-nr.m interface) belonging to
     the same link bundle can only have a reduced functionality support
   - Value 0x10: each component link (OTM-nr.m or OTM-n.m interface)
     belonging to the same link bundle can only have a reduced
     functionality or a full functionality support. This flag is used
     to indicate the extended form of the LO-MC TLV. In this case three
     additional fields representing the number of OCh having a non-
     associated overhead (naOH), each of these fields represents the
     number of OCh carrying an OTU1 (respectively, OTU2 and OTU3).
   - Value 0x11: each component link (OTM-n.m interface) belonging to
     the same link bundle has a vendor-specific implementation of the
     naOH transported through a specific supervisory channel

   The Extended i, j and k fields are therefore defined as follows:
   - Value i (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU1 within a given TE-Link
   - Value j (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU2 within a given TE-Link
   - Value k (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU3 within a given TE-Link

3. TE-Link Component Allocation

   To detail the actual status of a TE-link (representing either a
   single component link or a bundled link), the following Component
   Allocation TLVs are defined:

      - LD-CA TLV : Link ODUk Component Allocation TLV
      - LO-CA TLV : Link OCh  Component Allocation TLV

3.1 Digital Path Layer

   The Link ODUk Component Allocation TLV (LD-CA TLV) represents the
   number of ODUk actually allocated for a TE link expressed in term of
   unallocated ODUk. Therefore, when advertised for the first time, the
   Number of Unallocated ODUk represents the Maximum Number of ODUk
   supported on a given TE link.

   The LD-CA TLV is defined in IS-IS as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link ODUk Component Allocation TLV (LD-CA TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 12         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

D.Papadimitriou (Editor) et al. û Expires May 2002                   8

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


      |V|                  Number Unallocated ODU3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where the V bit is reserved for future use (by default V = 0)

   ISIS Link ODUk Component Allocation TLV coding (Sub-TLV Type TBD and
   Length = 12):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where the V bit is reserved for future use (by default V = 0)

3.2 Optical Channel Layer

   The Link OCh Component Allocation TLV (LO-CA TLV) represents the
   number of OCh actually allocated for a given TE link including one
   (single link) or more than one (bundled link) OTM-nr.m or OTM-n.m
   interface. This allocation is expressed in terms of the number of
   unallocated OCh1, OCh2 and OCh3. Therefore, when advertised for the
   first time, the Number of Unallocated OCh1, OCh2 and OCh3 represents
   the Maximum Number of optical channels supported on a given TE link.

   The LO-CA TLV is defined in IS-IS as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link OCh Component Allocation TLV (LO-CA TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 12         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R bit indicates a reduced functionality stack (R = 1). So that
   when R = 0, the interface signal refers to an OTM-n.m. The value of
   this bit is irrelevant in other situations.



D.Papadimitriou (Editor) et al. û Expires May 2002                   9

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   ISIS Link OCh Component Allocation TLV coding (Sub-TLV Type TBD and
   Length = 12):

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R bit indicates a reduced functionality stack (R = 1). So that
   when R = 0, the interface signal refers to an OTM-n.m. The value of
   this bit is irrelevant in other situations.

4. Security Considerations

   Security considerations are not discussed in this document.

5. References

   1. [GMPLS-ARCH] E. Mannie et al., æGeneralized Multi-Protocol Label
   Switching (GMPLS) ArchitectureÆ, Internet Draft, Work in progress,
   draft-ietf-ccamp-gmpls-architecture-01.txt, July 2001.

   2. [GMPLS-G709] A. Bellato et al., æGeneralized MPLS Signalling
   Extensions for G.709 Optical Transport NetworksÆ, Internet Draft,
   Work in progress, draft-fontana-ccamp-gmpls-g709-01.txt, November
   2001.

   3. [GMPLS-ISIS-TE] K. Kompella et al., æIS-IS Extensions in Support
   of Generalized MPLS,Æ Internet Draft, Work in progress, draft-ietf-
   isis-gmpls-extensions-01.txt, September 2001.

   4. [GMPLS-LDP] P. Ashwood-Smith et al., æGeneralized MPLS Signaling -
   CR-LDP ExtensionsÆ, Internet Draft, Work in progress, draft-ietf-
   mpls-generalized-cr-ldp-04.txt, May 2001.

   5. [GMPLS-OSPF-TE] K. Kompella et al., æOSPF Extensions in Support of
   Generalized MPLS,Æ Internet Draft, Work in progress, draft-ietf-
   ccamp-ospf-gmpls-extensions-00.txt, September 2001.

   6. [GMPLS-RSVP] P. Ashwood-Smith, L. Berger et al., æGeneralized
   MPLS Signaling - RSVP-TE ExtensionsÆ, Internet Draft, Work in
   progress, draft-ietf-mpls-generalized-rsvp-te-05.txt, October 2001.

   7. [GMPLS-SIG] P. Ashwood-Smith, L. Berger et al., æGeneralized MPLS
   - Signaling Functional DescriptionÆ, Internet Draft, Work in
   progress, draft-ietf-mpls-generalized-signaling-06.txt, October 2001.



D.Papadimitriou (Editor) et al. û Expires May 2002                  10

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   8. [GMPLS-SSS] E. Mannie et al., æGeneralized MPLS û SDH/Sonet
   SpecificsÆ, Internet Draft, Work in progress, draft-ietf-ccamp-gmpls-
   sonet-sdh-02.txt, October 2001.

   9. [G709-FRM] A. Bellato et al., æG.709 Optical Transport Networks
   GMPLS Control FrameworkÆ, Internet Draft, Work in progress, draft-
   bellato-ccamp-g709-framework-01.txt, November 2001.

   10. [ITUT-G707] æNetwork node interface for the synchronous digital
   hierarchy (SDH)Æ, ITU-T Recommendation, April 2000.

   11. [ITUT-G709] æInterface for the Optical Transport Network (OTN)Æ,
   ITU-T Recommendation, February 2001.

   12. [ITUT-G872] æArchitecture of Optical Transport NetworkÆ, ITU-T
   draft version, February 2001.

   13. [ISIS-TE] T. Li et al.,æIS-IS Extensions for Traffic
   EngineeringÆ, draft-ietf-isis-traffic-04.txt, Internet Draft, Work
   in Progress, August 2001.

   14. [MPLS-BDL] K. Kompella et al., æLink Bundling in MPLS Traffic
   Engineering,Æ Internet Draft, draft-kompella-mpls-bundle-05.txt,
   March 2001.

   14. [OSPF-TE] D. Katz et al., "Traffic Engineering Extensions to
   OSPF", draft-katz-yeung-ospf-traffic-06.txt, Internet Draft, Work in
   progress, September 2001.

   15. [RFC-2370] R. Coltun, RFC 2370, "The OSPF Opaque LSA Option",
   July 1998.

6. Acknowledgments

   The authors would like to be thank Bernard Sales, Emmanuel Desmet,
   Jean-Loup Ferrant, Mathieu Garnot and Massimo Canali for their
   constructive comments and inputs.

   This draft incorporates concepts and ideas developed draft-mannie-
   mpls-sdh-ospf-isis-00.txt.

7. Author's Addresses

   Michele Fontana
   Alcatel 
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7053
   Email: michele.fontana@netit.alcatel.it

   Germano Gasparini
   Alcatel 
   Via Trento 30,

D.Papadimitriou (Editor) et al. û Expires May 2002                  11

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   I-20059 Vimercate, Italy
   Phone: +39 039 686-7670
   Email: germano.gasparini@netit.alcatel.it

   Alberto Bellato
   Alcatel 
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7215
   Email: alberto.bellato@netit.alcatel.it

   Gert Grammel
   Alcatel 
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7060
   Email: gert.grammel@netit.alcatel.it

   Jim Jones
   Alcatel 
   3400 W. Plano Parkway,
   Plano, TX 75075, USA
   Phone: +1 972 519-2744
   Email: Jim.D.Jones1@usa.alcatel.com

   Dimitri Papadimitriou (Editor)
   Alcatel 
   Francis Wellesplein 1,
   B-2018 Antwerpen, Belgium
   Phone: +32 3 240-8491
   Email: Dimitri.Papadimitriou@alcatel.be























D.Papadimitriou (Editor) et al. û Expires May 2002                  12

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


Appendix 1 û Abbreviations

   1R           Re-amplification
   2R           Re-amplification and Re-shaping
   3R           Re-amplification, Re-shaping and Re-timing
   AI           Adapted information
   AIS          Alarm Indication Signal
   APS          Automatic Protection Switching
   BDI          Backward Defect Indication
   BEI          Backward Error Indication
   BI           Backward Indication
   BIP          Bit Interleaved Parity
   CBR          Constant Bit Rate
   CI           Characteristic information
   CM           Connection Monitoring
   EDC          Error Detection Code
   EXP          Experimental
   ExTI         Expected Trace Identifier
   FAS          Frame Alignment Signal
   FDI          Forward Defect Indication
   FEC          Forward Error Correction
   GCC          General Communication Channel
   IaDI         Intra-Domain Interface
   IAE          Incoming Alignment Error
   IrDI         Inter-Domain Interface
   MFAS         MultiFrame Alignment Signal
   MS           Maintenance Signal
   naOH         non-associated Overhead
   NNI          Network-to-Network interface
   OCC          Optical Channel Carrier
   OCG          Optical Carrier Group
   OCI          Open Connection Indication
   OCh          Optical Channel (with full functionality)
   OChr         Optical Channel (with reduced functionality)
   ODU          Optical Channel Data Unit
   OH           Overhead
   OMS          Optical Multiplex Section
   OMU          Optical Multiplex Unit
   OOS          OTM Overhead Signal
   OPS          Optical Physical Section
   OPU          Optical Channel Payload Unit
   OSC          Optical Supervisory Channel
   OTH          Optical transport hierarchy
   OTM          Optical transport module
   OTN          Optical transport network
   OTS          Optical transmission section
   OTU          Optical Channel Transport Unit
   PCC          Protection Communication Channel
   PLD          Payload
   PM           Path Monitoring
   PMI          Payload Missing Indication
   PRBS         Pseudo Random Binary Sequence
   PSI          Payload Structure Identifier

D.Papadimitriou (Editor) et al. û Expires May 2002                  13

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


   PT           Payload Type
   RES          Reserved
   RS           Reed-Solomon
   SM           Section Monitoring
   TC           Tandem Connection
   TCM          Tandem Connection Monitoring
   UNI          User-to-Network Interface


Appendix 2 û G.709 Indexes

   - Index k: The index "k" is used to represent a supported bit rate
     and the different versions of OPUk, ODUk and OTUk. k=1 represents
     an approximate bit rate of 2.5 Gbit/s, k=2 represents an
     approximate bit rate of 10 Gbit/s, k = 3 an approximate bit rate
     of 40 Gbit/s and k = 4 an approximate bit rate of 160 Gbit/s
     (under definition). The exact bit-rate values are in kbits/s:
    . OPU: k=1: 2 488 320.000, k=2:  9 995 276.962, k=3: 40 150 519.322
    . ODU: k=1: 2 498 775.126, k=2: 10 037 273.924, k=3: 40 319 218.983
    . OTU: k=1: 2 666 057.143, k=2: 10 709 225.316, k=3: 43 018 413.559

   - Index m: The index "m" is used to represent the bit rate or set of
     bit rates supported on the interface. This is a one or more digit
     ôkö, where each ôkö represents a particular bit rate. The valid
     values for m are (1, 2, 3, 12, 23, 123).

   - Index n: The index "n" is used to represent the order of the OTM,
     OTS, OMS, OPS, OCG and OMU. This index represents the maximum
     number of wavelengths that can be supported at the lowest bit rate
     supported on the wavelength. It is possible that a reduced number
     of higher bit rate wavelengths are supported. The case n=0
     represents a single channel without a specific wavelength assigned
     to the channel.

   - Index r: The index "r", if present, is used to indicate a reduced
     functionality OTM, OCG, OCC and OCh (non-associated overhead is
     not supported). Note that for n=0 the index r is not required as
     it implies always reduced functionality.
















D.Papadimitriou (Editor) et al. û Expires May 2002                  14

draft-gasparini-ccamp-gmpls-g709-ospf-isis-01.txt        November 2001


Full Copyright Statement


   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."




























D.Papadimitriou (Editor) et al. û Expires May 2002                  15
