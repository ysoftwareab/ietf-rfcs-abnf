

     Internet Draft                                       Greg Vaudreuil 
     Expires in six months                           Lucent Technologies 
                                                           June 29, 2002  
                                                                        
                                 
                       Voice Messaging Directory Service 

                        <draft-ietf-vpim-vpimdir-03.txt> 

                                         

  Status of this Memo 

     This document is an Internet-Draft and is in full conformance with all 
     provisions of Section 10 of RFC2026. 

     This document is an Internet Draft.  Internet Drafts are working 
     documents of the Internet Engineering Task Force (IETF), its Areas, 
     and its Working Groups.  Note that other groups may also distribute 
     working documents as Internet Drafts. 

     Internet Drafts are valid for a maximum of six months and may be 
     updated, replaced, or obsoleted by other documents at any time.  It is 
     inappropriate to use Internet Drafts as reference material or to cite 
     them other than as a "work in progress". 

    
     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/1id-abstracts.html

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html
      

  Copyright Notice 

     Copyright (C) The Internet Society (2002).  All Rights Reserved. 

     This Internet-Draft is in conformance with Section 10 of RFC2026. 

  Overview 

     This document provides details of the VPIM directory service.  The 
     service provides the email address of the recipient given a telephone 
     number.  It optionally provides the spoken name of the recipient and 
     the media capabilities of the recipient.  

     Please send comments on this document to the VPIM working group 
     mailing list <vpim@lists.neystadt.org> 



     Internet Draft           VPIM Directory               June 29, 2002 


  Working Group Summary 

     This document is a synthesis of two earlier Internet drafts that 
     define a voice messaging schema's into a single working group 
     submission.  These documents are Anne Brown's <draft-ema-vpimdir-
     schema-01.txt> and Greg Vaudreuil's <draft-vaudreuil-vpimdir-avs-
     00.txt>. 

      














































     Vaudreuil                Expires 1/29/03                   [Page 2] 



     Internet Draft           VPIM Directory               June 29, 2002 


  Table of Contents 

  1.   ABSTRACT ..........................................................4 
  2.   SCOPE .............................................................4 
    2.1  Design Goals ....................................................4 
    2.2  Performance Constraints .........................................4 
    2.3  Scaling Constraints .............................................4 
    2.4  Reliability Constraints .........................................4 
  3.   THE VPIM DIRECTORY SCHEMA .........................................5 
    3.1  vPIMTelephoneNumber .............................................5 
    3.2  vPIMrfc822Mailbox ...............................................5 
    3.3  vPIMSpokenName ..................................................6 
    3.4  vPIMTextName ....................................................6 
    3.5  vPIMsupportedAudioMediaTypes ....................................6 
    3.6  vPIMsupportedMessageContexts ....................................6 
    3.7  vPIMextendedAbsenceStatus .......................................7 
    3.8  vPIMsupportedUABehaviors ........................................7 
    3.9  vPIMMaxMessageSize ..............................................8 
    3.10  vPIMsubMailbox .................................................8 
  4.   SECURITY CONSIDERATIONS ...........................................9 
  5.   REFERENCES ........................................................9 
  6.   ACKNOWLEDGMENTS ...................................................9 
  7.   COPYRIGHT NOTICE .................................................10 
  8.   AUTHORS' ADDRESSES ...............................................10 
  9.   CHANGE HISTORY ...................................................11 
  10.  STILL OPEN ISSUES ................................................11 
     




























     Vaudreuil                Expires 1/29/03                   [Page 3] 



     Internet Draft           VPIM Directory               June 29, 2002 


  1. Abstract 

     The VPIM directory extension to the inetOrgPerson Schema provides 
     essential additional attributes to recreate the voice mail user 
     experience using standardized directories.  This user experience 
     provides, at the time of addressing, assurances that the message will 
     be delivered as intended.   

  2. Scope  

  2.1 Design Goals 

     The VPIM directory Schema (VPIMDIR) is accessed from outside the 
     enterprise or service provider domain using the recipient's telephone 
     number. 

  2.2 Performance Constraints 

     Once the identity of the VPIM directory server is known, the email 
     address, capabilities, and spoken name confirmation information can be 
     retreived. This query is expected to use LDAP, a connection-oriented 
     protocol.  The protocol transaction includes multiple packet round-
     trips to execute the query and retreival and is considered to be the 
     most at-risk element of the infrastructure.  Further, retreival of the 
     confirmation information may require the return of a spoken name 
     segment up to 20kbytes (5 seconds at 4kbytes/second).  Over a 
     sufficiently engineered Internet connection, a 1250 ms response time 
     is believed to be achievable over the Internet at large. 

  2.3 Scaling Constraints 

     A service provider's namespace is expected to include entries for tens 
     of million subscribers in a flat namespace based on the VPIM inter-
     domain address form: telephone number@domain_name.  A large 
     corporation may have a hundred-thousand entries while a large service 
     provider may have tens of millions of entries in a single domain.  It 
     is expected that there will be a single public address validation 
     service for a given service providers network.  It is believed that 
     existing directory technology inclusing horizontal scaleability will 
     provide sufficient transaction throughput within the required latency 
     requirements to address this need.  The only fundamental new 
     requirement this application imposes on directory servers beyond 
     similar existing services is the ability to return the recipients 
     spoken name, a record an order of magnitude larger than common textual 
     elements.  Preliminary investigation suggests that storage and 
     retreival of spoken name will not add appreciable latency, however it 
     will add to the need for storage capacity. 

  2.4 Reliability Constraints 

     DNS provides well-documented redundancy and load-ballancing 
     capabilities for the VPIMDIR.  However, the latency requirements to 
     the end-user may not permit client-side fail-over to a secondary 


     Vaudreuil                Expires 1/29/03                   [Page 4] 



     Internet Draft           VPIM Directory               June 29, 2002 


     server and may require the directory server to be implemented as a 
     high-availablity service. 


   
  3. The VPIM Directory Schema 

     VPIMUser OBJECT-CLASS ::= { 
                AUXILLARY 
                SUBCLASS OF inetOrgPerson 
                MUST CONTAIN  
                      (vPIMrfc822Mailbox, 
                       vPIMtelephoneNumber ) 
                MAY CONTAIN 
                    (vPIMSpokenName $ 
                     vPIMsupportedUABehaviors $ 
                     vPIMsupportedAudioMediaTypes $ 
                     vPIMsupportedMessageContext $ 
                     vPIMTextName $  
                     vPIMextendedAbsenceStatus $ 
                     vPIMMaxMessageSize $ 
                     vPIMsubMailboxes) 
                ID } 

     When present, the vPIMUser may contain information useful to validate 
     that the dialed telephone number corresponds to the intended 
     recipient.  This object may further provide capabilities information 
     and mailbox status information useful to guide composition by the 
     sending user and to set delivery expectations at sending time. 

  3.1 vPIMTelephoneNumber 

     The normal search is for the full E164 form of the telephone number, 
     including any sub-addressing portion. 

     (2.16.840.1.113694.1.2.1.1.1 NAME 'vPIMTelephoneNumber'  
                         EQUALITY 2.5.13.20  
                         SYNTAX   '1.3.6.1.4.1.1466.115.121.1.50')  

     Example: A North American telephone number with the subaddress of 12 
     would be represented as +12145551212+12 . 

     The vPIMTelephoneNumber differs from telephoneNumber in the 
     inetOrgPerson in it's support for subaddressing information and it's 
     use as a voice messaging address.  In most cases, these values will be 
     the same.   

      

  3.2 vPIMrfc822Mailbox 

     The attribute vPIMrfc822Mailbox stores the inter-domain SMTP address    
     of the voice mailbox associated with a given telephone number.  It is 
     defined as a distinct attribute to distinguish it from the 

     Vaudreuil                Expires 1/29/03                   [Page 5] 



     Internet Draft           VPIM Directory               June 29, 2002 


     rfc822Mailbox attribute that may be used for other purposes. Although 
     it would be preferable to define vPIMrfc822Mailbox as a subtype of 
     rfc822Mailbox, it is defined here as an entirely new attribute because 
     some directory implementations do not support sub-typing. 

     (2.16.840.1.113694.1.2.1.1.2 NAME 'vPIMrfc822Mailbox'  
                       EQUALITY 1.3.6.1.4.1.1466.109.114.2  
                       SYNTAX   '1.3.6.1.4.1.1466.115.121.1.26 {64}')  

  3.3 vPIMSpokenName 

     The vPIMSpokenName attribute is an octet string and should be encoded 
     in 32 kbit/s ADPCM exactly as defined by [32KADPCM]. vPIMSpokenName 
     shall contain the spoken name of the user in the voice of the user. 
     The length of the spoken name segment must not exceed 5 seconds.  
     Private or additional encoding types are outside the scope of this 
     version.  
       

     (2.16.840.1.113694.1.2.1.1.3 NAME 'vPIMSpokenName'  
                     EQUAILTY 2.5.13.17  
                     SYNTAX '1.3.6.1.4.1.1466.115.121.1.40 {4000}') 

  3.4 vPIMTextName 

     The text name is designed to be consistent with the unstructured text 
     name databases used for calling name delivery service of caller ID. 

     (2.16.840.1.113694.1.2.1.1.4 NAME 'vPIMTextName'  
                       EQUALITY 1.3.6.1.4.1.1466.109.114.1  
                       SYNTAX   '1.3.6.1.4.1.1466.115.121.1.26 {20}')  

     The VPIMTextName is encoded in the UTF-8 character set [UTF8]. 

  3.5 vPIMsupportedAudioMediaTypes 

     The vPIMsupportedAudioMediaTypes attribute indicates the type(s) of 
     audio encodings that can be received at the address specified in 
     vPIMrfc822Mailbox. 

     (2.16.840.1.113694.1.2.1.1.5 NAME 'vPIMSupportedAudioMediaTypes'  
                     EQUALITY  2.5.13.2  
                     SYNTAX   '1.3.6.1.4.1.1466.115.121.1.15')  

     The allowable values of DirectoryString for this attribute are the 
     registered audio subtypes with IANA.  Non-standard and private 
     encoding types must be indicated by prepending the new type name with 
     either "X-" or "x-". 

  3.6 vPIMsupportedMessageContexts 

     The message context provides guidance to the sender about the message 
     contexts the recipient is likely to accept.  Message context provides 
     less precision about a given recipients capabilities than a list of 

     Vaudreuil                Expires 1/29/03                   [Page 6] 



     Internet Draft           VPIM Directory               June 29, 2002 


     media types. However, given the growing role of media-conversion 
     gateways, the context indicator provides more useful guidance to a 
     sending in a unified messaging environment.  

     (2.16.840.1.113694.1.2.1.1.5 NAME 'vPIMSupportedMessageContexts'  
                     EQUALITY  2.5.13.2  
                     SYNTAX   '1.3.6.1.4.1.1466.115.121.1.16') 

     The set of valid message context values are defined in [CONTEXT] as 
     extended by the indicated IANA registration. 

  3.7 vPIMextendedAbsenceStatus 

     It is common to have an attribute to indicate to the subscriber 
     whether the recipient is likely to check messages in the near future.  
     This feature called "extended absence" provides an advisory message at 
     sending time.  It is similar in concept to "vacation notices" common 
     for textual email but has it's own cultural and operational nuances. 

     (2.16.840.1.113694.1.2.1.1.6 NAME 'extendedAbsenceStatus'  
                     EQUALITY  2.5.13.2  
                     SYNTAX   '1.3.6.1.4.1.1466.115.121.1.15')  

      

     The three values defined are: 

                 "Off", "On", "MsgBlocked" 

     "Off" indicates that the recipient either does not support extended 
     absence or has not set such an indicator. "Off" if the default 
     condition if this attribute is not returned. 

     "On" indicates that the recipient has set an extended absence 
     indicator, but the mailbox is still accepting messages for review at 
     an unspecified future time. 

     "MsgBlocked" indicates that the recipient has set an extended absence 
     indicator and the mailbox is temporarly configured to reject incoming 
     messages.  Messages should not be sent to the recipient if this value 
     is returned in the extendedAbsenceStatus attribute. 

  3.8 vPIMsupportedUABehaviors 

     Internet mail does not provide facilities for the sender to know 
     whether the recipient supports a number of optional features that can 
     be requested or indicated in the RFC822 headers.  This attribute 
     provides a list of the attributes considered optional by VPIM and 
     other vendor-specific attributes that may be supported by the 
     recipient.  If this attribute is not supported, only those attributes 
     listed as manditory in VPIM are assumed to be supported.  Undisclosed 
     behaviors may be indicated in the RFC822 message, however there is no 
     assurance by the receiving system of their support.   


     Vaudreuil                Expires 1/29/03                   [Page 7] 



     Internet Draft           VPIM Directory               June 29, 2002 


     (2.16.840.1.113694.1.2.1.1.7 NAME 'vPIMsupportedUABehaviors'  
                     EQUALITY  2.5.13.2  
                     SYNTAX   '1.3.6.1.4.1.1466.115.121.1.15')  

     The following behaviors: 

                 MessageDispositionNotication 
                 MessagePrivacy 
                 MessageUrgency 

     The presense of the MessageDispositionNotification value indicates 
     that the recipient will send a MDN in response to an MDN request. 

     MessagePrivacy indicates that the recipient fully supports the privacy 
     indication as defined in VPIM [VPIMV2]. 

     MessageUrgency indicates that the recipient fully supports the urgency 
     indication as defined in VPIM [VPIMV2]. 

     These may be further extended without standardization to include 
     proprietary user interface functional extensions.  These proprietary 
     extension values must be prefixed with an X. 

  3.9 vPIMMaxMessageSize 

     At the time of composition, the message can be checked for acceptable 
     length using the maximum message size attribute.  Maximum message size 
     is an attribute usually configured by policy of the receiving system, 
     typically in units of minutes.  While ESMTP provides a mechanism at 
     the transport layer to determine if a message is too long, that is an 
     unreliable guide to the composer when multiple encodings, multiple 
     media, or variable bit-rate encodings are supported. 

     (2.16.840.1.113694.1.2.1.1.8 NAME 'vPIMMaxMessageSize'  
                     EQUALITY  2.5.13.14  
                     SYNTAX   '1.3.6.1.4.1.1466.115.121.1.27")  

  3.10 vPIMsubMailbox 

     This attribute indicates the presence of sub-mailboxes for the queried 
     telephone number.  This information may be used to provide a post-dial 
     sub-addressing menu to the sender. 

     (2.16.840.1.113694.1.2.1.1.9 NAME 'vPIMsubMailbox'  
                       EQUALITY 1.3.6.1.4.1.1466.109.114.2  
                       SYNTAX   '1.3.6.1.4.1.1466.115.121.1.26 {256}')  

     The allowable values include a list of submailbox numbers with a 
     numeric range of 1-9999.  The user interface may use this information 
     to prompt the sender to select a sub-mailbox.  Spoken names associated 
     with each sub-mailbox may be individually retrieved by subsequent 
     queries to the recipient's VPIMDIR service. 



     Vaudreuil                Expires 1/29/03                   [Page 8] 



     Internet Draft           VPIM Directory               June 29, 2002 


  4. Security Considerations 

     The following are known security issues taken into consideration in 
     the definition of this directory service. 

     1) Service provider customer information is very sensitive, especially 
     in this time of local phone competition.  Service providers require 
     the maximum flexibility to protect this data.  Because of the dense 
     nature of telephone number assignments, this data is subject to "go 
     fish" queries via repeated LDAP queries to determine a complete list 
     of current or active messaging subscribers.  To reduce the value of 
     this retreived data, service providers may limit disclosure of data 
     useful for telemarketing such as the textual name and disclose only 
     information useful to the sender such as the recipients spoken name, a 
     data element much harder to auto-process. 

     2) Service providers operate in a regulated environment where certian 
     information about a subscriber must not be disclosed.  Voice Messaging 
     is subject to caller-ID blocking restrictions, restrictions enforced 
     in the telephony network.  No such protection is available on the 
     Internet.  The protection of this data is essential, but is up to the 
     individual service providers to appropriately limit dislosure of this 
     information. 

  5. References 

  [32KADPCM] Greg Vaudreuil, Glenn Parsons, "Toll Quality Voice - 32 
      kbit/s ADPCM:  MIME Sub-type Registration", work-in-progress. 

  [CONTEXT] Eric Burger, Emily Candell, Graham Klyne, Charles Eliott, 
      "Message Context for Internet Mail", Work-in-progress. (approved as 
      proposed standard, waiting for RFC publication) 

  [E164] CCITT Recommendation E.164 (1991), Telephone Network and ISDN 
      Operation, Numbering, Routing and  Mobile Service - Numbering Plan 
      for the ISDN Era.  

  [UTF8] RFC 2279 UTF-8, a transformation format of ISO 10646. F. Yergeau. 
      January 1998. 

  [VPIM2] Vaudreuil, Greg, Parsons, Glen, "Voice Profile for Internet 
      Mail, Version 2", work-in-progress. 

  [INETORGPERSON] Smith, M., "Definition of the inetOrgPerson LDAP Object 
      Class", RFC2798, April 2000. 

   

  6. Acknowledgments 

     This experimental directory builds upon the earlier work of Carl 
     Malamud and Marshall Rose in thier TPC.INT remote printing experiment 
     and the work lead by Anne Brown as part of the EMA voice messaging 


     Vaudreuil                Expires 1/29/03                   [Page 9] 



     Internet Draft           VPIM Directory               June 29, 2002 


     committee's directory effort.  Anne Brown has provided important 
     leadership and was a co-author of the original draft of this document. 

     Bernhard Elliot working with the TMIA has provided most of the 
     organizational impetus to get this project moving, a substantial task 
     given the sometimes slow and bureaucratic nature of the voice mail 
     industry and regulatory environment. 

     Dave Dudley and the Messaging Aliance (TMA) for their early work in 
     pioneering a shared directory service for voice messaging and their 
     continuing efforts to apply those learnings to this effort. 

      

  7. Copyright Notice 

     "Copyright (C) The Internet Society (2002). All Rights Reserved. 

     This document and translations of it may be copied and furnished to 
     others, and derivative works that comment on or otherwise explain it 
     or assist in its implementation may be prepared, copied, published and 
     distributed, in whole or in part, without restriction of any kind, 
     provided that the above copyright notice and this paragraph are 
     included on all such copies and derivative works.  However, this  
     document itself may not be modified in any way, such as by removing 
     the copyright notice or references to the Internet Society or other 
     Internet organizations, except as needed for the  purpose of 
     developing Internet standards in which case the procedures for 
     copyrights defined in the Internet Standards process must be followed, 
     or as required to translate it into languages other than English.  

     The limited permissions granted above are perpetual and will not be 
     revoked by the Internet Society or its successors or assigns. 

     This document and the information contained herein is provided on an 
     "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING 
     TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT 
     NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN 
     WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
     MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."  

      

  8. Authors' Addresses 

      

     Gregory M. Vaudreuil 
     Lucent Technologies,  
     7291 Williamson Rd 
     Dallas, TX  75214 
     United States 
     Phone/Fax: +1-972-733-2722 
     Email: GregV@ieee.org 

     Vaudreuil                Expires 1/29/03                  [Page 10] 



     Internet Draft           VPIM Directory               June 29, 2002 


      

  9. Change History 

     Changes from -00 

     Changes the schema from a structural object to an auxillary object 
     under INETPerson.  This makes the schema more compatible with other 
     related directory applications while potentially reducing performance 
     by changing accesses based on telephone number from directory reads to 
     directory searches. 

     Changes the schema attributes to all be prefixed by vPIM.  This is to 
     reduce the chance of schema collision. 

      

     Changes from -01 

     Changed the vPIMSupportedEncodingTypes attribute to 
     vPIMsupportedAudioMediaType to limit the attribute to expressing the 
     supported audio encodings.  

     Added the vPIMMessageContext attribute to indicate the message 
     contexts the recipient is prepared to accept.  This replaces the 
     unworkable vPIMSupportedEncodingTypes for communicating the recipients 
     capabilities. 

     Expanded the SupportedUABehaviors to include MessagePrivacy and 
     MessageUrgency to indicate client support for the indication of 
     urgency and privacy. 

     Changes from -02 

     Lots of naming inconsistencies fixed.  References to inetOrgPerson 
     made more explicit and included in references. 

      

  10. Still Open Issues 

     Should the submailbox include non-numeric submailboxes as are common 
     in Internet mail? 

     The formal ASN and BNF in this draft is badly broken.  The schema 
     notation requires fixing by someone expert in this domain.  Volunteers 
     are urgently sought by the author. 








     Vaudreuil                Expires 1/29/03                  [Page 11] 

