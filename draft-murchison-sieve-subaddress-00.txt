






Network Working Group                                       Ken Murchison
Document: draft-murchison-sieve-subaddress-00.txt      Oceana Matrix Ltd.
Expires September 18, 2000                                  13 March 2000


                        Sieve -- Subaddress Extension


Status of this Memo

    This document is an Internet-Draft and is in full conformance with
    all provisions of Section 10 of RFC2026.  Internet-Drafts are working
    documents of the Internet Engineering Task Force (IETF), its areas,
    and its working groups.  Note that other groups may also distribute
    working documents as Internet-Drafts.

    Internet-Drafts are draft documents valid for a maximum of six months
    and may be updated, replaced, or obsoleted by other documents at any
    time.  It is inappropriate to use Internet-Drafts as reference
    material or to cite them other than as "work in progress."

    The list of current Internet-Drafts can be accessed at
    http://www.ietf.org/ietf/1id-abstracts.txt

    To view the list Internet-Draft Shadow Directories, see
    http://www.ietf.org/shadow.html.

    Distribution of this memo is unlimited.

Copyright Notice

    Copyright (C) The Internet Society 2000. All Rights Reserved.


Abstract

    On e-mail systems that allow for "detailed" or "subaddressing" (i.e.,
    the "foo" in the address "me+foo@company.com"), it is desirable to
    make comparisons against these subaddresses.  This draft defines an
    extension to the Sieve mail filtering language that allows users to
    compare against the user and detail parts of an address.










Expires September 18, 2000    Murchison                         [Page 1]

Internet Draft        Sieve -- Subaddress Extension       March 13, 2000


                           Table of Contents



Status of this Memo  . . . . . . . . . . . . . . . . . . . . . . . .   1

Copyright Notice . . . . . . . . . . . . . . . . . . . . . . . . . .   1

Abstract . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   1

0.     Meta-information on this draft  . . . . . . . . . . . . . . .   3

0.1.   Discussion  . . . . . . . . . . . . . . . . . . . . . . . . .   3

1.     Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3

2.     Capability Identifier . . . . . . . . . . . . . . . . . . . .   3

3.     Subaddress Comparisons  . . . . . . . . . . . . . . . . . . .   3

4.     Security Considerations . . . . . . . . . . . . . . . . . . .   4

5.     Author's Address  . . . . . . . . . . . . . . . . . . . . . .   4

Appendix A.  References  . . . . . . . . . . . . . . . . . . . . . .   4

Appendix B.  Full Copyright Statement  . . . . . . . . . . . . . . .   5
























Expires September 18, 2000    Murchison                         [Page 2]

Internet Draft        Sieve -- Subaddress Extension       March 13, 2000



0.     Meta-information on this draft

    This information is intended to facilitate discussion.  It will be
    removed when this document leaves the Internet-Draft stage.


0.1.   Discussion

    This draft is intended to be an extension to the Sieve mail filtering
    language, available from the Internet-Drafts repository as
    <ftp://ftp.ietf.org/internet-drafts/draft-showalter-sieve-09.txt>
    (where 09 is the version number, which is actually currently 09).

    This draft and the Sieve language itself are being discussed on the
    MTA Filters mailing list at <ietf-mta-filters@imc.org>.  Subscription
    requests can be sent to <ietf-mta-filters-request@imc.org> (send an
    email message with the word "subscribe" in the body).  More
    information on the mailing list along with a WWW archive of back
    messages is available at <http://www.imc.org/ietf-mta-filters/>.


1.  Introduction

    This is an extension to the Sieve language defined by [SIEVE] for
    comparing against the user and detail parts of an address.

    Conventions for notations are as in [SIEVE] section 1.1, including
    use of [KEYWORDS].


2.  Capability Identifier

    The capability string associated with the extension defined in this
    document is "subaddress".


3.  Subaddress Comparisons

    Commands that act exclusively on addresses may take the optional
    tagged arguments ":user"  and ":detail" to specify what part of the
    left-side of the address will be acted upon.

    The ":user" argument specifies that part of the address which lies to
    the left of the "+" (i.e., the "me" in "me+foo@company.com").  If no
    "+" exists, then ":user" specifies the entire left-side of the
    address (equivalent to ":localpart").




Expires September 18, 2000    Murchison                         [Page 3]

Internet Draft        Sieve -- Subaddress Extension       March 13, 2000


    The ":detail" argument specifies that part of the address which lies
    to the right of the "+" (i.e., the "foo" in "me+foo@company.com").
    If no "+" exists, or nothing lies to the right of the "+", then
    ":detail" ":is" the null key ("").

    The ":user" and ":detail" address parts are subject to the same rules
    and restrictions as the standard address parts defined in [SIEVE].


    Example:

          require "subaddress";

          # If a message is not to me (ignoring +detail), junk it.
          if not allof (address :user ["to", "cc", "bcc"] "me",
               address :domain ["to", "cc", "bcc"] "company.com") {
            discard;
          }

          # Redirect all mail sent to +foo.
          if address :detail ["to", "cc", "bcc"] "foo" {
            redirect "foo@bar.org";
          }



4.  Security Considerations

    Security considerations are discussed in [SIEVE].  It is believed
    that this extension doesn't introduce any additional security
    concerns.


5.  Author's Address

    Ken Murchison
    Oceana Matrix Ltd.
    21 Princeton Place
    Orchard Park, NY 14127

    Phone: (716) 662-8973
    EMail: ken@oceana.com


Appendix A.  References

     [KEYWORDS] Bradner, S., "Key words for use in RFCs to Indicate
         Requirement Levels", Harvard University, RFC 2119, March, 1997.



Expires September 18, 2000    Murchison                         [Page 4]

Internet Draft        Sieve -- Subaddress Extension       March 13, 2000


     [SIEVE] Showalter, T., "Sieve: A Mail Filtering Language", Mira-
         point, Inc., Work In Progress.


Appendix B.  Full Copyright Statement

    Copyright (C) The Internet Society 2000. All Rights Reserved.

    This document and translations of it may be copied and furnished to
    others, and derivative works that comment on or otherwise explain it
    or assist in its implementation may be prepared, copied, published
    and distributed, in whole or in part, without restriction of any
    kind, provided that the above copyright notice and this paragraph
    are included on all such copies and derivative works.  However, this
    document itself may not be modified in any way, such as by removing
    the copyright notice or references to the Internet Society or other
    Internet organizations, except as needed for the purpose of develop-
    ing Internet standards in which case the procedures for copyrights
    defined in the Internet Standards process must be followed, or as
    required to translate it into languages other than English.

    The limited permissions granted above are perpetual and will not be
    revoked by the Internet Society or its successors or assigns.

    This document and the information contained herein is provided on an
    "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
    TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
    BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
    HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
    MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.





















Expires September 18, 2000    Murchison                         [Page 5]

