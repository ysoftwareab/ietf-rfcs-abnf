



Network Working Group                                          J. Levine
Internet-Draft                                      Taughannock Networks
Intended status: Standards Track                               M. Delany
Expires: December 20, 2014                                    Apple Inc.
                                                           June 18, 2014


       A NULL MX Resource Record for Domains that Accept No Mail
                      draft-ietf-appsawg-nullmx-04

Abstract

   Internet mail determines the address of a receiving server through
   the DNS, first by looking for an MX record and then by looking for an
   A/AAAA record as a fallback.  Unfortunately this means that the A/
   AAAA record is taken to be mail server address even when that address
   does not accept mail.  The NULL MX RR formalizes the existing
   mechanism by which a domain announces that it accepts no mail, which
   permits significant operational efficiencies.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 20, 2014.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must



Levine & Delany         Expires December 20, 2014               [Page 1]

Internet-Draft                   NULL MX                       June 2014


   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  The NULL MX Resource Record . . . . . . . . . . . . . . . . .   3
   4.  Effects of NULL MX  . . . . . . . . . . . . . . . . . . . . .   3
     4.1.  SMTP Server Benefits  . . . . . . . . . . . . . . . . . .   3
     4.2.  Dealing with undeliverable and abusive mail . . . . . . .   3
     4.3.  Domains that Do Not Send Mail . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     6.2.  Inforrmative References . . . . . . . . . . . . . . . . .   5
   Appendix A.  Change Log . . . . . . . . . . . . . . . . . . . . .   5
     A.1.  Change to appsawg-nullmx-04 . . . . . . . . . . . . . . .   5
     A.2.  Change to appsawg-nullmx-03 . . . . . . . . . . . . . . .   5
     A.3.  Change to appsawg-nullmx-02 . . . . . . . . . . . . . . .   5
     A.4.  Change to appsawg-nullmx-1  . . . . . . . . . . . . . . .   5
     A.5.  Change to appsawg-nullmx-0  . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Conventions Used in This Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.  Introduction

   This document formally defines the "NULL MX" as a simple mechanism by
   which a domain can indicate that it does not accept email.

   SMTP clients have a prescribed sequence for identifying a server that
   accepts email for a domain.  Section 5 of [RFC5321] covers this in
   detail, but in essence the SMTP client first looks up a DNS MX RR and
   if that is not found it falls back to looking up a DNS A or AAAA RR.
   Hence this overloads an email service semantic onto a DNS record with
   a different primary mission.

   If a domain has no MX records, senders will attempt to deliver mail
   to the hosts at the domain's A or AAAA record's addresses.  However
   many domains do not accept email.

   If there is no SMTP listener at the A/AAAA address, message delivery
   will be attempted repeatedly for a long period, typically a week,



Levine & Delany         Expires December 20, 2014               [Page 2]

Internet-Draft                   NULL MX                       June 2014


   before the sending MTA gives up.  This will delay notification to the
   sender in the case of misdirected mail, and will consume resources at
   the sender.

   This document defines a NULL MX that will cause all mail delivery
   attempts to a domain to fail immediately, without requiring domains
   to create SMTP listeners dedicated to preventing delivery attempts.

3.  The NULL MX Resource Record

   To indicate that a domain does not accept email, it advertises a
   single MX RR (see [RFC1035], section 3.3.9) with an RDATA section
   consisting of preference number 0, and a dot, i.e., the DNS root, as
   the exchange domain, to denote that there exists no mail exchanger
   for a domain.  (The DNS root is not a valid host name, which avoids
   any possibility that a NULL MX record could be confused with an
   ordinary MX record.)

   A domain MUST NOT advertise multiple MX RRs including a NULL MX.

4.  Effects of NULL MX

   The NULL MX record has a variety of efficiency and usability
   benefits.

4.1.  SMTP Server Benefits

   The ability to detect domains that do not accept email offers many
   resource savings to an SMTP client.  It will discover on the first
   sending attempt that an address is not deliverable, avoiding queuing
   and retries.

   A receiving SMTP server that chooses to reject email during the SMTP
   conversation that presents an undeliverable RFC5321.MailFrom or
   RFC5322.From domain (see [RFC5598] for the definitions of thise
   terms) can be more confident that an attempt to send a Delivery
   Status Notification or other response will reach a recipient SMTP
   server.

4.2.  Dealing with undeliverable and abusive mail

   Mail often has an incorrect address due to user error, where the
   address was mistranscribed or misunderstood, for example, to
   alice@www.example.com or alice@example.org or alice@examp1e.com
   rather than alice@example.com.  NULL MX allows a mail system to
   report the delivery failure when the user sends the message, rather
   than hours or days later.




Levine & Delany         Expires December 20, 2014               [Page 3]

Internet-Draft                   NULL MX                       June 2014


   Senders of abusive mail often use forged undeliverable return
   addresses.  NULL MX allows DSNs and other attempted responses to such
   mail to be disposed of efficiently.

4.3.  Domains that Do Not Send Mail

   The operator of an SMTP server might prefer to reject mail with a
   RFC5321.MailFrom or RFC5322.From domain that publishes NULL MX, since
   a non-delivery notice or response will not be accepted, and
   legitimate mail rarely comes from domains that do not accept replies.

   SMTP servers that reject mail because a MAIL FROM domain has a NULL
   MX record SHOULD use a 550 reply code and a 5.1.2 enhanced status
   code [RFC3463].

   A domain that does not accept mail, as declared by NULL MX, often
   will also not send mail.  Operators can publish SPF [RFC7208] -all
   policies to make an explicit declaration that the domain is not valid
   in the RFC5321.MailFrom command.

5.  Security Considerations

   SMTP mail is inherently insecure since it does not validate any of
   the e-mail addresses in the message or envelope.  This specification
   is about eliminating one small section of SMTP insecurity.

   In the unlikely event that a domain legitimately sends email but does
   not want to receive email, SMTP servers that reject mail from domains
   that advertise a NULL MX risk losing email from those domains.  The
   normal way to send mail for which a sender wants no responses remains
   unchanged, by using an empty RFC5321.MailFrom address.

   Within the DNS, a NULL MX RR is an ordinary MX record and presents no
   new security issues.  If desired, it can be secured in the same
   manner as any other DNS record using DNSSEC.

6.  References

6.1.  Normative References

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3463]  Vaudreuil, G., "Enhanced Mail System Status Codes", RFC
              3463, January 2003.



Levine & Delany         Expires December 20, 2014               [Page 4]

Internet-Draft                   NULL MX                       June 2014


   [RFC5321]  Klensin, J., "Simple Mail Transfer Protocol", RFC 5321,
              October 2008.

6.2.  Inforrmative References

   [RFC5598]  Crocker, D., "Internet Mail Architecture", RFC 5598, July
              2009.

   [RFC7208]  Kitterman, S., "Sender Policy Framework (SPF) for
              Authorizing Use of Domains in Email, Version 1", RFC 7208,
              April 2014.

Appendix A.  Change Log

   *NOTE TO RFC EDITOR: This section may be removed upon publication of
   this document as an RFC.*

A.1.  Change to appsawg-nullmx-04

   Reorganize.

A.2.  Change to appsawg-nullmx-03

   Editorial nits per Murray.

A.3.  Change to appsawg-nullmx-02

   Should not publish NULL MX with other MX.

   Never say never.

   Add 5.1.2 enhanced status code.

   Minor editorial changes.

A.4.  Change to appsawg-nullmx-1

   Editorial improvements per D.  Crocker's review.

A.5.  Change to appsawg-nullmx-0

   Fix typos.

Authors' Addresses







Levine & Delany         Expires December 20, 2014               [Page 5]

Internet-Draft                   NULL MX                       June 2014


   John Levine
   Taughannock Networks
   PO Box 727
   Trumansburg, NY  14886

   Phone: +1 831 480 2300
   Email: standards@taugh.com
   URI:   http://jl.ly


   Mark Delany
   Apple Inc.
   1 Infinite Loop
   Cupertino, CA  95014

   Email: mx0dot@yahoo.com



































Levine & Delany         Expires December 20, 2014               [Page 6]
