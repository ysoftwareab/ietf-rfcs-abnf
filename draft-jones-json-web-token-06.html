<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>JSON Web Token (JWT)</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 JSON Web Token (JWT) Overview">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Example JWT">
<link href="#rfc.section.4" rel="Chapter" title="4 JWT Claims">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Reserved Claim Names">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Public Claim Names">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Private Claim Names">
<link href="#rfc.section.5" rel="Chapter" title="5 JWT Header">
<link href="#rfc.section.6" rel="Chapter" title="6 Plaintext JWTs">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Example Plaintext JWT">
<link href="#rfc.section.7" rel="Chapter" title="7 Rules for Creating and Validating a JWT">
<link href="#rfc.section.8" rel="Chapter" title="8 Cryptographic Algorithms">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA Considerations">
<link href="#rfc.section.10" rel="Chapter" title="10 Security Considerations">
<link href="#rfc.section.10.1" rel="Chapter" title="10.1 Unicode Comparison Security Issues">
<link href="#rfc.section.11" rel="Chapter" title="11 Open Issues and Things To Be Done (TBD)">
<link href="#rfc.references" rel="Chapter" title="12 References">
<link href="#rfc.references.1" rel="Chapter" title="12.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="12.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Relationship of JWTs to SAML Tokens">
<link href="#rfc.appendix.Appendix%20B" rel="Chapter" title="Appendix B Relationship of JWTs to Simple Web Tokens (SWTs)">
<link href="#rfc.appendix.Appendix%20C" rel="Chapter" title="Appendix C Acknowledgements">
<link href="#rfc.appendix.Appendix%20D" rel="Chapter" title="Appendix D Document History">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="JSON Web Token (JWT) is a means of representing claims to be transferred between two parties.  The claims in a JWT are encoded as a JSON object that is digitally signed using JSON Web Signature (JWS) and/or encrypted using JSON Web Encryption (JWE).  " />
  <meta name="description" content="JSON Web Token (JWT) is a means of representing claims to be transferred between two parties.  The claims in a JWT are encoded as a JSON object that is digitally signed using JSON Web Signature (JWS) and/or encrypted using JSON Web Encryption (JWE).  " />
  <meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, Assertion, Claim, Simple Web Token, Security Token, SWT, JavaScript Object Notation, JSON, JSON Web Token, JWT, JSON Web Signature, JWS, JSON Web Encryption, JWE" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">M.B. Jones</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Microsoft</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">D. Balfanz</td>
</tr>
<tr>
<td class="left">Expires: May 03, 2012</td>
<td class="right">Google</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J. Bradley</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">independent</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Y.Y. Goland</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Microsoft</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J. Panzer</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Google</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">N. Sakimura</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Nomura Research Institute</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">P. Tarjan</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Facebook</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 31, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">JSON Web Token (JWT)<br />
  <span class="filename">draft-jones-json-web-token-06</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>JSON Web Token (JWT) is a means of representing claims to be transferred between two parties.  The claims in a JWT are encoded as a JSON object that is digitally signed using JSON Web Signature (JWS) and/or encrypted using JSON Web Encryption (JWE).  </p>
<p>The suggested pronunciation of JWT is the same as the English word "jot".  </p>
<h1><a>Requirements Language</a></h1>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 03, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">JSON Web Token (JWT) Overview</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Example JWT</a>
</li>
<li>4.   <a href="#rfc.section.4">JWT Claims</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Reserved Claim Names</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Public Claim Names</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Private Claim Names</a>
</li>
<li>5.   <a href="#rfc.section.5">JWT Header</a>
</li>
<li>6.   <a href="#rfc.section.6">Plaintext JWTs</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Example Plaintext JWT</a>
</li>
<li>7.   <a href="#rfc.section.7">Rules for Creating and Validating a JWT</a>
</li>
<li>8.   <a href="#rfc.section.8">Cryptographic Algorithms</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA Considerations</a>
</li>
<li>10.   <a href="#rfc.section.10">Security Considerations</a>
</li>
<li>10.1.   <a href="#rfc.section.10.1">Unicode Comparison Security Issues</a>
</li>
<li>11.   <a href="#rfc.section.11">Open Issues and Things To Be Done (TBD)</a>
</li>
<li>12.   <a href="#rfc.references">References</a>
</li>
<li>12.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>12.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Relationship of JWTs to SAML Tokens</a>
</li>
<li>Appendix B.   <a href="#rfc.appendix.Appendix%20B">Relationship of JWTs to Simple Web Tokens (SWTs)</a>
</li>
<li>Appendix C.   <a href="#rfc.appendix.Appendix%20C">Acknowledgements</a>
</li>
<li>Appendix D.   <a href="#rfc.appendix.Appendix%20D">Document History</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">JSON Web Token (JWT) is a compact token format intended for space constrained environments such as HTTP Authorization headers and URI query parameters. JWTs encode claims to be transmitted as a JSON object (as defined in <a href="#RFC4627">RFC 4627</a> <cite title="NONE">[RFC4627]</cite>) that is base64url encoded and digitally signed and/or encrypted.  Signing is accomplished using JSON Web Signature (JWS) <a href="#JWS">[JWS]</a>.  Encryption is accomplished using JSON Web Encryption (JWE) <a href="#JWE">[JWE]</a>.  </p>
<p id="rfc.section.1.p.2">The suggested pronunciation of JWT is the same as the English word "jot".  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Terminology</h1>
<p></p>

<dl>
<dt>JSON Web Token (JWT)</dt>
<dd style="margin-left: 8">A string consisting of three parts: the JWT Header, the JWT Second Part, and the JWT Third Part, in that order, with the parts being separated by period ('.') characters, and each part containing base64url encoded content.  </dd>
<dt>JWT Header</dt>
<dd style="margin-left: 8">A string containing a JSON object that describes the cryptographic operations applied to the JWT.  When the JWT is signed, the JWT Header is the JWS Header.  When the JWT is encrypted, the JWT Header is the JWE Header.  </dd>
<dt>JWT Second Part</dt>
<dd style="margin-left: 8">When the JWT is signed, the JWT Second Part is the Encoded JWS Payload.  When the JWT is encrypted, the JWT Second Part is the Encoded JWE Encrypted Key.  </dd>
<dt>JWT Third Part</dt>
<dd style="margin-left: 8">When the JWT is signed, the JWT Third Part is the Encoded JWS Signature.  When the JWT is encrypted, the JWT Third Part is the Encoded JWE Ciphertext.  </dd>
<dt>JWT Claims Object</dt>
<dd style="margin-left: 8">A JSON object that represents the claims contained in the JWT.  When the JWT is signed, the bytes of the UTF-8 representation of the JWT Claims Object are base64url encoded to create the Encoded JWS Payload.  When the JWT is encrypted, the bytes of the UTF-8 representation of the JWT Claims Object are used as the JWE Plaintext.  </dd>
<dt>Claim Names</dt>
<dd style="margin-left: 8">The names of the members of the JWT Claims Object.  </dd>
<dt>Claim Values</dt>
<dd style="margin-left: 8">The values of the members of the JWT Claims Object.  </dd>
<dt>Encoded JWT Header</dt>
<dd style="margin-left: 8">Base64url encoding of the bytes of the UTF-8 <a href="#RFC3629">RFC 3629</a> <cite title="NONE">[RFC3629]</cite> representation of the JWT Header.  </dd>
<dt>Base64url Encoding</dt>
<dd style="margin-left: 8">For the purposes of this specification, this term always refers to the URL- and filename-safe Base64 encoding described in <a href="#RFC4648">RFC 4648</a> <cite title="NONE">[RFC4648]</cite>, Section 5, with the (non URL-safe) '=' padding characters omitted, as permitted by Section 3.2.  (See Appendix C of <a href="#JWS">[JWS]</a> for notes on implementing base64url encoding without padding.) </dd>
</dl>

<p> </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> JSON Web Token (JWT) Overview</h1>
<p id="rfc.section.3.p.1">JWTs represent a set of claims as a JSON object that is base64url encoded and digitally signed and/or encrypted.  This object is the JWT Claims Object.  As per <a href="#RFC4627">RFC 4627</a> <cite title="NONE">[RFC4627]</cite> Section 2.2, the JSON object consists of zero or more name/value pairs (or members), where the names are strings and the values are arbitrary JSON values.  These members are the claims represented by the JWT.  </p>
<p id="rfc.section.3.p.2">The member names within the JWT Claims Object are referred to as Claim Names.  These names MUST be unique.  The corresponding values are referred to as Claim Values.  </p>
<p id="rfc.section.3.p.3">The bytes of the UTF-8 representation of the JWT Claims Object are signed in the manner described in JSON Web Signature (JWS) <a href="#JWS">[JWS]</a> and/or encrypted in the manner described in JSON Web Encryption (JWE) <a href="#JWE">[JWE]</a>.  </p>
<p id="rfc.section.3.p.4">The contents of the JWT Header describe the cryptographic operations applied to the JWT Claims Object.  If the JWT Header is a JWS Header, the claims are signed.  If the JWT Header is a JWE Header, the claims are encrypted.  </p>
<p id="rfc.section.3.p.5">A JWT is represented as the concatenation of the Encoded JWT Header, the JWT Second Part, and the JWT Third Part, in that order, with the parts being separated by period ('.') characters.  When signed, the three parts of the JWT are the three parts of a JWS used to represent the JWT.  When encrypted, the three parts of the JWT are the three parts of a JWE used to represent the JWT.  </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#ExampleJWT" id="ExampleJWT">Example JWT</a>
</h1>
<p id="rfc.section.3.1.p.1">The following example JWT Header declares that the encoded object is a JSON Web Token (JWT) and the JWT is signed using the HMAC SHA-256 algorithm: </p>
<div id="#rfc.figure.1"></div>
<pre>{"typ":"JWT",
 "alg":"HS256"}</pre>
<p id="rfc.section.3.1.p.2">Base64url encoding the bytes of the UTF-8 representation of the JWT Header yields this Encoded JWS Header value, which is used as the Encoded JWT Header: </p>
<div id="#rfc.figure.2"></div>
<pre>eyJ0eXAiOiJKV1QiLA0KICJhbGciOiJIUzI1NiJ9</pre>
<p id="rfc.section.3.1.p.3">The following is an example of a JWT Claims Object: </p>
<div id="#rfc.figure.3"></div>
<pre>{"iss":"joe",
 "exp":1300819380,
 "http://example.com/is_root":true}</pre>
<p id="rfc.section.3.1.p.4">Base64url encoding the bytes of the UTF-8 representation of the JSON Claims Object yields this Encoded JWS Payload, which is used as the JWT Second Part: </p>
<div id="#rfc.figure.4"></div>
<pre>eyJpc3MiOiJqb2UiLA0KICJleHAiOjEzMDA4MTkzODAsDQogImh0dHA6Ly9leGFtcGxlLmNvbS9pc19yb290Ijp0cnVlfQ</pre>
<p id="rfc.section.3.1.p.5">Signing the Encoded JWS Header and Encoded JWS Payload with the HMAC SHA-256 algorithm and base64url encoding the signature in the manner specified in <a href="#JWS">[JWS]</a>, yields this Encoded JWS Signature, which is used as the JWT Third Part: </p>
<div id="#rfc.figure.5"></div>
<pre>dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk</pre>
<p id="rfc.section.3.1.p.6">Concatenating these parts in the order Header.Second.Third with period characters between the parts yields this complete JWT (with line breaks for display purposes only): </p>
<div id="#rfc.figure.6"></div>
<pre>eyJ0eXAiOiJKV1QiLA0KICJhbGciOiJIUzI1NiJ9
.
eyJpc3MiOiJqb2UiLA0KICJleHAiOjEzMDA4MTkzODAsDQogImh0dHA6Ly9leGFtcGxlLmNvbS9pc19yb290Ijp0cnVlfQ
.
dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk</pre>
<p id="rfc.section.3.1.p.7">This computation is illustrated in more detail in <a href="#JWS">[JWS]</a>, Appendix A.1.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> JWT Claims</h1>
<p id="rfc.section.4.p.1">A JWT contains a set of claims represented as a base64url encoded JSON object. Note however, that the set of claims a JWT must contain to be considered valid is context-dependent and is outside the scope of this specification.  When used in a security-related context, implementations MUST understand and support all of the claims present; otherwise, the JWT MUST be rejected for processing.  </p>
<p id="rfc.section.4.p.2">There are three classes of JWT Claim Names: Reserved Claim Names, Public Claim Names, and Private Claim Names.  </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#ReservedClaimName" id="ReservedClaimName">Reserved Claim Names</a>
</h1>
<p id="rfc.section.4.1.p.1">The following claim names are reserved. None of the claims defined in the table below are intended to be mandatory, but rather, provide a starting point for a set of useful, interoperable claims.  All the names are short because a core goal of JWTs is for the tokens to be compact.  </p>
<div id="#rfc.table.1"></div>
<div id="#ClaimTable"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Reserved Claim Definitions</caption>
<thead><tr>
<th class="left">Claim Name</th>
<th class="left">JSON Value Type</th>
<th class="left">Claim Syntax</th>
<th class="left">Claim Semantics</th>
</tr></thead>
<tbody>
<tr>
<td class="left">exp</td>
<td class="left">number</td>
<td class="left">IntDate</td>
<td class="left">The <samp>exp</samp> (expiration time) claim identifies the expiration time on or after which the token MUST NOT be accepted for processing.  The processing of the <samp>exp</samp> claim requires that the current date/time MUST be before the expiration date/time listed in the <samp>exp</samp> claim. Implementers MAY provide for some small leeway, usually no more than a few minutes, to account for clock skew.  This claim is OPTIONAL.  </td>
</tr>
<tr>
<td class="left">nbf</td>
<td class="left">number</td>
<td class="left">IntDate</td>
<td class="left">The <samp>nbf</samp> (not before) claim identifies the time before which the token MUST NOT be accepted for processing.  The processing of the <samp>nbf</samp> claim requires that the current date/time MUST be after or equal to the not-before date/time listed in the <samp>nbf</samp> claim. Implementers MAY provide for some small leeway, usually no more than a few minutes, to account for clock skew.  This claim is OPTIONAL.  </td>
</tr>
<tr>
<td class="left">iat</td>
<td class="left">number</td>
<td class="left">IntDate</td>
<td class="left">The <samp>iat</samp> (issued at) claim identifies the time at which the JWT was issued.  This claim can be used to determine the age of the token.  This claim is OPTIONAL.  </td>
</tr>
<tr>
<td class="left">iss</td>
<td class="left">string</td>
<td class="left">StringOrURI</td>
<td class="left">The <samp>iss</samp> (issuer) claim identifies the principal that issued the JWT.  The processing of this claim is generally application specific.  The <samp>iss</samp> value is case sensitive.  This claim is OPTIONAL.  </td>
</tr>
<tr>
<td class="left">aud</td>
<td class="left">string</td>
<td class="left">StringOrURI</td>
<td class="left">The <samp>aud</samp> (audience) claim identifies the audience that the JWT is intended for.  The principal intended to process the JWT MUST be identified by the value of the audience claim. If the principal processing the claim does not identify itself with the identifier in the <samp>aud</samp> claim value then the JWT MUST be rejected.  The interpretation of the contents of the audience value is generally application specific.  The <samp>aud</samp> value is case sensitive.  This claim is OPTIONAL.  </td>
</tr>
<tr>
<td class="left">typ</td>
<td class="left">string</td>
<td class="left">String</td>
<td class="left">The <samp>typ</samp> (type) claim is used to declare a type for the contents of this JWT Claims Object.  The <samp>typ</samp> value is case sensitive.  This claim is OPTIONAL.  </td>
</tr>
</tbody>
</table>
<p id="rfc.section.4.1.p.2">Additional reserved claim names MAY be defined via the IANA JSON Web Token Claims registry, as per <a href="#IANA">Section 9</a>.  The syntax values used above are defined as follows: </p>
<div id="#rfc.table.2"></div>
<div id="#SyntaxDefinitions"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Claim Syntax Definitions</caption>
<thead><tr>
<th class="left">Syntax Name</th>
<th class="left">Syntax Definition</th>
</tr></thead>
<tbody>
<tr>
<td class="left">IntDate</td>
<td class="left">The number of seconds from 1970-01-01T0:0:0Z as measured in UTC until the desired date/time. See <a href="#RFC3339">RFC 3339</a> <cite title="NONE">[RFC3339]</cite> for details regarding date/times in general and UTC in particular.  </td>
</tr>
<tr>
<td class="left">String</td>
<td class="left">Any string value MAY be used.  </td>
</tr>
<tr>
<td class="left">StringOrURI</td>
<td class="left">Any string value MAY be used but a value containing a ":" character MUST be a URI as defined in <a href="#RFC3986">RFC 3986</a> <cite title="NONE">[RFC3986]</cite>.  </td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#PublicClaimName" id="PublicClaimName">Public Claim Names</a>
</h1>
<p id="rfc.section.4.2.p.1">Claim names can be defined at will by those using JWTs. However, in order to prevent collisions, any new claim name SHOULD either be defined in the IANA JSON Web Token Claims registry or be defined as a URI that contains a collision resistant namespace. Examples of collision resistant namespaces include: </p>

<ul>
<li>Domain Names, </li>
<li>Object Identifiers (OIDs) as defined in the ITU-T X 660 and X 670 Recommendation series or </li>
<li>Universally Unique IDentifier (UUID) as defined in <a href="#RFC4122">RFC 4122</a> <cite title="NONE">[RFC4122]</cite>.  </li>
</ul>

<p> In each case, the definer of the name or value MUST take reasonable precautions to make sure they are in control of the part of the namespace they use to define the claim name.</p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#PrivateClaimName" id="PrivateClaimName">Private Claim Names</a>
</h1>
<p id="rfc.section.4.3.p.1">A producer and consumer of a JWT may agree to any claim name that is not a Reserved Name <a href="#ReservedClaimName">Section 4.1</a> or a Public Name <a href="#PublicClaimName">Section 4.2</a>. Unlike Public Names, these private names are subject to collision and should be used with caution.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> JWT Header</h1>
<p id="rfc.section.5.p.1">The members of the JSON object represented by the JWT Header describe the cryptographic operations applied to the JWT and optionally, additional properties of the JWT.  </p>
<p id="rfc.section.5.p.2">There are two ways of distinguishing whether the JWT is a JWS or JWE.  The first is by examining the <samp>alg</samp> (algorithm) header value.  If the value represents a signature algorithm, the JWT is a JWS; if it represents an encryption algorithm, the JWT is a JWE.  A second method is determining whether an <samp>enc</samp> (encryption method) member exists.  If the <samp>enc</samp> member exists, the JWT is a JWE; otherwise, the JWT is a JWS.  Both methods will yield the same result.  </p>
<p id="rfc.section.5.p.3">Implementations MUST understand the entire contents of the header; otherwise, the JWT MUST be rejected for processing.  </p>
<p id="rfc.section.5.p.4">JWS Header Parameters are defined by <a href="#JWS">[JWS]</a>.  JWE Header Parameters are defined by <a href="#JWE">[JWE]</a>.  This specification further specifies the use of the following header parameters in both the cases where the JWT is a JWS and where it is a JWE.  </p>
<div id="#rfc.table.3"></div>
<div id="#HeaderParameterTable"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Reserved Header Parameter Usage</caption>
<thead><tr>
<th class="left">Header Parameter Name</th>
<th class="left">JSON Value Type</th>
<th class="left">Header Parameter Syntax</th>
<th class="left">Header Parameter Semantics</th>
</tr></thead>
<tbody><tr>
<td class="left">typ</td>
<td class="left">string</td>
<td class="left">String</td>
<td class="left">The <samp>typ</samp> (type) header parameter is used to declare structural information about the JWT.  In the normal case where nested signing or encryption operations are not employed, the use of this header parameter is OPTIONAL, and if present, it is RECOMMENDED that its value be either "JWT" or "http://openid.net/specs/jwt/1.0".  In the case that nested signing or encryption steps are employed, the use of this header parameter is REQUIRED; in this case, the value MUST either be "JWS", to indicate that a nested signed JWT is carried in this JWT or "JWE", to indicate that a nested encrypted JWT is carried in this JWT.  </td>
</tr></tbody>
</table>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#Plaintext" id="Plaintext">Plaintext JWTs</a>
</h1>
<p id="rfc.section.6.p.1">To support use cases where the JWT content is secured by a means other than a signature and/or encryption contained within the token (such as a signature on a data structure containing the token), JWTs MAY also be created without a signature or encryption.  Plaintext JWTs MUST use the <samp>alg</samp> value <samp>none</samp>, and are formatted identically to a signed JWT with an empty signature.  This means that the base64url encoding of the bytes representing the UTF-8 encoding of the JWT Claims Object is the JWT Second Part, and the empty string is the JWT Third Part.  </p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> <a href="#ExamplePlaintextJWT" id="ExamplePlaintextJWT">Example Plaintext JWT</a>
</h1>
<p id="rfc.section.6.1.p.1">The following example JWT Header declares that the encoded object is a Plaintext JWT: </p>
<div id="#rfc.figure.7"></div>
<pre>{"alg":"none"}</pre>
<p id="rfc.section.6.1.p.2">Base64url encoding the bytes of the UTF-8 representation of the JWT Header yields this Encoded JWT Header: </p>
<div id="#rfc.figure.8"></div>
<pre>eyJhbGciOiJub25lIn0</pre>
<p id="rfc.section.6.1.p.3">The following is an example of a JWT Claims Object: </p>
<div id="#rfc.figure.9"></div>
<pre>{"iss":"joe",
 "exp":1300819380,
 "http://example.com/is_root":true}</pre>
<p id="rfc.section.6.1.p.4">Base64url encoding the bytes of the UTF-8 representation of the JSON Claims Object yields this Encoded JWS Payload, which is used as the JWT Second Part: </p>
<div id="#rfc.figure.10"></div>
<pre>eyJpc3MiOiJqb2UiLA0KICJleHAiOjEzMDA4MTkzODAsDQogImh0dHA6Ly9leGFtcGxlLmNvbS9pc19yb290Ijp0cnVlfQ</pre>
<p id="rfc.section.6.1.p.5">The JWT Third Part is the empty string.  </p>
<p id="rfc.section.6.1.p.6">Concatenating these parts in the order Header.Second.Third with period characters between the parts yields this complete JWT (with line breaks for display purposes only): </p>
<div id="#rfc.figure.11"></div>
<pre>eyJhbGciOiJub25lIn0
.
eyJpc3MiOiJqb2UiLA0KICJleHAiOjEzMDA4MTkzODAsDQogImh0dHA6Ly9leGFtcGxlLmNvbS9pc19yb290Ijp0cnVlfQ
.
</pre>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> Rules for Creating and Validating a JWT</h1>
<p id="rfc.section.7.p.1">To create a JWT, one MUST follow these steps: </p>

<ol>
<li>Create a JWT Claims Object containing the desired claims.  Note that white space is explicitly allowed in the representation and no canonicalization is performed before encoding.  </li>
<li>Let the Message be the bytes of the UTF-8 representation of the JWT Claims Object.  </li>
<li>Create a JWT Header containing the desired set of header parameters.  If the JWT is to be signed or encrypted, they MUST conform to either the <a href="#JWS">[JWS]</a> or <a href="#JWE">[JWE]</a> specifications, respectively.  Else, if the JWT is to be plaintext, the <samp>alg</samp> value <samp>none</samp> MUST be used.  Note that white space is explicitly allowed in the representation and no canonicalization is performed before encoding.  </li>
<li>Base64url encode the bytes of the UTF-8 representation of the JWT Header.  Let this be the Encoded JWT Header.  </li>
<li>Depending upon whether the JWT is to be signed, encrypted, or plaintext, there are three cases: <ul>
<li>If the JWT is to be signed, create a JWS using the JWT Header as the JWS Header and the Message as the JWS Payload; all steps specified in <a href="#JWS">[JWS]</a> for creating a JWS MUST be followed.  Let the JWT Second Part be the Encoded JWS Payload and let the JWT Third Part be the Encoded JWS Signature.  </li>
<li>If the JWT is to be encrypted, create a JWE using the JWT Header as the JWE Header and the Message as the JWE Plaintext; all steps specified in <a href="#JWE">[JWE]</a> for creating a JWE MUST be followed.  Let the JWT Second Part be the Encoded JWE Encrypted Key and let the JWT Third Part be the Encoded JWS Ciphertext.  </li>
<li>Else, if the JWT is to be plaintext, let the JWT Second Part be the base64url encoding of the Message and let the JWT Third Part be the empty string.  </li>
</ul>
<p> </p>
</li>
<li>Concatenate the Encoded JWT Header, the JWT Second Part, and the JWT Third Part in that order, separating each by period ('.') characters.  </li>
<li>If a nested signing or encryption operation will be performed, let the Message be this concatenation, and return to Step 3, using a <samp>typ</samp> value of either "JWS" or "JWE" respectively in the new JWT Header created in that step.  </li>
<li>Otherwise, let the resulting JWT be this concatenation.  </li>
</ol>

<p> </p>
<p id="rfc.section.7.p.2">When validating a JWT the following steps MUST be taken. If any of the listed steps fails then the token MUST be rejected for processing.  </p>
<p></p>

<ol>
<li>The JWT MUST contain exactly two period characters.  </li>
<li>The JWT MUST be split on the two period characters resulting in three strings.  The first string is the Encoded JWT Header; the second is the JWT Second Part; the third is the JWT Third Part.  </li>
<li>The Encoded JWT Header MUST be successfully base64url decoded following the restriction given in this specification that no padding characters have been used.  </li>
<li>The JWT Header MUST be completely valid JSON syntax conforming to <a href="#RFC4627">RFC 4627</a> <cite title="NONE">[RFC4627]</cite>.  </li>
<li>The JWT Header MUST be validated to only include parameters and values whose syntax and semantics are both understood and supported.  </li>
<li>Determine whether the JWT is signed, encrypted, or plaintext by examining the <samp>alg</samp> (algorithm) header value and optionally, the <samp>enc</samp> (encryption method) header value, if present.  </li>
<li>Depending upon whether the JWT signed, encrypted, or plaintext, there are three cases: <ul>
<li>If the JWT is signed, all steps specified in <a href="#JWS">[JWS]</a> for validating a JWS MUST be followed.  Let the Message be the result of base64url decoding the JWS Payload.  </li>
<li>If the JWT is encrypted, all steps specified in <a href="#JWE">[JWE]</a> for validating a JWE MUST be followed.  Let the Message be the JWE Plaintext.  </li>
<li>Else, if the JWT is plaintext, let the Message be the result of base64url decoding the JWE Second Part.  The Third Part MUST be verified to be the empty string.  </li>
</ul>
<p> </p>
</li>
<li>If the JWT Header contains a <samp>typ</samp> value of either "JWS" or "JWE", then the Message contains a JWT that was the subject of nested signing or encryption operations, respectively.  In this case, return to Step 1, using the Message as the JWT.  </li>
<li>Otherwise, let the JWT Claims object be the Message.  </li>
<li>The JWT Claims Object MUST be completely valid JSON syntax conforming to <a href="#RFC4627">RFC 4627</a> <cite title="NONE">[RFC4627]</cite>.  </li>
<li>When used in a security-related context, the JWT Claims Object MUST be validated to only include claims whose syntax and semantics are both understood and supported.  </li>
</ol>

<p> </p>
<p id="rfc.section.7.p.4">Processing a JWT inevitably requires comparing known strings to values in the token. For example, in checking what the algorithm is, the Unicode string encoding <samp>alg</samp> will be checked against the member names in the JWT Header to see if there is a matching header parameter name. A similar process occurs when determining if the value of the <samp>alg</samp> header parameter represents a supported algorithm. Comparing Unicode strings, however, has significant security implications, as per <a href="#Security">Section 10</a>.  </p>
<p id="rfc.section.7.p.5">Comparisons between JSON strings and other Unicode strings MUST be performed as specified below: </p>
<p></p>

<ol>
<li>Remove any JSON applied escaping to produce an array of Unicode code points.  </li>
<li>
<a href="#USA15">Unicode Normalization</a> <cite title="NONE">[USA15]</cite> MUST NOT be applied at any point to either the JSON string or to the string it is to be compared against.  </li>
<li>Comparisons between the two strings MUST be performed as a Unicode code point to code point equality comparison.  </li>
</ol>

<p> </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#Algorithms" id="Algorithms">Cryptographic Algorithms</a>
</h1>
<p id="rfc.section.8.p.1">JWTs use JSON Web Signature (JWS) <a href="#JWS">[JWS]</a> and JSON Web Encryption (JWE) <a href="#JWE">[JWE]</a> to sign and/or encrypt the contents of the JWT.  </p>
<p id="rfc.section.8.p.2">Of the JWS signing algorithms, only HMAC SHA-256 MUST be implemented by conforming JWT implementations.  It is RECOMMENDED that implementations also support the RSA SHA-256 and ECDSA P-256 SHA-256 algorithms.  Support for other algorithms and key sizes is OPTIONAL.  </p>
<p id="rfc.section.8.p.3">If an implementation provides encryption capabilities, of the JWE encryption algorithms, only RSA-PKCS1-1.5 with 2048 bit keys, AES-128-CBC, and AES-256-CBC MUST be implemented by conforming implementations.  It is RECOMMENDED that implementations also support ECDH-ES with 256 bit keys, AES-128-GCM, and AES-256-GCM.  Support for other algorithms and key sizes is OPTIONAL.  </p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.9.p.1">This specification calls for: </p>

<ul><li>A new IANA registry entitled "JSON Web Token Claims" for reserved claim names is defined in <a href="#ReservedClaimName">Section 4.1</a>. Inclusion in the registry is RFC Required in the <a href="#RFC5226">RFC 5226</a> <cite title="NONE">[RFC5226]</cite> sense for reserved JWT claim names that are intended to be interoperable between implementations.  The registry will just record the reserved claim name and a pointer to the RFC that defines it. This specification defines inclusion of the claim names defined in <a href="#ClaimTable">Table 1</a>.  </li></ul>

<p> </p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.10.p.1">TBD: Lots of work to do here. We need to remember to look into any issues relating to security and JSON parsing. One wonders just how secure most JSON parsing libraries are. Were they ever hardened for security scenarios? If not, what kind of holes does that open up? Also, we need to walk through the JSON standard and see what kind of issues we have especially around comparison of names.  For instance, comparisons of claim names and other parameters must occur after they are unescaped. Need to also put in text about: Importance of keeping secrets secret. Rotating keys. Strengths and weaknesses of the different algorithms.  </p>
<p id="rfc.section.10.p.2">TBD: Need to put in text about why strict JSON validation is necessary.  Basically, that if malformed JSON is received then the intent of the sender is impossible to reliably discern.  One example of malformed JSON that MUST be rejected is an object in which the same member name occurs multiple times.  While in non-security contexts it's o.k. to be generous in what one accepts, in security contexts this can lead to serious security holes. For example, malformed JSON might indicate that someone has managed to find a security hole in the issuer's code and is leveraging it to get the issuer to issue "bad" tokens whose content the attacker can control.  </p>
<p id="rfc.section.10.p.3">TBD: Write about the need to secure the token content if a signature is not contained in the JWT itself.  </p>
<h1 id="rfc.section.10.1">
<a href="#rfc.section.10.1">10.1.</a> Unicode Comparison Security Issues</h1>
<p id="rfc.section.10.1.p.1">Claim names in JWTs are Unicode strings.  For security reasons, the representations of these names must be compared verbatim after performing any escape processing (as per <a href="#RFC4627">RFC 4627</a> <cite title="NONE">[RFC4627]</cite>, Section 2.5).  </p>
<p id="rfc.section.10.1.p.2">This means, for instance, that these JSON strings must compare as being equal ("JWT", "\u004aWT"), whereas these must all compare as being not equal to the first set or to each other ("jwt", "Jwt", "JW\u0074").  </p>
<p id="rfc.section.10.1.p.3">JSON strings MAY contain characters outside the Unicode Basic Multilingual Plane.  For instance, the G clef character (U+1D11E) may be represented in a JSON string as "\uD834\uDD1E".  Ideally, JWT implementations SHOULD ensure that characters outside the Basic Multilingual Plane are preserved and compared correctly; alternatively, if this is not possible due to these characters exercising limitations present in the underlying JSON implementation, then input containing them MUST be rejected.  </p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#TBD" id="TBD">Open Issues and Things To Be Done (TBD)</a>
</h1>
<p id="rfc.section.11.p.1">The following items remain to be done in this draft: </p>

<ul>
<li>Provide an example of an encrypted JWT.  </li>
<li>Clarify the optional ability to provide type information for JWTs and/or their parts.  Specifically, clarify whether we need to specify the <samp>typ</samp> Claim Name in addition to the Header Parameter, whether it conveys syntax or semantics, and indeed, whether this is the right approach.  Also clarify the relationship between these type values and <a href="#RFC2045">MIME</a> <cite title="NONE">[RFC2045]</cite> types.  </li>
<li>Think about how to best describe the concept currently described as "the bytes of the UTF-8 representation of".  Possible terms to use instead of "bytes of" include "byte sequence", "octet series", and "octet sequence".  Also consider whether we want to add an overall clarifying statement somewhere in each spec something like "every place we say 'the UTF-8 representation of X', we mean 'the bytes of the UTF-8 representation of X'".  That would potentially allow us to omit the "the bytes of" part everywhere else.  </li>
<li>Consider whether a media type should be proposed, such as "application/jwt".  </li>
<li>Finish the Security Considerations section.  </li>
<li>Possibly write a companion specification that contains the former JWT JSON Serialization.  </li>
</ul>

<p> </p>
<h1 id="rfc.references">
<a href="#rfc.references">12.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">12.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2045">[RFC2045]</b></td>
<td class="top">
<a href="mailto:ned@innosoft.com" title="Innosoft International, Inc.">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com" title="First Virtual Holdings">N.S. Borenstein</a>, "<a href="http://tools.ietf.org/html/rfc2045">Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</a>", RFC 2045, November 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3339">[RFC3339]</b></td>
<td class="top">
<a href="mailto:GK@ACM.ORG" title="Clearswift Corporation">Klyne, G.</a> and <a href="mailto:chris.newman@sun.com" title="Sun Microsystems">C. Newman</a>, "<a href="http://tools.ietf.org/html/rfc3339">Date and Time on the Internet: Timestamps</a>", RFC 3339, July 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3629">[RFC3629]</b></td>
<td class="top">
<a>Yergeau, F.</a>, "<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>", STD 63, RFC 3629, November 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3986">[RFC3986]</b></td>
<td class="top">
<a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com" title="Day Software">Fielding, R.</a> and <a href="mailto:LMM@acm.org" title="Adobe Systems Incorporated">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4627">[RFC4627]</b></td>
<td class="top">
<a>Crockford, D.</a>, "<a href="http://tools.ietf.org/html/rfc4627">The application/json Media Type for JavaScript Object Notation (JSON)</a>", RFC 4627, July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4648">[RFC4648]</b></td>
<td class="top">
<a>Josefsson, S.</a>, "<a href="http://tools.ietf.org/html/rfc4648">The Base16, Base32, and Base64 Data Encodings</a>", RFC 4648, October 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5226">[RFC5226]</b></td>
<td class="top">
<a>Narten, T.</a> and <a>H. Alvestrand</a>, "<a href="http://tools.ietf.org/html/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>", BCP 26, RFC 5226, May 2008.</td>
</tr>
<tr>
<td class="reference"><b id="USA15">[USA15]</b></td>
<td class="top">
<a href="mailto:markdavis@google.com">Davis, M.</a>, <a href="mailto:ken@unicode.org">Whistler, K.</a> and <a>M. D&#252;rst</a>, "<a>Unicode Normalization Forms</a>", Unicode Standard Annex 15, 09 2009.</td>
</tr>
<tr>
<td class="reference"><b id="JWS">[JWS]</b></td>
<td class="top">
<a href="mailto:mbj@microsoft.com" title="Microsoft">Jones, M.B.</a>, <a href="mailto:balfanz@google.com" title="Google">Balfanz, D.</a>, <a href="mailto:ve7jtb@ve7jtb.com" title="independent">Bradley, J.</a>, <a href="mailto:yarong@microsoft.com" title="Microsoft">Goland, Y.Y.</a>, <a href="mailto:jpanzer@google.com" title="Google">Panzer, J.</a>, <a href="mailto:n-sakimura@nri.co.jp" title="Nomura Research Institute">Sakimura, N.</a> and <a href="mailto:pt@fb.com" title="Facebook">P. Tarjan</a>, "<a>JSON Web Signature (JWS)</a>", October 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">12.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="OASIS.saml-core-2.0-os">[OASIS.saml-core-2.0-os]</b></td>
<td class="top">
<a href="mailto:cantor.2@osu.edu" title="Internet2">Cantor, S.</a>, <a href="mailto:John.Kemp@nokia.com" title="Nokia">Kemp, J.</a>, <a href="mailto:rphilpott@rsasecurity.com" title="RSA Security">Philpott, R.</a> and <a href="mailto:eve.maler@sun.com" title="Sun Microsystems">E. Maler</a>, "<a>Assertions and Protocol for the OASIS Security Assertion Markup Language (SAML) V2.0</a>", OASIS Standard saml-core-2.0-os, March 2005.</td>
</tr>
<tr>
<td class="reference"><b id="W3C.CR-xml11-20021015">[W3C.CR-xml11-20021015]</b></td>
<td class="top">
<a>Cowan, J</a>, "<a>Extensible Markup Language (XML) 1.1</a>", W3C CR CR-xml11-20021015, October 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3275">[RFC3275]</b></td>
<td class="top">
<a>Eastlake, D.</a>, <a>Reagle, J.</a> and <a>D. Solo</a>, "<a href="http://tools.ietf.org/html/rfc3275">(Extensible Markup Language) XML-Signature Syntax and Processing</a>", RFC 3275, March 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4122">[RFC4122]</b></td>
<td class="top">
<a href="mailto:paulle@microsoft.com" title="Microsoft">Leach, P.</a>, <a href="mailto:michael@refactored-networks.com" title="Refactored Networks, LLC">Mealling, M.</a> and <a href="mailto:rsalz@datapower.com" title="DataPower Technology, Inc.">R. Salz</a>, "<a href="http://tools.ietf.org/html/rfc4122">A Universally Unique IDentifier (UUID) URN Namespace</a>", RFC 4122, July 2005.</td>
</tr>
<tr>
<td class="reference"><b id="SWT">[SWT]</b></td>
<td class="top">
<a>Hardt, D.</a> and <a>Y.Y. Goland</a>, "<a>Simple Web Token (SWT)</a>", Version 0.9.5.1, November 2009.</td>
</tr>
<tr>
<td class="reference"><b id="MagicSignatures">[MagicSignatures]</b></td>
<td class="top">
<a>Panzer (editor), J.</a>, <a>Laurie, B.</a> and <a>D. Balfanz</a>, "<a>Magic Signatures</a>", August 2010.</td>
</tr>
<tr>
<td class="reference"><b id="JSS">[JSS]</b></td>
<td class="top">
<a title="independent">Bradley, J.</a> and <a title="Nomura Research Institute">N.  Sakimura (editor)</a>, "<a>JSON Simple Sign</a>", September 2010.</td>
</tr>
<tr>
<td class="reference"><b id="CanvasApp">[CanvasApp]</b></td>
<td class="top">
<a>Facebook, </a>, "<a>Canvas Applications</a>", 2010.</td>
</tr>
<tr>
<td class="reference"><b id="JWE">[JWE]</b></td>
<td class="top">
<a href="mailto:mbj@microsoft.com" title="Microsoft">Jones, M.B.</a>, <a href="mailto:ekr@rtfm.com" title="RTFM, Inc.">Rescorla, E.</a> and <a href="mailto:jhildebr@cisco.com" title="Cisco Systems, Inc.">J. Hildebrand</a>, "<a>JSON Web Encryption (JWE)</a>", October 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Relationship of JWTs to SAML Tokens</h1>
<p><a href="#OASIS.saml-core-2.0-os">SAML 2.0</a> <cite title="NONE">[OASIS.saml-core-2.0-os]</cite> provides a standard for creating tokens with much greater expressivity and more security options than supported by JWTs. However, the cost of this flexibility and expressiveness is both size and complexity. In addition, SAML's use of <a href="#W3C.CR-xml11-20021015">XML</a> <cite title="NONE">[W3C.CR-xml11-20021015]</cite> and <a href="#RFC3275">XML DSIG</a> <cite title="NONE">[RFC3275]</cite> only contributes to the size of SAML tokens.  </p>
<p id="rfc.section.Appendix A.p.2">JWTs are intended to provide a simple token format that is small enough to fit into HTTP headers and query arguments in URIs. It does this by supporting a much simpler token model than SAML and using the <a href="#RFC4627">JSON</a> <cite title="NONE">[RFC4627]</cite> object encoding syntax. It also supports securing tokens using Hash-based Message Authentication Codes (HMACs) and digital signatures using a smaller (and less flexible) format than XML DSIG.  </p>
<p id="rfc.section.Appendix A.p.3">Therefore, while JWTs can do some of the things SAML tokens do, JWTs are not intended as a full replacement for SAML tokens, but rather as a compromise token format to be used when space is at a premium.  </p>
<h1 id="rfc.appendix.Appendix B">
<a href="#rfc.appendix.Appendix%20B">Appendix B.</a> Relationship of JWTs to Simple Web Tokens (SWTs)</h1>
<p id="rfc.section.Appendix B.p.1">Both JWTs and Simple Web Tokens <a href="#SWT">SWT</a> <cite title="NONE">[SWT]</cite>, at their core, enable sets of claims to be communicated between applications.  For SWTs, both the claim names and claim values are strings.  For JWTs, while claim names are strings, claim values can be any JSON type.  Both token types offer cryptographic protection of their content: SWTs with HMAC SHA-256 and JWTs with a choice of algorithms, including HMAC SHA-256, RSA SHA-256, and ECDSA P-256 SHA-256.  </p>
<h1 id="rfc.appendix.Appendix C">
<a href="#rfc.appendix.Appendix%20C">Appendix C.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.Appendix C.p.1">The authors acknowledge that the design of JWTs was intentionally influenced by the design and simplicity of <a href="#SWT">Simple Web Tokens</a> <cite title="NONE">[SWT]</cite> and ideas for JSON tokens that Dick Hardt discussed within the OpenID community.  </p>
<p id="rfc.section.Appendix C.p.2">Solutions for signing JSON content were previously explored by <a href="#MagicSignatures">Magic Signatures</a> <cite title="NONE">[MagicSignatures]</cite>, <a href="#JSS">JSON Simple Sign</a> <cite title="NONE">[JSS]</cite>, and <a href="#CanvasApp">Canvas Applications</a> <cite title="NONE">[CanvasApp]</cite>, all of which influenced this draft.  </p>
<h1 id="rfc.appendix.Appendix D">
<a href="#rfc.appendix.Appendix%20D">Appendix D.</a> Document History</h1>
<p id="rfc.section.Appendix D.p.1">-06 </p>

<ul>
<li>Reference and use content from <a href="#JWS">[JWS]</a> and <a href="#JWE">[JWE]</a>, rather than repeating it here.  </li>
<li>Simplified terminology to better match JWE, where the terms "JWT Header" and "Encoded JWT Header" are now used, for instance, rather than the previous terms "Decoded JWT Header Segment" and "JWT Header Segment".  Also changed to "Plaintext JWT" from "Unsigned JWT".  </li>
<li>Describe how to perform nested encryption and signing operations.  </li>
<li>Changed "integer" to "number", since that is the correct JSON type.  </li>
<li>Changed StringAndURI to StringOrURI.  </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix D.p.2">-05 </p>

<ul><li>Added the <samp>nbf</samp> (not before) claim and clarified the meaning of the <samp>iat</samp> (issued at) claim.  </li></ul>

<p> </p>
<p id="rfc.section.Appendix D.p.3">-04 </p>

<ul><li>Correct typo found by John Bradley: "the JWT Claim Segment is the empty string" -&gt; "the JWT Crypto Segment is the empty string".  </li></ul>

<p> </p>
<p id="rfc.section.Appendix D.p.4">-03 </p>

<ul>
<li>Added "http://openid.net/specs/jwt/1.0" as a token type identifier URI for JWTs.  </li>
<li>Added <samp>iat</samp> (issued at) claim.  </li>
<li>Changed RSA SHA-256 from MUST be supported to RECOMMENDED that it be supported.  Rationale: Several people have objected to the requirement for implementing RSA SHA-256, some because they will only be using HMACs and symmetric keys, and others because they only want to use ECDSA when using asymmetric keys, either for security or key length reasons, or both.  </li>
<li>Defined <samp>alg</samp> value <samp>none</samp> to represent unsigned JWTs.  </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix D.p.5">-02 </p>

<ul>
<li>Split signature specification out into separate draft-jones-json-web-signature-00.  This split introduced no semantic changes.  </li>
<li>The JWT Compact Serialization is now the only token serialization format specified in this draft.  The JWT JSON Serialization can continue to be defined in a companion specification.  </li>
</ul>

<p> </p>
<p id="rfc.section.Appendix D.p.6">-01 </p>

<ul><li>Draft incorporating consensus decisions reached at IIW.  </li></ul>

<p> </p>
<p id="rfc.section.Appendix D.p.7">-00 </p>

<ul><li>Public draft published before November 2010 IIW based upon the JSON token convergence proposal incorporating input from several implementers of related specifications.  </li></ul>

<p> </p>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Michael B. Jones</span> 
	  <span class="n hidden">
		<span class="family-name">Jones</span>
	  </span>
	</span>
	<span class="org vcardline">Microsoft</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:mbj@microsoft.com">mbj@microsoft.com</a></span>

<span class="vcardline">URI: <a href="http://self-issued.info/">http://self-issued.info/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Dirk Balfanz</span> 
	  <span class="n hidden">
		<span class="family-name">Balfanz</span>
	  </span>
	</span>
	<span class="org vcardline">Google</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:balfanz@google.com">balfanz@google.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">John Bradley</span> 
	  <span class="n hidden">
		<span class="family-name">Bradley</span>
	  </span>
	</span>
	<span class="org vcardline">independent</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ve7jtb@ve7jtb.com">ve7jtb@ve7jtb.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Yaron Y. Goland</span> 
	  <span class="n hidden">
		<span class="family-name">Goland</span>
	  </span>
	</span>
	<span class="org vcardline">Microsoft</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:yarong@microsoft.com">yarong@microsoft.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">John Panzer</span> 
	  <span class="n hidden">
		<span class="family-name">Panzer</span>
	  </span>
	</span>
	<span class="org vcardline">Google</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jpanzer@google.com">jpanzer@google.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Nat Sakimura</span> 
	  <span class="n hidden">
		<span class="family-name">Sakimura</span>
	  </span>
	</span>
	<span class="org vcardline">Nomura Research Institute</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:n-sakimura@nri.co.jp">n-sakimura@nri.co.jp</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Paul Tarjan</span> 
	  <span class="n hidden">
		<span class="family-name">Tarjan</span>
	  </span>
	</span>
	<span class="org vcardline">Facebook</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:pt@fb.com">pt@fb.com</a></span>

  </address>
</div>

</body>
</html>