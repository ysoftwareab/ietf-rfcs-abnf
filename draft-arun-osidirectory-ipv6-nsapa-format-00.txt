
 Internet-Draft                                          Arun Pandey
 draft-arun-osidirectory-ipv6-nsapa-format-00.txt        Hewlett Packard
 Expires:  June 2005                                     December 2004
  
                                                                                                                                 
                       OSI Directory IPv6 NSAPA Format
 
 Status of this Memo 
     
    By submitting this Internet-Draft, I certify that any applicable
    patent or other IPR claims of which I am aware have been disclosed,
    and any of which I become aware will be disclosed, in accordance 
    with RFC 3668."

    This Internet-Draft and is in full conformance with all provisions 
    of Section 10 of RFC2026.
     
    Internet-Drafts are working documents of the Internet Engineering
    Task Force (IETF), its areas, and its working groups.  Note that
    other groups may also distribute working documents as Internet-
    Drafts. 
     
    Internet-Drafts are draft documents valid for a maximum of six
    months and may be updated, replaced, or obsoleted by other
    documents at any time.  It is inappropriate to use Internet-Drafts
    as reference material or to cite them other than as "work in
    progress."
     
    The list of current Internet-Drafts can be accessed at
         http://www.ietf.org/ietf/1id-abstracts.txt
    The list of Internet-Draft Shadow Directories can be accessed at
         http://www.ietf.org/shadow.html.
     
  
 Abstract 
     
    The X500 Directory specifies an encoding of Presentation Address,
    which utilizes OSI Network Addresses as defined in the OSI Network
    Layer standards [CCI88] [ISO87a]. X500 Directories not being heavy 
    users of OSI Session layer services can be run in a pure TCP/IP
    environment. This is possible by incorporating minimal OSI
    presentation and session layer services in the X500 Directory, thus
    allowing the X500 Directory to run in a pure TCP/IP environment.
    
    In a pure TCP/IP environment the X500 Directory must be able to use
    an IPv6 address in its presentation address. Since a TCP port is
    essential in identifying an application in the TCP/IP environment
    a format is required to allow specification of the TCP port along 
    with the IPV6 address inside a OSI Network Address.

    This document defines a OSI Network Address format for encoding
    IPV6 address along with the TCP port number present in the
    presentation address of the X500 Directory, inside a 20-octet NSAP
    address, for X500 Directory services running in a pure TCP/IP
    environment.

Arun              Expires June 2005                                  1 
    OSI Directory IPv6 NSAPA Format                            June 2004  

 Table of Contents 
     
    1  Introduction...................................................3
    2  Conventions Used In This Document..............................3
    3  Existing TCP/IP NSAPA Formats applicable to OSI Directories....3
    4  OSI Directory IPv6 NSAPA format................................4
    5  Encoding.......................................................5
    6  IANA considerations............................................5
    7  Security Considerations........................................5
    8  Intellectual Property Statement................................6
    9  Normative References...........................................6
    10 Informative References.........................................7
    11 Authors Address................................................7
    12 Full Copyright Statement.......................................7
     







































    

Arun              Expires June 2005                                  2 
    OSI Directory IPv6 NSAPA Format                           June 2004
      
 1  Introduction 
     
    The X500 Directory uses an encoding of Presentation Address that
    utilises OSI Network Addresses as defined in the OSI Network Layer
    standards [CCI88] [ISO87a].  The X500 Directory, and any application 
    utilising the X500 Directory must be able use these Network 
    Addresses to identify end systems.

    OSI Directories make minimal use of the OSI session layer services.
    This makes possible incorporation of minimal OSI presentation and
    session services within X500 Directory to allow it to work directly
    over TCP/IP. This allows customers investigating use of X500 
    Directory, the benefit of X500 services offered in a pure TCP/IP 
    environment, without having to invest in OSI stack implementations.

    Such X500 Directory applications are still dependent on the OSI 
    Network Addresses to encode the presentation address. Moreover such
    applications are not dependent on the OSI stack ITOT 
    implementations [RFC1006] to work over TCP/IP. As a result they can 
    use a different port than the default 102 RFC1006 port [RFC1006] to 
    work in a pure TCP/IP environment. 

    For such applications the TCP port number specified in the 
    presentation address is an important piece of information. This TCP 
    port number was traditionally carried along with the IPv4 address 
    inside the OSI Network Address format specified by RFC1277 
    "TCP/IP (RFC 1006) Network Specific Format" [RFC1277]. The format 
    specified by RFC 2126 ôOSI Network Address encodingö [RFC2126] for 
    ITOT addresses using IPv6 inside an NSAPA does not allow a port 
    number to be specified inside the NSAPA.

    For a smooth transition to using IPV6 addresses inside the 
    presentation address for X500 Directories keeping the TCP port 
    number inside the OSI NSAP address is required. For the benefit 
    of X500 Directories working in a pure TCP/IP environment, this 
    document defines a new OSI Network Address encoding format for 
    encoding the OSI Directory presentation address inside an NSAPA 
    that allows specification of the TCP port along with the IPv6 
    address.

    
 2  Conventions Used In This Document 
     
    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
    "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in 
    this document are to be interpreted as described in RFC 2119 
    [RFC2119]. 
     
 3 Existing TCP/IP NSAPA formats applicable to OSI Directories 

   RFC 1277 ôTCP/IP (RFC 1006) Network Specific Formatö [RFC1277] is 
   applicable to encoding OSI Directory presentation address containing 
   an IPv4 address, inside an OSI NSAPA. 



Arun              Expires June 2005                                  3 
    OSI Directory IPv6 NSAPA Format                           June 2004

   This format is also applicable to X500 Directories that run in 
   a pure TCP/IP environment using IPv4 addresses, for encoding 
   the presentation address inside the OSI NSAPA.

   RFC 2126 ôOSI Network Address encodingö [RFC2126] specifies RFC 1888 
   "IPv6 addresses inside an NSAPA" [IPv6] to define the format to
   embed an IPv6 address inside a OSI NSAP address. It further states 
   that RFC 1888 is applicable to ITOT addresses using IPv6 where for 
   ITOT addresses, the default selector of the NSAPA is defined to have 
   the value '10000000'B.

   This format is applicable to OSI Directories that run in an ITOT 
   environment using an IPv6 address, for encoding the presentation 
   address containing an IPv6 address, inside an OSI NSAPA.

   The process to make RFC 1888 obsolete has been initiated via 
   draft-carpenter-obsolete-1888-00.txt, which points out the errors 
   in the section "IPv6 addresses inside an NSAPA" [IPv6]. These 
   should be taken note for encoding in this format.

   But this format is not sufficient for X500 Directories that run in 
   a pure TCP/IP environment using IPv6 addresses, for encoding the 
   presentation address inside an OSI NSAPA.

   X500 Directories exchange the presentation address encoded inside the 
   OSI Network address format (NSAPA) across application boundaries for 
   replication and chaining. These encoded presentation addresses are 
   used by the receiving instances of the X500 Directory to establish 
   connection with the X500 Directory specified in the encoded 
   NSAPA. 

   In a pure TCP/IP environment the X500 Directory that uses it own 
   minimal implementation of OSI presentation and session services 
   could be listening on a TCP port other than default RFC1006 port 
   102 [RFC1006]. If this port number is not encoded inside the NSAPA, 
   as is the Case for the existing formats specified for IPV6 inside 
   NSAPA, then an alternative is to carry the port number separately in 
   another field. But introducing a new field to carry the port number 
   would require changes to underlying X500 protocols, and would involve
   a significant changes in the existing OSI Directory applications to 
   be enabled to work in a pure TCP/IP enviroment using IPV6. 

   As a result a new format is required to embed the IPv6 address and 
   the TCP port number specified in the presentation address of an OSI 
   Directory, inside a 20-octet NSAP address. 



4  OSI Directory IPv6 NSAPA format
     
   The first octet is the AFI using the value 35 allocated to IANA. 
   The next two octets are the IDI specifying the IANA ICP. ICP values 
   9900 to 9999 are proposed to be reserved for this new OSI Directory 
   IPV6 NSAPA format. This allocation of the ICP values allows the 
   specification of the required format. 

Arun              Expires June 2005                                  4 
    OSI Directory IPv6 NSAPA Format                           June 2004

   The values 00 to 99 in the second octet of the ICP are considered 
   redundant, when the value 99 is present in the first octet of the 
   ICP and AFI=35. The second octet of the ICP is then used to carry 
   the first byte of the Ipv6 address, and the remaining 15 octets of 
   the Ipv6 address are carried in the subsequent 15 octets of the 
   NSAPA. The last two octets of the 20 bytes NSAPA contain the two 
   octets of TCP port number where the 16 bits representing the TCP 
   port number are put in network byte order in the last two octets 
   of the NSAPA.



             0                1               2               3
         0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  0-3  |  AFI = 35     |   ICP = 99    | IPv6  (byte 0)| IPv6  (byte 1)|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  4-7  |             IPv6  (bytes 2-5)                                 |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  8-11 |             IPv6  (bytes 6-9)                                 |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  12-15|             IPv6  (bytes 10-13)                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  16-19|       IPv6  (bytes 14-15)     |16 bit TCP port (max val=65535)|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 

     
 5  Encoding 
   
    The AFI value 35 is encoded using two semi-octets to represent the 
    two digits of the AFI, yielding a value for each semi-octet in the 
    range 0000-1001 as per A.5.3 of [ISO8348]. The second octet of the 
    IDP with value 99 is encoded as per the preferred binary encoding 
    for IDI in section A.5.3 [ISO8348] to use a semi-octet to represent
    the value of each decimal digit, yielding a value in the range 
    0000-1001. 
    
    The second octet of the ICP is considered to be the first octet of 
    the Ipv6 address followed by the next 15 octets of the IPV6 address. 
    The last 2 octets of the NSAPA contain the 16 bits representing the 
    TCP port number and are put in the network byte order.
  
   
 6 IANA considerations

   This document defines:

    - OSI Directory IPv6 NSAPA format (see section 3), that proposes
      IANA ICP values 9900 to 9999 be reserved for this format.

 7  Security Considerations 
  
    Security considerations are not discussed in this memo.


Arun              Expires June 2005                                  5 
    OSI Directory IPv6 NSAPA Format                           June 2004      
   
 8  Intellectual Property Statement 
     
    The IETF takes no position regarding the validity or scope of any 
    intellectual property or other rights that might be claimed to 
    pertain to the implementation or use of the technology described in 
    this document or the extent to which any license under such rights 
    might or might not be available; neither does it represent that it 
    has made any effort to identify any such rights.  Information on 
    the IETF's procedures with respect to rights in standards-track and 
    standards-related documentation can be found in BCP-11.  Copies of 
    claims of rights made available for publication and any assurances 
    of licenses to be made available, or the result of an attempt made 
    to obtain a general license or permission for the use of such 
    proprietary rights by implementors or users of this specification 
    can be obtained from the IETF Secretariat. 
     
    The IETF invites any interested party to bring to its attention any 
    copyrights, patents or patent applications, or other proprietary 
    rights which may cover technology that may be required to practice 
    this standard.  Please address the information to the IETF 
    Executive Director. 
     
     
     
 9  Normative References 

    [RFC2119] S. Bradner, "Key words for use in RFCs to Indicate 
              Requirement Levels", RFC 2119, BCP14, March 1999.

    [ISO87a] Information processing systems - data communications -
             network services definition:  Addendum 2 - network layer
             addressing, March 1987. ISO TC 97/SC 6.
  
    [ISO8348] ISO. "International Standard 8348,.  Information 
              Processing Systems - Open Systems Interconnection: 
              Network Service Definition."
 
              Annex A, Network Layer Addressing, and Annex B, 
              Rationale for the material in Annex A, of 
              ISO/IEC 8348, 2002 (identical to ITU-T 
              RECOMMENDATION X.213).
   
    [RFC1006] Rose, M., and D. Cass, "ISO Transport Services on Top 
              of the TCP Version 3", STD 35, RFC 1006, May 1987.

    [RFC1277] Hardcastle-Kille, S., "Encoding Network Addresses to
              support operation over non-OSI lower layers", RFC 1277,
              November 1991.
   
    [RFC1888] Bound, J., Carpenter, B., Harrington, D., Houldsworth, 
              J., and A. Lloyd, "OSI NSAPs and IPv6", RFC 1888, 
              August 1996.

    [RFC2126] Y., Pouffary, A., Young, "ISO Transport Service on top 
             of TCP (ITOT)", RFC 2126, March 1997.

Arun              Expires June 2005                                  6 
    OSI Directory IPv6 NSAPA Format                           June 2004     

 10 Informative References 
     
    [RFC1278]  Hardcastle-Kille, S., "String encoding of Presentation
               Address", RFC 1278, November 1991.

     
 11 Authors Address 
     
    Arun Pandey
    Project Leader                         Phone: +91 80 852 8395 23183
    Technology Services Delivery Unit      Fax:   +91 80 852 8420
    Hewlett Packard                        Email: pandey.arun@hp.com
    39/40, Electronic City, Phase II
    Bangalore - 560100, India

      
 12 Full Copyright Statement 
     
    "Copyright (C) The Internet Society (2004). This document is
    subject to the rights, licenses and restrictions contained in BCP
    78, and except as set forth therein, the authors retain all their
    rights."

    This document and translations of it may be copied and furnished to 
    others, and derivative works that comment on or otherwise explain 
    it or assist in its implementation may be prepared, copied, 
    published and distributed, in whole or in part, without restriction 
    of any kind, provided that the above copyright notice and this 
    paragraph are included on all such copies and derivative works. 
    However, this document itself may not be modified in any way, such 
    as by removing the copyright notice or references to the Internet 
    Society or other Internet organizations, except as needed for the 
    purpose of developing Internet standards in which case the 
    procedures for copyrights defined in the Internet Standards process 
    must be followed, or as required to translate it into languages 
    other than English. 
     
    The limited permissions granted above are perpetual and will not be 
    revoked by the Internet Society or its successors or assigns. 
     
    "This document and the information contained herein are provided
     on an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE
     REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND
     THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
     THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR
     ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A
     PARTICULAR PURPOSE."
 
     











Arun              Expires June 2005                                  7 
    OSI Directory IPv6 NSAPA Format                           June 2004

