<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Network Portability Requirements and Models for Cloud Environment</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Network Portability Requirements">
<link href="#rfc.section.3" rel="Chapter" title="3 Network Portability Models">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Host-oriented Portability Model">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Network-oriented Portability Model">
<link href="#rfc.section.4" rel="Chapter" title="4 Implementation Examples">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Wide area VLAN-based Network Porability">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 NEMO-based Network Porability">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Mobile IPv6-based Network Porability">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Routing-based Network Portability">
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 LISP-based Network Portability">
<link href="#rfc.section.5" rel="Chapter" title="5 Acknowledgements">
<link href="#rfc.section.6" rel="Chapter" title="6 IANA Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Recent progress of virtual machine technology made it possible to host various Internet service nodes in a so called cloud environment.  The virtual machine hosting technology provides a method to migrate a virtual machine from one hypervisor to another.  However, such a technology is mainly focusing on a migration between hypervisors attached to the same link, and tend not to consider migration over the Internet.  This document mentions the purpose of that type of operation and describe several possible operation methods to provide network portability in cloud systems.  " />
  <meta name="description" content="Recent progress of virtual machine technology made it possible to host various Internet service nodes in a so called cloud environment.  The virtual machine hosting technology provides a method to migrate a virtual machine from one hypervisor to another.  However, such a technology is mainly focusing on a migration between hypervisors attached to the same link, and tend not to consider migration over the Internet.  This document mentions the purpose of that type of operation and describe several possible operation methods to provide network portability in cloud systems.  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">K. Shima</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">IIJ Innovation Institute Inc.</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">Y. Sekiya</td>
</tr>
<tr>
<td class="left">Expires: April 19, 2012</td>
<td class="right">The University of Tokyo</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">K. Horiba</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Keio University</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 17, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Network Portability Requirements and Models for Cloud Environment<br />
  <span class="filename">draft-shima-clouds-net-portability-reqs-and-models-01</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Recent progress of virtual machine technology made it possible to host various Internet service nodes in a so called cloud environment.  The virtual machine hosting technology provides a method to migrate a virtual machine from one hypervisor to another.  However, such a technology is mainly focusing on a migration between hypervisors attached to the same link, and tend not to consider migration over the Internet.  This document mentions the purpose of that type of operation and describe several possible operation methods to provide network portability in cloud systems.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 19, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Network Portability Requirements</a>
</li>
<li>3.   <a href="#rfc.section.3">Network Portability Models</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Host-oriented Portability Model</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Network-oriented Portability Model</a>
</li>
<li>4.   <a href="#rfc.section.4">Implementation Examples</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Wide area VLAN-based Network Porability</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">NEMO-based Network Porability</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Mobile IPv6-based Network Porability</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Routing-based Network Portability</a>
</li>
<li>4.5.   <a href="#rfc.section.4.5">LISP-based Network Portability</a>
</li>
<li>5.   <a href="#rfc.section.5">Acknowledgements</a>
</li>
<li>6.   <a href="#rfc.section.6">IANA Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">This document describes requirements and methodology of network migration for inter-datacenter and inter-clouds. The progress of virtualization technology changed the way to build Internet services completely.  For example, the PaaS (Platform as a Services) is one of the innovative concept of computing service utilizing virtualization technology.  It provides network-oriented service APIs to software layer which scales out by increasing the number of virtual nodes and scales in by decreasing the number of virtual nodes based on the load of the software requests.  </p>
<p id="rfc.section.1.p.2">A PaaS is built and provided in single datacenter by single organization nowadays, however, the needs of building distributed, inter-datacenter PaaS, and inter-connecting existing PaaS(es) are growing.  Recently people expect sustainable service much more seriously than ever before. If a datacenter is encountered network circuit or power troubles, administrators or users of PaaS want to move the virtual nodes in a datacenter to other datacenters or other PaaS(es) without service interruption.  </p>
<p id="rfc.section.1.p.3">In order to migrate virtual nodes between inter-datacenter and inter-clouds without service interruptions and changes, network portability technologies are required between the datacenters and clouds.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Network Portability Requirements</h1>
<p id="rfc.section.2.p.1">The requirements of network portability for migrating vitrual nodes between datacenters and between clouds are below.  </p>
<p></p>

<ul>
<li>Providing the same user service networks between each datacenter and cloud <br><br> Each user has different service networks and it should be possible for users to use their networks on any datacenters or clouds. If the service infrastructure is operated by a single administrative organization, it is possible to use VLAN and VPN technologies to achieve this property, however, building user networks using such technologies is difficult in inter-datacenters or inter-clouds cases where administrative organizations differ.  Since VLAN is a layer-2 technology and it requires direct circuit between datacenters, it is difficult considering the cost to keep the direct line.  VPN is a cost-effective technology and it is possible to provide user networks on each datacenters and clouds, however, if the clouds are administrated by different organizations, it is difficult and costly for administrators to build a lot of VPN connection for all user networks.  </li>
<li>Movement policy management mechanism <br><br> When a network is moved from one datacenter or cloud system to another, it must be permitted and authorized by the destination system in some way.  </li>
<li>High-Availability of user networks <br><br> Even if using VLAN and VPN technologies, each user network has a single connecting point to the Internet. It may be a single point of failure of inter-datacenter and inter-clouds PaaS service. Network potability in inter-datacenters and inter-clouds should provide High-Availability capability.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Network Portability Models</h1>
<p id="rfc.section.3.p.1">We consider two kinds of network portability models in this draft.  One is the host-oriented portability model, and the other is the network-oriented portability model.  </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Host-oriented Portability Model</h1>
<p id="rfc.section.3.1.p.1">In this model, each host (virtual machine) manages the network portability.  To adpot this model, each host must be equipped with some kinds of host mobility support.  Every time a host migrates from one hypervisor to another hypervisor and the attached network environment of the migrated host changes, the host must be trigger mobility function to adapt the current attached network environment.  Examples implementation of this model are using host mobility protocols such as <a href="#RFC5944">Mobile IP</a> <cite title="NONE">[RFC5944]</cite>, <a href="#RFC6275">Mobile IPv6</a> <cite title="NONE">[RFC6275]</cite>, <a href="#RFC5201">HIP</a> <cite title="NONE">[RFC5201]</cite>, or <a href="#I-D.ietf-lisp">LISP</a> <cite title="NONE">[I-D.ietf-lisp]</cite> and advertising host route entry from the moving node.  </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Network-oriented Portability Model</h1>
<p id="rfc.section.3.2.p.1">In this model, the network resource to which the host is attached before migration and after migration does not change.  Since the migrated host doesn't notice the network environment change, it can continue to work after the migration.  To provide the same network environment, the cloud system must support network resource migration between the previous location and current location of the host.  Examples of this model is using VLAN, and using VPN connection.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Implementation Examples</h1>
<p id="rfc.section.4.p.1">In this section, we show some of the implementation example of network portability in cloud system.  <a href="#VLAN-based">Section 4.1</a> describes an example of the network-based network portability implementation using wide area VLAN configuration.  <a href="#NEMO-based">Section 4.2</a> describes another example of the network-based network portability implementation using <a href="#RFC3963">NEMO BS.</a> <cite title="NONE">[RFC3963]</cite> <a href="#MIPv6-based">Section 4.3</a> describes an example of the host-based network portability implementation using Mobile IPv6.  <a href="#Routing-based">Section 4.4</a> describes another example of the host-based network portability implementation using host route technology.  <a href="#LISP-based">Section 4.5</a> shows yet another example of host-based approach.  </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#VLAN-based" id="VLAN-based">Wide area VLAN-based Network Porability</a>
</h1>
<p id="rfc.section.4.1.p.1">One possible solution to provide network portability in a cloud system is that to provide a seamless layer 2 network to the entire cloud system.  Recently, since the wide area connectivity is getting faster and faster, so it becomes realistic to extend a layer 2 network from one site to other site where is geographically far.  </p>
<p id="rfc.section.4.1.p.2">In this case, the hypervisor and host configuration become simple.  All the hypervisors are attached to the same layer 2 link which is widely extended to every sites which consist the entire cloud system.  A host is configured with the network which is bridged to the wide area layer 2 network.  </p>
<p id="rfc.section.4.1.p.3">The migration procedure does not require any additional configuration or operation.  Since all the hypervisors share the same layer 2 network, hosts can migrate to any one of the hypervisors attached to the layer 2 network.  </p>
<p id="rfc.section.4.1.p.4">The policy management of the network resource mobility is performed as a part of the VLAN management.  Whether the destination service provider accept network resource migration or not is same as whether they accept to offer their VLAN resource to the source service provider.  </p>
<p id="rfc.section.4.1.p.5">For the redundancy, the same technologies for VLAN can be used.  </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#NEMO-based" id="NEMO-based">NEMO-based Network Porability</a>
</h1>
<p id="rfc.section.4.2.p.1">Another way to provide network portability is to use network mobility technology such as <a href="#RFC3963">NEMO BS</a> <cite title="NONE">[RFC3963]</cite>.  In this model, the cloud operator puts several mobile routers (MRs) in the cloud and assigns mobile network prefixes (MNPs) to each of the MR.  The MRs are basically hidden to the users of the cloud system.  Users do not need to know what is happning when the network migration occurs.  </p>
<p id="rfc.section.4.2.p.2">The MRs are prepared as virtual machines in the cloud system as same as other normal host machines.  Since the MNP bound to each MR moves with the MR, all the hosts attached to the MNP must also move with the MR.  Below is an example operation of the migration procedure performed in this case.  </p>
<p id="rfc.section.4.2.p.3">The cloud system first prepares a home network prefix used as a base network of all the MRs in the cloud system, and prepares a home agent (HA) to serve the network mobility function.  Each MR has two network interfaces; one is for the local attachment point to get a care-of address, the other is for the presistent network to host other virtual machines which move with the MR.  </p>
<p id="rfc.section.4.2.p.4">As many virtual machies as possible can be put on the persistent network of the MR, however, when network migration is performed, all the machines inside the persistent network must be moved altogether.  So, if we want to move a virtual machine one by one, we must put only one virtual machine in the persistent segment.  It depends on the configuration of the service system.  For example, if we design a kind of web service system that consists of a web server and a backend database server, then we may put these two into the one persistent network.  Because those two servers must be on the same segment anyway, simultaneous migration will not be a limitation in this scenario.  </p>
<p id="rfc.section.4.2.p.5">The persistent networks that are bound to MNPs are virtual networks defined in hypervisors.  The requirement to the virtual network is that the network must be identified by a virtual machine with a static identifier (e.g. the name of the virtual network) independent of the hypervisors on which the virtual machine runs.  For example, if a virtual machine attaches to a virtual network whose name is 'mobile-net-1' on hypervisor A and migrates to hypervisor B, then the hypervisor B must be able to provide a virtual network which is identified by the name 'mobile-net-1'.  </p>
<p id="rfc.section.4.2.p.6">Whem a network is migrated, all the related virtual machines must be moved to the same destination hypervisor.  That includes a MR, all the hosts attached to the MNP of the MR.  Once a MR migrates to other hypervisor, it will detect the external interface status and find that the network is changed.  The MR then initiates the procedure of NEMO BS, acquires a new care-of address, and registers its new location to the HA.  For the hosts inside the MNP, no additional action is required, since the network environment of the MNP is maintained by the MR and no change happens to that network.  </p>
<p id="rfc.section.4.2.p.7">The policy management of the network resource mobility is performed as a part of mobility management policy of NEMO BS.  For example, some kind of roaming mechanism between the source and destination service providers and service level agreement are used to implement the policy management.  </p>
<p id="rfc.section.4.2.p.8">Similar to Mobile IPv6, the system may need to deploy some mechanisms to add high availability function to the home agent, since it is a single point of failure of Mobile IPv6-based mechanism.  The mechanism for high availability of home agents is out of scope of this document.  </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#MIPv6-based" id="MIPv6-based">Mobile IPv6-based Network Porability</a>
</h1>
<p id="rfc.section.4.3.p.1">In this case, all the hosts (which are virtual machines in a cloud system) are assumed to have Mobile IP function.  A home agent must also exist as a part of the cloud system to serve home network of the mobile hosts.  </p>
<p id="rfc.section.4.3.p.2">Each host attaches to any one of the virtual or bridged networks that hypervisors provide.  Based on the procedure of the Mobile IPv6, the host configures its care-of address using some kinds of address configuration mechanisms provided at the attached network, and register it with its home address to the home agent.  The detailed Mobile IPv6 operation procedure and configuration procedures is not described here.  </p>
<p id="rfc.section.4.3.p.3">When a host is migrated from one hypervisor to another hypervisor, the network to which the migrated host attached changes, if the hypervisors are not attached to the same network segment.  The migrated host detects the new network environment using the Mobile IPv6 function, and acquire a new care-of address of the network under the new hypervisor.  </p>
<p id="rfc.section.4.3.p.4">As same as the NEMO BS case, the policy management of the network resource mobility is performed as a part of mobility management policy of Mobile IPv6.  For example, some kind of roaming mechanism between the source and destination service providers and service level agreement are used to implement the policy management.  </p>
<p id="rfc.section.4.3.p.5">Similar to Mobile IPv6, the system may need to deploy some mechanisms to add high availability function to the home agent, since it is a single point of failure of Mobile IPv6-based mechanism.  The mechanism for high availability of home agents is out of scope of this document.  </p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> <a href="#Routing-based" id="Routing-based">Routing-based Network Portability</a>
</h1>
<p id="rfc.section.4.4.p.1">Using host route entry is another way to implement host-based network portability.  In order to use this mothod, every host which is moving between different networks must run routing daemon program on it.  The node advertises its host route entry to the upstream router of the attached segment periodically.  </p>
<p id="rfc.section.4.4.p.2">As you can see, this method needs access right to the routing repository of the attached cloud system.  Also, distributing host route entry is impossible from different AS domain.  So this method is usually limited to one administrative domain.  </p>
<p id="rfc.section.4.4.p.3">The policy management of the network resource mobility is performed as a part of route filtering mechanism.  The destination service provider has to configure their routers to accept routing information sent from legitimate moving virtual machines.  </p>
<p id="rfc.section.4.4.p.4">To achieve redundancy, any kind of redundancy mechanisms of routing layer can be used.  </p>
<h1 id="rfc.section.4.5">
<a href="#rfc.section.4.5">4.5.</a> <a href="#LISP-based" id="LISP-based">LISP-based Network Portability</a>
</h1>
<p id="rfc.section.4.5.p.1">LISP is a two layer communication protocol that aims to separate locator layer and identifier layer.  Applying this technology to a host enables the host to move everywhere in the Internet.  </p>
<p id="rfc.section.4.5.p.2">In this scenario, every network segments where virtual machines are supposed to be migrated must have LISP capability, that is, every network must have at least one XTR node to intercept traffic from the LISP-based virtual machines and tunnel it to the other end of XTR or ITR which is the tunnel end node of the destination identifier of the traffic.  Also, because this mechanism is using LISP, the entire system must have some kind of locator-identifier mapping system which is being discussed in the LISP Working Group.  </p>
<p id="rfc.section.4.5.p.3">The policy management of the network resource mobility is performed as a part of the LISP operation.  The XTR node of the destination service provider must be configured to accept the legitimate LISP-based virtual machines.  </p>
<p id="rfc.section.4.5.p.4">The redundancy will be provided as a part of the LISP operation too.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.5.p.1">We thank the members of the WIDE project for discussion on this network migration technologies, and their bravery to use the experimental cloud system we constructed.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.6.p.1">This memo includes no request to IANA.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">The management NEMO HA shuld be secure and the tunnels between NEMO nodes should use secure transportation, such as SSL or IPsec.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3963">[RFC3963]</b></td>
<td class="top">
<a>Devarapalli, V.</a>, <a>Wakikawa, R.</a>, <a>Petrescu, A.</a> and <a>P. Thubert</a>, "<a href="http://tools.ietf.org/html/rfc3963">Network Mobility (NEMO) Basic Support Protocol</a>", RFC 3963, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5201">[RFC5201]</b></td>
<td class="top">
<a>Moskowitz, R.</a>, <a>Nikander, P.</a>, <a>Jokela, P.</a> and <a>T. Henderson</a>, "<a href="http://tools.ietf.org/html/rfc5201">Host Identity Protocol</a>", RFC 5201, April 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5944">[RFC5944]</b></td>
<td class="top">
<a>Perkins, C.</a>, "<a href="http://tools.ietf.org/html/rfc5944">IP Mobility Support for IPv4, Revised</a>", RFC 5944, November 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6275">[RFC6275]</b></td>
<td class="top">
<a>Perkins, C.</a>, <a>Johnson, D.</a> and <a>J. Arkko</a>, "<a href="http://tools.ietf.org/html/rfc6275">Mobility Support in IPv6</a>", RFC 6275, July 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-lisp">[I-D.ietf-lisp]</b></td>
<td class="top">
<a>Farinacci, D</a>, <a>Fuller, V</a>, <a>Meyer, D</a> and <a>D Lewis</a>, "<a href="http://tools.ietf.org/html/draft-ietf-lisp-15">Locator/ID Separation Protocol (LISP)</a>", Internet-Draft draft-ietf-lisp-15, July 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Keiichi Shima</span> 
	  <span class="n hidden">
		<span class="family-name">Shima</span>
	  </span>
	</span>
	<span class="org vcardline">IIJ Innovation Institute Inc.</span>
	<span class="adr">
	  <span>1-105 Kanda-Jinbocho</span>

	  <span class="vcardline">
		<span class="locality">Chiyoda-ku</span>,  
		<span class="region">Tokyo</span> 
		<span class="code">101-0051</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:keiichi@iijlab.net">keiichi@iijlab.net</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Yuji Sekiya</span> 
	  <span class="n hidden">
		<span class="family-name">Sekiya</span>
	  </span>
	</span>
	<span class="org vcardline">The University of Tokyo</span>
	<span class="adr">
	  <span>2-11-16 Yayoi</span>

	  <span class="vcardline">
		<span class="locality">Bunkyo-ku</span>,  
		<span class="region">Tokyo</span> 
		<span class="code">113-8658</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:sekiya@wide.ad.jp">sekiya@wide.ad.jp</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Katsuhiro Horiba</span> 
	  <span class="n hidden">
		<span class="family-name">Horiba</span>
	  </span>
	</span>
	<span class="org vcardline">Keio University</span>
	<span class="adr">
	  <span>5322 Endo</span>

	  <span class="vcardline">
		<span class="locality">Fujisawa</span>,  
		<span class="region">Kanagawa</span> 
		<span class="code">252-0882</span>
	  </span>
	  <span class="country-name vcardline">Japan</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:qoo@sfc.wide.ad.jp">qoo@sfc.wide.ad.jp</a></span>

  </address>
</div>

</body>
</html>