<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Synchronizing Internet Clock frequency protocol (sic)</title>
<meta content="Jose Ignacio Alvarez-Hamelin" name="author">
<meta content="David Samaniego" name="author">
<meta content="Alfredo A. Ortega" name="author">
<meta content="Ruediger Geib" name="author">
<meta content="
       Synchronizing Internet Clock (sic) Frequency specifies a new secure
      method to synchronize clocks on the Internet, assuring smoothness (i.e.,
      frequency stability) and robustness to man-in-the-middle attacks. This
      protocol is oriented to assure the quality of Internet performance
      measurements, where they are frequently obtained as the difference of
      timestamps, hence frequency stability is needed. In 90% of all cases,
      Synchronized Internet Clock Frequency is highly accurate, with a Maximum
      Time Interval Error of fewer than 25 microseconds by a minute.
      Synchronized Internet Clock Frequency is based on a regular packet
      exchange and works with commodity terminal hardware. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="sic, frequency, clock synchronisation, MitM, measurements" name="keyword">
<meta content="draft-alavarez-hamelin-tictoc-sic-08" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-alavarez-hamelin-tictoc-sic-08-du67pw17.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">(sic frequency)</td>
<td class="right">November 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Alvarez-Hamelin, et al.</td>
<td class="center">Expires 12 May 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">TICTOC</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-alavarez-hamelin-tictoc-sic-08</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfcnone" class="eref">none</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-11-08" class="published">8 November 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-05-12">12 May 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J.I.A-H. Alvarez-Hamelin, <span class="editor">Ed.</span>
</div>
<div class="org">Universidad de Buenos Aires - CONICET</div>
</div>
<div class="author">
      <div class="author-name">D. Samaniego</div>
<div class="org">Universidad de Buenos Aires</div>
</div>
<div class="author">
      <div class="author-name">A.A. Ortega</div>
<div class="org">Universidad de Buenos Aires</div>
</div>
<div class="author">
      <div class="author-name">R. Geib</div>
<div class="org">Deutsche Telekom</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Synchronizing Internet Clock frequency protocol (sic)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Synchronizing Internet Clock (sic) Frequency specifies a new secure
      method to synchronize clocks on the Internet, assuring smoothness (i.e.,
      frequency stability) and robustness to man-in-the-middle attacks. This
      protocol is oriented to assure the quality of Internet performance
      measurements, where they are frequently obtained as the difference of
      timestamps, hence frequency stability is needed. In 90% of all cases,
      Synchronized Internet Clock Frequency is highly accurate, with a Maximum
      Time Interval Error of fewer than 25 microseconds by a minute.
      Synchronized Internet Clock Frequency is based on a regular packet
      exchange and works with commodity terminal hardware.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 12 May 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-the-sic-frequency-protocol-" class="xref">The sic frequency protocol overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-the-formal-definition-of-si" class="xref">The formal definition of sic frequency protocol</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-algorithm-description" class="xref">Algorithm description</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-protocol-definitions" class="xref">Protocol definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-protocol-packet-specificati" class="xref">Protocol packet specification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-minimum-sic-deployment" class="xref">Minimum sic deployment</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-implementation-of-sic-frequ" class="xref">Implementation of sic frequency protocol</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-evaluation" class="xref">Evaluation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-conclusions" class="xref">Conclusions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-example-of-rtt-to-ntp-serve" class="xref">Example of RTT to NTP servers</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">One way metric measurements <span>[<a href="#RFC7679" class="xref">RFC7679</a>]</span> require
      synchronization of sender and receiver clocks to obtain reliable
      results. This synchronization should be smooth (i.e., operate without
      steps in synchronization and detect and reach a stable operation state),
      offer a precise frequency, easily implemented in any host on the
      Internet, and faithful. A reliable clock frequency is needed to perform
      precise differential metric measurements between any two hosts to
      capture performance metrics like packet delay variation or loss of
      packets exchanged between arbitrary measurement hosts. The required
      clock synchronization is designed to be implementable by software to
      allow deployment with hosts in arbitrary locations. It cannot replace or
      compete against commodity clock synchronization standards (and any
      intent to do so is out of scope). Finally, some security measures are
      needed to avoid some common types of attacks in the Internet, given more
      robustness to the sytem.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">There are different types of clock synchronization on the Internet.
      NTP <span>[<a href="#RFC5905" class="xref">RFC5905</a>]</span> remains one of the most popular because a
      potential user does not need any extra hardware, and it is practically a
      standard in most of the operating-systems distributions. Its working
      principle relies on time servers with precise clock source, as atomic
      clocks or GPS based. For most of the needs, NTP provides an accurate
      synchronization. Moreover, NTP recently incorporates some strategies
      oriented to avoid man-in-the-middle (MitM) attacks. NTPs potential
      accuracy is in the order of tens of milliseconds..<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Another proposal is the TSClocks <span>[<a href="#ToN2008" class="xref">ToN2008</a>]</span>, which take
      advantage of the internal computers' clock. This work has been
      shown an attractive solution because it is not expensive and can be used
      on any computer connected to the Internet. This solution was proposed in
      the beginning at LAN (Local Area Network) level, and then it has been
      extended to other situations. In <span>[<a href="#ToN2008" class="xref">ToN2008</a>]</span> authors report
      a differential clock error of about half of hundred of microseconds for
      a WAN connection with 40ms of RTT (Round Trip Time), i.e., the absolute
      error is the same order that RTT.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">When accuracy and stability are needed, further options arise, e.g.,
      the PTP clock <span>[<a href="#RFC8173" class="xref">RFC8173</a>]</span> (this mechanism was also defined
      as the IEEE Std. 1588-2008). However, the PTP clock incorporates
      specialized hardware to provide a highly accurate clock required in each
      point to be synchronized. Also, the GPS (Global Position System)
      requires specialized hardware at every point of measurement. While GPS
      may be less expensive than PTP, the GPS unit requires a sky-clear view
      for working. The latter may be costly or impossible in some locations
      due to the antenna installation.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">This document introduce the Synchronizing Internet Clock frequency
      (sic frequency), which is a protocol providing synchronized differential
      clocks (i.e., when the amount to measure is the elapsed time between two
      timestamps) in two endpoints connected to the Internet. While
      synchronized absolute clocks aim at a measurement of exact time
      differences between them, synchronized differential clocks allow
      measurements during identical time intervals at two locations. This
      property is useful for Internet performance measurements, like
      congestion, jitter, or delay variation; which are based on the elapsed
      time between timestamps.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">The sic frequency design is close to TSClocks, but it takes advantage
      of statistics to perform better. The sic frequency synchronization
      relies on Internet-based delay measurements, including the frequent
      routes' change detection. Finally, our implementation also contemplates
      protecting MitM attacks, including light but a powerful signature of
      measurements in each packet. The sic frequency protocol does neither put
      constraints on the quality of a server's clock nor require a limitation
      of synchronized end systems' physical distance. The quality of the
      absolute synchronization is determined by the stability of the reference
      clock and the RTT/2 as in NTP, but the sic frequency protocol has a
      better performance in frequency stability than NTP.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">Finally, we mention the <span>[<a href="#ITU-G.8260" class="xref">ITU-G.8260</a>]</span> shows a
      methodology to measure delays in networks. It is based on filtering that
      selects some packets to perform the delay computation. The packet
      selection is based on the minimum and average RTT, and we show that both
      of them have some statistical problems to determine both, the average
      and the minimum RTT (see <a href="#sic-f-view" class="xref">Section 2</a>).<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
<div id="sic-f-view">
<section id="section-2">
      <h2 id="name-the-sic-frequency-protocol-">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-the-sic-frequency-protocol-" class="section-name selfRef">The sic frequency protocol overview</a>
      </h2>
<p id="section-2-1">Synchronizing Internet Clock frequency (sic frequency) is a protocol
      providing synchronized differential clocks in two endpoints connected to
      the Internet. Synchronized differential clocks allow measurements during
      identical time intervals at two locations. This is useful if congestion,
      packet loss or a variation in delay is to be measured. The model of
      typical Internet time-measurement is shown in <a href="#model" class="xref">Figure 1</a>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2" class="keepWithNext"></p>
<span id="name-the-clock-synchronization-o"></span><div id="model">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-3.1">
<pre>
                            XXXXXXXX  XXXXXXXX
                       XXXXXX      XXX       X
                      XX                    XXX
    +----+----------+XX                       XXXX
         |          XX                           XX
         |          X         Internet           XX
         |          XX                         XXX
      +--+------+    XXXXXX                    XX+---------+------+
      |         |         X                  XX            |
      |  Client |         XX                  XXX          |
      |         |          XX XXX      XXXXX    XX     +---+----+
      |         |           XXX  XXXXXXX   XXXXXX      |        |
      +---------+                                      | Server |
                                                       |        |
                                                       |        |
                                                       +--------+</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-the-clock-synchronization-o" class="selfRef">The clock synchronization of sic.--</a>
        </figcaption></figure>
</div>
<p id="section-2-4" class="keepWithNext">In this model, sic frequency performs measurements with
      packets in the way shown in<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5"></p>
<p id="section-2-6"><a href="#timeline" class="xref">Figure 2</a>.<a href="#section-2-6" class="pilcrow">¶</a></p>
<span id="name-time-line-of-packets-"></span><div id="timeline">
<figure id="figure-2">
        <div class="alignCenter art-text artwork" id="section-2-7.1">
<pre>                        t2      t3
 Server +---------------@-------*-----------------------------&gt;
                       /         \_                     C_s [s]
                      /            \_
                     /               \_
                    /                  \_
                   /                     \_
                  /                        \_
                 /                           \_
                /                              \_
               /                                 \_
              /                                    \_
             /                                       \_ C_c [s]
 Client +---*------------------------------------------@------&gt;
            t1                                         t4
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-time-line-of-packets-" class="selfRef">Time line of packets.--</a>
        </figcaption></figure>
</div>
<p id="section-2-8">Here, C_s is the server clock, C_c is the client clock and t1...t4
      are timestamps.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9"><a href="#timeline" class="xref">Figure 2</a> shows a horizontal timeline for client and
      server. The diagonal lines depict a packet traversing some physical
      space (wires, routers, and switches). The packet travel times are not
      assumed to be identical because routes and background load may differ in
      each direction.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">The difference between the client clock C_c and the server clock C_s
      can be modeled as:<a href="#section-2-10" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-2-11">
<pre>C_c = C_s + phi                           ,</pre><a href="#section-2-11" class="pilcrow">¶</a>
</div>
<div class="alignCenter art-text artwork" id="section-2-12">
<pre>phi(t) = C_c(t) - C_s(t) ,              (1)</pre><a href="#section-2-12" class="pilcrow">¶</a>
</div>
<p id="section-2-13">where phi is the absolute clock difference. If RTT is constant (i.e.
      little or no background load) and routes are symmetric in both
      directions, the difference between clocks can be computed as:<a href="#section-2-13" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-2-14">
<pre>phi[c-&gt;s] = t1 - ( t2 - RTT/2 ) ,       (2)</pre><a href="#section-2-14" class="pilcrow">¶</a>
</div>
<div class="alignCenter art-text artwork" id="section-2-15">
<pre>phi[c&lt;-s] = t4 - ( t3 + RTT/2 ) ,       (3)</pre><a href="#section-2-15" class="pilcrow">¶</a>
</div>
<p id="section-2-16">and phi[c-&gt;s] = phi[c&lt;-s]. The general equation for the RTT
      is:<a href="#section-2-16" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-2-17">
<pre>RTT = ( t2 - t1 ) + ( t4 - t3 ) .       (4)</pre><a href="#section-2-17" class="pilcrow">¶</a>
</div>
<p id="section-2-18">Computing Equations 2 and 3 for this simplified case allows
      calculation of phi as an RTT function. Note that if routes are not
      symmetrical, it is impossible to determine the absolute clocks'
      difference.<a href="#section-2-18" class="pilcrow">¶</a></p>
<p id="section-2-19">The sic frequency protocol is based on statistics, background traffic
      and network behavior observations. The RTT between two endpoints follows
      a heavy-tailed distribution. An alpha-stable distribution shows as one
      possible model <span>[<a href="#traffic-stable" class="xref">traffic-stable</a>]</span>. This distribution can be
      characterized by four parameters: the localization "delta,"
      the stretching "gamma," the tail "alpha," and
      the symmetry "beta," <span>[<a href="#alfa-stables" class="xref">alfa-stables</a>]</span>. The
      location parameter is highly related to the mode of the distribution:
      delta &gt; 0. The stretching is related to the dispersion: gamma &gt; 0.
      The symmetry, -1 &lt;= beta &lt;= 1, indicates if the distribution is
      skewed to the right (the tail decays to the left) for positive values or
      the opposite direction for negatives ones. Finally, the tail alpha,
      defined in (0,2], indicates if the distribution is Gaussian one when
      alpha=2, a power-law without variance for alpha &lt;2, and without
      statistic mean for alpha&lt;1. The alpha-stable distribution is the
      generalization of the Central Limit Theorem for any distribution (i.e.,
      it includes the cases without variance or mean).<a href="#section-2-19" class="pilcrow">¶</a></p>
<p id="section-2-20">Then, the phi(t) estimation involves the subtraction of two
      alpha-stable random variables, which yields on another alfa-stable
      distribution but symmetrical <span>[<a href="#alfa-stables" class="xref">alfa-stables</a>]</span>. Due to this
      result's characteristic, i.e., a fixed mode and symmetry, a good
      estimator of the mode is the median.<a href="#section-2-20" class="pilcrow">¶</a></p>
<p id="section-2-21">Therefore, sic performs periodic measurements to infer the difference
      of two clocks on the Internet, taking advantage of the empiric
      observations. The periodicity of RTT measurements is set to 1
      second.<a href="#section-2-21" class="pilcrow">¶</a></p>
<p id="section-2-22">The parameters of the simple skew model <span>[<a href="#ToN2008" class="xref">ToN2008</a>]</span> are
      estimated by the following equation:<a href="#section-2-22" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-2-23">
<pre>phi(t) = K + F * t ,                    (5)</pre><a href="#section-2-23" class="pilcrow">¶</a>
</div>
<p id="section-2-24">where phi(t) = C_c - C_s, K is a constant representing the absolute
      difference of time of client clock C_c and server clock C_s, and F is
      the rate parameter. As sic frequency is a differential clock, we only
      estimate the frequency parameter "F."<a href="#section-2-24" class="pilcrow">¶</a></p>
<p id="section-2-25">Note that the "K" parameter cannot be estimated using
      just endpoints measurements. Assessing the "K" parameter
      accurately is out of scope, and we use K=min(RTT)/2, as it is used in
      several synchronization protocols under the assumption of symmetric
      paths, e,g, NTP. Considering the following asymmetry definition,<a href="#section-2-25" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-2-26">
<pre>         t[c-&gt;s]
A = 1 - --------- ,                     (6)
         t[c&lt;-s]
</pre><a href="#section-2-26" class="pilcrow">¶</a>
</div>
<p id="section-2-27">where t[c-&gt;s] is the minimum delay measured from the client to the
      server. The maximum asymmetry A of equation 6 is A=1, which is unlucky,
      and this establishes the hardbound for the error of K as min(RTT): if
      t[c-&gt;s] approaches RTT, t[c-&gt;s] approaches zero. The difference
      between the two is phi (t), and this difference hence is close to
      min(RTT), if A=1. In our experiments (see <a href="#sic-evaluation" class="xref">Section 4.1</a>), the error in estimation phi(t) was always
      less than min(RTT)/2.<a href="#section-2-27" class="pilcrow">¶</a></p>
<p id="section-2-28">Another problem with most of the synchronization protocols is the
      minimum RTT estimation, which depends upon the time-window within which
      the RTT is captured. A minimum RTT can only be measured in the absence
      of any cross traffic. In the first step, the minimum RTT measured during
      a window of 10 minutes (mRTT10m) is captured. Based on these values, the
      minimum RTT over a week (mRTTw) is determined. RTTee is defined as
      mRTT10m - mRTTw. <a href="#minRTT_err" class="xref">Figure 3</a> shows the the RTT
      estimation error captured during an experiment where the minimum the
      latency between probes was 9431 microseconds during one week, i.e.,
      mRTTw=9431 microseconds. Notice that mRTT10m varies a lot, and the
      observed values can be more than 450 microseconds above the minimum RTT
      over a week. This error is a consequence of the statistical behavior of
      the RTT, which can be modeled by the alfa-stable distribution.<a href="#section-2-28" class="pilcrow">¶</a></p>
<p id="section-2-29">Finally, it is mostly believed there always exist NTP servers at less
      than five hops with few milliseconds of RTT because of the NTP
      deployment. In <a href="#appendix-A" class="xref">Appendix A</a> we show a typical case in
      Latin America region where the RTT differs notably from a host in the
      same city (Buenos Aires). This example reveals that some countries could
      not have this desired situation, and other synchronization tools are
      needed.<a href="#section-2-29" class="pilcrow">¶</a></p>
<p id="section-2-30" class="keepWithNext"></p>
<span id="name-min-rtt-error-estimated-eve"></span><div id="minRTT_err">
<figure id="figure-3">
        <div class="alignCenter art-text artwork" id="section-2-31.1">
<pre>Error of the min(RTT)
[micro-seconds]
  500 +------|-------|------|------|------|-------|------|------+
      |      +       +      +   O  +      +       +      +      |
      |                         *                               |
  400 |-+                       **                     O      +-|
      |                        * *             O   O   ** O  O  |
      |                     O  * *             **  *   ** ** ** |
  300 |-+                  * O*O * O      O*  * O*O *  * O  O *-|
      |         O*   O    O       * *     * O *     * *        *|
      |  O      * O  **   *       * O    *  * *     O**        O|
  200 |-* *     * * * O   *       O  * O*O   *        O       +-|
      |** O  O *   ** *   *          * *     O                  |
      |O   * ***   O   *  *           *                         |
  100 |-+   O  O       O *            O                       +-|
      |                 **                                      |
      |                 **                                      |
    0 |-+    +       +   O  +      +      +       +      +    +-|
      +------|-------|------|------|------|-------|------|------+
      0     50      100    150    200    250     300    350    400
                                                    time [minutes]</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-min-rtt-error-estimated-eve" class="selfRef">Min RTT error, estimated every 10 minutes along 7 hours.--</a>
        </figcaption></figure>
</div>
<p id="section-2-32" class="keepWithPrevious"></p>
<p id="section-2-33">The sic frequency protocol estimates phi(t) of Equation 5 using
      measurement statistics and taking advantage of the inherent RTT
      properties, i.e., the heavy tail distribution and its alfa-stable
      distribution model. The basic sic frequency operation is to periodically
      send packets, estimate phi(t), and correct the local clock with:<a href="#section-2-33" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-2-34">
<pre>t_c = t + phi(t) ,                  (7)</pre><a href="#section-2-34" class="pilcrow">¶</a>
</div>
<p id="section-2-35">where t_c is the corrected time and t the local clock time (notice
      that phi(t) is calculated according to Equation 1).<a href="#section-2-35" class="pilcrow">¶</a></p>
<p id="section-2-36">The sic protocol also detects route changes by seeking a
      non-negligible difference between the minimum RTT of the actual and past
      round trip measurement. The next section also discusses different
      mechanisms to detect route changes by RTT evaluation.<a href="#section-2-36" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sic">
<section id="section-3">
      <h2 id="name-the-formal-definition-of-si">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-the-formal-definition-of-si" class="section-name selfRef">The formal definition of sic frequency protocol</a>
      </h2>
<p id="section-3-1"><a href="#algorithm" class="xref">Section 3.1</a> presents the sic frequency algorithm. In
      addition, parameters and their definitions are introduced. Finally,
      formal packet formats are provided.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">The sic frequency protocol MUST sign the packets with the
      deterministic Elliptic Curve Digital Signature Algorithm (ECDSA)
      specified by <span>[<a href="#RFC6979" class="xref">RFC6979</a>]</span> to protect sic frequency from MitM
      attacks. To avoid delays when a packet is signed, sic frequency signs
      them in a deferred fashion. That is, in each packet carries the
      signature of the previous packet (see algorithms in <a href="#algoth_server" class="xref">Figure 6</a> and <a href="#send_sic" class="xref">Figure 5</a>).<a href="#section-3-2" class="pilcrow">¶</a></p>
<div id="algorithm">
<section id="section-3.1">
        <h3 id="name-algorithm-description">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-algorithm-description" class="section-name selfRef">Algorithm description</a>
        </h3>
<p id="section-3.1-1">A sic frequency implementations MUST support the formal description
        specified by this section. Once activated, the sic frequency protocol
        MUST operate permanently while a client and a receiver exchange
        measurement packets. The sic frequency works with three states:
        NOSYNC, PRESYNC and SYNC. These states are triggered by the variables
        errsync, presync, and synck.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Lines 1 to 4 of the pseudocode in <a href="#algorithmdesc" class="xref">Figure 4</a>
        initialize the required data structures needed and set the sic
        frequency state to NOSYNC. In NOSYNC state, a complete measurement
        window estimates phi's by Equation 2 (see line 8). Notice that
        also Equation 3 can be used, or an average of both Equations. During
        the experiments, using a single equation only resulted in estimations
        with a smaller error. The possible explanation is that measurements
        are affected by the same type of traffic.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">The median of the measurement window is computed in line 9, while
        lines 10-12 are used to verify if the path changed during the
        measurements. When an appreciable difference is detected (bounded by
        errRTT) in line 13, the "else" clause is executed and the
        systems re-initiates the cycle (see lines 17-22). Notice that line 13
        verifies if the minimum RTTs' absolute value is lower than a
        percentage of minimum over the complete RTT window.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">The sic three tables of pseudocode present frequency algorithm
        specification. The parameters are explained after the third table.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<span id="name-formal-description-of-sic-"></span><div id="algorithmdesc">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-3.1-5.1">
<pre>=======================================================================
|                     sic frequency algorithm                         |
=======================================================================
1  Wmedian &lt;-0, Wm &lt;-0, WRTT &lt;-0, actual_m &lt;-0, actual_c &lt;-0
2  presync &lt;- INT_MAX - P, epochsync &lt;- INT_MAX - P, n_to &lt;-0
3  synck &lt;- false, errsync &lt;- epoch, set(0, 0, NOSYNC), e_prev&lt;-epoch
4  send_sic_packet(SERVER_IP, TIMEOUT)
5  for each timer(RUNNING_TIME) == 0
6   |   (epoch, t1, t2, t3, t4, to) &lt;- send_sic_p(SERVER_IP,TIMEOUT)
7   |   if (to == false) then
8   |    |   Wm &lt;- t1 - t2 + (t2 - t1 + t4 - t3)/2
9   |    |   Wmedian &lt;- median(Wm)
10  |    |   WRTT &lt;- t4 - t1 size(W)
11  |    |   RTTf &lt;- min(WRTT[size(WRTT)/2,size(WRTT)])
12  |    |   RTTl &lt;- min(WRTT[0,size(WRTT)/2])
13  |    |   if ((|RTTf - RTTl| &lt;= errRTT * min(WRTT)) then
14  |    |    |   if (epoch &gt;= presynck + P))  then
15  |    |    |    |   presynck &lt;- true
16  |    |    |   end if
17  |    |    else
18  |    |    |   synck &lt;- false, Wmedian &lt;- 0
19  |    |    |   Wm &lt;- 0, errsync &lt;- epoch, n_to &lt;- 0
20  |    |    |   epoch_sync &lt;- INT_MAX - P, pre_sync &lt;- INT_MAX - P
21  |    |    |   set(0, 0, NOSYNC)
22  |    |   end if
23  |    |   if ((synck == true) &amp;&amp; (epoch &gt;= epochsync + P)) then
24  |    |    |   (m, c) &lt;- linear_fit(Wmedian)
25  |    |    |   actual_c &lt;- c
26  |    |    |   actual_m &lt;- (1-alpha) * m + alpha * actual_m
27  |    |    |   epochsync &lt;- epoch,  n_to &lt;- 0
28  |    |    |   set(actual_m, actual_c, SYNC)
29  |    |    else
30  |    |    |   if (epoch == errsync + MEDIAN_MAX_SIZE) then
31  |    |    |    |   presync &lt;- epoch
32  |    |    |   end if
33  |    |    |   if (epoch &gt;= presync + P) then
34  |    |    |    |   (actual_m, actual_c) &lt;- linear_fit(Wmedian)
35  |    |    |    |   synck &lt;- true , epoch_sync &lt;- epoch
36  |    |    |    |   set(actual_m, actual_c, PRESYNC)
37  |    |    |   end if
38  |    |    end if
39  |    else
40  |    |   to &lt;- false
41  |   end if
42 end for
=======================================================================
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-formal-description-of-sic-" class="selfRef">Formal description of sic.--</a>
          </figcaption></figure>
</div>
<p id="section-3.1-6">Several conditions should be verified to pass from NOSYNC to
        PRESYNC. First, the "else" condition of line 29 should
        occur, and also the elapsed time between errsync and actual epoch
        should be MEDIAN_MAX_SIZE (30-32). Therefore, when it also P time is
        passed form presync, the condition on line 33 is true, and the system
        arrives at PRESYNC, providing an initial estimation of phi.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">Then, if there is no route change, the condition in line 14 will be
        true when the time was increased in another P period. Then, the system
        is in the SYNC state, and it provides the estimation of phi(t) in line
        28. Notice that every P time, the estimation of phi(t) is computed
        unless a route change occurs (lines 13 and 17-22).<a href="#section-3.1-7" class="pilcrow">¶</a></p>
<p id="section-3.1-8">The function in line 6: (epoch, t1, t2, t3, t4, to) &lt;-
        send_sic_packet(SERVER_IP, TIMEOUT), has a special treatment. It sends
        the packets specified in <a href="#sic-packets" class="xref">Section 3.3</a>, which
        have signatures. To avoid the processing delay caused by the signature
        computation, we implemented a policy to send the signature of the
        previous packet, and if an error is detected, we can stop the
        synchronization just one loop ahead.<a href="#section-3.1-8" class="pilcrow">¶</a></p>
<p id="section-3.1-9"><a href="#send_sic" class="xref">Figure 5</a> illustrates how the client-side MUST
        implement the function send_sic_p (SERVER_IP, TIMEOUT). This function
        computes the timestamp t1 in line 1 and builds and sends the UDP
        packet in lines 2-3. Then, if there is no timeout, it calculates the
        t4 timestamp (line 5), and if no packets were lost, verifies the
        signature of the previous one in lines 8-18. If the signature is not
        valid with the received certificate, then the system MUST change to
        NOSYNC state immediately (see line 11). NOSYNC state MUST also be set
        if the limit of time without receiving packets MAX_to is reached.
        Finally, it stores the received packet into prev_rcv_pck (a global
        variable) to use in the next packet (line 19). Notice that n_to, the
        lost packets, is a global variable, as well as the epoch of the
        previous packet: e_prev.<a href="#section-3.1-9" class="pilcrow">¶</a></p>
<p id="section-3.1-10" class="keepWithNext"></p>
<span id="name-the-send_sic_p-function-"></span><div id="send_sic">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-3.1-11.1">
<pre>=======================================================================
|                function: send_sic_p(server, TIMEOUT)                |
=======================================================================
1  t1 &lt;- get_timestamp()
2  sic_P &lt;- sic_pck(t1, 0, 0, prev_sig)
3  (to, rcv_sic_pck) &lt;- send(sic_P,UDP_PORT, SERVER_IP, TIMEOUT)
4  if (to == false) then
5   |  t4 &lt;- get_timestamp()
6   |  epoch &lt;- trunc_to_seconds(t1)
7   |  prev_sig &lt;- get_signature(sic_P)
8   |  if (epoch - e_prev &lt;= RUNNING_TIME) then
9   |   |  if (n_to &lt; MAX_to) then
10  |   |   |  if (verify(prev_rcv_pck,rcv_sic.CERT) == false) then
11  |   |   |   |  set(0, 0, NOSYNC)
12  |   |   |  else
13  |   |   |   |  n_to &lt;- 0,  e_prev &lt;- epoch
14  |   |   |  end if
15  |   |  else
16  |   |   |   set(0, 0, NOSYNC)
17  |   |  end if
18  |  end if
19  |  prev_rcv_pck &lt;- rcv_sic_pck
20  |  t2 &lt;- rcv_sic_pck.t2
21  |  t3 &lt;- rcv_sic_pck.t3
22 else
23  |  n_to &lt;- n_to + 1
24 end if
25 return (epoch, t1, t2, t3, t4, to)
=======================================================================
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-the-send_sic_p-function-" class="selfRef">The send_sic_p function.--</a>
          </figcaption></figure>
</div>
<p id="section-3.1-12">The server sic algorithm is presented in <a href="#algoth_server" class="xref">Figure 6</a>. It uses prev_sic_P{}, which is a structure
        to store the received previous signatures, indexed by the IP client
        addresses (CLIENT_add contains its IP and UDP port), and the same for
        prev_sig{} with the previously sent signatures. Line 6 verifies either
        signature is null because it is the first packet or a valid signature.
        In both cases, the algorithm process the packet computing t3, building
        up the sic frequency packet, sending it, and computing its signature
        (stored to send in the next reply) in lines 7-11. Next, the actual
        packet is stored in the prev_sic_P{} structure, line 13.<a href="#section-3.1-12" class="pilcrow">¶</a></p>
<p id="section-3.1-13" class="keepWithNext"></p>
<span id="name-algorithm-sic-for-the-serve"></span><div id="algoth_server">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-3.1-14.1">
<pre>=======================================================================
|                        sic Server algorithm                         |
=======================================================================
1  prev_sic_P{} &lt;- null, prev_sig{} &lt;-- null
2  while (RUNNING == true) then
3   |   if (receive() == true) then
4   |    |  t2 &lt;- get_timestamp()
5   |    |  prev_sig &lt;- get_signature(prev_sic_P{receive().CLIENT_add})
6   |    |  if (prev_sig == null)  ||
    |    |           (verify(prev_sig, CLIENT_add.CERT) == true)  then
7   [    |   |  t3 &lt;- get_timestamp()
8   |    |   |  sic_P&lt;-sic_pack(t1, t2, t3, prev_sig)
9   |    |   |  send(sic_P, CLIENT_add.UDP, CLIENT_add.IP, TIMEOUT)
10  |    |   |  prev_sig &lt;- get_signature(sic_P)
11  |    |   |  prev_sig{receive().CLIENT_add} &lt;- prev_sig
12  |    |  end if
13  |    |  prev_sic_P{receive().CLIENT_add} &lt;- receive().sic_pack
14  |   end if
15  end while
=======================================================================

</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-algorithm-sic-for-the-serve" class="selfRef">Algorithm sic for the Server.--</a>
          </figcaption></figure>
</div>
<p id="section-3.1-15"></p>
</section>
</div>
<section id="section-3.2">
        <h3 id="name-protocol-definitions">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-protocol-definitions" class="section-name selfRef">Protocol definitions</a>
        </h3>
<p id="section-3.2-1">We provide a formal definition of each used constant and variables;
        the RECOMMENDED values are displayed in parentheses at the end of the
        description. These constant and variables MUST be represented in a sic
        frequency implementation. All the types MUST be respected. They are
        expressed in "C" programming language running on a 64-bit
        processor.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-3.2-2">
<li id="section-3.2-2.1">
            <p id="section-3.2-2.1.1">Constants used for the sic frequency algorithm (<a href="#algorithmdesc" class="xref">Figure 4</a>)<a href="#section-3.2-2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.2-2.1.2">
<li id="section-3.2-2.1.2.1">RUNNING_TIME: is the period between sic packets are sent (1
                second).<a href="#section-3.2-2.1.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.2">MEDIAN_MAX_SIZE: is the window size used to compute the
                median of the measurements (600).<a href="#section-3.2-2.1.2.2" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.3">P: is the period between phi's estimation (60).<a href="#section-3.2-2.1.2.3" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.4">alpha: is a float in the [0,1], the coefficient of the
                autoregressive estimation of the slope of phi(t) (0.05).<a href="#section-3.2-2.1.2.4" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.5">TIMEOUT: is the maximum time in seconds that a sic packet
                reply is expected (0.8 seconds).<a href="#section-3.2-2.1.2.5" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.6">SERVER_IP: is the IP address of the server (@IP in version
                4 or 6).<a href="#section-3.2-2.1.2.6" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.7">errRTT: is a float that bounds the maximum difference to
                detect a route change (0.2).<a href="#section-3.2-2.1.2.7" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.8">MAX_to: is an integer representing the maximum number of
                packet lost (P/10).<a href="#section-3.2-2.1.2.8" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.9">CERT: is a public certificate of the other end, it is used
                to verify signs of the packets.<a href="#section-3.2-2.1.2.9" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.10">UDP_PORT: is an integer with the port UDP where the service
                is running on the server. (4444)<a href="#section-3.2-2.1.2.10" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.11">SERVER_IP: is the IP address of the server.<a href="#section-3.2-2.1.2.11" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.1.2.12">CLIENT_IP: is the IP address of the client.<a href="#section-3.2-2.1.2.12" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="section-3.2-2.2">
            <p id="section-3.2-2.2.1">States used for the sic frequency algorithm (<a href="#algorithmdesc" class="xref">Figure 4</a>)<a href="#section-3.2-2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.2-2.2.2">
<li id="section-3.2-2.2.2.1">NOSYNC: a boolean indicates that it is not possible to
                correct the local time.<a href="#section-3.2-2.2.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.2.2.2">PRESYNC: an integer indicates that sic is almost (P
                RUNNING_TIME) seconds from the synchronization.<a href="#section-3.2-2.2.2.2" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.2.2.3">SYNC: a boolean indicates that sic is synchronized.<a href="#section-3.2-2.2.2.3" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="section-3.2-2.3">
            <p id="section-3.2-2.3.1">Variables used for the sic frequency algorithms (<a href="#algorithmdesc" class="xref">Figure 4</a>, <a href="#send_sic" class="xref">Figure 5</a> and <a href="#algoth_server" class="xref">Figure 6</a>)<a href="#section-3.2-2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.2-2.3.2">
<li id="section-3.2-2.3.2.1">errsync: is an integer with the UNIX timestamp epoch of the
                initial NOSYNC cycle. It is used to complete the window or
                measurements (Wm) to compute their medians.<a href="#section-3.2-2.3.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.2">presync: is an integer with the UNIX timestamp epoch of the
                initial PRESYNC cycle. It is used to wait until (P
                RUNNING_TIME) seconds to the linear fit of phi(t).<a href="#section-3.2-2.3.2.2" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.3">synck: is an integer with the UNIX timestamp epoch of the
                initial SYNC cycle. Every P RUNNING_TIME) seconds the phi(t)
                function is estimated.<a href="#section-3.2-2.3.2.3" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.4">epochsync: is an integer with the last UNIX timestamp epoch
                of synchronization. It is used to compute a new estimation of
                phi(t), every (P RUNNING_TIME) seconds.<a href="#section-3.2-2.3.2.4" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.5">epoch: is an integer with UNIX timestamp in seconds. It
                carries the initial epoch of each sic measurement packet.<a href="#section-3.2-2.3.2.5" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.6">t1, t2, t3, t4: are long long integers to store the t UNIX
                timestamps in microseconds.<a href="#section-3.2-2.3.2.6" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.7">actual_m : is a double with the slope for the phi(t)
                estimation.<a href="#section-3.2-2.3.2.7" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.8">actual_c: is a double with the intercept for the phi(t)
                estimation.<a href="#section-3.2-2.3.2.8" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.9">Wm: is an array of doubles of MEDIAN_MAX_SIZE. It stores
                the instantaneous estimates of phi(t).<a href="#section-3.2-2.3.2.9" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.10">Wmedian: is an array of doubles of P size. It saves the
                computed medians of Wm every RUNNING_TIME.<a href="#section-3.2-2.3.2.10" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.11">WRTT: is an array of doubles of (2 P) size. It stores the
                calculated RTT of last measurements.<a href="#section-3.2-2.3.2.11" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.12">RTTl: is a double with the minimum of last P RTTs. It is
                used to detect changes on the route from the client to the
                server.<a href="#section-3.2-2.3.2.12" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.13">RTTf: is a double with the minimum of previous P RTTs. It
                is used to detect changes on the route from the client to the
                server.<a href="#section-3.2-2.3.2.13" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.14">n_to: is an integer representing the number of lost packets
                in the actual synchronization window P.<a href="#section-3.2-2.3.2.14" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.15">e_prev: is an integer with the UNIX timestamp epoch of the
                last valid packet.<a href="#section-3.2-2.3.2.15" class="pilcrow">¶</a>
</li>
              <li id="section-3.2-2.3.2.16">prev_rcv_pck: is a sic packet structure, the previous
                received one.<a href="#section-3.2-2.3.2.16" class="pilcrow">¶</a>
</li>
            </ol>
</li>
        </ol>
</section>
<div id="sic-packets">
<section id="section-3.3">
        <h3 id="name-protocol-packet-specificati">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-protocol-packet-specificati" class="section-name selfRef">Protocol packet specification</a>
        </h3>
<p id="section-3.3-1">The sic frequency uses UNIX microsecond format timestamps.
        Regarding Figure 2, the client takes a timestamp t1 just before it
        sends the packet. When the server receives the packet, it immediately
        computes t2, and just before it is sent back to the client, it
        computes t3. When the client receives the packet, it calculates
        t4.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">The server does not need the timestamp t1 because the proposed
        protocol synchronizes a client with the server clock. This information
        could, however, be useful for the server for future use.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">The packets respect the NTP4 format as they are defined in the
        Section A.1.2 of <span>[<a href="#RFC5905" class="xref">RFC5905</a>]</span> and the signature of the
        fields, shown in <a href="#packets" class="xref">Figure 7</a>. We use the time formats of
        64 bits with seconds and a fraction of seconds. They MUST be sent as
        UDP data, and it MUST have the mentioned fields.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">The client and server certificates SHOULD be valid and signed ones
        (only for experimentation, the user MAY use autogenerated ones).<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5" class="keepWithNext"></p>
<span id="name-packet-format-for-the-sic-p"></span><div id="packets">
<figure id="figure-7">
          <div class="alignCenter art-text artwork" id="section-3.3-6.1">
<pre>
+-----------------------------------------------------------+
|  NTP_packet (t1_c,t2_s,t3_s)  |  Sig_r n-1  |  Sig_s n-1  |
+-----------------------------------------------------------+
                      Client --&gt; Server

+-----------------------------------------------------------+
|  NTP_packet (t1_c,t2_s,t3_s)  |  Sig_r n-1  |  Sig_s n-1  |
+-----------------------------------------------------------+
                      Server --&gt; Client</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-packet-format-for-the-sic-p" class="selfRef">Packet format for the sic protocol.--</a>
          </figcaption></figure>
</div>
<p id="section-3.3-7" class="keepWithPrevious"></p>
<p id="section-3.3-8"></p>
</section>
</div>
<section id="section-3.4">
        <h3 id="name-minimum-sic-deployment">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-minimum-sic-deployment" class="section-name selfRef">Minimum sic deployment</a>
        </h3>
<p id="section-3.4-1">To deploy the sic frequency algorithm, as a minimum, a Server and
        one Client are needed. The Server can support multiple clients. The
        maximum number of clients is for further study. The Server clock is
        considered the master one, and all clients synchronize with it. The
        Server-side runs sic frequency as a server with a UDP_PORT number, as
        specified by the algorithm shown in <a href="#algoth_server" class="xref">Figure 6</a>.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">Client sic runs the algorithm shown in <a href="#algorithmdesc" class="xref">Figure 4</a> and also SHOULD provide the corrected time
        as<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<div id="corrected_time">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-3.4-3.1">
<pre>t = actual_c + actual_m * timestamp     (8)</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a></figcaption></figure>
</div>
<p id="section-3.4-4">Different ways of doing this task are possible:<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.4-5.1">Providing a client capable of reading the variables actual_m
            and actual_c in shared memory and producing the result of Equation
            8.<a href="#section-3.4-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.4-5.2">Providing a service in a UDP port answering the correct
            timestamp queries with Equation 8.<a href="#section-3.4-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.4-5.3">Other solution.<a href="#section-3.4-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.4-6"></p>
</section>
</section>
</div>
<section id="section-4">
      <h2 id="name-implementation-of-sic-frequ">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-implementation-of-sic-frequ" class="section-name selfRef">Implementation of sic frequency protocol</a>
      </h2>
<p id="section-4-1">In this section we present the prove of the sic concept through some
      test that we already performed, and the current implementation of sic in
      C language. Our implementation is publicly available <span>[<a href="#sic-implementation" class="xref">sic-implementation</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">This protocol implements protection against MitM attacks. The
      identity of endpoints is guaranteed by signed certificates using the
      deterministic Elliptic Curve Digital Signature Algorithm (ECDSA)
      specified in the <span>[<a href="#RFC6979" class="xref">RFC6979</a>]</span>. Server and Client should use
      signed and valid ECDSA certificates to ensure their identity, and each
      side has responsible to verify the public certificate of the other side
      before to run the algorithm in <a href="#algorithmdesc" class="xref">Figure 4</a>.<a href="#section-4-2" class="pilcrow">¶</a></p>
<div id="sic-evaluation">
<section id="section-4.1">
        <h3 id="name-evaluation">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-evaluation" class="section-name selfRef">Evaluation</a>
        </h3>
<p id="section-4.1-1">To verify the sic proposal, we tested it using three hosts with GPS
        units. The first two were located in Buenos Aires, and the third at
        Los Angeles. We slightly modified the algorithm in <a href="#algorithmdesc" class="xref">Figure 4</a> to trigger each measurement using the PPS
        (pulse per second) the signal provided by the GPS unit. Then,
        recording the client and server clocks with the PPS signal, we can
        determine the real phi function of Equation 1, within the GPS error
        (it is several orders of magnitude smaller than the error of the sic
        frequency protocol).<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">We use MTIE defined as follows (Maximum Time Interval Error, see
        <span>[<a href="#ToIM1996" class="xref">ToIM1996</a>]</span>):<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<div class="alignCenter art-text artwork" id="section-4.1-3">
<pre>MTIE = max [phi(t')] - min [phi (t)] ,  (9)</pre><a href="#section-4.1-3" class="pilcrow">¶</a>
</div>
<p id="section-4.1-4">for every t' and t in the interval [t,t+s]; and we chose s=60
        seconds. We first used two host (RaspBerriesPI-2) connected back to
        back to analyze the minimum achievable precision, yielding an MTIE of
        15.8 microseconds for the 90 percentile. Then, we selected two real
        cases of study, one national and the other international. In <a href="#sicMTIE" class="xref">Figure 9</a> we show the result of the MTIE, evaluated in 60
        seconds intervals, for the experiment Buenos Aires-Buenos Aires (RTT
        of 10ms) and Buenos Aires-Los Angeles (RTT of 198ms). The percentile
        90 corresponds to 18.35 microseconds for the Buenos Aires case, and
        25.4 microseconds for the Los Angeles case. The percentile 97.5
        corresponds to 30 microseconds for the Buenos Aires case, and 42
        microseconds for the Los Angeles case. We display the quartiles in
        <a href="#qMTIE" class="xref">Figure 10</a>. These measurements were performed during a
        week in each case.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5" class="keepWithNext"></p>
<span id="name-cumulative-distribution-fun"></span><div id="sicMTIE">
<figure id="figure-9">
          <div class="alignLeft art-text artwork" id="section-4.1-6.1">
<pre>  CDF
      +--|-------|-------|-----|-------|----------|------|------+
    1 |-+        +       +     + #########*#*#*#*#*#*#*#*#******|
      |                      ##### *******                      |
      |                   ####  ****                            |
  0.8 |-+                ##   ***                             +-|
      |                ###   **                                 |
      |               ##   ***                                  |
  0.6 |-+            ##   **                                  +-|
      |             ##   **                                     |
      |            ##   **                                      |
  0.4 |-+        ##    **                                     +-|
      |         ##    **                                        |
      |        ##    **                                         |
  0.2 |-+     ##   ***                                        +-|
      |    ####  ***                  Buenos Aires  #######     |
      | ####   ***                    Los Angeles   *******     |
    0 |##******* +       +     +       +     +    +      +    +-|
      +--|-------|-------|-----|-------|-----|----|------|------+
         7       10      15    20      30    40   50     70    100
                                                   [micro-seconds]</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-cumulative-distribution-fun" class="selfRef">Cumulative distribution function of the MTIE (60s).--</a>
          </figcaption></figure>
</div>
<p id="section-4.1-7" class="keepWithPrevious"></p>
<span id="name-table-with-mtie-quartiles-f"></span><div id="qMTIE">
<figure id="figure-10">
          <div class="alignCenter art-text artwork" id="section-4.1-8.1">
<pre>    |Buenos Aires (10ms) | Los Angeles (198ms) |local NTP4 (12ms)
====+====================+=====================+=================
 Q3 |      14.69         |        19.29        |      9059
----+--------------------+---------------------+-----------------
 Q2 |      11.60         |        14.93        |      5245
----+--------------------+---------------------+-----------------
 Q1 |       9.41         |        12.26        |      3338
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-table-with-mtie-quartiles-f" class="selfRef">Table with MTIE quartiles for two RTT sic cases, and for a local NTP4 system (the numbers indicate microseconds).--</a>
          </figcaption></figure>
</div>
<p id="section-4.1-9">We also conducted another test for NTP4 in Buenos Aires, Argentina.
        We used a host with GPS, whose PPS signal triggered a process to log
        actual timestamps. This host was also running NTP4 with the server
        time.afip.gov.ar, also located in Buenos Aires city, with an average
        RTT of 12ms. Applying the same process of the previous cases, we
        obtained that the following quartiles Q3: 9.1ms, Q2: 5.2ms, and Q1:
        3.3ms for the MTIE of the NTP4 measurements (also reported in <a href="#qMTIE" class="xref">Figure 10</a>). Finally, percentile 90 of the NTP4's MTIE is
        11.1ms.<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1-10">The comparison of NTP4 with frequency sic shows that this new
        method performs two orders of magnitude better.<a href="#section-4.1-10" class="pilcrow">¶</a></p>
<p id="section-4.1-11"></p>
</section>
</div>
</section>
<section id="section-5">
      <h2 id="name-conclusions">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-conclusions" class="section-name selfRef">Conclusions</a>
      </h2>
<p id="section-5-1">This document presents the sic frequency protocol, employed to
      synchronize host clock frequency across the Internet, and which is also
      resistant to MitM attacks. The main field of application is the Internet
      performance analysis, e.g., to measure congestion, jitter, or delay
      variations parameters; all of them are based on a difference of
      timestamps. It shows the complete specification, implementation, and
      experiment results that support its working principle. In particular,
      sic frequency provides a clock rate stability of less than 1ppm for most
      of the time.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">Following <span>[<a href="#RFC7384" class="xref">RFC7384</a>]</span> enumeration of Time Protocols in
      packet-switched networks, the proposed encryption of timing packets,
      based on a mechanism of secure key distribution, provides the following
      characteristics:<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6-2.1">3.2.1 Packet Manipulation: Prevented by packet signature.<a href="#section-6-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.2">3.2.2 Spoofing: Prevented by packet signature and secure key
          distribution.<a href="#section-6-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.3">3.2.3 Replay Attack: Prevented by chain signing of packets.<a href="#section-6-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.4">3.2.4 Rogue Master Attack: Prevented by secure key
          distribution.<a href="#section-6-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.5">3.2.5 Packet Interception and Removal: If several packets are
          removal, the protocol does not arrive at SYNC state.<a href="#section-6-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.6">3.2.6 Packet Delay Manipulation: Not prevented. Future versions
          may prevent this using over-specification of timing (using redundant
          masters)<a href="#section-6-2.6" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.7">3.2.7 L2/L3 DoS attacks: Not prevented. This attack can be
          prevented in future versions using over-specification of timing and
          redundant masters time servers.<a href="#section-6-2.7" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.8">3.2.8 Cryptographic performance attacks: Not an issue in
          ECDSA.<a href="#section-6-2.8" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.9">3.2.9 DoS attacks agains the time protocol: Prevented by secure
          key distribution.<a href="#section-6-2.9" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.10">3.2.10 Grandmaster Time source attack (GPS attacks): Not
          prevented. Future versions may prevent this using over-specification
          of timing (using several time servers) .<a href="#section-6-2.10" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.11">3.2.11 Exploiting vulnerabilities in the time protocol: Not
          prevented, future vulnerabilities are unknown.<a href="#section-6-2.11" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.12">3.2.12 Network Reconnaissance: Not prevented in this version. No
          countermeasures were done in node anonymization.<a href="#section-6-2.12" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-6-3">The Packet Delay manipulation is one of the hardest problems to solve
      because there exist some smart ways to attack any synchronization
      protocol. Even thou, the sic frequency protocol can protect itself
      because it can identify several attacks of this type, i.e., it is
      challenging to mimic traffic behavior. This emulation of behavior can be
      easily overcome regarding the RTTs' distribution, which has to be a
      heavy-tailed one. This way, the analysis should be studied to ensure the
      implementation of a robust and light test of the raw data.<a href="#section-6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This memo makes no requests of IANA.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Acknowledgements">
<section id="section-8">
      <h2 id="name-acknowledgements">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-8-1">The authors thank to Ethan Katz-Bassett, Zahaib Akhtar, the USC and
      CAIDA for lodging the testbed of the sic frequency protocol.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5905">[RFC5905]</dt>
        <dd>
<span class="refAuthor">Mills, D.</span>, <span class="refAuthor">Martin, J., Ed.</span>, <span class="refAuthor">Burbank, J.</span>, and <span class="refAuthor">W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6979">[RFC6979]</dt>
        <dd>
<span class="refAuthor">Pornin, T.</span>, <span class="refTitle">"Deterministic Usage of the Digital Signature Algorithm (DSA) and Elliptic Curve Digital Signature Algorithm (ECDSA)"</span>, <span class="seriesInfo">RFC 6979</span>, <span class="seriesInfo">DOI 10.17487/RFC6979</span>, <time datetime="2013-08" class="refDate">August 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6979">https://www.rfc-editor.org/info/rfc6979</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7384">[RFC7384]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refTitle">"Security Requirements of Time Protocols in Packet Switched Networks"</span>, <span class="seriesInfo">RFC 7384</span>, <span class="seriesInfo">DOI 10.17487/RFC7384</span>, <time datetime="2014-10" class="refDate">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7384">https://www.rfc-editor.org/info/rfc7384</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7679">[RFC7679]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, <span class="refAuthor">Zekauskas, M.</span>, and <span class="refAuthor">A. Morton, Ed.</span>, <span class="refTitle">"A One-Way Delay Metric for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">STD 81</span>, <span class="seriesInfo">RFC 7679</span>, <span class="seriesInfo">DOI 10.17487/RFC7679</span>, <time datetime="2016-01" class="refDate">January 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7679">https://www.rfc-editor.org/info/rfc7679</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8173">[RFC8173]</dt>
      <dd>
<span class="refAuthor">Shankarkumar, V.</span>, <span class="refAuthor">Montini, L.</span>, <span class="refAuthor">Frost, T.</span>, and <span class="refAuthor">G. Dowd</span>, <span class="refTitle">"Precision Time Protocol Version 2 (PTPv2) Management Information Base"</span>, <span class="seriesInfo">RFC 8173</span>, <span class="seriesInfo">DOI 10.17487/RFC8173</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8173">https://www.rfc-editor.org/info/rfc8173</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="alfa-stables">[alfa-stables]</dt>
        <dd>
<span class="refAuthor">Uchaikin, V.V.</span> and <span class="refAuthor">V.M. Zolotarev</span>, <span class="refTitle">"Chance and stability: stable distributions and their applications."</span>, <span class="seriesInfo"> Walter de Gruyter. (Book)</span>, <time datetime="1999" class="refDate">1999</time>. </dd>
<dd class="break"></dd>
<dt id="ITU-G.8260">[ITU-G.8260]</dt>
        <dd>
<span class="refAuthor">ITU, T. S. S. O.</span>, <span class="refTitle">"Definitions and terminology for synchronization in packet networks (Recommendation ITU-T G.8260)"</span>, <time datetime="2015-08" class="refDate">August 2015</time>. </dd>
<dd class="break"></dd>
<dt id="sic-implementation">[sic-implementation]</dt>
        <dd>
<span class="refAuthor">Samariego, E.</span>, <span class="refAuthor">Ortega, A.</span>, and <span class="refAuthor">J.I. Alvarez-Hamelin</span>, <span class="refTitle">"Synchronizing Internet Clocks"</span>, <span class="seriesInfo"> https://github.com/CoNexDat/SIC</span>, <time datetime="2018-02" class="refDate">February 2018</time>. </dd>
<dd class="break"></dd>
<dt id="ToIM1996">[ToIM1996]</dt>
        <dd>
<span class="refAuthor">Bregni, S.</span>, <span class="refTitle">"Measurement of maximum time interval error for telecommunications clock stability characterization"</span>, <span class="seriesInfo"> Bregni S. Measurement of maximum time interval error for telecommunicIEEE transactions on instrumentation and measurement. 45(5):900-906</span>, <time datetime="1996-10" class="refDate">October 1996</time>. </dd>
<dd class="break"></dd>
<dt id="ToN2008">[ToN2008]</dt>
        <dd>
<span class="refAuthor">Veitch, D.</span>, <span class="refAuthor">Ridoux, J.</span>, and <span class="refAuthor">S.D. Korada</span>, <span class="refTitle">"Robust synchronization of absolute and differential clocks over networks."</span>, <span class="seriesInfo"> IEEE.ACM Transactions on Networking (TON) 17.2 (2009): 417-430</span>, <time datetime="2009" class="refDate">2009</time>. </dd>
<dd class="break"></dd>
<dt id="traffic-stable">[traffic-stable]</dt>
      <dd>
<span class="refAuthor">Carisimo, E.</span>, <span class="refAuthor">Grynberg, S.P.</span>, and <span class="refAuthor">J.I. Alvarez-Hamelin</span>, <span class="refTitle">"Influence of traffic in stochastic behavior of latency."</span>, <span class="seriesInfo"> 7th PhD School on Traffic Monitoring and Analysis (TMA), Ireland, Dublin,</span>, <time datetime="2017-06" class="refDate">June 2017</time>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="appendix-A">
<section id="appendix-A">
      <h2 id="name-example-of-rtt-to-ntp-serve">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-example-of-rtt-to-ntp-serve" class="section-name selfRef">Example of RTT to NTP servers</a>
      </h2>
<p id="appendix-A-1">This appendix shows an experiment to measure the RTT and the distance
      in hops from four different points to a time server in Buenos Aires city
      (the capital of Argentina). We did the measures two times from the four
      points, and we used one hundred packets to determine some statistical
      parameters. Next traceroute measurements show that the number of hops
      and RTT are very different from each point also changes a lot. For
      instance, taking a distinctive look at the STD, average, and maximum is
      possible to detect huge variations. We provide here a case in Argentina,
      trying to reach an NTP server from 4 different points at the Buenos
      Aires city.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A-2">
<pre>-------------------------------------------------------------------------

host1$ mtr -r -c 100 time.afip.gov.ar
Start: Tue Mar 27 19:03:51 2018
HOST: raspbian-server             Loss%  Snt  Last  Avg  Best  Wrst StDev
  1.|-- gw-vlan-srv.innova-red.ne  0.0%  100   2.2  2.8   2.1  37.7   4.9
  2.|-- rnoc5.BUENOS-AIRES.innova  0.0%  100   2.3  3.8   2.1  55.8   7.9
  3.|-- 10.5.10.2                  0.0%  100   2.5  2.6   2.2   3.1   0.0
  4.|-- 200.0.17.104               0.0%  100   3.1  3.1   2.4  13.7   1.1
  5.|-- 172.18.2.53                0.0%  100   4.8  5.7   3.8  12.4   1.7
  6.|-- time.afip.gob.ar           0.0%  100   5.2  5.2   3.8  12.0   1.3

host1$ mtr -r -c 100 time.afip.gov.ar
Start: Tue Mar 27 18:57:06 2018
HOST: raspbian-server             Loss%  Snt  Last  Avg  Best  Wrst StDev
  1.|-- gw-vlan-srv.innova-red.ne  0.0%   50   2.4  2.8   2.0  34.2   4.5
  2.|-- rnoc5.BUENOS-AIRES.innova  0.0%   50   2.1  3.8   2.1  52.8   7.7
  3.|-- 10.5.10.2                  0.0%   50   2.7  2.9   2.2  15.6   1.8
  4.|-- 200.0.17.104               0.0%   50   2.8  3.0   2.3   3.9   0.0
  5.|-- 172.18.2.53                0.0%   50   4.5  5.8   3.8  17.8   2.2
  6.|-- time.afip.gob.ar           0.0%   50   4.7  9.9   4.2 238.5  33.0

-------------------------------------------------------------------------

host2$ mtr -r -c 100 time.afip.gov.ar
Start: Tue Mar 27 19:03:47 2018
HOST: ws-david                    Loss%  Snt  Last  Avg  Best  Wrst StDev
  1.|-- 10.10.96.1                 0.0%  100   0.3  0.2   0.2   0.3   0.0
  2.|-- 200.16.116.171             0.0%  100   1.0  5.9   0.6 158.4  22.9
  3.|-- static.33.229.104.190.cps  1.0%  100   1.6  2.5   1.5  80.6   8.0
  4.|-- static.129.192.104.190.cp  0.0%  100   2.1  1.9   1.8   3.0   0.1
  5.|-- 200.0.17.104               1.0%  100   2.0  2.2   1.8   9.4   0.7
  6.|-- 172.18.2.53                0.0%  100   3.2  4.2   3.1  12.0   1.5
  7.|-- auth.afip.gob.ar           0.0%  100   4.2  4.5   3.3   9.8   1.2

host2$ mtr -r -c 100 time.afip.gov.ar
Start: Tue Mar 27 18:57:00 2018
HOST: ws-david                    Loss%  Snt  Last  Avg  Best  Wrst StDev
  1.|-- 10.10.96.1                 0.0%   50   0.3  0.3   0.2   0.7   0.0
  2.|-- 200.16.116.171             0.0%   50   0.9  6.7   0.7 196.5  29.1
  3.|-- static.33.229.104.190.cps  2.0%   50   1.6  1.7   1.5   2.2   0.0
  4.|-- static.129.192.104.190.cp  0.0%   50   2.1  2.0   1.7   2.4   0.0
  5.|-- 200.0.17.104               0.0%   50   2.0  2.1   1.8   2.6   0.0
  6.|-- 172.18.2.53                0.0%   50   4.8  4.3   3.2   9.1   1.3
  7.|-- time.afip.gob.ar           0.0%   50   4.3  9.4   3.3 234.9  32.7

-------------------------------------------------------------------------

host3$ mtr -r -c 100 time.afip.gov.ar
Start: 2018-03-27T19:03:51-0300
HOST: aleph.local                 Loss%  Snt  Last  Avg  Best  Wrst StDev
 1.|-- 10.17.71.254               0.0%  100   4.7  30.3   3.5 280.4  52.4
 2.|-- 10.255.254.250             0.0%  100   2.5  31.1   1.8 285.4  59.2
 3.|-- 209.13.133.10              0.0%  100  30.5  43.9   2.3 237.2  64.9
 4.|-- host169.advance.com.ar     3.0%  100  36.0  64.8   3.1 404.4  86.9
 5.|-- 200.32.33.33               2.0%  100 106.9  70.6   2.8 315.0  80.4
 6.|-- 200.32.34.66               5.0%  100  93.1  56.8   2.7 336.1  74.5
 7.|-- 200.32.33.38               7.0%  100  42.8  58.0   2.9 357.8  76.7
 8.|-- 209.13.139.211             4.0%  100  46.2  56.7   2.8 298.8  69.9
 9.|-- 209.13.139.209             1.0%  100  84.5  57.1   2.6 277.7  72.3
10.|-- 209.13.166.211             1.0%  100  43.4  63.5   3.2 390.6  78.7
11.|-- 200.32.34.137              2.0%  100  68.7  64.1   3.7 259.5  75.5
12.|-- 200.32.33.37               0.0%  100   4.1  56.9   3.3 249.6  64.3
13.|-- 200.32.34.121              3.0%  100  10.9  65.0   4.1 415.7  85.1
14.|-- 200.32.33.241              2.0%  100 252.6  61.8   3.8 355.9  74.5
15.|-- 200.16.206.198             3.0%  100 188.0  54.6   3.1 461.7  74.9
16.|-- 172.18.2.53                2.0%  100 133.4  53.1   4.3 402.1  69.2
17.|-- time.afip.gob.ar           4.0%  100  72.5  54.1   4.9 343.2  66.9

host3$ mtr -r -c 100 time.afip.gov.ar
Start: 2018-03-27T18:57:05-0300
HOST: aleph.local                 Loss%  Snt  Last  Avg  Best  Wrst StDev
 1.|-- 10.17.71.254               0.0%   50 125.6  88.1   3.7 392.4  79.3
 2.|-- 10.255.254.250             0.0%   50  62.1  54.8   2.1 333.2  68.0
 3.|-- 209.13.133.10              0.0%   50   4.0  33.9   2.4 280.8  51.3
 4.|-- host169.advance.com.ar     2.0%   50   4.1  21.3   2.9 236.7  40.4
 5.|-- 200.32.33.33               2.0%   50   4.5  32.2   3.2 341.3  69.4
 6.|-- 200.32.34.66               4.0%   50   7.7  26.0   3.5 278.8  55.8
 7.|-- 200.32.33.38               2.0%   50   4.8  29.4   3.0 221.3  43.4
 8.|-- 209.13.139.211             0.0%   50  84.8  40.3   3.1 250.4  53.0
 9.|-- 209.13.139.209             0.0%   50  25.1  35.0   2.8 249.2  55.4
10.|-- 209.13.166.211             0.0%   50   3.7  33.5   2.6 188.9  54.3
11.|-- 200.32.34.137              0.0%   50   5.6  28.2   3.7 224.3  51.1
12.|-- 200.32.33.37               0.0%   50   3.7  24.2   3.5 189.5  44.9
13.|-- 200.32.34.121              0.0%   50   4.7  30.8   4.0 213.2  51.6
14.|-- 200.32.33.241              0.0%   50  14.4  33.1   3.9 364.6  67.2
15.|-- 200.16.206.198             0.0%   50   5.0  58.2   3.1 300.7  88.5
16.|-- 172.18.2.53                0.0%   50   9.4 117.8   4.4 315.1 103.4
17.|-- time.afip.gob.ar           0.0%   50 199.6 120.2   5.2 484.0  96.2

-------------------------------------------------------------------------

host4$ mtr -r -c 100 time.afip.gov.ar
Start: 2018-03-27T19:03:51-0300
HOST: cnet                        Loss%  Snt  Last  Avg  Best  Wrst StDev
 1.|-- 157.92.58.1                0.0%  100   6.6   2.8   0.3  12.8   2.5
 2.|-- ???                       100.0  100   0.0   0.0   0.0   0.0   0.0
 3.|-- ???                       100.0  100   0.0   0.0   0.0   0.0   0.0
 4.|-- host98.131-100-186.static  0.0%  100   5.7   5.6   1.5   9.4   2.2
 5.|-- host130.131-100-186.stati  0.0%  100   6.5   6.3   2.5  10.3   2.2
 6.|-- 200.0.17.104               0.0%  100   2.4   2.7   2.3  15.6   1.4
 7.|-- ???                       100.0  100   0.0   0.0   0.0   0.0   0.0
 8.|-- time.afip.gob.ar           0.0%  100   4.9   7.6   3.9 243.0  23.9

host4$ mtr -r -c 100 time.afip.gov.ar
Start: Tue Mar 27 18:41:40 2018
HOST: cnet                        Loss%  Snt  Last   Avg  Best Wrst StDev
 1.|-- 157.92.58.1                0.0%   50   4.0   1.6   0.3   9.1   1.6
 2.|-- ???                       100.0   50   0.0   0.0   0.0   0.0   0.0
 3.|-- ???                       100.0   50   0.0   0.0   0.0   0.0   0.0
 4.|-- host98.131-100-186.static  0.0%   50   4.7   5.5   1.5  10.9   2.4
 5.|-- host130.131-100-186.stati  0.0%   50   8.4   6.5   2.6  10.5   2.2
 6.|-- 200.0.17.104               0.0%   50   2.5   2.8   2.3  11.0   1.2
 7.|-- ???                       100.0   50   0.0   0.0   0.0   0.0   0.0
 8.|-- time.afip.gob.ar           0.0%   50   4.9   9.2   3.8 226.7  31.4

--------------------------------------------------------------------------
</pre><a href="#appendix-A-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jose Ignacio Alvarez-Hamelin (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Universidad de Buenos Aires - CONICET</span></div>
<div dir="auto" class="left"><span class="street-address">Av. Paseo Colon 850</span></div>
<div dir="auto" class="left">
<span class="postal-code">C1063ACV</span> <span class="locality">Buenos Aires</span>
</div>
<div dir="auto" class="left"><span class="country-name">Argentina</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+54%2011%205285-0716" class="tel">+54 11 5285-0716</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:ihameli@cnet.fi.uba.ar" class="email">ihameli@cnet.fi.uba.ar</a>
</div>
<div class="url">
<span>URI:</span>
<a href="http://cnet.fi.uba.ar/ignacio.alvarez-hamelin/" class="url">http://cnet.fi.uba.ar/ignacio.alvarez-hamelin/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">David Samaniego</span></div>
<div dir="auto" class="left"><span class="org">Universidad de Buenos Aires</span></div>
<div dir="auto" class="left"><span class="street-address">Av. Paseo Colon 850</span></div>
<div dir="auto" class="left">
<span class="postal-code">C1063ACV</span> <span class="locality">Buenos Aires</span>
</div>
<div dir="auto" class="left"><span class="country-name">Argentina</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+54%2011%205285-0716" class="tel">+54 11 5285-0716</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:dsamanie@fi.uba.ar" class="email">dsamanie@fi.uba.ar</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Alfredo A. Ortega</span></div>
<div dir="auto" class="left"><span class="org">Universidad de Buenos Aires</span></div>
<div dir="auto" class="left"><span class="street-address">Av. Paseo Colon 850</span></div>
<div dir="auto" class="left">
<span class="postal-code">C1063ACV</span> <span class="locality">Buenos Aires</span>
</div>
<div dir="auto" class="left"><span class="country-name">Argentina</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+54%2011%205285-0716" class="tel">+54 11 5285-0716</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:ortegaalfredo@gmail.com" class="email">ortegaalfredo@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ruediger Geib</span></div>
<div dir="auto" class="left"><span class="org">Deutsche Telekom</span></div>
<div dir="auto" class="left"><span class="street-address">Heinrich-Hertz-Str. 3-7</span></div>
<div dir="auto" class="left">
<span class="postal-code">64297</span> <span class="locality">Darmstadt</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+49%206151%205812747" class="tel">+49 6151 5812747</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:Ruediger.Geib@telekom.de" class="email">Ruediger.Geib@telekom.de</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
