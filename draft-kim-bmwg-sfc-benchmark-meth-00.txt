



Network Working Group                                             T. Kim
Internet-Draft                                                     H. Yu
Intended status: Informational                                  C. Jeong
Expires: May 4, 2017                                              Y. Han
                                                                 E. Paik
                                                                      KT
                                                        October 31, 2016


    Benchmarking Methodology for Service Function Chain Performance
                  draft-kim-bmwg-sfc-benchmark-meth-00

Abstract

   Service Function Chain is the ordered set of service functions such
   as firewall, Deep Packet Inspection(DPI), virtualized Evolved Packet
   Core (vEPC), and etc,. Operators make chains with several service
   functions depending on the service which they have to provide.  The
   chain needs to be evaluated to measure the SLA.  This draft describes
   the benchmarking methodologies for Service Function Chain(SFC)
   performance and the affecting factors to SFC performance.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 4, 2017.







Kim, et al.                Expires May 4, 2017                  [Page 1]

Internet-Draft        sfc performance benchmarking          October 2016


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Definition of Terms . . . . . . . . . . . . . . . . . . . . .   3
   3.  Test Setup  . . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Test Topology . . . . . . . . . . . . . . . . . . . . . .   3
     3.2.  Test Traffic  . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Benchmarking Test . . . . . . . . . . . . . . . . . . . . . .   4
     4.1.  Connectivity  . . . . . . . . . . . . . . . . . . . . . .   4
     4.2.  Performance . . . . . . . . . . . . . . . . . . . . . . .   5
       4.2.1.  E2E Latency . . . . . . . . . . . . . . . . . . . . .   5
       4.2.2.  E2E Packet Loss Rate  . . . . . . . . . . . . . . . .   5
       4.2.3.  E2E Bandwidth . . . . . . . . . . . . . . . . . . . .   6
   5.  Factors affecting the SFC Performance . . . . . . . . . . . .   6
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   8.  Normative References  . . . . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   Service Function Chain is the ordered set of service functions such
   as firewall, Deep Packet Inspection(DPI), virtualized Evolved Packet
   Core (vEPC), and etc,. The service functions include virtualized
   network functions and physical network functions.  As the network
   infrastructure become virtualized, operators make chains with several
   service functions depending on the service which they have to
   provide.  The chain needs to be evaluated to measure the SLA.

   This draft describes the benchmarking methodologies for Service
   Function Chain(SFC) performance and the influential factors to SFC
   performance.




Kim, et al.                Expires May 4, 2017                  [Page 2]

Internet-Draft        sfc performance benchmarking          October 2016


2.  Definition of Terms

   The detail explanations of each term are in [RFC 7665]

   SF Service Function

   SFC Service Function Chain

   SFF Service Function Forwarder

   CLA Classifier

   PNF Physical Network Function

   VNF Virtualized Network Function

   NSH Network Service Header

3.  Test Setup

   This section discusses test topology and the test traffic

3.1.  Test Topology

                    +-------------------------------------------------------------+
                    |   Cloud                                                     |
                    |                  +--------+    +--------+                   |
                    |                  |        |    |        |                   |
                    |                  |  VNF 1 |    |  VNF 2 |                   |
                    |                  |        |    |        |                   |
                    |                  +--------+    +--------+                   |
                    |                    |   |         |    |                     |
                    |                    |   |         |    |                     |
                    |   +---------+    +-----------------------+    +---------+   |    +--------+
                    |   |         |    | +---+ +---+           |    |         |   |    |        |
                    |   | vHost 1 |----| |CLA| |SFF|    Virtual|----| vHost 2 |   |    |  PNF   |
                    |   |         |    | +---+ +---+    Switch |    |         |   |    |        |
                    |   +---------+    +-----------------------+    +---------+   |    +--------+
                    +-------------------------------------------------------------+        |
                            |                   |                           |              |
        +--------+    +---------------------------------------------------------------------------+    +--------+
        |        |    |   +----------+    +--------------------------+                            |    |        |
        | Host 3 |----|   |Classifier|    |Service Function Forwarder|                            |----| Host 4 |
        |        |    |   +----------+    +--------------------------+           Physical Switch  |    |        |
        +--------+    +---------------------------------------------------------------------------+    +--------+






Kim, et al.                Expires May 4, 2017                  [Page 3]

Internet-Draft        sfc performance benchmarking          October 2016


3.2.  Test Traffic

   There are two types of traffic.  One is External traffic and the
   other is Internal traffic.

   o  Internal Traffic :

      *  The traffic flows inside the cloud.  A source host and a
         destination host are inside the same cloud and the SFC is also
         made in the cloud.  Therefore, the SFC does not contain a SF
         outside the cloud(PNF). (e.g.  SFC : vHost1 -> VNF1 -> VNF2 ->
         vHost2)

   o  External Traffic :

      *  The traffic flows outside the cloud.  A source host or
         destination host can be exists outside the cloud.  Therefore,
         the SFC can contain a SF outside the cloud(PNF) (e.g.  SFC :
         Host3 -> VNF1 -> VNF2 -> PNF-> Host4)

   The frame sizes of the test traffic SHOULD be multiple sizes as
   recommended in RFC2544.

4.  Benchmarking Test

4.1.  Connectivity

   Objective :

   The connectivity of each part of SFC and the end to end SFC it self.
   This test demonstrates the SFC works properly.

   Procedure:

   1.  Send the test traffic from source host to destination host

   2.  Check each SF and links between the SFs

   3.  Check the test traffic from the source host and the destination
       host.

   4.  Among SFs, the test traffic SHOULD flows only selected SF from
       the source host to the destination host.








Kim, et al.                Expires May 4, 2017                  [Page 4]

Internet-Draft        sfc performance benchmarking          October 2016


4.2.  Performance

4.2.1.  E2E Latency

   Objective :

   This test demonstrates how much time the SFC takes to flow traffic
   from the source host to the desination host.  Latency is the key of
   some services such as video streaming.

   Procedure:

   1.  Check the connectivity of the SFC

   2.  Send the test traffic from source host to destination host

   3.  Check the test traffic from the source host and the destination
       host.

   Measurement:

   E2E Latency Time = TL

   Average E2E Latency :

                               TL1 + TL2 + ...TLn
                             ----------------------
                              Total Test Iterations

4.2.2.  E2E Packet Loss Rate

   Objective :

   This test demonstrates how many packets are loss depending on the
   frame sizes or parallel SFCs

   Procedure:

   1.  Check the connectivity of the SFC

   2.  Make the conflict circumstances with differenct frame sizes and
       other SFCs

   3.  Send the test traffic from source host to destination host.

   4.  Check the test traffic from the source host and the destination
       host.




Kim, et al.                Expires May 4, 2017                  [Page 5]

Internet-Draft        sfc performance benchmarking          October 2016


   Measurement:

   E2E Packet Loss Rate = PLR

   Average Packet Loss Rate :

                                PLR1 + PLR2 + ...PLRn
                              ------------------------
                               Total Test Iterations

4.2.3.  E2E Bandwidth

   Objective :

   This test demonstrates how much bandwidth the SFC can support.  To
   find out the bandwidth of SFC is enough for particular sevices such
   as bandwidth-intensive services.

   Procedure:

   1.  Check the connectivity of the SFC

   2.  Send the test traffic from source host to destination host.

   3.  Check the test traffic from the source host and the destination
       host has no packet loss.

   4.  Record the E2E Bandwidth.

   Measurement:

   E2E Bandwidth = BW

   Average E2E Bandwidth :

                                    BW1 + BW2 + ...BWn
                                   ---------------------
                                   Total Test Iterations

5.  Factors affecting the SFC Performance

   This section describes factors affecting the SFC performance.

   o  SFC awareness

      *  - Depending on the awareness of SFC encapsulation,NSH, the SFC
         performance is different.  When SFC uses NSH, it takes time to
         check the NSH of every packet.



Kim, et al.                Expires May 4, 2017                  [Page 6]

Internet-Draft        sfc performance benchmarking          October 2016


   o  Composition of SFC

      *  the number of SFs in the SFC affects the SFC performance
         because of the trasition overhead.

   o  Operation of SF

      *  The operations of SF can affect to the SFC performance, such as
         DPI and UTM.

      *  When the SF has multi functions, the traffic takes time to pass
         through the SF.

   o  Types of SF; PNF or VNF

      *  It is hard to assure the network performance of VNF because it
         is on the virtual machine(VM); VNF is affected from the CPU of
         physical machine(PM).

      *  VNF is also affected from the number of flow rules in the
         virtual switch.

6.  Security Considerations

   TBD.

7.  IANA Considerations

   No IANA Action is requested at this time.

8.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC2544]  Bradner, S. and J. McQuaid, "Benchmarking Methodology for
              Network Interconnect Devices", RFC 2544,
              DOI 10.17487/RFC2544, March 1999,
              <http://www.rfc-editor.org/info/rfc2544>.

   [RFC7665]  Halpern, J., Ed. and C. Pignataro, Ed., "Service Function
              Chaining (SFC) Architecture", RFC 7665,
              DOI 10.17487/RFC7665, October 2015,
              <http://www.rfc-editor.org/info/rfc7665>.





Kim, et al.                Expires May 4, 2017                  [Page 7]

Internet-Draft        sfc performance benchmarking          October 2016


Authors' Addresses

   Taekhee Kim
   KT
   Infra R&D Lab. KT
   17 Woomyeon-dong, Seocho-gu
   Seoul  137-792
   Korea

   Phone: +82-2-526-6688
   Fax:   +82-2-526-5200
   Email: taekhee.kim@kt.com


   Hyun Yu
   KT
   Infra R&D Lab. KT
   17 Woomyeon-dong, Seocho-gu
   Seoul  137-792
   Korea

   Phone: +82-2-526-6688
   Fax:   +82-2-526-5200
   Email: hyun.yu@kt.com


   Chiwook Jeong
   KT
   Infra R&D Lab. KT
   17 Woomyeon-dong, Seocho-gu
   Seoul  137-792
   Korea

   Phone: +82-2-526-6688
   Fax:   +82-2-526-5200
   Email: chiwook.jeong@kt.com


   Youngtae Han
   KT
   Infra R&D Lab. KT
   17 Woomyeon-dong, Seocho-gu
   Seoul  137-792
   Korea

   Phone: +82-2-526-6688
   Fax:   +82-2-526-5200
   Email: youngtae.han@kt.com



Kim, et al.                Expires May 4, 2017                  [Page 8]

Internet-Draft        sfc performance benchmarking          October 2016


   EunKyoung Paik
   KT
   Infra R&D Lab. KT
   17 Woomyeon-dong, Seocho-gu
   Seoul  137-792
   Korea

   Phone: +82-2-526-5233
   Fax:   +82-2-526-5200
   Email: eun.paik@kt.com
   URI:   http://mmlab.snu.ac.kr/~eun/








































Kim, et al.                Expires May 4, 2017                  [Page 9]
