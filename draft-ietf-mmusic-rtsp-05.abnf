rtsp_URL = ( "rtsp:" | "rtspu:" | "rtsps:" )
                 "//" host [ ":" port ] [abs_path]
host     = <A legal Internet host domain name of IP address
              (in dotted decimal form), as defined by Section 2.1
              of RFC 1123>
port     = *DIGIT

conference-id = 1*OCTET  ; LWS must be URL-escaped

     Conference identifiers are used to allow RTSP sessions to obtain
     parameters from multimedia conferences the media server is
     participating in. These conferences are created by protocols
     outside the scope of this specification, e.g., H.323 [18] or SIP
     [12]. Instead of the RTSP client explicitly providing transport
     information, for example, it asks the media server to use the
     values in the conference description instead. If the conference
     participant inviting the media server would only supply a
     conference identifier which is unique for that inviting party, the
     media server could add an internal identifier for that party, e.g.,
     its Internet address. However, this would prevent the conference
     participant and the initiator of the RTSP commands from being two
     different entities.

session-id = 1*OCTET      ; LWS must be URL-escaped

smpte-range = "smpte" "=" smpte-time "-" [ smpte-time ]
smpte-time = 2DIGIT ":" 2DIGIT ":" 2DIGIT [ ":" 2DIGIT ] [ "." 2DIGIT]

smpte=10:12:33:20-
smpte=10:07:33-
smpte=10:07:00-10:07:33:05.01

npt-time   = "now" | npt-sec | npt-hhmmss
npt-sec    = 1*DIGIT [ "." *DIGIT ]
npt-hhmmss = npt-hh ":" npt-mm ":" npt-ss [ "." *DIGIT]
npt-hh     = 1*DIGIT ; any positive number
npt-mm     = 2DIGIT  ; 00-59
npt-ss     = 2DIGIT  ; 00-59

npt=123.45-125
npt=12:05:35.3
npt=now

utc-range = "clock" "=" utc-time "-" [ utc-time ]
utc-time  = utc-date "T" utc-time "Z"
utc-date  = 8DIGIT                         ; < YYYYMMDD >
utc-time  = 6DIGIT [ "." fraction ]        ; < HHMMSS.fraction >

general-header     =     Cache-Control     ; Section 12.8
                         |     Connection        ; Section 12.10
                         |     Date              ; Section 12.18
                         |     Via               ; Section 12.43

Request      =       Request-Line          ; Section 6.1
                    *(      general-header        ; Section 5
                    |       request-header        ; Section 6.2
                    |       entity-header )       ; Section 8.1
                            CRLF
                            [ message-body ]      ; Section 4.3

Request-Line = Method SP Request-URI SP RTSP-Version CRLF

Method         =         "DESCRIBE"              ; Section 10.2
                  |         "ANNOUNCE"              ; Section 10.3
                  |         "GET_PARAMETER"         ; Section 10.8
                  |         "OPTIONS"               ; Section 10.1
                  |         "PAUSE"                 ; Section 10.6
                  |         "PLAY"                  ; Section 10.5
                  |         "RECORD"                ; Section 10.10
                  |         "REDIRECT"              ; Section
                  |         "SETUP"                 ; Section 10.4
                  |         "SET_PARAMETER"         ; Section 10.9
                  |         "TEARDOWN"              ; Section 10.7
                  |         extension-method

extension-method = token

Request-URI = "*" | absolute_URI

RTSP-Version = "RTSP" "/" 1*DIGIT "." 1*DIGIT

request-header  =          Accept                   ; Section 12.1
                  |          Accept-Encoding          ; Section 12.2
                  |          Accept-Language          ; Section 12.3
                  |          Authorization            ; Section 12.5
                  |          From                     ; Section 12.20
                  |          If-Modified-Since        ; Section 12.23
                  |          Range                    ; Section 12.29
                  |          Referer                  ; Section 12.30
                  |          User-Agent               ; Section 12.41

   Note that in contrast to HTTP/1.1, RTSP requests always contain the
   absolute URL (that is, including the scheme, host and port) rather
   than just the absolute path.




Response    =     Status-Line         ; Section 7.1
                 *(    general-header      ; Section 5
                 |     response-header     ; Section 7.1.2
                 |     entity-header )     ; Section 8.1
                       CRLF
                       [ message-body ]    ; Section 4.3

Status-Line = RTSP-Version SP Status-Code SP Reason-Phrase CRLF

Status-Code 	=     "100"      ; Continue
               	|     "200"      ; OK
               	|     "201"      ; Created
               	|     "250"      ; Low on Storage Space
               	|     "300"      ; Multiple Choices
               	|     "301"      ; Moved Permanently
               	|     "302"      ; Moved Temporarily
               	|     "303"      ; See Other
               	|     "304"      ; Not Modified
               	|     "305"      ; Use Proxy
               	|     "400"      ; Bad Request
               	|     "401"      ; Unauthorized
               	|     "402"      ; Payment Required
               	|     "403"      ; Forbidden
               	|     "404"      ; Not Found
               	|     "405"      ; Method Not Allowed
               	|     "406"      ; Not Acceptable
               	|     "407"      ; Proxy Authentication Required
               	|     "408"      ; Request Time-out
               	|     "410"      ; Gone
               	|     "411"      ; Length Required
               	|     "412"      ; Precondition Failed
               	|     "413"      ; Request Entity Too Large
               	|     "414"      ; Request-URI Too Large
               	|     "415"      ; Unsupported Media Type
               	|     "451"      ; Parameter Not Understood
               	|     "452"      ; Conference Not Found
               	|     "453"      ; Not Enough Bandwidth
               	|     "454"      ; Session Not Found
               	|     "455"      ; Method Not Valid in This State
               	|     "456"      ; Header Field Not Valid for Resource
               	|     "457"      ; Invalid Range
               	|     "458"      ; Parameter Is Read-Only
               	|     "459"      ; Aggregate operation not allowed
               	|     "460"      ; Only aggregate operation allowed
               	|     "461"      ; Unsupported transport
               	|     "462"      ; Destination unreachable
               	|     "500"      ; Internal Server Error
               	|     "501"      ; Not Implemented
               	|     "502"      ; Bad Gateway
               	|     "503"      ; Service Unavailable
               	|     "504"      ; Gateway Time-out
               	|     "505"      ; RTSP Version not supported
               	|     "551"      ; Option not supported
               	|     extension-code




extension-code  =     3DIGIT

Reason-Phrase  =     *<TEXT, excluding CR, LF>

   RTSP status codes are extensible. RTSP applications are not required
   to understand the meaning of all registered status codes, though such
   understanding is obviously desirable. However, applications MUST
   understand the class of any status code, as indicated by the first
   digit, and treat any unrecognized response as being equivalent to the
   x00 status code of that class, with the exception that an unrecognized
   response MUST NOT be cached. For example, if an unrecognized status
   code of 431 is received by the client, it can safely assume that there
   was something wrong with its request and treat the response as if it
   had received a 400 status code. In such cases, user agents SHOULD
   present to the user the entity returned with the response, since that
   entity is likely to include human-readable information which will
   explain the unusual status.

   Code           reason

   100            Continue                         all

   200            OK                               all
   201            Created                          RECORD
   250            Low on Storage Space             RECORD

   300            Multiple Choices                 all
   301            Moved Permanently                all
   302            Moved Temporarily                all
   303            See Other                        all
   305            Use Proxy                        all


















response-header  =     Location             ; Section 12.25
                    |     Proxy-Authenticate   ; Section 12.26
                    |     Public               ; Section 12.28
                    |     Retry-After          ; Section 12.31
                    |     Server               ; Section 12.36
                    |     Vary                 ; Section 12.42
                    |     WWW-Authenticate     ; Section 12.44

entity-header       =    Allow               ; Section 12.4
                         |    Content-Base        ; Section 12.11
                         |    Content-Encoding    ; Section 12.12
                         |    Content-Language    ; Section 12.13
                         |    Content-Length      ; Section 12.14
                         |    Content-Location    ; Section 12.15
                         |    Content-Type        ; Section 12.16
                         |    Expires             ; Section 12.19
                         |    Last-Modified       ; Section 12.24
                         |    extension-header
extension-header    =    message-header







v=0
o=mhandley 2890844526 2890842807 IN IP4 126.16.64.4
s=SDP Seminar
i=A Seminar on the session description protocol
u=http://www.cs.ucl.ac.uk/staff/M.Handley/sdp.03.ps
e=mjh@isi.edu (Mark Handley)
c=IN IP4 224.2.17.12/127
t=2873397496 2873404696
a=recvonly
m=audio 3456 RTP/AVP 0
m=video 2232 RTP/AVP 31
m=whiteboard 32416 UDP WB
a=orient:portrait

v=0
o=mhandley 2890844526 2890845468 IN IP4 126.16.64.4
s=SDP Seminar
i=A Seminar on the session description protocol
u=http://www.cs.ucl.ac.uk/staff/M.Handley/sdp.03.ps
e=mjh@isi.edu (Mark Handley)
c=IN IP4 224.2.17.12/127
t=2873397496 2873404696
a=recvonly
m=audio 3456 RTP/AVP 0
m=video 2232 RTP/AVP 31
   
     S->C: RTSP/1.0 200 OK
Bandwidth = "Bandwidth" ":" 1*DIGIT

Cache-Control	    =   "Cache-Control" ":" 1#cache-directive 
cache-directive	    =   cache-request-directive
			    |   cache-response-directive
cache-request-directive  =   "no-cache"
			    |	"max-stale"
			    |	"min-fresh"
			    |	"only-if-cached"
			    |	cache-extension
cache-response-directive =	"public"
			    |	"private"
			    |	"no-cache"
			    |	"no-transform"
			    |	"must-revalidate"
			    |	"proxy-revalidate"
			    |	"max-age" "=" delta-seconds
			    |	cache-extension
cache-extension          =   token [ "=" ( token | quoted-string ) ]

Conference = "Conference" ":" conference-id

Expires = "Expires" ":" HTTP-date

If-Modified-Since = "If-Modified-Since" ":" HTTP-date

Range            = "Range" ":" 1#ranges-specifier 
                       [ ";" "time" "=" utc-time ]
ranges-specifier = npt-range | utc-range | smpte-range

Require =   "Require" ":"  1#option-tag

RTP-Info        = "RTP-Info" ":" 1#stream-url ";" *parameter
stream-url      = "url" "=" url
parameter       = ";" "seq" "=" sequence-number
sequence-number = 1*(DIGIT)

url=rtsp://foo.com/bar.avi/streamid=1;seq=34834738

Scale = "Scale" ":" [ "-" ] 1*DIGIT [ "." *DIGIT ]

Speed = "Speed" ":" 1*DIGIT [ "." *DIGIT ]

Session  = "Session" ":" session-id [ ";" "timeout" "=" delta-seconds ]

Timestamp  = "Timestamp" ":" *(DIGIT) [ "." *(DIGIT) ] [ delay ]
delay      =  *(DIGIT) [ "." *(DIGIT) ]

transport-spec     = transport-protocol/profile[/lower-transport]
                        *parameter
transport-protocol = "RTP"
profile            = "AVP"
lower-transport    = "TCP" | "UDP"
parameter 	      =   ( "unicast" | "multicast" )
	     	      |	 ";" "destination" [ "=" address ]
	     	      |	 ";" "compressed"
	     	      |	 ";" "interleaved" "=" channel
	     	      |	 ";" "append"
	     	      |	 ";" "ttl" "=" ttl
	     	      |	 ";" "layers" "=" 1*DIGIT
	     	      |	 ";" "port" "=" port [ "-" port ]
	     	      |	 ";" "client_port" "=" port [ "-" port ]
	     	      |	 ";" "server_port" "=" port [ "-" port ]
	     	      |	 ";" "ssrc" "=" ssrc
	     	      |	 ";" "mode" = <"> 1#mode <">
ttl	     	      =	 1*3(DIGIT)
port	     	      =	 1*5(DIGIT)
ssrc	     	      =	 8*8(HEX)
channel   	      =	 1*3(DIGIT)
address   	      =	 host
mode	     	      =	 "PLAY" | "RECORD" *parameter



v=0
o=- 2890844526 2890842807 IN IP4 192.16.24.202
s=RTSP Session
m=audio 0 RTP/AVP 0
a=control:rtsp://audio.example.com/twister/audio.en
m=video 0 RTP/AVP 31
a=control:rtsp://audio.example.com/twister/video

     C->A: SETUP rtsp://audio.example.com/twister/audio.en RTSP/1.0
server_port=5000-5001

server_port=5002-5003

v=0
o=- 2890844256 2890842807 IN IP4 172.16.2.93
s=RTSP Session
i=An Example of RTSP Session Usage
a=control:rtsp://foo/twister
t=0 0
m=audio 0 RTP/AVP 0
a=control:rtsp://foo/twister/audio
m=video 0 RTP/AVP 26
a=control:rtsp://foo/twister/video

     C->M: SETUP rtsp://foo/twister/audio RTSP/1.0
server_port=9000-9001
server_port=9004-9005
v=0
o=- 872653257 872653257 IN IP4 172.16.2.187
s=mu-law wave file
i=audio test
t=0 0
m=audio 0 RTP/AVP 0
a=control:streamid=0
 
     C->S  SETUP rtsp://foo.com/test.wav/streamid=0 RTSP/1.0
server_port=6970-6971;mode=play
v=0
o=- 2890844526 2890842807 IN IP4 192.16.24.202
s=RTSP Session
m=audio 3456 RTP/AVP 0
a=control:rtsp://live.example.com/concert/audio
c=IN IP4 224.2.0.1/16

     C->M: SETUP rtsp://live.example.com/concert/audio RTSP/1.0
v=0
o=- 2890844526 2890842807 IN IP4 192.16.24.202
s=RTSP Session
i=See above
t=0 0
m=audio 0 RTP/AVP 0

     C->M: SETUP rtsp://server.example.com/demo/548/sound RTSP/1.0
port=7000-7001;ttl=127
port=7000-7001;ttl=127
v=0
o=camera1 3080117314 3080118787 IN IP4 195.27.192.36
s=IETF Meeting, Munich - 1
i=The thirty-ninth IETF meeting will be held in Munich, Germany
u=http://www.ietf.org/meetings/Munich.html
e=IETF Channel 1 <ietf39-mbone@uni-koeln.de>
p=IETF Channel 1 +49-172-2312 451
c=IN IP4 224.0.1.11/127
t=3080271600 3080703600
a=tool:sdr v2.4a6
a=type:test
m=audio 21010 RTP/AVP 5
c=IN IP4 224.0.1.11/127
a=ptime:40
m=video 61010 RTP/AVP 31
c=IN IP4 224.0.1.12/127

     M->C: RTSP/1.0 200 OK
mode=record;ttl=127

mode=record;ttl=127

mode=record;ttl=127

mode=record;ttl=127



OCTET              =      $<$ any 8-bit sequence of data>
CHAR               =      <any US-ASCII character (octets 0 - 127)>
UPALPHA            =      <any US-ASCII uppercase letter "A".."Z">
LOALPHA            =      <any US-ASCII lowercase letter "a".."z">
ALPHA              =      UPALPHA | LOALPHA
DIGIT              =      <any US-ASCII digit "0".."9">
CTL                =      <any US-ASCII control character
                	      (octets 0 - 31) and DEL (127)>
CR                 =      <US-ASCII CR, carriage return (13)>
LF                 =      <US-ASCII LF, linefeed (10)>
SP                 =      <US-ASCII SP, space (32)>
HT                 =      <US-ASCII HT, horizontal-tab (9)>
CRLF               =      CR LF
LWS                =      [CRLF] 1*( SP | HT )
TEXT               =      <any OCTET except CTLs>
tspecials          =      "(" | ")" | "<" | ">" | "@"
        	      |       "," | ";" | ":" | "\" | <">
        	      |       "/" | "[" | "]" | "?" | "="
        	      |       "{" | "}" | SP | HT
token              =      1*<any CHAR except CTLs or tspecials>
quoted-string      =      ( <"> *(qdtext) <"> )
qdtext             =      <any TEXT except <">>
quoted-pair        =      "CHAR










message-header     =      field-name ":" [ field-value ] CRLF
field-name         =      token
field-value        =      *( field-content | LWS )
field-content      =      <the OCTETs making up the field-value and
                              consisting of either *TEXT or
                              combinations of token, tspecials, and
                              quoted-string> 

a=control:rtsp://example.com/foo

m=audio 0 RTP/AVP 31








a=length:npt=34.4368















a=etag:158bb3e7c7fd62ce67f12b533f06b83a

v=0
o=- 2890844256 2890842807 IN IP4 204.34.34.32
s=I came from a web page
t=0 0
c=IN IP4 0.0.0.0
m=video 8002 RTP/AVP 31
a=control:rtsp://audio.com/movie.aud
m=audio 8004 RTP/AVP 3
a=control:rtsp://video.com/movie.vid

v=0
o=- 2890844256 2890842807 IN IP4 204.34.34.32
s=I contain
i=<more info>
t=0 0
c=IN IP4 0.0.0.0
a=control:rtsp://example.com/movie/
m=video 8002 RTP/AVP 31
a=control:trackID=1
m=audio 8004 RTP/AVP 3
a=control:trackID=2

