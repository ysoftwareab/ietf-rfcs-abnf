<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Fast Recovery for EVPN Designated Forwarder Election</title>
<meta content="Patrice Brissette" name="author">
<meta content="Ali Sajassi" name="author">
<meta content="Luc Andre Burdet" name="author">
<meta content="John Drake" name="author">
<meta content="Jorge Rabadan" name="author">
<meta content="
       Ethernet Virtual Private Network (EVPN) solution provides
     Designated Forwarder election procedures for multihomed Ethernet Segments. These
     procedures have been enhanced further by applying Highest
     Random Weight (HRW) Algorithm for Designated Forwarded election
     in order to avoid unnecessary DF status changes upon a failure.
     This draft improves these procedures by providing a fast Designated Forwarder (DF)
     election upon recovery of the failed link or node associated
     with the multihomed Ethernet Segment. The solution is
     independent of number of EVIs associated with that Ethernet
     Segment and it is performed via a simple signaling between the
     recovered PE and each of the other PEs in the multihoming group. 
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="EVPN" name="keyword">
<meta content="Designated Forwarder" name="keyword">
<meta content="Convergence" name="keyword">
<meta content="Recovery" name="keyword">
<meta content="draft-ietf-bess-evpn-fast-df-recovery-05" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-bess-evpn-fast-df-recovery-05-v5hd3nc_.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Fast Recovery for EVPN DF-Election</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Brissette, et al.</td>
<td class="center">Expires 8 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">BESS Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-bess-evpn-fast-df-recovery-05</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-07" class="published">7 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-08">8 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">P. Brissette, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">A. Sajassi</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">LA. Burdet</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">J. Drake</div>
<div class="org">Juniper</div>
</div>
<div class="author">
      <div class="author-name">J. Rabadan</div>
<div class="org">Nokia</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Fast Recovery for EVPN Designated Forwarder Election</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Ethernet Virtual Private Network (EVPN) solution provides
     Designated Forwarder election procedures for multihomed Ethernet Segments. These
     procedures have been enhanced further by applying Highest
     Random Weight (HRW) Algorithm for Designated Forwarded election
     in order to avoid unnecessary DF status changes upon a failure.
     This draft improves these procedures by providing a fast Designated Forwarder (DF)
     election upon recovery of the failed link or node associated
     with the multihomed Ethernet Segment. The solution is
     independent of number of EVIs associated with that Ethernet
     Segment and it is performed via a simple signaling between the
     recovered PE and each of the other PEs in the multihoming group.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language-3">
<a href="#name-requirements-language-3" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1"> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>
      and <span><a href="#RFC8174" class="xref">RFC 8174</a> [<a href="#RFC8174" class="xref">RFC8174</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-5">
<a href="#name-status-of-this-memo-5" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 8 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-5">
<a href="#name-copyright-notice-5" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-5">
<a href="#name-table-of-contents-5" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-5" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-challenges-with-existing-so" class="xref">Challenges with Existing Solution</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-df-election-synchronization" class="xref">DF Election Synchronization Solution</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-advantages" class="xref">Advantages</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-bgp-encoding" class="xref">BGP Encoding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-synchronization-scenarios" class="xref">Synchronization Scenarios</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-backwards-compatibility" class="xref">Backwards Compatibility</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-security-considerations-5" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations-5" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-normative-references-4" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-contributors-3" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-acknowledgements-3" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-addresses-4" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction-5">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-5" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Ethernet Virtual Private Network (EVPN) solution <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> is
     becoming pervasive in data center (DC) applications for Network
     Virtualization Overlay (NVO) and DC interconnect (DCI) services, and
     in service provider (SP) applications for next generation virtual
     private LAN services.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The EVPN specification <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> describes DF election procedures for
     multihomed Ethernet Segments. These procedures are enhanced further in
     <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> by applying Highest Random Weight Algorithm for DF
     election in order to avoid DF status change unnecessarily upon a link
     or node failure associated with the multihomed Ethernet Segment.
     This draft makes further improvement to DF election procedures in
     <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> by providing an option for a fast DF election upon
     recovery of the failed link or node associated with the multihomed
     Ethernet Segment. This DF election is achieved independent of number
     of EVIs associated with that Ethernet Segment and it is performed via
     a simple signaling between the recovered PE and each of the other PEs
     in the multihomed group.
     The solution is based on simple one-way signaling mechanism.<a href="#section-1-2" class="pilcrow">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-1.1-1">
          <dt id="section-1.1-1.1">Provider Edge (PE):</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-1.2">A device that sits in the boundary of Provider
           and Customer networks and performs encap/decap of data from L2 to L3
           and vice-versa.<a href="#section-1.1-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.3">Designated Forwarder (DF):</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-1.4">A PE that is currently forwarding
           (encapsulating/decapsulating) traffic for a given VLAN in and out of
           a site.<a href="#section-1.1-1.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="challenges">
<section id="section-2">
      <h2 id="name-challenges-with-existing-so">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-challenges-with-existing-so" class="section-name selfRef">Challenges with Existing Solution</a>
      </h2>
<p id="section-2-1">In EVPN technology, multiple PE devices have the ability to encap and
        decap data belonging to the same VLAN. In certain situations, this
        may cause L2 duplicates and even loops if there is a momentary
        overlap of forwarding roles between two or more PE devices, leading
        to broadcast storms.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">EVPN <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> currently uses timer based synchronization among PE
        devices in redundancy group that can result in duplications (and even
        loops) because of multiple DFs if the timer is too short or
        blackholing if the timer is too long.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Using split-horizon filtering (<span><a href="https://rfc-editor.org/rfc/rfc7432#section-8.3" class="relref">Section 8.3</a> of [<a href="#RFC7432" class="xref">RFC7432</a>]</span>)

        can prevent loops (but not duplicates), however if there are overlapping DFs in two
        different sites at the same time for the same VLAN, the site
        identifier will be different upon re-entry of the packet and hence
        the split-horizon check will fail, leading to L2 loops.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">The updated DF procedures in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> use the well known
        HRW (Highest Random Weight) algorithm to avoid reshuffling of VLANs among
        PE devices in the redundancy group upon failure/⁠recovery. This
        reduces the impact to VLANs not assigned to the failed/⁠recovered ports
        and eliminates loops or duplicates at failure/⁠recovery events.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">However, upon PE insertion or port bring-up (recovery event), HRW also
        cannot help as a transfer of DF role to the newly inserted device/port must occur
        while the old DF is still active.<a href="#section-2-5" class="pilcrow">¶</a></p>
<span id="name-ce1-multihomed-to-pe1-and-p"></span><div id="topology">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-6.1">
<pre>
                                  +---------+
               +-------------+    |         |
               |             |    |         |
             / |    PE1      |----|         |   +-------------+
            /  |             |    |  MPLS/  |   |             |---CE3
           /   +-------------+    |  VxLAN/ |   |     PE3     |
      CE1 -                       |  Cloud  |   |             |
           \   +-------------+    |         |---|             |
            \  |             |    |         |   +-------------+
             \ |     PE2     |----|         |
               |             |    |         |
               +-------------+    |         |
                                  +---------+

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-ce1-multihomed-to-pe1-and-p" class="selfRef">CE1 multihomed to PE1 and PE2.</a>
        </figcaption></figure>
</div>
<p id="section-2-7">In the Figure 1, when PE2 is inserted or booted up, PE1 will transfer
        DF role of some VLANs to PE2 to achieve load balancing. However,
        because there is no handshake mechanism between PE1 and PE2,
        duplication of DF roles for a given VLAN is possible. Duplication of
        DF roles may eventually lead to duplication of
        traffic as well as L2 loops.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">Current EVPN specification <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> and <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>
        relies on a timer-based approach for transferring the DF role to the newly inserted device.
        This can cause the following issues:<a href="#section-2-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-9.1">Loops/Duplicates if the timer value is too short<a href="#section-2-9.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-9.2">Prolonged Traffic Blackholing if the timer value is too long<a href="#section-2-9.2" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="sync">
<section id="section-3">
      <h2 id="name-df-election-synchronization">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-df-election-synchronization" class="section-name selfRef">DF Election Synchronization Solution</a>
      </h2>
<p id="section-3-1">The solution relies on the concept of common clock alignment between partner PEs participating
      to a common Ethernet Segment. The main idea is to have all peering PEs of that
      Ethernet Segment perform DF election, and apply their resulting carving state,
      at a same well-known time.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">The DF Election procedure, as described in <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> and as optionally
      signalled in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>, is applied.
      All PEs attached to a given Ethernet Segment are clock-synchronized;
      using a networking protocol for clock synchronization (e.g. NTP, PTP, etc.).
      Newly inserted device PE or during failure recovery of a PE, that PE
      communicates the current time to peering partners plus the remaining
      peering timer time left. This constitutes an "end time" or "absolute time" as seen from
      local PE. That absolute time is called "Service Carving Time" (SCT).<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">A new BGP Extended Community is advertised along with Ethernet Segment route (RT-4) to
      communicate to other partners the Service Carving Time.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">Upon reception of that new BGP Extended Community, partner PEs know
      exactly its carving time. The notion of skew is introduced to
      eliminate any potential duplicate traffic or loops. They add a skew
      (default = -10ms) to the Service Carving Time to enforce this.
      The previously inserted PE(s) must carve first, followed shortly(skew) by
      the newly insterted PE.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">To summarize, all peering PEs carve almost simultaneously at the time
      announced by newly added/recovered PE. The newly inserted PE initiates the SCT,
      and carves immediately on peering timer expiry.
      The previously inserted PE(s) receiving Ethernet Segment route (RT-4) with a SCT BGP extended community,
      carve shortly before Service Carving Time.<a href="#section-3-5" class="pilcrow">¶</a></p>
<div id="advantages">
<section id="section-3.1">
        <h3 id="name-advantages">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-advantages" class="section-name selfRef">Advantages</a>
        </h3>
<p id="section-3.1-1">There are multiples advantages of using the approach. Here is a non-
        exhaustive list:<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-2.1">A simple uni-directional signaling is all that is needed<a href="#section-3.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-2.2">Backwards-compatible: PEs supporting only older
          <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> shall simply discard unrecognized new "Service
          Carving Timestamp" BGP Extended Community<a href="#section-3.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-2.3">
            <p id="section-3.1-2.3.1">Multiple DF Election algorithms can be supported:<a href="#section-3.1-2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-2.3.2.1">
                <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> default ordered list ordinal algorithm (Modulo),<a href="#section-3.1-2.3.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.1-2.3.2.2">
                <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span> highest-random weight, etc.<a href="#section-3.1-2.3.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-3.1-2.4">Independent of BGP transmission delay regarding Ethernet Segment route (RT-4)<a href="#section-3.1-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-2.5">Agnostic of the time synchronization mechanism used (e.g. NTP, PTP, etc.)<a href="#section-3.1-2.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="ntpencoding">
<section id="section-3.2">
        <h3 id="name-bgp-encoding">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-bgp-encoding" class="section-name selfRef">BGP Encoding</a>
        </h3>
<p id="section-3.2-1">A new BGP extended community needs to be defined to communicate the
        Service Carving Timestamp for each Ethernet Segment.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">A new transitive extended community where the Type field is 0x06, and
        the Sub-Type is 0x0F is advertised along with Ethernet
        Segment route. The expected Service Carving Time is encoded as a
        8-octet value as follows:<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.2-3">
<pre>
                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Type = 0x06   | Sub-Type(0x0F)|      Timestamp Seconds        ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~  Timestamp Seconds            | Timestamp Fractional Seconds  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-3.2-3" class="pilcrow">¶</a>
</div>
<p id="section-3.2-4"> 
        The timestamp exchanged uses the NTP epoch of January 1, 1900  <span>[<a href="#RFC5905" class="xref">RFC5905</a>]</span>.
     The 64-bit timestamp of the NTP protocol consists of a 32-bit part for seconds and a 32-bit
        part for fractional second:<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-5.1">Timestamp Seconds: 32-bit NTP seconds are encoded in this field.<a href="#section-3.2-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-5.2">Timestamp Fractional Seconds: 16 bits of the NTP fractional seconds are encoded in this
        field. The use of a 16-bit fractional seconds yields adequate precision of 15 microseconds
        (2^-16 s).<a href="#section-3.2-5.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-6">This document introduces a new flag called "T" (for Time
        Synchronization) to the bitmap field of the DF Election Extended
        Community defined in <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.2-7">
<pre>
                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Type = 0x06   | Sub-Type(0x06)| RSV |  DF Alg | |A| |T|       ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~     Bitmap    |            Reserved = 0                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-3.2-7" class="pilcrow">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-3.2-8.1">Bit 3: Time Synchronization (corresponds to Bit 27 of the DF Election Extended
         Community). When set
        to 1, it indicates the desire to use Time Synchronization capability
        with the rest of the PEs in the Ethernet Segment.<a href="#section-3.2-8.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-9">
        This capability is used in
        conjunction with the agreed upon DF Type (DF Election Type). For
        example if all the PEs in the Ethernet Segment indicated that they have Time
        Synchronization capability and they want the DF type to be HRW, then
        HRW algorithm is used in conjunction with this capability.<a href="#section-3.2-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example">
<section id="section-3.3">
        <h3 id="name-synchronization-scenarios">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-synchronization-scenarios" class="section-name selfRef">Synchronization Scenarios</a>
        </h3>
<p id="section-3.3-1">Let's take Figure 1 as an example where initially PE2 had failed and
        PE1 had taken over. This example shows the problem with the DF-Election mechanism in <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">Based on <span><a href="https://rfc-editor.org/rfc/rfc7432#section-8.5" class="relref">Section 8.5</a> of [<a href="#RFC7432" class="xref">RFC7432</a>]</span>, using the default 3 second peering timer:<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.3-3">
          <li id="section-3.3-3.1">Initial state: PE1 is in steady-state, PE2 is recovering<a href="#section-3.3-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-3.2">PE2 recovers at (absolute) time t=99<a href="#section-3.3-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-3.3">PE2 advertises RT-4 (sent at t=100) to partner PE1<a href="#section-3.3-3.3" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-3.4">PE2 starts a 3 second peering timer<a href="#section-3.3-3.4" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-3.5">PE1 carves immediately on RT-4 reception, i.e. t=100 + minimal BGP
          propagation delay<a href="#section-3.3-3.5" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-3.6">PE2 carves at time t=103<a href="#section-3.3-3.6" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-3.3-4"><span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> aims of favouring traffic black hole over duplicate traffic.
     With above procedure, traffic black holing will occur as part of each PE recovery sequence
        since PE1 has transitioned some VLANs to Non-Designated-Forwarder (NDF) immediately upon
        reception.<br>
        The peering timer value (default = 3 seconds) has a direct effect on the duration of the blackholing.
        A shorter (esp. zero) peering timer may, however, result in duplicate traffic or traffic loops.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5">Based on the Service Carving Time (SCT) approach:<a href="#section-3.3-5" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.3-6">
          <li id="section-3.3-6.1">Initial state: PE1 is in steady-state, PE2 is recovering<a href="#section-3.3-6.1" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-6.2">PE2 recovers at (absolute) time t=99<a href="#section-3.3-6.2" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-6.3">PE2 advertises RT-4 (sent at t=100) with target SCT value t=103 to
          partner PE1<a href="#section-3.3-6.3" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-6.4">PE2 starts 3 second peering timer<a href="#section-3.3-6.4" class="pilcrow">¶</a>
</li>
          <li id="section-3.3-6.5">Both PE1 and PE2 carve at (absolute) time t=103<a href="#section-3.3-6.5" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-3.3-7">
        In fact, PE1 should carve slightly before PE2 (skew). The previously inserted PE2 that is recovering
     performs both transitions DF to NDF and NDF to DF per VLANs at the peering timer expiry.
     Since the goal is to prevent duplicates, the original PE1, which received the SCT will apply:<a href="#section-3.3-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-8.1">DF to NDF transition at t=SCT minus skew where both PEs are NDF for 'skew' amount of time<a href="#section-3.3-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-8.2">NDF to DF transition at t=SCT<a href="#section-3.3-8.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-9">
   It is this split-behaviour which ensures good transition of DF role with contained amount of loss.<a href="#section-3.3-9" class="pilcrow">¶</a></p>
<p id="section-3.3-10">Using SCT approach, the negative effect of the peering timer is mitigated.
        Furthermore, the BGP Ethernet Segment route (RT-4) transmission delay (from PE2 to PE1)
        becomes a non-issue.
 The use of SCT approach remedies the problem associated with the peering timer: the 3 second
    timer window is shortened to the order of milliseconds.<a href="#section-3.3-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ntpcompat">
<section id="section-3.4">
        <h3 id="name-backwards-compatibility">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-backwards-compatibility" class="section-name selfRef">Backwards Compatibility</a>
        </h3>
<p id="section-3.4-1">Per redundancy group, for the DF election procedures to be globally
          convergent and unanimous, it is necessary that all the participating
          PEs agree on the DF Election algorithm to be used. It is, however,
          possible that some PEs continue to use the existing modulo-based DF
          election and do not rely on the new SCT BGP extended community. PEs
          running a baseline DF election mechanism will simply discard
          the new SCT BGP extended community as unrecognized.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">A PE can indicate its willingness to support clock-synched carving by
          signaling the new 'T' DF Election Capability as well as including the new
          Service Carving Time BGP extended community along with the
          Ethernet Segment Route (Type-4).
          In the case where one or more PEs attached to the Ethernet Segment do not signal T=1,
          all PEs in the Ethernet Segment SHALL revert back to the <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> timer
          approach. This is especially important in the context of the VLAN shuffling with more than
          2 PEs.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-4">
      <h2 id="name-security-considerations-5">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-security-considerations-5" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-4-1">The mechanisms in this document use EVPN control plane as defined in
        <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>. Security considerations described in
        <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> are equally applicable. This document uses MPLS
        and IP-based tunnel technologies to support data plane transport.
        Security considerations described in <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> and in 
        <span>[<a href="#RFC8365" class="xref">RFC8365</a>]</span> are equally applicable.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations-5">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations-5" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document solicits the allocation of the following sub-type in the
        "EVPN Extended Community Sub-Types" registry setup by <span>[<a href="#RFC7153" class="xref">RFC7153</a>]</span>:<a href="#section-5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-2">
<pre>
      0x0F     Service Carving Timestamp    This document
</pre><a href="#section-5-2" class="pilcrow">¶</a>
</div>
<p id="section-5-3">This document solicits the allocation of the following values in the
        "DF Election Capabilities" registry setup by <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>:<a href="#section-5-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-4">
<pre>
      Bit         Name                             Reference
      ----        ----------------                 -------------
      3           Time Synchronization             This document
</pre><a href="#section-5-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-6">
      <h2 id="name-normative-references-4">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-normative-references-4" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5905">[RFC5905]</dt>
      <dd>
<span class="refAuthor">Mills, D.</span>, <span class="refAuthor">Martin, J., Ed.</span>, <span class="refAuthor">Burbank, J.</span>, and <span class="refAuthor">W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7153">[RFC7153]</dt>
      <dd>
<span class="refAuthor">Rosen, E.</span> and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"IANA Registries for BGP Extended Communities"</span>, <span class="seriesInfo">RFC 7153</span>, <span class="seriesInfo">DOI 10.17487/RFC7153</span>, <time datetime="2014-03" class="refDate">March 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7153">https://www.rfc-editor.org/info/rfc7153</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7432">[RFC7432]</dt>
      <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Isaac, A.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="seriesInfo">RFC 7432</span>, <span class="seriesInfo">DOI 10.17487/RFC7432</span>, <time datetime="2015-02" class="refDate">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7432">https://www.rfc-editor.org/info/rfc7432</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8365">[RFC8365]</dt>
      <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Drake, J., Ed.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Shekhar, R.</span>, <span class="refAuthor">Uttaro, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"A Network Virtualization Overlay Solution Using Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 8365</span>, <span class="seriesInfo">DOI 10.17487/RFC8365</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8365">https://www.rfc-editor.org/info/rfc8365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8584">[RFC8584]</dt>
    <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Mohanty, S., Ed.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Nagaraj, K.</span>, and <span class="refAuthor">S. Sathappan</span>, <span class="refTitle">"Framework for Ethernet VPN Designated Forwarder Election Extensibility"</span>, <span class="seriesInfo">RFC 8584</span>, <span class="seriesInfo">DOI 10.17487/RFC8584</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8584">https://www.rfc-editor.org/info/rfc8584</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="contributors">
<section id="appendix-A">
      <h2 id="name-contributors-3">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-contributors-3" class="section-name selfRef">Contributors</a>
      </h2>
<p id="appendix-A-1">In addition to the authors listed on the front page, the following co-authors
    have also contributed substantially to this document:<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">Gaurav Badoni<br>Cisco<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">Email: gbadoni@cisco.com<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<p id="appendix-A-4">Dhananjaya Rao<br>Cisco<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<p id="appendix-A-5">Email: dhrao@cisco.com<a href="#appendix-A-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgements">
<section id="appendix-B">
      <h2 id="name-acknowledgements-3">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-acknowledgements-3" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">Authors would like to acknowledge helpful comments
        and contributions of Satya Mohanty and Bharath Vasudevan.
        Also thank you to Anoop Ghanwani for his thorough review with valuable comments and
        corrections.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses-4">
<a href="#name-authors-addresses-4" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Patrice Brissette (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:pbrisset@cisco.com" class="email">pbrisset@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ali Sajassi</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:sajassi@cisco.com" class="email">sajassi@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Luc Andre Burdet</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lburdet@cisco.com" class="email">lburdet@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">John Drake</span></div>
<div dir="auto" class="left"><span class="org">Juniper</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jdrake@juniper.net" class="email">jdrake@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jorge Rabadan</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jorge.rabadan@nokia.com" class="email">jorge.rabadan@nokia.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
