Internet Engineering Task Force                               C. Chen
Internet Draft                                               Ericsson
Intended status: Standards Track                               A. Pan
Expires: June 2018                                           Ericsson
                                                      December 28, 2017



             Yang Data Model for Cloud Native 5G Core structure
            draft-chin-nfvrg-cloud-5g-core-structure-yang-00.txt




Abstract

   In 5G core network, all network functions are componentized,
virtualized and grouped into VNF. Network management system will manage
the functions based on VNF. This document presents YANG model proposal
on overall structure of cloud native 5G core network. The structure is
itself represented as an example YANG model, with all of the related
component models logically organized in a way that is operationally
intuitive, but this model is not expected to be implemented.  The
identified component modules are expected to be defined and
implemented.



Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html



Chen                   Expires June 28, 2018                 [Page 1]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


   This Internet-Draft will expire on February 28, 2009.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document. Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Table of Contents


   1. Introduction ................................................ 2
      1.1. Terminology ............................................ 2
      1.2. Tree Diagrams .......................................... 3
      1.3. Definition of terms                                   ..................................... 4
   2. Overview .................................................... 4
      2.1. Background ............................................. 4
      2.2. Management Structure                                    .................................... 5
      2.3. Model Proposal ......................................... 7
   3. YANG Module ................................................. 8
   4. Security Considerations                                  ..................................... 13
   5. IANA Considerations ........................................ 14
   6. Normative References........................................ 14

1. Introduction

      In Cloud native 5G core network, the control and user plane
   functionalities are separated into NFs. Some NFs can be grouped in
   one VNF. From the NBI's view, network management system will manage
   the network based on VNF. This document will define the YANG of 5G
   core network management top-level structure.

1.1. Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and


Chen                   Expires June 28, 2018                 [Page 2]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119].

   The following terms are used within this document:

   The following terms are defined in [RFC6241] and are not redefined
   here:

   o  client

   o  configuration data

   o  server

   o  state data

   The following terms are defined in [RFC6020] and are not redefined
   here:

   o  augment

   o  data model

   o  data node

   o  presence container

1.2. Tree Diagrams

   A simplified graphical representation of the data model is used in
   this document.  The meaning of the symbols in these diagrams is as
   follows:

   o  Brackets "[" and "]" enclose list keys.

   o  Abbreviations before data node names: "rw" means configuration
   (read-write), and "ro" means state data (read-only).

   o  Symbols after data node names: "?" means an optional node, "!"
   means a presence container, and "*" denotes a list and leaf-list.

   o  Parentheses enclose choice and case nodes, and case nodes are also
   marked with a colon (":").

   o  Ellipsis ("...") stands for contents of subtrees that are not
   shown.



Chen                   Expires June 28, 2018                 [Page 3]

Internet-Draft    5G Core Structure Yang Data Model       December 2017




1.3. Definition of terms

   CP: Control Plane

   UP: User Plane

   NSSF: Network Slice Selection Function

   AUSF: Authentication Server Function

   AMF: Core Access and Mobility Management Function

   DN: Data network

   SDSF: Structured Data Storage network function

   UDSF: Unstructured Data Storage network function

   NEF: Network Exposure Function

   NRF: NF Repository Function

   PCF: Policy Control function

   SMF: Session Management Function

   UDM: Unified Data Management

   UPF: User plane Function

   AF: Application Function

   UE: User Equipment

   (R)AN: (Radio) Access Network

2. Overview

2.1. Background

   Currently, 3GPP defined the three key technologies on infrastructure
   of 5G.

   1) CUPS: CP/UP Separation



Chen                   Expires June 28, 2018                 [Page 4]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


   2) SBA: Service Based Architecture

   3) Slicing

      5G Core CP/UP functions are componentized into NFs, including
      NSSF, NEF, NRF, PCF, UDM, AUSF, AMF, SMF and UPF. The above
      components are required to be stateless and able to communicate
      with network based API. Furthermore, the NFs should be virtualized
      to be decouple to any hardware. Consequently, CP/UP function
      components can be flexibly deployed in native cloud environment.
      Figure 1 presents the overall 5G network view.

   +------------------------------------------------------+
   |                                                      |
   | +--------------------------------------------------+ |
   | |                                                  | |
   | | +------+  +------+  +------+  +------+  +------+ | | +------+
   | | | NSSF |  |  NEF |  |  NRF |  |  PCF |  |  UDM | | | |  AF  |
   | | +---+--+  +---+--+  +---+--+  +---+--+  +---+--+ | | +---+--+
   | |     |         |         |         |         |    | |     |
   | |-----+-----+---+---------+---+-----+-----+---+----+-+-----+
   | |           |                 |           |        | |
   | |      +----+----+       +----+----+  +---+------+ | |
   | |      |   AUSF  |     + +   AMF   |  |   SMF    | | |
   | |      +---------+    /  +-----+---+  +-----+----+ | |
   | |5G Core CP NF       /         |            |      | |
   | +-------------------/----------+------------+------+ |
   |                    /           |            |        |
   |                   /            |      +-----+----+   |
   |                  /             |      |   UPF    +---+-+
   |                 /              |      +-----+----+   | |
   | 5G Core NF     /               |            |        | |
   +---------------/----------------+------------+--------+ |
                  /                 |            |          |
             +---+---+        +-----+--+         | +--------+-------+
             |   UE  +--------+ (R)AN  +---------+ |  Data Network  |
             +-------+        +--------+           +----------------+

      Figure 1: 5G Network View


2.2. Management Structure

   ETSI defines the NFV architectural framework as Figure 2. Network
   management system(EMS as below) manages the network based on VNF.
   Each VNF has an NBI to communicate with EMS.
       +-----------------------------------------------------------+


Chen                   Expires June 28, 2018                 [Page 5]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


       |                          OSS/BSS                          |
       +-----------------------------+-----------------------------+
                                     |
       +-----------------------------+-----------------------------+
       | VNF                                                       |
       |   +-------------+   +-------------+   +---------------+   |
       |   |    EMS 1    |   |    EMS 2    |   |    EMS 3      |   |
       |   +------+------+   +------+------+   +-------+-------+   |
       |          |                 |                  |           |
       |   +------+------+   +------+------+   +-------+-------+   |
       |   |    VNF 1    |   |    VNF 2    |   |    VNF 3      |   |
       |   +------+------+   +------+------+   +-------+-------+   |
       +----------+-----------------+------------------+-----------+
                  |                 |                  |
       +----------+-----------------+------------------+-----------+
       | VNFI                                                      |
       |  +-----------------------------------------------------+  |
       |  | +-------------+   +-------------+   +-------------+ |  |
       |  | |   Virtual   |   |   Virtual   |   |   Virtual   | |  |
       |  | |   Compute   |   |   Storage   |   |   Network   | |  |
       |  | +-------------+   +-------------+   +-------------+ |  |
       |  |              Virtualization Layer                   |  |
       |  +-------------------------+---------------------------+  |
       |                            |                              |
       |  +-------------------------+---------------------------+  |
       |  | Hardware Resources                                  |  |
       |  | +-------------+   +-------------+   +-------------+ |  |
       |  | |   Compute   |   |   Storage   |   |   Network   | |  |
       |  | |   Hardware  |   |   Hardware  |   |   Hardware  | |  |
       |  | +-------------+   +-------------+   +-------------+ |  |
       |  +-----------------------------------------------------+  |
       +-----------------------------------------------------------+
   Figure 2: NFV Architectural Framework

   In 5G core network, NFs will be grouped into VNF as Figure 3 and
   Figure 4. Moreover, the packaging and definition of VNF is flexible
      1) AMF could be a VNF
      2) AMF and SMF + SAPC could be a VNF
      3) SMF + 3PP extended IP allocator could be a VNF
      4) SMF + UPF could be a VNF
      5) Any NFs could be grouped in one VNF
      6) ...


                            NBI                     NBI
                            | |                     | |
                 ,''''''''''|'|'''''''''''''''''''''|'|'''''''''`.


Chen                   Expires June 28, 2018                 [Page 6]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


                 |          | |                     | |          |
                 | .....................   ..................... |
                 | :  Virtual Network  :   :  Virtual Network  : |
                 | :     Function      :   :      Function     : |
                 | :+-----+-----+-----+:   :+-----+-----+-----+: |
                 | :| Net | Net | Net |:   :| Net | Net | Net |: |
                 | :|Func.|Func.|Func.|:   :|Func.|Func.|Func.|: |
                 | :+-----+-----+-----+:   :+-----+-----+-----+: |
                 | :                   :   :                   : |
                 | :...................:   :...................: |
                 |                                               |
                 |                5G Core Network                |
                  `'''''''''''''''''''''''''''''''''''''''''''''''
   Figure 3: NF and VNF Relationships

       +--------------------------------------------------------------+
       |+----------+ +---+ +----------+ +------++------++-----------+ |
       ||    UPD   | |AMF| |    SMF   | | NSSF || NEF  ||    NRF    | |
       |+----------+ +---+ +----------+ +------++------++-----------+ |
       |                                                              |
       |                              ...                             |
       |                                                              |
       |                              VNF                             |
       +--------------------------------------------------------------+

   Figure 4: 5G core NF and VNF Relationships



2.3. Model Proposal

      The overall structure is:

          module: example-5g-core-network
             +--rw modules-state            [RFC7895]
             |
             +--rw interfaces               [RFC7223]
             +--rw hardware
             +--rw system-management        [RFC7317 or derived]
             |
             ...   [Here, define the generic protocols for NFs]
             |
             +--rw nssf
             +--rw nef
             +--rw nrf
             +--rw pcf
             +--rw udm


Chen                   Expires June 28, 2018                 [Page 7]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


             +--rw ausf
             +--rw amf
             +--rw smf
             +--rw upf
             |
             +--rw virtual-network-functions
                +--rw virtual-network-function [name]
                   |
                   +--rw name
                   +--rw enable
                   +--rw description
                   +--rw network-functions
                      +--rw network-function [name]
                         |
                         +--rw name
                         +--rw enable
                         +--rw description
                         +--rw type
                         |  +--:(upf)
                         |
                         +--rw (nf-root)
                            +--:(upf-root)
                               +--mp upf-root



3. YANG Module

   <CODE BEGINS> file "example-5g-core-network.yang"
   module example-5g-core-network {

      yang-version "1.1";

     /*** NAMESPACE / PREFIX DEFINITION ***/
      namespace "urn:example:5g-core-network";
      prefix "core-net";

     /*** LINKAGE (IMPORTS / INCLUDES) ***/
      import ietf-yang-schema-mount {
        prefix yangmnt;
        reference "draft-ietf-netmod-schema-mount: YANG Schema Mount";
      }

     /*** META INFORMATION ***/
      organization
           "Ericsson (China) Communications Company Ltd.
            Ericsson Tower, No. 5 Lize East Street,


Chen                   Expires June 28, 2018                 [Page 8]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


            Chaoyang District Beijing 100102, P.R. China";

      contact
           "Editor:   Chin Chen
                      <mailto:chin.chen@ericsson.com>";

      description
           "This YANG module provide the example on 5G core network
   structure.";

      revision 2017-12-28 {
        description
          "Initial revision.";
        reference
             "RFC XXXX: A YANG Data Model for 5G Core Network
   Structure.";
      }

      /*** TYPE DEFINITIONS ***/

      identity network-function-type {
          description
              "Base identity for derivation of network functions";
      }

      identity nssf  {
         base network-function-type;
         description
            "Network Slice Selection Function";
         reference
            "";
      }

      identity nef  {
         base network-function-type;
         description
            "Network Exposure Function";
         reference
            "";
      }

      identity nrf  {
         base network-function-type;
         description
            "NF Repository Function";
         reference
            "";


Chen                   Expires June 28, 2018                 [Page 9]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


      }

      identity pcf  {
         base network-function-type;
         description
            "Policy Control function";
         reference
            "";
      }

      identity udm  {
         base network-function-type;
         description
            "Unified Data Management";
         reference
            "";
      }

      identity ausf  {
         base network-function-type;
         description
            "Authentication Server Function";
         reference
            "";
      }

      identity amf  {
         base network-function-type;
         description
            "Core Access and Mobility Management Function";
         reference
            "";
      }

      identity smf  {
         base network-function-type;
         description
            "Session Management Function";
         reference
            "";
      }

      identity upf  {
         base network-function-type;
         description
            "User Plane Function";
         reference


Chen                   Expires June 28, 2018                [Page 10]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


            "";
      }

     /*** SCHEMA DEFINITIONS ***/
      container ietf-yang-library {
        description
          "YANG Module Library as defined in
           draft-ietf-netconf-yang-library";
      }

      container interfaces {
        description
         "Interface list as defined by RFC7223/RFC7224";
      }

      container hardware {
        description
          "Hardware / vendor-specific data relevant to the platform.
          This container is an anchor point for platform-specific
          configuration and operational state data.  It may be further
          organized into chassis, line cards, ports, etc.  It is
          expected that vendor or platform-specific augmentations
          would be used to populate this part of the device model";
      }

      container system-management {
          description
            "System management for physical or virtual device.";
      }

      container virtual-network-functions {
         description
            "Container for list of configured virtual network
              functions.";
         list virtual-network-function {
            key "name";
            description
               "Lisf for instance of virtual network function";

            leaf name {
               type string;
               description
                  "The virtual network function name.";
            }

            leaf enable {
               type boolean;


Chen                   Expires June 28, 2018                [Page 11]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


               description
                  "Enable the virtual network fucntion.";
            }

            leaf description {
               type string;
               description
                  "Describe the virtual network fucntion.";
            }

            container network-functions {
               description
                  "Container for list of configured network
                    functions.";
               list network-function {
                  key "name";
                  description
                      "Lisf for instance of network function";

                  leaf name {
                      type string;
                      description
                          "The network function name.";
                  }

                  leaf type {
                      type identityref {
                          base network-function-type;
                      }
                      mandatory true;
                      description
                          "The network function type  e.g., UPF, SMF,
   AMF etc.";
                  }

                  leaf enable {
                      type boolean;
                      description
                          "Enable the network fucntion.";
                  }

                  leaf description {
                      type string;
                      description
                          "Describe the network fucntion.";
                  }



Chen                   Expires June 28, 2018                [Page 12]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


                  choice root {
                     description
                       "Well known mount points.";
                     case upf-root {
                        description
                          "Container for mount point.";
                        yangmnt:mount-point "upf-root" {
                          description
                            "Root models that support network function
   UPF.";
                        }
                     }
                     case amf-root {
                        description
                          "Container for mount point.";
                        yangmnt:mount-point "amf-root" {
                          description
                            "Root models that support network function
   AMF.";
                        }
                     }
                     case smf-root {
                        description
                          "Container for mount point.";
                        yangmnt:mount-point "smf-root" {
                           description
                            "Root models that support network function
   SMF.";
                        }
                     }
                  }
               }
            }
         }
      }
   }
   <CODE ENDS>


4. Security Considerations

   The data model defined does not create any security implications.







Chen                   Expires June 28, 2018                [Page 13]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


5. IANA Considerations

   This draft does not request any IANA action.



6. Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.

   [Network Functions Virtualisation White Paper] ETSI. link:
             http://portal.etsi.org/NFV/NFV_White_Paper2.pdf

   [I-D.ietf-rtgwg-device-model] A. Lindem, Ed., L. Berger, Ed., D.
             Bogdanovic, C. Hopps, "Network Device YANG Logical
             Organization", draft-ietf-rtgwg-device-model-02 (work in
             progress), March 2017.

   [I-D.ietf-rtgwg-lne-model] Berger, L., Hopps, C., Lindem, A., and D.
             Bogdanovic, "YANG Logical Network Elements", draft-ietf-
             rtgwg-lne-model-01 (work in progress), October 2016.

   [I-D.ietf-rtgwg-ni-model] Berger, L., Hopps, C., Lindem, A., and D.
             Bogdanovic, "YANG Network Instances", draft-ietf-rtgwg-ni-
             model-01 (work in progress), October 2016.

   [RFC6020] Bjorklund, M., Ed., "YANG - A Data Modeling Language for
             the Network Configuration Protocol (NETCONF)", RFC 6020,
             DOI 10.17487/RFC6020, October 2010, <http://www.rfc-
             editor.org/info/rfc6020>.

   [RFC6021] Schoenwaelder, J., Ed., "Common YANG Data Types", RFC 6021,
             DOI 10.17487/RFC6021, October 2010, <http://www.rfc-
             editor.org/info/rfc6021>.

   [RFC7317]  Bierman, A. and M. Bjorklund, "A YANG Data Model for
             System Management", RFC 7317, DOI 10.17487/RFC7317, August
             2014, <http://www.rfc-editor.org/info/rfc7317>.

   Authors' Addresses








Chen                   Expires June 28, 2018                [Page 14]

Internet-Draft    5G Core Structure Yang Data Model       December 2017


   Chin Chen
   Ericsson (China) Communications Company Ltd.
   Ericsson Tower, No. 5 Lize East Street,
   Chaoyang District Beijing 100102, P.R. China

   Email: chin.chen@ericsson.com

   Adrian Pan
   Ericsson (China) Communications Company Ltd.
   Ericsson Tower, No. 5 Lize East Street,
   Chaoyang District Beijing 100102, P.R. China

   Email: adrian.pan@ericsson.com



































Chen                   Expires June 28, 2018                [Page 15]

