<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>ALTO Extension: Path Vector</title>
<meta content="Kai Gao" name="author">
<meta content="Young Lee" name="author">
<meta content="Sabine Randriamasy" name="author">
<meta content="Yang Richard Yang" name="author">
<meta content="Jingxuan Jensen Zhang" name="author">
<meta content="
       This document is an extension to the base Application-Layer Traffic Optimization
(ALTO) protocol. It extends the ALTO Cost Map service and ALTO Property Map
service so that the application can decide which endpoint(s) to connect based on
not only numerical/ordinal cost values but also details of the paths. This is
useful for applications whose performance is impacted by specified components of
a network on the end-to-end paths, e.g., they may infer that several paths share
common links and prevent traffic bottlenecks by avoiding such paths. This
extension introduces a new abstraction called Abstract Network Element (ANE) to
represent these components and encodes a network path as a vector of ANEs. Thus,
it provides a more complete but still abstract graph representation of the
underlying network(s) for informed traffic optimization among endpoints. 
    " name="description">
<meta content="xml2rfc 3.9.1" name="generator">
<meta content="draft-ietf-alto-path-vector-16" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.1
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 57.4.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-alto-path-vector-16-hf4zhf81.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">ALTO-PV</td>
<td class="right">August 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Gao, et al.</td>
<td class="center">Expires 26 February 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ALTO</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-alto-path-vector-16</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-08-25" class="published">25 August 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-02-26">26 February 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Gao</div>
<div class="org">Sichuan University</div>
</div>
<div class="author">
      <div class="author-name">Y. Lee</div>
<div class="org">Samsung</div>
</div>
<div class="author">
      <div class="author-name">S. Randriamasy</div>
<div class="org">Nokia Bell Labs</div>
</div>
<div class="author">
      <div class="author-name">Y.R. Yang</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">J. Zhang</div>
<div class="org">Tongji University</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">ALTO Extension: Path Vector</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document is an extension to the base Application-Layer Traffic Optimization
(ALTO) protocol. It extends the ALTO Cost Map service and ALTO Property Map
service so that the application can decide which endpoint(s) to connect based on
not only numerical/ordinal cost values but also details of the paths. This is
useful for applications whose performance is impacted by specified components of
a network on the end-to-end paths, e.g., they may infer that several paths share
common links and prevent traffic bottlenecks by avoiding such paths. This
extension introduces a new abstraction called Abstract Network Element (ANE) to
represent these components and encodes a network path as a vector of ANEs. Thus,
it provides a more complete but still abstract graph representation of the
underlying network(s) for informed traffic optimization among endpoints.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 26 February 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty ulBare">
<li class="compact toc ulEmpty ulBare" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-requirements-languages" class="xref">Requirements Languages</a></p>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-problem-statement" class="xref">Problem Statement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-design-requirements" class="xref">Design Requirements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-use-cases" class="xref">Use Cases</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-large-scale-data-analytics" class="xref">Large-scale Data Analytics</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-context-aware-data-transfer" class="xref">Context-aware Data Transfer</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-cdn-and-service-edge" class="xref">CDN and Service Edge</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-path-vector-extension-overv" class="xref">Path Vector Extension: Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-abstract-network-element" class="xref">Abstract Network Element</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="xref">5.1.1</a>.  <a href="#name-ane-domain" class="xref">ANE Domain</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="xref">5.1.2</a>.  <a href="#name-ephemeral-ane-and-persisten" class="xref">Ephemeral ANE and Persistent ANE</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="xref">5.1.3</a>.  <a href="#name-property-filtering" class="xref">Property Filtering</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-path-vector-cost-type" class="xref">Path Vector Cost Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-multipart-path-vector-respo" class="xref">Multipart Path Vector Response</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="xref">5.3.1</a>.  <a href="#name-identifying-the-media-type-" class="xref">Identifying the Media Type of the Root Object</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="xref">5.3.2</a>.  <a href="#name-references-to-part-messages" class="xref">References to Part Messages</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-specification-basic-data-ty" class="xref">Specification: Basic Data Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-ane-name" class="xref">ANE Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-ane-domain-2" class="xref">ANE Domain</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-entity-domain-type" class="xref">Entity Domain Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-domain-specific-entity-iden" class="xref">Domain-Specific Entity Identifier</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-hierarchy-and-inheritance" class="xref">Hierarchy and Inheritance</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="xref">6.2.4</a>.  <a href="#name-media-type-of-defining-reso" class="xref">Media Type of Defining Resource</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-ane-property-name" class="xref">ANE Property Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-initial-ane-property-types" class="xref">Initial ANE Property Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="xref">6.4.1</a>.  <a href="#name-new-ane-property-type-maxim" class="xref">New ANE Property Type: Maximum Reservable Bandwidth</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.2">
                    <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="xref">6.4.2</a>.  <a href="#name-new-ane-property-type-persi" class="xref">New ANE Property Type: Persistent Entity ID</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="xref">6.5</a>.  <a href="#name-path-vector-cost-type-2" class="xref">Path Vector Cost Type</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.1">
                    <p id="section-toc.1-1.6.2.5.2.1.1"><a href="#section-6.5.1" class="xref">6.5.1</a>.  <a href="#name-cost-metric-ane-path" class="xref">Cost Metric: ane-path</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.2">
                    <p id="section-toc.1-1.6.2.5.2.2.1"><a href="#section-6.5.2" class="xref">6.5.2</a>.  <a href="#name-cost-mode-array" class="xref">Cost Mode: array</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="xref">6.6</a>.  <a href="#name-part-resource-id" class="xref">Part Resource ID</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-specification-service-exten" class="xref">Specification: Service Extensions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-notations" class="xref">Notations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-multipart-filtered-cost-map" class="xref">Multipart Filtered Cost Map for Path Vector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-7.2.1" class="xref">7.2.1</a>.  <a href="#name-media-type" class="xref">Media Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a href="#section-7.2.2" class="xref">7.2.2</a>.  <a href="#name-http-method" class="xref">HTTP Method</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.3">
                    <p id="section-toc.1-1.7.2.2.2.3.1"><a href="#section-7.2.3" class="xref">7.2.3</a>.  <a href="#name-accept-input-parameters" class="xref">Accept Input Parameters</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.4">
                    <p id="section-toc.1-1.7.2.2.2.4.1"><a href="#section-7.2.4" class="xref">7.2.4</a>.  <a href="#name-capabilities" class="xref">Capabilities</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.5">
                    <p id="section-toc.1-1.7.2.2.2.5.1"><a href="#section-7.2.5" class="xref">7.2.5</a>.  <a href="#name-uses" class="xref">Uses</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.6">
                    <p id="section-toc.1-1.7.2.2.2.6.1"><a href="#section-7.2.6" class="xref">7.2.6</a>.  <a href="#name-response" class="xref">Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-multipart-endpoint-cost-ser" class="xref">Multipart Endpoint Cost Service for Path Vector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.1">
                    <p id="section-toc.1-1.7.2.3.2.1.1"><a href="#section-7.3.1" class="xref">7.3.1</a>.  <a href="#name-media-type-2" class="xref">Media Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.2">
                    <p id="section-toc.1-1.7.2.3.2.2.1"><a href="#section-7.3.2" class="xref">7.3.2</a>.  <a href="#name-http-method-2" class="xref">HTTP Method</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.3">
                    <p id="section-toc.1-1.7.2.3.2.3.1"><a href="#section-7.3.3" class="xref">7.3.3</a>.  <a href="#name-accept-input-parameters-2" class="xref">Accept Input Parameters</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.4">
                    <p id="section-toc.1-1.7.2.3.2.4.1"><a href="#section-7.3.4" class="xref">7.3.4</a>.  <a href="#name-capabilities-2" class="xref">Capabilities</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.5">
                    <p id="section-toc.1-1.7.2.3.2.5.1"><a href="#section-7.3.5" class="xref">7.3.5</a>.  <a href="#name-uses-2" class="xref">Uses</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.6">
                    <p id="section-toc.1-1.7.2.3.2.6.1"><a href="#section-7.3.6" class="xref">7.3.6</a>.  <a href="#name-response-2" class="xref">Response</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-examples" class="xref">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-example-information-resourc" class="xref">Example: Information Resource Directory</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-example-multipart-filtered-" class="xref">Example: Multipart Filtered Cost Map</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-example-multipart-endpoint-" class="xref">Example: Multipart Endpoint Cost Service Resource</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-example-incremental-updates" class="xref">Example: Incremental Updates</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a href="#section-8.5" class="xref">8.5</a>.  <a href="#name-example-multi-cost" class="xref">Example: Multi-cost</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-compatibility-with-other-al" class="xref">Compatibility with Other ALTO Extensions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-compatibility-with-legacy-a" class="xref">Compatibility with Legacy ALTO Clients/Servers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-compatibility-with-multi-co" class="xref">Compatibility with Multi-Cost Extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="xref">9.3</a>.  <a href="#name-compatibility-with-incremen" class="xref">Compatibility with Incremental Update</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="xref">9.4</a>.  <a href="#name-compatibility-with-cost-cal" class="xref">Compatibility with Cost Calendar</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-general-discussions" class="xref">General Discussions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-constraint-tests-for-genera" class="xref">Constraint Tests for General Cost Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-general-multi-resource-quer" class="xref">General Multi-Resource Query</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-alto-entity-domain-type-reg" class="xref">ALTO Entity Domain Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-alto-entity-property-type-r" class="xref">ALTO Entity Property Type Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-14.1" class="xref">14.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-14.2" class="xref">14.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-revision-logs" class="xref">Revision Logs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-changes-since-15" class="xref">Changes since -15</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-changes-since-14" class="xref">Changes since -14</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.3">
                <p id="section-toc.1-1.15.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-changes-since-13" class="xref">Changes since -13</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.4">
                <p id="section-toc.1-1.15.2.4.1"><a href="#appendix-A.4" class="xref">A.4</a>.  <a href="#name-changes-since-12" class="xref">Changes since -12</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.5">
                <p id="section-toc.1-1.15.2.5.1"><a href="#appendix-A.5" class="xref">A.5</a>.  <a href="#name-changes-since-11" class="xref">Changes since -11</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.6">
                <p id="section-toc.1-1.15.2.6.1"><a href="#appendix-A.6" class="xref">A.6</a>.  <a href="#name-changes-since-10" class="xref">Changes since -10</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.7">
                <p id="section-toc.1-1.15.2.7.1"><a href="#appendix-A.7" class="xref">A.7</a>.  <a href="#name-changes-since-09" class="xref">Changes since -09</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.8">
                <p id="section-toc.1-1.15.2.8.1"><a href="#appendix-A.8" class="xref">A.8</a>.  <a href="#name-changes-since-08" class="xref">Changes since -08</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.9">
                <p id="section-toc.1-1.15.2.9.1"><a href="#appendix-A.9" class="xref">A.9</a>.  <a href="#name-changes-since-version-06" class="xref">Changes Since Version -06</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty ulBare" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Network performance metrics are crucial to the Quality of Experience (QoE) of
today's applications. The ALTO protocol allows Internet Service Providers (ISPs)
to provide guidance, such as topological distance between different end
hosts, to overlay applications. Thus, the overlay applications can potentially
improve the QoE by better orchestrating their traffic to utilize the resources
in the underlying network infrastructure.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Existing ALTO Cost Map and Endpoint Cost Service provide only cost information
on an end-to-end path defined by its &lt;source, destination&gt; endpoints: The base
protocol <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> allows the services to expose the topological distances of
end-to-end paths, while various extensions have been proposed to extend the
capability of these services, e.g., to express other performance metrics
<span>[<a href="#I-D.ietf-alto-performance-metrics" class="xref">I-D.ietf-alto-performance-metrics</a>]</span>, to query multiple costs simultaneously
<span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span>, and to obtain the time-varying values
<span>[<a href="#RFC8896" class="xref">RFC8896</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">While the existing extensions are sufficient for many overlay applications,
the QoE of some overlay applications depends not only on the cost
information of end-to-end paths, but also on particular components of a network
on the paths and their properties. For example, job completion time, which is an
important QoE metric for a large-scale data analytics application, is impacted
by shared bottleneck links inside the carrier network as link capacity may
impact the rate of data input/output to the job. We refer to such components of
a network as Abstract Network Elements (ANE).<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Predicting such information can be very complex without the help of the ISP
<span>[<a href="#AAAI2019" class="xref">AAAI2019</a>]</span>. With proper guidance from the ISP, an overlay application may be
able to schedule its traffic for better QoE. In the meantime, it may be helpful
as well for ISPs if applications could avoid using bottlenecks or challenging
the network with poorly scheduled traffic.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">Despite the benefits, ISPs are not likely to expose details on their
network paths: first for the sake of confidentiality, second because it may
increase volume and computation overhead, and last because it is difficult for
ISPs to figure out what information and what details an application needs.
Likewise, applications do not necessarily need all the network path details and
are likely not able to understand them.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">Therefore, it is beneficial for both parties if an ALTO server provides ALTO
clients with an "abstract network state" that provides the necessary details to
applications, while hiding the network complexity and confidential information.
An "abstract network state" is a selected set of abstract representations of
Abstract Network Elements traversed by the paths between &lt;source, destination&gt;
pairs combined with properties of these Abstract Network Elements that are
relevant to the overlay applications' QoE. Both an application via its ALTO
client and the ISP via the ALTO server can achieve better confidentiality and
resource utilization by appropriately abstracting relevant Abstract Network
Elements. Server scalability can also be improved by combining Abstract Network
Elements and their properties in a single response.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">This document extends <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> to allow an ALTO server to convey "abstract
network state", for paths defined by their &lt;source, destination&gt; pairs. To this
end, it introduces a new cost type called "Path Vector". A Path Vector is an
array of identifiers that identifies an Abstract Network Element, which can
be associated with various properties. The associations between ANEs and their
properties are encoded in an ALTO information resource called Unified Property
Map, which is specified in <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">For better confidentiality, this document aims to minimize information exposure.
In particular, this document enables and recommends that first ANEs are
constructed on demand, and second an ANE is only associated with properties that
are requested by an ALTO client. A Path Vector response involves two ALTO Maps:
the Cost Map that contains the Path Vector results and the up-to-date Unified
Property Map that contains the properties requested for these ANEs. To enforce
consistency and improve server scalability, this document uses the
<code>multipart/related</code> message defined in <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span> to return the two maps in a
single response.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">The rest of the document is organized as follows. <a href="#term" class="xref">Section 3</a> introduces the extra
terminologies that are used in this document. <a href="#probstat" class="xref">Section 4</a> uses an illustrative
example to introduce the additional requirements of the ALTO framework, and
discusses potential use cases. <a href="#Overview" class="xref">Section 5</a> gives an overview of the protocol
design. <a href="#Basic" class="xref">Section 6</a> and <a href="#Services" class="xref">Section 7</a> specify the extension to the ALTO IRD and the
information resources, with some concrete examples presented in <a href="#Examples" class="xref">Section 8</a>.
<a href="#Compatibility" class="xref">Section 9</a> discusses the backward compatibility with the base protocol
and existing extensions. Security and IANA considerations are discussed in
<a href="#Security" class="xref">Section 11</a> and <a href="#IANA" class="xref">Section 12</a> respectively.<a href="#section-1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="requirements-languages">
<section id="section-2">
      <h2 id="name-requirements-languages">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-requirements-languages" class="section-name selfRef">Requirements Languages</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>
when, and only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">When the words appear in lower case, they are to be interpreted with their
natural language meanings.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="term">
<section id="section-3">
      <h2 id="name-terminology">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-3-1">NOTE: This document depends on the Unified Property Map extension
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span> and should be processed after the Unified
Property Map document.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">This document extends the ALTO base protocol <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> and the Unified
Property Map extension <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>. In addition to
the terms defined in these documents, this document also uses the following
additional terms:<a href="#section-3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-3.1">
          <p id="section-3-3.1.1">Abstract Network Element (ANE): An Abstract Network Element is an abstract
representation for a component in a network that handles data packets and whose
properties can potentially have an impact on the end-to-end performance of
traffic. An ANE can be a physical device such as a router, a link or an
interface, or an aggregation of devices such as a subnetwork, or a data
center.<a href="#section-3-3.1.1" class="pilcrow">¶</a></p>
<p id="section-3-3.1.2">
The definition of Abstract Network Element is similar to Network Element
defined in <span>[<a href="#RFC2216" class="xref">RFC2216</a>]</span> in the sense that they both provide an abstract
representation of particular components of a network. However, they have
different criteria on how these particular components are selected.
Specifically, Network Element requires the components to be capable of
exercising QoS control, while Abstract Network Element only requires the
components to have an impact on the end-to-end performance.<a href="#section-3-3.1.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-3.2">ANE Name: An ANE can be constructed either statically in advance or on demand
based on the requested information. Thus, different ANEs may only be valid
within a particular scope, either ephemeral or persistent. Within each scope,
an ANE is uniquely identified by an ANE Name, as defined in <a href="#ane-name-spec" class="xref">Section 6.1</a>.
Note that an ALTO client must not assume ANEs in different scopes but with
the same ANE Name refer to the same component(s) of the network.<a href="#section-3-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-3.3">Path Vector: A Path Vector, or an ANE Path Vector, is a JSON array of ANE
Names. It is a generalization of BGP path vector. While standard BGP path
vector specifies a sequence of autonomous systems for a destination IP prefix,
the Path Vector defined in this extension specifies a sequence of ANEs either
for a source PID and a destination PID as in the CostMapData (11.2.3.6 in
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>), or for a source endpoint and a destination endpoint as in the
EndpointCostMapData (11.5.1.6 in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>).<a href="#section-3-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-3.4">Path Vector resource: A Path Vector resource refers to an ALTO resource which
supports the extension defined in this document.<a href="#section-3-3.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-3.5">Path Vector cost type: The Path Vector cost type is a special cost type, which
is specified in <a href="#cost-type-spec" class="xref">Section 6.5</a>. When this cost type is present in an IRD
entry, it indicates that the information resource is a Path Vector resource.
When this cost type is present in a Filtered Cost Map request or an Endpoint
Cost Service request, it indicates each cost value must be interpreted as a
Path Vector.<a href="#section-3-3.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-3.6">Path Vector request: A Path Vector request refers to the POST message sent to
an ALTO Path Vector resource.<a href="#section-3-3.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-3.7">Path Vector response: A Path Vector response refers to the multipart/related
message returned by a Path Vector resource.<a href="#section-3-3.7" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="probstat">
<section id="section-4">
      <h2 id="name-problem-statement">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-problem-statement" class="section-name selfRef">Problem Statement</a>
      </h2>
<div id="design-requirements">
<section id="section-4.1">
        <h3 id="name-design-requirements">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-design-requirements" class="section-name selfRef">Design Requirements</a>
        </h3>
<p id="section-4.1-1">This section gives an illustrative example of how an overlay application can
benefit from the extension defined in this document.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Assume that an application has control over a set of flows, which may go through
shared links or switches and share bottlenecks. The application hopes to
schedule the traffic among multiple flows to get better performance. The
capacity region information for those flows will benefit the scheduling.
However, existing cost maps can not reveal such information.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">Specifically, consider a network as shown in <a href="#fig-dumbbell" class="xref">Figure 1</a>. The network has 7
switches (sw1 to sw7) forming a dumb-bell topology. Switches sw1/sw3 provide
access on one side, sw2/sw4 provide access on the other side, and sw5-sw7 form
the backbone. End hosts eh1 to eh4 are connected to access switches sw1 to sw4
respectively. Assume that the bandwidth of link eh1 -&gt; sw1 and link sw1 -&gt; sw5
is 150 Mbps, and the bandwidth of the other links is 100 Mbps.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<span id="name-raw-network-topology"></span><div id="fig-dumbbell">
<figure id="figure-1">
          <div id="section-4.1-4.1">
<pre class="sourcecode lang-drawing">
                              +-----+
                              |     |
                            --+ sw6 +--
                           /  |     |  \
     PID1 +-----+         /   +-----+   \          +-----+  PID2
     eh1__|     |_       /               \     ____|     |__eh2
192.0.2.2 | sw1 | \   +--|--+         +--|--+ /    | sw2 | 192.0.2.3
          +-----+  \  |     |         |     |/     +-----+
                    \_| sw5 +---------+ sw7 |
     PID3 +-----+   / |     |         |     |\     +-----+  PID4
     eh3__|     |__/  +-----+         +-----+ \____|     |__eh4
192.0.2.4 | sw3 |                                  | sw4 | 192.0.2.5
          +-----+                                  +-----+

bw(eh1--sw1) = bw(sw1--sw5) = 150 Mbps
bw(eh2--sw2) = bw(eh3--sw3) = bw(eh4--sw4) = 100 Mbps
bw(sw1--sw5) = bw(sw3--sw5) = bw(sw2--sw7) = bw(sw4--sw7) = 100 Mbps
bw(sw5--sw6) = bw(sw5--sw7) = bw(sw6--sw7) = 100 Mbps
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-raw-network-topology" class="selfRef">Raw Network Topology</a>
          </figcaption></figure>
</div>
<p id="section-4.1-5">The single-node ALTO topology abstraction of the network is shown in
<a href="#fig-base" class="xref">Figure 2</a>. Assume the cost map returns a hypothetical cost type representing
the available bandwidth between a source and a destination.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<span id="name-base-single-node-topology-a"></span><div id="fig-base">
<figure id="figure-2">
          <div id="section-4.1-6.1">
<pre class="sourcecode lang-drawing">
                          +----------------------+
                 {eh1}    |                      |     {eh2}
                 PID1     |                      |     PID2
                   +------+                      +------+
                          |                      |
                          |                      |
                 {eh3}    |                      |     {eh4}
                 PID3     |                      |     PID4
                   +------+                      +------+
                          |                      |
                          +----------------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-base-single-node-topology-a" class="selfRef">Base Single-Node Topology Abstraction</a>
          </figcaption></figure>
</div>
<p id="section-4.1-7">Now assume the application wants to maximize the total rate of the traffic among
a set of &lt;source, destination&gt; pairs, say eh1 -&gt; eh2 and eh1 -&gt; eh4.
Let x denote the transmission rate of eh1 -&gt; eh2 and y denote the rate of eh1 -&gt;
eh4. The objective function is<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-8">
<pre>
    max(x + y).
</pre><a href="#section-4.1-8" class="pilcrow">¶</a>
</div>
<p id="section-4.1-9">With the ALTO Cost Map, the cost between PID1 and PID2 and between PID1 and PID4 will
be 100 Mbps. And the client can get a capacity
region of<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-10">
<pre>
    x &lt;= 100 Mbps,
    y &lt;= 100 Mbps.
</pre><a href="#section-4.1-10" class="pilcrow">¶</a>
</div>
<p id="section-4.1-11">With this information, the client may mistakenly think it can achieve a maximum
total rate of 200 Mbps. However, one can easily see that this rate is
infeasible, as there are only two potential cases:<a href="#section-4.1-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-12.1">
            <p id="section-4.1-12.1.1">Case 1: eh1 -&gt; eh2 and eh1 -&gt; eh4 take different path segments from sw5 to sw7. For
example, if eh1 -&gt; eh2 uses path eh1 -&gt; sw1 -&gt; sw5 -&gt; sw6 -&gt; sw7 -&gt; sw2 -&gt; eh2
and eh1 -&gt; eh4 uses path eh1 -&gt; sw1 -&gt; sw5 -&gt; sw7 -&gt; sw4 -&gt; eh4, then the shared
bottleneck links are eh1 -&gt; sw1 and sw1 -&gt; sw5. In this case, the capacity
region is<a href="#section-4.1-12.1.1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-12.1.2">
<pre>
    x     &lt;= 100 Mbps
    y     &lt;= 100 Mbps
    x + y &lt;= 150 Mbps
</pre><a href="#section-4.1-12.1.2" class="pilcrow">¶</a>
</div>
<p id="section-4.1-12.1.3">
and the real optimal total rate is 150 Mbps.<a href="#section-4.1-12.1.3" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-12.2">
            <p id="section-4.1-12.2.1">Case 2: eh1 -&gt; eh2 and eh1 -&gt; eh4 take the same path segment from sw5 to sw7.
For example, if eh1 -&gt; eh2 uses path eh1 -&gt; sw1 -&gt; sw5 -&gt; sw7 -&gt; sw2 -&gt; eh2
and eh1 -&gt; eh4 also uses path eh1 -&gt; sw1 -&gt; sw5 -&gt; sw7 -&gt; sw4 -&gt; eh4, then the
shared bottleneck link is sw5 -&gt; sw7. In this case, the capacity region is<a href="#section-4.1-12.2.1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-12.2.2">
<pre>
    x     &lt;= 100 Mbps
    y     &lt;= 100 Mbps
    x + y &lt;= 100 Mbps
</pre><a href="#section-4.1-12.2.2" class="pilcrow">¶</a>
</div>
<p id="section-4.1-12.2.3">
and the real optimal total rate is 100 Mbps.<a href="#section-4.1-12.2.3" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-13">Clearly, with more accurate and fine-grained information, the application can
gain a better prediction of its traffic and may orchestrate its resources
accordingly. However, to provide such information, the network needs to expose
more details beyond the simple cost map abstraction. In particular:<a href="#section-4.1-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-14.1">The ALTO server must give more details about the network paths that are
traversed by the traffic between a source and a destination beyond a simple
numerical value, which allows the overlay application to distinguish between
Case 1 and Case 2 and to compute the optimal total rate accordingly.<a href="#section-4.1-14.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-14.2">The ALTO server must allow the client to distinguish the common ANE shared by
eh1 -&gt; eh2 and eh1 -&gt; eh4, e.g., eh1 - sw1 and sw1 - sw5 in Case 1.<a href="#section-4.1-14.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-14.3">The ALTO server must give details on the properties of the ANEs used by eh1 -&gt;
eh2 and eh1 -&gt; eh4, e.g., the available bandwidth between eh1 - sw1, sw1 -
sw5, sw5 - sw7, sw5 - sw6, sw6 - sw7, sw7 - sw2, sw7 - sw4, sw2 - eh2, sw4 -
eh4 in Case 1.<a href="#section-4.1-14.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.1-15">In general, we can conclude that to support the multiple flow scheduling
use case, the ALTO framework must be extended to satisfy the following
additional requirements:<a href="#section-4.1-15" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1-16">
          <dt id="section-4.1-16.1">
AR1:  </dt>
          <dd style="margin-left: 1.5em" id="section-4.1-16.2">
            <p id="section-4.1-16.2.1">An ALTO server must provide essential information on ANEs on the
path of a &lt;source, destination&gt; pair that are critical to the QoE of the
overlay application.<a href="#section-4.1-16.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-16.3">
AR2:  </dt>
          <dd style="margin-left: 1.5em" id="section-4.1-16.4">
            <p id="section-4.1-16.4.1">An ALTO server must provide essential information on how the paths of
different &lt;source, destination&gt; pairs share a common ANE.<a href="#section-4.1-16.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-16.5">
AR3:  </dt>
          <dd style="margin-left: 1.5em" id="section-4.1-16.6">
            <p id="section-4.1-16.6.1">An ALTO server must provide essential information on the properties associated
with the ANEs.<a href="#section-4.1-16.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-17">The extension defined in this document proposes a solution to provide these
details.<a href="#section-4.1-17" class="pilcrow">¶</a></p>
</section>
</div>
<div id="use-cases">
<section id="section-4.2">
        <h3 id="name-use-cases">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
        </h3>
<p id="section-4.2-1">While the multiple flow scheduling problem is used to help identify the
additional requirements, the extension defined in this document can be applied
to a wide range of applications. This section highlights some real use cases
that are reported.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<div id="large-scale-data-analytics">
<section id="section-4.2.1">
          <h4 id="name-large-scale-data-analytics">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-large-scale-data-analytics" class="section-name selfRef">Large-scale Data Analytics</a>
          </h4>
<p id="section-4.2.1-1">One potential use case of the extension defined in this document is for
large-scale data analytics such as <span>[<a href="#SENSE" class="xref">SENSE</a>]</span> and <span>[<a href="#LHC" class="xref">LHC</a>]</span>, where data of
gigabytes, terabytes and even petabytes are transferred. For these applications,
the QoE is usually measured as the job completion time, which is related to the
completion time of all the data transfers belonging to the job. With the
extension defined in this document, an ALTO client can identify bottlenecks
inside the network. Therefore, the overlay application can make optimal traffic
distribution or resource reservation (i.e., proportional to the size of the
transferred data), leading to optimal job completion time and network resource
utilization.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="context-aware-data-transfer">
<section id="section-4.2.2">
          <h4 id="name-context-aware-data-transfer">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-context-aware-data-transfer" class="section-name selfRef">Context-aware Data Transfer</a>
          </h4>
<p id="section-4.2.2-1">It is important to know the capabilities of various ANEs between two end
hosts, especially in the mobile environment. With the extension defined in this
document, an ALTO client may query the "network context" information, i.e.,
whether the two hosts are connected to the access network through a wireless
link or a wire, and the capabilities of the access network. Thus, the client may
use different data transfer mechanisms, or even deploy different 5G User Plane
Functions (UPF) <span>[<a href="#I-D.ietf-dmm-5g-uplane-analysis" class="xref">I-D.ietf-dmm-5g-uplane-analysis</a>]</span> to optimize the data
transfer.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cdn-and-service-edge">
<section id="section-4.2.3">
          <h4 id="name-cdn-and-service-edge">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-cdn-and-service-edge" class="section-name selfRef">CDN and Service Edge</a>
          </h4>
<p id="section-4.2.3-1">A growing trend in today's applications is to bring storage and computation
closer to the end users for better QoE, such as Content Delivery Network (CDN),
AR/VR, and cloud gaming, as reported in various documents
(<span>[<a href="#I-D.contreras-alto-service-edge" class="xref">I-D.contreras-alto-service-edge</a>]</span>,
<span>[<a href="#I-D.huang-alto-mowie-for-network-aware-app" class="xref">I-D.huang-alto-mowie-for-network-aware-app</a>]</span>, and
<span>[<a href="#I-D.yang-alto-deliver-functions-over-networks" class="xref">I-D.yang-alto-deliver-functions-over-networks</a>]</span>).<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.3-2">With the extension defined in this document, an ALTO server can selectively reveal the CDNs
and service edges that reside along the paths between different end hosts,
together with their properties such as capabilities (e.g., storage, GPU) and
available Service Level Agreement (SLA) plans. Thus, an ALTO client may leverage
the information to better conduct CDN request routing or offload functionalities
from the user equipment to the service edge, with considerations on different
resource constraints.<a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Overview">
<section id="section-5">
      <h2 id="name-path-vector-extension-overv">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-path-vector-extension-overv" class="section-name selfRef">Path Vector Extension: Overview</a>
      </h2>
<p id="section-5-1">This section gives a non-normative overview of the extension defined in this
document. It is assumed that readers are familiar with both the base protocol
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> and the Unified Property Map extension
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">To satisfies the additional requirements, this extension:<a href="#section-5-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-3">
<li id="section-5-3.1">introduces Abstract Network Element (ANE) as the abstraction of components in
a network whose properties may have an impact on the end-to-end performance
of the traffic handled by those component,<a href="#section-5-3.1" class="pilcrow">¶</a>
</li>
        <li id="section-5-3.2">extends the Cost Map and Endpoint Cost Service to convey the ANEs traversed
by the path of a &lt;source, destination&gt; pair as Path Vectors,<a href="#section-5-3.2" class="pilcrow">¶</a>
</li>
        <li id="section-5-3.3">uses the Unified Property Map to convey the association between the
ANEs and their properties.<a href="#section-5-3.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-5-4">Thus, an ALTO client can learn about the ANEs that are critical to the QoE of a
&lt;source, destination&gt; pair by investigating the corresponding Path Vector value
(AR1), identify common ANEs if an ANE appears in the Path Vectors of multiple
&lt;source, destination&gt; pairs (AR2), and retrieve the properties of the ANEs by
searching the Unified Property Map (AR3).<a href="#section-5-4" class="pilcrow">¶</a></p>
<div id="ane-design">
<section id="section-5.1">
        <h3 id="name-abstract-network-element">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-abstract-network-element" class="section-name selfRef">Abstract Network Element</a>
        </h3>
<p id="section-5.1-1">This extension introduces Abstract Network Element (ANE) as an indirect and
network-agnostic way to specify a component or an aggregation of components of a
network whose properties have an impact on the end-to-end performance for
traffic between a source and a destination.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">When an ANE is defined by the ALTO server, it is assigned an identifier, i.e.,
a string of type ANEName as specified in <a href="#ane-name-spec" class="xref">Section 6.1</a>, and a set of
associated properties.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<div id="ane-domain">
<section id="section-5.1.1">
          <h4 id="name-ane-domain">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-ane-domain" class="section-name selfRef">ANE Domain</a>
          </h4>
<p id="section-5.1.1-1">In this extension, the associations between ANE and the properties are conveyed
in a Unified Property Map. Thus, ANEs must constitute an entity domain (Section
5.1 of <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>), and each ANE property must be an
entity property (Section 5.2 of <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>).<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.1-2">Specifically, this document defines a new entity domain called <code>ane</code> as
specified in <a href="#ane-domain-spec" class="xref">Section 6.2</a> and defines two initial properties for the <code>ane</code>
domain.<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="assoc">
<section id="section-5.1.2">
          <h4 id="name-ephemeral-ane-and-persisten">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-ephemeral-ane-and-persisten" class="section-name selfRef">Ephemeral ANE and Persistent ANE</a>
          </h4>
<p id="section-5.1.2-1">By design, ANEs are ephemeral and not to be used in further requests. More
precisely, the corresponding ANE names are no longer valid beyond the scope of
the Path Vector response or the incremental update stream for a Path Vector
request. This has several benefits including better privacy of the ISPs and more
flexible ANE computation.<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2-2">For example, an ALTO server may define an ANE for each aggregated bottleneck
link between the sources and destinations specified in the request. For requests
with different sources and destinations, the bottlenecks may be different but
can safely reuse the same ANE names. The client can still adjust its traffic
based on the information but is difficult to infer the underlying topology with
multiple queries.<a href="#section-5.1.2-2" class="pilcrow">¶</a></p>
<p id="section-5.1.2-3">However, sometimes an ISP may intend to selectively reveal some "persistent"
network components which, opposite to being ephemeral, have a longer life cycle.
For example, an ALTO server may define an ANE for each service edge cluster.
Once a client chooses to use a service edge, e.g., by deploying some
user-defined functions, it may want to stick to the service edge to avoid the
complexity of state transition or synchronization, and continuously query the
properties of the edge cluster.<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
<p id="section-5.1.2-4">This document provides a mechanism to expose such network components as
persistent ANEs. A persistent ANE has a persistent ID that is registered in a
Property Map, together with their properties. See <a href="#domain-defining" class="xref">Section 6.2.4</a> and
<a href="#persistent-entity-id" class="xref">Section 6.4.2</a> for more detailed instructions on how to identify
ephemeral ANEs and persistent ANEs.<a href="#section-5.1.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="property-filtering">
<section id="section-5.1.3">
          <h4 id="name-property-filtering">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-property-filtering" class="section-name selfRef">Property Filtering</a>
          </h4>
<p id="section-5.1.3-1">Resource-constrained ALTO clients may benefit from the filtering of Path Vector
query results at the ALTO server, as an ALTO client may only require a subset of
the available properties.<a href="#section-5.1.3-1" class="pilcrow">¶</a></p>
<p id="section-5.1.3-2">Specifically, the available properties for a given resource are announced in the
Information Resource Directory as a new capability called <code>ane-property-names</code>.
The selected properties are specified in a filter called <code>ane-property-names</code> in
the request body, and the response includes and only includes the selected
properties for the ANEs in the response.<a href="#section-5.1.3-2" class="pilcrow">¶</a></p>
<p id="section-5.1.3-3">The <code>ane-property-names</code> capability for Cost Map and for Endpoint Cost Service
is specified in <a href="#pvcm-cap" class="xref">Section 7.2.4</a> and <a href="#pvecs-cap" class="xref">Section 7.3.4</a> respectively. The
<code>ane-property-names</code> filter for Cost Map and Endpoint Cost Service is specified
in <a href="#pvcm-accept" class="xref">Section 7.2.3</a> and <a href="#pvecs-accept" class="xref">Section 7.3.3</a> accordingly.<a href="#section-5.1.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="path-vector-design">
<section id="section-5.2">
        <h3 id="name-path-vector-cost-type">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-path-vector-cost-type" class="section-name selfRef">Path Vector Cost Type</a>
        </h3>
<p id="section-5.2-1">For an ALTO client to correctly interpret the Path Vector, this extension
specifies a new cost type called the Path Vector cost type.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">The Path Vector cost type must convey both the interpretation and semantics in
the "cost-mode" and "cost-metric" respectively. Unfortunately, a single
"cost-mode" value cannot fully specify the interpretation of a Path Vector,
which is a compound data type. For example, in programming languages such as
C++, a Path Vector will have the type of <code>JSONArray&lt;ANEName&gt;</code>.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">Instead of extending the "type system" of ALTO, this document takes a simple
and backward compatible approach. Specifically, the "cost-mode" of the Path
Vector cost type is "array", which indicates the value is a JSON array. Then, an
ALTO client must check the value of the "cost-metric". If the value is
"ane-path", it means that the JSON array should be further interpreted as a path
of ANENames.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">The Path Vector cost type is specified in <a href="#cost-type-spec" class="xref">Section 6.5</a>.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="multipart-path-vector-response">
<section id="section-5.3">
        <h3 id="name-multipart-path-vector-respo">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-multipart-path-vector-respo" class="section-name selfRef">Multipart Path Vector Response</a>
        </h3>
<p id="section-5.3-1">For a basic ALTO information resource, a response contains only one type of
ALTO resources, e.g., Network Map, Cost Map, or Property Map. Thus, only one
round of communication is required: An ALTO client sends a request to an ALTO
server, and the ALTO server returns a response, as shown in <a href="#fig-alto" class="xref">Figure 3</a>.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<span id="name-a-typical-alto-request-and-"></span><div id="fig-alto">
<figure id="figure-3">
          <div class="artwork art-text alignCenter art-drawing" id="section-5.3-2.1">
<pre>
  ALTO client                              ALTO server
       |-------------- Request ----------------&gt;|
       |&lt;------------- Response ----------------|
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-a-typical-alto-request-and-" class="selfRef">A Typical ALTO Request and Response</a>
          </figcaption></figure>
</div>
<p id="section-5.3-3">The extension defined in this document, on the other hand, involves two types of
information resources: Path Vectors conveyed in an InfoResourceCostMap (defined
in Section 11.2.3.6 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>) or an InfoResourceEndpointCostMap (defined
in Section 11.5.1.6 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>), and ANE properties conveyed in an
InfoResourceProperties (defined in Section 7.6 of <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>).<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3-4">Instead of two consecutive message exchanges, the extension defined in this
document enforces one round of communication. Specifically, the ALTO client must
include the source and destination pairs and the requested ANE properties in a
single request, and the ALTO server must return a single response containing
both the Path Vectors and properties associated with the ANEs in the Path
Vectors, as shown in <a href="#fig-pv" class="xref">Figure 4</a>. Since the two parts are bundled together in one
response message, their orders are interchangeable. See <a href="#pvcm-resp" class="xref">Section 7.2.6</a> and
<a href="#pvecs-resp" class="xref">Section 7.3.6</a> for details.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<span id="name-the-path-vector-extension-r"></span><div id="fig-pv">
<figure id="figure-4">
          <div class="artwork art-text alignCenter art-drawing" id="section-5.3-5.1">
<pre>
  ALTO client                              ALTO server
       |------------- PV Request --------------&gt;|
       |&lt;----- PV Response (Cost Map Part) -----|
       |&lt;--- PV Response (Property Map Part) ---|
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-the-path-vector-extension-r" class="selfRef">The Path Vector Extension Request and Response</a>
          </figcaption></figure>
</div>
<p id="section-5.3-6">This design is based on the following considerations:<a href="#section-5.3-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.3-7">
<li id="section-5.3-7.1">Since ANEs may be constructed on demand, and potentially based on the
requested properties (See <a href="#ane-design" class="xref">Section 5.1</a> for more details). If sources and
destinations are not in the same request as the properties, an ALTO server
either cannot construct ANEs on-demand, or must wait until both requests are
received.<a href="#section-5.3-7.1" class="pilcrow">¶</a>
</li>
          <li id="section-5.3-7.2">As ANEs may be constructed on demand, mappings of each ANE to its underlying
network devices and resources can be specific to the request. In order
to respond to the Property Map request correctly, an ALTO server must store
the mapping of each Path Vector request until the client fully retrieves the
property information. The "stateful" behavior may substantially harm the
server scalability and potentially lead to Denial-of-Service attacks.<a href="#section-5.3-7.2" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-5.3-8">One approach to realize the one-round communication is to define a new media
type to contain both objects, but this violates modular design. This document
follows the standard-conforming usage of <code>multipart/related</code> media type defined
in <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span> to elegantly combine the objects. Path Vectors are encoded in an
InfoResourceCostMap or an InfoResourceEndpointCostMap, and the Property Map is
encoded in an InfoResourceProperties. They are encapsulated as parts of a
multipart message. The modular composition allows ALTO servers and clients to
reuse the data models of the existing information resources. Specifically, this
document addresses the following practical issues using <code>multipart/related</code>.<a href="#section-5.3-8" class="pilcrow">¶</a></p>
<div id="identifying-the-media-type-of-the-root-object">
<section id="section-5.3.1">
          <h4 id="name-identifying-the-media-type-">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-identifying-the-media-type-" class="section-name selfRef">Identifying the Media Type of the Root Object</a>
          </h4>
<p id="section-5.3.1-1">ALTO uses media type to indicate the type of an entry in the Information
Resource Directory (IRD) (e.g., <code>application/alto-costmap+json</code> for Cost Map
and <code>application/alto-endpointcost+json</code> for Endpoint Cost Service). Simply
putting <code>multipart/related</code> as the media type, however, makes it impossible
for an ALTO client to identify the type of service provided by related
entries.<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
<p id="section-5.3.1-2">To address this issue, this document uses the <code>type</code> parameter to indicate the
root object of a multipart/related message. For a Cost Map resource, the
<code>media-type</code> in the IRD entry is <code>multipart/related</code> with the parameter
<code>type=application/alto-costmap+json</code>; for an Endpoint Cost Service, the
parameter is <code>type=application/alto-endpointcost+json</code>.<a href="#section-5.3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ref-partmsg-design">
<section id="section-5.3.2">
          <h4 id="name-references-to-part-messages">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-references-to-part-messages" class="section-name selfRef">References to Part Messages</a>
          </h4>
<p id="section-5.3.2-1">As the response of a Path Vector resource is a multipart message with two
different parts, it is important that each part can be uniquely identified.
Following the designs of <span>[<a href="#RFC8895" class="xref">RFC8895</a>]</span>, this extension requires that an ALTO
server assigns a unique identifier to each part of the <code>multipart/related</code>
response message. This identifier, referred to as a Part Resource ID (See
<a href="#part-rid-spec" class="xref">Section 6.6</a> for details), is present in the part message's <code>Content-ID</code>
header. By concatenating the Part Resource ID to the identifier of the Path
Vector request, an ALTO server/client can uniquely identify the Path Vector Part
or the Property Map part.<a href="#section-5.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Basic">
<section id="section-6">
      <h2 id="name-specification-basic-data-ty">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-specification-basic-data-ty" class="section-name selfRef">Specification: Basic Data Types</a>
      </h2>
<div id="ane-name-spec">
<section id="section-6.1">
        <h3 id="name-ane-name">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-ane-name" class="section-name selfRef">ANE Name</a>
        </h3>
<p id="section-6.1-1">An ANE Name is encoded as a JSON string with the same format as that of the type
PIDName (Section 10.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>).<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">The type ANEName is used in this document to indicate a string of this
format.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ane-domain-spec">
<section id="section-6.2">
        <h3 id="name-ane-domain-2">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-ane-domain-2" class="section-name selfRef">ANE Domain</a>
        </h3>
<p id="section-6.2-1">The ANE domain associates property values with the Abstract Network Elements in
a Property Map. Accordingly, the ANE domain always depends on a Property Map.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<div id="domain-type">
<section id="section-6.2.1">
          <h4 id="name-entity-domain-type">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-entity-domain-type" class="section-name selfRef">Entity Domain Type</a>
          </h4>
<p id="section-6.2.1-1">ane<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="entity-address">
<section id="section-6.2.2">
          <h4 id="name-domain-specific-entity-iden">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-domain-specific-entity-iden" class="section-name selfRef">Domain-Specific Entity Identifier</a>
          </h4>
<p id="section-6.2.2-1">The entity identifiers are the ANE Names in the associated Property Map.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="hierarchy-and-inheritance">
<section id="section-6.2.3">
          <h4 id="name-hierarchy-and-inheritance">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-hierarchy-and-inheritance" class="section-name selfRef">Hierarchy and Inheritance</a>
          </h4>
<p id="section-6.2.3-1">There is no hierarchy or inheritance for properties associated with ANEs.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="domain-defining">
<section id="section-6.2.4">
          <h4 id="name-media-type-of-defining-reso">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-media-type-of-defining-reso" class="section-name selfRef">Media Type of Defining Resource</a>
          </h4>
<p id="section-6.2.4-1">When resource specific domains are defined with entities of domain type <code>ane</code>,
the defining resource for entity domain type <code>pid</code> MUST be a Property Map. The
media type of defining resources for the <code>ane</code> domain is:<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-6.2.4-2">
<pre>
application/alto-propmap+json
</pre><a href="#section-6.2.4-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2.4-3">Specifically, for ephemeral ANEs that appear in a Path Vector response, their
entity domain names MUST be exactly ".ane" and the defining resource of these
ANEs is the Property Map part of the multipart response. Meanwhile, for
persistent ANEs whose entity domain name has the format of "PROPMAP.ane" where
PROPMAP is the name of a Property Map resource, PROPMAP is the defining resource
of these ANEs. Persistent entities are <code>persistent</code> because standalone queries
can be made by an ALTO client to their defining resources when the connection to
the Path Vector service is closed.<a href="#section-6.2.4-3" class="pilcrow">¶</a></p>
<p id="section-6.2.4-4">For example, the defining resource of an ephemeral ANE whose entity identifier
is ".ane:NET1" is the Property Map part that contains this identifier. The
defining resource of a persistent ANE whose entity identifier is
"dc-props.ane:DC1" is the Property Map with the resource ID "dc-props".<a href="#section-6.2.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ane-prop-name-spec">
<section id="section-6.3">
        <h3 id="name-ane-property-name">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-ane-property-name" class="section-name selfRef">ANE Property Name</a>
        </h3>
<p id="section-6.3-1">An ANE Property Name is encoded as a JSON string with the same format as that of
Entity Property Name (Section 5.2.2 of <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>).<a href="#section-6.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="initial-ane-property-types">
<section id="section-6.4">
        <h3 id="name-initial-ane-property-types">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-initial-ane-property-types" class="section-name selfRef">Initial ANE Property Types</a>
        </h3>
<p id="section-6.4-1">In this document, two initial ANE property types are specified,
<code>max-reservable-bandwidth</code> and <code>persistent-entity-id</code>.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<p id="section-6.4-2">Note that the two property types defined in this document do not depend on any
information resource, so their ResourceID part must be empty.<a href="#section-6.4-2" class="pilcrow">¶</a></p>
<span id="name-examples-of-ane-properties"></span><div id="fig-pe">
<figure id="figure-5">
          <div class="artwork art-text alignCenter art-drawing" id="section-6.4-3.1">
<pre>
                                       ----- L1
                                      /
          PID1   +---------------+ 10 Gbps +----------+    PID3
   192.0.2.0/28+-+ +-----------+ +---------+          +--+192.0.2.32/28
                 | |   MEC1    | |         |          |
                 | +-----------+ |   +-----+          |
          PID2   |               |   |     +----------+
  192.0.2.16/28+-+               |   |         NET3
                 |               |   | 15 Gbps
                 |               |   |        \
                 +---------------+   |         -------- L2
                       NET1          |
                              +---------------+
                              | +-----------+ |   PID4
                              | |   MEC2    | +--+192.0.2.48/28
                              | +-----------+ |
                              +---------------+
                                    NET2
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-examples-of-ane-properties" class="selfRef">Examples of ANE Properties</a>
          </figcaption></figure>
</div>
<p id="section-6.4-4">In this document, <a href="#fig-pe" class="xref">Figure 5</a> is used to illustrate the use of the two initial
ANE property types. There are 3 sub-networks (NET1, NET2 and NET3) and two
interconnection links (L1 and L2). It is assumed that each sub-network has
sufficiently large bandwidth to be reserved.<a href="#section-6.4-4" class="pilcrow">¶</a></p>
<div id="maxresbw">
<section id="section-6.4.1">
          <h4 id="name-new-ane-property-type-maxim">
<a href="#section-6.4.1" class="section-number selfRef">6.4.1. </a><a href="#name-new-ane-property-type-maxim" class="section-name selfRef">New ANE Property Type: Maximum Reservable Bandwidth</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-6.4.1-1">
            <dt id="section-6.4.1-1.1">
Identifier:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.1-1.2">
              <p id="section-6.4.1-1.2.1"><code>max-reservable-bandwidth</code><a href="#section-6.4.1-1.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-1.3">
Intended Semantics:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.1-1.4">
              <p id="section-6.4.1-1.4.1">The maximum reservable bandwidth property stands for the maximum bandwidth
that can be reserved for all the traffic that traverses an ANE. The value MUST
be encoded as a non-negative numerical cost value as defined in Section
6.1.2.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> and the unit is bit per second. If this property is
requested but not present in an ANE, it MUST be interpreted as that the ANE
does not support bandwidth reservation.<a href="#section-6.4.1-1.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-1.5">
Security Considerations:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.1-1.6">
              <p id="section-6.4.1-1.6.1">ALTO entity properties expose information to ALTO clients. ALTO service
providers should be made aware of the security ramifications related to the
exposure of an entity property.<a href="#section-6.4.1-1.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-1.7">
Media Type of Defining Resource:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.1-1.8">
              <p id="section-6.4.1-1.8.1">application/alto-propmap+json<a href="#section-6.4.1-1.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.4.1-2">To illustrate the use of <code>max-reservable-bandwidth</code>, consider the network in
<a href="#fig-pe" class="xref">Figure 5</a>. An ALTO server can create an ANE for each interconnection link,
where the initial value for <code>max-reservable-bandwidth</code> is the link capacity.<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="persistent-entity-id">
<section id="section-6.4.2">
          <h4 id="name-new-ane-property-type-persi">
<a href="#section-6.4.2" class="section-number selfRef">6.4.2. </a><a href="#name-new-ane-property-type-persi" class="section-name selfRef">New ANE Property Type: Persistent Entity ID</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-6.4.2-1">
            <dt id="section-6.4.2-1.1">
Identifier:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.2-1.2">
              <p id="section-6.4.2-1.2.1"><code>persistent-entity-id</code><a href="#section-6.4.2-1.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.2-1.3">
Intended Semantics:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.2-1.4">
              <p id="section-6.4.2-1.4.1">The persistent entity ID property is the entity identifier of the persistent
ANE which an ephemeral ANE presents (See <a href="#assoc" class="xref">Section 5.1.2</a> for details). The value of
this property is encoded with the format defined in Section 5.1.3 of
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>.<a href="#section-6.4.2-1.4.1" class="pilcrow">¶</a></p>
<p id="section-6.4.2-1.4.2">In this format, the entity ID combines:<a href="#section-6.4.2-1.4.2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.4.2-1.4.3.1">a defining information resource for the ANE on which a
"persistent-entity-id" is queried, which is the Property Map resource
defining the ANE as a persistent entity, together with the properties<a href="#section-6.4.2-1.4.3.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-6.4.2-1.4.3.2">the persistent name of the ANE in that Property Map<a href="#section-6.4.2-1.4.3.2" class="pilcrow">¶</a>
</li>
              </ul>
<p id="section-6.4.2-1.4.4">With this format, the client has all the needed information for further
standalone query properties on the persistent ANE.<a href="#section-6.4.2-1.4.4" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.2-1.5">
Security Considerations:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.2-1.6">
              <p id="section-6.4.2-1.6.1">ALTO entity properties expose information to ALTO clients. ALTO service
providers should be made aware of the security ramifications related to the
exposure of an entity property.<a href="#section-6.4.2-1.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.2-1.7">
Media Type of Defining Resource:  </dt>
            <dd style="margin-left: 1.5em" id="section-6.4.2-1.8">
              <p id="section-6.4.2-1.8.1">application/alto-propmap+json<a href="#section-6.4.2-1.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.4.2-2">To illustrate the use of <code>persistent-entity-id</code>, consider the network in
<a href="#fig-pe" class="xref">Figure 5</a>. Assume the ALTO server has a Property Map resource called
"mec-props" that defines persistent ANEs "MEC1" and "MEC2" that represent the
corresponding mobile edge computing (MEC) clusters. Since MEC1 is associated
with NET1, the <code>persistent-entity-id</code> of the ephemeral ANE <code>.ane:NET1</code> is the
persistent entity id <code>mec-props.ane:MEC1</code>.<a href="#section-6.4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="cost-type-spec">
<section id="section-6.5">
        <h3 id="name-path-vector-cost-type-2">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-path-vector-cost-type-2" class="section-name selfRef">Path Vector Cost Type</a>
        </h3>
<p id="section-6.5-1">This document defines a new cost type, which is referred to as the <code>Path Vector</code>
cost type. An ALTO server MUST offer this cost type if it supports the extension
defined in this document.<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<div id="metric-spec">
<section id="section-6.5.1">
          <h4 id="name-cost-metric-ane-path">
<a href="#section-6.5.1" class="section-number selfRef">6.5.1. </a><a href="#name-cost-metric-ane-path" class="section-name selfRef">Cost Metric: ane-path</a>
          </h4>
<p id="section-6.5.1-1">The cost metric "ane-path" indicates the value of such a cost type conveys an
array of ANE names, where each ANE name uniquely represents an ANE traversed by
traffic from a source to a destination.<a href="#section-6.5.1-1" class="pilcrow">¶</a></p>
<p id="section-6.5.1-2">An ALTO client MUST interpret the Path Vector as if the traffic between a source
and a destination logically traverses the ANEs in the same order as they appear
in the Path Vector.<a href="#section-6.5.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mode-spec">
<section id="section-6.5.2">
          <h4 id="name-cost-mode-array">
<a href="#section-6.5.2" class="section-number selfRef">6.5.2. </a><a href="#name-cost-mode-array" class="section-name selfRef">Cost Mode: array</a>
          </h4>
<p id="section-6.5.2-1">The cost mode "array" indicates that every cost value in the response body of a
(Filtered) Cost Map or an Endpoint Cost Service MUST be interpreted as a JSON
array object.<a href="#section-6.5.2-1" class="pilcrow">¶</a></p>
<p id="section-6.5.2-2">Note that this cost mode only requires the cost value to be a JSON array of
JSONValue. However, an ALTO server that enables this extension MUST return a
JSON array of ANEName (<a href="#ane-name-spec" class="xref">Section 6.1</a>) when the cost metric is
"ane-path".<a href="#section-6.5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="part-rid-spec">
<section id="section-6.6">
        <h3 id="name-part-resource-id">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-part-resource-id" class="section-name selfRef">Part Resource ID</a>
        </h3>
<p id="section-6.6-1">A Part Resource ID is encoded as a JSON string with the same format as that of the
type ResourceID (Section 10.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>).<a href="#section-6.6-1" class="pilcrow">¶</a></p>
<p id="section-6.6-2">Even though the client-id assigned to a Path Vector request and the Part
Resource ID MAY contain up to 64 characters by their own definition, their
concatenation (see <a href="#ref-partmsg-design" class="xref">Section 5.3.2</a>) MUST also conform to the same length
constraint. The same requirement applies to the resource ID of the Path Vector
resource, too. Thus, it is RECOMMENDED to limit the length of resource ID and
client ID related to a Path Vector resource to 31 characters.<a href="#section-6.6-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Services">
<section id="section-7">
      <h2 id="name-specification-service-exten">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-specification-service-exten" class="section-name selfRef">Specification: Service Extensions</a>
      </h2>
<div id="notations">
<section id="section-7.1">
        <h3 id="name-notations">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-notations" class="section-name selfRef">Notations</a>
        </h3>
<p id="section-7.1-1">This document uses the same syntax and notations as introduced in Section 8.2 of
RFC 7285 <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> to specify the extensions to existing ALTO resources and
services.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pvcm-spec">
<section id="section-7.2">
        <h3 id="name-multipart-filtered-cost-map">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-multipart-filtered-cost-map" class="section-name selfRef">Multipart Filtered Cost Map for Path Vector</a>
        </h3>
<p id="section-7.2-1">This document introduces a new ALTO resource called multipart Filtered Cost Map
resource, which allows an ALTO server to provide other ALTO resources associated
with the Cost Map resource in the same response.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<div id="media-type">
<section id="section-7.2.1">
          <h4 id="name-media-type">
<a href="#section-7.2.1" class="section-number selfRef">7.2.1. </a><a href="#name-media-type" class="section-name selfRef">Media Type</a>
          </h4>
<p id="section-7.2.1-1">The media type of the multipart Filtered Cost Map resource is
<code>multipart/related;type=application/alto-costmap+json</code>.<a href="#section-7.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="http-method">
<section id="section-7.2.2">
          <h4 id="name-http-method">
<a href="#section-7.2.2" class="section-number selfRef">7.2.2. </a><a href="#name-http-method" class="section-name selfRef">HTTP Method</a>
          </h4>
<p id="section-7.2.2-1">The multipart Filtered Cost Map is requested using the HTTP POST method.<a href="#section-7.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pvcm-accept">
<section id="section-7.2.3">
          <h4 id="name-accept-input-parameters">
<a href="#section-7.2.3" class="section-number selfRef">7.2.3. </a><a href="#name-accept-input-parameters" class="section-name selfRef">Accept Input Parameters</a>
          </h4>
<p id="section-7.2.3-1">The input parameters of the multipart Filtered Cost Map are supplied in the body
of an HTTP POST request. This document extends the input parameters to a
Filtered Cost Map, which is defined as a JSON object of type
<code>ReqFilteredCostMap</code> in Section 4.1.2 of RFC 8189 <span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span>, with a data
format indicated by the media type <code>application/alto-costmapfilter+json</code>, which
is a JSON object of type PVReqFilteredCostMap:<a href="#section-7.2.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2.3-2">
<pre>
object {
  [EntityPropertyName ane-property-names&lt;0..*&gt;;]
} PVReqFilteredCostMap : ReqFilteredCostMap;
</pre><a href="#section-7.2.3-2" class="pilcrow">¶</a>
</div>
<p id="section-7.2.3-3">with fields:<a href="#section-7.2.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.3-4">
            <dt id="section-7.2.3-4.1">
ane-property-names:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.3-4.2">
              <p id="section-7.2.3-4.2.1">A list of selected ANE properties to be included in the response. Each
property in this list MUST match one of the supported ANE properties indicated
in the resource's <code>ane-property-names</code> capability (See <a href="#pvcm-cap" class="xref">Section 7.2.4</a>). If the
field is NOT present, it MUST be interpreted as an empty list.<a href="#section-7.2.3-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.2.3-5">Example: Consider the network in <a href="#fig-dumbbell" class="xref">Figure 1</a>. If an ALTO client wants to
query the <code>max-reservable-bandwidth</code> between PID1 and PID2, it can submit the
following request.<a href="#section-7.2.3-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2.3-6">
<pre>
   POST /costmap/pv HTTP/1.1
   Host: alto.example.com
   Accept: multipart/related;type=application/alto-costmap+json,
           application/alto-error+json
   Content-Length: 201
   Content-Type: application/alto-costmapfilter+json

   {
     "cost-type": {
       "cost-mode": "array",
       "cost-metric": "ane-path"
     },
     "pids": {
       "srcs": [ "PID1" ],
       "dsts": [ "PID2" ]
     },
     "ane-property-names": [ "max-reservable-bandwidth" ]
   }
</pre><a href="#section-7.2.3-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pvcm-cap">
<section id="section-7.2.4">
          <h4 id="name-capabilities">
<a href="#section-7.2.4" class="section-number selfRef">7.2.4. </a><a href="#name-capabilities" class="section-name selfRef">Capabilities</a>
          </h4>
<p id="section-7.2.4-1">The multipart Filtered Cost Map resource extends the capabilities defined
in Section 4.1.1 of <span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span>. The capabilities are defined by a JSON
object of type PVFilteredCostMapCapabilities:<a href="#section-7.2.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2.4-2">
<pre>
object {
  [EntityPropertyName ane-property-names&lt;0..*&gt;;]
} PVFilteredCostMapCapabilities : FilteredCostMapCapabilities;
</pre><a href="#section-7.2.4-2" class="pilcrow">¶</a>
</div>
<p id="section-7.2.4-3">with fields:<a href="#section-7.2.4-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.4-4">
            <dt id="section-7.2.4-4.1">
cost-type-names:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.4-4.2">
              <p id="section-7.2.4-4.2.1">The <code>cost-type-names</code> field MUST include the Path Vector cost type,
unless explicitly documented by a future extension. This also implies that the
Path Vector cost type MUST be defined in the <code>cost-types</code> of the Information
Resource Directory's <code>meta</code> field.<a href="#section-7.2.4-4.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.4-4.3">
cost-constraints:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.4-4.4">
              <p id="section-7.2.4-4.4.1">If the <code>cost-type-names</code> field includes the Path Vector cost type,
<code>cost-constraints</code> field MUST be <code>false</code> or not present unless specifically
instructed by a future document.<a href="#section-7.2.4-4.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.4-4.5">
testable-cost-type-names:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.4-4.6">
              <p id="section-7.2.4-4.6.1">If the <code>cost-type-names</code> field includes the Path Vector cost type and the
<code>testable-cost-type-names</code> field is present, the Path Vector cost type MUST
NOT be included in the <code>testable-cost-type-names</code> field unless specifically
instructed by a future document.<a href="#section-7.2.4-4.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.4-4.7">
ane-property-names:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.4-4.8">
              <p id="section-7.2.4-4.8.1">Defines a list of ANE properties that can be returned. If the field is NOT
present, it MUST be interpreted as an empty list, indicating the ALTO server
cannot provide any ANE property.<a href="#section-7.2.4-4.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="uses">
<section id="section-7.2.5">
          <h4 id="name-uses">
<a href="#section-7.2.5" class="section-number selfRef">7.2.5. </a><a href="#name-uses" class="section-name selfRef">Uses</a>
          </h4>
<p id="section-7.2.5-1">This member MUST include the resource ID of the network map based on which the
PIDs are defined. If this resource supports <code>persistent-entity-id</code>, it MUST also
include the defining resources of persistent ANEs that may appear in the response.<a href="#section-7.2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pvcm-resp">
<section id="section-7.2.6">
          <h4 id="name-response">
<a href="#section-7.2.6" class="section-number selfRef">7.2.6. </a><a href="#name-response" class="section-name selfRef">Response</a>
          </h4>
<p id="section-7.2.6-1">The response MUST indicate an error, using ALTO protocol error handling, as
defined in Section 8.5 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, if the request is invalid.<a href="#section-7.2.6-1" class="pilcrow">¶</a></p>
<p id="section-7.2.6-2">The "Content-Type" header of the response MUST be <code>multipart/related</code> as defined
by <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span> with the following parameters:<a href="#section-7.2.6-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.6-3">
            <dt id="section-7.2.6-3.1">
type:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.6-3.2">
              <p id="section-7.2.6-3.2.1">The type parameter MUST be "application/alto-costmap+json". Note that
<span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span> permits both parameters with and without the double quotes.<a href="#section-7.2.6-3.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.6-3.3">
start:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.6-3.4">
              <p id="section-7.2.6-3.4.1">The start parameter is as defined in <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span>. If present, it MUST have the
same value as the <code>Content-ID</code> header of the Path Vector part.<a href="#section-7.2.6-3.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.6-3.5">
boundary:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.2.6-3.6">
              <p id="section-7.2.6-3.6.1">The boundary parameter is as defined in <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span>.<a href="#section-7.2.6-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.2.6-4">The body of the response MUST consist of two parts:<a href="#section-7.2.6-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.6-5.1">
              <p id="section-7.2.6-5.1.1">The Path Vector part MUST include <code>Content-ID</code> and <code>Content-Type</code> in its
header. The value of <code>Content-ID</code> MUST has the format of a Part Resource ID.
The <code>Content-Type</code> MUST be <code>application/alto-costmap+json</code>.<a href="#section-7.2.6-5.1.1" class="pilcrow">¶</a></p>
<p id="section-7.2.6-5.1.2">
The body of the Path Vector part MUST be a JSON object with the same format as
defined in Section 11.2.3.6 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> when the <code>cost-type</code> field is
present in the input parameters and MUST be a JSON object with the same format
as defined in Section 4.1.3 of <span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span> if the <code>multi-cost-types</code> field is
present. The JSON object MUST include the
<code>vtag</code> field in the <code>meta</code> field, which provides the version tag of the
returned CostMapData. The resource ID of the version tag MUST follow the
format of<a href="#section-7.2.6-5.1.2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2.6-5.1.3">
<pre>
resource-id '.' part-resource-id
</pre><a href="#section-7.2.6-5.1.3" class="pilcrow">¶</a>
</div>
<p id="section-7.2.6-5.1.4">
where <code>resource-id</code> is the resource Id of the Path Vector resource, and
<code>part-resource-id</code> has the same value as the <code>Content-ID</code> of the Path Vector
part.
The <code>meta</code> field MUST also include the <code>dependent-vtags</code> field, whose value is
a single-element array to indicate the version tag of the network map used,
where the network map is specified in the <code>uses</code> attribute of the multipart
Filtered Cost Map resource in IRD.<a href="#section-7.2.6-5.1.4" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-7.2.6-5.2">
              <p id="section-7.2.6-5.2.1">The Unified Property Map part MUST also include <code>Content-ID</code> and
<code>Content-Type</code> in its header. The value of <code>Content-ID</code> has the format of a
Part Resource ID. The <code>Content-Type</code> MUST be <code>application/alto-propmap+json</code>.<a href="#section-7.2.6-5.2.1" class="pilcrow">¶</a></p>
<p id="section-7.2.6-5.2.2">
The body of the Unified Property Map part is a JSON object with the same
format as defined in Section 4.6 of <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>. The
JSON object MUST include the <code>dependent-vtags</code> field in the <code>meta</code> field. The
value of the <code>dependent-vtags</code> field MUST be an array of VersionTag objects as
defined by Section 10.3 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. The <code>vtag</code> of the Path Vector part MUST
be included in the <code>dependent-vtags</code>. If <code>persistent-entity-id</code> is requested, the
version tags of the dependent resources that MAY expose the entities in the
response MUST also be included.<a href="#section-7.2.6-5.2.2" class="pilcrow">¶</a></p>
<p id="section-7.2.6-5.2.3">
The PropertyMapData has one member for each ANEName that appears in the Path
Vector part, which is an entity identifier belonging to the self-defined
entity domain as defined in Section 5.1.2.3 of
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>. The EntityProps for each ANE has one
member for each property that is both 1) associated with the ANE, and 2)
specified in the <code>ane-property-names</code> in the request. If the Path Vector cost
type is not included in the <code>cost-type</code> field or the <code>multi-cost-type</code> field,
the <code>property-map</code> field MUST be present and the value MUST be an empty object
({}).<a href="#section-7.2.6-5.2.3" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.2.6-6">A complete and valid response MUST include both the Path Vector part and the
Property Map part in the multipart message. If any part is NOT present, the
client MUST discard the received information and send another request if
necessary.<a href="#section-7.2.6-6" class="pilcrow">¶</a></p>
<p id="section-7.2.6-7">According to <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span>, the Path Vector part, whose media type is
the same as the <code>type</code> parameter of the multipart response message, is the root
object. Thus, it is the element the application processes first. Even though the
<code>start</code> parameter allows it to be placed anywhere in the part sequence, it is
RECOMMENDED that the parts arrive in the same order as they are processed, i.e.,
the Path Vector part is always put as the first part, followed by the Property
Map part. When doing so, an ALTO server MAY choose not to set the <code>start</code>
parameter, which implies the first part is the root object.<a href="#section-7.2.6-7" class="pilcrow">¶</a></p>
<p id="section-7.2.6-8">Example: Consider the network in <a href="#fig-dumbbell" class="xref">Figure 1</a>. The response of the example
request in <a href="#pvcm-accept" class="xref">Section 7.2.3</a> is as follows, where <code>ANE1</code> represents the
aggregation of all the switches in the network.<a href="#section-7.2.6-8" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2.6-9">
<pre>
HTTP/1.1 200 OK
Content-Length: 821
Content-Type: multipart/related; boundary=example-1;
              type=application/alto-costmap+json

--example-1
Content-ID: costmap
Content-Type: application/alto-costmap+json

{
  "meta": {
    "vtag": {
      "resource-id": "filtered-cost-map-pv.costmap",
      "tag": "d827f484cb66ce6df6b5077cb8562b0a"
    },
    "dependent-vtags": [
      {
        "resource-id": "my-default-networkmap",
        "tag": "75ed013b3cb58f896e839582504f6228"
      }
    ],
    "cost-type": { "cost-mode": "array", "cost-metric": "ane-path" }
  },
  "cost-map": {
    "PID1": { "PID2": ["ANE1"] }
  }
}
--example-1
Content-ID: propmap
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "filtered-cost-map-pv.costmap",
        "tag": "d827f484cb66ce6df6b5077cb8562b0a"
      }
    ]
  },
  "property-map": {
    ".ane:ANE1": { "max-reservable-bandwidth": 100000000 }
  }
}
</pre><a href="#section-7.2.6-9" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="pvecs-spec">
<section id="section-7.3">
        <h3 id="name-multipart-endpoint-cost-ser">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-multipart-endpoint-cost-ser" class="section-name selfRef">Multipart Endpoint Cost Service for Path Vector</a>
        </h3>
<p id="section-7.3-1">This document introduces a new ALTO resource called multipart Endpoint Cost
Service, which allows an ALTO server to provide other ALTO resources associated
with the Endpoint Cost Service resource in the same response.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div id="media-type-1">
<section id="section-7.3.1">
          <h4 id="name-media-type-2">
<a href="#section-7.3.1" class="section-number selfRef">7.3.1. </a><a href="#name-media-type-2" class="section-name selfRef">Media Type</a>
          </h4>
<p id="section-7.3.1-1">The media type of the multipart Endpoint Cost Service resource is
<code>multipart/related;type=application/alto-endpointcost+json</code>.<a href="#section-7.3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="http-method-1">
<section id="section-7.3.2">
          <h4 id="name-http-method-2">
<a href="#section-7.3.2" class="section-number selfRef">7.3.2. </a><a href="#name-http-method-2" class="section-name selfRef">HTTP Method</a>
          </h4>
<p id="section-7.3.2-1">The multipart Endpoint Cost Service resource is requested using the HTTP POST method.<a href="#section-7.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pvecs-accept">
<section id="section-7.3.3">
          <h4 id="name-accept-input-parameters-2">
<a href="#section-7.3.3" class="section-number selfRef">7.3.3. </a><a href="#name-accept-input-parameters-2" class="section-name selfRef">Accept Input Parameters</a>
          </h4>
<p id="section-7.3.3-1">The input parameters of the multipart Endpoint Cost Service resource are
supplied in the body of an HTTP POST request. This document extends the input
parameters to an Endpoint Cost Service, which is defined as a JSON object of
type ReqEndpointCost in Section 4.2.2 in RFC 8189 <span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span>, with a data
format indicated by the media type <code>application/alto-endpointcostparams+json</code>,
which is a JSON object of type PVReqEndpointCost:<a href="#section-7.3.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.3.3-2">
<pre>
object {
  [EntityPropertyName ane-property-names&lt;0..*&gt;;]
} PVReqEndpointcost : ReqEndpointcostMap;
</pre><a href="#section-7.3.3-2" class="pilcrow">¶</a>
</div>
<p id="section-7.3.3-3">with fields:<a href="#section-7.3.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3.3-4">
            <dt id="section-7.3.3-4.1">
ane-property-names:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.3.3-4.2">
              <p id="section-7.3.3-4.2.1">This document defines the <code>ane-property-names</code> in PVReqEndpointcost as the
same as in PVReqFilteredCostMap. See <a href="#pvcm-accept" class="xref">Section 7.2.3</a>.<a href="#section-7.3.3-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.3.3-5">Example: Consider the network in <a href="#fig-dumbbell" class="xref">Figure 1</a>. If an ALTO client wants to
query the <code>max-reservable-bandwidth</code> between eh1 and eh2, it can submit the
following request.<a href="#section-7.3.3-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.3.3-6">
<pre>
POST /ecs/pv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;type=application/alto-endpointcost+json,
        application/alto-error+json
Content-Length: 222
Content-Type: application/alto-endpointcostparams+json

{
  "cost-type": {
    "cost-mode": "array",
    "cost-metric": "ane-path"
  },
  "endpoints": {
    "srcs": [ "ipv4:192.0.2.2" ],
    "dsts": [ "ipv4:192.0.2.18" ]
  },
  "ane-property-names": [ "max-reservable-bandwidth" ]
}
</pre><a href="#section-7.3.3-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pvecs-cap">
<section id="section-7.3.4">
          <h4 id="name-capabilities-2">
<a href="#section-7.3.4" class="section-number selfRef">7.3.4. </a><a href="#name-capabilities-2" class="section-name selfRef">Capabilities</a>
          </h4>
<p id="section-7.3.4-1">The capabilities of the multipart Endpoint Cost Service resource are defined by
a JSON object of type PVEndpointcostCapabilities, which is defined as the same
as PVFilteredCostMapCapabilities. See <a href="#pvcm-cap" class="xref">Section 7.2.4</a>.<a href="#section-7.3.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="uses-1">
<section id="section-7.3.5">
          <h4 id="name-uses-2">
<a href="#section-7.3.5" class="section-number selfRef">7.3.5. </a><a href="#name-uses-2" class="section-name selfRef">Uses</a>
          </h4>
<p id="section-7.3.5-1">If this resource supports <code>persistent-entity-id</code>, it MUST also include the
defining resources of persistent ANEs that may appear in the response.<a href="#section-7.3.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pvecs-resp">
<section id="section-7.3.6">
          <h4 id="name-response-2">
<a href="#section-7.3.6" class="section-number selfRef">7.3.6. </a><a href="#name-response-2" class="section-name selfRef">Response</a>
          </h4>
<p id="section-7.3.6-1">The response MUST indicate an error, using ALTO protocol error handling, as
defined in Section 8.5 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, if the request is invalid.<a href="#section-7.3.6-1" class="pilcrow">¶</a></p>
<p id="section-7.3.6-2">The "Content-Type" header of the response MUST be <code>multipart/related</code> as defined
by <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> with the following parameters:<a href="#section-7.3.6-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3.6-3">
            <dt id="section-7.3.6-3.1">
type:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.3.6-3.2">
              <p id="section-7.3.6-3.2.1">The type parameter MUST be "application/alto-endpointcost+json".<a href="#section-7.3.6-3.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.3.6-3.3">
start:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.3.6-3.4">
              <p id="section-7.3.6-3.4.1">The start parameter is as defined in <a href="#pvcm-resp" class="xref">Section 7.2.6</a>.<a href="#section-7.3.6-3.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.3.6-3.5">
boundary:  </dt>
            <dd style="margin-left: 1.5em" id="section-7.3.6-3.6">
              <p id="section-7.3.6-3.6.1">The boundary parameter is as defined in <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span>.<a href="#section-7.3.6-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.3.6-4">The body MUST consist of two parts:<a href="#section-7.3.6-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.3.6-5.1">
              <p id="section-7.3.6-5.1.1">The Path Vector part MUST include <code>Content-ID</code> and <code>Content-Type</code> in its
header. The value of <code>Content-ID</code> MUST has the format of a Part Resource ID.
The <code>Content-Type</code> MUST be <code>application/alto-endpointcost+json</code>.<a href="#section-7.3.6-5.1.1" class="pilcrow">¶</a></p>
<p id="section-7.3.6-5.1.2">
The body of the Path Vector part MUST be a JSON object with the same format as
defined in Section 11.5.1.6 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> when the <code>cost-type</code> field is
present in the input parameters and MUST be a JSON object with the same format
as defined in Section 4.1.3 of <span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span> if the <code>multi-cost-types</code> field is
present. The JSON object MUST include the
<code>vtag</code> field in the <code>meta</code> field, which provides the version tag of the returned
EndpointCostMapData. The resource ID of the version tag MUST follow the format of<a href="#section-7.3.6-5.1.2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.3.6-5.1.3">
<pre>
resource-id '.' part-resource-id
</pre><a href="#section-7.3.6-5.1.3" class="pilcrow">¶</a>
</div>
<p id="section-7.3.6-5.1.4">
where <code>resource-id</code> is the resource Id of the Path Vector resource, and
<code>part-resource-id</code> has the same value as the <code>Content-ID</code> of the Path Vector
part.<a href="#section-7.3.6-5.1.4" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-7.3.6-5.2">
              <p id="section-7.3.6-5.2.1">The Unified Property Map part MUST also include <code>Content-ID</code> and
<code>Content-Type</code> in its header. The value of <code>Content-ID</code> MUST has the format
of a Part Resource ID. The <code>Content-Type</code> MUST be
<code>application/alto-propmap+json</code>.<a href="#section-7.3.6-5.2.1" class="pilcrow">¶</a></p>
<p id="section-7.3.6-5.2.2">
The body of the Unified Property Map part MUST be a JSON object with the same
format as defined in Section 4.6 of <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>. The
JSON object MUST include the <code>dependent-vtags</code> field in the <code>meta</code> field. The
value of the <code>dependent-vtags</code> field MUST be an array of VersionTag objects as
defined by Section 10.3 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. The <code>vtag</code> of the Path Vector part MUST
be included in the <code>dependent-vtags</code>. If <code>persistent-entity-id</code> is requested, the
version tags of the dependent resources that MAY expose the entities in the
response MUST also be included.<a href="#section-7.3.6-5.2.2" class="pilcrow">¶</a></p>
<p id="section-7.3.6-5.2.3">
The PropertyMapData has one member for each ANEName that appears in the Path
Vector part, which is an entity identifier belonging to the self-defined
entity domain as defined in Section 5.1.2.3 of
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>. The EntityProps for each ANE has one
member for each property that is both 1) associated with the ANE, and 2)
specified in the <code>ane-property-names</code> in the request. If the Path Vector cost
type is not included in the <code>cost-type</code> field or the <code>multi-cost-type</code> field,
the <code>property-map</code> field MUST be present and the value MUST be an empty object
({}).<a href="#section-7.3.6-5.2.3" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.3.6-6">A complete and valid response MUST include both the Path Vector part and the
Property Map part in the multipart message. If any part is NOT present, the
client MUST discard the received information and send another request if
necessary.<a href="#section-7.3.6-6" class="pilcrow">¶</a></p>
<p id="section-7.3.6-7">According to <span>[<a href="#RFC2387" class="xref">RFC2387</a>]</span>, the Path Vector part, whose media type is
the same as the <code>type</code> parameter of the multipart response message, is the root
object. Thus, it is the element the application processes first. Even though the
<code>start</code> parameter allows it to be placed anywhere in the part sequence, it is
RECOMMENDED that the parts arrive in the same order as they are processed, i.e.,
the Path Vector part is always put as the first part, followed by the Property
Map part. When doing so, an ALTO server MAY choose not to set the <code>start</code>
parameter, which implies the first part is the root object.<a href="#section-7.3.6-7" class="pilcrow">¶</a></p>
<p id="section-7.3.6-8">Example: Consider the network in <a href="#fig-dumbbell" class="xref">Figure 1</a>. The response of the example
request in <a href="#pvecs-accept" class="xref">Section 7.3.3</a> is as follows.<a href="#section-7.3.6-8" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.3.6-9">
<pre>
HTTP/1.1 200 OK
Content-Length: 810
Content-Type: multipart/related; boundary=example-1;
              type=application/alto-endpointcost+json

--example-1
Content-ID: ecs
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtag": {
      "resource-id": "ecs-pv.costmap",
      "tag": "d827f484cb66ce6df6b5077cb8562b0a"
    },
    "dependent-vtags": [
      {
        "resource-id": "my-default-networkmap",
        "tag": "75ed013b3cb58f896e839582504f6228"
      }
    ],
    "cost-type": { "cost-mode": "array", "cost-metric": "ane-path" }
  },
  "cost-map": {
    "ipv4:192.0.2.2": { "ipv4:192.0.2.18": ["ANE1"] }
  }
}
--example-1
Content-ID: propmap
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "ecs-pv.costmap",
        "tag": "d827f484cb66ce6df6b5077cb8562b0a"
      }
    ]
  },
  "property-map": {
    ".ane:ANE1": { "max-reservable-bandwidth": 100000000 }
  }
}
</pre><a href="#section-7.3.6-9" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Examples">
<section id="section-8">
      <h2 id="name-examples">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
      </h2>
<p id="section-8-1">This section lists some examples of Path Vector queries and the corresponding
responses. Some long lines are truncated for better readability.<a href="#section-8-1" class="pilcrow">¶</a></p>
<div id="example-ird">
<section id="section-8.1">
        <h3 id="name-example-information-resourc">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-example-information-resourc" class="section-name selfRef">Example: Information Resource Directory</a>
        </h3>
<p id="section-8.1-1">To give a comprehensive example of the extension defined in this document, we
consider the network in <a href="#fig-pe" class="xref">Figure 5</a>. Assume that the ALTO server provides the
following information resources:<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-2.1">
            <code>my-default-networkmap</code>: A Network Map resource which contains the PIDs in the
network.<a href="#section-8.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.2">
            <code>filtered-cost-map-pv</code>: A Multipart Filtered Cost Map resource for Path Vector,
which exposes the <code>max-reservable-bandwidth</code> property for the PIDs in
<code>my-default-networkmap</code>.<a href="#section-8.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.3">
            <code>ane-props</code>: A filtered Unified Property resource that exposes the
information for persistent ANEs in the network.<a href="#section-8.1-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.4">
            <code>endpoint-cost-pv</code>: A Multipart Endpoint Cost Service for Path Vector, which
exposes the <code>max-reservable-bandwidth</code> and the <code>persistent-entity-id</code> properties.<a href="#section-8.1-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.5">
            <code>update-pv</code>: An Update Stream service, which provides the incremental update
service for the <code>endpoint-cost-pv</code> service.<a href="#section-8.1-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.6">
            <code>multicost-pv</code>: A Multipart Endpoint Cost Service with both Multi-Cost and
Path Vector.<a href="#section-8.1-2.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.1-3">Below is the Information Resource Directory of the example ALTO server. To
enable the extension defined in this document, the <code>path-vector</code> cost type
(<a href="#cost-type-spec" class="xref">Section 6.5</a>) is defined in the <code>cost-types</code> of the <code>meta</code> field, and is
included in the <code>cost-type-names</code> of resources <code>filtered-cost-map-pv</code> and
<code>endpoint-cost-pv</code>.<a href="#section-8.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.1-4">
<pre>
{
  "meta": {
    "cost-types": {
      "path-vector": {
        "cost-mode": "array",
        "cost-metric": "ane-path"
      },
      "num-rc": {
        "cost-mode": "numerical",
        "cost-metric": "routingcost"
      }
    }
  },
  "resources": {
    "my-default-networkmap": {
      "uri" : "https://alto.example.com/networkmap",
      "media-type" : "application/alto-networkmap+json"
    },
    "filtered-cost-map-pv": {
      "uri": "https://alto.example.com/costmap/pv",
      "media-type": "multipart/related;
                     type=application/alto-costmap+json",
      "accepts": "application/alto-costmapfilter+json",
      "capabilities": {
        "cost-type-names": [ "path-vector" ],
        "ane-property-names": [ "max-reservable-bandwidth" ]
      },
      "uses": [ "my-default-networkmap" ]
    },
    "ane-props": {
      "uri": "https://alto.example.com/ane-props",
      "media-type": "application/alto-propmap+json",
      "accepts": "application/alto-propmapparams+json",
      "capabilities": {
        "mappings": {
          ".ane": [ "cpu" ]
        }
      }
    },
    "endpoint-cost-pv": {
      "uri": "https://alto.exmaple.com/endpointcost/pv",
      "media-type": "multipart/related;
                     type=application/alto-endpointcost+json",
      "accepts": "application/alto-endpointcostparams+json",
      "capabilities": {
        "cost-type-names": [ "path-vector" ],
        "ane-property-names": [
          "max-reservable-bandwidth", "persistent-entity-id"
        ]
      },
      "uses": [ "ane-props" ]
    },
    "update-pv": {
      "uri": "https://alto.example.com/updates/pv",
      "media-type": "text/event-stream",
      "uses": [ "endpoint-cost-pv" ],
      "accepts": "application/alto-updatestreamparams+json",
      "capabilities": {
        "support-stream-control": true
      }
    },
    "multicost-pv": {
      "uri": "https://alto.exmaple.com/endpointcost/mcpv",
      "media-type": "multipart/related;
                     type=application/alto-endpointcost+json",
      "accepts": "application/alto-endpointcostparams+json",
      "capabilities": {
        "cost-type-names": [ "path-vector", "num-rc" ],
        "max-cost-types": 2,
        "testable-cost-type-names": [ "num-rc" ]
        "ane-property-names": [
          "max-reservable-bandwidth", "persistent-entity-id"
        ]
      },
      "uses": [ "ane-props" ]
    }
  }
}
</pre><a href="#section-8.1-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example-multipart-filtered-cost-map">
<section id="section-8.2">
        <h3 id="name-example-multipart-filtered-">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-example-multipart-filtered-" class="section-name selfRef">Example: Multipart Filtered Cost Map</a>
        </h3>
<p id="section-8.2-1">The following examples demonstrate the request to the <code>filtered-cost-map-pv</code>
resource and the corresponding response.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">The request uses the "path-vector" cost type in the <code>cost-type</code> field. The
<code>ane-property-names</code> field is missing, indicating that the client only requests
for the Path Vector but not the ANE properties.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<p id="section-8.2-3">The response consists of two parts. The first part returns the array of ANEName
for each source and destination pair. There are two ANEs, where <code>L1</code> represents
the interconnection link L1, and <code>L2</code> represents the interconnection link L2.<a href="#section-8.2-3" class="pilcrow">¶</a></p>
<p id="section-8.2-4">The second part returns an empty Property Map. Note that the ANE entries are
omitted since they have no properties (See Section 3.1 of
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>).<a href="#section-8.2-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.2-5">
<pre>
POST /costmap/pv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;type=application/alto-costmap+json,
        application/alto-error+json
Content-Length: 153
Content-Type: application/alto-costmapfilter+json

{
  "cost-type": {
    "cost-mode": "array",
    "cost-metric": "ane-path"
  },
  "pids": {
    "srcs": [ "PID1" ],
    "dsts": [ "PID3", "PID4" ]
  }
}
</pre><a href="#section-8.2-5" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-8.2-6">
<pre>
HTTP/1.1 200 OK
Content-Length: 818
Content-Type: multipart/related; boundary=example-1;
              type=application/alto-costmap+json

--example-1
Content-ID: costmap
Content-Type: application/alto-costmap+json

{
  "meta": {
    "vtag": {
      "resource-id": "filtered-cost-map-pv.costmap",
      "tag": "d827f484cb66ce6df6b5077cb8562b0a"
    },
    "dependent-vtags": [
      {
        "resource-id": "my-default-networkmap",
        "tag": "75ed013b3cb58f896e839582504f6228"
      }
    ],
    "cost-type": {
      "cost-mode": "array",
      "cost-metric": "ane-path"
    }
  },
  "cost-map": {
    "PID1": {
      "PID3": [ "L1" ],
      "PID4": [ "L1", "L2" ]
    }
  }
}
--example-1
Content-ID: propmap
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "filtered-cost-map-pv.costmap",
        "tag": "d827f484cb66ce6df6b5077cb8562b0a"
      }
    ]
  },
  "property-map": {
  }
}
</pre><a href="#section-8.2-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example-ecspv">
<section id="section-8.3">
        <h3 id="name-example-multipart-endpoint-">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-example-multipart-endpoint-" class="section-name selfRef">Example: Multipart Endpoint Cost Service Resource</a>
        </h3>
<p id="section-8.3-1">The following examples demonstrate the request to the <code>endpoint-cost-pv</code>
resource and the corresponding response.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<p id="section-8.3-2">The request uses the Path Vector cost type in the <code>cost-type</code> field, and
queries the Maximum Reservable Bandwidth ANE property and the Persistent Entity
property for two source and destination pairs: 192.0.2.34 -&gt; 192.0.2.2 and
192.0.2.34 -&gt; 192.0.2.50.<a href="#section-8.3-2" class="pilcrow">¶</a></p>
<p id="section-8.3-3">The response consists of two parts. The first part returns the array of ANEName
for each valid source and destination pair. As one can see in <a href="#fig-pe" class="xref">Figure 5</a>, flow
192.0.2.34 -&gt; 192.0.2.2 traverses NET2, L1 and NET1, and flow 192.0.2.34 -&gt;
192.0.2.50 traverses NET2, L2 and NET3.<a href="#section-8.3-3" class="pilcrow">¶</a></p>
<p id="section-8.3-4">The second part returns the requested properties of ANEs. Assume NET1, NET2 and NET3 has
sufficient bandwidth and their <code>max-reservable-bandwidth</code> values are set to a sufficiently
large number (50 Gbps in this case). On the other hand, assume there are no
prior reservation on L1 and L2, and their <code>max-reservable-bandwidth</code> values are
the corresponding link capacity (10 Gbps for L1 and 15 Gbps for L2).<a href="#section-8.3-4" class="pilcrow">¶</a></p>
<p id="section-8.3-5">Both NET1 and NET2 have a mobile edge deployed, i.e., MEC1 in NET1 and MEC2 in
NET2. Assume the ANEName for MEC1 and MEC2 are <code>MEC1</code> and <code>MEC2</code> and their
properties can be retrieved from the Property Map <code>ane-props</code>. Thus, the
<code>persistent-entity-id</code> property of NET1 and NET3 are <code>ane-props.ane:MEC1</code> and
<code>ane-props.ane:MEC2</code> respectively.<a href="#section-8.3-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.3-6">
<pre>
POST /endpointcost/pv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;
        type=application/alto-endpointcost+json,
        application/alto-error+json
Content-Length: 278
Content-Type: application/alto-endpointcostparams+json

{
  "cost-type": {
    "cost-mode": "array",
    "cost-metric": "ane-path"
  },
  "endpoints": {
    "srcs": [ "ipv4:192.0.2.34" ],
    "dsts": [ "ipv4:192.0.2.2", "ipv4:192.0.2.50" ]
  },
  "ane-property-names": [
    "max-reservable-bandwidth",
    "persistent-entity-id"
  ]
}
</pre><a href="#section-8.3-6" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-8.3-7">
<pre>
HTTP/1.1 200 OK
Content-Length: 1305
Content-Type: multipart/related; boundary=example-2;
              type=application/alto-endpointcost+json

--example-2
Content-ID: ecs
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtags": {
      "resource-id": "endpoint-cost-pv.ecs",
      "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
    },
    "cost-type": {
      "cost-mode": "array",
      "cost-metric": "ane-path"
    }
  },
  "endpoint-cost-map": {
    "ipv4:192.0.2.34": {
      "ipv4:192.0.2.2":   [ "NET3", "L1", "NET1" ],
      "ipv4:192.0.2.50":   [ "NET3", "L2", "NET2" ]
    }
  }
}
--example-2
Content-ID: propmap
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "endpoint-cost-pv.ecs",
        "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
      },
      {
        "resource-id": "ane-props",
        "tag": "bf3c8c1819d2421c9a95a9d02af557a3"
      }
    ]
  },
  "property-map": {
    ".ane:NET1": {
      "max-reservable-bandwidth": 50000000000,
      "persistent-entity-id": "ane-props.ane:MEC1"
    },
    ".ane:NET2": {
      "max-reservable-bandwidth": 50000000000,
      "persistent-entity-id": "ane-props.ane:MEC2"
    },
    ".ane:NET3": {
      "max-reservable-bandwidth": 50000000000
    },
    ".ane:L1": {
      "max-reservable-bandwidth": 10000000000
    },
    ".ane:L2": {
      "max-reservable-bandwidth": 15000000000
    }
  }
}
</pre><a href="#section-8.3-7" class="pilcrow">¶</a>
</div>
<p id="section-8.3-8">As mentioned in <a href="#metric-spec" class="xref">Section 6.5.1</a>, an advanced ALTO server may obfuscate the
response in order to preserve its own privacy or conform to its own policies.
For example, an ALTO server may choose to aggregate NET1 and L1 as a new ANE
with ANE name <code>AGGR1</code>, and aggregate NET2 and L2 as a new ANE with ANE name
<code>AGGR2</code>. The <code>max-reservable-bandwidth</code> of <code>AGGR1</code> takes the value of L1, which
is smaller than that of NET1, and the <code>persistent-entity-id</code> of <code>AGGR1</code> takes
the value of NET1. The properties of <code>AGGR2</code> are computed in a similar way and
the obfuscated response is as shown below. Note that the obfuscation of Path
Vector responses is implementation-specific and is out of the scope of this
document, and developers may refer to <a href="#Security" class="xref">Section 11</a> for further references.<a href="#section-8.3-8" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.3-9">
<pre>
HTTP/1.1 200 OK
Content-Length: 1157
Content-Type: multipart/related; boundary=example-2;
              type=application/alto-endpointcost+json

--example-2
Content-ID: ecs
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtags": {
      "resource-id": "endpoint-cost-pv.ecs",
      "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
    },
    "cost-type": {
      "cost-mode": "array",
      "cost-metric": "ane-path"
    }
  },
  "endpoint-cost-map": {
    "ipv4:192.0.2.34": {
      "ipv4:192.0.2.2":   [ "NET3", "AGGR1" ],
      "ipv4:192.0.2.50":   [ "NET3", "AGGR2" ]
    }
  }
}
--example-2
Content-ID: propmap
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "endpoint-cost-pv.ecs",
        "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
      },
      {
        "resource-id": "ane-props",
        "tag": "bf3c8c1819d2421c9a95a9d02af557a3"
      }
    ]
  },
  "property-map": {
    ".ane:AGGR1": {
      "max-reservable-bandwidth": 10000000000,
      "persistent-entity-id": "ane-props.ane:MEC1"
    },
    ".ane:AGGR2": {
      "max-reservable-bandwidth": 15000000000,
      "persistent-entity-id": "ane-props.ane:MEC2"
    },
    ".ane:NET3": {
      "max-reservable-bandwidth": 50000000000
    }
  }
}
</pre><a href="#section-8.3-9" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example-sse">
<section id="section-8.4">
        <h3 id="name-example-incremental-updates">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-example-incremental-updates" class="section-name selfRef">Example: Incremental Updates</a>
        </h3>
<p id="section-8.4-1">In this example, an ALTO client subscribes to the incremental update for the
multipart Endpoint Cost Service resource <code>endpoint-cost-pv</code>.<a href="#section-8.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.4-2">
<pre>
POST /updates/pv HTTP/1.1
Host: alto.example.com
Accept: text/event-stream
Content-Type: application/alto-updatestreamparams+json
Content-Length: 112

{
  "add": {
    "ecspvsub1": {
      "resource-id": "endpoint-cost-pv",
      "input": &lt;ecs-input&gt;
    }
  }
}
</pre><a href="#section-8.4-2" class="pilcrow">¶</a>
</div>
<p id="section-8.4-3">Based on the server-side process defined in <span>[<a href="#RFC8895" class="xref">RFC8895</a>]</span>, the ALTO server will
send the <code>control-uri</code> first using Server-Sent Event (SSE), followed by the full
response of the multipart message.<a href="#section-8.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.4-4">
<pre>
HTTP/1.1 200 OK
Connection: keep-alive
Content-Type: text/event-stream

event: application/alto-updatestreamcontrol+json
data: {"control-uri": "https://alto.example.com/updates/streams/123"}

event: multipart/related;boundary=example-3;
       type=application/alto-endpointcost+json,ecspvsub1
data: --example-3
data: Content-ID: ecsmap
data: Content-Type: application/alto-endpointcost+json
data:
data: &lt;endpoint-cost-map-entry&gt;
data: --example-3
data: Content-ID: propmap
data: Content-Type: application/alto-propmap+json
data:
data: &lt;property-map-entry&gt;
data: --example-3--
</pre><a href="#section-8.4-4" class="pilcrow">¶</a>
</div>
<p id="section-8.4-5">When the contents change, the ALTO server will publish the updates for each node
in this tree separately.<a href="#section-8.4-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.4-6">
<pre>
event: application/merge-patch+json, ecspvsub1.ecsmap
data: &lt;Merge patch for endpoint-cost-map-update&gt;

event: application/merge-patch+json, ecspvsub1.propmap
data: &lt;Merge patch for property-map-update&gt;
</pre><a href="#section-8.4-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example-multi-cost">
<section id="section-8.5">
        <h3 id="name-example-multi-cost">
<a href="#section-8.5" class="section-number selfRef">8.5. </a><a href="#name-example-multi-cost" class="section-name selfRef">Example: Multi-cost</a>
        </h3>
<p id="section-8.5-1">The following examples demonstrate the request to the <code>multicost-pv</code> resource and the corresponding response.<a href="#section-8.5-1" class="pilcrow">¶</a></p>
<p id="section-8.5-2">The request asks for two cost types: the first is the Path Vector cost type, and
the second is a numerical routing cost. It also queries the Maximum Reservable
Bandwidth ANE property and the Persistent Entity property for two source and
destination pairs: 192.0.2.34 -&gt; 192.0.2.2 and 192.0.2.34 -&gt; 192.0.2.50.<a href="#section-8.5-2" class="pilcrow">¶</a></p>
<p id="section-8.5-3">The response consists of two parts. The first part returns a JSONArray that
contains two JSONValue for each requested source and destination pair: the first
JSONValue is a JSONArray of ANENames, which is the value of the Path Vector cost
type, and the second JSONValue is a JSONNumber which is the value of the routing
cost. The second part is the same as in <a href="#example-ecspv" class="xref">Section 8.3</a><a href="#section-8.5-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.5-4">
<pre>
POST /endpointcost/mcpv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;
        type=application/alto-endpointcost+json,
        application/alto-error+json
Content-Length: 351
Content-Type: application/alto-endpointcostparams+json

{
  "multi-cost-types": [
    { "cost-mode": "array", "cost-metric": "ane-path" },
    { "cost-mode": "numerical", "cost-metric": "routingcost" }
  ],
  "endpoints": {
    "srcs": [ "ipv4:192.0.2.34" ],
    "dsts": [ "ipv4:192.0.2.2", "ipv4:192.0.2.50" ]
  },
  "ane-property-names": [
    "max-reservable-bandwidth",
    "persistent-entity-id"
  ]
}
</pre><a href="#section-8.5-4" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-8.5-5">
<pre>
HTTP/1.1 200 OK
Content-Length: 1240
Content-Type: multipart/related; boundary=example-2;
              type=application/alto-endpointcost+json

--example-2
Content-ID: ecs
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtags": {
      "resource-id": "endpoint-cost-pv.ecs",
      "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
    },
    "multi-cost-types": [
      { "cost-mode": "array", "cost-metric": "ane-path" },
      { "cost-mode": "numerical", "cost-metric": "routingcost" }
    ]
  },
  "endpoint-cost-map": {
    "ipv4:192.0.2.34": {
      "ipv4:192.0.2.2":   [[ "NET3", "AGGR1" ], 1],
      "ipv4:192.0.2.50":   [[ "NET3", "AGGR2" ], 1]
    }
  }
}
--example-2
Content-ID: propmap
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "endpoint-cost-pv.ecs",
        "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
      },
      {
        "resource-id": "ane-props",
        "tag": "bf3c8c1819d2421c9a95a9d02af557a3"
      }
    ]
  },
  "property-map": {
    ".ane:AGGR1": {
      "max-reservable-bandwidth": 10000000000,
      "persistent-entity-id": "ane-props.ane:MEC1"
    },
    ".ane:AGGR2": {
      "max-reservable-bandwidth": 15000000000,
      "persistent-entity-id": "ane-props.ane:MEC2"
    },
    ".ane:NET3": {
      "max-reservable-bandwidth": 50000000000
    }
  }
}
</pre><a href="#section-8.5-5" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="Compatibility">
<section id="section-9">
      <h2 id="name-compatibility-with-other-al">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-compatibility-with-other-al" class="section-name selfRef">Compatibility with Other ALTO Extensions</a>
      </h2>
<div id="compatibility-with-legacy-alto-clientsservers">
<section id="section-9.1">
        <h3 id="name-compatibility-with-legacy-a">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-compatibility-with-legacy-a" class="section-name selfRef">Compatibility with Legacy ALTO Clients/Servers</a>
        </h3>
<p id="section-9.1-1">The multipart Filtered Cost Map resource and the multipart Endpoint Cost
Service resource has no backward compatibility issue with legacy ALTO clients and
servers. Although these two types of resources reuse the media types defined in
the base ALTO protocol for the accept input parameters, they have different
media types for responses. If the ALTO server provides these two types of
resources, but the ALTO client does not support them, the ALTO client will
ignore the resources without incurring any incompatibility problem.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="compatibility-with-multi-cost-extension">
<section id="section-9.2">
        <h3 id="name-compatibility-with-multi-co">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-compatibility-with-multi-co" class="section-name selfRef">Compatibility with Multi-Cost Extension</a>
        </h3>
<p id="section-9.2-1">The extension defined in this document is compatible with the multi-cost
extension <span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span>. Such a resource has a media type of either
<code>multipart/related; type=application/alto-costmap+json</code> or <code>multipart/related;
type=application/alto-endpointcost+json</code>. Its <code>cost-constraints</code> field must
either be <code>false</code> or not present and the Path Vector cost type must be present
in the <code>cost-type-names</code> capability field but must not be present in the
<code>testable-cost-type-names</code> field, as specified in <a href="#pvcm-cap" class="xref">Section 7.2.4</a> and <a href="#pvecs-cap" class="xref">Section 7.3.4</a>.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="compatibility-with-incremental-update">
<section id="section-9.3">
        <h3 id="name-compatibility-with-incremen">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-compatibility-with-incremen" class="section-name selfRef">Compatibility with Incremental Update</a>
        </h3>
<p id="section-9.3-1">ALTO clients and servers MUST follow the specifications given in Section 5.2 of
<span>[<a href="#RFC8895" class="xref">RFC8895</a>]</span> to support incremental updates for a Path Vector resource.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="compatibility-with-cost-calendar">
<section id="section-9.4">
        <h3 id="name-compatibility-with-cost-cal">
<a href="#section-9.4" class="section-number selfRef">9.4. </a><a href="#name-compatibility-with-cost-cal" class="section-name selfRef">Compatibility with Cost Calendar</a>
        </h3>
<p id="section-9.4-1">The extension specified in this document is compatible with the Cost Calendar
extension <span>[<a href="#RFC8896" class="xref">RFC8896</a>]</span>. When used together with the Cost Calendar extension, the
cost value between a source and a destination is an array of Path Vectors, where
the k-th Path Vector refers to the abstract network paths traversed in the k-th
time interval by traffic from the source to the destination.<a href="#section-9.4-1" class="pilcrow">¶</a></p>
<p id="section-9.4-2">When used with time-varying properties, e.g., maximum reservable bandwidth
(maxresbw), a property of a single ANE may also have different values in
different time intervals. In this case, if such an ANE has different property
values in two time intervals, it MUST be treated as two different ANEs, i.e.,
with different entity identifiers. However, if it has the same property values
in two time intervals, it MAY use the same identifier.<a href="#section-9.4-2" class="pilcrow">¶</a></p>
<p id="section-9.4-3">This rule allows the Path Vector extension to represent both changes of ANEs and
changes of the ANEs' properties in a uniform way. The Path Vector part is
calendared in a compatible way, and the Property Map part is not affected by the
calendar extension.<a href="#section-9.4-3" class="pilcrow">¶</a></p>
<p id="section-9.4-4">The two extensions combined together can provide the historical network
correlation information for a set of source and destination pairs. A network
broker or client may use this information to derive other resource requirements
such as Time-Block-Maximum Bandwidth, Bandwidth-Sliding-Window, and
Time-Bandwidth-Product (TBP) (See <span>[<a href="#SENSE" class="xref">SENSE</a>]</span> for details).<a href="#section-9.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="SecDisc">
<section id="section-10">
      <h2 id="name-general-discussions">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-general-discussions" class="section-name selfRef">General Discussions</a>
      </h2>
<div id="constraint-tests-for-general-cost-types">
<section id="section-10.1">
        <h3 id="name-constraint-tests-for-genera">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-constraint-tests-for-genera" class="section-name selfRef">Constraint Tests for General Cost Types</a>
        </h3>
<p id="section-10.1-1">The constraint test is a simple approach to query the data. It allows users to
filter the query result by specifying some boolean tests. This approach is
already used in the ALTO protocol. <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> and <span>[<a href="#RFC8189" class="xref">RFC8189</a>]</span> allow ALTO
clients to specify the <code>constraints</code> and <code>or-constraints</code> tests to better
filter the result.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<p id="section-10.1-2">However, the current syntax can only be used to test scalar cost types, and
cannot easily express constraints on complex cost types, e.g., the Path Vector
cost type defined in this document.<a href="#section-10.1-2" class="pilcrow">¶</a></p>
<p id="section-10.1-3">In practice, developing a bespoke language for general-purpose boolean tests can
be a complex undertaking, and it is conceivable that there are some existing
implementations already (the authors have not done an exhaustive search to
determine whether there are such implementations). One avenue to develop such a
language may be to explore extending current query languages like XQuery
<span>[<a href="#XQuery" class="xref">XQuery</a>]</span> or JSONiq <span>[<a href="#JSONiq" class="xref">JSONiq</a>]</span> and integrating these with ALTO.<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<p id="section-10.1-4">Filtering the Path Vector results or developing a more sophisticated filtering
mechanism is beyond the scope of this document.<a href="#section-10.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="general-multi-resource-query">
<section id="section-10.2">
        <h3 id="name-general-multi-resource-quer">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-general-multi-resource-quer" class="section-name selfRef">General Multi-Resource Query</a>
        </h3>
<p id="section-10.2-1">Querying multiple ALTO information resources continuously is a general
requirement. Enabling such a capability, however, must address general
issues like efficiency and consistency. The incremental update extension
<span>[<a href="#RFC8895" class="xref">RFC8895</a>]</span> supports submitting multiple queries in a single request, and allows
flexible control over the queries. However, it does not cover the case
introduced in this document where multiple resources are needed for a single
request.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<p id="section-10.2-2">This extension gives an example of using a multipart message to encode the
responses from two specific ALTO information resources: a Filtered Cost Map or
an Endpoint Cost Service, and a Property Map. By packing multiple resources in a
single response, the implication is that servers may proactively push related
information resources to clients.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
<p id="section-10.2-3">Thus, it is worth looking into the direction of extending the SSE mechanism as
used in the incremental update extension <span>[<a href="#RFC8895" class="xref">RFC8895</a>]</span>, or upgrading to HTTP/2
<span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span> and HTTP/3 <span>[<a href="#I-D.ietf-quic-http" class="xref">I-D.ietf-quic-http</a>]</span>, which provides the ability to
multiplex queries and to allow servers proactively send related information
resources.<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<p id="section-10.2-4">Defining a general multi-resource query mechanism is out of the scope of this
document.<a href="#section-10.2-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-11">
      <h2 id="name-security-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-11-1">This document is an extension of the base ALTO protocol, so the Security
Considerations <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> of the base ALTO protocol fully apply when this
extension is provided by an ALTO server.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">The Path Vector extension requires additional scrutiny on three security
considerations discussed in the base protocol: confidentiality of ALTO
information (Section 15.3 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>), potential undesirable guidance from
authenticated ALTO information (Section 15.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>), and availability
of ALTO service (Section 15.5 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>).<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">For confidentiality of ALTO information, a network operator should be aware of
that this extension may introduce a new risk: the Path Vector information may
make network attacks easier. For example, as the Path Vector information may
reveal more fine-grained internal network structures than the base protocol, an
ALTO client may detect the bottleneck link and start a distributed
denial-of-service (DDoS) attack involving minimal flows to conduct the
in-network congestion.<a href="#section-11-3" class="pilcrow">¶</a></p>
<p id="section-11-4">To mitigate this risk, the ALTO server should consider protection mechanisms to
reduce information exposure or obfuscate the real information, in particular,
in settings where the network and the application do not belong to the same
trust domain. For example, in the multi-flow bandwidth reservation use case as
introduced in <a href="#probstat" class="xref">Section 4</a>, only the available bandwidth of the shared
bottleneck link is crucial, and the ALTO server may only preserve the critical
bottlenecks and can change the order of links appearing in the Path Vector
response.<a href="#section-11-4" class="pilcrow">¶</a></p>
<p id="section-11-5">However, arbitrary reduction and obfuscation of information exposure may
potentially introduce a risk on the integrity of the ALTO information, leading to
infeasible or suboptimal decisions of ALTO clients,<a href="#section-11-5" class="pilcrow">¶</a></p>
<p id="section-11-6">To mitigate this risk, if an ALTO client finds that the traffic distribution
based on the Path Vector information is not feasible (e.g., causing constant
congestion) or not better than a distribution which does not fully conform to
the information (e.g., by randomly choosing the source/destination for certain
flows), it can follow the protection strategies for potential undesirable
guidance from authenticated ALTO information, specified in Section 15.2.2 of RFC
7285 <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. While repeatedly sending the same query can potentially detect
the integrity problem for certain obfuscation methods (e.g., those based on time
or randomness) under certain network conditions (e.g., where the routing and ANE
properties are stable), an ALTO client must be aware that this behavior may be
considered as a denial-of-service attack on the server and may lead to
the rejection of further requests from the client.<a href="#section-11-6" class="pilcrow">¶</a></p>
<p id="section-11-7">On the other hand, this risk can also be mitigated from the server side. While
the implementation of an ALTO server is beyond the scope of this document,
implementations of ALTO servers involving reduction or obfuscation of the Path
Vector information should consider reduction/obfuscation mechanisms that can
preserve the integrity of ALTO information, for example, by using minimal
feasible region compression algorithms <span>[<a href="#TON2019" class="xref">TON2019</a>]</span> or obfuscation protocols
<span>[<a href="#SC2018" class="xref">SC2018</a>]</span><span>[<a href="#JSAC2019" class="xref">JSAC2019</a>]</span>.<a href="#section-11-7" class="pilcrow">¶</a></p>
<p id="section-11-8">For availability of ALTO service, an ALTO server should be cognizant that using
Path Vector extension might have a new risk: frequent requesting for Path
Vectors might consume intolerable amounts of the server-side computation and
storage, which can break the ALTO server. For example, if an ALTO server
implementation dynamically computes the Path Vectors for each request, the
service providing Path Vectors may become an entry point for denial-of-service
attacks on the availability of an ALTO server.<a href="#section-11-8" class="pilcrow">¶</a></p>
<p id="section-11-9">To mitigate this risk, an ALTO server may consider using optimizations such as
precomputation-and-projection mechanisms <span>[<a href="#JSAC2019" class="xref">JSAC2019</a>]</span> to reduce the overhead for
processing each query. Also, an ALTO server may also protect itself from
malicious clients by monitoring the behaviors of clients and stopping serving
clients with suspicious behaviors (e.g., sending requests at a high frequency).<a href="#section-11-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="alto-entity-domain-type-registry">
<section id="section-12.1">
        <h3 id="name-alto-entity-domain-type-reg">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-alto-entity-domain-type-reg" class="section-name selfRef">ALTO Entity Domain Type Registry</a>
        </h3>
<p id="section-12.1-1">This document registers a new entry to the ALTO Domain Entity Type Registry, as
instructed by Section 12.2 of <span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>. The new entry
is as shown below in <a href="#tbl-entity-domain" class="xref">Table 1</a>.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<span id="name-alto-entity-domain-type-regi"></span><div id="tbl-entity-domain">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-alto-entity-domain-type-regi" class="selfRef">ALTO Entity Domain Type Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Identifier</th>
              <th class="text-left" rowspan="1" colspan="1">Entity Address Encoding</th>
              <th class="text-left" rowspan="1" colspan="1">Hierarchy &amp; Inheritance</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">ane</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#entity-address" class="xref">Section 6.2.2</a>
</td>
              <td class="text-left" rowspan="1" colspan="1">None</td>
            </tr>
          </tbody>
        </table>
</div>
<span class="break"></span><dl class="dlParallel" id="section-12.1-3">
          <dt id="section-12.1-3.1">
Identifier:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.2">
            <p id="section-12.1-3.2.1">See <a href="#domain-type" class="xref">Section 6.2.1</a>.<a href="#section-12.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.3">
Entity Identifier Encoding:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.4">
            <p id="section-12.1-3.4.1">See <a href="#entity-address" class="xref">Section 6.2.2</a>.<a href="#section-12.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.5">
Hierarchy:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.6">
            <p id="section-12.1-3.6.1">None<a href="#section-12.1-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.7">
Inheritance:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.8">
            <p id="section-12.1-3.8.1">None<a href="#section-12.1-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.9">
Media Type of Defining Resource:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.10">
            <p id="section-12.1-3.10.1">See <a href="#domain-defining" class="xref">Section 6.2.4</a>.<a href="#section-12.1-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.11">
Security Considerations:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.12">
            <p id="section-12.1-3.12.1">In some usage scenarios, ANE addresses carried in ALTO Protocol messages may
reveal information about an ALTO client or an ALTO service provider.
Applications and ALTO service providers using addresses of ANEs will be made
aware of how (or if) the addressing scheme relates to private information and
network proximity, in further iterations of this document.<a href="#section-12.1-3.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="alto-entity-property-type-registry">
<section id="section-12.2">
        <h3 id="name-alto-entity-property-type-r">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-alto-entity-property-type-r" class="section-name selfRef">ALTO Entity Property Type Registry</a>
        </h3>
<p id="section-12.2-1">Two initial entries are registered to the ALTO Domain <code>ane</code> in the <code>ALTO Entity
Property Type Registry</code>, as instructed by Section 12.3 of
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>. The two new entries are shown below in
<a href="#tbl-prop-type-reg" class="xref">Table 2</a>.<a href="#section-12.2-1" class="pilcrow">¶</a></p>
<span id="name-initial-entries-for-ane-dom"></span><div id="tbl-prop-type-reg">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-initial-entries-for-ane-dom" class="selfRef">Initial Entries for ane Domain in the ALTO Entity Property Types Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Identifier</th>
              <th class="text-left" rowspan="1" colspan="1">Intended Semantics</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">max-reservable-bandwidth</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#maxresbw" class="xref">Section 6.4.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">persistent-entity-id</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#persistent-entity-id" class="xref">Section 6.4.2</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<div id="acknowledgments">
<section id="section-13">
      <h2 id="name-acknowledgments">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-13-1">The authors would like to thank discussions with Andreas
Voellmy, Erran Li, Haibin Song, Haizhou Du, Jiayuan Hu, Qiao Xiang, Tianyuan Liu,
Xiao Shi, Xin Wang, and Yan Luo. The authors thank Greg Bernstein (Grotto Networks),
Dawn Chen (Tongji University), Wendy Roome, and Michael Scharf for
their contributions to earlier drafts.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-14">
      <h2 id="name-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-14.1">
        <h3 id="name-normative-references">
<a href="#section-14.1" class="section-number selfRef">14.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-alto-unified-props-new">[I-D.ietf-alto-unified-props-new]</dt>
        <dd>
<span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, Y. R.</span>, <span class="refAuthor">Zhang, J. J.</span>, and <span class="refAuthor">K. Gao</span>, <span class="refTitle">"ALTO Extension: Entity Property Maps"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-alto-unified-props-new-18</span>, <time datetime="2021-08-12" class="refDate">12 August 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-alto-unified-props-new-18">https://datatracker.ietf.org/doc/html/draft-ietf-alto-unified-props-new-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2387">[RFC2387]</dt>
        <dd>
<span class="refAuthor">Levinson, E.</span>, <span class="refTitle">"The MIME Multipart/Related Content-type"</span>, <span class="seriesInfo">RFC 2387</span>, <span class="seriesInfo">DOI 10.17487/RFC2387</span>, <time datetime="1998-08" class="refDate">August 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2387">https://www.rfc-editor.org/rfc/rfc2387</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7285">[RFC7285]</dt>
        <dd>
<span class="refAuthor">Alimi, R., Ed.</span>, <span class="refAuthor">Penno, R., Ed.</span>, <span class="refAuthor">Yang, Y., Ed.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">R. Woundy</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 7285</span>, <span class="seriesInfo">DOI 10.17487/RFC7285</span>, <time datetime="2014-09" class="refDate">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7285">https://www.rfc-editor.org/rfc/rfc7285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8189">[RFC8189]</dt>
        <dd>
<span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Roome, W.</span>, and <span class="refAuthor">N. Schwan</span>, <span class="refTitle">"Multi-Cost Application-Layer Traffic Optimization (ALTO)"</span>, <span class="seriesInfo">RFC 8189</span>, <span class="seriesInfo">DOI 10.17487/RFC8189</span>, <time datetime="2017-10" class="refDate">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8189">https://www.rfc-editor.org/rfc/rfc8189</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8895">[RFC8895]</dt>
        <dd>
<span class="refAuthor">Roome, W.</span> and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events (SSE)"</span>, <span class="seriesInfo">RFC 8895</span>, <span class="seriesInfo">DOI 10.17487/RFC8895</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8895">https://www.rfc-editor.org/rfc/rfc8895</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8896">[RFC8896]</dt>
      <dd>
<span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, R.</span>, <span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Deng, L.</span>, and <span class="refAuthor">N. Schwan</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Cost Calendar"</span>, <span class="seriesInfo">RFC 8896</span>, <span class="seriesInfo">DOI 10.17487/RFC8896</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8896">https://www.rfc-editor.org/rfc/rfc8896</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-14.2">
        <h3 id="name-informative-references">
<a href="#section-14.2" class="section-number selfRef">14.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="AAAI2019">[AAAI2019]</dt>
        <dd>
<span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Yu, H.</span>, <span class="refAuthor">Aspnes, J.</span>, <span class="refAuthor">Le, F.</span>, <span class="refAuthor">Kong, L.</span>, and <span class="refAuthor">Y.R. Yang</span>, <span class="refTitle">"Optimizing in the dark: Learning an optimal solution through a simple request interface"</span>, <span class="seriesInfo">Proceedings of the AAAI Conference on Artificial Intelligence 33, 1674-1681 </span>, <time datetime="2019" class="refDate">2019</time>. </dd>
<dd class="break"></dd>
<dt id="I-D.contreras-alto-service-edge">[I-D.contreras-alto-service-edge]</dt>
        <dd>
<span class="refAuthor">Contreras, L. M.</span>, <span class="refAuthor">Lachos, D. A.</span>, <span class="refAuthor">Rothenberg, C. E.</span>, and <span class="refAuthor">S. Randriamasy</span>, <span class="refTitle">"Use of ALTO for Determining Service Edge"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-contreras-alto-service-edge-03</span>, <time datetime="2021-07-12" class="refDate">12 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-contreras-alto-service-edge-03">https://datatracker.ietf.org/doc/html/draft-contreras-alto-service-edge-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.huang-alto-mowie-for-network-aware-app">[I-D.huang-alto-mowie-for-network-aware-app]</dt>
        <dd>
<span class="refAuthor">Xiong, C.</span>, <span class="refAuthor">Zhang, Y.</span>, <span class="refAuthor">Yang, Y. R.</span>, <span class="refAuthor">Li, G.</span>, <span class="refAuthor">Lei, Y.</span>, and <span class="refAuthor">Y. Han</span>, <span class="refTitle">"MoWIE for Network Aware Application"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-huang-alto-mowie-for-network-aware-app-03</span>, <time datetime="2021-07-12" class="refDate">12 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-huang-alto-mowie-for-network-aware-app-03">https://datatracker.ietf.org/doc/html/draft-huang-alto-mowie-for-network-aware-app-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-alto-performance-metrics">[I-D.ietf-alto-performance-metrics]</dt>
        <dd>
<span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Yang, Y. R.</span>, <span class="refAuthor">Lee, Y.</span>, <span class="refAuthor">Dhody, D.</span>, <span class="refAuthor">Randriamasy, S.</span>, and <span class="refAuthor">L. M. C. Murillo</span>, <span class="refTitle">"ALTO Performance Cost Metrics"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-alto-performance-metrics-17</span>, <time datetime="2021-07-27" class="refDate">27 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-alto-performance-metrics-17">https://datatracker.ietf.org/doc/html/draft-ietf-alto-performance-metrics-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-dmm-5g-uplane-analysis">[I-D.ietf-dmm-5g-uplane-analysis]</dt>
        <dd>
<span class="refAuthor">Homma, S.</span>, <span class="refAuthor">Miyasaka, T.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"User Plane Protocol and Architectural Analysis on 3GPP 5G System"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-dmm-5g-uplane-analysis-04</span>, <time datetime="2020-11-02" class="refDate">2 November 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-dmm-5g-uplane-analysis-04">https://datatracker.ietf.org/doc/html/draft-ietf-dmm-5g-uplane-analysis-04</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-quic-http">[I-D.ietf-quic-http]</dt>
        <dd>
<span class="refAuthor">Bishop, M.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 3 (HTTP/3)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-http-34</span>, <time datetime="2021-02-02" class="refDate">2 February 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-http-34">https://datatracker.ietf.org/doc/html/draft-ietf-quic-http-34</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.yang-alto-deliver-functions-over-networks">[I-D.yang-alto-deliver-functions-over-networks]</dt>
        <dd>
<span class="refAuthor">Yang, S.</span>, <span class="refAuthor">Cui, L.</span>, <span class="refAuthor">Xu, M.</span>, <span class="refAuthor">Feng, C.</span>, and <span class="refAuthor">X. Xia</span>, <span class="refTitle">"Delivering Functions over Networks: Traffic and Performance Optimization for Edge Computing using ALTO"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-yang-alto-deliver-functions-over-networks-02</span>, <time datetime="2021-08-09" class="refDate">9 August 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-yang-alto-deliver-functions-over-networks-02">https://datatracker.ietf.org/doc/html/draft-yang-alto-deliver-functions-over-networks-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JSAC2019">[JSAC2019]</dt>
        <dd>
<span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Zhang, J.</span>, <span class="refAuthor">Wang, X.</span>, <span class="refAuthor">Liu, Y.</span>, <span class="refAuthor">Guok, C.</span>, <span class="refAuthor">Le, F.</span>, <span class="refAuthor">MacAuley, J.</span>, <span class="refAuthor">Newman, H.</span>, and <span class="refAuthor">Y.R. Yang</span>, <span class="refTitle">"Toward Fine-Grained, Privacy-Preserving, Efficient Multi-Domain Network Resource Discovery"</span>, <span class="seriesInfo">IEEE/ACM IEEE Journal on Selected Areas of Communication 37(8): 1924-1940</span>, <time datetime="2019" class="refDate">2019</time>. </dd>
<dd class="break"></dd>
<dt id="JSONiq">[JSONiq]</dt>
        <dd>
<span class="refTitle">"The JSON Query language"</span>, <time datetime="2020" class="refDate">2020</time>, <span>&lt;<a href="https://www.jsoniq.org/">https://www.jsoniq.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LHC">[LHC]</dt>
        <dd>
<span class="refTitle">"CERN - LHC"</span>, <time datetime="2019" class="refDate">2019</time>, <span>&lt;<a href="https://atlas.cern/tags/lhc">https://atlas.cern/tags/lhc</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2216">[RFC2216]</dt>
        <dd>
<span class="refAuthor">Shenker, S.</span> and <span class="refAuthor">J. Wroclawski</span>, <span class="refTitle">"Network Element Service Specification Template"</span>, <span class="seriesInfo">RFC 2216</span>, <span class="seriesInfo">DOI 10.17487/RFC2216</span>, <time datetime="1997-09" class="refDate">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2216">https://www.rfc-editor.org/rfc/rfc2216</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7540">[RFC7540]</dt>
        <dd>
<span class="refAuthor">Belshe, M.</span>, <span class="refAuthor">Peon, R.</span>, and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 2 (HTTP/2)"</span>, <span class="seriesInfo">RFC 7540</span>, <span class="seriesInfo">DOI 10.17487/RFC7540</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7540">https://www.rfc-editor.org/rfc/rfc7540</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SC2018">[SC2018]</dt>
        <dd>
<span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Zhang, J.</span>, <span class="refAuthor">Wang, X.</span>, <span class="refAuthor">Liu, Y.</span>, <span class="refAuthor">Guok, C.</span>, <span class="refAuthor">Le, F.</span>, <span class="refAuthor">MacAuley, J.</span>, <span class="refAuthor">Newman, H.</span>, and <span class="refAuthor">Y.R. Yang</span>, <span class="refTitle">"Fine-grained, multi-domain network resource abstraction as a fundamental primitive to enable high-performance, collaborative data sciences"</span>, <span class="seriesInfo">Proceedings of the Super Computing 2018, 5:1-5:13 </span>, <time datetime="2019" class="refDate">2019</time>. </dd>
<dd class="break"></dd>
<dt id="SENSE">[SENSE]</dt>
        <dd>
<span class="refTitle">"Services - SENSE"</span>, <time datetime="2019" class="refDate">2019</time>, <span>&lt;<a href="http://sense.es.net/services">http://sense.es.net/services</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TON2019">[TON2019]</dt>
        <dd>
<span class="refAuthor">Gao, K.</span>, <span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Wang, X.</span>, <span class="refAuthor">Yang, Y.R.</span>, and <span class="refAuthor">J. Bi</span>, <span class="refTitle">"An objective-driven on-demand network abstraction for adaptive applications"</span>, <span class="seriesInfo">IEEE/ACM Transactions on Networking (TON) Vol 27, no. 2 (2019): 805-818.</span>, <time datetime="2019" class="refDate">2019</time>. </dd>
<dd class="break"></dd>
<dt id="XQuery">[XQuery]</dt>
      <dd>
<span class="refTitle">"XQuery 3.1: An XML Query Language"</span>, <time datetime="2017" class="refDate">2017</time>, <span>&lt;<a href="https://www.w3.org/TR/xquery-31/">https://www.w3.org/TR/xquery-31/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="revision-logs">
<section id="appendix-A">
      <h2 id="name-revision-logs">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-revision-logs" class="section-name selfRef">Revision Logs</a>
      </h2>
<div id="changes-since-15">
<section id="appendix-A.1">
        <h3 id="name-changes-since-15">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-changes-since-15" class="section-name selfRef">Changes since -15</a>
        </h3>
<p id="appendix-A.1-1">Revision -16<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-2.1">resolves the compatibility with the Multi-Cost extension (RFC 8189)<a href="#appendix-A.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-2.2">adds media types of defining resources for ANE property types (for IANA
registration)<a href="#appendix-A.1-2.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-14">
<section id="appendix-A.2">
        <h3 id="name-changes-since-14">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-changes-since-14" class="section-name selfRef">Changes since -14</a>
        </h3>
<p id="appendix-A.2-1">Revision -15<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-2.1">fixes the IDNits warnings,<a href="#appendix-A.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.2">fixes grammar issues,<a href="#appendix-A.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.3">addresses the comments in the AD review.<a href="#appendix-A.2-2.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-13">
<section id="appendix-A.3">
        <h3 id="name-changes-since-13">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-changes-since-13" class="section-name selfRef">Changes since -13</a>
        </h3>
<p id="appendix-A.3-1">Revision -14<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-2.1">addresses the comments in the chair review,<a href="#appendix-A.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-2.2">fixes most issues raised by IDNits.<a href="#appendix-A.3-2.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-12">
<section id="appendix-A.4">
        <h3 id="name-changes-since-12">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-changes-since-12" class="section-name selfRef">Changes since -12</a>
        </h3>
<p id="appendix-A.4-1">Revision -13<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-2.1">changes the abstract based on the chairs' reviews<a href="#appendix-A.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-2.2">integrates Richard's responds to WGLC reviews<a href="#appendix-A.4-2.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-11">
<section id="appendix-A.5">
        <h3 id="name-changes-since-11">
<a href="#appendix-A.5" class="section-number selfRef">A.5. </a><a href="#name-changes-since-11" class="section-name selfRef">Changes since -11</a>
        </h3>
<p id="appendix-A.5-1">Revision -12<a href="#appendix-A.5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.5-2.1">clarifies the definition of ANEs in a similar way as how Network Elements is
defined in <span>[<a href="#RFC2216" class="xref">RFC2216</a>]</span><a href="#appendix-A.5-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.5-2.2">restructures several paragraphs that are not clear (Sec 3, Path Vector bullet, Sec 4.2, Sec 5.1.3, Sec 6.2.4, Sec 6.4.2, Sec 9.3)<a href="#appendix-A.5-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.5-2.3">uses <code>ALTO Entity Domain Type Registry</code><a href="#appendix-A.5-2.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-10">
<section id="appendix-A.6">
        <h3 id="name-changes-since-10">
<a href="#appendix-A.6" class="section-number selfRef">A.6. </a><a href="#name-changes-since-10" class="section-name selfRef">Changes since -10</a>
        </h3>
<p id="appendix-A.6-1">Revision -11<a href="#appendix-A.6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.6-2.1">replaces "part"  with "components" in the abstract;<a href="#appendix-A.6-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.2">identifies additional requirements (AR) derived from the flow scheduling
example, and introduces how the extension addresses the additional
requirements<a href="#appendix-A.6-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.3">fixes the inconsistent use of "start" parameter in multipart responses;<a href="#appendix-A.6-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.4">specifies explicitly how to handle "cost-constraints";<a href="#appendix-A.6-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.5">uses the latest IANA registration mechanism defined in
<span>[<a href="#I-D.ietf-alto-unified-props-new" class="xref">I-D.ietf-alto-unified-props-new</a>]</span>;<a href="#appendix-A.6-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.6">renames <code>persistent-entities</code> to <code>persistent-entity-id</code>;<a href="#appendix-A.6-2.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.7">makes <code>application/alto-propmap+json</code> as the media type of defining resources
for the <code>ane</code> domain;<a href="#appendix-A.6-2.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.8">updates the examples;<a href="#appendix-A.6-2.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-2.9">adds the discussion on ephemeral and persistent ANEs.<a href="#appendix-A.6-2.9" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-09">
<section id="appendix-A.7">
        <h3 id="name-changes-since-09">
<a href="#appendix-A.7" class="section-number selfRef">A.7. </a><a href="#name-changes-since-09" class="section-name selfRef">Changes since -09</a>
        </h3>
<p id="appendix-A.7-1">Revision -10<a href="#appendix-A.7-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.7-2.1">
            <p id="appendix-A.7-2.1.1">revises the introduction which<a href="#appendix-A.7-2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.7-2.1.2.1">extends the scope where the PV extension can be applied beyond the "path
correlation" information<a href="#appendix-A.7-2.1.2.1" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="appendix-A.7-2.2">brings back the capacity region use case to better illustrate the problem<a href="#appendix-A.7-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.7-2.3">revises the overview to explain and defend the concepts and decision choices<a href="#appendix-A.7-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.7-2.4">fixes inconsistent terms, typos<a href="#appendix-A.7-2.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-08">
<section id="appendix-A.8">
        <h3 id="name-changes-since-08">
<a href="#appendix-A.8" class="section-number selfRef">A.8. </a><a href="#name-changes-since-08" class="section-name selfRef">Changes since -08</a>
        </h3>
<p id="appendix-A.8-1">This revision<a href="#appendix-A.8-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.8-2.1">fixes a few spelling errors<a href="#appendix-A.8-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.8-2.2">emphasizes that abstract network elements can be generated on demand in both
introduction and motivating use cases<a href="#appendix-A.8-2.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="changes-since-version-06">
<section id="appendix-A.9">
        <h3 id="name-changes-since-version-06">
<a href="#appendix-A.9" class="section-number selfRef">A.9. </a><a href="#name-changes-since-version-06" class="section-name selfRef">Changes Since Version -06</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.9-1.1">
            <p id="appendix-A.9-1.1.1">We emphasize the importance of the path vector extension in two aspects:<a href="#appendix-A.9-1.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-A.9-1.1.2">
<li id="appendix-A.9-1.1.2.1">It expands the problem space that can be solved by ALTO, from preferences
of network paths to correlations of network paths.<a href="#appendix-A.9-1.1.2.1" class="pilcrow">¶</a>
</li>
              <li id="appendix-A.9-1.1.2.2">It is motivated by new usage scenarios from both application's and
network's perspectives.<a href="#appendix-A.9-1.1.2.2" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li class="normal" id="appendix-A.9-1.2">More use cases are included, in addition to the original capacity region use
case.<a href="#appendix-A.9-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.9-1.3">We add more discussions to fully explore the design space of the path vector
extension and justify our design decisions, including the concept of abstract
network element, cost type (reverted to -05), newer capabilities and the
multipart message.<a href="#appendix-A.9-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.9-1.4">Fix the incremental update process to be compatible with SSE -16 draft, which
uses client-id instead of resource-id to demultiplex updates.<a href="#appendix-A.9-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.9-1.5">Register an additional ANE property (i.e., persistent-entities) to cover all
use cases mentioned in the draft.<a href="#appendix-A.9-1.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kai Gao</span></div>
<div dir="auto" class="left"><span class="org">Sichuan University</span></div>
<div dir="auto" class="left"><span class="street-address">No.24 South Section 1, Yihuan Road</span></div>
<div dir="auto" class="left"><span class="locality">Chengdu</span></div>
<div dir="auto" class="left"><span class="postal-code">610000</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kaigao@scu.edu.cn" class="email">kaigao@scu.edu.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Young Lee</span></div>
<div dir="auto" class="left"><span class="org">Samsung</span></div>
<div dir="auto" class="left"><span class="country-name">South Korea</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:younglee.tx@gmail.com" class="email">younglee.tx@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Sabine Randriamasy</span></div>
<div dir="auto" class="left"><span class="org">Nokia Bell Labs</span></div>
<div dir="auto" class="left"><span class="street-address">Route de Villejust</span></div>
<div dir="auto" class="left">
<span class="postal-code">91460</span> <span class="locality">Nozay</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:sabine.randriamasy@nokia-bell-labs.com" class="email">sabine.randriamasy@nokia-bell-labs.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yang Richard Yang</span></div>
<div dir="auto" class="left"><span class="org">Yale University</span></div>
<div dir="auto" class="left"><span class="street-address">51 Prospect Street</span></div>
<div dir="auto" class="left">
<span class="locality">New Haven</span>,  <span class="postal-code">CT</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yry@cs.yale.edu" class="email">yry@cs.yale.edu</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jingxuan Jensen Zhang</span></div>
<div dir="auto" class="left"><span class="org">Tongji University</span></div>
<div dir="auto" class="left"><span class="street-address">4800 Caoan Road</span></div>
<div dir="auto" class="left"><span class="locality">Shanghai</span></div>
<div dir="auto" class="left"><span class="postal-code">201804</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jingxuan.n.zhang@gmail.com" class="email">jingxuan.n.zhang@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
