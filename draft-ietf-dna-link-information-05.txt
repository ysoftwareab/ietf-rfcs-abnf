


Network Working Group                                   S. Krishnan, Ed.
Internet-Draft                                         Ericsson Research
Expires: May 9, 2007                                        N. Montavont
                                        LSIIT - University Louis Pasteur
                                                              E. Njedjou
                                                          France Telecom
                                                           S. Veerepalli
                                                                Qualcomm
                                                           A. Yegin, Ed.
                                                             Samsung AIT
                                                        November 5, 2006


    Link-layer Event Notifications for Detecting Network Attachments
                   draft-ietf-dna-link-information-05

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on May 9, 2007.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   Certain network access technologies are capable of providing various



Krishnan, et al.           Expires May 9, 2007                  [Page 1]

Internet-Draft          L2 Notifications for DNA           November 2006


   types of link-layer status information to IP.  Link-layer event
   notifications can help IP expeditiously detect configuration changes.
   This document provides a non-exhaustive catalogue of information
   available from well-known access technologies.

Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1   Requirements notation  . . . . . . . . . . . . . . . . . .  4
   2.  Link-Layer Event Notifications . . . . . . . . . . . . . . . .  5
     2.1   GPRS/3GPP  . . . . . . . . . . . . . . . . . . . . . . . .  6
     2.2   cdma2000/3GPP2 . . . . . . . . . . . . . . . . . . . . . .  7
     2.3   IEEE 802.11/WiFi . . . . . . . . . . . . . . . . . . . . .  8
     2.4   IEEE 802.3 CSMA/CD . . . . . . . . . . . . . . . . . . . .  9
       2.4.1   Link Integrity Tests in 802.3 Networks . . . . . . . . 10
       2.4.2   IEEE 802.1D Bridging and Its Effects on Link-layer
               Event Notifications  . . . . . . . . . . . . . . . . . 10
       2.4.3   802.1AB Link-Layer Discovery Protocol  . . . . . . . . 12
       2.4.4   Summary  . . . . . . . . . . . . . . . . . . . . . . . 13
   3.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 14
   4.  Security Considerations  . . . . . . . . . . . . . . . . . . . 15
   5.  Contributors . . . . . . . . . . . . . . . . . . . . . . . . . 16
   6.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 17
   7.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 18
     7.1   Normative References . . . . . . . . . . . . . . . . . . . 18
     7.2   Informative References . . . . . . . . . . . . . . . . . . 19
       Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . 20
   A.  Change History . . . . . . . . . . . . . . . . . . . . . . . . 22
       Intellectual Property and Copyright Statements . . . . . . . . 23






















Krishnan, et al.           Expires May 9, 2007                  [Page 2]

Internet-Draft          L2 Notifications for DNA           November 2006


1.  Introduction

   It is not an uncommon occurrence for a node to change its point-of
   attachment to the network.  This can happen due to mobile usage
   (e.g., a mobile phone moving among base stations) or nomadic usage
   (e.g., road-warrior case).

   A node changing its point-of attachment to the network may end up
   changing its IP subnet and therefore require re-configuration of IP-
   layer parameters, such as IP address, default gateway information,
   and DNS server address.  Detecting the subnet change can usually use
   network-layer indications (such as a change in the advertised
   prefixes for IPv6).  But generally reliance on such indications does
   not yield rapid detection, since these indications are not readily
   available upon node changing its point of attachment.

   Additional information can be conveyed along with the event, such as
   the identifier of the network attachment point (e.g., IEEE 802.11
   BSSID and SSID), or network-layer configuration parameters obtained
   via the link-layer attachment process if available.  It is envisaged
   that such event notifications can in certain circumstances be used to
   expedite the inter-subnet movement detection and reconfiguration
   process.  For example, the notification indicating that the node has
   established a new link-layer connection MAY be used for immediately
   probing the network for a possible configuration change.  In the
   absence of such a notification from the link-layer, IP has to wait
   for indications that are not immediately available, such as receipt
   of next scheduled router advertisement, unreachability of the default
   gateway, etc.

   It should be noted that a link-layer event notification does not
   always translate into a subnet change.  Even if the node has torn
   down a link-layer connection with one attachment point and
   established a new connection with another, it may still be attached
   to the same IP subnet.  For example, several IEEE 802.11 access
   points can be attached to the same IP subnet.  Moving among these
   access points does not warrant any IP-layer configuration change.

   In order to enable an enhanced scheme for detecting change of subnet,
   we need to define link-layer event notifications that can be
   realistically expected from various access technologies.  The
   objective of this draft is to provide a catalogue of link-layer
   events and notifications in various architectures.  While this
   document mentions the utility of this information for detecting
   change of subnet (or, detecting network attachment - DNA), the
   detailed usage is left to other documents, namely DNA solution
   specifications.




Krishnan, et al.           Expires May 9, 2007                  [Page 3]

Internet-Draft          L2 Notifications for DNA           November 2006


   The document limits itself to the minimum set of information that is
   necessary for solving the DNA problem [RFC4135].  A broader set of
   information (e.g., signal strength, packet loss, etc.) and events
   (e.g. link down) may be used for other problem spaces, such as
   anticipation-based Mobile IP fast handovers [I-D.ietf-mobileip-
   lowlatency-handoffs-v4]
   [I-D.ietf-mipshop-fast-mipv6].  Separate documents that are backward-
   compatible with this one can be generated to discuss further
   enhancements.

   These event notifications are considered with hosts in mind, although
   they may also be available on the network side (e.g., on the access
   points and routers).  An API or protocol-based standard interface may
   be defined between the link-layer and IP for conveying this
   information.  That activity is beyond the scope of this document.

1.1  Requirements notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].






























Krishnan, et al.           Expires May 9, 2007                  [Page 4]

Internet-Draft          L2 Notifications for DNA           November 2006


2.  Link-Layer Event Notifications

   Link-layer event notifications are considered to be one of the inputs
   to the DNA process.  A DNA process is likely to take other inputs
   (e.g., presence of advertised prefixes, reachability of default
   gateways) before determining whether IP-layer configuration must be
   updated.  It is expected that the DNA process can take advantage of
   link-layer notifications when they are made available to IP.  While
   by itself a link-layer notification may not constitute all the input
   DNA needs, it can at least be useful for prompting the DNA process to
   collect further information (i.e., other inputs to the process).  For
   example, the node may send a router solicitation as soon as it learns
   that a new link-layer connection is established.

   The link-layer event that is considered most useful to DNA process is
   the link up event.  The associated notifications can be provided to
   the IP-layer after the event concludes successfully.  The link up
   events and notifications are associated with a network interface on
   the node.  The IP module may receive simultaneous independent
   notifications from each one of the network interfaces on the node.

   "Link" is a communication facility or medium over which network nodes
   can communicate.  Each link is associated with a minimum of two
   endpoints.  An "attachment point" is the link endpoint on the link to
   which the node is currently connected, such as an access point, a
   base station, or a wired switch.

   "Link up" is an event provided by the link-layer that signifies a
   state change associated with the interface becoming capable of
   communicating data packets.  This event is associated with a link-
   layer connection between the node and an attachment point.

   The actual event is managed by the link-layer of the node through
   execution of link-layer protocols and mechanisms.  Once the event
   successfully completes within the link-layer, its notification MUST
   be delivered to the IP-layer.  By the time the notification is
   delivered, the link-layer of the node MUST be ready to accept IP
   packets from the IP and the physical-layers.  Each time an interface
   changes its point of attachment, a link up event SHOULD be generated.

   There is a non-deterministic usage of link up notification to
   accomodate implementations that desire to indicate the link is up but
   the data transmission may be blocked in the network (see IEEE 802.3
   discussion).  A link up notification MAY be generated with an
   appropriate attribute (e.g., "risk" indicated by R-flag) to convey
   the event.  Alternatively, the link-layer implementation MAY choose
   to delay the link up notification until the risk conditions cease to
   exist.



Krishnan, et al.           Expires May 9, 2007                  [Page 5]

Internet-Draft          L2 Notifications for DNA           November 2006


   If a link up with the R-flag set was generated, another link up MUST
   follow up as soon as the link-layer is capable of generating a
   deterministic notification.  The event attributes MUST indicate
   whether the packets transmitted since the previous notification were
   presumed to be blocked (B-flag) or allowed (A-flag) by the network if
   the link-layer could determine the exact conditions.  If the link-
   layer cannot make a determination about the fate of these packets, it
   MUST generate a link up without any additional indications (no flags
   set).

   A node may have to change its IP-layer configuration even when the
   link-layer connection stays the same.  An example scenario is the
   IPv6 subnet renumbering [RFC2461].  Therefore, there exist cases
   where IP-layer configuration may have to change even without the IP-
   layer receiving a link up notification.  Therefore, a link-layer
   notification is not a mandatory indication of a subnet change.

   A link up notification may optionally deliver information relating to
   the attachment point.  Such auxiliary information may include
   identity of the attachment point (e.g., base station identifier), or
   the IP-layer configuration parameters associated with the attached
   subnet (e.g., subnet prefix, default gateway address, etc.).  While
   merely knowing that a new link-layer connection is established may
   prompt DNA process to immediately seek other clues for detecting
   network configuration change, auxiliary information may constitute
   further clues (and even the final answers sometimes).  In cases where
   there is a one-to-one mapping between the attachment point
   identifiers and the IP-layer configurations, learning the former can
   reveal the latter.  Furthermore, IP-layer configuration parameters
   obtained during link-layer connection may be exactly what the DNA
   process is trying to discover (e.g., IP address configured during PPP
   link establishment).

   The link-layer process leading to a link up event depends on the link
   technology.  While a link-layer notification MUST always indicate
   that the link up event occurred, the availability and types of
   auxiliary information on the attachment point depends on the link-
   layer technology as well.  The following subsections examine four
   link-layer technologies and describe when a link-layer notification
   must be generated and what information must be included in it.

2.1  GPRS/3GPP

   GSM Packet Radio System (GPRS) provides packet switched data
   transmission over a cellular network[GPRS][GPRS-LINK].

   The GPRS architecture consists of a Radio Access Network and a packet
   domain Core Network.



Krishnan, et al.           Expires May 9, 2007                  [Page 6]

Internet-Draft          L2 Notifications for DNA           November 2006


   - The GPRS Radio Access Network is composed of Mobile Terminals (MT),
   a Base Station Subsystem and Serving GPRS Support Nodes (SGSN).

   - An IP Core Network that acts as the transport backbone of user
   datagrams between SGSNs and Gateway GPRS Support Nodes (GGSN).  The
   GGSN ensures the GPRS IP core network connectivity with external
   networks, such as Internet or Local Area Networks.  GGSN acts as the
   default IP gateway for the MT.

   A GPRS MT that wants to establish IP connectivity establishes first a
   connection to the GPRS network and one or more PDP Context
   associations between the MT and the GGSN.  It is only after the PDP
   Context has been established, address autoconfiguration and tunneling
   mechanism have taken place that the MT's IP packets can be forwarded
   to and from its remote IP peers.  The aim of PDP Context
   establishment is also to provide IP-level configuration on top of the
   GPRS link-layer attachment.

   Successful establishment of a PDP Context on a GPRS link signifies
   the availability of IP service to the MT.  Therefore, this link-layer
   event MUST generate a link up event notification sent to IP-layer.
   An MT has the possibility to establish a secondary PDP Context while
   re-using the IP configuration acquired from a previously established
   and active PDP Context.  Such a secondary PDP Context does not
   provide additional information to IP-layer and only allows another
   QoS profile to be used.  The activiation of a such secondary PDP
   Context MUST NOT generate another link up event notification.
   However, other additional PDP Context activiations are to be treated
   as indicated earlier.

   With IPv4, the auxiliary information carried along with this
   notification MUST be the IPv4 address of the MT which is obtained as
   part of the PDP Context.  With IPv6, the PDP Context activation
   response does not come along with a usable IPv6 address.
   Effectively, the IPv6 address received from the GGSN in the PDP
   address field of the message does not contain a valid prefix.  The MN
   actually only uses the interface-identifier extracted from that field
   to form a link-local address, that it uses afterwards to obtain a
   valid prefix (e.g., by stateless [RFC2462][GPRS-CN] or stateful
   [RFC3315] [GPRS-GSSA] address configuration).  Therefore no IPv6-
   related auxiliary information is provided to IP-layer.

2.2  cdma2000/3GPP2

   cdma2000-based 3GPP2 packet data services provide mobile users wide
   area high-speed access to packet switched networks [CDMA2K].  Some of
   the major components of the 3GPP2 packet network architecture consist
   of:



Krishnan, et al.           Expires May 9, 2007                  [Page 7]

Internet-Draft          L2 Notifications for DNA           November 2006


   - Mobile Station (MS), which allows mobile access to packet-switched
   networks over a wireless connection.

   - Radio Access Network, which consists of the Base Station
   Transceivers, Base Station Controllers, and the Packet Control
   Function.

   - Network Access Server known as the Packet Data Switching Node
   (PDSN).  The PDSN also serves as default IP gateway for the IP MS.

   3GPP2 networks use the Point-to-Point Protocol (PPP [RFC1661]) as the
   link-layer protocol between the MS and the PDSN.  Before any IP
   packets may be sent or received, PPP MUST reach the Network-Layer
   Protocol phase, and the IP Control Protocol (IPCP [RFC1332], IPV6CP
   [RFC2472]) reach the Opened state.  When these states are reached in
   PPP, a link up event notification MUST be delivered to the IP-layer.

   When the PPP is used for 3GPP2 Simple (i.e., non-Mobile) IPv4
   Service, IPCP enables configuration of IPv4 address on the MS.  This
   IPv4 address MUST be provided as the auxiliary information along with
   the link up notification.  IPV6CP used for Simple IPv6 service does
   not provide an IPv6 address, but  the interface-identifiers for local
   and remote end-points of the PPP link.  Since there is no standards-
   mandated correlation between the interface-identifier and other IP-
   layer configuration parameters, this information is deemed not useful
   for DNA (nevertheless it MAY be provided as auxiliary information for
   other uses).

2.3  IEEE 802.11/WiFi

   IEEE 802.11-based WiFi networks are the wireless extension of the
   Local Area Networks.  Currently available standards are IEEE 802.11b
   [IEEE-802.11b], IEEE 802.11g [IEEE-802.11g], and IEEE 802.11a [IEEE-
   802.11a].  The specifications define both the MAC-layer and the
   physical-layer.  The MAC layer is the same for all these
   technologies.

   Two operating modes are available in the IEEE 802.11 series, either
   infrastructure mode or ad-hoc mode.  In infrastructure mode, all
   link-layer frames are transmitted to an access point (AP) which then
   forwards them to the final receiver.  A station (STA) establishes a
   IEEE 802.11 association with an AP in order to send and receive IP
   packets.  In a WiFi network that uses Robust Secure Network (RSN
   [IEEE-802.11i]), successful completion of the 4-way handshake between
   the STA and AP commences the availability of IP service.  The link up
   event notification MUST be generated upon this event.  In non-RSN-
   based networks, successful association or re-association events on
   the link-layer MUST cause a link up notification sent to the IP-



Krishnan, et al.           Expires May 9, 2007                  [Page 8]

Internet-Draft          L2 Notifications for DNA           November 2006


   layer.

   As part of the link establishment, Basic Service Set Identification
   (BSSID) and Service Set Identifier (SSID) associated with the AP is
   learned by the STA.  BSSID is a unique identifier of the AP, usually
   set to the MAC address of the wireless interface of the AP.  SSID
   carries the identifier of the Extended Service Set (ESS) - the set
   composed of APs and associated STAs that share a common distribution
   system.  BSSID and SSID MAY be provided as auxiliary information
   along with the link up notification.  Unfortunately this information
   does not provide a deterministic indication of whether the IP-layer
   configuration MUST be changed upon movement.  There is no standards-
   mandated one-to-one relation between the BSSID/SSID pairs and IP
   subnets.  An AP with a given BSSID can connect a STA to any one of
   multiple IP subnets.  Similarly, an ESS with the given SSID may span
   multiple IP subnets.  And finally, the SSIDs are not globally unique.
   The same SSID may be used by multiple independent ESSs.  See Appendix
   A of [DNA4] for a detailed discussion.  Nevertheless, BSSID/SSID
   information may be used in a probabilistic way by the DNA process,
   hence it is provided with the link up event notification.

   In ad-hoc mode, mobile stations (STA) in range may directly
   communicate with each other, i.e., without any infrastructure or
   intermediate hop.  The set of communicating STAs is called IBSS for
   Independent Basic Service Set. In an IBSS, only STA services are
   available, i.e. authentication, deauthentication, privacy and MSDU
   delivery.  STAs do not associate with each other, and therefore may
   exchange data frames in state 2 (authenticated and not associated) or
   even in state 1 (unauthenticated and unassociated) if the
   Distribution System is not used (i.e., "To DS" and "From DS" bits are
   clear).  If authentication is performed, a link up indication can be
   generated upon authentication.  Concerning the link layer
   identification, both the BSSID (which is a random MAC address chosen
   by a STA of the IBSS) and SSID may be used to identify a link, but
   not to make any assumptions on the IP network configuration.

2.4  IEEE 802.3 CSMA/CD

   IEEE 802.3 CSMA/CD (commonly referred to as Ethernet) is the most
   commonly deployed Local Area Network technology in use today.  As
   deployed today, it is specified by a physical layer/medium access
   control (MAC) layer specification [IEEE-802.3].  In order to provide
   connection of different LANs together into a larger network, 802.3
   LANs are often bridged together [IEEE-802.1D].

   In this section, the terms 802.3 and Ethernet are used
   interchangeably.  This section describes some issues in providing
   link-layer indications on Ethernet networks, and shows how bridging



Krishnan, et al.           Expires May 9, 2007                  [Page 9]

Internet-Draft          L2 Notifications for DNA           November 2006


   affects these indications.

   In Ethernet networks, hosts are connected by wires or by optic fibre
   to a switch (bridge), a bus (e.g., co-axial cable), a repeater (hub),
   or directly to another Ethernet device.  Interfaces are symmetric, in
   that while many different physical layers may be present, medium
   access control is uniform for all devices.

   In order to determine whether the physical medium is ready for frame
   transfer, IEEE 802.3 Ethernet specifies its own link monitoring
   mechanism, which is defined for some, but not all classes of media.
   Where available, this Link Integrity Test operation is used to
   identify when packets are able to be received on an Ethernet segment.
   It is applicable to both wired and optical physical layers, although
   details vary between technologies (link pulses in twisted pair
   copper, light levels in fibre).

2.4.1  Link Integrity Tests in 802.3 Networks

   Link Integrity Tests in 802.3 networks typically occur at initial
   physical connection time (for example, at the auto-negotiation
   stage), and periodically afterwards.  It makes use of physical-layer
   specific operations to determine if a medium is able to support link-
   layer frames [IEEE-802.3].

   The status of the link as determined by the Link Integrity Test is
   stored in the variable 'link_status'.  Changes to the value of
   link_status (for example due to Link Integrity Test failure) will
   generate link indications if the technology dependent interface is
   implemented on an Ethernet device [IEEE-802.3].

   The link_status has possible values of FAIL, READY and OK.  When an
   interface is in FAIL state, Link Integrity Tests have failed.  Where
   status is READY, the link segment has passed integrity tests, but
   autonegotiation has not completed.  OK state indicates that the
   medium is able to send and receive packets.

   Upon transition to a particular state the Physical Medium Attachment
   subsystems generates a PMA_LINK.indicate(link_status).  Indications
   of OK state MAY be used to generate a link up event notification.
   This indication do not definitively ensure that packets will be able
   to be received through the bridge domain, though [see the next
   section].  Such operations are governed by bridging.

2.4.2  IEEE 802.1D Bridging and Its Effects on Link-layer Event
       Notifications

   Ethernet networks commonly consist of LANs joined together by



Krishnan, et al.           Expires May 9, 2007                 [Page 10]

Internet-Draft          L2 Notifications for DNA           November 2006


   transparent bridges (usually implemented as switches).  Transparent
   bridges require the active topology to be loop free.  This is
   achieved through the Spanning Tree Protocol (STP) or the Rapid
   Spanning Tree Protocol (RSTP).  These protocols exchange Bridge
   Protocol Data Units (BPDUs), as defined in [IEEE-802.1D], which leads
   to, where required, the blocking of ports (i.e., not forwarding).

   By default, the spanning tree protocol does not know whether a
   particular newly connected piece of Ethernet will cause a loop.

   Therefore it will block all traffic from and to newly connected ports
   with the exception of some unbridged management frames.  The STP will
   determine if the port can be connected to the network in a loop-free
   manner.

   For these technologies, even though the link-layer appears available,
   no data packet forwarding will occur until it is determined that the
   port can be connected to the network in a loop-free environment.

   For hosts which are providing indications to upper layer protocols,
   even if the host itself does not implement bridging or STP, packet
   delivery across the network can be affected by the presence of
   bridges.

   Where the host is not running STP itself, no explicit indication that
   forwarding has begun is sent from a bridge.  Therefore, a host may
   not know when STP operations have completed, and when it is safe to
   inform upper layers to transmit packets.

   Where it is not known that forwarding operations are available, a
   host SHOULD assume that RSTP or STP is being performed.  Hosts MAY
   listen to STP/RSTP and 802.1AB messages to gain further information
   about the timing of full connectivity on the link, for example, to
   override an existing indication.

   Notably, though, it is not easy for a host to distinguish between
   Disabled bridge ports and non-bridge ports with no active
   transmitters on them, as Disabled ports will have no traffic on them,
   and incur 100% sender loss.

   If no bridge configuration messages are received within the
   Bridge_Max_Age interval (default 20s), then it is likely that there
   is no visible bridge whose port is enabled for bridging (S8.4.5 of
   [IEEE-802.1D]), since at least two BPDU hello messages would have
   been lost.  Upon this timeout, a link up notification MUST be
   generated, if one has not been already.

   If a BPDU is received, and the adjacent bridge is running the



Krishnan, et al.           Expires May 9, 2007                 [Page 11]

Internet-Draft          L2 Notifications for DNA           November 2006


   original Spanning Tree Protocol, then a host cannot successfully send
   packets until at least twice the ForwardDelay value in the received
   BPDU has elapsed.  After this time, a link up notification MUST be
   generated.  If the previous link up notification had the R-flag set,
   then the B-flag) MUST be set in this notification.  The B-flag
   signifies that the packets sent within the prior interval were lost.

   If the bridge is identified as performing Rapid Spanning Tree
   Protocol (RSTP), it instead waits Bridge_Max_Age after packet
   reception (advertised in the BPDU's Max Age field), before
   forwarding.  For ports which are known to be point-to-point through
   autonegotiation, this delay is abbreviated to 3 seconds after
   autonegotiation completes [IEEE-802.1D].

2.4.3  802.1AB Link-Layer Discovery Protocol

   The recently defined 802.1AB Link-Layer Discovery Protocol (LLDP)
   provides information to devices which are directly adjacent to them
   on the local LAN [IEEE-802.1ab].

   LLDP sends information periodically, and at link status change time
   to indicate the configuration parameters of the device.  Devices may
   either send or receive these messages, or both.

   The LLDP message may contain a System Capabilities TLV, which
   describes the MAC and IP layer functions which a device is currently
   using.  Where a host receives the Systems Capabilities TLV which
   indicate that no Bridging or Repeating is occurring on the LLDP
   transmitter, then no delays for STP calculation will be applied to
   packets sent through this transmitter, if the host does not perform
   STP itself.  This would allow the generation of a link up
   notification.

   Additionally, if a host receives a Systems Capabilities TLV which
   indicates that the LLDP transmitter is a bridge, the host's
   advertisement that it is an (end-host) Station-Only, may tell the
   bridge not to run STP, and immediately allow forwarding.

   Proprietary extensions may also indicate that data forwarding is
   already available on such a port.  Discussion of such optimizations
   is out-of-scope for this document.

   Due to the protocol's newness and lack of deployment, it is unclear
   how this protocol will eventually affect DNA in IPv4 or IPv6
   networks.






Krishnan, et al.           Expires May 9, 2007                 [Page 12]

Internet-Draft          L2 Notifications for DNA           November 2006


2.4.4  Summary

   Link-Layer indications in Ethernet-like networks are complicated by
   additional unadvertised delays due to Spanning Tree calculations.
   This may cause re-indication (link up with A-flag) or retraction
   (link up with B-flag) of indications previously sent to upper layer
   protocols.












































Krishnan, et al.           Expires May 9, 2007                 [Page 13]

Internet-Draft          L2 Notifications for DNA           November 2006


3.  IANA Considerations

   This document has no actions for IANA.
















































Krishnan, et al.           Expires May 9, 2007                 [Page 14]

Internet-Draft          L2 Notifications for DNA           November 2006


4.  Security Considerations

   Attackers may spoof various indications at the link-layer, or
   manipulate the physical medium directly in an effort to confuse the
   host about the state of the link-layer.  For instance, attackers may
   spoof error messages or disturb the wireless medium to cause the host
   to move its connection elsewhere or to even disconnect.  Attackers
   may also spoof information to make the host believe it has a
   connection when, in reality, it does not.

   These attacks may cause use of non-preferred networks or even denial-
   of-service.

   This specification does not provide any protection of its own for the
   the indications from the lower layers.  But the vulnerabilities can
   be mitigated through the use of techniques in other parts of the
   protocol stack.  In particular, it is RECOMMENDED that
   authentication, replay and integrity protection of link-layer
   management messages is enabled when available.  Additionally, the
   protocol stack may also use some network layer mechanisms to achieve
   partial protection.  For instance, SEND [RFC 3971] could be used to
   confirm secure reachability with a router.  However, network layer
   mechanisms are unable to deal with all problems, such as with
   insecure lower layer notifications that lead to the link not
   functioning properly


























Krishnan, et al.           Expires May 9, 2007                 [Page 15]

Internet-Draft          L2 Notifications for DNA           November 2006


5.  Contributors

   In addition to the people listed in the author list, text for the
   specific link-layer technologies covered by this document was
   contributed by Thomas Noel (IEEE 802.11b), and Greg Daley (IEEE
   802.3).  The authors would like to thank them for their efforts in
   bringing this document to fruition.












































Krishnan, et al.           Expires May 9, 2007                 [Page 16]

Internet-Draft          L2 Notifications for DNA           November 2006


6.  Acknowledgements

   The authors would like to acknowledge Bernard Aboba, Sanjeev Athalye,
   JinHyeock Choi, John Loughney, Pekka Nikander, Brett Pentland, Tom
   Petch, Dan Romascanu, Pekka Savola, and Muhammad Mukarram bin Tariq
   for their useful comments and suggestions.













































Krishnan, et al.           Expires May 9, 2007                 [Page 17]

Internet-Draft          L2 Notifications for DNA           November 2006


7.  References

7.1  Normative References

   [CDMA2K]   "IS-835 - cdma2000 Wireless IP Network Standard",  .

   [GPRS]     "Digital cellular telecommunications system (Phase 2+);
              General Packet Radio Service (GPRS) Service description;
              Stage 2", 3GPP 3GPP TS 03.60 version 7.9.0 Release 98.

   [GPRS-LINK]
              "Digital cellular telecommunications system (Phase 2+);
              Radio subsystem link control", 3GPP GSM 03.05 version
              7.0.0 Release 98.

   [IEEE-802.11a]
              Institute of Electrical and Electronics Engineers, "IEEE
              Std 802.11a-1999, supplement to IEEE Std 802.11-1999, Part
              11: Wireless MAN Medium Access Control (MAC) and Physical
              Layer (PHY) specifications: High-speed Physical Layer in
              the 5 GHZ band", IEEE Standard 802.11a, September 1999.

   [IEEE-802.11b]
              Institute of Electrical and Electronics Engineers, "IEEE
              Std 802 Part 11, Information technology -
              Telecomunications and information exchange between systems
              - Local and metropolitan area networks - Specific
              requirements - Part 11: Wireless Lan Medium Access Control
              (MAC) And Physical Layer (PHY) Specifications",
              IEEE Standard 802.11b, August 1999.

   [IEEE-802.11g]
              Institute of Electrical and Electronics Engineers, "IEEE
              Std 802.11g-2003, Amendment to IEEE Std 802.11, 1999
              edition, Part 11: Wireless MAN Medium Access Control (MAC)
              and Physical Layer (PHY) specifications. Amendment 4:
              Further Higher Data Rate Extension in the 2.4 GHz Band",
              IEEE Standard 802.11g, June 2003.

   [IEEE-802.11i]
              Institute of Electrical and Electronics Engineers,
              "Supplement to STANDARD FOR Telecommunications and
              Information Exchange between Systems - LAN/MAN Specific
              Requirements - Part 11: Wireless Medium Access Control
              (MAC) and physical layer (PHY) specifications:
              Specification for Enhanced Security", IEEE IEEE 802.11i,
              December 2004.




Krishnan, et al.           Expires May 9, 2007                 [Page 18]

Internet-Draft          L2 Notifications for DNA           November 2006


   [IEEE-802.1D]
              Institute of Electrical and Electronics Engineers, "IEEE
              standard for local and metropolitan area networks - common
              specific ations - Media access control (MAC) Bridges",
              ISO/IEC IEEE Std 802.1D, 2004.

   [IEEE-802.1ab]
              Institute of Electrical and Electronics Engineers, "Draft
              Standard for Local and Metropolitan Networks: Station and
              Media Access Control Connectivity Discovery (Draft 13)",
              IEEE draft Std 802.1AB, 2004.

   [IEEE-802.3]
              Institute of Electrical and Electronics Engineers, "IEEE
              standard for local and metropolitan area networks -
              Specific Require ments, Part 3: Carrier Sense Multiple
              Access with Collision Detection  (CSMA/CD) Access Method
              and Physical Layer Specifications", ISO/IEC IEEE
              Std 802.3, 2002.

   [RFC1332]  McGregor, G., "The PPP Internet Protocol Control Protocol
              (IPCP)", RFC 1332, May 1992.

   [RFC1661]  Simpson, W., "The Point-to-Point Protocol (PPP)", STD 51,
              RFC 1661, July 1994.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2462]  Thomson, S. and T. Narten, "IPv6 Stateless Address
              Autoconfiguration", RFC 2462, December 1998.

   [RFC2472]  Haskin, D. and E. Allen, "IP Version 6 over PPP",
              RFC 2472, December 1998.

   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", RFC 3315, July 2003.

   [RFC4135]  Choi, JH. and G. Daley, "Goals of Detecting Network
              Attachment in IPv6", RFC 4135, August 2005.

7.2  Informative References

   [GPRS-CN]  "Technical Specification Group Core Network;
              Internetworking between the Public Land Mobile Network
              (PLMN) supporting packet based services and Packet Data
              Networks (PDN) (Release 6)", 3GPP 3GPP TS 29.061 version



Krishnan, et al.           Expires May 9, 2007                 [Page 19]

Internet-Draft          L2 Notifications for DNA           November 2006


              6.1.0 2004-06.

   [GPRS-GSSA]
              "Technical Specification Group Services and System Aspect;
              General Packet Radio Service (GPRS) Service description;
              Stage 2 (Release 6)", 3GPP 3GPP TS 23.060 version 6.5.0
              2004-06.

   [I-D.ietf-mipshop-fast-mipv6]
              Koodli, R., "Fast Handovers for Mobile IPv6",
              draft-ietf-mipshop-fast-mipv6-03 (work in progress),
              October 2004.

   [I-D.ietf-mobileip-lowlatency-handoffs-v4]
              Malki, K., "Low Latency Handoffs in Mobile IPv4",
              draft-ietf-mobileip-lowlatency-handoffs-v4-11 (work in
              progress), October 2005.

   [RFC2461]  Narten, T., Nordmark, E., and W. Simpson, "Neighbor
              Discovery for IP Version 6 (IPv6)", RFC 2461,
              December 1998.


Authors' Addresses

   Suresh Krishnan (editor)
   Ericsson Research
   8400 Decarie Blvd.
   Town of Mount Royal, QC
   Canada

   Email: suresh.krishnan@ericsson.com


   Nicolas Montavont
   LSIIT - University Louis Pasteur
   Pole API, bureau C428
   Boulevard Sebastien Brant
   Illkirch  67400
   France

   Phone: +33 390 244 587
   Email: montavont@dpt-info.u-strasbg.fr








Krishnan, et al.           Expires May 9, 2007                 [Page 20]

Internet-Draft          L2 Notifications for DNA           November 2006


   Eric Njedjou
   France Telecom
   4, Rue du Clos Courtel BP 91226
   Cesson Sevigne  35512
   France

   Phone: +33 299124202
   Email: eric.njedjou@france-telecom.com


   Siva Veerepalli
   Qualcomm
   5775 Morehouse Drive
   San Diego, CA  92131
   USA

   Phone: +1 858 658 4628
   Email: sivav@qualcomm.com


   Alper E. Yegin (editor)
   Samsung Advanced Institute of Technology
   75 West Plumeria Drive
   San Jose, CA  95134
   USA

   Phone: +1 408 544 5656
   Email: alper01.yegin@partner.samsung.com























Krishnan, et al.           Expires May 9, 2007                 [Page 21]

Internet-Draft          L2 Notifications for DNA           November 2006


Appendix A.  Change History

   The following changes were made on draft version 00:

   - IEEE 802.11 ad-hoc mode discussion added.

   - IPv6 address configuration over 3GPP networks clarified.

   The following changes were made on draft version 01:

   - Text for IEEE 802.3 added.

   - Multiple 3GPP PDP Contexts scenario clarified.

   The following change was made on draft version 02:

   - Editorial fixes as suggested by WG last call feedback.

   The following change was made on draft version 03:

   Link down events were removed since they are not relevant to DNA

   References updated




























Krishnan, et al.           Expires May 9, 2007                 [Page 22]

Internet-Draft          L2 Notifications for DNA           November 2006


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2006).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Krishnan, et al.           Expires May 9, 2007                 [Page 23]

