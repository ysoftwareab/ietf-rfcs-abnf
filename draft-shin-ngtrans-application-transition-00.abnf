error = getaddrinfo( host, service, &hints, &res );
s = socket( api->ai_family, aip->ai_socketype,
                     aip->ai_protocol );
