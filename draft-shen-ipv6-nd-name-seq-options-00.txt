
Network Working Group                                       Naiming Shen
Internet Draft                                          Redback Networks

Expiration Date: December 2003                                 June 2003



       Link Name and Sequence Options for IPv6 Neighbor Discovery

              draft-shen-ipv6-nd-name-seq-options-00.txt



1. Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


2. Abstract

   To facilitate network troubleshooting and management in IPv6
   environment, two new options for IPv6 Neighbor Discovery messages
   are proposed in this document. The Link-Name option is used in
   Router Advertisement message, and the Sequence-Number option is
   used in Neighbor Solicitation and Neighbor Advertisement messages.


3. Introduction

   The Router Advertisement message in Neighbor Discovery for IPv6 [1]
   currently has defined options with source link-layer address,
   MTU and prefix information. It is obvious that, by inspecting
   a link-local address of the neighbor from diagnostics information
   is less clear than symbolic names. This draft proposes a mechanism
   allowing Router Advertisement message to include a Link-Name
   option.


Shen                     Expires December 2003                  [Page 1]

Internet Draft      IPv6 ND Link-Name and Seq-Num              June 2003


   When Neighbor Advertisement message is received from a neighbor,
   and if the Neighbor Solicitation messages were retransmitted, it
   is useful from troubleshooting point of view to learn which
   Neighbor Solicitation message the Neighbor Advertisement message
   replied to and what is the round trip delay for this address
   resolution, similar to the sequence number and round-trip time
   scheme used in ICMP request/reply implementation.


4. Link-Name Option

   The Link-Name option MAY be included in Router Advertisement
   message. A typical Link-Name can be a combination of router name,
   virtual router identifier and interface name of the link.

      0                   1                   2                   3  
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      Type     |    Length     |  Link-Name String ....
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Fields:

     Type        Link-Name [TBD: IANA]

     Length      6 (including the type and length fields, total 48
                 bytes)

     Link-Name String
                 This field identifies the symbolic name of the link
                 of the router. The string is null-terminated if the
                 name is less than 46 bytes.

    The option MUST be silently ignored for other Neighbor Discovery
    messages.


5. Sequence-Number Option

   The Sequence-Number option MAY be included in Neighbor Solicitation
   message and Neighbor Advertisement message. The sequence number
   is maintained for each cache entry and is increased by one for each
   Neighbor Solicitation sent for the entry. A Neighbor Advertisement
   message only include this option when responding to the Neighbor
   Solicitation message, and it SHOULD simply copy the Sequence-Number
   Option from the Neighbor Solicitation packet unchanged.

      0                   1                   2                   3  
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      Type     |    Length     |      Sequence-Number          |


Shen                     Expires December 2003                  [Page 2]

Internet Draft      IPv6 ND Link-Name and Seq-Num              June 2003


     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                       NS User Data                            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Fields:

     Type        Sequence-Number [TBD: IANA]

     Length      1 (8 bytes including the type and length fields)

     Sequence-Number
                 A 16-bit unsigned integer in network byte order.

     NS User Data
                 A 32-bit unsigned integer in network byte order. This
                 value has only local significance to the sender of
                 the Neighbor Solicitation packet. For example, it
                 can be a timestamp in milliseconds.

    The option SHOULD only be used in Neighbor Solicitation message
    when the source address is not an unspecified address. The
    Neighbor Advertisement SHOULD relay the option back to the
    sender of the Neighbor Solicitation packet when responding to
    the Neighbor Solicitation. This option SHOULD not be used in
    unsolicited Neighbor Advertisement message.


6. Security Considerations

   This extension does not introduce any security issues.


7. Acknowledgments

   TBD.


8. References

   [1] Narten, T., Nordmark, E. and W. Simpson, "Neighbor Discovery
       for IP Version 6 (IPv6)", RFC 2461, December 1998.


9. Author Information

   Naiming Shen
   Redback Networks, Inc.
   300 Holger Way
   San Jose, CA 95134
   e-mail: naiming@redback.com



Shen                     Expires December 2003                  [Page 3]

