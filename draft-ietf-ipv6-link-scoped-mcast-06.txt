IPv6 Working Group                                             J-S. Park
INTERNET DRAFT                                                      ETRI
Expires: April 2005                                            M-K. Shin
                                                               ETRI/NIST
                                                                H-J. Kim
                                                                    ETRI
                                                            October 2004


                  Link Scoped IPv6 Multicast Addresses
               <draft-ietf-ipv6-link-scoped-mcast-06.txt>



Status of this Memo


     By submitting this Internet-Draft, I certify that any applicable
     patent or other IPR claims of which I am aware have been disclosed,
     and any of which I become aware will be disclosed, in accordance
     with RFC 3668.


     Internet-Drafts are working documents of the Internet Engineering
     Task Force (IETF), its areas, and its working groups.  Note that
     other groups may also distribute working documents as Internet-
     Drafts.


     Internet-Drafts are draft documents valid for a maximum of six
     months and may be updated, replaced, or obsoleted by other docu-
     ments at any time.  It is inappropriate to use Internet-Drafts as
     reference material or to cite them other than as "work in pro-
     gress."


     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt.


     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


     This Internet-Draft will expire on February 2005.



Abstract


     This document specifies an extension to the multicast addressing
     architecture of the IPv6 protocol. The extension allows for the use
     of Interface Identifiers (IIDs) to allocate multicast addresses.
     When a link-local unicast address is configured at each interface
     of a node, an IID is uniquely determined.  After then, each node
     can generate their unique multicast addresses automatically without
     conflicts.  Basically, it is preferred to use this method for the
     link-local scope rather than unicast-prefix-based IPv6 multicast
     addresses [RFC 3306].







Park et al.                Expires April 2005                   [Page 1]


INTERNET-DRAFT    Link Scoped IPv6 Multicast Addresses      October 2004



Table of Contents:


     1. Introduction................................................2
     2. Applicability...............................................2
     3. Link Scoped Multicast Address Format........................3
     4. Example ....................................................4
     5. Considerations..............................................4
     6. Security Considerations.....................................4
     7. References..................................................4
     8. Acknowledgments.............................................5
     Author's Addresses.............................................5




1. Introduction


     This specification defines an extension to the multicast portion of
     the IPv6 addressing architecture [RFC 3513]. The current
     architecture does not contain any built-in support for dynamic
     address allocation.  The extension allows for use of IIDs to
     allocate multicast addresses.  When a link-local unicast address is
     configured at each interface of a node, an IID is uniquely
     determined.  After then, each node can generate their unique
     multicast addresses automatically without conflicts.  That is,
     these addresses could safely be configured at any time after DAD
     (Duplicate Address Detection) is completed.


     Basically, it is preferred to use this method for the link-local
     scope rather than unicast-prefix-based IPv6 multicast addresses
     [RFC 3306].  This document restricts the usage of defined fields
     such as scop, plen and network prefix fields of [RFC 3306].
     Therefore, this document specifies encoded information for link-
     local scope in multicast addresses.


     The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
     "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in
     this document are to be interpreted as described in [RFC 2119].



2. Applicability


     The allocation technique in this document is designed to be used in
     any environment in which link-local scope IPv6 multicast addresses
     are assigned or selected.  Especially, this method goes well with
     nodes supplying multicast services in a zeroconf/serverless
     environment.  For example, multicast addresses less than or equal
     to link-local scope are themselves generated by nodes supplying
     multicast services without conflicts.  Also, nodes which are
     supplied multicast services, easily consist of multicast addresses
     of multicast servers using NDP (address resolution) and well-known
     group IDs.






Park et al.                Expires April 2005                   [Page 2]


INTERNET-DRAFT    Link Scoped IPv6 Multicast Addresses      October 2004



     Consequently, this technique MUST only be used for link scoped
     multicast addresses.  If you want to use multicast addresses
     greater than link-local scope, you need to use other methods as
     described in [RFC 3306].



3. Link Scoped Multicast Address Format


     [RFC 3306] defines the following format of unicast-prefix-based
     IPv6 multicast addresses:


      |   8    |  4 |  4 |   8    |    8   |       64       |    32    |
      +--------+----+----+--------+--------+----------------+----------+
      |11111111|flgs|scop|reserved|  plen  | network prefix | group ID |
      +--------+----+----+--------+--------+----------------+----------+


        Figure 1: Unicast-Prefix-based IPv6 multicast address format


     This document specifies a new format that incorporates IID
     information in the multicast addresses.  The idea of delegating
     multicast addresses can be applicable to link-local scope.


     Figure 2 illustrates the new format for link scoped multicast
     addresses.


      |   8    |  4 |  4 |   8    |    8   |       64       |    32    |
      +--------+----+----+--------+--------+----------------+----------+
      |11111111|flgs|scop|reserved|  LSM   |       IID      | group ID |
      +--------+----+----+--------+--------+----------------+----------+


           Figure 2: Link scoped multicast IPv6 address format


     flgs MUST be "0011".  (The first two bits have been yet undefined,
     sent as zero and ignored on receipt) flgs MUST use the same flag
     defined in section 4 of [RFC 3306].


     scop MUST be <= 2. It is preferred to use this method for the
     link-local scope rather than unicast-prefix-based IPv6 multicast
     addresses [RFC 3306].


     The reserved field MUST be zero.


     LSM (Link Scoped Multicast) field MUST be "1111 1111" which maps to
     the plen field in [RFC 3306], whereas the plen field in [RFC 3306]
     MUST NOT be greater than 64.


     That is, flgs, scop, and LSM fields are used to identify whether an
     address is a multicast address as specified in this document.


     The IID field is used to distinguish each node from others.  And
     this value is obtained from the IEEE EUI-64 based interface
     identifier of the link-local unicast IPv6 address.  Given the use





Park et al.                Expires April 2005                   [Page 3]


INTERNET-DRAFT    Link Scoped IPv6 Multicast Addresses      October 2004



     of this method for link-local scope, the IID embedded in the
     multicast address MUST only come from the IID of the link-local
     unicast address on the interface after DAD has completed.  That is,
     the creation of the multicast address MUST only occur after DAD has
     completed as part of the auto-configuration process.


     Group ID is generated to indicate multicast application and is used
     to guarantee its uniqueness only in the host.  It may also be set
     on the basis of the guidelines outlined in [RFC 3307].


     The lifetime of link scoped multicast addresses has no dependency
     on the Valid Lifetime field in the Prefix Information option,
     corresponding to the unicast address being used, contained in the
     Router Advertisement message [RFC 2461].



4. Example


     This is an example of link scoped IPv6 multicast addresses.  For
     example in an ethernet environment, if the link-local unicast
     address is FE80::A12:34FF:FE56:7890, the link scoped multicast
     prefix of the node is FF32:00FF:A12:34FF:FE56:7890::/96.



5. Considerations


     Since multicast addresses are created from the unique IID, their
     useful lifetime is linked to the period during which the IID is
     known to be unique.  Thus, it is possible to conflict between IIDs,
     due to a new node joining the network that uses the same IID.  The
     document does not consider this case at this phase.  It is another
     challenging issue and out of scope of this document.


     The link scoped multicast address format supports source-specific
     multicast addresses by the same method, as defined by [RFC 3306].



6. Security Considerations


     [RFC 3041] describes the privacy extension to IPv6 stateless
     address autoconfiguration for an IID.  The secure IID, generated by
     [RFC 3041], can be used for consisting of a link scoped multicast
     address since the uniqueness is verified by the DAD procedure as
     part of the secure auto-configuration process.



7. Acknowledgements


     We would like to thank Dave Thaler and Brian Haberman for his
     comments related to the consistency between the unicast prefix-
     based multicast draft and this one. Special thanks are due to Erik
     Nordmark and Pekka Savola for valuable comments.





Park et al.                Expires April 2005                   [Page 4]


INTERNET-DRAFT    Link Scoped IPv6 Multicast Addresses      October 2004



8. References


      Normative


       [RFC 2119] S. Bradner, "Key words for use in RFCs to indicate
                  Requirement Levels", RFC 2119, March 1997.


       [RFC 2461] T. Narten, E. Nordmark and W. Simpson, "Neighbor
                  Discovery for  IP Version 6 (IPv6)", RFC 2461,
                  December 1998.


       [RFC 3041] T. Narten and R. Draves, "Privacy Extensions for
                  Stateless Address Autoconfiguration in IPv6,"
                  RFC 3041, April 2001.


       [RFC 3306] B. Haberman and D. Thaler, "Unicast-Prefix-based IPv6
                  Multicast Addresses," RFC 3306, August 2002.


       [RFC 3307] B. Haberman, "Allocation Guidelines for IPv6 Multicast
                  Addresses," RFC 3307, August 2002.


       [RFC 3513] R. Hinden and S. Deering, "IP Version 6 Addressing
                  Architecture", RFC 3513, April 2003.


       Informative


       [SSM ARCH] H. Holbrook and B. Cain, "Source-Specific Multicast
                  for IP", Work In Progress, September 2004.




Authors' Addresses


       Jung-Soo Park
       ETRI PEC
       161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea
       Phone: +82 42 860 6514
       Email: jspark@pec.etri.re.kr


       Myung-Ki Shin
       ETRI/NIST
       820 West Diamond Avenue
       Gaithersburg, MD 20899, USA
       Tel : +1 301 975-3613
       Fax : +1 301 590-0932
       E-mail : mshin@nist.gov


       Hyoung-Jun Kim
       ETRI PEC
       161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea
       Phone: +82 42 860 6576
       Email: khj@etri.re.kr





Park et al.                Expires April 2005                   [Page 5]


INTERNET-DRAFT    Link Scoped IPv6 Multicast Addresses      October 2004



Intellectual Property Statement


     The IETF takes no position regarding the validity or scope of any
     Intellectual Property Rights or other rights that might be claimed
     to pertain to the implementation or use of the technology described
     in this document or the extent to which any license under such
     rights might or might not be available; nor does it represent that
     it has made any independent effort to identify any such rights.
     Information on the procedures with respect to rights in RFC
     documents can be found in BCP 78 and BCP 79.


     Copies of IPR disclosures made to the IETF Secretariat and any
     assurances of licenses to be made available, or the result of an
     attempt made to obtain a general license or permission for the use
     of such proprietary rights by implementers or users of this
     specification can be obtained from the IETF on-line IPR repository
     at http://www.ietf.org/ipr.


     The IETF invites any interested party to bring to its attention any
     copyrights, patents or patent applications, or other proprietary
     rights that may cover technology that may be required to implement
     this standard.  Please address the information to the IETF at
     ietf-ipr@ietf.org.



Disclaimer of Validity


     This document and the information contained herein are provided on
     an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE
     REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND
     THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
     THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR
     ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A
     PARTICULAR PURPOSE.



Copyright Statement


     Copyright (C) The Internet Society (2004).  This document is
     subject to the rights, licenses and restrictions contained in BCP
     78, and except as set forth therein, the authors retain all their
     rights.



Acknowledgment


     Funding for the RFC Editor function is currently provided by the
     Internet Society.








Park et al.                Expires April 2005                   [Page 6]