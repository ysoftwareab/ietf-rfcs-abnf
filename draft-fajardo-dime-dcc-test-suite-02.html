<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Diameter Credit Control Interoperability Test Suite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Diameter Credit Control Interoperability Test Suite">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">DIME</td><td class="header">A. McNamee</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Openet-Telecom</td></tr>
<tr><td class="header">Expires: January 14, 2010</td><td class="header">H. Tschofenig</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">V. Fajardo</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Telcordia Technologies</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Bournelle</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">France Telecom R&amp;D</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 13, 2009</td></tr>
</table></td></tr></table>
<h1><br />Diameter Credit Control Interoperability Test Suite<br />draft-fajardo-dime-dcc-test-suite-02.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 14, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
        This document describes a collection of test cases
        to be used for Diameter Credit Control application
        interoperability testing.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology<br />
<a href="#sec-app-credit-control">3.</a>&nbsp;
Diameter Credit Control Test Suite<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req">3.1.</a>&nbsp;
Required<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req1">3.1.1.</a>&nbsp;
Session Based Credit Control First Interrogation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req2">3.1.2.</a>&nbsp;
Session Based Credit Control Intermediate Interrogation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req3">3.1.3.</a>&nbsp;
Session Based Credit Control Final Interrogation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req4">3.1.4.</a>&nbsp;
Sub Sessions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req5">3.1.5.</a>&nbsp;
Session Based Credit Control Failure Procedures<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req6">3.1.6.</a>&nbsp;
Service Price Enquiry<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req7">3.1.7.</a>&nbsp;
Balance Check<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req8">3.1.8.</a>&nbsp;
Direct Debiting<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req9">3.1.9.</a>&nbsp;
Refunds<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-req10">3.1.10.</a>&nbsp;
Event Based Credit Control Failure Procedures<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-optional">3.2.</a>&nbsp;
Optional<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-optional1">3.2.1.</a>&nbsp;
Tariff Time Support<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-optional2">3.2.2.</a>&nbsp;
Graceful Service Termination<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-optional3">3.2.3.</a>&nbsp;
Validity Time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-app-cc-optional4">3.2.4.</a>&nbsp;
Server Initiated Credit Reauthorization<br />
<a href="#section-security-considerations">4.</a>&nbsp;
Security Considerations<br />
<a href="#anchor3">5.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">6.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        The document is a companion document to the Diameter Base Protocol
        Interoperability Test Suite. This document is meant to aid in the
        identifying the functional test cases of a Diameter Credit Control
        implementation. The Diameter Credit Control interoperability test
        suites are categorized by required and optional functionality. The
        required functionality is the baseline capability that an implementation
        must support to allow basic interoperability for that category. Optional
        functionality covers features that not all implementations
        support or may wish to test.
      
</p>
<p>
        At its current state, this document provides only a
        collection of test cases designed for interoperability.
        Test plans may be included in future revisions of this 
        work or maybe provided in some other document.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", 
        "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", 
        "MAY", and "OPTIONAL" in this document are to be 
        interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
      
</p>
<p>
        Within this document the terms defined in
        <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> refer to the functionality 
        that has to be provided by an implementation for the 
        usage within this interoperability test document.
      
</p>
<a name="sec-app-credit-control"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Diameter Credit Control Test Suite</h3>

<p>
        Vendors that support the Diameter Credit Control application must conform
        to <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>. The typical test topology for 
        credit control authorization is shown in 
        <a class='info' href='#fig-app-cc-01'>Figure&nbsp;1<span> (</span><span class='info'>Diameter CC Test Topology</span><span>)</span></a>. A user typically  
        requests a service and thereby triggers the CC Client to 
        contact the CC Server requesting the CC Server to verify the 
        user's credit standing prior to service delivery. Since the test
        cases cover only CC Client and CC Server interoperability, it is 
        left to the tester to verify correctness of the authentication 
        method executed between the user and the AAA server that is 
        used as a pre-requisite for the authorization of the user by 
        the CC server. Additionally, the interaction between the User's 
        host and the CC Client that is used to trigger the interaction 
        between the CC client and the CC Server is outside the scope 
        of this document.          
        <br /><hr class="insert" />
<a name="fig-app-cc-01"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  +--------+     +-----------+     +------------+
  | User   |&lt;---&gt;| CC Client |&lt;---&gt;| AAA Server |
  +--------+     +-----^-----+     +-----^------+
                       |                 |
                       |                 |
                       |           +-----V-----+
                       +----------&gt;| CC Server |
                                   +-----------+

  Legend:
          User      - Simulated end user
          CC Client - Vendor A Diam CCA client
          CC Server  - Vendor B Diam CCA server
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Diameter CC Test Topology&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        A second test topology can exist for testing Diameter/RADIUS 
        translation agent as specified in Section 11 of 
        <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>. This topology is available for vendors 
        implementing a prepaid RADIUS translation agent.  Since the test 
        cases cover interoperability scenarios, validation must be done 
        between the Service Element and the AAA Server/CC Client translation 
        agent. As with <a class='info' href='#fig-app-cc-01'>Figure&nbsp;1<span> (</span><span class='info'>Diameter CC Test Topology</span><span>)</span></a>, it is left to the 
        tester to verify correctness of the access method between User and
        Service Element. The test cases involving 
        <a class='info' href='#fig-app-cc-01'>Figure&nbsp;1<span> (</span><span class='info'>Diameter CC Test Topology</span><span>)</span></a> are also relevant to validating AAA 
        Server/CC Client and CC Server and should be used in this topology
        as well.
        <br /><hr class="insert" />
<a name="fig-app-cc-02"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  +------+     +---------+     +---------------+
  | User |&lt;---&gt;| Service |&lt;---&gt;|   AAA Server  |
  +------+     | Element |     |  +---------+  |
               +---------+     |  |CC Client|  |
                               |  +---------+  |
                               +--+----^----+--+
                                       |
                                       |
                                 +-----V-----+
                                 | CC Server |
                                 +-----------+
  Legend:
          User                 - Simulated user
          Service Element      - Simulated or vendor RADIUS prepaid
                                client application client
          AAA Server/CC Client - Vendor A Diameter/RADIUS
                                translation agent
          CC Server             - Vendor B Diameter CC Server
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Translation Gateway Test Topology&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<a name="sec-app-cc-req"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Required</h3>

<p>
          Either test topology <a class='info' href='#fig-app-cc-01'>Figure&nbsp;1<span> (</span><span class='info'>Diameter CC Test Topology</span><span>)</span></a> or 
          <a class='info' href='#fig-app-cc-02'>Figure&nbsp;2<span> (</span><span class='info'>Translation Gateway Test Topology</span><span>)</span></a> can be used for these cases.
        
</p>
<a name="sec-app-cc-req1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Session Based Credit Control First Interrogation</h3>

<p>
            Implementations must conform to Section 5.2 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.  
            This section addresses the initial credit control interactions 
            between a CC Client and a CC Server, i.e., 
            CC-Request-Type is set to the value INITIAL_REQUEST in the CCR
            message.  There are many parameters on which a service can be 
            granted a credit authorization but the objective of these tests
            is to demonstrate for session based services the initial credit 
            authorization handling procedures are supported.
            </p>
<ul class="text">
<li>
                Positive tests for credit authorization for a session based
                service with the Requested-Service-Unit AVP NOT present. 
                The service quota profiles should be agreed between 
                the vendors. The test should be repeated to verify support 
                for the following quota types:
                
<ul class="text">
<li>
                    Time based services.
                  
</li>
<li>
                    Volume (Total, Input, Output Octets) based services.
                  
</li>
<li>
                    Services with quota using service specific units.
                  
</li>
<li>
                    Money based services.
                  
</li>
<li>
                    Services with several unit types granted.
                  
</li>
</ul>
              
</li>
<li>
                Positive tests for credit authorization for a session based 
                service with the Requested-Service-Unit AVP being present. The
                service quota profiles should be agreed between the vendors. 
                The test should be repeated to verify support for the following quota types:
                
<ul class="text">
<li>
                    Time based services.
                  
</li>
<li>
                    Volume (Total, Input, Output Octets) based services.
                  
</li>
<li>
                    Services with quota using service specific units.
                  
</li>
<li>
                    Money based services.
                  
</li>
<li>
                    Services with several unit types granted.
                  
</li>
</ul>  
              
</li>
<li>
                Positive test for the CC Server's ability to support the 
                granting alternative amounts of credit to the values 
                requested in the Requested-Service-Unit AVP of the CCR 
                message.          
              
</li>
<li>
                Negative test for first interrogation of session based 
                services when the CC Server could not process the initial 
                CCR message. Verify support for the graceful handling of 
                events such as unknown end user, account being empty, 
                invalid rating input, or errors defined in 
                <a class='info' href='#RFC3588'>[RFC3588]<span> (</span><span class='info'>Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and J. Arkko, &ldquo;Diameter Base Protocol,&rdquo; September&nbsp;2003.</span><span>)</span></a>.
              
</li>
<li>
                Negative test for first interrogation of session based 
                services when the CC Client could not process the initial 
                CCA message. Verify support for the graceful handling of 
                events such as unsupported unit types.
              
</li>
<li>
                Negative test for first interrogation of session based 
                services when the CC Server includes a Final-Unit-Indication
                AVP with Final-Unit-Action REDIRECT or RESTRICT_ACCESS in the 
                Credit-Control-Answer or in the AA answer. Verify that CC 
                Client behaves as directed.            
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
Session Based Credit Control Intermediate Interrogation</h3>

<p>
            Implementations must conform to Section 5.3 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.  
            This section addresses the intermediate credit control interactions
            between a CC Client and a CC Server, i.e., 
            CC-Request-Type is set to the value UPDATE_REQUEST in the CCR 
            message. There are many parameters on which a service can be 
            reauthorized credit but the objective of these tests is to 
            demonstrate for session based services the intermediate credit 
            authorization handling procedures are supported.
            </p>
<ul class="text">
<li>
                Positive tests for credit reauthorization for a session 
                based service with the Requested-Service-Unit AVP NOT 
                present. The Event-Timestamp AVP must be used to mark the
                time the reauthorization was triggered and the 
                Used-Service-Unit AVP contains the amount of used service
                units since the service was activated or last interim. 
                The service quota profiles should be agreed between the 
                vendors. The test should be repeated to verify support for
                the following quota types:
                
<ul class="text">
<li>
                    Time based services.
                  
</li>
<li>
                    Volume (Total, Input, Output Octets) based services.
                  
</li>
<li>
                    Services with quota using service specific units.
                  
</li>
<li>
                    Money based services.
                  
</li>
<li>
                    Services with several unit types granted.
                  
</li>
</ul>
              
</li>
<li>
                Positive tests for credit authorization for a session based
                service with the Requested-Service-Unit AVP is present. The 
                Event-Timestamp AVP must be used to mark the time the 
                reauthorization was triggered and the Used-Service-Unit AVP 
                contains the amount of used service units since the service 
                was activated or last interim. The service quota profiles 
                should be agreed between the vendors. The test should be 
                repeated to verify support for the following quota types:
                
<ul class="text">
<li>
                    Time based services.
                  
</li>
<li>
                    Volume (Total, Input, Output Octets) based services.
                  
</li>
<li>
                    Services with quota using service specific units.
                  
</li>
<li>
                    Money based services.
                  
</li>
<li>
                    Services with several unit types granted.
                  
</li>
</ul>  
              
</li>
<li>
                Positive  test for the CC Server's ability to support the 
                granting alternative amounts of credit to the values 
                requested in the Requested-Service-Unit AVP of the CCR message.          
              
</li>
<li>
                Negative test for intermediate interrogation for session 
                based services when the CC Server could not process the 
                update CCR message. Verify support for the graceful handling
                of events such as subscription ID missing, account being 
                empty, invalid rating input, or errors defined in 
                <a class='info' href='#RFC3588'>[RFC3588]<span> (</span><span class='info'>Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and J. Arkko, &ldquo;Diameter Base Protocol,&rdquo; September&nbsp;2003.</span><span>)</span></a>.
              
</li>
<li>
                Negative test for intermediate interrogation for session 
                based services when the CC Client could not process the
                update CCA message. Verify support for the graceful handling
                of events such as unsupported unit types.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.3"></a><h3>3.1.3.&nbsp;
Session Based Credit Control Final Interrogation</h3>

<p>
            Implementations must conform to Section 5.4 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.  
            This section addresses the final credit control interactions between
            a credit control application client and server i.e., 
            CC-Request-Type is set to the value TERMINATION_REQUEST in the 
            CCR message. 
            </p>
<ul class="text">
<li>
                Positive test for final interrogation for a session based 
                service. The Event-Timestamp AVP should be used to mark the
                time the interrogation was triggered and the Used-Service-Unit
                AVP contains the amount of used service units since the 
                service was activated or last interim. The CC Server
                must verify support for refunding the unused reserved units 
                and for charging the used monetary amount to the end user's
                account.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.4"></a><h3>3.1.4.&nbsp;
Sub Sessions</h3>

<p>
            Implementations must conform to Section 5.1.2 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>. 
            </p>
<ul class="text">
<li>
                Positive test for multiple services within a session. Verify
                vendor support for interrogations when the 
                Multiple-Services-Credit-Control AVP present and the 
                Requested-Service-Unit AVP is not present.
              
</li>
<li>
                Positive test for multiple services within a session. Verify 
                vendor support for interrogations when the 
                Multiple-Services-Credit-Control AVP present and the 
                Requested-Service-Unit AVP is present.
              
</li>
<li>
                Positive test for credit pool support. Verify that a vendor's
                CC Server implementation is capable of supporting credit 
                pools for services by including a G-S-U-Reference within a 
                Granted-Service-Unit AVP in a CCA message. An example scenario
                is detailed in Appendix A (Flow IX) of 
                <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
              
</li>
<li>
                Positive test for rating group support. Verify that a 
                vendor's CC Client implementation is capable of associating
                a service with a rating group by including a Rating-Group 
                AVP in an interrogation.  An example scenario is detailed 
                in Appendix A (Flow IX) of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
              
</li>
<li>
                Negative test for multiple services within a session. Verify
                that a CC Server not supporting multiple services 
                within a session treats the Multiple-Services-Indicator AVP 
                and any received Multiple-Services-Credit-Control AVPs as 
                invalid AVPs.
              
</li>
<li>
                Negative test for invalid/insufficient rating input. Verify
                that a CC Server receiving invalid rating input (e.g., unknown
                rating group) shall inform the CC Client by including a 
                result code of DIAMETER_RATING_FAILED in the 
                Multiple-Services-Credit-Control AVP.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.5"></a><h3>3.1.5.&nbsp;
Session Based Credit Control Failure Procedures</h3>

<p>
            Implementations must conform to Section 5.7 of 
            <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.               
            </p>
<ul class="text">
<li>
                Test failure behavior when Credit-Control-Failure-Handling 
                AVP is set to TERMINATE. Verify that the CC Client terminates
                the end user's session if it does not receive a CCA message
                within the Tx timer.
              
</li>
<li>
                Test failure behavior when Credit-Control-Failure-Handling 
                AVP is set to CONTINUE. Verify that when CC messages cannot
                be delivered to CC Server because of transport or temporary 
                failures that the CC Client resends the request to a 
                backup CC Server assuming CC failover is supported or else 
                the service should be granted by the CC Client.
              
</li>
<li>
                Test failure behavior when Credit-Control-Failure-Handling 
                AVP is set to RETRY_AND_TERMINATE. Verify that when CC 
                messages cannot be delivered to the CC Server because of 
                transport or temporary failures that the CC Client resends
                the request to a backup CC Server assuming CC failover is
                supported or else the service should not be granted by the 
                CC Client.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.6"></a><h3>3.1.6.&nbsp;
Service Price Enquiry</h3>

<p>
            Implementations must conform to Section 6.1 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            This test uses an event based credit control interaction between
            the CC Client and the CC Server (i.e., CC-Request-Type is set to the 
            value EVENT_REQUEST in the CCR message). The test is invoked by 
            the CC Client including the Service-Identifier and the 
            Requested-Action AVP set to PRICE_ENQUIRY in the CCR message. 
            An example message flow is shown in Appendix A (Flow V) of 
            <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            </p>
<ul class="text">
<li>
                Positive test for a service price enquiry. Verify that the 
                CC Server returns the estimated cost of the service to the CC
                Client in the in the Cost-Information AVP in the CCA message.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.7"></a><h3>3.1.7.&nbsp;
Balance Check</h3>

<p>
            Implementations must conform to Section 6.2 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            This test uses an event based credit control interaction between
            the CC Client and CC Server (i.e., CC-Request-Type is set to the 
            value EVENT_REQUEST in the CCR message). The test is invoked by 
            the CC Client including the Service-Identifier and the 
            Requested-Action AVP set to CHECK_BALANCE in the CCR message. 
            An example scenario is detailed in Appendix A (Flow IV) 
            of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            </p>
<ul class="text">
<li>
                Positive test for a check balance enquiry. Verify that the 
                CC Server returns the credit status for the subscriber to 
                access the service to the CC Client in the in the 
                Check-Balance-Result AVP in the CCA message.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.8"></a><h3>3.1.8.&nbsp;
Direct Debiting</h3>

<p>
            Implementations must conform to Section 6.3 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            This test uses an event based credit control interaction between
            the CC Client and CC Server (i.e., CC-Request-Type is set to the
            value EVENT_REQUEST in the CCR message). The test is invoked by 
            the CC Client including the Service-Identifier and the 
            Requested-Action AVP set to DIRECT_DEBITING in the CCR message. 
            An example message flow is shown in Appendix A (Flow III) 
            of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            </p>
<ul class="text">
<li>
                Positive test for a direct debiting enquiry without the CC 
                Client including the requested units.  Verify that the CC 
                Server rates the service event and deducts the corresponding
                monetary amount from the end user's account. Verify that the
                granted service units can be of type time, volume, service 
                specific, or money.
              
</li>
<li>
                Positive test for a direct debiting enquiry with the CC 
                Client including the requested units.  Verify that the CC
                Server just deducts the corresponding monetary amount from the
                end user's account without performing rating. Verify that the
                granted service units can be of type time, volume, service 
                specific, or money.
              
</li>
<li>
                Positive test for a direct debiting enquiry where the CC 
                Server determines that no credit-control is required for the
                service (e.g., free service).
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.9"></a><h3>3.1.9.&nbsp;
Refunds</h3>

<p>
            Implementations must conform to Section 6.4 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>. 
            This test uses an event based credit control interaction between
            the CC Client and CC Server (i.e., CC-Request-Type is set to the
            value EVENT_REQUEST in the CCR message). The test is invoked by 
            the CC Client including the Requested-Action AVP set to 
            REFUND_ACCOUNT in the CCR message. An example message flow 
            is shown in Appendix A (Flow VI) of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            </p>
<ul class="text">
<li>
                Positive test for a refund request without the CC Client 
                including the requested units.  Verify that the CC Server 
                performs the rating required prior to refunding the 
                subscriber's account balance.
              
</li>
<li>
                Positive test for a refund request with the CC Client 
                including the requested units.  Verify that the CC Server
                refunds the subscriber's account balance with the requested
                monetary amount.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-req10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.10"></a><h3>3.1.10.&nbsp;
Event Based Credit Control Failure Procedures</h3>

<p>
            Implementations must conform to Section 6.5 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
            </p>
<ul class="text">
<li>
                Test that CC Client forwards requests of type price enquiry
                or balance check to an alternative CC Server if a transport
                failure is detected and failover is supported.
              
</li>
<li>
                Test of direct debiting failure handling. Verify that the CC
                Client behaves as described in section 6.5 of
                <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a> when the requested actions is direct
                debiting and the Direct-Debiting-Failure-Handling AVP is set
                to TERMINATE_OR_BUFFER.
              
</li>
<li>
                Test of direct debiting failure handling. Verify that the CC
                Client behaves as described in section 6.5 of
                <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a> when the requested actions is direct
                debiting and the Direct-Debiting-Failure-Handling AVP is set
                to CONTINUE.
              
</li>
</ul><p>
          
</p>
<p>
        
</p>
<a name="sec-app-cc-optional"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Optional</h3>

<p>
          Either test topology <a class='info' href='#fig-app-cc-01'>Figure&nbsp;1<span> (</span><span class='info'>Diameter CC Test Topology</span><span>)</span></a> 
          or <a class='info' href='#fig-app-cc-02'>Figure&nbsp;2<span> (</span><span class='info'>Translation Gateway Test Topology</span><span>)</span></a> can be used for these cases.
        
</p>
<a name="sec-app-cc-optional1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Tariff Time Support</h3>

<p>
            Implementations must conform to Section 5.1.1 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>. 
            </p>
<ul class="text">
<li>
                Positive test for tariff change support. Verify that the CC 
                Server can send a CCA message including a Tariff-Time-Change
                AVP. Verify that the CC Client itemizes the used units in 
                respect to the tariff time change when reporting service 
                usage.
              
</li>
<li>
                Negative test for tariff change support. Verify that the CC 
                Client terminates the credit control session if it does not
                support tariff time changes and it received a CCA message 
                including a Tariff-Time-Change AVP.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-optional2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Graceful Service Termination</h3>

<p>
            This section addresses the graceful termination features of a CC Server
            in accordance with Section 5.6 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a> utilizing the
            Final-Unit-Indication AVP. 
            </p>
<ul class="text">
<li>
                Positive test for terminate action. Verify that a CC Client 
                terminates the service when the final units have been 
                consumed and it has received a Final-Unit-Action with a 
                value of TERMINATE.  The CC Client must send a CCR final 
                message including a CC-Request-Type AVP set to the value 
                TERMINATION_REQUEST.
              
</li>
<li>
                Positive test for redirect action. Verify that a CC Server 
                supports the inclusion of a Redirect-Server AVP when the 
                Final-Unit-Action AVP is set with a value of REDIRECT. Verify
                that the end user is redirected by the CC Client to the 
                appropriate redirect server when the final units have been 
                consumed. The CC Client must send a CCR intermediate message 
                specifying the used units and to report that the specified
                action has started.
              
</li>
<li>
                Positive test for restriction filter rules. Verify that a 
                CC Server supports the inclusion of Restriction-Filter-Rule 
                AVPs when the Final-Unit-Action AVP is set with a value of 
                REDIRECT or RESTRICT. Verify that the end user packets not 
                matching the restriction filter are dropped  by the CC Client
                when the final units have been consumed. The CC Client must 
                send a CCR intermediate message specifying the used units and
                to report that the specified action has started.
              
</li>
<li>
                Positive test for IP filter list handling. Verify that a CC
                Server supports the inclusion of Filter-Id AVPs when the 
                Final-Unit-Action AVP is set with a value of REDIRECT or 
                RESTRICT. Verify that the end user packets not matching the
                filter are dropped  by the CC Client when the final units 
                have been consumed. The CC Client must send a CCR intermediate
                message specifying the used units and to report that the 
                specified action has started.
                
</li>
<li>
                Negative test for default final unit handling. Verify that a
                CC Client terminates the service when the final units have 
                been consumed and it has received an unsupported 
                Final-Unit-Action value. The CC Client must send a CCR final
                message including a CC-Request-Type AVP set to the value 
                TERMINATION_REQUEST.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-optional3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
Validity Time</h3>

<p>
            </p>
<ul class="text">
<li>
                Positive test for Validity-Time AVP support. Verify that the
                CC Server is capable of including a validity time with granted
                service units in a CCA message. Verify the CC Client generates
                a CC update request and reports the used quota to the CC
                server when the validity timer expires.
              
</li>
<li>
                Positive test for Validity-Time AVP support with multiple 
                services within a session. Verify that the
                CC Server is capable of including a validity time in a
                Multiple-Services-Credit-Control AVP in a CCA message. 
                Verify the CC Client generates a CC update request and reports
                the used quota to the CC server when the validity timer expires.
              
</li>
</ul><p>
          
</p>
<a name="sec-app-cc-optional4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.4"></a><h3>3.2.4.&nbsp;
Server Initiated Credit Reauthorization</h3>

<p>
            Implementations must conform to Section 5.5 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>. 
            </p>
<ul class="text">
<li>
                Positive test for CC Server initiated reauthorization of all
                services in a session. Verify that the CC Client follows the
                RAA and CCR Update procedure defined in Section 5.5 of 
                <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
              
</li>
<li>
                Positive test for CC Server initiated reauthorization for a
                credit pool in a session. Verify that the CC Server includes
                the G-S-U-Pool-Identifier AVP in the RAR message. Verify that
                the CC Client follows the RAA and CCR Update procedure 
                defined in Section 5.5 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
              
</li>
<li>
                Positive test for CC Server initiated reauthorization for a
                rating group in a session. Verify that the CC Server includes
                the Rating-Group AVP in the RAR message. Verify that
                the CC Client follows the RAA and CCR Update procedure 
                defined in Section 5.5 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
              
</li>
<li>
                Positive test for CC Server initiated reauthorization for a
                specific service in a session. Verify that the CC Server 
                includes the Service-Identifier AVP in the RAR message. Verify 
                that the CC Client follows the RAA and CCR Update procedure 
                defined in Section 5.5 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
              
</li>
<li>
                Positive test RAR-CCR Collision handling support. Verify that 
                the CC Client sends an RAA with a DIAMETER_SUCCESS result but
                does not initiate a CCR. Verify that the CC Server processes
                the CCR message as if it was generate in response to the RAR
                message. 
              
</li>
<li>
                Positive test for CC Server initiated reauthorization for an
                active sub session. Verify that the CC Server includes the 
                CC-Sub-Session-Id AVP in the RAR message. Verify that the 
                CC Client follows the RAA and CCR Update procedures defined 
                in Section 5.5 of <a class='info' href='#RFC4006'>[RFC4006]<span> (</span><span class='info'>Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;Diameter Credit-Control Application,&rdquo; August&nbsp;2005.</span><span>)</span></a>.
              
</li>
</ul><p>
          
</p>
<a name="section-security-considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
        This document defines test cases and therefore tests
        various aspects of the Diameter base specification and 
        various Diameter applications.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
        This document does not require actions by IANA.
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3588">[RFC3588]</a></td>
<td class="author-text">Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and J. Arkko, &ldquo;<a href="http://tools.ietf.org/html/rfc3588">Diameter Base Protocol</a>,&rdquo; RFC&nbsp;3588, September&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3588.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4006">[RFC4006]</a></td>
<td class="author-text">Hakala, H., Mattila, L., Koskinen, J-P., Stura, M., and J. Loughney, &ldquo;<a href="http://tools.ietf.org/html/rfc4006">Diameter Credit-Control Application</a>,&rdquo; RFC&nbsp;4006, August&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4006.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alan McNamee</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Openet Telecom Inc</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">6 Beckett Way, Park West Business Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Clondalkin, Dublin  12</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ireland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+353 1 620 4600</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:alan.mcnamee@openet-telecom.com">alan.mcnamee@openet-telecom.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hannes Tschofenig</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Linnoitustie 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Espoo  02600</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358 (50) 4871445</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Hannes.Tschofenig@gmx.net">Hannes.Tschofenig@gmx.net</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.tschofenig.priv.at">http://www.tschofenig.priv.at</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Victor Fajardo</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Telcordia Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1 Telcordia Drive #1S-222</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Piscataway, NJ  08854</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:vfajardo@research.telcordia.com">vfajardo@research.telcordia.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Julien Bournelle</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France Telecom R&amp;D</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">38-4O rue du general Leclerc</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Issy-Les-Moulineaux  92794</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:julien.bournelle@orange-ftgroup.com">julien.bournelle@orange-ftgroup.com</a></td></tr>
</table>
</body></html>
