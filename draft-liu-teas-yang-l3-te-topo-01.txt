Network Working Group                                            X. Liu
Internet-Draft                                                 Ericsson
Intended status: Standards Track                             I. Bryskin
Expires: January 7, 2017                            Huawei Technologies
                                                              V. Beeram
                                                       Juniper Networks
                                                                T. Saad
                                                      Cisco Systems Inc
                                                                H. Shah
                                                                  Ciena
                                                    O. Gonzalez de Dios
                                                             Telefonica
                                                           July 7, 2016



                 YANG Data Model for Layer 3 TE Topologies
                     draft-liu-teas-yang-l3-te-topo-01


Abstract

   This document defines a YANG data model for layer 3 traffic
   engineering topologies.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on January 7, 2017.




Liu, et al.            Expires January 7, 2017                 [Page 1]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document. Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents


   1. Introduction...................................................2
      1.1. Terminology...............................................3
   2. Modeling Considerations........................................3
      2.1. Relationship Between Layer 3 Topology and TE topology.....3
      2.2. Relationship Modeling.....................................3
   3. Model Structure................................................4
      3.1. Layer 3 TE Topology Module................................4
      3.2. Packet Switching TE Topology Module.......................4
   4. YANG Modules...................................................5
      4.1. Layer 3 TE Topology Module................................5
      4.2. Packet Switching TE Topology Module.......................9
   5. Security Considerations.......................................13
   6. References....................................................13
      6.1. Normative References.....................................13
      6.2. Informative References...................................13

1. Introduction

   This document defines a YANG [RFC6020] data model for describing the
   relationship between a layer 3 network topology [YANG-L3-TOPO] and a
   TE topology [YANG-TE-TOPO].

   When traffic engineering is enabled on a layer 3 network topology,
   there will be a corresponding TE topology. The TE topology may or may
   not be congruent to the layer 3 network topology. When such a
   congruent TE topology exists, there will be a one-to-one association
   between the one modeling element in the layer 3 topology to another
   element in the TE topology. When such a congruent TE topology does



Liu, et al.            Expires January 7, 2016                 [Page 2]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


   not exist, the association will not be one-to-one. This YANG data
   model allows both cases.

1.1. Terminology

   The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14, [RFC2119].

   The following terms are defined in [RFC6020] and are not redefined
   here:

      o  augment

      o  data model

      o  data node

2. Modeling Considerations

2.1. Relationship Between Layer 3 Topology and TE topology

   In general, layer 3 network topology model and TE topology model can
   be used independently. When traffic engineering is enabled on a layer
   3 network topology, there will be associations between objects in
   layer 3 network topologies and objects in TE topologies. The
   properties of these relations are:

      o The associations are between objects of the same class, i.e.
        node to node or link to link.

      o The multiplicity of such an association is: 0..1 to 0..1. An
        object in a layer 3 network may have zero or one associated
        object in the corresponding TE network.

2.2. Relationship Modeling

   YANG data type leafref is used to model the association relationship
   between a layer 3 network topology and a TE topology. YANG must
   statements are used to enforce the referenced objects are in the
   topologies of proper type.







Liu, et al.            Expires January 7, 2016                 [Page 3]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


3. Model Structure

3.1. Layer 3 TE Topology Module

   The model tree structure of the layer 3 TE topology module is as
   shown below:

   module: ietf-l3-te-topology
   augment /nw:networks/nw:network/nw:network-types/l3t:l3-unicast-igp-
   topology:
      +--rw l3-te!
   augment /nw:networks/nw:network/l3t:igp-topology-attributes:
      +--rw l3-te-topology-attributes
         +--rw network-ref?   leafref
   augment /nw:networks/nw:network/nw:node/l3t:igp-node-attributes:
      +--rw l3-te-node-attributes
         +--rw node-ref?      leafref
         +--rw network-ref?   leafref
   augment /nw:networks/nw:network/nw:node/nt:termination-point/l3t:igp-
   termination-point-attributes:
      +--rw l3-te-tp-attributes
         +--rw tp-ref?        leafref
         +--rw node-ref?      leafref
         +--rw network-ref?   leafref
   augment /nw:networks/nw:network/nt:link/l3t:igp-link-attributes:
      +--rw l3-te-link-attributes
         +--rw link-ref?      leafref
         +--rw network-ref?   leafref

3.2. Packet Switching TE Topology Module

   This is an augmentation to base TE topology model.

   module: ietf-te-topology-psc
   augment /nw:networks/tet:te/tet:templates/tet:link-template/tet:te-
   link-attributes/tet:interface-switching-capability:
      +--rw packet-switch-capable
         +--rw minimum-lsp-bandwidth?   decimal64
         +--rw interface-mtu?           uint16
   augment /nw:networks/nw:network/nt:link/tet:te/tet:config/tet:te-
   link-attributes/tet:interface-switching-capability:
      +--rw packet-switch-capable
         +--rw minimum-lsp-bandwidth?   decimal64
         +--rw interface-mtu?           uint16


Liu, et al.            Expires January 7, 2016                 [Page 4]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


   augment /nw:networks/nw:network/nt:link/tet:te/tet:state/tet:te-link-
   attributes/tet:interface-switching-capability:
      +--ro packet-switch-capable
         +--ro minimum-lsp-bandwidth?   decimal64
         +--ro interface-mtu?           uint16
   augment
   /nw:networks/nw:network/nt:link/tet:te/tet:state/tet:information-
   source-entry/tet:interface-switching-capability:
      +--ro packet-switch-capable
         +--ro minimum-lsp-bandwidth?   decimal64
         +--ro interface-mtu?           uint16
   augment /tet:te-link-event/tet:te-link-attributes/tet:interface-
   switching-capability:
      +---- packet-switch-capable
         +---- minimum-lsp-bandwidth?   decimal64
         +---- interface-mtu?           uint16
   augment /tet:te-link-event/tet:information-source-
   entry/tet:interface-switching-capability:
      +---- packet-switch-capable
         +---- minimum-lsp-bandwidth?   decimal64
         +---- interface-mtu?           uint16

4. YANG Modules

4.1. Layer 3 TE Topology Module

   <CODE BEGINS> file "ietf-l3-te-topology@2016-06-15.yang"
   module ietf-l3-te-topology {
     yang-version 1.1;
     namespace "urn:ietf:params:xml:ns:yang:ietf-l3-te-topology";
     prefix "l3te";

     import ietf-network {
       prefix "nw";
     }
     import ietf-network-topology {
       prefix "nt";
     }
     import ietf-l3-unicast-igp-topology {
       prefix "l3t";
     }
     import ietf-te-topology {
       prefix "tet";
     }


Liu, et al.            Expires January 7, 2016                 [Page 5]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016



     organization "TBD";
     contact "TBD";
     description "L3 TE Topology model";

     revision "2016-06-15" {

       description "Initial revision";
       reference "TBD";
     }

     grouping l3-te-topology-type {
       description
         "Identifies the L3 TE topology type.";
       container l3-te {
         presence "indiates L3 TE Topology";
         description
           "Its presence identifies the L3 TE topology type.";
       }
     }

     augment "/nw:networks/nw:network/nw:network-types/"
       + "l3t:l3-unicast-igp-topology" {
       description
         "Defines the L3 TE topology type.";
       uses l3-te-topology-type;
     }

     augment "/nw:networks/nw:network/l3t:igp-topology-attributes" {
       when "../nw:network-types/l3t:l3-unicast-igp-topology/l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment topology configuration";
       uses l3-te-topology-attributes;
     }

     augment "/nw:networks/nw:network/nw:node/l3t:igp-node-attributes" {
       when "../../nw:network-types/l3t:l3-unicast-igp-topology/l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment node configuration";


Liu, et al.            Expires January 7, 2016                 [Page 6]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


       uses l3-te-node-attributes;
     }

     augment "/nw:networks/nw:network/nw:node/nt:termination-point/"
       + "l3t:igp-termination-point-attributes" {
       when "../../../nw:network-types/l3t:l3-unicast-igp-topology/"
         + "l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment termination point configuration";
       uses l3-te-tp-attributes;
     }

     augment "/nw:networks/nw:network/nt:link/l3t:igp-link-attributes" {
       when "../../nw:network-types/l3t:l3-unicast-igp-topology/l3-te" {
         description "Augment only for L3 TE topology";
       }
       description "Augment link configuration";
       uses l3-te-link-attributes;
     }

     grouping l3-te-topology-attributes {
       description "L3 TE topology scope attributes";
       container l3-te-topology-attributes {
         must "/nw:networks/nw:network"
           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE topology references";
         uses nw:network-ref;
       } // l3-te-topology-attributes
     } // l3-te-topology-attributes

     grouping l3-te-node-attributes {
       description "L3 TE node scope attributes";
       container l3-te-node-attributes {
         must "/nw:networks/nw:network"


Liu, et al.            Expires January 7, 2016                 [Page 7]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE node references";
         uses nw:node-ref;
       } // l3-te
     } // l3-te-node-attributes

     grouping l3-te-tp-attributes {
       description "L3 TE termination point scope attributes";
       container l3-te-tp-attributes {
         must "/nw:networks/nw:network"
           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE termination point references";
         uses nt:tp-ref;
       } // l3-te
     } // l3-te-tp-attributes

     grouping l3-te-link-attributes {
       description "L3 TE link scope attributes";
       container l3-te-link-attributes {
         must "/nw:networks/nw:network"
           + "[nw:network-id = current()/network-ref]/nw:network-types/"
           + "tet:te-topology" {
           error-message
             "The referenced network must be a TE topology.";
           description
             "The referenced network must be a TE topology.";
         }
         description "Containing TE link references";
         uses nt:link-ref;


Liu, et al.            Expires January 7, 2016                 [Page 8]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


       }
     } // l3-te-link-attributes
   }
   <CODE ENDS>

4.2. Packet Switching TE Topology Module

   <CODE BEGINS> file "ietf-te-topology-psc@2016-07-01.yang"
   module ietf-te-topology-psc {
     yang-version 1;
     namespace "urn:ietf:params:xml:ns:yang:ietf-te-topology-psc";
     // replace with IANA namespace when assigned

     prefix "tet-psc";

     import ietf-network {
       prefix "nw";
     }

     import ietf-network-topology {
       prefix "nt";
     }

     import ietf-te-topology {
       prefix "tet";
     }

     organization
       "Traffic Engineering Architecture and Signaling (TEAS)
        Working Group";

     contact
       "WG Web:   <http://tools.ietf.org/wg/teas/>
        WG List:  <mailto:teas@ietf.org>

        WG Chair: Lou Berger
                  <mailto:lberger@labn.net>

        WG Chair: Vishnu Pavan Beeram
                  <mailto:vbeeram@juniper.net>




Liu, et al.            Expires January 7, 2016                 [Page 9]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


        Editors:  Xufeng Liu
                  <mailto:xliu@kuatrotech.com>

                  Igor Bryskin
                  <mailto:Igor.Bryskin@huawei.com>

                  Vishnu Pavan Beeram
                  <mailto:vbeeram@juniper.net>

                  Tarek Saad
                  <mailto:tsaad@cisco.com>

                  Himanshu Shah
                  <mailto:hshah@ciena.com>

                  Oscar Gonzalez De Dios
                  <mailto:oscar.gonzalezdedios@telefonica.com>";

     description "TE topology model";

     revision "2016-07-01" {
       description "Initial revision";
       reference "TBD";
     }

     /*
      * Groupings
      */
     grouping packet-switch-capable-container {
       description
         "The container of packet switch capable attributes.";
       container packet-switch-capable {
         description
           "Interface has packet-switching capabilities.";
         leaf minimum-lsp-bandwidth {
           type decimal64 {
             fraction-digits 2;
           }
           description
             "Minimum LSP Bandwidth. Units in bytes per second";
         }


Liu, et al.            Expires January 7, 2016                [Page 10]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


         leaf interface-mtu {
           type uint16;
           description
             "Interface MTU.";
         }
       }
     }

     /*
      * Configuration data nodes
      */
     augment "/nw:networks/tet:te/tet:templates/"
           + "tet:link-template/tet:te-link-attributes/"
           + "tet:interface-switching-capability" {
       when "switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:config/"
           + "tet:te-link-attributes/"
           + "tet:interface-switching-capability" {
       when "switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     /*
      * Operational state data nodes
      */
     augment "/nw:networks/nw:network/nt:link/tet:te/tet:state/"
           + "tet:te-link-attributes/"
           + "tet:interface-switching-capability" {
       when "switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";


Liu, et al.            Expires January 7, 2016                [Page 11]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     augment "/nw:networks/nw:network/nt:link/tet:te/tet:state/"
           + "tet:information-source-entry/"
           + "tet:interface-switching-capability" {
       when "switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     /*
      * Notifications
      */
     augment "/tet:te-link-event/tet:te-link-attributes/"
           + "tet:interface-switching-capability" {
       when "switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }

     augment "/tet:te-link-event/tet:information-source-entry/"
           + "tet:interface-switching-capability" {
       when "switching-capability = 'switching-psc1' " {
         description "Valid only for PSC";
       }
       description
         "Parameters for PSC TE topology.";
       uses packet-switch-capable-container;
     }
   }



Liu, et al.            Expires January 7, 2016                [Page 12]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


   <CODE ENDS>


5. Security Considerations

   The configuration, state, action and notification data defined in
   this document are designed to be accessed via the NETCONF protocol
   [RFC6241]. The data-model by itself does not create any security
   implications. The security considerations for the NETCONF protocol
   are applicable. The NETCONF protocol used for sending the data
   supports authentication and encryption.

6. References

6.1. Normative References

   [RFC6020] Bjorklund, M., "YANG - A Data Modeling Language for the
             Network Configuration Protocol (NETCONF)", RFC 6020,
             October 2010.

   [RFC6021] Schoenwaelder, J., "Common YANG Data Types", RFC 6021,
             October 2010.

   [RFC6241] Enns, R., Bjorklund, M., Schoenwaelder, J., and A. Bierman,
             "Network Configuration Protocol (NETCONF)", RFC 6241, June
             2011.

   [RFC2234] Crocker, D. and Overell, P.(Editors), "Augmented BNF for
             Syntax Specifications: ABNF", RFC 2234, Internet Mail
             Consortium and Demon Internet Ltd., November 1997.

   [YANG-L3-TOPO] Clemm, A., et al., "A YANG Data Model for Layer 3
             Topologies", draft-ietf-i2rs-yang-l3-topology, (Work in
             Progress).

   [YANG-TE-TOPO] Liu, X., et al., "YANG Data Model for TE Topologies",
             draft-ietf-teas-yang-te-topo, Work in Progress).

6.2. Informative References

   [RFC6087] Bierman, A., "Guidelines for Authors and Reviewers of YANG
             Data Model Documents", RFC 6087, January 2011.







Liu, et al.            Expires January 7, 2016                [Page 13]

Internet-Draft     draft-liu-teas-yang-l3-te-topo-01          July 2016


Authors' Addresses

   Xufeng Liu
   Ericsson / Kuatro Technologies Inc.
   8281 Greensboro Drive, Suite 200
   McLean, VA 22102
   USA

   Email: xliu@kuatrotech.com


   Igor Bryskin
   Huawei Technologies
   Email: Igor.Bryskin@huawei.com


   Vishnu Pavan Beeram
   Juniper Networks
   Email: vbeeram@juniper.net


   Tarek Saad
   Cisco Systems Inc
   Email: tsaad@cisco.com


   Himanshu Shah
   Ciena
   Email: hshah@ciena.com


   Oscar Gonzalez de Dios
   Telefonica
   Email: oscar.gonzalezdedios@telefonica.com















Liu, et al.            Expires January 7, 2016                [Page 14]

