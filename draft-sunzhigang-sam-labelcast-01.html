<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Labelcast Protocol</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Why we need Labelcast?">
<link href="#rfc.section.3" rel="Chapter" title="3 Labelcast Protocol">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Basic Ideas">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Labelcast Header">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 The Requirement for IP Protocol Fields">
<link href="#rfc.section.4" rel="Chapter" title="4 Requirement of Protocol">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Processing Requirement ">
<link href="#rfc.section.4.1.1" rel="Chapter" title="4.1.1 Building the Label Paths ">
<link href="#rfc.section.4.1.2" rel="Chapter" title="4.1.2 Requirement of the Source ">
<link href="#rfc.section.4.1.3" rel="Chapter" title="4.1.3 Processing Requirement of Labelcast Forwarding Nodes">
<link href="#rfc.section.4.1.4" rel="Chapter" title="4.1.4 Requirement of End Systems">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Impact on protocol stack">
<link href="#rfc.section.4.2.1" rel="Chapter" title="4.2.1 Source serve">
<link href="#rfc.section.4.2.2" rel="Chapter" title="4.2.2 Client">
<link href="#rfc.section.4.2.3" rel="Chapter" title="4.2.3 Forwarding Node">
<link href="#rfc.section.5" rel="Chapter" title="5 Application Example">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Point-to-Multipoint Data Distribution Based on Labels">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Video-awre Network Processing">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Detecting Network Status">
<link href="#rfc.section.6" rel="Chapter" title="6 More Discussion">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 The Role of IP Multicast Address">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Labelcast Deployment ">
<link href="#rfc.section.7" rel="Chapter" title="7 IANA Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 Security Considerations">
<link href="#rfc.section.9" rel="Chapter" title="9 Acknowledgement">
<link href="#rfc.references" rel="Chapter" title="10 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document presents a transport protocol-Labelcast, especially for IPTV data transmission. Labelcast has the functions of point-to-multipoint distribution and video quality monitoring. This document describes why Labelcast protocol is needed in IPTV service. The header format is defined, and the processing requirements of the protocol are specified. Impact on protocol stack is considered in this document Labelcast is a protocol intended for IPTV data distribution and can be deployed in an incremental manner." />
  <meta name="description" content="This document presents a transport protocol-Labelcast, especially for IPTV data transmission. Labelcast has the functions of point-to-multipoint distribution and video quality monitoring. This document describes why Labelcast protocol is needed in IPTV service. The header format is defined, and the processing requirements of the protocol are specified. Impact on protocol stack is considered in this document Labelcast is a protocol intended for IPTV data distribution and can be deployed in an incremental manner." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">Z. Sun</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">H. Wang</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">Z. . Zhang</td>
</tr>
<tr>
<td class="left">Expires: September 16, 2011</td>
<td class="right">T. Li</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">NUDT</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">March 15, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Labelcast Protocol<br />
  <span class="filename">draft-sunzhigang-sam-labelcast-01</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document presents a transport protocol-Labelcast, especially for IPTV data transmission. Labelcast has the functions of point-to-multipoint distribution and video quality monitoring. This document describes why Labelcast protocol is needed in IPTV service. The header format is defined, and the processing requirements of the protocol are specified. Impact on protocol stack is considered in this document Labelcast is a protocol intended for IPTV data distribution and can be deployed in an incremental manner.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 16, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Why we need Labelcast?</a>
</li>
<li>3.   <a href="#rfc.section.3">Labelcast Protocol</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Basic Ideas</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Labelcast Header</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">The Requirement for IP Protocol Fields</a>
</li>
<li>4.   <a href="#rfc.section.4">Requirement of Protocol</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Processing Requirement </a>
</li>
<li>4.1.1.   <a href="#rfc.section.4.1.1">Building the Label Paths </a>
</li>
<li>4.1.2.   <a href="#rfc.section.4.1.2">Requirement of the Source </a>
</li>
<li>4.1.3.   <a href="#rfc.section.4.1.3">Processing Requirement of Labelcast Forwarding Nodes</a>
</li>
<li>4.1.4.   <a href="#rfc.section.4.1.4">Requirement of End Systems</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Impact on protocol stack</a>
</li>
<li>4.2.1.   <a href="#rfc.section.4.2.1">Source serve</a>
</li>
<li>4.2.2.   <a href="#rfc.section.4.2.2">Client</a>
</li>
<li>4.2.3.   <a href="#rfc.section.4.2.3">Forwarding Node</a>
</li>
<li>5.   <a href="#rfc.section.5">Application Example</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Point-to-Multipoint Data Distribution Based on Labels</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Video-awre Network Processing</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Detecting Network Status</a>
</li>
<li>6.   <a href="#rfc.section.6">More Discussion</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">The Role of IP Multicast Address</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Labelcast Deployment </a>
</li>
<li>7.   <a href="#rfc.section.7">IANA Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">Security Considerations</a>
</li>
<li>9.   <a href="#rfc.section.9">Acknowledgement</a>
</li>
<li>10.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">Internet Protocol Television (IPTV) service has emerged as one of the most promising applications in the coming years. IPTV video content is delivered over IP networks and based on IP techniques. However, there is lacking efficient Internet protocols or mechanisms for IPTV services, especially between core network and access network, which is the bottleneck for IPTV data transmission.  </p>
<p id="rfc.section.1.p.2">Peer-to-Peer based on application layer technology just concerns the logic network rather than real network states and topology, and a great deal of redundant streams pass over the core Internet. Due to lack of administration, P2P reduces the ISPs_ benefits and is not feasible to IPTV live broadcast systems. Pure clients P2P can_t be further developed to the main delivery technologies.  </p>
<p id="rfc.section.1.p.3">IP multicast is insufficient to deploy largely-scale over the Internet because of their defects in scalability, user management, flow control, etc. The scalability of IP multicast is an important issue and this hampers its implementation. Routers keep every active group states and when the scale is increasing, the burden would be expanded. Another problem in IP multicast is the reliability. The UDP is used as the transport layer in IP multicast and the integrity of data will not be assured.  </p>
<p id="rfc.section.1.p.4">The transport layer protocols TCP/UDP, which are not designed for IPTV service at the beginning, can not achieve the motivation of effective video traffic transmission due to the characteristics of IPTV streams, such as long-time connection, high bandwidth consumption and so on.  </p>
<p id="rfc.section.1.p.5">TS over RTP/UDP are the most widely used transmission means for streaming media, however there are two problems. One problem is that RTP/UDP can not provide efficient Point-to-Multipoint IPTV distribution methods. Another is that RTP/UDP is in lack of support to monitoring the transfer quality of the video. Not only end systems are hard to realize monitoring towards their QoE (Quality of Experience), but also the intermediate routing nodes can't optimize QoS due to the lack of enough information.  </p>
<p id="rfc.section.1.p.6">Labelcast is a transport protocol supporting Point-to-Multipoint IPTV data distribution especially for the characteristics of long-lived connection, high bandwidth consumption and continuity. This protocol contains abundant fields that can support Point-to-Multipoint data transmission, and video quality monitoring both for intermediate routing nodes and end systems.  Labelcast can efficiently meet the requirements of the video quality transmission monitoring, failure detection and isolation of network failures.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Why we need Labelcast?</h1>
<p id="rfc.section.2.p.1">IP multicast is considered as the most effective technology to solve the bandwidth problem in IPTV data transmission. However, IP multicast is not a network-aware mechanism and can_t diagnose the transmission quality. Most streams are concentrated in the minority paths (the shortest ones). In IP multicast, the packets are just forwarded through the fixed paths, even if there is congestion between two nodes. Besides, IP multicast is uncontrollable.</p>
<p id="rfc.section.2.p.2">Video monitor is the basis for market success of IPTV. Transmission information is essential to quality monitor and how the IP packets are carried over networks. It is therefore important for service providers and network providers to monitor the QoE of users when providing an IPTV service.</p>
<p id="rfc.section.2.p.3">Now there is lacking efficient data distribution mechanism for IPTV services, especially between core network and access network, which is the bottleneck for IPTV data transmission. The transport technologies are not enough for the IPTV services and can_t satisfy the delays, jitters requirements. It is very urgent and significant to design a new distribution mechanism especially for IPTV video network.</p>
<p id="rfc.section.2.p.4">Labelcast is a lightweight protocol and can provide abundant information for video quality monitor, failure detection, flow control, and so on. Many fields are involved in Labelcast header. Labelcast is very suitable for IPTV data transmission.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Labelcast Protocol</h1>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Basic Ideas</h1>
<p id="rfc.section.3.1.p.1">Labelcast setup the transmission paths between source and receivers through label switching.  Labelcast has the functions of identifying packets priorities, bandwidth reservation, calculating time difference, statistics packets loss rate, etc. Based on this video streaming information, the network itself can evaluate the video transmission quality and optimize the scheduling strategies.  The basic ideas are as follows: </p>

<ol>
<li>IPTV data distribution protocol based on Labelcast can support the characteristics of long-lived connection, high bandwidth consumption, real-time and continuity.</li>
<li>It is easier to realize Point-to-Multipoint data transmission than traditional multicast by the utility of labels.</li>
<li>It can reduce the processing overhead of intermediate routing nodes.</li>
<li>The fields associated with streaming media traffic can support monitoring of video transmission quality.</li>
</ol>

<p> </p>
<p id="rfc.section.3.1.p.2">Besides, the evaluation of the video transmission quality at intermediate routing nodes and end systems can take advantage of MDI index which is defined in RFC 4445. DF and MLR values are included in MDI. DF value reflects the delay jitter of the video traffic and MLR value reflects the loss rates of the video traffic. The bandwidth of the transmission requirement, loss rate and the delay jitters can also be calculated by intermediate routing nodes, and the flow QoS can be controlled.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Labelcast Header</h1>
<p id="rfc.section.3.2.p.1">Labelcast header has the length of 8 bytes with seven fields which is illustrated in figure 1.</p>
<div id="#rfc.figure.1"></div>
<div id="#Head Format"></div>
<pre>
    0                   1                   2                   3   
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Ver|Pri|         Seq           |    BW     |       Aid         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Label                  |            TS                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
<p id="rfc.section.3.2.p.2">(1) Ver [0:1] is the version of Labelcast protocol and it is defined "01" initially.</p>
<p id="rfc.section.3.2.p.3">(2) Pri[0:1] denotes packets priority of discarding. It is corresponding to the packet types of I frame, B frame and P frame which reflects the importance of packets. 11: having the highest discarding priority when there is a congestion (The first to be dropped). 00: having the lowest discarding level if there is a congestion (The last to be dropped).  When network congestion occurs, flow control based on priorities can be realized.</p>
<p id="rfc.section.3.2.p.4">(3) Seq [0:11] denotes the sequences of packets which is used for the detection of the packets loss.  It denotes the sequences of packets in the flow. It is used to monitor the packets loss and order.  Suppose the sequence field is k bits, the length of packets is n bytes, and the bandwidth of the flow is Mbps, then the period of the sequence is Tseq = 2^k * n/M.</p>
<p id="rfc.section.3.2.p.5">(4) BW[0:5] denotes that the average bandwidth of flow is BW*128Kbps. The maximum value is 8Mbps. BW which has the value of 0 denotes that bandwidth is unknown.</p>
<p id="rfc.section.3.2.p.6">(5) Aid [0:7] denotes the application ID.</p>
<p id="rfc.section.3.2.p.7">(6) Label[0:15] denotes labels related to the packets routing. The processing actions of nodes are determined by this field. The nodes which support the label determine the next hop forwarding nodes by looking up the label table.</p>
<p id="rfc.section.3.2.p.8">(7) TS[0:15] denotes the sending timestamp of packets, of which the unit is us(microsecond). It is used to account the delay between two nodes.</p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> The Requirement for IP Protocol Fields</h1>
<p id="rfc.section.3.3.p.1">The value of Labelcast protocol which is identified in IP header field is 123.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Requirement of Protocol</h1>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Processing Requirement </h1>
<h1 id="rfc.section.4.1.1">
<a href="#rfc.section.4.1.1">4.1.1.</a> Building the Label Paths </h1>
<p id="rfc.section.4.1.1.p.1">Similar to ATM and MPLS, the virtual paths are established between the source and each receiver with extra means before IPTV data transmission. The extra means could be the signaling protocol of MPLS LDP, or centralized control manners of static calculation and configuration.</p>
<h1 id="rfc.section.4.1.2">
<a href="#rfc.section.4.1.2">4.1.2.</a> Requirement of the Source </h1>
<p id="rfc.section.4.1.2.p.1">(1) If source is unaware of the contents of applications, the Pri field is filled with 00 uniformly.</p>
<p id="rfc.section.4.1.2.p.2">(2) Seq field could be filled when the packets are sent from source.</p>
<p id="rfc.section.4.1.2.p.3">(3) BW field could be filled when the packets are sent from source.</p>
<p id="rfc.section.4.1.2.p.4">(4) The Aid field should be filled according to the application requirements.</p>
<p id="rfc.section.4.1.2.p.5">(5) Label field could be filled when the packets are sent from source.</p>
<p id="rfc.section.4.1.2.p.6">(6) The TS field could be filled when the packets are sent from source.</p>
<h1 id="rfc.section.4.1.3">
<a href="#rfc.section.4.1.3">4.1.3.</a> Processing Requirement of Labelcast Forwarding Nodes</h1>
<p id="rfc.section.4.1.3.p.1">(1) Ver, Pri, Seq, BW and Aid can't be modified by Labelcast forwarding nodes.</p>
<p id="rfc.section.4.1.3.p.2">(2) Label field should be modified according to the next hop distribution nodes.  When packets arrive at the Label nodes, Label table is looked up at first.  From the label table, the local processing actions and the next egress labels are known .</p>
<p id="rfc.section.4.1.3.p.3">(3) According to the extra configure, TS field could be modified or keep unchanged by the forwarding nodes.</p>
<p id="rfc.section.4.1.3.p.4">(4) The nodes which don't support Labelcast protocol can forward the packets based on IP address.</p>
<p id="rfc.section.4.1.3.p.5">In order to prevent the initial virtual paths being deviated by IP forwarding from their inherent orientations, IP tunnels should be adopted.  The packets are encapsulated with the address of next hop Labelcast nodes as the destination address, and then they can be sent to the next hop Label nodes directly. </p>
<h1 id="rfc.section.4.1.4">
<a href="#rfc.section.4.1.4">4.1.4.</a> Requirement of End Systems</h1>
<p id="rfc.section.4.1.4.p.1">(1) The end systems submit the payload of packets to different applications according to Aid field.</p>
<p id="rfc.section.4.1.4.p.2">(2) The video transmission quality can be evaluated with BW, Seq, TS parameters etc.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> Impact on protocol stack</h1>
<h1 id="rfc.section.4.2.1">
<a href="#rfc.section.4.2.1">4.2.1.</a> Source serve</h1>
<p id="rfc.section.4.2.1.p.1">The communication interface will be negotiated between server and client before data transmission, Labelcast packets are identified by Aid. The session manager in Source Server addes the Labelcast module and it can support TCP, UDP and Labelcast. Stream processor can provide RTSP/RTP/UDP/HTTP/Labelcast and it encapsulates the transport layer header with Labelcast protocol form.</p>
<h1 id="rfc.section.4.2.2">
<a href="#rfc.section.4.2.2">4.2.2.</a> Client</h1>
<p id="rfc.section.4.2.2.p.1">Client receives Labelcast packets with Raw Socket, it resolves Labelcast packets and sends the payload to the applications. Clients sample the video content and send the related information such as BW, Seq, TS to monitor.</p>
<h1 id="rfc.section.4.2.3">
<a href="#rfc.section.4.2.3">4.2.3.</a> Forwarding Node</h1>
<p id="rfc.section.4.2.3.p.1">When a intermediate Labelcast node receives the Labelcast packets, it mainly has three processes: 1. Modify the TTL options in the header and recompute the checksum of IP header. 2. Modify the timestamp of the header, and rewirte the local time. 3. look up the label table, get the next hop, and replace the label.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Application Example</h1>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> Point-to-Multipoint Data Distribution Based on Labels</h1>
<p id="rfc.section.5.1.p.1">The label paths are composed of many labelcast nodes in series, and labels are assigned before the transmission of video traffic.  The label tables are established according to their forwarding paths. The next hop Label nodes (one or multiple) can be determined by looking up the labels of packets in label table.  </p>
<div id="#rfc.figure.2"></div>
<div id="#Label Processing"></div>
<pre>
               +--------+--------+--------+--------+
               |Ingress |Ingress | Egress | Egress |
               |  port  | label  |  port  | label  |
               +--------+--------+--------+--------+
               |   1    |  13    |   2    |  26    |
               +--------+--------+--------+--------+
               \                 |   3    |  19    |
                 \               +--------+--------+
                   \                               /
                     \                           /
                       \                       /
                         \                   /
                           \               /
                             \           /
                               \       /
     +----+---------+          #########          +----+---------+
     | 13 | Payload |----------#  L1   #----------| 26 | Payload |
     +----+---------+       1  #########   2      +----+---------+                          
                                   |
                                   |3
                                   |
                                   |
                            +----+---------+
                            | 19 | Payload |
                            +----+---------+
        </pre>
<p id="rfc.section.5.1.p.2">Figure 2 shows the label processing.  When the packets with label 13 arrive at port 1 of Labelcast node L1, L1 looks up the lable table,then determine the forwarding ports and their corresponding new labels.  Since there are two forwarding ports for packets arriving port 1 with label 13, the packets are replicated at L1, and forwarded to port 2 and port3.  Before the forwarding process, the labels of packets are modified with new labels of 26 and 19 respectively.  </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> Video-awre Network Processing</h1>
<p id="rfc.section.5.2.p.1">Labelcast protocol can simplify the video traffic identifications at network nodes and can guarantee application-awree QoS through the Pri field which is initilized at the source.  The video transmission quality can be monitored through Bw, TS, Seq fields, and correspondingly the distribution paths are optimized by the monitoring results.  For example, the arrival intervals can be calculated by the Bw and length of packets, and then the delay jitters of the successive arriving packets can be concluded.  Based on this, the processing actions of forwarding nodes can be optimized.  </p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> Detecting Network Status</h1>
<p id="rfc.section.5.3.p.1">The characteristics of video transmission are high bandwidth-occupied, time-orderly, so they have high network requirement for Internet.  For its continuity and time-orderly, video traffic itself is a good manner of network measurement, and network information is placed in the header of Labelcast protocol.  Network status can be known by the Labelcast protocol.  Through the analysis of TS and Seq fields, the performance of network can be acquired.  </p>
<p id="rfc.section.5.3.p.2">The timestamps are marked by each Label nodes passing by, and whether or not the upstream links are congested can be inferred through the delay jitters between packets. t1,t2 denote the timestamps of two packets with N intervals in previous hop Label node, and the timestamps of local Label node are t3 and t4, then formula a=(t4-t3)/ (t2-t1) reflects the delay jitter of previous hop.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> More Discussion</h1>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> The Role of IP Multicast Address</h1>
<p id="rfc.section.6.1.p.1">In Labelcast, the forwarding information is embedded into the label field, and the packets are forwarded by the label swapped. Label aggregation techniques can be used to reduce the forwarding states. IP multicast address is identified as different group ID in Labelcast. If the forwarding node is not a Labelcast node, the packets is forwarded as layer 3 processing.  </p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> Labelcast Deployment </h1>
<p id="rfc.section.6.2.p.1">Labelcast changes little to the underlay network, and can be deployed gradually. Labelcast processing module can be added into router by ISP and this value-added module can bring more profits. The normal node can exist in two Labelcast nodes. Unlike in MPLS or IP multicast, all the routers must support them. IP tunnel can be used when the nodes is not a Labelcast node, and it lookup the unicast or multicast table to confirm the forwarding port.  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> IANA Considerations</h1>
<p id="rfc.section.7.p.1">The IANA issues brought by Labelcast is what we need take into consideration.  </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> Security Considerations</h1>
<p id="rfc.section.8.p.1">The security issues brought by Labelcast is what we need take into consideration.  </p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> Acknowledgement</h1>
<p id="rfc.section.9.p.1">We thank Dilife Tchnology, Inc. for help in Labelcast implementation of server and clients during project.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">10.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC1889">[RFC1889]</b></td>
<td class="top">
<a href="mailto:schulzrinne@fokus.gmd.de" title="GMD Fokus">Schulzrinne, H.</a>, <a href="mailto:casner@precept.com" title="Precept Software, Inc.">Casner, S.</a>, <a href="mailto:frederic@parc.xerox.com" title="Xerox Palo Alto Research Center">Frederick, R.</a> and <a href="mailto:van@ee.lbl.gov" title="Lawrence Berkeley National Laboratory">V. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc1889">RTP: A Transport Protocol for Real-Time Applications</a>", RFC 1889, January 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3031">[RFC3031]</b></td>
<td class="top">
<a>Rosen, E.</a>, <a>Viswanathan, A.</a> and <a>R. Callon</a>, "<a href="http://tools.ietf.org/html/rfc3031">Multiprotocol Label Switching Architecture</a>", RFC 3031, January 2001.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3550">[RFC3550]</b></td>
<td class="top">
<a>Schulzrinne, H.</a>, <a>Casner, S.</a>, <a>Frederick, R.</a> and <a>V. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>", STD 64, RFC 3550, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4445">[RFC4445]</b></td>
<td class="top">
<a>Welch, J.</a> and <a>J. Clark</a>, "<a href="http://tools.ietf.org/html/rfc4445">A Proposed Media Delivery Index (MDI)</a>", RFC 4445, April 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5332">[RFC5332]</b></td>
<td class="top">
<a>Eckert, T.</a>, <a>Rosen, E.</a>, <a>Aggarwal, R.</a> and <a>Y. Rekhter</a>, "<a href="http://tools.ietf.org/html/rfc5332">MPLS Multicast Encapsulations</a>", RFC 5332, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="draft-kellil-sam-mtocp-01">[draft-kellil-sam-mtocp-01]</b></td>
<td class="top">
<a>Rou, P.</a>, <a>Kellil, M.</a> and <a>C. Janneteau</a>, "<a>Multiparty transport overlay control protocol(mtocp)</a>", IETF Draft mtocp, July  2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Zhi Gang. Sun</span> 
	  <span class="n hidden">
		<span class="family-name">Sun</span>
	  </span>
	</span>
	<span class="org vcardline">NUDT</span>
	<span class="adr">
	  <span>47 Yanwachi St</span>

	  <span class="vcardline">
		<span class="locality">Changsha</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">China</span>
	</span>
	<span class="vcardline">Phone: +86-13875903721</span>

<span class="vcardline">EMail: <a href="mailto:sunzhigang@nudt.edu.cn">sunzhigang@nudt.edu.cn</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Hui. Wang</span> 
	  <span class="n hidden">
		<span class="family-name">Wang</span>
	  </span>
	</span>
	<span class="org vcardline">NUDT</span>
	<span class="adr">
	  <span>47 Yanwachi St</span>

	  <span class="vcardline">
		<span class="locality">Changsha</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">China</span>
	</span>
	<span class="vcardline">Phone: +86-13467578342</span>

<span class="vcardline">EMail: <a href="mailto:wanghuinudt@gmail.com">wanghuinudt@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Zi Wen. Zhang</span> 
	  <span class="n hidden">
		<span class="family-name">Zhang</span>
	  </span>
	</span>
	<span class="org vcardline">NUDT</span>
	<span class="adr">
	  <span>47 Yanwachi St</span>

	  <span class="vcardline">
		<span class="locality">Changsha</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">China</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ziwen@nudt.edu.cn">ziwen@nudt.edu.cn</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Tao. Li</span> 
	  <span class="n hidden">
		<span class="family-name">Li</span>
	  </span>
	</span>
	<span class="org vcardline">NUDT</span>
	<span class="adr">
	  <span>47 Yanwachi St</span>

	  <span class="vcardline">
		<span class="locality">Changsha</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">China</span>
	</span>
	<span class="vcardline">Phone: +86-13487568531</span>

<span class="vcardline">EMail: <a href="mailto:taoli.nudt@gmail.com">taoli.nudt@gmail.com</a></span>

  </address>
</div>

</body>
</html>