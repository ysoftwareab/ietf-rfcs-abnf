


Network Working Group                                          J. Borden
Internet-Draft                                 The Open Healthcare Group
Expires: August 20, 2002                                   S. St.Laurent
                                                       February 19, 2002


        A generic fragment identifier syntax for URI references
                        draft-borden-frag-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 20, 2002.

Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

Abstract

   URI references with fragment identifiers uniquely identify parts of a
   document.  Such identifiers have been specified as SGML/XML IDs e.g.
   in HTML [6].  The XPointer [2] specification is intended to serve as
   a fragment identifier syntax for XML documents.  IDs conform to the
   XPointer "raw name" form.  Specifications constraining the behavior
   of user agents such as SMIL [8], XHTML [15], and SVG [10] have all
   supported this simple fragment naming convention though some extend
   it.

   Specifications such as XML Namespaces [4] and RDF [16] use URI
   references as opaque names.  Such usage does not depend on resolution



Borden & St.Laurent      Expires August 20, 2002                [Page 1]

Internet-Draft                   frag-id                   February 2002


   of the URI.  In such usages, no media type is specified and the
   proper fragment identifier syntax is undefined.  As it has become
   common practice to use URI references as opaque identifiers, this
   proposal seeks to provide a minimal definition of what might be
   identified by a URI reference.

Table of Contents

   1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . .   3
   2. Subresource  . . . . . . . . . . . . . . . . . . . . . . . . .   4
   3. Names  . . . . . . . . . . . . . . . . . . . . . . . . . . . .   5
   4. Numeric fragments  . . . . . . . . . . . . . . . . . . . . . .   6
   5. Scheme based fragments . . . . . . . . . . . . . . . . . . . .   7
   6. Declaration of support for schemes . . . . . . . . . . . . . .   8
   7. General Syntax . . . . . . . . . . . . . . . . . . . . . . . .   9
      References . . . . . . . . . . . . . . . . . . . . . . . . . .  10
      Authors' Addresses . . . . . . . . . . . . . . . . . . . . . .  11
   A. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . .  12
   B. Revision History . . . . . . . . . . . . . . . . . . . . . . .  13
      Full Copyright Statement . . . . . . . . . . . . . . . . . . .  14































Borden & St.Laurent      Expires August 20, 2002                [Page 2]

Internet-Draft                   frag-id                   February 2002


1. Introduction

   Frequently URI references [1], which may contain a fragment
   identifier, are used independent of their resolution into a
   particular document, or document fragment, at a particular point in
   time.

   A notable example is use of a URI reference as an XML Namespace [4]
   name.  In the current situation a the syntax of the fragment
   identifier part of a URI reference is defined by the MIME media type
   of the referenced document as in an HTTP transaction.  This media
   type is not fixed, and may change from time to time and from
   reference to reference, or according to request headers such as with
   content negotiation.

   Fragment identifier syntax, in practice, is often constant from media
   type to media type.  In order to enable robust use of fragment
   identifiers, particularly outside a particular HTTP transaction, we
   propose a generic, media type independent, fragment identifier
   syntax.  This fragment identifier syntax is compatible with current
   usage of fragment identifiers, and is generally compatible with
   future proposed syntaxes such as XPointer [2].

   This specification does not itself specify how user agents are to
   process or interpret fragment identifiers, such as may be specified
   with individual MIME media type registrations, rather provides a
   consistent syntax for fragment identifiers and a registration
   mechanism for schemes associated with fragment identifier syntaxes.























Borden & St.Laurent      Expires August 20, 2002                [Page 3]

Internet-Draft                   frag-id                   February 2002


2. Subresource

   A subresource is identified by a URI reference in the same fashion
   that a resource is identified by a URI.  The relationship between a
   subresource and fragment of a document entity is the same as the
   relationship between a resource and the entity returned by resolving
   the URI.












































Borden & St.Laurent      Expires August 20, 2002                [Page 4]

Internet-Draft                   frag-id                   February 2002


3. Names

   The short form of a fragment identifier is a Name.  A Name is used as
   the fragment identifier for HTML, and is equivalent to the Bare Name
   form of XPointer [2].  This proposal does not define any mechanism of
   locating document fragments by name, leaving this up to the
   application












































Borden & St.Laurent      Expires August 20, 2002                [Page 5]

Internet-Draft                   frag-id                   February 2002


4. Numeric fragments

   A numeric fragment is of the form: ('/' Number)+ e.g.  #/10/24 This
   conforms to the XPointer [2] Child Sequence syntax, however may be
   used by non-XML media types.  For example a particular frame of a
   video clip might be represented as: #/100025 ranges are expressed as
   /1-10 and lists as /1,2,5,20












































Borden & St.Laurent      Expires August 20, 2002                [Page 6]

Internet-Draft                   frag-id                   February 2002


5. Scheme based fragments

   The full form of a fragment identifier uses the Scheme '(' string ')'
   Form.  This form is consistent with the XPointer [2] full xpointer
   form, hence this valid full XPointers conform to this proposed
   syntax.  This specification defines the following scheme names:

   xpath: the content is a valid XPath [5]

      -- xpath(//foo[1])

   xmlns: the content defines a namespace prefix mapping

      -- xmlns(ex=http//example.org/xmlns/)

   xpointer: the content is a valid XPointer

      -- xpointer(/foo/bar[1])

































Borden & St.Laurent      Expires August 20, 2002                [Page 7]

Internet-Draft                   frag-id                   February 2002


6. Declaration of support for schemes

   A namespace may declare support for a particular scheme or set of
   schemes via a RDDL [7] description.  The id of a RDDL resource
   describing a scheme should be the same as the name of the scheme.
   The RDDL nature or the resource should be URI reference identifying
   the scheme.  The RDDL purpose of the scheme should be the URI: http:/
   /www.rddl.org/fragment-syntax#scheme.  For example:
   <div id="xpointer">
    <rddl:resource
      	xlink:arcrole="http://www.rddl.org/fragment-syntax#scheme"
      	xlink:href="http://www.w3.org/TR/xptr"
     />

   </div>




































Borden & St.Laurent      Expires August 20, 2002                [Page 8]

Internet-Draft                   frag-id                   February 2002


7. General Syntax
   FragmentId ::= Name | NumberPart | (FragmentPart (S? FragmentPart))
   NumberPart ::= ('/' , Number,(('-'|','),Number))*)+
   FragmentPart ::= Scheme '(' SchemeSpecificExpr? ')'
   SchemeSpecificExpr ::= StringWithBalancedParens
   StringWithBalancedParens ::= [^()^^|^^^^|^^)|^^(]* ('(' StringWithBalancedParens
   ')' [^()^^|^^^^|^^)|^^(]*)*
   '^^' escapes '^', '^)' escapes ')' and '^(' escapes '('











































Borden & St.Laurent      Expires August 20, 2002                [Page 9]

Internet-Draft                   frag-id                   February 2002


References

   [1]   Berners-Lee, T., Fielding, R. and L. Masinter, "Uniform
         Resource Identifiers (URI): Generic Syntax", RFC 2396, August
         1998.

   [2]   DeRose, S., Daniel Jr., R. and E. Maler, "XML Pointer Language
         (XPointer)", World Wide Web Consortium Candidate Recommendation
         xptr, September 2001, <http://www.w3.org/TR/xptr>.

   [3]   Bray, T., Paoli, J. and C. Sperberg-McQueen, "Extensible Markup
         Language (XML) 1.0", World Wide Web Consortium Recommendation
         REC-xml, February 1998, <http://www.w3.org/TR/REC-xml>.

   [4]   Bray, T., Hollander, D. and A. Layman, "Namespaces in XML",
         World Wide Web Consortium Recommendation REC-xml-names, January
         1999, <http://www.w3.org/TR/REC-xml-names/>.

   [5]   Clark, J. and S. DeRose, "XML Path Language (XPath) Version
         1.0", World Wide Web Consortium Recommendation xpath, November
         1999, <http://www.w3.org/TR/xpath>.

   [6]   Raggett, D., Le Hors, A. and I. Jacobs, "HTML 4.01
         Specification", World Wide Web Consortium Recommendation html4,
         December 1999, <http://www.w3.org/TR/html4/>.

   [7]   Borden, J. and T. Bray, "Resource Directory Description
         Language (RDDL)", June 2001, <http://www.rddl.org>.

   [8]   Ayars, J., Bulterman, D., Cohen, A., Day, K., Hodge, E.,
         Hoschka, P., Hyche, E., Jourdan, M., Kim, M., Kubota, K.,
         Lanphier, R., Layaida, N., Michel, T., Newman, D., van
         Ossenbruggen, J., Rutledge, L., Saccocio, B., Schmitz, P. and
         W. ten Kate, "Synchronized Multimedia Integration Language
         (SMIL 2.0) Specification", World Wide Web Consortium Proposed
         Recommendation PR-smil20, June 2001, <http://www.w3.org/TR/
         smil20/>.

   [9]   Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L.,
         Leach, P. and T. Berners-Lee, "Hypertext Transfer Protocol --
         HTTP/1.1", RFC 2616, June 1999.

   [10]  Ferraiolo, J., "Scalable Vector Graphics (SVG)", World Wide Web
         Consortium Working Draft SVG, August 1999, <http://www.w3.org/
         TR/SVG>.

   [11]  Marsh, J., "XML Base (XBase)", World Wide Web Consortium
         Working Draft xmlbase, February 2000, <http://www.w3.org/TR/



Borden & St.Laurent      Expires August 20, 2002               [Page 10]

Internet-Draft                   frag-id                   February 2002


         xmlbase>.

   [12]  DeRose, S., Maler, E., Orchard, D. and B. Trafford, "XML
         Linking Language (XLink)", World Wide Web Consortium Working
         Draft xlink, July 1999, <http://www.w3.org/TR/xlink/>.

   [13]  Clark , J., "XSL Transformations (XSLT) Version 1.0", World
         Wide Web Consortium Recommendation xslt, November 1999, <http:/
         /www.w3.org/TR/xslt>.

   [14]  Rose, M., "Writing I-Ds and RFCs using XML", RFC 2629, June
         1999.

   [15]  Pemberton, S. and et al, "XHTML 1.0: The Extensible HyperText
         Markup Language", World Wide Web Consortium Recommendation REC-
         xhtml1, January 2000, <http://www.w3.org/TR/xhtml1>.

   [16]  Lassila, O. and R. Swick, "Resource Description Framework (RDF)
         Model and Syntax Specification", World Wide Web Consortium
         Recommendation REC-rdf, February 1999, <http://www.w3.org/TR/
         REC-rdf-syntax/>.


Authors' Addresses

   Jonathan Borden
   The Open Healthcare Group
   114 Merriam Street
   Weston, MA  02493
   US

   EMail: jonathan@openhealth.org
   URI:   http://openhealth.org/


   Simon St.Laurent
   1259 Dryden Road
   Ithaca, New York  14850
   USA

   EMail: simonstl@simonstl.com
   URI:   http://www.simonstl.com/









Borden & St.Laurent      Expires August 20, 2002               [Page 11]

Internet-Draft                   frag-id                   February 2002


Appendix A. Acknowledgements


















































Borden & St.Laurent      Expires August 20, 2002               [Page 12]

Internet-Draft                   frag-id                   February 2002


Appendix B. Revision History

   [To be deleted before publication.]
















































Borden & St.Laurent      Expires August 20, 2002               [Page 13]

Internet-Draft                   frag-id                   February 2002


Full Copyright Statement

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Borden & St.Laurent      Expires August 20, 2002               [Page 14]


