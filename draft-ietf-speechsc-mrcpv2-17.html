<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Media Resource Control Protocol Version 2
    (MRCPv2)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Media Resource Control Protocol Version 2
    (MRCPv2)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">SPEECHSC</td><td class="header">S. Shanmugham</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco Systems, Inc.</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">D. Burnett</td></tr>
<tr><td class="header">Expires: May 7, 2009</td><td class="header">Voxeo</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 03, 2008</td></tr>
</table></td></tr></table>
<h1><br />Media Resource Control Protocol Version 2
    (MRCPv2)<br />draft-ietf-speechsc-mrcpv2-17</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 7, 2009.</p>

<h3>Abstract</h3>

<p>The MRCPv2 protocol allows client hosts to control media service
      resources such as speech synthesizers, recognizers, verifiers and
      identifiers residing in servers on the network. MRCPv2 is not a
      "stand-alone" protocol - it relies on a session management protocol such
      as the Session Initiation Protocol (SIP) to establish the MRCPv2 control
      session between the client and the server, and for rendezvous and
      capability discovery. It also depends on SIP and SDP to establish the
      media sessions and associated parameters between the media source or
      sink and the media server. Once this is done, the MRCPv2 protocol
      exchange operates over the control session established above, allowing
      the client to control the media processing resources on the speech
      resource server.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Document Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.</a>&nbsp;
Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.2.</a>&nbsp;
State-Machine Diagrams<br />
<a href="#anchor5">3.</a>&nbsp;
Architecture<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.resourceTypes">3.1.</a>&nbsp;
MRCPv2 Media Resource Types<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.2.</a>&nbsp;
Server and Resource Addressing<br />
<a href="#anchor7">4.</a>&nbsp;
MRCPv2 Protocol Basics<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.connectToServer">4.1.</a>&nbsp;
Connecting to the Server<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.resourceControl">4.2.</a>&nbsp;
Managing Resource Control Channels<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.mediaStreams">4.3.</a>&nbsp;
Media Streams and RTP Ports<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.4.</a>&nbsp;
MRCPv2 Message Transport<br />
<a href="#anchor9">5.</a>&nbsp;
MRCPv2 Specification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.common">5.1.</a>&nbsp;
Common Protocol Elements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.request">5.2.</a>&nbsp;
Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.response">5.3.</a>&nbsp;
Response<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.statusCodes">5.4.</a>&nbsp;
Status Codes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.events">5.5.</a>&nbsp;
Events<br />
<a href="#anchor10">6.</a>&nbsp;
MRCPv2 Generic Methods, Headers, and Result Structure<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.genericMethods">6.1.</a>&nbsp;
Generic Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">6.1.1.</a>&nbsp;
SET-PARAMS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">6.1.2.</a>&nbsp;
GET-PARAMS<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.genericHeaders">6.2.</a>&nbsp;
Generic Message Headers<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.channelIdentifier">6.2.1.</a>&nbsp;
Channel-Identifier<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">6.2.2.</a>&nbsp;
Accept<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">6.2.3.</a>&nbsp;
Active-Request-Id-List<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">6.2.4.</a>&nbsp;
Proxy-Sync-Id<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">6.2.5.</a>&nbsp;
Accept-Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">6.2.6.</a>&nbsp;
Content-Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.Content-ID">6.2.7.</a>&nbsp;
Content-ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">6.2.8.</a>&nbsp;
Content-Base<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">6.2.9.</a>&nbsp;
Content-Encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">6.2.10.</a>&nbsp;
Content-Location<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">6.2.11.</a>&nbsp;
Content-Length<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">6.2.12.</a>&nbsp;
Fetch Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">6.2.13.</a>&nbsp;
Cache-Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">6.2.14.</a>&nbsp;
Logging-Tag<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.SetCookie">6.2.15.</a>&nbsp;
Set-Cookie and Set-Cookie2<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">6.2.16.</a>&nbsp;
Vendor Specific Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.result">6.3.</a>&nbsp;
Generic Result Structure<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.NLSML">6.3.1.</a>&nbsp;
Natural Language Semantics Markup Language<br />
<a href="#sec.resourceDiscovery">7.</a>&nbsp;
Resource Discovery<br />
<a href="#sec.synthesizerResource">8.</a>&nbsp;
Speech Synthesizer Resource<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">8.1.</a>&nbsp;
Synthesizer State Machine<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">8.2.</a>&nbsp;
Synthesizer Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">8.3.</a>&nbsp;
Synthesizer Events<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.synthesizeHeaders">8.4.</a>&nbsp;
Synthesizer Header Fields<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">8.4.1.</a>&nbsp;
Jump-Size<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">8.4.2.</a>&nbsp;
Kill-On-Barge-In<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">8.4.3.</a>&nbsp;
Speaker Profile<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">8.4.4.</a>&nbsp;
Completion Cause<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor33">8.4.5.</a>&nbsp;
Completion Reason<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">8.4.6.</a>&nbsp;
Voice-Parameter<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor35">8.4.7.</a>&nbsp;
Prosody-Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor36">8.4.8.</a>&nbsp;
Speech Marker<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor37">8.4.9.</a>&nbsp;
Speech Language<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor38">8.4.10.</a>&nbsp;
Fetch Hint<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor39">8.4.11.</a>&nbsp;
Audio Fetch Hint<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor40">8.4.12.</a>&nbsp;
Failed URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor41">8.4.13.</a>&nbsp;
Failed URI Cause<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor42">8.4.14.</a>&nbsp;
Speak Restart<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor43">8.4.15.</a>&nbsp;
Speak Length<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor44">8.4.16.</a>&nbsp;
Load-Lexicon<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor45">8.4.17.</a>&nbsp;
Lexicon-Search-Order<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.synthMessageBody">8.5.</a>&nbsp;
Synthesizer Message Body <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor46">8.5.1.</a>&nbsp;
Synthesizer Speech Data<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.lexiconData">8.5.2.</a>&nbsp;
Lexicon Data<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor47">8.6.</a>&nbsp;
SPEAK Method<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor48">8.7.</a>&nbsp;
STOP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor49">8.8.</a>&nbsp;
BARGE-IN-OCCURED<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor50">8.9.</a>&nbsp;
PAUSE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor51">8.10.</a>&nbsp;
RESUME<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor52">8.11.</a>&nbsp;
CONTROL<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor53">8.12.</a>&nbsp;
SPEAK-COMPLETE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor54">8.13.</a>&nbsp;
SPEECH-MARKER<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor55">8.14.</a>&nbsp;
DEFINE-LEXICON<br />
<a href="#sec.recognizerResource">9.</a>&nbsp;
Speech Recognizer Resource<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor56">9.1.</a>&nbsp;
Recognizer State Machine<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor57">9.2.</a>&nbsp;
Recognizer Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor58">9.3.</a>&nbsp;
Recognizer Events<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.recognizerHeaders">9.4.</a>&nbsp;
Recognizer Header Fields<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.confidenceThreshold">9.4.1.</a>&nbsp;
Confidence Threshold<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor59">9.4.2.</a>&nbsp;
Sensitivity Level<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor60">9.4.3.</a>&nbsp;
Speed Vs Accuracy<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor61">9.4.4.</a>&nbsp;
N Best List Length<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor62">9.4.5.</a>&nbsp;
Input Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor63">9.4.6.</a>&nbsp;
No Input Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor64">9.4.7.</a>&nbsp;
Recognition Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor65">9.4.8.</a>&nbsp;
Waveform URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor66">9.4.9.</a>&nbsp;
Media Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor67">9.4.10.</a>&nbsp;
Input-Waveform-URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor68">9.4.11.</a>&nbsp;
Completion Cause<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor69">9.4.12.</a>&nbsp;
Completion Reason<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor70">9.4.13.</a>&nbsp;
Recognizer Context Block<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.startInputTimers">9.4.14.</a>&nbsp;
Start Input Timers<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.speechCompleteTimeout">9.4.15.</a>&nbsp;
Speech Complete Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor71">9.4.16.</a>&nbsp;
Speech Incomplete Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor72">9.4.17.</a>&nbsp;
DTMF Interdigit Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor73">9.4.18.</a>&nbsp;
DTMF Term Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor74">9.4.19.</a>&nbsp;
DTMF-Term-Char<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor75">9.4.20.</a>&nbsp;
Failed URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor76">9.4.21.</a>&nbsp;
Failed URI Cause<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor77">9.4.22.</a>&nbsp;
Save Waveform<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.newAudioChannel">9.4.23.</a>&nbsp;
New Audio Channel<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor78">9.4.24.</a>&nbsp;
Speech-Language<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor79">9.4.25.</a>&nbsp;
Ver-Buffer-Utterance<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor80">9.4.26.</a>&nbsp;
Recognition-Mode<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor81">9.4.27.</a>&nbsp;
Cancel-If-Queue<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor82">9.4.28.</a>&nbsp;
Hotword-Max-Duration<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor83">9.4.29.</a>&nbsp;
Hotword-Min-Duration<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.interpretText">9.4.30.</a>&nbsp;
Interpret-Text<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor84">9.4.31.</a>&nbsp;
DTMF-Buffer-Time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor85">9.4.32.</a>&nbsp;
Clear-DTMF-Buffer<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor86">9.4.33.</a>&nbsp;
Early-No-Match<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor87">9.4.34.</a>&nbsp;
Num-Min-Consistent-Pronunciations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor88">9.4.35.</a>&nbsp;
Consistency-Threshold<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor89">9.4.36.</a>&nbsp;
Clash-Threshold<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor90">9.4.37.</a>&nbsp;
Personal-Grammar-URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor91">9.4.38.</a>&nbsp;
Enroll-Utterance<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.phraseID">9.4.39.</a>&nbsp;
Phrase-Id<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor92">9.4.40.</a>&nbsp;
Phrase-NL<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor93">9.4.41.</a>&nbsp;
Weight<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor94">9.4.42.</a>&nbsp;
Save-Best-Waveform<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor95">9.4.43.</a>&nbsp;
New-Phrase-Id<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor96">9.4.44.</a>&nbsp;
Confusable-Phrases-URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor97">9.4.45.</a>&nbsp;
Abort-Phrase-Enrollment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.recMessageBody">9.5.</a>&nbsp;
Recognizer Message Body<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.grammarData">9.5.1.</a>&nbsp;
Recognizer Grammar Data<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor98">9.5.2.</a>&nbsp;
Recognizer Result Data<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor99">9.5.3.</a>&nbsp;
Enrollment Result Data<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor100">9.5.4.</a>&nbsp;
Recognizer Context Block<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.recognizerResults">9.6.</a>&nbsp;
Recognizer Results<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor101">9.6.1.</a>&nbsp;
Markup Functions<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor105">9.6.2.</a>&nbsp;
Overview of Recognizer Result Elements and their Relationships<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor106">9.6.3.</a>&nbsp;
Elements and Attributes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.enrollmentResults">9.7.</a>&nbsp;
Enrollment Results<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor113">9.7.1.</a>&nbsp;
NUM-CLASHES Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor114">9.7.2.</a>&nbsp;
NUM-GOOD-REPETITIONS Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor115">9.7.3.</a>&nbsp;
NUM-REPETITIONS-STILL-NEEDED Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor116">9.7.4.</a>&nbsp;
CONSISTENCY-STATUS Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor117">9.7.5.</a>&nbsp;
CLASH-PHRASE-IDS Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor118">9.7.6.</a>&nbsp;
TRANSCRIPTIONS Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor119">9.7.7.</a>&nbsp;
CONFUSABLE-PHRASES Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor120">9.8.</a>&nbsp;
DEFINE-GRAMMAR<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.methodRecognize">9.9.</a>&nbsp;
RECOGNIZE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor121">9.10.</a>&nbsp;
STOP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor122">9.11.</a>&nbsp;
GET-RESULT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor123">9.12.</a>&nbsp;
START-OF-INPUT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor124">9.13.</a>&nbsp;
START-INPUT-TIMERS<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor125">9.14.</a>&nbsp;
RECOGNITION-COMPLETE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor126">9.15.</a>&nbsp;
START-PHRASE-ENROLLMENT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor127">9.16.</a>&nbsp;
ENROLLMENT-ROLLBACK<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor128">9.17.</a>&nbsp;
END-PHRASE-ENROLLMENT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor129">9.18.</a>&nbsp;
MODIFY-PHRASE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor130">9.19.</a>&nbsp;
DELETE-PHRASE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.interpret">9.20.</a>&nbsp;
INTERPRET<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor131">9.21.</a>&nbsp;
INTERPRETATION-COMPLETE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor132">9.22.</a>&nbsp;
DTMF Detection<br />
<a href="#sec.recorderResource">10.</a>&nbsp;
Recorder Resource<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor133">10.1.</a>&nbsp;
Recorder State Machine<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor134">10.2.</a>&nbsp;
Recorder Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor135">10.3.</a>&nbsp;
Recorder Events<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor136">10.4.</a>&nbsp;
Recorder Header Fields<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor137">10.4.1.</a>&nbsp;
Sensitivity Level<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor138">10.4.2.</a>&nbsp;
No Input Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor139">10.4.3.</a>&nbsp;
Completion Cause<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor140">10.4.4.</a>&nbsp;
Completion Reason<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor141">10.4.5.</a>&nbsp;
Failed URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor142">10.4.6.</a>&nbsp;
Failed URI Cause<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor143">10.4.7.</a>&nbsp;
Record URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor144">10.4.8.</a>&nbsp;
Media Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor145">10.4.9.</a>&nbsp;
Max Time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor146">10.4.10.</a>&nbsp;
Trim-Length<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor147">10.4.11.</a>&nbsp;
Final Silence<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor148">10.4.12.</a>&nbsp;
Capture On Speech<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor149">10.4.13.</a>&nbsp;
Ver-Buffer-Utterance<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor150">10.4.14.</a>&nbsp;
Start Input Timers<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor151">10.4.15.</a>&nbsp;
New Audio Channel<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor152">10.5.</a>&nbsp;
Recorder Message Body<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor153">10.6.</a>&nbsp;
RECORD<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor154">10.7.</a>&nbsp;
STOP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor155">10.8.</a>&nbsp;
RECORD-COMPLETE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor156">10.9.</a>&nbsp;
START-INPUT-TIMERS<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor157">10.10.</a>&nbsp;
START-OF-INPUT<br />
<a href="#sec.verifierResource">11.</a>&nbsp;
Speaker Verification and Identification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor158">11.1.</a>&nbsp;
Speaker Verification State Machine<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor159">11.2.</a>&nbsp;
Speaker Verification Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor160">11.3.</a>&nbsp;
Verification Events<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor161">11.4.</a>&nbsp;
Verification Header Fields<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.repositoryURI">11.4.1.</a>&nbsp;
Repository-URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor162">11.4.2.</a>&nbsp;
Voiceprint-Identifier<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor163">11.4.3.</a>&nbsp;
Verification-Mode<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor164">11.4.4.</a>&nbsp;
Adapt-Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor165">11.4.5.</a>&nbsp;
Abort-Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor166">11.4.6.</a>&nbsp;
Min-Verification-Score<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor167">11.4.7.</a>&nbsp;
Num-Min-Verification-Phrases<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor168">11.4.8.</a>&nbsp;
Num-Max-Verification-Phrases<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor169">11.4.9.</a>&nbsp;
No-Input-Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor170">11.4.10.</a>&nbsp;
Save-Waveform<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor171">11.4.11.</a>&nbsp;
Media Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor172">11.4.12.</a>&nbsp;
Waveform-URI<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor173">11.4.13.</a>&nbsp;
Voiceprint-Exists<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.verBufferUtterance">11.4.14.</a>&nbsp;
Ver-Buffer-Utterance<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor174">11.4.15.</a>&nbsp;
Input-Waveform-Uri<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor175">11.4.16.</a>&nbsp;
Completion-Cause<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor176">11.4.17.</a>&nbsp;
Completion Reason<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor177">11.4.18.</a>&nbsp;
Speech Complete Timeout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor178">11.4.19.</a>&nbsp;
New Audio Channel<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor179">11.4.20.</a>&nbsp;
Abort-Verification<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor180">11.4.21.</a>&nbsp;
Start Input Timers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor181">11.5.</a>&nbsp;
Verification Message Body<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor182">11.5.1.</a>&nbsp;
Verification Result Data<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.verificationResults">11.5.2.</a>&nbsp;
Verification Result Elements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor193">11.6.</a>&nbsp;
START-SESSION<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor194">11.7.</a>&nbsp;
END-SESSION<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor195">11.8.</a>&nbsp;
QUERY-VOICEPRINT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor196">11.9.</a>&nbsp;
DELETE-VOICEPRINT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor197">11.10.</a>&nbsp;
VERIFY<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor198">11.11.</a>&nbsp;
VERIFY-FROM-BUFFER<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor199">11.12.</a>&nbsp;
VERIFY-ROLLBACK<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor200">11.13.</a>&nbsp;
STOP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor201">11.14.</a>&nbsp;
START-INPUT-TIMERS<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor202">11.15.</a>&nbsp;
VERIFICATION-COMPLETE<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor203">11.16.</a>&nbsp;
START-OF-INPUT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor204">11.17.</a>&nbsp;
CLEAR-BUFFER<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor205">11.18.</a>&nbsp;
GET-INTERMEDIATE-RESULT<br />
<a href="#sec.securityConsiderations">12.</a>&nbsp;
Security Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor206">12.1.</a>&nbsp;
Rendezvous and Session Establishment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor207">12.2.</a>&nbsp;
Control channel protection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor208">12.3.</a>&nbsp;
Media session protection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor209">12.4.</a>&nbsp;
Indirect Content Access<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor210">12.5.</a>&nbsp;
Protection of stored media<br />
<a href="#sec.iana">13.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor211">13.1.</a>&nbsp;
New registries<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.registration.resources">13.1.1.</a>&nbsp;
MRCPv2 resource types<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor212">13.1.2.</a>&nbsp;
MRCPv2 methods and events<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor213">13.1.3.</a>&nbsp;
MRCPv2 headers<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor214">13.1.4.</a>&nbsp;
MRCPv2 status codes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor215">13.1.5.</a>&nbsp;
Grammar Reference List Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.vendorSpecificRegistration">13.1.6.</a>&nbsp;
MRCPv2 vendor-specific parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor216">13.2.</a>&nbsp;
NLSML-related registrations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor217">13.2.1.</a>&nbsp;
application/nlsml+xml Media Type registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor218">13.3.</a>&nbsp;
NLSML XML Schema registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor219">13.4.</a>&nbsp;
MRCPv2 XML Namespace registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.text-media-registrations">13.5.</a>&nbsp;
text Media Type Registrations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.grammar-ref-list">13.5.1.</a>&nbsp;
text/grammar-ref-list<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.uri-list">13.5.2.</a>&nbsp;
text/uri-list<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.sessionURIScheme">13.6.</a>&nbsp;
session URL scheme registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor220">13.7.</a>&nbsp;
SDP parameter registrations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor221">13.7.1.</a>&nbsp;
sub-registry &quot;proto&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor222">13.7.2.</a>&nbsp;
sub-registry &quot;att-field (session-level)&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor223">13.7.3.</a>&nbsp;
sub-registry &quot;att-field (media-level)&quot;<br />
<a href="#anchor224">14.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor225">14.1.</a>&nbsp;
Message Flow<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor226">14.2.</a>&nbsp;
Recognition Result Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor227">14.2.1.</a>&nbsp;
Simple ASR Ambiguity<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor228">14.2.2.</a>&nbsp;
Mixed Initiative<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor229">14.2.3.</a>&nbsp;
DTMF Input<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor230">14.2.4.</a>&nbsp;
Interpreting Meta-Dialog and Meta-Task Utterances<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor231">14.2.5.</a>&nbsp;
Anaphora and Deixis<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor232">14.2.6.</a>&nbsp;
Distinguishing Individual Items from Sets with One Member<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor233">14.2.7.</a>&nbsp;
Extensibility<br />
<a href="#S.abnf">15.</a>&nbsp;
ABNF Normative Definition<br />
<a href="#anchor234">16.</a>&nbsp;
XML Schemas<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.schema.NLSML">16.1.</a>&nbsp;
NLSML Schema Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.enrollmentResultsSchema">16.2.</a>&nbsp;
Enrollment Results Schema Definition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec.verificationResultsSchema">16.3.</a>&nbsp;
Verification Results Schema Definition<br />
<a href="#rfc.references1">17.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">17.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">17.2.</a>&nbsp;
Informative References<br />
<a href="#anchor237">Appendix&nbsp;A.</a>&nbsp;
Contributors<br />
<a href="#anchor238">Appendix&nbsp;B.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The MRCPv2 protocol is designed to allow a client device to control
      media processing resources on the network. Some of these media
      processing resources include speech recognition engines, speech
      synthesis engines, speaker verification and speaker identification
      engines. MRCPv2 enables the implementation of distributed Interactive
      Voice Response platforms using <a class='info' href='#W3C.REC-voicexml20-20040316'>VoiceXML<span> (</span><span class='info'>Tryphonas, S., Rehor, K., Burnett, D., Danielsen, P., McGlashan, S., Ferrans, J., Porter, B., Lucas, B., Hunt, A., and J. Carter, &ldquo;Voice Extensible Markup Language (VoiceXML) Version 2.0,&rdquo; March&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;voicexml20&#8209;20040316] browsers or other
      client applications while maintaining separate back-end speech
      processing capabilities on specialized speech processing servers. MRCPv2
      is based on the earlier <a class='info' href='#RFC4463'>Media Resource Control
      Protocol (MRCP)<span> (</span><span class='info'>Shanmugham, S., Monaco, P., and B. Eberman, &ldquo;A Media Resource Control Protocol (MRCP) Developed by Cisco, Nuance, and Speechworks,&rdquo; April&nbsp;2006.</span><span>)</span></a> [RFC4463] developed jointly by Cisco Systems, Inc., Nuance
      Communications, and Speechworks Inc.
</p>
<p>The protocol requirements of SPEECHSC <a class='info' href='#RFC4313'>[RFC4313]<span> (</span><span class='info'>Oran, D., &ldquo;Requirements for Distributed Control of Automatic Speech Recognition (ASR), Speaker Identification/Speaker Verification (SI/SV), and Text-to-Speech (TTS) Resources,&rdquo; December&nbsp;2005.</span><span>)</span></a>
      dictate that the solution be capable of reaching a media processing
      server and setting up communication channels to the media resources, and
      sending and receiving control messages and media streams to/from the
      server. The <a class='info' href='#RFC3261'>Session Initiation Protocol
      (SIP)<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261] meets these requirements. MRCPv2 leverages these
      capabilities by building upon SIP and the <a class='info' href='#RFC4566'>Session
      Description Protocol (SDP)<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4566]. MRCPv2 uses SIP to setup and tear
      down media and control sessions with the server. In addition, the client
      can use a SIP re-INVITE method (an INVITE dialog sent within an existing
      SIP Session) to change the characteristics of these media and control
      session while maintaining the SIP dialog between the client and server.
      SDP is used to describe the parameters of the media sessions associated
      with that dialog. It is mandatory to support SIP as the session
      establishment protocol to ensure interoperability. Other protocols can
      be used for session establishment by prior agreement. This document only
      describes the use of SIP and SDP.
</p>
<p>MRCPv2 uses SIP and SDP to create the client/server dialog and set up
      the media channels to the server. It also uses SIP and SDP to establish
      MRCPv2 control sessions between the client and the server for each media
      processing resource required for that dialog. The MRCPv2 protocol
      exchange between the client and the media resource is carried on that
      control session. MRCPv2 protocol exchanges do not change the state of
      the SIP dialog, the media sessions, or other parameters of the dialog
      initiated via SIP. It controls and affects the state of the media
      processing resource associated with the MRCPv2 session(s).
</p>
<p>MRCPv2 defines the messages to control the different media processing
      resources and the state machines required to guide their operation. It
      also describes how these messages are carried over a transport layer
      protocol such as TCP or TLS (Note: SCTP is a viable transport for MRCPv2
      as well, but the mapping onto SCTP is not described in this
      specification).
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Document Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<p>Since many of the definitions and syntax are identical to HTTP/1.1
      (<a class='info' href='#RFC2616'>RFC2616<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616]), this specification refers to
      the section where they are defined rather than copying it. For brevity,
      [HX.Y] is to be taken to refer to Section X.Y of RFC2616.
</p>
<p>All the mechanisms specified in this document are described in both
      prose and an augmented Backus-Naur form (<a class='info' href='#RFC4234'>ABNF<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; October&nbsp;2005.</span><span>)</span></a> [RFC4234]).
</p>
<p>The complete message format in ABNF form is provided in <a class='info' href='#S.abnf'>Section&nbsp;15<span> (</span><span class='info'>ABNF Normative Definition</span><span>)</span></a> and is the normative format definition.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Definitions</h3>

<p></p>
<blockquote class="text"><dl>
<dt>Media Resource</dt>
<dd>An entity on
            the speech processing server that can be controlled through the
            MRCPv2 protocol.
</dd>
<dt>MRCP Server</dt>
<dd>Aggregate of
            one or more "Media Resource" entities on a Server, exposed through
            the MRCPv2 protocol ("Server" for short).
</dd>
<dt>MRCP Client</dt>
<dd>An entity
            controlling one or more Media Resources through the MRCPv2
            protocol ("Client" for short).
</dd>
<dt>DTMF</dt>
<dd>Dual Tone
            Multi-Frequency; a method of transmitting key presses in-band,
            either as actual tones (<a class='info' href='#Q.23'>Q.23<span> (</span><span class='info'>International Telecommunications             Union, &ldquo;Technical Features of Push-Button Telephone Sets,&rdquo; 1993.</span><span>)</span></a> [Q.23]) or as
            named tone events (<a class='info' href='#RFC4733'>RFC4733<span> (</span><span class='info'>Schulzrinne, H. and T. Taylor, &ldquo;RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals,&rdquo; December&nbsp;2006.</span><span>)</span></a> [RFC4733]).
</dd>
<dt>Hotword Mode</dt>
<dd>A mode of
            speech recognition where a stream of utterances is evaluated for
            match against a small set of command words. This is generally
            employed to either trigger some action, or to control the
            subsequent grammar to be used for further recognition
</dd>
</dl></blockquote>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
State-Machine Diagrams</h3>

<p>The state-machine diagrams in this document do not show every
        possible method call. Rather, they reflect the state of the resource
        based on the methods that have moved to IN-PROGRESS or COMPLETE
        states. Note that since PENDING requests essentially have not affected
        the resource yet and are in queue to be processed, they are not
        reflected in the state-machine diagrams.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Architecture</h3>

<p>A system using MRCPv2 consists of a client that requires the
      generation and/or consumption of media streams and a media resource
      server that has the resources or "engines" to process these streams as
      input or generate these streams as output. The client uses SIP and SDP
      to establish an MRCPv2 control channel with the server to use its media
      processing resources. MRCPv2 servers are addressed using SIP URIs.
</p>
<p>The session management protocol (SIP) uses SDP with the offer/answer
      model described in <a class='info' href='#RFC3264'>RFC3264<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3264] to set up the
      MRCPv2 control channels and describe their characteristics. A separate
      MRCPv2 session is needed to control each of the media processing
      resources associated with the SIP dialog between the client and server.
      Within a SIP dialog, the individual resource control channels for the
      different resources are added or removed through SDP offer/answer
      carried in a SIP re-INVITE transaction.
</p>
<p>The server, through the SDP exchange, provides the client with an
      unambiguous channel identifier and a TCP port number. The client MAY
      then open a new TCP connection with the server using this port number.
      Multiple MRCPv2 channels can share a TCP connection between the client
      and the server. All MRCPv2 messages exchanged between the client and the
      server carry the specified channel identifier that the server MUST
      ensure is unambiguous among all MRCPv2 control channels that are active
      on that server. The client uses this channel identifier to indicate the
      media processing resource associated with that channel.
</p>
<p>The session management protocol (SIP) also establishes the media
      sessions between the client (or other source/sink of media) and the
      MRCPv2 server using SDP m-lines. One or more media processing resources
      may share a media session under a SIP session, or each media processing
      resource may have its own media session.
</p><br /><hr class="insert" />
<a name="F.arch"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
     MRCPv2 client                    MRCPv2 Media Resource Server
|--------------------|             |-----------------------------|
||------------------||             ||---------------------------||
|| Application Layer||             || TTS  | ASR  | SV   | SI   ||
||------------------||             ||Engine|Engine|Engine|Engine||
||Media Resource API||             ||---------------------------||
||------------------||             || Media Resource Management ||
|| SIP  |  MRCPv2   ||             ||---------------------------||
||Stack |           ||             ||   SIP  |    MRCPv2        ||
||      |           ||             ||  Stack |                  ||
||------------------||             ||---------------------------||
||   TCP/IP Stack   ||----MRCPv2---||       TCP/IP Stack        ||
||                  ||             ||                           ||
||------------------||-----SIP-----||---------------------------||
|--------------------|             |-----------------------------|
         |                             /
        SIP                           /
         |                           /
|-------------------|              RTP
|                   |              /
| Media Source/Sink |-------------/
|                   |
|-------------------|

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Architectural Diagram&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec.resourceTypes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
MRCPv2 Media Resource Types</h3>

<p>An MRCPv2 server may offer one or more of the following media
        processing resources to its clients. </p>
<blockquote class="text"><dl>
<dt>Basic Synthesizer</dt>
<dd>A speech
            synthesizer resource with very limited capabilities, that can
            generate its media stream exclusively from concatenated audio
            clips. The speech data is described using a limited subset of
            <a class='info' href='#W3C.REC-speech-synthesis-20040907'>SSML<span> (</span><span class='info'>Walker, M., Burnett, D., and A. Hunt, &ldquo;Speech Synthesis Markup Language (SSML) Version 1.0,&rdquo; September&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;speech&#8209;synthesis&#8209;20040907]
            elements. A basic synthesizer MUST support the SSML tags
            &lt;speak&gt;, &lt;audio&gt;, &lt;say-as&gt; and &lt;mark&gt;.
</dd>
<dt>Speech Synthesizer</dt>
<dd>A full
            capability speech synthesis resource capable of rendering speech
            from text. Such a synthesizer MUST have full <a class='info' href='#W3C.REC-speech-synthesis-20040907'>SSML<span> (</span><span class='info'>Walker, M., Burnett, D., and A. Hunt, &ldquo;Speech Synthesis Markup Language (SSML) Version 1.0,&rdquo; September&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;speech&#8209;synthesis&#8209;20040907]
            support.
</dd>
<dt>Recorder</dt>
<dd>A resource capable
            of recording audio and providing a URI pointer to the recording. A
            recorder MUST provide some end-pointing capabilities for
            suppressing silence at the beginning and end of a recording, and
            MAY also suppress silence in the middle of a recording. If such
            suppression is done, the recorder MUST maintain timing metadata to
            indicate the actual time stamps of the recorded media.
</dd>
<dt>DTMF Recognizer</dt>
<dd>A
            recognition resource capable of extracting and interpreting DTMF
            digits in a media stream and matching them against a supplied
            digit grammar It could also do a semantic interpretation based on
            semantic tags in the grammar.
</dd>
<dt>Speech Recognizer</dt>
<dd>A full
            speech recognition resource that is capable of receiving a media
            stream containing audio and interpreting it to recognition
            results. It also has a natural language semantic interpreter to
            post-process the recognized data according to the semantic data in
            the grammar and provide semantic results along with the recognized
            input. The recognizer may also support enrolled grammars, where
            the client can enroll and create new personal grammars for use in
            future recognition operations.
</dd>
<dt>Speaker Verifier</dt>
<dd>A resource
            capable of verifying the authenticity of a claimed identity by
            matching a media stream containing spoken input to a pre-existing
            voiceprint. This may also involve matching the caller's voice
            against more than one voiceprint, also called multi-verification
            or speaker identification.
</dd>
</dl></blockquote>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Server and Resource Addressing</h3>

<p>The MRCPv2 server as a whole is a generic SIP server and is
        addressed is by a SIP Contact URI registered by the server through SIP
        (or via static configuration of the SIP registrar).
</p>
<p>For example:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
     sip:mrcpv2@example.net
</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
MRCPv2 Protocol Basics</h3>

<p>MRCPv2 requires a connection-oriented transport layer protocol such
      as TCP or SCTP to guarantee reliable sequencing and delivery of MRCPv2
      control messages between the client and the server. In order to meet the
      requirements for security enumerated in <a class='info' href='#RFC4313'>SpeechSC
      Requirements<span> (</span><span class='info'>Oran, D., &ldquo;Requirements for Distributed Control of Automatic Speech Recognition (ASR), Speaker Identification/Speaker Verification (SI/SV), and Text-to-Speech (TTS) Resources,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4313], clients and servers MUST implement TLS as well. One
      or more connections between the client and the server can be shared
      among different MRCPv2 channels to the server. The individual messages
      carry the channel identifier to differentiate messages on different
      channels. MRCPv2 protocol encoding is text based with mechanisms to
      carry embedded binary data. This allows arbitrary data like recognition
      grammars, recognition results, synthesizer speech markup etc. to be
      carried in MRCPv2 messages.
</p>
<a name="sec.connectToServer"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Connecting to the Server</h3>

<p>MRCPv2 employs a session establishment and management protocol such
        as SIP in conjunction with SDP. The client reaches an MRCPv2 server
        using conventional INVITE and other SIP transactions for establishing,
        maintaining, and terminating SIP dialogs. The SDP offer/answer
        exchange model over SIP is used to establish a resource control
        channel for each resource. The SDP offer/answer exchange is also used
        to establish media sessions between the server and the source or sink
        of audio.
</p>
<a name="sec.resourceControl"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Managing Resource Control Channels</h3>

<p>The client needs a separate MRCPv2 resource control channel to
        control each media processing resource under the SIP dialog. A unique
        channel identifier string identifies these resource control channels.
        The channel identifier is an unambiguous, opaque string followed by an
        "@", then by a string token specifying the type of resource. The
        server generates the channel identifier and MUST make sure it does not
        clash with the identifier of any other MRCP channel currently
        allocated by that server. MRCPv2 defines the following IANA-registered
        types of media processing resources. Additional resource types, their
        associated methods/events and state machines may be added as described
        below in <a class='info' href='#sec.iana'>Section&nbsp;13<span> (</span><span class='info'>IANA Considerations</span><span>)</span></a>.
</p><br /><hr class="insert" />
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">Resource Type</th><th align="left">Resource Description</th><th align="left">Described in</th></tr>
<tr>
<td align="left">speechrecog</td>
<td align="left">Speech Recognizer</td>
<td align="left"><a class='info' href='#sec.recognizerResource'>Section&nbsp;9<span> (</span><span class='info'>Speech Recognizer Resource</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">dtmfrecog</td>
<td align="left">DTMF Recognizer</td>
<td align="left"><a class='info' href='#sec.recognizerResource'>Section&nbsp;9<span> (</span><span class='info'>Speech Recognizer Resource</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">speechsynth</td>
<td align="left">Speech Synthesizer</td>
<td align="left"><a class='info' href='#sec.synthesizerResource'>Section&nbsp;8<span> (</span><span class='info'>Speech Synthesizer Resource</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">basicsynth</td>
<td align="left">Basic Synthesizer</td>
<td align="left"><a class='info' href='#sec.synthesizerResource'>Section&nbsp;8<span> (</span><span class='info'>Speech Synthesizer Resource</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">speakverify</td>
<td align="left">Speaker Verification</td>
<td align="left"><a class='info' href='#sec.verifierResource'>Section&nbsp;11<span> (</span><span class='info'>Speaker Verification and Identification</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">recorder</td>
<td align="left">Speech Recorder</td>
<td align="left"><a class='info' href='#sec.recorderResource'>Section&nbsp;10<span> (</span><span class='info'>Recorder Resource</span><span>)</span></a></td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Resource Types&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The SIP INVITE or re-INVITE transaction and the SDP offer/answer
        exchange it carries contain m-lines describing the resource control
        channel to be allocated. There MUST be one SDP m-line for each MRCPv2
        resource to be used in the session. This m-line MUST have a media type
        field of "application" and a transport type field of either
        "TCP/MRCPv2" or "TCP/TLS/MRCPv2". (The usage of SCTP with MRCPv2 may
        be addressed in a future specification). The port number field of the
        m-line MUST contain the "discard" port of the transport protocol (port
        9 for TCP) in the SDP offer from the client and MUST contain the TCP
        listen port on the server in the SDP answer. The client may then
        either set up a TCP or TLS connection to that server port or share an
        already established connection to that port. Since MRCPv2 allows
        multiple sessions to share the same TCP connection, multiple m-lines
        in a single SDP document may share the same port field value; MRCPv2
        servers MUST NOT assume any relationship between resources using the
        same port other than the sharing of the communication channel.
</p>
<p>MRCPv2 resources do not use the port or format field of the m-line
        to distinguish themselves from other resources using the same channel.
        The client MUST specify the resource type identifier in the resource
        attribute associated with the control m-line of the SDP offer. The
        server MUST respond with the full Channel-Identifier (which includes
        the resource type identifier and an unambiguous string) in the
        "channel" attribute associated with the control m-line of the SDP
        answer. To remain backwards compatible with conventional SDP usage,
        the format field of the m-line MUST have the arbitrarily-selected
        value of "1".
</p>
<p>When the client wants to add a media processing resource to the
        session, it issues a SIP re-INVITE transaction. The SDP offer/answer
        exchange carried by this SIP transaction contains one or more
        additional control m-lines for the new resources to be allocated to
        the session. The server, on seeing the new m-line, allocates the
        resources (if they are available) and responds with a corresponding
        control m-line in the SDP answer carried in the SIP response. If the
        new resources are not available, existing media processing going on
        before the RE-INVITE will continue as it was before.
</p>
<p>The a=setup attribute, as described in <a class='info' href='#RFC4145'>RFC4145<span> (</span><span class='info'>Yon, D. and G. Camarillo, &ldquo;TCP-Based Media Transport in the Session Description Protocol (SDP),&rdquo; September&nbsp;2005.</span><span>)</span></a> [RFC4145], MUST be "active" for the offer from
        the client and MUST be "passive" for the answer from the MRCPv2
        server. The a=connection attribute MUST have a value of "new" on the
        very first control m-line offer from the client to an MRCPv2 server.
        Subsequent control m-line offers from the client to the MRCP server
        MAY contain "new" or "existing", depending on whether the client wants
        to set up a new connection or share an existing connection,
        respectively. If the client specifies a value of "new", the server
        MUST respond with a value of "new". If the client specifies a value of
        "existing", the server MAY respond with a value of "existing" if it
        prefers to share an existing connection or can answer with a value of
        "new", in which case the client MUST initiate a new transport
        connection.
</p>
<p>When the client wants to de-allocate the resource from this
        session, it issues a SIP re-INVITE transaction with the server. The
        SDP MUST offer the control m-line with port 0. The server MUST then
        answer the control m-line with a response of port 0. This de-allocates
        the associated MRCPv2 identifier and resource. The server MUST NOT
        close the TCP, SCTP or TLS connection if it is currently being shared
        among multiple MRCP channels. When all MRCP channels that may be
        sharing the connection are released and/or the associated SIP dialog
        is terminated, the client or server terminates the connection.
</p>
<p>All servers MUST support TLS. Servers MAY support TCP without TLS
        in physically secure environments. It is up to the client, through the
        SDP offer, to choose which transport it wants to use for an MRCPv2
        session. Aside from the exceptions given above, when using TCP the
        m-lines MUST conform to <a class='info' href='#RFC4145'>RFC4145<span> (</span><span class='info'>Yon, D. and G. Camarillo, &ldquo;TCP-Based Media Transport in the Session Description Protocol (SDP),&rdquo; September&nbsp;2005.</span><span>)</span></a> [RFC4145], which
        describes the usage of SDP for connection-oriented transport. When
        using TLS the SDP m-line for the control pipe MUST conform to <a class='info' href='#RFC4572'>comedia over TLS<span> (</span><span class='info'>Lennox, J., &ldquo;Connection-Oriented Media Transport over the Transport Layer Security (TLS) Protocol in the Session Description Protocol (SDP),&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4572], which specifies the usage of
        SDP for establishing a secure connection-oriented transport over
        TLS.
</p><br /><hr class="insert" />

<p>This example exchange adds a resource control channel for
          a synthesizer. Since a synthesizer also generates an audio stream,
          this interaction also creates a receive-only RTP media session for
          the server to send audio to.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  INVITE sip:mresources@server.example.com SIP/2.0
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314161 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length: 244

       v=0
       o=sarvi 2890844526 2890842808 IN IP4 192.0.2.4
       s=-
       c=IN IP4 192.0.2.12
       m=application 9 TCP/MRCPv2 1
       a=setup:active
       a=connection:new
       a=resource:speechsynth
       a=cmid:1
       m=audio 49170 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=recvonly
       a=mid:1


S-&gt;C:  SIP/2.0 200 OK
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314161 INVITE
       Contact:&lt;sip:mresources@server.example.com&gt;
       Content-Type:application/sdp
       Content-Length: 260

       v=0
       o=- 2890844526 2890842808 IN IP4 192.0.2.4
       s=-
       c=IN IP4 192.0.2.11
       m=application 32416 TCP/MRCPv2 1
       a=setup:passive
       a=connection:new
       a=channel:32AECB234338@speechsynth
       a=cmid:1
       m=audio 48260 RTP/AVP 00 96
       a=rtpmap:0 pcmu/8000
       a=sendonly
       a=mid:1


C-&gt;S:  ACK sip:mresources@server.example.com SIP/2.0
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;;tag=a6c85cf
       From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314162 ACK
       Content-Length:0
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Example: Add Synthesizer Control Channel&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />

<p>This example exchange continues from the previous figure
          and allocates an additional resource control channel for a
          recognizer. Since a recognizer would need to receive an audio stream
          for recognition, this interaction also updates the audio stream to
          sendrecv, making it a 2-way RTP media session.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  INVITE sip:mresources@server.example.com SIP/2.0
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314163 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length: 397

       v=0
       o=sarvi 2890844526 2890842809 IN IP4 192.0.2.4
       s=-
       c=IN IP4 192.0.2.12
       m=application 9 TCP/MRCPv2 1
       a=setup:active
       a=connection:existing
       a=resource:speechsynth
       a=cmid:1
       m=audio 49170 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=rtpmap:96 telephone-event/8000
       a=fmtp:96 0-15
       a=sendrecv
       a=mid:1
       m=application 9 TCP/MRCPv2 1
       a=setup:active
       a=connection:existing
       a=resource:speechrecog
       a=cmid:1


S-&gt;C:  SIP/2.0 200 OK
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314163 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:431

       v=0
       o=sarvi 2890844526 2890842809 IN IP4 192.0.2.4
       s=-
       c=IN IP4 192.0.2.11
       m=application 32416 TCP/MRCPv2 1
       a=setup:passive
       a=connection:existing
       a=channel:32AECB234338@speechsynth
       a=cmid:1
       m=audio 48260 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=rtpmap:96 telephone-event/8000
       a=fmtp:96 0-15
       a=sendrecv
       a=mid:1
       m=application 32416 TCP/MRCPv2 1
       a=setup:passive
       a=connection:existing
       a=channel:32AECB234338@speechrecog
       a=cmid:1


C-&gt;S:  ACK sip:mresources@server.example.com SIP/2.0
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;;tag=a6c85cf
       From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314164 ACK
       Content-Length:0
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Add Recognizer example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />

<p>This example exchange continues from the previous figure
          and de-allocates recognizer channel. Since a recognizer no longer
          needs to receive an audio stream, this interaction also updates the
          RTP media session to recvonly.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  INVITE sip:mresources@server.example.com SIP/2.0
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314163 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length: 276

       v=0
       o=sarvi 2890844526 2890842809 IN IP4 192.0.2.4
       s=-
       c=IN IP4 192.0.2.12
       m=application 9 TCP/MRCPv2 1
       a=resource:speechsynth
       a=cmid:1
       m=audio 49170 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=recvonly
       a=mid:1
       m=application 0 TCP/MRCPv2 1
       a=resource:speechrecog
       a=cmid:1


S-&gt;C:  SIP/2.0 200 OK
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314163 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:303

       v=0
       o=sarvi 2890844526 2890842809 IN IP4 192.0.2.4
       s=-
       c=IN IP4 192.0.2.11
       m=application 32416 TCP/MRCPv2 1
       a=channel:32AECB234338@speechsynth
       a=cmid:1
       m=audio 48260 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=sendonly
       a=mid:1
       m=application 0 TCP/MRCPv2 1
       a=channel:32AECB234338@speechrecog
       a=cmid:1


C-&gt;S:  ACK sip:mresources@server.example.com SIP/2.0
       Via:SIP/2.0/TCP client.atlanta.example.com:5060;
       branch=z9hG4bK74bf9
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;;tag=a6c85cf
       From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314164 ACK
       Content-Length:0
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Deallocate Recognizer example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec.mediaStreams"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Media Streams and RTP Ports</h3>

<p>Since MRCPv2 resources either generate or consume media streams,
        the client or the server needs to associate media sessions with their
        corresponding resource or resources. More than one resource could be
        associated with a single media session or each resource could be
        assigned a separate media session. Also note that more that one media
        session can be associated with a single resource if need be, but this
        scenario is not useful for the current set of resources. For example,
        a synthesizer and a recognizer could be associated to the same media
        session (m=audio line), if it is opened in "sendrecv" mode.
        Alternatively, the recognizer could have its own "sendonly" audio
        session and the synthesizer could have its own "recvonly" audio
        session.
</p>
<p>The association between control channels and their corresponding
        media sessions is established using a new "resource channel media
        identifier" media-level attribute ("cmid"). Valid values of this
        attribute are the values of the "mid" attribute defined in <a class='info' href='#RFC3388'>RFC3388<span> (</span><span class='info'>Camarillo, G., Eriksson, G., Holler, J., and H. Schulzrinne, &ldquo;Grouping of Media Lines in the Session Description Protocol (SDP),&rdquo; December&nbsp;2002.</span><span>)</span></a> [RFC3388]. If there is more than 1 audio m-line,
        then each audio m-line MUST have a "mid" attribute. Each control
        m-line MAY have one or more "cmid" attributes that match the resource
        control channel to the "mid" attributes of the audio m-lines it is
        associated with. Note that if a control m-line does not have a "cmid"
        attribute it will not be associated with any media. The operations on
        such a resource will hence be limited. For example, if it was a
        recognizer resource, the RECOGNIZE method requires an associated media
        to process while the INTERPRET method does not. The formatting of the
        "cmid" attribute in SDP <a class='info' href='#RFC4566'>RFC3388<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4566] is
        described by the following ABNF:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
cmid-attribute = "a=cmid:" identification-tag
identification-tag = token</pre></div>
<p>To allow this flexible mapping of media sessions to MRCPv2 control
        channels, a single audio m-line can be associated with multiple
        resources or each resource can have its own audio m-line. For example,
        if the client wants to allocate a recognizer and a synthesizer and
        associate them with a single 2-way audio pipe, the SDP offer would
        contain two control m-lines and a single audio m-line with an
        attribute of "sendrecv". Each of the control m-lines would have a
        "cmid" attribute whose value matches the "mid" of the audio m-line.
        If, on the other hand, the client wants to allocate a recognizer and a
        synthesizer each with its own separate audio pipe, the SDP offer would
        carry two control m-lines (one for the recognizer and another for the
        synthesizer) and two audio m-lines (one with the attribute "sendonly"
        and another with attribute "recvonly"). The "cmid" attribute of the
        recognizer control m-line would match the "mid" value of the
        "sendonly" audio m-line and the "cmid" attribute of the synthesizer
        control m-line would match the "mid" attribute of the "recvonly"
        m-line.
</p>
<p>When a server receives media (e.g. audio) on a media session that
        is associated with more than one media processing resource, it is the
        responsibility of the server to receive and fork it to the resources
        that need to consume it. If multiple resources in an MRCPv2 session
        are generating audio (or other media) to be sent on a single
        associated media session, it is the responsibility of the server to
        either multiplex the multiple streams onto the single RTP session or
        contain an embedded RTP mixer (see <a class='info' href='#RFC3550'>RFC3550<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3550]) to combine the multiple streams into
        one. In the former case, the media stream will contain RTP packets
        generated by different sources, and hence the packets will have
        different Synchronization Source identifiers (SSRCs). In the latter
        case, the RTP packets will contain multiple (CSRCs) corresponding to
        the original streams before being combined by the mixer. An MRCPv2
        implementation MUST either multiplex or mix unless it cannot correctly
        do either, in which case the server MUST disallow the client from
        associating multiple such resources to a single audio pipe by
        rejecting the SDP offer with a SIP 501 "Not Implemented" error.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
MRCPv2 Message Transport</h3>

<p>The MRCPv2 messages defined in this document are transported over a
        TCP, TLS or SCTP (in the future) connection between the client and the
        server. The method for setting up this transport connection and the
        resource control channel is discussed in <a class='info' href='#sec.connectToServer'>Section&nbsp;4.1<span> (</span><span class='info'>Connecting to the Server</span><span>)</span></a> and <a class='info' href='#sec.resourceControl'>Section&nbsp;4.2<span> (</span><span class='info'>Managing Resource Control Channels</span><span>)</span></a>. Multiple resource control
        channels between a client and a server that belong to different SIP
        dialogs can share one or more TLS, TCP or SCTP connections between
        them; the server and client MUST support this mode of operation. The
        individual MRCPv2 messages carry the MRCPv2 channel identifier in
        their Channel-Identifier header, which MUST be used to differentiate
        MRCPv2 messages from different resource channels (see <a class='info' href='#sec.channelIdentifier'>Section&nbsp;6.2.1<span> (</span><span class='info'>Channel-Identifier</span><span>)</span></a> for details). All MRCPv2
        servers MUST support TLS. Servers MAY support TCP without TLS in
        physically secure environments. It is up to the client to choose which
        mode of transport it wants to use for an MRCPv2 session.
</p>
<p>Most examples from here on show only the MRCPv2 messages and do not
        show the SIP messages and headers that may have been used to establish
        the MRCPv2 control channel.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
MRCPv2 Specification</h3>

<p>MRCPv2 messages are textual using the ISO 10646 character set in the
      UTF-8 encoding (<a class='info' href='#RFC3629'>RFC3629<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629]) to allow many
      different languages to be represented. However, to assist in compact
      representations, MRCPv2 also allows other character sets such as ISO
      8859-1 to be used when desired. This may be useful for languages such as
      Chinese where the default character set for most documents is not UTF-8.
      The MRCPv2 protocol headers (the first line of an MRCP message) and
      header names use only the US-ASCII subset of UTF-8. Internationalization
      only applies to certain fields like grammar, results, speech markup etc,
      and not to MRCPv2 as a whole.
</p>
<p>Lines are terminated by CRLF. Also, some parameters in the message
      may contain binary data or a record spanning multiple lines. Such fields
      have a length value associated with the parameter, which indicates the
      number of octets immediately following the parameter.
</p>
<a name="sec.common"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Common Protocol Elements</h3>

<p>The MRCPv2 message set consists of requests from the client to the
        server, responses from the server to the client and asynchronous
        events from the server to the client. All these messages consist of a
        start-line, one or more headers, an empty line (i.e. a line with
        nothing preceding the CRLF) indicating the end of the header fields,
        and an optional message body.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
generic-message  =    start-line
                      message-header
                      CRLF
                      [ message-body ]

start-line       =    request-line / response-line / event-line

message-header   =    1*(generic-header / resource-header)

resource-header  =    recognizer-header
                 /    synthesizer-header
                 /    recorder-header
                 /    verifier-header

</pre></div>
<p>The message-body contains resource-specific and message-specific
        data. The actual Media Types used to carry the data are specified
        later in the sections defining the individual messages.
</p>
<p>If a message contains a message body, the message MUST contain
        content-headers indicating the Media Type and encoding of the data in
        the message body.
</p>
<p>
</p>
<p>Request, response and event messages include the version of MRCP
        that the message conforms to. Version compatibility rules follow
        [H3.1] regarding version ordering, compliance requirements, and
        upgrading of version numbers. The version information is indicated by
        "MRCP" (as opposed to "HTTP" in [H3.1]) or "MRCP/2.0" (as opposed to
        "HTTP/1.1" in [H3.1]). To be compliant with this specification,
        clients and servers sending MRCPv2 messages MUST indicate an
        mrcp-version of "MRCP/2.0".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
mrcp-version   =    "MRCP" "/" 1*2DIGIT "." 1*2DIGIT
</pre></div>
<p>
</p>
<p>The message-length field specifies the length of the message,
        including the start-line, and MUST be the 2nd token from the beginning
        of the message. This is to make the framing and parsing of the message
        simpler to do. This field specifies the length of the message
        including data that may be encoded into the body of the message. Note
        that this value MAY be printed as a fixed-length integer that is
        zero-padded in front in order to eliminate or reduce inefficiency in
        cases where the message-length value would change as a result of the
        length of the message-length token itself.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
message-length =    1*19DIGIT
</pre></div>
<p>
</p>
<p>All MRCPv2 messages, responses and events MUST carry the
        Channel-Identifier header so the server or client can differentiate
        messages from different control channels that may share the same
        transport connection.
</p>
<p>In the resource-specific header descriptions in sections 8-11, a
        header is disallowed on a method (request, response, or event) for
        that resource unless specifically listed as being allowed. Also, the
        phrasing "This header MAY occur on method X" indicates that the header
        is allowed on that method but is not required to be used in every
        instance of that method.
</p>
<a name="sec.request"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Request</h3>

<p>An MRCPv2 request consists of a Request line followed by message
        headers and an optional message body containing data specific to the
        request message.
</p>
<p>The Request message from a client to the server includes within the
        first line the method to be applied, a method tag for that request and
        the version of the protocol in use.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
request-line   =    mrcp-version SP message-length SP method-name
                    SP request-id CRLF
</pre></div>
<p>The request-id field is a unique identifier representable as an
        unsigned 32 bit integer created by the client and sent to the server.
        Consecutive requests within an MRCP session MUST utilize monotonically
        increasing request-id's. The request-id space is linear, (i.e. not
        mod(32)) so the space does not wrap and validity can be checked with a
        simple unsigned comparison operation. The client may choose any
        initial value for its first request, but a small integer is
        RECOMMENDED to avoid exhausting the space in long sessions. If the
        server receives duplicate or out-of-order requests the server MUST
        reject the request with a response code of 410. Since request-id's are
        scoped to the MRCP session, they are unique across all TCP connections
        and all resource channels in the session.
</p>
<p>The server resource MUST use the client-assigned identifier in its
        response to the request. If the request does not complete
        synchronously, future asynchronous events associated with this request
        MUST carry the client-assigned request-id.
</p>
<p>The mrcp-version field is the MRCP protocol version that is being
        used by the client.
</p>
<p>The message-length field specifies the length of the message,
        including the start-line.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
request-id     =    1*10DIGIT
</pre></div>
<p>The method-name field identifies the specific request that the
        client is making to the server. Each resource supports a subset of the
        MRCPv2 methods. The subset for each resource is defined in the section
        of the specification for the corresponding resource.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
method-name    =    generic-method
               /    synthesizer-method
               /    recorder-method
               /    recognizer-method
               /    verifier-method
</pre></div>
<a name="sec.response"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Response</h3>

<p>After receiving and interpreting the request message for a method,
        the server resource responds with an MRCPv2 response message. The
        response consists of a response line followed by message headers and
        an optional message body containing data specific to the method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
response-line  =    mrcp-version SP message-length SP request-id
                                 SP status-code SP request-state CRLF
</pre></div>
<p>The mrcp-version field MUST contain the version of the request if
        supported; otherwise, it must contain the highest version of the
        MRCPv2 protocol supported by the server.
</p>
<p>The message-length field specifies the length of the message,
        including the start-line.
</p>
<p>The request-id used in the response MUST match the one sent in the
        corresponding request message.
</p>
<p>The status-code field is a 3-digit code representing the success or
        failure or other status of the request.
</p>
<p>The request-state field indicates if the action initiated by the
        Request is PENDING, IN-PROGRESS or COMPLETE. The COMPLETE status means
        that the Request was processed to completion and that there will be no
        more events or other messages from that resource to the client with
        that request-id. The PENDING status means that the request has been
        placed on a queue and will be processed in first-in-first-out order.
        The IN-PROGRESS status means that the request is being processed and
        is not yet complete. A PENDING or IN-PROGRESS status indicates that
        further Event messages may be delivered with that request-id.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
request-state    =  "COMPLETE"
                 /  "IN-PROGRESS"
                 /  "PENDING"
</pre></div>
<a name="sec.statusCodes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Status Codes</h3>

<p>The status codes are classified under the Success (2XX) codes,
        Client Failure (4XX) codes, and Server Failure (5XX).
</p><br /><hr class="insert" />

<p style='text-align: center'>Success Codes
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="15%"><col align="left">
<tr><th align="left">Code</th><th align="left">Meaning</th></tr>
<tr>
<td align="left">200</td>
<td align="left">Success</td>
</tr>
<tr>
<td align="left">201</td>
<td align="left">Success with some optional headers ignored</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Success 2xx&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />

<p style='text-align: center'>Client Failure 4xx Codes
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="15%"><col align="left">
<tr><th align="left">Code</th><th align="left">Meaning</th></tr>
<tr>
<td align="left">401</td>
<td align="left">Method not allowed</td>
</tr>
<tr>
<td align="left">402</td>
<td align="left">Method not valid in this state</td>
</tr>
<tr>
<td align="left">403</td>
<td align="left">Unsupported Header</td>
</tr>
<tr>
<td align="left">404</td>
<td align="left">Illegal Value for Header. This is the error for a syntax
          violation.</td>
</tr>
<tr>
<td align="left">405</td>
<td align="left">Resource not allocated for this session or does not exist</td>
</tr>
<tr>
<td align="left">406</td>
<td align="left">Mandatory Header Missing</td>
</tr>
<tr>
<td align="left">407</td>
<td align="left">Method or Operation Failed (e.g., Grammar compilation failed in
          the recognizer. Detailed cause codes MAY BE available through a
          resource specific header.)</td>
</tr>
<tr>
<td align="left">408</td>
<td align="left">Unrecognized or unsupported message entity</td>
</tr>
<tr>
<td align="left">409</td>
<td align="left">Unsupported Header Value. This is a value that is syntactically
          legal but exceeds the implementation's capabilities or
          expectations.</td>
</tr>
<tr>
<td align="left">410</td>
<td align="left">Non-Monotonic or Out of order sequence number in request.</td>
</tr>
<tr>
<td align="left">411-420</td>
<td align="left">Reserved for future assignment</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Client Failure 4xx&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />

<p style='text-align: center'>Server Failure 5xx Codes
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="15%"><col align="left">
<tr><th align="left">Code</th><th align="left">Meaning</th></tr>
<tr>
<td align="left">501</td>
<td align="left">Server Internal Error</td>
</tr>
<tr>
<td align="left">502</td>
<td align="left">Protocol Version not supported</td>
</tr>
<tr>
<td align="left">503</td>
<td align="left">Proxy Timeout. The MRCP Proxy did not receive a response from the
          MRCP server.</td>
</tr>
<tr>
<td align="left">504</td>
<td align="left">Message too large</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Server Failure 4xx&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec.events"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Events</h3>

<p>The server resource may need to communicate a change in state or
        the occurrence of a certain event to the client. These messages are
        used when a request does not complete immediately and the response
        returns a status of PENDING or IN-PROGRESS. The intermediate results
        and events of the request are indicated to the client through the
        event message from the server. The event message consists of an event
        header line followed by message headers and an optional message body
        containing data specific to the event message. The header line has the
        request-id of the corresponding request and status value. The status
        value is COMPLETE if the request is done and this was the last event,
        else it is IN-PROGRESS.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
event-line       =  mrcp-version SP message-length SP event-name
                                 SP request-id SP request-state CRLF</pre></div>
<p>The mrcp-version used here is identical to the one used in the
        Request/Response Line and indicates the version of the MRCPv2 protocol
        running on the server.
</p>
<p>The message-length field specifies the length of the message,
        including the start-line
</p>
<p>The request-id used in the event MUST match the one sent in the
        request that caused this event.
</p>
<p>The request-state indicates whether the Request/Command causing
        this event is complete or still in progress, and is the same as the
        one mentioned in <a class='info' href='#sec.response'>Section&nbsp;5.3<span> (</span><span class='info'>Response</span><span>)</span></a>. The final event
        for a request has a COMPLETE status indicating the completion of the
        request.
</p>
<p>The event-name identifies the nature of the event generated by the
        media resource. The set of valid event names depends on the resource
        generating it. See the corresponding resource-specific section of the
        document.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
event-name       =  synthesizer-event
                 /  recognizer-event
                 /  recorder-event
                 /  verifier-event</pre></div>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
MRCPv2 Generic Methods, Headers, and Result Structure</h3>

<p>MRCPv2 supports a set of methods and headers that are common to all
      resources. These are discussed here; resource-specific methods and
      headers are discussed in the corresponding resource-specific section of
      the document.
</p>
<a name="sec.genericMethods"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Generic Methods</h3>

<p>MRCPv2 supports two generic methods for reading and writing the
        state associated with a resource.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
generic-method      =    "SET-PARAMS"
                    /    "GET-PARAMS"</pre></div>
<p>
</p>
<p>These are described in the following sub-sections.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
SET-PARAMS</h3>

<p>The <tt>SET-PARAMS</tt> method, from the
          client to the server, tells the MRCPv2 resource to define parameters
          for the session, such as voice characteristics and prosody on
          synthesizers, recognition timers on recognizers, etc. If the server
          accepts and sets all parameters it MUST return a Response-Status of
          200. If it chooses to ignore some optional headers that can be
          safely ignored without affecting operation of the server it MUST
          return 201.
</p>
<p>If one or more of the headers being sent is incorrect, error 403,
          404, or 409 MUST be returned as follows:</p>
<ul class="text">
<li>If one or more of the headers being set has an illegal value,
              the server MUST reject the request with a 404 Illegal Value for
              Header.
</li>
<li>If one or more of the headers being set is unsupported for
              the resource, the server MUST reject the request with a 403
              Unsupported Header, except as described in the next
              paragraph.
</li>
<li>If one or more of the headers being set has an unsupported
              value, the server MUST reject the request with a 409 Unsupported
              Header Value, except as described in the next paragraph.
</li>
</ul>

<p>If both error 404 and another error have occurred, only error 404
          MUST be returned. If both errors 403 and 409 have occurred, but not
          error 404, only error 403 MUST be returned.
</p>
<p>If error 403, 404, or 409 is returned, the response MUST include
          the bad or unsupported headers and their values exactly as they were
          sent from the client. Session parameters modified using <tt>SET-PARAMS</tt> do not override parameters
          explicitly specified on individual requests or requests that are
          in-PROGRESS.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 124 SET-PARAMS 543256
       Channel-Identifier:32AECB23433802@speechsynth
       Voice-gender:female
       Voice-variant:3

S-&gt;C:  MRCP/2.0 47 543256 200 COMPLETE
       Channel-Identifier:32AECB23433802@speechsynth
</pre></div>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.2"></a><h3>6.1.2.&nbsp;
GET-PARAMS</h3>

<p>The <tt>GET-PARAMS</tt> method, from the
          client to the server, asks the MRCPv2 resource for its current
          session parameters, such as voice characteristics and prosody on
          synthesizers, recognition-timer on recognizers, etc. For every empty
          header field the client sends in the request, the server MUST
          include the corresponding headers and their values in the response.
          If no parameter headers are specified by the client then the server
          MUST return all the settable parameters and their values in the
          corresponding headers of the response, including vendor-specific
          parameters. Such wild-card parameter requests can be very
          processing-intensive, since the number of settable parameters can be
          large depending on the implementation. Hence, it is RECOMMENDED that
          the client not use the wildcard <tt>GET-PARAMS</tt> operation very often. Note that
          <tt>GET-PARAMS</tt> returns header values that
          apply to the whole session and not values that have a request level
          scope.
</p>
<p>If all of the headers requested are supported, the server MUST
          return a Response-Status of 200. If some of the headers being
          retrieved are unsupported for the resource, the server MUST reject
          the request with a 403 Unsupported Header. Such a response MUST
          include the (empty) unsupported headers exactly as they were sent
          from the client.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:   MRCP/2.0 136 GET-PARAMS 543256
        Channel-Identifier:32AECB23433802@speechsynth
        Voice-gender:
        Voice-variant:
        Vendor-Specific-Parameters:com.example.param1;
                      com.example.param2

S-&gt;C:   MRCP/2.0 163 543256 200 COMPLETE
        Channel-Identifier:32AECB23433802@speechsynth
        Voice-gender:female
        Voice-variant:3
        Vendor-Specific-Parameters:com.example.param1="Company Name";
                      com.example.param2="124324234@example.com"
</pre></div>
<a name="sec.genericHeaders"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Generic Message Headers</h3>

<p>All MRCPv2 headers, which include both the generic-headers defined
        in the following sub-sections and the resource-specific headers
        defined later, follow the same generic format as that given in Section
        3.1 of <a class='info' href='#RFC2822'>RFC2822<span> (</span><span class='info'>Resnick, P., &ldquo;Internet Message Format,&rdquo; April&nbsp;2001.</span><span>)</span></a> [RFC2822]. Each header consists of
        a name followed by a colon (":") and the value. Header names are
        case-insensitive. The value MAY be preceded by any amount of LWS,
        though a single SP is preferred. Headers may extend over multiple
        lines by preceding each extra line with at least one SP or HT.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
message-header = field-name ":" [ field-value ]
field-name     = token
field-value    = *LWS field-content *( CRLF 1*LWS field-content)
field-content  = &lt;the OCTETs making up the field-value
                    and consisting of either *TEXT or combinations
                    of token, separators, and quoted-string&gt;
</pre></div>
<p>The field-content does not include any leading or trailing LWS
        (i.e. linear white space occurring before the first non-whitespace
        character of the field-value or after the last non-whitespace
        character of the field-value). Such leading or trailing LWS MAY be
        removed without changing the semantics of the field value. Any LWS
        that occurs between field-content MAY be replaced with a single SP
        before interpreting the field value or forwarding the message
        downstream.
</p>
<p>MRCPv2 servers and clients MUST NOT depend on header order. It is
        "good practice" to send general-header fields first, followed by
        request-header or response-header fields, and ending with the
        entity-header fields. However, MRCPv2 servers and clients MUST be
        prepared to process the headers in any order. The only exception to
        this rule is when there are multiple headers with the same header name
        in a message.
</p>
<p>Multiple headers with the same name MAY be present in a message if
        and only if the entire value for that header is defined as a
        comma-separated list [i.e., #(values)].
</p>
<p>It MUST be possible to combine the multiple headers of the same
        name into one "header:value" pair without changing the semantics of
        the message, by appending each subsequent value to the first, each
        separated by a comma. The order in which headers with the same name
        are received is therefore significant to the interpretation of the
        combined header value, and thus an intermediary MUST NOT change the
        order of these values when a message is forwarded.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
generic-header      =    channel-identifier
                    /    accept
                    /    active-request-id-list
                    /    proxy-sync-id
                    /    accept-charset
                    /    content-type
                    /    content-id
                    /    content-base
                    /    content-encoding
                    /    content-location
                    /    content-length
                    /    fetch-timeout
                    /    cache-control
                    /    logging-tag
                    /    set-cookie
                    /    set-cookie2
                    /    vendor-specific
</pre></div>
<a name="sec.channelIdentifier"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
Channel-Identifier</h3>

<p>All MRCPv2 requests, responses and events MUST contain the
          Channel-Identifier header. The value is allocated by the server when
          a control channel is added to the session and communicated to the
          client by the "a=channel" attribute in the SDP answer from the
          server. The header value consists of 2 parts separated by the '@'
          symbol. The first part is an unambiguous string identifying the
          MRCPv2 session. The second part is a string token which specifies
          one of the media processing resource types listed in <a class='info' href='#sec.resourceTypes'>Section&nbsp;3.1<span> (</span><span class='info'>MRCPv2 Media Resource Types</span><span>)</span></a>. The unambiguous string (first
          part) MUST BE unique among the resource instances managed by the
          server and is common to all resource channels with that server
          established through a single SIP dialog.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
channel-identifier  = "Channel-Identifier" ":" channel-id CRLF
channel-id          = 1*alphanum "@" 1*alphanum

</pre></div>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.2"></a><h3>6.2.2.&nbsp;
Accept</h3>

<p>The Accept header field follows the syntax defined in [H14.1].
          The semantics are also identical, with the exception that if no
          Accept header field is present, the server MUST assume a default
          value that is specific to the resource type that is being
          controlled. This default value can be changed for a resource on a
          session by sending this header in a SET-PARAMS method. The current
          default value of this header for a resource in a session can be
          found through a GET-PARAMS method. This header MAY occur on any
          request.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.3"></a><h3>6.2.3.&nbsp;
Active-Request-Id-List</h3>

<p>In a request, this header indicates the list of request-ids to
          which the request applies. This is useful when there are multiple
          requests that are PENDING or IN-PROGRESS and the client wants this
          request to apply to one or more of these specifically.
</p>
<p>In a response, this header returns the list of request-ids that
          the method modified or affected. There could be one or more requests
          in a request-state of PENDING or IN-PROGRESS. When a method
          affecting one or more PENDING or IN-PROGRESS requests is sent from
          the client to the server, the response MUST contain the list of
          request-ids that were affected or modified by this command in its
          header.
</p>
<p>The active-request-id-list is only used in requests and
          responses, not in events.
</p>
<p>For example, if a <tt>STOP</tt> request with
          no active-request-id-list is sent to a synthesizer resource which
          has one or more <tt>SPEAK</tt> requests in the
          PENDING or IN-PROGRESS state, all <tt>SPEAK</tt>
          requests MUST be cancelled, including the one IN-PROGRESS. The
          response to the <tt>STOP</tt> request contains in
          the active-request-id-list the request-ids of all the <tt>SPEAK</tt> requests that were terminated. After
          sending the STOP response, the server MUST NOT send any
          SPEAK-COMPLETE or RECOGNITION-COMPLETE events for the terminated
          requests.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
active-request-id-list  =  "Active-Request-Id-List" ":"
                           request-id *("," request-id) CRLF
</pre></div>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.4"></a><h3>6.2.4.&nbsp;
Proxy-Sync-Id</h3>

<p>When any server resource generates a barge-in-able event, it also
          generates a unique tag. The tag is sent as this header's value in an
          event to the client. The client then acts as a intermediary among
          the server resources and sends a BARGE-IN-OCCURRED method to the
          synthesizer server resource with the Proxy-Sync-Id it received from
          the server resource. When the recognizer and synthesizer resources
          are part of the same session, they may choose to work together to
          achieve quicker interaction and response. Here the proxy-sync-id
          helps the resource receiving the event, intermediated by the client,
          to decide if this event has been processed through a direct
          interaction of the resources. This header MAY occur only on events
          and the BARGE-IN-OCCURRED method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
proxy-sync-id    =  "Proxy-Sync-Id" ":" 1*VCHAR CRLF
</pre></div>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.5"></a><h3>6.2.5.&nbsp;
Accept-Charset</h3>

<p>See [H14.2]. This specifies the acceptable character set for
          entities returned in the response or events associated with this
          request. This is useful in specifying the character set to use in
          the NLSML results of a <tt>RECOGNITION-COMPLETE</tt> event. This header is only
          used on requests.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.6"></a><h3>6.2.6.&nbsp;
Content-Type</h3>

<p>See [H14.17]. MRCPv2 supports a restricted set of registered
          Media Types for content, including speech markup, grammar, and
          recognition results. The content types applicable to each MRCPv2
          resource-type are specified in the corresponding section of the
          document. The multi-part content type "multi-part/mixed" is
          supported to communicate multiple of the above mentioned contents,
          in which case the body parts MUST NOT contain any MRCPv2 specific
          headers. This header MAY occur on all messages.
</p>
<a name="sec.Content-ID"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.7"></a><h3>6.2.7.&nbsp;
Content-ID</h3>

<p>This header contains an ID or name for the content by which it
          can be referenced. This header operates according to the
          specification in <a class='info' href='#RFC2392'>RFC2392<span> (</span><span class='info'>Levinson, E., &ldquo;Content-ID and Message-ID Uniform Resource Locators,&rdquo; August&nbsp;1998.</span><span>)</span></a> [RFC2392] and is
          required for content disambiguation in multi-part messages. In
          MRCPv2 whenever the associated content is stored, by either the
          client or the server, it MUST be retrievable using this ID. Such
          content can be referenced later in a session by addressing it with
          the "<tt>session:</tt>" URI scheme described in
          <a class='info' href='#sec.sessionURIScheme'>Section&nbsp;13.6<span> (</span><span class='info'>session URL scheme registration</span><span>)</span></a>. This header MAY occur
          on all messages.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.8"></a><h3>6.2.8.&nbsp;
Content-Base</h3>

<p>The content-base entity-header may be used to specify the base
          URI for resolving relative URLs within the entity.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
content-base      = "Content-Base" ":" absoluteURI CRLF
</pre></div>
<p>Note, however, that the base URI of the contents within the
          entity-body may be redefined within that entity-body. An example of
          this would be multi-part media, which in turn can have multiple
          entities within it. This header MAY occur on all messages.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.9"></a><h3>6.2.9.&nbsp;
Content-Encoding</h3>

<p>The content-encoding entity-header is used as a modifier to the
          media-type. When present, its value indicates what additional
          content encoding has been applied to the entity-body, and thus what
          decoding mechanisms must be applied in order to obtain the
          media-type referenced by the content-type header. Content-encoding
          is primarily used to allow a document to be compressed without
          losing the identity of its underlying media type. Note that the SDP
          session can be used to determine accepted encodings (see <a class='info' href='#sec.resourceDiscovery'>Section&nbsp;7<span> (</span><span class='info'>Resource Discovery</span><span>)</span></a>). This header MAY occur on
          all messages.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
content-encoding  = "Content-Encoding" ":"
                    *WSP content-coding
                    *(*WSP "," *WSP content-coding *WSP )
                    CRLF

</pre></div>
<p>Content-coding is defined in [H3.5]. An example of its use is
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>Content-Encoding:gzip</pre></div>
<p>If multiple encodings have been applied to an entity, the content
          encodings MUST be listed in the order in which they were
          applied.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.10"></a><h3>6.2.10.&nbsp;
Content-Location</h3>

<p>The content-location entity-header MAY be used to supply the
          resource location for the entity enclosed in the message when that
          entity is accessible from a location separate from the requested
          resource's URI. Refer to [H14.14].
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
content-location  =  "Content-Location" ":"
                     ( absoluteURI / relativeURI ) CRLF

</pre></div>
<p>The content-location value is a statement of the location of the
          resource corresponding to this particular entity at the time of the
          request. This header is provided for optimization purposes only. The
          receiver of this header MAY assume that the entity being sent is
          identical to what would have been retrieved or might already have
          been retrieved from the content-location URI.
</p>
<p>For example, if the client provided a grammar markup inline, and
          it had previously retrieved it from a certain URI, that URI can be
          provided as part of the entity, using the content-location header.
          This allows a resource like the recognizer to look into its cache to
          see if this grammar was previously retrieved, compiled and cached.
          In this case, it might optimize by using the previously compiled
          grammar object.
</p>
<p>If the content-location is a relative URI, the relative URI is
          interpreted relative to the content-base URI. This header MAY occur
          on all messages.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.11"></a><h3>6.2.11.&nbsp;
Content-Length</h3>

<p>This header contains the length of the content of the message
          body (i.e. after the double CRLF following the last header field).
          Unlike HTTP, it MUST be included in all messages that carry content
          beyond the header portion of the message. If it is missing, a
          default value of zero is assumed. Otherwise, it is interpreted
          according to [H14.13]. When a message having no use for a message
          body contains one, i.e. the Content-Length is non-zero, the receiver
          MAY ignore the content of the message body. This header MAY occur on
          all messages.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.12"></a><h3>6.2.12.&nbsp;
Fetch Timeout</h3>

<p>When the recognizer or synthesizer needs to fetch documents or
          other resources this header controls the corresponding URI access
          properties. This defines the timeout for content that the server may
          need to fetch over the network. The value is interpreted to be in
          milliseconds and ranges from 0 to an implementation-specific maximum
          value. The default value for this header is implementation-specific.
          This header MAY occur in <tt>DEFINE-GRAMMAR</tt>,
          <tt>RECOGNIZE</tt>, <tt>SPEAK</tt>, <tt>SET-PARAMS</tt>
          or <tt>GET-PARAMS</tt>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
fetch-timeout       =   "Fetch-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.13"></a><h3>6.2.13.&nbsp;
Cache-Control</h3>

<p>If the server implements content caching, it MUST adhere to the
          cache correctness rules of <a class='info' href='#RFC2616'>HTTP 1.1<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616]
          when accessing and caching stored content. In particular, the
          "expires" and "cache-control" headers of the cached URI or document
          MUST be honored and take precedence over the Cache-Control defaults
          set by this header. The cache-control directives are used to define
          the default caching algorithms on the server for the session or
          request. The scope of the directive is based on the method it is
          sent on. If the directives are sent on a <tt>SET-PARAMS</tt> method, it applies for all requests
          for external documents the server makes during that session, unless
          overridden by a cache-control header on an individual request. If
          the directives are sent on any other requests they apply only to
          external document requests the server makes for that request. An
          empty cache-control header on the <tt>GET-PARAMS</tt> method is a request for the server
          to return the current cache-control directives setting on the
          server. This header MAY occur only on requests.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
cache-control       = "Cache-Control" ":" cache-directive
                      *("," *LWS cache-directive) CRLF

cache-directive     = "max-age" "=" delta-seconds
                    / "max-stale" [ "=" delta-seconds ]
                    / "min-fresh" "=" delta-seconds

delta-seconds       = 1*19DIGIT

</pre></div>
<p>Here delta-seconds is a decimal time value specifying the number
          of seconds since the instant the message response or data was
          received by the server.
</p>
<p>The cache-directives allow the client to ask the server to
          override the default cache expiration mechanisms. </p>
<blockquote class="text"><dl>
<dt>max-age</dt>
<dd>Indicates that the client can tolerate the
              server using content whose age is no greater than the specified
              time in seconds. Unless a max-stale directive is also included,
              the client is not willing to accept a response based on stale
              data.
</dd>
<dt>min-fresh</dt>
<dd>Indicates that the client is willing to
              accept a server response with cached data whose expiration is no
              less than its current age plus the specified time in seconds. If
              the server's cache time to live exceeds the client-supplied
              min-fresh value, the server MUST NOT utilize cached content.
</dd>
<dt>max-stale</dt>
<dd>Indicates that the client is willing to
              allow a server to utilize cached data that has exceeded its
              expiration time. If max-stale is assigned a value, then the
              client is willing to allow the server to use cached data that
              has exceeded its expiration time by no more than the specified
              number of seconds. If no value is assigned to max-stale, then
              the client is willing to allow the server to use stale data of
              any age.
</dd>
</dl></blockquote>

<p>The server cache MAY be requested to use stale response/data
          without validation, but only if this does not conflict with any
          "MUST"-level requirements concerning cache validation (e.g., a
          "must-revalidate" cache-control directive in the HTTP 1.1
          specification pertaining to the corresponding URI).
</p>
<p>If both the MRCPv2 cache-control directive and the cached entry
          on the server include "max-age" directives, then the lesser of the
          two values is used for determining the freshness of the cached entry
          for that request.
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.14"></a><h3>6.2.14.&nbsp;
Logging-Tag</h3>

<p>This header MAY be sent as part of a <tt>SET-PARAMS</tt>/<tt>GET-PARAMS</tt> method to set or retrieve the
          logging tag for logs generated by the server. Once set, the value
          persists until a new value is set or the session ends. The MRCPv2
          server MAY provide a mechanism to subset its output logs so that
          system administrators can examine or extract only the log file
          portion during which the logging tag was set to a certain value.
</p>
<p>It is RECOMMENDED that clients have some identifying information
          in the logging tag, so that one can determine which client request
          generated a given log message at the server.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
logging-tag    = "Logging-Tag" ":" 1*UTFCHAR CRLF
</pre></div>
<a name="sec.SetCookie"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.15"></a><h3>6.2.15.&nbsp;
Set-Cookie and Set-Cookie2</h3>

<p>Since the associated HTTP client on an MRCPv2 server fetches
          documents for processing on behalf of the MRCPv2 client, the cookie
          store in the HTTP client of the MRCPv2 server is treated as an
          extension of the cookie store in the HTTP client of the MRCPv2
          client. This requires that the MRCPv2 client and server be able to
          synchronize their common cookie store as needed. To enable the
          MRCPv2 client to push its stored cookies to the MRCPv2 server and
          get new cookies from the MRCPv2 server stored back to the MRCPv2
          client, the set-cookie and set-cookie2 entity-header fields MAY be
          included in MRCPv2 requests to update the cookie store on a server
          and be returned in final MRCPv2 responses or events to subsequently
          update the client's own cookie store. The stored cookies on the
          server persist for the duration of the MRCPv2 session and MUST be
          destroyed at the end of the session. To ensure support for the type
          of cookie header dictated by the HTTP origin server, MRCPv2 clients
          and servers MUST support both the set-cookie and set-cookie2 entity
          header fields.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
set-cookie      =       "Set-Cookie:" cookies CRLF
cookies         =       cookie *("," *LWS cookie)
cookie          =       attribute "=" value *(";" cookie-av)
cookie-av       =       "Comment" "=" value
                /       "Domain" "=" value
                /       "Max-Age" "=" value
                /       "Path" "=" value
                /       "Secure"
                /       "Version" "=" 1*19DIGIT
                /       "Age" "=" delta-seconds

set-cookie2     =       "Set-Cookie2:" cookies2 CRLF
cookies2        =       cookie2 *("," *LWS cookie2)
cookie2         =       attribute "=" value *(";" cookie-av2)
cookie-av2      =       "Comment" "=" value
                /       "CommentURL" "=" DQUOTE uri DQUOTE
                /       "Discard"
                /       "Domain" "=" value
                /       "Max-Age" "=" value
                /       "Path" "=" value
                /       "Port" [ "=" DQUOTE portlist DQUOTE ]
                /       "Secure"
                /       "Version" "=" 1*19DIGIT
                /       "Age" "=" delta-seconds
portlist        =       portnum *("," *LWS portnum)
portnum         =       1*19DIGIT
</pre></div>
<p>The set-cookie and set-cookie2 headers are specified in <a class='info' href='#RFC2109'>RFC2109<span> (</span><span class='info'>Kristol, D. and L. Montulli, &ldquo;HTTP State Management Mechanism,&rdquo; February&nbsp;1997.</span><span>)</span></a> [RFC2109] and <a class='info' href='#RFC2965'>RFC2965<span> (</span><span class='info'>Kristol, D. and L. Montulli, &ldquo;HTTP State Management Mechanism,&rdquo; October&nbsp;2000.</span><span>)</span></a> [RFC2965], respectively. The "Age" attribute
          is introduced in this specification to indicate the age of the
          cookie and is optional. An MRCPv2 client or server MUST calculate
          the age of the cookie according to the age calculation rules in the
          <a class='info' href='#RFC2616'>HTTP/1.1 specification<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616] and append the
          "Age" attribute accordingly.
</p>
<p>The MRCPv2 client or server MUST supply defaults for the Domain
          and Path attributes if omitted by the HTTP origin server as
          specified in RFC2109 (set-cookie) and RFC2965 (set-cookie2). Note
          that there is no leading dot present in the Domain attribute value
          in this case. Although an explicitly specified Domain value received
          via the HTTP protocol may be modified to include a leading dot, an
          MRCPv2 client or server MUST NOT modify the Domain value when
          received via the MRCPv2 protocol.
</p>
<p>An MRCPv2 client or server MAY combine multiple cookie headers of
          the same type into a single "field-name:field-value" pair as
          described in <a class='info' href='#sec.genericHeaders'>Section&nbsp;6.2<span> (</span><span class='info'>Generic Message Headers</span><span>)</span></a>.
</p>
<p>The set-cookie and set-cookie2 headers MAY be specified in any
          request that subsequently results in the server performing an HTTP
          access. When a server receives new cookie information from an HTTP
          origin server, and assuming the cookie store is modified according
          to RFC2109 or RFC2965, the server MUST return the new cookie
          information in the MRCPv2 COMPLETE response or event as appropriate
          to allow the client to update its own cookie store.
</p>
<p>The <tt>SET-PARAMS</tt> request MAY specify
          the set-cookie and set-cookie2 headers to update the cookie store on
          a server. The GET-PARAMS request MAY be used to return the entire
          cookie store of "Set-Cookie" or "Set-Cookie2" type cookies to the
          client.
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.16"></a><h3>6.2.16.&nbsp;
Vendor Specific Parameters</h3>

<p>This set of headers allows for the client to set or retrieve
          Vendor Specific parameters.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
vendor-specific          =    "Vendor-Specific-Parameters" ":"
                              [vendor-specific-av-pair
                              *(";" vendor-specific-av-pair)] CRLF

vendor-specific-av-pair  = vendor-av-pair-name "="
                           value

</pre></div>
<p>Headers of this form MAY be sent in any method (request) and are
          used to manage implementation-specific parameters on the server
          side. The vendor-av-pair-name follows the reverse Internet Domain
          Name convention (see <a class='info' href='#sec.vendorSpecificRegistration'>Section&nbsp;13.1.6<span> (</span><span class='info'>MRCPv2 vendor-specific parameters</span><span>)</span></a> for syntax and
          registration information). The value of the vendor attribute is
          specified after the "=" symbol and MAY be quoted. For example:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
com.example.companyA.paramxyz=256
com.example.companyA.paramabc=High
com.example.companyB.paramxyz=Low

</pre></div>
<p>When used in GET-PARAMS to get the current value of these
          parameters from the server, this header value may contain a
          semicolon-separated list of implementation-specific attribute
          names.
</p>
<a name="sec.result"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Generic Result Structure</h3>

<p>Result data from the server for the Recognizer and Verification
        resources is carried as a typed media entity in the MRCPv2 message
        body of various events. The Natural Language Semantics Markup Language
        (NLSML), an XML markup based on an early draft from the W3C, is the
        default standard for returning results back to the client. Hence, all
        servers implementing these resource types MUST support the Media Type
        application/nlsml+xml. When the <a class='info' href='#W3C.CR-emma-20071211'>Extensible MultiModal Annotation<span> (</span><span class='info'>Johnston, M., Baggia, P., Burnett, D., Carter, J., Dahl, D., McCobb, G., and D. Raggett, &ldquo;EMMA: Extensible MultiModal Annotation markup           language,&rdquo; December&nbsp;2007.</span><span>)</span></a> [W3C.CR&#8209;emma&#8209;20071211]
        specification being developed at the W3C has reached a stable
        standards state, it can be used to return results as well. This can be
        done by negotiating the format at session establishment time with SDP
        (a=resultformat:application/emma-xml) or with SIP (Allow/Accept). With
        SIP, for example, if a client wants results in EMMA, an MRCPv2 proxy
        can route the request to a server that supports EMMA by inspecting the
        SIP headers, rather than having to introspect in to the SDP.
</p>
<p>MRCPv2 uses this representation to convey content among the clients
        and servers that generate and make use of the markup. MRCPv2 uses
        NSLML specifically to convey recognition, enrollment, and verification
        results between the corresponding resource on the MRCPv2 server and
        the MRCPv2 client. Details of this result format are fully described
        in <a class='info' href='#sec.NLSML'>Section&nbsp;6.3.1<span> (</span><span class='info'>Natural Language Semantics Markup Language</span><span>)</span></a>.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:application/nlsml+xml
Content-Length:328

&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns:ex="http://www.example.com/example"
        grammar="http://theYesNoGrammar"&gt;
    &lt;interpretation&gt;
        &lt;instance&gt;
                &lt;ex:response&gt;yes&lt;/ex:response&gt;
        &lt;/instance&gt;
        &lt;input&gt;ok&lt;/input&gt;
    &lt;/interpretation&gt;
&lt;/result&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Result Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec.NLSML"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.1"></a><h3>6.3.1.&nbsp;
Natural Language Semantics Markup Language</h3>

<p>The Natural Language Semantics Markup Language (NLSML) is an XML
          data structure with elements and attributes designed to carry result
          information from recognizer (including enrollment) and verfication
          resources. The normative definition of NLSML is the RelaxNG schema
          in <a class='info' href='#sec.schema.NLSML'>Section&nbsp;16.1<span> (</span><span class='info'>NLSML Schema Definition</span><span>)</span></a>. Note that the elements
          and attributes of this format are defined in the MRCPv2 namespace.
          In the result structure, they must either be prefixed by a namespace
          prefix declared within the result or must be children of an element
          identified as belonging to the respective namespace. For details on
          how to use XML Namespaces, see <a class='info' href='#W3C.REC-xml-names11-20040204'>[W3C.REC&#8209;xml&#8209;names11&#8209;20040204]<span> (</span><span class='info'>Hollander, D., Layman, A., Tobin, R., and T. Bray, &ldquo;Namespaces in XML 1.1,&rdquo; February&nbsp;2004.</span><span>)</span></a>. Section 2 of <a class='info' href='#W3C.REC-xml-names11-20040204'>[W3C.REC&#8209;xml&#8209;names11&#8209;20040204]<span> (</span><span class='info'>Hollander, D., Layman, A., Tobin, R., and T. Bray, &ldquo;Namespaces in XML 1.1,&rdquo; February&nbsp;2004.</span><span>)</span></a> provides details on
          how to declare namespaces and namespace prefixes.
</p>
<p>The root element of NLSML is &lt;result&gt;. Optional child
          elements are &lt;interpretation&gt;, &lt;enrollment-result&gt;, and
          &lt;verification-result&gt;, at least one of which must be present.
          A single &lt;result&gt; may contain all of the optional child
          elements. Details of the &lt;result&gt; and &lt;interpretation&gt;
          elements and their subelements and attributes can be found in <a class='info' href='#sec.recognizerResults'>Section&nbsp;9.6<span> (</span><span class='info'>Recognizer Results</span><span>)</span></a>. Details of the
          &lt;enrollment-result&gt; element and its subelements can be found
          in <a class='info' href='#sec.enrollmentResults'>Section&nbsp;9.7<span> (</span><span class='info'>Enrollment Results</span><span>)</span></a>. Details of the
          &lt;veriifcation-result&gt; element and its subelements can be found
          in <a class='info' href='#sec.verificationResults'>Section&nbsp;11.5.2<span> (</span><span class='info'>Verification Result Elements</span><span>)</span></a>.
</p>
<a name="sec.resourceDiscovery"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Resource Discovery</h3>

<p>Server resources may be discovered and their capabilities learned by
      clients through standard SIP machinery. The client can issue a SIP
      OPTIONS transaction to a server, which has the effect of requesting the
      capabilities of the server. The server MUST respond to such a request
      with an SDP-encoded description of its capabilities according to <a class='info' href='#RFC3264'>RFC3264<span> (</span><span class='info'>Rosenberg, J. and H. Schulzrinne, &ldquo;An Offer/Answer Model with Session Description Protocol (SDP),&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3264]. The MRCPv2 capabilities are described
      by a single m-line containing the media type "application" and transport
      type "TCP/TLS/MRCPv2" or "TCP/MRCPv2". There MUST be one "resource"
      attribute for each media resource that the server supports with the
      resource type identifier as its value.
</p>
<p>The SDP description MUST also contain m-lines describing the audio
      capabilities and the coders the server supports.
</p><br /><hr class="insert" />

<p>In this example, the client uses the SIP OPTIONS method to
        query the capabilities of the MRCPv2 server.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:
     OPTIONS sip:mrcp@server.example.com SIP/2.0
     Max-Forwards:6
     To:&lt;sip:mrcp@server.example.com&gt;
     From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
     Call-ID:a84b4c76e66710
     CSeq:63104 OPTIONS
     Contact:&lt;sip:sarvi@example.com&gt;
     Accept:application/sdp
     Content-Length:0


S-&gt;C:
     SIP/2.0 200 OK
     To:&lt;sip:mrcp@server.example.com&gt;;tag=93810874
     From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
     Call-ID:a84b4c76e66710
     CSeq:63104 OPTIONS
     Contact:&lt;sip:mrcp@server.example.com&gt;
     Allow:INVITE, ACK, CANCEL, OPTIONS, BYE
     Accept:application/sdp
     Accept-Encoding:gzip
     Accept-Language:en
     Supported:foo
     Content-Type:application/sdp
     Content-Length:269

     v=0
     o=sarvi 2890844526 2890842807 IN IP4 192.0.2.4
     s=
     i=MRCPv2 server capabilities
     c=IN IP4 192.0.2.12/127
     m=application 0 TCP/MRCPv2 1
     a=resource:speechsynth
     a=resource:speechrecog
     a=resource:speakverify
     m=audio 0 RTP/AVP 0 1 3
     a=rtpmap:0 PCMU/8000
     a=rtpmap:1 1016/8000
     a=rtpmap:3 GSM/8000
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Example of using SIP OPTIONS for MRCPv2 Server Capability Discovery&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec.synthesizerResource"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Speech Synthesizer Resource</h3>

<p>This resource processes text markup provided by the client and
      generates a stream of synthesized speech in real-time. Depending upon
      the server implementation and capability of this resource, the client
      can also dictate parameters of the synthesized speech such as voice
      characteristics, speaker speed, etc.
</p>
<p>The synthesizer resource is controlled by MRCPv2 requests from the
      client. Similarly, the resource can respond to these requests or
      generate asynchronous events to the client to indicate conditions of
      interest to the client during the generation of the synthesized speech
      stream.
</p>
<p>This section applies for the following resource types: </p>
<blockquote class="text">
<p>speechsynth
</p>
<p>basicsynth
</p>
</blockquote>

<p>The capabilities of these resources are defined in <a class='info' href='#sec.resourceTypes'>Section&nbsp;3.1<span> (</span><span class='info'>MRCPv2 Media Resource Types</span><span>)</span></a>.
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Synthesizer State Machine</h3>

<p>The synthesizer maintains a state machine to process MRCPv2
        requests from the client. The state transitions shown below describe
        the states of the synthesizer and reflect the state of the request at
        the head of the synthesizer resource queue. A <tt>SPEAK</tt> request in the PENDING state can be deleted
        or stopped by a <tt>STOP</tt> request without
        affecting the state of the resource.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Idle                    Speaking                  Paused
State                   State                     State
  |                        |                          |
  |----------SPEAK--------&gt;|                 |--------|
  |&lt;------STOP-------------|             CONTROL      |
  |&lt;----SPEAK-COMPLETE-----|                 |-------&gt;|
  |&lt;----BARGE-IN-OCCURRED--|                          |
  |              |---------|                          |
  |          CONTROL       |-----------PAUSE---------&gt;|
  |              |--------&gt;|&lt;----------RESUME---------|
  |                        |               |----------|
  |----------|             |              PAUSE       |
  |    BARGE-IN-OCCURRED   |               |---------&gt;|
  |&lt;---------|             |----------|               |
  |                        |      SPEECH-MARKER       |
  |                        |&lt;---------|               |
  |----------|             |----------|               |
  |         STOP           |       RESUME             |
  |          |             |&lt;---------|               |
  |&lt;---------|             |                          |
  |&lt;---------------------STOP-------------------------|
  |----------|             |                          |
  |     DEFINE-LEXICON     |                          |
  |          |             |                          |
  |&lt;---------|             |                          |
  |&lt;---------------BARGE-IN-OCCURRED------------------|
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Synthesizer State Machine&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
Synthesizer Methods</h3>

<p>The synthesizer supports the following methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
synthesizer-method   =  "SPEAK"
                     /  "STOP"
                     /  "PAUSE"
                     /  "RESUME"
                     /  "BARGE-IN-OCCURRED"
                     /  "CONTROL"
                     /  "DEFINE-LEXICON"

</pre></div>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3"></a><h3>8.3.&nbsp;
Synthesizer Events</h3>

<p>The synthesizer may generate the following events.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
synthesizer-event    =  "SPEECH-MARKER"
                     /  "SPEAK-COMPLETE"

</pre></div>
<a name="sec.synthesizeHeaders"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4"></a><h3>8.4.&nbsp;
Synthesizer Header Fields</h3>

<p>A synthesizer method may contain headers containing request options
        and information to augment the Request, Response or Event it is
        associated with.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
synthesizer-header  =  jump-size
                    /  kill-on-barge-in
                    /  speaker-profile
                    /  completion-cause
                    /  completion-reason
                    /  voice-parameter
                    /  prosody-parameter
                    /  speech-marker
                    /  speech-language
                    /  fetch-hint
                    /  audio-fetch-hint
                    /  failed-uri
                    /  failed-uri-cause
                    /  speak-restart
                    /  speak-length
                    /  load-lexicon
                    /  lexicon-search-order

</pre></div>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.1"></a><h3>8.4.1.&nbsp;
Jump-Size</h3>

<p>This header MAY be specified in a CONTROL method and controls the
          amount to jump forward or backward in an active <tt>SPEAK</tt> request. A + or - indicates a relative
          value to what is being currently played. This header MAY also be
          specified in a "SPEAK" request as a desired offset into the
          synthesized speech. In this case, the synthesizer MUST begin
          speaking from this amount of time into the speech markup. Note that
          an offset that extends beyond the end of the produced speech will
          result in audio of length zero. The different speech length units
          supported are dependent on the synthesizer implementation. If the
          synthesizer resource does not support a unit or the operation, the
          resource MUST respond with a status code of 409 "Unsupported Header
          Value".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
jump-size             =   "Jump-Size" ":" speech-length-value CRLF

speech-length-value   =   numeric-speech-length
                      /   text-speech-length

text-speech-length    =   1*UTFCHAR SP "Tag"

numeric-speech-length =    ("+" / "-") positive-speech-length

positive-speech-length =   1*19DIGIT SP numeric-speech-unit

numeric-speech-unit   =   "Second"
                      /   "Word"
                      /   "Sentence"
                      /   "Paragraph"

</pre></div>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.2"></a><h3>8.4.2.&nbsp;
Kill-On-Barge-In</h3>

<p>This header MAY be sent as part of the <tt>SPEAK</tt> method to enable kill-on-barge-in
          support. If enabled, the <tt>SPEAK</tt> method is
          interrupted by DTMF input detected by a signal detector resource or
          by the start of speech sensed or recognized by the speech recognizer
          resource.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
kill-on-barge-in      =   "Kill-On-Barge-In" ":" BOOLEAN CRLF

</pre></div>
<p>The client MUST send a BARGE-IN-OCCURRED method to the
          synthesizer resource when it receives a barge-in-able event from any
          source. This source could be a synthesizer resource or signal
          detector resource and MAY be either local or distributed. If this
          header is not specified in a <tt>SPEAK</tt>
          request or explicitly set by a <tt>SET-PARAMS</tt>, the default value for this header
          is "true".
</p>
<p>If the recognizer or signal detector resource is on the same
          server as the synthesizer and both are part of the same session, the
          server MAY work with both to provide internal notification to the
          synthesizer so that audio may be stopped without having to wait for
          the client's BARGE-IN-OCCURRED event.
</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.3"></a><h3>8.4.3.&nbsp;
Speaker Profile</h3>

<p>This header MAY be part of the <tt>SET-PARAMS</tt>/<tt>GET-PARAMS</tt> or <tt>SPEAK</tt>
          request from the client to the server and specifies a URI which
          references the profile of the speaker. Speaker profiles are
          collections of voice parameters like gender, accent etc.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speaker-profile       =   "Speaker-Profile" ":" uri CRLF</pre></div>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.4"></a><h3>8.4.4.&nbsp;
Completion Cause</h3>

<p>This header MUST be specified in a <tt>SPEAK-COMPLETE</tt> event coming from the
          synthesizer resource to the client. This indicates the reason the
          <tt>SPEAK</tt> request completed.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-cause      =   "Completion-Cause" ":" 3DIGIT SP
                          1*VCHAR CRLF

</pre></div><br /><hr class="insert" />
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="10%"><col align="left" width="35%"><col align="left">
<tr><th align="left">Cause-Code</th><th align="left">Cause-Name</th><th align="left">Description</th></tr>
<tr>
<td align="left">000</td>
<td align="left">normal</td>
<td align="left">SPEAK completed normally.</td>
</tr>
<tr>
<td align="left">001</td>
<td align="left">barge-in</td>
<td align="left">SPEAK request was terminated because of barge-in.</td>
</tr>
<tr>
<td align="left">002</td>
<td align="left">parse-failure</td>
<td align="left">SPEAK request terminated because of a failure to parse the
            speech markup text.</td>
</tr>
<tr>
<td align="left">003</td>
<td align="left">uri-failure</td>
<td align="left">SPEAK request terminated because access to one of the URIs
            failed.</td>
</tr>
<tr>
<td align="left">004</td>
<td align="left">error</td>
<td align="left">SPEAK request terminated prematurely due to synthesizer
            error.</td>
</tr>
<tr>
<td align="left">005</td>
<td align="left">language-unsupported</td>
<td align="left">Language not supported.</td>
</tr>
<tr>
<td align="left">006</td>
<td align="left">lexicon-load-failure</td>
<td align="left">Lexicon loading failed.</td>
</tr>
<tr>
<td align="left">007</td>
<td align="left">cancelled</td>
<td align="left">A prior SPEAK request failed while this one was still in the
            queue.</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Synthesizer Resource Compleion Cause Codes&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.5"></a><h3>8.4.5.&nbsp;
Completion Reason</h3>

<p>This header MAY be specified in a <tt>SPEAK-COMPLETE</tt> event coming from the
          synthesizer resource to the client. This contains the reason text
          behind the <tt>SPEAK</tt> request completion.
          This header communicates text describing the reason for the failure,
          such as an error in parsing the speech markup text.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-reason   =   "Completion-Reason" ":"
                        quoted-string CRLF

</pre></div>
<p>The completion reason text is provided for client use in logs and
          for debugging and instrumentation purposes. Clients MUST NOT
          interpret the completion reason text.
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.6"></a><h3>8.4.6.&nbsp;
Voice-Parameter</h3>

<p>This set of headers defines the voice of the speaker.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
voice-parameter    =   voice-gender
                    /   voice-age
                    /   voice-variant
                    /   voice-name

voice-gender        =   "Voice-Gender:" voice-gender-value CRLF
voice-gender-value  =   "male"
                    /   "female"
                    /   "neutral"
voice-age           =   "Voice-Age:" 1*3DIGIT CRLF
voice-variant       =   "Voice-Variant:" 1*19DIGIT CRLF
voice-name          =   "Voice-Name:"
                        1*UTFCHAR *(1*WSP 1*UTFCHAR) CRLF

</pre></div>
<p>The Voice- parameters are derived from the similarly-named
          attributes of the voice element specified in W3C's <a class='info' href='#W3C.REC-speech-synthesis-20040907'>Speech Synthesis Markup
          Language Specification<span> (</span><span class='info'>Walker, M., Burnett, D., and A. Hunt, &ldquo;Speech Synthesis Markup Language (SSML) Version 1.0,&rdquo; September&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;speech&#8209;synthesis&#8209;20040907]. Legal values for these parameters are
          as defined in that specification.
</p>
<p>These headers MAY be sent in <tt>SET-PARAMS</tt>/<tt>GET-PARAMS</tt> request to define/get default values
          for the entire session or MAY be sent in the <tt>SPEAK</tt> request to define default values for that
          speak request. Note that SSML content can itself set these values
          internal to the SSML document, of course.
</p>
<p>Voice parameter headers MAY also be sent in a CONTROL method to
          affect a <tt>SPEAK</tt> request in progress and
          change its behavior on the fly. If the synthesizer resource does not
          support this operation, it MUST reject the request with a status of
          403 "Unsupported Header".
</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.7"></a><h3>8.4.7.&nbsp;
Prosody-Parameters</h3>

<p>This set of headers defines the prosody of the speech.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
prosody-parameter   =   "Prosody-" prosody-param-name ":"
                        prosody-param-value CRLF

</pre></div>
<p>prosody-param-name is any one of the attribute names under the
          prosody element specified in W3C's <a class='info' href='#W3C.REC-speech-synthesis-20040907'>Speech Synthesis Markup
          Language Specification<span> (</span><span class='info'>Walker, M., Burnett, D., and A. Hunt, &ldquo;Speech Synthesis Markup Language (SSML) Version 1.0,&rdquo; September&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;speech&#8209;synthesis&#8209;20040907]. The prosody-param-value is any one of
          the value choices of the corresponding prosody element attribute
          specified in the above section.
</p>
<p>These headers MAY be sent in <tt>SET-PARAMS</tt>/<tt>GET-PARAMS</tt> request to define/get default values
          for the entire session or MAY be sent in the <tt>SPEAK</tt> request to define default values for that
          speak request. Furthermore, these attributes can be part of the
          speech text marked up in SSML.
</p>
<p>The prosody parameter headers in the <tt>SET-PARAMS</tt> or <tt>SPEAK</tt>
          request only apply if the speech data is of type text/plain and does
          not use a speech markup format.
</p>
<p>These prosody parameter headers MAY also be sent in a CONTROL
          method to affect a <tt>SPEAK</tt> request in
          progress and change its behavior on the fly. If the synthesizer
          resource does not support this operation, it MUST respond back to
          the client with a status of 403 "Unsupported Header".
</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.8"></a><h3>8.4.8.&nbsp;
Speech Marker</h3>

<p>This header contains timestamp information in a "timestamp"
          field. This is an NTP timestamp, a 64 bit number in decimal form. It
          MUST be synced with the RTP timestamp of the media stream through
          RTCP.
</p>
<p>Markers are bookmarks that are defined within the markup. Most
          speech markup formats provide mechanisms to embed marker fields
          within speech texts. The synthesizer generates SPEECH-MARKER events
          when it reaches these marker fields. This header MUST be part of the
          SPEECH-MARKER event and contain the marker tag value after the
          timestamp, separated by a semicolon. In these events the timestamp
          marks the time the text corresponding to the marker was emitted as
          speech by the synthesizer.
</p>
<p>This header MUST also be returned in responses to STOP, CONTROL,
          and BARGE-IN-OCCURRED methods, in the <tt>SPEAK-COMPLETE</tt> event, and in an IN-PROGRESS
          SPEAK response. In these messages, if any markers have been
          encountered for the current SPEAK, the marker tag value MUST be the
          last embedded marker encountered. If no markers have yet been
          encountered for the current SPEAK, only the timestamp is REQUIRED.
          Note than in these events the purpose of this header is to provide
          timestamp information associated with important events within the
          lifecycle of a request (start of SPEAK processing, end of SPEAK
          processing, receipt of CONTROL/STOP/BARGE-IN-OCCURRED).
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
timestamp           =   "timestamp" "=" time-stamp-value

time-stamp-value    =   1*20DIGIT

speech-marker       =   "Speech-Marker" ":"
                        timestamp
                        [";" 1*(UTFCHAR / %x20)] CRLF
</pre></div>
<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.9"></a><h3>8.4.9.&nbsp;
Speech Language</h3>

<p>This header specifies the default language of the speech data if
          the language is not specified in the markup. The value of this
          header MUST follow <a class='info' href='#RFC4646'>RFC4646<span> (</span><span class='info'>Phillips, A. and M. Davis, &ldquo;Tags for Identifying Languages,&rdquo; September&nbsp;2006.</span><span>)</span></a> [RFC4646] for its
          values. The header MAY occur in <tt>SPEAK</tt>,
          <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt> requests.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speech-language     =   "Speech-Language" ":" 1*VCHAR CRLF
</pre></div>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.10"></a><h3>8.4.10.&nbsp;
Fetch Hint</h3>

<p>When the synthesizer needs to fetch documents or other resources
          like speech markup or audio files, this header controls the
          corresponding URI access properties. This provides client policy on
          when the synthesizer should retrieve content from the server. A
          value of "prefetch" indicates the content MAY be downloaded when the
          request is received, whereas "safe" indicates that content MUST NOT
          be downloaded until actually referenced. The default value is
          "prefetch". This header MAY occur in <tt>SPEAK</tt>, <tt>SET-PARAMS</tt>
          or <tt>GET-PARAMS</tt> requests.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
fetch-hint          =   "Fetch-Hint" ":" 1*ALPHA CRLF
</pre></div>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.11"></a><h3>8.4.11.&nbsp;
Audio Fetch Hint</h3>

<p>When the synthesizer needs to fetch documents or other resources
          like speech audio files, this header controls the corresponding URI
          access properties. This provides client policy whether or not the
          synthesizer may attempt to optimize speech by pre-fetching audio.
          The value is either "safe" to say that audio is only fetched when it
          is referenced, never before; "prefetch" to permit, but not require
          the implementation to pre-fetch the audio; or "stream" to allow it
          to stream the audio fetches. The default value is "prefetch". This
          header MAY occur in <tt>SPEAK</tt>, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. requests.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
audio-fetch-hint    =   "Audio-Fetch-Hint" ":" 1*ALPHA CRLF
</pre></div>
<a name="anchor40"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.12"></a><h3>8.4.12.&nbsp;
Failed URI</h3>

<p>When a synthesizer method needs a synthesizer to fetch or access
          a URI and the access fails, the server SHOULD provide the failed URI
          in this header in the method response, unless there are multiple URI
          failures, in which case one of the failed URIs MUST be provided in
          this header in the method response.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
failed-uri          =   "Failed-URI" ":" Uri CRLF
</pre></div>
<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.13"></a><h3>8.4.13.&nbsp;
Failed URI Cause</h3>

<p>When a synthesizer method needs a synthesizer to fetch or access
          a URI and the access fails the server MUST provide the URI specific
          or protocol specific response code for the URI in the Failed-URI
          header in the method response through this header. The value
          encoding is alphanumeric to accommodate all anticipated access
          protocols, some of which might have a response string instead of a
          numeric response code.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>failed-uri-cause    =   "Failed-URI-Cause" ":" 1*alphanum CRLF</pre></div>
<a name="anchor42"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.14"></a><h3>8.4.14.&nbsp;
Speak Restart</h3>

<p>When a CONTROL request to jump backward is issued to a currently
          speaking synthesizer resource, and the target jump point is before
          the start of the current <tt>SPEAK</tt> request,
          the current <tt>SPEAK</tt> request MUST restart
          from the beginning of its speech data and the response to the
          CONTROL request MUST contain this header indicating a restart.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speak-restart       =   "Speak-Restart" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor43"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.15"></a><h3>8.4.15.&nbsp;
Speak Length</h3>

<p>This header MAY be specified in a CONTROL method to control the
          length of speech to speak, relative to the current speaking point in
          the currently active <tt>SPEAK</tt> request. If
          numeric, the value MUST be a positive integer. If a header with a
          Tag unit is specified, then the speech output continues until the
          tag is reached or the <tt>SPEAK</tt> request
          complete, whichever comes first. This header MAY be specified in a
          <tt>SPEAK</tt> request to indicate the length to
          speak from the speech data and is relative to the point in speech
          that the <tt>SPEAK</tt> request starts. The
          different speech length units supported are synthesizer
          implementation dependent. If a server does not support the specified
          unit, the resource MUST respond with a status code of 409
          "Unsupported Header Value".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speak-length          =   "Speak-Length" ":" positive-length-value
                          CRLF

positive-length-value =   positive-speech-length
                      /   text-speech-length

text-speech-length    =   1*UTFCHAR SP "Tag"

positive-speech-length =  1*19DIGIT SP numeric-speech-unit

numeric-speech-unit   =   "Second"
                      /   "Word"
                      /   "Sentence"
                      /   "Paragraph"

</pre></div>
<a name="anchor44"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.16"></a><h3>8.4.16.&nbsp;
Load-Lexicon</h3>

<p>This header is used to indicate whether a lexicon has to be
          loaded or unloaded. The default value for this header is "true".
          This header MAY be specified in a DEFINE-LEXICON method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
load-lexicon       =   "Load-Lexicon" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor45"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4.17"></a><h3>8.4.17.&nbsp;
Lexicon-Search-Order</h3>

<p>This header is used to specify a list of active Lexicon URIs and
          the search order among the active lexicons. Lexicons specified
          within the SSML document take precedence over the lexicons specified
          in this header. This header MAY be specified in the SPEAK,
          SET-PARAMS, and GET-PARAMS methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
lexicon-search-order =   "Lexicon-Search-Order" ":"
          "&lt;" absoluteURI "&gt;" *(" " "&lt;" absoluteURI "&gt;") CRLF
</pre></div>
<a name="sec.synthMessageBody"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.5"></a><h3>8.5.&nbsp;
Synthesizer Message Body </h3>

<p>A synthesizer message may contain additional information associated
        with the Request, Response or Event in its message body.
</p>
<a name="anchor46"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.5.1"></a><h3>8.5.1.&nbsp;
Synthesizer Speech Data</h3>

<p>Marked-up text for the synthesizer to speak is specified as a
          typed media entity in the message body. The speech data to be spoken
          by the synthesizer can be specified inline by embedding the data in
          the message body or by reference by providing a URI for accessing
          the data. In either case the data and the format used to markup the
          speech needs to be of a content type supported by the server.
</p>
<p>All MRCPv2 servers containing synthesizer resources MUST support
          both plain text speech data and W3C's <a class='info' href='#W3C.REC-speech-synthesis-20040907'>Speech Synthesis Markup
          Language<span> (</span><span class='info'>Walker, M., Burnett, D., and A. Hunt, &ldquo;Speech Synthesis Markup Language (SSML) Version 1.0,&rdquo; September&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;speech&#8209;synthesis&#8209;20040907] and hence MUST support the Media Types text/plain
          and application/ssml+xml. Other formats MAY be supported.
</p>
<p>If the speech data is to be fetched by URI reference, the Media
          Type text/uri-list is used to indicate one or more URIs that, when
          dereferenced, will contain the content to be spoken. If a list of
          speech URIs is specified, speech data provided by each URI MUST be
          spoken in the order in which the URIs are specified in the
          content.
</p>
<p>A mix of URI and inline speech data may be indicated through the
          multipart/mixed Media Type. Embedded within the multipart there MAY
          be content for the text/uri-list, application/ssml+xml and/or
          text/plain media types. The character set and encoding used in the
          speech data is specified according to standard Media Type
          definitions. The multi-part content MAY also contain actual audio
          data in .wav or sun audio format. Clients may have recorded audio
          clips stored in memory or on a local device and wish to play it as
          part of the <tt>SPEAK</tt> request. The audio
          portions MAY be sent by the client as part of the multi-part content
          block. This audio is referenced in the speech markup data that is
          another part in the multi-part content block according to the
          multipart/mixed Media Type specification.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:text/uri-list
Content-Length:182

http://www.example.com/ASR-Introduction.ssml
http://www.example.com/ASR-Document-Part1.ssml
http://www.example.com/ASR-Document-Part2.ssml
http://www.example.com/ASR-Conclusion.ssml

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;URI List Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:application/ssml+xml
Content-Length:654

&lt;?xml version="1.0"?&gt;
     &lt;speak version="1.0"
            xmlns="http://www.w3.org/2001/10/synthesis"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
            xml:lang="en-US"&gt;
       &lt;p&gt;
         &lt;s&gt;You have 4 new messages.&lt;/s&gt;
         &lt;s&gt;The first is from Stephanie Williams
         and arrived at &lt;break/&gt;
         &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;

         &lt;s&gt;The subject is &lt;prosody
         rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
      &lt;/p&gt;
     &lt;/speak&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;SSML Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:multipart/mixed; boundary="break"

--break
Content-Type:text/uri-list
Content-Length:187

http://www.example.com/ASR-Introduction.ssml
http://www.example.com/ASR-Document-Part1.ssml
http://www.example.com/ASR-Document-Part2.ssml
http://www.example.com/ASR-Conclusion.ssml

--break
Content-Type:application/ssml+xml
Content-Length:650

&lt;?xml version="1.0"?&gt;
    &lt;speak version="1.0"
           xmlns="http://www.w3.org/2001/10/synthesis"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
           xml:lang="en-US"&gt;
       &lt;p&gt;
         &lt;s&gt;You have 4 new messages.&lt;/s&gt;
         &lt;s&gt;The first is from Stephanie Williams
         and arrived at &lt;break/&gt;
         &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;

         &lt;s&gt;The subject is &lt;prosody
         rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
       &lt;/p&gt;
    &lt;/speak&gt;
--break--
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Multipart Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec.lexiconData"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.5.2"></a><h3>8.5.2.&nbsp;
Lexicon Data</h3>

<p>Synthesizer lexicon data from the client to the server can be
          provided inline or by reference. Either way they are carried as
          typed media in the message body of the MRCPv2 request message.
</p>
<p>When a lexicon is specified in-line in the message, the client
          MUST provide a Content-ID for that lexicon as part of the content
          headers. The server MUST store the lexicon associated with that
          Content-ID for the duration of the session. A stored lexicon can be
          overwritten by defining a new lexicon with the same Content-ID.
          Lexicons that have been associated with a Content-ID can be
          referenced through the "<tt>session:</tt>" URI
          scheme (see <a class='info' href='#sec.sessionURIScheme'>Section&nbsp;13.6<span> (</span><span class='info'>session URL scheme registration</span><span>)</span></a>).
</p>
<p>If lexicon data is specified by external URI reference, the Media
          Type text/uri-list is used to list the one or more URIs that may be
          dereferenced to obtain the lexicon data. All MRCPv2 servers MUST
          support the HTTP and HTTPS uri access mechanisms, and MAY support
          other mechanisms.
</p>
<p>If the data in the message body consists of a mix of URI and
          inline lexicon data the multipart/mixed Media Type is used. The
          character set and encoding used in the lexicon data may be specified
          according to standard Media Type definitions.
</p>
<a name="anchor47"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.6"></a><h3>8.6.&nbsp;
SPEAK Method</h3>

<p>The <tt>SPEAK</tt> Request provides the
        synthesizer resource with the speech text and initiates speech
        synthesis and streaming. The <tt>SPEAK</tt> method
        can carry voice and prosody headers that alter the behavior of the
        voice being synthesized, as well as a typed media message body
        containing the actual marked-up text to be spoken.
</p>
<p>The SPEAK method implementation MUST do a fetch of all external
        URIs that are part of that operation. If caching is implemented, this
        URI fetching MUST conform to the cache control hints and parameter
        headers associated with the method in deciding whether it is to be
        fetched from cache or from the external server. If these
        hints/parameters are not specified in the method, the values set for
        the session using SET-PARAMS/GET-PARAMS apply. If it was not set for
        the session their default values apply.
</p>
<p>When applying voice parameters there are 3 levels of precedence.
        The highest precedence are those specified within the speech markup
        text, followed by those specified in the headers of the <tt>SPEAK</tt> request and hence apply for that <tt>SPEAK</tt> request only, followed by the session
        default values which can be set using the <tt>SET-PARAMS</tt> request and apply for subsequent
        methods invoked during the session.
</p>
<p>If the resource was idle at the time the <tt>SPEAK</tt> request arrived at the server and the
        <tt>SPEAK</tt> method is being actively processed,
        the resource responds immediately with a success status code and a
        request-state of IN-PROGRESS.
</p>
<p>If the resource is in the speaking or paused state when the <tt>SPEAK</tt> method arrives at the server, i.e. it is in
        the middle of processing a previous <tt>SPEAK</tt>
        request, the status returns success with a request-state of PENDING.
        The server places the <tt>SPEAK</tt> request in the
        synthesizer resource request queue. The request queue operates
        strictly FIFO: requests are processed serially in order of receipt. If
        the current SPEAK fails, all SPEAK methods in the pending queue are
        cancelled and each generates a SPEAK-COMPLETE event with a
        Completion-Cause of "cancelled".
</p>
<p>For the synthesizer resource, <tt>SPEAK</tt> is
        the only method that can return a request-state of IN-PROGRESS or
        PENDING. When the text has been synthesized and played into the media
        stream, the resource issues a <tt>SPEAK-COMPLETE</tt> event with the request-id of the
        <tt>SPEAK</tt> request and a request-state of
        COMPLETE.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 489 SPEAK 543257
      Channel-Identifier:32AECB23433802@speechsynth
      Voice-gender:neutral
      Voice-Age:25
      Prosody-volume:medium
      Content-Type:application/ssml+xml
      Content-Length:612

      &lt;?xml version="1.0"?&gt;
         &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams and arrived at
             &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.
             &lt;/s&gt;
          &lt;s&gt;The subject is
                 &lt;prosody rate="-20%"&gt;ski trip&lt;/prosody&gt;
          &lt;/s&gt;
         &lt;/p&gt;
        &lt;/speak&gt;


S-&gt;C: MRCP/2.0 28 543257 200 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857206027059


S-&gt;C: MRCP/2.0 79 SPEAK-COMPLETE 543257 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Completion-Cause:000 normal
      Speech-Marker:timestamp=857206027059
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;SPEAK Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor48"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.7"></a><h3>8.7.&nbsp;
STOP</h3>

<p>The <tt>STOP</tt> method from the client to the
        server tells the synthesizer resource to stop speaking if it is
        speaking something.
</p>
<p>The <tt>STOP</tt> request can be sent with an
        active-request-id-list header to stop the zero or more specific <tt>SPEAK</tt> requests that may be in queue and return a
        response code of 200 (Success). If no active-request-id-list header is
        sent in the <tt>STOP</tt> request the server
        terminates all outstanding <tt>SPEAK</tt>
        requests.
</p>
<p>If a <tt>STOP</tt> request successfully
        terminated one or more PENDING or IN-PROGRESS <tt>SPEAK</tt> requests, then the response MUST contain an
        active-request-id-list header enumerating the <tt>SPEAK</tt> request-ids that were terminated. Otherwise
        there is no active-request-id-list header in the response. No <tt>SPEAK-COMPLETE</tt> events are sent for such
        terminated requests.
</p>
<p>If a <tt>SPEAK</tt> request that was IN-PROGRESS
        and speaking was stopped, the next pending <tt>SPEAK</tt> request, if any, becomes IN-PROGRESS at the
        resource and enters the speaking state.
</p>
<p>If a <tt>SPEAK</tt> request that was IN-PROGRESS
        and paused was stopped, the next pending <tt>SPEAK</tt> request, if any, becomes IN-PROGRESS and
        enters the paused state.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 423 SPEAK 543258
      Channel-Identifier:32AECB23433802@speechsynth
      Content-Type:application/ssml+xml
      Content-Length:596

      &lt;?xml version="1.0"?&gt;
        &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams and arrived at
             &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;
          &lt;s&gt;The subject is
              &lt;prosody rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
         &lt;/p&gt;
        &lt;/speak&gt;


S-&gt;C: MRCP/2.0 48 543258 200 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857206027059

C-&gt;S: MRCP/2.0 44 STOP 543259
      Channel-Identifier:32AECB23433802@speechsynth

S-&gt;C: MRCP/2.0 66 543259 200 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Active-Request-Id-List:543258
      Speech-Marker:timestamp=857206039059
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;STOP Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor49"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.8"></a><h3>8.8.&nbsp;
BARGE-IN-OCCURED</h3>

<p>The BARGE-IN-OCCURRED method, when used with the synthesizer
        resource, provides a client which has detected a barge-in-able event a
        means to communicate the occurrence of the event to the synthesizer
        resource.
</p>
<p>This method is useful in two scenarios, </p>
<ol class="text">
<li>The client has detected DTMF digits in the input media or some
            other barge-in-able event and wants to communicate that to the
            synthesizer resource.
</li>
<li>The recognizer resource and the synthesizer resource are in
            different servers. In this case the client acts as an intermediary
            for the two servers. It receives an event from the recognition
            resource and sends a BARGE-IN-OCCURRED request to the synthesizer.
            In such cases, the BARGE-IN-OCCURRED method would also have a
            proxy-sync-id header received from the resource generating the
            original event.
</li>
</ol>

<p>If a <tt>SPEAK</tt> request is active with
        kill-on-barge-in enabled, and the BARGE-IN-OCCURRED event is received,
        the synthesizer MUST immediately stop streaming out audio. It MUST
        also terminate any speech requests queued behind the current active
        one, irrespective of whether they have barge-in enabled or not. If a
        barge-in-able <tt>SPEAK</tt> request was playing
        and it was terminated, the response MUST contain the an
        active-request-list header listing the request-ids of all <tt>SPEAK</tt> requests that were terminated. The server
        generates no <tt>SPEAK-COMPLETE</tt> events for
        these requests.
</p>
<p>If there were no <tt>SPEAK</tt> requests
        terminated by the synthesizer resource as a result of the
        BARGE-IN-OCCURRED method, the server responds to the BARGE-IN-OCCURRED
        with a 200 success which MUST NOT contain an active-request-id-list
        header.
</p>
<p>If the synthesizer and recognizer resources are part of the same
        MRCPv2 session, they can be optimized for a quicker kill-on-barge-in
        response if the recognizer and synthesizer interact directly. In these
        cases, the client MUST still react to a START-OF-INPUT event from the
        recognizer by invoking the BARGE-IN-OCCURRED method to the
        synthesizer. The client MUST invoke the BARGE-IN-OCCURRED if it has
        any outstanding requests to the synthesizer resource in either the
        PENDING or IN-PROGRESS state.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 433 SPEAK 543258
      Channel-Identifier:32AECB23433802@speechsynth
      Voice-gender:neutral
      Voice-Age:25
      Prosody-volume:medium
      Content-Type:application/ssml+xml
      Content-Length:595

      &lt;?xml version="1.0"?&gt;
        &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams and arrived at
             &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;
          &lt;s&gt;The subject is
             &lt;prosody rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
         &lt;/p&gt;
        &lt;/speak&gt;

S-&gt;C: MRCP/2.0 47 543258 200 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857206027059

C-&gt;S: MRCP/2.0 69 BARGE-IN-OCCURRED 543259
      Channel-Identifier:32AECB23433802@speechsynth
      Proxy-Sync-Id:987654321

S-&gt;C:MRCP/2.0 72 543259 200 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Active-Request-Id-List:543258
      Speech-Marker:timestamp=857206039059
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;BARGE-IN-OCCURED Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor50"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.9"></a><h3>8.9.&nbsp;
PAUSE</h3>

<p>The PAUSE method from the client to the server tells the
        synthesizer resource to pause speech output if it is speaking
        something. If a PAUSE method is issued on a session when a <tt>SPEAK</tt> is not active the server MUST respond with
        a status of 402 "Method not valid in this state". If a PAUSE method is
        issued on a session when a <tt>SPEAK</tt> is active
        and paused the server MUST respond with a status of 200 "Success". If
        a <tt>SPEAK</tt> request was active the server MUST
        return an active-request-id-list header with the request-id of the
        <tt>SPEAK</tt> request that was paused.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 434 SPEAK 543258
      Channel-Identifier:32AECB23433802@speechsynth
      Voice-gender:neutral
      Voice-Age:25
      Prosody-volume:medium
      Content-Type:application/ssml+xml
      Content-Length:590

      &lt;?xml version="1.0"?&gt;
        &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams and arrived at
             &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;

          &lt;s&gt;The subject is
             &lt;prosody rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
         &lt;/p&gt;
        &lt;/speak&gt;

S-&gt;C: MRCP/2.0 48 543258 200 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857206027059

C-&gt;S: MRCP/2.0 43 PAUSE 543259
      Channel-Identifier:32AECB23433802@speechsynth

S-&gt;C: MRCP/2.0 68 543259 200 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Active-Request-Id-List:543258
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;PAUSE Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor51"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.10"></a><h3>8.10.&nbsp;
RESUME</h3>

<p>The RESUME method from the client to the server tells a paused
        synthesizer resource to resume speaking. If a RESUME request is issued
        on a session with no active <tt>SPEAK</tt> request,
        the server MUST respond with a status of 402 "Method not valid in this
        state". If a RESUME request is issued on a session with an active
        <tt>SPEAK</tt> request that is speaking (i.e., not
        paused) the server MUST respond with a status of 200 "Success". If a
        <tt>SPEAK</tt> request was paused the server MUST
        return an active-request-id-list header with the request-id of the
        <tt>SPEAK</tt> request that was resumed.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 434 SPEAK 543258
      Channel-Identifier:32AECB23433802@speechsynth
      Voice-gender:neutral
      Voice-age:25
      Prosody-volume:medium
      Content-Type:application/ssml+xml
      Content-Length:595

      &lt;?xml version="1.0"?&gt;
        &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams and arrived at
             &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;
          &lt;s&gt;The subject is
             &lt;prosody rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
         &lt;/p&gt;
        &lt;/speak&gt;

S-&gt;C: MRCP/2.0 48 543258 200 IN-PROGRESS@speechsynth
      Channel-Identifier:32AECB23433802
      Speech-Marker:timestamp=857206027059

C-&gt;S: MRCP/2.0 44 PAUSE 543259
      Channel-Identifier:32AECB23433802@speechsynth

S-&gt;C: MRCP/2.0 47 543259 200 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Active-Request-Id-List:543258

C-&gt;S: MRCP/2.0 44 RESUME 543260
      Channel-Identifier:32AECB23433802@speechsynth

S-&gt;C: MRCP/2.0 66 543260 200 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Active-Request-Id-List:543258
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;RESUME Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor52"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.11"></a><h3>8.11.&nbsp;
CONTROL</h3>

<p>The CONTROL method from the client to the server tells a
        synthesizer that is speaking to modify what it is speaking on the fly.
        This method is used to request the synthesizer to jump forward or
        backward in what it is speaking, change speaker rate, speaker
        parameters, etc. It affects only the currently IN-PROGRESS <tt>SPEAK</tt> request. Depending on the implementation
        and capability of the synthesizer resource it may or may not support
        the various modifications indicated by headers in the CONTROL
        request.
</p>
<p>When a client invokes a CONTROL method to jump forward and the
        operation goes beyond the end of the active <tt>SPEAK</tt> method's text, the CONTROL request still
        succeeds. The active <tt>SPEAK</tt> request
        completes and returns a <tt>SPEAK-COMPLETE</tt>
        event following the response to the CONTROL method. If there are more
        <tt>SPEAK</tt> requests in the queue, the
        synthesizer resource starts at the beginning of the next <tt>SPEAK</tt> request in the queue.
</p>
<p>When a client invokes a CONTROL method to jump backward and the
        operation jumps to the beginning or beyond the beginning of the speech
        data of the active <tt>SPEAK</tt> method, the
        CONTROL request still succeeds. The response to the CONTROL request
        contains the speak-restart header, and the active <tt>SPEAK</tt> request restarts from the beginning of its
        speech data.
</p>
<p>These two behaviors can be used to rewind or fast-forward across
        multiple speech requests, if the client wants to break up a speech
        markup text to multiple <tt>SPEAK</tt>
        requests.
</p>
<p>If a <tt>SPEAK</tt> request was active when the
        CONTROL method was received the server MUST return an
        active-request-id-list header with the Request-id of the <tt>SPEAK</tt> request that was active.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 434 SPEAK 543258
      Channel-Identifier:32AECB23433802@speechsynth
      Voice-gender:neutral
      Voice-age:25
      Prosody-volume:medium
      Content-Type:application/ssml+xml
      Content-Length:588

      &lt;?xml version="1.0"?&gt;
        &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams
             and arrived at &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;

          &lt;s&gt;The subject is &lt;prosody
             rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
         &lt;/p&gt;
        &lt;/speak&gt;


S-&gt;C: MRCP/2.0 47 543258 200 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857205016059

C-&gt;S: MRCP/2.0 63 CONTROL 543259
      Channel-Identifier:32AECB23433802@speechsynth
      Prosody-rate:fast

S-&gt;C: MRCP/2.0 67 543259 200 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Active-Request-Id-List:543258
      Speech-Marker:timestamp=857206027059

C-&gt;S: MRCP/2.0 68 CONTROL 543260
      Channel-Identifier:32AECB23433802@speechsynth
      Jump-Size:-15 Words

S-&gt;C: MRCP/2.0 69 543260 200 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Active-Request-Id-List:543258
      Speech-Marker:timestamp=857206039059
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;CONTROL Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor53"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.12"></a><h3>8.12.&nbsp;
SPEAK-COMPLETE</h3>

<p>This is an Event message from the synthesizer resource to the
        client indicating that the corresponding <tt>SPEAK</tt> request was completed. The request-id
        header matches the request-id of the <tt>SPEAK</tt>
        request that initiated the speech that just completed. The
        request-state field is set to COMPLETE by the server, indicating that
        this is the last event with the corresponding request-id. The
        completion-cause header specifies the cause code pertaining to the
        status and reason of request completion such as the <tt>SPEAK</tt> completed normally or because of an error,
        kill-on-barge-in etc.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 434 SPEAK 543260
      Channel-Identifier:32AECB23433802@speechsynth
      Voice-gender:neutral
      Voice-age:25
      Prosody-volume:medium
      Content-Type:application/ssml+xml
      Content-Length:594

      &lt;?xml version="1.0"?&gt;
        &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams
             and arrived at &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;
          &lt;s&gt;The subject is
             &lt;prosody rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
         &lt;/p&gt;
        &lt;/speak&gt;

S-&gt;C: MRCP/2.0 48 543260 200 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857206027059

S-&gt;C: MRCP/2.0 73 SPEAK-COMPLETE 543260 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Completion-Cause:000 normal
      Speech-Marker:timestamp=857206039059
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;SPEAK-COMPLETE Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor54"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.13"></a><h3>8.13.&nbsp;
SPEECH-MARKER</h3>

<p>This is an event generated by the synthesizer resource to the
        client when the synthesizer encounters a marker tag in the speech
        markup it is currently processing. The request-id field in the header
        matches the corresponding <tt>SPEAK</tt> request.
        The request-state field indicates IN-PROGRESS as the speech is still
        not complete. The value of the speech marker tag hit, describing where
        the synthesizer is in the speech markup, is returned in the
        speech-marker header, along with an NTP timestamp indicating the
        instant in the output speech stream that the marker was encountered.
        The SPEECH-MARKER event MUST also be generated with a null marker
        value and output NTP timestamp when a SPEAK request in Pending-State
        (i.e. in the queue) changes state to IN-PROGRESS and starts speaking.
        The NTP timestamp MUST be synchronized with the RTP timestamp used to
        generate the speech stream through standard RTCP machinery.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: MRCP/2.0 434 SPEAK 543261
      Channel-Identifier:32AECB23433802@speechsynth
      Voice-gender:neutral
      Voice-age:25
      Prosody-volume:medium
      Content-Type:application/ssml+xml
      Content-Length:652

      &lt;?xml version="1.0"?&gt;
        &lt;speak version="1.0"
             xmlns="http://www.w3.org/2001/10/synthesis"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
                http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
             xml:lang="en-US"&gt;
         &lt;p&gt;
          &lt;s&gt;You have 4 new messages.&lt;/s&gt;
          &lt;s&gt;The first is from Stephanie Williams
             and arrived at &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;
             &lt;mark name="here"/&gt;
          &lt;s&gt;The subject is
             &lt;prosody rate="-20%"&gt;ski trip&lt;/prosody&gt;
          &lt;/s&gt;
          &lt;mark name="ANSWER"/&gt;
         &lt;/p&gt;
        &lt;/speak&gt;


S-&gt;C: MRCP/2.0 48 543261 200 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857205015059

S-&gt;C: MRCP/2.0 73 SPEECH-MARKER 543261 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857206027059;here

S-&gt;C: MRCP/2.0 74 SPEECH-MARKER 543261 IN-PROGRESS
      Channel-Identifier:32AECB23433802@speechsynth
      Speech-Marker:timestamp=857206039059;ANSWER

S-&gt;C: MRCP/2.0 73 SPEAK-COMPLETE 543261 COMPLETE
      Channel-Identifier:32AECB23433802@speechsynth
      Completion-Cause:000 normal
      Speech-Marker:timestamp=857207689259;ANSWER
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;SPEECH-MARKER Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor55"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.14"></a><h3>8.14.&nbsp;
DEFINE-LEXICON</h3>

<p>The DEFINE-LEXICON method, from the client to the server, provides
        a lexicon and tells the server to load, unload, activate or deactivate
        the lexicon.
</p>
<p>If the server resource is in the speaking or paused state, the
        server MUST respond 402 (Method not valid in this state) failure
        status.
</p>
<p>If the resource is in the idle state and is able to successfully
        load/unload/activate/deactivate the lexicon the status MUST return a
        success code and the request-state MUST be COMPLETE.
</p>
<p>If the synthesizer could not define the lexicon for some reason,
        for example because the download failed or the lexicon was in an
        unsupported form, the server MUST respond with a failure status code
        of 407, and a Completion-Cause header describing the failure
        reason.
</p>
<a name="sec.recognizerResource"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Speech Recognizer Resource</h3>

<p>The speech recognizer resource receives an incoming voice stream and
      provides the client with an interpretation of what was spoken in textual
      form.
</p>
<p>The recognizer resource is controlled by MRCPv2 requests from the
      client. The recognizer resource can both respond to these requests and
      generate asynchronous events to the client to indicate conditions of
      interest during the processing of the method.
</p>
<p>This section applies to the following resource types. </p>
<ol class="text">
<li>speechrecog
</li>
<li>dtmfrecog
</li>
</ol>

<p>The difference between the above two resources is in their level of
      support for recognition grammars. The "dtmfrecog" resource type is
      capable of recognizing only DTMF digits and hence accepts only DTMF
      grammars. It only generates barge-in for DTMF inputs and ignores speech.
      The "speechrecog" resource type can recognize regular speech as well as
      DTMF digits and hence MUST support grammars describing either speech or
      DTMF. This resource generates barge-in events for speech and/or DTMF. By
      analyzing the grammars that are activated by the RECOGNIZE method, it
      determines if a barge-in should occur for speech and/or DTMF. When the
      recognizer decides it needs to generate barge-in it also generates a
      START-OF-INPUT event to the client. The recognition resource may support
      recognition in the normal or hotword modes or both (although note that a
      single speechrecog resource does not perform normal and hotword mode
      recognition simultaneously). For implementations where a single
      recognition resource does not support both modes, or simultaneous normal
      and hotword recognition is desired, the two modes can be invoked through
      separate resources allocated to the same SIP dialog (with different MRCP
      session identifiers) and share the RTP audio feed.
</p>
<p>The capabilities of the recognition resource are enumerated
      below:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>Normal Mode Recognition</dt>
<dd>Normal mode recognition tries
          to match all of the speech or DTMF against the grammar and returns a
          no-match status if the input fails to match or the method times
          out.
</dd>
<dt>Hotword Mode Recognition</dt>
<dd>Hotword mode is where the
          recognizer looks for a match against specific speech grammar or DTMF
          sequence and ignores speech or DTMF that does not match. The
          recognition completes only for a successful match of grammar or if
          the client cancels the request or if there is a a non-input or
          recognition timeout.
</dd>
<dt>Voice Enrolled Grammars</dt>
<dd>A recognition resource may
          optionally support Voice Enrolled Grammars. With this functionality,
          enrollment is performed using a person's voice. For example, a list
          of contacts can be created and maintained by recording the person's
          names using the caller's voice. This technique is sometimes also
          called speaker-dependent recognition.
</dd>
<dt>Interpretation</dt>
<dd>A recognition resource may be employed
          strictly for its natural language interpretation capabilities by
          supplying it with a text string as input instead of speech. In this
          mode the resource takes text as input and produces an
          "interpretation" of the input according to the supplied grammar.
</dd>
</dl></blockquote>

<p>Voice Enrollment has the concept of an enrollment session. A session
      to add a new phrase to a personal grammar involves the initial
      enrollment followed by a repeat of enough utterances before committing
      the new phrase to the personal grammar. Each time an utterance is
      recorded, it is compared for similarity with the other samples and a
      clash test is performed against other entries in the personal grammar to
      ensure there are no similar and confusable entries.
</p>
<p>Enrollment is done using a recognizer resource. Controlling which
      utterances are to be considered for enrollment of a new phrase is done
      by setting a header (see <a class='info' href='#sec.phraseID'>Section&nbsp;9.4.39<span> (</span><span class='info'>Phrase-Id</span><span>)</span></a>) in the
      Recognize request.
</p>
<p>Interpretation is accomplished through the INTERPRET method (<a class='info' href='#sec.interpret'>Section&nbsp;9.20<span> (</span><span class='info'>INTERPRET</span><span>)</span></a>) and the interpret-text header (<a class='info' href='#sec.interpretText'>Section&nbsp;9.4.30<span> (</span><span class='info'>Interpret-Text</span><span>)</span></a>).
</p>
<a name="anchor56"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Recognizer State Machine</h3>

<p>The recognizer resource maintains a state machine to process MRCPv2
        requests from the client.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Idle                   Recognizing               Recognized
State                  State                     State
 |                       |                          |
 |---------RECOGNIZE----&gt;|---RECOGNITION-COMPLETE--&gt;|
 |&lt;------STOP------------|&lt;-----RECOGNIZE-----------|
 |                       |                          |
 |              |--------|              |-----------|
 |       START-OF-INPUT  |       GET-RESULT         |
 |              |-------&gt;|              |----------&gt;|
 |------------|          |                          |
 |      DEFINE-GRAMMAR   |----------|               |
 |&lt;-----------|          | START-INPUT-TIMERS       |
 |                       |&lt;---------|               |
 |------|                |                          |
 |  INTERPRET            |                          |
 |&lt;-----|                |------|                   |
 |                       |   RECOGNIZE              |
 |-------|               |&lt;-----|                   |
 |      STOP                                        |
 |&lt;------|                                          |
 |&lt;-------------------STOP--------------------------|
 |&lt;-------------------DEFINE-GRAMMAR----------------|
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Recognizer State Machine&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>If a recognition resource supports voice enrolled grammars,
        starting an enrollment session does not change the state of the
        recognizer resource. Once an enrollment session is started, then
        utterances are enrolled by calling the RECOGNIZE method repeatedly.
        The state of the speech recognizer resource goes from IDLE to
        RECOGNIZING state each time RECOGNIZE is called.
</p>
<a name="anchor57"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2"></a><h3>9.2.&nbsp;
Recognizer Methods</h3>

<p>The recognizer supports the following methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recognizer-method    =  recog-only-method
                     /  enrollment-method

recog-only-method    =  "DEFINE-GRAMMAR"
                     /  "RECOGNIZE"
                     /  "INTERPRET"
                     /  "GET-RESULT"
                     /  "START-INPUT-TIMERS"
                     /  "STOP"
</pre></div>
<p>It is OPTIONAL for a recognizer resource to support voice enrolled
        grammars. If the recognizer resource does support voice enrolled
        grammars it MUST support the following methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
enrollment-method    =  "START-PHRASE-ENROLLMENT"
                     /  "ENROLLMENT-ROLLBACK"
                     /  "END-PHRASE-ENROLLMENT"
                     /  "MODIFY-PHRASE"
                     /  "DELETE-PHRASE"
</pre></div>
<a name="anchor58"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3"></a><h3>9.3.&nbsp;
Recognizer Events</h3>

<p>The recognizer may generate the following events.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recognizer-event     =  "START-OF-INPUT"
                     /  "RECOGNITION-COMPLETE"
                     /  "INTERPRETATION-COMPLETE"
</pre></div>
<a name="sec.recognizerHeaders"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4"></a><h3>9.4.&nbsp;
Recognizer Header Fields</h3>

<p>A recognizer message may contain headers containing request options
        and information to augment the Method, Response or Event message it is
        associated with.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recognizer-header    =  recog-only-header
                     /  enrollment-header

recog-only-header    =  confidence-threshold
                     /  sensitivity-level
                     /  speed-vs-accuracy
                     /  n-best-list-length
                     /  no-input-timeout
                     /  input-type
                     /  recognition-timeout
                     /  waveform-uri
                     /  input-waveform-uri
                     /  completion-cause
                     /  completion-reason
                     /  recognizer-context-block
                     /  start-input-timers
                     /  speech-complete-timeout
                     /  speech-incomplete-timeout
                     /  dtmf-interdigit-timeout
                     /  dtmf-term-timeout
                     /  dtmf-term-char
                     /  failed-uri
                     /  failed-uri-cause
                     /  save-waveform
                     /  media-type
                     /  new-audio-channel
                     /  speech-language
                     /  ver-buffer-utterance
                     /  recognition-mode
                     /  cancel-if-queue
                     /  hotword-max-duration
                     /  hotword-min-duration
                     /  interpret-text
                     /  dtmf-buffer-time
                     /  clear-dtmf-buffer
                     /  early-no-match
</pre></div>
<p>If a recognition resource supports voice enrolled grammars, the
        following headers are also used.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
enrollment-header    =  num-min-consistent-pronunciations
                     /  consistency-threshold
                     /  clash-threshold
                     /  personal-grammar-uri
                     /  enroll-utterance
                     /  phrase-id
                     /  phrase-nl
                     /  weight
                     /  save-best-waveform
                     /  new-phrase-id
                     /  confusable-phrases-uri
                     /  abort-phrase-enrollment
</pre></div>
<p>For enrollment-specific headers that can appear as part of <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt> methods, the following general rule
        applies: the START-PHRASE-ENROLLMENT method must be invoked before
        these headers may be set through the <tt>SET-PARAMS</tt> method or retrieved through the <tt>GET-PARAMS</tt> method.
</p>
<p>Note that the Waveform-URI header of the Recognizer resource can
        also appear in the response to the END-PHRASE-ENROLLMENT method.
</p>
<a name="sec.confidenceThreshold"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.1"></a><h3>9.4.1.&nbsp;
Confidence Threshold</h3>

<p>When a recognition resource recognizes or matches a spoken phrase
          with some portion of the grammar, it associates a confidence level
          with that match. The confidence-threshold header tells the
          recognizer resource what confidence level the client considers a
          successful match. This is a float value between 0.0-1.0 indicating
          the recognizer's confidence in the recognition. If the recognizer
          determines that there is no candidate match with a confidence that
          is greater than the confidence threshold, then it MUST return
          no-match as the recognition result. This header MAY occur in
          RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The default value for this header
          is implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
confidence-threshold     =  "Confidence-Threshold" ":" FLOAT CRLF</pre></div>
<a name="anchor59"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.2"></a><h3>9.4.2.&nbsp;
Sensitivity Level</h3>

<p>To filter out background noise and not mistake it for speech, the
          recognizer may support a variable level of sound sensitivity. The
          sensitivity-level header is a float value between 0.0 and 1.0 and
          allows the client to set the sensitivity level for the recognizer.
          This header MAY occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. A higher value for this header
          means higher sensitivity. The default value for this header is
          implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
sensitivity-level        =  "Sensitivity-Level" ":" FLOAT CRLF
</pre></div>
<a name="anchor60"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.3"></a><h3>9.4.3.&nbsp;
Speed Vs Accuracy</h3>

<p>Depending on the implementation and capability of the recognizer
          resource it may be tunable towards Performance or Accuracy. Higher
          accuracy may mean more processing and higher CPU utilization,
          meaning fewer active sessions per server and vice versa. The value
          is a float between 0.0 and 1.0. A value of 0.0 means fastest
          recognition. A value of 1.0 means best accuracy. This header MAY
          occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The default value for this header
          is implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speed-vs-accuracy        =  "Speed-Vs-Accuracy" ":" FLOAT CRLF
</pre></div>
<a name="anchor61"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.4"></a><h3>9.4.4.&nbsp;
N Best List Length</h3>

<p>When the recognizer matches an incoming stream with the grammar,
          it may come up with more than one alternative match because of
          confidence levels in certain words or conversation paths. If this
          header is not specified, by default, the recognition resource
          returns only the best match above the confidence threshold. The
          client, by setting this header, can ask the recognition resource to
          send it more than 1 alternative. All alternatives must still be
          above the confidence-threshold. A value greater than one does not
          guarantee that the recognizer will provide the requested number of
          alternatives. This header MAY occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The minimum value for this header
          is 1. The default value for this header is 1.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
n-best-list-length       =  "N-Best-List-Length" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor62"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.5"></a><h3>9.4.5.&nbsp;
Input Type</h3>

<p>When the recognizer detects barge-in-able input and generates a
          START-OF-INPUT event, that event MUST carry this header field to
          specify where the input that caused the barge-in was DTMF or
          speech.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
input-type         =  "Input-Type" ":"  inputs CRLF
inputs             =  "speech" / "dtmf"
</pre></div>
<a name="anchor63"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.6"></a><h3>9.4.6.&nbsp;
No Input Timeout</h3>

<p>When recognition is started and there is no speech detected for a
          certain period of time, the recognizer can send a
          RECOGNITION-COMPLETE event to the client with a Completion-Status of
          "002 no-input-timeout" and terminate the recognition operation. The
          client can use the no-input-timeout header to set this timeout. The
          value is in milliseconds and may range from 0 to an implementation
          specific maximum value. This header MAY occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The default value is implementation
          specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
no-input-timeout         =  "No-Input-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor64"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.7"></a><h3>9.4.7.&nbsp;
Recognition Timeout</h3>

<p>When recognition is started and there is no match for a certain
          period of time, the recognizer can send a RECOGNITION-COMPLETE event
          to the client and terminate the recognition operation. The
          Recognition-Timeout header allows the client to set this timeout
          value. The value is in milliseconds. The value for this header
          ranges from 0 to an implementation specific maximum value. The
          default value is 10 seconds. This header MAY occur in RECOGNIZE,
          SET-PARAMS or GET-PARAMS. <tt></tt><tt></tt>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recognition-timeout      =  "Recognition-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor65"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.8"></a><h3>9.4.8.&nbsp;
Waveform URI</h3>

<p>If the Save-Waveform header is set to true, the recognizer MUST
          record the incoming audio stream of the recognition into a stored
          form and provide a URI for the client to access it. This header MUST
          be present in the RECOGNITION-COMPLETE event if the Save-Waveform
          header was set to true. The value of the header MUST be empty if
          there was some error condition preventing the server from recording.
          Otherwise, the URI generated by the server MUST be unambiguous
          across the server and all its recognition sessions. The content
          associated with the URI MUST be available to the client until the
          MRCPv2 session terminates.
</p>
<p>Similarly, if the Save-Best-Waveform header is set to true, the
          recognizer MUST save the audio stream for the best repetition of the
          phrase that was used during the enrollment session. The recognizer
          MUST then record the recognized audio and make it available to the
          client in the form of a URI returned in the Waveform-URI header in
          the response to the END-PHRASE-ENROLLMENT method. The value of the
          header MUST be empty if there was some error condition preventing
          the server from recording. Otherwise, the URI generated by the
          server MUST be unambiguous across the server and all its recognition
          sessions. The content associated with the URI MUST be available to
          the client until the MRCPv2 session terminates.
</p>
<p>The server MUST also return the size in bytes and the duration in
          milliseconds of the recorded audio wave-form as parameters
          associated with the header.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
waveform-uri             =  "Waveform-URI" ":" ["&lt;" Uri "&gt;"
                            ";" "size" "=" 1*19DIGIT
                            ";" "duration" "=" 1*19DIGIT] CRLF
</pre></div>
<a name="anchor66"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.9"></a><h3>9.4.9.&nbsp;
Media Type</h3>

<p>This header MAY be specified in the SET-PARAMS, GET-PARAMS or the
          RECOGNIZE methods and tells the server resource the Media Type in
          which to store captured audio or video such as the one captured and
          returned by the Waveform-URI header.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Media-type               =  "Media-Type" ":" media-type-value
                            CRLF
</pre></div>
<a name="anchor67"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.10"></a><h3>9.4.10.&nbsp;
Input-Waveform-URI</h3>

<p>This optional header specifies a URI pointing to audio content to
          be processed by the RECOGNIZE operation. This enables the client to
          request recognition from a specified buffer or audio file.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
input-waveform-uri       =  "Input-Waveform-URI" ":" Uri CRLF
</pre></div>
<a name="anchor68"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.11"></a><h3>9.4.11.&nbsp;
Completion Cause</h3>

<p>This header MUST be part of a RECOGNITION-COMPLETE, event coming
          from the recognizer resource to the client. It indicates the reason
          behind the RECOGNIZE method completion. This header MUST be sent in
          the DEFINE-GRAMMAR and RECOGNIZE responses, if they return with a
          failure status and a COMPLETE state.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-cause         =  "Completion-Cause" ":" 3DIGIT SP
                            1*VCHAR CRLF
</pre></div><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="10%"><col align="left" width="35%"><col align="left">
<tr><th align="left">Cause-Code</th><th align="left">Cause-Name</th><th align="left">Description</th></tr>
<tr>
<td align="left">000</td>
<td align="left">success</td>
<td align="left">RECOGNIZE completed with a match or DEFINE-GRAMMAR succeeded in
            downloading and compiling the grammar</td>
</tr>
<tr>
<td align="left">001</td>
<td align="left">no-match</td>
<td align="left">RECOGNIZE completed, but no match was found</td>
</tr>
<tr>
<td align="left">002</td>
<td align="left">no-input-timeout</td>
<td align="left">RECOGNIZE completed without a match due to a
            no-input-timeout</td>
</tr>
<tr>
<td align="left">003</td>
<td align="left">hotword-maxtime</td>
<td align="left">RECOGNIZE in hotword mode completed without a match due to a
            recognition-timeout</td>
</tr>
<tr>
<td align="left">004</td>
<td align="left">grammar-load-failure</td>
<td align="left">RECOGNIZE failed due grammar load failure.</td>
</tr>
<tr>
<td align="left">005</td>
<td align="left">grammar-compilation-failure</td>
<td align="left">RECOGNIZE failed due to grammar compilation failure.</td>
</tr>
<tr>
<td align="left">006</td>
<td align="left">recognizer-error</td>
<td align="left">RECOGNIZE request terminated prematurely due to a recognizer
            error.</td>
</tr>
<tr>
<td align="left">007</td>
<td align="left">speech-too-early</td>
<td align="left">RECOGNIZE request terminated because speech was too early. This
            happens when the audio stream is already "in-speech" when the
            RECOGNIZE request was received.</td>
</tr>
<tr>
<td align="left">008</td>
<td align="left">success-maxtime</td>
<td align="left">RECOGNIZE request terminated because speech was too long but
            whatever was spoken till that point was a full match.</td>
</tr>
<tr>
<td align="left">009</td>
<td align="left">uri-failure</td>
<td align="left">Failure accessing a URI.</td>
</tr>
<tr>
<td align="left">010</td>
<td align="left">language-unsupported</td>
<td align="left">Language not supported.</td>
</tr>
<tr>
<td align="left">011</td>
<td align="left">cancelled</td>
<td align="left">A new RECOGNIZE cancelled this one, or a prior RECOGNIZE failed
            while this one was still in the queue.</td>
</tr>
<tr>
<td align="left">012</td>
<td align="left">semantics-failure</td>
<td align="left">Recognition succeeded but semantic interpretation of the
            recognized input failed. The RECOGNITION-COMPLETE event MUST
            contain the Recognition result with only input text and no
            interpretation.</td>
</tr>
<tr>
<td align="left">013</td>
<td align="left">partial-match</td>
<td align="left">Speech Incomplete timeout expired before there was a full
            match. But whatever that was spoken till that point was a partial
            match to one or more grammars.</td>
</tr>
<tr>
<td align="left">014</td>
<td align="left">partial-match-maxtime</td>
<td align="left">The Recognition-Timer expired before full match was achieved.
            But whatever was spoken till that point was a partial match to one
            or more grammars.</td>
</tr>
<tr>
<td align="left">015</td>
<td align="left">no-match-maxtime</td>
<td align="left">The Recognition-Timer expired. Whatever was spoken till that
            point either did not match any of the grammars. This cause could
            also be returned if the recognizer does not support detecting
            partial grammar matches.</td>
</tr>
<tr>
<td align="left">016</td>
<td align="left">grammar-definition-failure</td>
<td align="left">any DEFINE-GRAMMAR error other than grammar-load-failure and
            grammar-compilation-failure.</td>
</tr>
</table>
<br clear="all" />

<a name="anchor69"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.12"></a><h3>9.4.12.&nbsp;
Completion Reason</h3>

<p>This header MAY be specified in a RECOGNITION-COMPLETE event
          coming from the recognizer resource to the client. This contains the
          reason text behind the RECOGNIZE request completion. The server uses
          this header to communicate text describing the reason for the
          failure, such as the specific error encountered in parsing a grammar
          markup.
</p>
<p>The completion reason text is provided for client use in logs and
          for debugging and instrumentation purposes. Clients MUST NOT
          interpret the completion reason text.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-reason        =  "Completion-Reason" ":"
                            quoted-string CRLF
</pre></div>
<a name="anchor70"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.13"></a><h3>9.4.13.&nbsp;
Recognizer Context Block</h3>

<p>This header MAY be sent as part of the <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt> request. If the <tt>GET-PARAMS</tt> method contains this header with no
          value, then it is a request to the recognizer to return the
          recognizer context block. The response to such a message MAY contain
          a recognizer context block as a typed media message body. If the
          server returns a recognizer context block, the response MUST contain
          this header and its value MUST match the Content-ID of the
          corresponding media block.
</p>
<p>If the <tt>SET-PARAMS</tt> method contains
          this header, it MUST also contain a message body containing the
          recognizer context data, and a Content-ID matching this header
          value. This Content-ID MUST match the Content-ID that came with the
          context data during the <tt>GET-PARAMS</tt>
          operation.
</p>
<p>An implementation choosing to use this mechanism to hand off
          recognizer context data between servers MUST distinguish its
          implementation-specific block of data by using an IANA-registered
          content type in the IANA Media Type vendor tree.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recognizer-context-block  =  "Recognizer-Context-Block" ":"
                             1*VCHAR CRLF
</pre></div>
<a name="sec.startInputTimers"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.14"></a><h3>9.4.14.&nbsp;
Start Input Timers</h3>

<p>This header MAY be sent as part of the RECOGNIZE request. A value
          of false tells the recognizer to start recognition, but not to start
          the no-input timer yet. The recognizer MUST NOT start the timers
          until the client sends a START-INPUT-TIMERS request to the
          recognizer. This is useful in the scenario when the recognizer and
          synthesizer engines are not part of the same session. In such
          configurations, when a kill-on-barge-in prompt is being played, the
          client wants the RECOGNIZE request to be simultaneously active so
          that it can detect and implement kill-on-barge-in. However, the
          recognizer ought not start the no-input timers until the prompt is
          finished. The default value is "true".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
start-input-timers  =  "Start-Input-Timers" ":" BOOLEAN CRLF
</pre></div>
<a name="sec.speechCompleteTimeout"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.15"></a><h3>9.4.15.&nbsp;
Speech Complete Timeout</h3>

<p>This header specifies the length of silence required following
          user speech before the speech recognizer finalizes a result (either
          accepting it or generating a nomatch event). The
          speech-complete-timeout value applies when the recognizer currently
          has a complete match against an active grammar, and specifies how
          long the recognizer MUST wait for more input before declaring a
          match. By contrast, the incomplete timeout is used when the speech
          is an incomplete match to an active grammar. The value is in
          milliseconds.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speech-complete-timeout = "Speech-Complete-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<p>A long speech-complete-timeout value delays the result to the
          client and therefore makes the application's response to a user
          slow. A short speech-complete-timeout may lead to an utterance being
          broken up inappropriately. Reasonable speech complete timeout values
          are typically in the range of 0.3 seconds to 1.0 seconds. The value
          for this header ranges from 0 to an implementation specific maximum
          value. The default value for this header is implementation specific.
          This header MAY occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>.
</p>
<a name="anchor71"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.16"></a><h3>9.4.16.&nbsp;
Speech Incomplete Timeout</h3>

<p>This header specifies the required length of silence following
          user speech after which a recognizer finalizes a result. The
          incomplete timeout applies when the speech prior to the silence is
          an incomplete match of all active grammars. In this case, once the
          timeout is triggered, the partial result is rejected (with a
          Completion-Cause of "partial-match"). The value is in milliseconds.
          The value for this header ranges from 0 to an implementation
          specific maximum value. The default value for this header is
          implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speech-incomplete-timeout = "Speech-Incomplete-Timeout" ":" 1*19DIGIT
                             CRLF
</pre></div>
<p>The speech-incomplete-timeout also applies when the speech prior
          to the silence is a complete match of an active grammar, but where
          it is possible to speak further and still match the grammar. By
          contrast, the complete timeout is used when the speech is a complete
          match to an active grammar and no further spoken words can continue
          to represent a match.
</p>
<p>A long speech-incomplete-timeout value delays the result to the
          client and therefore makes the application's response to a user
          slow. A short speech-incomplete-timeout may lead to an utterance
          being broken up inappropriately.
</p>
<p>The speech-incomplete-timeout is usually longer than the
          speech-complete-timeout to allow users to pause mid-utterance (for
          example, to breathe). This header MAY occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>.
</p>
<a name="anchor72"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.17"></a><h3>9.4.17.&nbsp;
DTMF Interdigit Timeout</h3>

<p>This header specifies the inter-digit timeout value to use when
          recognizing DTMF input. The value is in milliseconds. The value for
          this header ranges from 0 to an implementation specific maximum
          value. The default value is 5 seconds. This header MAY occur in
          RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
dtmf-interdigit-timeout = "DTMF-Interdigit-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor73"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.18"></a><h3>9.4.18.&nbsp;
DTMF Term Timeout</h3>

<p>This header specifies the terminating timeout to use when
          recognizing DTMF input. The DTMF-Term-Timeout applies only when no
          additional input is allowed by the grammar; otherwise, the
          DTMF-Interdigit-Timeout applies. The value is in milliseconds. The
          value for this header ranges from 0 to an implementation specific
          maximum value. The default value is 10 seconds. This header MAY
          occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
dtmf-term-timeout        =  "DTMF-Term-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor74"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.19"></a><h3>9.4.19.&nbsp;
DTMF-Term-Char</h3>

<p>This header specifies the terminating DTMF character for DTMF
          input recognition. The default value is NULL which is indicated by
          an empty header value. This header MAY occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
dtmf-term-char           =  "DTMF-Term-Char" ":" VCHAR CRLF
</pre></div>
<a name="anchor75"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.20"></a><h3>9.4.20.&nbsp;
Failed URI</h3>

<p>When a recognizer needs to fetch or access a URI and the access
          fails the server SHOULD provide the failed URI in this header in the
          method response, unless there are multiple URI failures, in which
          case one of the failed URIs MUST be provided in this header in the
          method response.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
failed-uri               =  "Failed-URI" ":" Uri CRLF
</pre></div>
<a name="anchor76"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.21"></a><h3>9.4.21.&nbsp;
Failed URI Cause</h3>

<p>When a recognizer method needs a recognizer to fetch or access a
          URI and the access fails the server MUST provide the URI specific or
          protocol specific response code for the URI in the Failed-URI header
          through this header in the method response. The value encoding is
          alphanumeric to accommodate all anticipated access protocols, some
          of which might have a response string instead of a numeric response
          code.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
failed-uri-cause         =  "Failed-URI-Cause" ":" 1*alphanum CRLF
</pre></div>
<a name="anchor77"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.22"></a><h3>9.4.22.&nbsp;
Save Waveform</h3>

<p>This header allows the client to request the recognizer resource
          to save the audio input to the recognizer. The recognizer resource
          MUST then attempt to record the recognized audio, without
          end-pointing, and make it available to the client in the form of a
          URI returned in the Waveform-URI header in the RECOGNITION-COMPLETE
          event. If there was an error in recording the stream or the audio
          content is otherwise not available, the recognizer MUST return an
          empty Waveform-URI header. The default value for this field is
          "false". This header MAY occur in RECOGNIZE, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
save-waveform            =  "Save-Waveform" ":" BOOLEAN CRLF
</pre></div>
<a name="sec.newAudioChannel"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.23"></a><h3>9.4.23.&nbsp;
New Audio Channel</h3>

<p>This header MAY be specified in a RECOGNIZE request and allows
          the client to tell the server that, from this point on, further
          input audio comes from a different audio source, channel or speaker.
          If the recognition resource had collected any input statistics or
          adaptation state, the recognition resource MUST do what is
          appropriate for the specific recognition technology, which includes
          but is not limited to discarding any collected input statistics or
          adaptation state before starting the RECOGNIZE request. Note that if
          there are multiple resources that are sharing a media pipe and are
          collecting or using this data, and the client issues this header to
          one of the resources, the reset operation applies to all resources
          that use the shared media stream. This helps in a number of use
          cases, including where the client wishes to reuse an open
          recognition session with an existing media session for multiple
          telephone calls.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
new-audio-channel        =  "New-Audio-Channel" ":" BOOLEAN
                            CRLF
</pre></div>
<a name="anchor78"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.24"></a><h3>9.4.24.&nbsp;
Speech-Language</h3>

<p>This header specifies the language of recognition grammar data
          within a session or request, if it is not specified within the data.
          The value of this header MUST follow <a class='info' href='#RFC4646'>RFC4646<span> (</span><span class='info'>Phillips, A. and M. Davis, &ldquo;Tags for Identifying Languages,&rdquo; September&nbsp;2006.</span><span>)</span></a> [RFC4646] for its values. This MAY occur in
          DEFINE-GRAMMAR, RECOGNIZE, <tt>SET-PARAMS</tt> or
          <tt>GET-PARAMS</tt> request.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
speech-language          =  "Speech-Language" ":" 1*VCHAR CRLF
</pre></div>
<a name="anchor79"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.25"></a><h3>9.4.25.&nbsp;
Ver-Buffer-Utterance</h3>

<p>This header lets the client request the server to buffer the
          utterance associated with this recognition request into a buffer
          available to a co-resident verification resource. The buffer is
          shared across resources within a session and is allocated when a
          verification resource is added to this session. The client MUST NOT
          send this header unless a verification resource is instantiated for
          the session. The buffer is released when the verification resource
          is released from the session.
</p>
<a name="anchor80"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.26"></a><h3>9.4.26.&nbsp;
Recognition-Mode</h3>

<p>This header specifies what mode the RECOGNIZE method will operate
          in. The value choices are "normal" or "hotword". If the value is
          "normal", the RECOGNIZE starts matching speech and DTMF to the
          grammars specified in the RECOGNIZE request. If any portion of the
          speech does not match the grammar, the RECOGNIZE command completes
          with a no-match status. Timers may be active to detect speech in the
          audio (see <a class='info' href='#sec.startInputTimers'>Section&nbsp;9.4.14<span> (</span><span class='info'>Start Input Timers</span><span>)</span></a>), so the
          RECOGNIZE method may complete because of a timeout waiting for
          speech. If the value of this header is "hotword", the RECOGNIZE
          method operates in hotword mode, where it only looks for the
          particular keywords or DTMF sequences specified in the grammar and
          ignores silence or other speech in the audio stream. The default
          value for this header is "normal". This header MAY occur on the
          RECOGNIZE method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recognition-mode         =  "Recognition-Mode" ":" 1*ALPHA CRLF
</pre></div>
<a name="anchor81"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.27"></a><h3>9.4.27.&nbsp;
Cancel-If-Queue</h3>

<p>This header specifies what will happen if the client attempts to
          invoke another RECOGNIZE method when this RECOGNIZE request is
          already in progress for the resource. The value for this header is
          Boolean. A value of "true" means the server MUST terminate this
          RECOGNIZE request, with a Completion-Cause of "cancelled", if the
          client issues another RECOGNIZE request for the same resource. A
          value of "false" for this header indicates to the server that this
          RECOGNIZE request will continue to completion and if the client
          issues more RECOGNIZE requests to the same resource, they are
          queued. When the currently active RECOGNIZE request is stopped or
          completes with a successful match, the first RECOGNIZE method in the
          queue becomes active. If the current RECOGNIZE fails, all RECOGNIZE
          methods in the pending queue are cancelled and each generates a
          RECOGNITION-COMPLETE event with a Completion-Cause of "cancelled".
          This header MUST be present in every RECOGNIZE request. There is no
          default value.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
cancel-if-queue          =  "Cancel-If-Queue" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor82"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.28"></a><h3>9.4.28.&nbsp;
Hotword-Max-Duration</h3>

<p>This header MAY be sent in a hotword mode RECOGNIZE request. It
          specifies the maximum length of an utterance (in seconds) that will
          be considered for Hotword recognition. This header, along with
          Hotword-Min-Duration, can be used to tune performance by preventing
          the recognizer from evaluating utterances that are too short or too
          long to be one of the hotwords in the grammar(s). The value is in
          milliseconds. The default is implementation dependent. If present in
          a RECOGNIZE request specifying a mode other than "hotword", the
          header is ignored.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
hotword-max-duration     =  "Hotword-Max-Duration" ":" 1*19DIGIT
                            CRLF
</pre></div>
<a name="anchor83"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.29"></a><h3>9.4.29.&nbsp;
Hotword-Min-Duration</h3>

<p>This header MAY be sent in a hotword mode RECOGNIZE request. It
          specifies the minimum length of an utterance (in seconds) that will
          be considered for Hotword recognition. This header, along with
          Hotword-Max-Duration, can be used to tune performance by preventing
          the recognizer from evaluating utterances that are too short or too
          long to be one of the hotwords in the grammar(s). The value is in
          milliseconds. The default value is implementation dependent. If
          present in a RECOGNIZE request specifying a mode other than
          "hotword", the header is ignored.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
hotword-min-duration     =  "Hotword-Min-Duration" ":" 1*19DIGIT CRLF
</pre></div>
<a name="sec.interpretText"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.30"></a><h3>9.4.30.&nbsp;
Interpret-Text</h3>

<p>The value of this header is used to provide a pointer to the text
          for which a natural language interpretation is desired. The value is
          either a URI or text. If the value is a URI, it MUST be a Content-ID
          that refers to an entity of type plain/text in the body of the
          message. Otherwise, the server MUST treat the value as the text to
          be interpreted. This header MUST be used when invoking the INTERPRET
          method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
interpret-text           =  "Interpret-Text" ":" 1*VCHAR CRLF
</pre></div>
<a name="anchor84"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.31"></a><h3>9.4.31.&nbsp;
DTMF-Buffer-Time</h3>

<p>This header MAY be specified in a GET-PARAMS or SET-PARAMS method
          and is used to specify the size in time, in milliseconds, of the
          typeahead buffer for the recognizer. This is the buffer that
          collects DTMF digits as they are pressed even when there is no
          RECOGNIZE command active. When a subsequent RECOGNIZE method is
          received it MAY look to this buffer to match the RECOGNIZE request.
          If the digits in the buffer is not sufficient then it can continue
          to listen to more digits to match the grammar. The default size of
          this DTMF buffer is platform specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
dtmf-buffer-time  =  "DTMF-Buffer-Time" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor85"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.32"></a><h3>9.4.32.&nbsp;
Clear-DTMF-Buffer</h3>

<p>This header MAY be specified in a RECOGNIZE method and is used to
          tell the recognizer to clear the DTMF type-ahead buffer before
          starting the recognize. The default value of this header is FALSE,
          which does not clear the typeahead buffer before starting the
          RECOGNIZE method. If this header is specified to be TRUE, then the
          recognize will clear the DTMF buffer before starting recognition.
          This means digits pressed by the caller before the RECOGNIZE command
          was issued are discarded.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
clear-dtmf-buffer  = "Clear-DTMF-Buffer" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor86"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.33"></a><h3>9.4.33.&nbsp;
Early-No-Match</h3>

<p>This header MAY be specified in a RECOGNIZE method and is used to
          tell the recognizer that it MUST not wait for the end of speech
          before processing the collected speech to match active grammars. A
          value of TRUE indicates the recognizer MUST do early matching. The
          default value for this header if not specified is FALSE. If the
          recognizer does not support the processing of the collected audio
          before the end of speech this header field can be safely
          ignored.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
early-no-match  = "Early-No-Match" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor87"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.34"></a><h3>9.4.34.&nbsp;
Num-Min-Consistent-Pronunciations</h3>

<p>This header MAY be specified in a START-PHRASE-ENROLLMENT, <tt>SET-PARAMS</tt>, or <tt>GET-PARAMS</tt> method and is used to specify the
          minimum number of consistent pronunciations that must be obtained to
          voice enroll a new phrase. The minimum value is 1. The default value
          is implementation specific and MAY be greater than 1.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
num-min-consistent-pronunciations  =
              "Num-Min-Consistent-Pronunciations" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor88"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.35"></a><h3>9.4.35.&nbsp;
Consistency-Threshold</h3>

<p>This header MAY be sent as part of the START-PHRASE-ENROLLMENT,
          <tt>SET-PARAMS</tt>, or <tt>GET-PARAMS</tt> method. Used during
          voice-enrollment, this header specifies how similar to a previously
          enrolled pronunciation of the same phrase an utterance needs to be
          in order to be considered "consistent." The higher the threshold,
          the closer the match between an utterance and previous
          pronunciations must be for the pronunciation to be considered
          consistent. The range for this threshold is a float value between is
          0.0 to 1.0. The default value for this header is implementation
          specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
consistency-threshold    =  "Consistency-Threshold" ":" FLOAT CRLF
</pre></div>
<a name="anchor89"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.36"></a><h3>9.4.36.&nbsp;
Clash-Threshold</h3>

<p>This header MAY be sent as part of the START-PHRASE-ENROLLMENT,
          SET-PARAMS, or <tt>GET-PARAMS</tt> method. Used
          during voice-enrollment, this header specifies how similar the
          pronunciations of two different phrases can be before they are
          considered to be clashing. For example, pronunciations of phrases
          such as "John Smith" and "Jon Smits" may be so similar that they are
          difficult to distinguish correctly. A smaller threshold reduces the
          number of clashes detected. The range for this threshold is float
          value between 0.0 and 1.0. The default value for this header is
          implementation specific. Clash testing can be turned off completely
          by setting the Clash-Threshold header value to 0.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
clash-threshold          =  "Clash-Threshold" ":" FLOAT CRLF
</pre></div>
<a name="anchor90"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.37"></a><h3>9.4.37.&nbsp;
Personal-Grammar-URI</h3>

<p>This header specifies the speaker-trained grammar to be used or
          referenced during enrollment operations. Phrases are added to this
          grammar during enrollment. For example, a contact list for user
          "Jeff" could be stored at the Personal-Grammar-URI
          "http://myserver.example.com/myenrollmentdb/jeff-list". The
          generated grammar syntax MAY be implementation specific. There is no
          default value for this header. This header MAY be sent as part of
          the START-PHRASE-ENROLLMENT, SET-PARAMS, or <tt>GET-PARAMS</tt> method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
personal-grammar-uri     =  "Personal-Grammar-URI" ":" Uri CRLF
</pre></div>
<a name="anchor91"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.38"></a><h3>9.4.38.&nbsp;
Enroll-Utterance</h3>

<p>This header MAY be specified in the RECOGNIZE method. If this
          header is set to "true" and an Enrollment is active, the RECOGNIZE
          command MUST add the collected utterance to the personal grammar
          that is being enrolled. The way in which this occurs is
          engine-specific and may be an area of future standardization. The
          default value for this header is "false".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
enroll-utterance     =  "Enroll-Utterance" ":" boolean-Value CRLF
</pre></div>
<a name="sec.phraseID"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.39"></a><h3>9.4.39.&nbsp;
Phrase-Id</h3>

<p>This header in a request identifies a phrase in an existing
          personal grammar for which enrollment is desired. It is also
          returned to the client in the RECOGNIZE complete event. This header
          MAY occur in START-PHRASE-ENROLLMENT, MODIFY-PHRASE or DELETE-PHRASE
          requests. There is no default value for this header.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
phrase-id                =  "Phrase-ID" ":" 1*VCHAR CRLF
</pre></div>
<a name="anchor92"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.40"></a><h3>9.4.40.&nbsp;
Phrase-NL</h3>

<p>This string specifies the interpreted text to be returned when
          the phrase is recognized. This header MAY occur in
          START-PHRASE-ENROLLMENT and MODIFY-PHRASE requests. There is no
          default value for this header.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
phrase-nl                =  "Phrase-NL" ":" 1*UTFCHAR CRLF
</pre></div>
<a name="anchor93"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.41"></a><h3>9.4.41.&nbsp;
Weight</h3>

<p>The value of this header represents the occurrence likelihood of
          a phrase in an enrolled grammar. When using grammar enrollment, the
          system is essentially constructing a grammar segment consisting of a
          list of possible match phrases. This can be thought of to be similar
          to the dynamic construction of a &lt;one-of&gt; tag in the W3C
          grammar specification. Each enrolled-phrase becomes an item in the
          list that can be matched against spoken input similar to the
          &lt;item&gt; within a &lt;one-of&gt; list. This header allows you to
          assign a weight to the phrase (i.e., &lt;item&gt; entry) in the
          &lt;one-of&gt; list that is enrolled. Grammar weights are normalized
          to a sum of one at grammar compilation time, so a weight value of 1
          for each phrase in an enrolled grammar list indicates all items in
          that list have the same weight. This header MAY occur in
          START-PHRASE-ENROLLMENT and MODIFY-PHRASE requests. The default
          value for this header is implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
weight                   =  "Weight" ":" weight-value CRLF
weight-value             =  FLOAT
</pre></div>
<a name="anchor94"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.42"></a><h3>9.4.42.&nbsp;
Save-Best-Waveform</h3>

<p>This header allows the client to request the recognizer resource
          to save the audio stream for the best repetition of the phrase that
          was used during the enrollment session. The recognizer MUST attempt
          to record the recognized audio and make it available to the client
          in the form of a URI returned in the Waveform-URI header in the
          response to the END-PHRASE-ENROLLMENT method. If there was an error
          in recording the stream or the audio data is otherwise not
          available, the recognizer MUST return an empty Waveform-URI header.
          This header MAY occur in the START-PHRASE-ENROLLMENT, SET-PARAMS,
          and GET-PARAMS methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
save-best-waveform  =  "Save-Best-Waveform" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor95"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.43"></a><h3>9.4.43.&nbsp;
New-Phrase-Id</h3>

<p>This header replaces the id used to identify the phrase in a
          personal grammar. The recognizer returns the new id when using an
          enrollment grammar. This header MAY occur in MODIFY-PHRASE
          requests.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
new-phrase-id            =  "New-Phrase-ID" ":" 1*VCHAR CRLF
</pre></div>
<a name="anchor96"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.44"></a><h3>9.4.44.&nbsp;
Confusable-Phrases-URI</h3>

<p>This header specifies a grammar that defines invalid phrases for
          enrollment. For example, typical applications do not allow an
          enrolled phrase that is also a command word. This header MAY occur
          in RECOGNIZE requests that are part of an enrollment session.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
confusable-phrases-uri   =  "Confusable-Phrases-URI" ":" Uri CRLF
</pre></div>
<a name="anchor97"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4.45"></a><h3>9.4.45.&nbsp;
Abort-Phrase-Enrollment</h3>

<p>This header can optionally be specified in the
          END-PHRASE-ENROLLMENT method to abort the phrase enrollment, rather
          than committing the phrase to the personal grammar.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
abort-phrase-enrollment  =  "Abort-Phrase-Enrollment" ":"
                            BOOLEAN CRLF
</pre></div>
<a name="sec.recMessageBody"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.5"></a><h3>9.5.&nbsp;
Recognizer Message Body</h3>

<p>A recognizer message may carry additional data associated with the
        request, response or event. The client may provide the grammar to be
        recognized in DEFINE-GRAMMAR or RECOGNIZE requests. When one or more
        grammars are specified using the DEFINE-GRAMMAR method, the server
        MUST attempt to fetch, compile and optimize the grammar before
        returning a response to the DEFINE-GRAMMAR method. A RECOGNIZE request
        MUST completely specify the grammars to be active during the
        recognition operation, except when the RECOGNIZE method is being used
        to enroll a grammar. During grammar enrollment, such grammars are
        optional. The server resource may send the recognition results in the
        RECOGNITION-COMPLETE event or the GET-RESULT response. Grammars and
        recognition results are carried in the message body of the
        corresponding MRCPv2 messages.
</p>
<a name="sec.grammarData"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.5.1"></a><h3>9.5.1.&nbsp;
Recognizer Grammar Data</h3>

<p>Recognizer grammar data from the client to the server can be
          provided inline or by reference. Either way, grammar data is carried
          as typed media entities in the message body of the RECOGNIZE or
          DEFINE-GRAMMAR request. All MRCPv2 servers MUST accept grammars in
          the XML form (Media Type application/srgs+xml) of the W3C's
          XML-based <a class='info' href='#W3C.REC-speech-grammar-20040316'>Speech
          Grammar Markup Format (SRGS)<span> (</span><span class='info'>McGlashan, S. and A. Hunt, &ldquo;Speech Recognition Grammar Specification Version 1.0,&rdquo; March&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;speech&#8209;grammar&#8209;20040316] and MAY accept grammars in other
          formats. Examples include but are not limited to:</p>
<ul class="text">
<li>the ABNF form (Media Type application/srgs) of SRGS
</li>
<li>Sun's <a class='info' href='#refs.javaSpeechGrammarFormat'>Java Speech
              Grammar Format<span> (</span><span class='info'>Sun Microsystems, &ldquo;Java Speech Grammar Format Version 1.0,&rdquo; October&nbsp;1998.</span><span>)</span></a> [refs.javaSpeechGrammarFormat]
</li>
</ul><p>Additionally, MRCPv2 servers MAY support the <a class='info' href='#W3C.REC-semantic-interpretation-20070405'>Semantic
          Interpretation for Speech Recognition (SISR)<span> (</span><span class='info'>Tichelen, L. and D. Burke, &ldquo;Semantic Interpretation for Speech Recognition (SISR) Version           1.0,&rdquo; April&nbsp;2007.</span><span>)</span></a> [W3C.REC&#8209;semantic&#8209;interpretation&#8209;20070405]
          specification.
</p>
<p>When a grammar is specified inline in the request, the client
          MUST provide a Content-ID for that grammar as part of the content
          headers. If there is no space on the server to store the inline
          grammar, the request MUST return with a Completion-Cause code of 016
          grammar-definition-failure. Otherwise, the server MUST associate the
          inline grammar block with that Content-ID and MUST store it on the
          server for the duration of the session. However, if the Content-ID
          is redefined later in the session through a subsequent
          DEFINE-GRAMMAR, the inline grammar previously associated with the
          Content-ID MUST be freed. If the Content-ID is redefined through a
          subsequent DEFINE-GRAMMAR with an empty message body (i.e. no
          grammar definition), then in addition to freeing any grammar
          previously associated with the Content-ID the server MUST clear all
          bindings and associations to the Content-ID. Unless and until
          subsequently redefined, this URI MUST be interpreted by the server
          as one that has never been set.
</p>
<p>Grammars that have been associated with a Content-ID can be
          referenced through the "<tt>session:</tt>" URI
          scheme (see <a class='info' href='#sec.sessionURIScheme'>Section&nbsp;13.6<span> (</span><span class='info'>session URL scheme registration</span><span>)</span></a>). For
          example:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>session:help@root-level.store
</pre></div>
<p>Grammar data MAY be specified using external URI references. To
          do so, the client uses a body of Media Type text/uri-list to list
          the one or more URIs that point to the grammar data. The client can
          use a body of Media Type text/grammar-ref-list if it wants to assign
          weights to the list of grammar URI. All MRCPv2 servers MUST support
          grammar access using the HTTP and HTTPS uri schemes.
</p>
<p>If the grammar data the client wishes to be used on a request
          consists of a mix of URI and inline grammar data the client uses the
          multipart/mixed Media Type to enclose the text/uri-list,
          application/srgs or application/srgs+xml content entities. The
          character set and encoding used in the grammar data are specified
          using to standard Media Type definitions.
</p>
<p>When more than one grammar URI or inline grammar block is
          specified in a message body of the RECOGNIZE request, the server
          interprets this as a list of grammar alternatives to match
          against.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:application/srgs+xml
Content-ID:&lt;request1@form-level.store&gt;
Content-Length:1118

&lt;?xml version="1.0"?&gt;

&lt;!-- the default grammar language is US English --&gt;
&lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
         xml:lang="en-US" version="1.0" root="request"&gt;

&lt;!-- single language attachment to tokens --&gt;
      &lt;rule id="yes"&gt;
            &lt;one-of&gt;
                  &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                  &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

&lt;!-- single language attachment to a rule expansion --&gt;
      &lt;rule id="request"&gt;
            may I speak to
            &lt;one-of xml:lang="fr-CA"&gt;
                  &lt;item&gt;Michel Tremblay&lt;/item&gt;
                  &lt;item&gt;Andre Roy&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

      &lt;!-- multiple language attachment to a token --&gt;
      &lt;rule id="people1"&gt;
            &lt;token lexicon="en-US,fr-CA"&gt; Robert &lt;/token&gt;
      &lt;/rule&gt;

      &lt;!-- the equivalent single-language attachment expansion --&gt;
      &lt;rule id="people2"&gt;
            &lt;one-of&gt;
                  &lt;item xml:lang="en-US"&gt;Robert&lt;/item&gt;
                  &lt;item xml:lang="fr-CA"&gt;Robert&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

      &lt;/grammar&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;SRGS Grammar Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:text/uri-list
Content-Length:200

session:help@root-level.store
http://www.example.com/Directory-Name-List.grxml
http://www.example.com/Department-List.grxml
http://www.example.com/TAC-Contact-List.grxml
session:menu1@menu-level.store
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Grammar Reference Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:multipart/mixed; boundary="break"

--break
Content-Type:text/uri-list
Content-Length:141

http://www.example.com/Directory-Name-List.grxml
http://www.example.com/Department-List.grxml
http://www.example.com/TAC-Contact-List.grxml

--break
Content-Type:application/srgs+xml
Content-ID:&lt;request1@form-level.store&gt;
Content-Length:1104

&lt;?xml version="1.0"?&gt;

&lt;!-- the default grammar language is US English --&gt;
&lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
         xml:lang="en-US" version="1.0"&gt;

&lt;!-- single language attachment to tokens --&gt;
      &lt;rule id="yes"&gt;
            &lt;one-of&gt;
                  &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                  &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

&lt;!-- single language attachment to a rule expansion --&gt;
      &lt;rule id="request"&gt;
            may I speak to
            &lt;one-of xml:lang="fr-CA"&gt;
                  &lt;item&gt;Michel Tremblay&lt;/item&gt;
                  &lt;item&gt;Andre Roy&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

      &lt;!-- multiple language attachment to a token --&gt;
      &lt;rule id="people1"&gt;
            &lt;token lexicon="en-US,fr-CA"&gt; Robert &lt;/token&gt;
      &lt;/rule&gt;

      &lt;!-- the equivalent single-language attachment expansion --&gt;
      &lt;rule id="people2"&gt;
            &lt;one-of&gt;
                  &lt;item xml:lang="en-US"&gt;Robert&lt;/item&gt;
                  &lt;item xml:lang="fr-CA"&gt;Robert&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

      &lt;/grammar&gt;
--break--
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Mixed Grammar Reference Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor98"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.5.2"></a><h3>9.5.2.&nbsp;
Recognizer Result Data</h3>

<p>Recognition results are returned to the client in the message
          body of the RECOGNITION-COMPLETE event or the GET-RESULT response
          message as described in <a class='info' href='#sec.result'>Section&nbsp;6.3<span> (</span><span class='info'>Generic Result Structure</span><span>)</span></a>). Element
          and attribute descriptions for the recognition portion of the NLSML
          format are provided in <a class='info' href='#sec.recognizerResults'>Section&nbsp;9.6<span> (</span><span class='info'>Recognizer Results</span><span>)</span></a>
          with a normative definition of the schema in <a class='info' href='#sec.schema.NLSML'>Section&nbsp;16.1<span> (</span><span class='info'>NLSML Schema Definition</span><span>)</span></a>.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Content-Type:application/nlsml+xml
Content-Length:328

&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns:ex="http://www.example.com/example"
        grammar="http://theYesNoGrammar"&gt;
    &lt;interpretation&gt;
        &lt;instance&gt;
                &lt;ex:response&gt;yes&lt;/ex:response&gt;
        &lt;/instance&gt;
        &lt;input&gt;ok&lt;/input&gt;
    &lt;/interpretation&gt;
&lt;/result&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Result Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor99"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.5.3"></a><h3>9.5.3.&nbsp;
Enrollment Result Data</h3>

<p>Enrollment results are returned to the client in the message body
          of the RECOGNITION-COMPLETE event as described in <a class='info' href='#sec.result'>Section&nbsp;6.3<span> (</span><span class='info'>Generic Result Structure</span><span>)</span></a>). Element and attribute descriptions for
          the enrollment portion of the NLSML format are provided in <a class='info' href='#sec.enrollmentResults'>Section&nbsp;9.7<span> (</span><span class='info'>Enrollment Results</span><span>)</span></a> with a normative definition
          of the schema in <a class='info' href='#sec.enrollmentResultsSchema'>Section&nbsp;16.2<span> (</span><span class='info'>Enrollment Results Schema Definition</span><span>)</span></a>.
</p>
<a name="anchor100"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.5.4"></a><h3>9.5.4.&nbsp;
Recognizer Context Block</h3>

<p>When a client changes servers while operating on the behalf of
          the same incoming communication session, this header allows the
          client to collect a block of opaque data from one server and provide
          it to another server. This capability is desirable if the client
          needs different language support or because the server issued a
          redirect. Here the first recognizer resource may have collected
          acoustic and other data during its execution of recognition methods.
          After a server switch, communicating this data may allow the
          recognition resource on the new server to provide better
          recognition. This block of data is implementation-specific and MUST
          be carried as Media Type application/octets in the body of the
          message.
</p>
<p>This block of data is communicated in the <tt>SET-PARAMS</tt> and <tt>GET-PARAMS</tt> method/response messages. In the
          <tt>GET-PARAMS</tt> method, if an empty
          recognizer-context-block header is present, then the recognizer
          SHOULD return its vendor-specific context block, if any, in the
          message body as an entity of Media Type application/octets with a
          specific Content-ID. The Content-ID value MUST also be specified in
          the recognizer-context-block header in the <tt>GET-PARAMS</tt> response. The <tt>SET-PARAMS</tt> request wishing to provide this
          vendor-specific data MUST send it in the message body as a typed
          entity with the same Content-ID that it received from the <tt>GET-PARAMS</tt>. The Content-ID MUST also be sent in
          the recognizer-context-block header of the <tt>SET-PARAMS</tt> message.
</p>
<p>Each speech recognition implementation choosing to use this
          mechanism to hand off recognizer context data among servers MUST
          distinguish its implementation-specific block of data from other
          implementations by choosing a Content-ID that is recognizable among
          the participating servers and unlikely to collide with values chosen
          by another implementation.
</p>
<a name="sec.recognizerResults"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6"></a><h3>9.6.&nbsp;
Recognizer Results</h3>

<p>The recognizer portion of NLSML (see <a class='info' href='#sec.NLSML'>Section&nbsp;6.3.1<span> (</span><span class='info'>Natural Language Semantics Markup Language</span><span>)</span></a>) represents information automatically
        extracted from a user's utterances by a semantic interpretation
        component, where "utterance" is to be taken in the general sense of a
        meaningful user input in any modality supported by the MRCPv2
        implementation.
</p>
<a name="anchor101"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.1"></a><h3>9.6.1.&nbsp;
Markup Functions</h3>

<p>MRCPv2 recognition resources employ the Natural Language
          Semantics Markup Language to interpret natural language speech input
          and to format the interpretation for consumption by an MRCPv2
          client.
</p>
<p>The elements of the markup fall into the following general
          functional categories: Interpretation, Side Information, and
          Multi-Modal Integration.
</p>
<a name="anchor102"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.1.1"></a><h3>9.6.1.1.&nbsp;
Interpretation</h3>

<p>Elements and attributes represent the semantics of a user's
            utterance, including the &lt;result&gt;, &lt;interpretation&gt;,
            and &lt;instance&gt; elements. The &lt;result&gt; element contains
            the full result of processing one utterance. It may contain
            multiple &lt;interpretation&gt; elements if the interpretation of
            the utterance results in multiple alternative meanings due to
            uncertainty in speech recognition or natural language
            understanding. There are at least two reasons for providing
            multiple interpretations: </p>
<ol class="text">
<li>the client application might have additional information,
                for example, information from a database, that would allow it
                to select a preferred interpretation from among the possible
                interpretations returned from the semantic interpreter.
</li>
<li>a client-based dialog manager (e.g. VXML) that was unable
                to select between several competing interpretations could use
                this information to go back to the user and find out what was
                intended. For example, it could issue a <tt>SPEAK</tt> request to a synthesizer resource
                to emit "Did you say 'Boston' or 'Austin'?"
</li>
</ol>

<a name="anchor103"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.1.2"></a><h3>9.6.1.2.&nbsp;
Side Information</h3>

<p>These are elements and attributes representing additional
            information about the interpretation, over and above the
            interpretation itself. Side information includes: </p>
<ol class="text">
<li>Whether an interpretation was achieved (the &lt;nomatch&gt;
                element) and the system's confidence in an interpretation (the
                "confidence" attribute of &lt;interpretation&gt;).
</li>
<li>Alternative interpretations (&lt;interpretation&gt;)
</li>
<li>Input formats and ASR information: the &lt;input&gt;
                element, representing the input to the semantic
                interpreter.
</li>
</ol>

<a name="anchor104"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.1.3"></a><h3>9.6.1.3.&nbsp;
Multi-Modal Integration</h3>

<p>When more than one modality is available for input, the
            interpretation of the inputs need to be coordinated. The "mode"
            attribute of &lt;input&gt; supports this by indicating whether the
            utterance was input by speech, dtmf, pointing, etc. The
            "timestamp_start" and "timestamp_end" attributes of
            &lt;interpretation&gt; also provide for temporal coordination by
            indicating when inputs occurred.
</p>
<a name="anchor105"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.2"></a><h3>9.6.2.&nbsp;
Overview of Recognizer Result Elements and their Relationships</h3>

<p>The recognizer elements in NLSML fall into two categories: </p>
<ol class="text">
<li>description of the input that was processed.
</li>
<li>description of the meaning which was extracted from the
              input.
</li>
</ol><p> Next to each element are its attributes. In addition, some
          elements can contain multiple instances of other elements. For
          example, a &lt;result&gt; can contain multiple
          &lt;interpretations&gt;, each of which is taken to be an
          alternative. Similarly, &lt;input&gt; can contain multiple child
          &lt;input&gt; elements which are taken to be cumulative. To
          illustrate the basic usage of these elements, as a simple example,
          consider the utterance "ok" (interpreted as "yes"). The example
          illustrates how that utterance and its interpretation would be
          represented in the NL Semantics markup.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns:ex="http://www.example.com/example"
        grammar="http://theYesNoGrammar"&gt;
  &lt;interpretation&gt;
     &lt;instance&gt;
        &lt;ex:response&gt;yes&lt;/ex:response&gt;
      &lt;/instance&gt;
    &lt;input&gt;ok&lt;/input&gt;
  &lt;/interpretation&gt;
&lt;/result&gt;
</pre></div>
<p>This example includes only the minimum required information.
          There is an overall &lt;result&gt; element which includes one
          interpretation and an input element. The interpretation contains the
          application-specific element "&lt;response&gt;" which is the
          semantically interpreted result.
</p>
<a name="anchor106"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.3"></a><h3>9.6.3.&nbsp;
Elements and Attributes</h3>

<a name="anchor107"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.3.1"></a><h3>9.6.3.1.&nbsp;
RESULT Root Element</h3>

<p>The root element of the markup is &lt;result&gt;. The
            &lt;result&gt; element includes one or more &lt;interpretation&gt;
            elements. Multiple interpretations can result from ambiguities in
            the input or in the semantic interpretation. If the "grammar"
            attribute does not apply to all of the interpretations in the
            result it can be overridden for individual interpretations at the
            &lt;interpretation&gt; level.
</p>
<p>Attributes: </p>
<ol class="text">
<li>grammar: The grammar or recognition rule matched by this
                result. The format of the grammar attribute will match the
                rule reference semantics defined in the grammar specification.
                Specifically, the rule reference is in the external XML form
                for grammar rule references. The markup interpreter needs to
                know the grammar rule that is matched by the utterance because
                multiple rules may be simultaneously active. The value is the
                grammar URI used by the markup interpreter to specify the
                grammar. The grammar can be overridden by a grammar attribute
                in the &lt;interpretation&gt; element if the input was
                ambiguous as to which grammar it matched. If all
                interpretation elements within the result element contain
                carry their own grammar attributes, the attribute can be
                dropped from the result element.
</li>
</ol>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        grammar="http://grammar"&gt;
  &lt;interpretation&gt;
   ....
  &lt;/interpretation&gt;
&lt;/result&gt;
</pre></div>
<a name="anchor108"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.3.2"></a><h3>9.6.3.2.&nbsp;
INTERPRETATION Element</h3>

<p>An &lt;interpretation&gt; element contains a single semantic
            interpretation.
</p>
<p>Attributes: </p>
<ol class="text">
<li>confidence: A float value from 0.0-1.0 indicating the
                semantic analyzer's confidence in this interpretation. A value
                of 1.0 indicates maximum confidence. The values are
                implementation-dependent, but are intended to align with the
                value interpretation for the confidence MRCPv2 header defined
                in <a class='info' href='#sec.confidenceThreshold'>Section&nbsp;9.4.1<span> (</span><span class='info'>Confidence Threshold</span><span>)</span></a>. This
                attribute is optional.
</li>
<li>grammar: The grammar or recognition rule matched by this
                interpretation (if needed to override the grammar
                specification at the &lt;interpretation&gt; level.) This
                attribute is only needed under &lt;interpretation&gt; if it is
                necessary to override a grammar that was defined at the
                &lt;result&gt; level.) Note that the grammar attribute for the
                interpretation element is OPTIONAL if and only if the grammar
                attribute is specified in the result element.
</li>
</ol>

<p>Interpretations MUST be sorted best-first by some measure of
            "goodness". The goodness measure is "confidence" if present,
            otherwise, it is some implementation-specific indication of
            quality.
</p>
<p>The grammar is expected to be specified most frequently at the
            &lt;result&gt; level. However, it can be overridden at the
            &lt;interpretation&gt; level because it is possible that different
            interpretations may match different grammar rules.
</p>
<p>The &lt;interpretation&gt; element includes an optional
            &lt;input&gt; element which contains the input being analyzed, and
            an &lt;instance&gt; element containing the interpretation of the
            utterance.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;interpretation confidence="0.75" grammar="http://grammar"&gt;
    ...
&lt;/interpretation&gt;
</pre></div>
<a name="anchor109"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.3.3"></a><h3>9.6.3.3.&nbsp;
INSTANCE Element</h3>

<p>The &lt;instance&gt; element contains the interpretation of the
            utterance. When the Semantic Interpretation for Speech Recognition
            format is used, the &lt;instance&gt; element contains the XML
            serialization of the ECMAScript result using the approach defined
            in that specification. When there is semantic markup in the
            grammar that does not create semantic objects, but instead only
            does a semantic translation of a portion of the input, such as
            translating "coke" to "coca-cola", the instance contains the whole
            input but with the translation applied. The NLSML looks like the
            markup in <a class='info' href='#fig.nslmlExample2'>Figure&nbsp;2<span> (</span><span class='info'>NSLML Example</span><span>)</span></a> below. If there
            are no semantic objects created, nor any semantic translation the
            instance value is the same as the input value.
</p>
<p>Attributes: </p>
<ol class="text">
<li>confidence: Each element of the instance may have a
                confidence attribute, defined in the NL semantics namespace.
                The confidence attribute contains an float value in the range
                from 0.0-1.0 reflecting the system's confidence in the
                analysis of that slot. A value of 1.0 indicates maximum
                confidence. The values are implementation-dependent, but are
                intended to align with the value interpretation for the
                confidence MRCPv2 header defined in <a class='info' href='#sec.confidenceThreshold'>Section&nbsp;9.4.1<span> (</span><span class='info'>Confidence Threshold</span><span>)</span></a>. This attribute is
                optional.
</li>
</ol>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;instance&gt;
  &lt;nameAddress&gt;
      &lt;street confidence="75"&gt;123 Maple Street&lt;/street&gt;
      &lt;city&gt;Mill Valley&lt;/city&gt;
      &lt;state&gt;CA&lt;/state&gt;
      &lt;zip&gt;90952&lt;/zip&gt;
  &lt;/nameAddress&gt;
&lt;/instance&gt;
&lt;input&gt;
  My address is 123 Maple Street,
  Mill Valley, California, 90952
&lt;/input&gt;
</pre></div><br /><hr class="insert" />
<a name="fig.nslmlExample2"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;instance&gt;
    I would like to buy a coca-cola
&lt;/instance&gt;
&lt;input&gt;
  I would like to buy a coke
&lt;/input&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: NSLML Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor110"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.3.4"></a><h3>9.6.3.4.&nbsp;
INPUT Element</h3>

<p>The &lt;input&gt; element is the text representation of a
            user's input. It includes an optional "confidence" attribute which
            indicates the recognizer's confidence in the recognition result
            (as opposed to the confidence in the interpretation, which is
            indicated by the "confidence" attribute of
            &lt;interpretation&gt;). Optional "timestamp-start" and
            "timestamp-end" attributes indicate the start and end times of a
            spoken utterance, in ISO 8601 format.
</p>
<p>Attributes: </p>
<ol class="text">
<li>timestamp-start: The time at which the input began.
                (optional)
</li>
<li>timestamp-end: The time at which the input ended.
                (optional)
</li>
<li>mode: The modality of the input, for example, speech, dtmf,
                etc. (optional)
</li>
<li>confidence: the confidence of the recognizer in the
                correctness of the input in the range 0.0 to 1.0
                (optional)
</li>
</ol><p>Note that it may not make sense for temporally
            overlapping inputs to have the same mode; however, this constraint
            is not expected to be enforced by implementations.
</p>
<p>When there is no time zone designator, ISO 8601 time
            representations default to local time.
</p>
<p>There are three possible formats for the &lt;input&gt; element.
            </p>
<ol class="text">
<li>The &lt;input&gt; element can contain simple text: <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;input&gt;onions&lt;/input&gt;</pre></div>A future possibility is for &lt;input&gt; to
                contain not only text but additional markup that represents
                prosodic information that was contained in the original
                utterance and extracted by the speech recognizer. This depends
                on the availability of ASR's that are capable of producing
                prosodic information. MRCPv2 clients MUST be prepared to
                receive such markup and MAY make use of it.
</li>
<li>An &lt;input&gt; tag can also contain additional
                &lt;input&gt; tags. Having additional input elements allows
                the representation to support future multi-modal inputs as
                well as finer-grained speech information, such as timestamps
                for individual words and word-level confidences. <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;input&gt;
     &lt;input mode="speech" confidence="0.5"
         timestamp-start="2000-04-03T0:00:00"
         timestamp-end="2000-04-03T0:00:00.2"&gt;fried&lt;/input&gt;
     &lt;input mode="speech" confidence="1.0"
         timestamp-start="2000-04-03T0:00:00.25"
         timestamp-end="2000-04-03T0:00:00.6"&gt;onions&lt;/input&gt;
&lt;/input&gt;</pre></div>
</li>
<li>Finally, the &lt;input&gt; element can contain
                &lt;nomatch&gt; and &lt;noinput&gt; elements, which describe
                situations in which the speech recognizer received input that
                it was unable to process, or did not receive any input at all,
                respectively.
</li>
</ol>

<a name="anchor111"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.3.5"></a><h3>9.6.3.5.&nbsp;
NOMATCH Element</h3>

<p>The &lt;nomatch&gt; element under &lt;input&gt; is used to
            indicate that the semantic interpreter was unable to successfully
            match any input with confidence above the threshold. It can
            optionally contain the text of the best of the (rejected)
            matches.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;interpretation&gt;
   &lt;instance/&gt;
      &lt;input confidence="0.1"&gt;
         &lt;nomatch/&gt;
      &lt;/input&gt;
&lt;/interpretation&gt;
&lt;interpretation&gt;
   &lt;instance/&gt;
   &lt;input mode="speech" confidence="0.1"&gt;
     &lt;nomatch&gt;I want to go to New York&lt;/nomatch&gt;
   &lt;/input&gt;
&lt;/interpretation&gt;
</pre></div>
<a name="anchor112"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6.3.6"></a><h3>9.6.3.6.&nbsp;
NOINPUT Element</h3>

<p>&lt;noinput&gt; indicates that there was no input - a timeout
            occurred in the speech recognizer due to silence.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;interpretation&gt;
   &lt;instance/&gt;
   &lt;input&gt;
      &lt;noinput/&gt;
   &lt;/input&gt;
&lt;/interpretation&gt;</pre></div>
<p>If there are multiple levels of inputs, the most natural place
            for &lt;nomatch&gt; and &lt;noinput&gt; elements to appear is
            under the highest level of &lt;input&gt; for &lt;no input&gt;, and
            under the appropriate level of &lt;interpretation&gt; for
            &lt;nomatch&gt;. So &lt;noinput&gt; means "no input at all" and
            &lt;nomatch&gt; means "no match in speech modality" or "no match
            in dtmf modality". For example, to represent garbled speech
            combined with dtmf "1 2 3 4", the markup would be:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;input&gt;
   &lt;input mode="speech"&gt;&lt;nomatch/&gt;&lt;/input&gt;
   &lt;input mode="dtmf"&gt;1 2 3 4&lt;/input&gt;
&lt;/input&gt;</pre></div>
<p>Note: while &lt;noinput&gt; could be represented as an
            attribute of input, &lt;nomatch&gt; cannot, since it could
            potentially include PCDATA content with the best match. For
            parallelism, &lt;noinput&gt; is also an element.
</p>
<a name="sec.enrollmentResults"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7"></a><h3>9.7.&nbsp;
Enrollment Results</h3>

<p>All enrollment elements are contained within a single
        &lt;enrollment-result&gt; element under &lt;result&gt;. The elements
        are described below and have the schema defined in <a class='info' href='#sec.enrollmentResultsSchema'>Section&nbsp;16.2<span> (</span><span class='info'>Enrollment Results Schema Definition</span><span>)</span></a>. The following elements
        are defined:
</p>
<p></p>
<ol class="text">
<li>num-clashes
</li>
<li>num-good-repetitions
</li>
<li>num-repetitions-still-needed
</li>
<li>consistency-status
</li>
<li>clash-phrase-ids
</li>
<li>transcriptions
</li>
<li>confusable-phrases
</li>
</ol>

<a name="anchor113"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7.1"></a><h3>9.7.1.&nbsp;
NUM-CLASHES Element</h3>

<p>The &lt;num-clashes&gt; element contains the number of clashes
          that this pronunciation has with other pronunciations in an active
          enrollment session. The associated Clash-Threshold header determines
          the sensitivity of the clash measurement. Note that clash testing
          can be turned off completely by setting the Clash-Threshold header
          value to 0.
</p>
<a name="anchor114"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7.2"></a><h3>9.7.2.&nbsp;
NUM-GOOD-REPETITIONS Element</h3>

<p>The &lt;num-good-repetitions&gt; element contains the number of
          consistent pronunciations obtained so far in an active enrollment
          session.
</p>
<a name="anchor115"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7.3"></a><h3>9.7.3.&nbsp;
NUM-REPETITIONS-STILL-NEEDED Element</h3>

<p>The &lt;num-repetitions-still-needed&gt; element contains the
          number of consistent pronunciations that must still be obtained
          before the new phrase can be added to the enrollment grammar. The
          number of consistent pronunciations required is specified by the
          client in the request header Num-Min-Consistent-Pronunciations. The
          returned value must be 0 before the client can successfully commit a
          phrase to the grammar by ending the enrollment session.
</p>
<a name="anchor116"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7.4"></a><h3>9.7.4.&nbsp;
CONSISTENCY-STATUS Element</h3>

<p>The &lt;consistency-status&gt; element is used to indicate how
          consistent the repetitions are when learning a new phrase. It can
          have the values of consistent, inconsistent, and undecided.
</p>
<a name="anchor117"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7.5"></a><h3>9.7.5.&nbsp;
CLASH-PHRASE-IDS Element</h3>

<p>The &lt;clash-phrase-ids&gt; element contains the phrase ids of
          clashing pronunciation(s), if any. This element is absent if there
          are no clashes.
</p>
<a name="anchor118"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7.6"></a><h3>9.7.6.&nbsp;
TRANSCRIPTIONS Element</h3>

<p>The &lt;transcriptions&gt; element contains the transcriptions
          returned in the last repetition of the phrase being enrolled.
</p>
<a name="anchor119"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7.7"></a><h3>9.7.7.&nbsp;
CONFUSABLE-PHRASES Element</h3>

<p>The &lt;confusable-phrases&gt; element contains a list of phrases
          from a command grammar that are confusable with the phrase being
          added to the personal grammar. This element may be absent if there
          are no confusable phrases.
</p>
<a name="anchor120"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.8"></a><h3>9.8.&nbsp;
DEFINE-GRAMMAR</h3>

<p>The DEFINE-GRAMMAR method, from the client to the server, provides
        one or more grammars and requests the server to access, fetch, and
        compile the grammars as needed. The DEFINE-GRAMMAR method
        implementation MUST do a fetch of all external URIs that are part of
        that operation. If caching is implemented, this URI fetching MUST
        conform to the cache control hints and parameter headers associated
        with the method in deciding whether it should be fetched from cache or
        from the external server. If these hints/parameters are not specified
        in the method, the values set for the session using
        SET-PARAMS/GET-PARAMS apply. If it was not set for the session their
        default values apply.
</p>
<p>If the server resource is in the recognition state, the
        DEFINE-GRAMMAR request MUST respond with a failure status.
</p>
<p>If the resource is in the idle state and is able to successfully
        process the supplied grammars, the server MUST return a success code
        status and the request-state MUST be COMPLETE.
</p>
<p>If the recognizer resource could not define the grammar for some
        reason, for example if the download failed, the grammar failed to
        compile, or the grammar was in an unsupported form, the MRCPv2
        response for the DEFINE-GRAMMAR method MUST contain a failure status
        code of 407, and contain a completion-cause header describing the
        failure reason.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:MRCP/2.0 589 DEFINE-GRAMMAR 543257
Channel-Identifier:32AECB23433801@speechrecog
Content-Type:application/srgs+xml
Content-ID:&lt;request1@form-level.store&gt;
Content-Length:682

&lt;?xml version="1.0"?&gt;

&lt;!-- the default grammar language is US English --&gt;
&lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
         xml:lang="en-US" version="1.0"&gt;

&lt;!-- single language attachment to tokens --&gt;
&lt;rule id="yes"&gt;
            &lt;one-of&gt;
                  &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                  &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

&lt;!-- single language attachment to a rule expansion --&gt;
      &lt;rule id="request"&gt;
            may I speak to
            &lt;one-of xml:lang="fr-CA"&gt;
                  &lt;item&gt;Michel Tremblay&lt;/item&gt;
                  &lt;item&gt;Andre Roy&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

      &lt;/grammar&gt;

S-&gt;C:MRCP/2.0 73 543257 200 COMPLETE
Channel-Identifier:32AECB23433801@speechrecog
        Completion-Cause:000 success


C-&gt;S:MRCP/2.0 334 DEFINE-GRAMMAR 543258
Channel-Identifier:32AECB23433801@speechrecog
Content-Type:application/srgs+xml
Content-ID:&lt;helpgrammar@root-level.store&gt;
Content-Length:231

&lt;?xml version="1.0"?&gt;

&lt;!-- the default grammar language is US English --&gt;
&lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
         xml:lang="en-US" version="1.0"&gt;

      &lt;rule id="request"&gt;
            I need help
      &lt;/rule&gt;

S-&gt;C:MRCP/2.0 73 543258 200 COMPLETE
Channel-Identifier:32AECB23433801@speechrecog
        Completion-Cause:000 success

C-&gt;S:MRCP/2.0 723 DEFINE-GRAMMAR 543259
Channel-Identifier:32AECB23433801@speechrecog
Content-Type:application/srgs+xml
Content-ID:&lt;request2@field-level.store&gt;
Content-Length:1443

&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;!DOCTYPE grammar PUBLIC "-//W3C//DTD GRAMMAR 1.0//EN"
                  "http://www.w3.org/TR/speech-grammar/grammar.dtd"&gt;

&lt;grammar xmlns="http://www.w3.org/2001/06/grammar" xml:lang="en"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.w3.org/2001/06/grammar
           http://www.w3.org/TR/speech-grammar/grammar.xsd"
           version="1.0" mode="voice" root="basicCmd"&gt;

&lt;meta name="author" content="Stephanie Williams"/&gt;

&lt;rule id="basicCmd" scope="public"&gt;
  &lt;example&gt; please move the window &lt;/example&gt;
  &lt;example&gt; open a file &lt;/example&gt;

  &lt;ruleref
    uri="http://grammar.example.com/politeness.grxml#startPolite"/&gt;

  &lt;ruleref uri="#command"/&gt;
  &lt;ruleref
    uri="http://grammar.example.com/politeness.grxml#endPolite"/&gt;
&lt;/rule&gt;

&lt;rule id="command"&gt;
  &lt;ruleref uri="#action"/&gt; &lt;ruleref uri="#object"/&gt;
&lt;/rule&gt;

&lt;rule id="action"&gt;
   &lt;one-of&gt;
      &lt;item weight="10"&gt; open   &lt;tag&gt;open&lt;/tag&gt;   &lt;/item&gt;
      &lt;item weight="2"&gt;  close  &lt;tag&gt;close&lt;/tag&gt;  &lt;/item&gt;
      &lt;item weight="1"&gt;  delete &lt;tag&gt;delete&lt;/tag&gt; &lt;/item&gt;
      &lt;item weight="1"&gt;  move   &lt;tag&gt;move&lt;/tag&gt;   &lt;/item&gt;
   &lt;/one-of&gt;
&lt;/rule&gt;

&lt;rule id="object"&gt;
  &lt;item repeat="0-1"&gt;
    &lt;one-of&gt;
      &lt;item&gt; the &lt;/item&gt;
      &lt;item&gt; a &lt;/item&gt;
    &lt;/one-of&gt;
  &lt;/item&gt;

  &lt;one-of&gt;
      &lt;item&gt; window &lt;/item&gt;
      &lt;item&gt; file &lt;/item&gt;
      &lt;item&gt; menu &lt;/item&gt;
  &lt;/one-of&gt;
&lt;/rule&gt;

&lt;/grammar&gt;


S-&gt;C:MRCP/2.0 69 543259 200 COMPLETE
Channel-Identifier:32AECB23433801@speechrecog
        Completion-Cause:000 success

C-&gt;S:MRCP/2.0 155 RECOGNIZE 543260
Channel-Identifier:32AECB23433801@speechrecog
        N-Best-List-Length:2
Content-Type:text/uri-list
Content-Length:105

session:request1@form-level.store
session:request2@field-level.store
session:helpgramar@root-level.store

S-&gt;C:MRCP/2.0 48 543260 200 IN-PROGRESS
Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:MRCP/2.0 48 START-OF-INPUT 543260 IN-PROGRESS
Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:MRCP/2.0 486 RECOGNITION-COMPLETE 543260 COMPLETE
Channel-Identifier:32AECB23433801@speechrecog
Completion-Cause:000 success
Waveform-URI:&lt;http://web.media.com/session123/audio.wav&gt;;
             size=124535;duration=2340
Content-Type:applicationt/x-nlsml
Content-Length:438

&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns:ex="http://www.example.com/example"
        grammar="session:request1@form-level.store"&gt;
        &lt;interpretation&gt;
            &lt;instance name="Person"&gt;
            &lt;ex:Person&gt;
                &lt;ex:Name&gt; Andre Roy &lt;/ex:Name&gt;
            &lt;/ex:Person&gt;
         &lt;/instance&gt;
         &lt;input&gt;   may I speak to Andre Roy &lt;/input&gt;
    &lt;/interpretation&gt;
&lt;/result&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Define Grammar Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec.methodRecognize"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.9"></a><h3>9.9.&nbsp;
RECOGNIZE</h3>

<p>The RECOGNIZE method from the client to the server requests the
        recognizer to start recognition and provides it with one or more
        grammar references for grammars to match against the input media. The
        RECOGNIZE method can carry headers to control the sensitivity,
        confidence level and the level of detail in results provided by the
        recognizer. These header values override the current values set by a
        previous <tt>SET-PARAMS</tt> method.
</p>
<p>The RECOGNIZE method can request the recognizer resource to operate
        in normal or hotword mode as specified by the Recognition-Mode header.
        The default value is "normal". If the resource could not start a
        recognition, the server MUST respond with a failure status code of 407
        and a completion-cause header in the response describing the cause of
        failure.
</p>
<p>The RECOGNIZE request uses the message body to specify the grammars
        applicable to the request. The active grammar(s) for the request can
        be specified in one of 3 ways. If the client needs to explicitly
        control grammar weights for the recognition operation, it must employ
        method 3 below. The order of these grammars specifies the precedence
        of the grammars which is used when more than one grammar in the list
        matches the speech; in this case, the grammar with the higher
        precedence is returned as a match. This precedence capability is
        useful in applications like VoiceXML browsers to order grammars
        specified at the dialog, document and root level of a VoiceXML
        application.</p>
<ol class="text">
<li>The grammar may be placed directly in the message body as typed
            content. If more than one grammar is included in the body, the
            order of inclusion controls the corresponding precedence for the
            grammars during recognition, with earlier grammars in the body
            having a higher precedence than later ones.
</li>
<li>The body may contain a list of grammar URIs specified in
            content of Media Type text/uri-list. The order of the URIs
            determines the corresponding precedence for the grammars during
            recognition, with highest-precedence first and decreasing for each
            URI thereafter.
</li>
<li>The body may contain a list of grammar URIs specified in
            content of Media Type text/grammar-ref-list. This type defines a
            list of grammar URIs and allows each grammar URI to be assigned a
            weight in the list. This weight has the same meaning as the W3C
            grammar weights.
</li>
</ol><p>In addition to performing recognition on the input, the
        recognizer may also enroll the collected utterance in a personal
        grammar if the Enroll-Utterance header is set to true and an
        Enrollment is active (via an earlier execution of the
        START-PHRASE-ENROLLMENT method). If so, and if the RECOGNIZE request
        contains a Content-ID header, then the resulting grammar (which
        includes the personal grammar as a sub-grammar) can be referenced
        through the "<tt>session:</tt>" URI scheme (see
        <a class='info' href='#sec.sessionURIScheme'>Section&nbsp;13.6<span> (</span><span class='info'>session URL scheme registration</span><span>)</span></a>).
</p>
<p>If the resource was able to successfully start the recognition, the
        server MUST return a success code and a request-state of IN-PROGRESS.
        This means that the recognizer is active and that the client MUST be
        prepared to receive further events with this request-id.
</p>
<p>If the resource was able to queue the request the server MUST
        return a success code and request-state of PENDING. This means that
        the recognizer is currently active with another request and that this
        request has been queued for processing.
</p>
<p>If the resource could not start a recognition, the server MUST
        respond with a failure status code of 407 and a completion-cause
        header in the response describing the cause of failure.
</p>
<p>For the recognizer resource, RECOGNIZE is the only request that
        returns a request-state of IN-PROGRESS, meaning that recognition is in
        progress. When the recognition completes by matching one of the
        grammar alternatives or by a time-out without a match or for some
        other reason, the recognizer resource MUST send the client a
        RECOGNITION-COMPLETE event with the result of the recognition and a
        request-state of COMPLETE.
</p>
<p>Large grammars can take a long time for the server to compile. For
        grammars which are used repeatedly, the client can improve server
        performance by issuing a DEFINE-GRAMMAR request with the grammar ahead
        of time. In such a case the client can issue the RECOGNIZE request and
        reference the grammar through the "<tt>session:</tt>" URI scheme (see <a class='info' href='#sec.sessionURIScheme'>Section&nbsp;13.6<span> (</span><span class='info'>session URL scheme registration</span><span>)</span></a>). This also applies in general
        if the client wants to repeat recognition with a previous inline
        grammar.
</p>
<p>The RECOGNIZE method implementation MUST do a fetch of all external
        URIs that are part of that operation. If caching is implemented, this
        URI fetching MUST conform to the cache control hints and parameter
        headers associated with the method in deciding whether it should be
        fetched from cache or from the external server. If these
        hints/parameters are not specified in the method, the values set for
        the session using SET-PARAMS/GET-PARAMS apply. If it was not set for
        the session their default values apply.
</p>
<p>Note that since the audio and the messages are carried over
        separate communication paths there may be a race condition between the
        start of the flow of audio and the receipt of the RECOGNIZE method.
        For example, if an audio flow is started by the client at the same
        time as the RECOGNIZE method is sent, either the audio or the
        RECOGNIZE can arrive at the recognizer first. As another example, the
        client may choose to continuously send audio to the Server and signal
        the Server to recognize using the RECOGNIZE method. A number of
        mechanisms exist to resolve this condition and the mechanism chosen is
        left to the implementer of the recognition resource. The recognizer
        can expect the media to start flowing when it receives the recognize
        request, but MUST NOT buffer anything it receives beforehand.
</p>
<p>When a RECOGNIZE method has been received the recognition is
        initiated on the stream. The No-Input-Timer MUST BE started at this
        time if the Start-Input-Timers header is specified as "true". If this
        header is set to "false", the No-Input-Timer MUST be started when it
        receives the START-INPUT-TIMERS method from the client. The
        Recognition-Timer MUST be started when the recognition resource
        detects speech or a DTMF digit in the media stream.
</p>
<p>Non-Hotword mode recognition:
</p>
<p>When the recognition resource detects speech or a DTMF digit in the
        media stream it MUST send the START-OF-INPUT event. When enough speech
        has been collected for the server to process, the recognizer can try
        to match the collected speech with the active grammars. If the speech
        collected at this point fully matches with any of the active grammars,
        the Speech-Complete-Timer is started. If it matches partially with one
        or more of the active grammars, with more speech needed before a full
        match is achieved, then the Speech-Incomplete-Timer is started.
</p>
<p>1. When the No-Input-Timer expires, the recognizer must complete
        with a Completion-Cause code of "no-input-timeout".
</p>
<p>2. The recognizer MUST support detecting a no-match condition upon
        detecting end of speech. The recognizer MAY support detecting a
        no-match condition before waiting for end-of-speech. If this is
        supported, this capability is enabled by setting the "Early-No-Match"
        header to "true". Upon detecting a no-match condition the RECOGNIZE
        MUST return with "no-match".
</p>
<p>3. When the Speech-Incomplete-Timer expires the recognizer SHOULD
        complete with a Completion-Cause code of "partial-match", unless the
        recognizer cannot differentiate a partial-match in which case it MUST
        return a Completion-Cause code of "no-match". The recognizer MAY
        return results for the partially matched grammar.
</p>
<p>4. When the Speech-Complete-Timer expires the recognizer MUST
        complete with a Completion-Cause code of "success".
</p>
<p>5. When the Recognition-Timer expires one of the following MUST
        happen:
</p>
<p>5.1 If there was a partial-match the recognizer SHOULD complete
        with a Completion-Cause code of "partial-match-maxtime", unless the
        recognizer cannot differentiate a partial-match in which case it MUST
        complete with a Completion-Cause code of "no-match-maxtime". The
        recognizer MAY return results for the partially matched grammar.
</p>
<p>5.2 If there was a full-match the recognizer MUST complete with a
        Completion-Cause code of "success-maxtime".
</p>
<p>5.3 If there was a no match the recognizer MUST complete with a
        Completion-Cause code of "no-match-maxtime".
</p>
<p>For the Hotword mode recognition:
</p>
<p>Note that for Hotword mode recognition the START-OF-INPUT event is
        not generated when speech or a DTMF digit is detected.
</p>
<p>1. When the No-Input-Timer expires, the recognizer must complete
        with a Completion-Cause code of "no-input-timeout".
</p>
<p>2. When there is match at anytime, the RECOGNIZE completes with a
        Completion-Cause code of "success".
</p>
<p>3. When the Recognition-Timer expires and there is not a match, the
        RECOGNIZE MUST complete with a Completion-Cause code of
        "hotword-maxtime".
</p>
<p>4. When the Recognition-Timer expires and there is a match, the
        RECOGNIZE MUST complete with a Completion-Cause code of
        "success-maxtime".
</p>
<p>5. When the Recognition-Timer is running but the detected
        speech/DTMF has not resulted in a match, the Recognition-Timer MUST be
        stopped and reset. It MUST then be restarted when speech/DTMF is again
        detected.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:MRCP/2.0 479 RECOGNIZE 543257
Channel-Identifier:32AECB23433801@speechrecog
        Confidence-Threshold:0.9
Content-Type:application/srgs+xml
Content-ID:&lt;request1@form-level.store&gt;
Content-Length:698

&lt;?xml version="1.0"?&gt;

&lt;!-- the default grammar language is US English --&gt;
&lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
         xml:lang="en-US" version="1.0" root="request"&gt;

&lt;!-- single language attachment to tokens --&gt;
    &lt;rule id="yes"&gt;
            &lt;one-of&gt;
                  &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                  &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

&lt;!-- single language attachment to a rule expansion --&gt;
      &lt;rule id="request"&gt;
            may I speak to
            &lt;one-of xml:lang="fr-CA"&gt;
                  &lt;item&gt;Michel Tremblay&lt;/item&gt;
                  &lt;item&gt;Andre Roy&lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;

  &lt;/grammar&gt;

S-&gt;C: MRCP/2.0 48 543257 200 IN-PROGRESS
Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:MRCP/2.0 49 START-OF-INPUT 543257 IN-PROGRESS
Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:MRCP/2.0 467 RECOGNITION-COMPLETE 543257 COMPLETE
Channel-Identifier:32AECB23433801@speechrecog
Completion-Cause:000 success
Waveform-URI:&lt;http://web.media.com/session123/audio.wav&gt;;
              size=424252;duration=2543
Content-Type:application/nlsml+xml
Content-Length:432

&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns:ex="http://www.example.com/example"
        grammar="session:request1@form-level.store"&gt;
    &lt;interpretation&gt;
        &lt;instance name="Person"&gt;
            &lt;ex:Person&gt;
                &lt;ex:Name&gt; Andre Roy &lt;/ex:Name&gt;
            &lt;/ex:Person&gt;
        &lt;/instance&gt;
            &lt;input&gt;   may I speak to Andre Roy &lt;/input&gt;
    &lt;/interpretation&gt;
&lt;/result&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;RECOGNIZE Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:   MRCP/2.0 479 RECOGNIZE 543257
        Channel-Identifier:32AECB23433801@speechrecog
        Confidence-Threshold:0.9
        Fetch-Timeout:20
        Content-Type:application/srgs+xml
        Content-Length:530

        &lt;?xml version="1.0"? Version="1.0" mode="voice"
              root="Basic md"&gt;
         &lt;rule id="rule_list" scope="public"&gt;
             &lt;one-of&gt;
                 &lt;item weight=10&gt;
                     &lt;ruleref uri=
            "http://grammar.example.com/world-cities.grxml#canada"/&gt;
                &lt;/item&gt;
                &lt;item weight=1.5&gt;
                    &lt;ruleref uri=
            "http://grammar.example.com/world-cities.grxml#america"/&gt;
                &lt;/item&gt;
               &lt;item weight=0.5&gt;
                    &lt;ruleref uri=
            "http://grammar.example.com/world-cities.grxml#india"/&gt;
               &lt;/item&gt;
           &lt;/one-of&gt;
        &lt;/rule&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Second RECOGNIZE Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor121"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.10"></a><h3>9.10.&nbsp;
STOP</h3>

<p>The <tt>STOP</tt> method from the client to the
        server tells the resource to stop recognition if a request is active.
        If a RECOGNIZE request is active and the <tt>STOP</tt> request successfully terminated it, then the
        response header contains an active-request-id-list header containing
        the request-id of the RECOGNIZE request that was terminated. In this
        case, no RECOGNITION-COMPLETE event is sent for the terminated
        request. If there was no recognition active, then the response MUST
        NOT contain an active-request-id-list header. Either way the response
        MUST contain a status of 200 (Success).
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:   MRCP/2.0 573 RECOGNIZE 543257
        Channel-Identifier:32AECB23433801@speechrecog
        Confidence-Threshold:0.9
        Content-Type:application/srgs+xml
        Content-ID:&lt;request1@form-level.store&gt;
        Content-Length:624

        &lt;?xml version="1.0"?&gt;

        &lt;!-- the default grammar language is US English --&gt;
        &lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
                 xml:lang="en-US" version="1.0" root="request"&gt;

        &lt;!-- single language attachment to tokens --&gt;
            &lt;rule id="yes"&gt;
                &lt;one-of&gt;
                      &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                      &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
                &lt;/one-of&gt;
            &lt;/rule&gt;

        &lt;!-- single language attachment to a rule expansion --&gt;
            &lt;rule id="request"&gt;
            may I speak to
                &lt;one-of xml:lang="fr-CA"&gt;
                      &lt;item&gt;Michel Tremblay&lt;/item&gt;
                      &lt;item&gt;Andre Roy&lt;/item&gt;
                &lt;/one-of&gt;
            &lt;/rule&gt;
        &lt;/grammar&gt;

S-&gt;C:   MRCP/2.0 47 543257 200 IN-PROGRESS
        Channel-Identifier:32AECB23433801@speechrecog

C-&gt;S:   MRCP/2.0 28 STOP 543258 200
        Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:   MRCP/2.0 67 543258 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
        Active-Request-Id-List:543257
</pre></div>
<a name="anchor122"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.11"></a><h3>9.11.&nbsp;
GET-RESULT</h3>

<p>The GET-RESULT method from the client to the server may be issued
        when the recognizer resource is in the recognized state. This request
        allows the client to retrieve results for a completed recognition.
        This is useful if the client decides it wants more alternatives or
        more information. When the server receives this request it re-computes
        and returns the results according to the recognition constraints
        provided in the GET-RESULT request.
</p>
<p>The GET-RESULT request can specify constraints such as a different
        confidence-threshold, or n-best-list-length. This capability is
        optional for MRCPv2 servers and the automatic speech recognition
        engine in the server MAY return a status of unsupported feature.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:   MRCP/2.0 73 GET-RESULT 543257
        Channel-Identifier:32AECB23433801@speechrecog
        Confidence-Threshold:0.9


S-&gt;C:   MRCP/2.0 487 543257 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
        Content-Type:application/nlsml+xml
        Content-Length:428

        &lt;?xml version="1.0"?&gt;
        &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
                xmlns:ex="http://www.example.com/example"
                grammar="session:request1@form-level.store"&gt;
            &lt;interpretation&gt;
                &lt;instance name="Person"&gt;
                    &lt;ex:Person&gt;
                        &lt;ex:Name&gt; Andre Roy &lt;/ex:Name&gt;
                    &lt;/ex:Person&gt;
                &lt;/instance&gt;
                &lt;input&gt;   may I speak to Andre Roy &lt;/input&gt;
            &lt;/interpretation&gt;
        &lt;/result&gt;
</pre></div>
<a name="anchor123"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.12"></a><h3>9.12.&nbsp;
START-OF-INPUT</h3>

<p>This is an event from the server to the client indicating that the
        recognition resource has detected speech or a DTMF digit in the media
        stream. This event is useful in implementing kill-on-barge-in
        scenarios when a synthesizer resource is in a different session from
        the recognizer resource and hence is not aware of an incoming audio
        source. In these cases, it is up to the client to act as a
        intermediary and respond to this event by issuing a BARGE-IN-OCCURRED
        event to the synthesizer resource. The recognizer resource also MUST
        send a Proxy-Sync-Id header with a unique value for this event.
</p>
<p>This event MUST be generated by the server irrespective of whether
        the synthesizer and recognizer are on the same server or not.
</p>
<a name="anchor124"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.13"></a><h3>9.13.&nbsp;
START-INPUT-TIMERS</h3>

<p>This request is sent from the client to the recognition resource
        when it knows that a kill-on-barge-in prompt has finished playing.
        This is useful in the scenario when the recognition and synthesizer
        engines are not in the same session. When a kill-on-barge-in prompt is
        being played, the client may want a RECOGNIZE request to be
        simultaneously active so that it can detect and implement kill on
        barge-in. But at the same time the client doesn't want the recognizer
        to start the no-input timers until the prompt is finished. The
        Start-Input-Timers header in the RECOGNIZE request allows the client
        to say whether the timers should be started immediately or not. If
        not, the recognizer resource MUST NOT start the timers until the
        client sends a START-INPUT-TIMERS method to the recognizer.
</p>
<a name="anchor125"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.14"></a><h3>9.14.&nbsp;
RECOGNITION-COMPLETE</h3>

<p>This is an Event from the recognizer resource to the client
        indicating that the recognition completed. The recognition result is
        sent in the body of the MRCPv2 message. The request-state field MUST
        be COMPLETE indicating that this is the last event with that
        request-id, and that the request with that request-id is now complete.
        The server MUST maintain the recognizer context containing the results
        and the audio waveform input of that recognition until the next
        RECOGNIZE request is issued for that resource or the session
        terminates. A URI to the audio waveform MAY be returned to the client
        in a Waveform-URI header in the RECOGNITION-COMPLETE event. The client
        can use this URI to retrieve or playback the audio.
</p>
<p>Note if an enrollment session was active, the RECOGNITION-COMPLETE
        event can contain either recognition or enrollment results depending
        on what was spoken.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:   MRCP/2.0 487 RECOGNIZE 543257
        Channel-Identifier:32AECB23433801@speechrecog
        Confidence-Threshold:0.9
        Content-Type:application/srgs+xml
        Content-ID:&lt;request1@form-level.store&gt;
        Content-Length:682

        &lt;?xml version="1.0"?&gt;

        &lt;!-- the default grammar language is US English --&gt;
        &lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
                 xml:lang="en-US" version="1.0" root="request"&gt;

        &lt;!-- single language attachment to tokens --&gt;
            &lt;rule id="yes"&gt;
                   &lt;one-of&gt;
                       &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                       &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
                   &lt;/one-of&gt;
              &lt;/rule&gt;

        &lt;!-- single language attachment to a rule expansion --&gt;
              &lt;rule id="request"&gt;
                  may I speak to
                   &lt;one-of xml:lang="fr-CA"&gt;
                          &lt;item&gt;Michel Tremblay&lt;/item&gt;
                          &lt;item&gt;Andre Roy&lt;/item&gt;
                   &lt;/one-of&gt;
              &lt;/rule&gt;
        &lt;/grammar&gt;

S-&gt;C:   MRCP/2.0 48 543257 200 IN-PROGRESS
        Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:   MRCP/2.0 49 START-OF-INPUT 543257 IN-PROGRESS
        Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:   MRCP/2.0 465 RECOGNITION-COMPLETE 543257 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
        Completion-Cause:000 success
        Waveform-URI:&lt;http://web.media.com/session123/audio.wav&gt;;
                     size=342456;duration=25435
        Content-Type:application/nlsml+xml
        Content-Length:428

        &lt;?xml version="1.0"?&gt;
        &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
                xmlns:ex="http://www.example.com/example"
                grammar="session:request1@form-level.store"&gt;
            &lt;interpretation&gt;
                &lt;instance name="Person"&gt;
                    &lt;ex:Person&gt;
                        &lt;ex:Name&gt; Andre Roy &lt;/ex:Name&gt;
                    &lt;/ex:Person&gt;
                &lt;/instance&gt;
                &lt;input&gt;   may I speak to Andre Roy &lt;/input&gt;
            &lt;/interpretation&gt;
        &lt;/result&gt;
</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:   MRCP/2.0 465 RECOGNITION-COMPLETE 543257 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
        Completion-Cause:000 success
        Content-Type:application/nlsml+xml
        Content-Length:793

        &lt;?xml version= "1.0"?&gt;
        &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
                grammar="Personal-Grammar-URI"&gt;
            &lt;enrollment-result&gt;
                &lt;num-clashes&gt; 2 &lt;/num-clashes&gt;
                &lt;num-good-repetitions&gt; 1 &lt;/num-good-repetitions&gt;
                &lt;num-repetitions-still-needed&gt;
                   1
                &lt;/num-repetitions-still-needed&gt;
                &lt;consistency-status&gt; consistent &lt;/consistency-status&gt;
                &lt;clash-phrase-ids&gt;
                    &lt;item&gt; Jeff &lt;/item&gt; &lt;item&gt; Andre &lt;/item&gt;
                &lt;/clash-phrase-ids&gt;
                &lt;transcriptions&gt;
                     &lt;item&gt; m ay b r ow k er &lt;/item&gt;
                     &lt;item&gt; m ax r aa k ah &lt;/item&gt;
                &lt;/transcriptions&gt;
                &lt;confusable-phrases&gt;
                     &lt;item&gt;
                          &lt;phrase&gt; call &lt;/phrase&gt;
                          &lt;confusion-level&gt; 10 &lt;/confusion-level&gt;
                     &lt;/item&gt;
                &lt;/confusable-phrases&gt;
            &lt;/enrollment-result&gt;
        &lt;/result&gt;
</pre></div>
<a name="anchor126"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.15"></a><h3>9.15.&nbsp;
START-PHRASE-ENROLLMENT</h3>

<p>The START-PHRASE-ENROLLMENT method from the client to the server
        starts a new phrase enrollment session during which the client may
        call RECOGNIZE multiple times to enroll a new utterance in a grammar.
        An enrollment session consists of a set of calls to RECOGNIZE in which
        the caller speaks a phrase several times so the system can "learn" it.
        The phrase is then added to a personal grammar (speaker-trained
        grammar), so that the system can recognize it later.
</p>
<p>Only one phrase enrollment session may be active at a time for a
        resource. The Personal-Grammar-URI identifies the grammar that is used
        during enrollment to store the personal list of phrases. Once
        RECOGNIZE is called, the result is returned in a RECOGNITION-COMPLETE
        event and may contain either an enrollment result OR a recognition
        result for a regular recognition.
</p>
<p>Calling END-PHRASE-ENROLLMENT ends the ongoing phrase enrollment
        session, which is typically done after a sequence of successful calls
        to RECOGNIZE. This method can be called to commit the new phrase to
        the personal grammar or to abort the phrase enrollment session.
</p>
<p>The Personal-Grammar-URI, which specifies the grammar to contain
        the new enrolled phrase, is created if it does not exist. Also, the
        personal grammar may ONLY contain phrases added via a phrase
        enrollment session.
</p>
<p>The Phrase-ID passed to this method is used to identify this phrase
        in the grammar and will be returned as the speech input when doing a
        RECOGNIZE on the grammar. The Phrase-NL similarly is returned in a
        RECOGNITION-COMPLETE event in the same manner as other NL in a
        grammar. The tag-format of this NL is implementation specific.
</p>
<p>If the client has specified Save-Best-Waveform as true, then the
        response after ending the phrase enrollment session MUST contain the
        location/URI of a recording of the best repetition of the learned
        phrase.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:     MRCP/2.0 123 START-PHRASE-ENROLLMENT 543258
        Channel-Identifier:32AECB23433801@speechrecog
        Num-Min-Consistent-Pronunciations:2
        Consistency-Threshold:30
        Clash-Threshold:12
        Personal-Grammar-URI:&lt;personal grammar uri&gt;
        Phrase-Id:&lt;phrase id&gt;
        Phrase-NL:&lt;NL phrase&gt;
        Weight:1
        Save-Best-Waveform:true

S-&gt;C:    MRCP/2.0 49 543258 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
</pre></div>
<a name="anchor127"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.16"></a><h3>9.16.&nbsp;
ENROLLMENT-ROLLBACK</h3>

<p>The ENROLLMENT-ROLLBACK method discards the last live utterance
        from the RECOGNIZE operation. The client can invoke this method when
        the caller provides undesirable input such as non-speech noises,
        side-speech, commands, utterance from the RECOGNIZE grammar, etc. Note
        that this method does not provide a stack of rollback states.
        Executing ENROLLMENT-ROLLBACK twice in succession without an
        intervening recognition operation has no effect on the second
        attempt.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:   MRCP/2.0 49 ENROLLMENT-ROLLBACK 543261
        Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:    MRCP/2.0 49 543261 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
</pre></div>
<a name="anchor128"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.17"></a><h3>9.17.&nbsp;
END-PHRASE-ENROLLMENT</h3>

<p>The END-PHRASE-ENROLLMENT method may be called ONLY during an
        active phrase enrollment session. It MUST NOT be called during an
        ongoing RECOGNIZE operation. To commit the new phrase in the grammar,
        the client MAY call this method once successive calls to RECOGNIZE
        have succeeded and Num-Repetitions-Still-Needed has been returned as 0
        in the RECOGNITION-COMPLETE event. Alternatively, the client can abort
        the phrase enrollment session by calling this method with the
        Abort-Phrase-Enrollment header.
</p>
<p>If the client has specified Save-Best-Waveform as true in the
        START-PHRASE-ENROLLMENT request, then the response MUST contain the
        location/URI of a recording of the best repetition of the learned
        phrase.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:     MRCP/2.0 49 END-PHRASE-ENROLLMENT 543262
        Channel-Identifier:32AECB23433801@speechrecog


S-&gt;C:    MRCP/2.0 123 543262 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
        Waveform-URI:&lt;http://mediaserver.com/recordings/file1324.wav&gt;;
                     size=242453;duration=25432
</pre></div>
<a name="anchor129"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.18"></a><h3>9.18.&nbsp;
MODIFY-PHRASE</h3>

<p>The MODIFY-PHRASE method sent from the client to the server is used
        to change the phrase ID, NL phrase and/or weight for a given phrase in
        a personal grammar.
</p>
<p>If no fields are supplied then calling this method has no
        effect.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:     MRCP/2.0 123 MODIFY-PHRASE 543265
        Channel-Identifier:32AECB23433801@speechrecog
        Personal-Grammar-URI:&lt;personal grammar uri&gt;
        Phrase-Id:&lt;phrase id&gt;
        New-Phrase-Id:&lt;new phrase id&gt;
        Phrase-NL:&lt;NL phrase&gt;
        Weight:1

S-&gt;C:    MRCP/2.0 49 543265 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog</pre></div>
<a name="anchor130"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.19"></a><h3>9.19.&nbsp;
DELETE-PHRASE</h3>

<p>The DELETE-PHRASE method sent from the client to the server is used
        to delete a phase in a personal grammar added through voice enrollment
        or text enrollment. If the specified phrase does not exist, this
        method has no effect.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:     MRCP/2.0 123 DELETE-PHRASE 543266
        Channel-Identifier:32AECB23433801@speechrecog
        Personal-Grammar-URI:&lt;personal grammar uri&gt;
        Phrase-Id:&lt;phrase id&gt;

S-&gt;C:    MRCP/2.0 49 543266 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
</pre></div>
<a name="sec.interpret"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.20"></a><h3>9.20.&nbsp;
INTERPRET</h3>

<p>The INTERPRET method from the client to the server takes as input
        an interpret-text header containing the text for which the semantic
        interpretation is desired, and returns, via the
        INTERPRETATION-COMPLETE event, an interpretation result which is very
        similar to the one returned from a RECOGNIZE method invocation. Only
        portions of the result relevant to acoustic matching are excluded from
        the result. The interpret-text header MUST be included in the
        INTERPRET request.
</p>
<p>Recognizer grammar data is treated in the same way as it is when
        issuing a RECOGNIZE method call.
</p>
<p>If a RECOGNIZE, RECORD or another INTERPRET operation is already in
        progress for the resource, the server MUST reject the request a
        response having a status code of 402, "Method not valid in this
        state", and a COMPLETE request state.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:    MRCP/2.0 123 INTERPRET 543266
        Channel-Identifier:32AECB23433801@speechrecog
        Interpret-Text:may I speak to Andre Roy
        Content-Type:application/srgs+xml
        Content-ID:&lt;request1@form-level.store&gt;
        Content-Length:680

        &lt;?xml version="1.0"?&gt;
        &lt;!-- the default grammar language is US English --&gt;
        &lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
                 xml:lang="en-US" version="1.0" root="request"&gt;
        &lt;!-- single language attachment to tokens --&gt;
            &lt;rule id="yes"&gt;
                &lt;one-of&gt;
                    &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                    &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
                &lt;/one-of&gt;
            &lt;/rule&gt;

        &lt;!-- single language attachment to a rule expansion --&gt;
            &lt;rule id="request"&gt;
                may I speak to
                &lt;one-of xml:lang="fr-CA"&gt;
                    &lt;item&gt;Michel Tremblay&lt;/item&gt;
                    &lt;item&gt;Andre Roy&lt;/item&gt;
                &lt;/one-of&gt;
            &lt;/rule&gt;
        &lt;/grammar&gt;

S-&gt;C:    MRCP/2.0 49 543266 200 IN-PROGRESS
        Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:    MRCP/2.0 49 543267 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
        Completion-Cause:000 success
        Content-Type:application/nlsml+xml
        Content-Length:449

        &lt;?xml version="1.0"?&gt;
        &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
                xmlns:ex="http://www.example.com/example"
                grammar="session:request1@form-level.store"&gt;
            &lt;interpretation&gt;
                &lt;instance name="Person"&gt;
                    &lt;ex:Person&gt;
                        &lt;ex:Name&gt; Andre Roy &lt;/ex:Name&gt;
                    &lt;/ex:Person&gt;
                &lt;/instance&gt;
                &lt;input&gt;   may I speak to Andre Roy &lt;/input&gt;
            &lt;/interpretation&gt;
        &lt;/result&gt;
</pre></div>
<a name="anchor131"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.21"></a><h3>9.21.&nbsp;
INTERPRETATION-COMPLETE</h3>

<p>This event from the recognition resource to the client indicates
        that the INTERPRET operation is complete. The interpretation result is
        sent in the body of the MRCP message. The request state MUST be set to
        COMPLETE.
</p>
<p>The completion-cause header MUST be included in this event and MUST
        be set to an appropriate value from the list of cause codes.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:    MRCP/2.0 123 INTERPRET 543266
        Channel-Identifier:32AECB23433801@speechrecog
        Interpret-Text:may I speak to Andre Roy
        Content-Type:application/srgs+xml
        Content-ID:&lt;request1@form-level.store&gt;
        Content-Length:674

        &lt;?xml version="1.0"?&gt;
        &lt;!-- the default grammar language is US English --&gt;
        &lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
                 xml:lang="en-US" version="1.0" root="request"&gt;
        &lt;!-- single language attachment to tokens --&gt;
            &lt;rule id="yes"&gt;
                &lt;one-of&gt;
                    &lt;item xml:lang="fr-CA"&gt;oui&lt;/item&gt;
                    &lt;item xml:lang="en-US"&gt;yes&lt;/item&gt;
                &lt;/one-of&gt;
            &lt;/rule&gt;

        &lt;!-- single language attachment to a rule expansion --&gt;
            &lt;rule id="request"&gt;
                may I speak to
                &lt;one-of xml:lang="fr-CA"&gt;
                    &lt;item&gt;Michel Tremblay&lt;/item&gt;
                    &lt;item&gt;Andre Roy&lt;/item&gt;
                &lt;/one-of&gt;
            &lt;/rule&gt;
        &lt;/grammar&gt;

S-&gt;C:    MRCP/2.0 49 543266 200 IN-PROGRESS
        Channel-Identifier:32AECB23433801@speechrecog

S-&gt;C:    MRCP/2.0 49 543267 200 COMPLETE
        Channel-Identifier:32AECB23433801@speechrecog
        Completion-Cause:000 success
        Content-Type:application/nlsml+xml
        Content-Length:449

        &lt;?xml version="1.0"?&gt;
        &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
                xmlns:ex="http://www.example.com/example"
                grammar="session:request1@form-level.store"&gt;
            &lt;interpretation&gt;
                &lt;instance name="Person"&gt;
                    &lt;ex:Person&gt;
                        &lt;ex:Name&gt; Andre Roy &lt;/ex:Name&gt;
                    &lt;/ex:Person&gt;
                &lt;/instance&gt;
                &lt;input&gt;   may I speak to Andre Roy &lt;/input&gt;
            &lt;/interpretation&gt;
        &lt;/result&gt;
</pre></div>
<a name="anchor132"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.22"></a><h3>9.22.&nbsp;
DTMF Detection</h3>

<p>Digits received as DTMF tones are delivered to the recognition
        resource in the MRCPv2 server in the RTP stream according to <a class='info' href='#RFC4733'>RFC4733<span> (</span><span class='info'>Schulzrinne, H. and T. Taylor, &ldquo;RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals,&rdquo; December&nbsp;2006.</span><span>)</span></a> [RFC4733]. The automatic speech recognizer (ASR)
        MUST support RFC4733 to recognize digits and it MAY support
        recognizing <a class='info' href='#Q.23'>DTMF tones<span> (</span><span class='info'>International Telecommunications             Union, &ldquo;Technical Features of Push-Button Telephone Sets,&rdquo; 1993.</span><span>)</span></a> [Q.23] in the audio.
</p>
<a name="sec.recorderResource"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Recorder Resource</h3>

<p>This resource captures received audio and video and stores it as
      content pointed to by a URI. The main usages of recorders are</p>
<ol class="text">
<li>to capture speech audio that may be submitted for recognition at
          a later time, and
</li>
<li>recording voice or video mails.
</li>
</ol><p>Both these applications require functionality above and beyond
      those specified by protocols such as RTSP. This includes Audio
      End-pointing (i.e., detecting speech or silence). The support for video
      is optional and is mainly capturing video mails that may require the
      speech or audio processing mentioned above.
</p>
<p>A recorder MUST provide some end-pointing capabilities for
      suppressing silence at the beginning and end of a recording, and MAY
      also suppress silence in the middle of a recording. If such suppression
      is done, the recorder MUST maintain timing metadata to indicate the
      actual time stamps of the recorded media.
</p>
<a name="anchor133"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.1"></a><h3>10.1.&nbsp;
Recorder State Machine</h3>
<br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Idle                   Recording
State                  State
 |                       |
 |---------RECORD-------&gt;|
 |                       |
 |&lt;------STOP------------|
 |                       |
 |&lt;--RECORD-COMPLETE-----|
 |                       |
 |              |--------|
 |       START-OF-INPUT  |
 |              |-------&gt;|
 |                       |
 |              |--------|
 |    START-INPUT-TIMERS |
 |              |-------&gt;|
 |                       |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Recorder State Machine&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor134"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.2"></a><h3>10.2.&nbsp;
Recorder Methods</h3>

<p>The recorder resource supports the following methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recorder-Method      =  "RECORD"
                     /  "STOP"
                     /  "START-INPUT-TIMERS"
</pre></div>
<a name="anchor135"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.3"></a><h3>10.3.&nbsp;
Recorder Events</h3>

<p>The recorder resource may generate the following events.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recorder-Event       =  "START-OF-INPUT"
                     /  "RECORD-COMPLETE"
</pre></div>
<a name="anchor136"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4"></a><h3>10.4.&nbsp;
Recorder Header Fields</h3>

<p>Method invocations for the recorder resource may contain
        resource-specific headers containing request options and information
        to augment the Method, Response or Event message it is associated
        with.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
recorder-header      =  sensitivity-level
                     /  no-input-timeout
                     /  completion-cause
                     /  completion-reason
                     /  failed-uri
                     /  failed-uri-cause
                     /  record-uri
                     /  media-type
                     /  max-time
                     /  trim-length
                     /  final-silence
                     /  capture-on-speech
                     /  ver-buffer-utterance
                     /  start-input-timers
                     /  new-audio-channel
</pre></div>
<a name="anchor137"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.1"></a><h3>10.4.1.&nbsp;
Sensitivity Level</h3>

<p>To filter out background noise and not mistake it for speech, the
          recorder may support a variable level of sound sensitivity. The
          sensitivity-level header is a float value between 0.0 and 1.0 and
          allows the client to set the sensitivity level for the recorder.
          This header MAY occur in RECORD, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. A higher value for this header
          means higher sensitivity. The default value for this header is
          implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
sensitivity-level    =     "Sensitivity-Level" ":" FLOAT CRLF
</pre></div>
<a name="anchor138"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.2"></a><h3>10.4.2.&nbsp;
No Input Timeout</h3>

<p>When recording is started and there is no speech detected for a
          certain period of time, the recorder can send a RECORD-COMPLETE
          event to the client and terminate the record operation. The
          no-input-timeout header can set this timeout value. The value is in
          milliseconds. This header MAY occur in RECORD, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The value for this header ranges
          from 0 to an implementation specific maximum value. The default
          value for this header is implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
no-input-timeout    =     "No-Input-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor139"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.3"></a><h3>10.4.3.&nbsp;
Completion Cause</h3>

<p>This header MUST be part of a RECORD-COMPLETE event from the
          recorder resource to the client. This indicates the reason behind
          the RECORD method completion. This header MUST be sent in the RECORD
          responses if they return with a failure status and a COMPLETE
          state.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-cause         =  "Completion-Cause" ":" 3DIGIT SP
                            1*VCHAR CRLF
</pre></div><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="10%"><col align="left" width="35%"><col align="left">
<tr><th align="left">Cause-Code</th><th align="left">Cause-Name</th><th align="left">Description</th></tr>
<tr>
<td align="left">000</td>
<td align="left">success-silence</td>
<td align="left">RECORD completed with a silence at the end</td>
</tr>
<tr>
<td align="left">001</td>
<td align="left">success-maxtime</td>
<td align="left">RECORD completed after reaching maximum recording time
            specified in record method.</td>
</tr>
<tr>
<td align="left">002</td>
<td align="left">noinput-timeout</td>
<td align="left">RECORD failed due to no input</td>
</tr>
<tr>
<td align="left">003</td>
<td align="left">uri-failure</td>
<td align="left">Failure accessing the record URI.</td>
</tr>
<tr>
<td align="left">004</td>
<td align="left">error</td>
<td align="left">RECORD request terminated prematurely due to a recorder
            error.</td>
</tr>
</table>
<br clear="all" />

<a name="anchor140"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.4"></a><h3>10.4.4.&nbsp;
Completion Reason</h3>

<p>This header MAY be present in a RECORD-COMPLETE event coming from
          the recorder resource to the client. It contains the reason text
          behind the RECORD request completion. This header communicates text
          describing the reason for the failure.
</p>
<p>The completion reason text is provided for client use in logs and
          for debugging and instrumentation purposes. Clients MUST NOT
          interpret the completion reason text.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-reason        =  "Completion-Reason" ":"
                            quoted-string CRLF
</pre></div>
<a name="anchor141"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.5"></a><h3>10.4.5.&nbsp;
Failed URI</h3>

<p>When a recorder method needs to post the audio to an URI and
          access to the URI fails, the server MUST provide the failed URI in
          this header in the method response.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
failed-uri               =  "Failed-URI" ":" Uri CRLF
</pre></div>
<a name="anchor142"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.6"></a><h3>10.4.6.&nbsp;
Failed URI Cause</h3>

<p>When a recorder method needs to post the audio to an URI and
          access to the URI fails, the server MUST provide the URI specific or
          protocol specific response code through this header in the method
          response. The value encoding is alphanumeric to accommodate all
          anticipated access protocols, some of which might have a response
          string instead of a numeric response code.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
failed-uri-cause         =  "Failed-URI-Cause" ":" 1*alphanum
                            CRLF
</pre></div>
<a name="anchor143"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.7"></a><h3>10.4.7.&nbsp;
Record URI</h3>

<p>When a recorder method contains this header the server must
          capture the audio and store it. If the header is present but
          specified with no value, the server MUST store the content locally
          and generate a URI that points to it. This URI is then returned in
          either the <tt>STOP</tt> response or the
          RECORD-COMPLETE event. If the header in the RECORD method specifies
          a URI, the server MUST attempt to capture and store the audio at
          that location. If this header is not specified in the RECORD
          request, the server MUST capture the audio and send it in the <tt>STOP</tt> response or the RECORD-COMPLETE event as a
          message body. In this case, the response carrying the audio content
          would have this header with a cid value pointing to the Content-ID
          in the message body.
</p>
<p>The server MUST also return the size in bytes and the duration in
          milliseconds of the recorded audio wave-form as parameters
          associated with the header.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
record-uri               =  "Record-URI" ":" ["&lt;" Uri "&gt;"
                            ";" "size" "=" 1*19DIGIT
                            ";" "duration" "=" 1*19DIGIT] CRLF
</pre></div>
<a name="anchor144"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.8"></a><h3>10.4.8.&nbsp;
Media Type</h3>

<p>A RECORD method MUST contain this header, which specifies to the
          server the Media Type of the captured audio or video.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
media-type               =  "Media-Type" ":" media-type-value
                            CRLF
</pre></div>
<a name="anchor145"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.9"></a><h3>10.4.9.&nbsp;
Max Time</h3>

<p>When recording is started this specifies the maximum length of
          the recording in milliseconds, calculated from the time the actual
          capture and store begins and is not necessarily the time the RECORD
          method is received. It specifies the duration before silence
          suppression, if any, has been applied by the recorder resource.
          After this time, the recording stops and the server MUST return a
          RECORD-COMPLETE event to the client having a request-state of
          "COMPLETE". This header MAY occur in RECORD, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The value for this header ranges
          from 0 to an implementation specific maximum value. A value of zero
          means infinity and hence the recording continues until one or more
          of the other stop conditions are met. The default value for this
          header is 0.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
max-time                 =  "Max-Time" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor146"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.10"></a><h3>10.4.10.&nbsp;
Trim-Length</h3>

<p>This header MAY be sent on a STOP method and specifies the length
          of audio to be trimmed from the end of the recording after the stop.
          The length is interpreted to be in milliseconds. The default value
          for this header is 0.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
trim-length                 =  "Trim-Length" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor147"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.11"></a><h3>10.4.11.&nbsp;
Final Silence</h3>

<p>When recorder is started and the actual capture begins, this
          header specifies the length of silence in the audio that is to be
          interpreted as the end of the recording. This header MAY occur in
          RECORD, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The value for this header ranges
          from 0 to an implementation specific maximum value and is
          interpreted to be in milliseconds. A value of zero means infinity
          and hence the recording will continue until one of the other stop
          conditions are met. The default value for this header is
          implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
final-silence            =  "Final-Silence" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor148"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.12"></a><h3>10.4.12.&nbsp;
Capture On Speech</h3>

<p>If false, the recorder MUST start capturing immediately when
          started. If true, the recorder MUST wait for the end-pointing
          functionality to detect speech before it starts capturing. This
          header MAY occur in the RECORD, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The value for this header is a
          Boolean. The default value for this header is false.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
capture-on-speech        =  "Capture-On-Speech " ":" BOOLEAN CRLF
</pre></div>
<a name="anchor149"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.13"></a><h3>10.4.13.&nbsp;
Ver-Buffer-Utterance</h3>

<p>This header is the same as the one described for the Verification
          resource (see <a class='info' href='#sec.verBufferUtterance'>Section&nbsp;11.4.14<span> (</span><span class='info'>Ver-Buffer-Utterance</span><span>)</span></a>). This
          tells the server to buffer the utterance associated with this
          recording request into the verification buffer. Sending this header
          is permitted only if the verification buffer is for the session.
          This buffer is shared across resources within a session. It gets
          instantiated when a verification resource is added to this session
          and is released when the verification resource is released from the
          session.
</p>
<a name="anchor150"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.14"></a><h3>10.4.14.&nbsp;
Start Input Timers</h3>

<p>This header MAY be sent as part of the RECORD request. A value of
          false tells the recorder resource to start the operation, but not to
          start the no-input timer until the client sends a START-INPUT-TIMERS
          request to the recorder resource. This is useful in the scenario
          when the recorder and synthesizer resources are not part of the same
          session. When a kill-on-barge-in prompt is being played, the client
          may want the RECORD request to be simultaneously active so that it
          can detect and implement kill-on-barge-in. But at the same time the
          client doesn't want the recorder resource to start the no-input
          timers until the prompt is finished. The default value is
          "true".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
start-input-timers       =  "Start-Input-Timers" ":"
                            BOOLEAN CRLF
</pre></div>
<a name="anchor151"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4.15"></a><h3>10.4.15.&nbsp;
New Audio Channel</h3>

<p>This header is the same as the one described for the Recognizer
          resource (see <a class='info' href='#sec.newAudioChannel'>Section&nbsp;9.4.23<span> (</span><span class='info'>New Audio Channel</span><span>)</span></a>).
</p>
<a name="anchor152"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.5"></a><h3>10.5.&nbsp;
Recorder Message Body</h3>

<p>If the RECORD request did not have a Record-Uri header, the <tt>STOP</tt> response or the RECORD-COMPLETE event MUST
        contain a message body carrying the captured audio. In this case, the
        message carrying the audio content has a Record-Uri header with a cid
        value pointing to the message body entity that contains the recorded
        audio.
</p>
<a name="anchor153"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.6"></a><h3>10.6.&nbsp;
RECORD</h3>

<p>The RECORD request places the recorder resource in the Recording
        state. Depending on the headers specified in the RECORD method, the
        resource may start recording the audio immediately or wait for the end
        pointing functionality to detect speech in the audio. The audio is
        then made available to the client either in the message body or as
        specified by Record-URI.
</p>
<p>The server MUST support the HTTPS URI scheme and MAY support other
        schemes. Note that due to the sensitive nature of voice recordings,
        any other URI schemes supported by the server SHOULD employ integrity
        and confidentiality on the data transfer (e.g. FTPS).
</p>
<p>If a RECORD operation is already in progress, invoking this method
        causes the server to issue a response having a status code of 402,
        "Method not valid in this state", and a COMPLETE request state.
</p>
<p>If the recording-uri is not valid, a status code of 404, "Illegal
        Value for Header", is returned in the response. If it is impossible
        for the server to create the requested stored content, a status code
        of 407, "Method or Operation Failed", is returned.
</p>
<p>If the type specified in the Media-Type header is not supported,
        the server MUST respond with a status code of 409, "Unsupported Header
        Value", with the Media-Type header in its response.
</p>
<p>When the recording operation is initiated, the response indicates
        an IN-PROGRESS request state. The server MAY generate a subsequent
        START-OF-INPUT event when speech is detected. Upon completion of the
        recording operation, the server generates a RECORD-COMPLETE event.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 386 RECORD 543257
       Channel-Identifier:32AECB23433802@recorder
       Record-URI:&lt;file://mediaserver/recordings/myfile.wav&gt;
       Capture-On-Speech:true
       Final-Silence:300
       Max-Time:6000

S-&gt;C:  MRCP/2.0 48 456234 200 IN-PROGRESS
       Channel-Identifier:32AECB23433802@recorder

S-&gt;C:  MRCP/2/0 49 START-OF-INPUT 456234 IN-PROGRESS
       Channel-Identifier:32AECB23433802@recorder

S-&gt;C:  MRCP/2.0 54 RECORD-COMPLETE 456234 COMPLETE
       Channel-Identifier:32AECB23433802@recorder
       Completion-Cause:000 success-silence
       Record-URI:&lt;file://mediaserver/recordings/myfile.wav&gt;;
                  size=242552;duration=25645
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;RECORD Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor154"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.7"></a><h3>10.7.&nbsp;
STOP</h3>

<p>The <tt>STOP</tt> method moves the recorder from
        the recording state back to the idle state. If a RECORD request is
        active and the <tt>STOP</tt> request successfully
        terminated it, then the STOP response MUST contain an
        active-request-id-list header containing the <tt>RECORD</tt> request-id that was terminated. In this
        case, no RECORD-COMPLETE event is sent for the terminated request. If
        there was no recording active, then the response MUST NOT contain an
        active-request-id-list header. If the recording was a success the
        <tt>STOP</tt> response MUST contain a Record-URI
        header pointing to the recorded audio content or to an typed entity in
        the body of the <tt>STOP</tt> response containing
        the recorded audio. The <tt>STOP</tt> method may
        have a Trim-Length header, in which case the specified length of audio
        is trimmed from the end of the recording after the stop. In any case,
        the response MUST contain a status of 200 (Success).
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 386 RECORD 543257
       Channel-Identifier:32AECB23433802@recorder
       Record-URI:&lt;file://mediaserver/recordings/myfile.wav&gt;
       Capture-On-Speech:true
       Final-Silence:300
       Max-Time:6000

S-&gt;C:  MRCP/2.0 48 456234 200 IN-PROGRESS
       Channel-Identifier:32AECB23433802@recorder

S-&gt;C:  MRCP/2/0 49 START-OF-INPUT 456234 IN-PROGRESS
       Channel-Identifier:32AECB23433802@recorder

C-&gt;S:  MRCP/2.0 386 STOP 543257
       Channel-Identifier:32AECB23433802@recorder
       Trim-Length:200

S-&gt;C:  MRCP/2.0 48 456234 200 COMPLETE
       Channel-Identifier:32AECB23433802@recorder
       Record-URI:&lt;file://mediaserver/recordings/myfile.wav&gt;;
                  size=324253;duration=24561
       Active-Request-Id-List:543257
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;STOP Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor155"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.8"></a><h3>10.8.&nbsp;
RECORD-COMPLETE</h3>

<p>If the recording completes due to no-input, silence after speech,
        or max-time, the server MUST generate the RECORD-COMPLETE event to the
        client with a request-state of "COMPLETE". If the recording was a
        success the RECORD-COMPLETE event contains a Record-URI header
        pointing to the recorded audio file on the server or to a typed entity
        in the message body containing the recorded audio .
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 386 RECORD 543257
       Channel-Identifier:32AECB23433802@recorder
       Record-URI:&lt;file://mediaserver/recordings/myfile.wav&gt;
       Capture-On-Speech:true
       Final-Silence:300
       Max-Time:6000

S-&gt;C:  MRCP/2.0 48 456234 200 IN-PROGRESS
       Channel-Identifier:32AECB23433802@recorder

S-&gt;C:  MRCP/2/0 49 START-OF-INPUT 456234 IN-PROGRESS
       Channel-Identifier:32AECB23433802@recorder

S-&gt;C:  MRCP/2.0 48 RECORD-COMPLETE 456234 COMPLETE
       Channel-Identifier:32AECB23433802@recorder
       Completion-Cause:000 success
       Record-URI:&lt;file://mediaserver/recordings/myfile.wav&gt;;
                  size=325325;duration=24652
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;RECORD-COMPLETE Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor156"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.9"></a><h3>10.9.&nbsp;
START-INPUT-TIMERS</h3>

<p>This request is sent from the client to the recorder resource when
        it discovers that a kill-on-barge-in prompt has finished playing. This
        is useful in the scenario when the recorder and synthesizer resources
        are not in the same MRCPv2 session. When a kill-on-barge-in prompt is
        being played, the client wants the RECORD request to be simultaneously
        active so that it can detect and implement kill on barge-in. But at
        the same time the client doesn't want the recorder resource to start
        the no-input timers until the prompt is finished. The
        Start-Input-Timers header in the RECORD request allows the client to
        say if the timers should be started or not. In the above case the
        recorder resource does not start the timers until the client sends a
        START-INPUT-TIMERS method to the recorder.
</p>
<a name="anchor157"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.10"></a><h3>10.10.&nbsp;
START-OF-INPUT</h3>

<p>The START-OF-INPUT event is returned from the server to the client
        once the server has detected speech. This event is always returned by
        the recording resource when speech has been detected. The recorder
        resource also MUST send a Proxy-Sync-Id header with a unique value for
        this event.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:  MRCP/2.0 49 START-OF-INPUT 543259 IN-PROGRESS
       Channel-Identifier:32AECB23433801@recorder
       Proxy-Sync-Id:987654321
</pre></div>
<a name="sec.verifierResource"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Speaker Verification and Identification</h3>

<p>This section describes the methods, responses and events employed by
      MRCPv2 for doing Speaker Verification / Identification.
</p>
<p>Speaker verification is a voice authentication methodology that can
      be used to identify the speaker in order to grant the user access to
      sensitive information and transactions. Because speech is a biometric, a
      number of essential security considerations related to biometric
      authentication technologies apply to its implementation and usage.
      Implementers should carefully read <a class='info' href='#sec.securityConsiderations'>Section&nbsp;12<span> (</span><span class='info'>Security Considerations</span><span>)</span></a> in this document and the
      corresponding section of <a class='info' href='#RFC4313'>Speechsc
      Requirements<span> (</span><span class='info'>Oran, D., &ldquo;Requirements for Distributed Control of Automatic Speech Recognition (ASR), Speaker Identification/Speaker Verification (SI/SV), and Text-to-Speech (TTS) Resources,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4313].
</p>
<p>In speaker verification, a recorded utterance is compared to a
      previously stored voiceprint which is in turn associated with a claimed
      identity for that user. Verification typically consists of two phases: a
      designation phase to establish the claimed identity of the caller and an
      execution phase in which a voiceprint is either created (training) or
      used to authenticate the claimed identity (verification).
</p>
<p>Speaker identification is the process of associating an unknown
      speaker with a member in a population. It does not employ a claim of
      identity. When an individual claims to belong to a group (e.g., one of
      the owners of a joint bank account) a group authentication is performed.
      This is generally implemented as a kind of verification involving
      comparison with more than one voice model. It is sometimes called
      'multi-verification.' If the individual speaker can be identified from
      the group, this may be useful for applications where multiple users
      share the same access privileges to some data or application. Speaker
      identification and group authentication are also done in two phases, a
      designation phase and an execution phase. Note that from a functionality
      standpoint identification can be thought of as a special case of group
      authentication (if the individual is identified) where the group is the
      entire population, although the implementation of speaker identification
      may be different from the way group authentication is performed. To
      accommodate single-voiceprint verification, verification against
      multiple voiceprints, group authentication, and identification, this
      specification provides a single set of methods that can take a list of
      identifiers, called &ldquo;voiceprint identifiers&rdquo;, and return a
      list of identifiers, with a score for each representing how well the
      input speech matched each identifier. The input and output lists of
      identifiers do not have to match, allowing a vendor-specific group
      identifier to be used as input to indicate that identification is to be
      performed. In this specification, the terms &ldquo;Identification&rdquo;
      and &ldquo;Multi-verification&rdquo; are used to indicate that the input
      represents a group (potentially the entire population) and that results
      for multiple voiceprints may be returned.
</p>
<p>It is possible for a speaker verification resource to share the same
      session with a recognizer resource or to operate independently. In order
      to share the same session, the verification and recognizer resources
      MUST be allocated from within the same SIP dialog. Otherwise, an
      independent verification resource, running on the same physical server
      or a separate one, will be set up. Note that in addition to allowing
      both resources to be allocated in the same INVITE, it is possible to
      allocate one initially and the other later via a re-INVITE.
</p>
<p>Some of the speaker verification methods, described below, apply only
      to a specific mode of operation.
</p>
<p>The verification resource has a verification buffer associated with
      it (see <a class='info' href='#sec.verBufferUtterance'>Section&nbsp;11.4.14<span> (</span><span class='info'>Ver-Buffer-Utterance</span><span>)</span></a>). This allows the
      storage of speech utterances for the purposes of verification,
      identification or training from the buffered speech. This buffer is
      owned by the verification resource but other input resources such as the
      recognition resource or recorder resource may write to it. This allows
      the speech received as part of a recognition or recording operation to
      be later used for verification, identification or training. Access to
      the buffer is limited to one operation at time. Hence when the resource
      is doing read, write or delete operation such as a RECOGNIZE with
      ver-buffer-utterance turned on, another operation involving the buffer
      fails with a status of 402. The verification buffer can be cleared by a
      CLEAR-BUFFER request from the client and is freed when the verification
      resource is deallocated or the session with the server terminates.
</p>
<p>The verification buffer is different from collecting waveforms and
      processing them using either the real time audio stream or stored audio,
      because this buffering mechanism does not simply accumulate speech to a
      buffer. The verification buffer may contain additional information
      gathered by the recognition resource that serves to improve verification
      performance.
</p>
<a name="anchor158"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.1"></a><h3>11.1.&nbsp;
Speaker Verification State Machine</h3>

<p>Speaker verification may operate in a training or a verification
        session. Starting one of these sessions does not change the state of
        the verification resource, i.e. it remains idle. Once a verification
        or training session is started, then utterances are trained or
        verified by calling the VERIFY or VERIFY-FROM-BUFFER method. The state
        of the verification resources goes from IDLE to VERIFYING state each
        time VERIFY or VERIFY-FROM-BUFFER is called.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Idle              Session Opened       Verifying/Training
  State             State                State
   |                   |                         |
   |--START-SESSION---&gt;|                         |
   |                   |                         |
   |                   |----------|              |
   |                   |     START-SESSION       |
   |                   |&lt;---------|              |
   |                   |                         |
   |&lt;--END-SESSION-----|                         |
   |                   |                         |
   |                   |---------VERIFY---------&gt;|
   |                   |                         |
   |                   |---VERIFY-FROM-BUFFER---&gt;|
   |                   |                         |
   |                   |----------|              |
   |                   |  VERIFY-ROLLBACK        |
   |                   |&lt;---------|              |
   |                   |                         |
   |                   |                |--------|
   |                   | GET-INTERMEDIATE-RESULT |
   |                   |                |-------&gt;|
   |                   |                         |
   |                   |                |--------|
   |                   |     START-INPUT-TIMERS  |
   |                   |                |-------&gt;|
   |                   |                         |
   |                   |                |--------|
   |                   |         START-OF-INPUT  |
   |                   |                |-------&gt;|
   |                   |                         |
   |                   |&lt;-VERIFICATION-COMPLETE--|
   |                   |                         |
   |                   |&lt;--------STOP------------|
   |                   |                         |
   |                   |----------|              |
   |                   |         STOP            |
   |                   |&lt;---------|              |
   |                   |                         |
   |----------|        |                         |
   |         STOP      |                         |
   |&lt;---------|        |                         |
   |                   |----------|              |
   |                   |    CLEAR-BUFFER         |
   |                   |&lt;---------|              |
   |                   |                         |
   |----------|        |                         |
   |   CLEAR-BUFFER    |                         |
   |&lt;---------|        |                         |
   |                   |                         |
   |                   |----------|              |
   |                   |   QUERY-VOICEPRINT      |
   |                   |&lt;---------|              |
   |                   |                         |
   |----------|        |                         |
   | QUERY-VOICEPRINT  |                         |
   |&lt;---------|        |                         |
   |                   |                         |
   |                   |----------|              |
   |                   |  DELETE-VOICEPRINT      |
   |                   |&lt;---------|              |
   |                   |                         |
   |----------|        |                         |
   | DELETE-VOICEPRINT |                         |
   |&lt;---------|        |                         |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Verification Resource State Machine&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor159"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.2"></a><h3>11.2.&nbsp;
Speaker Verification Methods</h3>

<p>The verification resource supports the following methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
verification-method      =  "START-SESSION"
                         / "END-SESSION"
                         / "QUERY-VOICEPRINT"
                         / "DELETE-VOICEPRINT"
                         / "VERIFY"
                         / "VERIFY-FROM-BUFFER"
                         / "VERIFY-ROLLBACK"
                         / "STOP"
                         / "CLEAR-BUFFER"
                         / "START-INPUT-TIMERS"
                         / "GET-INTERMEDIATE-RESULT"
</pre></div>
<p>These methods allow the client to control the mode and target of
        verification or identification operations within the context of a
        session. All the verification input operations that occur within a
        session may be used to create, update, or validate against the
        voiceprint specified during the session. At the beginning of each
        session the verification resource is reset to the state it had prior
        to any previous verification session.
</p>
<p>Verification/identification operations can be executed against live
        or buffered audio. The verification resource provides methods for
        collecting and evaluating live audio data, and methods for controlling
        the verification resource and adjusting its configured behavior.
</p>
<p>There are no dedicated methods for collecting buffered audio data.
        This is accomplished by calling VERIFY, RECOGNIZE or RECORD as
        appropriate for the resource, with the header ver-buffer-utterance.
        Then, when the following method is called verification is performed
        using the set of buffered audio. </p>
<ol class="text">
<li>VERIFY-FROM-BUFFER
</li>
</ol>

<p>The following methods are used for verification of live audio
        utterances : </p>
<ol class="text">
<li>VERIFY
</li>
<li>START-INPUT-TIMERS
</li>
</ol>

<p>The following methods are used for configuring the verification
        resource and for establishing resource states : </p>
<ol class="text">
<li>START-SESSION
</li>
<li>END-SESSION
</li>
<li>QUERY-VOICEPRINT
</li>
<li>DELETE-VOICEPRINT
</li>
<li>VERIFY-ROLLBACK
</li>
<li><tt>STOP</tt>
</li>
<li>CLEAR-BUFFER
</li>
</ol>

<p>The following method allows the polling a Verification in progress
        for intermediate results. </p>
<ol class="text">
<li>GET-INTERMEDIATE-RESULT
</li>
</ol>

<a name="anchor160"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.3"></a><h3>11.3.&nbsp;
Verification Events</h3>

<p>The verification resource generates the following events.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
verification-event       =  "VERIFICATION-COMPLETE"
                         /  "START-OF-INPUT"
</pre></div>
<a name="anchor161"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4"></a><h3>11.4.&nbsp;
Verification Header Fields</h3>

<p>A verification resource message may contain headers containing
        request options and information to augment the Request, Response or
        Event message it is associated with.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
verification-header      =  repository-uri
                         /  voiceprint-identifier
                         /  verification-mode
                         /  adapt-model
                         /  abort-model
                         /  min-verification-score
                         /  num-min-verification-phrases
                         /  num-max-verification-phrases
                         /  no-input-timeout
                         /  save-waveform
                         /  media-type
                         /  waveform-uri
                         /  voiceprint-exists
                         /  ver-buffer-utterance
                         /  input-waveform-uri
                         /  completion-cause
                         /  completion-reason
                         /  speech-complete-timeout
                         /  new-audio-channel
                         /  abort-verification
                         /  start-input-timers
</pre></div>
<a name="sec.repositoryURI"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.1"></a><h3>11.4.1.&nbsp;
Repository-URI</h3>

<p>This header specifies the voiceprint repository to be used or
          referenced during speaker verification or identification operations.
          This header is required in the START-SESSION, QUERY-VOICEPRINT and
          DELETE-VOICEPRINT methods.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
repository-uri           =  "Repository-URI" ":" Uri CRLF
</pre></div>
<a name="anchor162"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.2"></a><h3>11.4.2.&nbsp;
Voiceprint-Identifier</h3>

<p>This header specifies the claimed identity for verification
          applications. The claimed identity may be used to specify an
          existing voiceprint or to establish a new voiceprint. This header is
          required in the QUERY-VOICEPRINT and DELETE-VOICEPRINT methods. The
          Voiceprint-Identifier is required in the START-SESSION method for
          verification operations. For Identification or Multi-Verification
          operations this header may contain a list of voiceprint identifiers
          separated by semi-colons. For identification operations the client
          can also specify a voiceprint group identifier instead of a list of
          voiceprint identifiers.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
voiceprint-identifier        =  "Voiceprint-Identifier" ":"
                                1*VCHAR "." 1*VCHAR
                                *[";" 1*VCHAR "." 1*VCHAR] CRLF
</pre></div>
<a name="anchor163"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.3"></a><h3>11.4.3.&nbsp;
Verification-Mode</h3>

<p>This header specifies the mode of the verification resource and
          is set by the START-SESSION method. Acceptable values indicate
          whether the verification session will train a voiceprint ("train")
          or verify/identify using an existing voiceprint ("verify").
</p>
<p>Training and verification sessions both require the voiceprint
          Repository-URI to be specified in the START-SESSION. In many usage
          scenarios, however, the system does not know the speaker's claimed
          identity until a recognition operation has, for example, recognized
          a an account number to which the user desires access. In order to
          allow the first few utterances of a dialog to be both recognized and
          verified, the verification resource on the MRCPv2 server retains a
          buffer. In this buffer, the MRCPv2 server accumulates recognized
          utterances. The client can later execute a verification method and
          apply the buffered utterances to the current verification
          session.
</p>
<p>Some voice user interfaces may require additional user input that
          should not be subject to verification. For example, the user's input
          may have been recognized with low confidence and thus require a
          confirmation cycle. In such cases, the client should not execute the
          VERIFY or VERIFY-FROM-BUFFER methods to collect and analyze the
          caller's input. A separate recognizer resource can analyze the
          caller's response without any participation by the verification
          resource.
</p>
<p>Once the following conditions have been met: </p>
<ol class="text">
<li>Voiceprint identity has been successfully established through
              the voiceprint identifier headers of the START-SESSION method,
              and
</li>
<li>the verification mode has been set to one of "train" or
              "verify",
</li>
</ol><p>the verification resource may begin providing verification
          information during verification operations. If the verification
          resource does not reach one of the two major states ("train" or
          "verify") , it MUST report an error condition in the MRCPv2 status
          code to indicate why the verification resource is not ready for the
          corresponding usage.
</p>
<p>The value of verification-mode is persistent within a
          verification session. If the client attempts to change the mode
          during a verification session, the verification resource reports an
          error and the mode retains its current value.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
verification-mode            =  "Verification-Mode" ":"
                                verification-mode-string

verification-mode-string     =  "train"
                             /  "verify"
</pre></div>
<a name="anchor164"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.4"></a><h3>11.4.4.&nbsp;
Adapt-Model</h3>

<p>This header indicates the desired behavior of the verification
          resource after a successful verification operation. If the value of
          this header is "true", the sever SHOULD use audio collected during
          the verification session to update the voiceprint to account for
          ongoing changes in a speaker's incoming speech characteristics,
          unless local policy prohibits updating the voiceprint. If the value
          is "false" (the default), the server MUST NOT update the voiceprint.
          This header MAY occur in the START-SESSION method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
adapt-model              = "Adapt-Model" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor165"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.5"></a><h3>11.4.5.&nbsp;
Abort-Model</h3>

<p>The Abort-Model header indicates the desired behavior of the
          verification resource upon session termination. If the value of this
          header is "true", the server MUST discard any pending changes to a
          voiceprint due to verification training or verification adaptation.
          If the value is "false" (the default), the server MUST commit any
          pending changes for a training session or a successful verification
          session to the voiceprint repository. A value of "true" for
          Abort-Model overrides a value of "true" for the Adapt-Model header.
          This header MAY occur in the END-SESSION method.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
abort-model             = "Abort-Model" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor166"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.6"></a><h3>11.4.6.&nbsp;
Min-Verification-Score</h3>

<p>The Min-Verification-Score header, when used with a verification
          resource through a <tt>SET-PARAMS</tt>, <tt>GET-PARAMS</tt> or START-SESSION method, determines
          the minimum verification score for which a verification decision of
          "accepted" may be declared by the server. This is a float value
          between -1.0 and 1.0 that determines the minimum verification score
          for which a verification decision of "accepted" may be declared by
          the server. The default value for this header is implementation
          specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
min-verification-score  = "Min-Verification-Score" ":"
                          [ %x2D ] FLOAT CRLF
</pre></div>
<a name="anchor167"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.7"></a><h3>11.4.7.&nbsp;
Num-Min-Verification-Phrases</h3>

<p>The Num-Min-Verification-Phrases header is used to specify the
          minimum number of valid utterances before a positive decision is
          given for verification. The value for this header is an integer and
          the default value is 1. The verification resource MUST NOT declare a
          verification 'accepted' unless Num-Min-Verification-Phrases valid
          utterances have been received. The minimum value is 1. This header
          MAY occur in START-SESSION, <tt>SET-PARAMS</tt>
          or <tt>GET-PARAMS</tt>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
num-min-verification-phrases =  "Num-Min-Verification-Phrases" ":"
                                1*19DIGIT CRLF
</pre></div>
<a name="anchor168"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.8"></a><h3>11.4.8.&nbsp;
Num-Max-Verification-Phrases</h3>

<p>The Num-Max-Verification-Phrases header is used to specify the
          number of valid utterances required before a decision is forced for
          verification. The verification resource MUST NOT return a decision
          of 'undecided' once Num-Max-Verification-Phrases have been collected
          and used to determine a verification score. The value for this
          header is an integer and the minimum value is 1. The default value
          is implementation-specific. This header MAY occur in START-SESSION,
          <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
num-max-verification-phrases =  "Num-Max-Verification-Phrases" ":"
                                 1*19DIGIT CRLF
</pre></div>
<a name="anchor169"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.9"></a><h3>11.4.9.&nbsp;
No-Input-Timeout</h3>

<p>The No-Input-Timeout header sets the length of time from the
          start of the verification timers (see START-INPUT-TIMERS) until the
          declaration of a no-input event in the VERIFICATION-COMPLETE server
          event message. The value is in milliseconds. This header MAY occur
          in VERIFY, <tt>SET-PARAMS</tt> or <tt>GET-PARAMS</tt>. The value for this header ranges
          from 0 to an implementation specific maximum value. The default
          value for this header is implementation specific.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
no-input-timeout         = "No-Input-Timeout" ":" 1*19DIGIT CRLF
</pre></div>
<a name="anchor170"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.10"></a><h3>11.4.10.&nbsp;
Save-Waveform</h3>

<p>This header allows the client to request the verification
          resource to save the audio stream that was used for
          verification/identification. The verification resource MUST attempt
          to record the audio and make it available to the client in the form
          of a URI returned in the Waveform-URI header in the
          VERIFICATION-COMPLETE event. If there was an error in recording the
          stream or the audio content is otherwise not available, the
          verification resource MUST return an empty Waveform-URI header. The
          default value for this header is "false". This header MAY appear in
          the VERIFY method. Note that this header does not appear in the
          VERIFY-FROM-BUFFER method since it only controls whether or not to
          save the waveform for live verification / identification
          operations.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
save-waveform            =  "Save-Waveform" ":" BOOLEAN CRLF
</pre></div>
<a name="anchor171"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.11"></a><h3>11.4.11.&nbsp;
Media Type</h3>

<p>This header MAY be specified in the SET-PARAMS, GET-PARAMS or the
          VERIFY methods and tells the server resource the Media Type of the
          captured audio or video such as the one captured and returned by the
          Waveform-URI header.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
media-type               =  "Media-Type" ":" media-type-value
                            CRLF
</pre></div>
<a name="anchor172"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.12"></a><h3>11.4.12.&nbsp;
Waveform-URI</h3>

<p>If the Save-Waveform header is set to true, the verification
          resource MUST attempt to record the incoming audio stream of the
          verification into a file and provide a URI for the client to access
          it. This header MUST be present in the VERIFICATION-COMPLETE event
          if the Save-Waveform header was set to true by the client. The value
          of the header MUST be empty if there was some error condition
          preventing the server from recording. Otherwise, the URI generated
          by the server MUST be globally unique across the server and all its
          verification sessions. The content MUST be available via the URI
          until the verification session ends. Since the Save-Waveform header
          applies only to live verification / identification operations, the
          server can return the Waveform-URI only in the VERIFICATION-COMPLETE
          event for live verification / identification operations.
</p>
<p>The server MUST also return the size in bytes and the duration in
          milliseconds of the recorded audio wave-form as parameters
          associated with the header.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
waveform-uri             =  "Waveform-URI" ":" ["&lt;" Uri "&gt;"
                            ";" "size" "=" 1*19DIGIT
                            ";" "duration" "=" 1*19DIGIT] CRLF
</pre></div>
<a name="anchor173"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.13"></a><h3>11.4.13.&nbsp;
Voiceprint-Exists</h3>

<p>This header MUST be returned in QUERY-VOICEPRINT and
          DELETE-VOICEPRINT responses. This is the status of the voiceprint
          specified in the QUERY-VOICEPRINT method. For the DELETE-VOICEPRINT
          method this header indicates the status of the voiceprint at the
          moment the method execution started.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
voiceprint-exists    =  "Voiceprint-Exists" ":" BOOLEAN CRLF
</pre></div>
<a name="sec.verBufferUtterance"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.14"></a><h3>11.4.14.&nbsp;
Ver-Buffer-Utterance</h3>

<p>This header is used to indicate that this utterance could be
          later considered for Speaker Verification. This way, a client can
          request the server to buffer utterances while doing regular
          recognition or verification activities and speaker verification can
          later be requested on the buffered utterances. This header is
          OPTIONAL in the RECOGNIZE, VERIFY and RECORD methods. The default
          value for this header is "false".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
ver-buffer-utterance     = "Ver-Buffer-Utterance" ":" BOOLEAN
                           CRLF
</pre></div>
<a name="anchor174"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.15"></a><h3>11.4.15.&nbsp;
Input-Waveform-Uri</h3>

<p>This header specifies stored audio content that the client
          requests the server to fetch and process according to the current
          verification mode, either to train the voiceprint or verify a
          claimed identity. This header enables the client to implement the
          buffering use case where the recognizer and verification resources
          are in different sessions and the verification buffer technique
          cannot be used. It MAY be specified on the VERIFY request.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
input-waveform-uri           =  "Input-Waveform-URI" ":" Uri CRLF
</pre></div>
<a name="anchor175"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.16"></a><h3>11.4.16.&nbsp;
Completion-Cause</h3>

<p>This header MUST be part of a VERIFICATION-COMPLETE event from
          the verification resource to the client. This indicates the cause of
          VERIFY or VERIFY-FROM-BUFFER method completion. This header MUST be
          sent in the VERIFY, VERIFY-FROM-BUFFER, and QUERY-VOICEPRINT
          responses, if they return with a failure status and a COMPLETE
          state.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-cause         = "Completion-Cause" ":" 3DIGIT SP
                           1*VCHAR CRLF
</pre></div><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left" width="10%"><col align="left" width="40%"><col align="left">
<tr><th align="left">Cause-Code</th><th align="left">Cause-Name</th><th align="left">Description</th></tr>
<tr>
<td align="left">000</td>
<td align="left">success</td>
<td align="left">VERIFY or VERIFY-FROM-BUFFER request completed successfully.
            The verify decision can be "accepted", "rejected", or
            "undecided".</td>
</tr>
<tr>
<td align="left">001</td>
<td align="left">error</td>
<td align="left">VERIFY or VERIFY-FROM-BUFFER request terminated prematurely due
            to a verification resource or system error.</td>
</tr>
<tr>
<td align="left">002</td>
<td align="left">no-input-timeout</td>
<td align="left">VERIFY request completed with no result due to a
            no-input-timeout.</td>
</tr>
<tr>
<td align="left">003</td>
<td align="left">too-much-speech-timeout</td>
<td align="left">VERIFY request completed result due to too much speech.</td>
</tr>
<tr>
<td align="left">004</td>
<td align="left">speech-too-early</td>
<td align="left">VERIFY request completed with no result due to spoke too
            soon.</td>
</tr>
<tr>
<td align="left">005</td>
<td align="left">buffer-empty</td>
<td align="left">VERIFY-FROM-BUFFER request completed with no result due to
            empty buffer.</td>
</tr>
<tr>
<td align="left">006</td>
<td align="left">out-of-sequence</td>
<td align="left">Verification operation failed due to out-of-sequence method
            invocations. For example calling VERIFY before
            QUERY-VOICEPRINT.</td>
</tr>
<tr>
<td align="left">007</td>
<td align="left">repository-uri-failure</td>
<td align="left">Failure accessing Repository URI.</td>
</tr>
<tr>
<td align="left">008</td>
<td align="left">repository-uri-missing</td>
<td align="left">Repository-uri is not specified.</td>
</tr>
<tr>
<td align="left">009</td>
<td align="left">voiceprint-id-missing</td>
<td align="left">Voiceprint-identification is not specified.</td>
</tr>
<tr>
<td align="left">010</td>
<td align="left">voiceprint-id-not-exist</td>
<td align="left">Voiceprint-identification does not exist in the voiceprint
            repository.</td>
</tr>
</table>
<br clear="all" />

<a name="anchor176"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.17"></a><h3>11.4.17.&nbsp;
Completion Reason</h3>

<p>This header MAY be specified in a VERIFICATION-COMPLETE event
          coming from the verifier resource to the client. It contains the
          reason text behind the VERIFY request completion. This header
          communicates text describing the reason for the failure.
</p>
<p>The completion reason text is provided for client use in logs and
          for debugging and instrumentation purposes. Clients MUST NOT
          interpret the completion reason text.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
completion-reason        =  "Completion-Reason" ":"
                            quoted-string CRLF
</pre></div>
<a name="anchor177"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.18"></a><h3>11.4.18.&nbsp;
Speech Complete Timeout</h3>

<p>This header is the same as the one described for the Recognizer
          resource. See <a class='info' href='#sec.speechCompleteTimeout'>Section&nbsp;9.4.15<span> (</span><span class='info'>Speech Complete Timeout</span><span>)</span></a>. This
          header MAY occur in VERIFY, SET-PARAMS, or GET-PARAMS.
</p>
<a name="anchor178"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.19"></a><h3>11.4.19.&nbsp;
New Audio Channel</h3>

<p>This header is the same as the one described for the Recognizer
          resource. See <a class='info' href='#sec.newAudioChannel'>Section&nbsp;9.4.23<span> (</span><span class='info'>New Audio Channel</span><span>)</span></a>. This
          header MAY be specified in a VERIFY request.
</p>
<a name="anchor179"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.20"></a><h3>11.4.20.&nbsp;
Abort-Verification</h3>

<p>This header MUST be sent in a <tt>STOP</tt>
          request to indicate whether or not to abort a VERIFY method in
          progress. A value of "true" requests the server to discard the
          results. A value of "false" requests the server to return in the
          <tt>STOP</tt> response the verification results
          obtained up to the point it received the <tt>STOP</tt> request.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Abort-verification   =  "Abort-Verification " ":" BOOLEAN CRLF
</pre></div>
<a name="anchor180"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.4.21"></a><h3>11.4.21.&nbsp;
Start Input Timers</h3>

<p>This header MAY be sent as part of a VERIFY request. A value of
          false tells the verification resource to start the VERIFY operation,
          but not to start the no-input timer yet. The verification resource
          MUST NOT start the timers until the client sends a
          START-INPUT-TIMERS request to the resource. This is useful in the
          scenario when the verifier and synthesizer resources are not part of
          the same session. In this scenario, when a kill-on-barge-in prompt
          is being played, the client may want the VERIFY request to be
          simultaneously active so that it can detect and implement
          kill-on-barge-in. But at the same time the client doesn't want the
          verification resource to start the no-input timers until the prompt
          is finished. The default value is "true".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
start-input-timers       =  "Start-Input-Timers" ":"
                            BOOLEAN CRLF
</pre></div>
<a name="anchor181"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5"></a><h3>11.5.&nbsp;
Verification Message Body</h3>

<p>A verification response or event message may carry additional data
        as described in the following subsection.
</p>
<a name="anchor182"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.1"></a><h3>11.5.1.&nbsp;
Verification Result Data</h3>

<p>Verification results are returned to the client in the message
          body of the VERIFICATION-COMPLETE event or the
          GET-INTERMEDIATE-RESULT response message as described in <a class='info' href='#sec.result'>Section&nbsp;6.3<span> (</span><span class='info'>Generic Result Structure</span><span>)</span></a>). Element and attribute descriptions for
          the verification portion of the NLSML format are provided in <a class='info' href='#sec.verificationResults'>Section&nbsp;11.5.2<span> (</span><span class='info'>Verification Result Elements</span><span>)</span></a> with a normative definition
          of the schema in <a class='info' href='#sec.verificationResultsSchema'>Section&nbsp;16.3<span> (</span><span class='info'>Verification Results Schema Definition</span><span>)</span></a>.
</p>
<a name="sec.verificationResults"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2"></a><h3>11.5.2.&nbsp;
Verification Result Elements</h3>

<p>All verification elements are contained within a single
          &lt;verification-result&gt; element under &lt;result&gt;. The
          elements are described below and have the schema defined in <a class='info' href='#sec.enrollmentResultsSchema'>Section&nbsp;16.2<span> (</span><span class='info'>Enrollment Results Schema Definition</span><span>)</span></a>. The following elements
          are defined:
</p>
<p></p>
<ol class="text">
<li>Voiceprint
</li>
<li>Incremental
</li>
<li>Cumulative
</li>
<li>Decision
</li>
<li>Utterance-Length
</li>
<li>Device
</li>
<li>Gender
</li>
<li>Adapted
</li>
<li>Verification-Score
</li>
<li>Vendor-Specific-Results
</li>
</ol>

<a name="anchor183"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.1"></a><h3>11.5.2.1.&nbsp;
Voiceprint</h3>

<p>This element in the verification results provides information
            on how the speech data matched a single voiceprint. The result
            data returned may have more than one such entity in the case of
            Identification or Multi-Verification. Each <tt>&lt;voiceprint&gt;</tt> element and the XML data
            within the element describe verification result information for
            how well the speech data matched that particular voiceprint. The
            list of voiceprint element data are ordered according to their
            cumulative verification match scores, with the highest score
            first.
</p>
<a name="anchor184"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.2"></a><h3>11.5.2.2.&nbsp;
Cumulative</h3>

<p>Within each <tt>&lt;voiceprint&gt;</tt>
            element there MUST be a <tt>&lt;cumulative&gt;</tt> element with the
            cumulative scores of how well multiple utterances matched the
            voiceprint.
</p>
<a name="anchor185"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.3"></a><h3>11.5.2.3.&nbsp;
Incremental</h3>

<p>The first <tt>&lt;voiceprint&gt;</tt>
            element MAY contain an <tt>&lt;incremental&gt;</tt> element with the
            incremental scores of how well the last utterance matched the
            voiceprint.
</p>
<a name="anchor186"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.4"></a><h3>11.5.2.4.&nbsp;
Decision</h3>

<p>This element is found within the <tt>&lt;incremental&gt;</tt> or <tt>&lt;cumulative&gt;</tt> element within the
            verification results. Its value indicates the verification
            decision. It can have the values of "accepted", "rejected" or
            "undecided".
</p>
<a name="anchor187"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.5"></a><h3>11.5.2.5.&nbsp;
Utterance-Length</h3>

<p>This element MAY occur within either the <tt>&lt;incremental&gt;</tt> or <tt>&lt;cumulative&gt;</tt> elements within the first
            <tt>&lt;voiceprint&gt;</tt> element. Its value
            indicates the size in milliseconds, respectively, of the last
            utterance or the cumulated set of utterances.
</p>
<a name="anchor188"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.6"></a><h3>11.5.2.6.&nbsp;
Device</h3>

<p>This element is found within the incremental or cumulative
            element within the verification results. Its value indicates the
            apparent type of device used by the caller as determined by the
            verification resource. It can have the values of "cellular-phone",
            "electret-phone", "carbon-button-phone", or "unknown".
</p>
<a name="anchor189"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.7"></a><h3>11.5.2.7.&nbsp;
Gender</h3>

<p>This element is found within the incremental or cumulative
            element within the verification results. Its value indicates the
            apparent gender of the speaker as determined by the verification
            resource. It can have the values of "male", "female" or
            "unknown".
</p>
<a name="anchor190"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.8"></a><h3>11.5.2.8.&nbsp;
Adapted</h3>

<p>This element is found within the <tt>&lt;voiceprint&gt;</tt> element within the
            verification results. When verification is trying to confirm the
            voiceprint, this indicates if the voiceprint has been adapted as a
            consequence of analyzing the source utterances. It is not returned
            during verification training. The value can be "true" or
            "false".
</p>
<a name="anchor191"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.9"></a><h3>11.5.2.9.&nbsp;
Verification-Score</h3>

<p>This element is found within the incremental or cumulative
            element within the verification results. Its value indicates the
            score of the last utterance as determined by verification.
</p>
<p>During verification, the higher the score the more likely it is
            that the speaker is the same one as the one who spoke the
            voiceprint utterances. During training, the higher the score the
            more likely the speaker is to have spoken all of the analyzed
            utterances. The value is a floating point between -1.0 and 1.0. If
            there are no such utterances the score is -1. Note that the
            verification score is not a probability value.
</p>
<a name="anchor192"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.5.2.10"></a><h3>11.5.2.10.&nbsp;
Vendor-Specific-Results</h3>

<p>Verification results may contain implementation specific data
            which augment the information provided by the MRCPv2-defined
            elements. These may be useful to clients who have private
            knowledge of how to interpret these schema extensions.
            Implementation specific additions to the verification results
            schema MUST belong to the vendor's own namespace. In the result
            structure, they must either be indicated by a namespace prefix
            declared within the result or must be children of an element
            identified as belonging to the respective namespace.
</p>
<p>The following example shows the results of three voiceprints.
            Note that the first one has crossed the verification score
            threshold, and the speaker has been accepted. The voiceprint was
            also adapted with the most recent utterance.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        grammar="What-Grammar-URI"&gt;
  &lt;verification-result&gt;
    &lt;voiceprint id="johnsmith"&gt;
      &lt;adapted&gt; true &lt;/adapted&gt;
      &lt;incremental&gt;
        &lt;utterance-length&gt; 500 &lt;/utterance-length&gt;
        &lt;device&gt; cellular-phone &lt;/device&gt;
        &lt;gender&gt; male &lt;/gender&gt;
        &lt;decision&gt; accepted &lt;/decision&gt;
        &lt;verification-score&gt; 0.98514 &lt;/verification-score&gt;
      &lt;/incremental&gt;
      &lt;cumulative&gt;
        &lt;utterance-length&gt; 10000 &lt;/utterance-length&gt;
        &lt;device&gt; cellular-phone &lt;/device&gt;
        &lt;gender&gt; male &lt;/gender&gt;
        &lt;decision&gt; accepted &lt;/decision&gt;
        &lt;verification-score&gt; 0.96725&lt;/verification-score&gt;
      &lt;/cumulative&gt;
    &lt;/voiceprint&gt;
    &lt;voiceprint id="marysmith"&gt;
      &lt;cumulative&gt;
        &lt;verification-score&gt; 0.93410 &lt;/verification-score&gt;
      &lt;/cumulative&gt;
    &lt;/voiceprint&gt;
    &lt;voiceprint uri="juniorsmith"&gt;
      &lt;cumulative&gt;
        &lt;verification-score&gt; 0.74209 &lt;/verification-score&gt;
      &lt;/cumulative&gt;
    &lt;/voiceprint&gt;
  &lt;/verification-result&gt;
&lt;/result&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Verification Results Example 1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>In this next example, the verifier has enough information to
            decide to reject the speaker.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns:xmpl="http://www.example.org/2003/12/mrcpv2"
        grammar="What-Grammar-URI"&gt;
  &lt;verification-result&gt;
    &lt;voiceprint id="johnsmith"&gt;
      &lt;incremental&gt;
        &lt;utterance-length&gt; 500 &lt;/utterance-length&gt;
        &lt;device&gt; cellular-phone &lt;/device&gt;
        &lt;gender&gt; male &lt;/gender&gt;
        &lt;verification-score&gt; 0.88514 &lt;/verification-score&gt;
        &lt;xmpl:raspiness&gt; high &lt;/xmpl:raspiness&gt;
        &lt;xmpl:emotion&gt; sadness &lt;/xmpl:emotion&gt;
      &lt;/incremental&gt;
      &lt;cumulative&gt;
        &lt;utterance-length&gt; 10000 &lt;/utterance-length&gt;
        &lt;device&gt; cellular-phone &lt;/device&gt;
        &lt;gender&gt; male &lt;/gender&gt;
        &lt;decision&gt; rejected &lt;/decision&gt;
        &lt;verification-score&gt; 0.9345 &lt;/verification-score&gt;
      &lt;/cumulative&gt;
    &lt;/voiceprint&gt;
  &lt;/verification-result&gt;
&lt;/result&gt;
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Verification Results Example 2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor193"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.6"></a><h3>11.6.&nbsp;
START-SESSION</h3>

<p>The START-SESSION method starts a Speaker Verification or
        Identification session. Execution of this method places the
        verification resource into its initial state. If this method is called
        during an ongoing verification session, the previous session is
        implicitly aborted. If this method is invoked when VERIFY or
        VERIFY-FROM-BUFFER is active, the method fails and the server returns
        a status code of 402.
</p>
<p>Upon completion of the START-SESSION method, the verification
        resource MUST have terminated any ongoing verification session, and
        cleared any voiceprint designation.
</p>
<p>A verification session is associated with the voiceprint repository
        to be used during the session. This is specified through the
        "Repository-URI" header (see <a class='info' href='#sec.repositoryURI'>Section&nbsp;11.4.1<span> (</span><span class='info'>Repository-URI</span><span>)</span></a>).
</p>
<p>The START-SESSION method also establishes, through the
        Voiceprint-Identifier header, which voiceprints are to be matched or
        trained during the verification session. If this is an Identification
        session or if the client wants to do Multi-Verification, the
        Voiceprint-Identifier header contains a list of semi-colon separated
        voiceprint identifiers.
</p>
<p>The header "Adapt-Model" may also be present in the START-SESSION
        request to indicate whether or not to adapt a voiceprint based on data
        collected during the session (if the voiceprint verification phase
        succeeds). By default, the voiceprint model MUST NOT be adapted with
        data from a verification session.
</p>
<p>The START-SESSION also determines whether the session is for a
        train or verify of a voiceprint. Hence the Verification-Mode header
        MUST be sent in every START-SESSION request. The value of the
        Verification-Mode header MUST be one of either "train" or
        "verify".
</p>
<p>Before a verification/identification session is started, only
        VERIFY-ROLLBACK and generic <tt>SET-PARAMS</tt> and
        <tt>GET-PARAMS</tt> operations may be performed on
        the verification resource. The server MUST return 402 "Method not
        valid in this state" for all other verification operations.
</p>
<p>A verification resource may only have a single session active at
        one time.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 123 START-SESSION 314161
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/voiceprintdbase/
       Voiceprint-Mode:verify
       Voiceprint-Identifier:johnsmith.voiceprint
       Adapt-Model:true

S-&gt;C:  MRCP/2.0 49 314161 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
</pre></div>
<a name="anchor194"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.7"></a><h3>11.7.&nbsp;
END-SESSION</h3>

<p>The END-SESSION method terminates an ongoing verification session
        and releases the verification voiceprint resources. The session may
        terminate in one of three ways: </p>
<blockquote class="text"><dl>
<dt>a.</dt>
<dd>abort - the voiceprint adaptation or creation may be aborted so
            that the voiceprint remains unchanged (or is not created).
</dd>
<dt>b.</dt>
<dd>commit - when terminating a voiceprint training session, the
            new voiceprint is committed to the repository.
</dd>
<dt>c.</dt>
<dd>adapt - an existing voiceprint is modified using a successful
            verification.
</dd>
</dl></blockquote>

<p>The header "Abort-Model" MAY be included in the END-SESSION to
        control whether or not to abort any pending changes to the voiceprint.
        The default behavior is to commit (not abort) any pending changes to
        the designated voiceprint.
</p>
<p>The END-SESSION method may be safely executed multiple times
        without first executing the START-SESSION method. Any additional
        executions of this method without an intervening use of the
        START-SESSION method have no effect on the verification resource.
</p>
<p>The following example assumes there is either a training session or
        a verification session in progress.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 123 END-SESSION 314174
       Channel-Identifier:32AECB23433801@speakverify
       Abort-Model:true

S-&gt;C:  MRCP/2.0 49 314174 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
</pre></div>
<a name="anchor195"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.8"></a><h3>11.8.&nbsp;
QUERY-VOICEPRINT</h3>

<p>The QUERY-VOICEPRINT method is used to get status information on a
        particular voiceprint and can be used by the client to ascertain if a
        voiceprint or repository exists and if it contains trained
        voiceprints.
</p>
<p>The response to the QUERY-VOICEPRINT request contains an indication
        of the status of the designated voiceprint in the "Voiceprint-Exists"
        header, allowing the client to determine whether to use the current
        voiceprint for verification, train a new voiceprint, or choose a
        different voiceprint.
</p>
<p>A voiceprint is completely specified by providing a repository
        location and a voiceprint identifier. The particular voiceprint or
        identity within the repository is specified by a string identifier
        that is unique within the repository. The "Voiceprint-Identifier"
        header carries this unique voiceprint identifier within a given
        repository.
</p>
<p>The following example assumes a verification session is in progress
        and the voiceprint exists in the voiceprint repository.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 123 QUERY-VOICEPRINT 314168
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/voiceprints/
       Voiceprint-Identifier:johnsmith.voiceprint

S-&gt;C:  MRCP/2.0 123 314168 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/voiceprints/
       Voiceprint-Identifier:johnsmith.voiceprint
       Voiceprint-Exists:true
</pre></div>
<p>The following example assumes that the URI provided in the
        'Repository-URI' header is a bad URI.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 123 QUERY-VOICEPRINT 314168
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/bad-uri/
       Voiceprint-Identifier:johnsmith.voiceprint

S-&gt;C:  MRCP/2.0 123 314168 405 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/bad-uri/
       Voiceprint-Identifier:johnsmith.voiceprint
       Completion-Cause:007 repository-uri-failure
</pre></div>
<a name="anchor196"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.9"></a><h3>11.9.&nbsp;
DELETE-VOICEPRINT</h3>

<p>The DELETE-VOICEPRINT method removes a voiceprint from a
        repository. This method MUST carry the Repository-URI and
        Voiceprint-Identifier header fields.
</p>
<p>If the corresponding voiceprint does not exist, the
        DELETE-VOICEPRINT method MUST return a 200 status code.
</p>
<p>The following example demonstrates a DELETE-VOICEPRINT operation to
        remove a specific voiceprint.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 123 DELETE-VOICEPRINT 314168
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/bad-uri/
       Voiceprint-Identifier:johnsmith.voiceprint

S-&gt;C:  MRCP/2.0 49 314168 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
</pre></div>
<a name="anchor197"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.10"></a><h3>11.10.&nbsp;
VERIFY</h3>

<p>The VERIFY method is used to request the verification resource to
        either train/adapt the voiceprint or to verify/identify a claimed
        identity. If the voiceprint is new or was deleted by a previous
        DELETE-VOICEPRINT method, the VERIFY method trains the voiceprint. If
        the voiceprint already exits, it is adapted and not retrained by the
        VERIFY command.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 49 VERIFY 543260
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 543260 200 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speakverify
</pre></div>
<p>When the VERIFY request is completes, the MRCPv2 server MUST send a
        'VERIFICATION-COMPLETE' event to the client.
</p>
<a name="anchor198"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.11"></a><h3>11.11.&nbsp;
VERIFY-FROM-BUFFER</h3>

<p>The VERIFY-FROM-BUFFER method directs the verification resource to
        verify buffered audio against a voiceprint. Only one VERIFY or
        VERIFY-FROM-BUFFER method may be active for a verification resource at
        a time.
</p>
<p>The buffered audio is not consumed by this method and thus
        VERIFY-FROM-BUFFER may be invoked multiple times by the client to
        attempt verification against different voiceprints.
</p>
<p>For the VERIFY-FROM-BUFFER method, the server MAY optionally return
        an "IN-PROGRESS" response before the "VERIFICATION-COMPLETE"
        event.
</p>
<p>When the VERIFY-FROM-BUFFER method is invoked and the verification
        buffer is in use by another resource sharing it, the server MUST
        return an IN-PROGRESS response and wait until the buffer is available
        to it. The verification buffer is owned by the verification resource
        but is shared with write access from other input resources on the same
        session. Hence, it is considered to be in use if there is a read or
        write operation such as a RECORD or RECOGNIZE with the
        Ver-Buffer-Utterance header set to "true" on a resource that shares
        this buffer. Note that if a RECORD or RECOGNIZE method returns with a
        failure cause code, the VERIFY-FROM-BUFFER request waiting to process
        that buffer MUST also fail with a Completion-Cause of 005
        (buffer-empty).
</p>
<p>The following example illustrates the usage of some buffering
        methods. In this scenario the client first performed a live
        verification, but the utterance had been rejected. In the meantime,
        the utterance is also saved to the audio buffer. Then, another
        voiceprint is used to do verification against the audio buffer and the
        utterance is accepted. For the example, we assume both
        Num-Min-Verification-Phrases and Num-Max-Verification-Phrases are
        1.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 123 START-SESSION 314161
       Channel-Identifier:32AECB23433801@speakverify
       Verification-Mode:verify
       Adapt-Model:true
       Repository-URI:http://www.example.com/voiceprints
       Voiceprint-Identifier:johnsmith.voiceprint

S-&gt;C:  MRCP/2.0 49 314161 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify

C-&gt;S:  MRCP/2.0 123 VERIFY 314162
       Channel-Identifier:32AECB23433801@speakverify
       Ver-buffer-utterance:true

S-&gt;C:  MRCP/2.0 49 314164 200 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 123 VERIFICATION-COMPLETE 314162 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
       Completion-Cause:000 success
       Content-Type:application/nlsml+xml
       Content-Length:748

       &lt;?xml version="1.0"?&gt;
       &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
               grammar="What-Grammar-URI"&gt;
         &lt;verification-result&gt;
           &lt;voiceprint id="johnsmith"&gt;
             &lt;incremental&gt;
               &lt;utterance-length&gt; 500 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; female &lt;/gender&gt;
               &lt;decision&gt; rejected &lt;/decision&gt;
               &lt;verification-score&gt; 0.05465 &lt;/verification-score&gt;
             &lt;/incremental&gt;
             &lt;cumulative&gt;
               &lt;utterance-length&gt; 500 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; female &lt;/gender&gt;
               &lt;decision&gt; rejected &lt;/decision&gt;
               &lt;verification-score&gt; 0.05465 &lt;/verification-score&gt;
             &lt;/cumulative&gt;
           &lt;/voiceprint&gt;
         &lt;/verification-result&gt;
       &lt;/result&gt;

C-&gt;S:  MRCP/2.0 123 QUERY-VOICEPRINT 314163
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/voiceprints/
       Voiceprint-Identifier:johnsmith

S-&gt;C:  MRCP/2.0 123 314163 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
       Repository-URI:http://www.example.com/voiceprints/
       Voiceprint-Identifier:johnsmith.voiceprint
       Voiceprint-Exists:true

C-&gt;S:  MRCP/2.0 123 START-SESSION 314164
       Channel-Identifier:32AECB23433801@speakverify
       Verification-Mode:verify
       Adapt-Model:true
       Repository-URI:http://www.example.com/voiceprints
       Voiceprint-Identifier:marysmith.voiceprint

S-&gt;C:  MRCP/2.0 49 314164 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify

C-&gt;S:  MRCP/2.0 123 VERIFY-FROM-BUFFER 314165
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 314165 200 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 123 VERIFICATION-COMPLETE 314165 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
       Completion-Cause:000 success
       Content-Type:application/nlsml+xml
       Content-Length:744

       &lt;?xml version="1.0"?&gt;
       &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
               grammar="What-Grammar-URI"&gt;
         &lt;verification-result&gt;
           &lt;voiceprint id="marysmith"&gt;
             &lt;incremental&gt;
               &lt;utterance-length&gt; 1000 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; female &lt;/gender&gt;
               &lt;decision&gt; accepted &lt;/decision&gt;
               &lt;verification-score&gt; 0.98 &lt;/verification-score&gt;
             &lt;/incremental&gt;
             &lt;cumulative&gt;
               &lt;utterance-length&gt; 1000 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; female &lt;/gender&gt;
               &lt;decision&gt; accepted &lt;/decision&gt;
               &lt;verification-score&gt; 0.98 &lt;/verification-score&gt;
             &lt;/cumulative&gt;
           &lt;/voiceprint&gt;
         &lt;/verification-result&gt;
       &lt;/result&gt;


C-&gt;S:  MRCP/2.0 49 END-SESSION 314166
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 314166 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;VERIFY-FROM-BUFFER example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor199"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.12"></a><h3>11.12.&nbsp;
VERIFY-ROLLBACK</h3>

<p>The VERIFY-ROLLBACK method discards the last buffered utterance or
        discards the last live utterances (when the mode is "train" or
        "verify"). The client should invoke this method when the user provides
        undesirable input such as non-speech noises, side-speech,
        out-of-grammar utterances, commands, etc. Note that this method does
        not provide a stack of rollback states. Executing VERIFY-ROLLBACK
        twice in succession without an intervening recognition operation has
        no effect on the second attempt.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 49 VERIFY-ROLLBACK 314165
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 314165 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;VERFY-ROLLBACK Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor200"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.13"></a><h3>11.13.&nbsp;
STOP</h3>

<p>The <tt>STOP</tt> method from the client to the
        server tells the verification resource to stop the VERIFY or
        VERIFY-FROM-BUFFER request if one is active. If such a request is
        active and the <tt>STOP</tt> request successfully
        terminated it, then the response header contains an
        active-request-id-list header containing the request-id of the VERIFY
        or VERIFY-FROM-BUFFER request that was terminated. In this case, no
        VERIFICATION-COMPLETE event is sent for the terminated request. If
        there was no verify request active, then the response MUST NOT contain
        an active-request-id-list header. Either way the response MUST contain
        a status of 200 (Success).
</p>
<p>The <tt>STOP</tt> method can carry a
        "Abort-Verification" header which specifies if the verification result
        until that point should be discarded or returned. If this header is
        not present or if the value is "true", the verification result is
        discarded and the <tt>STOP</tt> response does not
        contain any result data. If the header is present and its value is
        "false", the <tt>STOP</tt> response MUST contain a
        "Completion-Cause" header and carry the Verification result data in
        its body.
</p>
<p>An aborted VERIFY request does an automatic roll-back and hence
        does not affect the cumulative score. A VERIFY request that was
        stopped with no "Abort-Verification" header or with the
        "Abort-Verification" header set to "false" does affect cumulative
        scores and would need to be explicitly rolled-back if the client does
        not want the verification result considered in the cumulative
        scores.
</p>
<p>The following example assumes a voiceprint identity has already
        been established.
</p><br /><hr class="insert" />
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 123 VERIFY 314177
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 314177 200 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speakverify

C-&gt;S:  MRCP/2.0 49 STOP 314178
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 123 314178 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
       Active-Request-Id-List:314177
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;STOP verification Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor201"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.14"></a><h3>11.14.&nbsp;
START-INPUT-TIMERS</h3>

<p>This request is sent from the client to the verification resource
        to start the no-input timer, usually once the client has ascertained
        that any audio prompts to the user have played to completion.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 49 START-INPUT-TIMERS 543260
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 543260 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
</pre></div>
<a name="anchor202"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.15"></a><h3>11.15.&nbsp;
VERIFICATION-COMPLETE</h3>

<p>The VERIFICATION-COMPLETE event follows a call to VERIFY or
        VERIFY-FROM-BUFFER and is used to communicate the verification results
        to the client. The event message body contains only verification
        results.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:  MRCP/2.0 123 VERIFICATION-COMPLETE 543259 COMPLETE
       Completion-Cause:000 success
       Content-Type:application/nlsml+xml
       Content-Length:739

       &lt;?xml version="1.0"?&gt;
       &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
               grammar="What-Grammar-URI"&gt;
         &lt;verification-result&gt;
           &lt;voiceprint id="johnsmith"&gt;
             &lt;incremental&gt;
               &lt;utterance-length&gt; 500 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; male &lt;/gender&gt;
               &lt;decision&gt; accepted &lt;/decision&gt;
               &lt;verification-score&gt; 0.85 &lt;/verification-score&gt;
             &lt;/incremental&gt;
             &lt;cumulative&gt;
               &lt;utterance-length&gt; 1500 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; male &lt;/gender&gt;
               &lt;decision&gt; accepted &lt;/decision&gt;
               &lt;verification-score&gt; 0.75 &lt;/verification-score&gt;
             &lt;/cumulative&gt;
           &lt;/voiceprint&gt;
         &lt;/verification-result&gt;
       &lt;/result&gt;
</pre></div>
<a name="anchor203"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.16"></a><h3>11.16.&nbsp;
START-OF-INPUT</h3>

<p>The START-OF-INPUT event is returned from the server to the client
        once the server has detected speech. This event is always returned by
        the verification resource when speech has been detected, irrespective
        of whether the recognizer and verification resources share the same
        session or not.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:  MRCP/2.0 49 START-OF-INPUT 543259 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speakverify
</pre></div>
<a name="anchor204"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.17"></a><h3>11.17.&nbsp;
CLEAR-BUFFER</h3>

<p>The CLEAR-BUFFER method can be used to clear the verification
        buffer. This buffer is used to buffer speech during a recognition,
        record or verification operations that may later be used
        VERIFY-FROM-BUFFER. As noted before, the buffer associated with the
        verification resource is shared by other input resources like
        recognizers and recorders. Hence, a CLEAR-BUFFER request fails if the
        verification buffer is in use. This can happen when any one of the
        input resources that shares this buffer has an active read or write
        operation such as RECORD, RECOGNIZE or VERIFY with the
        Ver-Buffer-Utterance header set to "true".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 49 CLEAR-BUFFER 543260
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 543260 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
</pre></div>
<a name="anchor205"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11.18"></a><h3>11.18.&nbsp;
GET-INTERMEDIATE-RESULT</h3>

<p>A client can use the GET-INTERMEDIATE-RESULT method to poll for
        intermediate results of a verification request that is in progress.
        Invoking this method does not change the state of the resource. The
        verification resource collects the accumulated verification results
        and returns the information in the method response. The message body
        in the response to a GET-INTERMEDIATE-RESULT REQUEST contains only
        verification results. The method response MUST NOT contain a
        Completion-Cause header as the request is not yet complete. If the
        resource does not have a verification in progress the response has a
        402 failure code and no result in the body.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 49 GET-INTERMEDIATE-RESULT 543260
       Channel-Identifier:32AECB23433801@speakverify

S-&gt;C:  MRCP/2.0 49 543260 200 COMPLETE
       Channel-Identifier:32AECB23433801@speakverify
       Content-Type:application/nlsml+xml
       Content-Length:745

       &lt;?xml version="1.0"?&gt;
       &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
               grammar="What-Grammar-URI"&gt;
         &lt;verification-result&gt;
           &lt;voiceprint id="marysmith"&gt;
             &lt;incremental&gt;
               &lt;utterance-length&gt; 50 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; female &lt;/gender&gt;
               &lt;decision&gt; undecided &lt;/decision&gt;
               &lt;verification-score&gt; 0.85 &lt;/verification-score&gt;
             &lt;/incremental&gt;
             &lt;cumulative&gt;
               &lt;utterance-length&gt; 150 &lt;/utterance-length&gt;
               &lt;device&gt; cellular-phone &lt;/device&gt;
               &lt;gender&gt; female &lt;/gender&gt;
               &lt;decision&gt; undecided &lt;/decision&gt;
               &lt;verification-score&gt; 0.65 &lt;/verification-score&gt;
             &lt;/cumulative&gt;
           &lt;/voiceprint&gt;
         &lt;/verification-result&gt;
       &lt;/result&gt;
</pre></div>
<a name="sec.securityConsiderations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Security Considerations</h3>

<p>MRCPv2 is designed to comply with the security-related requirements
      documented in <a class='info' href='#RFC4313'>SpeechSC Requirements<span> (</span><span class='info'>Oran, D., &ldquo;Requirements for Distributed Control of Automatic Speech Recognition (ASR), Speaker Identification/Speaker Verification (SI/SV), and Text-to-Speech (TTS) Resources,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4313].
      Implementers and users of MRCPv2 are strongly encouraged to read the
      Security Considerations section of <a class='info' href='#RFC4313'>[RFC4313]<span> (</span><span class='info'>Oran, D., &ldquo;Requirements for Distributed Control of Automatic Speech Recognition (ASR), Speaker Identification/Speaker Verification (SI/SV), and Text-to-Speech (TTS) Resources,&rdquo; December&nbsp;2005.</span><span>)</span></a>,
      because that document contains discussion of a number of important
      security issues associated with the utilization of speech as biometric
      authentication technology, and on the threats against systems which
      store recorded speech, contain large corpora of voiceprints, and send
      and receive sensitive information based on voice input to a recognizer
      or speech output from a synthesizer. Specific security measures employed
      by MRCPv2 are summarized in the following subsections. See the
      corresponding sections of this specification for how the
      security-related machinery is invoked by individual protocol
      operations.
</p>
<a name="anchor206"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12.1"></a><h3>12.1.&nbsp;
Rendezvous and Session Establishment</h3>

<p>MRCPv2 control sessions are established as media sessions described
        by SDP within the context of a SIP dialog. In order to ensure secure
        rendezvous between MRCPv2 clients and servers, the following are
        required:
</p>
<p></p>
<ol class="text">
<li>The SIP implementation in MRCPv2 clients and servers MUST
            support digest authentication.
</li>
<li>The SIP implementation in MRCPv2 clients and servers SHOULD
            employ SIPS: URIs,
</li>
<li>If media stream cryptographic keying is done through SDP (e.g.
            using <a class='info' href='#RFC4568'>RFC4568<span> (</span><span class='info'>Andreasen, F., Baugher, M., and D. Wing, &ldquo;Session Description Protocol (SDP) Security Descriptions for Media Streams,&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4568]), the MRCPv2 clients
            and servers MUST employ SIPS:.
</li>
</ol>

<a name="anchor207"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12.2"></a><h3>12.2.&nbsp;
Control channel protection</h3>

<p>Sensitive data is carried over the MRCPv2 control channel. This
        includes things like the output of speech recognition operations,
        speaker verification results, input to text-to-speech conversion, etc.
        For this reason MRCPv2 servers must be properly authenticated and the
        control channel must permit the use of both confidentiality and
        integrity for the data. To ensure control channel protection, MRCPv2
        clients and servers MUST support TLS and SHOULD utilize it by default
        unless alternative control channel protection is used. Alternative
        control channel protection MAY be used if desired (e.g. IPSEC).
</p>
<a name="anchor208"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12.3"></a><h3>12.3.&nbsp;
Media session protection</h3>

<p>Sensitive data is also carried on media sessions terminating on
        MRCPv2 servers (the other end of a media channel may or may not be on
        the MRCPv2 client). This data includes the user's spoken utterances
        and the output of text-to-speech operations. MRCPv2 servers MUST
        support SRTP for protection of audio media sessions. MRCPv2 clients
        that originate or consume audio similarly MUST support SRTP.
        Alternative media channel protection MAY be used if desired (e.g.
        IPSEC).
</p>
<a name="anchor209"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12.4"></a><h3>12.4.&nbsp;
Indirect Content Access</h3>

<p>MCRPv2 employs content indirection extensively. Content may be
        fetched and/or stored based on URI-addressing on systems other than
        the MRCPv2 client or server. Not all of the stored content is
        necessarily sensitive (e.g. grammar definitions, XML schemas), but the
        majority generally needs protection, and some indirect content, such
        as voice recordings and voiceprints, are extremely sensitive and must
        always be protected. MRCPv2 clients and servers MUST implement HTTPS
        for indirect content access, and SHOULD employ secure access for all
        sensitive indirect content. Other secure URI-schemes, such as FTPS or
        SIPS MAY also be used. See <a class='info' href='#sec.SetCookie'>Section&nbsp;6.2.15<span> (</span><span class='info'>Set-Cookie and Set-Cookie2</span><span>)</span></a> for
        the headers used to transfer cookie information between the MRCPv2
        client and server if needed for authentication.
</p>
<a name="anchor210"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12.5"></a><h3>12.5.&nbsp;
Protection of stored media</h3>

<p>MRCPv2 applications often require the use of stored media. Voice
        recordings are both stored (e.g. for diagnosis and system tuning), and
        fetched (for replaying utterances into multiple MRCPv2 resources).
        Voiceprints are fundamental to the speaker identification and
        verification functions. This data can be extremely sensitive and can
        present substantial privacy and impersonation risks if stolen. Systems
        employing MRCPv2 should be deployed in ways that minimize these risks.
        The <a class='info' href='#RFC4313'>SpeechSC Requirements<span> (</span><span class='info'>Oran, D., &ldquo;Requirements for Distributed Control of Automatic Speech Recognition (ASR), Speaker Identification/Speaker Verification (SI/SV), and Text-to-Speech (TTS) Resources,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4313] contains a
        more extensive discussion of these risks and ways they may be
        mitigated.
</p>
<a name="sec.iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
IANA Considerations</h3>

<a name="anchor211"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.1"></a><h3>13.1.&nbsp;
New registries</h3>

<p>This section describes the name spaces (registries) for MRCPv2 that
        IANA is requested to create and maintain. Assignment/registration
        policies are described in <a class='info' href='#RFC2434'>RFC2434<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; October&nbsp;1998.</span><span>)</span></a> [RFC2434].
</p>
<a name="sec.registration.resources"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.1.1"></a><h3>13.1.1.&nbsp;
MRCPv2 resource types</h3>

<p>IANA SHALL create a new name space of "MRCPv2 resource types".
          All maintenance within and additions to the contents of this name
          space MUST be according to the "Standards Action" registration
          policy. The initial contents of the registry, defined in <a class='info' href='#sec.resourceControl'>Section&nbsp;4.2<span> (</span><span class='info'>Managing Resource Control Channels</span><span>)</span></a>, are given below:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>Resource type  Resource description  Reference
-------------  --------------------  ---------
speechrecog    Speech Recognizer     [RFCXXXX]
dtmfrecog      DTMF Recognizer       [RFCXXXX]
speechsynth    Speech Synthesizer    [RFCXXXX]
basicsynth     Basic Synthesizer     [RFCXXXX]
speakverify    Speaker Verification  [RFCXXXX]
recorder       Speech Recorder       [RFCXXXX]</pre></div>
<a name="anchor212"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.1.2"></a><h3>13.1.2.&nbsp;
MRCPv2 methods and events</h3>

<p>IANA SHALL create a new name space of "MRCPv2 methods and
          events". All maintenance within and additions to the contents of
          this name space MUST be according to the "Standards Action"
          registration policy. The initial contents of the registry, defined
          by the "method-name" BNF in <a class='info' href='#sec.request'>Section&nbsp;5.2<span> (</span><span class='info'>Request</span><span>)</span></a> and
          the "event-name" BNF in <a class='info' href='#sec.events'>Section&nbsp;5.5<span> (</span><span class='info'>Events</span><span>)</span></a>, are given
          below.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>Name                     Resource type  Method/Event  Reference
----                     -------------  ------------  ---------
SET-PARAMS               Synthesizer    Method        [RFCXXXX]
GET-PARAMS               Synthesizer    Method        [RFCXXXX]
SPEAK                    Synthesizer    Method        [RFCXXXX]
STOP                     Synthesizer    Method        [RFCXXXX]
PAUSE                    Synthesizer    Method        [RFCXXXX]
RESUME                   Synthesizer    Method        [RFCXXXX]
BARGE-IN-OCCURRED        Synthesizer    Method        [RFCXXXX]
CONTROL                  Synthesizer    Method        [RFCXXXX]
DEFINE-LEXICON           Synthesizer    Method        [RFCXXXX]
DEFINE-GRAMMAR           Recognizer     Method        [RFCXXXX]
RECOGNIZE                Recognizer     Method        [RFCXXXX]
INTERPRET                Recognizer     Method        [RFCXXXX]
GET-RESULT               Recognizer     Method        [RFCXXXX]
START-INPUT-TIMERS       Recognizer     Method        [RFCXXXX]
STOP                     Recognizer     Method        [RFCXXXX]
START-PHRASE-ENROLLMENT  Recognizer     Method        [RFCXXXX]
ENROLLMENT-ROLLBACK      Recognizer     Method        [RFCXXXX]
END-PHRASE-ENROLLMENT    Recognizer     Method        [RFCXXXX]
MODIFY-PHRASE            Recognizer     Method        [RFCXXXX]
DELETE-PHRASE            Recognizer     Method        [RFCXXXX]
RECORD                   Recorder       Method        [RFCXXXX]
STOP                     Recorder       Method        [RFCXXXX]
START-SESSION            Verifier       Method        [RFCXXXX]
END-SESSION              Verifier       Method        [RFCXXXX]
QUERY-VOICEPRINT         Verifier       Method        [RFCXXXX]
DELETE-VOICEPRINT        Verifier       Method        [RFCXXXX]
VERIFY                   Verifier       Method        [RFCXXXX]
VERIFY-FROM-BUFFER       Verifier       Method        [RFCXXXX]
VERIFY-ROLLBACK          Verifier       Method        [RFCXXXX]
STOP                     Verifier       Method        [RFCXXXX]
START-INPUT-TIMERS       Verifier       Method        [RFCXXXX]
GET-INTERMEDIATE-RESULT  Verifier       Method        [RFCXXXX]
SPEECH-MARKER            Synthesizer    Event         [RFCXXXX]
SPEAK-COMPLETE           Synthesizer    Event         [RFCXXXX]
START-OF-INPUT           Recognizer     Event         [RFCXXXX]
RECOGNITION-COMPLETE     Recognizer     Event         [RFCXXXX]
INTERPRETATION-COMPLETE  Recognizer     Event         [RFCXXXX]
START-OF-INPUT           Recorder       Event         [RFCXXXX]
RECORD-COMPLETE          Recorder       Event         [RFCXXXX]
VERIFICATION-COMPLETE    Verifier       Event         [RFCXXXX]
START-OF-INPUT           Verifier       Event         [RFCXXXX]</pre></div>
<a name="anchor213"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.1.3"></a><h3>13.1.3.&nbsp;
MRCPv2 headers</h3>

<p>IANA SHALL create a new name space of "MRCPv2 headers". All
          maintenance within and additions to the contents of this name space
          MUST be according to the "Standards Action" registration policy. The
          initial contents of the registry, defined by the "message-header"
          BNF in <a class='info' href='#sec.common'>Section&nbsp;5.1<span> (</span><span class='info'>Common Protocol Elements</span><span>)</span></a>, are given below. Note that
          the values permitted for the "Vendor-Specific-Parameters" parameter
          are managed according to a different policy. See <a class='info' href='#sec.vendorSpecificRegistration'>Section&nbsp;13.1.6<span> (</span><span class='info'>MRCPv2 vendor-specific parameters</span><span>)</span></a>.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>Name                               Resource type    Reference
----                               -------------    ---------
channel-identifier                 Generic          [RFCXXXX]
accept                             Generic          [RFC2616]
active-request-id-list             Generic          [RFCXXXX]
proxy-sync-id                      Generic          [RFCXXXX]
accept-charset                     Generic          [RFC2616]
content-type                       Generic          [RFCXXXX]
content-id               Generic  [RFC2392, RFC2046, and RFC2822]
content-base                       Generic          [RFCXXXX]
content-encoding                   Generic          [RFCXXXX]
content-location                   Generic          [RFCXXXX]
content-length                     Generic          [RFCXXXX]
fetch-timeout                      Generic          [RFCXXXX]
cache-control                      Generic          [RFCXXXX]
logging-tag                        Generic          [RFCXXXX]
set-cookie                         Generic          [RFCXXXX]
set-cookie2                        Generic          [RFCXXXX]
vendor-specific                    Generic          [RFCXXXX]
jump-size                          Synthesizer      [RFCXXXX]
kill-on-barge-in                   Synthesizer      [RFCXXXX]
speaker-profile                    Synthesizer      [RFCXXXX]
completion-cause                   Synthesizer      [RFCXXXX]
completion-reason                  Synthesizer      [RFCXXXX]
voice-parameter                    Synthesizer      [RFCXXXX]
prosody-parameter                  Synthesizer      [RFCXXXX]
speech-marker                      Synthesizer      [RFCXXXX]
speech-language                    Synthesizer      [RFCXXXX]
fetch-hint                         Synthesizer      [RFCXXXX]
audio-fetch-hint                   Synthesizer      [RFCXXXX]
failed-uri                         Synthesizer      [RFCXXXX]
failed-uri-cause                   Synthesizer      [RFCXXXX]
speak-restart                      Synthesizer      [RFCXXXX]
speak-length                       Synthesizer      [RFCXXXX]
load-lexicon                       Synthesizer      [RFCXXXX]
lexicon-search-order               Synthesizer      [RFCXXXX]
confidence-threshold               Recognizer       [RFCXXXX]
sensitivity-level                  Recognizer       [RFCXXXX]
speed-vs-accuracy                  Recognizer       [RFCXXXX]
n-best-list-length                 Recognizer       [RFCXXXX]
input-type                         Recognizer       [RFCXXXX]
no-input-timeout                   Recognizer       [RFCXXXX]
recognition-timeout                Recognizer       [RFCXXXX]
waveform-uri                       Recognizer       [RFCXXXX]
input-waveform-uri                 Recognizer       [RFCXXXX]
completion-cause                   Recognizer       [RFCXXXX]
completion-reason                  Recognizer       [RFCXXXX]
recognizer-context-block           Recognizer       [RFCXXXX]
start-input-timers                 Recognizer       [RFCXXXX]
speech-complete-timeout            Recognizer       [RFCXXXX]
speech-incomplete-timeout          Recognizer       [RFCXXXX]
dtmf-interdigit-timeout            Recognizer       [RFCXXXX]
dtmf-term-timeout                  Recognizer       [RFCXXXX]
dtmf-term-char                     Recognizer       [RFCXXXX]
failed-uri                         Recognizer       [RFCXXXX]
failed-uri-cause                   Recognizer       [RFCXXXX]
save-waveform                      Recognizer       [RFCXXXX]
media-type                         Recognizer       [RFCXXXX]
new-audio-channel                  Recognizer       [RFCXXXX]
speech-language                    Recognizer       [RFCXXXX]
ver-buffer-utterance               Recognizer       [RFCXXXX]
recognition-mode                   Recognizer       [RFCXXXX]
cancel-if-queue                    Recognizer       [RFCXXXX]
hotword-max-duration               Recognizer       [RFCXXXX]
hotword-min-duration               Recognizer       [RFCXXXX]
interpret-text                     Recognizer       [RFCXXXX]
dtmf-buffer-time                   Recognizer       [RFCXXXX]
clear-dtmf-buffer                  Recognizer       [RFCXXXX]
early-no-match                     Recognizer       [RFCXXXX]
num-min-consistent-pronunciations  Recognizer       [RFCXXXX]
consistency-threshol               Recognizer       [RFCXXXX]
clash-threshold                    Recognizer       [RFCXXXX]
personal-grammar-uri               Recognizer       [RFCXXXX]
enroll-utterance                   Recognizer       [RFCXXXX]
phrase-id                          Recognizer       [RFCXXXX]
phrase-nl                          Recognizer       [RFCXXXX]
weight                             Recognizer       [RFCXXXX]
save-best-waveform                 Recognizer       [RFCXXXX]
new-phrase-id                      Recognizer       [RFCXXXX]
confusable-phrases-ur              Recognizer       [RFCXXXX]
abort-phrase-enrollmen             Recognizer       [RFCXXXX]
sensitivity-level                  Recorder         [RFCXXXX]
no-input-timeout                   Recorder         [RFCXXXX]
completion-cause                   Recorder         [RFCXXXX]
failed-uri                         Recorder         [RFCXXXX]
failed-uri-cause                   Recorder         [RFCXXXX]
record-uri                         Recorder         [RFCXXXX]
media-type                         Recorder         [RFCXXXX]
max-time                           Recorder         [RFCXXXX]
trim-length                        Recorder         [RFCXXXX]
final-silence                      Recorder         [RFCXXXX]
capture-on-speech                  Recorder         [RFCXXXX]
new-audio-channel                  Recorder         [RFCXXXX]
start-input-timers                 Recorder         [RFCXXXX]
input-type                         Recorder         [RFCXXXX]
repository-uri                     Verifier         [RFCXXXX]
voiceprint-identifier              Verifier         [RFCXXXX]
verification-mode                  Verifier         [RFCXXXX]
adapt-model                        Verifier         [RFCXXXX]
abort-model                        Verifier         [RFCXXXX]
min-verification-score             Verifier         [RFCXXXX]
num-min-verification-phrases       Verifier         [RFCXXXX]
num-max-verification-phrases       Verifier         [RFCXXXX]
no-input-timeout                   Verifier         [RFCXXXX]
save-waveform                      Verifier         [RFCXXXX]
media-type                         Verifier         [RFCXXXX]
waveform-uri                       Verifier         [RFCXXXX]
voiceprint-exists                  Verifier         [RFCXXXX]
ver-buffer-utterance               Verifier         [RFCXXXX]
input-waveform-uri                 Verifier         [RFCXXXX]
completion-cause                   Verifier         [RFCXXXX]
completion-reason                  Verifier         [RFCXXXX]
speech-complete-timeout            Verifier         [RFCXXXX]
new-audio-channel                  Verifier         [RFCXXXX]
abort-verification                 Verifier         [RFCXXXX]
start-input-timers                 Verifier         [RFCXXXX]
input-type                         Verifier         [RFCXXXX]</pre></div>
<a name="anchor214"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.1.4"></a><h3>13.1.4.&nbsp;
MRCPv2 status codes</h3>

<p>IANA SHALL create a new name space of "MRCPv2 status codes" with
          the initial values that are defined in <a class='info' href='#sec.statusCodes'>Section&nbsp;5.4<span> (</span><span class='info'>Status Codes</span><span>)</span></a> All maintenance within and
          additions to the contents of this name space MUST be according to
          the "Specification Required with Expert Review" registration
          policy.
</p>
<a name="anchor215"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.1.5"></a><h3>13.1.5.&nbsp;
Grammar Reference List Parameters</h3>

<p>IANA SHALL create a new name space of "Grammar Reference List
          Parameters". All maintenance within and additions to the contents of
          this name space MUST be according to the "Specification Required
          with Expert Review" registration policy. There is only one initial
          parameter, "weight", which is defined in <a class='info' href='#sec.grammar-ref-list'>Section&nbsp;13.5.1<span> (</span><span class='info'>text/grammar-ref-list</span><span>)</span></a> and <a class='info' href='#sec.methodRecognize'>Section&nbsp;9.9<span> (</span><span class='info'>RECOGNIZE</span><span>)</span></a>.
</p>
<a name="sec.vendorSpecificRegistration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.1.6"></a><h3>13.1.6.&nbsp;
MRCPv2 vendor-specific parameters</h3>

<p>IANA SHALL create a new name space of "MRCPv2 vendor-specific
          parameters". All maintenance within and additions to the contents of
          this name space MUST be according to the "Hierarchical Allocation"
          registration policy as follows. Each name (corresponding to the
          "vendor-av-pair-name" ABNF production) MUST satisfy the syntax
          requirements of Internet Domain Names as described in section 2.3.1
          of <a class='info' href='#RFC1035'>RFC1035<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - implementation and specification,&rdquo; November&nbsp;1987.</span><span>)</span></a> [RFC1035] (and as updated or
          obsoleted by successive RFCs), with one exception, the order of the
          domain names is reversed. For example, a vendor-specific parameter
          "foo" by example.com would have the form "com.example.foo". The
          first, or top-level domain, is restricted to exactly the set of
          Top-Level Internet Domains defined by IANA and will be updated by
          IANA when and only when that set changes. The second-level and all
          subdomains within the parameter name MUST be allocated according to
          the "Expert Review" policy. The Designated Expert MAY advise IANA to
          allow delegation of subdomains to the requester. As a general
          guideline, the Designated Expert is encouraged to manage the
          allocation of corporate, organizational, or institutional names and
          delegate all subdomains accordingly. For example, the Designated
          Expert MAY allocate "com.example" and delegate all subdomains of
          that name to the organization represented by the Internet domain
          name "example.com". For simplicity, the Designated Expert is
          encouraged to perform allocations according to the existing
          allocations of Internet domain names to organizations, institutions,
          corporations, etc.
</p>
<p>The registry contains a list of vendor-registered parameters,
          where each defined parameter is associated with a reference to an
          RFC defining it. The registry is initially empty.
</p>
<a name="anchor216"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.2"></a><h3>13.2.&nbsp;
NLSML-related registrations</h3>

<a name="anchor217"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.2.1"></a><h3>13.2.1.&nbsp;
application/nlsml+xml Media Type registration</h3>

<p>IANA is requested to register the following Media Type according
          to the process defined in <a class='info' href='#RFC4288'>RFC4288<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4288].
          </p>
<blockquote class="text"><dl>
<dt>To:</dt>
<dd>ietf-types@iana.org
</dd>
<dt>Subject:</dt>
<dd>Registration of media type
              application/nlsml+xml
</dd>
<dt>MIME media type name:</dt>
<dd>application
</dd>
<dt>MIME subtype name:</dt>
<dd>nlsml+xml
</dd>
<dt>Required parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>
<blockquote class="text"><dl>
<dt>charset:</dt>
<dd>All of the considerations described
                  in RFC3023 also apply to the application/nlsml+xml media
                  type.
</dd>
</dl></blockquote>
</dd>
<dt>Encoding considerations:</dt>
<dd>All of the considerations
              described in RFC3023 also apply to the application/nlsml+xml
              media type.
</dd>
<dt>Security considerations:</dt>
<dd>As with HTML, NLSML
              documents contain links to other data stores (grammars,
              verification resources, etc.). Unlike HTML, however, the data
              stores are not treated as media to be rendered. Nevertheless,
              linked files may themselves have security considerations, which
              would be those of the individual registered types. Additionally,
              this media type has all of the security considerations described
              in RFC3023.
</dd>
<dt>Interoperability considerations:</dt>
<dd>Although an NLSML
              document is itself a complete XML document, for a fuller
              interpretation of the content a receiver of an NLSML document
              may wish to access resources linked to by the document. The
              inability of an NLSML processor to access or process such linked
              resources could result in different behavior by the ultimate
              consumer of the data.
</dd>
<dt>Published specification:</dt>
<dd>RFCXXXX
</dd>
<dt>Applications which use this media type:</dt>
<dd>MRCPv2
              clients and servers
</dd>
<dt>Additional information:</dt>
<dd>none
</dd>
<dt>Magic number(s):</dt>
<dd>There is no single initial byte
              sequence that is always present for NLSML files.
</dd>
<dt>Person &amp; email address to contact for further information:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com
</dd>
<dt>Intended usage:</dt>
<dd>This media type is expected to be
              used only in conjunction with MRCPv2.
</dd>
</dl></blockquote>

<a name="anchor218"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.3"></a><h3>13.3.&nbsp;
NLSML XML Schema registration</h3>

<p>IANA is requested to register and maintain the following XML
        Schema. Information provided follows the template in <a class='info' href='#RFC3688'>RFC3688<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a> [RFC3688]. </p>
<blockquote class="text"><dl>
<dt>XML element type:</dt>
<dd>schema
</dd>
<dt>URI:</dt>
<dd>http://www.ietf.org/xml/schema/mrcpv2
</dd>
<dt>Registrant Contact:</dt>
<dd>IESG
</dd>
<dt>XML:</dt>
<dd>See <a class='info' href='#sec.schema.NLSML'>Section&nbsp;16.1<span> (</span><span class='info'>NLSML Schema Definition</span><span>)</span></a>.
</dd>
</dl></blockquote>

<a name="anchor219"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.4"></a><h3>13.4.&nbsp;
MRCPv2 XML Namespace registration</h3>

<p>IANA is requested to register and maintain the following XML Name
        space. Information provided follows the template in <a class='info' href='#RFC3688'>RFC3688<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a> [RFC3688]. </p>
<blockquote class="text"><dl>
<dt>XML element type:</dt>
<dd>ns
</dd>
<dt>URI:</dt>
<dd>http://www.ietf.org/xml/ns/mrcpv2
</dd>
<dt>Registrant Contact:</dt>
<dd>IESG
</dd>
<dt>XML:</dt>
<dd>RFCXXXX
</dd>
</dl></blockquote>

<a name="sec.text-media-registrations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.5"></a><h3>13.5.&nbsp;
text Media Type Registrations</h3>

<p>IANA is requested to register the following text Media Types
        according to the process defined in <a class='info' href='#RFC4288'>RFC
        4288<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4288].
</p>
<a name="sec.grammar-ref-list"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.5.1"></a><h3>13.5.1.&nbsp;
text/grammar-ref-list</h3>

<p></p>
<blockquote class="text"><dl>
<dt>To:</dt>
<dd>ietf-types@iana.org
</dd>
<dt>Subject:</dt>
<dd>Registration of media type
              text/grammar-ref-list
</dd>
<dt>MIME media type name:</dt>
<dd>application
</dd>
<dt>MIME subtype name:</dt>
<dd>text/grammar-ref-list
</dd>
<dt>Required parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>none
</dd>
<dt>Encoding considerations:</dt>
<dd>Depending on the transfer
              protocol, a transfer encoding may be necessary to deal with very
              long lines.
</dd>
<dt>Security considerations:</dt>
<dd>This media type contains
              URIs which may represent references to external resources. As
              these resources are assumed to be speech recognition grammars,
              similar considerations as for the media types "application/srgs"
              and "application/srgs+xml" [1] apply.
</dd>
<dt>Interoperability considerations;</dt>
<dd>We make the
              assumption that '&gt;' is not a valid character in a URI
              according to RFC3986.
</dd>
<dt>Published specification:</dt>
<dd>The RECOGNIZE method of
              the MRCP protocol performs a recognition operation that matches
              input against a set of grammars. When matching against more than
              one grammar, it is sometimes necessary to use different weights
              for the individual grammars. These weights are not a property of
              the grammar resource itself but qualify the reference to that
              grammar for the particular recognition operation initiated by
              the RECOGNIZE method. The format of the proposed
              text/grammar-ref-list media type is as follows: body =
              *reference where reference = "&lt;" uri "&gt;" [parameters] CRLF
              parameters = ";" parameter *(";" parameter) and parameter =
              attribute "=" value. This specification currently only defines a
              'weight' parameter, but new parameters may be added through the
              "Grammar Reference List Parameters" IANA registry established
              through this specification. Example:
              &lt;http://example.com/grammars/field1.gram&gt;
              &lt;http://example.com/grammars/field2.gram&gt;;weight="0.85"
              &lt;session:field3@form-level.store&gt;;weight="0.9"
              &lt;http://example.com/grammars/universals.gram&gt;;weight="0.75"
</dd>
<dt>Applications which use this media type:</dt>
<dd>MRCPv2
              clients and servers
</dd>
<dt>Additional information:</dt>
<dd>none
</dd>
<dt>Magic number(s):</dt>
<dd>none
</dd>
<dt>Person &amp; email address to contact for further information:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com
</dd>
<dt>Intended usage:</dt>
<dd>This media type is expected to be
              used only in conjunction with MRCPv2.
</dd>
</dl></blockquote>

<a name="sec.uri-list"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.5.2"></a><h3>13.5.2.&nbsp;
text/uri-list</h3>

<p></p>
<blockquote class="text"><dl>
<dt>To:</dt>
<dd>ietf-types@iana.org
</dd>
<dt>Subject:</dt>
<dd>Registration of media type
              text/uri-list
</dd>
<dt>MIME media type name:</dt>
<dd>application
</dd>
<dt>MIME subtype name:</dt>
<dd>text/uri-list
</dd>
<dt>Required parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>none
</dd>
<dt>Encoding considerations:</dt>
<dd>Depending on the transfer
              protocol, a transfer encoding may be necessary to deal with very
              long lines.
</dd>
<dt>Security considerations:</dt>
<dd>This media type contains
              URIs which may represent references to external resources. As
              these resources are assumed to be speech recognition grammars or
              speech synthesis markup, similar considerations as for the media
              types "application/srgs", "application/srgs+xml", and
              "application/ssml+xml" apply.
</dd>
<dt>Interoperability considerations;</dt>
<dd>We make the
              assumption that '&gt;' is not a valid character in a URI
              according to RFC3986.
</dd>
<dt>Published specification:</dt>
<dd>Several methods of the
              MRCPv2 protocol permit external grammar and synthesis documents
              as resources for the Speech Recognizer and Speech Synthesizer
              resources. These documents are commonly referred to by URIs, and
              for a given recognition or synthesis multiple documents may be
              referenced. To enable this, this media type allows for a list of
              URIs. The format of the proposed text/uri-list media type is as
              follows: body = *reference where reference = uri CRLF. Example:
              http://www.example.com/Directory-Name-List.grxml
              http://www.example.com/Department-List.grxml
              http://www.example.com/TAC-Contact-List.grxml
</dd>
<dt>Applications which use this media type:</dt>
<dd>MRCPv2
              clients and servers
</dd>
<dt>Additional information:</dt>
<dd>none
</dd>
<dt>Magic number(s):</dt>
<dd>none
</dd>
<dt>Person &amp; email address to contact for further information:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com
</dd>
<dt>Intended usage:</dt>
<dd>This media type is expected to be
              used only in conjunction with MRCPv2.
</dd>
</dl></blockquote>

<a name="sec.sessionURIScheme"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.6"></a><h3>13.6.&nbsp;
session URL scheme registration</h3>

<p>IANA is requested to register the following new URI scheme. The
        information below follows the template given in <a class='info' href='#RFC4395'>RFC4395<span> (</span><span class='info'>Hansen, T., Hardie, T., and L. Masinter, &ldquo;Guidelines and Registration Procedures for New URI Schemes,&rdquo; February&nbsp;2006.</span><span>)</span></a> [RFC4395]. </p>
<blockquote class="text"><dl>
<dt>URL scheme name:</dt>
<dd>"session"
</dd>
<dt>URL scheme syntax:</dt>
<dd>The syntax of this scheme is
            identical to that defined for the "cid" scheme in section 2 of
            RFC2392.
</dd>
<dt>Character encoding considerations:</dt>
<dd>URL values are
            limited to the US-ASCII character set.
</dd>
<dt>Intended usage:</dt>
<dd>The URL is intended to identify a
            data resource previously given to the network computing resource.
            The purpose of this scheme is to permit access to the specific
            resource for the lifetime of the session with the entity storing
            the resource. The media type of the resource CAN vary. There is no
            explicit mechanism for communication of the media type.
</dd>
<dt>Applications and/or protocols which use this URL scheme name:</dt>
<dd>This
            scheme name is used by MRCPv2 clients and servers.
</dd>
<dt>Interoperability considerations:</dt>
<dd>
</dd>
<dt></dt>
<dd>The character set for URLs is restricted to
            US-ASCII. Note that none of the resources are accessible after the
            MCRPv2 session ends, hence the name of the scheme. For clients who
            establish one MRCPv2 session only for the entire speech
            application being implemented this is sufficient, but clients who
            create, terminate, and recreate MRCP sessions for performance or
            scalability reasons will lose access to resources established in
            the earlier session(s).
</dd>
<dt>Security considerations:</dt>
<dd>The URLs defined here
            provide an addressing or referencing mechanism only. Given that
            the communication channel between client and server is secure,
            that the server correctly accesses the resource associated with
            the URL, and that the server ensures session-only lifetime and
            access for each URL, the only remaining security issues are those
            of the types of media referred to by the URL.
</dd>
<dt>Relevant publications:</dt>
<dd>This specification,
            particularly sections <a class='info' href='#sec.Content-ID'>Section&nbsp;6.2.7<span> (</span><span class='info'>Content-ID</span><span>)</span></a>, <a class='info' href='#sec.lexiconData'>Section&nbsp;8.5.2<span> (</span><span class='info'>Lexicon Data</span><span>)</span></a>, <a class='info' href='#sec.grammarData'>Section&nbsp;9.5.1<span> (</span><span class='info'>Recognizer Grammar Data</span><span>)</span></a>, and <a class='info' href='#sec.methodRecognize'>Section&nbsp;9.9<span> (</span><span class='info'>RECOGNIZE</span><span>)</span></a>.
</dd>
<dt>Contact for further information:</dt>
<dd>Sarvi Shanmugham,
            sarvi@cisco.com
</dd>
<dt>Author/Change controller:</dt>
<dd>IESG
</dd>
</dl></blockquote>

<a name="anchor220"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.7"></a><h3>13.7.&nbsp;
SDP parameter registrations</h3>

<p>IANA is requested to register the following SDP parameter values.
        The information for each follows the template given in <a class='info' href='#RFC4566'>RFC4566<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4566], Appendix B.
</p>
<a name="anchor221"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.7.1"></a><h3>13.7.1.&nbsp;
sub-registry &quot;proto&quot;</h3>

<p>"TCP/MRCPv2" value of the "proto" parameter</p>
<blockquote class="text"><dl>
<dt>Contact name, email address and telephone number:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com, +1.408.902.3875
</dd>
<dt>Name being registered (as it will appear in SDP):</dt>
<dd>TCP/MRCPv2
</dd>
<dt>Long-form name in English:</dt>
<dd>MCRPv2 over TCP
</dd>
<dt>Type of name:</dt>
<dd>proto
</dd>
<dt>Explanation of name:</dt>
<dd>This name represents the
              MCRPv2 protocol carried over TCP.
</dd>
<dt>Reference to specification of name:</dt>
<dd>RFCXXXX
</dd>
</dl></blockquote><p>"TCP/TLS/MRCPv2" value of the "proto" parameter</p>
<blockquote class="text"><dl>
<dt>Contact name, email address and telephone number:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com, +1.408.902.3875
</dd>
<dt>Name being registered (as it will appear in SDP):</dt>
<dd>TCP/TLS/MRCPv2
</dd>
<dt>Long-form name in English:</dt>
<dd>MCRPv2 over TLS over
              TCP
</dd>
<dt>Type of name:</dt>
<dd>proto
</dd>
<dt>Explanation of name:</dt>
<dd>This name represents the
              MCRPv2 protocol carried over TLS over TCP.
</dd>
<dt>Reference to specification of name:</dt>
<dd>RFCXXXX
</dd>
</dl></blockquote>

<a name="anchor222"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.7.2"></a><h3>13.7.2.&nbsp;
sub-registry &quot;att-field (session-level)&quot;</h3>

<p>"resource" value of the "att-field" parameter </p>
<blockquote class="text"><dl>
<dt>Contact name, email address and telephone number:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com, +1.408.902.3875
</dd>
<dt>Attribute name (as it will appear in SDP):</dt>
<dd>resource
</dd>
<dt>Long-form attribute name in English:</dt>
<dd>MRCPv2
              resource type
</dd>
<dt>Type of attribute:</dt>
<dd>session-level
</dd>
<dt>Subject to charset attribute?</dt>
<dd>no
</dd>
<dt>Explanation of attribute:</dt>
<dd>See <a class='info' href='#sec.resourceControl'>Section&nbsp;4.2<span> (</span><span class='info'>Managing Resource Control Channels</span><span>)</span></a> of RFCXXXX for description
              and examples.
</dd>
<dt>Specification of appropriate attribute values:</dt>
<dd>See
              section <a class='info' href='#sec.registration.resources'>Section&nbsp;13.1.1<span> (</span><span class='info'>MRCPv2 resource types</span><span>)</span></a> of
              RFCXXXX.
</dd>
</dl></blockquote><p>"channel" value of the "att-field" parameter </p>
<blockquote class="text"><dl>
<dt>Contact name, email address and telephone number:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com, +1.408.902.3875
</dd>
<dt>Attribute name (as it will appear in SDP):</dt>
<dd>channel
</dd>
<dt>Long-form attribute name in English:</dt>
<dd>MRCPv2
              resource channel identifier
</dd>
<dt>Type of attribute:</dt>
<dd>session-level
</dd>
<dt>Subject to charset attribute?</dt>
<dd>no
</dd>
<dt>Explanation of attribute:</dt>
<dd>See <a class='info' href='#sec.resourceControl'>Section&nbsp;4.2<span> (</span><span class='info'>Managing Resource Control Channels</span><span>)</span></a> of RFCXXXX for description
              and examples.
</dd>
<dt>Specification of appropriate attribute values</dt>
<dd>See
              <a class='info' href='#sec.resourceControl'>Section&nbsp;4.2<span> (</span><span class='info'>Managing Resource Control Channels</span><span>)</span></a> and the "channel-id"
              ABNF production rules of RFCXXXX.
</dd>
</dl></blockquote>

<a name="anchor223"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13.7.3"></a><h3>13.7.3.&nbsp;
sub-registry &quot;att-field (media-level)&quot;</h3>

<p>"cmid" value of the "att-field" parameter</p>
<blockquote class="text"><dl>
<dt>Contact name, email address and telephone number:</dt>
<dd>Sarvi
              Shanmugham, sarvi@cisco.com, +1.408.902.3875
</dd>
<dt>Attribute name (as it will appear in SDP):</dt>
<dd>cmid
</dd>
<dt>Long-form attribute name in English:</dt>
<dd>MRCPv2
              resource channel media identifier
</dd>
<dt>Type of attribute:</dt>
<dd>media-level
</dd>
<dt>Subject to charset attribute?</dt>
<dd>no
</dd>
<dt>Explanation of attribute:</dt>
<dd>See <a class='info' href='#sec.mediaStreams'>Section&nbsp;4.3<span> (</span><span class='info'>Media Streams and RTP Ports</span><span>)</span></a> of RFCXXXX for description and
              examples.
</dd>
<dt>Specification of appropriate attribute values</dt>
<dd>See
              <a class='info' href='#sec.mediaStreams'>Section&nbsp;4.3<span> (</span><span class='info'>Media Streams and RTP Ports</span><span>)</span></a> and the "cmid-attribute"
              ABNF production rules of RFCXXXX.
</dd>
</dl></blockquote>

<p>
</p>
<a name="anchor224"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14"></a><h3>14.&nbsp;
Examples</h3>

<a name="anchor225"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.1"></a><h3>14.1.&nbsp;
Message Flow</h3>

<p>The following is an example of a typical MRCPv2 session of speech
        synthesis and recognition between a client and a server.
</p>
<p>The figure below illustrates opening a session to the MRCPv2
        server. This is exchange does not allocate a resource or setup media.
        It simply establishes a SIP session with the MRCPv2 server.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:
       INVITE sip:mresources@server.example.com SIP/2.0
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314159 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:125

       v=0
       o=sarvi 2890844526 2890842807 IN IP4 192.0.2.4
       s=Set up MRCPv2 control and audio
       i=Initial contact
       c=IN IP4 192.0.2.12


S-&gt;C:
       SIP/2.0 200 OK
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314159 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:125

       v=0
       o=sarvi 2890844526 2890842807 IN IP4 192.0.2.4
       s=Set up MRCPv2 control and audio
       i=Initial contact
       c=IN IP4 192.0.2.11


C-&gt;S:
       ACK sip:mrcp@server.example.com SIP/2.0
       Max-Forwards:6
       To:MediaServer &lt;sip:mrcp@server.example.com&gt;;tag=a6c85cf
       From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314160 ACK
       Content-Length:0
</pre></div>
<p>The client requests the server to create synthesizer resource
        control channel to do speech synthesis. This also adds a media pipe to
        send the generated speech. Note that in this example, the client
        requests a new MRCPv2 TCP pipe between the client and the server. In
        the following requests, the client will ask to use the existing
        connection.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:
       INVITE sip:mresources@server.example.com SIP/2.0
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314161 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:320

       v=0
       o=sarvi 2890844526 2890842808 IN IP4 192.0.2.4
       s=Set up MRCPv2 control and audio
       i=Add TCP channel, synthesizer and one-way audio
       c=IN IP4 192.0.2.12
       m=application 9  TCP/MRCPv2 1
       a=setup:active
       a=connection:new
       a=resource:speechsynth
       a=cmid:1
       m=audio 49170 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=recvonly
       a=mid:1


S-&gt;C:
       SIP/2.0 200 OK
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314161 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:336

       v=0
       o=sarvi 2890844526 2890842808 IN IP4 192.0.2.4
       s=Set up MRCPv2 control and audio
       i=Add TCP channel, synthesizer and one-way audio
       c=IN IP4 192.0.2.11
       m=application 32416  TCP/MRCPv2 1
       a=setup:passive
       a=connection:new
       a=channel:32AECB23433801@speechsynth
       a=cmid:1
       m=audio 48260 RTP/AVP 0
       a=rtpmap:0 pcmu/8000
       a=sendonly
       a=mid:1


C-&gt;S:
       ACK sip:mrcp@server.example.com SIP/2.0
       Max-Forwards:6
       To:MediaServer &lt;sip:mrcp@server.example.com&gt;;tag=a6c85cf
       From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314162 ACK
       Content-Length:0
</pre></div>
<p>This exchange allocates an additional resource control channel for
        a recognizer. Since a recognizer would need to receive an audio stream
        for recognition, this interaction also updates the audio stream to
        sendrecv making it a 2-way audio stream.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:
       INVITE sip:mresources@server.example.com SIP/2.0
       Max-Forwards:6
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314163 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:531

       v=0
       o=sarvi 2890844526 2890842809 IN IP4 192.0.2.4
       s=Set up MRCPv2 control and audio
       i=Add recognizer and duplex the audio
       c=IN IP4 192.0.2.12
       m=application 9  TCP/MRCPv2 1
       a=setup:active
       a=connection:existing
       a=resource:speechsynth
       a=cmid:1
       m=audio 49170 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=recvonly
       a=mid:1
       m=application 9  TCP/MRCPv2 1
       a=setup:active
       a=connection:existing
       a=resource:speechrecog
       a=cmid:2
       m=audio 49180 RTP/AVP 0 96
       a=rtpmap:0 pcmu/8000
       a=rtpmap:96 telephone-event/8000
       a=fmtp:96 0-15
       a=sendonly
       a=mid:2


S-&gt;C:
       SIP/2.0 200 OK
       To:MediaServer &lt;sip:mresources@server.example.com&gt;
       From:sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314163 INVITE
       Contact:&lt;sip:sarvi@example.com&gt;
       Content-Type:application/sdp
       Content-Length:487

       v=0
       o=sarvi 2890844526 2890842809 IN IP4 192.0.2.4
       s=Set up MRCPv2 control and audio
       i=Add recognizer and duplex the audio
       c=IN IP4 192.0.2.11
       m=application 32416  TCP/MRCPv2 1
       a=channel:32AECB23433801@speechsynth
       a=cmid:1
       m=audio 48260 RTP/AVP 0
       a=rtpmap:0 pcmu/8000
       a=sendonly
       a=mid:1
       m=application 32416  TCP/MRCPv2 1
       a=channel:32AECB23433801@speechrecog
       a=cmid:2
       m=audio 48260 RTP/AVP 0
       a=rtpmap:0 pcmu/8000
       a=rtpmap:96 telephone-event/8000
       a=fmtp:96 0-15
       a=recvonly
       a=mid:2


C-&gt;S:
       ACK sip:mrcp@server.example.com SIP/2.0
       Max-Forwards:6
       To:MediaServer &lt;sip:mrcp@server.example.com&gt;;tag=a6c85cf
       From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:314164 ACK
       Content-Length:0
</pre></div>
<p>A MRCPv2 <tt>SPEAK</tt> request initiates
        speech.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:
       MRCP/2.0 386 SPEAK 543257
       Channel-Identifier:32AECB23433801@speechsynth
       Kill-On-Barge-In:false
       Voice-gender:neutral
       Voice-age:25
       Prosody-volume:medium
       Content-Type:application/ssml+xml
       Content-Length:614

       &lt;?xml version="1.0"?&gt;
       &lt;speak version="1.0"
              xmlns="http://www.w3.org/2001/10/synthesis"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
              http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
              xml:lang="en-US"&gt;
         &lt;p&gt;
           &lt;s&gt;You have 4 new messages.&lt;/s&gt;
           &lt;s&gt;The first is from Stephanie Williams
             &lt;mark name="Stephanie"/&gt;
             and arrived at &lt;break/&gt;
             &lt;say-as interpret-as="vxml:time"&gt;0345p&lt;/say-as&gt;.&lt;/s&gt;
           &lt;s&gt;The subject is &lt;prosody
              rate="-20%"&gt;ski trip&lt;/prosody&gt;&lt;/s&gt;
         &lt;/p&gt;
       &lt;/speak&gt;


S-&gt;C:
       MRCP/2.0 49 543257 200 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speechsynth
       Speech-Marker:timestamp=857205015059

</pre></div>
<p>The synthesizer hits the special marker in the message to be spoken
        and faithfully informs the client of the event.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:  MRCP/2.0 46 SPEECH-MARKER 543257 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speechsynth
       Speech-Marker:timestamp=857206027059;Stephanie
</pre></div>
<p>The synthesizer finishes with the <tt>SPEAK</tt>
        request.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:  MRCP/2.0 48 SPEAK-COMPLETE 543257 COMPLETE
       Channel-Identifier:32AECB23433801@speechsynth
       Speech-Marker:timestamp=857207685213;Stephanie

</pre></div>
<p>The recognizer is issued a request to listen for the customer
        choices.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 343 RECOGNIZE 543258
       Channel-Identifier:32AECB23433801@speechrecog
       Content-Type:application/srgs+xml
       Content-Length:406

       &lt;?xml version="1.0"?&gt;
       &lt;!-- the default grammar language is US English --&gt;
       &lt;grammar xmlns="http://www.w3.org/2001/06/grammar"
                xml:lang="en-US" version="1.0" root="request"&gt;
       &lt;!-- single language attachment to a rule expansion --&gt;
         &lt;rule id="request"&gt;
           Can I speak to
           &lt;one-of xml:lang="fr-CA"&gt;
             &lt;item&gt;Michel Tremblay&lt;/item&gt;
             &lt;item&gt;Andre Roy&lt;/item&gt;
           &lt;/one-of&gt;
         &lt;/rule&gt;
       &lt;/grammar&gt;


S-&gt;C:  MRCP/2.0 49 543258 200 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speechrecog
</pre></div>
<p>The client issues the next MRCPv2 <tt>SPEAK</tt>
        method. It is generally RECOMMENDED when playing a prompt to the user
        with kill-on-barge-in and asking for input, that the client issue the
        RECOGNIZE request ahead of the <tt>SPEAK</tt>
        request for optimum performance and user experience. This way, it is
        guaranteed that the recognizer is online before the prompt starts
        playing and the user's speech will not be truncated at the beginning
        (especially for power users).
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  MRCP/2.0 289 SPEAK 543259
       Channel-Identifier:32AECB23433801@speechsynth
       Kill-On-Barge-In:true
       Content-Type:application/ssml+xml
       Content-Length:418

       &lt;?xml version="1.0"?&gt;
       &lt;speak version="1.0"
              xmlns="http://www.w3.org/2001/10/synthesis"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://www.w3.org/2001/10/synthesis
              http://www.w3.org/TR/speech-synthesis/synthesis.xsd"
              xml:lang="en-US"&gt;
         &lt;p&gt;
           &lt;s&gt;Welcome to ABC corporation.&lt;/s&gt;
           &lt;s&gt;Who would you like Talk to.&lt;/s&gt;
         &lt;/p&gt;
       &lt;/speak&gt;


S-&gt;C:  MRCP/2.0 52 543259 200 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speechsynth
       Speech-Marker:timestamp=857207696314

</pre></div>
<p>Since the last <tt>SPEAK</tt> request had
        Kill-On-Barge-In set to "true", the speech synthesizer is interrupted
        when the user starts speaking. And the client is notified.
</p>
<p>Now, since the recognition and synthesizer resources are on the
        same session, they may have worked with each other to deliver
        kill-on-barge-in. Whether the synthesizer and recognizer are in the
        same session or not the recognizer MUST generate the START-OF-INPUT
        event to the client.
</p>
<p>The client MUST then blindly turn around and issued a
        BARGE-IN-OCCURRED method to the synthesizer resource (if a <tt>SPEAK</tt> request was active). The synthesizer, if
        kill-on-barge-in was enabled on the current <tt>SPEAK</tt> request, would have then interrupted it and
        issued a <tt>SPEAK</tt>-COMPLETE event to the
        client.
</p>
<p>The completion-cause code differentiates if this is normal
        completion or a kill-on-barge-in interruption.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:  MRCP/2.0 49 START-OF-INPUT 543258 IN-PROGRESS
       Channel-Identifier:32AECB23433801@speechrecog
       Proxy-Sync-Id:987654321


C-&gt;S:  MRCP/2.0 69 BARGE-IN-OCCURRED 543259
       Channel-Identifier:32AECB23433801@speechsynth
       Proxy-Sync-Id:987654321


S-&gt;C:  MRCP/2.0 72 543259 200 COMPLETE
       Channel-Identifier:32AECB23433801@speechsynth
       Active-Request-Id-List:543258
       Speech-Marker:timestamp=857206096314

S-&gt;C:  MRCP/2.0 73 SPEAK-COMPLETE 543259 COMPLETE
       Channel-Identifier:32AECB23433801@speechsynth
       Completion-Cause:001 barge-in
       Speech-Marker:timestamp=857207685213

</pre></div>
<p>The recognition resource matched the spoken stream to a grammar and
        generated results. The result of the recognition is returned by the
        server as part of the RECOGNITION-COMPLETE event.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S-&gt;C:  MRCP/2.0 412 RECOGNITION-COMPLETE 543258 COMPLETE
       Channel-Identifier:32AECB23433801@speechrecog
       Completion-Cause:000 success
       Waveform-URI:&lt;http://web.media.com/session123/audio.wav&gt;;
                    size=423523;duration=25432
       Content-Type:application/nlsml+xml
       Content-Length:421

       &lt;?xml version="1.0"?&gt;
       &lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
               xmlns:ex="http://www.example.com/example"
               grammar="session:request1@form-level.store"&gt;
           &lt;interpretation&gt;
               &lt;instance name="Person"&gt;
                   &lt;ex:Person&gt;
                       &lt;ex:Name&gt; Andre Roy &lt;/ex:Name&gt;
                   &lt;/ex:Person&gt;
               &lt;/instance&gt;
               &lt;input&gt;   may I speak to Andre Roy &lt;/input&gt;
           &lt;/interpretation&gt;
       &lt;/result&gt;
</pre></div>
<p>When the client wants to tear down the whole session and all its
        resources, it MUST issue a SIP BYE to close the SIP session. This will
        de-allocate all the control channels and resources allocated under the
        session.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S:  BYE sip:mrcp@server.example.com SIP/2.0
       Max-Forwards:6
       From:Sarvi &lt;sip:sarvi@example.com&gt;;tag=a6c85cf
       To:MediaServer &lt;sip:mrcp@server.example.com&gt;;tag=1928301774
       Call-ID:a84b4c76e66710
       CSeq:231 BYE
       Content-Length:0
</pre></div>
<a name="anchor226"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2"></a><h3>14.2.&nbsp;
Recognition Result Examples</h3>

<a name="anchor227"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2.1"></a><h3>14.2.1.&nbsp;
Simple ASR Ambiguity</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
System: To which city will you be traveling?
User:   I want to go to Pittsburgh.

&lt;?xml version="1.0"?&gt;
&lt;result xmlns="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns:ex="http://www.example.com/example"
        grammar="http://flight"&gt;
  &lt;interpretation confidence="0.6"&gt;
     &lt;instance&gt;
        &lt;ex:airline&gt;
           &lt;ex:to_city&gt;Pittsburgh&lt;/ex:to_city&gt;
        &lt;ex:airline&gt;
     &lt;instance&gt;
     &lt;input mode="speech"&gt;
        I want to go to Pittsburgh
     &lt;/input&gt;
  &lt;/interpretation&gt;
  &lt;interpretation confidence="0.4"
     &lt;instance&gt;
        &lt;ex:airline&gt;
           &lt;ex:to_city&gt;Stockholm&lt;/ex:to_city&gt;
        &lt;/ex:airline&gt;
     &lt;/instance&gt;
     &lt;input&gt;I want to go to Stockholm&lt;/input&gt;
  &lt;/interpretation&gt;
&lt;/result&gt;
</pre></div>
<a name="anchor228"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2.2"></a><h3>14.2.2.&nbsp;
Mixed Initiative</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
System: What would you like?
User:   I would like 2 pizzas, one with pepperoni and cheese,
        one with sausage and a bottle of coke, to go.
</pre></div>
<p>This example includes an order object which in turn contains
          objects named "food_item", "drink_item" and "delivery_method". The
          representation assumes there are no ambiguities in the speech or
          natural language processing. Note that this representation also
          assumes some level of intra-sentential anaphora resolution, i.e., to
          resolve the two "one's" as "pizza".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0"?&gt;
&lt;nl:result xmlns:nl="http://www.ietf.org/xml/ns/mrcpv2"
           xmlns="http://www.example.com/example"
           grammar="http://foodorder"&gt;
  &lt;nl:interpretation confidence="1.0" &gt;
     &lt;nl:instance&gt;
      &lt;order&gt;
        &lt;food_item confidence="1.0"&gt;
          &lt;pizza&gt;
            &lt;ingredients confidence="1.0"&gt;
              pepperoni
            &lt;/ingredients&gt;
            &lt;ingredients confidence="1.0"&gt;
              cheese
            &lt;/ingredients&gt;
          &lt;/pizza&gt;
          &lt;pizza&gt;
            &lt;ingredients&gt;sausage&lt;/ingredients&gt;
          &lt;/pizza&gt;
        &lt;/food_item&gt;
        &lt;drink_item confidence="1.0"&gt;
          &lt;size&gt;2-liter&lt;/size&gt;
        &lt;/drink_item&gt;
        &lt;delivery_method&gt;to go&lt;/delivery_method&gt;
      &lt;/order&gt;
    &lt;/nl:instance&gt;
    &lt;nl:input mode="speech"&gt;I would like 2 pizzas,
         one with pepperoni and cheese, one with sausage
         and a bottle of coke, to go.
    &lt;/nl:input&gt;
  &lt;/nl:interpretation&gt;
&lt;/nl:result&gt;
</pre></div>
<a name="anchor229"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2.3"></a><h3>14.2.3.&nbsp;
DTMF Input</h3>

<p>A combination of DTMF input and speech is represented using
          nested input elements. For example:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>User: My pin is (dtmf 1 2 3 4)</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;input&gt;
  &lt;input mode="speech" confidence ="1.0"
     timestamp-start="2000-04-03T0:00:00"
     timestamp-end="2000-04-03T0:00:01.5"&gt;My pin is
  &lt;/input&gt;
  &lt;input mode="dtmf" confidence ="1.0"
     timestamp-start="2000-04-03T0:00:01.5"
     timestamp-end="2000-04-03T0:00:02.0"&gt;1 2 3 4
  &lt;/input&gt;
&lt;/input&gt;
</pre></div>
<p>Note that grammars that recognize mixtures of speech and DTMF are
          not currently possible in VoiceXML; however this representation may
          be needed for other applications of NLSML, and it may be introduced
          in future versions of VoiceXML.
</p>
<a name="anchor230"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2.4"></a><h3>14.2.4.&nbsp;
Interpreting Meta-Dialog and Meta-Task Utterances</h3>

<p>Natural language communication makes use of meta-dialog and
          meta-task utterances. This specification is flexible enough so that
          meta utterances can be represented on an application-specific basis
          without requiring other standard markup.
</p>
<p>Here are two examples of how meta-task and meta-dialog utterances
          might be represented.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
System: What toppings do you want on your pizza?
User:   What toppings do you have?

&lt;interpretation grammar="http://toppings"&gt;
   &lt;instance&gt;
      &lt;question&gt;
         &lt;questioned_item&gt;toppings&lt;questioned_item&gt;
         &lt;questioned_property&gt;
          availability
         &lt;/questioned_property&gt;
      &lt;/question&gt;
   &lt;/instance&gt;
   &lt;input mode="speech"&gt;
     what toppings do you have?
   &lt;/input&gt;
&lt;/interpretation&gt;


User:   slow down.

&lt;interpretation grammar="http://generalCommandsGrammar"&gt;
   &lt;instance&gt;
    &lt;command&gt;
       &lt;action&gt;reduce speech rate&lt;/action&gt;
       &lt;doer&gt;system&lt;/doer&gt;
    &lt;/command&gt;
   &lt;/instance&gt;
  &lt;input mode="speech"&gt;slow down&lt;/input&gt;
&lt;/interpretation&gt;
</pre></div>
<a name="anchor231"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2.5"></a><h3>14.2.5.&nbsp;
Anaphora and Deixis</h3>

<p>This specification can be used on an application-specific basis
          to represent utterances that contain unresolved anaphoric and
          deictic references. Anaphoric references, which include pronouns and
          definite noun phrases that refer to something that was mentioned in
          the preceding linguistic context, and deictic references, which
          refer to something that is present in the non-linguistic context,
          present similar problems in that there may not be sufficient
          unambiguous linguistic context to determine what their exact role in
          the interpretation should be. In order to represent unresolved
          anaphora and deixis using this specification, one strategy would be
          for the developer to define a more surface-oriented representation
          that leaves the specific details of the interpretation of the
          reference open. (This assumes that a later component is responsible
          for actually resolving the reference).
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Example: (ignoring the issue of representing the input from the
          pointing gesture.)

System: What do you want to drink?
User:   I want this (clicks on picture of large root beer.)

&lt;?xml version="1.0"?&gt;
&lt;nl:result xmlns:nl="http://www.ietf.org/xml/ns/mrcpv2"
        xmlns="http://www.example.com/example"
        grammar="http://www.example.com/beverages.grxml"&gt;
   &lt;nl:interpretation&gt;
      &lt;nl:instance&gt;
       &lt;doer&gt;I&lt;/doer&gt;
       &lt;action&gt;want&lt;/action&gt;
       &lt;object&gt;this&lt;/object&gt;
      &lt;/nl:instance&gt;
      &lt;nl:input mode="speech"&gt;I want this&lt;/nl:input&gt;
   &lt;/nl:interpretation&gt;
&lt;/nl:result&gt;
</pre></div>
<p>
</p>
<a name="anchor232"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2.6"></a><h3>14.2.6.&nbsp;
Distinguishing Individual Items from Sets with One Member</h3>

<p>For programming convenience, it is useful to be able to
          distinguish between individual items and sets containing one item in
          the XML representation of semantic results. For example, a pizza
          order might consist of exactly one pizza, but a pizza might contain
          zero or more toppings. Since there is no standard way of marking
          this distinction directly in XML, in the current framework, the
          developer is free to adopt any conventions that would convey this
          information in the XML markup. One strategy would be for the
          developer to wrap the set of items in a grouping element, as in the
          following example.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;order&gt;
   &lt;pizza&gt;
      &lt;topping-group&gt;
         &lt;topping&gt;mushrooms&lt;/topping&gt;
      &lt;/topping-group&gt;
   &lt;/pizza&gt;
   &lt;drink&gt;coke&lt;/drink&gt;
&lt;/order&gt;
</pre></div>
<p>In this example, the programmer can assume that there is supposed
          to be exactly one pizza and one drink in the order, but the fact
          that there is only one topping is an accident of this particular
          pizza order.
</p>
<p>Note that the client controls both the grammar and the semantics
          to be returned upon grammar matches, so the user of the MRCP
          protocol is fully empowered to cause results to be returned in NLSML
          in such a way that the interpretation is clear to that user.
</p>
<a name="anchor233"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14.2.7"></a><h3>14.2.7.&nbsp;
Extensibility</h3>

<p>Extensibility in NLSML is provided via result content
          flexibility, as discussed in the discussions of meta utterances and
          anaphora. NLSML can easily be used in sophisticated systems to
          convey application-specific information that more basic systems
          would not make use of, for example defining speech acts.
</p>
<a name="S.abnf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.15"></a><h3>15.&nbsp;
ABNF Normative Definition</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
LWS    =    [*WSP CRLF] 1*WSP ; linear whitespace

SWS    =    [LWS] ; sep whitespace

UTF8-NONASCII    =    %xC0-DF 1UTF8-CONT
                 /    %xE0-EF 2UTF8-CONT
                 /    %xF0-F7 3UTF8-CONT
                 /    %xF8-FB 4UTF8-CONT
                 /    %xFC-FD 5UTF8-CONT

UTF8-CONT        =    %x80-BF
UTFCHAR          =    %x21-7E
                 /    UTF8-NONASCII
param            =    *pchar

quoted-string    =    SWS DQUOTE *(qdtext / quoted-pair )
                      DQUOTE

qdtext           =    LWS / %x21 / %x23-5B / %x5D-7E
                 /    UTF8-NONASCII

quoted-pair      =    "\" (%x00-09 / %x0B-0C / %x0E-7F)

token            =    1*(alphanum / "-" / "." / "!" / "%" / "*"
                      / "_" / "+" / "`" / "'" / "~" )

reserved         =    ";" / "/" / "?" / ":" / "@" / "&amp;" / "="
                      / "+" / "$" / ","

mark             =    "-" / "_" / "." / "!" / "~" / "*" / "'"
                 /    "(" / ")"

unreserved       =    alphanum / mark

pchar            =    unreserved / escaped
                 /    ":" / "@" / "&amp;" / "=" / "+" / "$" / ","

alphanum         =    ALPHA / DIGIT

BOOLEAN          =    "true" / "false"

FLOAT            =    *DIGIT ["." *DIGIT]

escaped          =    "%" HEXDIG HEXDIG

fragment         =    *uric

uri              =    [ absoluteURI / relativeURI ]
                      [ "#" fragment ]

absoluteURI      =    scheme ":" ( hier-part / opaque-part )

relativeURI      =    ( net-path / abs-path / rel-path )
                      [ "?" query ]

hier-part        =    ( net-path / abs-path ) [ "?" query ]

net-path         =    "//" authority [ abs-path ]

abs-path         =    "/" path-segments

rel-path         =    rel-segment [ abs-path ]

rel-segment      =    1*( unreserved / escaped / ";" / "@"
                 /    "&amp;" / "=" / "+" / "$" / "," )

opaque-part      =    uric-no-slash *uric

uric             =    reserved / unreserved / escaped

uric-no-slash    =    unreserved / escaped / ";" / "?" / ":"
                      / "@" / "&amp;" / "=" / "+" / "$" / ","

path-segments    =    segment *( "/" segment )

segment          =    *pchar *( ";" param )

scheme           =    ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )

authority        =    srvr / reg-name

srvr             =    [ [ userinfo "@" ] hostport ]

reg-name         =    1*( unreserved / escaped / "$" / ","
                 /     ";" / ":" / "@" / "&amp;" / "=" / "+" )

query            =    *uric

userinfo         =    ( user ) [ ":" password ] "@"

user             =    1*( unreserved / escaped
                 /    user-unreserved )

user-unreserved  =    "&amp;" / "=" / "+" / "$" / "," / ";"
                 /    "?" / "/"

password         =    *( unreserved / escaped
                 /    "&amp;" / "=" / "+" / "$" / "," )

hostport         =    host [ ":" port ]

host             =    hostname / IPv4address / IPv6reference

hostname         =    *( domainlabel "." ) toplabel [ "." ]

domainlabel      =    alphanum / alphanum *( alphanum / "-" )
                      alphanum

toplabel         =    ALPHA / ALPHA *( alphanum / "-" )
                      alphanum

IPv4address      =    1*3DIGIT "." 1*3DIGIT "." 1*3DIGIT "."
                      1*3DIGIT

IPv6reference    =    "[" IPv6address "]"

IPv6address      =    hexpart [ ":" IPv4address ]

hexpart          =    hexseq / hexseq "::" [ hexseq ] / "::"
                      [ hexseq ]

hexseq           =    hex4 *( ":" hex4)

hex4             =    1*4HEXDIG

port             =    1*19DIGIT

cmid-attribute   =    "a=cmid:" identification-tag

identification-tag =    token

generic-message  =    start-line message-header CRLF
                      [ message-body ]

message-body     =    *OCTET

start-line       =    request-line / status-line / event-line

request-line     =    mrcp-version SP message-length SP method-name
                      SP request-id CRLF

status-line      =    mrcp-version SP message-length SP request-id
                      SP status-code SP request-state CRLF

event-line       =    mrcp-version SP message-length SP event-name
                      SP request-id SP request-state CRLF

method-name      =    generic-method
                 /    synthesizer-method
                 /    recognizer-method
                 /    recorder-method
                 /    verifier-method

generic-method   =    "SET-PARAMS"
                 /    "GET-PARAMS"

request-state    =    "COMPLETE"
                 /    "IN-PROGRESS"
                 /    "PENDING"

event-name       =    synthesizer-event
                 /    recognizer-event
                 /    recorder-event
                 /    verifier-event

message-header   =    1*(generic-header / resource-header)

resource-header  =    synthesizer-header
                 /    recognizer-header
                 /    recorder-header
                 /    verifier-header

generic-header   =    channel-identifier
                 /    accept
                 /    active-request-id-list
                 /    proxy-sync-id
                 /    accept-charset
                 /    content-type
                 /    content-id
                 /    content-base
                 /    content-encoding
                 /    content-location
                 /    content-length
                 /    fetch-timeout
                 /    cache-control
                 /    logging-tag
                 /    set-cookie
                 /    set-cookie2
                 /    vendor-specific

; -- content-id is as defined in RFC2392, RFC2046 and RFC2822
; -- accept and accept-charset are as defined in RFC2616

mrcp-version     =    "MRCP" "/" 1*2DIGIT "." 1*2DIGIT

message-length   =    1*19DIGIT

request-id       =    1*10DIGIT

status-code      =    3DIGIT

channel-identifier =  "Channel-Identifier" ":"
                      channel-id CRLF

channel-id       =    1*alphanum "@" 1*alphanum

active-request-id-list = "Active-Request-Id-List" ":"
                         request-id *("," request-id) CRLF

proxy-sync-id    =    "Proxy-Sync-Id" ":" 1*VCHAR CRLF

content-length   =    "Content-Length" ":" 1*19DIGIT CRLF

content-base     =    "Content-Base" ":" absoluteURI CRLF

content-type     =    "Content-Type" ":" media-type-value CRLF

media-type-value =    type "/" subtype *( ";" parameter )

type             =    token

subtype          =    token

parameter        =    attribute "=" value

attribute        =    token

value            =    token / quoted-string

content-encoding =    "Content-Encoding" ":"
                      *WSP content-coding
                      *(*WSP "," *WSP content-coding *WSP )
                      CRLF

content-coding   =    token


content-location =    "Content-Location" ":"
                      ( absoluteURI / relativeURI )  CRLF

cache-control    =    "Cache-Control" ":"
                      [*WSP cache-directive
                      *( *WSP "," *WSP cache-directive *WSP )]
                      CRLF

fetch-timeout    =    "Fetch-Timeout" ":" 1*19DIGIT CRLF

cache-directive  =    "max-age" "=" delta-seconds
                 /    "max-stale" ["=" delta-seconds ]
                 /    "min-fresh" "=" delta-seconds

logging-tag      =    "Logging-Tag" ":" 1*UTFCHAR CRLF

vendor-specific  =    "Vendor-Specific-Parameters" ":"
                      [vendor-specific-av-pair
                      *(";" vendor-specific-av-pair)] CRLF

vendor-specific-av-pair = vendor-av-pair-name "="
                          value

vendor-av-pair-name     = 1*UTFCHAR

set-cookie       =    "Set-Cookie:" cookies CRLF

cookies          =    cookie *("," *LWS cookie)

cookie           =    attribute "=" value *(";" cookie-av)

cookie-av        =    "Comment" "=" value
                 /    "Domain" "=" value
                 /    "Max-Age" "=" value
                 /    "Path" "=" value
                 /    "Secure"
                 /    "Version" "=" 1*19DIGIT
                 /    "Age" "=" delta-seconds

set-cookie2      =    "Set-Cookie2:" cookies2 CRLF

cookies2         =    cookie2 *("," *LWS cookie2)

cookie2          =    attribute "=" value *(";" cookie-av2)

cookie-av2       =    "Comment" "=" value
                 /    "CommentURL" "=" DQUOTE uri DQUOTE
                 /    "Discard"
                 /    "Domain" "=" value
                 /    "Max-Age" "=" value
                 /    "Path" "=" value
                 /    "Port" [ "=" DQUOTE portlist DQUOTE ]
                 /    "Secure"
                 /    "Version" "=" 1*19DIGIT
                 /    "Age" "=" delta-seconds

portlist         =    portnum *("," *LWS portnum)

portnum          =    1*19DIGIT

; Synthesizer ABNF

synthesizer-method    =    "SPEAK"
                      /    "STOP"
                      /    "PAUSE"
                      /    "RESUME"
                      /    "BARGE-IN-OCCURRED"
                      /    "CONTROL"
                      /    "DEFINE-LEXICON"

synthesizer-event     =    "SPEECH-MARKER"
                      /    "SPEAK-COMPLETE"

synthesizer-header    =    jump-size
                      /    kill-on-barge-in
                      /    speaker-profile
                      /    completion-cause
                      /    completion-reason
                      /    voice-parameter
                      /    prosody-parameter
                      /    speech-marker
                      /    speech-language
                      /    fetch-hint
                      /    audio-fetch-hint
                      /    failed-uri
                      /    failed-uri-cause
                      /    speak-restart
                      /    speak-length
                      /    load-lexicon
                      /    lexicon-search-order


jump-size             =    "Jump-Size" ":" speech-length-value CRLF

speech-length-value   =    numeric-speech-length
                      /    text-speech-length

text-speech-length    =    1*UTFCHAR SP "Tag"

numeric-speech-length =    ("+" / "-") positive-speech-length

positive-speech-length =   1*19DIGIT SP numeric-speech-unit

numeric-speech-unit   =    "Second"
                      /    "Word"
                      /    "Sentence"
                      /    "Paragraph"

delta-seconds         =    1*19DIGIT

kill-on-barge-in      =    "Kill-On-Barge-In" ":" BOOLEAN
                           CRLF

speaker-profile       =    "Speaker-Profile" ":" absoluteURI
                           CRLF

completion-cause      =    "Completion-Cause" ":" 3DIGIT SP
                           1*VCHAR CRLF

completion-reason     =    "Completion-Reason" ":"
                           quoted-string CRLF

voice-parameter       =    voice-gender
                      /    voice-age
                      /    voice-variant
                      /    voice-name

voice-gender          =    "Voice-Gender:" voice-gender-value CRLF

voice-gender-value    =    "male"
                      /    "female"
                      /    "neutral"

voice-age             =    "Voice-Age:" 1*3DIGIT CRLF

voice-variant         =    "Voice-Variant:" 1*19DIGIT CRLF

voice-name            =    "Voice-Name:"
                           1*UTFCHAR *(1*WSP 1*UTFCHAR) CRLF

prosody-parameter     =    "Prosody-" prosody-param-name ":"
                           [prosody-param-value] CRLF

prosody-param-name    =    1*VCHAR

prosody-param-value   =    1*VCHAR

timestamp             =    "timestamp" "=" time-stamp-value

time-stamp-value      =    1*20DIGIT

speech-marker         =    "Speech-Marker" ":"
                           timestamp
                           [";" 1*(UTFCHAR / %x20)] CRLF

speech-language       =    "Speech-Language" ":" 1*VCHAR CRLF

fetch-hint            =    "Fetch-Hint" ":" 1*ALPHA CRLF

audio-fetch-hint      =    "Audio-Fetch-Hint" ":" 1*ALPHA CRLF

failed-uri            =    "Failed-URI" ":" absoluteURI CRLF

failed-uri-cause      =    "Failed-URI-Cause" ":" 1*alphanum CRLF

speak-restart         =    "Speak-Restart" ":" BOOLEAN CRLF

speak-length          =    "Speak-Length" ":" positive-length-value
                           CRLF

positive-length-value   =  positive-speech-length
                        /  text-speech-length

load-lexicon          =    "Load-Lexicon" ":" BOOLEAN CRLF

lexicon-search-order  =    "Lexicon-Search-Order" ":"
          "&lt;" absoluteURI "&gt;" *(" " "&lt;" absoluteURI "&gt;") CRLF

; Recognizer ABNF

recognizer-method     =    recog-only-method
                      /    enrollment-method

recog-only-method     =    "DEFINE-GRAMMAR"
                      /    "RECOGNIZE"
                      /    "INTERPRET"
                      /    "GET-RESULT"
                      /    "START-INPUT-TIMERS"
                      /    "STOP"

enrollment-method     =    "START-PHRASE-ENROLLMENT"
                      /    "ENROLLMENT-ROLLBACK"
                      /    "END-PHRASE-ENROLLMENT"
                      /    "MODIFY-PHRASE"
                      /    "DELETE-PHRASE"

recognizer-event      =    "START-OF-INPUT"
                      /    "RECOGNITION-COMPLETE"
                      /    "INTERPRETATION-COMPLETE"

recognizer-header     =    recog-only-header
                      /    enrollment-header


recog-only-header     =    confidence-threshold
                      /    sensitivity-level
                      /    speed-vs-accuracy
                      /    n-best-list-length
                      /    input-type
                      /    no-input-timeout
                      /    recognition-timeout
                      /    waveform-uri
                      /    input-waveform-uri
                      /    completion-cause
                      /    completion-reason
                      /    recognizer-context-block
                      /    start-input-timers
                      /    speech-complete-timeout
                      /    speech-incomplete-timeout
                      /    dtmf-interdigit-timeout
                      /    dtmf-term-timeout
                      /    dtmf-term-char
                      /    failed-uri
                      /    failed-uri-cause
                      /    save-waveform
                      /    media-type
                      /    new-audio-channel
                      /    speech-language
                      /    ver-buffer-utterance
                      /    recognition-mode
                      /    cancel-if-queue
                      /    hotword-max-duration
                      /    hotword-min-duration
                      /    interpret-text
                      /    dtmf-buffer-time
                      /    clear-dtmf-buffer
                      /    early-no-match


enrollment-header     =    num-min-consistent-pronunciations
                      /    consistency-threshold
                      /    clash-threshold
                      /    personal-grammar-uri
                      /    enroll-utterance
                      /    phrase-id
                      /    phrase-nl
                      /    weight
                      /    save-best-waveform
                      /    new-phrase-id
                      /    confusable-phrases-uri
                      /    abort-phrase-enrollment

confidence-threshold  =    "Confidence-Threshold" ":"
                           FLOAT CRLF

sensitivity-level     =    "Sensitivity-Level" ":" FLOAT
                           CRLF

speed-vs-accuracy     =    "Speed-Vs-Accuracy" ":" FLOAT
                           CRLF

n-best-list-length    =    "N-Best-List-Length" ":" 1*19DIGIT
                           CRLF

input-type            =  "Input-Type" ":"  [ "speech" / "dtmf" ] CRLF

no-input-timeout      =    "No-Input-Timeout" ":" 1*19DIGIT
                           CRLF

recognition-timeout   =    "Recognition-Timeout" ":" 1*19DIGIT
                           CRLF

waveform-uri          =    "Waveform-URI" ":" ["&lt;" absoluteURI "&gt;"
                           ";" "size" "=" 1*19DIGIT
                           ";" "duration" "=" 1*19DIGIT] CRLF

recognizer-context-block = "Recognizer-Context-Block" ":"
                           [1*VCHAR] CRLF

start-input-timers    =    "Start-Input-Timers" ":"
                           BOOLEAN CRLF

speech-complete-timeout =  "Speech-Complete-Timeout" ":"
                           1*19DIGIT CRLF

speech-incomplete-timeout = "Speech-Incomplete-Timeout" ":"
                            1*19DIGIT CRLF

dtmf-interdigit-timeout = "DTMF-Interdigit-Timeout" ":"
                          1*19DIGIT CRLF

dtmf-term-timeout     =    "DTMF-Term-Timeout" ":" 1*19DIGIT
                           CRLF

dtmf-term-char        =    "DTMF-Term-Char" ":" VCHAR CRLF

save-waveform         =    "Save-Waveform" ":" BOOLEAN CRLF

new-audio-channel     =    "New-Audio-Channel" ":"
                           BOOLEAN CRLF

recognition-mode      =    "Recognition-Mode" ":" 1*ALPHA CRLF

cancel-if-queue       =    "Cancel-If-Queue" ":" BOOLEAN CRLF

hotword-max-duration  =    "Hotword-Max-Duration" ":"
                           1*19DIGIT CRLF

hotword-min-duration  =    "Hotword-Min-Duration" ":"
                           1*19DIGIT CRLF

interpret-text           =  "Interpret-Text" ":" 1*VCHAR CRLF

dtmf-buffer-time      =    "DTMF-Buffer-Time" ":" 1*19DIGIT CRLF

clear-dtmf-buffer     =    "Clear-DTMF-Buffer" ":" BOOLEAN CRLF

early-no-match        =    "Early-No-Match" ":" BOOLEAN CRLF

num-min-consistent-pronunciations    =
    "Num-Min-Consistent-Pronunciations" ":" 1*19DIGIT CRLF


consistency-threshold =    "Consistency-Threshold" ":" FLOAT
                           CRLF

clash-threshold       =    "Clash-Threshold" ":" FLOAT CRLF

personal-grammar-uri  =    "Personal-Grammar-URI" ":" uri CRLF

enroll-utterance      =    "Enroll-Utterance" ":" BOOLEAN CRLF

phrase-id             =    "Phrase-ID" ":" 1*VCHAR CRLF

phrase-nl             =    "Phrase-NL" ":" 1*UTFCHAR CRLF

weight                =    "Weight" ":" weight-value CRLF

weight-value          =    FLOAT

save-best-waveform    =    "Save-Best-Waveform" ":"
                           BOOLEAN CRLF

new-phrase-id         =    "New-Phrase-ID" ":" 1*VCHAR CRLF

confusable-phrases-uri =   "Confusable-Phrases-URI" ":"
                           uri CRLF

abort-phrase-enrollment =  "Abort-Phrase-Enrollment" ":"
                           BOOLEAN CRLF


; Verifier ABNF

verifier-method       =    "START-SESSION"
                      /    "END-SESSION"
                      /    "QUERY-VOICEPRINT"
                      /    "DELETE-VOICEPRINT"
                      /    "VERIFY"
                      /    "VERIFY-FROM-BUFFER"
                      /    "VERIFY-ROLLBACK"
                      /    "STOP"
                      /    "START-INPUT-TIMERS"
                      /    "GET-INTERMEDIATE-RESULT"


verifier-event        =    "VERIFICATION-COMPLETE"
                      /    "START-OF-INPUT"


verifier-header       =    repository-uri
                      /    voiceprint-identifier
                      /    verification-mode
                      /    adapt-model
                      /    abort-model
                      /    min-verification-score
                      /    num-min-verification-phrases
                      /    num-max-verification-phrases
                      /    no-input-timeout
                      /    save-waveform
                      /    media-type
                      /    waveform-uri
                      /    voiceprint-exists
                      /    ver-buffer-utterance
                      /    input-waveform-uri
                      /    completion-cause
                      /    completion-reason
                      /    speech-complete-timeout
                      /    new-audio-channel
                      /    abort-verification
                      /    start-input-timers
                      /    input-type



repository-uri        =    "Repository-URI" ":" uri CRLF

voiceprint-identifier =    "Voiceprint-Identifier" ":"
                           1*VCHAR "." 3VCHAR
                           [";" 1*VCHAR "." 3VCHAR] CRLF

verification-mode     =    "Verification-Mode" ":"
                           verification-mode-string

verification-mode-string = "train" / "verify"

adapt-model           =    "Adapt-Model" ":" BOOLEAN CRLF

abort-model           =    "Abort-Model" ":" BOOLEAN CRLF

min-verification-score  =  "Min-Verification-Score" ":"
                           [ %x2D ] FLOAT CRLF

num-min-verification-phrases = "Num-Min-Verification-Phrases"
                               ":" 1*19DIGIT CRLF

num-max-verification-phrases = "Num-Max-Verification-Phrases"
                               ":" 1*19DIGIT CRLF

voiceprint-exists     =    "Voiceprint-Exists" ":"
                           BOOLEAN CRLF

ver-buffer-utterance  =    "Ver-Buffer-Utterance" ":"
                           BOOLEAN CRLF

input-waveform-uri    =    "Input-Waveform-URI" ":" uri CRLF

abort-verification    =    "Abort-Verification " ":"
                           BOOLEAN CRLF


; Recorder ABNF

recorder-method       =    "RECORD"
                      /    "STOP"



recorder-event        =    "START-OF-INPUT"
                      /    "RECORD-COMPLETE"


recorder-header       =    sensitivity-level
                      /    no-input-timeout
                      /    completion-cause
                      /    completion-reason
                      /    failed-uri
                      /    failed-uri-cause
                      /    record-uri
                      /    media-type
                      /    max-time
                      /    trim-length
                      /    final-silence
                      /    capture-on-speech
                      /    new-audio-channel
                      /    start-input-timers
                      /    input-type



record-uri            =    "Record-URI" ":" [ "&lt;" uri "&gt;"
                           ";" "size" "=" 1*19DIGIT
                           ";" "duration" "=" 1*19DIGIT] CRLF

media-type            =    "Media-Type" ":" media-type-value CRLF

max-time              =    "Max-Time" ":" 1*19DIGIT CRLF

trim-length           =    "Trim-Length" ":" 1*19DIGIT CRLF

final-silence         =    "Final-Silence" ":" 1*19DIGIT CRLF

capture-on-speech     =    "Capture-On-Speech " ":"
                           BOOLEAN CRLF</pre></div>
<a name="anchor234"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16"></a><h3>16.&nbsp;
XML Schemas</h3>

<a name="sec.schema.NLSML"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16.1"></a><h3>16.1.&nbsp;
NLSML Schema Definition</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
            targetNamespace="http://www.ietf.org/xml/ns/mrcpv2"
            xmlns="http://www.ietf.org/xml/ns/mrcpv2"
            elementFormDefault="qualified"
            attributeFormDefault="unqualified" &gt;
  &lt;xs:element name="result"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt; Natural Language Semantic Markup Schema
      &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element name="interpretation" maxOccurs="unbounded"&gt;
          &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
              &lt;xs:element name="instance" minOccurs="0"&gt;
                &lt;xs:complexType mixed="true"&gt;
                  &lt;xs:sequence minOccurs="0"&gt;
                    &lt;xs:any namespace="##other" processContents="lax"/&gt;
                  &lt;/xs:sequence&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="input"&gt;
                &lt;xs:complexType mixed="true"&gt;
                  &lt;xs:choice&gt;
                    &lt;xs:element name="noinput" minOccurs="0"/&gt;
                    &lt;xs:element name="nomatch" minOccurs="0"/&gt;
                    &lt;xs:element name="input" minOccurs="0"/&gt;
                  &lt;/xs:choice&gt;
                  &lt;xs:attribute name="mode"
                                type="xs:string"
                                default="speech"/&gt;
                  &lt;xs:attribute name="confidence"
                                type="confidenceinfo"
                                default="1.0"/&gt;
                  &lt;xs:attribute name="timestamp-start"
                                type="xs:string"/&gt;
                  &lt;xs:attribute name="timestamp-end"
                                type="xs:string"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
            &lt;/xs:sequence&gt;
            &lt;xs:attribute name="confidence" type="confidenceinfo"
                          default="1.0"/&gt;
            &lt;xs:attribute name="grammar" type="xs:anyURI"
                          use="optional"/&gt;
          &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
        &lt;xs:include schemaLocation="enrollment-schema.rng"/&gt;
        &lt;xs:include schemaLocation="verification-schema.rng"/&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attribute name="grammar" type="xs:anyURI"
                    use="optional"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:simpleType name="confidenceinfo"&gt;
    &lt;xs:restriction base="xs:float"&gt;
       &lt;xs:minInclusive value="0.0"/&gt;
       &lt;xs:maxInclusive value="1.0"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
&lt;/xs:schema&gt;
</pre></div>
<a name="sec.enrollmentResultsSchema"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16.2"></a><h3>16.2.&nbsp;
Enrollment Results Schema Definition</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;!-- MRCP Enrollment Schema
(See http://www.oasis-open.org/committees/relax-ng/spec.html)
--&gt;

&lt;element name="enrollment-result"
         datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"
         ns="http://www.ietf.org/xml/ns/mrcpv2"
         xmlns="http://relaxng.org/ns/structure/1.0"&gt;
  &lt;interleave&gt;
    &lt;element name="num-clashes"&gt;
      &lt;data type="nonNegativeInteger"/&gt;
    &lt;/element&gt;
    &lt;element name="num-good-repetitions"&gt;
      &lt;data type="nonNegativeInteger"/&gt;
    &lt;/element&gt;
    &lt;element name="num-repetitions-still-needed"&gt;
      &lt;data type="nonNegativeInteger"/&gt;
    &lt;/element&gt;
    &lt;element name="consistency-status"&gt;
      &lt;choice&gt;
        &lt;value&gt;consistent&lt;/value&gt;
        &lt;value&gt;inconsistent&lt;/value&gt;
        &lt;value&gt;undecided&lt;/value&gt;
      &lt;/choice&gt;
    &lt;/element&gt;
    &lt;optional&gt;
      &lt;element name="clash-phrase-ids"&gt;
        &lt;oneOrMore&gt;
          &lt;element name="item"&gt;
            &lt;data type="token"/&gt;
          &lt;/element&gt;
        &lt;/oneOrMore&gt;
      &lt;/element&gt;
    &lt;/optional&gt;
    &lt;optional&gt;
      &lt;element name="transcriptions"&gt;
        &lt;oneOrMore&gt;
          &lt;element name="item"&gt;
            &lt;text/&gt;
          &lt;/element&gt;
        &lt;/oneOrMore&gt;
      &lt;/element&gt;
    &lt;/optional&gt;
    &lt;optional&gt;
      &lt;element name="confusable-phrases"&gt;
        &lt;oneOrMore&gt;
          &lt;element name="item"&gt;
            &lt;text/&gt;
          &lt;/element&gt;
        &lt;/oneOrMore&gt;
      &lt;/element&gt;
    &lt;/optional&gt;
  &lt;/interleave&gt;
&lt;/element&gt;
</pre></div>
<a name="sec.verificationResultsSchema"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16.3"></a><h3>16.3.&nbsp;
Verification Results Schema Definition</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;!--    MRCP Verification Results Schema
        (See http://www.oasis-open.org/committees/relax-ng/spec.html)
   --&gt;

&lt;grammar datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"
         ns="http://www.ietf.org/xml/ns/mrcpv2"
         xmlns="http://relaxng.org/ns/structure/1.0"&gt;

  &lt;start&gt;
    &lt;element name="verification-result"&gt;
      &lt;element name="voiceprint"&gt;
        &lt;ref name="firstVoiceprintContent"/&gt;
      &lt;/element&gt;
      &lt;zeroOrMore&gt;
        &lt;element name="voiceprint"&gt;
          &lt;ref name="restVoiceprintContent"/&gt;
        &lt;/element&gt;
      &lt;/zeroOrMore&gt;
    &lt;/element&gt;
  &lt;/start&gt;

  &lt;define name="firstVoiceprintContent"&gt;
    &lt;attribute name="id"&gt;
      &lt;data type="string"/&gt;
    &lt;/attribute&gt;
    &lt;interleave&gt;
      &lt;optional&gt;
        &lt;element name="adapted"&gt;
          &lt;data type="boolean"/&gt;
        &lt;/element&gt;
        &lt;element name="needmoredata"&gt;
          &lt;ref name="needmoredataContent"/&gt;
        &lt;/element&gt;
      &lt;/optional&gt;
      &lt;element name="incremental"&gt;
        &lt;ref name="firstCommonContent"/&gt;
      &lt;/element&gt;
      &lt;element name="cumulative"&gt;
        &lt;ref name="firstCommonContent"/&gt;
      &lt;/element&gt;
    &lt;/interleave&gt;
  &lt;/define&gt;

  &lt;define name="restVoiceprintContent"&gt;
    &lt;attribute name="id"&gt;
      &lt;data type="string"/&gt;
    &lt;/attribute&gt;
    &lt;interleave&gt;
      &lt;optional&gt;
        &lt;element name="incremental"&gt;
          &lt;ref name="restCommonContent"/&gt;
        &lt;/element&gt;
      &lt;/optional&gt;
      &lt;element name="cumulative"&gt;
        &lt;ref name="restCommonContent"/&gt;
      &lt;/element&gt;
    &lt;/interleave&gt;
  &lt;/define&gt;

  &lt;define name="firstCommonContent"&gt;
    &lt;interleave&gt;
      &lt;choice&gt;
        &lt;element name="decision"&gt;
          &lt;ref name="decisionContent"/&gt;
        &lt;/element&gt;
      &lt;/choice&gt;
      &lt;element name="device"&gt;
        &lt;ref name="deviceContent"/&gt;
      &lt;/element&gt;
      &lt;element name="gender"&gt;
        &lt;ref name="genderContent"/&gt;
      &lt;/element&gt;
     &lt;zeroOrMore&gt;
        &lt;element name="verification-score"&gt;
          &lt;ref name="verification-scoreContent"/&gt;
        &lt;/element&gt;
      &lt;/zeroOrMore&gt;
    &lt;/interleave&gt;
  &lt;/define&gt;

  &lt;define name="restCommonContent"&gt;
    &lt;interleave&gt;
      &lt;optional&gt;
        &lt;element name="decision"&gt;
          &lt;ref name="decisionContent"/&gt;
        &lt;/element&gt;
      &lt;/optional&gt;
      &lt;optional&gt;
        &lt;element name="utterance-length"&gt;
          &lt;ref name="utterance-lengthContent"/&gt;
        &lt;/element&gt;
      &lt;/optional&gt;
      &lt;optional&gt;
        &lt;element name="device"&gt;
          &lt;ref name="deviceContent"/&gt;
        &lt;/element&gt;
      &lt;/optional&gt;
      &lt;optional&gt;
        &lt;element name="gender"&gt;
          &lt;ref name="genderContent"/&gt;
        &lt;/element&gt;
      &lt;/optional&gt;
     &lt;zeroOrMore&gt;
        &lt;element name="verification-score"&gt;
          &lt;ref name="verification-scoreContent"/&gt;
        &lt;/element&gt;
     &lt;/zeroOrMore&gt;
     &lt;/interleave&gt;
  &lt;/define&gt;

  &lt;define name="decisionContent"&gt;
    &lt;choice&gt;
      &lt;value&gt;accepted&lt;/value&gt;
      &lt;value&gt;rejected&lt;/value&gt;
      &lt;value&gt;undecided&lt;/value&gt;
    &lt;/choice&gt;
  &lt;/define&gt;

  &lt;define name="needmoredataContent"&gt;
    &lt;data type="boolean"/&gt;
  &lt;/define&gt;

  &lt;define name="utterance-lengthContent"&gt;
    &lt;data type="nonNegativeInteger"/&gt;
  &lt;/define&gt;

  &lt;define name="deviceContent"&gt;
    &lt;choice&gt;
      &lt;value&gt;cellular-phone&lt;/value&gt;
      &lt;value&gt;electret-phone&lt;/value&gt;
      &lt;value&gt;carbon-button-phone&lt;/value&gt;
      &lt;value&gt;unknown&lt;/value&gt;
    &lt;/choice&gt;
  &lt;/define&gt;

  &lt;define name="genderContent"&gt;
    &lt;choice&gt;
      &lt;value&gt;male&lt;/value&gt;
      &lt;value&gt;female&lt;/value&gt;
      &lt;value&gt;unknown&lt;/value&gt;
    &lt;/choice&gt;
  &lt;/define&gt;

  &lt;define name="verification-scoreContent"&gt;
    &lt;data type="float"&gt;
      &lt;param name="minInclusive"&gt;-1&lt;/param&gt;
      &lt;param name="maxInclusive"&gt;1&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;

&lt;/grammar&gt;
</pre></div>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.17"></a><h3>17.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>17.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4566">[RFC4566]</a></td>
<td class="author-text">Handley, M., Jacobson, V., and C. Perkins, &ldquo;<a href="http://tools.ietf.org/html/rfc4566">SDP: Session Description Protocol</a>,&rdquo; RFC&nbsp;4566, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4566.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3264">[RFC3264]</a></td>
<td class="author-text">Rosenberg, J. and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3264">An Offer/Answer Model with Session Description Protocol (SDP)</a>,&rdquo; RFC&nbsp;3264, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3264.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3629">[RFC3629]</a></td>
<td class="author-text">Yergeau, F., &ldquo;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>,&rdquo; STD&nbsp;63, RFC&nbsp;3629, November&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3629.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4234">[RFC4234]</a></td>
<td class="author-text"><a href="mailto:dcrocker@bbiw.net">Crocker, D., Ed.</a> and <a href="mailto:paul.overell@thus.net">P. Overell</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; RFC&nbsp;4234, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4234.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc4234.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc4234.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4145">[RFC4145]</a></td>
<td class="author-text">Yon, D. and G. Camarillo, &ldquo;<a href="http://tools.ietf.org/html/rfc4145">TCP-Based Media Transport in the Session Description Protocol (SDP)</a>,&rdquo; RFC&nbsp;4145, September&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4145.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4572">[RFC4572]</a></td>
<td class="author-text">Lennox, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4572">Connection-Oriented Media Transport over the Transport Layer Security (TLS) Protocol in the Session Description Protocol (SDP)</a>,&rdquo; RFC&nbsp;4572, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4572.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3388">[RFC3388]</a></td>
<td class="author-text">Camarillo, G., Eriksson, G., Holler, J., and H. Schulzrinne, &ldquo;<a href="http://tools.ietf.org/html/rfc3388">Grouping of Media Lines in the Session Description Protocol (SDP)</a>,&rdquo; RFC&nbsp;3388, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3388.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2822">[RFC2822]</a></td>
<td class="author-text">Resnick, P., &ldquo;<a href="http://tools.ietf.org/html/rfc2822">Internet Message Format</a>,&rdquo; RFC&nbsp;2822, April&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc2822.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2392">[RFC2392]</a></td>
<td class="author-text"><a href="mailto:XIson@cnj.digex.net">Levinson, E.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2392">Content-ID and Message-ID Uniform Resource Locators</a>,&rdquo; RFC&nbsp;2392, August&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2392.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2392.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2392.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2109">[RFC2109]</a></td>
<td class="author-text"><a href="mailto:dmk@bell-labs.com">Kristol, D.</a> and <a href="mailto:montulli@netscape.com">L. Montulli</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2109">HTTP State Management Mechanism</a>,&rdquo; RFC&nbsp;2109, February&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2109.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2109.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2109.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2965">[RFC2965]</a></td>
<td class="author-text"><a href="mailto:dmk@bell-labs.com">Kristol, D.</a> and <a href="mailto:lou@montulli.org">L. Montulli</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2965">HTTP State Management Mechanism</a>,&rdquo; RFC&nbsp;2965, October&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2965.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2965.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2965.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4646">[RFC4646]</a></td>
<td class="author-text">Phillips, A. and M. Davis, &ldquo;<a href="http://tools.ietf.org/html/rfc4646">Tags for Identifying Languages</a>,&rdquo; RFC&nbsp;4646, September&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4646.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2434">[RFC2434]</a></td>
<td class="author-text"><a href="mailto:narten@raleigh.ibm.com">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no">H. Alvestrand</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2434">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;2434, October&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2434.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2434.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2434.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1035">[RFC1035]</a></td>
<td class="author-text">Mockapetris, P., &ldquo;<a href="http://tools.ietf.org/html/rfc1035">Domain names - implementation and specification</a>,&rdquo; STD&nbsp;13, RFC&nbsp;1035, November&nbsp;1987 (<a href="http://www.rfc-editor.org/rfc/rfc1035.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4288">[RFC4288]</a></td>
<td class="author-text">Freed, N. and J. Klensin, &ldquo;<a href="http://tools.ietf.org/html/rfc4288">Media Type Specifications and Registration Procedures</a>,&rdquo; BCP&nbsp;13, RFC&nbsp;4288, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4288.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4395">[RFC4395]</a></td>
<td class="author-text">Hansen, T., Hardie, T., and L. Masinter, &ldquo;<a href="http://tools.ietf.org/html/rfc4395">Guidelines and Registration Procedures for New URI Schemes</a>,&rdquo; BCP&nbsp;35, RFC&nbsp;4395, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4395.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4568">[RFC4568]</a></td>
<td class="author-text">Andreasen, F., Baugher, M., and D. Wing, &ldquo;<a href="http://tools.ietf.org/html/rfc4568">Session Description Protocol (SDP) Security Descriptions for Media Streams</a>,&rdquo; RFC&nbsp;4568, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4568.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-speech-synthesis-20040907">[W3C.REC-speech-synthesis-20040907]</a></td>
<td class="author-text">Walker, M., Burnett, D., and A. Hunt, &ldquo;<a href="http://www.w3.org/TR/2004/REC-speech-synthesis-20040907">Speech Synthesis Markup Language (SSML) Version 1.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-speech-synthesis-20040907, September&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-speech-synthesis-20040907">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-speech-grammar-20040316">[W3C.REC-speech-grammar-20040316]</a></td>
<td class="author-text">McGlashan, S. and A. Hunt, &ldquo;<a href="http://www.w3.org/TR/2004/REC-speech-grammar-20040316">Speech Recognition Grammar Specification Version 1.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-speech-grammar-20040316, March&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-speech-grammar-20040316">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-semantic-interpretation-20070405">[W3C.REC-semantic-interpretation-20070405]</a></td>
<td class="author-text">Tichelen, L. and D. Burke, &ldquo;<a href="http://www.w3.org/TR/2007/REC-semantic-interpretation-20070405">Semantic Interpretation for Speech Recognition (SISR) Version
          1.0</a>,&rdquo; World Wide Web Consortium REC&nbsp;REC-semantic-interpretation-20070405, April&nbsp;2007 (<a href="http://www.w3.org/TR/2007/REC-semantic-interpretation-20070405">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-names11-20040204">[W3C.REC-xml-names11-20040204]</a></td>
<td class="author-text">Hollander, D., Layman, A., Tobin, R., and T. Bray, &ldquo;<a href="http://www.w3.org/TR/2004/REC-xml-names11-20040204">Namespaces in XML 1.1</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xml-names11-20040204, February&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-xml-names11-20040204">HTML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>17.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC4313">[RFC4313]</a></td>
<td class="author-text">Oran, D., &ldquo;<a href="http://tools.ietf.org/html/rfc4313">Requirements for Distributed Control of Automatic Speech Recognition (ASR), Speaker Identification/Speaker Verification (SI/SV), and Text-to-Speech (TTS) Resources</a>,&rdquo; RFC&nbsp;4313, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4313.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Q.23">[Q.23]</a></td>
<td class="author-text">International Telecommunications
            Union, &ldquo;Technical Features of Push-Button Telephone Sets,&rdquo; ITU-T&nbsp;Q.23, 1993.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4733">[RFC4733]</a></td>
<td class="author-text">Schulzrinne, H. and T. Taylor, &ldquo;<a href="http://tools.ietf.org/html/rfc4733">RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals</a>,&rdquo; RFC&nbsp;4733, December&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4733.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-voicexml20-20040316">[W3C.REC-voicexml20-20040316]</a></td>
<td class="author-text">Tryphonas, S., Rehor, K., Burnett, D., Danielsen, P., McGlashan, S., Ferrans, J., Porter, B., Lucas, B., Hunt, A., and J. Carter, &ldquo;<a href="http://www.w3.org/TR/2004/REC-voicexml20-20040316">Voice Extensible Markup Language (VoiceXML) Version 2.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-voicexml20-20040316, March&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-voicexml20-20040316">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4463">[RFC4463]</a></td>
<td class="author-text">Shanmugham, S., Monaco, P., and B. Eberman, &ldquo;<a href="http://tools.ietf.org/html/rfc4463">A Media Resource Control Protocol (MRCP) Developed by Cisco, Nuance, and Speechworks</a>,&rdquo; RFC&nbsp;4463, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4463.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="refs.javaSpeechGrammarFormat">[refs.javaSpeechGrammarFormat]</a></td>
<td class="author-text">Sun Microsystems, &ldquo;<a href="http://java.sun.com/products/java-media/speech/forDevelopers/JSGF/">Java Speech Grammar Format Version 1.0</a>,&rdquo; October&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.CR-emma-20071211">[W3C.CR-emma-20071211]</a></td>
<td class="author-text">Johnston, M., Baggia, P., Burnett, D., Carter, J., Dahl, D., McCobb, G., and D. Raggett, &ldquo;<a href="http://www.w3.org/TR/2007/CR-emma-20071211">EMMA: Extensible MultiModal Annotation markup
          language</a>,&rdquo; World Wide Web Consortium Candidate Recommendation&nbsp;CR-emma-20071211, December&nbsp;2007 (<a href="http://www.w3.org/TR/2007/CR-emma-20071211">HTML</a>).</td></tr>
</table>

<a name="anchor237"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Contributors</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Pierre Forgues
Nuance Communications Ltd.
1500 University Street
Suite 935
Montreal, Quebec
Canada H3A 3S7

Email:  forgues@nuance.com

Charles Galles
Intervoice, Inc.
17811 Waterview Parkway
Dallas, Texas 75252

Email:  charles.galles@intervoice.com

Klaus Reifenrath
Scansoft, Inc
Guldensporenpark 32
Building D
9820 Merelbeke
Belgium

Email: klaus.reifenrath@scansoft.com
</pre></div>
<a name="anchor238"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Acknowledgements</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Andre Gillet (Nuance Communications)
Andrew Hunt (ScanSoft)
Andrew Wahbe (Genesys)
Aaron Kneiss (ScanSoft)
Brian Eberman (ScanSoft)
Corey Stohs (Cisco Systems Inc)
Dave Burke (VoxPilot)
Jeff Kusnitz (IBM Corp)
Ganesh N Ramaswamy (IBM Corp)
Klaus Reifenrath (ScanSoft)
Kristian Finlator (ScanSoft)
Magnus Westerlund (Ericsson)
Martin Dragomirecky (Cisco Systems Inc)
Paolo Baggia (Loquendo)
Peter Monaco (Nuance Communications)
Pierre Forgues (Nuance Communications)
Ran Zilca (IBM Corp)
Suresh Kaliannan (Cisco Systems Inc.)
Skip Cave (Intervoice Inc)
Thomas Gal (LumenVox)
</pre></div>
<p>The chairs of the speechsc work group are Eric Burger (BEA Systems,
      Inc.) and Dave Oran (Cisco Systems, Inc.).
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Saravanan Shanmugham</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 W. Tasman Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:sarvi@cisco.com">sarvi@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Daniel C. Burnett</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Voxeo</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">189 South Orange Avenue #2050</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Orlando, FL  32801</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dburnett@voxeo.com">dburnett@voxeo.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
