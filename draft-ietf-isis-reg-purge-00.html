<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>IS-IS Registry Extension for Purges</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="IS-IS Registry Extension for Purges">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">IS-IS Working Group</td><td class="header">T. Li</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">L. Ginsberg</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc3563 5304 5310'>3563 5304 5310</a></td><td class="header">Cisco Systems, Inc.</td></tr>
<tr><td class="header">(if&nbsp;approved)</td><td class="header">September 24, 2010</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: March 28, 2011</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />IS-IS Registry Extension for Purges<br />draft-ietf-isis-reg-purge-00</h1>

<h3>Abstract</h3>

<p>
	IANA maintains the IS-IS TLV Codepoint Registry.  This registry
	documents which TLVs can appear in different types of IS-IS PDUs,
	but does not document which TLVs can be found in zero Remaining
	Lifetime LSP (a.k.a., purges).  This document extends the existing
	registry to record the set of TLVs that are permissible in purges.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on March 28, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">1.1.</a>&nbsp;
Requirements Language<br />
<a href="#anchor2">2.</a>&nbsp;
Registry Changes<br />
<a href="#anchor3">3.</a>&nbsp;
Purges and Authentication<br />
<a href="#anchor4">4.</a>&nbsp;
IANA Considerations<br />
<a href="#security">5.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">6.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
	The IS-IS <a class='info' href='#ISO 10589'>[ISO 10589]<span> (</span><span class='info'>ISO, &ldquo;Intermediate system to Intermediate system routeing information 	    exchange protocol for use in conjunction with the Protocol for 	    providing the Connectionless-mode Network Service (ISO 	    8473),&rdquo; .</span><span>)</span></a> routing protocol maintains a
	link state database of the topology of its routing domain by
	flooding a set of Link State Protocol Data Units (LSPs).  When the
	protocol no longer needs the information stored in an LSP, it uses
	the purge mechanism to cause the Intermediate Systems (ISs) in its
	domain to discard the information contained in the LSP.  The
	process for generating purges can be found in Section 7.3.16.4 of
	<a class='info' href='#ISO 10589'>[ISO 10589]<span> (</span><span class='info'>ISO, &ldquo;Intermediate system to Intermediate system routeing information 	    exchange protocol for use in conjunction with the Protocol for 	    providing the Connectionless-mode Network Service (ISO 	    8473),&rdquo; .</span><span>)</span></a>.  This process retains only the LSP
	header, discarding any TLVs that had been carried within the LSP.
      
</p>
<p>
	Subsequent enhancements to IS-IS, such as <a class='info' href='#RFC5304'>[RFC5304]<span> (</span><span class='info'>Li, T. and R. Atkinson, &ldquo;IS-IS Cryptographic Authentication,&rdquo; October&nbsp;2008.</span><span>)</span></a>
	<a class='info' href='#RFC5310'>[RFC5310]<span> (</span><span class='info'>Bhatia, M., Manral, V., Li, T., Atkinson, R., White, R., and M. Fanto, &ldquo;IS-IS Generic Cryptographic Authentication,&rdquo; February&nbsp;2009.</span><span>)</span></a>, amend the process of generating a purge
	and allow the inclusion of certain TLVs in purges.
      
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Language</h3>

<p>
	  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
	  "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in
	  this document are to be interpreted as described in
	  <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>. 
	
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Registry Changes</h3>

<p>
	This document extends the current IS-IS TLV Codepoint Registry,
	defined in <a class='info' href='#RFC3563'>[RFC3563]<span> (</span><span class='info'>Zinin, A., &ldquo;Cooperative Agreement Between the ISOC/IETF and ISO/IEC Joint Technical Committee 1/Sub Committee 6 (JTC1/SC6) on IS-IS Routing Protocol Development,&rdquo; July&nbsp;2003.</span><span>)</span></a>, to record the set of TLVs that
	MAY be found in purges.  All other TLVs MUST NOT appear in purges.
	This will serve as an aid to subsequent documents, which can then
	refer to the registry as the definitive list of the TLVs allowed in
	purges.  This will also act as an aid to implementers, providing
	them with an easily accessible compendium of allowable TLVs.
      
</p>
<p>
	The purge status defined for a given TLV applies to all sub-TLVs
	defined for that TLV.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Purges and Authentication</h3>

<p>
	Previous documents on Authentication <a class='info' href='#RFC5304'>[RFC5304]<span> (</span><span class='info'>Li, T. and R. Atkinson, &ldquo;IS-IS Cryptographic Authentication,&rdquo; October&nbsp;2008.</span><span>)</span></a>
	<a class='info' href='#RFC5310'>[RFC5310]<span> (</span><span class='info'>Bhatia, M., Manral, V., Li, T., Atkinson, R., White, R., and M. Fanto, &ldquo;IS-IS Generic Cryptographic Authentication,&rdquo; February&nbsp;2009.</span><span>)</span></a> required that an IS only accept a purge if
	it only contained the Authentication TLV.
      
</p>
<p>
	This document updates and generalizes that behavior as follows: an
	implementation that implements Authentication MUST NOT accept a
	purge that contains any TLV listed in the registry that is not
	acceptable in a purge.  An implementation MUST NOT accept a purge
	that contains a TLV not listed in the registry unless the purge
	also contains the Purge Originator Identification (POI) TLV
	<a class='info' href='#I-D.ietf-isis-purge-tlv'>[I&#8209;D.ietf&#8209;isis&#8209;purge&#8209;tlv]<span> (</span><span class='info'>Wei, F., Qin, Y., Li, Z., Li, T., and J. Dong, &ldquo;Purge Originator Identification TLV for IS-IS,&rdquo; September&nbsp;2010.</span><span>)</span></a>.  Purges that are accepted
	MUST be propagated without removal of TLVs.  If multiple purges are
	received for the same LSP, then the implementation MAY propagate
	any one of the purges.
      
</p>
<p>
	If an implementation that implements Authentication accepts a purge
	that does not include the POI TLV and it chooses to insert the POI
	TLV, it MUST also recompute Authentication.
      
</p>
<p>
	ISs MUST NOT accept LSPs with a non-zero Remaining Lifetime that
	contain the POI TLV.
      
</p>
<p>
	Purge generation is updated as follows: an implementation that
	implements Authentication generates a purge by first removing any
	TLVs that are not listed in the registry as being acceptable in
	purges. The POI TLV MUST be added.  Then any other TLVs that MAY be
	in purges, as shown by the registry, MAY be added.  Finally,
	Authentication, if any, is added.
      
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
IANA Considerations</h3>

<p>
	This document requests that IANA modify the IS-IS 'TLV Codepoints
	Registry' by adding a column in the registry for 'Purge'.  A 'y' in
	this column indicates that the TLV for this row MAY be found in a
	purge.  A 'n' in this column indicates that the TLV for this row
	MUST NOT be found in a purge.
      
</p>
<p>
	The 'Purge' column should initially contain a 'y' for TLV type 10
	(Authentication) and for TLV type 137 (Dynamic hostname).  All
	other entries in this column should have an 'n'.  Other additions
	to this registry should explicitly specify their value for this
	column.
      
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
	This document introduces no new security issues.
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-isis-purge-tlv">[I-D.ietf-isis-purge-tlv]</a></td>
<td class="author-text">Wei, F., Qin, Y., Li, Z., Li, T., and J. Dong, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-isis-purge-tlv-04.txt">Purge Originator Identification TLV for IS-IS</a>,&rdquo; draft-ietf-isis-purge-tlv-04 (work in progress), September&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-isis-purge-tlv-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="ISO 10589">[ISO 10589]</a></td>
<td class="author-text">ISO, &ldquo;Intermediate system to Intermediate system routeing information
	    exchange protocol for use in conjunction with the Protocol for
	    providing the Connectionless-mode Network Service (ISO
	    8473),&rdquo; ISO/IEC&nbsp;10589:2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3563">[RFC3563]</a></td>
<td class="author-text">Zinin, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3563">Cooperative Agreement Between the ISOC/IETF and ISO/IEC Joint Technical Committee 1/Sub Committee 6 (JTC1/SC6) on IS-IS Routing Protocol Development</a>,&rdquo; RFC&nbsp;3563, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3563.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5304">[RFC5304]</a></td>
<td class="author-text">Li, T. and R. Atkinson, &ldquo;<a href="http://tools.ietf.org/html/rfc5304">IS-IS Cryptographic Authentication</a>,&rdquo; RFC&nbsp;5304, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5304.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5310">[RFC5310]</a></td>
<td class="author-text">Bhatia, M., Manral, V., Li, T., Atkinson, R., White, R., and M. Fanto, &ldquo;<a href="http://tools.ietf.org/html/rfc5310">IS-IS Generic Cryptographic Authentication</a>,&rdquo; RFC&nbsp;5310, February&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5310.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tony Li</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 W. Tasman Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tony.li@tony.li">tony.li@tony.li</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Les Ginsberg</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 W. Tasman Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ginsberg@cisco.com">ginsberg@cisco.com</a></td></tr>
</table>
</body></html>
