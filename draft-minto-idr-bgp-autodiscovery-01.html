<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BGP Peer Auto-Configuration</title>
<meta content="Jeyananth Minto Jeganathan" name="author">
<meta content="Venkata Shiva Krishna Reddy Avula" name="author">
<meta content="
       This document describes a layer 3 protocol (Service advertisement) to
      help bgp to advertise service availability and local configurations .
      This enables bgp speakers to discover bgp peers transport endpoints and
      peer's configuration within link. With Service advertisement, receivers
      could successfully bring up bgp protocol session without mundane
      configurations. 
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="template" name="keyword">
<meta content="draft-minto-idr-bgp-autodiscovery-01" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-minto-idr-bgp-autodiscovery-01-4rfikese.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Abbreviated Title</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Jeganathan &amp; Avula</td>
<td class="center">Expires 25 July 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Internet Engineering Task Force</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-minto-idr-bgp-autodiscovery</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01-21" class="published">21 January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-07-25">25 July 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J.M. Jeganathan</div>
<div class="org">Juniper Networks</div>
</div>
<div class="author">
      <div class="author-name">V.S.K.R. Avula</div>
<div class="org">Juniper Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BGP Peer Auto-Configuration</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes a layer 3 protocol (Service advertisement) to
      help bgp to advertise service availability and local configurations .
      This enables bgp speakers to discover bgp peers transport endpoints and
      peer's configuration within link. With Service advertisement, receivers
      could successfully bring up bgp protocol session without mundane
      configurations.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 25 July 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-protocol-overview" class="xref">Protocol overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-pud-layers" class="xref">PUD layers</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-messages" class="xref">Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-sa-base-message" class="xref">SA Base message</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-remaining-lifetime-tlv" class="xref">Remaining lifetime TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-config-sequence-tlv" class="xref">Config sequence TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="xref">4.1.3</a>.  <a href="#name-authentication-tlv" class="xref">Authentication TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.4">
                    <p id="section-toc.1-1.4.2.1.2.4.1"><a href="#section-4.1.4" class="xref">4.1.4</a>.  <a href="#name-refresh-request-tlv" class="xref">Refresh request TLV</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-bgp-service-advertisement-m" class="xref">BGP service advertisement message</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-local-address" class="xref">Local address</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-local-ipv6-address" class="xref">Local IPv6 address</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-security-ttl" class="xref">Security TTL</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a href="#section-4.2.4" class="xref">4.2.4</a>.  <a href="#name-security-authentication" class="xref">Security Authentication</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.5">
                    <p id="section-toc.1-1.4.2.2.2.5.1"><a href="#section-4.2.5" class="xref">4.2.5</a>.  <a href="#name-tcp-mss" class="xref">TCP MSS</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.6">
                    <p id="section-toc.1-1.4.2.2.2.6.1"><a href="#section-4.2.6" class="xref">4.2.6</a>.  <a href="#name-link-address" class="xref">Link Address</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-protocol-operation" class="xref">Protocol operation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-transmit-procedure" class="xref">Transmit procedure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-receiver-procedure" class="xref">Receiver procedure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-transport-endpoint-reachabi" class="xref">Transport endpoint reachability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-protocol-authentication-ope" class="xref">Protocol Authentication operation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-message-of-sa" class="xref">Message of SA</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-tlvs-of-sa-base-message" class="xref">TLVs of SA base Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-tlvs-of-bgp-service-adverti" class="xref">TLVs of BGP service advertisement message</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-additional-stuff" class="xref">Additional Stuff</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document describes a layer 3 protocol (Service advertisement)to
      help bgp to advertise service availability and local configurations .
      This enables bgp speakers to discover bgp peer's transport endpoints and
      peer's configuration within link. With Service advertisement, receivers
      could successfully bring up bgp protocol session without mundane
      configurations.<a href="#section-1-1" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-2">
      <h2 id="name-protocol-overview">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-protocol-overview" class="section-name selfRef">Protocol overview</a>
      </h2>
<p id="section-2-1">This is a simple protocol to periodically send and receive UDP
      multicast PDU that contains bgp transport information in the form of
      messages and TLVs. Receiver could use this information to bootstrap the
      single hop bgp and/or loopback address bgp between directly connected
      bgp speakers. The advertised information gets expired if it is not
      refreshed before the lifetime ends.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This protocol does not provide any reliability of delivery and relies
      on UDP multicast and periodic send. The current version of this protocol
      assumes the link MTU is good enough to encode BGP transport information
      or underlying IP implementation is able to fragment and reassemble for
      link local multicast PDU. But this protocol is flexible enough to
      implement a future version of fragment TLV attachment. This is to bypass
      smaller link MTU for a system or environment preventing IP fragment.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Service Advertisement (SA) PDU has multiple types of messages. This
      document defines 2 types of messages. The primary/base messages are
      required for SA to operate and secondary type messages for BGP service
      advertisement.<a href="#section-2-3" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-pud-layers">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-pud-layers" class="section-name selfRef">PUD layers</a>
      </h2>
<p id="section-3-1">The PDU contains a header followed by variable number of messages.
      Each message contains variable number of TLVs.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">SA uses type-length-value format.<a href="#section-3-2" class="pilcrow">¶</a></p>
<div id="tlv_econde">
<figure id="figure-1">
        <div class="alignCenter art-text artwork" id="section-3-3.1">
<pre>      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |      Length                       |  Value    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | Value ..
     +-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
</div>
<p id="section-3-4">Type: 1-octet value to interpret the value with in message. Same type
      value could be reused in different message.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">Length: Specifies length in octets of the value field.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">Value: Octet string that encodes information to be interpreted as
      specified by the Type field.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">SA uses message to group set of TLVs<a href="#section-3-7" class="pilcrow">¶</a></p>
<div id="message_econde">
<figure id="figure-2">
        <div class="alignCenter art-text artwork" id="section-3-8.1">
<pre>     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |message Type |      Length                     | Reserved      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | message ID                                                    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | TLVs
     +-----</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a></figcaption></figure>
</div>
<p id="section-3-9">message Type: This 1-octet value identifies type of message.<a href="#section-3-9" class="pilcrow">¶</a></p>
<p id="section-3-10">Message Length: Specifies the length in octets of the Message ID and
      TLVs.<a href="#section-3-10" class="pilcrow">¶</a></p>
<p id="section-3-11">Message ID :32-bit value used to identify this message. Used for
      logging purpose.<a href="#section-3-11" class="pilcrow">¶</a></p>
<p id="section-3-12">SA PDU<a href="#section-3-12" class="pilcrow">¶</a></p>
<div id="pdu_econde">
<figure id="figure-3">
        <div class="alignCenter art-text artwork" id="section-3-13.1">
<pre>    0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Version   |      PDU Length               |     Reserved  |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                          Identifier.                          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | Messages
     +-----</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a></figcaption></figure>
</div>
<p id="section-3-14">Version: This 1-octet unsigned integer indicates the protocol
      version. This version of the specification specifies Service
      Advertisement version 0.<a href="#section-3-14" class="pilcrow">¶</a></p>
<p id="section-3-15">PDU Length: This 2-octet unsigned integer specifies the length<a href="#section-3-15" class="pilcrow">¶</a></p>
<p id="section-3-16">Identifier: 4 octet field that uniquely identifies PDU sender. BGP id
      could be used for this purpose. This helps to uniquely identify sender
      across the parallel links between same nodes.<a href="#section-3-16" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-messages">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-messages" class="section-name selfRef">Messages</a>
      </h2>
<p id="section-4-1">The document defines following messages.<a href="#section-4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-2">
        <li id="section-4-2.1">SA Base message<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.2">BGP service advertisement message<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
      </ol>
<section id="section-4.1">
        <h3 id="name-sa-base-message">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-sa-base-message" class="section-name selfRef">SA Base message</a>
        </h3>
<p id="section-4.1-1">The SA Base message is mandatory message and mainly used for the
        protocol operation.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The document defines following TLVs for SA Base message.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1-3">
          <li id="section-4.1-3.1">Remaining lifetime TLV<a href="#section-4.1-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.2">Config sequence TLV<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.3">Authentication TLV<a href="#section-4.1-3.3" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.4">Refresh request TLV<a href="#section-4.1-3.4" class="pilcrow">¶</a>
</li>
        </ol>
<section id="section-4.1.1">
          <h4 id="name-remaining-lifetime-tlv">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-remaining-lifetime-tlv" class="section-name selfRef">Remaining lifetime TLV</a>
          </h4>
<p id="section-4.1.1-1">Remaining lifetime describes how long receiver should keep the
          state without seeing a PDU from the sender. The lifetime gets
          updated when receiver accepts the PDU.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">Type : 17<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1-3">Length: 2 octets<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1-4">Value: Remaining lifetime in seconds<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.1.2">
          <h4 id="name-config-sequence-tlv">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-config-sequence-tlv" class="section-name selfRef">Config sequence TLV</a>
          </h4>
<p id="section-4.1.2-1">Specifies a 4-octet configuration sequence number. Receiver could
          make use the number to detect config change. This will be useful to
          restart the bgp session with new parameters.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<p id="section-4.1.2-2">Type : 18<a href="#section-4.1.2-2" class="pilcrow">¶</a></p>
<p id="section-4.1.2-3">Length: 4 octets<a href="#section-4.1.2-3" class="pilcrow">¶</a></p>
<p id="section-4.1.2-4">Value: unsigned sequence number<a href="#section-4.1.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.1.3">
          <h4 id="name-authentication-tlv">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-authentication-tlv" class="section-name selfRef">Authentication TLV</a>
          </h4>
<p id="section-4.1.3-1">Specifies authentication.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
<div id="Auth_econde">
<figure id="figure-4">
            <div class="alignCenter art-text artwork" id="section-4.1.3-2.1">
<pre>?     0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |      Length                       |  key-id   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | key-id        | Sequence number                             ..|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | Seq no        | Hash/digest
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a></figcaption></figure>
</div>
<p id="section-4.1.3-3">Type : 19<a href="#section-4.1.3-3" class="pilcrow">¶</a></p>
<p id="section-4.1.3-4">Length: variable<a href="#section-4.1.3-4" class="pilcrow">¶</a></p>
<p id="section-4.1.3-5">key-id : keychain id<a href="#section-4.1.3-5" class="pilcrow">¶</a></p>
<p id="section-4.1.3-6">Sequence-number - 4 byte sequence number of this SA base
          message.<a href="#section-4.1.3-6" class="pilcrow">¶</a></p>
<p id="section-4.1.3-7">Digest - Hash computed for this message using key-id mapped
          algorithm<a href="#section-4.1.3-7" class="pilcrow">¶</a></p>
</section>
<section id="section-4.1.4">
          <h4 id="name-refresh-request-tlv">
<a href="#section-4.1.4" class="section-number selfRef">4.1.4. </a><a href="#name-refresh-request-tlv" class="section-name selfRef">Refresh request TLV</a>
          </h4>
<p id="section-4.1.4-1">Optional TLV to trigger receivers to immediately send SA PDU.
          Presence of the TLV indicates sender request refresh. This will be
          used during the restart to learn about services quickly from
          connected devices to speed up service discovery.<a href="#section-4.1.4-1" class="pilcrow">¶</a></p>
<p id="section-4.1.4-2">Type : 20<a href="#section-4.1.4-2" class="pilcrow">¶</a></p>
<p id="section-4.1.4-3">Length: 0 octets<a href="#section-4.1.4-3" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4.2">
        <h3 id="name-bgp-service-advertisement-m">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-bgp-service-advertisement-m" class="section-name selfRef">BGP service advertisement message</a>
        </h3>
<p id="section-4.2-1">BGP Service Advertisement message provides transport information to
        bring up the bgp session. This document defines transport information
        TLVs and session information TLVs for BGP Service Advertisement
        messages.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Message type of BGP Service Advertisement message: 2.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Following are the Transport information TLVs<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.2-4">
          <li id="section-4.2-4.1">Local Address<a href="#section-4.2-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.2">Security TTL<a href="#section-4.2-4.2" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.3">Security Authentication<a href="#section-4.2-4.3" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.4">Link Address<a href="#section-4.2-4.4" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.5">Transport Preference.<a href="#section-4.2-4.5" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-4.6">TCP MSS<a href="#section-4.2-4.6" class="pilcrow">¶</a>
</li>
        </ol>
<section id="section-4.2.1">
          <h4 id="name-local-address">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-local-address" class="section-name selfRef">Local address</a>
          </h4>
<p id="section-4.2.1-1">Specifies a local address used for bgp transport connection.
          Address encoding uses a below format. 2 octets describe the address
          and followed by address value.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<div id="Address_econde">
<figure id="figure-5">
            <div class="alignCenter art-text artwork" id="section-4.2.1-2.1">
<pre>      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |L|   flags     | Res   | pref  |  IPv4/v6 Address              |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | IPv4/v6 Address              ...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                        Address
L bit - Address of loopback interface.
pref  - Preference value of 4 bits. Value from 1 to 15.
       0 indicates dont care.
       1 higly preferred and 15 means least preferred.
Address - For IPv4 4 octets and IPv6 16 octets


</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a></figcaption></figure>
</div>
<div id="IPv4_transport_econde">
<figure id="figure-6">
            <div class="alignCenter art-text artwork" id="section-4.2.1-3.1">
<pre>?     0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |      Length                   |     Address1  |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | Address1                                                      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |               | Address2 ...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a></figcaption></figure>
</div>
<p id="section-4.2.1-4">Type : 17<a href="#section-4.2.1-4" class="pilcrow">¶</a></p>
<p id="section-4.2.1-5">Length: variable. multiples of 6 octets<a href="#section-4.2.1-5" class="pilcrow">¶</a></p>
<p id="section-4.2.1-6">Value: IPv4 addresses with address encoding.<a href="#section-4.2.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2">
          <h4 id="name-local-ipv6-address">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-local-ipv6-address" class="section-name selfRef">Local IPv6 address</a>
          </h4>
<p id="section-4.2.2-1">Specifies a IPv6 local address used for bgp transport
          connection.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">Type : 18<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2-3">Length: multiples of 18 octets<a href="#section-4.2.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2-4">Value: IPv6 addresses with address encoding used for transport
          connection.<a href="#section-4.2.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.3">
          <h4 id="name-security-ttl">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-security-ttl" class="section-name selfRef">Security TTL</a>
          </h4>
<p id="section-4.2.3-1">TTL be accepted for bgp messages<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.3-2">Type : 19<a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
<p id="section-4.2.3-3">Length: 0<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
<p id="section-4.2.3-4">Value: Presence of this TLV indicates that receiver accepts only
          packets with 255 TTL.<a href="#section-4.2.3-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.4">
          <h4 id="name-security-authentication">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-security-authentication" class="section-name selfRef">Security Authentication</a>
          </h4>
<p id="section-4.2.4-1">Type : 20<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
<p id="section-4.2.4-2">Length: 1<a href="#section-4.2.4-2" class="pilcrow">¶</a></p>
<p id="section-4.2.4-3">Value:This supports only two values 0 and 1.<a href="#section-4.2.4-3" class="pilcrow">¶</a></p>
<p id="section-4.2.4-4">0 indicates TCP md5. 1 indicates TCP-AO Absence of this TLV
          indicates, no authentication used for connection.<a href="#section-4.2.4-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.5">
          <h4 id="name-tcp-mss">
<a href="#section-4.2.5" class="section-number selfRef">4.2.5. </a><a href="#name-tcp-mss" class="section-name selfRef">TCP MSS</a>
          </h4>
<p id="section-4.2.5-1">TCP MSS used for the connection<a href="#section-4.2.5-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5-2">Type : 21<a href="#section-4.2.5-2" class="pilcrow">¶</a></p>
<p id="section-4.2.5-3">Length: 4<a href="#section-4.2.5-3" class="pilcrow">¶</a></p>
<p id="section-4.2.5-4">Value:Value in bytes<a href="#section-4.2.5-4" class="pilcrow">¶</a></p>
<p id="section-4.2.5-5">Indicates the preference of TCP MSS for the transport
          connection.<a href="#section-4.2.5-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.6">
          <h4 id="name-link-address">
<a href="#section-4.2.6" class="section-number selfRef">4.2.6. </a><a href="#name-link-address" class="section-name selfRef">Link Address</a>
          </h4>
<p id="section-4.2.6-1">This could be used for receiver to get nexthop information for
          local address TLV when sender's running IPv4 PDU and prefer IPv6
          transport and vice-a-versa. This could also be used to provide
          reachability to loopback addresses with link address.<a href="#section-4.2.6-1" class="pilcrow">¶</a></p>
<p id="section-4.2.6-2">Type : 22<a href="#section-4.2.6-2" class="pilcrow">¶</a></p>
<p id="section-4.2.6-3">Length: 4 for IPv4 address and 16 for IPv6 address 6 for mac
          address.<a href="#section-4.2.6-3" class="pilcrow">¶</a></p>
<p id="section-4.2.6-4">Value:interface IPv4 or IPv6 or mac address .<a href="#section-4.2.6-4" class="pilcrow">¶</a></p>
</section>
</section>
</section>
<section id="section-5">
      <h2 id="name-protocol-operation">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-protocol-operation" class="section-name selfRef">Protocol operation</a>
      </h2>
<p id="section-5-1">A sender should periodically send PDU to refresh the advertised
      information before its lifetime expires. An implementation may send PDU
      well before the lifetime expires based on specific events. These events
      could be a local config change or discovering a new advertiser. Also,
      implementation could switch to fast refresh when content of the pdu
      changes and move back to regular refresh interval. The fast refresh will
      help in quicker discovery and may help update content in case of auto
      order delivery. As stated above, this is purely an implementation
      technique than the protocol mandate.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">To discover multi-data(IPv4/IPv6) protocol environment(mixed
      transport mode in a single link) sender shall send both data-protocol
      pdu based on local configuration. When sender choose to send both data
      protocol PDU it should make sure that semantic content of the messages
      should be same. An implementation may choose to use preferred data
      protocol PDU as primary send PDU and only send other data protocol PDU
      during the interesting events. This optimization is only possible when
      all the known advertisers participates in both data-protocol.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">A sender should send PDU to refresh before previously advertised
      lifetime expires. If bgp is configured with only one transport address
      family(IPv4/v6) then sender shall only send corresponding data protocol
      PDU. If both addresses are configured, then it shall use both data
      protocol PDUs. PDUs are sent with source address as link primary address
      and destination is link local all- routers with TTL 255. If
      authentication is enabled then add authentication TLV using the
      authentication procedure described in authentication section. Populate
      other TLVs based on local preference and send the PDU on configured
      link. Semantic content (transport and session information) of the PDU
      should be same irrespective of data protocol.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">Receiver resets the state when it accepts new PDU irrespective of the
      data protocol. Receiver shall add a route for the address in local
      address TLV with nexthop as source address of the PDU if PDU(PUD) data
      protocol and local address is same address family. Otherwise if link
      address is available, it could be used as nexthop for the address in
      local address TLV. Receivers consolidate state from various TLVs and
      pass it on to BGP for the session opening. An implementation could only
      notify if the state change from previous reported state to bgp or the
      configuration sequence number changes from the receiver. How bgp uses
      this information is beyond the scope of the document.<a href="#section-5-4" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-transmit-procedure">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-transmit-procedure" class="section-name selfRef">Transmit procedure</a>
        </h3>
<p id="section-5.1-1">PDUs are sent with source address as link's primary address and
        destination is link local all-routers with TTL 255. PDU is sent to SA
        UDP port(179 if assigned). After the header, SA Base message should be
        first message. If authentication is enabled then add authentication
        TLV using the authentication procedure described in authentication
        section. This authentication TLV should be first TLV of PDU. Add
        lifetime and config sequence TLVs defined in this document. Both these
        TLVs are mandatory TLVs. After the SA base message, add bgp service
        advertisement message with appropriate TLVs.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-receiver-procedure">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-receiver-procedure" class="section-name selfRef">Receiver procedure</a>
        </h3>
<p id="section-5.2-1">When a SA PDU received, following sanity procedure must be
        followed.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">If TTL is not 255 then discard the PDU.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">If the version is not compatible (Only compatible version is 0)
        then discard the PDU.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">If the PDU length is greater than IP header length, then discard
        it.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">If the first message is not SA Base, then discard the pdu.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">If authentication is enabled and first TLV in the SA base message,
        then discard the PDU.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2-7">If authentication is enabled, then follow the authentication
        procedure.<a href="#section-5.2-7" class="pilcrow">¶</a></p>
<p id="section-5.2-8">If authentication is failed, then discard the PDU.<a href="#section-5.2-8" class="pilcrow">¶</a></p>
<p id="section-5.2-9">With above steps, sanity of the PDU header is verified. Receiver
        should start decoding the TLV information. Once all the TLV sanity
        checked receiver shall keep the decoded information. If the receiver
        decides to keep the information, then it should start a timer with
        specified lifetime or refresh lifetime with newer one.<a href="#section-5.2-9" class="pilcrow">¶</a></p>
<p id="section-5.2-10">The identifier in PDU header uniquely identifies the advertisement.
        An implementation could either implement neighbor semantic or state
        semantic from the advertised information along with identifier. This
        document does not recommend one or other.<a href="#section-5.2-10" class="pilcrow">¶</a></p>
<p id="section-5.2-11">Received and decoded information shall be passed on to bgp if the
        content does not match with last received or the local config has
        changed. This is a desired optimization, so that SA does not
        unnecessarily trigger failed bgp session open attempts. How bgp uses
        this information is beyond the scope of the document.<a href="#section-5.2-11" class="pilcrow">¶</a></p>
</section>
<section id="section-5.3">
        <h3 id="name-transport-endpoint-reachabi">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-transport-endpoint-reachabi" class="section-name selfRef">Transport endpoint reachability</a>
        </h3>
<p id="section-5.3-1">Advertised local address reachability can either be gathered from
        the source address or a link address TLV. Source address of the PDU
        may not give reachability for all deployment(Sender using the IPv6
        data protocol but prefer v4 transport). In those cases, link address
        TLV will provide reachability.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-5.4">
        <h3 id="name-protocol-authentication-ope">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-protocol-authentication-ope" class="section-name selfRef">Protocol Authentication operation</a>
        </h3>
<p id="section-5.4-1">A sender that wants to authenticate Service messages should include
        Authentication TLV as part of SA base message.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">Sender needs to include all the fields of Authentication TLV as
        shown in section 4.1.3. It needs to assign a unique KEY-ID to each
        authentication combination configured on the device. Key-length needs
        to be set to configured key's length in bytes. Sequence number is a
        32-bit unsigned integer that may increment by one each time a new
        message is sent. Any change in TLVs for a previously advertised local
        address needs to be sent with an incremented TLV. Digest value can be
        of variable length depending upon type of authentication being used.
        This value is calculated over all the contents of service message.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
<p id="section-5.4-3">Receiver on receiving this TLV has a sequential processing of
        individual fields of TLV. Sequence number is read from TLV and is
        compared against any existing state from this sender. If sequence
        number is lesser than previously received, this packet is dropped
        except when bgp session goes down.If last received sequence number was
        m and current received sequence number is n, n needs be in range of
        [m+1, m + 2^(32 - 1)]. This exception is needed to handle a restarted
        sender who is unable to retrieve earlier sequence number due to
        restart. This is required when SA uses bigger lifetime. After getting
        KEY-id, it checks for a matching KEY-ID on it. If it does not exist,
        packet is dropped. Next Key-length of locally configured key is
        compared against key-length received in this TLV, if they do not match
        packet is dropped. Similarly, a comparison is done for authentication
        types of locally configured key and received TLV. If they do not
        match, packet is dropped. After above checks, hash is computed for all
        the contents of service with locally configured key and compared
        against received hash value. If they are same, authentication
        information matches with local configuration and messages can be
        further processed with protocol operations depending on type of this
        message.<a href="#section-5.4-3" class="pilcrow">¶</a></p>
</section>
</section>
<div id="Acknowledgements">
<section id="section-6">
      <h2 id="name-acknowledgements">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-6-1">Jeffrey Hass provided many useful technical and editorial comments
      and suggestions for improvement.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document requests IANA to allocate a new UDP port (179 is the
      preferred number ) and 2 message type code for service
      advertisments.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="pdu_econde_ref">
<figure id="figure-7">
        <div class="alignCenter art-text artwork" id="section-7-2.1">
<pre> Value TLV Name Reference -----
        ------------------------------------ ------------- Service Name:
        Service advertisements Transport Protocol: UDP Assignee: IESG
        iesg@ietf.org Description: Service advertisments for auto
        configuration. Reference: This document --
        draft-minto-idr-bgp-autodiscovery.txt Port Number: 179 -- To be
        assigned by IANA.</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a></figcaption></figure>
</div>
<section id="section-7.1">
        <h3 id="name-message-of-sa">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-message-of-sa" class="section-name selfRef">Message of SA</a>
        </h3>
<p id="section-7.1-1">This document requests IANA to create a new registry following
        messages "Messages of SA " with the following registration
        procedure:<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<div id="msg_econde">
<figure id="figure-8">
          <div class="alignCenter art-text artwork" id="section-7.1-2.1">
<pre>?       Registry Name: Messages of SA protocol
          Value        Message name                      Reference
          -------    ---------------------------------- -------------
          0          Reserved                           This document
          1          Base message                       This document
          2          BGP Service Advertisement          This document</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a></figcaption></figure>
</div>
</section>
<section id="section-7.2">
        <h3 id="name-tlvs-of-sa-base-message">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-tlvs-of-sa-base-message" class="section-name selfRef">TLVs of SA base Message</a>
        </h3>
<p id="section-7.2-1">This document requests IANA to create a new registry following
        messages "TLVs of SA base Message" with the following registration
        procedure:<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<div id="tlv_econde_reg">
<figure id="figure-9">
          <div class="alignCenter art-text artwork" id="section-7.2-2.1">
<pre>       Registry Name: TLVs of SA base Message.
          Value TLV Name                              Reference
          -------- ---------------------------------- -------------
             0-16   Reserved                            This document
               17   Remaining lifetime TLV              This document
               18   Config sequence TLV                 This document
               19   Authentication                      This document
               20   Refresh request TLV                 This document
          224-255  Experimental</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a></figcaption></figure>
</div>
</section>
<section id="section-7.3">
        <h3 id="name-tlvs-of-bgp-service-adverti">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-tlvs-of-bgp-service-adverti" class="section-name selfRef">TLVs of BGP service advertisement message</a>
        </h3>
<p id="section-7.3-1">This document requests IANA to create a new registry following
        messages "TLVs of BGP Service Advertisement" with the following
        registration procedure:<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div id="tlv_econde_reg_bgp">
<figure id="figure-10">
          <div class="alignCenter art-text artwork" id="section-7.3-2.1">
<pre>?       Registry Name: TLVs of BGP Services.
       Value TLV Name                              Reference
       -------- ---------------------------------- -------------
           0-16   Reserved                           This document
             17  Local Address                       This document
             18  Local IPv6 Address                  This document
             19  Security TTL                        This document
             20  Security Authentication             This document
             21  TCP MSS                             This document
             22  Link Address                        This document
        224-255  Experimental                        This document</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a></figcaption></figure>
</div>
</section>
</section>
</div>
<div id="Security">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">This security considerations for BGP [RFC4271] apply equally to this
      extension for BGP session establishment.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">BGP sessions transport end points discovered over this protocol can
      be protected against various attacks by using authentication for packets
      as described in Section 5.4.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">Usage of seqeunce number and authentication reduces likelihood of
      replay attacks. As the protocol is not connection-oriented, it makes it
      feasible to change authentication parameters for protocol messages. This
      further reduces the likelihood of replay-attacks.<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="bgp-autoconf-considerations">[bgp-autoconf-considerations]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/draft-ietf-idr-bgp-autoconf-considerations/">https://datatracker.ietf.org/doc/draft-ietf-idr-bgp-autoconf-considerations/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2629">[RFC2629]</dt>
        <dd>
<span class="refAuthor">Rose, M.</span>, <span class="refTitle">"Writing I-Ds and RFCs using XML"</span>, <span class="seriesInfo">RFC 2629</span>, <span class="seriesInfo">DOI 10.17487/RFC2629</span>, <time datetime="1999-06" class="refDate">June 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2629">https://www.rfc-editor.org/info/rfc2629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3552">[RFC3552]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span> and <span class="refAuthor">B. Korver</span>, <span class="refTitle">"Guidelines for Writing RFC Text on Security Considerations"</span>, <span class="seriesInfo">BCP 72</span>, <span class="seriesInfo">RFC 3552</span>, <span class="seriesInfo">DOI 10.17487/RFC3552</span>, <time datetime="2003-07" class="refDate">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3552">https://www.rfc-editor.org/info/rfc3552</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Li, T.</span>, and <span class="refAuthor">S. Hares</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <time datetime="2006" class="refDate">2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4271">https://www.rfc-editor.org/rfc/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5226">[RFC5226]</dt>
      <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5226">https://www.rfc-editor.org/info/rfc5226</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="app-additional">
<section id="appendix-A">
      <h2 id="name-additional-stuff">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-additional-stuff" class="section-name selfRef">Additional Stuff</a>
      </h2>
<p id="appendix-A-1">This becomes an Appendix.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jeyananth Minto Jeganathan</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div dir="auto" class="left"><span class="street-address">Juniper Networks, 1133 Innovation Way</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> <span class="postal-code">94089</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:minto@juniper.net" class="email">minto@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Venkata Shiva Krishna Reddy Avula</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div dir="auto" class="left"><span class="street-address">Juniper Networks, 1133 Innovation Way</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> <span class="postal-code">94089</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:venkatashiva@juniper.net" class="email">venkatashiva@juniper.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
