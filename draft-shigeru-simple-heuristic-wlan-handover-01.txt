
Internet Engineering Task Force                        Shigeru Kashihara
Internet Draft                                          Kazuya Tsukamoto
Expires: March 2, 2007                                 Youki Kadobayashi
                                                                Yuji Oie

                                                         August 30, 2006
                                   
           A simple heuristic for handover decisions in WLANs
          <draft-shigeru-simple-heuristic-wlan-handover-01.txt>


Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on March 2, 2007.

Copyright Notice
    
   Copyright (C) The Internet Society (2006).


Abstract

   This document discusses handover decision criteria for avoiding
   deterioration in communication quality during WLAN handover, in
   particular at handover initiation.  We first describe problems for
   handover decision criteria employed by existing mobility management
   technologies, such as Mobile IP and mSCTP.  We then propose the 
   number of frame retransmissions as a simple heuristic for handover
   decisions and discuss its advantages and disadvantages.  In addition,
   we introduce our proposed method using the number of frame 
   retransmissions.





Kashihara, et al.       Expires: March 2, 2007                 [Page 1]

draft-shigeru-simple-heuristic-wlan-handover-01.txt         August 2006

                           Table of Contents
     
   1. Introduction....................................................2 
   2. Existing WLAN handover decision criteria........................3 
      2.1 Handover decision criteria on upper layers..................3 
      2.2 Handover decision criteria on lower layers..................3 
   3. The number of frame retransmissions.............................4 
      3.1 Frame retransmission mechanism of IEEE 802.11...............4 
      3.2 Advantages..................................................4 
      3.3 Disadvantages...............................................5 
   4. Handover management scheme based on the number of frame 
      retransmissions.................................................5 
   5. Conclusion......................................................7 
   6. Acknowledgements................................................7 
   7. References......................................................7 
   8. Author's Addresses..............................................8 


1. Introduction

   Wireless LANs (WLANs) based on the IEEE 802.11 specifications [1] 
   are spreading widely due to their low cost, simplicity of 
   installation and broadband connectivity.  WLANs are being set up not
   only in private spaces such as the home and workplace, but also in
   public spaces such as waiting areas and coffee shops as hotspots.  
   Thus, WLANs that are independently managed by different 
   organizations are starting to complementarily cover wide areas such 
   an entire city.  In the near future, WLANs will continue to spread 
   until they overlap to provide continuous coverage over a wide area, 
   and they will then be the underlying basis of ubiquitous networks.

   In ubiquitous networks consisting of WLANs, mobile nodes (MNs) can 
   access the Internet through access points (APs) at any location.  
   MNs are very likely to traverse multiple WLANs divided into 
   different IP subnets during communications, because the coverage of
   a WLAN is relatively small.  As a result, the communication is 
   disconnected due to the change in IP address of the MN required for 
   handover.

   To achieve continuous communication during handover, many mobility
   management schemes such as Mobile IP [2,3], mobile Stream Control
   Transmission Protocol (mSCTP) [4], and others [5,6,7] have been
   proposed.  These schemes use various movement detection methods for
   starting the handover process.  However, in [8], we showed that
   these movement detection methods result in the degradation of
   communication quality at WLAN handover initiation.  Furthermore,
   in ubiquitous networks, as the communication quality is often
   degraded due to both (1) reduction of signal strength due to the MN's
   movement and intervening objects and (2) radio interference with 
   other WLANs, proposing a handover decision criterion that can detect
   both (1) and (2) is a critical issue.  Thus, the main focus of this
   article is on handover decision criteria for avoiding degradation in
   communication quality at handover initiation.  We first clarify


Kashihara, et al.       Expires: March 2, 2007                  [Page 2]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

   problems of handover decision criteria arising from existing
   mobility management technologies, and then propose the number of
   frame retransmissions on the MAC Layer (Layer 2) as a simple
   heuristic for handover decisions to realize seamless and efficient
   WLAN handover. 


2. Existing WLAN handover decision criteria

   Handover decision criteria used by existing mobility management 
   technologies can be classified according to the information measured 
   on upper/lower layers.  (An upper layer is Layer 3 or above, and a 
   lower layer is Layer 2 or below.)  In [8], we investigated the 
   impact of existing handover decision criteria on communication 
   quality at handover initiation.  In this section, we clarify 
   characteristics of the existing handover decision criteria on 
   upper/lower layers.

2.1 Handover decision criteria on upper layers

   Packet loss (including data/signaling packets) and RTT are commonly 
   used as handover decision criteria in existing handover technologies 
   [2,3,6,7,9].  In [8], through simulation experiments, we showed that 
   the communication quality has already been degraded even when an MN 
   starts the handover process just after detecting the occurrence of a
   packet loss or an increase of RTT.  In a WLAN, communication quality 
   is degraded due to deterioration in the wireless link condition even 
   if packet loss does not occur or RTT does not seriously increase.  
   Therefore, these criteria on upper layers cannot detect abrupt 
   fluctuations of wireless link condition reliably and promptly.  
   To avoid degradation of communication quality at handover 
   initiation, it is essential to effectively detect deterioration in 
   the wireless link condition.

2.2 Handover decision criteria on lower layers

   Wireless signal strength is usually considered as a handover 
   decision criterion on lower layers [4,10].  Signal strength can 
   provide information about a wireless link condition directly from 
   the Physical Layer.  However, properly detecting deterioration in 
   communication quality caused by fluctuations of signal strength is 
   very difficult for an MN, because the signal strength may fluctuate 
   abruptly due to the distance from an AP and any interfering objects 
   located between the MN and the AP.

   Furthermore, in ubiquitous networks consisting of WLANs, degradation 
   of communication quality due to radio interference is common.  
   However, MNs cannot detect this type of degradation by assessing the 
   signal strength.  Thus, to maintain communication quality during 
   handover, an MN should be able to detect both the reduction of 
   signal strength and the radio interference.

   In addition, it is very difficult for signal strength to set a 


Kashihara, et al.       Expires: March 2, 2007                  [Page 3]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

   threshold to start the handover process, because the allowable range 
   of signal strength (Received Signal Strength Indicator: RSSI) 
   depends on each vendor, e.g., Cisco chooses 100 as RSSI-max while 
   the Atheros chipset chooses 60 [10].  Therefore, monitoring signal 
   strength is insufficient to avoid degradation in communication 
   quality at handover initiation.


3. The number of frame retransmissions

   As described in Section 2.2, to avoid degradation in communication 
   quality at WLAN handover initiation, a handover decision criterion 
   should reliably and promptly detect degradation of communication 
   quality due to both (1) reduction of signal strength and (2) radio 
   interference.  We propose the number of frame retransmissions as a 
   simple heuristic for handover decisions which satisfies these two 
   requirements [8,12,13].

3.1 Frame retransmission mechanism of IEEE 802.11

   We will outline the frame retransmission mechanism of IEEE 802.11.  
   In the IEEE 802.11 specifications [1], when a data or an ACK frame 
   is lost over a WLAN, the sender (e.g., an MN) retransmits the same 
   data frame to the receiver (e.g., an AP) until the number of frame 
   retransmissions reaches a predetermined retry limit.  If RTS 
   (Request To Send)/CTS (Clear To Send) is applied, the retry limit is 
   set to four; otherwise, it is seven. (These values actually depend 
   on each vendor.)  Therefore, a data frame can be retransmitted a 
   maximum of four or seven times (the initial transmission and 
   three/six retransmissions), if necessary.  If the MN does not 
   receive an ACK frame within the retry limit, it treats the data 
   frame as a lost packet.  In addition, RTT increases due to 
   retransmissions over a WLAN.  Therefore, we can see that a data 
   frame inherently experiences retransmissions over a WLAN before the 
   occurrence of packet loss or the increase of RTT, irrespective of 
   the RTS/CTS.

3.2 Advantages

   Use of the number of frame retransmissions has the following three 
   advantages: (i) detection of reduction of signal strength, (ii) 
   radio interference detection, and (iii) ease of setting of the 
   threshold triggering the handover processes.  First, when the MN 
   moves during communication, the wireless link condition is degraded 
   due to the distance from the AP and any interfering objects located 
   between the MN and the AP.  As described in Section 3.1, a data 
   frame will experience retransmissions due to the degradation of the 
   wireless link condition before the occurrence of packet loss or the 
   increase of RTT.  Thus, if the number of frame retransmissions is 
   used as a handover decision criterion, the MN can detect the 
   degradation of wireless link condition due to its own movement and 
   intervening objects before the communication quality is actually 
   degraded.


Kashihara, et al.       Expires: March 2, 2007                  [Page 4]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

   Next, in radio interference environments, the number of frame 
   retransmissions has another advantage that the signal strength 
   criterion can never imitate.  For instance, with signal strength, 
   the MN cannot detect the communication quality due to the radio 
   interference either, because signal strength is not influenced by 
   radio interference at all.  However, in radio interference 
   environments, frame retransmissions frequently occur due to 
   collisions between transmitted frames.  As a result, the 
   communication quality is degraded.  Therefore, using the number of 
   frame retransmissions, the MN can detect degradation of 
   communication quality due to radio interference.

   Lastly, ease of determination of the threshold triggering the 
   handover processes should be noted here.  As mentioned earlier, 
   signal strength is measured in different ways by each vendor, so 
   that it is necessary to set a different suitable threshold for each 
   WLAN card.  The determination of an appropriate threshold, thus, 
   depends upon vendors' implementation of measures.  On the other 
   hand, as frame retransmissions can be handled in the same manner in 
   all WLAN cards, we can set the same threshold for every WLAN card, 
   unlike the signal strength.  In addition, we can simply set the 
   threshold by plain numbers (e.g., 1, 2, 3,..., n).

3.3 Disadvantages

   Although we described the advantages of the number of frame 
   retransmissions in the previous section, it also has some 
   disadvantages.  These disadvantages are as follows: (I) an MN cannot 
   detect change in wireless link condition without transmission of 
   data frames, and (II) cross-layer architecture is indispensable to 
   notify the existing mobility management technologies on upper layers 
   of the number of frame retransmissions.  First, the number of frame 
   retransmissions cannot be measured until data frames are sent.  For 
   instance, the MN cannot estimate the wireless link condition of a 
   new AP by the number of frame retransmissions before associating 
   with the new AP.  In this case, another criterion, e.g., signal 
   strength, is necessary to estimate the wireless link condition.  
   Therefore, an MN need to utilize signal strength to detect wireless 
   link quality when it has no transmission data.  Next, to introduce 
   this heuristic into the existing mobility management technologies, 
   as the information held in each layer cannot be accessed from 
   different layers due to the concept of the traditional layered 
   architecture, a cross-layer architecture is necessary for achieving 
   accessibility from different layers.


4. Handover management scheme based on the number of frame 
   retransmissions

   In [12, 14], we proposed a handover management scheme based on the 
   number of frame retransmissions.  In this section, we briefly 
   introduce our handover management mechanism as an example of 
   handover using the number of frame retransmisions.


Kashihara, et al.       Expires: March 2, 2007                  [Page 5]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

   Our handover mechanism takes a multihoming approach and a 
   cross-layer approach in which the transport layer uses L2 
   information (i.e., the number of frame retransmissions).   That is, 
   an MN has two WLAN interfaces, and the handover manager (HM) on 
   transport layer controls the handover process considering the number 
   of frame retransmissions.  As illustrated below, we assume that an 
   MN with two WLAN interfaces (IF1, IF2) connects with two different 
   WLAN carriers (AP1, AP2), and initially communicates with the CH 
   through IF1.  

                                       +----+
                     +----- wired -----| CN |
                     |                 +----+
               +------------+
            +--|  Internet  |--+
            |  +------------+  |
            |                  |
          +-----+           +-----+
          | AP1 |           | AP2 |
          +-----+           +-----+
         /       \         /       \
        /         \       /         \
       /           \     /           \
           
              |  |
             +|--|+
             | MN | - - - - - - >
             +----+

   In our handover management scheme, an MN can flexibly select an 
   optimal WLAN considering the wireless link condition.  We outline 
   the operation of handover management scheme.  The MN associates with 
   two APs by using two WLAN interfaces before handover in advance, 
   i.e., the MN has two different IP addresses.  When the wireless link 
   condition of AP1 through IF1 is getting worse, the HM switches to 
   multi-path transmission to prevent packet loss during handover and 
   to investigate the condition of another wireless link (AP2).  
   However, the HM should return to single-path transmission on a 
   stable wireless link as quickly as possible, because the network 
   load is doubled by multi-path transmission in which the same data 
   are sent through both interfaces.  Therefore, in multi-path 
   transmission, if the condition of either wireless link is getting 
   better, the HM immediately returns to single-path transmission.  
   In our scheme, we employ the number of retransmissions to detect the 
   change in a wireless link condition.  The medium access control(MAC) 
   layer on each interface informs the HM of the number of frame 
   retransmissions, and the HM determines the wireless link condition 
   for each interface from this number.  In this way, the HM selects 
   either single-path or multi-path transmission based on the wireless 
   link condition, i.e., the number of frame retransmissions.  As a 
   result, the HM can maintain communication quality while properly 
   switching between single-path and multi-path transmission during 
   handover.  We are now implementing TCP and UDP using the number of 


Kashihara, et al.       Expires: March 2, 2007                  [Page 6]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

   frame retransmissions as a handover decision criteria.  In UDP(VoIP) 
   version, we have implemented the prototype system on Linux Kernel, 
   and presented the demonstration at Mobihoc 2006 [15].  We also think 
   the number of frame retransmissions is applied to not only our 
   approach but also another approaches such as MIP and mSCTP.


5. Conclusion

   In this article, we have discussed handover decision criteria to 
   maintain communication quality during handover.  In particular, we 
   mentioned that the degradation of communication quality at handover 
   initiation becomes a critical issue.  To seamlessly move across 
   multiple WLANs divided into different IP subnets, an MN should 
   execute the handover process while reliably and promptly detecting 
   degradation of the wireless link condition before deterioration of 
   communication quality actually occurs.  Next, we argued that a 
   handover decision criterion should satisfy the following two 
   requirements: (1) detection of reduction of signal strength, and (2) 
   radio interference detection.  To satisfy these two requirements, we 
   proposed the number of frame retransmissions as a simple heuristic 
   for the handover decision, and introduced our proposed scheme using 
   the number of frame retransmissions.  Although this heuristic has 
   some disadvantages, we consider that the number of frame 
   retransmissions is an important heuristic to maintain communication 
   quality during WLAN handover.


6. Acknowledgements

   This work was supported in part by a grant from the Cisco University 
   Research Program Fund at Community Foundation Silicon Valley, in 
   part by the Japan Society for the Promotion of Science, Grant-in-Aid 
   for Scientific Research(S)(18000001), in part by the Ministry of 
   Internal Affairs and Communications (MIC), Japan, and in part by the 
   21st Century Center of Excellence (COE) Program.


7. References

[1]  "Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) 
     Specifications", ANSI/IEEE Std 802.11, 1999 Edition, Available at 
     http://standards.ieee.org/getieee802/download/802.11-1999.pdf
[2]  C. Perkins (Ed.), "IP Mobility Support for IPv4, revised," 
     draft-ietf-mip4-rfc3344bis-02.txt, October 2005.
[3]  D. Johnson, C. Perkins, and J. Arkko, "Mobility Support in IPv6," 
     RFC3775, June 2004.
[4]  M. Riegel and M. Tuexen, "Mobile SCTP," 
     draft-riegel-tuexen-mobile-sctp-05.txt, July 2005.
[5]  K. Tsukamoto, Y. Hori, and Y. Oie, "Mobility Management of 
     Transport Protocol Supporting Multiple Connections," Proc. of ACM 
     MobiWac2004, pp. 83-87, October 2004.



Kashihara, et al.       Expires: March 2, 2007                  [Page 7]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

[6]  S. Kashihara, K. Iida, H. Koga, Y. Kadobayashi, and S. Yamaguchi, 
     "Multi-Path Transmission Algorithm for End-to-End Seamless 
     Handover across Heterogeneous Wireless Access Networks," IEICE 
     Transactions on Communications, Vol. E87-B, No. 3, pp. 490-496, 
     March 2004.
[7]  S. Kashihara, T. Nishiyama, K. Iida, H. Koga, Y. Kadobayashi, and 
     S. Yamaguchi, "Path selection using active measurement in 
     multi-homed wireless networks", Proc. of IEEE/IPSJ 2004 
     International Symposium on Applications and the Internet 
     (SAINT2004), pp. 273-276, January 2004.
[8]  K. Tsukamoto, R. Ijima, S. Kashihara, and Y. Oie, "Impact of 
     Layer 2 Behavior on TCP Performance in WLAN," Proc. of IEEE 
     VTC2005 fall, in CD-ROM, September 2005.
[9]  K. El Malki (Ed.), "Low Latency Handoffs in Mobile IPv4,"
     draft-ietf-mobileip-lowlatency-handoffs-v4-11.txt, October 2005.
[10] M. Chang, M. Lee, and S. Koh, "Transport Layer Mobility Support 
     Utilizing Link Signal Strength Information," IEICE Transactions on 
     Communications, Vol. E87-B, No. 9, pp. 2548-2556, September 2004.
[11] K. Muthukrishnan, N. Meratnia, M. Lijding, G. Kopringkov, and 
     P. Havinga, "WLAN location sharing through a privacy observant 
     architecture," Proc. of First International Conference on 
     Communication System Software and Middleware (COMSWARE), January 
     2006.
[12] S. Kashihara and Y. Oie, "Handover Management based upon the 
     Number of Retries for VoIP in WLANs," Proc. of IEEE VTC2005 
     spring, in CD-ROM, May 2005.
[13] K. Tsukamoto, T. Yamaguchi, S. Kashihara, and Y. Oie, 
     "Experimental Evaluation of Decision Criteria for WLAN handover: 
     Signal Strength and Frame Retransmission," 2006 International 
     Symposium on Ubiquitous Computing Systems (UCS 2006), October 
     2006. (to be appeared)
[14] H. Koga, S. Kashihara, Y. Fukuda, K. Iida, and Y. Oie, "A 
     quality-aware VoWLAN architecture and its quantitative 
     evaluations," IEEE Wireless Communications, Vol. 13, No. 1, 
     pp.52-59, February 2006.
[15] S. Kashihara, K. Tsukamoto, H. Koga, and Y. Oie, "Handover 
     management based on the number of frame retransmissions for 
     VoWLANs," In The 7th ACM International Symposium on Mobile Ad Hoc 
     Networking and Computing (MobiHoc 2006), Poster and Demo Sessions 
     (Demo), May 2006.















Kashihara, et al.       Expires: March 2, 2007                  [Page 8]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

8. Author's Addresses

   Shigeru Kashihara
   Graduate School of Information Science,
   Nara Institute of Science and Technology (NAIST)
   8916-5 Takayama, Ikoma, 630-0192, Japan.
   Tel: +81-743-72-5213, Fax: +81-743-72-5219
   E-mail: shigeru@is.naist.jp

   Kazuya Tsukamoto
   Department of Computer Science and Electronics,
   Kyushu Institute of Technology (KIT)
   Kawazu 680-4, Iizuka, 820-8502, Japan.
   Tel: +81-948-29-7687, Fax: +81-948-29-7652
   E-mail: kazuya@infonet.cse.kyutech.ac.jp 

   Youki Kadobayashi
   Graduate School of Information Science,
   Nara Institute of Science and Technology (NAIST)
   8916-5 Takayama, Ikoma, 630-0192, Japan.
   Tel: +81-743-72-5211, Fax: +81-743-72-5219
   E-mail: youki-k@is.naist.jp
    
   Yuji Oie
   Department of Computer Science and Electronics,
   Kyushu Institute of Technology (KIT)
   Kawazu 680-4, Iizuka, 820-8502, Japan.
   Tel: +81-948-29-7687, Fax: +81-948-29-7652
   E-mail: oie@cse.kyutech.ac.jp 


























Kashihara, et al.       Expires: March 2, 2007                  [Page 9]

draft-shigeru-simple-heuristic-wlan-handover-01.txt          August 2006

Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2006).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.








Kashihara, et al.       Expires: March 2, 2007                  [Page 10]
