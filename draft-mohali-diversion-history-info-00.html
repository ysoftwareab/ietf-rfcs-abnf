<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Mapping and
    interworking of Diversion information Between Diversion and History-Info
    Headers in the Session Initiation Protocol (SIP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Mapping and
    interworking of Diversion information Between Diversion and History-Info
    Headers in the Session Initiation Protocol (SIP)">
<meta name="keywords" content="Diversion, History-Info">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">M. Mohali</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">France Telecom</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">S. Norreys</td></tr>
<tr><td class="header">Expires: January 12, 2009</td><td class="header">British Telecom</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Van Gee</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Belgacom</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Dolly</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">ATT</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">F. Silva</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Portugal Telecom</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">G. Sciortino</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">C. Amenta</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Italtel</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 11, 2008</td></tr>
</table></td></tr></table>
<h1><br />Mapping and
    interworking of Diversion information Between Diversion and History-Info
    Headers in the Session Initiation Protocol (SIP)<br />draft-mohali-diversion-history-info-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 12, 2009.</p>

<h3>Abstract</h3>

<p>Both History-Info and Diversion headers are able to transport
      diverting information in Session Initiation Protocol (SIP) signaling.
      <br />
This document proposes a way to map call forwarding
      information contained in a Diversion header into a History-Info header
      and vice versa. In addition, an interworking policy is proposed to
      manage the headers coexistence. <br />
Prior to existence of <a class='info' href='#RFC4244'>[RFC4244]<span> (</span><span class='info'>, &ldquo;An Extension to the Session Initiation Protocol (SIP) for           Request History Information,&rdquo; November&nbsp;2005.</span><span>)</span></a> describing the History-Info header, there was a
      draft introducing a header named Diversion for the transport of
      diversion information. <br />
Since the Diversion header is used in
      many existing networks implementations and it is not standardized for
      transport of diversion information, a mapping with the standardized
      History-Info header is needed.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>, &ldquo;Key words for use in RFCs to Indicate Requirement           Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Background<br />
<a href="#anchor4">2.</a>&nbsp;
Problem Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">2.1.</a>&nbsp;
Interworking need<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">2.2.</a>&nbsp;
Interworking recommendations<br />
<a href="#anchor7">3.</a>&nbsp;
Headers syntaxes reminder<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.1.</a>&nbsp;
History-Info header syntax<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.2.</a>&nbsp;
Diversion header syntax<br />
<a href="#anchor10">4.</a>&nbsp;
Headers in SIP METHOD<br />
<a href="#anchor11">5.</a>&nbsp;
Diversion header to History-Info header<br />
<a href="#anchor12">6.</a>&nbsp;
History-Info header to Diversion header<br />
<a href="#anchor13">7.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">7.1.</a>&nbsp;
Example with Diversion header changed into History-Info header<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">7.2.</a>&nbsp;
Example with History-Info header changed into Diversion header<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">7.3.</a>&nbsp;
Example with two SIP networks using History-Info header interworking with a SIP network using Diversion header<br />
<a href="#IANA">8.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">9.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">10.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">10.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">10.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Overview</h3>

<p>For enhanced network services (eg. Voicemail, IVR or automatic call
        distribution), it is necessary for the called SIP user agent to
        identify from whom and why the session was diverted. In order to be
        used by various service providers or applications, redirection
        information needs to pass through the network.<br />
 This is
        possible with two different SIP headers: History-Info <a class='info' href='#RFC4244'>[RFC4244]<span> (</span><span class='info'>, &ldquo;An Extension to the Session Initiation Protocol (SIP) for           Request History Information,&rdquo; November&nbsp;2005.</span><span>)</span></a> and Diversion <a class='info' href='#draft-levy-sip-diversion-08'>[draft&#8209;levy&#8209;sip&#8209;diversion&#8209;08]<span> (</span><span class='info'>, &ldquo;Diversion Indication in SIP,           draft-levy-sip-diversion-08,&rdquo; August&nbsp;2004.</span><span>)</span></a> which both able to
        transport diversion information in SIP signaling. Because of this
        double possibility, it is necessary to map one into the other.
        <br />
This document provides a standard mechanism of translation
        between the History-Info header and the Diversion header.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Background</h3>

<p>To transport diversion information, the History-Info header <a class='info' href='#RFC4244'>[RFC4244]<span> (</span><span class='info'>, &ldquo;An Extension to the Session Initiation Protocol (SIP) for           Request History Information,&rdquo; November&nbsp;2005.</span><span>)</span></a> and an URI extension <a class='info' href='#RFC4458'>[RFC4458]<span> (</span><span class='info'>, &ldquo;Session Initiation Protocol (SIP) URIs for Applications such           as Voicemail and Interactive Voice Response (IVR),&rdquo; April&nbsp;2006.</span><span>)</span></a> are advocated in the standardized
        Communication Diversion (CDIV) service Protocol Specifications <a class='info' href='#TS_183004'>[TS_183004]<span> (</span><span class='info'>Telecommunications and Internet converged Services             and Protocols for Advanced Networking (TISPAN), &ldquo;PSTN/ISDN simulation services: Communication Diversion           (CDIV); Protocol specification, Release 2, ETSI TS 183004,&rdquo; November&nbsp;2007.</span><span>)</span></a> and <a class='info' href='#TS_24.604'>[TS_24.604]<span> (</span><span class='info'>3rd Generation Partnership Project, &ldquo;Technical Specification Group Core Network and Terminals ;           Communication Diversion (CDIV) using IP Multimedia (IM)Core Network           (CN) subsystem ; Protocol specification (Release 8), 3GPP TS           24.604,&rdquo; April&nbsp;2008.</span><span>)</span></a>.
        <br />
Because of the implementation of the Diversion header in
        some SIP networks/terminals and the History-Info header in others, it
        is necessary to map one to the other. <br />
<br />
At
        first, the Diversion header was described in <a class='info' href='#draft-levy-sip-diversion-08'>[draft&#8209;levy&#8209;sip&#8209;diversion&#8209;08]<span> (</span><span class='info'>, &ldquo;Diversion Indication in SIP,           draft-levy-sip-diversion-08,&rdquo; August&nbsp;2004.</span><span>)</span></a>, which is today
        discarded. This header contains the list of the diverting user(s) with
        associated information. The top-most diversion entry (first in the
        list) corresponds to the last diverting user and the bottom-most entry
        to the first diverting user (see syntax below). <br />
<br />
At the same time, the History-Info header was
        proposed for the transport of "request history" information which
        allows the receiving application to determine hints about how and why
        the session arrived at the application/user. As history information is
        larger than diversion information, diversion information MUST be
        located and extracted from the History-Info header. This is not the
        case with the Diversion header. In addition, for diverting information
        the History-Info header MUST be completed by <a class='info' href='#RFC4458'>[RFC4458]<span> (</span><span class='info'>, &ldquo;Session Initiation Protocol (SIP) URIs for Applications such           as Voicemail and Interactive Voice Response (IVR),&rdquo; April&nbsp;2006.</span><span>)</span></a> for the transport of the diversion reason.
        <br />
<br />
Those headers have different syntaxes
        described below. Note that the main difference is that the
        History-Info header is a chronological writing header whereas the
        Diversion header is the opposite (i.e. the first diversion entry read
        correspond to the last diverting user).
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Problem Statement</h3>

<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Interworking need</h3>

<p>The Diversion header is used for recording communication diversion
        information which could be useful to network entities downstream.
        Today, this SIP header is implemented by several manufacturers and
        deployed in several networks. <br />
<br />
In addition,
        the History-Info header is standardized, among other needs, for the
        transportation of diversion information. <br />
<br />
As
        both are answering to call forwarding needs, according to the one
        created or completed in one side and the one interpreted in the other
        side, diverting information could be mixed-up if they are both present
        in the INVITE request. So, Diversion and History-Info headers MUST NOT
        independently coexist for the session signalling. <br />
<br />
For the transportation of consistent diversion
        information downstream, it is necessary to make the two headers
        interwork. Mapping between the Diversion header and the History-Info
        header is presented in sections 5 and 6.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Interworking recommendations</h3>

<p>To avoid the two headers coexisting it would be better to replace
        one by the other during the interworking, but this may not be possible
        due to the information that History-Info header may
        carry.<br />
Indeed, the History-Info header is larger than
        Diversion header and is used for other services than call diversion:
        in addition to trace call forwarding information, it is acting as a
        session history and could store all successive R-URI values. So,
        sometimes, it will not be possible to suppress the History-Info header
        after the Diversion header has been created.<br />
<br />
SIP network/terminal using Diversion to SIP
        network/terminal using History-Info header: <br />
<br />
When the Diversion header is mapped into a
        History-Info header, the Diversion header MUST be suppressed in the
        outgoing INVITE. It is considered that all information present in the
        Diversion header is transferred in the History-Info header.<br />
<br />
If a History-Info header is present in the incoming
        INVITE (in addition to Diversion header), the Diversion header and
        History-Info header present MUST be mixed and only the diversion
        information not yet present in the History-Info header MUST be
        inserted as a last entry (more recent) in the existing History-Info
        header as recommended in <a class='info' href='#RFC4244'>[RFC4244]<span> (</span><span class='info'>, &ldquo;An Extension to the Session Initiation Protocol (SIP) for           Request History Information,&rdquo; November&nbsp;2005.</span><span>)</span></a>. <br />
As
        an example, this could be the case of an INVITE coming from a
        network_2 using Diversion header but before passed through a network_1
        using History-Info header (or the network_2 uses History-Info header
        to transport successive URI information) and going to a network_3
        using History-Info header. In that case, the incoming INVITE contains
        a Diversion header and a History-info header. So that, it is necessary
        to create, for network_3, a single History-Info header gathering
        existing information in the History-Info header received and those
        present in the Diversion header. Then network_3 could use call
        forwarding information that are present in a single header and add its
        own diversion information if necessary. <br />
<br />
Note
        that the chronological order could not be certified. If previous
        policy recommendations are applied, the chronological order is
        respected as Diversion entries are inserted at the end of the
        History-Info header taking into account the Diversion internal
        chronology. <br />
<br />
SIP network/terminal using
        History-Info header to SIP network/terminal using Diversion header:
        <br />
<br />
When the History-Info header is mapped into a
        Diversion header, some precautions MUST be taken. <br />
If the
        History-Info header contains only communication diversion information,
        then it MUST be suppressed after the mapping. <br />
If the
        History-Info header contains other information, then only the
        information of concern to the diverting user MUST be used to create
        entries in the Diversion header and the History-Info header MUST be
        kept as received in the INVITE forwarded downstream. <br />
<br />
Note: The History-Info header could be used for other
        reasons than CDIV services, for example by a service which need to
        know if a specific AS had yet been invoked in the signalling path. If
        the call is after forwarded to a network using History-Info header, it
        would be better to not loose history information due to passing though
        the network which only support Diversion header. A recommended
        solution MUST NOT disrupt the standard behaviour and networks which
        not implement History-Info header MUST be transparent to an incoming
        History-Info header. <br />
<br />
If a Diversion header is
        already presents in the incoming INVITE (in addition to History-Info
        header), only diversion information present in the History-Info header
        but not in the Diversion header MUST be inserted from the last entry
        (more recent) into the existing Diversion header as recommended in the
        Diversion draft <a class='info' href='#draft-levy-sip-diversion-08'>[draft&#8209;levy&#8209;sip&#8209;diversion&#8209;08]<span> (</span><span class='info'>, &ldquo;Diversion Indication in SIP,           draft-levy-sip-diversion-08,&rdquo; August&nbsp;2004.</span><span>)</span></a>.
        Note that the chronological order could not be certified. If previous
        policy recommendations are respected, this case SHOULD NOT
        happen.<br />
<br />
<br />
Forking case:<br />
The
        History-Info header enables the recording of sequential forking for
        the same served-user. During a mapping from the History-Info header to
        Diversion header, the History-Info entries contaning a forking
        situation (with an incremented "index" parameter) could be either
        mapped for each entry with a call forwarding "cause" parameter, the
        interworking entity could choose to create only one Diversion entry or
        to not apply the mapping. The choice could be done according a local
        policy.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Headers syntaxes reminder</h3>

<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
History-Info header syntax</h3>

<p>History-Info = "History-Info" HCOLON hi-entry *(COMMA hi-entry)
        <br />
hi-entry = hi-targeted-to-uri *( SEMI hi-param ) <br />

        hi-targeted-to-uri= name-addr <br />
 hi-param = hi-index /
        hi-extension <br />
 hi-index = "index" EQUAL 1*DIGIT *(DOT
        1*DIGIT) <br />
 hi-extension = generic-param <br />
<br />
<br />
The History-Info header is specified in <a class='info' href='#RFC4244'>[RFC4244]<span> (</span><span class='info'>, &ldquo;An Extension to the Session Initiation Protocol (SIP) for           Request History Information,&rdquo; November&nbsp;2005.</span><span>)</span></a>. Amongst the information contained in the
        header list is the diversion information with a specific cause code
        mentioning the diversion reason. These optional cause codes are
        defined in <a class='info' href='#RFC4458'>[RFC4458]<span> (</span><span class='info'>, &ldquo;Session Initiation Protocol (SIP) URIs for Applications such           as Voicemail and Interactive Voice Response (IVR),&rdquo; April&nbsp;2006.</span><span>)</span></a>. It is also possible to
        introduce the Privacy header defined in <a class='info' href='#RFC3323'>[RFC3323]<span> (</span><span class='info'>, &ldquo;A Privacy Mechanism for the Session Initiation Protocol           (SIP),&rdquo; November&nbsp;2002.</span><span>)</span></a>
        for diversion information. The top-most History-Info entry (first in
        the list) corresponds to the oldest history information. <br />
A
        diverting user information is identifiable by the History-Info entry
        containing a cause-param with cause value as listed in <a class='info' href='#RFC4458'>[RFC4458]<span> (</span><span class='info'>, &ldquo;Session Initiation Protocol (SIP) URIs for Applications such           as Voicemail and Interactive Voice Response (IVR),&rdquo; April&nbsp;2006.</span><span>)</span></a> and by the entry just before. The last
        diversion target is identifiable by the last History-Info entries
        containing a cause-param with cause value as listed in RFC 4458.
        <br />
The cause-param is inserted in the hi-targeted-to-uri of the
        address were the communication is diverted to. The index parameter is
        a string of digits, separated by dots to indicate the number of
        forward hops and retargets. <br />
<br />
<br />
Example: <br />
<br />
History-Info:<br />
&lt;sip: diverting_user1_addr;
        Privacy=none &gt;;index=1, <br />
 &lt;sip: diverting_user2_addr;
        Privacy=history; Reason=SIP;cause=302&gt;index=1.1, <br />

        &lt;sip:last_diversion_target;Reason=SIP;cause=486&gt;; index=1.1.1,
        <br />
<br />
<br />
Policy concerning "histinfo" option tag in
        Supported header:<br />
According to <a class='info' href='#RFC4244'>[RFC4244]<span> (</span><span class='info'>, &ldquo;An Extension to the Session Initiation Protocol (SIP) for           Request History Information,&rdquo; November&nbsp;2005.</span><span>)</span></a>, a proxy that receives a Request with the
        "histinfo" option tag in the Supported header should return captured
        History-Info in subsequent, provisional and final responses to the
        Request. The behaviour depend whether the local policy support the
        capture of History-Info or not.<br />
<br />
<br />

</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Diversion header syntax</h3>

<p>It seems that there is some few mistakes in the Diversion syntax,
        so it would be better to use the following syntax:
</p>
<p>Diversion = "Diversion" HCOLON diversion-params *(COMMA
        diversion-params)<br />
diversion-params = name-addr *(SEMI
        (diversion-reason / diversion-counter / diversion-limit /
        diversion-privacy / diversion-screen /
        diversion-extension))<br />
diversion-reason = "reason" EQUAL
        ("unknown" / "user-busy" / "no-answer" / "unavailable" /
        "unconditional" / "time-of-day" / "do-not-disturb" / "deflection" /
        "follow-me" / "out-of-service" / "away" / token /
        quoted-string)<br />
diversion-counter = "counter" EQUAL 1*2DIGIT
        <br />
diversion-limit = "limit" EQUAL 1*2DIGIT
        <br />
diversion-privacy = "privacy" EQUAL ("full" / "name" / "uri"
        / "off" / token / quoted-string)<br />
diversion-screen = "screen"
        EQUAL ("yes" / "no" / token /
        quoted-string)<br />
diversion-extension = token [EQUAL (token /
        quoted-string)] <br />
<br />
<br />
Note: The Diversion header
        could be used in the comma-separated format as described below and in
        a header-separated format. Both formats could be combined a received
        INVITE as RECOMMENDED in <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>.<br />
<br />
<br />
Example: <br />
<br />
Diversion:
        <br />
diverting_user2_addr; reason="user-busy"; counter=1;
        privacy=full, <br />
diverting_user1_addr; reason="unconditional";
        counter=1; privacy=off<br />
<br />
<br />

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Headers in SIP METHOD</h3>

<p>You can find here a reminder of History-Info header field and
      Diversion header field in relation to methods. As those headers does not
      have the same capabilities, it is necessary to clarify the
      interworking.<br />

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>Use of History-Info header field:

Header field where proxy ACK BYE CAN INV OPT REG MSG
------------ ----- ----- --- --- --- --- --- --- ---
History-Info        amdr   -   -   -  o   o   o   o
                         SUB NOT REF INF UPD PRA PUB
                         --- --- --- --- --- --- ---
History-Info        amdr o    o   o   -   -   -   o


Use of Diversion header field:

Header field where  enc. e-e ACK BYE CAN INV OPT REG
------------ ----- ----- --- --- --- --- --- --- ---
Diversion      R          h   -   -   -   o   -   -
Diversion     3xx         h   -   -   -   o   -   -
</pre></div>
<p>The recommended interworking presented in this document SHOULD apply
      only for INVITE requests.<br />
<br />
In 3xx responses, both
      headers could be present. <br />
When a proxy wants to interwork with
      a network supporting the other header field, it SHOULD apply the mapping
      between Diversion header and History-Info header in the 3xx response.
      <br />
When a recursing proxy redirects an initial INVITE after
      receving a 3xx response, it SHOULD add as a last entry either a
      Diversion header or History-Info header (according its capabilities) in
      the forwarded INVITE. Local policies could apply to send the received
      header in the next INVITE or not.<br />
<br />
Other messages
      where History-Info could be present are not used for the Call Forwarding
      service and SHOULD NOT be changed into Diversion header. The destination
      network MUST be transparent the received History-Info
      header.<br />

</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Diversion header to History-Info header</h3>

<p>For N Diversion entries N+1 History-Info entries MUST be created. To
      create the History-Info entries in the same order than during a session
      establishment, the Diversion entries MUST be mapped from the bottom-most
      until the top-most. <br />
<br />
The first entry created in
      the History-Info header contains: </p>
<blockquote class="text">
<p>- a hi-target-to-uri with the name-addr parameter of the
          bottom-most Diversion header
</p>
<p>- the privacy entry mapping the privacy parameter of the
          bottom-most Diversion header,
</p>
<p>- an index set to 1.
</p>
</blockquote><br />
<br />


<p>For the each Diversion header, the next History-info entries are
      mapped as following:<br />

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>Source                                         Destination
Diversion header component:                    History-Info header component:
=============================================================================
Name-addr of the previous                      Hi-target-to-uri
(on top) Diversion header.
If there is no previous(top-most),
it is the Request-URI address.

=============================================================================
Reason                                         Cause
“unknown”--------------------------------------404
"unconditional"--------------------------------302
"user-busy"------------------------------------486
"No-answer"------------------------------------408
"deflection "----------------------------------480
"Unavailable"----------------------------------503
"time-of-day"----------------------------------404 (default) or 302
"do-not-disturb"-------------------------------404 (default) or 302
"follow-me"------------------------------------404 (default) or 302
"out-of-service"-------------------------------404 (default)
"away"-----------------------------------------404 (default) or 302

=============================================================================
Counter                                         Hi-index
"1" or parameter ------------------------------The previous created index
no present                                     is incremented with ".1"
Superior to "1" -------------------------------1+[(N-1)*".1"]
(i.e. N)

=============================================================================
Privacy of the previous                        Privacy escaped in the
(on top) Diversion header.                     hi-targeted-to-uri
If there is no previous(top-most),
no privacy parameter is created.
"full"-----------------------------------------"history"
"Off"------------------------------------------Privacy header field
                                               absent or "none"
"name"-----------------------------------------"history"
"uri"------------------------------------------"history"
=============================================================================</pre></div>
<p>Note: For other optional Diversion parameters, there is no
      recommendation.<br />
Note: For values of the "reason" parameter
      which are mapped with a recommended default value, it could also be
      possible to choose an other value or to omit the parameter.<br />
<br />
Concerning local policies recommendations about headers
      coexistence in the INVITE request, see section 2.2.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
History-Info header to Diversion header</h3>

<p>As each previous diverting user MUST be present in the received
      History-Info header, one Diversion header entry per diverting user MUST
      be created in order to not to loose any diverting information. <br />
<br />
For each History-Info header containing a cause-param
      with cause value as listed in the <a class='info' href='#RFC4458'>[RFC4458]<span> (</span><span class='info'>, &ldquo;Session Initiation Protocol (SIP) URIs for Applications such           as Voicemail and Interactive Voice Response (IVR),&rdquo; April&nbsp;2006.</span><span>)</span></a>; a
      Diversion header entry MUST be created. The first History-Info header
      entry selected will be mapped into the last Diversion header entry and
      so on. <br />
<br />
In this case, the History-Info header
      MUST be mapped into the Diversion header as following:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Source                                         Destination
History-Info header component:                 Diversion header component:
============================================================================
Hi-target-to-uri of the                        Name-addr
History-Info which precedes the one
containing a diverting cause-param

============================================================================
Cause                                          Reason
404--------------------------------------------"unknown"
302--------------------------------------------"unconditional"
486--------------------------------------------"user-busy"
408--------------------------------------------"No-answer"
480 or 487-------------------------------------"deflection "
503--------------------------------------------"Unavailable"

============================================================================
Hi-index                                        Counter
Mandatory parameter for-------------------------The counter is set to "1".
History-Info reflecting
the chronological order
of the information.
============================================================================
Privacy escaped in the                          Privacy
hi-targeted-to-uri of the
History-Info which precedes the one
containing a diverting cause-param.
Optional parameter for History-Info,
this Privacy indicates that this
specific History-Info header SHOULD
not be forwarded.
"history"---------------------------------------"full"
Privacy header field ---------------------------"Off"
Absent or "none"

============================================================================
Privacy header [RFC3323]                        Privacy
The Privacy indicates that all
History-Info headers SHOULD NOT
be forwarded.
"history"---------------------------------------"full"
============================================================================</pre></div>
<p>Concerning local policies recommendations about headers coexistence
      in the INVITE request, see section 2.2.<br />
<br />
<br />
Editor's
      note: Iinterworking with Voicemail URI, defined in <a class='info' href='#RFC4458'>[RFC4458]<span> (</span><span class='info'>, &ldquo;Session Initiation Protocol (SIP) URIs for Applications such           as Voicemail and Interactive Voice Response (IVR),&rdquo; April&nbsp;2006.</span><span>)</span></a>, will be added in the next release of the
      document.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Examples</h3>

<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Example with Diversion header changed into History-Info header</h3>

<p>INVITE last_diverting_target <br />
Diversion:
        <br />
diverting_user3_address;reason="unconditional";counter=1;privacy=off,<br />
diverting_user2_address;reason="user-busy";counter=1;privacy=full,
        <br />
diverting_user1_address;reason="no-answer";counter=1;privacy=off
        <br />
<br />
Mapped into: <br />
<br />
History-Info: <br />
&lt;sip:
        diverting_user1_address; privacy=none &gt;; index=1,
        <br />
&lt;sip: diverting_user2_address; privacy=history,
        reason=SIP; cause=408&gt;index=1.1, <br />
&lt;sip:
        diverting_user3_address; privacy=none, reason=SIP;
        cause=486&gt;index=1.1.1, <br />
&lt;sip: last_diverting_target;
        Reason=SIP; cause=302&gt;index=1.1.1.1,
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Example with History-Info header changed into Diversion header</h3>

<p>History-Info: <br />
&lt;sip: diverting_user1_address
        ;Privacy=history &gt;; index=1, <br />
&lt;sip:
        diverting_user2_address; Privacy=none; Reason=SIP;
        cause=302&gt;index=1.1, <br />
&lt;sip: last_diverting_target;
        Reason=SIP; cause=486&gt;index=1.1.1 <br />
<br />
Mapped
        into: <br />
<br />
Diversion:
        <br />
diverting_user2_address; reason="user-busy"; counter=1;
        privacy=off, <br />
diverting_user1_address;
        reason="unconditional"; counter=1; privacy=full
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Example with two SIP networks using History-Info header interworking with a SIP network using Diversion header</h3>

<p>A -&gt; P1 -&gt; B -&gt; C -&gt; P2 -&gt; D-&gt; E <br />
A, B,
        C, D and E are users. <br />
B, C and D have Call Forwarding
        service invoked. <br />
P1 and P2 are proxies. <br />
Only
        relevant information is shown on the following call flow. <br />
<br />
<br />
<br />

</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>                       IWF*                                    IWF*
  SIP network using     |            SIP network using          |SIP network
    History-Info        |                 Diversion             |using
                        |                                       |History-Info
                        |                                       |
UA A    P1     AS B     |       P2     AS C    UE C   AS D      |      UE E
|       |       |       |       |       |       |       |       |         |
|INVITE |       |       |       |       |       |       |       |         |
|------&gt;|       |       |       |       |       |       |       |         |
|       |       |       |       |       |       |       |       |         |
|       |INVITE |       |       |       |       |       |       |         |
|       |------&gt;|       |       |       |       |       |       |         |
|       |Supported: histinfo    |       |       |       |       |         |
|       | History-Info:         |       |       |       |       |         |
|       | &lt;sip:proxyP1&gt;; index=1,       |       |       |       |         |
|       | &lt;sip:userB &gt;; index=1.1       |       |       |       |         |
|       |       |       |       |       |       |       |       |         |
|       |       |INVITE |       |       |       |       |       |         |
|       |       |------&gt;|       |       |       |       |       |         |
|       |       |History-Info:  |       |       |       |       |         |
|       |       |&lt;sip:proxyP1&gt;; index=1,|       |       |       |         |
|       |       |&lt;sip:userB&gt;; index=1.1 |       |       |       |         |
|       |       |&lt;sip:userC&gt;; cause=302; index=1.1.1    |       |         |
|       |       |       |       |       |       |       |       |         |
|       |       |       |INVITE |       |       |       |       |         |
|       |       |       |------&gt;|       |       |       |       |         |
|       |       |       |Diversion:     |       |       |       |         |
|       |       |       |B reason= unconditional counter=1      |         |
|       |       |       |History-Info:  |       |       |       |         |
|       |       |       |&lt;sip:proxyP1&gt;; index=1,|       |       |         |
|       |       |       |&lt;sip:userB&gt;; index=1.1 |       |       |         |
|       |       |       |&lt;sip:proxyP2&gt;; cause=302; index=1.1.1  |         |
|       |       |       |       |       |       |       |       |         |
|       |       |       |       |INVITE |       |       |       |         |
|       |       |       |       |------&gt;|       |       |       |         |
|       |       |       |       |No modification of Diversion due to P2   |
|       |       |       |       |       |       |       |       |         |
|       |       |       |       |       |INVITE |       |       |         |
|       |       |       |       |       |------&gt;|       |       |         |
|       |       |       |       |       |       |       |       |         |
|       |       |       |       |       |&lt;--180-|       |       |         |
|       |       |       |       |       |       |       |       |         |
|       |       |       |       |  No response timer expire     |         |
|       |       |       |       |       |---INVITE-----&gt;|       |         |
|       |       |       Diversion:                      |       |         |
|       |       |       userC; reason=no-answer; counter=1; privacy=full,
|       |       |       userB; reason=unconditional; counter=1; privacy=off,
|       |       |       History-Info:                   |       |         |
|       |       |       &lt;sip:proxyP1&gt;; index=1,         |       |         |
|       |       |       &lt;sip:userB&gt;; index=1.1          |       |         |
|       |       |       &lt;sip:proxyP2&gt;; cause=302; index=1.1.1   |         |
|       |       |       |       |       |       |       |       |         |
|       |       |       |       |       |       |       |INVITE |         |
|       |       |       |       |       |       |       |------&gt;|         |
|       |       |       Diversion:                              |         |
|       |       |       userD; reason=time-of-day; counter=1; privacy=off |
|       |       |       userC; reason=no-answer; counter=1; privacy=full, |
|       |       |       userB; reason=unconditional; counter=1; privacy=off,
|       |       |       History-Info:                           |         |
|       |       |       &lt;sip:proxyP1&gt;; index=1,                 |         |
|       |       |       &lt;sip:userB&gt;; index=1.1                  |         |
|       |       |       &lt;sip:proxyP2&gt;; cause=302; index=1.1.1   |         |
|       |       |       |       |       |       |       |       |         |
|       |       |       |       |       |       |       |       | INVITE  |
|       |       |       |       |       |       |       |       |--------&gt;|
|       |       |       History-Info:                                     |
|       |       |       &lt;sip:proxyP1&gt;; index=1,                           |
|       |       |       &lt;sip:userB&gt;; index=1.1; privacy=none,             |
|       |       |       &lt;sip:proxyP2&gt;; cause=302; index=1.1.1,            |
|       |       |       &lt;sip:userC&gt;; privacy=history; index=1.1.1.1,      |
|       |       |      &lt;sip:userD&gt;; cause=408; privacy=none; index=1.1.1.1.1,
|       |       |       &lt;sip:userE&gt;; cause=404; index=1.1.1.1.1.1         |
|       |       |       |       |       |       |       |        |        |
|       |       |       |       |       |       |       |        |        |

* Note: The IWF is an interworking function which could be a stand-alone equipment not defined in this draft.</pre></div>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of IANA.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>The use of Diversion header or History-Info header require to apply
      the requested privacy and integrity asked by each diverting user or
      entity. Without integrity, the requested privacy functions could be
      downgraded or eliminated, potentially exposing identity information.
      Without confidentiality, eavesdroppers on the network (or any
      intermediaries between the user and the privacy service) could see the
      very personal information that the user has asked the privacy service to
      obscure. Unauthorised insertion, deletion of modification of those
      headers can provide misleading information to users and applications. A
      SIP entity that can provide a redirection reason in a History-Info
      header or Diversion header SHOULD be able to suppress this in accordance
      with privacy requirements of the user concerned. <br />

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement
          Levels</a>,&rdquo; RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3969">[RFC3969]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc3969">The Internet Assigned Number Authority (IANA) Uniform
          Resource Identifier (URI) Parameter Registry for the Session
          Initiation Protocol (SIP), BCP 99</a>,&rdquo; RFC&nbsp;3969, December&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4234">[RFC4234]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc4234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; RFC&nbsp;4234, October&nbsp;2005.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3323">[RFC3323]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc3323">A Privacy Mechanism for the Session Initiation Protocol
          (SIP)</a>,&rdquo; RFC&nbsp;3323, November&nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4244">[RFC4244]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc4244">An Extension to the Session Initiation Protocol (SIP) for
          Request History Information</a>,&rdquo; RFC&nbsp;4244, November&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4458">[RFC4458]</a></td>
<td class="author-text">&ldquo;<a href="http://tools.ietf.org/html/rfc4458">Session Initiation Protocol (SIP) URIs for Applications such
          as Voicemail and Interactive Voice Response (IVR)</a>,&rdquo; RFC&nbsp;4458, April&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="TS_183004">[TS_183004]</a></td>
<td class="author-text">Telecommunications and Internet converged Services
            and Protocols for Advanced Networking (TISPAN), &ldquo;PSTN/ISDN simulation services: Communication Diversion
          (CDIV); Protocol specification, Release 2, ETSI TS 183004,&rdquo; November&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="TS_24.604">[TS_24.604]</a></td>
<td class="author-text">3rd Generation Partnership Project, &ldquo;Technical Specification Group Core Network and Terminals ;
          Communication Diversion (CDIV) using IP Multimedia (IM)Core Network
          (CN) subsystem ; Protocol specification (Release 8), 3GPP TS
          24.604,&rdquo; April&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="draft-levy-sip-diversion-08">[draft-levy-sip-diversion-08]</a></td>
<td class="author-text">&ldquo;Diversion Indication in SIP,
          draft-levy-sip-diversion-08,&rdquo; August&nbsp;2004.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Marianne Mohali</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France Telecom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">38-40 rue du Général Leclerc</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Issy-Les-Moulineaux Cedex 9  92794</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+33 1 45 29 45 14</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:marianne.mohali@orange-ftgroup.com">marianne.mohali@orange-ftgroup.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Steve Norreys</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">British Telecom</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jan Van Gee</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Belgacom</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martin Dolly</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ATT</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Francisco Silva</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Portugal Telecom</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Guiseppe Sciortino</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italtel</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cinzia Amenta</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italtel</td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
