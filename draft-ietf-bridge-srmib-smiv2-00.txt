






Internet Draft                          Editor of this version:
Expires December 2001                                            E. Bell
draft-ietf-bridge-srmib-smiv2-00.txt                          3Com Corp.
Obsoletes: 1525                         Authors of previous version:
                                                               E. Decker
                                                     cisco Systems, Inc.
                                                           K. McCloghrie
                                                     cisco Systems, Inc.
                                                             P. Langille
                                                      Newbridge Networks
                                                         A. Rijhsinghani
                                                      Enterasys Networks
                                                               June 2001

       Definitions of Managed Objects for Source Routing Bridges

Status of this Memo

   This document is an Internet Draft and is in full conformance with
   all provisions of Section 10 of RFC2026. Internet Drafts are working
   documents of the Internet Engineering Task Force (IETF), its Areas,
   and its Working Groups.  Note that other groups may also distribute
   working documents as Internet Drafts.

   Internet Drafts are draft documents valid for a maximum of six
   months.  Internet Drafts may be updated, replaced, or obsoleted by
   other documents at any time.  It is not appropriate to use Internet
   Drafts as reference material or to cite them other than as a "working
   draft" or "work in progress."

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/1id-abstracts.html

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


   To learn the current status of any Internet-Draft, please check the
   "1id-abstracts.txt" listing contained in the Internet-Drafts Shadow
   Directories on ftp.ietf.org (US East Coast), nic.nordu.net (Europe),
   ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific Rim).

Copyright Notice

   Copyright (C) The Internet Society (2001).  All Rights Reserved.

Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in TCP/IP based internets.
   In particular it defines objects for managing MAC bridges based on
   the IEEE 802.1D-1990 standard between Local Area Network (LAN)
   segments.  Provisions are made for support of transparent bridging.
   Provisions are also made so that these objects apply to bridges
   connected by subnetworks other than LAN segments.

   The MIB presented in this memo is a direct translation of the SOURCE


Bell                      Expires December 2001          [Page 1]

Internet Draft             Source Routing MIB                  June 2001


   ROUTING MIB defined in [RFC1525], to the SMIv2 syntax required for
   current IETF MIB standards.  This memo obsoletes RFC 1525.


















































Bell                      Expires December 2001          [Page 2]

Internet Draft             Source Routing MIB                  June 2001


1.  The SNMP Management Framework

   The SNMP Management Framework presently consists of five major
   components:

    o   An overall architecture, described in RFC 2571 [RFC2571].

    o   Mechanisms for describing and naming objects and events for the
        purpose of management.  The first version of this Structure of
        Management Information (SMI) is called SMIv1 and described in
        STD 16, RFC 1155 [RFC1155], STD 16, RFC 1212 [RFC1212] and RFC
        1215 [RFC1215].  The second version, called SMIv2, is described
        in STD 58, RFC 2578 [RFC2578], STD 58, RFC 2579 [RFC2579] and
        STD 58, RFC 2580 [RFC2580].

    o   Message protocols for transferring management information.  The
        first version of the SNMP message protocol is called SNMPv1 and
        described in STD 15, RFC 1157 [RFC1157].  A second version of
        the SNMP message protocol, which is not an Internet standards
        track protocol, is called SNMPv2c and described in RFC 1901
        [RFC1901] and RFC 1906 [RFC1906].  The third version of the
        message protocol is called SNMPv3 and described in RFC 1906
        [RFC1906], RFC 2572 [RFC2572] and RFC 2574 [RFC2574].

    o   Protocol operations for accessing management information.  The
        first set of protocol operations and associated PDU formats is
        described in STD 15, RFC 1157 [RFC1157].  A second set of
        protocol operations and associated PDU formats is described in
        RFC 1905 [RFC1905].

    o   A set of fundamental applications described in RFC 2573
        [RFC2573] and the view-based access control mechanism described
        in RFC 2575 [RFC2575].

   A more detailed introduction to the current SNMP Management Framework
   can be found in RFC 2570 [RFC2570].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  Objects in the MIB are
   defined using the mechanisms defined in the SMI.

   This memo specifies a MIB module that is compliant to the SMIv2.  A
   MIB conforming to the SMIv1 can be produced through the appropriate
   translations.  The resulting translated MIB must be semantically
   equivalent, except where objects or events are omitted because no
   translation is possible (use of Counter64).  Some machine readable
   information in SMIv2 will be converted into textual descriptions in
   SMIv1 during the translation process.  However, this loss of machine
   readable information is not considered to change the semantics of the
   MIB.


Bell                      Expires December 2001          [Page 3]

Internet Draft             Source Routing MIB                  June 2001


2.  Overview

   A common device present in many networks is the Bridge.  This device
   is used to connect Local Area Network segments below the network
   layer.  There are two major modes defined for this bridging;
   transparent and source route.  The transparent method of bridging is
   defined in the IEEE 802.1d MAC Bridge specification [11].  Source
   route bridging has been defined by I.B.M. and is described in the
   Token Ring Architecture Reference [12], as well as the IEEE 802.5M
   SRT Bridge Operations Addendum [14] to 802.1d.  This memo defines
   objects needed for management of a source routing bridge, and is an
   extension to the SNMP Bridge MIB [6].

   An explicit attempt was made to keep this MIB as simple as possible.
   This was accomplished by applying the following criteria to objects
   proposed for inclusion:

   (1)  Start with a small set of essential objects and add only as
        further objects are needed.

   (2)  Require objects be essential for either fault or configuration
        management.

   (3)  Consider evidence of current use and/or utility.

   (4)  Limit the total of objects.

   (5)  Exclude objects which are simply derivable from others in this
        or other MIBs.

   (6)  Avoid causing critical sections to be heavily instrumented.  The
        guideline that was followed is one counter per critical section
        per layer.

2.1.  Structure of MIB

   Objects in this MIB are arranged into groups.  Each group is
   organized as a set of related objects.  The overall structure and
   assignment of objects to their groups is shown below.  Where
   appropriate, the corresponding management object name found in IEEE
   802.1d [11] and IEEE 802.5M [14] is also included.

      SR Bridge MIB Name            IEEE Name

      dot1dSr
        PortTable
          Port
          HopCount                  SourceRoutingPort
                                      .PortHopCount
          LocalSegment                .SegmentNumber


Bell                      Expires December 2001          [Page 4]

Internet Draft             Source Routing MIB                  June 2001


          BridgeNum                   .BridgeNumber
          TargetSegment
          LargestFrame                .LargestFrameSize
          STESpanMode                 .LimitedBroadcastMode
          SpecInFrames              BridgePort
                                      .ValidSRFramesReceived
          SpecOutFrames               .ValidSRForwardedOutbound
          ApeInFrames
          ApeOutFrames                .BroadcastFramesForwarded
          SteInFrames
          SteOutFrames                .BroadcastFramesForwarded
          SegmentMismatchDiscards     .DiscardInvalidRI
          DuplicateSegmentDiscards    .LanIdMismatch
          HopCountExceededDiscards    .FramesDiscardedHopCountExceeded

   The following IEEE management objects have not been included in the
   SR Bridge MIB for the indicated reasons.

      IEEE Object                   Disposition

      SourceRoutingPort
                                    The following objects were NOT
                                    included in this MIB because they
                                    are redundant or not considered
                                    useful.
        .LimitedBroadcastEnable
        .DiscardLackOfBuffers
        .DiscardErrorDetails
        .DiscardTargetLANInoperable
        .ValidSRDiscardedInbound
        .BroadcastBytesForwarded
        .NonBroadcastBytesForwarded
        .FramesNotReceivedDueToCongestion
        .FramesDiscardedDueToInternalError

2.1.1.  The dot1dSr Group

   This group contains the objects that describe the entity's state with
   respect to source route bridging.  If source routing is not
   supported, this group will not be implemented.  This group is
   applicable to source route only, and SRT bridges.

2.1.2.  The dot1dPortPair Group

   Implementation of this group is optional.  This group is implemented
   by those bridges that support the port-pair multiport model of the
   source route bridging mode as defined in the IEEE 802.5M SRT Addendum
   to 802.1d.




Bell                      Expires December 2001          [Page 5]

Internet Draft             Source Routing MIB                  June 2001


2.2.  Relationship to Other MIBs

   As described above, some IEEE 802.1d management objects have not been
   included in this MIB because they overlap with objects in other MIBs
   applicable to a bridge implementing this MIB.  In particular, it is
   assumed that a bridge implementing this MIB will also implement (at
   least) the Bridge MIB and the 'system' group and the 'interfaces'
   group defined in MIB-II [4].

2.2.1.  Relationship to the Bridge MIB

   The Bridge MIB [6] must be implemented by all bridges, including
   transparent, SR and SRT bridges.  The SR bridge MIB is an extension
   to the Bridge MIB.

2.2.2.  Relationship to the 'system' group

   In MIB-II, the 'system' group is defined as being mandatory for all
   systems such that each managed entity contains one instance of each
   object in the 'system' group.  Thus, those objects apply to the
   entity as a whole irrespective of whether the entity's sole
   functionality is bridging, or whether bridging is only a subset of
   the entity's functionality.

2.2.3.  Relationship to the 'interfaces' group

   In MIB-II, the 'interfaces' group is defined as being mandatory for
   all systems and contains information on an entity's interfaces, where
   each interface is thought of as being attached to a `subnetwork'.
   (Note that this term is not to be confused with `subnet' which refers
   to an addressing partitioning scheme used in the Internet suite of
   protocols.)  The term 'segment' is used in this memo to refer to such
   a subnetwork.

   Implicit in this MIB is the notion of ports on a bridge.  Each of
   these ports is associated with one interface of the 'interfaces'
   group, and in most situations, each port is associated with a
   different interface. However, there are situations in which multiple
   ports are associated with the same interface.  An example of such a
   situation would be several ports, each corresponding one-to-one with
   several X.25 virtual circuits, but all on the same interface.

   Each port is uniquely identified by a port number.  A port number has
   no mandatory relationship to an interface number, but in the simple
   case, a port number will have the same value as the corresponding
   interface's interface number.

   Some entities provide other services in addition to bridging with
   respect to the data sent and received by their interfaces.  In such
   situations, only a subset of the data sent/received on an interface


Bell                      Expires December 2001          [Page 6]

Internet Draft             Source Routing MIB                  June 2001


   is within the domain of the entity's bridging functionality.  This
   subset is considered to be delineated according to a set of
   protocols, with some protocols being bridged, and other protocols not
   being bridged.  For example, in an entity which exclusively performed
   bridging, all protocols would be considered as being bridged, whereas
   in an entity which performed IP routing on IP datagrams and only
   bridged other protocols, only the non-IP data would be considered as
   being bridged.

   Thus, this MIB (and in particular, its counters) are applicable only
   to that subset of the data on an entity's interfaces which is
   sent/received for a protocol being bridged.  All such data is
   sent/received via the ports of the bridge.







































Bell                      Expires December 2001          [Page 7]

Internet Draft             Source Routing MIB                  June 2001


3.  Definitions

    SOURCE-ROUTING-MIB DEFINITIONS ::= BEGIN

    -- ---------------------------------------------------------- --
    -- MIB for IEEE Source Routing and SRT Bridges
    -- ---------------------------------------------------------- --

    IMPORTS
        MODULE-IDENTITY, OBJECT-TYPE, Counter32, Gauge32, Integer32
            FROM SNMPv2-SMI
        MODULE-COMPLIANCE, OBJECT-GROUP
            FROM SNMPv2-CONF
        dot1dBridge, dot1dSr
            FROM BRIDGE-MIB;

    srMIB MODULE-IDENTITY
        LAST-UPDATED "200106260000Z"
        ORGANIZATION "IETF Bridge MIB Working Group"
        CONTACT-INFO
            "Email: bridgemib@external.cisco.com"
        DESCRIPTION
            "The Bridge MIB module for managing devices that support
            IEEE 802.1D."
        REVISION     "200106260000Z"
        DESCRIPTION
             "Draft 0: initial translation of RFC 1493 to SMIv2."
        REVISION     "199309300000Z"
        DESCRIPTION
             "RFC 1525: SMIv1 version."
        ::= { dot1dBridge 9 }

    -- ---------------------------------------------------------- --
    -- groups in the SR MIB
    -- ---------------------------------------------------------- --

    -- Note: the following group is imported from the Bridge MIB:
    --      dot1dSr OBJECT IDENTIFIER ::= { dot1dBridge 3 }

    dot1dPortPair   OBJECT IDENTIFIER ::= { dot1dBridge 10 }

    srConformance OBJECT IDENTIFIER ::= { srMIB 1 }

    -- ---------------------------------------------------------- --
    -- the dot1dSr group
    -- ---------------------------------------------------------- --
    -- this group is implemented by those bridges that
    -- support the source route bridging mode, including Source
    -- Routing and SRT bridges.
    -- ---------------------------------------------------------- --


Bell                      Expires December 2001          [Page 8]

Internet Draft             Source Routing MIB                  June 2001


    dot1dSrPortTable OBJECT-TYPE
        SYNTAX      SEQUENCE OF Dot1dSrPortEntry
        MAX-ACCESS  not-accessible
        STATUS      current
        DESCRIPTION
            "A table that contains information about every port that
            is associated with this source route bridge."
        ::= { dot1dSr 1 }

    dot1dSrPortEntry OBJECT-TYPE
        SYNTAX      Dot1dSrPortEntry
        MAX-ACCESS  not-accessible
        STATUS      current
        DESCRIPTION
            "A list of information for each port of a source
            route bridge."
        INDEX   { dot1dSrPort }
        ::= { dot1dSrPortTable 1 }

    Dot1dSrPortEntry ::=
        SEQUENCE {
            dot1dSrPort
                Integer32,
            dot1dSrPortHopCount
                Integer32,
            dot1dSrPortLocalSegment
                Integer32,
            dot1dSrPortBridgeNum
                Integer32,
            dot1dSrPortTargetSegment
                Integer32,
            dot1dSrPortLargestFrame
                Integer32,
            dot1dSrPortSTESpanMode
                INTEGER,
            dot1dSrPortSpecInFrames
                Counter32,
            dot1dSrPortSpecOutFrames
                Counter32,
            dot1dSrPortApeInFrames
                Counter32,
            dot1dSrPortApeOutFrames
                Counter32,
            dot1dSrPortSteInFrames
                Counter32,
            dot1dSrPortSteOutFrames
                Counter32,
            dot1dSrPortSegmentMismatchDiscards
                Counter32,
            dot1dSrPortDuplicateSegmentDiscards


Bell                      Expires December 2001          [Page 9]

Internet Draft             Source Routing MIB                  June 2001


                Counter32,
            dot1dSrPortHopCountExceededDiscards
                Counter32,
            dot1dSrPortDupLanIdOrTreeErrors
                Counter32,
            dot1dSrPortLanIdMismatches
                Counter32
        }

    dot1dSrPort OBJECT-TYPE
        SYNTAX      Integer32 (1..65535)
        MAX-ACCESS  not-accessible
        STATUS      current
        DESCRIPTION
            "The port number of the port for which this entry
            contains Source Route management information."
        ::= { dot1dSrPortEntry 1 }

    dot1dSrPortHopCount OBJECT-TYPE
        SYNTAX      Integer32
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "The maximum number of routing descriptors allowed
            in an All Paths or Spanning Tree Explorer frames."
        ::= { dot1dSrPortEntry 2 }

    dot1dSrPortLocalSegment OBJECT-TYPE
        SYNTAX      Integer32
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "The segment number that uniquely identifies the segment
            to which this port is connected. Current source routing
            protocols limit this value to the range: 0 through 4095.
            (The value 0 is used by some management applications for
            special test cases.) A value of 65535 signifies that no
            segment number is assigned to this port."
        ::= { dot1dSrPortEntry 3 }

    dot1dSrPortBridgeNum OBJECT-TYPE
        SYNTAX      Integer32
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "A bridge number uniquely identifies a bridge when more
            than one bridge is used to span the same two segments.
            Current source routing protocols limit this value to the
            range: 0 through 15. A value of 65535 signifies that no
            bridge number is assigned to this bridge."


Bell                      Expires December 2001         [Page 10]

Internet Draft             Source Routing MIB                  June 2001


        ::= { dot1dSrPortEntry 4 }

    dot1dSrPortTargetSegment OBJECT-TYPE
        SYNTAX      Integer32
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "The segment number that corresponds to the target
            segment this port is considered to be connected to by
            the bridge.  Current source routing protocols limit this
            value to the range: 0 through 4095.  (The value 0 is
            used by some management applications for special test
            cases.) A value of 65535 signifies that no target
            segment is assigned to this port."
        ::= { dot1dSrPortEntry 5 }

    -- It would be nice if we could use ifMtu as the size of the
    -- largest frame, but we can't because ifMtu is defined to be
    -- the size that the (inter-)network layer can use which can
    -- differ from the MAC layer (especially if several layers of
    -- encapsulation are used).

    dot1dSrPortLargestFrame OBJECT-TYPE
        SYNTAX      Integer32
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "The maximum size of the INFO field (LLC and above) that
            this port can send/receive.  It does not include any MAC
            level (framing) octets.  The value of this object is
            used by this bridge to determine whether a modification
            of the LargestFrame (LF, see [14]) field of the Routing
            Control field of the Routing Information Field is
            necessary.

            64 valid values are defined by the IEEE 802.5M SRT
            Addendum: 516, 635, 754, 873, 993, 1112, 1231, 1350,
            1470, 1542, 1615, 1688, 1761, 1833, 1906, 1979, 2052,
            2345, 2638, 2932, 3225, 3518, 3812, 4105, 4399, 4865,
            5331, 5798, 6264, 6730, 7197, 7663, 8130, 8539, 8949,
            9358, 9768, 10178, 10587, 10997, 11407, 12199, 12992,
            13785, 14578, 15370, 16163, 16956, 17749, 20730, 23711,
            26693, 29674, 32655, 35637, 38618, 41600, 44591, 47583,
            50575, 53567, 56559, 59551, and 65535.

            An illegal value will not be accepted by the bridge."
        ::= { dot1dSrPortEntry 6 }

    dot1dSrPortSTESpanMode OBJECT-TYPE
        SYNTAX      INTEGER {


Bell                      Expires December 2001         [Page 11]

Internet Draft             Source Routing MIB                  June 2001


                        autoSpan(1),
                        disabled(2),
                        forced(3)
                    }
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "Determines how this port behaves when presented with a
            Spanning Tree Explorer frame.  The value 'disabled(2)'
            indicates that the port will not accept or send Spanning
            Tree Explorer packets; any STE packets received will be
            silently discarded.  The value 'forced(3)' indicates the
            port will always accept and propagate Spanning Tree
            Explorer frames.  This allows a manually configured
            Spanning Tree for this class of packet to be configured.
            Note that unlike transparent bridging, this is not
            catastrophic to the network if there are loops.  The
            value 'auto-span(1)' can only be returned by a bridge
            that both implements the Spanning Tree Protocol and has
            use of the protocol enabled on this port. The behavior
            of the port for Spanning Tree Explorer frames is
            determined by the state of dot1dStpPortState.  If the
            port is in the 'forwarding' state, the frame will be
            accepted or propagated.  Otherwise, it will be silently
            discarded."
        ::= { dot1dSrPortEntry 7 }

    dot1dSrPortSpecInFrames OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of Specifically Routed frames, also
            referred to as Source Routed Frames, that have
            been received from this port's segment."
        ::= { dot1dSrPortEntry 8 }

    dot1dSrPortSpecOutFrames OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of Specifically Routed frames, also
            referred to as Source Routed Frames, that this
            port has transmitted on its segment."
        ::= { dot1dSrPortEntry 9 }

    dot1dSrPortApeInFrames OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only


Bell                      Expires December 2001         [Page 12]

Internet Draft             Source Routing MIB                  June 2001


        STATUS      current
        DESCRIPTION
            "The number of All Paths Explorer frames, also
            referred to as All Routes Explorer frames, that
            have been received by this port from its segment."
        ::= { dot1dSrPortEntry 10 }

    dot1dSrPortApeOutFrames OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of all Paths Explorer Frames, also
            referred to as All Routes Explorer frames, that
            have been transmitted by this port on its segment."
        ::= { dot1dSrPortEntry 11 }

    dot1dSrPortSteInFrames OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of spanning tree explorer frames that
            have been received by this port from its segment."
        ::= { dot1dSrPortEntry 12 }

    dot1dSrPortSteOutFrames OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of spanning tree explorer frames that
            have been transmitted by this port on its segment."
        ::= { dot1dSrPortEntry 13 }

    dot1dSrPortSegmentMismatchDiscards OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of explorer frames that have been discarded
            by this port because the routing descriptor field
            contained an invalid adjacent segment value."
        ::= { dot1dSrPortEntry 14 }

    dot1dSrPortDuplicateSegmentDiscards OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION


Bell                      Expires December 2001         [Page 13]

Internet Draft             Source Routing MIB                  June 2001


            "The number of frames that have been discarded by this
            port because the routing descriptor field contained a
            duplicate segment identifier."
        ::= { dot1dSrPortEntry 15 }

    dot1dSrPortHopCountExceededDiscards OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of explorer frames that have been discarded
            by this port because the Routing Information Field has
            exceeded the maximum route descriptor length."
        ::= { dot1dSrPortEntry 16 }

    dot1dSrPortDupLanIdOrTreeErrors OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of duplicate LAN IDs or Tree errors.
            This helps in detection of problems in networks
            containing older IBM Source Routing Bridges."
        ::= { dot1dSrPortEntry 17 }

    dot1dSrPortLanIdMismatches OBJECT-TYPE
        SYNTAX      Counter32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The number of ARE and STE frames that were discarded
            because the last LAN ID in the routing information field
            did not equal the LAN-in ID.  This error can occur in
            implementations which do only a LAN-in ID and Bridge
            Number check instead of a LAN-in ID, Bridge Number, and
            LAN-out ID check before they forward broadcast frames."
        ::= { dot1dSrPortEntry 18 }

    -- ---------------------------------------------------------- --
    -- scalar object in dot1dSr
    -- ---------------------------------------------------------- --

    dot1dSrBridgeLfMode OBJECT-TYPE
        SYNTAX      INTEGER {
                        mode3(1),
                        mode6(2)
                    }
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION


Bell                      Expires December 2001         [Page 14]

Internet Draft             Source Routing MIB                  June 2001


            "Indicates whether the bridge operates using older 3 bit
            length negotiation fields or the newer 6 bit length
            field in its RIF."
        ::= { dot1dSr 2 }

    -- ---------------------------------------------------------- --
    -- The Port-Pair Database
    -- ---------------------------------------------------------- --
    -- Implementation of this group is optional.
    -- This group is implemented by those bridges that support
    -- the direct multiport model of the source route bridging
    -- mode as defined in the IEEE 802.5 SRT Addendum to 802.1d.
    -- Bridges implementing this group may report 65535 for
    -- dot1dSrPortBridgeNumber and dot1dSrPortTargetSegment,
    -- indicating that those objects are not applicable.
    -- ---------------------------------------------------------- --

    dot1dPortPairTableSize OBJECT-TYPE
        SYNTAX      Gauge32
        MAX-ACCESS  read-only
        STATUS      current
        DESCRIPTION
            "The total number of entries in the Bridge Port
            Pair Database."
        ::= { dot1dPortPair 1 }

    -- ---------------------------------------------------------- --
    -- the Bridge Port-Pair table
    -- ---------------------------------------------------------- --
    -- this table represents port pairs within a bridge forming
    -- a unique bridge path, as defined in the IEEE 802.5M SRT
    -- Addendum.
    -- ---------------------------------------------------------- --

    dot1dPortPairTable OBJECT-TYPE
        SYNTAX      SEQUENCE OF Dot1dPortPairEntry
        MAX-ACCESS  not-accessible
        STATUS      current
        DESCRIPTION
            "A table that contains information about every
            port pair database entity associated with this
            source routing bridge."
        ::= { dot1dPortPair 2 }

    dot1dPortPairEntry OBJECT-TYPE
        SYNTAX      Dot1dPortPairEntry
        MAX-ACCESS  not-accessible
        STATUS      current
        DESCRIPTION
            "A list of information for each port pair entity


Bell                      Expires December 2001         [Page 15]

Internet Draft             Source Routing MIB                  June 2001


            of a bridge."
        INDEX   { dot1dPortPairLowPort, dot1dPortPairHighPort }
        ::= { dot1dPortPairTable 1 }

    Dot1dPortPairEntry ::=
        SEQUENCE {
            dot1dPortPairLowPort
                Integer32,
            dot1dPortPairHighPort
                Integer32,
            dot1dPortPairBridgeNum
                Integer32,
            dot1dPortPairBridgeState
                INTEGER
        }

    dot1dPortPairLowPort OBJECT-TYPE
        SYNTAX      Integer32 (1..65535)
        MAX-ACCESS  not-accessible
        STATUS      current
        DESCRIPTION
            "The port number of the lower numbered port for which
            this entry contains port pair database information."
        ::= { dot1dPortPairEntry 1 }

    dot1dPortPairHighPort OBJECT-TYPE
        SYNTAX      Integer32 (1..65535)
        MAX-ACCESS  not-accessible
        STATUS      current
        DESCRIPTION
            "The port number of the higher numbered port for which
            this entry contains port pair database information."
        ::= { dot1dPortPairEntry 2 }

    dot1dPortPairBridgeNum OBJECT-TYPE
        SYNTAX      Integer32
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "A bridge number that uniquely identifies the path
            provided by this source routing bridge between the
            segments connected to dot1dPortPairLowPort and
            dot1dPortPairHighPort.  The purpose of bridge number is
            to disambiguate between multiple paths connecting the
            same two LANs."
        ::= { dot1dPortPairEntry 3 }

    dot1dPortPairBridgeState OBJECT-TYPE
        SYNTAX      INTEGER {
                        enabled(1),


Bell                      Expires December 2001         [Page 16]

Internet Draft             Source Routing MIB                  June 2001


                        disabled(2),
                        invalid(3)
                    }
        MAX-ACCESS  read-write
        STATUS      current
        DESCRIPTION
            "The state of dot1dPortPairBridgeNum.  Writing
            'invalid(3)' to this object removes the
            corresponding entry."
        ::= { dot1dPortPairEntry 4 }

    -- ---------------------------------------------------------- --
    -- Source Routing MIB - Conformance Information
    -- ---------------------------------------------------------- --

    srGroups OBJECT IDENTIFIER ::= { srConformance 1 }
    srCompliances OBJECT IDENTIFIER ::= { srConformance 2 }

    -- ---------------------------------------------------------- --
    -- units of conformance
    -- ---------------------------------------------------------- --
    -- the dot1dSr group
    -- ---------------------------------------------------------- --

    srPortGroup OBJECT-GROUP
        OBJECTS {
            dot1dSrPortHopCount,
            dot1dSrPortLocalSegment,
            dot1dSrPortBridgeNum,
            dot1dSrPortTargetSegment,
            dot1dSrPortLargestFrame,
            dot1dSrPortSTESpanMode,
            dot1dSrPortSpecInFrames,
            dot1dSrPortSpecOutFrames,
            dot1dSrPortApeInFrames,
            dot1dSrPortApeOutFrames,
            dot1dSrPortSteInFrames,
            dot1dSrPortSteOutFrames,
            dot1dSrPortSegmentMismatchDiscards,
            dot1dSrPortDuplicateSegmentDiscards,
            dot1dSrPortHopCountExceededDiscards,
            dot1dSrPortDupLanIdOrTreeErrors,
            dot1dSrPortLanIdMismatches
        }
        STATUS      current
        DESCRIPTION
            "Source Route information for each port of the Bridge."
        ::= { srGroups 1 }

    srBridgeGroup OBJECT-GROUP


Bell                      Expires December 2001         [Page 17]

Internet Draft             Source Routing MIB                  June 2001


        OBJECTS {
            dot1dSrBridgeLfMode
        }
        STATUS      current
        DESCRIPTION
            "Source Route information for the Bridge."
        ::= { srGroups 2 }

    -- ---------------------------------------------------------- --
    -- The Port-Pair Database
    -- ---------------------------------------------------------- --

    srPortPairGroup OBJECT-GROUP
        OBJECTS {
            dot1dPortPairTableSize,
            dot1dPortPairBridgeNum,
            dot1dPortPairBridgeState
        }
        STATUS      current
        DESCRIPTION
            "Source Route Port Pair information for the Bridge."
        ::= { srGroups 3 }

    -- ---------------------------------------------------------- --
    -- compliance statements
    -- ---------------------------------------------------------- --

    srCompliance MODULE-COMPLIANCE
        STATUS  current
        DESCRIPTION
            "The compliance statement for device support of bridging
            services."

        MODULE
            MANDATORY-GROUPS {
                srPortGroup,
                srBridgeGroup
            }

            GROUP   srPortPairGroup
            DESCRIPTION
                "Implementation of this group is optional.  This
                group is implemented by those bridges that support
                the direct multiport model of the source route
                bridging mode as defined in the IEEE 802.5 SRT
                Addendum to 802.1d."

            ::= { srCompliances 1 }

    END


Bell                      Expires December 2001         [Page 18]

Internet Draft             Source Routing MIB                  June 2001


4.  Security Considerations

   There are a number of management objects defined in this MIB that
   have a MAX-ACCESS clause of read-write and/or read-create.  Such
   objects may be considered sensitive or vulnerable in some network
   environments.  The support for SET operations in a non-secure
   environment without proper protection can have a negative effect on
   network operations.

   SNMPv1 by itself is not a secure environment.  Even if the network
   itself is secure (for example by using IPSec), even then, there is no
   control as to who on the secure network is allowed to access and
   GET/SET (read/change/create/delete) the objects in this MIB.

   It is recommended that the implementers consider the security
   features as provided by the SNMPv3 framework.  Specifically, the use
   of the User-based Security Model RFC 2574 [RFC2574] and the View-
   based Access Control Model RFC 2575 [RFC2575] is recommended.

   It is then a customer/user responsibility to ensure that the SNMP
   entity giving access to an instance of this MIB, is properly
   configured to give access to the objects only to those principals
   (users) that have legitimate rights to indeed GET or SET
   (change/create/delete) them.


5.  Acknowledgments

   The MIB presented in this memo is a direct translation of the SOURCE
   ROUTING MIB defined in [RFC1525], to the SMIv2 syntax required for
   current IETF MIB standards.

   The original authors were E. Decker, P. Langille, A Rijsinghani and
   K. McCloghrie.  Further acknowledgement is given to the members of
   the original Bridge Working Group in [RFC1493].

   This document was produced on behalf of the Bridge MIB Working Group
   in the Operations and Management area of the Internet Engineering
   Task Force.

   The authors wish to thank the members of the Bridge MIB Working Group
   for their many comments and suggestions which improved this effort.










Bell                      Expires December 2001         [Page 19]

Internet Draft             Source Routing MIB                  June 2001


6.  References

[RFC2571]   Harrington, D., Presuhn, R., and B. Wijnen, "An Architecture
            for Describing SNMP Management Frameworks", RFC 2571, April
            1999.

[RFC1155]   Rose, M., and K. McCloghrie, "Structure and Identification
            of Management Information for TCP/IP-based Internets", STD
            16, RFC 1155, May 1990.

[RFC1212]   Rose, M., and K. McCloghrie, "Concise MIB Definitions", STD
            16, RFC 1212, March 1991.

[RFC1215]   M. Rose, "A Convention for Defining Traps for use with the
            SNMP", RFC 1215, March 1991.

[RFC2578]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J.,
            Rose, M., and S. Waldbusser, "Structure of Management
            Information Version 2 (SMIv2)", STD 58, RFC 2578, April
            1999.

[RFC2579]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J.,
            Rose, M., and S. Waldbusser, "Textual Conventions for
            SMIv2", STD 58, RFC 2579, April 1999.

[RFC2580]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J.,
            Rose, M., and S. Waldbusser, "Conformance Statements for
            SMIv2", STD 58, RFC 2580, April 1999.

[RFC1157]   Case, J., Fedor, M., Schoffstall, M., and J. Davin, "Simple
            Network Management Protocol", STD 15, RFC 1157, May 1990.

[RFC1901]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
            "Introduction to Community-based SNMPv2", RFC 1901, January
            1996.

[RFC1906]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
            "Transport Mappings for Version 2 of the Simple Network
            Management Protocol (SNMPv2)", RFC 1906, January 1996.

[RFC2572]   Case, J., Harrington D., Presuhn R., and B. Wijnen, "Message
            Processing and Dispatching for the Simple Network Management
            Protocol (SNMP)", RFC 2572, April 1999.

[RFC2574]   Blumenthal, U., and B. Wijnen, "User-based Security Model
            (USM) for version 3 of the Simple Network Management
            Protocol (SNMPv3)", RFC 2574, April 1999.

[RFC1905]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
            "Protocol Operations for Version 2 of the Simple Network


Bell                      Expires December 2001         [Page 20]

Internet Draft             Source Routing MIB                  June 2001


            Management Protocol (SNMPv2)", RFC 1905, January 1996.

[RFC2573]   Levi, D., Meyer, P., and B. Stewart, "SNMPv3 Applications",
            RFC 2573, April 1999.

[RFC2575]   Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based
            Access Control Model (VACM) for the Simple Network
            Management Protocol (SNMP)", RFC 2575, April 1999.

[RFC2570]   Case, J., Mundy, R., Partain, D., and B. Stewart,
            "Introduction to Version 3 of the Internet-standard Network
            Management Framework", RFC 2570, April 1999.

[IEEE8021D] ANSI/IEEE Standard 802.1D-1990 MAC Bridges, IEEE Project 802
            Local and Metropolitan Area Networks, (March 8, 1991).

[ISO8021D]  ISO DIS 10038 MAC Bridges.

[IBMTR]     I.B.M. Token Ring Architecture Reference.

[IEEE8025M] ANSI/IEEE P802.5M-Draft 7, "Source Routing Transparent
            Bridge Operation", IEEE Project 802 (1991).

[IEEE8021Y] ANSI/IEEE 802.1y, "Source Routing Tutorial for End System
            Operation", (September, 1990).


7.  Changes from RFC 1525

   The following changes have been made from RFC 1525.

   (1)  Translated the MIB definition to use SMIv2.

   (2)  Updated the SNMP Framework and references to comply with the
        current IETF guidelines.

   (3)  Updated the Security section to comply with current IETF
        guidelines.


8.  Authors' Addresses

   Les Bell
   3Com Europe Limited
   3Com Centre, Boundary Way
   Hemel Hempstead
   Herts.  HP2 7YU
   UK
   Phone: +44 1442 438025
   EMail: Les_Bell@3Com.com


Bell                      Expires December 2001         [Page 21]

Internet Draft             Source Routing MIB                  June 2001


9.  Full Copyright

   Copyright (C) The Internet Society (2001).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published and
   distributed, in whole or in part, without restriction of any kind,
   provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

























Bell                      Expires December 2001         [Page 22]

Internet Draft             Source Routing MIB                  June 2001


Table of Contents

   1 The SNMP Management Framework ................................    3
   2 Overview .....................................................    4
   2.1 Structure of MIB ...........................................    4
   2.1.1 The dot1dSr Group ........................................    5
   2.1.2 The dot1dPortPair Group ..................................    5
   2.2 Relationship to Other MIBs .................................    6
   2.2.1 Relationship to the Bridge MIB ...........................    6
   2.2.2 Relationship to the 'system' group .......................    6
   2.2.3 Relationship to the 'interfaces' group ...................    6
   3 Definitions ..................................................    8
   4 Security Considerations ......................................   19
   5 Acknowledgments ..............................................   19
   6 References ...................................................   20
   7 Changes from RFC 1525 ........................................   21
   8 Authors' Addresses ...........................................   21
   9 Full Copyright ...............................................   22


































Bell                      Expires December 2001         [Page 23]

