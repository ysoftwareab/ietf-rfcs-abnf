<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Rebind Capability in DHCPv6
    Reconfigure Messages</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Rebind Capability in DHCPv6
    Reconfigure Messages">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">D. Evans</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">ARRIS International, Inc.</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">R. Droms</td></tr>
<tr><td class="header">Expires: May 13, 2010</td><td class="header">Cisco Systems, Inc.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 09, 2009</td></tr>
</table></td></tr></table>
<h1><br />Rebind Capability in DHCPv6
    Reconfigure Messages<br />draft-ietf-dhc-dhcpv6-reconfigure-rebind-07.txt</h1>

<h3>Abstract</h3>

<p>This document updates RFC 3315 to allow the Rebind message type to
      appear in the Reconfigure Message option of a Reconfigure message, which
      extends the Reconfigure message to allow a DHCPv6 server to cause a
      DHCPv6 client to send a Rebind message. The document also clarifies how
      a DHCPv6 client responds to a received Reconfigure message.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 13, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>

<a name="anchor1"></a><br /><hr />
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p><a class='info' href='#RFC3315'>DHCPv6<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315] allows a server to send an
      unsolicited Reconfigure message to a client. The client's response to a
      Reconfigure message, according to section 19 of RFC 3315 is either a
      Renew or an Information-Request message, depending on the contents of
      the msg-type field in the Reconfigure Message option of the Reconfigure
      message.
</p>
<p>If the client sends a Renew message, it includes a Server Identifier
      option in the Renew message to specify the server that should respond to
      the Renew message. Under some circumstances, it may be desirable for the
      client to communicate with a different server; for example, if the
      server that the client most recently communicated with is no longer
      available, the network administrator may want the client to communicate
      with a different server. This document expands the allowed values of the
      msg-type field to allow the server to indicate that the client is to
      send a Rebind message, which does not include a Server Identifier option
      and allows any server to respond to the client.
</p>
<p>RFC 3315 does not specify that a Reconfigure message must be sent
      from the server with which the client most recently communicated, and it
      does not specify which server the client should identify with a Server
      Identifier option when the client responds to the Reconfigure message.
      This document clarifies that the client should send a Renew message in
      response to a Reconfigure message with a Server Identifier option
      identifying the same server that the client would have identified if the
      client had sent the Renew message after expiration of T1.
</p>
<a name="anchor2"></a><br /><hr />
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>The key words MUST, MUST NOT, REQUIRED, SHALL, SHALL NOT, SHOULD,
      SHOULD NOT, RECOMMENDED, MAY, and OPTIONAL in this document are to be
      interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>This document uses IPv6 and DHCPv6 terms as defined in section 4 of
      RFC 3315.
</p>
<a name="format"></a><br /><hr />
<a name="rfc.section.3"></a><h3>3.&nbsp;
The Reconfigure Message option of the DHCPv6       Reconfigure Message</h3>

<p>This section modifies section 22.19 of RFC 3315 to allow the
      specification of the Rebind message in a Reconfigure message.
</p>
<p>A server includes a Reconfigure Message option in a Reconfigure
      message to indicate to the client whether the client responds with a
      Renew, an Information-request, or a Rebind message.
</p>
<p>The format of this option is:</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |      OPTION_RECONF_MSG        |         option-len            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    msg-type   |
    +-+-+-+-+-+-+-+-+
</pre></div><p>

</p>
<p></p>
<blockquote class="text"><dl>
<dt>option-code</dt>
<dd>OPTION_RECONF_MSG (19).
</dd>
<dt>option-len</dt>
<dd>1.
</dd>
<dt>msg-type</dt>
<dd>5 for Renew message, 6 for Rebind, 11 for
          Information-request message.
</dd>
</dl></blockquote>

<a name="anchor3"></a><br /><hr />
<a name="rfc.section.4"></a><h3>4.&nbsp;
Server Behavior</h3>

<p>This section updates specific text in sections 19.1, 19.2 and 19.3 of
      RFC 3315.
</p>
<p>The server MUST include a Reconfigure Message option (as defined in
      <a class='info' href='#format'>Section&nbsp;3<span> (</span><span class='info'>The Reconfigure Message option of the DHCPv6       Reconfigure Message</span><span>)</span></a>) to select whether the client responds
      with a Renew message, a Rebind message or an Information-Request
      message.
</p>
<p>The Reconfigure message causes the client to initiate a Renew/Reply,
      a Rebind/Reply message exchange or an Information-request/Reply message
      exchange. The server interprets the receipt of a Renew, a Rebind or an
      Information-request message (whichever was specified in the original
      Reconfigure message) from the client as satisfying the Reconfigure
      message request.
</p>
<p>The server retransmits a Reconfigure message specifying a Rebind
      message in the same way as described in section 19.1.2 of RFC 3315.
</p>
<p>In response to a Rebind message, the server generates and sends a
      Reply message to the client as described in sections 18.2.4 and 18.2.8,
      including options for configuration parameters.
</p>
<p>The server MAY include options containing the IAs and new values for
      other configuration parameters in the Reply message, even if those IAs
      and parameters were not requested in the Renew message from the
      client.
</p>
<a name="anchor4"></a><br /><hr />
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Client Behavior</h3>

<p>This section updates specific text in section 19.4 of RFC 3315.
</p>
<p>Upon receipt of a valid Reconfigure message, the client responds
        with a Renew message, a Rebind message or an Information-request
        message as indicated by the Reconfigure Message option (as defined in
        <a class='info' href='#format'>Section&nbsp;3<span> (</span><span class='info'>The Reconfigure Message option of the DHCPv6       Reconfigure Message</span><span>)</span></a>). The client ignores the transaction-id
        field in the received Reconfigure message. While the transaction is in
        progress, the client silently discards any Reconfigure messages it
        receives.
</p>
<p>When responding to a Reconfigure, the client creates and sends the
        Rebind message in exactly the same manner as outlined in section
        18.1.4 of RFC 3315, with the exception that the client copies the
        Option Request option and any IA options from the Reconfigure message
        into the Rebind message.
</p>
<p>If a client is currently sending Rebind messages, as described in
        section 18.1.4 of RFC 3315, the client ignores any received
        Reconfigure messages.
</p>
<p>The client uses the same variables and retransmission algorithm as
        it does with Renew, Rebind or Information-request messages generated
        as part of a client-initiated configuration exchange. See sections
        18.1.3, 18.1.4 and 18.1.5 of RFC 3315 for details. If the client does
        not receive a response from the server by the end of the
        retransmission process, the client ignores and discards the
        Reconfigure message.
</p>
<a name="anchor5"></a><br /><hr />
<a name="rfc.section.5"></a><h3>5.&nbsp;
Clarification of section 19.4.2, RFC 3315</h3>

<p>When sending a Renew message in response to the receipt of a
      Reconfigure message, the client MUST include a Server Identifier option
      identifying the server the client most recently communicated with.
</p>
<a name="anchor6"></a><br /><hr />
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>This document adds no new security considerations beyond those
      present in RFC 3315.
</p>
<a name="anchor7"></a><br /><hr />
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>There are no actions for IANA associated with this document.
</p>
<a name="anchor8"></a><br /><hr />
<a name="rfc.section.8"></a><h3>8.&nbsp;
Change log</h3>

<p>This section MUST be removed before publication.
</p>
<a name="anchor9"></a><br /><hr />
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Revision -05</h3>

<p>Clarified description of this feature in introduction.
</p>
<p>Clarified action of client if it receives a Reconfigure while
        sending Rebind messages.
</p>
<a name="anchor10"></a><br /><hr />
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
Revision -06</h3>

<p>Corrected a minor typo, changing "RFC3315" to "RFC 3315" in section
        1.
</p>
<a name="anchor11"></a><br /><hr />
<a name="rfc.section.8.3"></a><h3>8.3.&nbsp;
Revision -07</h3>

<p>Refreshed expired draft, no material changes.
</p>
<a name="rfc.references1"></a><br /><hr />
<h3>9.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3315">[RFC3315]</a></td>
<td class="author-text">Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;<a href="http://tools.ietf.org/html/rfc3315">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>,&rdquo; RFC&nbsp;3315, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3315.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">D. R. Evans</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ARRIS International, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">7912 Fairview Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Boulder, CO  80303</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 303.494.0394</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:N7DR@arrisi.com">N7DR@arrisi.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ralph Droms</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1414 Massachusetts Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Boxborough, MA  01719</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 978.936.1674</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rdroms@cisco.com">rdroms@cisco.com</a></td></tr>
</table>
</body></html>
