


MIP4                                                         J. Bharatia
Internet-Draft                                           Nortel Networks
Intended status: Standards Track                            K. Chowdhury
Expires: January 8, 2008                                Starent Networks
                                                                 A. Lior
                                                     Bridgewater Systems
                                                                K. Leung
                                                           Cisco Systems
                                                            Jul 07, 2007


        Mobile IPv4 Extension for Configuration Options Exchange
                     draft-ietf-mip4-gen-ext-04.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 8, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2007).









Bharatia, et al.         Expires January 8, 2008                [Page 1]

Internet-Draft                                                  Jul 2007


Abstract

   This document describes the mechanism for providing the host
   configuration information during Mobile IP registration.  One or more
   Configuration Options Exchange Extensions may be included in the
   registration message to provide the Mobile Node the configuration
   parameters needed for network service (e.g.  DNS).


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Glossary of Terms  . . . . . . . . . . . . . . . . . . . .  3
     1.2.  Conventions used in this document  . . . . . . . . . . . .  3
   2.  Configuration Options Exchange Extension . . . . . . . . . . .  4
   3.  Processing of Configuration Options Exchange Extension . . . .  6
   4.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  8
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . .  9
   6.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . 10
   7.  Normative References . . . . . . . . . . . . . . . . . . . . . 11
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 12
   Intellectual Property and Copyright Statements . . . . . . . . . . 13





























Bharatia, et al.         Expires January 8, 2008                [Page 2]

Internet-Draft                                                  Jul 2007


1.  Introduction

   Mobile IPv4 lacks the capability to dynamically configure the
   interface parameters (e.g. home subnet mask) and network service
   elements (e.g.  DNS servers) on the Mobile Node.  This information
   are required to be manually configured today.  There are mechanisms
   such as DHCP for the mobile node to configure information from the
   foreign network, but not from the home network when the mobile node
   is not attached to the home network.

   This document defines a new extension that can be used to carry
   configuration parameters from the Foreign Agent and/or Home Agent
   during Mobile IPv4 registration.  This configuration parameters
   include DHCP option (Parameter Request List) defined in [RFC2132].

1.1.  Glossary of Terms

      DNS - Domain Name System [RFC1035]

      DHCP - Dynamic Host Configuration Protocol [RFC2131]

1.2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

























Bharatia, et al.         Expires January 8, 2008                [Page 3]

Internet-Draft                                                  Jul 2007


2.  Configuration Options Exchange Extension

   The Mobile IPv4 extension has the format shown in this section to
   carry configuration information.  This extension MAY be included as a
   part of Mobile IP Registration Request or Registration Reply.

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |    Length     | Entity-Type   |   Sub-Type    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Config-Data
   +-+-+-+-+-+-...


            Figure 1: Configuration Options Exchange Extension

      Type

         Configuration Options Exchange Extension

      Length

         Indicates the length (in bytes) of the data field within this
         Extension.  The length does NOT include the Type and Length
         bytes.  This field MUST be set to 2 plus the total length of
         the Config-Data field.

      Entity-Type

         This field indicates which Mobility Agent is requested to
         provide configuration information when the extension is present
         in a Registration Request and which Mobility Agent inserted the
         extension in a Registration Reply.  The Home Agent or Foreign
         Agent may include the extension in the Registration Reply,
         whereas the Mobile Node may append the extension in the
         Registration Request to ask the Home Agent and/or Foreign Agent
         for configuration information.  Currently the following types
         are defined:

         0: Reserved.

         1: Home Agent.

         2: Foreign Agent.






Bharatia, et al.         Expires January 8, 2008                [Page 4]

Internet-Draft                                                  Jul 2007


      Sub-Type

         At this time the following values are defined:

         0: Reserved.

         1: DHCP Options.

         All other values reserved for future use.

      Config-Data

         The configuration parameters are packed in DHCP-based formats
         in the Config-Data field.  Since the size of the Config-Data
         field is limited to 253 bytes, the Mobility Agent needs to add
         multiple extensions with this subtype when the configuration
         information exceeds the boundary.  The DHCP option must be
         contained within one extension and never split up across
         multiple extensions.
































Bharatia, et al.         Expires January 8, 2008                [Page 5]

Internet-Draft                                                  Jul 2007


3.  Processing of Configuration Options Exchange Extension

   The Mobile Node may request values for specific configuration
   parameters from the Home Agent and/or Foreign Agent by including the
   'Parameter Request List' option (defined in [RFC2132]) in the
   Registration Request.  The list of requested parameters is specified
   as a string of octets, where each octet is a valid DHCP option code
   as defined in [RFC2132].  If this extension is included in the
   Registration Request, the Home Agent or Foreign Agent (indicated in
   the Entity-Type field) should provide requested information in the
   Registration Reply.  The Configuration Options Exchange extension
   should be repeated in the Registration Request for parameter(s)
   request based on the Entity-Type.  If there are no Configuration
   Options Exchange Extension in the Registration Request, it's up to
   the Home Agent or Foreign Agent to decide which configuration
   parameter to include in the Configuration Options Exchange extension.
   The configuration parameter(s) should not be overwritten by the
   Foreign Agent if the Home Agent has included them in the
   Configuration Options Exchange extension.  The Entity-Type field is
   set to the Mobility Agent that appended the extension in the
   Registration Reply.

   When a Mobile IP entity (i.e.  Mobile Node, Mobility Agent) adds a
   Configuration Options Exchange Extension to a Registration Request or
   Registration Reply message, this extension MUST appear prior to any
   authentication extensions added by that entity.

   Example:

   Mobile Node wants to obtain the home network prefix mask and DNS
   servers' IP addresses from its Home Agent during registration.  The
   Registration Request would contain the following values in the
   Configuration Options Exchange Extension.  The OpCode is set to
   Parameter Request List (55) used to obtain the Subnet Mask (1) and
   Domain Name Server (6); see [RFC2132].

   0               1                   2               3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     <Type>    |     <Len>=6   |    <Ent>=1    |    <DHCP>=1   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  <OpCode>=55  |   <OpLen>=2   |  <NetMask>=1  |    <DNS>=6    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

               Figure 2: Requested Configuration Parameters

   Home Agent sends a Registration Reply that contains the following
   values in the Configuration Options Exchange Extension.  The Subnet



Bharatia, et al.         Expires January 8, 2008                [Page 6]

Internet-Draft                                                  Jul 2007


   Mask (1) and Domain Name Server (6) options are embedded in the
   extension.

   0               1                   2               3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     <Type>    |     <Len>=18  |    <Ent>=1    |    <Rsv>=0    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  <OpCode>=1   |    <OpLen>=4  |       <Home Network Prefix>
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              ...                  |   <OpCode>=6  |  <OpLen>=8    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 <Primary DNS Server Address>                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                <Secondary DNS Server Address>                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




                Figure 3: Configuration Values in Response






























Bharatia, et al.         Expires January 8, 2008                [Page 7]

Internet-Draft                                                  Jul 2007


4.  IANA Considerations

   This draft defines new Mobile IPv4 extension, the Configuration
   Options Exchange Extension, as defined in Section 2 of this document.
   This value MUST be assigned by IANA from the Mobile IP numbering
   space for skippable extensions.

   A new number space is to be created for enumerating Sub-Type of the
   Configuration Options Exchange Extension defined in Section 2.  For
   Sub-Type, IANA should assign value 0 as Reserved and value 1 for the
   DHCP Options.  New values of Sub-Type of the Configuration Options
   Exchange Extension, other than values 0-1 must be approved by
   Designated Expert.

   A new number space is to be created for enumerating Entity-Type of
   the Configuration Options Exchange Extension defined in Section 2.
   For Entity-Type, IANA should assign value 0 as Reserved, value 1 for
   the Home Agent and value 2 for the Foreign Agent.  New values of
   Entity-Type of the Configuration Options Exchange Extension, other
   than values 0-2 must be approved by Designated Expert.































Bharatia, et al.         Expires January 8, 2008                [Page 8]

Internet-Draft                                                  Jul 2007


5.  Security Considerations

   There is no confidentiality provided for this extension.  The
   information carried in the Configuration Options Exchange Extension
   is from the Home Agent and/or Foreign Agent and is transferred
   unencrypted.  If sensitive information is sent for host configuration
   purposes, it may need to be protected by other means outside the
   scope of this document.











































Bharatia, et al.         Expires January 8, 2008                [Page 9]

Internet-Draft                                                  Jul 2007


6.  Acknowledgments

   Authors like to thank Curtis Provost, Tom Hiller, and Vijay
   Devarapalli for their valuable input to this document.















































Bharatia, et al.         Expires January 8, 2008               [Page 10]

Internet-Draft                                                  Jul 2007


7.  Normative References

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2131]  Droms, R., "Dynamic Host Configuration Protocol",
              RFC 2131, March 1997.

   [RFC2132]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
              Extensions", RFC 2132, March 1997.






































Bharatia, et al.         Expires January 8, 2008               [Page 11]

Internet-Draft                                                  Jul 2007


Authors' Addresses

   Jayshree Bharatia
   Nortel Networks
   2221, Lakeside Blvd
   Richardson, TX  75082

   Phone: +1 972-684-5767
   Email: jayshree@nortel.com


   Kuntal Chowdhury
   Starent Networks
   30 International Place
   Tewksbury, MA  01876

   Phone: +1 214-550-1416
   Email: kchowdhury@starentnetworks.com


   Avi Lior
   Bridgewater Systems
   303 Terry Fox Drive, Suite 100
   Ottawa, Ontario, Canada  K2K 3J1

   Phone: +1 613-591-6655
   Email: avi@bridgewatersystems.com


   Kent Leung
   Cisco Systems
   170 West Tasman Drive
   San Jose, CA  95134

   Phone: +1 408-526-5030
   Email: kleung@cisco.com















Bharatia, et al.         Expires January 8, 2008               [Page 12]

Internet-Draft                                                  Jul 2007


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Bharatia, et al.         Expires January 8, 2008               [Page 13]

