Internet Engineering Task Force                               H. Wu
Internet Draft                                                Z. Li
Intended status: Experimental                                 J. Chen
Expires: June 18 2021                                         X. Fan
          China Academy of Information and Communications Technology
                                                   December 18, 2020
                   Second-level Node (SLN) Data Objects Mapping
                draft-wu-identifier-sln-objects-mapping-02


Abstract

   This document specifies the format, contents and semantics of data
   escrow deposits for Industrial Internet Identifier Second-level Node
   (SLN). SLN directly serves enterprises and provides services such as
   identifier registration, identifier resolution, data sharing, etc.
   The mapping objects in this document mainly refers to the enterprise
   registration information of the SLN and the Enterprise-level Node
   (ELN) registered in the SLN.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on June 20, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



<Wu, et al.>             Expires June 18, 2021                 [Page 1]

Internet-Draft             IIIN-Data-Escrow              December 2020


   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document. Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Table of Contents


   1. Introduction ................................................ 2
   2. Model ....................................................... 3
   3. Conventions used in this document............................ 4
   4. General Conventions ......................................... 4
      4.1. Date and Time .......................................... 4
      4.2. IP Address ............................................. 4
      4.3. Country names .......................................... 4
      4.4. Telephone numbers....................................... 4
      4.5. Internationalized and Localized Elements ................5
   5. Object Description .......................................... 5
      5.1. Node Object ............................................ 5
         5.1.1. XML Model ......................................... 5
            5.1.1.1. <indeNode:node> element .......................5
            5.1.1.2. <indeNode:delete> object ......................9
      5.2. Header Object .......................................... 9
         5.2.1. <indeHeader:header> object ........................10
   6. Profile .................................................... 11
   7. Data escrow agent extended verification process .............11
   8. Formal Syntax .............................................. 12
      8.1. INDE Node Object....................................... 12
      8.2. Header Object ......................................... 20
   9. Internationalization Considerations .........................23
   10. Security Considerations.................................... 23
   11. IANA Considerations........................................ 24
   12. Privacy Considerations..................................... 24
   13. Example of a full deposit using the XML model ..............25
   14. Example of differential deposit using the XML model.........29
   15. References ................................................ 32
      15.1. Normative References.................................. 32
      15.2. Informative References................................ 32
   16. Acknowledgments ........................................... 33

1. Introduction

   Second-level Node (SLN) Data Escrow is the process by which an SLN
   periodically submits data deposits to a third-party called an escrow


Wu, et al.              Expires June 18, 2021                 [Page 2]

Internet-Draft             IIIN-Data-Escrow              December 2020


   agent. These deposits comprise the minimum data needed by a third-
   party to resume operations if the SLN cannot function and is unable
   or unwilling to facilitate an orderly transfer of service.

   The goal of data escrow is higher resiliency of registration
   services, for the benefit of Internet users. The beneficiaries of a
   SLN are not just those registering information there, but all
   relying parties that need to identify the owners of objects.

   This document defines the data escrow structure of the standard set
   of objects for Industrial Internet Identifier Nodes which include
   Second-level Node (SLN) and Enterprise-level Node (ELN).

   This document defines the following object:

   o Node: Including the enterprise registration information of the
      SLN and the ELN registered in SLN.

   This document defines the following pseudo-object:

   o Header: Used to specify counters of objects in the database at a
      certain point in time (watermark).

   In the context of industry identifier namespace, data escrow is a
   requirement for SLN. There is also a similar requirement for SLN
   accredited identifier registration node.

   This document specifies a format for data escrow deposits
   independent of the objects being escrowed. A specification is
   required for each type of registry/set of objects that is expected
   to be escrowed.

2. Model

   This document defines XML model be used to deposit data escrow
   objects. The XML model includes all the deposit information (meta-
   data and data) in an XML document. The definition of the XML format
   is fully defined in the XML schemas. As a convention, the objects
   represented using the XML model are referenced using INDE and an XML
   namespace that is prefixed with "inde". For example, the SLN
   enterprise registration information represented using the XML model
   can be referred to as the INDE Node with the XML namespace including
   indeNode (urn:ietf:params:xml:ns:indeNode-1.0).






Wu, et al.              Expires June 18, 2021                 [Page 3]

Internet-Draft             IIIN-Data-Escrow              December 2020


3. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

   SECOND-LEVEL NODE (SLN).  In the context of this draft the definition
   will indicate an organization providing Registry Services for a
   second level identifier.

   REGISTRY SERVICES.  Services offered by the SLN critical to the
   following tasks: responding to enterprise node queries for status
   information relating to the servers for identifier; responding to
   queries for enterprise information concerning identifier
   registrations in the SLN. Any other products or services that only
   an SLN is capable of providing by reason of its designation as a
   SLN. Typical example of Services is: Identifier Resolving.

4. General Conventions

4.1. Date and Time

   Numerous fields indicate "dates", such as the creation and expiry
   dates for objects.  These fields SHALL contain timestamp indicating
   the date and time in UTC, specified in Internet Date/Time Format
   (see [RFC3339], Section 5.6) with the time-offset specified as "Z".

4.2. IP Address

   The syntax for IPv4 addresses described in this document MUST
   conform to [RFC5730].  The syntax for IPv6 addresses described in
   this document MUST conform to [RFC4291].  Practical considerations
   for publishing IPv6 address information in zone files are documented
   in [RFC2874] and [RFC3596].  A server MAY reject IP addresses that
   have not been allocated for public use by IANA.

4.3. Country names

   Country identifiers SHALL be represented using two characters
   identifiers as specified in [ISO-3166-1].

4.4. Telephone numbers

   Telephone numbers (both voice and facsimile) SHALL be formatted
   based on structures defined in [ITU-E164]. Telephone numbers


Wu, et al.              Expires June 18, 2021                 [Page 4]

Internet-Draft             IIIN-Data-Escrow              December 2020


   described in this specification are character strings that MUST
   begin with a plus sign ("+", ASCII value 0x002B), followed by a
   country code defined in [ITU-E164], followed by a dot (".", ASCII
   value 0x002E), followed by a sequence of digits representing the
   telephone number.

4.5. Internationalized and Localized Elements

   Some elements MAY be provided in either internationalized form
   ("int") or provided in localized form ("loc"). This MAY override the
   form specified for a parent element. A value of "int" is used to
   indicate the internationalized form and a value of "loc" is used to
   indicate the localized form. When the internalized form ("int") is
   provided, the field value MUST be represented in a subset of UTF-8
   that can be represented in the 7-bit US-ASCII character set. When
   the localized form ("loc") is provided, the field value MAY be
   represented in unrestricted UTF-8.

5. Object Description

   This section describes the base objects supported by this
   specification:

5.1. Node Object

   The node object represents the enterprise registration information
   of a Second-level Node or Enterprise-level Node, and this element
   supports XML Model.

5.1.1. XML Model

   There are two elements used in the data escrow in the node objects
   of the XML model including the <indeNode:node>, under the
   <inde:contents> element, and the <indeNode:delete> element, under
   the <inde:deletes> element.

   A <indeNode:node> element substitutes for the
   <indeNode:abstractNode> abstract element to define a concrete
   definition of a identifier node. The <indeNode:abstractNode> element
   can be replaced by other node definitions using the XML schema
   substitution groups feature.

5.1.1.1. <indeNode:node> element

   The <node> element contains a "type" attribute to identify the node
   is a Second-level Node or Enterprise-level Node. If a Second-level
   Node (type="sec") is provided, element content MUST be Second-level


Wu, et al.              Expires June 18, 2021                 [Page 5]

Internet-Draft             IIIN-Data-Escrow              December 2020


   Node information. If an Enterprise-level Node (type="ent") is
   provided, element content be Enterprise-level Node information. The
   <node> element contains the following child elements:

   o A <prefix> element contains the node-unique identifier of the
      node object.

   o A <name> element contains the name of the enterprise.

   o A <nature> element contains the enterprise nature.

   o An <addr> element contains the enterprise address information.
      This element content MUST be represented in a subset of UTF-8
      that can be represented in the 7-bit US-ASCII character set. The
      <addr> element contains the following child elements:

         One, or two OPTIONAL <street> elements contain the enterprise's
         street address

         A <city> element contains the enterprise's city.

         An OPTIONAL <sp> element contains the enterprise's state or
         province.

         A <cc> element contains the enterprise's two-letter country
         code.

   o Zero or more <ipAddr> elements that contain enterprise's IP
      address. The <ipAddr> element contains the following child
      elements:

         An <ip> element contains the IP address.

         A <port> element contains the network port.

   o A <cred> element. A required "type" attribute is used to identify
      the credentials owner: Enterprise or Enterprise Legal Person. If
      a (type="ent") is provided, element content MUST be enterprise's
      credentials type.  If a (type="leg") is provided, element content
      MUST be enterprise's legal person credentials type. The <cred>
      element contains the following child elements:

         A <credType> element contains the credentials Type.

         A <credNo> element contains the credentials Number.

   o A <legName> element contains the enterprise legal person Name.


Wu, et al.              Expires June 18, 2021                 [Page 6]

Internet-Draft             IIIN-Data-Escrow              December 2020


   o A <profile> element contains the enterprise's brief introduction.

   o A <contact> element contains the enterprise's contact
      information. The <contact> element contains the following child
      elements:

         A <name> element contains the contact name.

         A <phone> element that contains the contact phone.

         A <email> element that contains the contact email address.

   o A <crDate> element contains the enterprise's node register date.

   o Zero or One <upDate> element contains the enterprise's node
      information update date.

   Example of <node> object:

     ...

      <indeNode:node type="sec">

        <indeNode:prefix>86.100</indeNode:prefix>

        <indeNode:name>CAICT</indeNode:name>

        <indeNode:nature>Research Institute</indeNode:nature>

        <indeNode:addr>

           <indeNode:street>Gaozhang Road</indeNode:street>

           <indeNode:street>No.52 Huayuan North Road

           </indeNode:street>

           <indeNode:city>Beijing</indeNode:city>

           <indeNode:sp>Beijing</indeNode:sp>

           <indeNode:cc>CN</indeNode:cc>

        </indeNode:addr>

        <indeNode:ipAddr>



Wu, et al.              Expires June 18, 2021                 [Page 7]

Internet-Draft             IIIN-Data-Escrow              December 2020


           <inedNode:ip>10.23.23.2</indeNode:ip>

           <indeNode:port>8080</indeNode:port>

        </indeNode:ipAddr>

        <indeNode:ipAddr>

           <inedNode:ip>10.23.23.1</indeNode:ip>

           <indeNode:port>8081</indeNode:port>

        </indeNode:ipAddr>

        <indeNode:cred type="ent">

          <indeNode:credTyp>BusinessLicense</indeNode:credTyp>

          <indeNode:credNo>62072231123451</indeNode:credNo>

        </indeNode:cred>

        <indeNode:cred type="leg">

          <indeNode:credTyp>ChineseIDCard</indeNode:credTyp>

          <indeNode:credNo>121333343243223335</indeNode:credNo>

        </indeNode:cred>

        <indeNode:legaName>San.Zhang</indeNode:legName>

        <indeNode:profile>

        It is the driving force of industrial development to undertake
        the top node and the bridge of enterprises

       </indeNode:profile>

       <indeNode:cotact>

         <inedNode:name>Jonh</indeNode:name>

         <indeNode:phone>15911112222</indeNode:phone>

         <indeNode:email>123@123.com</indeNode:email>



Wu, et al.              Expires June 18, 2021                 [Page 8]

Internet-Draft             IIIN-Data-Escrow              December 2020


       </indeNode:cotact>

       <indeNode:crDate>2019-12-11T11:49:00.0Z</indeNode:crDate>

       <indeNode:upDate>2019-12-12T17:51:00.0Z</indeNode:upDate>

     </indeNode:node>

     ...

5.1.1.2. <indeNode:delete> object

   The <indeNode:delete> element contains the SLN identifier that was
   deleted.

   Example of <indeNode:delete> object:

      ...

      <inde:deletes>

        ...

        <indeNode:delete>

          <indeNode:prefix>86.200.2</indeNode:prefix>

        </indeNode:delete>

        <indeNode:delete>

          <indeNode:prefix>86.200.1</indeNode:prefix>

        </indeNode:delete>

        ...

      </inde:deletes>

      ...

5.2. Header Object

   The Header Object is a pseudo-object that is used to specify the
   number of objects in the repository at a specific point in time
   (watermark) regardless of the type of deposit: differential or full.
   The Header Object may also be used to provide additional information


Wu, et al.              Expires June 18, 2021                 [Page 9]

Internet-Draft             IIIN-Data-Escrow              December 2020


   on the contents of the deposit. The Header Object is only defined as
   XML, but one header object MUST always be present per escrow deposit
   regardless of using XML Model. The Header Object is defined using
   the <indeHeader:header> element.

5.2.1. <indeHeader:header> object

   The <indeHeader:header> contains the following elements:

   o A choice of one of the elements defined in the
      "repositoryTypeGroup" group element that indicates the unique
      identifier for the repository being escrowed. Possible elements:

         A <indeHeader:slnp> element that defines Second-level Node
         Prefix being escrowed.

         A <indeHeader:node> element that defines Enterprise-level Node
         prefix registered in Second-level.

         A <indeHeader:reseller> element that defines the provider ID
         corresponding to a Reseller data escrow deposit.

   o A <count> element that contains the number of objects in the SLN
      System at a specific point in time (watermark) regardless of the
      type of deposit: differential or full. The <count> element
      supports the following attributes:

         An "uri" attribute to reflect the XML namespace URI of the
         primary objects of the XML Model. For example, the "uri" is set
         to "urn:ietf:params:xml:ns:indeNode-1.0" for Node objects using
         the XML Model.

         An OPTIONAL "inp" attribute indicates the identifier node
         prefix of the object included in the <count> element.

   o An PTIONAL <contentTag> element that contains a tag that defines
      the expected content in the deposit. The producer and consumer of
      the deposits will coordinate the set of possible <contentTag>
      element values

   Example of <indeHeader:header> object referencing only the XML Model
   objects:

      ...

      <indeHeader:header>



Wu, et al.              Expires June 18, 2021                [Page 10]

Internet-Draft             IIIN-Data-Escrow              December 2020


        <indeHeader:slnp>86.200</indeHeader:slnp>

        <indeHeader:count

          uri="urn:ietf:params:xml:ns:indeNode-1.0">2

        </indeHeader:count>

      </indeHeader:header>

      ...

6. Profile

   Different business models of SLN exist, therefore the SLN is
   responsible to define a profile that matches its particular business
   model. The profile mechanism allows an SLN to extend this
   specification.

   A profile is the process of:

   o Extending base objects with the mechanisms defined for XML model.

         For XML model, abstract elements could be used to extend the
         object <node> using XML schema substitution groups feature.

   o Adding new escrowed objects using the <inde:contents> and
      <inde:deletes> elements.

   o Providing the XML schemas to third parties that require them to
      validate the escrow deposits.

7. Data escrow agent extended verification process

   A Data Escrow Agent SHOULD perform an extended verification process
   that starts by creating a dataset to be tested.

   o If a full deposit is to be tested, the full deposit is the
      dataset.

   o If a differential deposit is to be tested, the dataset is created
      by using the differential deposit plus all the required deposits
      leading to the last previous full deposit.

   The following are the minimum suggested tests on the dataset:




Wu, et al.              Expires June 18, 2021                [Page 11]

Internet-Draft             IIIN-Data-Escrow              December 2020


   o Validate the escrow deposits using the definition agreed with the
      SLN.

         In the case of the XML model, the contents of the escrow
         deposits MUST be validated using the XML schemas of the
         profile.

   o Count the objects and validate that the number of objects is
      equal to the number objects reported in the <header> element of
      the escrow deposit of that point in time (watermark).

   o The elements listed as required in the <policy> element MUST be
      present.

   o Providing the XML schemas to third parties that require them to
      validate the escrow deposits.

   o The watermark is not in the future.

8. Formal Syntax

8.1. INDE Node Object

   Copyright (c) 2019 IETF Trust and the persons identified as authors
   of the code. All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

   o Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

   o Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in
      the documentation and/or other materials provided with the
      distribution.

   o Neither the name of Internet Society, IETF or IETF Trust, nor the
      names of specific contributors, may be used to endorse or promote
      products derived from this software without specific prior
      written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
   FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE


Wu, et al.              Expires June 18, 2021                [Page 12]

Internet-Draft             IIIN-Data-Escrow              December 2020


   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.

   BEGIN

     <?xml version="1.0" encoding="UTF-8"?>

      <schema targetNamespace="urn:ietf:params:xml:ns:indeNode-1.0"

        xmlns:indeNode="urn:ietf:params:xml:ns:indeNode-1.0"

        xmlns:inde="urn:ietf:params:xml:ns:inde-1.0"

        xmlns="http://www.w3.org/2001/XMLSchema"

        elementFormDefault="qualified">

        <!-- Import common element types. -->

        <import namespace="urn:ietf:params:xml:ns:indeNode-1.0"/>

        <import namespace="urn:ietf:params:xml:ns:inde-1.0"/>

        <annotation>

          <documentation>

         Identifier Second-level Node Data Escrow provisioning Schema

          </documentation>

        </annotation>

        <element name="abstractNode"

          type="indeNode:abstractContentType"

          substitutionGroup="inde:content" abstract="true"/>

        <element name="node"



Wu, et al.              Expires June 18, 2021                [Page 13]

Internet-Draft             IIIN-Data-Escrow              December 2020


          substitutionGroup="indeNode:abstractNode"/>

        <element name="delete" type="indeNode:deleteType"

          substitutionGroup="inde:delete"/>

        <!-- Content Type -->

        <complexType name="abstractContentType">

          <complexContent>

            <extension base="inde:contentType">

              <sequence>

                <element name="prefix"

                  type="indeNode:prefixType"/>

                <element name="name"

                  type="indeNode:nameType"/>

                <element name="nature"

                  type="indeNode:natureType"/>

                <element name="addr"

                  type="indeNode:addrType/>

                <element name="ipAddr"

                  type="indeNode:ipAddrType"/>

                <element name="cred"

                  type="indeNode:credType"/>

                <element name="credType"

                  type="indeNode:credTypeType"/>

                <element name="credNo"

                  type="indeNode:credNoType"/>


Wu, et al.              Expires June 18, 2021                [Page 14]

Internet-Draft             IIIN-Data-Escrow              December 2020


                <element name="legName"

                  type="indeNode:nameType"/>

                <element name="profile"

                  type="indeNode:profileType"/>

                <element name="contact"

                  type="indeNode:contactType"/>

                <element name="crDate" type="dateTime"/>

                <element name="upDate" type="dateTime" minOccurs="0"/>

              </sequence>

            </extension>

          </complexContent>

        </complexType>

        <simpleType name=" prefixType">

          <restriction base="token">

            <pattern value="[A-Za-z1-9]+\.[A-Za-z0-9]+"/>

            <enumeration value="86.100"/>

          </restriction>

        </simpleType>

        <simpleType name="nameType">

          <restriction base="normalizedString">

            <minLength value="1" />

            <maxLength value="255" />

          </restriction>

        </simpleType>


Wu, et al.              Expires June 18, 2021                [Page 15]

Internet-Draft             IIIN-Data-Escrow              December 2020


        <simpleType name="natureType">

          <restriction base="normalizedString">

            <minLength value="1" />

            <maxLength value="512" />

          </restriction>

        </simpleType>

        <complexType name="addrType">

          <sequence>

            <element name="street"

              type="indeNode:streetType"

              minOccurs="1" maxOccurs="2" />

            <element name="city" type="indeNode:cityType" />

            <element name="sp"   type="indeNode:spType"/>

            <element name="cc"   type="indeNode:ccType" />

          </sequence>

        </complexType>

        <simpleType name="streetType">

          <restriction base="normalizedString">

            <minLength value="1" />

            <maxLength value="255" />

          </restriction>

        </simpleType>

        <simpleType name="cityType">

          <restriction base="normalizedString">


Wu, et al.              Expires June 18, 2021                [Page 16]

Internet-Draft             IIIN-Data-Escrow              December 2020


            <minLength value="1" />

            <maxLength value="255" />

          </restriction>

        </simpleType>

        <simpleType name="spType">

          <restriction base="normalizedString">

            <maxLength value="255" />

          </restriction>

        </simpleType>

        <simpleType name="ccType">

          <restriction base="token">

            <length value="2" />

          </restriction>

        </simpleType>

        <complexType name="ipAddrType">

          <sequence>

            <element name="ip" type="indeNode:ipType"/>

            <element name="port" type="indeNode:portType" />

          </sequence>

        </complexType>

       <simpleType name="ipType">

         <restriction base="token">

           <enumeration value="v4"/>

           <enumeration value="v6"/>


Wu, et al.              Expires June 18, 2021                [Page 17]

Internet-Draft             IIIN-Data-Escrow              December 2020


         </restriction>

       </simpleType>

       <simpleType name="portType">

          <restriction base="token">

            <pattern value="[1-9]+"/>

          </restriction>

        </simpleType>

        <complexType name=" credType">

          <attribute name="type"

            type="indeNode:credTypeEnumType" use="required" />

        </complexType>

        <simpleType name="credTypeEnumType ">

         <restriction base="token">

           <enumeration value="ent"/>

           <enumeration value="leg"/>

         </restriction>

        </simpleType>

        <complexType name=" credTypeType">

          <restriction base="token">

            <enumeration value="ChineseIDCard"/>

            <enumeration value="passport"/>

            <enumeration
             value="MainlandTravelPermitForHongKongAndMacaoResidents"/>

            <enumeration
             value="MainlandTravelPermitForTaiwanResidents"/>


Wu, et al.              Expires June 18, 2021                [Page 18]

Internet-Draft             IIIN-Data-Escrow              December 2020


            <enumeration
             value="ResidencePermitForHongKongMacaoTaiwanResidents"/>

           <enumeration value="BusinessLicense"/>

           <enumeration value="TaxCertificate"/>

           <enumeration value="OrganizationCodeCertificate"/>

           <enumeration value="SafetyProductionLicense"/>

           <enumeration
            value="ProductionLicenseOrLicenseOfIndustrialProducts"/>

          </restriction>

        </complexType>

        <simpleType name="credNoType">

          <restriction base="normalizedString">

            <maxLength value="255"/>

          </restriction>

        </simpleType>

        <simpleType name="profileType">

          <restriction base="normalizedString">

            <maxLength value="2048" />

          </restriction>

        </simpleType>

        <complexType name="contactType">

          <sequence>

            <element name="name" type="indeNode:nameType"/>

            <element name="phone" type="indeNode:minTokenType" />

            <element name="email" type="indeNode:minTokenType"/>


Wu, et al.              Expires June 18, 2021                [Page 19]

Internet-Draft             IIIN-Data-Escrow              December 2020


          </sequence>

        </complexType>

        <simpleType name="minTokenType">

          <restriction base="token">

            <minLength value="1"/>

          </restriction>

        </simpleType>

        <!-- Delete Type -->

        <complexType name="deleteType">

          <complexContent>

            <extension base="inde:deleteType">

              <sequence>

                <element name="prefix"

                  type="indeNode:prefixType" minOccurs="0"

                  maxOccurs="unbounded"/>

              </sequence>

            </extension>

          </complexContent>

        </complexType>

      </schema>

     END

8.2. Header Object

   Copyright (c) 2019 IETF Trust and the persons identified as authors
   of the code. All rights reserved.



Wu, et al.              Expires June 18, 2021                [Page 20]

Internet-Draft             IIIN-Data-Escrow              December 2020


   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

   o Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

   o Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in
      the documentation and/or other materials provided with the
      distribution.

   o Neither the name of Internet Society, IETF or IETF Trust, nor the
      names of specific contributors, may be used to endorse or promote
      products derived from this software without specific prior
      written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
   FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.

   BEGIN

   <?xml version="1.0" encoding="UTF-8"?>

      <schema targetNamespace="urn:ietf:params:xml:ns:indeHeader-1.0"

        xmlns:indeHeader="urn:ietf:params:xml:ns:indeHeader-1.0"

        xmlns:inde="urn:ietf:params:xml:ns:inde-1.0"

        xmlns="http://www.w3.org/2001/XMLSchema"

        elementFormDefault="qualified">

        <import namespace="urn:ietf:params:xml:ns:inde-1.0"/>

        <annotation>


Wu, et al.              Expires June 18, 2021                [Page 21]

Internet-Draft             IIIN-Data-Escrow              December 2020


          <documentation>

            Identifier Second-level Node Escrow Deposit Header Schema

          </documentation>

        </annotation>

        <!-- Root Element -->

        <element name="header" type="indeHeader:contentType"

          substitutionGroup="inde:content"/>

        <!-- Content Type -->

        <complexType name="contentType">

          <complexContent>

            <extension base="inde:contentType">

              <sequence>

               <group ref="indeHeader:repositoryTypeGroup"/>

               <element name="count" type="indeHeader:countType"

                 maxOccurs="unbounded"/>

               <element name="contentTag" type="token" minOccurs="0"/>

              </sequence>

            </extension>

          </complexContent>

        </complexType>

        <group name="repositoryTypeGroup">

          <choice>

            <element name="prefix" type="indeNode:prefixType" />

            <element name="ppsp" type="token"/>


Wu, et al.              Expires June 18, 2021                [Page 22]

Internet-Draft             IIIN-Data-Escrow              December 2020


            <element name="reseller" type="token"/>

          </choice>

        </group>

        <complexType name="countType">

          <simpleContent>

            <extension base="long">

              <attribute name="uri" type="anyURI" use="required"/>

              <attribute name="slnp" type="prefixType"/>

            </extension>

          </simpleContent>

        </complexType>

      </schema>

   END

9. Internationalization Considerations

   Data escrow deposits are represented in XML, which provides native
   support for encoding information using the Unicode character set and
   its more compact representations including UTF-8.  Conformant XML
   processors recognize both UTF-8 and UTF-16.  Though XML includes
   provisions to identify and use other character encodings through use
   of an "encoding" attribute in an <?xml?> declaration, use of UTF-8
   is RECOMMENDED.

10. Security Considerations

   This specification does not define the security mechanisms to be
   used in the transmission of the data escrow deposits, since it only
   specifies the minimum necessary to enable the rebuilding of an IIIN
   from deposits without intervention from the original IIIN.

   Depending on local policies, some elements or most likely, the whole
   deposit will be considered confidential.  As such the IIIN
   transmitting the data to the escrow agent SHOULD take all the



Wu, et al.              Expires June 18, 2021                [Page 23]

Internet-Draft             IIIN-Data-Escrow              December 2020


   necessary precautions like encrypting the data itself and/or the
   transport channel to avoid inadvertent disclosure of private data.

   It is also of the utmost importance the authentication of the
   parties passing data escrow deposit files. The escrow agent SHOULD
   properly authenticate the identity of the IIIN before accepting data
   escrow deposits. In a similar manner, the IIIN SHOULD authenticate
   the identity of the escrow agent before submitting any data.

   Additionally, the IIIN and the escrow agent SHOULD use integrity
   checking mechanisms to ensure the data transmitted is what the
   source intended.  Validation of the contents by the escrow agent is
   RECOMMENDED to ensure not only the file was transmitted correctly
   from the IIIN, but also the contents are also "meaningful".

11. IANA Considerations

   This document uses URNs to describe XML namespaces and XML schemas
   conforming to a registry mechanism described in [RFC3688]. Four URI
   assignments need to be registered by the IANA.

   Registration request for the INDE namespace:

       URI: urn:ietf:params:xml:ns:indeNode-1.0

       URI: urn:ietf:params:xml:ns:indeHeader-1.0

      Registrant Contact: See the "Author's Address" section of this
   document.

      XML: None.  Namespace URIs do not represent an XML specification.

   Registration request for the INDE XML schema:

      URI: urn:ietf:params:xml:schema:indeNode-1.0

      URI: urn:ietf:params:xml:schema:indeHeader-1.0

      Registrant Contact: See the "Author's Address" section of this
   document.

      XML: See the "Formal Syntax" section of this document.

12. Privacy Considerations

   This specification defines a format that may be used to escrow
   personal data. The process of data escrow is governed by a legal


Wu, et al.              Expires June 18, 2021                [Page 24]

Internet-Draft             IIIN-Data-Escrow              December 2020


   document agreed by the parties, and such legal document must
   regulate the particularities regarding the protection of personal
   data.

13. Example of a full deposit using the XML model

   <?xml version="1.0" encoding="UTF-8"?>

      <inde:deposit type="FULL" id="20191222001" prevId="20191215001"

        xmlns:inde="urn:ietf:params:xml:ns:inde-1.0"

        xmlns:indeHeader="urn:ietf:params:xml:ns:indeHeader-1.0"

        xmlns:indeNode="urn:ietf:params:xml:ns:indeNode-1.0">

        <inde:watermark>2019-12-22T00:00:00Z</inde:watermark>

        <inde:indeMenu>

          <inde:version>1.0</inde:version>

          <inde:objURI>urn:ietf:params:xml:ns:indeHeader-1.0

          </inde:objURI>

          <inde:objURI>urn:ietf:params:xml:ns:indeNode-1.0

          </inde:objURI>

        </inde:indeMenu>

        <!-- Contents -->

        <inde:contents>

          <!-- Header -->

          <indeHeader:header>

            <indeHeader:prefix>86.100</indeHeader:prefix>

            <indeHeader:count

              uri="urn:ietf:params:xml:ns:indeNode-1.0">2

            </indeHeader:count>


Wu, et al.              Expires June 18, 2021                [Page 25]

Internet-Draft             IIIN-Data-Escrow              December 2020


        </indeHeader:header>

        <!--SLN -->

        <indeNode:node type="sec">

        <indeNode:prefix>86.100</indeNode:prefix>

        <indeNode:name>CAICT</indeNode:name>

        <indeNode:nature>Research Institute</indeNode:nature>

        <indeNode:addr>

           <indeNode:street>ChangAn Road</indeNode:street>

           <indeNode:street>HuaYuan Road</indeNode:street>

           <indeNode:city>Beijing</indeNode:city>

           <indeNode:sp>Beijing</indeNode:sp>

           <indeNode:cc>CN</indeNode:cc>

        </indeNode:addr>

        <indeNode:ipAddr>

          <inedNode:ip>10.23.23.2</indeNode:ip>

          <indeNode:port>8080</indeNode:port>

        </indeNode:ipAddr>

        <indeNode:ipAddr>

          <inedNode:ip>10.23.23.1</indeNode:ip>

          <indeNode:port>8081</indeNode:port>

        </indeNode:ipAddr>

        <indeNode:cred type="ent">

           <indeNode:credType>BusinessLicense</indeNode:credType>

           <indeNode:credNo>62072231123451</indeNode:credNo>


Wu, et al.              Expires June 18, 2021                [Page 26]

Internet-Draft             IIIN-Data-Escrow              December 2020


        </indeNode:cred>

        <indeNode:cred type="leg">

           <indeNode:credType>ChineseIDCard</indeNode:credType>

           <indeNode:credNo>121333343243223335</indeNode:credNo>

        </indeNode:cred>

       <indeNode:legaName>San.Zhang</indeNode:legName>

       <indeNode:profile> It is the driving force of industrial
        development to undertake the top node and the bridge of
        enterprises

       </indeNode:profile>

      <indeNode:cotact>

        <inedNode:name>Jonh</indeNode:name>

        <indeNode:phone>15911112222</indeNode:phone>

        <indeNode:email>123@123.com</indeNode:email>

        </indeNode:cotact>

        <indeNode:crDate>2019-11-23T11:49:00.0Z</indeNode:crDate>

        <indeNode:upDate>2019-12-12T17:51:00.0Z</indeNode:upDate>

      </indeNode:node>

       <!--ELN -->

      <indeNode:node type="ent">

        <indeNode:prefix>86.100.1</indeNode:prefix>

        <indeNode:name>Tele</indeNode:name>

        <indeNode:nature>Research Institute</indeNode:nature>

        <indeNode:addr>

           <indeNode:street>ChangAn Road</indeNode:street>


Wu, et al.              Expires June 18, 2021                [Page 27]

Internet-Draft             IIIN-Data-Escrow              December 2020


           <indeNode:street>HuaYuan Road</indeNode:street>

           <indeNode:city>Beijing</indeNode:city>

           <indeNode:sp>Beijing</indeNode:sp>

           <indeNode:cc>CN</indeNode:cc>

        </indeNode:addr>

        <indeNode:ipAddr>

          <inedNode:ip>10.23.21.1</indeNode:ip>

          <indeNode:port>8080</indeNode:port>

        </indeNode:ipAddr>

        <indeNode:ipAddr>

          <inedNode:ip>10.23.23.1</indeNode:ip>

          <indeNode:port>8081</indeNode:port>

        </indeNode:ipAddr>

       <indeNode:cred type="ent">

           <indeNode:credType>BusinessLicense</indeNode:credType>

           <indeNode:credNo>62072231124321</indeNode:credNo>

       </indeNode:cred>

       <indeNode:cred type="leg">

          <indeNode:credTyp>ChineseIDCard</indeNode:credTyp>

          <indeNode:credNo>1213333432431213456</indeNode:credNo>

       </indeNode:cred>

       <indeNode:legaName>San.Zhang</indeNode:legName>

       <indeNode:profile> It is the driving force of industrial
        development to undertake the top node and the bridge of
        enterprises


Wu, et al.              Expires June 18, 2021                [Page 28]

Internet-Draft             IIIN-Data-Escrow              December 2020


       </indeNode:profile>

        <indeNode:cotact>

          <inedNode:name>Jonh</indeNode:name>

          <indeNode:phone>15911114321</indeNode:phone>

           <indeNode:email>1233@123.com</indeNode:email>

        </indeNode:cotact>

        <indeNode:crDate>2019-04-23T11:49:00.0Z</indeNode:crDate>

        <indeNode:upDate>2019-12-12T17:51:00.0Z</indeNode:upDate>

        </indeNode:node>

        </inde:contents>

      </inde:deposit>

14. Example of differential deposit using the XML model

     <?xml version="1.0" encoding="UTF-8"?>

      <inde:deposit type="DIFF" id="20191222002" prevId="20191221002"

        xmlns:inde="urn:ietf:params:xml:ns:inde-1.0"

        xmlns:indeHeader="urn:ietf:params:xml:ns:indeHeader-1.0"

        xmlns:indeNode="urn:ietf:params:xml:ns:indeNode-1.0">

        <inde:watermark>2019-12-22T00:00:00Z</inde:watermark>

        <inde:indeMenu>

          <inde:version>1.0</inde:version>

          <inde:objURI>urn:ietf:params:xml:ns:indeHeader-1.0

          </inde:objURI>

          <inde:objURI>urn:ietf:params:xml:ns:indeNode-1.0

        </inde:indeMenu>


Wu, et al.              Expires June 18, 2021                [Page 29]

Internet-Draft             IIIN-Data-Escrow              December 2020


        <!-- Deletes -->

        <inde:deletes>

          <indeNode:delete>

            <indeNode:prefix>86.200</indeNode:prefix>

          </indeNode:delete>

        </inde:deletes>

        <!-- Contents -->

        <inde:contents>

          <!-- Header -->

          <indeHeader:header>

            <indeHeader:prefix>86.202</indeHeader:prefix>

            <indeHeader:count

              uri="urn:ietf:params:xml:ns:indeNode-1.0">1

              </indeHeader:count>

          </indeHeader:header>

          <!--SLN -->

          <indeNode:node type="sec">

          <indeNode:prefix>86.202</indeNode:prefix>

          <indeNode:name>CAICT</indeNode:name>

          <indeNode:nature>Research Institute</indeNode:nature>

          <indeNode:addr>

            <indeNode:street>ChangAn Road</indeNode:street>

            <indeNode:city>Beijing</indeNode:city>

            <indeNode:sp>Beijing</indeNode:sp>


Wu, et al.              Expires June 18, 2021                [Page 30]

Internet-Draft             IIIN-Data-Escrow              December 2020


            <indeNode:cc>CN</indeNode:cc>

         </indeNode:addr>

         <indeNode:ipAddr>

           <inedNode:ip>10.23.23.2</indeNode:ip>

           <indeNode:port>8080</indeNode:port>

         </indeNode:ipAddr>

         <indeNode:ipAddr>

           <inedNode:ip>10.23.23.1</indeNode:ip>

           <indeNode:port>8081</indeNode:port>

         </indeNode:ipAddr>

         <indeNode:cred type="ent">

           <indeNode:credType>BusinessLicense</indeNode:credType>

           <indeNode:credNo>62072231123451</indeNode:credNo>

        </indeNode:cred>

        <indeNode:cred type="leg">

           <indeNode:credTyp>ChineseIDCard</indeNode:credTyp>

           <indeNode:credNo>121333343243223335</indeNode:credNo>

        </indeNode:cred>

       <indeNode:legaName>San.Zhang</indeNode:legName>

        <indeNode:profile> It is the driving force of industrial
        development to undertake the top node and the bridge of
        enterprises

       </indeNode:profile>

       <indeNode:cotact>

          <inedNode:name>Jonh</indeNode:name>


Wu, et al.              Expires June 18, 2021                [Page 31]

Internet-Draft             IIIN-Data-Escrow              December 2020


          <indeNode:phone>15911112222</indeNode:phone>

          <indeNode:email>123@123.com</indeNode:email>

       </indeNode:cotact>

       <indeNode:crDate>2019-04-23T11:49:00.0Z</indeNode:crDate>

       <indeNode:upDate>2019-12-12T17:51:00.0Z</indeNode:upDate>

    </indeNode:node>

   </inde:contents>

 </inde:deposit>

15. References

15.1. Normative References

   [ISO-3166-1] 3166, I. S., "Codes for the representation of names of
                countries and their subdivisions -- Part 1: Country
                codes", ISO Standard 3166, November 2006.

   [ITU-E164] International Telecommunication Union, "The international
             public telecommunication numbering plan", ITU-T
             Recommendation E.164, February 2005.

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
            Requirement Levels", BCP 14, RFC 2119, DOI 10.17487/RFC2119,
             March 1997, <https://www.rfc-editor.org/info/rfc2119>.
    [RFC3339] Klyne, G. and C. Newman, "Date and Time on the Internet:
              Timestamps", RFC 3339, DOI 10.17487/RFC3339, July 2002,
              <https://www.rfc-editor.org/info/rfc3339>.
   [RFC8174] Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC 2119
             Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
             May 2017, <https://www.rfc-editor.org/info/rfc8174>.
15.2. Informative References

   [RFC3688] Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
              DOI 10.17487/RFC3688, January 2004,
              <https://www.rfc-editor.org/info/rfc3688>.
  [RFC4291] Hinden, R. and S. Deering, "IP Version 6 Addressing
             Architecture", RFC 4291, February 2006.
  [RFC5730] Hollenbeck, S., "Extensible Provisioning Protocol (EPP)",


Wu, et al.              Expires June 18, 2021                [Page 32]

Internet-Draft             IIIN-Data-Escrow              December 2020


             STD 69, RFC 5730, August 2009.
  [RFC2874] Crawford, M. and C. Huitema, "DNS Extensions to Support
            IPv6 Address Aggregation and Renumbering", RFC 2874, July
            2000.
  [RFC3596] Thomson, S., Huitema, C., Ksinant, V., and M. Souissi,
            "DNS Extensions to Support IP Version 6", RFC 3596,
             October 2003.
     16. Acknowledgments

   This document reference draft [draft-ietf-regext-data-escrow-03],
   thus, would like to thank the draft author G. Lozano. And would like
   to thank X. Fan, J. Chen, C. Ma, M. Chen, Z. Li who provided special
   important suggestions and invaluable comments. This document was
   prepared using 2-Word-v2.0.template.dot.

Authors' Addresses

   Hongjie Wu
   CAICT
   No.52 Huayuan North Road, Haidian District
   Beijing, Beijing, 100191
   China

   Phone: +86 186 0106 5934
   Email: wuhongjie@caict.ac.cn


   Jian Chen
   CAICT
   No.52 Huayuan North Road, Haidian District
   Beijing, Beijing, 100191
   China

   Phone: +86 138 1103 3332
   Email: chenjian3@caict.ac.cn


   Xiaotian Fan
   CAICT
   No.52 Huayuan North Road, Haidian District
   Beijing, Beijing, 100191
   China

   Phone: +86 134 0108 6945
   Email: fanxiaotian@caict.ac.cn



Wu, et al.              Expires June 18, 2021                [Page 33]

Internet-Draft             IIIN-Data-Escrow              December 2020


   Meilan Chen
   CAICT
   No.52 Huayuan North Road, Haidian District
   Beijing, Beijing, 100191
   China

   Phone: +86 139 1143 7301
   Email: chenmeilan@caict.ac.cn


   Zhiping Li
   CAICT
   No.52 Huayuan North Road, Haidian District
   Beijing, Beijing, 100191
   China

   Phone: +86 185 1107 1386
   Email: lizhiping@caict.ac.cn






























Wu, et al.              Expires June 18, 2021                [Page 34]

