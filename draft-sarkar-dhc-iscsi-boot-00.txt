





IPS                                                   Prasenjit Sarkar
Internet Draft                                                     IBM
Document: draft-sarkar-dhc-iscsi-boot-00.txt Category: Standards Track


                                                        27 August 2001


             Qualifying the Root Path Option for iSCSI Boot

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026 [3].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.
   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or made obsolete by other documents at
   any time. It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."  The list
   of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt The list of Internet-Draft
   Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Abstract

   The Small Computer Systems Interface (SCSI) is a popular family of
   protocols for communicating with I/O devices, especially storage
   devices.  iSCSI is a proposed transport protocol for SCSI that
   operates on top of TCP[4].  The iSCSI Boot Draft[5] is an
   informational draft that provides information on the mechanisms
   employed by an iSCSI boot client to locate and boot off an iSCSI boot
   server. This memo describes the mechanism by which an iSCSI boot
   client can obtain the identity of an iSCSI boot server using the DHCP
   service.

1. DHCP Option

   In order to use an iSCSI boot server, the following pieces of
   information are required.

   - The IP address of the iSCSI boot client (IPv4 or IPv6)

   - The IP transport endpoint for the iSCSI service delivery port for
   the iSCSI boot server.  If the transport is TCP, for example, this



Sarkar                   Expires: February 2002                 [Page 1]





Standards-Track          iSCSI Boot DHCP Option           27 August 2001


   has to resolve to an IP address and a TCP port number.

   - The eight-byte LUN structure identifying the device within the
   iSCSI boot server.

   At boot time, all or none of this information may be stored in the
   firmware of the iSCSI boot client. This section describes techniques
   for obtaining the required information pertaining to the iSCSI boot
   server.

   A DHCP server (v4 or v6) may instruct an iSCSI client how to reach
   its boot device. This is done using the variable length DHCP option
   named Root Path. The use of the option field is reserved for iSCSI
   boot use by prefacing the string with "iscsi:".

   The option field consists of an UTF-8[8] string. The string MUST
   contain only alphanumberic characters, "." , ":" and "-"; no other
   characters are permissible. The string has the following composition:

   iscsi:<servername>[":"<protocol>[":"<port>[":"<LUN>[":"<wwui>]]]]

   The fields "port", "protocol" and "LUN" are optional and should be
   left blank if there are no corresponding values. In addition, one or
   both of "servername" and "wwui" should be specified. As before, if
   either of the two fields is not specified, then the field should be
   left blank.

   Thv "servername" is the name of iSCSI server and contains either a
   valid domain name, a literal IPv4 address, or a literal IPv6 address.

   If the "servername" field contains a literal IPv4 address, the IPv4
   address is in standard dotted decimal notation as defined in Section
   2.1 of RFC 1123[6].

   If the "servername" field contains an IPv6 address, the address is
   represented in the IPv6 address format x.x.x.x.x.x.x.x where the 'x's
   are the hexadecimal values of the eight 16-bit pieces of the address.
   Note that this format representation is specific to iSCSI boot.

   If the "servername" is a domain name, the name MUST be a fully
   qualified domian name (FQDN) and SHOULD abide by the rules specified
   in Sections 3.1 and 3.5 of RFC 1034[7] and the reply from the host
   configuration server SHOULD contain the Domain Name Server Option[1].
   It must also be pointed out that the use of DNS for address
   translation in enterprise environments must contain adequate levels
   of fault tolerance and security.

   If the "servername" field contains 4 decimal components, the



Sarkar                   Expires: February 2002                 [Page 2]





Standards-Track          iSCSI Boot DHCP Option           27 August 2001


   "servername" is assumed to be an IPv4 address. If there are more than
   4 decimal components or if there is a hexadecimal component, the the
   "servername" is assumed to be an IPv6 address. If the least
   significant (rightmost) component is an approved domain extension,
   then the "servername" field is assumed to be a domain name.

   If the "servername" field is left blank, then no default value is
   assumed in its place.

   The "protocol" field is the decimal representation of the IANA-
   approved string for the trasport protocol to be used for iSCSI. If
   the protocol field is left bank, the default value is assumed to be
   "6" for TCP.  The transport protocol MUST have been approved for use
   in iSCSI; currently, the only approved protocol is TCP.

   The "port" is the decimal representation of the port on which the
   iSCSI boot server is listening. If not specified, the port defaults
   to the well-known iSCSI port.

   The "LUN" field is a 16 byte hexadecimal representation of the 8-byte
   LU number in hex. Digits above 9 may be either lower or upper case,
   and all 16 nibbles must be present. If the LUN field is blank, then
   LUN 0 is assumed.

   Note that SCSI targets are allowed to present different LU numberings
   for different SCSI initiators, so that to our knowledge nothing
   precludes a SCSI target from exporting several different devices to
   several different SCSI initiators as their respective LU 0s.

   The "wwui" field is the World Wide Unique Identifier (WWUI) defined
   by the naming and discovery iSCSI draft[9] to uniquely identify an
   iSCSI target.  The use of the wwui component is also defined by the
   iSCSI standard[4] and is to be used accordingly.

Acknowledgments

   I wish to thank David Black and Glen Turner for assisting with the
   formulation of this draft.

References


   [1] Alexander, S., and R. Droms, "DHCP Options and BOOTP Vendor
          Extensions", RFC 2132, Lachman Technology, Inc., Bucknell
          University, October 1993.

   [2] R. Droms, "Dynamic Host Configuration Protocol", RFC 2131,
          Bucknell University, March 1997.



Sarkar                   Expires: February 2002                 [Page 3]





Standards-Track          iSCSI Boot DHCP Option           27 August 2001


   [3] Bradner, S., "The Internet Standards Process --
         Revision 3", RFC 2026, October 1996.

   [4] Satran, J. et al., "iSCSI", Internet-Draft, July 2001.

   [5] Sarkar, P. et al., "Bootstrapping clients using the iSCSI
   protocol", Internet-Draft, February 2001.

   [6] Braden, R., "Requirements for Internet Hosts - Application and
   Support", RFC 1123, October 1989.

   [7] Mockaopertis, P., "Domain Names - Concepts and Facilities", RFC
   1034, November 1987.

   [8] Yergeau, F., "UTF-8: A Transformation Format for ISO-10646", RFC
   2279, January 1998.

   [9] Bakke, M. et al., "iSCSI Naming and Discovery", Internet-Draft,
        July 2001.

Author's Address

   Prasenjit Sarkar
   IBM Almaden Research Center
   650 Harry Road
   San Jose, CA 95120, USA
   Phone: +1 408 927 1417
   Email: psarkar@almaden.ibm.com

Full Copyright Statement

   "Copyright (C) The Internet Society (date). All Rights Reserved. This
   document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.



Sarkar                   Expires: February 2002                 [Page 4]





Standards-Track          iSCSI Boot DHCP Option           27 August 2001


   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."













































Sarkar                   Expires: February 2002                 [Page 5]


