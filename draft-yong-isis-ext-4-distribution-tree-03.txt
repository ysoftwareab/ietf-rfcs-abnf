Network Working Group                                          L. Yong
Internet Draft                                                  W. Hao
                                                            D. Eastlake
Category: Standard Track                                         Huawei
                                                                 A. Qu
                                                               MetiaTek
                                                              J. Hudson
                                                                Brocade
                                                            U. Chunduri
                                                               Ericsson


Expires: April 2015                                  October 27, 2014


         IS-IS Protocol Extension For Building Distribution Trees
                draft-yong-isis-ext-4-distribution-tree-03

Abstract

   This document proposes an IS-IS protocol extension to support IGP
   based multicast transport architecture and solution [IGP-MCAST].


Status of this document

   This Internet-Draft is submitted to IETF in full conformance with
   the provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on April 27, 2015.






Yong, et al                                                    [Page 1]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document.


Table of Contents


   1. Introduction...................................................3
      1.1. Conventions used in this document.........................3
   2. IS-IS Protocol Extension.......................................3
      2.1. RTADDR sub-TLV............................................3
      2.2. RTADDRV6 sub-TLV..........................................5
      2.3. The Group Address Sub-TLV.................................6
   3. Security Considerations........................................7
   4. IANA Considerations............................................7
   5. Acknowledgements...............................................7
   6. References.....................................................7
      6.1. Normative References......................................7
      6.2. Informative References....................................7






















Yong, et al.                                                   [Page 2]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014


1. Introduction

   This document proposes an IS-IS protocol extension to support IGP
   based multicast transport architecture and solution [IGP-MCAST].


  1.1. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [RFC2119].



2. IS-IS Protocol Extension

  2.1.  RTADDR sub-TLV

   This is a sub-TLV that is used in either a Router Capabilities TLV
   or an MT Capabilities TLV. Each RTADDR sub-TLV contains a root IPv4
   address and multicast group addresses that associate to the tree. A
   router may use multiple RTADDR sub-TLVs to announce multiple root
   addresses and associated multicast groups with each root. RTADDR
   sub-TLV format is below.
























Yong, et al.                                                   [Page 3]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014

    +-+-+-+-+-+-+-+-+
    |subType=RTADDR |                  (1 byte)
    +-+-+-+-+-+-+-+-+
    |   Length      |                  (1 byte)
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                      Root IPv4 Address                        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |S|D|RESV       |                  (1 byte)
    +-+-+-+-+-+-+-+-+
    | Tree Priority |                  (1 byte)
    +-+-+-+-+-+-+-+-+
    |Num of Groups  |                  (1 byte)
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   Group Address (1)                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   Group Mask (1)                              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ~                                                               ~
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   GROUP Address (N)                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   Group Mask (N)                              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Where:

     subType: RTADDR (TBD)

     Length: variable depending on the number of associated groups

     Root IPv4 Address: IPv4 Address for a router that is a tree root

     S bit: When set, the rooted tree for single area only. Otherwise,
     the rooted tree crosses multiple areas.

     D bit: When set, the tree root is as of default tree root.
     Otherwise, the default tree is auto-calculated. [IGP-MCAST] When
     clear, the tree root is another distribution tree beside the
     default tree.

     RESV: 6 reserved bits. MUST be sent as zero and ignored on receipt.

     Tree Priority: An eight bit unsigned integer where larger
     magnitude means higher priority. Zero means no priority.




Yong, et al.                                                   [Page 4]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014

     Num of Groups: the number of group addresses. When D bit sets, the
   number of group addresses is 0, which means that indicated tree root
   is the default tree root (supersede the auto-calculate one).

     Group Address: IPv4 Address for the group

     Group Mask: Group Mask: multicast groups mask. If the mask bit is a one, the
   Group Address bit must match that corresponding bit in the packet destination
   address to be associated with the tree whose root is given.

   One router may be the root for multiple trees. Each tree associates
   to a set of multicast groups. In this case, a router encodes
   multiple RTADDR sub-TLVs to announce root addresses, one for each
   root, in either a Router Capabilities TLV or an MT Capabilities TLV.
   The group address/mask in different sub-TLVs can overlap. See [IGP-
   MCAST] for details.

  2.2. RTADDRV6 sub-TLV

   This sub-TLV is used in an IPv6 network. It has the same format and
   usage except that the addresses are in IPv6.



























Yong, et al.                                                   [Page 5]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014

    +-+-+-+-+-+-+-+-+
    |subTyp=RTADDRV6|                  (1 byte)
    +-+-+-+-+-+-+-+-+
    |   Length      |                  (1 byte)
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    +                                                               +
    |                                                               |
    +                     Root IPv6 Address                         +
    |                                                               |
    +                                                               +
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |S|D|RESV       |                  (1 byte)
    +-+-+-+-+-+-+-+-+
    | Tree Priority |                  (1 byte)
    +-+-+-+-+-+-+-+-+
    |Num of Groups  |                  (1 byte)
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    +                                                               +
    |                                                               |
    +                  Group IPv6 Address (1)                       +
    |                                                               |
    +                                                               +
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    +                                                               +
    |                                                               |
    +                     MASK(1)                                   +
    |                                                               |
    +                                                               +
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ~                                                               ~
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




  2.3. The Group Address Sub-TLV

   The Group Address TLV and a set of Group Address sub-TLVs are
   defined in RFC 7176 [RFC7176]. The GIP-ADDR and GIPV6-ADDR sub-TLVs
   are used in this solution. An edge router uses the GIP-ADDR sub-TLV
   or GIPV6-ADDR to announce its interested multicast groups. The GIP-



Yong, et al.                                                   [Page 6]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014

   ADDR sub-TLV applies to an IPv4 network and GIPV6-ADDR sub-TLV for
   IPv6 network.

   When using a GIP-ADDR or GIPV6-ADDR sub-TLV for IGP multicast, the
   field VLAN-ID MUST set to zero and be ignored. Other field usage
   remains the same as [RFC7176]


3. Security Considerations

   See Security Considerations in [IGP-MCAST].

4. IANA Considerations

   IANA is requested to assign two new sub-TLV numbers for RTADDR and
   RTADDRV6 as specified in Sections 2.1 and 2.2. These sub-TLVs can be
   used under both the Router Capability (#242) and MT Capability (#144)
   TLVs. To avoid confusion, each sub-TLV should be assigned the same
   sub-Type number under each of these two TLVs.

5. Acknowledgements

   Authors like to thank Mike McBride and Linda Dunbar for their
   valuable inputs.

   [Editor note: the previous draft has been split into two drafts:
   draft-yong-isis-ext-4-distribution-tree-03 and draft-yong-rtgwg-igp-
   multicast-arch-00 based on AD and chair's suggestion.]

6. References

  6.1. Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC2119, March 1997.

   [RFC7176]  Eastlake 3rd, D., Senevirathne, T., Ghanwani, A., Dutt,
             D., and A. Banerjee, "Transparent Interconnection of Lots
             of Links (TRILL) Use of IS-IS", RFC 7176, May 2014.

  6.2. Informative References

   [IGP-MCAST] Yong, L., Hao, W., Eastlake, D., Qu A., Hudson, J., and
   Chunduri, "IGP Multicast Architecture", draft-yong-rtgwg-igp-
   mutlicast-arch-00, work in progress.



Yong, et al.                                                   [Page 7]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014


   Authors' Addresses

   Lucy Yong
   Huawei USA

   Phone:  918-808-1918
   Email: lucy.yong@huawei.com

   Weiguo Hao
   Huawei Technologies
   101 Software Avenue,
   Nanjing 210012
   China

   Phone: +86-25-56623144
   Email: haoweiguo@huawei.com


   Donald Eastlake
   Huawei
   155 Beaver Street
   Milford, MA 01757 USA

   Phone: +1-508-333-2270
   EMail: d3e3e3@gmail.com

   Andrew Qu
   MediaTek
   San Jose, CA 95134 USA

   Email: laodulaodu@gmail.com


   Jon Hudson
   Brocade
   130 Holger Way
   San Jose, CA 95134 USA

   Phone: +1-408-333-4062
   Email: jon.hudson@gmail.com

   Uma Chunduri







Yong, et al.                                                   [Page 8]

Internet-Draft    IS-IS Extension For IGP Multicast        October 2014

   Ericsson Inc.
   300 Holger Way,
   San Jose, California  95134
   USA

   Phone: 408 750-5678
   Email: uma.chunduri@ericsson











































Yong, et al.                                                   [Page 9]

