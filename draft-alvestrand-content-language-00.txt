
Internet-Draft                                       H. Alvestrand
draft-alvestrand-content-language-00.txt
                                                     Cisco Systems
Target Category: Standards Track                                     
                                                       August 2000
Obsoletes: RFC 1766                         Expires: February 2001














Content Language Headers



Status of this Memo
     The file name of this memo is draft-alvestrand-content-language-
     00.txt
     This document is an Internet-Draft and is in full conformance with
     all provisions of Section 10 of RFC 2026.
     Internet-Drafts are working documents of the Internet Engineering
     Task Force (IETF), its areas, and its working groups.  Note that
     other groups may also distribute working documents as Internet-
     Drafts.
     Internet-Drafts are draft documents valid for a maximum of six
     months and may be updated, replaced, or obsoleted by other
     documents at any time.  It is inappropriate to use Internet-
     Drafts as reference material or to cite them other than as "work
     in progress."
     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt
     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.
Comments on this draft should be sent to the mailing list <ietf-
languages@iana.org>

Abstract
This document defines a "Content-language:" header, for use in the case
where one desires to indicate the language of something that has RFC-
822-like headers, like MIME body parts or Web documents.
It also preserves (but does not standardize) an extension to
multipart/alternative for use when multiple language variants of a
document are transmitted.
Content Language Headers                         Harald Alvestrand
draft-alvestrand-contentùlanguage-00.txt     Expires December 2000



1. Introduction


There are a number of languages presently or previously used by human
beings in this world.
A great number of these people would prefer to have information
presented in a language which they understand.
In some contexts, it is possible to have information available in more
than one language, or it might be possible to provide tools  (such as
dictionaries) to assist in the understanding of a language.
In other cases, it may be desirable to use a computer program to
convert information from one format (such as plaintext) into another
(such as computer-synthesized speech, or Braille, or high-quality print
renderings).

A prerequisite for any such function is a means of labelling the
information content with an identifier for the language that is used in
this information content, such as is defined by [TAGS].
This document specifies a protocol element for use with protocols that
use RFC-822 like headers for carrying language tags as defined in
[TAGS].
The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
document are to be interpreted as described in [RFC 2119].

2. The Content-language header
The "Content-Language" header is intended for use in the case where one
desires to indicate the language(s) of something that has RFC-822-like
headers, such as MIME body parts or Web documents.
The RFC-822 EBNF of the Content-Language header is:
 Content-Language = "Content-Language" ":" 1#Language-tag

Or in RFC 2234 ABNF:

Content-Language = "Content-Language" CFWS ":" Language-List
Language-List = Language-Tag [ CFWS "," CFWS Language-List ]

The Content-Language header may list several languages in a comma-
separated list.
The CFWS construct is intended to function like the whitespace
convention in RFC 822, which means also that one can place
parenthesized comments anywhere in the language sequence, or use


draft-alvestrand-lang-tags-v2-01.txt                     [Page 2]
Content Language Headers                         Harald Alvestrand
draft-alvestrand-contentùlanguage-00.txt     Expires December 2000

continuation lines. A formal definition is given in the update to the
RFC 822 grammar, currently a work in progress.

2.1 Examples of Content-language values

Norwegian official document, with parallel text in both official
versions of Norwegian. (Both versions are readable by all Norwegians).

   Content-Type: multipart/alternative;
          differences=content-language
   Content-Language: no-nyn, no-bok

Voice recording from Liverpool downtown
   Content-type: audio/basic
   Content-Language: en-scouse

Document in Mingo, an American Indian language which does not have an
ISO 639 code:
   Content-type: text/plain
   Content-Language: i-mingo

An English-French dictionary

   Content-type: application/dictionary
   Content-Language: en, fr (This is a dictionary)

An official European Commission document (in a few of its official
languages)

   Content-type: multipart/alternative
   Content-Language: da, de, el, en, fr, it

An excerpt from Star Trek
   Content-type: video/mpeg
   Content-Language: i-klingon

(All the tags used in these examples were registered with IANA after
the publication of RFC 1766)

3. The Accept-Language header
The "Accept-Language" header is intended for use in the case where a
user or a process desires to indentify the language(s) he prefers when
RFC-822-like headers, such as MIME body parts or Web documents are
used.
The RFC-822 EBNF of the Accept-Language header is:


draft-alvestrand-lang-tags-v2-01.txt                     [Page 3]
Content Language Headers                         Harald Alvestrand
draft-alvestrand-contentùlanguage-00.txt     Expires December 2000

Accept-Language = "Accept-Language" ":"
                         1#( language-range [ ";" "q" "=" qvalue ] )


The syntax and semantics of language-range is defined in [TAGS].
(Note that RFC-822 EBNF rather than ABNF is used here, in order to
ensure that the syntax is identical with that specified in [RFC 2616]).
The Accept-Language header may list several language-ranges in a comma-
separated list, and each may include a quality value Q.
If no Q values are given, the language-ranges are given in priority
order, with the leftmost language-range being the most preferred
language; this is an extension to the HTTP/1.1 rules, but matches
current practice.
If Q values are given, refer to HTTP/1.1 [RFC 2616] for the details on
how to evaluate it.

4. Security Considerations
The only security issue that has been raised with language tags since
the publication of RFC 1766, which stated that "Security issues are
believed to be irrelevant to this memo", is a concern with language
ranges used in content negotiation - that they may be used to infer the
nationality of the sender, and thus identify potential targets for
surveilllance.
This is a special case of the general problem that anything you send is
visible to the receiving party; it is useful to be aware that such
concerns can exist in some cases.
The exact magnitude of the threat, and any possible countermeasures, is
left to each application protocol.

5. Character set considerations
Codes may always be expressed using the US-ASCII character repertoire
(a-z), which is present in most character sets.
The issue of deciding upon the rendering of a character set based on
the language tag is not addressed in this memo; however, it is thought
impossible to make such a decision correctly for all cases unless means
of switching language in the middle of a text are defined (for example,
a rendering engine that decides font based on Japanese or Chinese
language may fail to work when a mixed Japanese-Chinese text is
encountered)

6. Acknowledgements
This document has benefited from many rounds of review and comments in
various fora of the IETF and the Internet working groups.



draft-alvestrand-lang-tags-v2-01.txt                     [Page 4]
Content Language Headers                         Harald Alvestrand
draft-alvestrand-contentùlanguage-00.txt     Expires December 2000

Any list of contributors is bound to be incomplete; please regard the
following as only a selection from the group of people who have
contributed to make this document what it is today.
In alphabetical order:
Tim Berners-Lee, Nathaniel Borenstein, Sean M. Burke, Jim Conklin, John
Cowan, Dave Crocker, Martin Duerst, Michael Everson, Ned Freed, Tim
Goodwin, Dirk-Willem van Gulik, Paul Hoffman, Olle Jarnefors, John
Klensin, Keith Moore, Masataka Ohta, Keld Jorn Simonsen, Rhys
Weatherley, Misha Wolf, Francois Yergeau and many, many others.

Special thanks must go to Michael Everson, who has served as language
tag reviewer for almost the complete period since the publication of
RFC 1766, and has provided a great deal of input to this revision.

7. Author's Address
Harald Tveit Alvestrand
Cisco Systems
Weidemanns vei 27
7043 Trondheim
NORWAY
EMail: Harald@Alvestrand.no
Phone: +47 73 50 33 52

8. References

[TAGS]    "Tags for the identification of languages", work in progress
[draft-alvestrand-lang-tag-v2]
[ISO 639]
     ISO 639:1988 (E/F) - Code for the representation of names of
     languages - The International Organization for Standardization,
     1st edition, 1988-04-01 Prepared by ISO/TC 37 - Terminology
     (principles and coordination).
     Note that a new version (ISO 639-1:2000) is in preparation at the
     time of this writing.
[ISO 639-2]
     ISO 639-2:1998 - Codes for the representation of names of
     languages -- Part 2: Alpha-3 code  - edition 1, 1998-11-01, 66
     pages, prepared by ISO/TC 37/SC 2

[ISO 3166]
     ISO 3166:1988 (E/F) - Codes for the representation of names of
     countries - The International Organization for Standardization,
     3rd edition, 1988-08-15.
[ISO 15924]


draft-alvestrand-lang-tags-v2-01.txt                     [Page 5]
Content Language Headers                         Harald Alvestrand
draft-alvestrand-contentùlanguage-00.txt     Expires December 2000

     ISO/DIS 15924 - Codes for the representation of names of scripts
(under development by ISO TC46/SC2)
 [RFC 1327]
     Kille, S., "Mapping between X.400(1988) / ISO 10021 and RFC 822",
     RFC 1327, University College London, May 1992.
[RFC 1521]
     Borenstein, N., and N. Freed, "MIME Part One: Mechanisms for
     Specifying and Describing the Format of Internet Message Bodies",
     RFC 1521, Bellcore, Innosoft, September 1993.
[RFC 2119]
     Key words for use in RFCs to Indicate Requirement Levels. S.
     Bradner. March 1997.
[RFC 2234]
     Augmented BNF for Syntax Specifications: ABNF. D. Crocker, Ed., P.
Overell, November 1997.
[RFC 2616]
     Hypertext Transfer Protocol -- HTTP/1.1. R. Fielding, J. Gettys,
     J. Mogul, H. Frystyk, L. Masinter, P. Leach, T. Berners-Lee. June
     1999.

Appendix A: Use of Content-Language with Multipart/Alternative


NOTE: This appendix details an idea that was proposed in RFC 1766 to
deal with a particular kind of alternative content. However, this has
not found use in practice, and is therefore not suitable for the IETF
standards track. It is being preserved here as a non-normative appendix
only.
When using the Multipart/Alternative body part of MIME, it is possible
to have the body parts giving the same information content in different
languages. In this case, one should put a Content-Language header on
each of the body parts, and a summary Content-Language header onto the
Multipart/Alternative itself.

The differences parameter to multipart/alternative
As defined in RFC 1541, "Multipart/Alternative" only has one parameter:
boundary.
The common usage of "Multipart/Alternative" is to have more than one
format of the same message (f.ex. PostScript and ASCII).
The use of language tags to differentiate between different
alternatives will certainly not lead all MIME UAs to present the most
meaningful, understandable or significant body part as default.



draft-alvestrand-lang-tags-v2-01.txt                     [Page 6]
Content Language Headers                         Harald Alvestrand
draft-alvestrand-contentùlanguage-00.txt     Expires December 2000

Therefore, a new parameter is defined, to allow the configuration of
MIME readers to handle language differences in a sensible manner.
     Name: Differences
     Value: One or more of
           Content-Type
           Content-Language


Further values can be registered with IANA; these shall refer to the
name of a header for which a definition exists in a published RFC.  If
not present, "Differences=Content-Type" is assumed.
The intent is that the MIME reader can look at these headers of the
message component to make an intelligent choice of what to present to
the user, based on knowledge about the user preferences and
capabilities.
(The intent of having registration with IANA of the fields used in this
context is to maintain a list of usages that a mail UA may expect to
encounter, not to reject usages.)
(NOTE: The MIME specification [RFC 1521], section 7.2, states that
headers not beginning with "Content-" are generally to be ignored in
body parts. People defining a header for use with "differences=" should
take note of this.)
The mechanism for deciding which body part to present is outside the
scope of this document.
MIME EXAMPLE:


Content-Type: multipart/alternative; differences=Content-Language;
          boundary="limit"
Content-Language: en, fr, de

--limit
Content-Language: fr

Le renard brun et agile saute par dessus le chien paresseux
--limit
Content-Language: de
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-encoding: quoted-printable

Der schnelle braune Fuchs h=FCpft =FCber den faulen Hund
--limit
Content-Language: en

The quick brown fox jumps over the lazy dog
--limit--

When composing a message, the choice of sequence may be arbitrary.
However, non-MIME mail readers will show the first body part first,

draft-alvestrand-lang-tags-v2-01.txt                     [Page 7]
Content Language Headers                         Harald Alvestrand
draft-alvestrand-contentùlanguage-00.txt     Expires December 2000

meaning that this should most likely be the language understood by most
of the recipients.

Appendix X: Work-in-progress notes
This appendix is to be deleted by the RFC Editor before publication as
RFC.
This document was split out from the revised RFC 1766 after the
publication of draft-alvestrand-rfc1766bis-02.txt.
For the list of changes between versions, see draft-alvestrand-
rfc1766bis-03.txt [TAGS].









































draft-alvestrand-lang-tags-v2-01.txt                     [Page 8]