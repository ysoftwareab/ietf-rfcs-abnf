		                                          Choon Kyu Kim
   Internet Draft                                             Ki Won Ko
   Document: draft-cgkim-sipping-info-00.txt                         KT
   Expires: 2004-08                                       February 2004

       A SIP application using INFO message for IP premise control


Status of this Memo

   This document is an Internet-Draft and is in full conformance
   with all provisions of Section 10 of RFC2026.


   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other
   documents at any time.  It is inappropriate to use Internet-Drafts
   as reference material or to cite them other than as "work in
   progress."

   The list of current Internet-Drafts can be accessed at
        http://www.ietf.org/ietf/1id-abstracts.txt
   The list of Internet-Draft Shadow Directories can be accessed at
        http://www.ietf.org/shadow.html.


Abstract
   This document describes the INFO usage for IP-surveillance
   application. SIP is used as a means of incorporating terminals of
   different vendors. In this draft, mid-control
   commands, for example, retrieving server images or saving images in
   the server are defined and delivered as session names of INVITE messages.
   IN addition to that, INFO definitions specific to the
   application are described. For example, camera control like PTZ(Pen,
   Tilt, Zoom) information is defined for the purpose of
   standardization of controls. 



Table of Contents

   Status of this memo  . . . . . . . . . . . . . . . . .. . . .   1
   Abstract    .. . . . . . . . . . . . . . . . . . . . .. . . .   1
   1. Overview .. . . . . . . . . . . . . . . . . . . . .. . . .   2
   2. Appication architecture . . . . . . . . . . . . . .. . . .   2
   3. Service Examples  . . . . . . . . . . . . . . . . .. . . .   3
   4. Real time session control . . . . . . . . . . . . .. . . .   4
   5. INFO usage example  . . . . . . . . . . . . . . . .. . . .   5


   Choon Kyu Kim
   A SIP application using INFO message for IP premise control       1



   1. Overview

   SIP applications are increasing for its simplicity and possible
   versatility of its usage. For a specific application that is not
   traditional, SIP is clearly under-specified and requires creation
   of protocols that is proprietary. In this document, I will give an
   example of such an application and propose definitions specific for
   this application.

   2. Application architecture

   We are concerned to implement a system that UAs in one side (B in
   Figure 1) are consist of cameras and UAs in the other side (A in
   Figure 1) are user clients that will receive live streams from
   UAs(B) directly or through the media server that stores images in
   real time.
   We have two definitions that are quite proprietary in this
   application.
   Firstly, we need a consistent way of delivering action commands of
   UA(A) for storing images for a certain period of time, retrieving
   stored images and executing commands for device controls.
   UA(B) controls cameras. Secondly, therefore, the application needs
   to be capable of handling camera specific controls


              (A)                +---------+                        (B)
            +----+               |  Proxy  |                      +----+
            | UA |  <--------->  |         | <------------------> | UA |
            +----+               +---------+                      +----+
                                      ^
                                      |
                                      |
                                      V
                                 +----------+
                                 |  Media   |
                                 |  Server  |
                                 +----------+

                       Figure 1 - Basic Architecture





   Choon Kyu Kim
   A SIP application using INFO message for IP premise control
                                                               2



   3. Scenario examples



   To retrieve stored files or images, we use session name esi to give
   commands to server. Usages of s=vsr(video search request),
   s=vsa(video search acknowledgement) are presented below 1 and 2.
   The required files are specified by the time eti parameters.


   3.1 Request for video retrival

   INVITE sip:sipd@127.0.0.1 SIP/2.0
   Via: SIP/2.0/UDP 127.0.0.1:5060
   To: SIPd<sip:sipd@127.0.0.1>
   From: <sip:-@127.0.0.1:5060>
   Call-ID: bbe8aa46f9217ee10a5805b00507a0c9@127.0.0.1
   CSeq: 1 INVITE
   Subject: video_search
   Contact: <sip:-@127.0.0.1:5060>
   Contact: <sip:contact@127.0.0.1>
   Content-Type: application/sdp
   Content-Length: 66

   v=0
   o=mhandley 2890844526 2890842807 IN IP4 126.16.64.4
   s= vsr
   t= 2873397496 2873404696
   t= 2873404696 2873405696



   3.2. Acknowledgement for the video retrival

   Via: SIP/2.0/UDP 127.0.0.1:5060
   To: destination<sip:destination@127.0.0.1>;tag=ff21b1b4
   From: <sip:-@127.0.0.1:5060>
   Call-ID: bbe8aa46f9217ee10a5805b00507a0c9@127.0.0.1
   CSeq: 1 ACK
   Content-Type: application/sdp
   Max-Forwards: 70
   Content-Length: 114

   v=0
   o=SIPd 2890844526 2890842807 IN IP4 126.16.64.4
   s= vsa



   4. Real-time session control

   An example session establishment is described below.
   Choon Kyu Kim
   A SIP application using INFO message for IP premise control
                                                               3

   UA(B) establishes a session with media server through proxy server
   to store image. UA(A) can access stored images as explained in 3.
   Scenario examples.
   To view live images, we choose a scenario that UA(A) establishes a
   session through proxy server with UA(B). UA(B) requires ability to
   open 2 sessions simultaneously. This direct session is also useful
   for real time controls of UA(B) device if such functions are
   available. Examples are PTZ controls of surveillance cameras.


               UA(A)          Proxy          Media Server    UA(B)
                |                |              |             |
                |                |              | INVITE      |
                |                |<---------------------------|
                |                |  INVITE      |             |
                |                |------------->|             |
                |                |    OK        |             |
                |                |<-------------|             |
                |                |    OK        |             |
                |                |--------------------------->|
                |                |              |   ACK       |
                |                |<---------------------------|
                |                |    ACK       |             |
                |                |------------->|             |
                |                |              |    RTP      |
                |                |              |<===========>|
                |    INVITE      |              |             |
                |--------------->|          INVITE            |
                |                |--------------------------->|
                |                |            OK              |
                |       OK       |<---------------------------|
                |<---------------|              |             |
                |      ACK       |              |             |
                |--------------->|            ACK             |
                |                |--------------------------->|
                |             RTP                             |
                |<===========================================>|
                |                |              |             |
                |    INFO        |              |             |
                |--------------->|          INFO              |
                |                |--------------------------->|
                |                |           OK               |
                |                |<---------------------------|
                |     OK         |              |             |
                |<---------------|              |             |
                |    ACK         |              |             |
                |--------------->|            ACK             |
                |                |--------------------------->|
                |                |              |             |
                |                |              |             |
                |                |              |             |
                |                |              |             |
                |                |                            |

   Choon Kyu Kim
   A SIP application using INFO message for IP premise control
                                                               4



   5. INFO usage examples.


   5.1 request for PTZ control

   INFO sip:147.6.70.227:5060 SIP/2.0
   From: <sip:-@147.6.70.223:5060>
   To: <sip:000013@147.6.70.227:5060;user=phone>
   Call-ID: 000013@147.6.70.227:5060
   CSeq: 1 INFO
   Content-Type: application/PTZ
   Content-Length: 41

   PTZ control

   The contents of the PTZ control are explained below.


   F ,  I       FOCUS IN
   F ,  O       FOCUS OUT
   Z ,  I       ZOOM IN
   Z ,  O       ZOOM OUT
   U ,  U       UP UP
   R ,  U       RIGHT UP
   R ,  R       RIGHT
   R ,  D       RIGHT DOWN
   D ,  D       DOWN
   L ,  D       RIGHT DOWN
   L ,  L       LEFT
   L ,  U       LEFT UP
   A ,  A       AUTOPAN
   P ,  O       POWER ON
   P ,  F       POWER OFF
   L ,  O       LAMP POWER ON
   L ,  F       LAMP POWER OFF
   A ,  O       ASSIST ON
   A ,  F       ASSIST OFF
   S ,  O       PRESET ON
   S ,  F       PRESET OFF




References
 [1] Donovan, S., "The SIP INFO Method" RFC 2976, October 2000


Author's Addresses

 Choon Kyu Kim
 KT
 Suh Cho Gu, Wu Myun Dong 17  Phone:  82-2-526-5760
   Choon Kyu Kim
   A SIP application using INFO message for IP premise control
                                                               5

 Seoul, Korea                         Email:  cgkim@kt.co.kr

 Ki Won Ko
 KT
 Suh Cho Gu, Wu Myun Dong 17  Phone:  82-2-526-5126
 Seoul, Korea                         Email:  kwko@kt.co.kr

Intellectual Property Statement

The IETF takes no position regarding the validity or scope of any 
intellectual property or other rights that might be claimed to  pertain 
to the implementation or use of the technology described in this 
document or the extent to which any license under such rights might or 
might not be available; neither does it represent that it has made any 
effort to identify any such rights. Information on the IETF's 
procedures with respect to rights in standards-track and 
standards-related documentation can be found in BCP-11. Copies of 
claims of rights made available for publication and any assurances of 
licenses to be made available, or the result of an attempt made to 
obtain a general license or permission for the use of such proprietary 
rights by implementors or users of this specification can be obtained 
from the IETF Secretariat.

The IETF invites any interested party to bring to its attention any 
copyrights, patents or patent applications, or other proprietary rights 
which may cover technology that may be required to practice this 
standard. Please address the information to the IETF Executive Director.

Full Copyright Statement
Copyright (C) The Internet Society (2004). All Rights Reserved.

This document and translations of it may be copied and furnished to 
others, and derivative works that comment on or otherwise explain it or 
assist in its implementation may be prepared, copied, published and 
distributed, in whole or in part, without restriction of any kind, 
provided that the above copyright notice and this paragraph are 
included on all such copies and derivative works. However, this 
document itself may not be modified in any way, such as by removing the 
copyright notice or references to the Internet Society or other 
Internet organizations, except as needed for the purpose of developing 
Internet standards in which case the procedures for copyrights defined 
in the Internet Standards process must be followed, or as required to 
translate it into languages other than English.

The limited permissions granted above are perpetual and will not be 
revoked by the Internet Society or its successors or assignees.

This document and the information contained herein is provided on an 
"AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING 
TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT 
NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL 
NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR 
FITNESS FOR A PARTICULAR PURPOSE.


 Choon Kyu Kim
 A SIP application using INFO message for IP premise control
                                                              6

