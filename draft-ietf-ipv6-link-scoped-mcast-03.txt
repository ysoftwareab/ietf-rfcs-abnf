
 
 
  IPv6 WG                                                             
  Internet Draft                                         Jung-Soo Park 
  draft-ietf-ipv6-link-scoped-mcast-03.txt               Myung-Ki Shin 
                                                        Hyoung-Jun Kim 
                                                                  ETRI 
  Expires: December 2003                                     June 2003 
   
   
                  Link Scoped IPv6 Multicast Addresses 
   
   
Status of this Memo 
   
  This document is an Internet-Draft and is in full conformance with 
  all provisions of Section 10 of RFC2026.  
   
  Internet-Drafts are working documents of the Internet Engineering 
  Task Force (IETF), its areas, and its working groups.  Note that      
  other groups may also distribute working documents as Internet-Drafts. 
   
  Internet-Drafts are draft documents valid for a maximum of six months 
  and may be updated, replaced, or obsoleted by other documents at any 
  time.  It is inappropriate to use Internet-Drafts as reference 
  material or to cite them other than as "work in progress." 
   
  The list of current Internet-Drafts can be accessed at 
       http://www.ietf.org/ietf/1id-abstracts.txt 
  The list of Internet-Draft Shadow Directories can be accessed at 
       http://www.ietf.org/shadow.html. 
   
  For potential updates to the above required-text see: 
  http://www.ietf.org/ietf/1id-guidelines.txt 
   
   
Abstract 
   
  This document specifies an extension to the multicast addressing 
  architecture of the IPv6 protocol. The extension allows for the use 
  of interface-IDs to allocate multicast addresses.  When the link-
  local unicast address is configured at each interface of a host, an 
  interface ID is uniquely determined.  By delegating multicast 
  addresses at the same time as the interface ID, each host can 
  identify their multicast addresses automatically at Layer 1 without 
  running an intra- or inter-domain allocation protocol in serverless 
  environments. Basically this document updates the "Unicast-Prefix-
  based IPv6 Multicast Addresses" for the link-local scope [RFC 3306].  
   
   
Table of Contents 
   
  1. Introduction...................................................2 
  2. Applicability..................................................2 
  3. Link scoped multicast address format...........................2 
  4. Examples.......................................................4 
  5. Considerations.................................................4 
  6. Security Considerations........................................4 
  7. References.....................................................4 
  8. Acknowledgments................................................5 
  Author's Addresses................................................5 
   
 
 
Park,Shin,Kim          Expires - December 2003               [Page 1] 
Internet-Draft   Link Scoped IPv6 Multicast Addresses      June 2003 
 
 
1. Introduction 
   
  This specification defines an extension to the multicast portion of 
  the IPv6 addressing architecture [ADDRARCH].  The current 
  architecture does not contain any built-in support for dynamic 
  address allocation.  The extension allows for use of interface-IDs to 
  allocate multicast addresses.  When the link-local unicast address is 
  configured at each interface of a host, an interface ID is uniquely 
  determined.  By delegating multicast addresses at the same time as 
  the interface ID, each host can identify its multicast addresses 
  automatically without running an intra- or inter-domain allocation 
  protocol in serverless environments. 
   
  The current multicast address allocation architecture [RFC 2908] is 
  based on a multi-layered, multi-protocol system.  The goal of this 
  proposal is to reduce the number of protocols and servers to get 
  dynamic multicast address allocation. 
   
  The use of interface ID-based multicast address allocation will, at a 
  minimum, remove the need to run the Multicast Address-Set Claim(MASC) 
  Protocol[RFC 2909] and the Multicast Address Allocation servers [RFC 
  2908]. 
   
  Basically this document updates the "Unicast-Prefix-based IPv6 
  Multicast Addresses" for the link-local scope [RFC 3306].  This 
  document changes and restricts the usage of defined fields such as 
  scope, plen and network prefix field in [RFC 3306].  Therefore, this 
  document specifies encoded information for link-local scope in the 
  multicast addresses. 
   
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
  "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
  document are to be interpreted as described in RFC-2119. 
   
   
2. Applicability 
   
  The allocation technique in this document is designed to be used in 
  any environment in which link-local scope IPv6 multicast addresses 
  are assigned or selected.  Especially, this method goes well with 
  nodes supplying multicast services in a zeroconf environment.  For 
  example, multicast addresses less than or equal to link-local scope 
  are themselves generated by nodes supplying multicast services. 
        
  Consequently, this technique MIUST be used for link scoped multicast 
  addresses.  If you want to use multicast addresses greater than link-
  local, you need other methods such as [RFC 3306]. 
   
   
3. Link scoped multicast address format 
   
  Section 2.7 of [ADDRARCH] defines the following operational format of 
  IPv6 multicast addresses: 
   
  |    8   |  4 |  4 |                     112                     | 
  +--------+----+----+---------------------------------------------+ 
  |11111111|flgs|scop|                  group ID                   | 
  +--------+----+----+---------------------------------------------+ 
   
      Figure 1:  Generic IPv6 multicast address format 
 
 
Park,Shin,Kim          Expires - December 2003               [Page 2] 
Internet-Draft   Link Scoped IPv6 Multicast Addresses      June 2003 
 
 
  This document introduces new formats that incorporate interface ID 
  information in the multicast address.  The idea of delegating 
  multicast addresses at the same time as the interface ID can be 
  applicable to link-local. 
   
  Figure 2 illustrates the new format for link scoped multicast 
  addresses.  That is, if the scope of the multicast address is link-
  local scope, it is this format. 
   
   
  |   8    | 4  | 4  |     16     |       64       |       32      | 
  +--------+----+----+------------+----------------+---------------+ 
  |11111111|flgs|scop|  reserved  |  Interface ID  |    group ID   | 
  +--------+----+----+------------+----------------+---------------+ 
   
      Figure 2: link scoped multicast IPv6 address format 
   
                                  +-+-+-+-+  
  flgs is a set of 4 flags:       |0|0|P|T| 
                                  +-+-+-+-+ 
   
        o P = 0 indicates a multicast address that is not assigned 
                on the basis of the interface ID. 
        o P = 1 indicates a multicast address that is assigned 
                on the basis of the interface ID. 
        o If P = 1, T MUST be set to 1, otherwise the setting of 
                    the T bit is defined in Section 2.7 of [RFC 2373]. 
   
  flgs should use the same flag defined in section 4 of [RFC 3306]. 
  That is, this document proposes the third bit of 'flgs' field to 
  indicate an Interface ID-based multicast addresses.  
   
  scop <= 2.  The value of this multicast address is necessary to 
  distinguish between an Interface ID-based multicast address and a 
  unicast-prefix-based multicast address.  If scop <= 2, the former MUST 
  be used.  That is, this document updates the [RFC 3306], which 
  describes the latter. 
   
  The reserved field MUST be zero which maps to a plen of zero in RFC 
  3306. 
   
  Interface ID field is used to distinguish each host from others.  And 
  this value is obtained from the IEEE EUI-64 based interface 
  identifier of the link-local unicast IPv6 address.  Given the use of 
  this method for link-local scope, the interface ID embedded in the 
  multicast address SHOULD come from the interface ID of the link-local 
  unicast address on the interface after DAD has completed.  That is, 
  the creation of the multicast address MUST occur after DAD has 
  completed as part of the auto-config process. 
   
  Group ID is generated to indicate multicast application and is used 
  to guarantee its uniqueness only in the host.  It may also be set on 
  the basis of the guidelines outlined in [RFC 3307]. 
   
  The lifetime of an Interface ID-based multicast address has no 
  dependency on the Valid Lifetime field in the Prefix Information 
  option, corresponding to the unicast address being used, contained in 
  the Router Advertisement message [RFC 2461]. 
   
   
 
 
Park,Shin,Kim          Expires - December 2003               [Page 3] 
Internet-Draft   Link Scoped IPv6 Multicast Addresses       June 2003 
 
 
4. Examples 
   
  This is an example of an interface ID-based multicast address with 
  link-local scope.  For example in an Ethernet environment, if the 
  link-local unicast address is FE80::12:34:56:78:90:AB, the multicast 
  prefix of the host is FF32:0:1234:56FF:FE78:90AB::/96.  For SSM, 
  multicast address will be FF32::/96. 
   
             
5. Considerations 
   
  This document updates [RFC 3306] for the scope <= 2 case. 
   
  This document considers only link scoped multicast addresses.  For 
  this purpose, scop field is used shown in figure 2. 
   
  The link scoped multicast address format supports source-specific   
  multicast addresses by the same method, as defined by [RFC 3306].  So, 
  it could be confused with a RFC 3306 SSM address.  To resolve this, 
  the usage of this format is restricted within link-local scope. 
   
   
6. Security Considerations 
   
  [RFC 3041] describes the privacy extension to IPv6 stateless address 
  autoconfiguration for an interface ID.  The interface ID, generated by 
  [RFC 3041], is also used in this method since the uniqueness is 
  verified by DAD procedure as part of the secure auto-config process. 
        
  Using source-specific multicast addresses can sometimes aid in the 
  prevention of denial-of-service attacks by arbitrary sources, 
  although no guarantee is provided.  A more in-depth discussion of the 
  security considerations for SSM can be found in [SSM ARCH]. 
   
   
7. References 
   
  Normative 
   
  [RFC 2119]  S. Bradner, "Key words for use in RFCs to indicate 
              Requirement Levels", RFC 2119, March 1997. 
   
  [RFC 2373]  R. Hinden and S. Deering, "IP Version 6 Addressing    
              Architecture", RFC 2373, October 1998. 
   
  [RFC 3041] T. Narten and R. Draves, "Privacy Extensions for  
             Stateless Address Autoconfiguration in IPv6," RFC 3041,  
             April 2001.    
   
  [RFC 3306] B. Haberman and D. Thaler, "Unicast-Prefix-based IPv6  
             Multicast Addresses," RFC 3306, August 2002. 
   
  [ADDRARCH] R. Hinden and S. Deering, "IP Version 6 Addressing  
             Architecture", Work In Progress, October 2002. 
   
   
  Informative      
   
  [RFC 2461] T. Narten, E. Nordmark and W. Simpson, "Neighbor  
             Discovery for  IP Version 6 (IPv6)", RFC 2461, December  
 
 
Park,Shin,Kim          Expires - December 2003               [Page 4] 
Internet-Draft   Link Scoped IPv6 Multicast Addresses       June 2003 
 
 
             1998. 
   
  [RFC 2908] D. Thaler, M. Handley and D. Estrin, "The Internet  
             Multicast  Address Allocation Architecture," RFC2908,  
             September 2000. 
   
  [RFC 2909] P. Radoslavov, D. Estrin, R. Govindan, M. Handley,  
             S. Kumar, and D. Thaler, "The Multicast Address-Set Claim 
             (MASC) Protocol", RFC 2909, September 2000. 
   
  [RFC 3307] B. Haberman, "Dynamic Allocation Guidelines for IPv6  
             Multicast Addresses," Work In Progress, October 2001. 
   
  [SSM ARCH] H. Holbrook and B. Cain, "Source-Specific Multicast for  
             IP", Work In Progress, March 2003. 
   
   
8. Acknowledgments 
   
  We would like to thank Dave Thaler and Brian Haberman for his 
  comments related to the consistency between the unicast prefix-based 
  multicast draft and this one. 
   
   
Author's Addresses 
   
  Jung-Soo Park 
  ETRI PEC 
  161 Gajeong-Dong, Yuseong-Gu, Daejon 305-600, Korea 
  Phone: +82 42 860 6514 
  Email: jspark@pec.etri.re.kr 
     
  Myung-Ki Shin 
  ETRI PEC 
  161 Gajeong-Dong, Yuseong-Gu, Daejon 305-600, Korea 
  Phone: +82 42 860 4847 
  Email: mkshin@pec.etri.re.kr  
   
  Hyoung-Jun Kim 
  ETRI PEC 
  161 Gajeong-Dong, Yuseong-Gu, Daejon 305-600, Korea 
  Phone: +82 42 860 6576 
  Email: khj@etri.re.kr  
   












 
Park,Shin,Kim          Expires - December 2003               [Page 5]