


Internet Engineering Task Force                            R. Martinotti
Internet-Draft                                               D. Caviglia
Intended status: Informational                                  Ericsson
Expires: September 6, 2009                                   N. Sprecher
                                                  Nokia Siemens Networks
                                                         A. D'Alessandro
                                                              A. Capello
                                                          Telecom Italia
                                                           March 5, 2009


                Interworking between MPLS-TP and IP/MPLS
                draft-martinotti-mpls-tp-interworking-01

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 6, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.




Martinotti, et al.      Expires September 6, 2009               [Page 1]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


Abstract

   Purpose of this ID is to illustrate interworking scenarios between
   network(s) supporting MPLS-TP and network(s) supporting IP/MPLS.
   Main interworking issues and open points are highlighted.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Background . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.2.  Scope of this document . . . . . . . . . . . . . . . . . .  3
   2.  Conventions used in this document  . . . . . . . . . . . . . .  3
   3.  Acronyms . . . . . . . . . . . . . . . . . . . . . . . . . . .  3
   4.  Problem Statement  . . . . . . . . . . . . . . . . . . . . . .  4
   5.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  5
     5.1.  Network Layering . . . . . . . . . . . . . . . . . . . . .  5
     5.2.  Network Partitioning . . . . . . . . . . . . . . . . . . .  6
   6.  Elements used in the figures . . . . . . . . . . . . . . . . .  7
   7.  Network Decomposition  . . . . . . . . . . . . . . . . . . . .  7
     7.1.  Network Layering . . . . . . . . . . . . . . . . . . . . .  7
       7.1.1.  Ethernet encapsulation over MPLS-TP  . . . . . . . . .  8
       7.1.2.  Transparent transport of IP/MPLS . . . . . . . . . . . 10
       7.1.3.  IP/MPLS / MPLS-TP hybrid edge node . . . . . . . . . . 13
         7.1.3.1.  IP/MPLS does not require PHP from MPLS-TP  . . . . 13
         7.1.3.2.  IP/MPLS requires PHP from MPLS-TP  . . . . . . . . 16
     7.2.  Network Partitioning . . . . . . . . . . . . . . . . . . . 18
       7.2.1.  Border Node  . . . . . . . . . . . . . . . . . . . . . 19
         7.2.1.1.  Multisegment Pseudowire  . . . . . . . . . . . . . 19
         7.2.1.2.  LSP stitching  . . . . . . . . . . . . . . . . . . 22
       7.2.2.  Border Link  . . . . . . . . . . . . . . . . . . . . . 24
         7.2.2.1.  Multisegment Pseudowire  . . . . . . . . . . . . . 24
         7.2.2.2.  LSP stitching  . . . . . . . . . . . . . . . . . . 27
   8.  Conclusions  . . . . . . . . . . . . . . . . . . . . . . . . . 29
   9.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 29
   10. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 29
   11. Security Considerations  . . . . . . . . . . . . . . . . . . . 29
   12. References . . . . . . . . . . . . . . . . . . . . . . . . . . 29
     12.1. Normative References . . . . . . . . . . . . . . . . . . . 29
     12.2. Informative References . . . . . . . . . . . . . . . . . . 30
   Appendix A.  Additional Stuff  . . . . . . . . . . . . . . . . . . 30
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 30









Martinotti, et al.      Expires September 6, 2009               [Page 2]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


1.  Introduction

1.1.  Background

   MPLS-TP is a joint ITU-IETF effort to include the MPLS Transport
   Profile within the IETF MPLS architecture to support the capabilities
   and functionalities of a packet transport network as defined by
   ITU-T.  In the MPLS-TP requirements [draft jenkins] it is highlighted
   that an MPLS-TP architecture must allow interworking with new and
   already deployed IP/MPLS networks.

1.2.  Scope of this document

   This document illustrates the most likely interworking scenarios
   between MPLS-TP and IP/MPLS.  For each of the examined scenarios
   interworking limitations, issues and open points, with particular
   focus on OAM capabilities, are provided.

   The main architectural construct considered in this document foresees
   PWE3 Protocol Stack Reference Model, however also MPLS Protocol Stack
   Reference Model is used.  See [draft mpls-tp framework] for details.

   Note: due to the early level of definition of CP of MPLS-TP, any
   possible interaction between CP of IP/MPLS and CP of MPLS-TP is left
   for further study.


2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].


3.  Acronyms

      AC Attachment circuit

      CE Customer Edge

      CLI Client

      CP Control Plane

      DP Data Plane






Martinotti, et al.      Expires September 6, 2009               [Page 3]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


      ETH Ethernet MAC Layer

      ETY Ethernet Physical Layer

      IWF Interworking Function

      LER Label Edge Router

      LSP Label Switched Path

      LSR Label Switch Router

      MAC Media Access Control

      MEP Maintenance Association End Point

      MIP Maintenance Association Intermediate Point

      MP Management Plane

      MS-PW Multi Segment PW

      NE Network Element

      OAM Operations, Administration and Maintenance

      PE Provider Edge

      PHY Physical Layer

      PSN Packet Switched Network

      PW Pseudowire

      SRV Server

      SS-PW Single Segment PW

      S-PE Switching Provider Edge

      T-PE Terminating Provider Edge


4.  Problem Statement

   This document addresses interworking issues between MPLS-TP network
   and IP/MPLS network.  The network decomposition can envisage network
   layering and/or network partitioning.



Martinotti, et al.      Expires September 6, 2009               [Page 4]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   The presented scenarios are not intended to be comprehensive, for
   instance more complex scenarios can be created composing those
   described in this document.


5.  Terminology

   As far as this document is concerned, the following terminology is
   used:

   o  IP/MPLS NE: a NE that supports IP/MPLS functions

   o  IP/MPLS Network: a network in which IP/MPLS NEs are deployed

   o  MPLS-TP NE: a NE that supports MPLS-TP functions

   o  MPLS-TP Network: a network in which MPLS-TP NEs are deployed

   o  Node: either MPLS-TP NE, IP/MPLS NE or CE

   o  Ingress direction: from client to network

   o  Egress direction: from network to client

   For each of the scenarios described in this document, two paragraphs
   may appear, one related to possible issues already envisaged by the
   authors (Open Issues), the other related to aspects still left for
   further study and/or definition (Open Points).

   This Section provides some terminology about network layering and
   partitioning.  Primarily source of those definitions is [ITU-T
   G.805].  Readers already familiar with these concepts can skip this
   Section.

5.1.  Network Layering

   The following figure illustrates the Network Layering concept:














Martinotti, et al.      Expires September 6, 2009               [Page 5]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


        ____     ___                                    ___     __
      _/    \___/   \                                 _/   \___/  \_
     /               \__                             /              \__
    /===================\===+                  +====/==================\
   |                    |___O------------------O___|                   |
    \                   /\__/_ _ _ _ _ _ _ _ _ _\__/\                 /
     \   ___      __   /  \/                     \/  \   ___     _   /
      \_/   \____/  \_/   |                       |   \_/   \___/ \_/
         Layer n          |                       |      Layer n
                          |       __    __        |
                          |     _/  \__/  \       |
                          |    /           \__    |
                          |   /               \   |
      ____                +-0|                 |0-+
      \__/ Adaptation         \               /
                               \   __   _    /
       __                       \_/  \_/ \__/
       \/  Termination            Layer n-1


                             Network Layering

                                 Figure 1

   Layer n is carried over Layer n-1, via adaptation and termination
   functions.  Some readers will also call this concept "Overlay model".

5.2.  Network Partitioning

   The following figure illustrates the Network Partitioning concept:


     ___     ___       ____                ____     ___       ___
   _/   \___/   \    _/    \__           _/    \___/   \    _/   \__
  /              \__/         \         /               \__/        \_
 /                              \  |   /                              \
|     Sub-Network Domain 1      |+++++|    Sub-Network Domain 2        |
 \                              /  |   \                              /
  \   __      ___     __      _/        \   ___      ___     __     _/
   \_/  \____/   \___/  \____/           \_/   \____/   \___/  \___/



                           Network Partitioning

                                 Figure 2

   The boundary between the two subnetworks can be a link (as defined by



Martinotti, et al.      Expires September 6, 2009               [Page 6]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   [ITU-T G.805]), but also a Node, which in this case SHALL be able to
   handle the technologies of both subnetworks.

   The two subnetworks are at the same level.  Some readers will also
   call this concept "Peer model".


6.  Elements used in the figures

   A legenda of the symbols, which are most used in the following
   Sections, is provided, in order to facilitate comprehension of the
   scenarios.


                   Node:
                    -----  Direct connection
                    - - -  Virtual connection
                    .....  one or more direct connections

                   Layers:
                    |      Termination
                    +      Connection
                    <->    Stitching

                    OAM:
                    > or < MEP
                    O      MIP



                                 Figure 3


7.  Network Decomposition

   This Section provides some interworking scenarios, using the concepts
   described in Section 5.

7.1.  Network Layering

   In the rest of this Section the following assumptions apply:

   o  Customer network is carried over IP/MPLS (e.g. via PW
      encapsulation)

   o  IP/MPLS network is client of MPLS-TP subnetwork





Martinotti, et al.      Expires September 6, 2009               [Page 7]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


7.1.1.  Ethernet encapsulation over MPLS-TP

   IP/MPLS network is deployed over Ethernet (at least on interfaces
   interconnecting to the MPLS-TP subnetwork).  The interworking is done
   via Ethernet frame encapsulation in PW over MPLS-TP (as per PWE3
   Protocol Stack Reference Model).  MPLS-TP LSPs are pre-configured
   with respect to IP/MPLS LSPs and may be seen as forwarding
   adjacencies by IGP instance of IP/MPLS networks.

   The following figure illustrates the functional interworking among
   the networks:


    Networks:
                              Customer Network
        +---+ - - - - - - - - - - - - - - - - - - - - - - - - - +---+
            | _________________________________________________ |
            |/                 IP/MPLS Network                 \|
            +---------------+ - - - - - - - - - +---------------+
           ^ \______________|___________________|______________/
      PW emulation          | _________________ |
                            |/ MPLS-TP Network \|
                            +-------------------+
                           ^ \_________________/
                    PW emulation (VPWS)

    Nodes:
     +++++                                                         +++++
     + 1 +----+ - - - - - - - - - - - - - - - - - - - - - - - +----+ 9 +
     +++++    |                                               |    +++++
      CE    +++++   +++++                           +++++   +++++    CE
            + 2 +...+ 3 +-----+- - - - - - - -+-----+ 7 +...+ 8 +
            +++++   +++++     |               |     +++++   +++++
             LER     LSR    +++++   +++++   +++++    LSR     LER
             PE       CE    + 4 +...+ 5 +...+ 6 +             PE
                            +++++   +++++   +++++
                             LER     LSR     LER
                             PE               PE


                  Ethernet encapsulation - Networks view

                                 Figure 4

   The LSR 3 and 7 are one hop away from the IP/MPLS layer point of
   view, CP/MP of IP/MPLS is transparently transported by MPLS-TP
   network.




Martinotti, et al.      Expires September 6, 2009               [Page 8]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   The service provided by the MPLS-TP network could be an E-Line
   service realized via VPWS in case of port based service interface and
   p2p connectivity between LSR 3 and LSR 7 or multiple E-Line services
   in case of VLAN based service interface (e.g.  LSR3 could be
   connected to more that one LSRs through the MPLS-TP network).  In
   both of the above cases the LER4 and 6 do not need to know that above
   the Ethernet layer there is an MPLS LSP.

   The following figure illustrates the stacking relationship among the
   technology layers and OAM relationship among the networks:


   Layers:
    |--------+----------------------CLI----------------------+--------|
    |--SRV--| |---------------------PW----------------------| |--SRV--|
              |------+--------------LSP--------------+------|
              |-ETH-| |------+----ETH--------+------| |-ETH-|
              |-ETY-| |-ETY-| |------PW-----| |-ETY-| |-ETY-|
                              |--LSP-+------|
                              |-ETH-| |-ETH-|
                              |-ETY-| |-ETY-|

   OAM:

   (6)         >-------------------------------------------<          PW
   (5)         >------O-----------------------------O------<         LSP
   (4)                 >----O-----------------O----<                 ETH
   (3)                         >-----------<                          PW
   (2)                         >-----O-----<                         LSP
   (1)  >--<   >...<   >---<   >...<   >...<   >---<   >...<   >--<  PHY

   Nodes:
    +++++  +++++   +++++   +++++   +++++   +++++   +++++   +++++  +++++
    + 1 +--+ 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +---+ 7 +...+ 8 +--+ 9 +
    +++++  +++++   +++++   +++++   +++++   +++++   +++++   +++++  +++++
     CE     LER     LSR     LER     LSR     LER     LSR     LER     CE


               Ethernet encapsulation - Layers and OAM view

                                 Figure 5

   Several levels of OAM are shown in the previous figure, these are not
   comprehensive (e.g.  Ethernet OAM defines several levels for each
   layer) and any subset of them MAY be configured in a network.  A
   brief description of the different levels is provided:





Martinotti, et al.      Expires September 6, 2009               [Page 9]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


      (6) Edge-to-Edge MPLS OAM on IP/MPLS network (at PW level)

      (5) Edge-to-Edge MPLS OAM on IP/MPLS network (at LSP level)

      (4) Router-to-Router Eth OAM on IP/MPLS network

      (3) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at PW level)

      (2) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at LSP level)

      (1) Physical level OAM (MAY be of several kinds)

   Note that the OAM layers not directly related to MPLS-TP network have
   been reported just for completeness of the scenario, however their
   behaviour and interworking are out of scope of this document.

   Open Points:

   o  Interworking between LSP OAM (2), PW OAM (3) and ETH OAM (4) is
      still to be cleared/defined; it could imply fault indication,
      alarm suppression, etc.

7.1.2.  Transparent transport of IP/MPLS

   In this scenario the physical interface between the IP/MPLS and the
   MPLS-TP network is generic and may be other that Ethernet (e.g.
   POS); the interworking is done via client LSP packet encapsulation in
   PW over MPLS-TP (as per PWE3 Protocol Stack Reference Model).
   MPLS-TP LSPs are pre-configured with respect to IP/MPLS LSPs and may
   be seen as forwarding adjacencies by IGP instance of IP/MPLS
   networks.

   The following figure illustrates the functional interworking among
   the networks:

















Martinotti, et al.      Expires September 6, 2009              [Page 10]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


    Networks:
                              Customer Network
        +---+ - - - - - - - - - - - - - - - - - - - - - - - - - +---+
            | _________________________________________________ |
            |/                 IP/MPLS Network                 \|
            +---------------+ - - - - - - - - - +---------------+
           ^ \______________|___________________|______________/
      PW emulation          | _________________ |
                            |/ MPLS-TP Network \|
                            +-------------------+
                           ^ \_________________/
                    PW emulation

    Nodes:
     +++++                                                         +++++
     + 1 +----+ - - - - - - - - - - - - - - - - - - - - - - - +----+ 9 +
     +++++    |                                               |    +++++
      CE    +++++   +++++                           +++++   +++++    CE
            + 2 +...+ 3 +-----+- - - - - - - -+-----+ 7 +...+ 8 +
            +++++   +++++     |               |     +++++   +++++
             LER     LSR    +++++   +++++   +++++    LSR     LER
             PE       CE    + 4 +...+ 5 +...+ 6 +             PE
                            +++++   +++++   +++++
                             LER     LSR     LER
                             PE               PE


             Transparent transport of IP/MPLS - Networks view

                                 Figure 6

   The LSR 3 and 7 are one hop away from the IP/MPLS layer point of
   view.

   The service provided by the MPLS-TP network is p2p; client traffic is
   separated on a per port basis, so that all traffic coming from
   interface toward LSR 3 is transparently transported to LSR 7 and
   viceversa.  The client traffic to be encapsulated is both client MPLS
   packet (client DP) and IP packet (client CP and MP), encapsulation is
   performed via PWs, that is, one PW is needed for the DP (LSP) and one
   for the CP/MP (IP).

   An LSP for IP packets devoted for CP must be pre-configured in order
   to enable the interworking scenario.  If CP interaction between IP/
   MPLS and MPLS-TP is not enabled then the LSP for carrying out MPLS
   packets (client DP) must be pre-configured.

   The following figure illustrates the stacking relationship among the



Martinotti, et al.      Expires September 6, 2009              [Page 11]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   technology layers and OAM relationship among the networks:


   Layers:
    |--------+----------------------CLI----------------------+--------|
    |--SRV--| |---------------------PW----------------------| |--SRV--|
              |------+-------+------LSP------+-------+------|
              |-SRV-| |-SRV-| |---PW--------| |-SRV-| |-SRV-|
                              |--LSP-+------|
                              |-ETH-| |-ETH-|
                              |-ETY-| |-ETY-|

   OAM:
   (5)         >-------------------------------------------<          PW
   (4)         >------O-----------------------------O------<         LSP
   (3)                         >-----------<                          PW
   (2)                         >-----O-----<                         LSP
   (1)                 >---<   >...<   >...<   >---<                 PHY

   Nodes:
    +++++  +++++   +++++   +++++   +++++   +++++   +++++   +++++  +++++
    + 1 +--+ 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +---+ 7 +...+ 8 +--+ 9 +
    +++++  +++++   +++++   +++++   +++++   +++++   +++++   +++++  +++++
     CE     LER     LSR     LER     LSR     LER     LSR     LER     CE


          Transparent transport of IP/MPLS - Layers and OAM view

                                 Figure 7

   Several levels of OAM are possible, a subset of them is shown in the
   previous figure, however these are not comprehensive, any subset of
   them MAY be configured in a network.  A brief description of the
   levels is provided:

      (5) Edge-to-Edge MPLS OAM on IP/MPLS network (at PW level)

      (4) Edge-to-Edge MPLS OAM on IP/MPLS network (at LSP level)

      (3) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at PW level)

      (2) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at LSP level)

      (1) Physical level OAM (MAY be of several kinds)

   Open Points:





Martinotti, et al.      Expires September 6, 2009              [Page 12]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   o  This scenario needs the definition of MPLS packets and IP packets
      encapsulation in PW.

   o  Interworking between MPLS-TP network OAM ((2), (3)) and IP/MPLS
      network OAM ((4), (5)) is still to be cleared/defined; it could
      imply fault indication, alarm suppression, etc.

   o  Interaction between IP/MPLS and MPLS-TP CPs is still to be
      cleared/defined

7.1.3.  IP/MPLS / MPLS-TP hybrid edge node

   The following main features SHOULD be taken into account:

   o  Two or more client interfaces MAY be involved in the service

   o  Peering of client DP (label swapping of client MPLS packets)

   o  Possible tunneling of MP of client MPLS Layer

   o  Possible peering/tunneling CP of client MPLS Layer

   o  Possible handling of PHP of client MPLS Layer

7.1.3.1.  IP/MPLS does not require PHP from MPLS-TP

   In this scenario the edge nodes of the MPLS-TP subnetwork are one hop
   away from the client node of the IP/MPLS network.

   The following figure illustrates the functional interworking among
   the networks.




















Martinotti, et al.      Expires September 6, 2009              [Page 13]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


             IP/MPLS network does not require PHP from MPLS-TP

    Networks:
                              Customer Network
        +---+ - - - - - - - - - - - - - - - - - - - - - - - - - +---+
            | _________________________________________________ |
            |/                 IP/MPLS Network                 \|
            +---------------+ - - - - - - - - - +---------------+
           ^ \______________|___________________|______________/
      PW emulation          | _________________ |
                            |/ MPLS-TP Network \|
                            +-------------------+
                           ^ \_________________/
                     PW emulation

    Nodes:
     +++++                                                         +++++
     + 1 +----+ - - - - - - - - - - - - - - - - - - - - - - - +----+ 9 +
     +++++    |                                               |    +++++
      CE    +++++   +++++   +++++           +++++   +++++   +++++    CE
            + 2 +...+ 3 +---+   +- - - - - -+   +---+ 7 +...+ 8 +
            +++++   +++++   +   +           +   +   +++++   +++++
             LER     LSR    +LSR+   +++++   +LSR+    LSR     LER
             PE             + 4 +...+ 5 +...+ 6 +             PE
                            +++++   +++++   +++++
                             LER     LSR     LER


            IP/MPLS encapsulation over MPLS-TP - Networks view

                                 Figure 8

   The Node 4 and 6 in the above figure act as dual function:

   o  LSR of client IP/MPLS network

   o  LER of server MPLS-TP subnetwork

   Note that this scenario needs the definition of MPLS packets and IP
   packets encapsulation in PW (to be discussed, see Open Points).  The
   following figure illustrates the stacking relationship among the
   technology layers and OAM relationship among the networks:









Martinotti, et al.      Expires September 6, 2009              [Page 14]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


             IP/MPLS network does not require PHP from MPLS-TP

   Layers:
    |--------+----------------------CLI----------------------+--------|
    |--SRV--| |---------------------PW----------------------| |--SRV--|
              |------+-------+------LSP------+-------+------|
              |-SRV-| |-SRV-| |------PW-----| |-SRV-| |-SRV-|
                              |-LSP--+------|
                              |-ETH-| |-ETH-|
                              |-ETY-| |-ETY-|
   OAM:
   (5)         >-------------------------------------------<          PW
   (4)         >--------------O-------------O--------------<         LSP
   (3)                         >-----------<                          PW
   (2)                         >-----O-----<                         LSP
   (1)                 >---<   >...<   >...<   >---<                 PHY
   Nodes:
    +++++  +++++   +++++   +++++   +++++   +++++   +++++   +++++  +++++
    + 1 +--+ 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +---+ 7 +...+ 8 +--+ 9 +
    +++++  +++++   +++++   +++++   +++++   +++++   +++++   +++++  +++++
     CE     LER     LSR     LER     LSR     LER     LSR     LER     CE


         IP/MPLS encapsulation over MPLS-TP - Layers and OAM view

                                 Figure 9

   Several levels of OAM are possible, a subset of them is shown in the
   previous figure, however these are not comprehensive, any subset of
   them MAY be configured in a network.  A brief description of the
   levels is provided:

      (5) Edge-to-Edge MPLS OAM on IP/MPLS network (at PW level)

      (4) Edge-to-Edge MPLS OAM on IP/MPLS network (at LSP level)

      (3) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at PW level)

      (2) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at LSP level)

      (1) Physical level OAM (MAY be of several kinds)

   Open Points:

   o  Interworking between MPLS-TP network OAM ((2), (3)) and IP/MPLS
      network OAM ((4), (5)) is still to be cleared/defined; it could
      imply fault indication, alarm suppression, etc.




Martinotti, et al.      Expires September 6, 2009              [Page 15]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   o  Interaction between IP/MPLS and MPLS-TP CPs is still to be
      cleared/defined

   o  MPLS-TP edge nodes provides Forwarding Adjacency to the IP/MPLS
      network; this handling is left for further study.

7.1.3.2.  IP/MPLS requires PHP from MPLS-TP

   Note: the following scenario is NOT recommended.

   In this scenario the edge nodes of the MPLS-TP subnetwork are one hop
   away from at least one client node (of the IP/MPLS network) requiring
   PHP.

   The following figure illustrates the functional interworking among
   the networks:

                     IP/MPLS requires PHP from MPLS-TP

       Networks:
                              Customer Network
           +---+ - - - - - - - - - - - - - - - - - - - - - - +---+
               | ___________________________________________ |
               |/              IP/MPLS Network     (PHP)->  \|
               +---------------+ - - - - - - - - - +---------+
              ^ \______________|___________________|________/
         PW emulation          | _________________ |
                               |/ MPLS-TP Network \|
                               +-------------------+
                              ^ \_________________/
                         PW emulation
       Nodes:
        +++++                                                   +++++
        + 1 +----+ - - - - - - - - - - - - - - - - - - - - +----+ 8 +
        +++++    |                                 (PHP)-> |    +++++
         CE    +++++   +++++   +++++           +++++     +++++    CE
               + 2 +...+ 3 +---+   +- - - - - -+   +-----+ 7 +
               +++++   +++++   +   +           +   +     +++++
                LER     LSR    +LSR+   +++++   +LSR+      LER
                PE             + 4 +...+ 5 +...+ 6 +       PE
                               +++++   +++++   +++++
                                LER     LSR     LER


             IP/MPLS encapsulation over MPLS-TP - Network view

                                 Figure 10




Martinotti, et al.      Expires September 6, 2009              [Page 16]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   The Node 4 and 6 in the above figure act as dual function:

   o  LSR of client IP/MPLS network

   o  LER of server MPLS-TP subnetwork

   As Node 8 of client IP/MPLS network requires PHP, Node 6 which act as
   penultimate hop is required to drop LSP label of client IP/MPLS
   tunnel (indicated in direction from center to right on Node 6).

   The following figure illustrates the stacking relationship among the
   technology layers and OAM relationship among the networks:

                     IP/MPLS requires PHP from MPLS-TP

      Layers (direction from 1 to 8 shown):
       |--------+----------------------CLI----------------+--------|
       |--SRV--| |---------------------PW------(PHP)->---| |--SRV--|
                 |------+-------+------LSP-----| |--SRV--|
                 |-SRV-| |-SRV-| |--PW---------|
                                 |-LSP--+------|
                                 |-ETH-| |-ETH-|
                                 |-ETY-| |-ETY-|

      OAM:
      (4)         >-------------?---------------?-------<          PW
      (3)                         >-----------<                    PW
      (2)                         >-----------<                   LSP
      (1)                 >---<   >...<   >...<   >-----<         PHY

      Nodes:
       +++++  +++++   +++++   +++++   +++++   +++++     +++++  +++++
       + 1 +--+ 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +-----+ 7 +--+ 8 +
       +++++  +++++   +++++   +++++   +++++   +++++     +++++  +++++
        CE     LER     LSR     LER     LSR     LER       LER    CE


         IP/MPLS encapsulation over MPLS-TP - Layers and OAM view

                                 Figure 11

   Several levels of OAM are possible, a subset of them is shown in the
   previous figure, however these are not comprehensive, any subset of
   them MAY be configured in a network.  A brief description of the
   different levels is provided:






Martinotti, et al.      Expires September 6, 2009              [Page 17]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


      (4) Edge-to-Edge MPLS OAM on IP/MPLS network (at PW level)

      (3) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at PW level)

      (2) Edge-to-Edge MPLS-TP OAM on MPLS-TP network (at LSP level)

      (1) Physical level OAM (MAY be of several kinds)

   Open Issues:

   o  As in the IP/MPLS network the LSP, which is tunneled over MPLS-TP
      network, is terminated on a Node requiring PHP (Node 8), IP/MPLS
      OAM cannot be used at LSP level, so monitoring can be performed at
      PW level.

   o  Interworking on Node 6 between MPLS-TP OAM and IP/MPLS OAM (at PW
      level) MAY be performed in egress direction, but its details are
      out of scope of this document.

   o  Interworking between MPLS-TP OAM and IP/MPLS OAM (at PW level)
      SHOULD NOT be performed in ingress direction, due to independence
      of layers.

   Open Points:

   o  Interworking between MPLS-TP network OAM ((2), (3)) and IP/MPLS
      network OAM (4) is still to be cleared/defined

   o  Interaction between IP/MPLS and MPLS-TP CPs is still to be
      cleared/defined

   o  MPLS-TP edge nodes provides Forwarding Adjacency to the IP/MPLS
      network; this handling is left for further study.

7.2.  Network Partitioning

   In the rest of this Section the following assumptions apply:

   o  Customer network is carried partly over IP/MPLS subnetwork (e.g.
      via PW encapsulation) and partly over MPLS-TP subnetwork.

   o  IP/MPLS network is deployed over Ethernet (at least on interfaces
      interconnecting to the MPLS-TP subnetwork)

   o  MPLS-TP subnetwork is deployed over Ethernet, however other server
      layers are possible (not shown in this document)

   For the purposes of this Section, MPLS-TP subnetwork is deployed



Martinotti, et al.      Expires September 6, 2009              [Page 18]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   between a CE and an IP/MPLS subnetwork.  Other kinds of deployment
   are possible (not shown in this document), for instance:

   o  More than two subnetworks are deployed between the CEs

   o  MPLS-TP can be deployed between two subnetworks

7.2.1.  Border Node

   Main features to be taken into account:

   o  MultiSegment Pseudowire

   o  LSP Stitching

   o  Network Interworking

   o  End-to-End OAM support

   o  Interaction between DP of IP/MPLS and DP of MPLS-TP

   o  Interaction between CP of IP/MPLS and CP of MPLS-TP

   o  Interaction between MP of IP/MPLS and MP of MPLS-TP

   o  No need of PHP handling by MPLS-TP node

7.2.1.1.  Multisegment Pseudowire

   The following figure illustrates the functional interworking among
   the networks:




















Martinotti, et al.      Expires September 6, 2009              [Page 19]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


            Networks:
                              Customer Network
                +---+ - - - - - - - - - - - - - - - - - +---+
                    | _______________   _______________ |
                    |/  IP/MPLS Net. \ /  MPLS-TP Net. \|
                    +-----------------+-----------------+
                   ^ \_______________/ \_______________/
              PW emulation

            PWs:
                      |-------------MS-PW-------------|
                      |---------------|---------------|
                                ^         ^
                                PW segments

            Nodes:
             +++++                                         +++++
             + 1 +----+- - - - - - - - - - - - - - - -+----+ 7 +
             +++++    |                               |    +++++
              CE    +++++   +++++   +++++   +++++   +++++    CE
                    + 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +
                    +++++   +++++   +++++   +++++   +++++
                     LER     LSR     LER     LSR     LER
                     T-PE            S-PE           T-PE


       Border Node - Multisegment Pseudowire - Networks and PWs view

                                 Figure 12

   The following figure illustrates the stacking relationship among the
   technology layers and OAM relationship among the networks:



















Martinotti, et al.      Expires September 6, 2009              [Page 20]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


           Layers:
            |--------+--------------CLI--------------+--------|
            |--SRV--| |---------PW---+--------------| |--SRV--|
                      |-----LSP-----| |-----LSP-----|
                      |-ETH-| |-ETH-| |-ETH-| |-ETH-|
                      |-ETY-| |-ETY-| |-ETY-| |-ETY-|

           OAM:
           (3)         >-------------O-------------<       MS-PW
           (2)         >-----------<   >-----------<         LSP
           (1)  >--<   >...<   >---<   >...<   >...<   >--<  PHY

           Nodes:
            +++++  +++++   +++++   +++++   +++++   +++++  +++++
            + 1 +--+ 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +--+ 7 +
            +++++  +++++   +++++   +++++   +++++   +++++  +++++
             CE     LER     LSR     LER     LSR     LER     CE


        Border Node - Multisegment Pseudowire - Layers and OAM view

                                 Figure 13

   Several levels of OAM are possible, a subset of them is shown in the
   previous figure, however these are not comprehensive, any subset of
   them MAY be configured in a network.  A brief description of the
   different levels is provided:

      (3) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at PW
      level)

      (2) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at LSP
      level)

      (1) Physical level OAM (MAY be of several kind)

   Open Points:

   o  Interworking between LSP OAM (2) and MS-PW OAM (3) is still to be
      cleared/defined

   o  Edge-to-Edge MS-PW OAM (3) must be configured on different
      subnetworks








Martinotti, et al.      Expires September 6, 2009              [Page 21]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


7.2.1.2.  LSP stitching

   The following figure illustrates the functional interworking among
   the networks:


            Networks:
                              Customer Network
                +---+ - - - - - - - - - - - - - - - - - +---+
                    | _______________   _______________ |
                    |/  IP/MPLS Net. \ /  MPLS-TP Net. \|
                    +-----------------+-----------------+
                   ^ \_______________/ \_______________/
              PW emulation

            PWs:
                      |-------------SS-PW-------------|

            Nodes:
             +++++                                         +++++
             + 1 +----+- - - - - - - - - - - - - - - -+----+ 9 +
             +++++    |                               |    +++++
              CE    +++++   +++++   +++++   +++++   +++++    CE
                    + 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +
                    +++++   +++++   +++++   +++++   +++++
                     LER     LSR     LER     LSR     LER
                     PE                               PE


            Border Node - LSP stitching - Networks and PWs view

                                 Figure 14

   The following figure illustrates the stacking relationship among the
   technology layers and OAM relationship among the networks:
















Martinotti, et al.      Expires September 6, 2009              [Page 22]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


           Layers:
            |--------+--------------CLI--------------+--------|
            |--SRV--| |--------------PW-------------| |--SRV--|
                      |-------------<->-LSP---------|
                      |-ETH-| |-ETH-| |-ETH-| |-ETH-|
                      |-ETY-| |-ETY-| |-ETY-| |-ETY-|

           OAM:
           (4)         >---------------------------<          PW
           (3)         >-------------O-------------<         LSP
           (2)         >-----------<   >-----------<         TCM
           (1)  >--<   >...<   >---<   >...<   >...<   >--<  PHY

           Nodes:
            +++++  +++++   +++++   +++++   +++++   +++++  +++++
            + 1 +--+ 2 +...+ 3 +---+ 4 +...+ 5 +...+ 6 +--+ 7 +
            +++++  +++++   +++++   +++++   +++++   +++++  +++++
             CE     LER     LSR     LER     LSR     LER     CE


             Border Node - LSP stitching - Layers and OAM view

                                 Figure 15

   Note: in this case a SS-PW extends over the subnetworks as the
   stitched LSP does.  TCM can be used to monitor the LSP segments.

   Several levels of OAM are possible, a subset of them is shown in the
   previous figure, however these are not comprehensive, any subset of
   them MAY be configured in a network.  A brief description of the
   different levels is provided:

      (4) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at PW
      level)

      (3) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at LSP
      level)

      (2) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at TCM
      level)

      (1) Physical level OAM (MAY be of several kind)

   Open Points:

   o  Edge-to-Edge LSP OAM (3) must be configured on different
      subnetworks




Martinotti, et al.      Expires September 6, 2009              [Page 23]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   o  Edge-to-Edge PW OAM (4) must be configured on different
      subnetworks

   o  Interworking between TCM OAM (2) and LSP OAM (3) is still to be
      cleared/defined

   o  Interaction between IP/MPLS and MPLS-TP CPs is still to be
      cleared/defined

7.2.2.  Border Link

   Main features to be taken into account:

   o  MultiSegment Pseudowire

   o  LSP Stitching

   o  Interaction between DP of IP/MPLS and DP of MPLS-TP

   o  Interaction between CP of IP/MPLS and CP of MPLS-TP

   o  No interaction between MP of IP/MPLS and MP of MPLS-TP

   o  Possible PHP handling of client MPLS Layer

7.2.2.1.  Multisegment Pseudowire

   The following figure illustrates the functional interworking among
   the networks:






















Martinotti, et al.      Expires September 6, 2009              [Page 24]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


            Networks:
                              Customer Network
                +---+ - - - - - - - - - - - - - - - - - -+---+
                    | ___________         ______________ |
                    |/IP/MPLS N. \       /  MPLS-TP N.  \|
                    +-------------+-----+----------------+
                   ^ \___________/       \______________/
              PW emulation

            PWs:
                      |------------MS-PW--------------|
                      |-----------|-----|-------------|
                                ^    ^     ^
                                PW segments

            Nodes:
             +++++                                         +++++
             + 1 +----+- - - - - - - - - - - - - - - -+----+ 6 +
             +++++    |                               |    +++++
              CE    +++++     +++++     +++++       +++++    CE
                    + 2 +.....+ 3 +-----+ 4 +.......+ 5 +
                    +++++     +++++     +++++       +++++
                     LER       LER       LER         LER
                     T-PE      S-PE      S-PE       T-PE


           Border Link - Multisegment Pseudowire - Networks view

                                 Figure 16

   The following figure illustrates the stacking relationship among the
   technology layers and OAM relationship among the networks:



















Martinotti, et al.      Expires September 6, 2009              [Page 25]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


           Layers:
            |--------+-------------CLI---------------+--------|
            |--SRV--| |--------+----PW---+----------| |--SRV--|
                      |--LSP--| |--LSP--| |---LSP---|
                      |- ETH -| |--ETH--| |- -ETH- -|
                      |- ETY -| |--ETY--| |- -ETY- -|

           OAM:
           (3)         >-------O---------O---------<       MS-PW
           (2)         >-----<   >-----<   >-------<         LSP
           (1)  >--<   >.....<   >-----<   >.......<   >--<  PHY

           Nodes:
            +++++  +++++     +++++     +++++       +++++  +++++
            + 1 +--+ 2 +.....+ 3 +-----+ 4 +.......+ 5 +--+ 6 +
            +++++  +++++     +++++     +++++       +++++  +++++
             CE     LER       LER       LER         LER     CE


        Border Link - Multisegment Pseudowire - Layers and OAM view

                                 Figure 17

   Several levels of OAM are possible, a subset of them is shown in the
   previous figure, however these are not comprehensive, any subset of
   them MAY be configured in a network.  A brief description of the
   different levels is provided:

      (3) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at PW
      level)

      (2) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at LSP
      level)

      (1) Physical level OAM (MAY be of several kinds)

   Open Points:

   o  Interworking between LSP OAM (2) and MS-PW OAM (3) is still to be
      cleared/defined

   o  LSP between Node 3 and 4 could be avoided, however in this case PW
      over Ethernet should be specified.

   o  Edge-to-Edge MS-PW OAM (3) must be configured on different
      subnetworks





Martinotti, et al.      Expires September 6, 2009              [Page 26]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


7.2.2.2.  LSP stitching

   The following figure illustrates the functional interworking among
   the networks:


            Networks:
                              Customer Network
                +---+ - - - - - - - - - - - - - - - - - -+---+
                    | ___________         ______________ |
                    |/IP/MPLS N. \       /  MPLS-TP N.  \|
                    +-------------+-----+----------------+
                   ^ \___________/       \______________/
              PW emulation

            PWs:
                      |------------SS-PW--------------|

            Nodes:
             +++++                                         +++++
             + 1 +----+- - - - - - - - - - - - - - - -+----+ 6 +
             +++++    |                               |    +++++
              CE    +++++     +++++     +++++       +++++    CE
                    + 2 +.....+ 3 +-----+ 4 +.......+ 5 +
                    +++++     +++++     +++++       +++++
                     LER       LER       LER         LER
                     PE                               PE


                Border Link - LSP stitching - Networks view

                                 Figure 18

   The following figure illustrates the stacking relationship among the
   technology layers and OAM relationship among the networks:
















Martinotti, et al.      Expires September 6, 2009              [Page 27]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


           Layers:
            |--------+-------------CLI---------------+--------|
            |--SRV--| |-------------PW--------------| |--SRV--|
                      |-------<->--LSP--<->---------|
                      |- ETH -| |--ETH--| |- -ETH- -|
                      |- ETY -| |--ETY--| |- -ETY- -|
           OAM:
           (4)         >---------------------------<       SS-PW
           (3)         >-------O---------O---------<         LSP
           (2)         >-----<   >-----<   >-------<         TCM
           (1)  >--<   >.....<   >-----<   >.......<   >--<  PHY
           Nodes:
            +++++  +++++     +++++     +++++       +++++  +++++
            + 1 +--+ 2 +.....+ 3 +-----+ 4 +.......+ 5 +--+ 6 +
            +++++  +++++     +++++     +++++       +++++  +++++
             CE     LER       LER       LER         LER     CE


             Border Link - LSP stitching - Layers and OAM view

                                 Figure 19

   Note: in this case a SS-PW extends over the subnetworks as the
   stitched LSP does.  TCM can be used to monitor the LSP segments.

   Several levels of OAM are possible, a subset of them is shown in the
   previous figure, however these are not comprehensive, any subset of
   them MAY be configured in a network.  A brief description of the
   different levels is provided:

      (4) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at PW
      level)

      (3) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at LSP
      level)

      (2) Edge-to-Edge MPLS/MPLS-TP OAM on partitioned network (at TCM
      level)

      (1) Physical level OAM (MAY be of several kinds)

   Open Points:

   o  Edge-to-Edge LSP OAM (3) must be configured on different
      subnetworks

   o  Edge-to-Edge PW OAM (4) must be configured on different
      subnetworks



Martinotti, et al.      Expires September 6, 2009              [Page 28]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   o  Interworking between TCM OAM (2) and LSP OAM (3) is still to be
      cleared/defined

   o  Interaction between IP/MPLS and MPLS-TP CPs is still to be
      cleared/defined


8.  Conclusions

   This document has illustrated some interworking scenarios between
   MPLS-TP and IP/MPLS.  Where open points and open issues still appear,
   the reader is invited to contribute to their resolution.

   The following scenarios are recommended:

      Network Layering

         Ethernet encapsulation over MPLS-TP

         Transparent transport of IP/MPLS

      Network Partitioning

         Border Link, using Multisegment Pseudowire


9.  Acknowledgements

   The authors gratefully acknowledge the input of Attila Takacs.


10.  IANA Considerations

   This memo includes no request to IANA.


11.  Security Considerations

   This document does not introduce any additional security aspects
   beyond those applicable to PWE3 and MPLS.


12.  References

12.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.



Martinotti, et al.      Expires September 6, 2009              [Page 29]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


12.2.  Informative References

   [RFC3031]  Rosen, E., Viswanathan, A., and R. Callon, "Multiprotocol
              Label Switching Architecture", RFC 3031, January 2001.

   [draft jenkins]
              Niven-Jenkins, B., Brungard, D., and M. Betts, "MPLS-TP
              Requirements",
              ID draft-jenkins-mpls-mpls-tp-requirements-00, July 2008.

   [draft mpls-tp framework]
              Bocci, M., Bryant, S., and L. Levrau, "A Framework for
              MPLS in Transport Networks",
              ID draft-ietf-mpls-tp-framework-00, November 2008.

   [draft vigoureux]
              Vigoureux, M., "Requirements for OAM in MPLS Transport
              Networks", ID draft-vigoureux-mpls-tp-oam-requirements-00,
              June 2008.

   [ITU-T G.805]
              "Generic functional architecture of transport networks",
              ID ITU-T G.805, March 2000.


Appendix A.  Additional Stuff

   This becomes an Appendix.


Authors' Addresses

   Riccardo Martinotti
   Ericsson
   Via A. Negrone 1/A
   Genova - Sestri Ponente  16153
   Italy

   Email: riccardo.martinotti@ericsson.com












Martinotti, et al.      Expires September 6, 2009              [Page 30]

Internet-Draft  draft-martinotti-mpls-tp-interworking-01      March 2009


   Diego Caviglia
   Ericsson
   Via A. Negrone 1/A
   Genova - Sestri Ponente  16153
   Italy

   Email: diego.caviglia@ericsson.com


   Nurit Sprecher
   Nokia Siemens Networks
   3 Hanagar St. Neve Ne'eman B
   Hod Hasharon  45241
   Israel

   Email: nurit.sprecher@nsn.com


   Alessandro D'Alessandro
   Telecom Italia
   Via Reiss Romoli, 274
   Torino  10148
   Italy

   Email: alessandro.dalessandro@telecomitalia.it


   Alessandro Capello
   Telecom Italia
   Via Reiss Romoli, 274
   Torino  10148
   Italy

   Email: alessandro.capello@telecomitalia.it

















Martinotti, et al.      Expires September 6, 2009              [Page 31]


