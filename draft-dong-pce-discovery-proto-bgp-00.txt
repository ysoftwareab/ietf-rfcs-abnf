



Network Working Group                                            J. Dong
Internet-Draft                                                   M. Chen
Intended status: Standards Track                     Huawei Technologies
Expires: January 1, 2015                                   June 30, 2014


      BGP Extensions for Path Computation Element (PCE) Discovery
                 draft-dong-pce-discovery-proto-bgp-00

Abstract

   In network scenarios where Path Computation Element (PCE) is used for
   centralized path computation, it is desirable for Path Computation
   Clients (PCCs) to automatically discover the set of PCEs.  As BGP has
   been extended for north-bound distribution of routing and LSP path
   information to PCE, the PCEs may not participate in Interior Gateway
   Protocol (IGP) for collecting the routing information, thus the IGP
   based PCE discovery cannot be used directly in these scenarios.  This
   document specifies the BGP extensions for PCE discovery.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 1, 2015.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Dong & Chen              Expires January 1, 2015                [Page 1]

Internet-Draft      BGP Extensions for PCE Discovery           June 2014


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Carrying PCE Discovery Information in BGP . . . . . . . . . .   3
     2.1.  PCE Address Information . . . . . . . . . . . . . . . . .   3
     2.2.  PCE Discovery Attribute . . . . . . . . . . . . . . . . .   4
   3.  Operational Considerations  . . . . . . . . . . . . . . . . .   5
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   In network scenarios where Path Computation Element (PCE) is used for
   centralized path computation, it is desirable for Path Computation
   Clients (PCCs) to automatically discover the set of PCEs.  As BGP
   will be used for north-bound distribution of routing and Label
   Switched Path (LSP) information to PCE[I-D.ietf-idr-ls-distribution]
   [I-D.ietf-idr-te-lsp-distribution] [I-D.ietf-idr-te-pm-bgp], the PCEs
   may not participate in Interior Gateway Protocol (IGP) for collecting
   the routing information, thus the IGP based PCE discovery mechanisms
   defined in [RFC5088] [RFC5089] cannot be used directly.

   This document proposes to extend BGP for PCE discovery in such
   scenarios.  While in each IGP domain, the IGP based PCE discovery
   mechanism may be used in conjunction with the BGP based PCE
   discovery.  Thus the BGP based PCE discovery is complemental to the
   existing IGP based mechanisms.









Dong & Chen              Expires January 1, 2015                [Page 2]

Internet-Draft      BGP Extensions for PCE Discovery           June 2014


                                   +---------+
                                   |   PCE   |
                                   +---------+
                                      ^  |
                                      |  |
                                      |  V
                                   +---------+
                        +--------->|   BGP   |<---------+
                        |     +----| Speaker |----+     |
                        |     |    +---------+    |     |
                        |     |       ^  |        |     |
                        |     |       |  |        |     |
                        |     V       |  V        V     |
                     +---------+   +---------+   +---------+
                     |   BGP   |   |   BGP   |   |   BGP   |
                     | Speaker |   | Speaker |   | Speaker |
                     +---------+   +---------+   +---------+
                          ^             ^             ^
          IGP(optional)   |             |             |
                          V             V             V
                     +---------+   +---------+   +---------+
                     |   PCC   |   |   PCC   |   |   PCC   |
                     +---------+   +---------+   +---------+

          Figure 1. BGP for routing collection and PCE discovery

   As shown in the network architecture in Figure 1, BGP is used for
   both routing information distribution and PCE information discovery.
   The routing information is distributed from the network elements up
   to PCE, while the PCE discovery information is advertised from PCE
   down to PCCs.  IGP based PCE discovery mechanism may be used for the
   distribution of PCE discovery information in each IGP domain.

2.  Carrying PCE Discovery Information in BGP

2.1.  PCE Address Information

   The PCE discovery information is advertised in BGP UPDATE messages
   using the MP_REACH_NLRI and MP_UNREACH_NLRI attributes [RFC4760].  A
   new NLRI called PCE_ADDR NLRI is defined for carrying the PCE address
   information which can be used to reach the PCE.  The AFI/SAFI value
   for the PCE_ADDR NLRI is TBD.  In order for two BGP speakers to
   exchange PCE_ADDR NLRI, they MUST use BGP Capabilities Advertisement
   [RFC4760] to ensure that both are capable of properly processing such
   NLRI.  This is done by using Capability Code 1 (which indicates
   Multiprotocol Extensions capabilities), with the AFI/SAFI pair for
   the PCE_ADDR NLRI.




Dong & Chen              Expires January 1, 2015                [Page 3]

Internet-Draft      BGP Extensions for PCE Discovery           June 2014


   The format of PCE_ADDR NLRI is shown as below:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |            Type               |            Length             |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     ~                  PCE-Address (4 or 16 octets)                 ~
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                       Figure 2. PCE_ADDR NLRI

   For PCEs identified by IPv4 address, the Type field SHOULD be set to
   1, and the Length field SHOULD be set to 4.

   For PCEs identified by IPv6 address, the Type field SHOULD be set to
   2, and the Length field SHOULD be set to 16.

2.2.  PCE Discovery Attribute

   The detailed PCE discovery information is carried in a new optional
   non-transitive BGP attribute called PCE_DISC Attribute, which
   consists of a series of PCE Discovery TLVs for specific PCE
   information.  The PCE_DISC attribute SHOULD only be used with
   PCE_ADDR NLRI.

   The format of the PCE Discovery TLV is shown as below:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |              Type             |             Length            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     ~                   PCE Discovery TLVs (variable)               ~
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                       Figure 3. PCE Discovery TLVs

   The Type code and format of the PCE Discovery TLVs are consistent
   with the IGP PCED Sub-TLVs defined in [RFC5088] [RFC5089].  Type 1 is
   reserved, which is used in IGP based PCE discovery mechanisms to
   carry PCE Address .







Dong & Chen              Expires January 1, 2015                [Page 4]

Internet-Draft      BGP Extensions for PCE Discovery           June 2014


    TLV-Type  Length           Name
      2         3         PATH-SCOPE TLV
      3      variable     PCE-DOMAIN TLV
      4      variable     NEIG-PCE-DOMAIN TLV
      5      variable     PCE-CAP-FLAGS TLV

   The PATH-SCOPE TLV MUST always be carried in the PCE_DISC Attribute.
   Other TLVs are optional and may facilitate the PCE selection.

   More PCE Discovery TLVs may be defined in future.

3.  Operational Considerations

   Existing BGP operational procedures apply to the advertisement of PCE
   discovery information.  Such information is treated as pure
   application level data which has no immediate impact on forwarding
   states.

   PCE discovery information is considered relatively stable and does
   not change frequently, thus this information will not bring
   significant impact on the amount of BGP updates in the network.

4.  IANA Considerations

   IANA needs to assign new AFI and SAFI codes for PCE_ADDR NLRI from
   "Address Family Numbers" and "Subsequent Address Family Identifiers"
   registry.

   IANA needs to assign a new type code for "PCE_DISC" attribute from
   "BGP Path Attributes" registry.

5.  Security Considerations

   Procedures and protocol extensions defined in this document do not
   affect the BGP security model.  See [RFC6952] for details.

6.  Acknowledgements

   The authors would like to thank Zhenbin Li for the discussion and
   comments.

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.




Dong & Chen              Expires January 1, 2015                [Page 5]

Internet-Draft      BGP Extensions for PCE Discovery           June 2014


   [RFC4760]  Bates, T., Chandra, R., Katz, D., and Y. Rekhter,
              "Multiprotocol Extensions for BGP-4", RFC 4760, January
              2007.

   [RFC5088]  Le Roux, JL., Vasseur, JP., Ikejiri, Y., and R. Zhang,
              "OSPF Protocol Extensions for Path Computation Element
              (PCE) Discovery", RFC 5088, January 2008.

   [RFC5089]  Le Roux, JL., Vasseur, JP., Ikejiri, Y., and R. Zhang,
              "IS-IS Protocol Extensions for Path Computation Element
              (PCE) Discovery", RFC 5089, January 2008.

   [RFC6952]  Jethanandani, M., Patel, K., and L. Zheng, "Analysis of
              BGP, LDP, PCEP, and MSDP Issues According to the Keying
              and Authentication for Routing Protocols (KARP) Design
              Guide", RFC 6952, May 2013.

7.2.  Informative References

   [I-D.ietf-idr-ls-distribution]
              Gredler, H., Medved, J., Previdi, S., Farrel, A., and S.
              Ray, "North-Bound Distribution of Link-State and TE
              Information using BGP", draft-ietf-idr-ls-distribution-05
              (work in progress), May 2014.

   [I-D.ietf-idr-te-lsp-distribution]
              Dong, J., Chen, M., Gredler, H., and S. Previdi,
              "Distribution of MPLS Traffic Engineering (TE) LSP State
              using BGP", draft-ietf-idr-te-lsp-distribution-00 (work in
              progress), January 2014.

   [I-D.ietf-idr-te-pm-bgp]
              Wu, Q., Danhua, W., Previdi, S., Gredler, H., and S. Ray,
              "BGP attribute for North-Bound Distribution of Traffic
              Engineering (TE) performance Metrics", draft-ietf-idr-te-
              pm-bgp-00 (work in progress), January 2014.

Authors' Addresses

   Jie Dong
   Huawei Technologies
   Huawei Campus, No. 156 Beiqing Rd.
   Beijing  100095
   China

   Email: jie.dong@huawei.com





Dong & Chen              Expires January 1, 2015                [Page 6]

Internet-Draft      BGP Extensions for PCE Discovery           June 2014


   Mach(Guoyi) Chen
   Huawei Technologies
   Huawei Campus, No. 156 Beiqing Rd.
   Beijing  100095
   China

   Email: mach.chen@huawei.com












































Dong & Chen              Expires January 1, 2015                [Page 7]
