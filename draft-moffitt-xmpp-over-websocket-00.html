<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>An XMPP Sub-protocol for WebSocket</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="An XMPP Sub-protocol for WebSocket">
<meta name="keywords" content="I-D, Internet-Draft, WebSocket, XMPP">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">HyBi Working Group</td><td class="header">J. Moffitt, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">E. Cestari</td></tr>
<tr><td class="header">Expires: June 11, 2011</td><td class="header">ProcessOne</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">December 8, 2010</td></tr>
</table></td></tr></table>
<h1><br />An XMPP Sub-protocol for WebSocket<br />draft-moffitt-xmpp-over-websocket-00</h1>

<h3>Abstract</h3>

<p>
        This document defines a binding for the XMPP protocol over a
        WebSocket transport layer. A WebSocket binding for XMPP
        provides higher performance than the current HTTP binding for
        XMPP.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on June 11, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Terminology<br />
<a href="#anchor2">3.</a>&nbsp;
XMPP Sub-Protocol<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.1.</a>&nbsp;
Handshake<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#messages">3.2.</a>&nbsp;
Messages<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#setup">3.3.</a>&nbsp;
XMPP Stream Setup<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#errors">3.4.</a>&nbsp;
Stream Errors<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#closing">3.5.</a>&nbsp;
Closing the Connection<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.6.</a>&nbsp;
Stanzas<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.7.</a>&nbsp;
Stream Restarts<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.8.</a>&nbsp;
Pings and Keepalives<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tls">3.9.</a>&nbsp;
TLS<br />
<a href="#anchor7">4.</a>&nbsp;
Examples<br />
<a href="#iana">5.</a>&nbsp;
IANA Considerations<br />
<a href="#security">6.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">7.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        Applications using XMPP (see <a class='info' href='#RFC3920'>[RFC3920]<span> (</span><span class='info'>Saint-Andre, P., Ed., &ldquo;Extensible Messaging and Presence Protocol (XMPP): Core,&rdquo; October&nbsp;2004.</span><span>)</span></a> and
        <a class='info' href='#RFC3921'>[RFC3921]<span> (</span><span class='info'>Saint-Andre, P., Ed., &ldquo;Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence,&rdquo; October&nbsp;2004.</span><span>)</span></a>) on the Web currently make use of
        BOSH (see <a class='info' href='#XEP-0124'>[XEP&#8209;0124]<span> (</span><span class='info'>Paterson, I., Smith, D., Saint-Andre, P., and J. Moffitt, &ldquo;Bidirectional-streams Over Synchronous HTTP (BOSH),&rdquo; July&nbsp;2010.</span><span>)</span></a> and <a class='info' href='#XEP-0206'>[XEP&#8209;0206]<span> (</span><span class='info'>Paterson, I. and P. Saint-Andre, &ldquo;XMPP Over BOSH,&rdquo; July&nbsp;2010.</span><span>)</span></a>), an XMPP binding to HTTP. BOSH is based
        on the HTTP long polling technique, and it suffers from high
        transport overhead compared to XMPP's native binding to TCP.
      
</p>
<p>
        It would be much better in most circumstances to avoid
        tunneling XMPP over HTTP long polled connections and instead
        use the XMPP protocol directly. However, the APIs and sandbox
        that browsers have provided do not allow this. The WebSocket
        protocol <a class='info' href='#I-D.ietf-hybi-thewebsocketprotocol'>[I&#8209;D.ietf&#8209;hybi&#8209;thewebsocketprotocol]<span> (</span><span class='info'>Fette, I., &ldquo;The WebSocket protocol,&rdquo; October&nbsp;2010.</span><span>)</span></a>
        now exists to solve these kinds of problems. The WebSocket
        protocol is a bi-directional protocol that provides a simple
        message-based framing layer over raw sockets and allows for more
        robust and efficient communication in web applications.
      
</p>
<p>
        This document defines a binding of the XMPP protocol over the
        WebSocket protocol transport. It makes using XMPP within web
        applications simpler and more efficient.
      
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
        The basic unit of framing in the WebSocket protocol is called
        a message. In XMPP, the basic unit is the stanza, which is a
        subset of the first-level children of each document in an XMPP
        stream (see Section 9 of <a class='info' href='#RFC3920'>[RFC3920]<span> (</span><span class='info'>Saint-Andre, P., Ed., &ldquo;Extensible Messaging and Presence Protocol (XMPP): Core,&rdquo; October&nbsp;2004.</span><span>)</span></a>). XMPP also
        has a concept of messages, which are stanzas whose top-level
        element name is message. In this document, the word "message"
        will mean a WebSocket message, not an XMPP message stanza (see
        <a class='info' href='#messages'>Section&nbsp;3.2<span> (</span><span class='info'>Messages</span><span>)</span></a>).
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
XMPP Sub-Protocol</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Handshake</h3>

<p>
          The xmpp sub-protocol is used to transport XMPP over a
          WebSocket connection. The client and server agree to this
          protocol during the WebSocket handshake (see Section 1.3 of
          <a class='info' href='#I-D.ietf-hybi-thewebsocketprotocol'>[I&#8209;D.ietf&#8209;hybi&#8209;thewebsocketprotocol]<span> (</span><span class='info'>Fette, I., &ldquo;The WebSocket protocol,&rdquo; October&nbsp;2010.</span><span>)</span></a>).
        
</p>
<p>
          During the WebSocket handshake, the client MUST include the
          |Sec-WebSocket-Protocol| header in its handshake, and the
          value |xmpp| must be included in the list of protocols. The
          reply from the server MUST also contain |xmpp| in its own
          |Sec-WebSocket-Protocol| header in order for an XMPP
          sub-protocol connection to be established.
        
</p>
<p>
          Once the handshake is complete, WebSocket messages sent or
          received will conform to the protocol defined in the rest of
          this document.
        
</p>
<a name="messages"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Messages</h3>

<p>
          Data frame messages in the XMPP sub-protocol MUST be of the
          text type and contain UTF-8 encoded data. The close control
          frame's contents are specified in <a class='info' href='#closing'>Section&nbsp;3.5<span> (</span><span class='info'>Closing the Connection</span><span>)</span></a>. Control frames other than close are not
          restricted.
        
</p>
<p>
          Unless noted in text, the word "message" will mean a
          WebSocket message containing a text data frame.
        
</p>
<a name="setup"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
XMPP Stream Setup</h3>

<p>
          The first message sent after the handshake is complete MUST
          be an XMPP opening stream tag as defined in XMPP <a class='info' href='#RFC3920'>[RFC3920]<span> (</span><span class='info'>Saint-Andre, P., Ed., &ldquo;Extensible Messaging and Presence Protocol (XMPP): Core,&rdquo; October&nbsp;2004.</span><span>)</span></a> or an XML text declaration (see Section
          4.3.1 of <a class='info' href='#W3C.REC-xml-20081126'>[W3C.REC&#8209;xml&#8209;20081126]<span> (</span><span class='info'>Sperberg-McQueen, C., Yergeau, F., Maler, E., Paoli, J., and T. Bray, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>) followed by
          an XMPP opening stream tag. The stream tag MUST NOT be
          closed (i.e. the closing &lt;/stream:stream> tag should not
          appear in the message) as it is the start of the client's
          outgoing XML. The '&lt;' character of the tag or text
          declaration MUST be the first character of the text payload.
        
</p>
<p>
          The server MUST respond with a message containing an error
          (see <a class='info' href='#errors'>Section&nbsp;3.4<span> (</span><span class='info'>Stream Errors</span><span>)</span></a>), its own opening stream tag,
          or an XML text declaration followed by an opening stream
          tag.
        
</p>
<a name="errors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Stream Errors</h3>

<p>
          Stream level errors in XMPP are terminal. Should such an
          error occur, the server MUST send the stream error as a
          complete element in a message to the client. This message
          MAY include the closing stream tag if a stream is opened.
        
</p>
<p>
          If the error occurs during the opening of a stream, the
          stream error message MUST start with an opening stream tag
          (see Section 4.7.1 of <a class='info' href='#RFC3920'>[RFC3920]<span> (</span><span class='info'>Saint-Andre, P., Ed., &ldquo;Extensible Messaging and Presence Protocol (XMPP): Core,&rdquo; October&nbsp;2004.</span><span>)</span></a>) and end with
          a closing stream tag.
        
</p>
<p>
          After the stream error and closing stream tag have been
          sent, the server MUST close the connection as in <a class='info' href='#closing'>Section&nbsp;3.5<span> (</span><span class='info'>Closing the Connection</span><span>)</span></a>.
        
</p>
<a name="closing"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Closing the Connection</h3>

<p>
          Either the server or the client may close the connection at
          any time. Before closing the connection, the closing party
          MUST close the XMPP stream if it has been established.  To
          initiate the close, the closing party MUST send a normal
          WebSocket close message with an empty body. The connection
          is considered closed when a matching close message is
          received (see Section 1.4 of <a class='info' href='#I-D.ietf-hybi-thewebsocketprotocol'>[I&#8209;D.ietf&#8209;hybi&#8209;thewebsocketprotocol]<span> (</span><span class='info'>Fette, I., &ldquo;The WebSocket protocol,&rdquo; October&nbsp;2010.</span><span>)</span></a>).
        
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
Stanzas</h3>

<p>
          Each XMPP stanza MUST be sent in its own message. A stanza
          MUST NOT be split over multiple messages. All first level
          children of the &lt;stream:stream> element MUST be treated
          the same as stanzas (e.g. &lt;stream:features> and
          &lt;stream:error>).
        
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.7"></a><h3>3.7.&nbsp;
Stream Restarts</h3>

<p>
          After successful SASL authentication, an XMPP stream must be
          restarted. In these cases, as soon as the message is sent
          (or received) containing the success indication, both the
          server and client streams are implicitly closed, and new
          streams must be opened. The client MUST open a new stream as
          in <a class='info' href='#setup'>Section&nbsp;3.3<span> (</span><span class='info'>XMPP Stream Setup</span><span>)</span></a> and MUST NOT send a closing stream
          tag.
        
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.8"></a><h3>3.8.&nbsp;
Pings and Keepalives</h3>

<p>
          XMPP servers send whitespace pings as keepalives between
          stanzas, and XMPP clients can do the same thing. These extra
          whitespace characters are not significant in the protocol.
          Servers and clients SHOULD use WebSocket ping messages
          instead for this purpose.
        
</p>
<p>
          The XMPP Ping extension <a class='info' href='#XEP-0199'>[XEP&#8209;0199]<span> (</span><span class='info'>Saint-Andre, P., &ldquo;XMPP Ping,&rdquo; June&nbsp;2009.</span><span>)</span></a> allows
          entities to send and respond to ping requests. A client
          sending a WebSocket ping is equivalent to pinging the
          WebSocket server, which may also be the XMPP server. When
          the XMPP server is not also the WebSocket server, a
          WebSocket ping may be useful to check the health of the
          intermediary server.
        
</p>
<a name="tls"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.9"></a><h3>3.9.&nbsp;
TLS</h3>

<p>
          TLS cannot be used in The XMPP sub-protocol because the
          sub-protocol does not allow for raw binary data to be
          sent. A server MUST NOT advertise TLS as a stream feature
          (see Section 4.6 of <a class='info' href='#RFC3920'>[RFC3920]<span> (</span><span class='info'>Saint-Andre, P., Ed., &ldquo;Extensible Messaging and Presence Protocol (XMPP): Core,&rdquo; October&nbsp;2004.</span><span>)</span></a>). A client MUST
          ignore the TLS feature if it is advertised over WebSocket.
        
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Examples</h3>

<p>
        Examples will be added as soon as the WebSocket protocol
        specification is more stable.
      
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
        If a registry is created for WebSocket sub-protocols, the xmpp
        sub-protocol will be registered.
      
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
        Since application level TLS cannot be used (see <a class='info' href='#tls'>Section&nbsp;3.9<span> (</span><span class='info'>TLS</span><span>)</span></a>), applications which need to protect the privacy
        of the XMPP traffic need to do so a the WebSocket level or
        some other higher level.
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-hybi-thewebsocketprotocol">[I-D.ietf-hybi-thewebsocketprotocol]</a></td>
<td class="author-text">Fette, I., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-hybi-thewebsocketprotocol-03.txt">The WebSocket protocol</a>,&rdquo; draft-ietf-hybi-thewebsocketprotocol-03 (work in progress), October&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-hybi-thewebsocketprotocol-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3920">[RFC3920]</a></td>
<td class="author-text"><a href="mailto:stpeter@jabber.org">Saint-Andre, P., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3920">Extensible Messaging and Presence Protocol (XMPP): Core</a>,&rdquo; RFC&nbsp;3920, October&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3920.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3920.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3920.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3921">[RFC3921]</a></td>
<td class="author-text"><a href="mailto:stpeter@jabber.org">Saint-Andre, P., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3921">Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence</a>,&rdquo; RFC&nbsp;3921, October&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3921.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3921.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3921.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-20081126">[W3C.REC-xml-20081126]</a></td>
<td class="author-text">Sperberg-McQueen, C., Yergeau, F., Maler, E., Paoli, J., and T. Bray, &ldquo;<a href="http://www.w3.org/TR/2008/REC-xml-20081126">Extensible Markup Language (XML) 1.0 (Fifth Edition)</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xml-20081126, November&nbsp;2008 (<a href="http://www.w3.org/TR/2008/REC-xml-20081126">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XEP-0124">[XEP-0124]</a></td>
<td class="author-text"><a href="mailto:ian.paterson@clientside.co.uk">Paterson, I.</a>, <a href="mailto:dizzyd@jabber.org">Smith, D.</a>, <a href="mailto:stpeter@jabber.org">Saint-Andre, P.</a>, and <a href="mailto:jack@chesspark.com">J. Moffitt</a>, &ldquo;<a href="http://xmpp.org/extensions/xep-0124.html">Bidirectional-streams Over Synchronous HTTP (BOSH)</a>,&rdquo; XSF XEP&nbsp;0124, July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="XEP-0199">[XEP-0199]</a></td>
<td class="author-text"><a href="mailto:stpeter@jabber.org">Saint-Andre, P.</a>, &ldquo;<a href="http://xmpp.org/extensions/xep-0199.html">XMPP Ping</a>,&rdquo; XSF XEP&nbsp;0199, June&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="XEP-0206">[XEP-0206]</a></td>
<td class="author-text"><a href="mailto:ian.paterson@clientside.co.uk">Paterson, I.</a> and <a href="mailto:stpeter@jabber.org">P. Saint-Andre</a>, &ldquo;<a href="http://xmpp.org/extensions/xep-0206.html">XMPP Over BOSH</a>,&rdquo; XSF XEP&nbsp;0206, July&nbsp;2010.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jack Moffitt (editor)</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jack@metajack.im">jack@metajack.im</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Eric Cestari</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ProcessOne</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ecestari@process-one.com">ecestari@process-one.com</a></td></tr>
</table>
</body></html>
