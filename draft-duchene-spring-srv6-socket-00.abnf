srh_len = sizeof(*srh) + 2 * sizeof(struct in6_addr);
srh = malloc(srh_len);

fd = socket(AF_INET6, SOCK_STREAM, IPPROTO_TCP);

err = setsockopt(fd, IPPROTO_IPV6, IPV6_RTHDR, srh, srh_len);

err = bind(fd, (struct sockaddr *)&sin6_bind, sizeof(sin6_bind));

err = connect(fd, (struct sockaddr *)&sin6, sizeof(sin6));


            Figure 2: Sample code to establish a TCP connection

