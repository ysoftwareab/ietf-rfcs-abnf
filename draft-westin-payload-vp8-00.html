<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Proposal for the IETF on "RTP Payload Format for VP8 Video" </title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Payload Format">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 VP8 Payload Descriptor">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 VP8 Payload Header">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Aggregated and Fragmented Payloads">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Examples of VP8 RTP Stream">
<link href="#rfc.section.2.4.1" rel="Chapter" title="2.4.1 Key frame in a single RTP packet">
<link href="#rfc.section.2.4.2" rel="Chapter" title="2.4.2 VP8 interframe in a single RTP packet; no PictureID">
<link href="#rfc.section.2.4.3" rel="Chapter" title="2.4.3 VP8 partitions in separate RTP packets">
<link href="#rfc.section.2.4.4" rel="Chapter" title="2.4.4 VP8 frame fragmented across RTP packets">
<link href="#rfc.section.2.4.5" rel="Chapter" title="2.4.5 VP8 frame with long PictureID">
<link href="#rfc.section.3" rel="Chapter" title="3 Using VP8 with Uneven Level FEC Protection">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Example: Using VP8 with Uneven Level FEC Protection">
<link href="#rfc.section.3.1.1" rel="Chapter" title="3.1.1 VP8 first partition isolated">
<link href="#rfc.section.3.1.2" rel="Chapter" title="3.1.2 VP8 first partition split">
<link href="#rfc.section.3.1.3" rel="Chapter" title="3.1.3 VP8 partitions aggregated">
<link href="#rfc.section.4" rel="Chapter" title="4 Using VP8 with RPSI and SLI Feedback">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 RPSI">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 SLI">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Example">
<link href="#rfc.section.5" rel="Chapter" title="5 Payload Format Parameters">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 MIME Registration">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 SDP Parameters">
<link href="#rfc.section.5.2.1" rel="Chapter" title="5.2.1 Mapping of MIME Parameters to SDP">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Example">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 IANA Considerations">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This memo describes an RTP Payload format for the VP8 video codec. The payload format has wide applicability, as it supports applications from low bit-rate peer-to-peer usage, to high bit-rate Video conferences." />
  <meta name="description" content="This memo describes an RTP Payload format for the VP8 video codec. The payload format has wide applicability, as it supports applications from low bit-rate peer-to-peer usage, to high bit-rate Video conferences." />
  <meta name="keywords" content="RFC, Request for Comments, RTP, VP8, WebM" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">P.W. Westin</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">H.L. Lundin</td>
</tr>
<tr>
<td class="left">Intended status: Experimental Protocol</td>
<td class="right">M.G. Glover</td>
</tr>
<tr>
<td class="left">Expires: August 12, 2011</td>
<td class="right">J.U. Uberti</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">F.G. Galligan</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Google</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">February 08, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Proposal for the IETF on "RTP Payload Format for VP8 Video" <br />
  <span class="filename">draft-westin-payload-vp8-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This memo describes an RTP Payload format for the VP8 video codec. The payload format has wide applicability, as it supports applications from low bit-rate peer-to-peer usage, to high bit-rate Video conferences.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on August 12, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>
<h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">An encoded VP8 frame can be divided into two or more partitions, as described in <a href="#1">[1]</a>. The first partition (prediction or mode) contains prediction mode parameters and motion vectors for all macroblocks. The remaining partitions all contain the DCT/WHT coefficients for the residuals. The first partition is decodable without the remaining residual partitions. The subsequent partitions may be useful even if some part of the frame is lost. The format specification is described in <a href="#payloadFormat">Section 2</a>. <a href="#unevenFEC">Section 3</a> illustrates how VP8 can be combined with uneven level FEC protection. <a href="#RPSIandSLI">Section 4</a> describes a method to acknowledge receipt of reference frames using RTCP techniques is described.  Both these examples serve as motivation for two of the fields included in the payload format: the "1st partition size" and "PictureID" fields.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#payloadFormat" id="payloadFormat">Payload Format</a>
</h1>
<div id="#rfc.figure.1"></div>
<div id="#figureRTPHeader"></div>
<p>The general RTP payload format for VP8 is depicted below.</p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |V=2|P|X|  CC   |M|     PT      |       sequence number         |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                           timestamp                           |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |           synchronization source (SSRC) identifier            |
  +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
  |            contributing source (CSRC) identifiers             |
  |                             ....                              |
  +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
  |            VP8 payload descriptor (integer #bytes)            |
  :                                                               :
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                               : VP8 payload header (3 octets) |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | VP8 pyld hdr  :                                               |
  +-+-+-+-+-+-+-+-+                                               |
  :                   Bytes 4..N of VP8 payload                   :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                               :    OPTIONAL RTP padding       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
          </pre>
<p>The VP8 payload descriptor and VP8 payload header will be described in the sequel.  OPTIONAL RTP padding MUST NOT be included unless the marker bit is set.  </p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> <a href="#VP8payloadDescriptor" id="VP8payloadDescriptor">VP8 Payload Descriptor</a>
</h1>
<div id="#rfc.figure.2"></div>
<div id="#figureVP8payloadDescriptor"></div>
<p>The first bytes after the RTP header are the VP8 payload descriptor, with the following structure.</p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | RSV |I|N|FI |B|         PictureID (integer #bytes)            |
  +-+-+-+-+-+-+-+-+                                               |
  :                                                               :
  |               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |               : (VP8 data or VP8 payload header; byte aligned)|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            </pre>
<p></p>

<dl>
<dt></dt>
<dd style="margin-left: 8">RSV: Bits reserved for future use. MUST be equal to zero and MUST be ignored by the receiver.</dd>
<dt></dt>
<dd style="margin-left: 8">I: PictureID present. When set to one, a PictureID is provided after the first byte of the payload descriptor. When set to zero, the PictureID is omitted, and the one-byte payload descriptor is immediately followed by the VP8 payload.</dd>
<dt></dt>
<dd style="margin-left: 8">N: Non-reference frame. When set to one, the frame can be discarded without affecting any other future or past frames.</dd>
<dt></dt>
<dd style="margin-left: 8">FI: Fragmentation information field. This field contains information about the fragmentation of VP8 payloads carried in the RTP packet. The four different values are listed below.  <ul>
<li>00	The RTP packet contains no fragmented VP8 partitions. The payload is one or several complete partitions.</li>
<li>01	The RTP packet contains the first part of a fragmented partition. The fragment must be placed in its own RTP packet.</li>
<li>10	The RTP packet contains a fragment that is neither the first nor the last part of a fragmented partition. The fragment must be placed in its own RTP packet.</li>
<li>11	The RTP packet contains the last part of a fragmented partition. The fragment must be placed in its own RTP packet.</li>
</ul>
</dd>
<dt></dt>
<dd style="margin-left: 8">B: Beginning VP8 frame. When set to 1 this signals that a new VP8 frame starts in this RTP packet.</dd>
<dt></dt>
<dd style="margin-left: 8">PictureID: Multiple of 8 bits. This is a running index of the frames. The field is present only if the I bit is equal to one. The most significant bit of each byte is an extension flag. The 7 following bits carry (parts of) the PictureID. If the extension flag is one, the PictureID continues in the next byte. If the extension flag is zero, the 7 remaining bits are the last (and least significant) bits in the PictureID. The sender may choose any number of bytes, smaller or equal to 9 bytes as the maximum PictureID. The PictureID SHALL start on a random number, and MUST wrap after reaching the maximum ID. Leading zero bytes MUST be supressed.</dd>
</dl>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> <a href="#VP8payloadHeader" id="VP8payloadHeader">VP8 Payload Header</a>
</h1>
<div id="#rfc.figure.3"></div>
<div id="#figureVP8payloadHeader"></div>
<p>The first three bytes of an encoded VP8 frame are uncompressed, and co-serve as payload header in this RTP format. Note that the header is present only in packets which have the B bit equal to one in the payload descriptor. Subsequent packets for the same frame do not carry the payload header.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |P| VER |H|         1st partition size          |               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               |
  |                                                               |
  :                   Bytes 4..N of VP8 payload                   :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|
  |                               :    OPTIONAL RTP padding       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            </pre>
<p></p>

<dl>
<dt></dt>
<dd style="margin-left: 8">P: Inverse key frame flag. When set to 0 the current frame is a key frame. When set to 1 the current frame is an interframe. Defined in <a href="#1">[1]</a>
</dd>
<dt></dt>
<dd style="margin-left: 8">VER: A version number as defined in <a href="#1">[1]</a>.</dd>
<dt></dt>
<dd style="margin-left: 8">H: Show frame bit as defined in <a href="#1">[1]</a>.</dd>
<dt></dt>
<dd style="margin-left: 8">1st partition size: 19 bits. A field containing the size of the first data partition in bytes, as defined in <a href="#1">[1]</a>.</dd>
</dl>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> Aggregated and Fragmented Payloads</h1>
<p id="rfc.section.2.3.p.1">An encoded VP8 frame can be divided into two or more partitions, as described in <a href="#intro">Section 1</a>. The fragmentation information described in <a href="#VP8payloadDescriptor">Section 2.1</a> MUST be used to signal if any fragmentation is applied. Aggregation of encoded partitions is done without explicit signaling.  Partitions MUST be aggregated in decoding order. An aggregation MUST have exactly one payload descriptor. Aggregated partitions MUST represent parts of one and the same video frame. Consequently, an aggregated packet will have one or no payload header, depending on whether the aggregate contains the first partition of a frame or not, respectively. Note that the length of the first partition can always be obtained from the first partition size parameter in the VP8 payload header. Fragments of encoded partitions MUST NOT be aggregated.</p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> Examples of VP8 RTP Stream</h1>
<p id="rfc.section.2.4.p.1">A few examples of how the VP8 RTP payload can be used are included below.</p>
<h1 id="rfc.section.2.4.1">
<a href="#rfc.section.2.4.1">2.4.1.</a> Key frame in a single RTP packet</h1>
<div id="#rfc.figure.4"></div>
<p>Marker bit = 1. I = 1. B = 1. PictureID = 17 = 0001001 binary. P = 0.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=1                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 0 0 1:0 0 0 0 1 0 0 1|0: VER :1:       1st partition |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | size = L      |                                               |
  +-+-+-+-+-+-+-+-+                                               |
  |                                                               |
  :                Bytes 4..L of first VP8 partition              :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                               |                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
  |                                                               |
  :                Remaining VP8 partitions                       :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|
  |                               :    OPTIONAL RTP padding       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<h1 id="rfc.section.2.4.2">
<a href="#rfc.section.2.4.2">2.4.2.</a> VP8 interframe in a single RTP packet; no PictureID</h1>
<div id="#rfc.figure.5"></div>
<p>Marker bit = 1. I = 0. B = 1. P = 1.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=1                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 0 0 0 0 1|1: VER :1:       1st partition size = L        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                                               |
  :                Bytes 4..L of first VP8 partition              :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                               |                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
  |                                                               |
  :                Remaining VP8 partitions                       :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|
  |                               :    OPTIONAL RTP padding       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<h1 id="rfc.section.2.4.3">
<a href="#rfc.section.2.4.3">2.4.3.</a> VP8 partitions in separate RTP packets</h1>
<div id="#rfc.figure.6"></div>
<p>First RTP packet; marker bit = 0. I = 1. B = 1. PictureID = 17.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=0                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 0 0 1:0 0 0 0 1 0 0 1|1: VER :1:       1st partition |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | size = L      |                                               |
  +-+-+-+-+-+-+-+-+                                               |
  |                                                               |
  :                Bytes 4..L of first VP8 partition              :
  |                                                               |
  |                                                               |
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<div id="#rfc.figure.7"></div>
<p>Second RTP packet; marker bit = 1. B = 0.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=1                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 0 0 0:0 0 0 0 1 0 0 1|                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
  |                                                               |
  :                Remaining VP8 partitions                       :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|
  |                               :    OPTIONAL RTP padding       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<h1 id="rfc.section.2.4.4">
<a href="#rfc.section.2.4.4">2.4.4.</a> VP8 frame fragmented across RTP packets</h1>
<div id="#rfc.figure.8"></div>
<p>First RTP packet; marker bit = 0. I = 1. FI = 00. B = 1.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=0                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 0 0 1:0 0 0 0 1 0 0 1|1: VER :1:       1st partition |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | size = L      |                                               |
  +-+-+-+-+-+-+-+-+                                               |
  |                                                               |
  :                Bytes 4..L of first VP8 partition              :
  |                                                               |
  |                                                               |
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<div id="#rfc.figure.9"></div>
<p>Second RTP packet; marker bit = 0. FI = 01. B = 0.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=0                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 0 1 0:0 0 0 0 1 0 0 1|                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
  |                                                               |
  :          First fragment of second VP8 partition               :
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<div id="#rfc.figure.10"></div>
<p>Third RTP packet; marker bit = 0. FI = 10. B = 0.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=0                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 1 0 0:0 0 0 0 1 0 0 1|                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
  |                                                               |
  :          Middle fragment of second VP8 partition              :
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<div id="#rfc.figure.11"></div>
<p>Last RTP packet; marker bit = 1. FI = 11. B = 0.  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=1                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 1 1 0:0 0 0 0 1 0 0 1|                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
  |                                                               |
  :          Last fragment of second VP8 partition                :
  |                                                               |
  |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-|
  |                               :    OPTIONAL RTP padding       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<h1 id="rfc.section.2.4.5">
<a href="#rfc.section.2.4.5">2.4.5.</a> VP8 frame with long PictureID</h1>
<div id="#rfc.figure.12"></div>
<p>PictureID = 4711 = 01001001100111 binary (first 7 bits: 0100100, last 7 bits: 1100111).  </p>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                       RTP Header M=1                          |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 0 0 0 1:1 0 1 0 0 1 0 0 0 1 1 0 0 1 1 1|1: VER :1: 1st |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | partition size = L            |                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
  |                                                               |
  :                Bytes 4..N of first VP8 frame                  :
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              </pre>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#unevenFEC" id="unevenFEC">Using VP8 with Uneven Level FEC Protection</a>
</h1>
<p id="rfc.section.3.p.1">RFC 5109 <a href="#2">[2]</a> specifies a payload format for generic forward error correction (FEC) for RTP packets. (An errata with critical changes was also published.) One salient feature of RFC 5109 is that it provides "uneven level protection", ULP, which enables FEC protection of parts of an RTP packet. Specifically, the first part of an RTP packet can be given a stronger protection than the remaining part. The special case is where only the first part of the RTP packet is protected. The length of the protected part (actually the length of each protection level) is chosen and changed dynamically during a session. The concept of ULP FEC fits well with the VP8 video format. The first partition of an encoded VP8 frame consists of context variables and prediction parameters (mode and vectors), while the subsequent partitions contain encoded residual information. For a decoder, the residual information is not useful without the first partition. However, a decoder could successfully use the information in the first partition to provide good packet loss concealment, even if the subsequent partitions are lost. The conclusion is that the first partition deserves a higher protection factor than the remaining data. By including the "first partition size" parameter in the VP8 payload header(<a href="#VP8payloadHeader">Section 2.2</a>), the application, or even a media aware network element, can apply the ULP FEC to the VP8 payloads, since it can readily identify and obtain the length of the first partition to which (a stronger) protection should be granted. RFC 5109 suggests two methods for multiplexing the media data and the FEC data: using the RED payload type (RFC 2198, <a href="#3">[3]</a>) and using separate sessions. The example below is based on the RED method, although the above RTP format for VP8 does not preclude any method. Since we are only interested in protecting the first partition of the VP8 payload, it is in some cases possible to obtain increased robustness for that part even without FEC signaling.  If the first partition is isolated in a separate RTP packet, this packet can simply be sent twice (exact replica of RTP header and payload).</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Example: Using VP8 with Uneven Level FEC Protection</h1>
<p id="rfc.section.3.1.p.1">The following terminology is used in the examples below: </p>

<ul>
<li>RTP: RTP header, 12 octets.  <br> (Special rules apply if the header is extended; see <a href="#2">[2]</a>.)</li>
<li>RED: Redundancy payload header, 1 or 4 octets.</li>
<li>VP8pd: VP8 payload descriptor, 1 or more octets (see <a href="#VP8payloadDescriptor">Section 2.1</a>).</li>
<li>VP8ph: VP8 payload header, 3 octets (see <a href="#VP8payloadHeader">Section 2.2</a>)).</li>
<li>VP8first: First partition of a VP8 frame, length given in VP8ph.</li>
<li>VP8second: Second (or later) partition of a VP8 frame.</li>
<li>FEC: FEC header for FEC packets, 10 octets (see <a href="#2">[2]</a>).</li>
<li>ULP: FEC level header for FEC packets, 2 or 4 octets (see <a href="#2">[2]</a>).</li>
</ul>

<p> </p>
<h1 id="rfc.section.3.1.1">
<a href="#rfc.section.3.1.1">3.1.1.</a> VP8 first partition isolated</h1>
<div id="#rfc.figure.13"></div>
<p>The first partition of the VP8 frame is sent in its own RTP packet, which can easily be duplicated for increased robustness. This case provides a 50% protection factor (ratio of number of FEC packet to the sum of FEC and protected packets; sending two duplicates provides a 67% protection, and so on).  </p>
<pre>
                +-----+-------+------------------+
  Packet A:     | RTP | VP8pd | VP8ph : VP8first |
                +-----+-------+------------------+

                +-----+-------+------------------------+
  Packet B:     | RTP | VP8pd | VP8second              |
                +-----+-------+------------------------+

                +-----+-------+------------------+
  Duplicate A:  | RTP | VP8pd | VP8ph : VP8first |
                +-----+-------+------------------+
              </pre>
<h1 id="rfc.section.3.1.2">
<a href="#rfc.section.3.1.2">3.1.2.</a> VP8 first partition split</h1>
<div id="#rfc.figure.14"></div>
<p>The first partition of the VP8 frame can be split across two (or more) RTP packets.  It must be done if the first partition is larger than the MTU, but can also be done to facilitate protection factors lower than 50%. The FEC header is calculated from the RTP headers of packets A and B, while the FEC payload FEC(A,B) is constructed from the VP8 payload descriptor, payload header and first partition, as indicated in the figure below.  </p>
<pre>
        +-----+-----+-------+------------------+
  A:    | RTP | RED | VP8pd | VP8ph : VP8first |
        +-----+-----+-------+------------------+
        [*****]     [**************************]
        +-----+-----+-------+------------------+
  B:    | RTP | RED | VP8pd | VP8first cont'd  |
        +-----+-----+-------+------------------+
        [*****]     [**************************]
           \                      \
            ----------             ---------
                      \                     \
                    [*****]     [**************************]
        +-----+-----+-----+-----+--------------------------+
  FEC1: | RTP | RED | FEC | ULP | FEC(A,B)                 |
        +-----+-----+-----+-----+--------------------------+

        +-----+-----+-------+---------------------------+
  C:    | RTP | RED | VP8pd | VP8 second                |
        +-----+-----+-------+---------------------------+
              </pre>
<p>The split of the first partition is preferably done such that the payloads used to calculate FEC(A,B) are close to equal size.  </p>
<h1 id="rfc.section.3.1.3">
<a href="#rfc.section.3.1.3">3.1.3.</a> VP8 partitions aggregated</h1>
<div id="#rfc.figure.15"></div>
<p>In the case when the first partition is sent in the same packet as one or more subsequent partitions, the level protection can be applied to facilitate a bit- conservative protection for only the first partition.  </p>
<pre>
        +-----+-----+-------+------------------+--------------------+
  A:    | RTP | RED | VP8pd | VP8ph : VP8first | VP8second          |
        +-----+-----+-------+------------------+--------------------+
        [*****]     [**************************]
          \                      \
           ----------             ---------
                     \                     \
                    [*****]     [**************************]
        +-----+-----+-----+-----+--------------------------+
  FEC1: | RTP | RED | FEC | ULP | Duplicate                |
        +-----+-----+-----+-----+--------------------------+

        +-----+-----+-------+---------------------------+
  C:    | RTP | RED | VP8pd | VP8third                  |
        +-----+-----+-------+---------------------------+
              </pre>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#RPSIandSLI" id="RPSIandSLI">Using VP8 with RPSI and SLI Feedback</a>
</h1>
<p id="rfc.section.4.p.1">The VP8 payload descriptor defined in <a href="#VP8payloadDescriptor">Section 2.1</a> above contains an optional PictureID parameter. This parameter is included mainly to enable use of reference picture selection index (RPSI) and slice loss indication (SLI), both defined in RFC 4585 <a href="#4">[4]</a>.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#RPSI" id="RPSI">RPSI</a>
</h1>
<p id="rfc.section.4.1.p.1">The reference picture selection index is a payload-specific feedback message defined within the RTCP-based feedback format. The RPSI message is generated by a receiver and can be used in two ways. Either it can signal a preferred reference picture when a loss has been detected by the decoder -- preferably then a reference that the decoder knows is perfect -- or, it can be used as positive feedback information to acknowledge correct decoding of certain reference pictures. The positive feedback method is useful for VP8 used as unicast. The use of RPSI for VP8 is preferably combined with a special update pattern of the codec's two special reference frames -- the golden frame and the altref frame -- in which they are updated in an alternating leapfrog fashion.  When a receiver has received and correctly decoded a golden or altref frame, and that frame had a PictureID in the payload descriptor, the receiver can acknowledge this simply by sending an RPSI message back to the sender. The message body (i.e., the "native RPSI bit string" in RFC 4585 <a href="#4">[4]</a>) is simply the PictureID of the received frame.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#SLI" id="SLI">SLI</a>
</h1>
<p id="rfc.section.4.2.p.1">The slice loss indication is another payload-specific feedback message defined within the RTCP-based feedback format. The SLI message is generated by the receiver when a loss or corruption is detected in a frame. The format of the SLI message is as follows <a href="#4">[4]</a>:</p>
<div id="#rfc.figure.16"></div>
<div id="#figureSLIHeader"></div>
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            First        |        Number           | PictureID |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
            </pre>
<p id="rfc.section.4.2.p.2">Here, First is the macroblock address (in scan order) of the first lost block and Number is the number of lost blocks. PictureID is the six least significant bits of the codec-specific picture identifier in which the loss or corruption has occurred.  For VP8, this codec-specific identifier is naturally the PictureID of the current frame, as read from the payload descriptor. If the payload descriptor of the current frame does not have a PictureID, the receiver MAY send the last received PictureID+1 in the SLI message. The receiver MAY set the First parameter to 0, and the Number parameter to the total number of macroblocks per frame, even though only parts of the frame is corrupted. When the sender receives an SLI message, it can make use of the knowledge from the latest received RPSI message. Knowing that the last golden or altref frame was successfully received, it can encode the next frame with reference to that established reference.  </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> Example</h1>
<p id="rfc.section.4.3.p.1">The use of RSPI and SLI is best illustrated in an example. In this example, the encoder may not update the altref frame until the last sent golden frame has been acknowledged with an RPSI message. If an update is not received within some time, a new golden frame update is sent instead. Once the new golden frame is established and acknowledge, the same rule applies when updating the altref frame.</p>
<div id="#rfc.figure.17"></div>
<pre>
  Event  Sender              Receiver                    Established
                                                         reference
  +----+--------------------+--------------------------+------------+
  1000  Send golden frame
         PictureID = 0
                             Receive and decode 
                             golden frame
                           
  1001   Receive RPSI(0)
                             Send RPSI(0)                golden
                           
  ...    (sending regular frames)
  
  1100  Send altref frame
        PictureID = 100
                             Altref corrupted or lost    golden

  1101  Receive SLI(100)
                             Send SLI(100)               golden
  
  1102  Send frame with 
        reference to golden
                             Receive and decode frame
                             (decoder state restored)    golden

  ...   (sending regular frames)
  
  1200  Send altref frame
        PictureID = 200
                             Receive and decode
                             altref frame                golden
  
  1201  Receive RPSI(200)
                             Send RPSI(200)              altref
  
  ...  (sending regular frames)
  
  1300  Send golden frame
        PictureID = 300
                             Receive and decode
                             golden frame                altref
  
  1301  RPSI lost
                             Send RPSI(300)              altref
  
  1400  Send golden frame
        PictureID = 400
                              Receive and decode
                              golden frame               altref
  
  1401  Receive RPSI(400)
                              Send RPSI(400)             golden
  +----+--------------------+--------------------------+------------+
            </pre>
<p id="rfc.section.4.3.p.2">Note that the scheme is robust to loss of the feedback messages. If the RPSI is lost, the sender will try to update the golden (or altref) again after a while, without releasing the established reference. Also, if an SLI is lost, the receiver can keep sending SLI messages at any interval, as long as the picture is corrupted.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#payloadFormatParameters" id="payloadFormatParameters">Payload Format Parameters</a>
</h1>
<p id="rfc.section.5.p.1">This section specifies the parameters that MAY be used to select optional features of the payload format and certain features of the bitstream.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#MIMERegistration" id="MIMERegistration">MIME Registration</a>
</h1>
<p id="rfc.section.5.1.p.1">The receiver MUST ignore any unspecified parameter.</p>
<p id="rfc.section.5.1.p.2">Media Type name:     video</p>
<p id="rfc.section.5.1.p.3">Media subtype name:  VP8</p>
<p id="rfc.section.5.1.p.4">Required parameters: none</p>
<p id="rfc.section.5.1.p.5">Security considerations:<br> - See <a href="#securityConsiderations">Section 6</a> of RFC xxxx.  </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> SDP Parameters</h1>
<p id="rfc.section.5.2.p.1">The receiver MUST ignore any parameter unspecified in this memo.</p>
<h1 id="rfc.section.5.2.1">
<a href="#rfc.section.5.2.1">5.2.1.</a> Mapping of MIME Parameters to SDP</h1>
<p id="rfc.section.5.2.1.p.1">The MIME media type video/VP8 string is mapped to fields in the Session Description Protocol (SDP) <a href="#7">[7]</a> as follows: </p>

<ul>
<li>The media name in the "m=" line of SDP MUST be video.</li>
<li>The encoding name in the "a=rtpmap" line of SDP MUST be VP8 (the MIME subtype).  </li>
<li>The clock rate in the "a=rtpmap" line MUST be 90000.</li>
<li>The OPTIONAL parameter "version", if included, MUST be in the a=fmtp SDP field.  This parameter matches the VP8 bitstream version.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> Example</h1>
<p id="rfc.section.5.3.p.1">An example of media representation in SDP is as follows:</p>
<p id="rfc.section.5.3.p.2">m=video 49170 RTP/AVP 98<br> a=rtpmap:98 VP8/90000<br> a=fmtp:98 version=0<br> </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#securityConsiderations" id="securityConsiderations">Security Considerations</a>
</h1>
<p id="rfc.section.6.p.1">RTP packets using the payload format defined in this specification are subject to the security considerations discussed in the RTP specification <a href="#5">[5]</a>. This implies that confidentiality of the media streams is achieved by encryption; one example of this is SRTP <a href="#6">[6]</a>.  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#IANAConsiderations" id="IANAConsiderations">IANA Considerations</a>
</h1>
<p id="rfc.section.7.p.1">The IANA is requested to register the following values:<br> - MIME registration as described in <a href="#MIMERegistration">Section 5.1</a>.</p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="1">[1]</b></td>
<td class="top">
<a title="Google, Inc.">Google, Inc., </a>, "<a>VP8 Data Format and Decoding Guide</a>", July 2010.</td>
</tr>
<tr>
<td class="reference"><b id="2">[2]</b></td>
<td class="top">
<a>Perkins, C.P</a>, <a>Kouvelas, U.K</a>, <a>Hodson, O.H</a>, <a>Hardman, V.H</a>, <a>Handley, M.H</a>, <a>Bolot, J.C.B</a>, <a>Vega-Garcia, A.V.G</a> and <a>S.F.P Fosse-Parisis</a>, "<a href="http://tools.ietf.org/html/rfc5109">RTP Payload Format for Generic Forward Error Correction</a>", RFC 5109, STD 1, December 2007.</td>
</tr>
<tr>
<td class="reference"><b id="3">[3]</b></td>
<td class="top">
<a>Li, A.</a>, "<a href="http://tools.ietf.org/html/rfc2198">RTP Payload for Redundant Audio Data</a>", RFC 2198, STD 1, September 1997.</td>
</tr>
<tr>
<td class="reference"><b id="4">[4]</b></td>
<td class="top">
<a>Ott, J.O.</a>, <a>Wenger, S.W.</a>, <a>Sato, N.S.</a>, <a>Burmeister, C.B.</a> and <a>J.R. Rey</a>, "<a href="http://tools.ietf.org/html/rfc4585">Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)</a>", RFC 4585, STD 1, July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="5">[5]</b></td>
<td class="top">
<a>Schulzrinne, H.S.</a>, <a>Casner, S.C.</a>, <a>Frederick, R.F.</a> and <a>V.. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications </a>", RFC 3550, STD 64, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="6">[6]</b></td>
<td class="top">
<a>Baugher, M.B.</a>, <a>McGrew, D.M.</a>, <a>Naslund, M.N.</a>, <a>Carrara, E.C.</a> and <a>K.N. Norrman</a>, "<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP) </a>", RFC 3711, STD 1, March 2004.</td>
</tr>
<tr>
<td class="reference"><b id="7">[7]</b></td>
<td class="top">
<a>Handley, M.H.</a> and <a>V.J. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc2327">SDP: Session Description Protocol </a>", RFC 2327, STD 1, April 1998.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Patrik Westin</span> 
	  <span class="n hidden">
		<span class="family-name">Westin</span>
	  </span>
	</span>
	<span class="org vcardline">Google, Inc.  </span>
	<span class="adr">
	  <span>Kungsbron 2</span>

	  <span class="vcardline">
		<span class="locality">Stockholm</span>,  
		<span class="region"></span>
		<span class="code">11122</span>
	  </span>
	  <span class="country-name vcardline">Sweden</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:patrik.westin@gmail.com">patrik.westin@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Henrik Lundin</span> 
	  <span class="n hidden">
		<span class="family-name">Lundin</span>
	  </span>
	</span>
	<span class="org vcardline">Google, Inc.  </span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	
  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Michael Glover</span> 
	  <span class="n hidden">
		<span class="family-name">Glover</span>
	  </span>
	</span>
	<span class="org vcardline">Google, Inc.  </span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	
  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Justin Uberti</span> 
	  <span class="n hidden">
		<span class="family-name">Uberti</span>
	  </span>
	</span>
	<span class="org vcardline">Google, Inc.  </span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	
  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Frank Galligan</span> 
	  <span class="n hidden">
		<span class="family-name">Galligan</span>
	  </span>
	</span>
	<span class="org vcardline">Google, Inc.  </span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	
  </address>
</div>
  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Payload Format</a>
</li>
<li>2.1.   <a href="#rfc.section.2.1">VP8 Payload Descriptor</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">VP8 Payload Header</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Aggregated and Fragmented Payloads</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">Examples of VP8 RTP Stream</a>
</li>
<li>2.4.1.   <a href="#rfc.section.2.4.1">Key frame in a single RTP packet</a>
</li>
<li>2.4.2.   <a href="#rfc.section.2.4.2">VP8 interframe in a single RTP packet; no PictureID</a>
</li>
<li>2.4.3.   <a href="#rfc.section.2.4.3">VP8 partitions in separate RTP packets</a>
</li>
<li>2.4.4.   <a href="#rfc.section.2.4.4">VP8 frame fragmented across RTP packets</a>
</li>
<li>2.4.5.   <a href="#rfc.section.2.4.5">VP8 frame with long PictureID</a>
</li>
<li>3.   <a href="#rfc.section.3">Using VP8 with Uneven Level FEC Protection</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Example: Using VP8 with Uneven Level FEC Protection</a>
</li>
<li>3.1.1.   <a href="#rfc.section.3.1.1">VP8 first partition isolated</a>
</li>
<li>3.1.2.   <a href="#rfc.section.3.1.2">VP8 first partition split</a>
</li>
<li>3.1.3.   <a href="#rfc.section.3.1.3">VP8 partitions aggregated</a>
</li>
<li>4.   <a href="#rfc.section.4">Using VP8 with RPSI and SLI Feedback</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">RPSI</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">SLI</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Example</a>
</li>
<li>5.   <a href="#rfc.section.5">Payload Format Parameters</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">MIME Registration</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">SDP Parameters</a>
</li>
<li>5.2.1.   <a href="#rfc.section.5.2.1">Mapping of MIME Parameters to SDP</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Example</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">IANA Considerations</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  

</body>
</html>