INTERNET DRAFT                                              Sean Harnedy
                                                      InfiniSwitch Corp.
Expiration Date: November 2002                                  May 2002
                                                                     
                               

                   Definition of Textual Conventions 
                     and OBJECT-IDENTITIES for
               IP Over InfiniBand (IPOVERIB) Management
                               
                draft-ietf-ipoib-ibmib-tc-mib-01.txt


Status of this Memo
   
   This document is an Internet-Draft and is in full
   conformance with all provisions of Section 10 of RFC 2026.
   
   Internet-Drafts are working documents of the Internet
   Engineering Task Force (IETF), its areas, and its working
   groups.  Note that other groups may also distribute working
   documents as Internet-Drafts.
   
   Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by
   other documents at any time.  It is inappropriate to use
   Internet-Drafts as reference material or to cite them other
   than as "work in progress."
   
   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.
   
   The list of Internet-Draft Shadow Directories can be
   accessed at http://www.ietf.org/shadow.html.

Table of Contents

   1.  Abstract ...................................................    1
   2.  Introduction ...............................................    2
   3.  The SNMP Management Framework ..............................    2
   4.  IPOVERIB TC MIB Definitions ................................    3
   5.  Security Considerations ....................................    8
   6.  Acknowledgments ............................................    8
   7.  Author's Address ...........................................    9
   8.  References .................................................    9
   9.  Intellectual Property Notice ...............................   11
   10. Full Copyright Statement ...................................   11

1. Abstract
   
   This memo describes Textual Conventions and OBJECT-IDENTITIES
   used for managing IPOVERIB networks.




Harnedy                   Expires November 2002                 [Page 1]

Internet Draft               IPOVERIB TC MIB                    May 2002

2. Introduction
   
   This memo defines a portion of the Management Information
   Base (MIB) for use with network management protocols in the
   Internet community. In particular, it defines Textual
   Conventions used in IETF IPOVERIB and IPOVERIB-related MIBs.
   
   Comments should be made directly to the IPOVERIB mailing list
   at ipoverib@ietf.org.
   
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
   "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY",
   and "OPTIONAL" in this document are to be interpreted as
   described in RFC 2119, reference [RFC2119].
   
   For an introduction to the concepts of InfiniBand, see [INFINIV1].


3. The SNMP Management Framework
   
   The SNMP Management Framework presently consists of five
   major components:
   
   -  An overall architecture, described in RFC 2571
      [RFC2571].
   
   -  Mechanisms for describing and naming objects and events
      for the purpose of management.  The first version of
      this Structure of Management Information (SMI) is
      called SMIv1 and described in STD 16, RFC 1155
      [RFC1155], STD 16, RFC 1212 [RFC1212] and RFC 1215
      [RFC1215].  The second version, called SMIv2, is
      described in STD 58, RFC 2578 [RFC2578], STD 58, RFC
      2579 [RFC2579] and STD 58, RFC 2580 [RFC2580].
   
   -  Message protocols for transferring management
      information.  The first version of the SNMP message
      protocol is called SNMPv1 and described in STD 15, RFC
      1157 [RFC1157].  A second version of the SNMP message
      protocol, which is not an Internet standards track
      protocol, is called SNMPv2c and described in RFC 1901
      [RFC1901] and RFC 1906 [RFC1906].  The third version of
      the message protocol is called SNMPv3 and described in
      RFC 1906 [RFC1906], RFC 2572 [RFC2572] and RFC 2574
      [RFC2574].

   -  Protocol operations for accessing management
      information.  The first set of protocol operations and
      associated PDU formats is described in STD 15, RFC 1157
      [RFC1157].  A second set of protocol operations and
      associated PDU formats is described in RFC 1905
      [RFC1905].
   

Harnedy                   Expires November 2002                 [Page 2]

Internet Draft               IPOVERIB TC MIB                    May 2002

   -  A set of fundamental applications described in RFC 2573
      [RFC2573] and the view-based access control mechanism
      described in RFC 2575 [RFC2575].
   
   A more detailed introduction to the current SNMP Management
   Framework can be found in RFC 2570 [RFC2570].
   
   Managed objects are accessed via a virtual information
   store, termed the Management Information Base or MIB.
   Objects in the MIB are defined using the mechanisms defined
   in the SMI.
   
   This memo specifies a MIB module that is compliant to the
   SMIv2.  A MIB conforming to the SMIv1 can be produced
   through the appropriate translations.  The resulting
   translated MIB must be semantically equivalent, except
   where objects or events are omitted because no translation
   is possible (use of Counter64).  Some machine readable
   information in SMIv2 will be converted into textual
   descriptions in SMIv1 during the translation process.
   However, this loss of machine readable information is not
   considered to change the semantics of the MIB.

4. IPOVERIB TC MIB Definitions

IB-TC-MIB DEFINITIONS ::= BEGIN

IMPORTS
       experimental, MODULE-IDENTITY,
       Integer32                                   FROM SNMPv2-SMI
       TEXTUAL-CONVENTION                          FROM SNMPv2-TC; 

ibTcMIB MODULE-IDENTITY
    LAST-UPDATED "200205101200Z"  -- 10 May 2002 12:00:00 GMT
    ORGANIZATION
                 "IETF IP over IB Working Group 
         Email:   ipoverib@ietf.org"
    CONTACT-INFO
                 "Sean Harnedy
          Postal: InfiniSwitch Corporation
                  134 Flanders Road
                  Westborough, MA 01581
                  United States
          Tel:    508 599 6300
          Email:  sharnedy@infiniswitch.com
          "
    DESCRIPTION
       "This MIB contains managed object definitions and textual
        conventions for managing InfiniBand devices that support
        the IP Over InfiniBand (IPOIB) protocols and procedures."




Harnedy                   Expires November 2002                 [Page 3]

Internet Draft               IPOVERIB TC MIB                    May 2002

    -- Revision history.

    REVISION    
         "200205101200Z"  -- 10 May 2002 12:00:00 GMT
    DESCRIPTION  
         "Deleted ibPortTC. Changed ibPhysicalPort to IbDataPort
          and changed range to (1..254) to match IB port numbering.
          Changed IbValidPhysicalPort to IbDataPortAndInvalid and
          changed range to (1..255). Corrected definition of 
          IbMulticastLid to end at 65536. Added 
          IbIpoibClientIdentifier TC."
    REVISION    
         "200111131200Z"  -- 13 November 2001 12:00:00 GMT
    DESCRIPTION  
         "Separated TCs from InfiniBand Interface MIB. Added IANA 
          experimental number for MIB. Made TC names more consistent. 
          Added Intellectual Property and Acknowledgment sections."
    REVISION    
         "200110031200Z"  -- 3 October 2001 12:00:00 GMT
    DESCRIPTION  
         "Initial version of this MIB."
   ::= { infinibandMIB 1 }

-- The IANA has defined the InfiniBand MIB on the experimental branch.

infinibandMIB OBJECT IDENTIFIER ::= { experimental 117 }

-- Textual Conventions.

IbDataPort ::= TEXTUAL-CONVENTION
    DISPLAY-HINT "d"
    STATUS      current
    DESCRIPTION
       "Identifies a physical IB Port. The IBA defines a maximum of 254 
        physical ports numbered Port 1 to Port 254. A port is the location
        on a Channel Adapter, IB Router, or IB Switch to which a link is
        connected. If a device has N ports, the ports are always numbered
        from 1 to N. Note: this definition does NOT include logical Port 0
        that is reserved for IB management packets."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]
         Section 18.2.4.1"
    SYNTAX Integer32 (1..254)











Harnedy                   Expires November 2002                 [Page 4]

Internet Draft               IPOVERIB TC MIB                    May 2002

IbDataPortAndInvalid ::= TEXTUAL-CONVENTION
    STATUS      current
    DESCRIPTION
       "Identifies a physical IB port plus an invalid port number.
        Note: this definition does NOT include logical Port 0
        that is reserved for IB management packets."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]
         Section 18.2.4.1"
    SYNTAX  Integer32 (1..255)

IbVirtualLane ::= TEXTUAL-CONVENTION
    DISPLAY-HINT "d"
    STATUS      current
    DESCRIPTION
       "Identifies a Virtual Lane (VL) instance on a given interface 
        (i.e., IB port). VLs provide a mechanism for creating multiple
        virtual links within a physical link. IBA defines VL 0 through
        VL 14 for data and VL 15 exclusively for Subnet Management.
        The actual data VLs that a port uses are configured by the 
        Subnet Manager. The default data VL is always VL 0. Note: this
        definition is +1-based."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]
         Section 3.5.7."
    SYNTAX  Integer32 (1..16)

IbDataVirtualLane ::= TEXTUAL-CONVENTION
    DISPLAY-HINT "d"
    STATUS      current
    DESCRIPTION
       "Identifies a Data Virtual Lane instance on a given interface 
        (i.e., IB port). This TC definition excludes the management 
        Virtual Lane. The actual data VLs that a port uses are configured
        by the Subnet Manager. The default data VL is always the first VL
        (VL 0). Note: this definition is +1-based."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]
         Section 3.5.7."
    SYNTAX Integer32 (1..15)














Harnedy                   Expires November 2002                 [Page 5]

Internet Draft               IPOVERIB TC MIB                    May 2002

IbDlid ::= TEXTUAL-CONVENTION
    DISPLAY-HINT "d"
    STATUS      current
    DESCRIPTION
       "Identifies the Destination Local Identifier (DLID). The IBA defines
        LID 0 as reserved and valid LID values from 1 to 65535. LID 65535 
        is defined as a permissive DLID. This value is stored in IBA defined
        bit order, that is, the High Order Bit of the Local Identifier 
        byte 0 is positioned as the high-order bit of the first byte of
        the integer representation. Note: this definition is +1-based."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]
         Section 3.5.10; Also Section 4.1.3."
    SYNTAX  Integer32 (1..65536)  

IbUnicastLid ::= TEXTUAL-CONVENTION 
    DISPLAY-HINT "d" 
    STATUS      current 
    DESCRIPTION 
       "Identifies a Unicast LID. Value is stored in IBA defined bit        
        order, that is, the High Order Bit of the Local Identifier 
        byte 0 is positioned as the high-order bit of the first byte 
        of the integer representation. Note: this definition is +1-based."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]."
    SYNTAX       Integer32 (1..49152) 
    
IbMulticastLid ::= TEXTUAL-CONVENTION 
    DISPLAY-HINT "d" 
    STATUS      current 
    DESCRIPTION 
       "Identifies a Multicast LID. Value is stored in IBA defined 
        bit order, that is, the High Order Bit of the Local 
        Identifier byte 0 is positioned as the high-order bit of the 
        first byte of the integer representation. Note: this definition 
        is +1-based."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]."
    SYNTAX       Integer32 (49153..65536)















Harnedy                   Expires November 2002                 [Page 6]

Internet Draft               IPOVERIB TC MIB                    May 2002

IbGuid ::= TEXTUAL-CONVENTION
    DISPLAY-HINT "1x:"
    STATUS      current
    DESCRIPTION
       "Globally Unique Identifier (GUID) is a number that uniquely 
        identifies a device or component. It is a compliant EUI-64 
        identifier for channel adapters, routers, and switches.
        This 64-bit value is created by concatenating a 24-bit
        company ID value and a 40-bit extension. The IEEE Registration
        Authority assigns the company ID. The extension ID is assigned
        by the particular company. Therefore, each HCA, TCA, switch, and
        router shall be assigned an EUI-64 GUID by the manufacturer."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]
         Section 4.1."
    SYNTAX  OCTET STRING (SIZE(8))   

IbSmPortList ::= TEXTUAL-CONVENTION 
    STATUS       current 
    DESCRIPTION 
       "Each bit mapping within this value specifies a port within the
        managed IB device. This definition includes bit0 as IB Port
        0, the logical port used exclusively for management packets.
        Valid data port mappings are from Bit1 to Bit254. Bit255 is
        invalid."
    REFERENCE
        "InfiniBand Architecture Release 1.0.a Vol 1. [INFINIV1]."
    SYNTAX       OCTET STRING (SIZE(32))


























Harnedy                   Expires November 2002                 [Page 7]

Internet Draft               IPOVERIB TC MIB                    May 2002

IbIpoibClientIdentifier ::= TEXTUAL-CONVENTION 
    STATUS       current 
    DESCRIPTION 
       "The IPOIB Client Identifier uniquely identifies an IPOIB link
        layer address associated with the InfiniBand port. It comprises
        three fields.

           1. reserved
           2. Queue Pair Number field (QPN)
           3. Global Identifier (GID)

        +................+................+................+...............+
        |20: (reserved)  |19: QPN[23-16]  |18: QPN[15-8]   |17: QPN[7-0]   |
        +................+................+................+...............+
        |16: GID[127-120]|15: GID[119-112]|14: GID[111-104]|13: GID[103-96]|
        +................+................+................+...............+
        |12: GID[95-88]  |11: GID[87-80]  |10: GID[79-72]  |9   GID[71-64] |
        +................+................+................+...............+
        |8:  GID[63-56]  |7:  GID[55-48]  |6:  GID[47-40]  |5:  GID[39-32] |
        +................+................+................+...............+
        |4:  GID[31-24]  |3:  GID[23-16]  |2:  GID[15-8]   |1:  GID[7-0]   |
        +................+................+................+...............+

        The reserved field is octet 20. It is reserved for future use.
        These bits MUST be set to zero.

        The Queue Pair Number field is a 3 octet field (octets 17, 18, & 19) 
        that identifies the destination queue pair. Note: The reserved field
        and the QPN field are collectively referred to as the interface-id.
        If an IPOIB interface has only 1 GID associated with it, the 
        interface-id MAY contain all zeroes.

        The Global Identifier field is a 16 octet field (octets 1 through 16)
        that is formed by the combination of the IB subnet prefix and the
        port's GUID. It is unique in the InfiniBand fabric. NOTE: An IPOIB
        interface may have more than 1 GID associated with it." 
    SYNTAX        OCTET STRING (SIZE(20))

END

5. Security Considerations
   
   This memo defines textual conventions and object identities
   for use in IPOVERIB MIB modules. Security issues for these MIB
   modules are addressed in the memos defining those modules.

6. Acknowledgments

   This MIB module was updated based on the original work done by Bill 
   Anderson and Bill Strahm.




Harnedy                   Expires November 2002                 [Page 8]

Internet Draft               IPOVERIB TC MIB                    May 2002

7. Author's Address

   Sean Harnedy
   InfiniSwitch Corporation
   134 Flanders Road
   Westborough, MA 01581
   Phone: 978-599-6388
   Email: sharnedy@infiniswitch.com
   
8. References
   
   [RFC1155]     Rose, M., and K. McCloghrie, "Structure and
                 Identification of Management Information for
                 TCP/IP-based Internets", STD 16, RFC 1155,
                 May 1990.

   [RFC1157]     Case, J., Fedor, M., Schoffstall, M., and J.
                 Davin, "Simple Network Management Protocol",
                 STD 15, RFC 1157, May 1990.
   
   [RFC1212]     Rose, M., and K. McCloghrie, "Concise MIB
                 Definitions", STD 16, RFC 1212, March 1991.

   [RFC1215]     M. Rose, "A Convention for Defining Traps
                 for use with the SNMP", RFC 1215, March
                 1991.
   
   [RFC1901]     Case, J., McCloghrie, K., Rose, M., and S.
                 Waldbusser, "Introduction to Community-based
                 SNMPv2", RFC 1901, January 1996.
   
   [RFC1905]     Case, J., McCloghrie, K., Rose, M., and S.
                 Waldbusser, "Protocol Operations for Version
                 2 of the Simple Network Management Protocol
                 (SNMPv2)", RFC 1905, January 1996.
   
   [RFC1906]     Case, J., McCloghrie, K., Rose, M., and S.
                 Waldbusser, "Transport Mappings for Version
                 2 of the Simple Network Management Protocol
                 (SNMPv2)", RFC 1906, January 1996.
   
   [RFC2119]     Bradner, S., "Key words for use in RFCs to
                 Indicate Requirement Levels", BCP 14, RFC
                 2119, March 1997.
   
   [RFC2570]     Case, J., Mundy, R., Partain, D., and B.
                 Stewart, "Introduction to Version 3 of the
                 Internet-standard Network Management
                 Framework", RFC 2570, April 1999.
   




Harnedy                   Expires November 2002                 [Page 9]

Internet Draft               IPOVERIB TC MIB                    May 2002

   [RFC2571]     Harrington, D., Presuhn, R., and B. Wijnen,
                 "An Architecture for Describing SNMP
                 Management Frameworks", RFC 2571, April
                 1999.
   
   [RFC2572]     Case, J., Harrington D., Presuhn R., and B.
                 Wijnen, "Message Processing and Dispatching
                 for the Simple Network Management Protocol
                 (SNMP)", RFC 2572, April 1999.
   
   [RFC2573]     Levi, D., Meyer, P., and B. Stewart, "SNMPv3
                 Applications", RFC 2573, April 1999.
   
   [RFC2574]     Blumenthal, U., and B. Wijnen, "User-based
                 Security Model (USM) for version 3 of the
                 Simple Network Management Protocol
                 (SNMPv3)", RFC 2574, April 1999.
   
   [RFC2575]     Wijnen, B., Presuhn, R., and K. McCloghrie,
                 "View-based Access Control Model (VACM) for
                 the Simple Network Management Protocol
                 (SNMP)", RFC 2575, April 1999.
   
   [RFC2578]     McCloghrie, K., Perkins, D., Schoenwaelder,
                 J., Case, J., Rose, M., and S. Waldbusser,
                 "Structure of Management Information Version
                 2 (SMIv2)", STD 58, RFC 2578, April 1999.
   
   [RFC2579]     McCloghrie, K., Perkins, D., Schoenwaelder,
                 J., Case, J., Rose, M., and S. Waldbusser,
                 "Textual Conventions for SMIv2", STD 58, RFC
                 2579, April 1999.
   
   [RFC2580]     McCloghrie, K., Perkins, D., Schoenwaelder,
                 J., Case, J., Rose, M., and S. Waldbusser,
                 "Conformance Statements for SMIv2", STD 58,
                 RFC 2580, April 1999.

   [INFINIV1]    InfiniBand Architecture Specification Volume 1,
                 Release 1.0.a, June 19, 2001.














Harnedy                   Expires November 2002                [Page 10]

Internet Draft               IPOVERIB TC MIB                    May 2002

9.  Intellectual Property Notice

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementers or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.

10. Full Copyright Statement
   
   Copyright (C) The Internet Society (2001). All Rights
   Reserved.
   
   This document and translations of it may be copied and
   furnished to others, and derivative works that comment on
   or otherwise explain it or assist in its implementation may
   be prepared, copied, published and distributed, in whole or
   in part, without restriction of any kind, provided that the
   above copyright notice and this paragraph are included on
   all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by
   removing the copyright notice or references to the Internet
   Society or other Internet organizations, except as needed
   for the purpose of developing Internet standards in which
   case the procedures for copyrights defined in the Internet
   Standards process must be followed, or as required to
   translate it into languages other than English.
   
   The limited permissions granted above are perpetual and
   will not be revoked by the Internet Society or its
   successors or assigns. This document and the information
   contained herein is provided on an "AS IS" basis and THE
   INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE
   DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
   NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
   PURPOSE.


Harnedy                  Expires November 2002                 [Page 11]
