<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A Layer 2 VPN Network YANG Model</title>
<meta content="Samier Barguil" name="author">
<meta content="Oscar Gonzalez de Dios" name="author">
<meta content="Mohamed Boucadair" name="author">
<meta content="Luis Angel Munoz" name="author">
<meta content="
       This document defines an L2VPN Network YANG Model (L2NM) that can be
      used to manage the provisioning of Layer 2 Virtual Private Network (VPN)
      services within a network (e.g., service provider network). The L2NM
      complements the Layer 2 Service Model (L2SM) by providing a
      network-centric view of the service that is internal to a service
      providers. The L2NM is particularly meant to be used by a network
      controller to derive the configuration information that will be sent to
      relevant network devices. 
       Also, the document defines the initial versions of two
      IANA-maintained modules that defines a set of identities of BGP Layer 2
      encapsulation types and pseudowire types. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="automation" name="keyword">
<meta content="network model" name="keyword">
<meta content="service provider" name="keyword">
<meta content="service provisionning" name="keyword">
<meta content="network automation" name="keyword">
<meta content="service delivery" name="keyword">
<meta content="draft-ietf-opsawg-l2nm-09" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-opsawg-l2nm-09-d23p453s.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">L2NM</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Barguil, et al.</td>
<td class="center">Expires 23 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">OPSAWG</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-opsawg-l2nm-09</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-20" class="published">20 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-23">23 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Barguil</div>
<div class="org">Telefonica</div>
</div>
<div class="author">
      <div class="author-name">O. Gonzalez de Dios, <span class="editor">Ed.</span>
</div>
<div class="org">Telefonica</div>
</div>
<div class="author">
      <div class="author-name">M. Boucadair, <span class="editor">Ed.</span>
</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">L. Munoz</div>
<div class="org">Vodafone</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A Layer 2 VPN Network YANG Model</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines an L2VPN Network YANG Model (L2NM) that can be
      used to manage the provisioning of Layer 2 Virtual Private Network (VPN)
      services within a network (e.g., service provider network). The L2NM
      complements the Layer 2 Service Model (L2SM) by providing a
      network-centric view of the service that is internal to a service
      providers. The L2NM is particularly meant to be used by a network
      controller to derive the configuration information that will be sent to
      relevant network devices.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Also, the document defines the initial versions of two
      IANA-maintained modules that defines a set of identities of BGP Layer 2
      encapsulation types and pseudowire types.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-editorial-note-to-be-remove">
<a href="#name-editorial-note-to-be-remove" class="section-name selfRef">Editorial Note (To be removed by RFC Editor)</a>
      </h2>
<p id="section-note.1-1">Please update these statements within the document with the RFC
      number to be assigned to this document:<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<ul class="normal note">
<li class="normal note" id="section-note.1-2.1">"This version of this YANG module is part of RFC XXXX;"<a href="#section-note.1-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal note" id="section-note.1-2.2">"RFC XXXX: Layer 2 VPN Network Model";<a href="#section-note.1-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal note" id="section-note.1-2.3">reference: RFC XXXX<a href="#section-note.1-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-note.1-3">Please update "RFC CCCC" to the RFC number to be assigned to
      I-D.ietf-opsawg-vpn-common.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Also, please update the "revision" date of the YANG modules.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 23 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-acronyms" class="xref">Acronyms</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-reference-architecture" class="xref">Reference Architecture</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-relation-with-other-yang-mo" class="xref">Relation with other YANG Models</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-description-of-the-ethernet" class="xref">Description of the Ethernet Segment YANG Module</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-description-of-the-l2nm-yan" class="xref">Description of the L2NM YANG Module</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-overall-structure-of-the-mo" class="xref">Overall Structure of the Module</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-vpn-profiles" class="xref">VPN Profiles</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-vpn-services" class="xref">VPN Services</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-global-parameters-profiles" class="xref">Global Parameters Profiles</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="xref">7.5</a>.  <a href="#name-vpn-nodes" class="xref">VPN Nodes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5.2.1">
                    <p id="section-toc.1-1.7.2.5.2.1.1"><a href="#section-7.5.1" class="xref">7.5.1</a>.  <a href="#name-bgp-auto-discovery" class="xref">BGP Auto-Discovery</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5.2.2">
                    <p id="section-toc.1-1.7.2.5.2.2.1"><a href="#section-7.5.2" class="xref">7.5.2</a>.  <a href="#name-signaling-options" class="xref">Signaling Options</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5.2.2.2.1">
                        <p id="section-toc.1-1.7.2.5.2.2.2.1.1"><a href="#section-7.5.2.1" class="xref">7.5.2.1</a>.  <a href="#name-bgp" class="xref">BGP</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5.2.2.2.2">
                        <p id="section-toc.1-1.7.2.5.2.2.2.2.1"><a href="#section-7.5.2.2" class="xref">7.5.2.2</a>.  <a href="#name-ldp" class="xref">LDP</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5.2.2.2.3">
                        <p id="section-toc.1-1.7.2.5.2.2.2.3.1"><a href="#section-7.5.2.3" class="xref">7.5.2.3</a>.  <a href="#name-l2tp" class="xref">L2TP</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a href="#section-7.6" class="xref">7.6</a>.  <a href="#name-vpn-network-accesses" class="xref">VPN Network Accesses</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6.2.1">
                    <p id="section-toc.1-1.7.2.6.2.1.1"><a href="#section-7.6.1" class="xref">7.6.1</a>.  <a href="#name-connection" class="xref">Connection</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6.2.2">
                    <p id="section-toc.1-1.7.2.6.2.2.1"><a href="#section-7.6.2" class="xref">7.6.2</a>.  <a href="#name-evpn-vpws-service-instance" class="xref">EVPN-VPWS Service Instance</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6.2.3">
                    <p id="section-toc.1-1.7.2.6.2.3.1"><a href="#section-7.6.3" class="xref">7.6.3</a>.  <a href="#name-ethernet-oam" class="xref">Ethernet OAM</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6.2.4">
                    <p id="section-toc.1-1.7.2.6.2.4.1"><a href="#section-7.6.4" class="xref">7.6.4</a>.  <a href="#name-services" class="xref">Services</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-yang-modules" class="xref">YANG Modules</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-iana-bgp-layer-2-encapsulat" class="xref">IANA BGP Layer 2 Encapsulation Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-iana-encapsulation-types" class="xref">IANA Encapsulation Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-ethernet-segments" class="xref">Ethernet Segments</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-l2nm" class="xref">L2NM</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-yang-modules-2" class="xref">YANG Modules</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-bgp-layer-2-encapsulation-t" class="xref">BGP Layer 2 Encapsulation Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-pseudowire-types" class="xref">Pseudowire Types</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-examples" class="xref">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-bgp-based-vpls" class="xref">BGP-based VPLS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-bgp-based-vpws-with-ldp-sig" class="xref">BGP-based VPWS with LDP Signaling</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-ldp-based-vpls" class="xref">LDP-based VPLS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1"><a href="#appendix-A.4" class="xref">A.4</a>.  <a href="#name-vpws-evpn-service-instance" class="xref">VPWS-EVPN Service Instance</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.5">
                <p id="section-toc.1-1.12.2.5.1"><a href="#appendix-A.5" class="xref">A.5</a>.  <a href="#name-automatic-esi-assignment" class="xref">Automatic ESI Assignment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.6">
                <p id="section-toc.1-1.12.2.6.1"><a href="#appendix-A.6" class="xref">A.6</a>.  <a href="#name-vpn-network-access-preceden" class="xref">VPN Network Access Precedence</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-initial-bgp-layer-2-encapsu" class="xref">Initial BGP Layer 2 Encapsulation Types</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-C" class="xref">Appendix C</a>.  <a href="#name-initial-pw-types" class="xref">Initial PW Types</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-D" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-E" class="xref"></a><a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-F" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span> defines an L2VPN Service Model (L2SM)
      YANG data model that can be used for Layer 2 Virtual Private Network
      (L2VPN) service ordering matters between customers and service
      providers. This document complements the L2SM by creating a
      network-centric view of the service: the L2VPN Network Model (L2NM).<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The L2NM (<a href="#YANG_module" class="xref">Section 8.4</a>) can be exposed, for
      example, by a network controller to a service controller within the
      service providers network. In particular, the model can be used in the
      communication interface between the entity that interacts directly with
      the customer, the service orchestrator (either fully automated or a
      human operator), and the entity in charge of network orchestration and
      control (a.k.a., network controller/orchestrator) by allowing for more
      network-centric information to be included.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The L2NM supports capabilities, such as exposing operational
      parameters, transport protocols selection, and precedence. It can also
      serve as a multi-domain orchestration interface.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The L2NM is scoped for a variety of Layer 2 Virtual Private Networks
      such as:<a href="#section-1-4" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1-5.1">Virtual Private LAN Service (VPLS) <span>[<a href="#RFC4761" class="xref">RFC4761</a>]</span><span>[<a href="#RFC4762" class="xref">RFC4762</a>]</span><a href="#section-1-5.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-1-5.2">Virtual Private Wire Service (VPWS) (Section 3.1.1 of <span>[<a href="#RFC4664" class="xref">RFC4664</a>]</span>)<a href="#section-1-5.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-1-5.3">
          <p id="section-1-5.3.1">Various flavors of Ethernet VPNs (EVPNs):<a href="#section-1-5.3.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1-5.3.2.1">VPWS EVPN <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span>,<a href="#section-1-5.3.2.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1-5.3.2.2">Provider Backbone Bridging Ethernet VPNs (PBB EVPNs) <span>[<a href="#RFC7623" class="xref">RFC7623</a>]</span>,<a href="#section-1-5.3.2.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1-5.3.2.3">EVPN over MPLS <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>, and<a href="#section-1-5.3.2.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1-5.3.2.4">EVPN over VxLAN <span>[<a href="#RFC8365" class="xref">RFC8365</a>]</span>.<a href="#section-1-5.3.2.4" class="pilcrow">¶</a>
</li>
          </ul>
</li>
      </ul>
<p id="section-1-6">The L2NM is designed to easily support future
      Layer 2 VPN flavors and procedures. A set of examples to illustrate the
      use of the L2NM are provided in <a href="#examples" class="xref">Appendix A</a>.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">Also, the document defines the initial versions of two
      IANA-maintained modules that define a set of identities of BGP Layer 2
      encapsulation types (<a href="#iana-bgp" class="xref">Section 8.1</a>) and pseudowire
      types (<a href="#iana-pw" class="xref">Section 8.2</a>). Relying upon these
      IANA-maintained modules is meant to provide more flexibility in handling
      new types rather than be limited by a set of identities defined in the
      L2NM itself. <a href="#es-yang" class="xref">Section 8.3</a> defines a YANG module to
      manage Ethernet Segments (ESes) that are required for instantiating
      EVPNs.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">This document uses the common Virtual Private Network (VPN) YANG
      module defined in <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">The YANG data models in this document conforms to the Network
      Management Datastore Architecture (NMDA) defined in <span>[<a href="#RFC8342" class="xref">RFC8342</a>]</span>.<a href="#section-1-9" class="pilcrow">¶</a></p>
</section>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in BCP 14
      <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and
      only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document assumes that the reader is familiar with <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span>, <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>, <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span>, and <span>[<a href="#RFC8309" class="xref">RFC8309</a>]</span>. This
      document uses terminology from those documents.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">This document uses the term "network model" defined in Section 2.1 of
      <span>[<a href="#RFC8969" class="xref">RFC8969</a>]</span>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">The meaning of the symbols in YANG tree diagrams is defined in <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">This document makes use of the following terms:<a href="#section-2-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-6">
        <dt id="section-2-6.1">Ethernet Segment (ES):</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.2">Refers to the set of the
          Ethernet links that are used by a customer site (device or network)
          to connect to one or more Provider Edges (PEs).<a href="#section-2-6.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.3">Layer 2 VPN Customer Service Model (L2SM):</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.4">Describes
          the service characterization of an L2VPN that interconnects a set of
          sites from the customer's perspective. The customer service model
          does not provide details on the service provider network. An L2VPN
          customer service model is defined in <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span>.<a href="#section-2-6.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.5">Layer 2 VPN Service Network Model (L2NM):</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.6">Refers to
          the YANG module that describes an L2VPN service with a
          network-centric view. It contains information of the service
          provider network and might include allocated resources. Network
          controllers can use it to manage the Layer 2 VPN service
          configuration in the service providers network. The YANG module can
          be consumed by a service orchestrator to request a VPN service to a
          network controller or to expose the list of active L2VPN
          services.<a href="#section-2-6.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.7">Network controller:</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.8">Denotes a functional entity
          responsible for the management of the service provider network.<a href="#section-2-6.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.9">Service orchestrator:</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.10">Refers to a functional entity
          that interacts with the customer of an L2VPN relying upon, e.g.,
          L2SM. The service orchestrator is responsible of the CE-PE
          attachment circuits, the PE selection, and requesting the activation
          of the L2VPN service to a network controller.<a href="#section-2-6.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.11">Service Provider Network:</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.12">Is a network able to provide
          L2VPN-related services.<a href="#section-2-6.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.13">VPN network access:</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.14">Is an abstraction that represents
          the network interfaces that are associated to a given VPN node.
          Traffic coming from the VPN network access belongs to the VPN. The
          attachment circuits (bearers) between Customer Edges (CEs) and
          Provider Edges (PEs) are terminated in the VPN network access.<a href="#section-2-6.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.15">VPN node:</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.16">Is an abstraction that represents a set of
          policies applied on a PE and that belong to a single VPN service. A
          VPN service involves one or more VPN nodes. The VPN node will
          identify the service providers node on which the VPN is
          deployed.<a href="#section-2-6.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.17">VPN service provider:</dt>
        <dd style="margin-left: 1.5em" id="section-2-6.18">Is a service provider that
          offers L2VPN-related services.<a href="#section-2-6.18" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-3">
      <h2 id="name-acronyms">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-acronyms" class="section-name selfRef">Acronyms</a>
      </h2>
<p id="section-3-1">The following acronyms are used in the document:<a href="#section-3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-3-2">
        <dt id="section-3-2.1">ACL</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.2">Access Control List<a href="#section-3-2.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3">BGP</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.4">Border Gateway Protocol<a href="#section-3-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5">CE</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.6">Customer Edge<a href="#section-3-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.7">ES</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.8">Ethernet Segment<a href="#section-3-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.9">ESI</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.10">Ethernet Segment Identifier<a href="#section-3-2.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.11">EVPN</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.12">Ethernet VPN<a href="#section-3-2.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.13">L2VPN</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.14">Layer 2 Virtual Private Network<a href="#section-3-2.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.15">L2SM</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.16">L2VPN Service Model<a href="#section-3-2.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.17">L2NM</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.18">L2VPN Network Model<a href="#section-3-2.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.19">MAC</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.20">Media Access Control<a href="#section-3-2.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.21">PBB</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.22">Provider Backbone Bridging<a href="#section-3-2.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.23">PE</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.24">Provider Edge<a href="#section-3-2.24" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.25">QoS</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.26">Quality of Service<a href="#section-3-2.26" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.27">RD</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.28">Route Distinguisher<a href="#section-3-2.28" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.29">RT</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.30">Route Target<a href="#section-3-2.30" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.31">VPLS</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.32">Virtual Private LAN Service<a href="#section-3-2.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.33">VPN</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.34">Virtual Private Network<a href="#section-3-2.34" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.35">VPWS</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.36">Virtual Private Wire Service<a href="#section-3-2.36" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.37">VRF</dt>
        <dd style="margin-left: 4.0em" id="section-3-2.38">Virtual Routing and Forwarding<a href="#section-3-2.38" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-3"></p>
</section>
<div id="ref">
<section id="section-4">
      <h2 id="name-reference-architecture">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-reference-architecture" class="section-name selfRef">Reference Architecture</a>
      </h2>
<p id="section-4-1"><a href="#L2SM_and_L2NM" class="xref">Figure 1</a> illustrates how the L2NM is
      used. As a reminder, this figure is an expansion of the architecture
      presented in Section 3 of <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span> and decomposes
      the box marked "orchestration" in that figure into three separate
      functional components called "Service Orchestration", "Network
      Orchestration", and "Domain Orchestration".<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The reader may refer to <span>[<a href="#RFC8309" class="xref">RFC8309</a>]</span> for the
      distinction between the "Customer Service Model", the "Service Delivery
      Model", the "Network Configuration Model", and the "Device Configuration
      Model". The "Domain Orchestration" and "Config Manager" roles may be
      performed by "SDN Controllers".<a href="#section-4-2" class="pilcrow">¶</a></p>
<span id="name-l2sm-and-l2nm-interaction"></span><div id="L2SM_and_L2NM">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-4-3.1">
<pre>
                          +---------------+
                          |   Customer    |
                          +-------+-------+
          Customer Service Model  |
              e.g., l2vpn-svc     |
                          +-------+-------+
                          |    Service    |
                          | Orchestration |
                          +-------+-------+
           Network Model          |
l2vpn-ntw + ietf-ethernet-segment |
                          +-------+-------+
                          |   Network     |
                          | Orchestration |
                          +-------+-------+
    Network Configuration Model   |
                      +-----------+-----------+
                      |                       |
             +--------+------+       +--------+------+
             |    Domain     |       |     Domain    |
             | Orchestration |       | Orchestration |
             +---+-----------+       +--------+------+
  Device         |        |                   |
  Configuration  |        |                   |
  Model          |        |                   |
            +----+----+   |                   |
            | Config  |   |                   |
            | Manager |   |                   |
            +----+----+   |                   |
                 |        |                   |
                 | NETCONF/CLI..................
                 |        |                   |
          +------------------------------------------------+
                              Network

                         +++++++
                         + AAA +
                         +++++++

 ++++++++   Bearer    ++++++++           ++++++++      ++++++++
 + CE A + ----------- + PE A +           + PE B + ---- + CE B +
 ++++++++  Connection ++++++++           ++++++++      ++++++++

            Site A                               Site B
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-l2sm-and-l2nm-interaction" class="selfRef">L2SM and L2NM Interaction</a>
        </figcaption></figure>
</div>
<p id="section-4-4">The customer may use various means to request a service that may
      trigger the instantiation of an L2NM. The customer may use the L2SM or
      may rely upon more abstract models to request a service that relies upon
      an L2VPN service. For example, the customer may supply an IP
      Connectivity Provisioning Profile (CPP) that characterizes the requested
      service <span>[<a href="#RFC7297" class="xref">RFC7297</a>]</span>, an enhanced VPN (VPN+) service
      <span>[<a href="#I-D.ietf-teas-enhanced-vpn" class="xref">I-D.ietf-teas-enhanced-vpn</a>]</span>, or an IETF network
      slice service <span>[<a href="#I-D.ietf-teas-ietf-network-slices" class="xref">I-D.ietf-teas-ietf-network-slices</a>]</span>.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">Note also that both the L2SM and the L2NM may be used in the context
      of the Abstraction and Control of TE Networks (ACTN) framework <span>[<a href="#RFC8453" class="xref">RFC8453</a>]</span>. <a href="#l2sm_actn" class="xref">Figure 2</a> shows the
      Customer Network Controller (CNC), the Multi-Domain Service Coordinator
      (MDSC), and the Provisioning Network Controller (PNC).<a href="#section-4-5" class="pilcrow">¶</a></p>
<span id="name-l2sm-and-l2nm-in-the-contex"></span><div id="l2sm_actn">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-4-6.1">
<pre>
               +----------------------------------+
               | Customer                         |
               | +-----------------------------+  |
               | |             CNC             |  |
               | +-----------------------------+  |
               +----+-----------------------+-----+
                    |                       |
                    | L2SM                  | L2SM
                    |                       |
          +---------+---------+   +---------+---------+
          | MDSC              |   |       MDSC        |
          | +---------------+ |   |     (parent)      |
          | |    Service    | |   +---------+---------+
          | | Orchestration | |             |
          | +-------+-------+ |             | L2NM
          |         |         |             |
          |         | L2NM    |   +---------+---------+
          |         |         |   |       MDSC        |
          | +-------+-------+ |   |      (child)      |
          | |    Network    | |   +---------+---------+
          | | Orchestration | |             |
          | +---------------+ |             |
          +---------+---------+             |
                    |                       |
                    | Network Configuration |
                    |                       |
       +------------+-------+     +---------+------------+
       | Domain             |     |           Domain     |
       | Controller         |     |           Controller |
       |       +---------+  |     |    +---------+       |
       |       |   PNC   |  |     |    |   PNC   |       |
       |       +---------+  |     |    +---------+       |
       +------------+-------+     +---------+------------+
                    |                       |
                    | Device Configuration  |
                    |                       |
               +----+---+              +----+---+
               | Device |              | Device |
               +--------+              +--------+</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-l2sm-and-l2nm-in-the-contex" class="selfRef">L2SM and L2NM in the Context of ACTN</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="relation">
<section id="section-5">
      <h2 id="name-relation-with-other-yang-mo">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-relation-with-other-yang-mo" class="section-name selfRef">Relation with other YANG Models</a>
      </h2>
<p id="section-5-1">The "ietf-vpn-common" module <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span> includes a set of
      identities, types, and groupings that are meant to be reused by
      VPN-related YANG modules independently of the layer (e.g., Layer 2,
      Layer 3) and the type of the module (e.g., network model, service model)
      including future revisions of existing models (e.g., <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span>). The L2NM reuses these common types and
      groupings.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Also, the L2NM uses the IANA-maintained modules "iana-bgp-l2-encaps"
      (<a href="#iana-bgp" class="xref">Section 8.1</a>) and "iana-pseudowire-types" (<a href="#iana-pw" class="xref">Section 8.2</a>) to identify a layer 2 encapsulation type.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">For the particular case of EVPN, the L2NM includes a name that refers
      to an Ethernet segment that is created using the "ietf-ethernet-segment"
      module (<a href="#es-yang" class="xref">Section 8.3</a>). Some ES-related examples are
      provided in Appendices <a href="#evpn-vpws-app" class="xref">A.4</a> and <a href="#auto-ex" class="xref">A.5</a>.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">As discussed in <a href="#ref" class="xref">Section 4</a>, the L2NM is meant to
      manage L2VPN services within a service provider network. The module
      provides a network view of the service. Such a view is only visible
      within the service provider and is not exposed outside (to customers,
      for example). The following discusses how L2NM interfaces with other
      YANG modules:<a href="#section-5-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5-5">
        <dt id="section-5-5.1">L2SM:</dt>
        <dd style="margin-left: 1.5em" id="section-5-5.2">
          <p id="section-5-5.2.1">L2NM is not a customer service model.<a href="#section-5-5.2.1" class="pilcrow">¶</a></p>
<p id="section-5-5.2.2">The internal view of the service (i.e., L2NM) may
          be mapped to an external view which is visible to customers: L2VPN
          Service YANG data Model (L2SM) <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span>.<a href="#section-5-5.2.2" class="pilcrow">¶</a></p>
<p id="section-5-5.2.3">The L2NM can be fed with inputs that are
          requested by customers, typically, relying upon an L2SM template.
          Concretely, some parts of the L2SM module can be directly mapped
          into L2NM while other parts are generated as a function of the
          requested service and local guidelines. Finally, there are parts
          local to the service provider and do not map directly to
          L2SM.<a href="#section-5-5.2.3" class="pilcrow">¶</a></p>
<p id="section-5-5.2.4">Note that the use of the L2NM within a
          service provider does not assume nor preclude exposing the VPN
          service via the L2SM. This is deployment-specific. Nevertheless, the
          design of L2NM tries to align as much as possible with the features
          supported by the L2SM to ease grafting both L2NM and L2SM for the
          sake of highly automated VPN service provisioning and delivery.<a href="#section-5-5.2.4" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-5-5.3">Network Topology Modules:</dt>
        <dd style="margin-left: 1.5em" id="section-5-5.4">An L2VPN involves nodes that
          are part of a topology managed by the service provider network. Such
          topology can be represented using the network topology module in
          <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span>.<a href="#section-5-5.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-5.5">Device Modules:</dt>
        <dd style="margin-left: 1.5em" id="section-5-5.6">
          <p id="section-5-5.6.1">L2NM is not a device model.<a href="#section-5-5.6.1" class="pilcrow">¶</a></p>
<p id="section-5-5.6.2">Once a global VPN service is captured by means of
          the L2NM, the actual activation and provisioning of the VPN service
          will involve a variety of device modules to tweak the required
          functions for the delivery of the service. These functions are
          supported by the VPN nodes and can be managed using device YANG
          modules. A non-comprehensive list of such device YANG modules is
          provided below:<a href="#section-5-5.6.2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-5.6.3.1">Interfaces <span>[<a href="#RFC8343" class="xref">RFC8343</a>]</span>.<a href="#section-5-5.6.3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5-5.6.3.2">BGP <span>[<a href="#I-D.ietf-idr-bgp-model" class="xref">I-D.ietf-idr-bgp-model</a>]</span>.<a href="#section-5-5.6.3.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5-5.6.3.3">MPLS <span>[<a href="#RFC8960" class="xref">RFC8960</a>]</span>.<a href="#section-5-5.6.3.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5-5.6.3.4">ACLs <span>[<a href="#RFC8519" class="xref">RFC8519</a>]</span>.<a href="#section-5-5.6.3.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5-5.6.4">How the L2NM is used to derive
          device-specific actions is implementation-specific.<a href="#section-5-5.6.4" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="es">
<section id="section-6">
      <h2 id="name-description-of-the-ethernet">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-description-of-the-ethernet" class="section-name selfRef">Description of the Ethernet Segment YANG Module</a>
      </h2>
<p id="section-6-1">The 'ietf-ethernet-segment' module (<a href="#es-tree" class="xref">Figure 3</a>)
      is used to manage a set of Ethernet segments in the context of an EVPN
      service.<a href="#section-6-1" class="pilcrow">¶</a></p>
<span id="name-ethernet-segments-tree-stru"></span><div id="es-tree">
<figure id="figure-3">
        <div class="alignCenter art-text artwork" id="section-6-2.1">
<pre>module: ietf-ethernet-segment
  +--rw ethernet-segments
     +--rw ethernet-segment* [name]
        +--rw name                                 string
        +--rw esi-type?                            identityref
        +--rw (esi-choice)?
        |  +--:(directly-assigned)
        |  |  +--rw ethernet-segment-identifier?   yang:hex-string
        |  +--:(auto-assigned)
        |     +--rw esi-auto
        |        +--rw (auto-mode)?
        |        |  +--:(from-pool)
        |        |  |  +--rw esi-pool-name?                string
        |        |  +--:(full-auto)
        |        |     +--rw auto?                         empty
        |        +--ro auto-ethernet-segment-identifier?
        |                yang:hex-string
        +--rw esi-redundancy-mode?                 identityref
        +--rw df-election
        |  +--rw df-election-method?   identityref
        |  +--rw preference?           uint16
        |  +--rw revertive?            boolean
        |  +--rw election-wait-time?   uint32
        +--rw split-horizon-filtering?             boolean
        +--rw pbb
        |  +--rw backbone-src-mac?   yang:mac-address
        +--rw member* [ne-id interface-id]
           +--rw ne-id           string
           +--rw interface-id    string</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-ethernet-segments-tree-stru" class="selfRef">Ethernet Segments Tree Structure</a>
        </figcaption></figure>
</div>
<p id="section-6-3">In reference to the structure shown in <a href="#es-tree" class="xref">Figure 3</a>, the following data nodes can be included:<a href="#section-6-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6-4">
        <dt id="section-6-4.1">'name':</dt>
        <dd style="margin-left: 1.5em" id="section-6-4.2">Sets a name to uniquely identify an ES with a
          service provider network. This name is referenced in the VPN network
          access level of the L2NM (<a href="#sna" class="xref">Section 7.6</a>).<a href="#section-6-4.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.3">'esi-type':</dt>
        <dd style="margin-left: 1.5em" id="section-6-4.4">
          <p id="section-6-4.4.1">Indicates the Ethernet Segment Identifier
          (ESI) type as discussed in Section 5 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>. ESIs can be automatically assigned either
          with or without indicating a pool from which an ESI should be taken.
          The following types are supported:<a href="#section-6-4.4.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6-4.4.2">
            <dt id="section-6-4.4.2.1">'esi-type-0':</dt>
            <dd style="margin-left: 1.5em" id="section-6-4.4.2.2">The ESI is directly configured by
              the VPN service provider.<a href="#section-6-4.4.2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6-4.4.2.3">'esi-type-1':</dt>
            <dd style="margin-left: 1.5em" id="section-6-4.4.2.4">The ESI is auto-generated from the
              IEEE 802.1AX Link Aggregation Control Protocol (LACP) <span>[<a href="#IEEE802.1AX" class="xref">IEEE802.1AX</a>]</span>.<a href="#section-6-4.4.2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6-4.4.2.5">'esi-type-2':</dt>
            <dd style="margin-left: 1.5em" id="section-6-4.4.2.6">The ESI is auto-generated and
              determined based on the Layer 2 bridge protocol.<a href="#section-6-4.4.2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6-4.4.2.7">'esi-type-3':</dt>
            <dd style="margin-left: 1.5em" id="section-6-4.4.2.8">The ESI is a MAC-based ESI value
              that can be auto-generated or configured by the VPN service
              provider.<a href="#section-6-4.4.2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6-4.4.2.9">'esi-type-4':</dt>
            <dd style="margin-left: 1.5em" id="section-6-4.4.2.10">The ESI is auto-generated or
              configured by the VPN service provider based on the Router-ID.
              The 'router-id' supplied in <a href="#vpn_node" class="xref">Section 7.5</a> can
              be used to auto-derive an ESI when this type is used.<a href="#section-6-4.4.2.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6-4.4.2.11">'esi-type-5':</dt>
            <dd style="margin-left: 1.5em" id="section-6-4.4.2.12">The ESI is auto-generated or
              configured by the VPN service provider based on the Autonomous
              System (AS) number. The 'local-autonomous-system' supplied in
              <a href="#profile" class="xref">Section 7.4</a> can be used to auto-derive an ESI
              when this type is used.<a href="#section-6-4.4.2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.5">'esi-redundancy-mode':</dt>
        <dd style="margin-left: 1.5em" id="section-6-4.6">Specifies the EVPN redundancy
          mode for a given ES. The following modes are supported:
          Single-Active (Section 14.1.1 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>) or
          All-Active (Section 14.1.2 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>).<a href="#section-6-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.7">'df-election':</dt>
        <dd style="margin-left: 1.5em" id="section-6-4.8">Specifies a set of parameters related
          to the Designated Forwarder (DF) election (Section 8.5 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>). For example, this data node can be used
          to indicate an election method (e.g., <span>[<a href="#RFC8584" class="xref">RFC8584</a>]</span>
          or <span>[<a href="#I-D.ietf-bess-evpn-pref-df" class="xref">I-D.ietf-bess-evpn-pref-df</a>]</span>). If no
          election method is indicated, the default one defined in Section 8.5
          of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> is used.<a href="#section-6-4.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.9">'split-horizon-filtering':</dt>
        <dd style="margin-left: 1.5em" id="section-6-4.10">Controls the activation of
          the split-horizon filtering for an ES (Section 8.3 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>).<a href="#section-6-4.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.11">'backbone-src-mac':</dt>
        <dd style="margin-left: 1.5em" id="section-6-4.12">Associates a Provider Backbone MAC
          (B-MAC) address with an ES. This is particularly useful for
          All-Active multihomed ESes (Section 9.1 of <span>[<a href="#RFC7623" class="xref">RFC7623</a>]</span>).<a href="#section-6-4.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.13">'member':</dt>
        <dd style="margin-left: 1.5em" id="section-6-4.14">Lists the members of an ES in a service
          provider network.<a href="#section-6-4.14" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="design_data_model">
<section id="section-7">
      <h2 id="name-description-of-the-l2nm-yan">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-description-of-the-l2nm-yan" class="section-name selfRef">Description of the L2NM YANG Module</a>
      </h2>
<p id="section-7-1">The L2NM ('ietf-l2vpn-ntw', <a href="#YANG_module" class="xref">Section 8.4</a>) is
      meant to manage L2VPNs within a service provider network. In particular,
      the 'ietf-l2vpn-ntw' module can be used to create, modify, delete and
      retrieve L2VPN services in a network controller. The module is designed
      to minimize the amount of customer-related information.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The full tree diagram of the module can be generated using the
      "pyang" tool <span>[<a href="#PYANG" class="xref">PYANG</a>]</span>. That tree is not included
      here because it is too long (Section 3.3 of <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>). Instead, subtrees are provided for the
      reader's convenience.<a href="#section-7-2" class="pilcrow">¶</a></p>
<div id="structure_model">
<section id="section-7.1">
        <h3 id="name-overall-structure-of-the-mo">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-overall-structure-of-the-mo" class="section-name selfRef">Overall Structure of the Module</a>
        </h3>
<p id="section-7.1-1">The 'ietf-l2vpn-ntw' module uses two main containers:
        'vpn-profiles' and 'vpn-services' (see <a href="#ietf-l2vpn-ntw_tree" class="xref">Figure 4</a>).<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">The 'vpn-profiles' container is used by the provider to maintain a
        set of common VPN profiles that apply to one or several VPN services
        (<a href="#vpn_profiles" class="xref">Section 7.2</a>).<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">The 'vpn-services' container
        maintains the set of L2VPN services managed in the service provider
        network. The module allows creating a new L2VPN service by adding a
        new instance of 'vpn-service'. The 'vpn-service' is the data structure
        that abstracts the VPN service (<a href="#l2_vpn_service" class="xref">Section 7.3</a>).<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<span id="name-overall-l2nm-tree-structure"></span><div id="ietf-l2vpn-ntw_tree">
<figure id="figure-4">
          <div class="alignCenter art-text artwork" id="section-7.1-4.1">
<pre>module: ietf-l2vpn-ntw
  +--rw l2vpn-ntw
     +--rw vpn-profiles
     |  ...
     +--rw vpn-services
        +--rw vpn-service* [vpn-id]
           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 ...
                 +--rw vpn-network-accesses
                    +--rw vpn-network-access* [id]
                       ...</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-overall-l2nm-tree-structure" class="selfRef">Overall L2NM Tree Structure</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="vpn_profiles">
<section id="section-7.2">
        <h3 id="name-vpn-profiles">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-vpn-profiles" class="section-name selfRef">VPN Profiles</a>
        </h3>
<p id="section-7.2-1">The 'vpn-profiles' container (<a href="#vpn_profiles_tree" class="xref">Figure 5</a>) is used by a VPN service provider
        to define and maintain a set of VPN profiles <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span> that apply to one or
        several VPN services.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<span id="name-vpn-profiles-subtree-struct"></span><div id="vpn_profiles_tree">
<figure id="figure-5">
          <div class="alignCenter art-text artwork" id="section-7.2-2.1">
<pre>  +--rw l2vpn-ntw
     +--rw vpn-profiles
     |  +--rw valid-provider-identifiers
     |     +--rw external-connectivity-identifier* [id]
     |     |       {external-connectivity}?
     |     |  +--rw id    string
     |     +--rw encryption-profile-identifier* [id]
     |     |  +--rw id    string
     |     +--rw qos-profile-identifier* [id]
     |     |  +--rw id    string
     |     +--rw bfd-profile-identifier* [id]
     |     |  +--rw id    string
     |     +--rw forwarding-profile-identifier* [id]
     |     |  +--rw id    string
     |     +--rw routing-profile-identifier* [id]
     |        +--rw id    string
     +--rw vpn-services
        ...</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-vpn-profiles-subtree-struct" class="selfRef">VPN Profiles Subtree Structure</a>
          </figcaption></figure>
</div>
<p id="section-7.2-3">This document does not make any assumption about the exact
        definition of these profiles. The exact definition of the profiles is
        local to each VPN service provider. The model only includes an
        identifier to these profiles in order to ease identifying and binding
        local policies when building a VPN service. As shown in <a href="#vpn_profiles_tree" class="xref">Figure 5</a>, the following identifiers can be
        included:<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2-4">
          <dt id="section-7.2-4.1">'external-connectivity-identifier':</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-4.2">This identifier
            refers to a profile that defines the external connectivity
            provided to a VPN service (or a subset of VPN sites). An external
            connectivity may be an access to the Internet or a restricted
            connectivity such as access to a public/private cloud.<a href="#section-7.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-4.3">'encryption-profile-identifier':</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-4.4">An encryption
            profile refers to a set of policies related to the encryption
            schemes and setup that can be applied when building and offering a
            VPN service.<a href="#section-7.2-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-4.5">'qos-profile-identifier':</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-4.6">A Quality of Service (QoS)
            profile refers to as set of policies such as classification,
            marking, and actions (e.g., <span>[<a href="#RFC3644" class="xref">RFC3644</a>]</span>).<a href="#section-7.2-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-4.7">'bfd-profile-identifier':</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-4.8">A Bidirectional Forwarding
            Detection (BFD) profile refers to a set of BFD <span>[<a href="#RFC5880" class="xref">RFC5880</a>]</span> policies that can be invoked when
            building a VPN service.<a href="#section-7.2-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-4.9">'forwarding-profile-identifier':</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-4.10">A forwarding
            profile refers to the policies that apply to the forwarding of
            packets conveyed within a VPN. Such policies may consist, for
            example, at applying Access Control Lists (ACLs).<a href="#section-7.2-4.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-4.11">'routing-profile-identifier':</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-4.12">A routing profile
            refers to a set of routing policies that will be invoked (e.g.,
            BGP policies) when delivering the VPN service.<a href="#section-7.2-4.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.2-5"></p>
</section>
</div>
<div id="l2_vpn_service">
<section id="section-7.3">
        <h3 id="name-vpn-services">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-vpn-services" class="section-name selfRef">VPN Services</a>
        </h3>
<p id="section-7.3-1">The 'vpn-service' is the data structure that abstracts an L2VPN
        service in the service provider network. Each 'vpn-service' is
        uniquely identified by an identifier: 'vpn-id'. Such 'vpn-id' is only
        meaningful locally within the network controller. The subtree of the
        'vpn-services' is shown in <a href="#vpn-service_tree" class="xref">Figure 6</a>.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<span id="name-vpn-services-subtree"></span><div id="vpn-service_tree">
<figure id="figure-6">
          <div class="alignCenter art-text artwork" id="section-7.3-2.1">
<pre>     +--rw vpn-services
        +--rw vpn-service* [vpn-id]
           +--rw vpn-id                        vpn-common:vpn-id
           +--rw vpn-name?                     string
           +--rw vpn-description?              string
           +--rw customer-name?                string
           +--rw parent-service-id?            vpn-common:vpn-id
           +--rw vpn-type?                     identityref
           +--rw vpn-service-topology?         identityref
           +--rw bgp-ad-enabled?               boolean
           +--rw signaling-type?               identityref
           +--rw global-parameters-profiles
           |  ...
           +--rw underlay-transport
           |  +--rw (type)?
           |     +--:(abstract)
           |     |  +--rw transport-instance-id?   string
           |     |  +--rw instance-type?           identityref
           |     +--:(protocol)
           |        +--rw protocol*                identityref
           +--rw status
           |  +--rw admin-status
           |  |  +--rw status?         identityref
           |  |  +--rw last-change?   yang:date-and-time
           |  +--ro oper-status
           |     +--ro status?         identityref
           |     +--ro last-change?   yang:date-and-time
           +--rw vpn-nodes
              ...</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-vpn-services-subtree" class="selfRef">VPN Services Subtree</a>
          </figcaption></figure>
</div>
<p id="section-7.3-3">The description of the VPN service data nodes that are depicted in
        <a href="#vpn-service_tree" class="xref">Figure 6</a> are as follows:<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3-4">
          <dt id="section-7.3-4.1">'vpn-id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.2">Is an identifier that is used to uniquely
            identify the L2VPN service within L2NM scope.<a href="#section-7.3-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.3">'vpn-name':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.4">Associates a name with the service in
            order to facilitate the identification of the service.<a href="#section-7.3-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.5">'vpn-description':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.6">
            <p id="section-7.3-4.6.1">Includes a textual description of
            the service.<a href="#section-7.3-4.6.1" class="pilcrow">¶</a></p>
<p id="section-7.3-4.6.2">The internal structure of a
            VPN description is local to each VPN service provider.<a href="#section-7.3-4.6.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.7">'customer-name':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.8">Indicates the name of the customer
            who ordered the service.<a href="#section-7.3-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.9">'parent-service-id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.10">Refers to an identifier of the
            parent service (e.g., L2SM, IETF network slice, VPN+) that
            triggered the creation of the L2VPN service. This identifier is
            used to easily correlate the (network) service as built in the
            network with a service order. A controller can use that
            correlation to enrich or populate some fields (e.g., description
            fields) as a function of local deployments.<a href="#section-7.3-4.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.11">'vpn-type':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.12">
            <p id="section-7.3-4.12.1">Indicates the L2VPN type. The following
            types, defined in <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>, can be used for the
            L2NM:<a href="#section-7.3-4.12.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3-4.12.2">
              <dt id="section-7.3-4.12.2.1">'vpls':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.12.2.2">Virtual Private LAN Service (VPLS) as
                defined in <span>[<a href="#RFC4761" class="xref">RFC4761</a>]</span> or <span>[<a href="#RFC4762" class="xref">RFC4762</a>]</span>.<a href="#section-7.3-4.12.2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.3-4.12.2.3">'vpws':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.12.2.4">Virtual Private Wire Service (VPWS) as
                defined in Section 3.1.1 of <span>[<a href="#RFC4664" class="xref">RFC4664</a>]</span>.<a href="#section-7.3-4.12.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.3-4.12.2.5">'vpws-evpn':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.12.2.6">VPWS as defined in <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span>.<a href="#section-7.3-4.12.2.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.3-4.12.2.7">'pbb-evpn':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.12.2.8">Provider Backbone Bridging (PBB)
                EVPNs as defined in <span>[<a href="#RFC7623" class="xref">RFC7623</a>]</span>.<a href="#section-7.3-4.12.2.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.3-4.12.2.9">'mpls-evpn':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.12.2.10">MPLS-based EVPNs <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>.<a href="#section-7.3-4.12.2.10" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.3-4.12.2.11">'vxlan-evpn':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.12.2.12">VXLAN based EVPNs <span>[<a href="#RFC8365" class="xref">RFC8365</a>]</span>.<a href="#section-7.3-4.12.2.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-7.3-4.12.3">The type is used as a condition for the presence of some
            data nodes in the L2NM.<a href="#section-7.3-4.12.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.13">'vpn-service-topology':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.14">Indicates the network
            topology for the service: hub-spoke, any-to-any, or custom.<a href="#section-7.3-4.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.15">'bgp-ad-enabled':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.16">Controls whether BGP
            auto-discovery is enabled. If so, additional data nodes are
            included (<a href="#bgpad" class="xref">Section 7.5.1</a>).<a href="#section-7.3-4.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.17">'signaling-type':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.18">
            <p id="section-7.3-4.18.1">Indicates the signaling that is
            used for setting pseudowires. Signaling type values are taken from
            <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>. The following
            signaling options are supported:<a href="#section-7.3-4.18.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3-4.18.2">
              <dt id="section-7.3-4.18.2.1">'bgp-signaling':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.18.2.2">
                <p id="section-7.3-4.18.2.2.1">The L2NM supports two flavors
                of BGP-signaled L2VPNs:<a href="#section-7.3-4.18.2.2.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3-4.18.2.2.2">
                  <dt id="section-7.3-4.18.2.2.2.1">'l2vpn-bgp':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.3-4.18.2.2.2.2">The service is a Multipoint
                    VPLS that uses a BGP control plane as described in <span>[<a href="#RFC4761" class="xref">RFC4761</a>]</span> and <span>[<a href="#RFC6624" class="xref">RFC6624</a>]</span>.<a href="#section-7.3-4.18.2.2.2.2" class="pilcrow">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-7.3-4.18.2.2.2.3">'evpn-bgp':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.3-4.18.2.2.2.4">The service is a Multipoint VPLS
                    that uses also a BGP control plane, but also includes the
                    additional EVPN features and related parameters <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span> and <span>[<a href="#RFC7209" class="xref">RFC7209</a>]</span>.<a href="#section-7.3-4.18.2.2.2.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
              <dd class="break"></dd>
<dt id="section-7.3-4.18.2.3">'ldp-signaling':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.18.2.4">A Multipoint VPLS that uses a
                mesh of LDP-signaled Pseudowires <span>[<a href="#RFC6074" class="xref">RFC6074</a>]</span>.<a href="#section-7.3-4.18.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.3-4.18.2.5">l2tp-signaling':</dt>
              <dd style="margin-left: 1.5em" id="section-7.3-4.18.2.6">The L2NM uses L2TP-signaled
                Pseudowires as described in <span>[<a href="#RFC6074" class="xref">RFC6074</a>]</span>.<a href="#section-7.3-4.18.2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-7.3-4.18.3"><a href="#service-sig" class="xref">Table 1</a> summarizes the allowed
            signaling types for each VPN service type ('vpn-type'). See <a href="#signaling_options" class="xref">Section 7.5.2</a> for more details.<a href="#section-7.3-4.18.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.19">'global-parameters-profiles':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.20">
            <p id="section-7.3-4.20.1">Defines reusable
            parameters for the same L2VPN service.<a href="#section-7.3-4.20.1" class="pilcrow">¶</a></p>
<p id="section-7.3-4.20.2">More details are provided in <a href="#profile" class="xref">Section 7.4</a>.<a href="#section-7.3-4.20.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.21">'underlay-transport':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.22">
            <p id="section-7.3-4.22.1">Describes the preference for
            the transport technology to carry the traffic of the VPN service.
            This preference is especially useful in networks with multiple
            domains and Network-to-Network Interface (NNI) types. The underlay
            transport can be expressed as an abstract transport instance
            (e.g., an identifier of a VPN+ instance, a virtual network
            identifier, or a network slice name) or as an ordered list of the
            actual protocols to be enabled in the network.<a href="#section-7.3-4.22.1" class="pilcrow">¶</a></p>
<p id="section-7.3-4.22.2">A rich set of protocol identifiers that can be
            used to refer to an underlay transport (or how such an underlay is
            set up) are defined in <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>.<a href="#section-7.3-4.22.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.23">'status':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.24">
            <p id="section-7.3-4.24.1">Is used to track the service status of a
            given VPN service. Both operational and administrative status are
            maintained together with a timestamp. For example, a service can
            be created, but not put into effect.<a href="#section-7.3-4.24.1" class="pilcrow">¶</a></p>
<p id="section-7.3-4.24.2">Administrative and operational status can be used
            as a trigger to detect service anomalies. For example, a service
            that is declared at the service layer as being active but still
            inactive at the network layer is an indication that network
            provision actions are needed to align the observed service status
            with the expected service status.<a href="#section-7.3-4.24.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-4.25">'vpn-node':</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-4.26">
            <p id="section-7.3-4.26.1">Is an abstraction that represents a set
            of policies applied to a network node and that belong to a single
            'vpn-service'. An L2VPN service is typically built by adding
            instances of 'vpn-node' to the 'vpn-nodes' container.<a href="#section-7.3-4.26.1" class="pilcrow">¶</a></p>
<p id="section-7.3-4.26.2">A 'vpn-node' contains 'vpn-network-accesses',
            which are the interfaces attached to the VPN by which the customer
            traffic is received. Therefore, the customer sites are connected
            to the 'vpn-network-accesses'.<a href="#section-7.3-4.26.2" class="pilcrow">¶</a></p>
<p id="section-7.3-4.26.3">Note that,
            as this is a network data model, the information about customers
            sites is not required in the model. Such information is rather
            relevant in the L2SM. Whether that information is included in the
            L2NM, e.g., to populate the various 'description' data node is
            implementation-specific.<a href="#section-7.3-4.26.3" class="pilcrow">¶</a></p>
<p id="section-7.3-4.26.4">More details are
            provided in <a href="#vpn_node" class="xref">Section 7.5</a>.<a href="#section-7.3-4.26.4" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-valid-signaling-options-per"></span><div id="service-sig">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-valid-signaling-options-per" class="selfRef">Valid Signaling Options per VPN Service Type</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">VPN Type</th>
              <th class="text-left" rowspan="1" colspan="1">Signaling Options</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">vpls</td>
              <td class="text-left" rowspan="1" colspan="1">l2tp-signaling, ldp-signaling, bgp-signaling (l2vpn-bgp)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">vpws</td>
              <td class="text-left" rowspan="1" colspan="1">l2tp-signaling, ldp-signaling, bgp-signaling (l2vpn-bgp)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">vpws-evpn</td>
              <td class="text-left" rowspan="1" colspan="1">bgp-signaling (evpn-bgp)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">pbb-evpn</td>
              <td class="text-left" rowspan="1" colspan="1">bgp-signaling (evpn-bgp)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">mpls-evpn</td>
              <td class="text-left" rowspan="1" colspan="1">bgp-signaling (evpn-bgp)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">vxlan-evpn</td>
              <td class="text-left" rowspan="1" colspan="1">bgp-signaling (evpn-bgp)</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="profile">
<section id="section-7.4">
        <h3 id="name-global-parameters-profiles">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-global-parameters-profiles" class="section-name selfRef">Global Parameters Profiles</a>
        </h3>
<p id="section-7.4-1">The 'global-parameters-profile' defines reusable parameters for the
        same L2VPN service instance ('vpn-service'). Global parameters profile
        are defined at the VPN service level and then called at the VPN node
        and VPN network access levels. Each VPN instance profile is identified
        by 'profile-id'. Some of the data nodes can be adjusted at the VPN
        node or VPN network access levels. These adjusted values take
        precedence over the global ones. The subtree of
        'global-parameters-profile' is depicted in <a href="#global_param_prof_tree" class="xref">Figure 7</a>.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<span id="name-global-parameters-profiles-"></span><div id="global_param_prof_tree">
<figure id="figure-7">
          <div class="alignCenter art-text artwork" id="section-7.4-2.1">
<pre>     ...
     +--rw vpn-services
        +--rw vpn-service* [vpn-id]
           ...
           +--rw global-parameters-profiles
           |  +--rw global-parameters-profile* [profile-id]
           |     +--rw profile-id                  string
           |     +--rw (rd-choice)?
           |     |  +--:(directly-assigned)
           |     |  |  +--rw rd?
           |     |  |          rt-types:route-distinguisher
           |     |  +--:(directly-assigned-suffix)
           |     |  |  +--rw rd-suffix?            uint16
           |     |  +--:(auto-assigned)
           |     |  |  +--rw rd-auto
           |     |  |     +--rw (auto-mode)?
           |     |  |     |  +--:(from-pool)
           |     |  |     |  |  +--rw rd-pool-name?   string
           |     |  |     |  +--:(full-auto)
           |     |  |     |     +--rw auto?           empty
           |     |  |     +--ro auto-assigned-rd?
           |     |  |             rt-types:route-distinguisher
           |     |  +--:(auto-assigned-suffix)
           |     |  |  +--rw rd-auto-suffix
           |     |  |     +--rw (auto-mode)?
           |     |  |     |  +--:(from-pool)
           |     |  |     |  |  +--rw rd-pool-name?        string
           |     |  |     |  +--:(full-auto)
           |     |  |     |     +--rw auto?                empty
           |     |  |     +--ro auto-assigned-rd-suffix?   uint16
           |     |  +--:(no-rd)
           |     |     +--rw no-rd?                empty
           |     +--rw vpn-target* [id]
           |     |  +--rw id                  uint8
           |     |  +--rw route-targets* [route-target]
           |     |  |  +--rw route-target    rt-types:route-target
           |     |  +--rw route-target-type
           |     |          rt-types:route-target-type
           |     +--rw vpn-policies
           |     |  +--rw import-policy?   string
           |     |  +--rw export-policy?   string
           |     +--rw local-autonomous-system?    inet:as-number
           |     +--rw svc-mtu?                    uint32
           |     +--rw ce-vlan-preservation?       boolean
           |     +--rw ce-vlan-cos-preservation?   boolean
           |     +--rw control-word-negotiation?   boolean
           |     +--rw mac-policies
           |     |  +--rw mac-addr-limit
           |     |  |  +--rw mac-num-limit?   uint16
           |     |  |  +--rw time-interval?   uint32
           |     |  |  +--rw action?          identityref
           |     |  +--rw mac-loop-prevention
           |     |     +--rw window?            uint32
           |     |     +--rw frequency?         uint32
           |     |     +--rw retry-timer?       uint32
           |     |     +--rw protection-type?   identityref
           |     +--rw multicast-like {vpn-common:multicast}?
           |        +--rw enabled?                 boolean
           |        +--rw customer-tree-flavors
           |           +--rw tree-flavor*   identityref
                    ...</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-global-parameters-profiles-" class="selfRef">Global Parameters Profiles Subtree</a>
          </figcaption></figure>
</div>
<p id="section-7.4-3">The description of the global parameters profile is as follows:<a href="#section-7.4-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4">
          <dt id="section-7.4-4.1">'profile-id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.2">Uniquely identifies a global parameter
            profile in the context of an L2VPN service.<a href="#section-7.4-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.3">'rd':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.4">
            <p id="section-7.4-4.4.1">As defined in <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>, these RD assignment
            modes are supported: direct assignment, automatic assignment from
            a given pool, automatic assignment, and no assignment. For
            illustration purposes, the following modes can be used in the
            deployment cases:<a href="#section-7.4-4.4.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4.4.2">
              <dt id="section-7.4-4.4.2.1">'directly-assigned':</dt>
              <dd style="margin-left: 1.5em" id="section-7.4-4.4.2.2">The VPN service provider
                (service orchestrator) assigns explicitly RDs.<a href="#section-7.4-4.4.2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.4-4.4.2.3">'full-auto':</dt>
              <dd style="margin-left: 1.5em" id="section-7.4-4.4.2.4">The network controller auto-assigns
                RDs.<a href="#section-7.4-4.4.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-7.4-4.4.2.5">'no-rd':</dt>
              <dd style="margin-left: 1.5em" id="section-7.4-4.4.2.6">The VPN service provider (service
                orchestrator) explicitly wants no RD to be assigned.<a href="#section-7.4-4.4.2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-7.4-4.4.3">Also, the module accommodates deployments where only the
            Assigned Number subfield of RDs is assigned from a pool while the
            Administrator subfield is set to, e.g., the Router ID that is
            assigned to a VPN node. The module supports these modes for
            managing the Assigned Number subfield: explicit assignment,
            auto-assignment from a pool, and full auto-assignment.<a href="#section-7.4-4.4.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.5">'vpn-targets':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.6">Specifies RT import/export rules for
            the VPN service.<a href="#section-7.4-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.7">'local-autonomous-system':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.8">Indicates the Autonomous
            System Number (ASN) that is configured for the VPN node. The ASN
            can be used to auto-derive some other attributes such as RDs or
            Ethernet Segment Identifiers (ESIs).<a href="#section-7.4-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.9">'svc-mtu':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.10">Is the service MTU for an L2VPN service.
            It is also known as the maximum transmission unit or maximum frame
            size. When a frame is larger than the MTU, it is fragmented to
            accommodate the MTU of the network.<a href="#section-7.4-4.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.11">'ce-vlan-preservation':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.12">Is set to preserve the
            CE-VLAN ID from ingress to egress, i.e., CE-VLAN tag of the egress
            frame are identical to those of the ingress frame that yielded
            this egress service frame. If All-to-One bundling within a site is
            enabled, then preservation applies to all ingress service frames.
            If All-to-One bundling is disabled, then preservation applies to
            tagged Ingress service frames having CE-VLAN ID 1 through
            4094.<a href="#section-7.4-4.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.13">'ce-vlan-cos-preservation':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.14">Controls the CE VLAN CoS
            preservation. When set, PCP bits in the CE-VLAN tag of the egress
            frame are identical to those of the ingress frame that yielded
            this egress service frame.<a href="#section-7.4-4.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.15">'control-word-negotiation':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.16">Controls whether
            control-word negotiation is enabled (if set to true) or not (if
            set to false). Refer to Section 7 of <span>[<a href="#RFC8077" class="xref">RFC8077</a>]</span> for more details.<a href="#section-7.4-4.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.17">'mac-policies':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.18">
            <p id="section-7.4-4.18.1">Includes a set of MAC policies that
            apply to the service:<a href="#section-7.4-4.18.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4.18.2">
              <dt id="section-7.4-4.18.2.1">'mac-addr-limit':</dt>
              <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.2">
                <p id="section-7.4-4.18.2.2.1">Is a container of MAC address
                limit configuration. It includes the following data nodes:<a href="#section-7.4-4.18.2.2.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4.18.2.2.2">
                  <dt id="section-7.4-4.18.2.2.2.1">'mac-num-limit':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.2.2.2">Maximum number of MAC
                    addresses learned from the customer for a single service
                    instance.<a href="#section-7.4-4.18.2.2.2.2" class="pilcrow">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-7.4-4.18.2.2.2.3">'time-interval':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.2.2.4">The aging time of the mac
                    address.<a href="#section-7.4-4.18.2.2.2.4" class="pilcrow">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-7.4-4.18.2.2.2.5">'action':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.2.2.6">Specifies the action when the
                    upper limit is exceeded: drop the packet, flood the
                    packet, or simply send a warning log message.<a href="#section-7.4-4.18.2.2.2.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
              <dd class="break"></dd>
<dt id="section-7.4-4.18.2.3">'mac-loop-prevention':</dt>
              <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.4">
                <p id="section-7.4-4.18.2.4.1">Container for MAC loop
                prevention.<a href="#section-7.4-4.18.2.4.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4.18.2.4.2">
                  <dt id="section-7.4-4.18.2.4.2.1">'window':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.4.2.2">The timer when a MAC mobility
                    event is detected.<a href="#section-7.4-4.18.2.4.2.2" class="pilcrow">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-7.4-4.18.2.4.2.3">'frequency':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.4.2.4">The number of times to detect
                    MAC duplication, where a 'duplicate MAC address' situation
                    has occurred and the duplicate MAC address has been added
                    to a list of duplicate MAC addresses.<a href="#section-7.4-4.18.2.4.2.4" class="pilcrow">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-7.4-4.18.2.4.2.5">'retry-timer':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.4.2.6">The retry timer. When the
                    retry timer expires, the duplicate MAC address will be
                    flushed from the MAC-VRF.<a href="#section-7.4-4.18.2.4.2.6" class="pilcrow">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-7.4-4.18.2.4.2.7">'protection-type':</dt>
                  <dd style="margin-left: 1.5em" id="section-7.4-4.18.2.4.2.8">It defines the protection
                    type<a href="#section-7.4-4.18.2.4.2.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-4.19">'multicast-like':</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.20">Controls whether multicast is
            allowed in the service.<a href="#section-7.4-4.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="vpn_node">
<section id="section-7.5">
        <h3 id="name-vpn-nodes">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-vpn-nodes" class="section-name selfRef">VPN Nodes</a>
        </h3>
<p id="section-7.5-1">The 'vpn-node' is an abstraction that represents a set of
        policies/configurations applied to a network node and that belong to a
        single 'vpn-service'. A 'vpn-node' contains 'vpn-network-accesses',
        which are the interfaces involved in the creation of the VPN. The
        customer sites are connected to the 'vpn-network-accesses'.<a href="#section-7.5-1" class="pilcrow">¶</a></p>
<span id="name-vpn-nodes-subtree"></span><div id="vpn-node_tree">
<figure id="figure-8">
          <div class="alignCenter art-text artwork" id="section-7.5-2.1">
<pre>  +--rw l2vpn-ntw
     +--rw vpn-profiles
     |  ...
     +--rw vpn-services
        +--rw vpn-service* [vpn-id]
           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 +--rw vpn-node-id            vpn-common:vpn-id
                 +--rw description?           string
                 +--rw ne-id?                 string
                 +--rw role?                  identityref
                 +--rw router-id?             rt-types:router-id
                 +--rw active-global-parameters-profiles
                 |  +--rw global-parameters-profile* [profile-id]
                 |     +--rw profile-id                  leafref
                 |     +--rw local-autonomous-system?
                 |     |       inet:as-number
                 |     +--rw svc-mtu?                    uint32
                 |     +--rw ce-vlan-preservation?       boolean
                 |     +--rw ce-vlan-cos-preservation?   boolean
                 |     +--rw control-word-negotiation?   boolean
                 |     +--rw mac-policies
                 |     |  +--rw mac-addr-limit
                 |     |  |  +--rw mac-num-limit?   uint16
                 |     |  |  +--rw time-interval?   uint32
                 |     |  |  +--rw action?          identityref
                 |     |  +--rw mac-loop-prevention
                 |     |     +--rw window?            uint32
                 |     |     +--rw frequency?         uint32
                 |     |     +--rw retry-timer?       uint32
                 |     |     +--rw protection-type?   identityref
                 |     +--rw multicast-like {vpn-common:multicast}?
                 |        +--rw enabled?                 boolean
                 |        +--rw customer-tree-flavors
                 |           +--rw tree-flavor*   identityref
                 +--rw status
                 |  ...
                 +--rw bgp-auto-discovery
                 |  ...
                 +--rw signaling-option
                 |  ...
                 +--rw vpn-network-accesses
                    ...</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-vpn-nodes-subtree" class="selfRef">VPN Nodes Subtree</a>
          </figcaption></figure>
</div>
<p id="section-7.5-3">In reference to the subtree shown in <a href="#vpn-node_tree" class="xref">Figure 8</a>, the description of VPN node data nodes
        is as follows:<a href="#section-7.5-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.5-4">
          <dt id="section-7.5-4.1">'vpn-node-id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.2">Is an identifier that uniquely
            identifies a node that enables a VPN network access.<a href="#section-7.5-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.3">'description':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.4">Provides a textual description of the
            VPN node.<a href="#section-7.5-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.5">'ne-id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.6">Includes a unique identifier of the network
            element where the VPN node is deployed.<a href="#section-7.5-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.7">'router-id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.8">Indicates a 32-bit number that is used
            to uniquely identify a router within an Autonomous System
            (AS).<a href="#section-7.5-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.9">'active-global-parameters-profiles':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.10">
            <p id="section-7.5-4.10.1">Lists the set
            of active global VPN parameters profiles for this VPN node.
            Concretely, one or more global profiles that are defined at the
            VPN service level can be activated at the VPN node level; each of
            these profiles is uniquely identified by means of 'profile-id'.
            The structure of 'active-global-parameters-profiles' uses the same
            data nodes as <a href="#profile" class="xref">Section 7.4</a> except RD and RT
            related data nodes.<a href="#section-7.5-4.10.1" class="pilcrow">¶</a></p>
<p id="section-7.5-4.10.2">Values defined in
            'active-global-parameters-profiles' overrides the ones defined in
            the VPN service level.<a href="#section-7.5-4.10.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.11">'signaling-option':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.12">See <a href="#signaling_options" class="xref">Section 7.5.2</a>.<a href="#section-7.5-4.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.13">'status':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.14">Tracks the status of a node involved in a
            VPN service. Both operational and administrative status are
            maintained. A mismatch between the administrative status vs. the
            operational status can be used as a trigger to detect
            anomalies.<a href="#section-7.5-4.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.15">'vpn-network-accesses':</dt>
          <dd style="margin-left: 1.5em" id="section-7.5-4.16">
            <p id="section-7.5-4.16.1">Represents the point to
            which sites are connected.<a href="#section-7.5-4.16.1" class="pilcrow">¶</a></p>
<p id="section-7.5-4.16.2">Note that,
            unlike in L2SM, the L2NM does not need to model the customer site,
            only the points where the traffic from the site are received
            (i.e., the PE side of PE-CE connections). Hence, the VPN network
            access contains the connectivity information between the
            provider's network and the customer premises. The VPN profiles
            ('vpn-profiles') have a set of routing policies that can be
            applied during the service creation.<a href="#section-7.5-4.16.2" class="pilcrow">¶</a></p>
<p id="section-7.5-4.16.3">See
            <a href="#sna" class="xref">Section 7.6</a> for more details.<a href="#section-7.5-4.16.3" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<div id="bgpad">
<section id="section-7.5.1">
          <h4 id="name-bgp-auto-discovery">
<a href="#section-7.5.1" class="section-number selfRef">7.5.1. </a><a href="#name-bgp-auto-discovery" class="section-name selfRef">BGP Auto-Discovery</a>
          </h4>
<p id="section-7.5.1-1">'bgp-auto-discovery' container (<a href="#bgpad-tree" class="xref">Figure 9</a>) includes the required information for
          the activation of BGP auto-discovery <span>[<a href="#RFC4761" class="xref">RFC4761</a>]</span><span>[<a href="#RFC6624" class="xref">RFC6624</a>]</span>.<a href="#section-7.5.1-1" class="pilcrow">¶</a></p>
<span id="name-bgp-auto-discovery-subtree"></span><div id="bgpad-tree">
<figure id="figure-9">
            <div class="alignCenter art-text artwork" id="section-7.5.1-2.1">
<pre>  +--rw l2vpn-ntw
     +--rw vpn-profiles
     |  ...
     +--rw vpn-services
        +--rw vpn-service* [vpn-id]
           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 ...
                 +--rw bgp-auto-discovery
                 |  +--rw (bgp-type)?
                 |  |  +--:(l2vpn-bgp)
                 |  |  |  +--rw vpn-id?
                 |  |  |          vpn-common:vpn-id
                 |  |  +--:(evpn-bgp)
                 |  |     +--rw evpn-type?           leafref
                 |  |     +--rw auto-rt-enable?      boolean
                 |  |     +--ro auto-route-target?
                 |  |             rt-types:route-target
                 |  +--rw (rd-choice)?
                 |  |  +--:(directly-assigned)
                 |  |  |  +--rw rd?
                 |  |  |          rt-types:route-distinguisher
                 |  |  +--:(directly-assigned-suffix)
                 |  |  |  +--rw rd-suffix?           uint16
                 |  |  +--:(auto-assigned)
                 |  |  |  +--rw rd-auto
                 |  |  |     +--rw (auto-mode)?
                 |  |  |     |  +--:(from-pool)
                 |  |  |     |  |  +--rw rd-pool-name?   string
                 |  |  |     |  +--:(full-auto)
                 |  |  |     |     +--rw auto?           empty
                 |  |  |     +--ro auto-assigned-rd?
                 |  |  |             rt-types:route-distinguisher
                 |  |  +--:(auto-assigned-suffix)
                 |  |  |  +--rw rd-auto-suffix
                 |  |  |     +--rw (auto-mode)?
                 |  |  |     |  +--:(from-pool)
                 |  |  |     |  |  +--rw rd-pool-name?        string
                 |  |  |     |  +--:(full-auto)
                 |  |  |     |     +--rw auto?                empty
                 |  |  |     +--ro auto-assigned-rd-suffix?   uint16
                 |  |  +--:(no-rd)
                 |  |     +--rw no-rd?               empty
                 |  +--rw vpn-target* [id]
                 |  |  +--rw id                  uint8
                 |  |  +--rw route-targets* [route-target]
                 |  |  |  +--rw route-target    rt-types:route-target
                 |  |  +--rw route-target-type
                 |  |          rt-types:route-target-type
                 |  +--rw vpn-policies
                 |     +--rw import-policy?   string
                 |     +--rw export-policy?   string
                 +--rw signaling-option
                 |  ...
                 +--rw vpn-network-accesses
                    ...</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-bgp-auto-discovery-subtree" class="selfRef">BGP Auto-Discovery Subtree</a>
            </figcaption></figure>
</div>
<p id="section-7.5.1-3">As discussed in Section 1 of <span>[<a href="#RFC6624" class="xref">RFC6624</a>]</span>, all
          of BGP-based methods include the notion of a VPN identifier that
          serves to unify components of a given VPN and the concept of
          auto-discovery; hence the support of the data node 'vpn-id'.<a href="#section-7.5.1-3" class="pilcrow">¶</a></p>
<p id="section-7.5.1-4">For the particular case of EVPN, the L2NM supports RT
          auto-derivation based on the Ethernet Tag ID specified in Section
          7.10.1 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>. A VPN service provider can
          enable/disable this functionality by means of 'auto-rt-enable'. The
          assigned RT can be retrieved using 'auto-route-target'.<a href="#section-7.5.1-4" class="pilcrow">¶</a></p>
<p id="section-7.5.1-5">For all BGP-based L2VPN flavors, other data nodes such as RD and
          RT are used. These data nodes have the same structure as the one
          discussed in <a href="#profile" class="xref">Section 7.4</a>.<a href="#section-7.5.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="signaling_options">
<section id="section-7.5.2">
          <h4 id="name-signaling-options">
<a href="#section-7.5.2" class="section-number selfRef">7.5.2. </a><a href="#name-signaling-options" class="section-name selfRef">Signaling Options</a>
          </h4>
<p id="section-7.5.2-1">The 'signaling-option' container (<a href="#so" class="xref">Figure 10</a>)
          defines a set of data nodes for a given signaling protocol that is
          used for an L2VPN service. As discussed in <a href="#l2_vpn_service" class="xref">Section 7.3</a>, several signaling options to
          exchange membership information between PEs of an L2VPN are
          supported. The signaling type to be used for an L2VPN service is
          controlled at the VPN service level by means of
          'signaling-type'.<a href="#section-7.5.2-1" class="pilcrow">¶</a></p>
<span id="name-signaling-option-overall-su"></span><div id="so">
<figure id="figure-10">
            <div class="alignCenter art-text artwork" id="section-7.5.2-2.1">
<pre>...
+--rw vpn-nodes
   +--rw vpn-node* [vpn-node-id]
   ...
   +--rw signaling-option
   |  +--rw advertise-mtu?        boolean
   |  +--rw mtu-allow-mismatch?   boolean
   |  +--rw signaling-type?       leafref
   |  +--rw (signaling-option)?
   |     +--:(bgp)
   |     |  ...
   |     +--:(ldp-or-l2tp)
   |           +--rw (ldp-or-l2tp)?
   |              +--:(ldp)
   |              |  ...
   |              +--:(l2tp)
   |                 ...</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-signaling-option-overall-su" class="selfRef">Signaling Option Overall Subtree</a>
            </figcaption></figure>
</div>
<p id="section-7.5.2-3">The following signaling data nodes are supported:<a href="#section-7.5.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.5.2-4">
            <dt id="section-7.5.2-4.1">'advertise-mtu':</dt>
            <dd style="margin-left: 1.5em" id="section-7.5.2-4.2">Controls whether MTU is
              advertised when setting a PW (e.g., Section 4.3 of <span>[<a href="#RFC4667" class="xref">RFC4667</a>]</span>, Section 5.1 of <span>[<a href="#RFC6624" class="xref">RFC6624</a>]</span>, or Section 6.1 of <span>[<a href="#RFC4762" class="xref">RFC4762</a>]</span>).<a href="#section-7.5.2-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-7.5.2-4.3">'mtu-allow-mismatch':</dt>
            <dd style="margin-left: 1.5em" id="section-7.5.2-4.4">When set to true, it allows
              MTU mismatch for a PW (see, e.g., Section 4.3 of <span>[<a href="#RFC4667" class="xref">RFC4667</a>]</span>).<a href="#section-7.5.2-4.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-7.5.2-4.5">'signaling-type':</dt>
            <dd style="margin-left: 1.5em" id="section-7.5.2-4.6">Indicates the signaling type.
              This type inherits the value of 'signaling-type' defined at the
              service level (<a href="#l2_vpn_service" class="xref">Section 7.3</a>).<a href="#section-7.5.2-4.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-7.5.2-4.7">'bgp':</dt>
            <dd style="margin-left: 1.5em" id="section-7.5.2-4.8">Is provided when BGP is used for L2VPN
              signaling. Refer to <a href="#bgp" class="xref">Section 7.5.2.1</a> for more
              details.<a href="#section-7.5.2-4.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-7.5.2-4.9">'ldp':</dt>
            <dd style="margin-left: 1.5em" id="section-7.5.2-4.10">The model supports the configuration of the
              parameters that are discussed in Section 6 of <span>[<a href="#RFC4762" class="xref">RFC4762</a>]</span>. Refer to <a href="#ldp" class="xref">Section 7.5.2.2</a>
              for more details.<a href="#section-7.5.2-4.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-7.5.2-4.11">'l2tp':</dt>
            <dd style="margin-left: 1.5em" id="section-7.5.2-4.12">The model supports the configuration of
              the parameters that are discussed in Section 4 of <span>[<a href="#RFC4667" class="xref">RFC4667</a>]</span>. Refer to <a href="#l2tp" class="xref">Section 7.5.2.3</a>
              for more details.<a href="#section-7.5.2-4.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.5.2-5"></p>
<div id="bgp">
<section id="section-7.5.2.1">
            <h5 id="name-bgp">
<a href="#section-7.5.2.1" class="section-number selfRef">7.5.2.1. </a><a href="#name-bgp" class="section-name selfRef">BGP</a>
            </h5>
<p id="section-7.5.2.1-1">The structure of the BGP-related data nodes is provided in
            <a href="#so-bgp" class="xref">Figure 11</a>.<a href="#section-7.5.2.1-1" class="pilcrow">¶</a></p>
<span id="name-signaling-option-subtree-bg"></span><div id="so-bgp">
<figure id="figure-11">
              <div class="alignCenter art-text artwork" id="section-7.5.2.1-2.1">
<pre>   ...
   |  +--rw (signaling-option)?
   |     ...
   |     +--:(bgp)
   |     |  +--rw (bgp-type)?
   |     |     +--:(l2vpn-bgp)
   |     |     |  +--rw ce-range?     uint16
   |     |     |  +--rw pw-encapsulation-type?
   |     |     |  |       identityref
   |     |     |  +--rw vpls-instance
   |     |     |     +--rw vpls-edge-id?         uint16
   |     |     |     +--rw vpls-edge-id-range?   uint16
   |     |     +--:(evpn-bgp)
   |     |        +--rw evpn-type?                leafref
   |     |        +--rw service-interface-type?
   |     |        |       identityref
   |     |        +--rw evpn-policies
   |     |           +--rw mac-learning-mode?
   |     |           |       identityref
   |     |           +--rw ingress-replication?
   |     |           |       boolean
   |     |           +--rw p2mp-replication?
   |     |           |       boolean
   |     |           +--rw arp-proxy {vpn-common:ipv4}?
   |     |           |  +--rw enable?           boolean
   |     |           |  +--rw arp-suppression?
   |     |           |  |       boolean
   |     |           |  +--rw ip-mobility-threshold?
   |     |           |  |       uint16
   |     |           |  +--rw duplicate-ip-detection-interval?
   |     |           |          uint16
   |     |           +--rw nd-proxy {vpn-common:ipv6}?
   |     |           |  +--rw enable?          boolean
   |     |           |  +--rw nd-suppression?
   |     |           |  |       boolean
   |     |           |  +--rw ip-mobility-threshold?
   |     |           |  |       uint16
   |     |           |  +--rw duplicate-ip-detection-interval?
   |     |           |          uint16
   |     |           +--rw underlay-multicast?
   |     |           |       boolean
   |     |           +--rw flood-unknown-unicast-supression?
   |     |           |       boolean
   |     |           +--rw vpws-vlan-aware?        boolean
   |     |           +--rw bum-management
   |     |           |  +--rw discard-broadcast?
   |     |           |  |       boolean
   |     |           |  +--rw discard-unknown-multicast?
   |     |           |  |       boolean
   |     |           |  +--rw discard-unknown-unicast?
   |     |           |          boolean
   |     |           +--rw pbb
   |     |              +--rw backbone-src-mac?
   |     |                      yang:mac-address
   |     +--:(ldp-or-l2tp)
   |        ...</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-signaling-option-subtree-bg" class="selfRef">Signaling Option Subtree (BGP)</a>
              </figcaption></figure>
</div>
<p id="section-7.5.2.1-3">Remote CEs that are entitled to connect to the same VPN should
            fit with the CE range ('ce-range') as discussed in Section 2.2.3
            of <span>[<a href="#RFC6624" class="xref">RFC6624</a>]</span>. 'pw-encapsulation-type' is used
            to control the PW encapsulation type (Section 3 of <span>[<a href="#RFC6624" class="xref">RFC6624</a>]</span>). The value of the
            'pw-encapsulation-type' are taken from the IANA-maintained
            "iana-bgp-l2-encaps" module.<a href="#section-7.5.2.1-3" class="pilcrow">¶</a></p>
<p id="section-7.5.2.1-4">For the specific case of VPLS, the VPLS Edge ID (VE ID,
            'vpls-edge-id') and a VE ID range ('vpls-edge-id-range') are
            provided as per Section 3.2 of <span>[<a href="#RFC4761" class="xref">RFC4761</a>]</span>. If
            different VE IDs are required (e.g., multihoming as per Section
            3.5 of <span>[<a href="#RFC4761" class="xref">RFC4761</a>]</span>), these IDs are configured
            at the VPN network access level (under 'signaling-option' in <a href="#sna" class="xref">Section 7.6</a>).<a href="#section-7.5.2.1-4" class="pilcrow">¶</a></p>
<p id="section-7.5.2.1-5">For EVPN-related L2VPNs, 'service-interface-type' indicates
            whether this is VLAN-based, VLAN bundle, or VLAN-aware bundle
            service interface (Section 6 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>).
            Moreover, a set of policies can be provided such as MAC address
            learning mode (Section 9 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>),
            ingress replication (Section 12.1 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>), Address Resolution Protocol (ARP) and
            Nighbor Discovery (ND) proxy (Section 10 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>), processing of Broadcast, unknown
            unicast, or multicast (BUM) (Section 12 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>), etc.<a href="#section-7.5.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ldp">
<section id="section-7.5.2.2">
            <h5 id="name-ldp">
<a href="#section-7.5.2.2" class="section-number selfRef">7.5.2.2. </a><a href="#name-ldp" class="section-name selfRef">LDP</a>
            </h5>
<p id="section-7.5.2.2-1">The model supports the configuration of the parameters that are
            discussed in Section 6 of <span>[<a href="#RFC4762" class="xref">RFC4762</a>]</span>. Such
            parameters include a an Attachment Group Identifier (AGI) (a.k.a.,
            VPLS-id), a Source Attachment Individual Identifier (SAII), a list
            of peers that are associated with a Target Attachment Individual
            Identifier (TAII), a PW type, and a PW description, (<a href="#so-ldp" class="xref">Figure 12</a>). Unlike BGP, only Ethernet and Ethernet
            tagged mode are supported. The AGI, SAII, and TAII are encoded
            following the types defined in Section 3.4 of <span>[<a href="#RFC4446" class="xref">RFC4446</a>]</span>.<a href="#section-7.5.2.2-1" class="pilcrow">¶</a></p>
<span id="name-signaling-option-subtree-ld"></span><div id="so-ldp">
<figure id="figure-12">
              <div class="alignCenter art-text artwork" id="section-7.5.2.2-2.1">
<pre>   ...
   |  +--rw (signaling-option)?
   |     ...
   |     +--:(bgp)
   |     |  ...
   |     +--:(ldp-or-l2tp)
   |        +--rw ldp-or-l2tp
   |           +--rw agi?
   |           |       rt-types:route-distinguisher
   |           +--rw saii?                      uint32
   |           +--rw remote-targets* [taii]
   |           |  +--rw taii         uint32
   |           |  +--rw peer-addr    inet:ip-address
   |           +--rw (ldp-or-l2tp)?
   |              +--:(ldp)
   |              |  +--rw t-ldp-pw-type?
   |              |  |       identityref
   |              |  +--rw pw-type?       identityref
   |              |  +--rw pw-description?      string
   |              |  +--rw mac-addr-withdraw?   boolean
   |              |  +--rw pw-peer-list*
   |              |  |       [peer-addr vc-id]
   |              |  |  +--rw peer-addr
   |              |  |  |       inet:ip-address
   |              |  |  +--rw vc-id   string
   |              |  |  +--rw pw-priority?   uint32
   |              |  +--rw qinq
   |              |     +--rw s-tag    uint32
   |              |     +--rw c-tag    uint32
   |              +--:(l2tp)
   |                 +--rw router-id?
   |                 |       rt-types:router-id
   |                 +--rw pseudowire-type?
   |                         identityref
   ...</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-signaling-option-subtree-ld" class="selfRef">Signaling Option Subtree (LDP)</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="l2tp">
<section id="section-7.5.2.3">
            <h5 id="name-l2tp">
<a href="#section-7.5.2.3" class="section-number selfRef">7.5.2.3. </a><a href="#name-l2tp" class="section-name selfRef">L2TP</a>
            </h5>
<p id="section-7.5.2.3-1">The model supports the configuration of the parameters that are
            discussed in Section 4 of <span>[<a href="#RFC4667" class="xref">RFC4667</a>]</span>. Such
            parameters include a router-id that is used to uniquely identify a
            PE, a PW type, an AGI, an SAII, and a list of peers that are
            associated with a TAII (<a href="#so-l2tp" class="xref">Figure 13</a>). The PW
            type ('pseudowire-type') value is taken from the IANA-maintained
            "iana-pseudowire-types" module.<a href="#section-7.5.2.3-1" class="pilcrow">¶</a></p>
<span id="name-signaling-option-subtree-l2"></span><div id="so-l2tp">
<figure id="figure-13">
              <div class="alignCenter art-text artwork" id="section-7.5.2.3-2.1">
<pre>   ...
   |  +--rw (signaling-option)?
   |     ...
   |     +--:(bgp)
   |     |  ...
   |     +--:(ldp-or-l2tp)
   |        +--rw ldp-or-l2tp
   |           +--rw agi?
   |           |       rt-types:route-distinguisher
   |           +--rw saii?                      uint32
   |           +--rw remote-target* [peer-addr taii]
   |           |  +--rw peer-addr    inet:ip-address
   |           |  +--rw taii         uint32
   |           +--rw (ldp-or-l2tp)?
   |              +--:(ldp)
   |              |  ...
   |              +--:(l2tp)
   |                 +--rw router-id?
   |                 |       rt-types:router-id
   |                 +--rw pseudowire-type?
   |                         identityref
   ...</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-signaling-option-subtree-l2" class="selfRef">Signaling Option Subtree (L2TP)</a>
              </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sna">
<section id="section-7.6">
        <h3 id="name-vpn-network-accesses">
<a href="#section-7.6" class="section-number selfRef">7.6. </a><a href="#name-vpn-network-accesses" class="section-name selfRef">VPN Network Accesses</a>
        </h3>
<p id="section-7.6-1">A 'vpn-network-access' (<a href="#vpn_network_access_tree" class="xref">Figure 14</a>) represents an entry point to
        a VPN service . In other words, this container encloses the parameters
        that describe the access information for the traffic that belongs to a
        particular L2VPN. As such, every 'vpn-network-access' MUST belong to
        one and only one 'vpn-node'.<a href="#section-7.6-1" class="pilcrow">¶</a></p>
<p id="section-7.6-2">A 'vpn-network-access' includes information such as the connection
        on which the access is defined , the specific layer 2 service
        requirements, etc.<a href="#section-7.6-2" class="pilcrow">¶</a></p>
<span id="name-vpn-network-access-subtree"></span><div id="vpn_network_access_tree">
<figure id="figure-14">
          <div class="alignCenter art-text artwork" id="section-7.6-3.1">
<pre>           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 ...
                 +--rw vpn-network-accesses
                    +--rw vpn-network-access* [id]
                       +--rw id                        vpn-common:vpn-id
                       +--rw description?              string
                       +--rw interface-id?             string
                       +--rw global-parameters-profile?   leafref
                       +--rw status
                       |  ...
                       +--rw connection
                       |  ...
                       +--rw (signaling-option)?
                       |  +--:(bgp)
                       |     +--rw (bgp-type)?
                       |        +--:(l2vpn-bgp)
                       |        |  +--rw ce-id?             uint16
                       |        |  +--rw remote-ce-id?      uint16
                       |        |  +--rw vpls-instance
                       |        |     +--rw vpls-edge-id?   uint16
                       |        +--:(evpn-bgp)
                       |           +--rw vpws-service-instance
                       |              ...
                       +--rw group* [group-id]
                       |  +--rw group-id                       string
                       |  +--rw precedence?
                       |  |       identityref
                       |  +--rw ethernet-segment-identifier?   string
                       +--rw ethernet-service-oam
                       |  ...
                       +--rw service
                          ...</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-vpn-network-access-subtree" class="selfRef">VPN Network Access Subtree</a>
          </figcaption></figure>
</div>
<p id="section-7.6-4">The VPN network access is comprised of:<a href="#section-7.6-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.6-5">
          <dt id="section-7.6-5.1">'id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.2">Includes an identifier of the VPN network
            access.<a href="#section-7.6-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.3">'description':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.4">Includes a textual description of the
            VPN network access.<a href="#section-7.6-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.5">'port-id':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.6">Indicates the port on which the VPN
            network access is bound.<a href="#section-7.6-5.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.7">' global-parameters-profile':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.8">Provides a pointer to
            an active 'global-parameters-profile' at the VPN node level.
            Referencing an active 'global-parameters-profile' implies that all
            associated data nodes will be inherited by the VPN network access.
            However, some of the inherited data nodes (e.g., ACL policies) can
            be overridden at the VPN network access level. In such case,
            adjusted values take precedence over inherited ones.<a href="#section-7.6-5.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.9">'status':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.10">Indicates the administrative and
            operational status of the service.<a href="#section-7.6-5.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.11">'connection':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.12">Represents and groups the set of Layer
            2 connectivity from where the traffic of the L2VPN in a particular
            VPN Network access is coming. See <a href="#connection" class="xref">Section 7.6.1</a>.<a href="#section-7.6-5.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.13">'signaling-option':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.14">
            <p id="section-7.6-5.14.1">Indicates a set of signaling
            options that are specific to a given VPN network access, e.g., a
            CE ID ('ce-id' identifying the CE within the VPN) and a remote CE
            ID as discussed in Section 2.2.2 of <span>[<a href="#RFC6624" class="xref">RFC6624</a>]</span>.<a href="#section-7.6-5.14.1" class="pilcrow">¶</a></p>
<p id="section-7.6-5.14.2">It can also
            include a set of data nodes that are required for the
            configuration of a VPWS-EVPN <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span>. See
            <a href="#vsi" class="xref">Section 7.6.2</a>.<a href="#section-7.6-5.14.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.15">'group':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.16">Is used for grouping VPN network accesses
            by assigning the same identifier to these accesses. The precedence
            attribute is used to differentiate the primary and secondary
            accesses for a service with multiple accesses. An example to
            illustrate the use of this container for redundancy purposes is
            provided in <a href="#prec-example" class="xref">Appendix A.6</a>. This container is
            also used to identify the link of an ES by allocating the same
            ESI. An example to illustrate this functionality is provided in
            Appendices <a href="#evpn-vpws-app" class="xref">A.4</a>
            and <a href="#auto-ex" class="xref">A.5</a>.<a href="#section-7.6-5.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.17">'ethernet-service-oam':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.18">Carries information about
            the service OAM. See <a href="#oam" class="xref">Section 7.6.3</a>.<a href="#section-7.6-5.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.19">'service':</dt>
          <dd style="margin-left: 1.5em" id="section-7.6-5.20">Specifies the service parameters (e.g.,
            QoS, multicast) to apply for a given VPN network access. See <a href="#service" class="xref">Section 7.6.4</a>.<a href="#section-7.6-5.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="connection">
<section id="section-7.6.1">
          <h4 id="name-connection">
<a href="#section-7.6.1" class="section-number selfRef">7.6.1. </a><a href="#name-connection" class="section-name selfRef">Connection</a>
          </h4>
<p id="section-7.6.1-1">The 'connection' container (<a href="#connection_tree" class="xref">Figure 15</a>) is used to configure the relevant
          properties of the interface to which the L2VPN instance is attached
          to (e.g., encapsulation type, LAG interfaces, split-horizon). The
          L2NM supports tag manipulation operations (e.g., tag rewrite).<a href="#section-7.6.1-1" class="pilcrow">¶</a></p>
<p id="section-7.6.1-2">Note that the 'connection' container does not include the
          physical-specific configuration as this is assumed to be directly
          handled using device modules (e.g., interfaces module). Moreover,
          this design is also meant to avoid manipulated global parameters at
          the service level and lower the risk of impacting other services
          sharing the same physical interface.<a href="#section-7.6.1-2" class="pilcrow">¶</a></p>
<p id="section-7.6.1-3">Some consistency checks should be ensured by implementations
          (typically, network controllers) for LAG interface as the same
          information (e.g., LACP system-id) should be provided to the
          involved nodes.<a href="#section-7.6.1-3" class="pilcrow">¶</a></p>
<span id="name-connection-subtree"></span><div id="connection_tree">
<figure id="figure-15">
            <div class="alignCenter art-text artwork" id="section-7.6.1-4.1">
<pre>           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 ...
                 +--rw vpn-network-accesses
                    +--rw vpn-network-access* [id]
                       ...
                       +--rw connection
                       |  +--rw l2-termination-point?
                       |  |       string
                       |  +--rw local-bridge-reference?
                       |  |       string
                       |  +--rw bearer-reference?         string
                       |  |       {vpn-common:bearer-reference}?
                       |  +--rw encapsulation
                       |  |  +--rw encap-type?            identityref
                       |  |  +--rw dot1q
                       |  |  |  +--rw tag-type?   identityref
                       |  |  |  +--rw cvlan-id?   uint16
                       |  |  |  +--rw rewrite
                       |  |  |     +--rw (tag-choice)?
                       |  |  |     |  +--:(pop)
                       |  |  |     |  |  +--rw pop?
                       |  |  |     |  |          enumeration
                       |  |  |     |  +--:(push)
                       |  |  |     |  |  +--rw push?        empty
                       |  |  |     |  +--:(translate)
                       |  |  |     |     +--rw translate?
                       |  |  |     |             enumeration
                       |  |  |     +--rw cvlan-id?          uint16
                       |  |  |     +--rw mode?         enumeration
                       |  |  +--rw priority-tagged
                       |  |  |  +--rw tag-type?   identityref
                       |  |  +--rw qinq
                       |  |     +--rw tag-type?   identityref
                       |  |     +--rw svlan-id    uint16
                       |  |     +--rw cvlan-id    uint16
                       |  +--rw lag-interface
                       |     |    {vpn-common:lag-interface}?
                       |     +--rw lag-interface-id?   string
                       |     +--rw lacp
                       |     |  +--rw lacp-state?         boolean
                       |     |  +--rw mode?               identityref
                       |     |  +--rw speed?              uint32
                       |     |  +--rw mini-link-num?      uint32
                       |     |  +--rw system-id?
                       |     |  |       yang:mac-address
                       |     |  +--rw admin-key?          uint16
                       |     |  +--rw system-priority?    uint16
                       |     |  +--rw member-link-list
                       |     |  |  +--rw member-link* [name]
                       |     |  |     +--rw name         string
                       |     |  |     +--rw port-speed?  uint32
                       |     |  |     +--rw mode?   identityref
                       |     |  |     +--rw link-mtu?    uint32
                       |     |  |     +--rw oam-802.3ah-link
                       |     |  |        |    {oam-3ah}?
                       |     |  |        +--rw enable?   boolean
                       |     |  +--rw flow-control?       string
                       |     |  +--rw lldp?               boolean
                       |     +--rw split-horizon
                       |        +--rw group-name?   string
                       ...</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-connection-subtree" class="selfRef">Connection Subtree</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="vsi">
<section id="section-7.6.2">
          <h4 id="name-evpn-vpws-service-instance">
<a href="#section-7.6.2" class="section-number selfRef">7.6.2. </a><a href="#name-evpn-vpws-service-instance" class="section-name selfRef">EVPN-VPWS Service Instance</a>
          </h4>
<p id="section-7.6.2-1">The 'vpws-service-instance' provides the local and remote VPWS
          Service Instance (VSI) <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span>. This
          container is only present when the 'vpn-type' is VPWS-EVPN. As shown
          in <a href="#vsi-tree" class="xref">Figure 16</a>, the VSIs can be configured by a
          VPN service provider or auto-generated.<a href="#section-7.6.2-1" class="pilcrow">¶</a></p>
<p id="section-7.6.2-2">An example to illustrate the use of the L2NM to configure
          VPWS-EVPN instances is provided in <a href="#evpn-vpws-app" class="xref">Appendix A.4</a>.<a href="#section-7.6.2-2" class="pilcrow">¶</a></p>
<span id="name-evpn-vpws-service-instance-"></span><div id="vsi-tree">
<figure id="figure-16">
            <div class="alignLeft art-text artwork" id="section-7.6.2-3.1">
<pre>           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 ...
                 +--rw vpn-network-accesses
                    +--rw vpn-network-access* [id]
                       ...
                       +--rw (signaling-option)?
                       |  +--:(bgp)
                       |     +--rw (bgp-type)?
                       |        +--:(l2vpn-bgp)
                       |        |  ...
                       |        +--:(evpn-bgp)
                       |           +--rw vpws-service-instance
                       |              +--rw (local-vsi-choice)?
                       |              |  +--:(directly-assigned)
                       |              |  |  +--rw local-vpws-service-instance?
                       |              |  |          uint32
                       |              |  +--:(auto-assigned)
                       |              |     +--rw local-vsi-auto
                       |              |        +--rw (auto-mode)?
                       |              |        |  +--:(from-pool)
                       |              |        |  |  +--rw vsi-pool-name?
                       |              |        |  |          string
                       |              |        |  +--:(full-auto)
                       |              |        |     +--rw auto?      empty
                       |              |        +--ro auto-local-vsi?  uint32
                       |              +--rw (remote-vsi-choice)?
                       |                 +--:(directly-assigned)
                       |                 |  +--rw remote-vpws-service-instance?
                       |                 |          uint32
                       |                 +--:(auto-assigned)
                       |                    +--rw remote-vsi-auto
                       |                       +--rw (auto-mode)?
                       |                       |  +--:(from-pool)
                       |                       |  |  +--rw vsi-pool-name?
                       |                       |  |          string
                       |                       |  +--:(full-auto)
                       |                       |     +--rw auto?       empty
                       |                       +--ro auto-remote-vsi?  uint32
                       ...
</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-evpn-vpws-service-instance-" class="selfRef">EVPN-VPWS Service Instance Subtree</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="oam">
<section id="section-7.6.3">
          <h4 id="name-ethernet-oam">
<a href="#section-7.6.3" class="section-number selfRef">7.6.3. </a><a href="#name-ethernet-oam" class="section-name selfRef">Ethernet OAM</a>
          </h4>
<p id="section-7.6.3-1">Ethernet OAM refers to both <span>[<a href="#IEEE-802-1ag" class="xref">IEEE-802-1ag</a>]</span>
          and <span>[<a href="#ITU-T-Y-1731" class="xref">ITU-T-Y-1731</a>]</span>.<a href="#section-7.6.3-1" class="pilcrow">¶</a></p>
<p id="section-7.6.3-2">As shown in <a href="#oamt" class="xref">Figure 17</a>, the L2NM inherits the
          same structure as in Section 5.3.2.2.6 of <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span> for OAM matters.<a href="#section-7.6.3-2" class="pilcrow">¶</a></p>
<span id="name-oam-subtree"></span><div id="oamt">
<figure id="figure-17">
            <div class="alignCenter art-text artwork" id="section-7.6.3-3.1">
<pre>  +--rw l2vpn-ntw
     +--rw vpn-profiles
     |  ...
     +--rw vpn-services
        +--rw vpn-service* [vpn-id]
           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 ...
                 +--rw vpn-network-accesses
                    +--rw vpn-network-access* [id]
                       ...
                       +--rw ethernet-service-oam
                       |  +--rw md-name?        string
                       |  +--rw md-level?       uint8
                       |  +--rw cfm-802.1-ag
                       |  |  +--rw n2-uni-c* [maid]
                       |  |  |  +--rw maid                string
                       |  |  |  +--rw mep-id?             uint32
                       |  |  |  +--rw mep-level?          uint32
                       |  |  |  +--rw mep-up-down?
                       |  |  |  |                   enumeration
                       |  |  |  +--rw remote-mep-id?      uint32
                       |  |  |  +--rw cos-for-cfm-pdus?   uint32
                       |  |  |  +--rw ccm-interval?       uint32
                       |  |  |  +--rw ccm-holdtime?       uint32
                       |  |  |  +--rw ccm-p-bits-pri?
                       |  |  |          ccm-priority-type
                       |  |  +--rw n2-uni-n* [maid]
                       |  |     +--rw maid                string
                       |  |     +--rw mep-id?             uint32
                       |  |     +--rw mep-level?          uint32
                       |  |     +--rw mep-up-down?
                       |  |     |                    enumeration
                       |  |     +--rw remote-mep-id?      uint32
                       |  |     +--rw cos-for-cfm-pdus?   uint32
                       |  |     +--rw ccm-interval?       uint32
                       |  |     +--rw ccm-holdtime?       uint32
                       |  |     +--rw ccm-p-bits-pri?
                       |  |             ccm-priority-type
                       |  +--rw y-1731* [maid]
                       |     +--rw maid               string
                       |     +--rw mep-id?            uint32
                       |     +--rw pm-type?           identityref
                       |     +--rw remote-mep-id?     uint32
                       |     +--rw message-period?    uint32
                       |     +--rw measurement-interval?   uint32
                       |     +--rw cos?        uint32
                       |     +--rw loss-measurement?      boolean
                       |     +--rw synthethic-loss-measurement?
                       |     |       boolean
                       |     +--rw delay-measurement
                       |     |  +--rw enable-dm?   boolean
                       |     |  +--rw two-way?     boolean
                       |     +--rw frame-size?     uint32
                       |     +--rw session-type?   enumeration
                       ...</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-oam-subtree" class="selfRef">OAM Subtree</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="service">
<section id="section-7.6.4">
          <h4 id="name-services">
<a href="#section-7.6.4" class="section-number selfRef">7.6.4. </a><a href="#name-services" class="section-name selfRef">Services</a>
          </h4>
<p id="section-7.6.4-1">The 'service' container (<a href="#service_tree" class="xref">Figure 18</a>)
          provides a set of service-specific configuration such as Quality of
          Service (QoS).<a href="#section-7.6.4-1" class="pilcrow">¶</a></p>
<span id="name-service-overall-subtree"></span><div id="service_tree">
<figure id="figure-18">
            <div class="alignCenter art-text artwork" id="section-7.6.4-2.1">
<pre>  +--rw l2vpn-ntw
     +--rw vpn-profiles
     |  ...
     +--rw vpn-services
        +--rw vpn-service* [vpn-id]
           ...
           +--rw vpn-nodes
              +--rw vpn-node* [vpn-node-id]
                 ...
                 +--rw vpn-network-accesses
                    +--rw vpn-network-access* [id]
                       ...
                       +--rw service
                          +--rw mtu?            uint32
                          +--rw svc-inbound-bandwidth
                          |       {vpn-common:inbound-bw}?
                          |  ...
                          +--rw svc-outbound-bandwidth
                          |       {vpn-common:outbound-bw}?
                          |  ...
                          +--rw qos {vpn-common:qos}?
                          |  ...
                          +--rw mac-policies
                          |  ...
                          +--rw broadcast-unknown-unicast-multicast
                             ...</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-service-overall-subtree" class="selfRef">Service Overall Subtree</a>
            </figcaption></figure>
</div>
<p id="section-7.6.4-3">The description of the service data nodes is as
          follows:<a href="#section-7.6.4-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.6.4-4">
            <dt id="section-7.6.4-4.1">'mtu':</dt>
            <dd style="margin-left: 1.5em" id="section-7.6.4-4.2">Specifies the MTU for the VPN network
              access.<a href="#section-7.6.4-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-7.6.4-4.3">'svc-inbound-bandwidth' and 'svc-outbound-bandwidth':</dt>
            <dd style="margin-left: 1.5em" id="section-7.6.4-4.4">
              <p id="section-7.6.4-4.4.1">Specify
              the service bandwidth for the L2VPN service. It can be
              represented using the Committed Information Rate (CIR), the
              Excess Information Rate (EIR), or the Peak Information Rate
              (PIR). As shown in <a href="#bwtree" class="xref">Figure 19</a>, the structure
              of service bandwidth data nodes is inherited from the L2SM <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span>. The following types, defined in <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>, can be used to
              indicate the bandwidth type:<a href="#section-7.6.4-4.4.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.6.4-4.4.2">
                <dt id="section-7.6.4-4.4.2.1">'bw-per-cos':</dt>
                <dd style="margin-left: 1.5em" id="section-7.6.4-4.4.2.2">The bandwidth is per Class of
                  Service (CoS).<a href="#section-7.6.4-4.4.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-7.6.4-4.4.2.3">'bw-per-port':</dt>
                <dd style="margin-left: 1.5em" id="section-7.6.4-4.4.2.4">The bandwidth is per VPN
                  network access.<a href="#section-7.6.4-4.4.2.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-7.6.4-4.4.2.5">'bw-per-site':</dt>
                <dd style="margin-left: 1.5em" id="section-7.6.4-4.4.2.6">The bandwidth is to all VPN
                  network accesses that belong to the same site.<a href="#section-7.6.4-4.4.2.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-7.6.4-4.4.2.7">'bw-per-service':</dt>
                <dd style="margin-left: 1.5em" id="section-7.6.4-4.4.2.8">The bandwidth is per L2VPN
                  service.<a href="#section-7.6.4-4.4.2.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
<p id="section-7.6.4-4.4.3">'svc-inbound-bandwidth'
              indicates the inbound bandwidth of the connection (i.e.,
              download bandwidth from the service provider to the site).<a href="#section-7.6.4-4.4.3" class="pilcrow">¶</a></p>
<p id="section-7.6.4-4.4.4">'svc-outbound-bandwidth' indicates the
              outbound bandwidth of the connection (i.e., upload bandwidth
              from the site to the service provider).<a href="#section-7.6.4-4.4.4" class="pilcrow">¶</a></p>
<span id="name-service-bandwidth-subtree"></span><div id="bwtree">
<figure id="figure-19">
                <div class="alignCenter art-text artwork" id="section-7.6.4-4.4.5.1">
<pre>                       +--rw service
                          ...
                          +--rw svc-inbound-bandwidth
                          |       {vpn-common:inbound-bw}?
                          |  +--rw inbound-bandwidth* [bw-type]
                          |     +--rw bw-type   identityref
                          |     +--rw cos-id?   uint8
                          |     |       {vpn-common:qos}?
                          |     +--rw cir?      uint64
                          |     +--rw cbs?      uint64
                          |     +--rw eir?      uint64
                          |     +--rw ebs?      uint64
                          |     +--rw pir?      uint64
                          |     +--rw pbs?      uint64
                          +--rw svc-outbound-bandwidth
                          |       {vpn-common:outbound-bw}?
                          |  +--rw outbound-bandwidth* [bw-type]
                          |     +--rw bw-type   identityref
                          |     +--rw cos-id?   uint8
                          |     |       {vpn-common:qos}?
                          |     +--rw cir?      uint64
                          |     +--rw cbs?      uint64
                          |     +--rw eir?      uint64
                          |     +--rw ebs?      uint64
                          |     +--rw pir?      uint64
                          |     +--rw pbs?      uint64
                          ...</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-service-bandwidth-subtree" class="selfRef">Service Bandwidth Subtree</a>
                </figcaption></figure>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-7.6.4-4.5">'qos':</dt>
            <dd style="margin-left: 1.5em" id="section-7.6.4-4.6">
              <p id="section-7.6.4-4.6.1">Is used to define a set of QoS policies to
              apply on a given VPN network access (<a href="#qos-tree" class="xref">Figure 20</a>). The QoS classification can be based
              on many criteria such as source MAC address, destination MAC
              address, etc. See also Section 5.10.2.1 of <span>[<a href="#RFC8466" class="xref">RFC8466</a>]</span>.<a href="#section-7.6.4-4.6.1" class="pilcrow">¶</a></p>
<span id="name-qos-subtree"></span><div id="qos-tree">
<figure id="figure-20">
                <div class="alignCenter art-text artwork" id="section-7.6.4-4.6.2.1">
<pre>                       +--rw service
                          ...
                          +--rw qos {vpn-common:qos}?
                          |  +--rw qos-classification-policy
                          |  |  +--rw rule* [id]
                          |  |     +--rw id                string
                          |  |     +--rw (match-type)?
                          |  |     |  +--:(match-flow)
                          |  |     |  |  +--rw match-flow
                          |  |     |  |     +--rw dscp?   inet:dscp
                          |  |     |  |     +--rw dot1q?     uint16
                          |  |     |  |     +--rw pcp?       uint8
                          |  |     |  |     +--rw src-mac-address?
                          |  |     |  |     |       yang:mac-address
                          |  |     |  |     +--rw dst-mac-address?
                          |  |     |  |     |       yang:mac-address
                          |  |     |  |     +--rw color-type?
                          |  |     |  |     |       identityref
                          |  |     |  |     +--rw any?         empty
                          |  |     |  +--:(match-application)
                          |  |     |     +--rw match-application?
                          |  |     |             identityref
                          |  |     +--rw target-class-id?     string
                          |  +--rw qos-profile
                          |     +--rw qos-profile* [profile]
                          |        +--rw profile      leafref
                          |        +--rw direction?   identityref
                          ...</pre>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a>:
<a href="#name-qos-subtree" class="selfRef">QoS Subtree</a>
                </figcaption></figure>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-7.6.4-4.7">'mac-policies':</dt>
            <dd style="margin-left: 1.5em" id="section-7.6.4-4.8">
              <p id="section-7.6.4-4.8.1">Lists a set of MAC-related
              policies such as MAC ACLs. An ACL can be based on source MAC
              address, source MAC address mask, destination MAC address , and
              destination MAC address mask. A data frame that matches an ACL
              can be dropped, flooded, or trigger an alarm. A rate-limit
              policy can be defined for handling frames that match an ACL
              entry with 'flood' action.<a href="#section-7.6.4-4.8.1" class="pilcrow">¶</a></p>
<p id="section-7.6.4-4.8.2">When
              'mac-loop-prevention' or 'mac-addr-limit' data nodes are
              provided, they take precedence over the one inlcuded in the
              'global-parameters-profile' at the VPN service or VPN node
              levels.<a href="#section-7.6.4-4.8.2" class="pilcrow">¶</a></p>
<span id="name-mac-policies-subtree"></span><div id="mac-policies-tree">
<figure id="figure-21">
                <div class="alignCenter art-text artwork" id="section-7.6.4-4.8.3.1">
<pre>                       +--rw service
                          ...
                          +--rw mac-policies
                          |  +--rw access-control-list* [name]
                          |  |  +--rw name                    string
                          |  |  +--rw src-mac-address*
                          |  |  |       yang:mac-address
                          |  |  +--rw src-mac-address-mask*
                          |  |  |       yang:mac-address
                          |  |  +--rw dst-mac-address*
                          |  |  |       yang:mac-address
                          |  |  +--rw dst-mac-address-mask*
                          |  |  |       yang:mac-address
                          |  |  +--rw action?          identityref
                          |  |  +--rw rate-limit?      decimal64
                          |  +--rw mac-loop-prevention
                          |  |  +--rw window?            uint32
                          |  |  +--rw frequency?         uint32
                          |  |  +--rw retry-timer?       uint32
                          |  |  +--rw protection-type?   identityref
                          |  +--rw mac-addr-limit
                          |     +--rw mac-num-limit?   uint16
                          |     +--rw time-interval?   uint32
                          |     +--rw action?          identityref
                          ...</pre>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a>:
<a href="#name-mac-policies-subtree" class="selfRef">MAC Policies Subtree</a>
                </figcaption></figure>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-7.6.4-4.9">'broadcast-unknown-unicast-multicast':</dt>
            <dd style="margin-left: 1.5em" id="section-7.6.4-4.10">
              <p id="section-7.6.4-4.10.1">Defines the
              type of site in the customer multicast service topology: source,
              receiver, or both. It is also used to define multicast
              group-to-port mappings.<a href="#section-7.6.4-4.10.1" class="pilcrow">¶</a></p>
<span id="name-bum-subtree"></span><div id="bum_tree">
<figure id="figure-22">
                <div class="alignCenter art-text artwork" id="section-7.6.4-4.10.2.1">
<pre>                       +--rw service
                          ...
                          +--rw broadcast-unknown-unicast-multicast
                             +--rw multicast-site-type?
                             |       enumeration
                             +--rw multicast-gp-address-mapping* [id]
                             |  +--rw id                 uint16
                             |  +--rw vlan-id?           uint32
                             |  +--rw mac-gp-address?
                             |  |       yang:mac-address
                             |  +--rw port-lag-number?   uint32
                             +--rw bum-overall-rate?     uint32</pre>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a>:
<a href="#name-bum-subtree" class="selfRef">BUM  Subtree</a>
                </figcaption></figure>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<section id="section-8">
      <h2 id="name-yang-modules">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-yang-modules" class="section-name selfRef">YANG Modules</a>
      </h2>
<p id="section-8-1"></p>
<div id="iana-bgp">
<section id="section-8.1">
        <h3 id="name-iana-bgp-layer-2-encapsulat">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-iana-bgp-layer-2-encapsulat" class="section-name selfRef">IANA BGP Layer 2 Encapsulation Types</a>
        </h3>
<p id="section-8.1-1">The "iana-bgp-l2-encaps" YANG module (<a href="#iana-bgp" class="xref">Section 8.1</a>) is designed to echo the registry available
        at <span>[<a href="#IANA-BGP-L2" class="xref">IANA-BGP-L2</a>]</span>. <a href="#bet" class="xref">Appendix B</a>
        lists the initial values included in the "iana-bgp-l2-encaps" YANG
        module.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<div id="section-8.1-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt;file "iana-bgp-l2-encaps@2021-07-05.yang"
module iana-bgp-l2-encaps {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:iana-bgp-l2-encaps";
  prefix iana-bgp-l2-encaps;

  organization
    "IANA";
  contact
    "Internet Assigned Numbers Authority

     Postal: ICANN
          12025 Waterfront Drive, Suite 300
          Los Angeles, CA  90094-2536
          United States of America
     Tel:    +1 310 301 5800
     &lt;mailto:iana@iana.org&gt;";
  description
    "This module contains a collection of YANG data types defined
     by IANA and used for referring to BGP layer 2 encapsulation
     types.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2021-07-05 {
    description
      "First revision.";
    reference
      "RFC XXXX: A Layer 2 VPN Network YANG Model.";
  }

  identity bgp-l2-encaps-type {
    description
      "Base BGP Layer 2 encapsulation type.";
    reference
      "RFC 6624: Layer 2 Virtual Private Networks Using BGP for
                 Auto-Discovery and Signaling";
  }

  identity frame-relay {
    base bgp-l2-encaps-type;
    description
      "Frame Relay.";
    reference
      "RFC 4446: IANA Allocations for Pseudowire Edge
                 to Edge Emulation (PWE3)";
  }

  identity atm-aal5 {
    base bgp-l2-encaps-type;
    description
      "ATM AAL5 SDU VCC transport.";
    reference
      "RFC 4446: IANA Allocations for Pseudowire Edge
                 to Edge Emulation (PWE3)";
  }

  identity atm-cell {
    base bgp-l2-encaps-type;
    description
      "ATM transparent cell transport";
    reference
      "RFC 4816: Pseudowire Emulation Edge-to-Edge (PWE3)
                 Asynchronous Transfer Mode (ATM) Transparent
                 Cell Transport Service";
  }

  identity ethernet-tagged-mode {
    base bgp-l2-encaps-type;
    description
      "Ethernet (VLAN) Tagged Mode.";
    reference
      "RFC 4448: Encapsulation Methods for Transport of Ethernet
                 over MPLS Networks";
  }

  identity ethernet-raw-mode {
    base bgp-l2-encaps-type;
    description
      "Ethernet Raw Mode.";
    reference
      "RFC 4448: Encapsulation Methods for Transport of Ethernet
                 over MPLS Networks";
  }

  identity hdlc {
    base bgp-l2-encaps-type;
    description
      "Cisco HDLC.";
    reference
      "RFC 4618: Encapsulation Methods for Transport of
                 PPP/High-Level Data Link Control (HDLC)
                 over MPLS Networks";
  }

  identity ppp {
    base bgp-l2-encaps-type;
    description
      "PPP.";
    reference
      "RFC 4618: Encapsulation Methods for Transport of
                 PPP/High-Level Data Link Control (HDLC)
                 over MPLS Networks";
  }

  identity circuit-emulation {
    base bgp-l2-encaps-type;
    description
      "SONET/SDH Circuit Emulation Service.";
    reference
      "RFC 4842: Synchronous Optical Network/Synchronous Digital
                 Hierarchy (SONET/SDH) Circuit Emulation over Packet
                 (CEP)";
  }

  identity atm-to-vcc {
    base bgp-l2-encaps-type;
    description
      "ATM n-to-one VCC cell transport.";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS Networks";
  }

  identity atm-to-vpc {
    base bgp-l2-encaps-type;
    description
      "ATM n-to-one VPC cell transport.";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS Networks";
  }

  identity layer-2-transport {
    base bgp-l2-encaps-type;
    description
      "IP Layer 2 Transport.";
    reference
      "RFC 3032: MPLS Label Stack Encoding";
  }

  identity fr-port-mode {
    base bgp-l2-encaps-type;
    description
      "Frame Relay Port mode.";
    reference
      "RFC 4619: Encapsulation Methods for Transport of Frame Relay over
                 Multiprotocol Label Switching (MPLS) Networks";
  }

  identity e1 {
    base bgp-l2-encaps-type;
    description
      "Structure-agnostic E1 over packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity t1 {
    base bgp-l2-encaps-type;
    description
      "Structure-agnostic T1 (DS1) over packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity vpls {
    base bgp-l2-encaps-type;
    description
      "VPLS.";
    reference
      "RFC 4761: Virtual Private LAN Service (VPLS)
                 Using BGP for Auto-Discovery and Signaling";
  }

  identity t3 {
    base bgp-l2-encaps-type;
    description
      "Structure-agnostic T3 (DS3) over packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity structure-aware {
    base bgp-l2-encaps-type;
    description
      "Nx64kbit/s Basic Service using Structure-aware.";
    reference
      "RFC 5086: Structure-Aware Time Division Multiplexed (TDM)
                 Circuit Emulation Service over Packet Switched
                 Network (CESoPSN)";
  }

  identity dlci {
    base bgp-l2-encaps-type;
    description
      "Frame Relay DLCI.";
    reference
      "RFC 4619: Encapsulation Methods for Transport of Frame Relay over
                 Multiprotocol Label Switching (MPLS) Networks";
  }

  identity e3 {
    base bgp-l2-encaps-type;
    description
      "Structure-agnostic E3 over packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity ds1 {
    base bgp-l2-encaps-type;
    description
      "Octet-aligned payload for Structure-agnostic DS1 circuits.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity cas {
    base bgp-l2-encaps-type;
    description
      "DS1 (ESF) Nx64kbit/s with CAS using Structure-aware.";
    reference
      "RFC 5086: Structure-Aware Time Division Multiplexed (TDM)
                 Circuit Emulation Service over Packet Switched
                 Network (CESoPSN)";
  }

  identity esf {
    base bgp-l2-encaps-type;
    description
      "DS1 (ESF) Nx64kbit/s with CAS using Structure-aware.";
    reference
      "RFC 5086: Structure-Aware Time Division Multiplexed (TDM)
                 Circuit Emulation Service over Packet Switched
                 Network (CESoPSN)";
  }

  identity sf {
    base bgp-l2-encaps-type;
    description
      "DS1 (SF) Nx64kbit/s with CAS using Structure-aware.";
    reference
      "RFC 5086: Structure-Aware Time Division Multiplexed (TDM)
                 Circuit Emulation Service over Packet Switched
                 Network (CESoPSN)";
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-8.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="iana-pw">
<section id="section-8.2">
        <h3 id="name-iana-encapsulation-types">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-iana-encapsulation-types" class="section-name selfRef">IANA Encapsulation Types</a>
        </h3>
<p id="section-8.2-1">The initial version of the "iana-pseudowire-types" YANG module
        (<a href="#iana-pw" class="xref">Section 8.2</a>) is designed to echo the registry
        available at <span>[<a href="#IANA-PW-Types" class="xref">IANA-PW-Types</a>]</span>. . <a href="#pwt" class="xref">Appendix C</a> lists the initial values included in the
        "iana-bgp-l2-encaps" YANG module.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<div id="section-8.2-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt;file "iana-pseudowire-types@2021-07-05.yang"
module iana-pseudowire-types {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:iana-pseudowire-types";
  prefix iana-pw-types;

  organization
    "IANA";
  contact
    "Internet Assigned Numbers Authority

     Postal: ICANN
          12025 Waterfront Drive, Suite 300
          Los Angeles, CA  90094-2536
          United States of America
     Tel:    +1 310 301 5800
     &lt;mailto:iana@iana.org&gt;";
  description
    "This module contains a collection of YANG data types defined
     by IANA and used for referring to Pseudowire Types.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2021-07-05 {
    description
      "First revision.";
    reference
      "RFC XXXX: A Layer 2 VPN Network YANG Model.";
  }

  identity iana-pw-types {
    description
      "Base BGP Layer 2 encapsulation type.";
  }

  identity frame-relay {
    base iana-pw-types;
    description
      "Frame Relay.";
    reference
      "RFC 4619: Encapsulation Methods for Transport of Frame Relay
                 over Multiprotocol Label Switching (MPLS) Networks";
  }

  identity atm-aal5 {
    base iana-pw-types;
    description
      "ATM AAL5 SDU VCC transport.";
  }

  identity atm-cell {
    base iana-pw-types;
    description
      "ATM transparent cell transport";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS
                 Networks";
  }

  identity ethernet-tagged-mode {
    base iana-pw-types;
    description
      "Ethernet (VLAN) Tagged Mode.";
    reference
      "RFC 4448: Encapsulation Methods for Transport of Ethernet
                 over MPLS Networks";
  }

  identity ethernet {
    base iana-pw-types;
    description
      "Ethernet.";
    reference
      "RFC 4448: Encapsulation Methods for Transport of Ethernet
                 over MPLS Networks";
  }

  identity hdlc {
    base iana-pw-types;
    description
      "Cisco HDLC.";
    reference
      "RFC 4618: Encapsulation Methods for Transport of
                 PPP/High-Level Data Link Control (HDLC)
                 over MPLS Networks";
  }

  identity ppp {
    base iana-pw-types;
    description
      "PPP.";
    reference
      "RFC 4618: Encapsulation Methods for Transport of
                 PPP/High-Level Data Link Control (HDLC)
                 over MPLS Networks";
  }

  identity circuit-emulation-mpls {
    base iana-pw-types;
    description
      "SONET/SDH Circuit Emulation Service Over MPLS Encapsulation.";
    reference
      "RFC 5143: Synchronous Optical Network/Synchronous Digital
                 Hierarchy (SONET/SDH) Circuit Emulation Service over
                 MPLS (CEM) Encapsulation";
  }

  identity atm-to-vcc {
    base iana-pw-types;
    description
      "ATM n-to-one VCC cell transport.";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS Networks";
  }

  identity atm-to-vpc {
    base iana-pw-types;
    description
      "ATM n-to-one VPC cell transport.";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS Networks";
  }

  identity layer-2-transport {
    base iana-pw-types;
    description
      "IP Layer2 Transport.";
    reference
      "RFC 3032: MPLS Label Stack Encoding";
  }

  identity atm-one-to-one-vcc {
    base iana-pw-types;
    description
      "ATM one-to-one VCC Cell Mode.";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS Networks";
  }

  identity atm-one-to-one-vpc {
    base iana-pw-types;
    description
      "ATM one-to-one VPC Cell Mode.";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS Networks";
  }

  identity atm-aal5-vcc {
    base iana-pw-types;
    description
      "ATM AAL5 PDU VCC transport.";
    reference
      "RFC 4717: Encapsulation Methods for Transport of
                 Asynchronous Transfer Mode (ATM) over MPLS Networks";
  }

  identity fr-port-mode {
    base iana-pw-types;
    description
      "Frame-Relay Port mode.";
    reference
      "RFC 4619: Encapsulation Methods for Transport of Frame Relay over
                 Multiprotocol Label Switching (MPLS) Networks";
  }

  identity circuit-emulation-packet {
    base iana-pw-types;
    description
      "SONET/SDH Circuit Emulation over Packet.";
    reference
      "RFC 4842: Synchronous Optical Network/Synchronous Digital
                 Hierarchy (SONET/SDH) Circuit Emulation over Packet
                 (CEP)";
  }

  identity e1 {
    base iana-pw-types;
    description
      "Structure-agnostic E1 over Packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity t1 {
    base iana-pw-types;
    description
      "Structure-agnostic T1 (DS1) over Packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity e3 {
    base iana-pw-types;
    description
      "Structure-agnostic E3 over Packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity t3 {
    base iana-pw-types;
    description
      "Structure-agnostic T3 (DS3) over Packet.";
    reference
      "RFC 4553: Structure-Agnostic Time Division Multiplexing (TDM)
                 over Packet (SAToP)";
  }

  identity ces-over-psn {
    base iana-pw-types;
    description
      "CESoPSN basic mode.";
    reference
      "RFC 5086: Structure-Aware Time Division Multiplexed (TDM)
                 Circuit Emulation Service over Packet Switched Network
                 (CESoPSN)";
  }

  identity tdm-over-ip-aal1 {
    base iana-pw-types;
    description
      "TDMoIP AAL1 Mode.";
    reference
      "RFC 5087: Time Division Multiplexing over IP (TDMoIP)";
  }

  identity ces-over-psn-cas {
    base iana-pw-types;
    description
      "CESoPSN TDM with CAS.";
    reference
      "RFC 5086: Structure-Aware Time Division Multiplexed (TDM)
                 Circuit Emulation Service over Packet Switched Network
                 (CESoPSN)";
  }

  identity tdm-over-ip-aal2 {
    base iana-pw-types;
    description
      "TDMoIP AAL2 Mode.";
    reference
      "RFC 5087: Time Division Multiplexing over IP (TDMoIP)";
  }

  identity dlci {
    base iana-pw-types;
    description
      "Frame Relay DLCI.";
    reference
      "RFC 4619: Encapsulation Methods for Transport of Frame Relay over
                 Multiprotocol Label Switching (MPLS) Networks";
  }

  identity rohc {
    base iana-pw-types;
    description
      "ROHC Transport Header-compressed Packets.";
    reference
      "RFC 5795: The RObust Header Compression (ROHC) Framework
       RFC 4901: Protocol Extensions for Header Compression over MPLS";
  }

  identity ecrtp {
    base iana-pw-types;
    description
      "ECRTP Transport Header-compressed Packets.";
    reference
      "RFC 3545: Enhanced Compressed RTP (CRTP) for Links with High
                  Delay, Packet Loss and Reordering
       RFC 4901: Protocol Extensions for Header Compression over MPLS";
  }

  identity iphc {
    base iana-pw-types;
    description
      "IPHC Transport Header-compressed Packets.";
    reference
      "RFC 2507: IP Header Compression
       RFC 4901: Protocol Extensions for Header Compression over MPLS";
  }

  identity crtp {
    base iana-pw-types;
    description
      "cRTP Transport Header-compressed Packets.";
    reference
      "RFC 2508: Compressing IP/UDP/RTP Headers for Low-Speed Serial
                 Links
       RFC 4901: Protocol Extensions for Header Compression over MPLS";
  }

  identity atm-vp-virtual-trunk {
    base iana-pw-types;
    description
      "ATM VP Virtual Trunk.";
  }

  identity fc-port-mode {
    base iana-pw-types;
    description
      "FC Port Mode.";
    reference
      "RFC 6307: Encapsulation Methods for Transport of
                 Fibre Channel Traffic over MPLS Networks";
  }

  identity wildcard {
    base iana-pw-types;
    description
      "Wildcard.";
    reference
      "RFC 4863: Wildcard Pseudowire Type";
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-8.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="es-yang">
<section id="section-8.3">
        <h3 id="name-ethernet-segments">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-ethernet-segments" class="section-name selfRef">Ethernet Segments</a>
        </h3>
<p id="section-8.3-1">The "ietf-ethernet-segment" YANG module uses types defined in <span>[<a href="#RFC6991" class="xref">RFC6991</a>]</span>.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<div id="section-8.3-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt;file "ietf-ethernet-segment@2021-10-01.yang"
module ietf-ethernet-segment {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-ethernet-segment";
  prefix l2vpn-es;

  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Data Types, Section 3";
  }

  organization
    "IETF OPSA (Operations and Management Area) Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;

     Editor:    Mohamed Boucadair
               &lt;mailto:mohamed.boucadair@orange.com&gt;
     Editor:    Samier Barguil
               &lt;mailto:samier.barguilgiraldo.ext@telefonica.com&gt;
     Author:    Oscar Gonzalez de Dios
               &lt;mailto:oscar.gonzalezdedios@telefonica.com&gt;";
  description
    "This YANG module defines a model for Ethernet Segments.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2021-10-01 {
    description
      "Initial version.";
    reference
      "RFC XXXX: A Layer 2 VPN Network YANG Model.";
  }

  /* Identities */

  identity esi-type {
    description
      "T-(Ethernet Segment Identifier (ESI) Type) is a 1-octet field
       (most significant octet) that specifies the format of the
       remaining 9 octets (ESI Value).";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 5";
  }

  identity esi-type-0 {
    base esi-type;
    description
      "This type indicates an arbitrary 9-octet ESI value,
       which is managed and configured by the operator.";
  }

  identity esi-type-1 {
    base esi-type;
    description
      "When IEEE 802.1AX Link Aggregation Control Protocol (LACP)
       is used between the Provider Edge (PE) and Customer Edge (CE)
       devices, this ESI type indicates an auto-generated ESI value
       determined from LACP.";
    reference
      "IEEE Std. 802.1AX: Link Aggregation";
  }

  identity esi-type-2 {
    base esi-type;
    description
      "The ESI value is auto-generated and determined based
       on the Layer 2 bridge protocol.";
  }

  identity esi-type-3 {
    base esi-type;
    description
      "This type indicates a MAC-based ESI value that can be
       auto-generated or configured by the operator.";
  }

  identity esi-type-4 {
    base esi-type;
    description
      "This type indicates a Router-ID ESI value that can be
       auto-generated or configured by the operator.";
  }

  identity esi-type-5 {
    base esi-type;
    description
      "This type indicates an Autonomous System (AS)-based ESI value
       that can be auto-generated or configured by the operator.";
  }

  identity df-election-methods {
    description
      "Base Identity Designated Forwarder (DF) election method.";
  }

  identity default-7432 {
    base df-election-methods;
    description
      "The default DF election method.

       The default procedure for DF election at the granularity of &lt;ES,
       VLAN&gt; for VLAN-based service or &lt;ES, VLAN bundle&gt; for VLAN-
       (aware) bundle service is referred to as 'service carving'.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 8.5";
  }

  identity highest-random-weight {
    base df-election-methods;
    description
      "The highest random weight (HRW) method.";
    reference
      "RFC 8584: Framework for Ethernet VPN Designated
                 Forwarder Election Extensibility, Section 3";
  }

  identity preference {
    base df-election-methods;
    description
      "The preference based method. PEs are assigned with
       preferences to become the DF in the Ethernet Segment (ES).
       The exact preference-based algorithm (e.g., lowest-preference
       algorithm, highest-preference algorithm) to use is
       signaled at the control plane.";
  }

  identity evpn-redundancy-mode {
    description
      "Base identity for Ethernet VPN (EVPN) redundancy modes.";
  }

  identity single-active {
    base evpn-redundancy-mode;
    description
      "Indicates Single-Active redundancy mode for a given ES.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 14.1.1";
  }

  identity all-active {
    base evpn-redundancy-mode;
    description
      "Indicates All-Active redundancy mode for a given ES.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 14.1.2";
  }

  identity evpn-service-type {
    description
      "Base identity for EVPN service type.";
  }

  identity vlan-based-service-interface {
    base evpn-service-type;
    description
      "VLAN-Based Service Interface.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 6.1";
  }

  identity vlan-bundle-service-interface {
    base evpn-service-type;
    description
      "VLAN Bundle Service Interface.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 6.2";
  }

  identity vlan-aware-bundle-service-interface {
    base evpn-service-type;
    description
      "VLAN-Aware Bundle Service Interface.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 6.3";
  }

  /* Main Ethernet Segment Container */

  container ethernet-segments {
    description
      "Top container for the Ethernet Segment Identifier (ESI).";
    list ethernet-segment {
      key "name";
      description
        "Top list for ESIs.";
      leaf name {
        type string;
        description
          "Includes the name of the Ethernet Segment (ES).";
      }
      leaf esi-type {
        type identityref {
          base esi-type;
        }
        default "esi-type-0";
        description
          "T-(ESI Type) is a 1-octet field (most significant
           octet) that specifies the format of the remaining
           9 octets (ESI Value).";
        reference
          "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 5";
      }
      choice esi-choice {
        description
          "Ethernet segment choice between several types.
           For ESI Type 0: The esi is directly configured by the
                           operator.
           For ESI Type 1: The auto-mode must be used.
           For ESI Type 2: The auto-mode must be used.
           For ESI Type 3: The directly-assigned or auto-mode must
                           be used.
           For ESI Type 4: The directly-assigned or auto-mode must
                           be used.
           For ESI Type 5: The directly-assigned or auto-mode must
                           be used.";
        case directly-assigned {
          description
            "Explicitly assign an ESI value.";
          leaf ethernet-segment-identifier {
            type yang:hex-string {
              length "29";
            }
            description
              "10-octet ESI.";
          }
        }
        case auto-assigned {
          description
            "The ESI is auto-assigned.";
          container esi-auto {
            description
              "The ESI is auto-assigned.";
            choice auto-mode {
              description
                "Indicates the auto-assignment mode. ESI can be
                 automatically assigned either with or without
                 indicating a pool from which the ESI should be
                 taken.

                 For both cases, the server will auto-assign an
                 ESI value 'auto-assigned-ESI' and use that value
                 operationally.";
              case from-pool {
                leaf esi-pool-name {
                  type string;
                  description
                    "The auto-assignment will be made from the
                     pool identified by the ESI-pool-name.";
                }
              }
              case full-auto {
                leaf auto {
                  type empty;
                  description
                    "Indicates an ESI is fully auto-assigned.";
                }
              }
            }
            leaf auto-ethernet-segment-identifier {
              type yang:hex-string {
                length "29";
              }
              config false;
              description
                "The value of the auto-assigned ESI.";
            }
          }
        }
      }
      leaf esi-redundancy-mode {
        type identityref {
          base evpn-redundancy-mode;
        }
        description
          "Indicates the EVPN redundancy mode for a multihomed
           CE.";
        reference
          "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 14.1";
      }
      container df-election {
        description
          "Top container for the DF election method properties.";
        leaf df-election-method {
          type identityref {
            base df-election-methods;
          }
          default "default-7432";
          description
            "Specifies the DF election method.";
          reference
            "RFC 8584: Framework for Ethernet VPN Designated
                       Forwarder Election Extensibility";
        }
        leaf preference {
          when "derived-from-or-self(../df-election-method, "
             + "'preference')" {
            description
              "The preference value is only applicable
               to the preference based method.";
          }
          type uint16;
          description
            "Defines a 2-octet value that indicates the PE
             preference to become the DF in the ES.";
          reference
            "RFC 8584: Framework for Ethernet VPN Designated
                       Forwarder Election Extensibility";
        }
        leaf revertive {
          when "derived-from-or-self(../df-election-method, "
             + "'preference')" {
            description
              "The revertive value is only applicable
               to the preference method.";
          }
          type boolean;
          default "true";
          description
            "The 'preempt' or 'revertive' behavior. This
             option allows a non-revertive behavior in the
             DF election.";
          reference
            "RFC 8584: Framework for Ethernet VPN Designated
                       Forwarder Election Extensibility";
        }
        leaf election-wait-time {
          type uint32;
          description
            "Election wait timer.";
          reference
            "RFC 8584: Framework for Ethernet VPN Designated
                       Forwarder Election Extensibility";
        }
      }
      leaf split-horizon-filtering {
        type boolean;
        description
          "Controls split-horizon filtering.

           In order to achieve split-horizon filtering, every
           Broadcast, unknown unicast, or multicast (BUM)
           packet originating from a non-DF PE is encapsulated
           with an MPLS label that identifies the origin ES.";
        reference
          "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 5";
      }
      container pbb {
        description
          "Provider Backbone Bridging (PBB) parameters .";
        reference
          "IEEE 802.1ah: Provider Backbone Bridge";
        leaf backbone-src-mac {
          type yang:mac-address;
          description
            "The PEs connected to the same CE must share the
             same Provider Backbone (B-MAC) address in
             All-Active mode.";
          reference
            "RFC 7623: Provider Backbone Bridging Combined with
                       Ethernet VPN (PBB-EVPN), Section 6.2.1.1";
        }
      }
      list member {
        key "ne-id interface-id";
        description
          "Includes a list of ES members.";
        leaf ne-id {
          type string;
          description
            "Unique identifier of the network element where the ES
             is configured with a service provider network.";
        }
        leaf interface-id {
          type string;
          description
            "Identifier of a node interface.";
        }
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-8.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="YANG_module">
<section id="section-8.4">
        <h3 id="name-l2nm">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-l2nm" class="section-name selfRef">L2NM</a>
        </h3>
<p id="section-8.4-1">The "ietf-l2vpn-ntw" YANG module uses types defined in <span>[<a href="#RFC6991" class="xref">RFC6991</a>]</span>, <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>, and <span>[<a href="#RFC8294" class="xref">RFC8294</a>]</span>.<a href="#section-8.4-1" class="pilcrow">¶</a></p>
<div id="section-8.4-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt;file "ietf-l2vpn-ntw@2021-10-01.yang"
module ietf-l2vpn-ntw {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw";
  prefix l2vpn-ntw;

  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types, Section 4";
  }
  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Data Types, Section 3";
  }
  import ietf-vpn-common {
    prefix vpn-common;
    reference
      "RFC CCCC: A Layer 2/3 VPN Common YANG Model";
  }
  import iana-bgp-l2-encaps {
    prefix iana-bgp-l2-encaps;
  }
  import iana-pseudowire-types {
    prefix iana-pw-types;
  }
  import ietf-routing-types {
    prefix rt-types;
    reference
      "RFC 8294: Common YANG Data Types for the Routing Area";
  }

  organization
    "IETF OPSA (Operations and Management Area) Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;

     Editor:    Mohamed Boucadair
               &lt;mailto:mohamed.boucadair@orange.com&gt;
     Editor:    Samier Barguil
               &lt;mailto:samier.barguilgiraldo.ext@telefonica.com&gt;
     Author:    Oscar Gonzalez de Dios
               &lt;mailto:oscar.gonzalezdedios@telefonica.com&gt;";
  description
    "This YANG module defines a network model for layer 2 VPN
     services.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2021-10-01 {
    description
      "Initial version.";
    reference
      "RFC XXXX: A Layer 2 VPN Network YANG Model.";
  }

  /* Features */

  feature oam-3ah {
    description
      "Indicates the support of OAM 802.3ah.";
    reference
      "IEEE Std 802.3ah: Media Access Control Parameters, Physical
                         Layers, and  Management Parameters for
                         Subscriber Access Networks";
  }

  /* Identities */

  identity evpn-service-type {
    description
      "Base identity for EVPN service type.";
  }

  identity vlan-based-service-interface {
    base evpn-service-type;
    description
      "VLAN-Based Service Interface.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 6.1";
  }

  identity vlan-bundle-service-interface {
    base evpn-service-type;
    description
      "VLAN Bundle Service Interface.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 6.2";
  }

  identity vlan-aware-bundle-service-interface {
    base evpn-service-type;
    description
      "VLAN-Aware Bundle Service Interface.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN, Section 6.3";
  }

  identity mapping-type {
    base vpn-common:multicast-gp-address-mapping;
    description
      "Identity for multicast group mapping type.";
  }

  identity loop-prevention-type {
    description
      "Identity of loop prevention.";
  }

  identity shut {
    base loop-prevention-type;
    description
      "Shut protection type.";
  }

  identity trap {
    base loop-prevention-type;
    description
      "Trap protection type.";
  }

  identity color-type {
    description
      "Identity of color types.";
  }

  identity green {
    base color-type;
    description
      "'green' color type.";
  }

  identity yellow {
    base color-type;
    description
      "'yellow' color type.";
  }

  identity red {
    base color-type;
    description
      "'red' color type.";
  }

  identity t-ldp-pw-type {
    description
      "Identity for t-ldp-pw-type.";
  }

  identity vpws-type {
    base t-ldp-pw-type;
    description
      "Virtual Private Wire Service (VPWS) t-ldp-pw-type.";
    reference
      "RFC 4664: Framework for Layer 2 Virtual Private Networks
                (L2VPNs), Section 3.3";
  }

  identity vpls-type {
    base t-ldp-pw-type;
    description
      "Virtual Private LAN Service (VPLS) t-ldp-pw-type.";
    reference
      "RFC 4762: Virtual Private LAN Service (VPLS) Using
                 Label Distribution Protocol (LDP)
                 Signaling, Section 6.1";
  }

  identity hvpls {
    base t-ldp-pw-type;
    description
      "Identity for Hierarchical Virtual Private LAN Service (H-VPLS)
       t-ldp-pw-type.";
    reference
      "RFC 4762: Virtual Private LAN Service (VPLS) Using
                 Label Distribution Protocol (LDP)
                 Signaling, Section 10";
  }

  identity lacp-mode {
    description
      "Identity of the LACP mode.";
  }

  identity lacp-active {
    base lacp-mode;
    description
      "LACP active mode.

       This mode refers to the mode where auto-speed negotiation
       is initiated followed by an establishment of an
       Ethernet channel with the other end.";
  }

  identity lacp-passive {
    base lacp-mode;
    description
      "LACP passive mode.

       This mode refers to the LACP mode where an endpoint does
       not initiate the negotiation, but only responds to LACP
       packets initiated by the other end (e.g., full duplex
       or half duplex)";
  }

  identity pm-type {
    description
      "Identity for performance monitoring type.";
  }

  identity loss {
    base pm-type;
    description
      "Loss measurement is the performance monitoring type.";
  }

  identity delay {
    base pm-type;
    description
      "Delay measurement is the performance monitoring type.";
  }

  identity mac-learning-mode {
    description
      "Media Access Control (MAC) learning mode.";
  }

  identity data-plane {
    base mac-learning-mode;
    description
      "User MAC addresses are learned through ARP broadcast.";
  }

  identity control-plane {
    base mac-learning-mode;
    description
      "User MAC addresses are advertised through EVPN-BGP.";
  }

  identity mac-action {
    description
      "Base identity for a MAC action.";
  }

  identity drop {
    base mac-action;
    description
      "Dropping a packet as the MAC action.";
  }

  identity flood {
    base mac-action;
    description
      "Packet flooding as the MAC action.";
  }

  identity warning {
    base mac-action;
    description
      "Sending a warning log message as the MAC action.";
  }

  identity precedence-type {
    description
      "Redundancy type. The service can be created
       with primary and secondary signalization.";
  }

  identity primary {
    base precedence-type;
    description
      "Identifies the main VPN network access.";
  }

  identity secondary {
    base precedence-type;
    description
      "Identifies the secondary VPN network access.";
  }

  identity pw-type {
    description
      "Identity for allowed LDP-based pseudowire (PW) type.";
    reference
      "RFC 4762: Virtual Private LAN Service (VPLS) Using
                 Label Distribution Protocol (LDP)
                 Signaling, Section 6.1.1";
  }

  identity ethernet {
    base pw-type;
    description
      "PW Ethernet type.";
  }

  identity ethernet-tagged {
    base pw-type;
    description
      "PW Ethernet tagged mode type.";
  }

  /* Typedefs */

  typedef ccm-priority-type {
    type uint8 {
      range "0..7";
    }
    description
      "A 3-bit priority value to be used in the VLAN tag,
       if present in the transmitted frame.";
  }

  /* Groupings */

  grouping cfm-802 {
    description
      "Grouping for 802.1ag Connectivity Fault Management (CFM)
       attributes.";
    reference
      "IEEE Std 802-1ag: Virtual Bridged Local Area Networks
                         Amendment 5: Connectivity Fault Management";
    leaf maid {
      type string;
      description
        "Maintenance Association Identifier (MAID).";
    }
    leaf mep-id {
      type uint32;
      description
        "Local Maintenance End Point (MEP) ID.";
    }
    leaf mep-level {
      type uint32;
      description
        "MEP level.";
    }
    leaf mep-up-down {
      type enumeration {
        enum up {
          description
            "MEP is up.";
        }
        enum down {
          description
            "MEP is down.";
        }
      }
      description
        "MEP up/down.";
    }
    leaf remote-mep-id {
      type uint32;
      description
        "Remote MEP ID.";
    }
    leaf cos-for-cfm-pdus {
      type uint32;
      description
        "Class of service for CFM PDUs.";
    }
    leaf ccm-interval {
      type uint32;
      description
        "Continuity Check Message (CCM) interval.";
    }
    leaf ccm-holdtime {
      type uint32;
      description
        "CCM hold time.";
    }
    leaf ccm-p-bits-pri {
      type ccm-priority-type;
      description
        "The priority parameter for Continuity Check Messages (CCMs)
         transmitted by the MEP.";
    }
  }

  grouping y-1731 {
    description
      "Grouping for y.1731";
    reference
      "ITU-T Y-1731:  Operations, administration and maintenance
                      (OAM) functions and mechanisms for
                      Ethernet-based networks";
    list y-1731 {
      key "maid";
      description
        "List for y-1731.";
      leaf maid {
        type string;
        description
          "MAID.";
      }
      leaf mep-id {
        type uint32;
        description
          "Local MEP ID.";
      }
      leaf pm-type {
        type identityref {
          base pm-type;
        }
        description
          "Performance monitor types.";
      }
      leaf remote-mep-id {
        type uint32;
        description
          "Remote MEP ID.";
      }
      leaf message-period {
        type uint32;
        units "milliseconds";
        description
          "Defines the interval between OAM messages.";
      }
      leaf measurement-interval {
        type uint32;
        units "seconds";
        description
          "Specifies the measurement interval for statistics.";
      }
      leaf cos {
        type uint32;
        description
          "Identifies the Class of Service.";
      }
      leaf loss-measurement {
        type boolean;
        description
          "Controls whether loss measurement is enabled/disabled.";
      }
      leaf synthethic-loss-measurement {
        type boolean;
        description
          "Indicates whether synthetic loss measurement is enabled.";
      }
      container delay-measurement {
        description
          "Container for delay measurement";
        leaf enable-dm {
          type boolean;
          description
            "Controls whether delay measurement is enabled/disabled.";
        }
        leaf two-way {
          type boolean;
          description
            "Whether delay measurement is two-way ('true') of one-
             way ('false').";
        }
      }
      leaf frame-size {
        type uint32;
        units "bytes";
        description
          "Indicates the frame size.";
      }
      leaf session-type {
        type enumeration {
          enum proactive {
            description
              "Proactive mode.";
          }
          enum on-demand {
            description
              "On-demand mode.";
          }
        }
        description
          "Specifies the session type.";
      }
    }
  }

  grouping global-parameters-profile {
    description
      "Container for per-service parameters.";
    leaf local-autonomous-system {
      type inet:as-number;
      description
        "Indicates a local AS Number (ASN).";
    }
    leaf svc-mtu {
      type uint32;
      description
        "Service MTU, it is also known as the maximum transmission unit
         or maximum frame size. When a frame is larger than the MTU,
         it is fragmented to accommodate the MTU of the network.";
    }
    leaf ce-vlan-preservation {
      type boolean;
      description
        "Preserve the CE-VLAN ID from ingress to egress,i.e.,
         CE-VLAN tag of the egress frame are identical to
         those of the ingress frame that yielded this egress
         service frame. If All-to-One bundling within a site
         is Enabled, then preservation applies to all Ingress
         service frames. If All-to-One bundling is disabled,
         then preservation applies to tagged Ingress service
         frames having CE-VLAN ID 1 through 4094.";
    }
    leaf ce-vlan-cos-preservation {
      type boolean;
      description
        "CE VLAN CoS preservation. PCP bits in the CE-VLAN tag
         of the egress frame are identical to those of the ingress
         frame that yielded this egress service frame.";
    }
    leaf control-word-negotiation {
      type boolean;
      description
        "Controls whether Control-word negotiation is enabled
         (if set to true) or not (if set to false).";
      reference
        "Section 7 of RFC 8077";
    }
    container mac-policies {
      description
        "Container of MAC policies.";
      container mac-addr-limit {
        description
          "Container of MAC-Addr limit configuration.";
        leaf mac-num-limit {
          type uint16;
          description
            "Maximum number of MAC addresses learned from
             the customer for a single service instance.";
        }
        leaf time-interval {
          type uint32;
          units "milliseconds";
          description
            "The aging time of the mac address.";
        }
        leaf action {
          type identityref {
            base mac-action;
          }
          description
            "Specifies the action when the upper limit is
             exceeded: drop the packet, flood the
             packet, or simply send a warning log message.";
        }
      }
      container mac-loop-prevention {
        description
          "Container for MAC loop prevention.";
        leaf window {
          type uint32;
          units "seconds";
          default "180";
          description
            "The timer when a MAC mobility event is detected.";
        }
        leaf frequency {
          type uint32;
          default "5";
          description
            "The number of times to detect MAC duplication, where
             a 'duplicate MAC address' situation has occurred and
             the duplicate MAC address has been added to a list of
             duplicate MAC addresses.";
        }
        leaf retry-timer {
          type uint32;
          units "seconds";
          description
            "The retry timer. When the retry timer expires,
             the duplicate MAC address will be flushed from
             the MAC-VRF.";
        }
        leaf protection-type {
          type identityref {
            base loop-prevention-type;
          }
          description
            "Protection type.";
        }
      }
    }
    container multicast-like {
      if-feature "vpn-common:multicast";
      description
        "Multicast-like container.";
      leaf enabled {
        type boolean;
        default "false";
        description
          "Enables multicast.";
      }
      container customer-tree-flavors {
        description
          "Type of trees used by customer.";
        leaf-list tree-flavor {
          type identityref {
            base vpn-common:multicast-tree-type;
          }
          description
            "Type of multicast tree to be used.";
        }
      }
    }
  }

  /* Main L2NM Container */

  container l2vpn-ntw {
    description
      "Container for the L2NM.";
    container vpn-profiles {
      description
        "Container for VPN profiles.";
      uses vpn-common:vpn-profile-cfg;
    }
    container vpn-services {
      description
        "Container for L2VPN services.";
      list vpn-service {
        key "vpn-id";
        description
          "Container of a VPN service.";
        uses vpn-common:vpn-description;
        leaf parent-service-id {
          type vpn-common:vpn-id;
          description
            "Pointer to the parent service that
             triggered the L2NM.";
        }
        leaf vpn-type {
          type identityref {
            base vpn-common:service-type;
          }
          must "not(derived-from-or-self(current(), "
             + "'vpn-common:l3vpn'))" {
            error-message "L3VPN is only applicable in L3NM.";
          }
          description
            "Service type.";
        }
        leaf vpn-service-topology {
          type identityref {
            base vpn-common:vpn-topology;
          }
          description
            "Defining service topology, such as
             any-to-any, hub-spoke, etc.";
        }
        leaf bgp-ad-enabled {
          type boolean;
          description
            "Indicates whether BGP auto-discovery is enabled
             or disabled.";
        }
        leaf signaling-type {
          type identityref {
            base vpn-common:vpn-signaling-type;
          }
          description
            "VPN signaling type.";
        }
        container global-parameters-profiles {
          description
            "Container for a list of global parameters profiles.";
          list global-parameters-profile {
            key "profile-id";
            description
              "List of global parameters profiles.";
            leaf profile-id {
              type string;
              description
                "The identifier of the global parameters profile.";
            }
            uses vpn-common:route-distinguisher;
            uses vpn-common:vpn-route-targets;
            uses global-parameters-profile;
          }
        }
        container underlay-transport {
          description
            "Container for the underlay transport.";
          uses vpn-common:underlay-transport;
        }
        uses vpn-common:service-status;
        container vpn-nodes {
          description
            "Set of VPN nodes that are involved in the L2NM.";
          list vpn-node {
            key "vpn-node-id";
            description
              "Container of the VPN nodes.";
            leaf vpn-node-id {
              type vpn-common:vpn-id;
              description
                "Sets the identifier of the VPN node.";
            }
            leaf description {
              type string;
              description
                "Textual description of a VPN node.";
            }
            leaf ne-id {
              type string;
              description
                "Indicates the node's IP address.";
            }
            leaf role {
              type identityref {
                base vpn-common:role;
              }
              default "vpn-common:any-to-any-role";
              description
                "Role of the VPN node in the VPN.";
            }
            leaf router-id {
              type rt-types:router-id;
              description
                "A 32-bit number in the dotted-quad format that is
                 used to uniquely identify a node within an
                 autonomous system (AS). ";
            }
            container active-global-parameters-profiles {
              description
                "Container for a list of global parameters profiles.";
              list global-parameters-profile {
                key "profile-id";
                description
                  "List of active global parameters profiles.";
                leaf profile-id {
                  type leafref {
                    path "/l2vpn-ntw/vpn-services/vpn-service"
                       + "/global-parameters-profiles"
                       + "/global-parameters-profile/profile-id";
                  }
                  description
                    "Points to a global profile defined at the
                     service level.";
                }
                uses global-parameters-profile;
              }
            }
            uses vpn-common:service-status;
            container bgp-auto-discovery {
              when "/l2vpn-ntw/vpn-services/vpn-service"
                 + "/bgp-ad-enabled = 'true'" {
                description
                  "Only applies when BGP auto-discovery is enabled.";
              }
              description
                "BGP is used for auto-discovery.";
              choice bgp-type {
                description
                  "Choice for the BGP type.";
                case l2vpn-bgp {
                  description
                    "Container for BGP L2VPN.";
                  leaf vpn-id {
                    type vpn-common:vpn-id;
                    description
                      "VPN Identifier. This identifier serves to unify
                       components of a given VPN for the sake of
                       auto-discovery.";
                    reference
                      "RFC 6624: Layer 2 Virtual Private Networks Using
                                 BGP for Auto-Discovery and Signaling";
                  }
                }
                case evpn-bgp {
                  when "derived-from-or-self(/l2vpn-ntw/vpn-services"
                     + "/vpn-service/vpn-type, 'vpn-common:vpws-evpn') "
                     + "or derived-from-or-self(/l2vpn-ntw/vpn-services"
                     + "/vpn-service/vpn-type, 'vpn-common:pbb-evpn') "
                     + "or derived-from-or-self(/l2vpn-ntw/vpn-services"
                     + "/vpn-service/vpn-type, 'vpn-common:mpls-evpn') "
                     + "or derived-from-or-self(/l2vpn-ntw/vpn-services"
                     + "/vpn-service/vpn-type, "
                     + "'vpn-common:vxlan-evpn')" {
                    description
                      "Can only be used when EVPN is used.";
                  }
                  description
                    "EVPN case.";
                  leaf evpn-type {
                    type leafref {
                      path "/l2vpn-ntw/vpn-services/vpn-service"
                         + "/vpn-type";
                    }
                    description
                      "EVPN type.";
                  }
                  leaf auto-rt-enable {
                    type boolean;
                    default "false";
                    description
                      "Enables/disabled RT auto-derivation based on
                       the ASN and Ethernet Tag ID.";
                    reference
                      "RFC 7432: BGP MPLS-Based Ethernet VPN,
                                 Section 7.10.1";
                  }
                  leaf auto-route-target {
                    when "../auto-rt-enable = 'true'" {
                      description
                        "Can only be used when auto-RD is enabled.";
                    }
                    type rt-types:route-target;
                    config false;
                    description
                      "The value of the auto-assigned RT.";
                  }
                }
              }
              uses vpn-common:route-distinguisher;
              uses vpn-common:vpn-route-targets;
            }
            container signaling-option {
              description
                "Container for the L2VPN signaling.";
              leaf advertise-mtu {
                type boolean;
                description
                  "Controls whether MTU is advertised.";
                reference
                  "RFC 4667: Layer 2 Virtual Private Network (L2VPN)
                             Extensions for Layer 2 Tunneling
                             Protocol (L2TP), Section 4.3";
              }
              leaf mtu-allow-mismatch {
                type boolean;
                description
                  "When set to true, it allows MTU mismatch.";
                reference
                  "RFC 4667: Layer 2 Virtual Private Network (L2VPN)
                             Extensions for Layer 2 Tunneling
                             Protocol (L2TP), Section 4.3";
              }
              leaf signaling-type {
                type leafref {
                  path "/l2vpn-ntw/vpn-services/vpn-service"
                     + "/signaling-type";
                }
                description
                  "VPN signaling type.";
              }
              choice signaling-option {
                description
                  "Choice for the signaling-option.";
                case bgp {
                  description
                    "BGP is used as the signaling protocol.";
                  choice bgp-type {
                    description
                      "Choice for the BGP type.";
                    case l2vpn-bgp {
                      description
                        "Container for BGP L2VPN.";
                      leaf ce-range {
                        type uint16;
                        description
                          "Determines the number of remote CEs with
                           which a given CE can communicate in the
                            context of a VPN.";
                        reference
                          "RFC 6624: Layer 2 Virtual Private Networks
                                     Using BGP for Auto-Discovery and
                                     Signaling";
                      }
                      leaf pw-encapsulation-type {
                        type identityref {
                          base iana-bgp-l2-encaps:bgp-l2-encaps-type;
                        }
                        description
                          "PW encapsulation type.";
                      }
                      container vpls-instance {
                        when "derived-from-or-self(/l2vpn-ntw"
                           + "/vpn-services/vpn-service/vpn-type, "
                           + "'vpn-common:vpls')" {
                          description
                            "Only applies for VPLS.";
                        }
                        description
                          "VPLS instance.";
                        leaf vpls-edge-id {
                          type uint16;
                          description
                            "VPLS Edge Identifier (VE ID). This is
                             used when the same VE ID is configured
                             for the PE.";
                          reference
                            "RFC 4761: Virtual Private LAN Service
                                       (VPLS) Using BGP for Auto-
                                       Discovery and Signaling,
                                       Section 3.5";
                        }
                        leaf vpls-edge-id-range {
                          type uint16;
                          description
                            "Specifies the size of the range of VE ID in
                             a VPLS service. The range controls the size
                             of the label block advertised in the
                             context of a VPLS instance.";
                          reference
                            "RFC 4761: Virtual Private LAN Service
                                       (VPLS) Using BGP for Auto-
                                       Discovery and Signaling";
                        }
                      }
                    }
                    case evpn-bgp {
                      description
                        "Used for EVPN.";
                      leaf evpn-type {
                        type leafref {
                          path "/l2vpn-ntw/vpn-services/vpn-service"
                             + "/vpn-nodes/vpn-node/bgp-auto-discovery"
                             + "/evpn-type";
                        }
                        description
                          "EVPN type.";
                      }
                      leaf service-interface-type {
                        type identityref {
                          base evpn-service-type;
                        }
                        description
                          "EVPN service interface type.";
                      }
                      container evpn-policies {
                        description
                          "Includes a set of EVPN policies such as those
                           related to handling MAC addresses.";
                        leaf mac-learning-mode {
                          type identityref {
                            base mac-learning-mode;
                          }
                          description
                            "Indicates through which plane MAC addresses
                             are advertised.";
                        }
                        leaf ingress-replication {
                          type boolean;
                          description
                            "Controls whether ingress replication is
                             enabled/disabled.";
                          reference
                            "RFC 7432: BGP MPLS-Based Ethernet VPN,
                                       Section 8.3.1.1";
                        }
                        leaf p2mp-replication {
                          type boolean;
                          description
                            "Controles whether P2MP replication is
                             enabled/disabled.";
                          reference
                            "RFC 7432: BGP MPLS-Based Ethernet VPN,
                                       Section 8.3.1.2";
                        }
                        container arp-proxy {
                          if-feature "vpn-common:ipv4";
                          description
                            "Top container for the ARP proxy.";
                          leaf enable {
                            type boolean;
                            default "false";
                            description
                              "Enables (when set to 'true') or disables
                               (when set to 'false') ARP proxy.";
                            reference
                              "RFC 7432: BGP MPLS-Based Ethernet VPN,
                                         Section 10";
                          }
                          leaf arp-suppression {
                            type boolean;
                            default "false";
                            description
                              "Enables (when set to 'true') or disables
                               (when set to 'false') ARP suppression.";
                            reference
                              "RFC 7432: BGP MPLS-Based Ethernet VPN";
                          }
                          leaf ip-mobility-threshold {
                            type uint16;
                            description
                              "It is possible for a given host (as
                               defined by its IP address) to move from
                               one ES  to another.
                               IP mobility threshold specifies the
                               number of IP mobility events
                               that are detected for a given IP address
                               within the detection-threshold before it
                               is identified as a duplicate IP address.
                               Once the detection threshold is reached,
                               updates for the IP address are
                               suppressed.";
                          }
                          leaf duplicate-ip-detection-interval {
                            type uint16;
                            description
                              "The time interval used in detecting a
                               duplicate IP address. Duplicate IP
                               address detection number of host moves
                               are allowed within this interval
                               period.";
                          }
                        }
                        container nd-proxy {
                          if-feature "vpn-common:ipv6";
                          description
                            "Top container for the ND proxy.";
                          leaf enable {
                            type boolean;
                            default "false";
                            description
                              "Enables (when set to 'true') or disables
                               (when set to 'false') ND proxy.";
                            reference
                              "RFC 7432: BGP MPLS-Based Ethernet VPN,
                                         Section 10";
                          }
                          leaf nd-suppression {
                            type boolean;
                            default "false";
                            description
                              "Enables (when set to 'true') or disables
                               (when set to 'false') Neighbor Discovery
                               (ND) message suppression.
                               ND suppression is a technique that is
                               used to reduce the amount of ND packets
                               flooding within individual segments,
                               that is between hosts connected to the
                               same logical switch.";
                          }
                          leaf ip-mobility-threshold {
                            type uint16;
                            description
                              "It is possible for a given host (as
                               defined by its IP address) to move from
                               one ES  to another.
                               IP mobility threshold specifies the
                               number of IP mobility events
                               that are detected for a given IP address
                               within the detection-threshold before it
                               is identified as a duplicate IP address.
                               Once the detection threshold is reached,
                               updates for the IP address are
                               suppressed.";
                          }
                          leaf duplicate-ip-detection-interval {
                            type uint16;
                            description
                              "The time interval used in detecting a
                               duplicate IP address. Duplicate IP
                               address detection number of host moves
                               are allowed within this interval
                               period.";
                          }
                        }
                        leaf underlay-multicast {
                          type boolean;
                          default "false";
                          description
                            "Enables (when set to 'true') or disables
                             (when set to 'false') underlay multicast.";
                        }
                        leaf flood-unknown-unicast-supression {
                          type boolean;
                          default "false";
                          description
                            "Enables (when set to 'true') or disables
                             (when set to 'false') unknown flood unicast
                             suppression.";
                        }
                        leaf vpws-vlan-aware {
                          type boolean;
                          default "false";
                          description
                            "Enables (when set to 'true') or disables
                             (when set to 'false') VPWS VLAN-aware.";
                        }
                        container bum-management {
                          description
                            "Broadcast-unknown-unicast-multicast
                             management.";
                          leaf discard-broadcast {
                            type boolean;
                            description
                              "Discards broadcast, when enabled.";
                          }
                          leaf discard-unknown-multicast {
                            type boolean;
                            description
                              "Discards unknown multicast, when
                               enabled.";
                          }
                          leaf discard-unknown-unicast {
                            type boolean;
                            description
                              "Discards unknown unicast, when enabled.";
                          }
                        }
                        container pbb {
                          when "derived-from-or-self(../../evpn-type,"
                             + " 'pbb-evpn')" {
                            description
                              "Only applies for PBB EVPN.";
                          }
                          description
                            "PBB parameters container.";
                          reference
                            "IEEE 802.1ah: Provider Backbone Bridge";
                          leaf backbone-src-mac {
                            type yang:mac-address;
                            description
                              "Includes provider backbone MAC (B-MAC)
                               address.";
                            reference
                              "RFC 7623: Provider Backbone Bridging
                                         Combined with Ethernet VPN
                                         (PBB-EVPN), Section 8.1";
                          }
                        }
                      }
                    }
                  }
                }
                container ldp-or-l2tp {
                  description
                    "Container for LDP or L2TP-signaled PWs.";
                  leaf agi {
                    type rt-types:route-distinguisher;
                    description
                      "Attachment Group Identifier. Also, called
                       VPLS-Id.";
                    reference
                      "RFC 4667: Layer 2 Virtual Private Network (L2VPN)
                                 Extensions for Layer 2 Tunneling
                                 Protocol (L2TP), Section 4.3
                       RFC 4762: Virtual Private LAN Service (VPLS)
                                 Using Label Distribution Protocol (LDP)
                                 Signaling, Section 6.1.1";
                  }
                  leaf saii {
                    type uint32;
                    description
                      "Source Attachment Individual Identifier (SAII).";
                    reference
                      "RFC 4667: Layer 2 Virtual Private Network (L2VPN)
                                 Extensions for Layer 2 Tunneling
                                 Protocol (L2TP), Section 3";
                  }
                  list remote-targets {
                    key "taii";
                    description
                      "List of allowed target Attachment Individual
                       Identifier (AII) and peers.";
                    reference
                      "RFC 4667: Layer 2 Virtual Private Network (L2VPN)
                                 Extensions for Layer 2 Tunneling
                                 Protocol (L2TP), Section 5";
                    leaf taii {
                      type uint32;
                      description
                        "Target Attachment Individual Identifier.";
                      reference
                        "RFC 4667: Layer 2 Virtual Private Network
                                   (L2VPN) Extensions for Layer 2
                                   Tunneling  Protocol (L2TP),
                                   Section 3";
                    }
                    leaf peer-addr {
                      type inet:ip-address;
                      description
                        "Indicates the peer forwarder's IP address.";
                    }
                  }
                  choice ldp-or-l2tp {
                    description
                      "Choice of LDP or L2TP-signaled PWs.";
                    case ldp {
                      description
                        "Container for T-LDP PW configurations.";
                      leaf t-ldp-pw-type {
                        type identityref {
                          base t-ldp-pw-type;
                        }
                        description
                          "T-LDP PW type.";
                      }
                      leaf pw-type {
                        type identityref {
                          base pw-type;
                        }
                        description
                          "PW encapsulation type.";
                        reference
                          "RFC 4762: Virtual Private LAN Service (VPLS)
                                     Using Label Distribution Protocol
                                     (LDP) Signaling, Section 6.1.1";
                      }
                      leaf pw-description {
                        type string;
                        description
                          "Includes an interface description used to
                           send a human-readable administrative
                           string describing the interface to the
                           remote.";
                        reference
                          "RFC 4762: Virtual Private LAN Service (VPLS)
                                     Using Label Distribution Protocol
                                     (LDP) Signaling, Section 6.1.1";
                      }
                      leaf mac-addr-withdraw {
                        type boolean;
                        description
                          "If set to 'true', then MAC address withdrawal
                           is enabled.  If 'false', then MAC address
                           withdrawal is disabled.";
                        reference
                          "RFC 4762: Virtual Private LAN Service (VPLS)
                                     Using Label Distribution Protocol
                                     (LDP) Signaling, Section 6.2";
                      }
                      list pw-peer-list {
                        key "peer-addr vc-id";
                        description
                          "List of AC and PW bindings.";
                        leaf peer-addr {
                          type inet:ip-address;
                          description
                            "Indicates the peer's IP address.";
                        }
                        leaf vc-id {
                          type string;
                          description
                            "VC label used to identify a PW.";
                        }
                        leaf pw-priority {
                          type uint32;
                          description
                            "Defines the priority for the PW.
                             The higher the pw-priority value, the
                             higher the preference of the PW will be.";
                        }
                      }
                      container qinq {
                        when "derived-from-or-self(../t-ldp-pw-type, "
                           + "'hvpls')" {
                          description
                            "Only applies when t-ldp pw type is
                             h-vpls.";
                        }
                        description
                          "Container for QinQ.";
                        leaf s-tag {
                          type uint32;
                          mandatory true;
                          description
                            "S-TAG.";
                        }
                        leaf c-tag {
                          type uint32;
                          mandatory true;
                          description
                            "C-TAG.";
                        }
                      }
                    }
                    case l2tp {
                      description
                        "Container for L2TP PWs.";
                      leaf router-id {
                        type rt-types:router-id;
                        description
                          "A 32-bit number in the dotted-quad format
                           that is used to uniquely identify a node
                           within an autonomous system.";
                        reference
                          "RFC 4667: Layer 2 Virtual Private Network
                                     (L2VPN) Extensions for Layer 2
                                     Tunneling Protocol (L2TP),
                                     Section 4.2";
                      }
                      leaf pseudowire-type {
                        type identityref {
                          base iana-pw-types:iana-pw-types;
                        }
                        description
                          "Encapsulation type.";
                        reference
                          "RFC 4667: Layer 2 Virtual Private Network
                                     (L2VPN) Extensions for Layer 2
                                     Tunneling Protocol (L2TP),
                                     Section 4.2";
                      }
                    }
                  }
                }
              }
            }
            container vpn-network-accesses {
              description
                "Main container for VPN network accesses.";
              list vpn-network-access {
                key "id";
                description
                  "List of VPN network accesses.";
                leaf id {
                  type vpn-common:vpn-id;
                  description
                    "Identifier of the network access";
                }
                leaf description {
                  type string;
                  description
                    "A textual description of the VPN network access.";
                }
                leaf interface-id {
                  type string;
                  description
                    "Refers to a physical or logical interface.";
                }
                leaf global-parameters-profile {
                  type leafref {
                    path "/l2vpn-ntw/vpn-services/vpn-service/vpn-nodes"
                       + "/vpn-node/active-global-parameters-profiles"
                       + "/global-parameters-profile/profile-id";
                  }
                  description
                    "An identifier of an active VPN instance profile.";
                }
                uses vpn-common:service-status;
                container connection {
                  description
                    "Container for the bearer and AC.";
                  leaf l2-termination-point {
                    type string;
                    description
                      "Specifies a reference to a local layer 2
                       termination point such as a layer 2
                       sub-interface.";
                  }
                  leaf local-bridge-reference {
                    type string;
                    description
                      "Specifies a local bridge reference to
                       accommodate, for example, implementations
                       that require internal bridging.
                       A reference may be a local bridge domain.";
                  }
                  leaf bearer-reference {
                    if-feature "vpn-common:bearer-reference";
                    type string;
                    description
                      "This is an internal reference for the service
                       provider to identify the bearer associated
                       with this VPN.";
                  }
                  container encapsulation {
                    description
                      "Container for layer 2 encapsulation.";
                    leaf encap-type {
                      type identityref {
                        base vpn-common:encapsulation-type;
                      }
                      default "vpn-common:priority-tagged";
                      description
                        "Tagged interface type. By default, the type of
                         the tagged interface is 'priority-tagged'.";
                    }
                    container dot1q {
                      when "derived-from-or-self(../encap-type, "
                         + "'vpn-common:dot1q')" {
                        description
                          "Only applies when the type of the
                           tagged interface is 'dot1q'.";
                      }
                      description
                        "Tagged interface.";
                      leaf tag-type {
                        type identityref {
                          base vpn-common:tag-type;
                        }
                        default "vpn-common:c-vlan";
                        description
                          "Tag type. By default, the tag type is
                           'c-vlan'.";
                      }
                      leaf cvlan-id {
                        type uint16;
                        description
                          "VLAN identifier.";
                      }
                      container rewrite {
                        description
                          "Sets the tag rewriting policy for this
                           'vpn-network-accesses'. Enables the
                           manipulation of the layer-2 frame header for
                           data frames as they are processed on the
                           'vpn-network-access'.";
                        choice tag-choice {
                          description
                            "Selects the tag rewriting policy for a VPN
                             network access. It defines a set of
                             standard tag manipulations that allow for
                             the insertion, removal, or rewriting of one
                             or two 802.1Q VLAN tags.";
                          leaf pop {
                            type enumeration {
                              enum 1 {
                                description
                                  "Allows one (1) tag removal.";
                              }
                              enum 2 {
                                description
                                  "Allows two (2) tags removal.";
                              }
                            }
                            description
                              "Standard tag removal.
                               The number of 802.1Q VLAN tags to pop.";
                          }
                          leaf push {
                            type empty;
                            description
                              "Standard tag Push.
                               The number of 802.1Q tags to push on the
                               front of the frame.";
                          }
                          leaf translate {
                            type enumeration {
                              enum 1-to-1 {
                                description
                                  "Allows one (1) to one (1) tag
                                   translation.";
                              }
                              enum 1-to-2 {
                                description
                                  "Allows one (1) to two (2) tags
                                   translation.";
                              }
                              enum 2-to-1 {
                                description
                                  "Allows two (2) to one (1) tag
                                   translation.";
                              }
                              enum 2-to-2 {
                                description
                                  "Allows two (2) to two (2) tags
                                   translation.";
                              }
                            }
                            description
                              "Replaces tags with other tags.
                               Translate operations are expressed as
                               as a combination of tag push and pop
                               operations. For example, translating the
                               outer tag is expressed as popping a
                               single tag.";
                          }
                        }
                        leaf cvlan-id {
                          when 'not(../pop)';
                          type uint16;
                          description
                            "Push/Translate vlan tags";
                        }
                        leaf direction {
                          type enumeration {
                            enum symmetric {
                              description
                                "TAGs operation is performed in a
                                 symmetric way.

                                 The operation is performed on the
                                 outbound traffic on an interface, then
                                 the reverse operation is performed on
                                 the inbound traffic out of the
                                 same interface.";
                            }
                          }
                          description
                            "Indicates the direction.";
                        }
                      }
                    }
                    container priority-tagged {
                      when "derived-from-or-self(../encap-type, "
                         + "'vpn-common:priority-tagged')" {
                        description
                          "Only applies when the type of the
                           tagged interface is 'priority-tagged'.";
                      }
                      description
                        "Priority tagged container.";
                      leaf tag-type {
                        type identityref {
                          base vpn-common:tag-type;
                        }
                        default "vpn-common:c-vlan";
                        description
                          "Tag type. By default, the tag type is
                           'c-vlan'.";
                      }
                    }
                    container qinq {
                      when "derived-from-or-self(../encap-type, "
                         + "'vpn-common:qinq')" {
                        description
                          "Only applies when the type of the tagged
                           interface is QinQ.";
                      }
                      description
                        "Includes QinQ parameters.";
                      leaf tag-type {
                        type identityref {
                          base vpn-common:tag-type;
                        }
                        default "vpn-common:s-c-vlan";
                        description
                          "Tag type. By default, the tag type is
                           's-c-vlan'.";
                      }
                      leaf svlan-id {
                        type uint16;
                        mandatory true;
                        description
                          "S-VLAN identifier.";
                      }
                      leaf cvlan-id {
                        type uint16;
                        mandatory true;
                        description
                          "C-VLAN identifier.";
                      }
                    }
                  }
                  container lag-interface {
                    if-feature "vpn-common:lag-interface";
                    description
                      "Container of LAG interface attributes
                       configuration.";
                    leaf lag-interface-id {
                      type string;
                      description
                        "LAG interface identifier.";
                    }
                    container lacp {
                      description
                        "Container for LACP.";
                      leaf lacp-state {
                        type boolean;
                        default "false";
                        description
                          "Controls whether LACP is enabled.";
                      }
                      leaf mode {
                        type identityref {
                          base lacp-mode;
                        }
                        description
                          "Indicates the LACP mode.";
                      }
                      leaf speed {
                        type uint32;
                        units "mbps";
                        default "10";
                        description
                          "LACP speed. By default, the LACP speed is 10
                           Mbps.";
                      }
                      leaf mini-link-num {
                        type uint32;
                        description
                          "Defines the minimum number of links that must
                           be active before the aggregating link is put
                           into service.";
                      }
                      leaf system-id {
                        type yang:mac-address;
                        description
                          "Indicates the System ID used by LACP.";
                      }
                      leaf admin-key {
                        type uint16;
                        description
                          "Indicates the value of the key used for the
                           aggregate interface.";
                      }
                      leaf system-priority {
                        type uint16 {
                          range "0..65535";
                        }
                        default "32768";
                        description
                          "Indicates the LACP priority for the
                           system.";
                      }
                      container member-link-list {
                        description
                          "Container of Member link list.";
                        list member-link {
                          key "name";
                          description
                            "Member link.";
                          leaf name {
                            type string;
                            description
                              "Member link name.";
                          }
                          leaf port-speed {
                            type uint32;
                            description
                              "Port speed.";
                          }
                          leaf mode {
                            type identityref {
                              base vpn-common:neg-mode;
                            }
                            description
                              "Negotiation mode.";
                          }
                          leaf link-mtu {
                            type uint32;
                            description
                              "Link MTU size.";
                          }
                          container oam-802.3ah-link {
                            if-feature "oam-3ah";
                            description
                              "Container for oam 802.3 ah link.";
                            leaf enable {
                              type boolean;
                              description
                                "Indicates support of OAM 802.3 ah
                                 link.";
                            }
                          }
                        }
                      }
                      leaf flow-control {
                        type string;
                        description
                          "Indicates whtehr flow control is
                           supported.";
                      }
                      leaf lldp {
                        type boolean;
                        description
                          "Indicates whether Link Layer Discovery
                           Protocol (LLDP) is supported.";
                      }
                    }
                    container split-horizon {
                      description
                        "Configuration with split horizon enabled.";
                      leaf group-name {
                        type string;
                        description
                          "Group name of the Split Horizon.";
                      }
                    }
                  }
                }
                choice signaling-option {
                  description
                    "Choice for the signaling-option.";
                  case bgp {
                    description
                      "BGP is used as the signaling protocol.";
                    choice bgp-type {
                      description
                        "Choice for the BGP type.";
                      case l2vpn-bgp {
                        description
                          "Container for BGP L2VPN.";
                        leaf ce-id {
                          type uint16;
                          description
                            "The PE must know the set of virtual circuits
                             connecting it to the CE and a CE ID
                             identifying the CE within the VPN.";
                          reference
                            "RFC 6624: Layer 2 Virtual Private Networks
                                       Using BGP for Auto-Discovery and
                                       Signaling";
                        }
                        leaf remote-ce-id {
                          type uint16;
                          description
                            "Indicates the identifier of the remote CE.";
                        }
                        container vpls-instance {
                          when "derived-from-or-self(/l2vpn-ntw"
                             + "/vpn-services/vpn-service/vpn-type, "
                             + "'vpn-common:vpls')" {
                            description
                              "Only applies for VPLS.";
                          }
                          description
                            "VPLS instance.";
                          leaf vpls-edge-id {
                            type uint16;
                            description
                              "VPLS Edge Identifier (VE ID).";
                            reference
                              "RFC 4761: Virtual Private LAN Service
                                         (VPLS) Using BGP for Auto-
                                         Discovery and Signaling,
                                         Section 3.2.1";
                          }
                        }
                      }
                      case evpn-bgp {
                        description
                          "Used for EVPN.";
                        container vpws-service-instance {
                          when "derived-from-or-self(/l2vpn-ntw/vpn-services"
                             + "/vpn-service/vpn-type, "
                             + "'vpn-common:vpws-evpn')" {
                            description
                              "Only applies for EVPN-VPWS.";
                          }
                          description
                            "Local and remote VPWS Service Instance (VSI)";
                          reference
                            "RFC 8214: Virtual Private Wire Service Support
                                       in Ethernet VPN";
                          choice local-vsi-choice {
                            description
                              "Choices for assigning local VSI.";
                            case directly-assigned {
                              description
                                "Explicitly assign a local VSI.";
                              leaf local-vpws-service-instance {
                                type uint32 {
                                  range "1..16777215";
                                }
                                description
                                  "Indicates the assigned local VSI.";
                              }
                            }
                            case auto-assigned {
                              description
                                "The local VSI is auto-assigned.";
                              container local-vsi-auto {
                                description
                                  "The local VSI is auto-assigned.";
                                choice auto-mode {
                                  description
                                    "Indicates the auto-assignment mode of
                                     local VSI. VSI can be automatically
                                     assigned either with or without
                                     indicating a pool from which the VSI
                                     should be taken.

                                     For both cases, the server will
                                     auto-assign a local VSI value and use
                                     that value.";
                                  case from-pool {
                                    leaf vsi-pool-name {
                                      type string;
                                      description
                                        "The auto-assignment will be made
                                         from this pool.";
                                    }
                                  }
                                  case full-auto {
                                    leaf auto {
                                      type empty;
                                      description
                                        "Indicates that a local VSI is
                                         fully auto-assigned.";
                                    }
                                  }
                                }
                                leaf auto-local-vsi {
                                  type uint32 {
                                    range "1..16777215";
                                  }
                                  config false;
                                  description
                                    "The value of the auto-assigned local
                                     VSI.";
                                }
                              }
                            }
                          }
                          choice remote-vsi-choice {
                            description
                              "Choice for assigning the remote VSI.";
                            case directly-assigned {
                              description
                                "Explicitly assign a remote VSI.";
                              leaf remote-vpws-service-instance {
                                type uint32 {
                                  range "1..16777215";
                                }
                                description
                                  "Indicates the value of the remote
                                   VSI.";
                              }
                            }
                            case auto-assigned {
                              description
                                "The remote VSI is auto-assigned.";
                              container remote-vsi-auto {
                                description
                                  "The remote VSI is auto-assigned.";
                                choice auto-mode {
                                  description
                                    "Indicates the auto-assignment mode
                                     of remote VSI. VSI can be
                                     automatically assigned either with or
                                     without indicating a pool from which
                                     the VSI should be taken.

                                     For both cases, the server will
                                     auto-assign a remote VSI value and use
                                     that value.";
                                  case from-pool {
                                    leaf vsi-pool-name {
                                      type string;
                                      description
                                        "The auto-assignment will be made
                                         from this pool.";
                                    }
                                  }
                                  case full-auto {
                                    leaf auto {
                                      type empty;
                                      description
                                        "Indicates that a remote VSI is fully
                                         auto-assigned.";
                                    }
                                  }
                                }
                                leaf auto-remote-vsi {
                                  type uint32 {
                                    range "1..16777215";
                                  }
                                  config false;
                                  description
                                    "The value of the auto-assigned remote
                                     VSI.";
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                    /*
                                     case evpn-bgp {
                                          description
                                            "Used for EVPN.";



                    }

                     */
                  }
                }
                list group {
                  key "group-id";
                  description
                    "List of group-ids.";
                  leaf group-id {
                    type string;
                    description
                      "Indicates the group-id to which the network
                       access belongs to.";
                  }
                  leaf precedence {
                    type identityref {
                      base precedence-type;
                    }
                    description
                      "Defining service redundancy in transport
                       network.";
                  }
                  leaf ethernet-segment-identifier {
                    type string;
                    description
                      "Reference to the ESI associated to the VPN
                       network access.";
                  }
                }
                container ethernet-service-oam {
                  description
                    "Container for Ethernet service OAM.";
                  leaf md-name {
                    type string;
                    description
                      "Maintenance domain name.";
                  }
                  leaf md-level {
                    type uint8;
                    description
                      "Maintenance domain level.";
                  }
                  container cfm-802.1-ag {
                    description
                      "Container of 802.1ag CFM configurations.";
                    list n2-uni-c {
                      key "maid";
                      description
                        "List of UNI-N to UNI-C.";
                      uses cfm-802;
                    }
                    list n2-uni-n {
                      key "maid";
                      description
                        "List of UNI-N to UNI-N.";
                      uses cfm-802;
                    }
                  }
                  uses y-1731;
                }
                container service {
                  description
                    "Container for service";
                  leaf mtu {
                    type uint32;
                    description
                      "MTU, it is also known as the maximum
                       transmission unit or maximum frame size. When a
                       frame is larger than the MTU, it is broken down,
                       or fragmented, into smaller pieces by the
                       network protocol to accommodate the MTU of the
                       network";
                  }
                  container svc-inbound-bandwidth {
                    if-feature "vpn-common:inbound-bw";
                    description
                      "From the PE perspective, the service inbound
                       bandwidth of the connection.";
                    list inbound-bandwidth {
                      key "bw-type";
                      description
                        "List for input bandwidth data nodes.";
                      leaf bw-type {
                        type identityref {
                          base vpn-common:bw-type;
                        }
                        description
                          "Indicates the bandwidth type.";
                      }
                      leaf cos-id {
                        if-feature "vpn-common:qos";
                        type uint8;
                        description
                          "Identifier of the Class of Service (CoS),
                           indicated by DSCP or a CE-CLAN
                           CoS (802.1p) value in the service frame.";
                      }
                      leaf cir {
                        type uint64;
                        units "bps";
                        description
                          "Committed Information Rate. The maximum
                           number of bits that a port can receive or
                           send during one-second over an interface.";
                      }
                      leaf cbs {
                        type uint64;
                        units "bytes";
                        description
                          "Committed Burst Size. CBS controls the bursty
                           nature of the traffic. Traffic that does not
                           use the configured CIR accumulates credits
                           until the credits reach the configured CBS.";
                      }
                      leaf eir {
                        type uint64;
                        units "bps";
                        description
                          "Excess Information Rate, i.e., excess frame
                           delivery allowed not subject to SLA. The
                           traffic rate can be limited by EIR.";
                      }
                      leaf ebs {
                        type uint64;
                        units "bytes";
                        description
                          "Excess Burst Size. The bandwidth available
                           for burst traffic from the EBS is subject to
                           the amount of bandwidth that is accumulated
                           during periods when traffic allocated by the
                           EIR policy is not used.";
                      }
                      leaf pir {
                        type uint64;
                        units "bps";
                        description
                          "Peak Information Rate, i.e., maximum frame
                           delivery allowed. It is equal to or less
                           than sum of CIR and EIR.";
                      }
                      leaf pbs {
                        type uint64;
                        units "bytes";
                        description
                          "Peak Burst Size.";
                      }
                    }
                  }
                  container svc-outbound-bandwidth {
                    if-feature "vpn-common:outbound-bw";
                    description
                      "From the PE perspective, the service outbound
                       bandwidth of the connection.";
                    list outbound-bandwidth {
                      key "bw-type";
                      description
                        "List for outbound bandwidth";
                      leaf bw-type {
                        type identityref {
                          base vpn-common:bw-type;
                        }
                        description
                          "Bandwidth Type.";
                      }
                      leaf cos-id {
                        if-feature "vpn-common:qos";
                        type uint8;
                        description
                          "Identifier of the CoS, indicated by
                           DSCP or a CE-CLAN CoS (802.1p) value in
                           the service frame.";
                      }
                      leaf cir {
                        type uint64;
                        units "bps";
                        description
                          "Committed Information Rate. The maximum
                           number of bits that a port can receive or
                           send during one-second over an interface.";
                      }
                      leaf cbs {
                        type uint64;
                        units "bytes";
                        description
                          "Committed Burst Size. CBS controls the bursty
                           nature of the traffic. Traffic that does not
                           use the configured CIR accumulates credits
                           until the credits reach the configured CBS.";
                      }
                      leaf eir {
                        type uint64;
                        units "bps";
                        description
                          "Excess Information Rate, i.e., excess frame
                           delivery allowed not subject to SLA. The
                           traffic rate can be limited by EIR.";
                      }
                      leaf ebs {
                        type uint64;
                        units "bytes";
                        description
                          "Excess Burst Size. The bandwidth available
                           for burst traffic from the EBS is subject to
                           the amount of bandwidth that is accumulated
                           during periods when traffic allocated by the
                           EIR policy is not used.";
                      }
                      leaf pir {
                        type uint64;
                        units "bps";
                        description
                          "Peak Information Rate, i.e., maximum frame
                           delivery allowed. It is equal to or less than
                           sum of CIR and EIR.";
                      }
                      leaf pbs {
                        type uint64;
                        units "bytes";
                        description
                          "Peak Burst Size.";
                      }
                    }
                  }
                  container qos {
                    if-feature "vpn-common:qos";
                    description
                      "QoS configuration.";
                    container qos-classification-policy {
                      description
                        "Configuration of the traffic classification
                         policy.";
                      list rule {
                        key "id";
                        ordered-by user;
                        description
                          "List of classification rules.";
                        leaf id {
                          type string;
                          description
                            "A description identifying the QoS
                             classification policy rule.";
                        }
                        choice match-type {
                          default "match-flow";
                          description
                            "Choice for classification.";
                          case match-flow {
                            container match-flow {
                              description
                                "Describes flow-matching criteria.";
                              leaf dscp {
                                type inet:dscp;
                                description
                                  "DSCP value.";
                              }
                              leaf dot1q {
                                type uint16;
                                description
                                  "802.1Q matching. It is a VLAN tag
                                   added into a frame.";
                              }
                              leaf pcp {
                                type uint8 {
                                  range "0..7";
                                }
                                description
                                  "PCP value.";
                              }
                              leaf src-mac-address {
                                type yang:mac-address;
                                description
                                  "Source MAC address.";
                              }
                              leaf dst-mac-address {
                                type yang:mac-address;
                                description
                                  "Destination MAC address.";
                              }
                              leaf color-type {
                                type identityref {
                                  base color-type;
                                }
                                description
                                  "Color type.";
                              }
                              leaf any {
                                type empty;
                                description
                                  "Allows all.";
                              }
                            }
                          }
                          case match-application {
                            leaf match-application {
                              type identityref {
                                base vpn-common:customer-application;
                              }
                              description
                                "Defines the application to match.";
                            }
                          }
                        }
                        leaf target-class-id {
                          type string;
                          description
                            "Identification of the CoS.
                             This identifier is internal to the
                             administration.";
                        }
                      }
                    }
                    container qos-profile {
                      description
                        "QoS profile configuration.";
                      list qos-profile {
                        key "profile";
                        description
                          "QoS profile.
                           Can be standard profile or customized
                           profile.";
                        leaf profile {
                          type leafref {
                            path "/l2vpn-ntw/vpn-profiles"
                               + "/valid-provider-identifiers"
                               + "/qos-profile-identifier/id";
                          }
                          description
                            "QoS profile to be used.";
                        }
                        leaf direction {
                          type identityref {
                            base vpn-common:qos-profile-direction;
                          }
                          default "vpn-common:both";
                          description
                            "The direction to which the QoS profile
                             is applied.";
                        }
                      }
                    }
                  }
                  container mac-policies {
                    description
                      "Container for MAC-related policies.";
                    list access-control-list {
                      key "name";
                      description
                        "Container for access control List.";
                      leaf name {
                        type string;
                        description
                          "Specifies the name of the ACL.";
                      }
                      leaf-list src-mac-address {
                        type yang:mac-address;
                        description
                          "Specifies the source MAC address.";
                      }
                      leaf-list src-mac-address-mask {
                        type yang:mac-address;
                        description
                          "Specifies the source MAC address mask.";
                      }
                      leaf-list dst-mac-address {
                        type yang:mac-address;
                        description
                          "Specifies the destination MAC address.";
                      }
                      leaf-list dst-mac-address-mask {
                        type yang:mac-address;
                        description
                          "Specifies the destination MAC address mask.";
                      }
                      leaf action {
                        type identityref {
                          base mac-action;
                        }
                        default "drop";
                        description
                          "Specifies the filtering action.";
                      }
                      leaf rate-limit {
                        when "derived-from-or-self(../action, "
                           + "'flood')" {
                          description
                            "Rate-limit is valid only when the action is
                             to accept the matching frame.";
                        }
                        type decimal64 {
                          fraction-digits 2;
                        }
                        units "bytes per second";
                        description
                          "Specifies how to rate-limit the traffic.";
                      }
                    }
                    container mac-loop-prevention {
                      description
                        "Container of MAC loop prevention.";
                      leaf window {
                        type uint32;
                        units "seconds";
                        default "180";
                        description
                          "The timer when a MAC mobility event is
                           detected.";
                      }
                      leaf frequency {
                        type uint32;
                        default "5";
                        description
                          "The number of times to detect MAC
                           duplication, where a 'duplicate MAC address'
                           situation has occurred and the duplicate MAC
                           address has been added to a list of duplicate
                           MAC addresses.";
                      }
                      leaf retry-timer {
                        type uint32;
                        units "seconds";
                        description
                          "The retry timer. When the retry timer
                           expires, the duplicate MAC address will be
                           flushed from the MAC-VRF.";
                      }
                      leaf protection-type {
                        type identityref {
                          base loop-prevention-type;
                        }
                        description
                          "Protection type";
                      }
                    }
                    container mac-addr-limit {
                      description
                        "Container of MAC-Addr limit configurations";
                      leaf mac-num-limit {
                        type uint16;
                        description
                          "maximum number of MAC addresses learned from
                           the subscriber for a single service
                           instance.";
                      }
                      leaf time-interval {
                        type uint32;
                        units "milliseconds";
                        description
                          "The aging time of the mac address.";
                      }
                      leaf action {
                        type identityref {
                          base mac-action;
                        }
                        description
                          "specify the action when the upper limit is
                           exceeded: drop the packet, flood the
                           packet, or simply send a warning log
                           message.";
                      }
                    }
                  }
                  container broadcast-unknown-unicast-multicast {
                    description
                      "Container of broadcast, unknown unicast, and
                       multicast configurations";
                    leaf multicast-site-type {
                      type enumeration {
                        enum receiver-only {
                          description
                            "The site only has receivers.";
                        }
                        enum source-only {
                          description
                            "The site only has sources.";
                        }
                        enum source-receiver {
                          description
                            "The site has both sources and receivers.";
                        }
                      }
                      default "source-receiver";
                      description
                        "Type of the multicast site.";
                    }
                    list multicast-gp-address-mapping {
                      key "id";
                      description
                        "List of Port to group mappings.";
                      leaf id {
                        type uint16;
                        description
                          "Unique identifier for the mapping.";
                      }
                      leaf vlan-id {
                        type uint32;
                        description
                          "The VLAN ID of the Multicast group.";
                      }
                      leaf mac-gp-address {
                        type yang:mac-address;
                        description
                          "The MAC address of the Multicast group.";
                      }
                      leaf port-lag-number {
                        type uint32;
                        description
                          "The ports/LAGs belonging to the Multicast
                           group.";
                      }
                    }
                    leaf bum-overall-rate {
                      type uint32;
                      description
                        "Overall rate for BUM.";
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-8.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
<div id="Security">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">The YANG modules specified in this document defines schema for data
      that is designed to be accessed via network management protocols such as
      NETCONF <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> or RESTCONF <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span> . The lowest NETCONF layer is the secure
      transport layer, and the mandatory-to-implement secure transport is
      Secure Shell (SSH) <span>[<a href="#RFC6242" class="xref">RFC6242</a>]</span>. The lowest RESTCONF
      layer is HTTPS, and the mandatory-to-implement secure transport is TLS
      <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span>.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">The Network Configuration Access Control Model (NACM) <span>[<a href="#RFC8341" class="xref">RFC8341</a>]</span> provides the means to restrict access for
      particular NETCONF or RESTCONF users to a preconfigured subset of all
      available NETCONF or RESTCONF protocol operations and content.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">There are a number of data nodes defined in "ietf-l2vpn-ntw" and
      "ietf-ethernet-segment" YANG modules that are
      writable/creatable/deletable (i.e., config true, which is the default).
      These data nodes may be considered sensitive or vulnerable in some
      network environments. Write operations (e.g., edit-config) and delete
      operations to these data nodes without proper protection or
      authentication can have a negative effect on network operations. These
      are the subtrees and data nodes and their sensitivity/vulnerability in
      the "ietf-l2vpn-ntw" and "ietf-ethernet-segment" modules:<a href="#section-9-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-4.1">'vpn-profiles': This container includes a set of sensitive data
          that influence how the L3VPN service is delivered. For example, an
          attacker who has access to these data nodes may be able to
          manipulate routing policies, QoS policies, or encryption properties.
          These data nodes are defined with "nacm:default-deny-write" tagging
          <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>.<a href="#section-9-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-4.2">'ethernet-segments' and 'vpn-services': An attacker who is able
          to access network nodes can undertake various attacks, such as
          deleting a running L2VPN service, interrupting all the traffic of a
          client. In addition, an attacker may modify the attributes of a
          running service (e.g., QoS, bandwidth) or an ES, leading to
          malfunctioning of the service and therefore to SLA violations. In
          addition, an attacker could attempt to create an L2VPN service or
          add a new network access. In addition to using NACM to prevent
          authorized access, such activity can be detected by adequately
          monitoring and tracking network configuration changes.<a href="#section-9-4.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-9-5">Some of the readable data nodes in the "ietf-l2vpn-ntw" YANG module
      may be considered sensitive or vulnerable in some network environments.
      It is thus important to control read access (e.g., via get, get-config,
      or notification) to these data nodes. These are the subtrees and data
      nodes and their sensitivity/vulnerability:<a href="#section-9-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-6.1">'customer-name' and 'ip-connection': An attacker can retrieve
          privacy-related information which can be used to track a customer.
          Disclosing such information may be considered as a violation of the
          customer-provider trust relationship.<a href="#section-9-6.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-9-7">Both "iana-bgp-l2-encaps" and "iana-pseudowire-types" modules define
      YANG identities for encapsulation/pseudowires types. These identities
      are intended to be referenced by other YANG modules, and by themselves
      do not expose any nodes which are writable, contain read-only state, or
      RPCs.<a href="#section-9-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-yang-modules-2">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-yang-modules-2" class="section-name selfRef">YANG Modules</a>
        </h3>
<p id="section-10.1-1">This document requests IANA to register the following URIs in the
        "ns" subregistry within the "IETF XML Registry" <span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>:<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.1-2">
<pre>      URI: urn:ietf:params:xml:ns:yang:iana-bgp-l2-encaps
      Registrant Contact: The IESG.
      XML: N/A; the requested URI is an XML namespace.

      URI: urn:ietf:params:xml:ns:yang:iana-pseudowire-types
      Registrant Contact: The IESG.
      XML: N/A; the requested URI is an XML namespace.

      URI: urn:ietf:params:xml:ns:yang:ietf-ethernet-segment
      Registrant Contact: The IESG.
      XML: N/A; the requested URI is an XML namespace.

      URI: urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw
      Registrant Contact: The IESG.
      XML: N/A; the requested URI is an XML namespace.</pre><a href="#section-10.1-2" class="pilcrow">¶</a>
</div>
<p id="section-10.1-3">This document requests IANA to register the following YANG modules
        in the "YANG Module Names" subregistry <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>
        within the "YANG Parameters" registry:<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.1-4">
<pre>      name: iana-bgp-l2-encaps
      namespace: urn:ietf:params:xml:ns:yang:iana-bgp-l2-encaps
      maintained by IANA: Y
      prefix: iana-bgp-l2-encaps
      reference: RFC XXXX

      name: iana-pseudowire-types
      namespace: urn:ietf:params:xml:ns:yang:iana-pseudowire-types
      maintained by IANA: Y
      prefix: iana-pw-types
      reference: RFC XXXX

      name: ietf-ethernet-segment
      namespace: urn:ietf:params:xml:ns:yang:ietf-ethernet-segment
      maintained by IANA: N
      prefix: l2vpn-es
      reference: RFC XXXX

      name: ietf-l2vpn-ntw
      namespace: urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw
      maintained by IANA: N
      prefix: l2vpn-ntw
      reference: RFC XXXX</pre><a href="#section-10.1-4" class="pilcrow">¶</a>
</div>
<p id="section-10.1-5"></p>
</section>
<section id="section-10.2">
        <h3 id="name-bgp-layer-2-encapsulation-t">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-bgp-layer-2-encapsulation-t" class="section-name selfRef">BGP Layer 2 Encapsulation Types</a>
        </h3>
<p id="section-10.2-1">This document defines the initial version of the IANA-maintained
        "iana-bgp-l2-encaps" YANG module. IANA is requested to add this note
        for both modules:<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-10.2-2.1">BGP Layer 2 encapsulation types must not be directly added to
            the "iana-bgp-l2-encaps" YANG module. They must instead be
            respectively added to the "BGP Layer 2 Encapsulation Types"
            registry <span>[<a href="#IANA-BGP-L2" class="xref">IANA-BGP-L2</a>]</span>.<a href="#section-10.2-2.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.2-3">When a Layer 2 encapsulation type is added to the "BGP Layer 2
        Encapsulation Types" registry, a new "identity" statement must be
        added to the "iana-bgp-l2-encaps" YANG module. The name of the
        "identity" is the lower-case of encapsulation name provided in the
        description. The "identity" statement should have the following
        sub-statements defined:<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-10.2-4">
          <dt id="section-10.2-4.1">"base":</dt>
          <dd style="margin-left: 7.5em" id="section-10.2-4.2">Contains 'bgp-l2-encaps-type'.<a href="#section-10.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-4.3">"description":</dt>
          <dd style="margin-left: 7.5em" id="section-10.2-4.4">Replicates the description
            from the registry.<a href="#section-10.2-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-4.5">"reference":</dt>
          <dd style="margin-left: 7.5em" id="section-10.2-4.6">Replicates the reference from
            the registry and add the title of the document.<a href="#section-10.2-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-10.2-5">Unassigned or reserved values are not present in the module.<a href="#section-10.2-5" class="pilcrow">¶</a></p>
<p id="section-10.2-6">When the "iana-bgp-l2-encaps" YANG module is updated, a new
        "revision" statement must be added in front of the existing revision
        statements.<a href="#section-10.2-6" class="pilcrow">¶</a></p>
<p id="section-10.2-7">IANA is requested to add this note to <span>[<a href="#IANA-BGP-L2" class="xref">IANA-BGP-L2</a>]</span>:<a href="#section-10.2-7" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-10.2-8.1">When this registry is modified, the YANG module
            "iana-bgp-l2-encaps" must be updated as defined in RFCXXXX.<a href="#section-10.2-8.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="section-10.3">
        <h3 id="name-pseudowire-types">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-pseudowire-types" class="section-name selfRef">Pseudowire Types</a>
        </h3>
<p id="section-10.3-1">This document defines the initial version of the IANA-maintained
        "iana-pseudowire-types" YANG module. IANA is requested to add this
        note for both modules:<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-10.3-2.1">MPLS pseudowire types must not be directly added to the
            "iana-bgp-l2-encaps" YANG module. They must instead be
            respectively added to the "MPLS Pseudowire Types" registry <span>[<a href="#IANA-PW-Types" class="xref">IANA-PW-Types</a>]</span>.<a href="#section-10.3-2.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.3-3">When a pseudowire type is added to the "iana-pseudowire-types"
        registry, a new "identity" statement must be added to the
        "iana-pseudowire-types" YANG module. The name of the "identity" is the
        lower-case of encapsulation name provided in the description. The
        "identity" statement should have the following sub-statements
        defined:<a href="#section-10.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-10.3-4">
          <dt id="section-10.3-4.1">"base":</dt>
          <dd style="margin-left: 7.5em" id="section-10.3-4.2">Contains 'iana-pw-types'.<a href="#section-10.3-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-4.3">"description":</dt>
          <dd style="margin-left: 7.5em" id="section-10.3-4.4">Replicates the description
            from the registry.<a href="#section-10.3-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-4.5">"reference":</dt>
          <dd style="margin-left: 7.5em" id="section-10.3-4.6">Replicates the reference from
            the registry and add the title of the document.<a href="#section-10.3-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-10.3-5">Unassigned or reserved values are not present in the module.<a href="#section-10.3-5" class="pilcrow">¶</a></p>
<p id="section-10.3-6">When the "iana-pseudowire-types" YANG module is updated, a new
        "revision" statement must be added in front of the existing revision
        statements.<a href="#section-10.3-6" class="pilcrow">¶</a></p>
<p id="section-10.3-7">IANA is requested to add this note to <span>[<a href="#IANA-PW-Types" class="xref">IANA-PW-Types</a>]</span>:<a href="#section-10.3-7" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-10.3-8.1">When this registry is modified, the YANG module
            "iana-pseudowire-types" must be updated as defined in RFCXXXX.<a href="#section-10.3-8.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-opsawg-vpn-common">[I-D.ietf-opsawg-vpn-common]</dt>
        <dd>
<span class="refAuthor">Barguil, S.</span>, <span class="refAuthor">Dios, O. G. D.</span>, <span class="refAuthor">Boucadair, M.</span>, and <span class="refAuthor">Q. Wu</span>, <span class="refTitle">"A Layer 2/3 VPN Common YANG Model"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-opsawg-vpn-common-12</span>, <time datetime="2021-09-29" class="refDate">29 September 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-opsawg-vpn-common-12.txt">https://www.ietf.org/archive/id/draft-ietf-opsawg-vpn-common-12.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA-BGP-L2">[IANA-BGP-L2]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"BGP Layer 2 Encapsulation Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/bgp-parameters/bgp-parameters.xhtml#bgp-l2-encapsulation-types-registry">https://www.iana.org/assignments/bgp-parameters/bgp-parameters.xhtml#bgp-l2-encapsulation-types-registry</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA-PW-Types">[IANA-PW-Types]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"MPLS Pseudowire Types Registry"</span>, <span>&lt;<a href="http://www.iana.org/assignments/pwe3-parameters/pwe3-parameters.xhtml#pwe3-parameters-2">http://www.iana.org/assignments/pwe3-parameters/pwe3-parameters.xhtml#pwe3-parameters-2</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE-802-1ag">[IEEE-802-1ag]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"802.1ag - 2007 - IEEE Standard for Local and Metropolitan Area Networks - Virtual Bridged Local Area Networks Amendment 5: Connectivity Fault Management"</span>, <time datetime="2007" class="refDate">2007</time>, <span>&lt;<a href="DOI%2010.1109/IEEESTD.2007.4431836">DOI 10.1109/IEEESTD.2007.4431836</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ITU-T-Y-1731">[ITU-T-Y-1731]</dt>
        <dd>
<span class="refAuthor">Union, I. T.</span>, <span class="refTitle">"Operations, administration and maintenance (OAM) functions and mechanisms for Ethernet-based networks"</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-Y.1731/en">https://www.itu.int/rec/T-REC-Y.1731/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4667">[RFC4667]</dt>
        <dd>
<span class="refAuthor">Luo, W.</span>, <span class="refTitle">"Layer 2 Virtual Private Network (L2VPN) Extensions for Layer 2 Tunneling Protocol (L2TP)"</span>, <span class="seriesInfo">RFC 4667</span>, <span class="seriesInfo">DOI 10.17487/RFC4667</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4667">https://www.rfc-editor.org/info/rfc4667</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4761">[RFC4761]</dt>
        <dd>
<span class="refAuthor">Kompella, K., Ed.</span> and <span class="refAuthor">Y. Rekhter, Ed.</span>, <span class="refTitle">"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling"</span>, <span class="seriesInfo">RFC 4761</span>, <span class="seriesInfo">DOI 10.17487/RFC4761</span>, <time datetime="2007-01" class="refDate">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4761">https://www.rfc-editor.org/info/rfc4761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4762">[RFC4762]</dt>
        <dd>
<span class="refAuthor">Lasserre, M., Ed.</span> and <span class="refAuthor">V. Kompella, Ed.</span>, <span class="refTitle">"Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling"</span>, <span class="seriesInfo">RFC 4762</span>, <span class="seriesInfo">DOI 10.17487/RFC4762</span>, <time datetime="2007-01" class="refDate">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4762">https://www.rfc-editor.org/info/rfc4762</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6020">[RFC6020]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6020</span>, <span class="seriesInfo">DOI 10.17487/RFC6020</span>, <time datetime="2010-10" class="refDate">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6020">https://www.rfc-editor.org/info/rfc6020</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6074">[RFC6074]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Davie, B.</span>, <span class="refAuthor">Radoaca, V.</span>, and <span class="refAuthor">W. Luo</span>, <span class="refTitle">"Provisioning, Auto-Discovery, and Signaling in Layer 2 Virtual Private Networks (L2VPNs)"</span>, <span class="seriesInfo">RFC 6074</span>, <span class="seriesInfo">DOI 10.17487/RFC6074</span>, <time datetime="2011-01" class="refDate">January 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6074">https://www.rfc-editor.org/info/rfc6074</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6242">[RFC6242]</dt>
        <dd>
<span class="refAuthor">Wasserman, M.</span>, <span class="refTitle">"Using the NETCONF Protocol over Secure Shell (SSH)"</span>, <span class="seriesInfo">RFC 6242</span>, <span class="seriesInfo">DOI 10.17487/RFC6242</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6991">[RFC6991]</dt>
        <dd>
<span class="refAuthor">Schoenwaelder, J., Ed.</span>, <span class="refTitle">"Common YANG Data Types"</span>, <span class="seriesInfo">RFC 6991</span>, <span class="seriesInfo">DOI 10.17487/RFC6991</span>, <time datetime="2013-07" class="refDate">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6991">https://www.rfc-editor.org/info/rfc6991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7432">[RFC7432]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Isaac, A.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="seriesInfo">RFC 7432</span>, <span class="seriesInfo">DOI 10.17487/RFC7432</span>, <time datetime="2015-02" class="refDate">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7432">https://www.rfc-editor.org/info/rfc7432</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7623">[RFC7623]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Isaac, A.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"Provider Backbone Bridging Combined with Ethernet VPN (PBB-EVPN)"</span>, <span class="seriesInfo">RFC 7623</span>, <span class="seriesInfo">DOI 10.17487/RFC7623</span>, <time datetime="2015-09" class="refDate">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7623">https://www.rfc-editor.org/info/rfc7623</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time datetime="2017-01" class="refDate">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8077">[RFC8077]</dt>
        <dd>
<span class="refAuthor">Martini, L., Ed.</span> and <span class="refAuthor">G. Heron, Ed.</span>, <span class="refTitle">"Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP)"</span>, <span class="seriesInfo">STD 84</span>, <span class="seriesInfo">RFC 8077</span>, <span class="seriesInfo">DOI 10.17487/RFC8077</span>, <time datetime="2017-02" class="refDate">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8077">https://www.rfc-editor.org/info/rfc8077</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8214">[RFC8214]</dt>
        <dd>
<span class="refAuthor">Boutros, S.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"Virtual Private Wire Service Support in Ethernet VPN"</span>, <span class="seriesInfo">RFC 8214</span>, <span class="seriesInfo">DOI 10.17487/RFC8214</span>, <time datetime="2017-08" class="refDate">August 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8214">https://www.rfc-editor.org/info/rfc8214</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8294">[RFC8294]</dt>
        <dd>
<span class="refAuthor">Liu, X.</span>, <span class="refAuthor">Qu, Y.</span>, <span class="refAuthor">Lindem, A.</span>, <span class="refAuthor">Hopps, C.</span>, and <span class="refAuthor">L. Berger</span>, <span class="refTitle">"Common YANG Data Types for the Routing Area"</span>, <span class="seriesInfo">RFC 8294</span>, <span class="seriesInfo">DOI 10.17487/RFC8294</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8294">https://www.rfc-editor.org/info/rfc8294</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8341">[RFC8341]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span> and <span class="refAuthor">M. Bjorklund</span>, <span class="refTitle">"Network Configuration Access Control Model"</span>, <span class="seriesInfo">STD 91</span>, <span class="seriesInfo">RFC 8341</span>, <span class="seriesInfo">DOI 10.17487/RFC8341</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8342">[RFC8342]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, <span class="refAuthor">Shafer, P.</span>, <span class="refAuthor">Watsen, K.</span>, and <span class="refAuthor">R. Wilton</span>, <span class="refTitle">"Network Management Datastore Architecture (NMDA)"</span>, <span class="seriesInfo">RFC 8342</span>, <span class="seriesInfo">DOI 10.17487/RFC8342</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8342">https://www.rfc-editor.org/info/rfc8342</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8365">[RFC8365]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Drake, J., Ed.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Shekhar, R.</span>, <span class="refAuthor">Uttaro, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"A Network Virtualization Overlay Solution Using Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 8365</span>, <span class="seriesInfo">DOI 10.17487/RFC8365</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8365">https://www.rfc-editor.org/info/rfc8365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8466">[RFC8466]</dt>
      <dd>
<span class="refAuthor">Wen, B.</span>, <span class="refAuthor">Fioccola, G., Ed.</span>, <span class="refAuthor">Xie, C.</span>, and <span class="refAuthor">L. Jalil</span>, <span class="refTitle">"A YANG Data Model for Layer 2 Virtual Private Network (L2VPN) Service Delivery"</span>, <span class="seriesInfo">RFC 8466</span>, <span class="seriesInfo">DOI 10.17487/RFC8466</span>, <time datetime="2018-10" class="refDate">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8466">https://www.rfc-editor.org/info/rfc8466</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-bess-evpn-pref-df">[I-D.ietf-bess-evpn-pref-df]</dt>
        <dd>
<span class="refAuthor">Rabadan, J.</span>, <span class="refAuthor">Sathappan, S.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Lin, W.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Sajassi, A.</span>, and <span class="refAuthor">S. Mohanty</span>, <span class="refTitle">"Preference-based EVPN DF Election"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-pref-df-08</span>, <time datetime="2021-09-23" class="refDate">23 September 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bess-evpn-pref-df-08.txt">https://www.ietf.org/archive/id/draft-ietf-bess-evpn-pref-df-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-yang">[I-D.ietf-bess-evpn-yang]</dt>
        <dd>
<span class="refAuthor">Brissette, P.</span>, <span class="refAuthor">Shah, H.</span>, <span class="refAuthor">Hussain, I.</span>, <span class="refAuthor">Tiruveedhula, K.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"Yang Data Model for EVPN"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-yang-07</span>, <time datetime="2019-03-11" class="refDate">11 March 2019</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bess-evpn-yang-07.txt">https://www.ietf.org/archive/id/draft-ietf-bess-evpn-yang-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-idr-bgp-model">[I-D.ietf-idr-bgp-model]</dt>
        <dd>
<span class="refAuthor">Jethanandani, M.</span>, <span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Hares, S.</span>, and <span class="refAuthor">J. Haas</span>, <span class="refTitle">"BGP YANG Model for Service Provider Networks"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-idr-bgp-model-11</span>, <time datetime="2021-07-11" class="refDate">11 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-idr-bgp-model-11.txt">https://www.ietf.org/archive/id/draft-ietf-idr-bgp-model-11.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-teas-enhanced-vpn">[I-D.ietf-teas-enhanced-vpn]</dt>
        <dd>
<span class="refAuthor">Dong, J.</span>, <span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Li, Z.</span>, <span class="refAuthor">Miyasaka, T.</span>, and <span class="refAuthor">Y. Lee</span>, <span class="refTitle">"A Framework for Enhanced Virtual Private Network (VPN+) Services"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-teas-enhanced-vpn-08</span>, <time datetime="2021-07-12" class="refDate">12 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-teas-enhanced-vpn-08.txt">https://www.ietf.org/archive/id/draft-ietf-teas-enhanced-vpn-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-teas-ietf-network-slices">[I-D.ietf-teas-ietf-network-slices]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Gray, E.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Rokui, R.</span>, <span class="refAuthor">Homma, S.</span>, <span class="refAuthor">Makhijani, K.</span>, <span class="refAuthor">Contreras, L. M.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"Framework for IETF Network Slices"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-teas-ietf-network-slices-04</span>, <time datetime="2021-08-23" class="refDate">23 August 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-teas-ietf-network-slices-04.txt">https://www.ietf.org/archive/id/draft-ietf-teas-ietf-network-slices-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE802.1AX">[IEEE802.1AX]</dt>
        <dd>
<span class="refTitle">"Link Aggregation"</span>, <span class="seriesInfo">IEEE Std 802.1AX-2020</span>, <time datetime="2020" class="refDate">2020</time>. </dd>
<dd class="break"></dd>
<dt id="PYANG">[PYANG]</dt>
        <dd>
<span class="refTitle">"pyang"</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://github.com/mbj4668/pyang">https://github.com/mbj4668/pyang</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2507">[RFC2507]</dt>
        <dd>
<span class="refAuthor">Degermark, M.</span>, <span class="refAuthor">Nordgren, B.</span>, and <span class="refAuthor">S. Pink</span>, <span class="refTitle">"IP Header Compression"</span>, <span class="seriesInfo">RFC 2507</span>, <span class="seriesInfo">DOI 10.17487/RFC2507</span>, <time datetime="1999-02" class="refDate">February 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2507">https://www.rfc-editor.org/info/rfc2507</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2508">[RFC2508]</dt>
        <dd>
<span class="refAuthor">Casner, S.</span> and <span class="refAuthor">V. Jacobson</span>, <span class="refTitle">"Compressing IP/UDP/RTP Headers for Low-Speed Serial Links"</span>, <span class="seriesInfo">RFC 2508</span>, <span class="seriesInfo">DOI 10.17487/RFC2508</span>, <time datetime="1999-02" class="refDate">February 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2508">https://www.rfc-editor.org/info/rfc2508</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3032">[RFC3032]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Tappan, D.</span>, <span class="refAuthor">Fedorkow, G.</span>, <span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Farinacci, D.</span>, <span class="refAuthor">Li, T.</span>, and <span class="refAuthor">A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time datetime="2001-01" class="refDate">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3545">[RFC3545]</dt>
        <dd>
<span class="refAuthor">Koren, T.</span>, <span class="refAuthor">Casner, S.</span>, <span class="refAuthor">Geevarghese, J.</span>, <span class="refAuthor">Thompson, B.</span>, and <span class="refAuthor">P. Ruddy</span>, <span class="refTitle">"Enhanced Compressed RTP (CRTP) for Links with High Delay, Packet Loss and Reordering"</span>, <span class="seriesInfo">RFC 3545</span>, <span class="seriesInfo">DOI 10.17487/RFC3545</span>, <time datetime="2003-07" class="refDate">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3545">https://www.rfc-editor.org/info/rfc3545</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3644">[RFC3644]</dt>
        <dd>
<span class="refAuthor">Snir, Y.</span>, <span class="refAuthor">Ramberg, Y.</span>, <span class="refAuthor">Strassner, J.</span>, <span class="refAuthor">Cohen, R.</span>, and <span class="refAuthor">B. Moore</span>, <span class="refTitle">"Policy Quality of Service (QoS) Information Model"</span>, <span class="seriesInfo">RFC 3644</span>, <span class="seriesInfo">DOI 10.17487/RFC3644</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3644">https://www.rfc-editor.org/info/rfc3644</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4446">[RFC4446]</dt>
        <dd>
<span class="refAuthor">Martini, L.</span>, <span class="refTitle">"IANA Allocations for Pseudowire Edge to Edge Emulation (PWE3)"</span>, <span class="seriesInfo">BCP 116</span>, <span class="seriesInfo">RFC 4446</span>, <span class="seriesInfo">DOI 10.17487/RFC4446</span>, <time datetime="2006-04" class="refDate">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4446">https://www.rfc-editor.org/info/rfc4446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4448">[RFC4448]</dt>
        <dd>
<span class="refAuthor">Martini, L., Ed.</span>, <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">El-Aawar, N.</span>, and <span class="refAuthor">G. Heron</span>, <span class="refTitle">"Encapsulation Methods for Transport of Ethernet over MPLS Networks"</span>, <span class="seriesInfo">RFC 4448</span>, <span class="seriesInfo">DOI 10.17487/RFC4448</span>, <time datetime="2006-04" class="refDate">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4448">https://www.rfc-editor.org/info/rfc4448</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4553">[RFC4553]</dt>
        <dd>
<span class="refAuthor">Vainshtein, A., Ed.</span> and <span class="refAuthor">YJ. Stein, Ed.</span>, <span class="refTitle">"Structure-Agnostic Time Division Multiplexing (TDM) over Packet (SAToP)"</span>, <span class="seriesInfo">RFC 4553</span>, <span class="seriesInfo">DOI 10.17487/RFC4553</span>, <time datetime="2006-06" class="refDate">June 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4553">https://www.rfc-editor.org/info/rfc4553</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4618">[RFC4618]</dt>
        <dd>
<span class="refAuthor">Martini, L.</span>, <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Heron, G.</span>, and <span class="refAuthor">A. Malis</span>, <span class="refTitle">"Encapsulation Methods for Transport of PPP/High-Level Data Link Control (HDLC) over MPLS Networks"</span>, <span class="seriesInfo">RFC 4618</span>, <span class="seriesInfo">DOI 10.17487/RFC4618</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4618">https://www.rfc-editor.org/info/rfc4618</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4619">[RFC4619]</dt>
        <dd>
<span class="refAuthor">Martini, L., Ed.</span>, <span class="refAuthor">Kawa, C., Ed.</span>, and <span class="refAuthor">A. Malis, Ed.</span>, <span class="refTitle">"Encapsulation Methods for Transport of Frame Relay over Multiprotocol Label Switching (MPLS) Networks"</span>, <span class="seriesInfo">RFC 4619</span>, <span class="seriesInfo">DOI 10.17487/RFC4619</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4619">https://www.rfc-editor.org/info/rfc4619</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4664">[RFC4664]</dt>
        <dd>
<span class="refAuthor">Andersson, L., Ed.</span> and <span class="refAuthor">E. Rosen, Ed.</span>, <span class="refTitle">"Framework for Layer 2 Virtual Private Networks (L2VPNs)"</span>, <span class="seriesInfo">RFC 4664</span>, <span class="seriesInfo">DOI 10.17487/RFC4664</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4664">https://www.rfc-editor.org/info/rfc4664</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4717">[RFC4717]</dt>
        <dd>
<span class="refAuthor">Martini, L.</span>, <span class="refAuthor">Jayakumar, J.</span>, <span class="refAuthor">Bocci, M.</span>, <span class="refAuthor">El-Aawar, N.</span>, <span class="refAuthor">Brayley, J.</span>, and <span class="refAuthor">G. Koleyni</span>, <span class="refTitle">"Encapsulation Methods for Transport of Asynchronous Transfer Mode (ATM) over MPLS Networks"</span>, <span class="seriesInfo">RFC 4717</span>, <span class="seriesInfo">DOI 10.17487/RFC4717</span>, <time datetime="2006-12" class="refDate">December 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4717">https://www.rfc-editor.org/info/rfc4717</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4816">[RFC4816]</dt>
        <dd>
<span class="refAuthor">Malis, A.</span>, <span class="refAuthor">Martini, L.</span>, <span class="refAuthor">Brayley, J.</span>, and <span class="refAuthor">T. Walsh</span>, <span class="refTitle">"Pseudowire Emulation Edge-to-Edge (PWE3) Asynchronous Transfer Mode (ATM) Transparent Cell Transport Service"</span>, <span class="seriesInfo">RFC 4816</span>, <span class="seriesInfo">DOI 10.17487/RFC4816</span>, <time datetime="2007-02" class="refDate">February 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4816">https://www.rfc-editor.org/info/rfc4816</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4842">[RFC4842]</dt>
        <dd>
<span class="refAuthor">Malis, A.</span>, <span class="refAuthor">Pate, P.</span>, <span class="refAuthor">Cohen, R., Ed.</span>, and <span class="refAuthor">D. Zelig</span>, <span class="refTitle">"Synchronous Optical Network/Synchronous Digital Hierarchy (SONET/SDH) Circuit Emulation over Packet (CEP)"</span>, <span class="seriesInfo">RFC 4842</span>, <span class="seriesInfo">DOI 10.17487/RFC4842</span>, <time datetime="2007-04" class="refDate">April 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4842">https://www.rfc-editor.org/info/rfc4842</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4863">[RFC4863]</dt>
        <dd>
<span class="refAuthor">Martini, L.</span> and <span class="refAuthor">G. Swallow</span>, <span class="refTitle">"Wildcard Pseudowire Type"</span>, <span class="seriesInfo">RFC 4863</span>, <span class="seriesInfo">DOI 10.17487/RFC4863</span>, <time datetime="2007-05" class="refDate">May 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4863">https://www.rfc-editor.org/info/rfc4863</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4901">[RFC4901]</dt>
        <dd>
<span class="refAuthor">Ash, J., Ed.</span>, <span class="refAuthor">Hand, J., Ed.</span>, and <span class="refAuthor">A. Malis, Ed.</span>, <span class="refTitle">"Protocol Extensions for Header Compression over MPLS"</span>, <span class="seriesInfo">RFC 4901</span>, <span class="seriesInfo">DOI 10.17487/RFC4901</span>, <time datetime="2007-06" class="refDate">June 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4901">https://www.rfc-editor.org/info/rfc4901</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5086">[RFC5086]</dt>
        <dd>
<span class="refAuthor">Vainshtein, A., Ed.</span>, <span class="refAuthor">Sasson, I.</span>, <span class="refAuthor">Metz, E.</span>, <span class="refAuthor">Frost, T.</span>, and <span class="refAuthor">P. Pate</span>, <span class="refTitle">"Structure-Aware Time Division Multiplexed (TDM) Circuit Emulation Service over Packet Switched Network (CESoPSN)"</span>, <span class="seriesInfo">RFC 5086</span>, <span class="seriesInfo">DOI 10.17487/RFC5086</span>, <time datetime="2007-12" class="refDate">December 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5086">https://www.rfc-editor.org/info/rfc5086</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5087">[RFC5087]</dt>
        <dd>
<span class="refAuthor">Stein, Y(J).</span>, <span class="refAuthor">Shashoua, R.</span>, <span class="refAuthor">Insler, R.</span>, and <span class="refAuthor">M. Anavi</span>, <span class="refTitle">"Time Division Multiplexing over IP (TDMoIP)"</span>, <span class="seriesInfo">RFC 5087</span>, <span class="seriesInfo">DOI 10.17487/RFC5087</span>, <time datetime="2007-12" class="refDate">December 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5087">https://www.rfc-editor.org/info/rfc5087</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5143">[RFC5143]</dt>
        <dd>
<span class="refAuthor">Malis, A.</span>, <span class="refAuthor">Brayley, J.</span>, <span class="refAuthor">Shirron, J.</span>, <span class="refAuthor">Martini, L.</span>, and <span class="refAuthor">S. Vogelsang</span>, <span class="refTitle">"Synchronous Optical Network/Synchronous Digital Hierarchy (SONET/SDH) Circuit Emulation Service over MPLS (CEM) Encapsulation"</span>, <span class="seriesInfo">RFC 5143</span>, <span class="seriesInfo">DOI 10.17487/RFC5143</span>, <time datetime="2008-02" class="refDate">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5143">https://www.rfc-editor.org/info/rfc5143</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5795">[RFC5795]</dt>
        <dd>
<span class="refAuthor">Sandlund, K.</span>, <span class="refAuthor">Pelletier, G.</span>, and <span class="refAuthor">L-E. Jonsson</span>, <span class="refTitle">"The RObust Header Compression (ROHC) Framework"</span>, <span class="seriesInfo">RFC 5795</span>, <span class="seriesInfo">DOI 10.17487/RFC5795</span>, <time datetime="2010-03" class="refDate">March 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5795">https://www.rfc-editor.org/info/rfc5795</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5880">[RFC5880]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 5880</span>, <span class="seriesInfo">DOI 10.17487/RFC5880</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5880">https://www.rfc-editor.org/info/rfc5880</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6307">[RFC6307]</dt>
        <dd>
<span class="refAuthor">Black, D., Ed.</span>, <span class="refAuthor">Dunbar, L., Ed.</span>, <span class="refAuthor">Roth, M.</span>, and <span class="refAuthor">R. Solomon</span>, <span class="refTitle">"Encapsulation Methods for Transport of Fibre Channel Traffic over MPLS Networks"</span>, <span class="seriesInfo">RFC 6307</span>, <span class="seriesInfo">DOI 10.17487/RFC6307</span>, <time datetime="2012-04" class="refDate">April 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6307">https://www.rfc-editor.org/info/rfc6307</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6624">[RFC6624]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Kothari, B.</span>, and <span class="refAuthor">R. Cherukuri</span>, <span class="refTitle">"Layer 2 Virtual Private Networks Using BGP for Auto-Discovery and Signaling"</span>, <span class="seriesInfo">RFC 6624</span>, <span class="seriesInfo">DOI 10.17487/RFC6624</span>, <time datetime="2012-05" class="refDate">May 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6624">https://www.rfc-editor.org/info/rfc6624</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7209">[RFC7209]</dt>
        <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">A. Isaac</span>, <span class="refTitle">"Requirements for Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 7209</span>, <span class="seriesInfo">DOI 10.17487/RFC7209</span>, <time datetime="2014-05" class="refDate">May 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7209">https://www.rfc-editor.org/info/rfc7209</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7297">[RFC7297]</dt>
        <dd>
<span class="refAuthor">Boucadair, M.</span>, <span class="refAuthor">Jacquenet, C.</span>, and <span class="refAuthor">N. Wang</span>, <span class="refTitle">"IP Connectivity Provisioning Profile (CPP)"</span>, <span class="seriesInfo">RFC 7297</span>, <span class="seriesInfo">DOI 10.17487/RFC7297</span>, <time datetime="2014-07" class="refDate">July 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7297">https://www.rfc-editor.org/info/rfc7297</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7951">[RFC7951]</dt>
        <dd>
<span class="refAuthor">Lhotka, L.</span>, <span class="refTitle">"JSON Encoding of Data Modeled with YANG"</span>, <span class="seriesInfo">RFC 7951</span>, <span class="seriesInfo">DOI 10.17487/RFC7951</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7951">https://www.rfc-editor.org/info/rfc7951</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8309">[RFC8309]</dt>
        <dd>
<span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Liu, W.</span>, and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Service Models Explained"</span>, <span class="seriesInfo">RFC 8309</span>, <span class="seriesInfo">DOI 10.17487/RFC8309</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8309">https://www.rfc-editor.org/info/rfc8309</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8340">[RFC8340]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span> and <span class="refAuthor">L. Berger, Ed.</span>, <span class="refTitle">"YANG Tree Diagrams"</span>, <span class="seriesInfo">BCP 215</span>, <span class="seriesInfo">RFC 8340</span>, <span class="seriesInfo">DOI 10.17487/RFC8340</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8343">[RFC8343]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span>, <span class="refTitle">"A YANG Data Model for Interface Management"</span>, <span class="seriesInfo">RFC 8343</span>, <span class="seriesInfo">DOI 10.17487/RFC8343</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8343">https://www.rfc-editor.org/info/rfc8343</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8345">[RFC8345]</dt>
        <dd>
<span class="refAuthor">Clemm, A.</span>, <span class="refAuthor">Medved, J.</span>, <span class="refAuthor">Varga, R.</span>, <span class="refAuthor">Bahadur, N.</span>, <span class="refAuthor">Ananthakrishnan, H.</span>, and <span class="refAuthor">X. Liu</span>, <span class="refTitle">"A YANG Data Model for Network Topologies"</span>, <span class="seriesInfo">RFC 8345</span>, <span class="seriesInfo">DOI 10.17487/RFC8345</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8345">https://www.rfc-editor.org/info/rfc8345</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8453">[RFC8453]</dt>
        <dd>
<span class="refAuthor">Ceccarelli, D., Ed.</span> and <span class="refAuthor">Y. Lee, Ed.</span>, <span class="refTitle">"Framework for Abstraction and Control of TE Networks (ACTN)"</span>, <span class="seriesInfo">RFC 8453</span>, <span class="seriesInfo">DOI 10.17487/RFC8453</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8453">https://www.rfc-editor.org/info/rfc8453</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8519">[RFC8519]</dt>
        <dd>
<span class="refAuthor">Jethanandani, M.</span>, <span class="refAuthor">Agarwal, S.</span>, <span class="refAuthor">Huang, L.</span>, and <span class="refAuthor">D. Blair</span>, <span class="refTitle">"YANG Data Model for Network Access Control Lists (ACLs)"</span>, <span class="seriesInfo">RFC 8519</span>, <span class="seriesInfo">DOI 10.17487/RFC8519</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8519">https://www.rfc-editor.org/info/rfc8519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8584">[RFC8584]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Mohanty, S., Ed.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Nagaraj, K.</span>, and <span class="refAuthor">S. Sathappan</span>, <span class="refTitle">"Framework for Ethernet VPN Designated Forwarder Election Extensibility"</span>, <span class="seriesInfo">RFC 8584</span>, <span class="seriesInfo">DOI 10.17487/RFC8584</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8584">https://www.rfc-editor.org/info/rfc8584</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8792">[RFC8792]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refAuthor">Auerswald, E.</span>, <span class="refAuthor">Farrel, A.</span>, and <span class="refAuthor">Q. Wu</span>, <span class="refTitle">"Handling Long Lines in Content of Internet-Drafts and RFCs"</span>, <span class="seriesInfo">RFC 8792</span>, <span class="seriesInfo">DOI 10.17487/RFC8792</span>, <time datetime="2020-06" class="refDate">June 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8792">https://www.rfc-editor.org/info/rfc8792</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8960">[RFC8960]</dt>
        <dd>
<span class="refAuthor">Saad, T.</span>, <span class="refAuthor">Raza, K.</span>, <span class="refAuthor">Gandhi, R.</span>, <span class="refAuthor">Liu, X.</span>, and <span class="refAuthor">V. Beeram</span>, <span class="refTitle">"A YANG Data Model for MPLS Base"</span>, <span class="seriesInfo">RFC 8960</span>, <span class="seriesInfo">DOI 10.17487/RFC8960</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8960">https://www.rfc-editor.org/info/rfc8960</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8969">[RFC8969]</dt>
      <dd>
<span class="refAuthor">Wu, Q., Ed.</span>, <span class="refAuthor">Boucadair, M., Ed.</span>, <span class="refAuthor">Lopez, D.</span>, <span class="refAuthor">Xie, C.</span>, and <span class="refAuthor">L. Geng</span>, <span class="refTitle">"A Framework for Automating Service and Network Management with YANG"</span>, <span class="seriesInfo">RFC 8969</span>, <span class="seriesInfo">DOI 10.17487/RFC8969</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8969">https://www.rfc-editor.org/info/rfc8969</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="examples">
<section id="appendix-A">
      <h2 id="name-examples">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
      </h2>
<p id="appendix-A-1">This section includes a non-exhaustive list of examples to illustrate
      the use of the L2NM.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">In the following subsections, only the content of the message bodies
      is shown using JSON notations <span>[<a href="#RFC7951" class="xref">RFC7951</a>]</span>.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">The examples use the folding defined in <span>[<a href="#RFC8792" class="xref">RFC8792</a>]</span> for long lines.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<div id="ex1">
<section id="appendix-A.1">
        <h3 id="name-bgp-based-vpls">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-bgp-based-vpls" class="section-name selfRef">BGP-based VPLS</a>
        </h3>
<p id="appendix-A.1-1">This section provides an example to illustrate how the L2NM can be
        used to mange BGP-based VPLS. We consider the sample VPLS service
        delivered using the architecture depicted in <a href="#vpls-ex" class="xref">Figure 23</a>. In accordance with <span>[<a href="#RFC4761" class="xref">RFC4761</a>]</span>, we assume that a full mesh is established
        between all PEs. The details about such full mesh are not detailed
        here.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<span id="name-an-example-of-vpls"></span><div id="vpls-ex">
<figure id="figure-23">
          <div class="alignLeft art-text artwork" id="appendix-A.1-2.1">
<pre>

                   +-----+      +--------------+   +-----+
      +----+       | PE1 |======|              |===| PE3 |       +----+
      | CE1+-------+     |      |              |   |     +-------+ CE3|
      +----+       +-----+      |              |   +-----+       +----+
                                |     Core     |
      +----+       +-----+      |              |   +-----+       +----+
      |CE2 +-------+     |      |              |   |     +-------+ CE4|
      +----+       | PE2 |======|              |===| PE4 |       +----+
                   +-----+      +--------------+   +-----+
</pre>
</div>
<figcaption><a href="#figure-23" class="selfRef">Figure 23</a>:
<a href="#name-an-example-of-vpls" class="selfRef">An Example of VPLS</a>
          </figcaption></figure>
</div>
<p id="appendix-A.1-3"><a href="#l2nm-vpls" class="xref">Figure 24</a> show an example of a
        message body used to configured a VPLS instance using the L2NM. In
        this example, BGP is used for both auto-discovery and signaling. The
        'signaling-type' data node is set to 'vpn-common:bgp-signaling'.<a href="#appendix-A.1-3" class="pilcrow">¶</a></p>
<span id="name-example-of-l2nm-message-bod"></span><div id="l2nm-vpls">
<figure id="figure-24">
          <div class="alignLeft art-text artwork" id="appendix-A.1-4.1">
<pre>=============== NOTE: '\' line wrapping per RFC 8792 ================

{
  "ietf-l2vpn-ntw:l2vpn-ntw": {
    "vpn-services": {
      "vpn-service": [
        {
          "vpn-id": "vpls7714825356",
          "vpn-description": "Sample BGP-based VPLS",
          "customer-name": "customer-7714825356",
          "vpn-type": "ietf-vpn-common:vpls",
          "bgp-ad-enabled": true,
          "signaling-type": "ietf-vpn-common:bgp-signaling",
          "global-parameters-profiles": {
            "global-parameters-profile": [
              {
                "profile-id": "simple-profile",
                "local-autonomous-system": 65535,
                "svc-mtu": 1518,
                "rd-suffix": 1,
                "vpn-target": [
                  {
                    "id": 1,
                    "route-targets": [
                      {
                        "route-target": "0:65535:1"
                      }
                    ],
                    "route-target-type": "both"
                  }
                ]
              }
            ]
          },
          "vpn-nodes": {
            "vpn-node": [
              {
                "vpn-node-id": "pe1",
                "ne-id": "198.51.100.1",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "bgp-auto-discovery": {
                  "vpn-id": "1"
                },
                "signaling-option": {
                  "pw-encapsulation-type": "iana-bgp-l2-encaps:ethernet\
-tagged-mode",
                  "vpls-instance": {
                    "vpls-edge-id": 1,
                    "vpls-edge-id-range": 100
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE1",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      }
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe2",
                "ne-id": "198.51.100.2",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "bgp-auto-discovery": {
                  "vpn-id": "1"
                },
                "signaling-option": {
                  "pw-encapsulation-type": "iana-bgp-l2-encaps:ethernet\
-tagged-mode",
                  "vpls-instance": {
                    "vpls-edge-id": 2,
                    "vpls-edge-id-range": 100
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE2",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      }
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe3",
                "ne-id": "198.51.100.3",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "bgp-auto-discovery": {
                  "vpn-id": "1"
                },
                "signaling-option": {
                  "pw-encapsulation-type": "iana-bgp-l2-encaps:ethernet\
-tagged-mode",
                  "vpls-instance": {
                    "vpls-edge-id": 3,
                    "vpls-edge-id-range": 100
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE3",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      }
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe4",
                "ne-id": "198.51.100.4",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "bgp-auto-discovery": {
                  "vpn-id": "1"
                },
                "signaling-option": {
                  "pw-encapsulation-type": "iana-bgp-l2-encaps:ethernet\
-tagged-mode",
                  "vpls-instance": {
                    "vpls-edge-id": 4,
                    "vpls-edge-id-range": 100
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE4",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-24" class="selfRef">Figure 24</a>:
<a href="#name-example-of-l2nm-message-bod" class="selfRef">Example of L2NM Message Body to Configure a BGP-based VPLS</a>
          </figcaption></figure>
</div>
<p id="appendix-A.1-5"></p>
</section>
</div>
<div id="ex2">
<section id="appendix-A.2">
        <h3 id="name-bgp-based-vpws-with-ldp-sig">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-bgp-based-vpws-with-ldp-sig" class="section-name selfRef">BGP-based VPWS with LDP Signaling</a>
        </h3>
<p id="appendix-A.2-1">Let's consider the simple architecture depicted in <a href="#vpws-ex" class="xref">Figure 25</a> to offer a VPWS between CE1 and CE2. The
        service uses BGP for auto-discovery and LDP for signaling.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<span id="name-an-example-of-vpls-2"></span><div id="vpws-ex">
<figure id="figure-25">
          <div class="alignLeft art-text artwork" id="appendix-A.2-2.1">
<pre>
                   +-----+      +--------------+   +-----+
      +----+       | PE1 |======|              |===| PE2 |       +----+
      | CE1+-------+     |      |     Core     |   |     +-------+ CE2|
      +----+       +-----+      +--------------+   +-----+       +----+
             site1                                          site2</pre>
</div>
<figcaption><a href="#figure-25" class="selfRef">Figure 25</a>:
<a href="#name-an-example-of-vpls-2" class="selfRef">An Example of VPLS</a>
          </figcaption></figure>
</div>
<span id="name-example-of-l2nm-message-body"></span><div id="l2nm-vpws-ex">
<figure id="figure-26">
          <div class="alignLeft art-text artwork" id="appendix-A.2-3.1">
<pre>{
  "ietf-l2vpn-ntw:l2vpn-ntw": {
    "vpn-services": {
      "vpn-service": [
        {
          "vpn-id": "vpws12345",
          "vpn-description": "Sample VPWS",
          "customer-name": "customer-12345",
          "vpn-type": "ietf-vpn-common:vpws",
          "bgp-ad-enabled": true,
          "signaling-type": "ietf-vpn-common:ldp-signaling",
          "global-parameters-profiles": {
            "global-parameters-profile": [
              {
                "profile-id": "simple-profile",
                "local-autonomous-system": 65550,
                "rd-auto": {
                  "auto": [
                    null
                  ]
                },
                "vpn-target": [
                  {
                    "id": 1,
                    "route-targets": [
                      {
                        "route-target": "0:65535:1"
                      }
                    ],
                    "route-target-type": "both"
                  }
                ]
              }
            ]
          },
          "vpn-nodes": {
            "vpn-node": [
              {
                "vpn-node-id": "pe1",
                "ne-id": "2001:db8:100::1",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "bgp-auto-discovery": {
                  "vpn-id": "587"
                },
                "signaling-option": {
                  "advertise-mtu": true,
                  "ldp-or-l2tp": {
                    "saii": 1,
                    "remote-targets": [
                      {
                        "taii": 2
                      }
                    ],
                    "pw-type": "ethernet"
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE1",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      }
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe2",
                "ne-id": "2001:db8:200::1",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "bgp-auto-discovery": {
                  "vpn-id": "587"
                },
                "signaling-option": {
                  "advertise-mtu": true,
                  "ldp-or-l2tp": {
                    "saii": 2,
                    "remote-targets": [
                      {
                        "taii": 1
                      }
                    ],
                    "pw-type": "ethernet"
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "5/1/1.1",
                      "interface-id": "5/1/1",
                      "description": "Interface to CE2",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-26" class="selfRef">Figure 26</a>:
<a href="#name-example-of-l2nm-message-body" class="selfRef">Example of L2NM Message Body to Configure a BGP-based VPWS with LDP Signaling</a>
          </figcaption></figure>
</div>
<p id="appendix-A.2-4"></p>
</section>
</div>
<div id="ex3">
<section id="appendix-A.3">
        <h3 id="name-ldp-based-vpls">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-ldp-based-vpls" class="section-name selfRef">LDP-based VPLS</a>
        </h3>
<p id="appendix-A.3-1">This section provides an example to illustrate how the L2NM can be
        used to manage a VPLS with LDP signaling. The connectivity between the
        CE and the PE is direct using Dot1q encapsulation. We consider the
        sample service delivered using the architecture depicted in <a href="#vpls-ldp-ex" class="xref">Figure 27</a>.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<span id="name-an-example-of-vpls-topology"></span><div id="vpls-ldp-ex">
<figure id="figure-27">
          <div class="alignLeft art-text artwork" id="appendix-A.3-2.1">
<pre>
                  +-----------  VPLS "1543" ------------+

                  +-----+      +--------------+   +-----+
      +----+      | PE1 |======|              |===| PE2 |       +----+
      | CE1 +-----+"450"|      |     MPLS     |   |"451"+-------+ CE2|
      +----+      +-----+      |              |   +-----+       +----+
                               |     Core     |
                               +--------------+
</pre>
</div>
<figcaption><a href="#figure-27" class="selfRef">Figure 27</a>:
<a href="#name-an-example-of-vpls-topology" class="selfRef">An Example of VPLS topology</a>
          </figcaption></figure>
</div>
<p id="appendix-A.3-3"><a href="#vpls-ldp-call" class="xref">Figure 28</a> shows how the L2NM is used to
        instruct both PE1 and PE2 to use the targeted LDP session between them
        to establish the VPLS "1543" between the ends. A single VPN service is
        created for this purpose. Additionally, two VPN Nodes and each with a
        corresponding VPN network access is also created.<a href="#appendix-A.3-3" class="pilcrow">¶</a></p>
<span id="name-example-of-l2nm-message-body-"></span><div id="vpls-ldp-call">
<figure id="figure-28">
          <div class="alignCenter art-text artwork" id="appendix-A.3-4.1">
<pre>=============== NOTE: '\' line wrapping per RFC 8792 ================

{
  "ietf-l2vpn-ntw:l2vpn-ntw": {
    "vpn-services": {
      "vpn-service": [
        {
          "vpn-id": "450",
          "vpn-name": "CORPO-EXAMPLE",
          "vpn-description": "SEDE_CENTRO_450",
          "customer-name": "EXAMPLE",
          "vpn-type": "ietf-vpn-common:vpls",
          "vpn-service-topology": "ietf-vpn-common:hub-spoke",
          "bgp-ad-enabled": false,
          "signaling-type": "ietf-vpn-common:ldp-signaling",
          "global-parameters-profiles": {
            "global-parameters-profile": [
              {
                "profile-id": "simple-profile",
                "ce-vlan-preservation": true,
                "ce-vlan-cos-preservation": true
              }
            ]
          },
          "vpn-nodes": {
            "vpn-node": [
              {
                "vpn-node-id": "450",
                "description": "SEDE_CENTRO_450",
                "ne-id": "2001:db8:5::1",
                "role": "ietf-vpn-common:hub-role",
                "status": {
                  "admin-status": {
                    "status": "ietf-vpn-common:admin-up"
                  }
                },
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "signaling-option": {
                  "ldp-or-l2tp": {
                    "t-ldp-pw-type": "vpls-type",
                    "pw-peer-list": [
                      {
                        "peer-addr": "2001:db8:50::1",
                        "vc-id": "1543"
                      }
                    ]
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "4508671287",
                      "description": "VPN_450_SNA",
                      "interface-id": "gigabithethernet0/0/1",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "l2-termination-point": "550",
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "tag-type": "ietf-vpn-common:c-vlan",
                            "cvlan-id": 550
                          }
                        }
                      },
                      "service": {
                        "mtu": 1550,
                        "svc-inbound-bandwidth": {
                          "inbound-bandwidth": [
                            {
                              "bw-type": "ietf-vpn-common:bw-per-\
service",
                              "cir": "20480000"
                            }
                          ]
                        },
                        "svc-outbound-bandwidth": {
                          "outbound-bandwidth": [
                            {
                              "bw-type": "ietf-vpn-common:bw-per-port",
                              "cir": "20480000"
                            }
                          ]
                        },
                        "qos": {
                          "qos-profile": {
                            "qos-profile": [
                              {
                                "profile": "QoS_Profile_A",
                                "direction": "ietf-vpn-common:both"
                              }
                            ]
                          }
                        }
                      }
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "451",
                "description": "SEDE_CHAPINERO_451",
                "ne-id": "2001:db8:50::1",
                "role": "ietf-vpn-common:spoke-role",
                "status": {
                  "admin-status": {
                    "status": "ietf-vpn-common:admin-up"
                  }
                },
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "signaling-option": {
                  "ldp-or-l2tp": {
                    "t-ldp-pw-type": "vpls-type",
                    "pw-peer-list": [
                      {
                        "peer-addr": "2001:db8:5::1",
                        "vc-id": "1543"
                      }
                    ]
                  }
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "4508671288",
                      "description": "VPN_450_SNA",
                      "interface-id": "gigabithethernet0/0/1",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "l2-termination-point": "550",
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "tag-type": "ietf-vpn-common:c-vlan",
                            "cvlan-id": 550
                          }
                        }
                      },
                      "service": {
                        "mtu": 1550,
                        "svc-inbound-bandwidth": {
                          "inbound-bandwidth": [
                            {
                              "bw-type": "ietf-vpn-common:bw-per-\
service",
                              "cir": "20480000"
                            }
                          ]
                        },
                        "svc-outbound-bandwidth": {
                          "outbound-bandwidth": [
                            {
                              "bw-type": "ietf-vpn-common:bw-per-port",
                              "cir": "20480000"
                            }
                          ]
                        },
                        "qos": {
                          "qos-profile": {
                            "qos-profile": [
                              {
                                "profile": "QoS_Profile_A",
                                "direction": "ietf-vpn-common:both"
                              }
                            ]
                          }
                        }
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-28" class="selfRef">Figure 28</a>:
<a href="#name-example-of-l2nm-message-body-" class="selfRef">Example of L2NM Message Body for LDP-based VPLS</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="evpn-vpws-app">
<section id="appendix-A.4">
        <h3 id="name-vpws-evpn-service-instance">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-vpws-evpn-service-instance" class="section-name selfRef">VPWS-EVPN Service Instance</a>
        </h3>
<p id="appendix-A.4-1"><a href="#vpws-evpn-ex" class="xref">Figure 29</a> depictes a sample architecture
        to offer VPWS-EVPN service between CE1 and CE2. Both CEs are
        multi-homed. BGP sessions are maintained between these PEs as per
        <span>[<a href="#RFC8214" class="xref">RFC8214</a>]</span>. In this EVPN instance, an All-Active
        redundancy mode is used.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<span id="name-an-example-of-vpws-evpn"></span><div id="vpws-evpn-ex">
<figure id="figure-29">
          <div class="alignLeft art-text artwork" id="appendix-A.4-2.1">
<pre>                   |&lt;--------- EVPN Instance -----------&gt;|
                   |                                     |
             |     V                                     V  |
             |     +-----+      +--------------+   +-----+  |
      +----+ |     | PE1 |======|              |===| PE3 |  |    +----+
      |    +-------+     |      |              |   |     +-------+    |
      |    | |     +-----+      |              |   +-----+  |    |    |
      | CE1| |                  |     Core     |            |    |CE2 |
      |    | |     +-----+      |              |   +-----+  |    |    |
      |    +-------+     |      |              |   |     +-------+    |
      +----+ |     | PE2 |======|              |===| PE4 |  |    +----+
           ^  ESI1 +-----+      +--------------+   +-----+  ESI2    ^
           |                                                        |
           |&lt;---------------- Emulated Service --------------------&gt;|</pre>
</div>
<figcaption><a href="#figure-29" class="selfRef">Figure 29</a>:
<a href="#name-an-example-of-vpws-evpn" class="selfRef">An Example of VPWS-EVPN</a>
          </figcaption></figure>
</div>
<p id="appendix-A.4-3">Let's first suppose that the following ES was created (<a href="#es1" class="xref">Figure 30</a>).<a href="#appendix-A.4-3" class="pilcrow">¶</a></p>
<span id="name-example-of-l2nm-message-body-t"></span><div id="es1">
<figure id="figure-30">
          <div class="alignLeft art-text artwork" id="appendix-A.4-4.1">
<pre>=============== NOTE: '\' line wrapping per RFC 8792 ================

{
  "ietf-ethernet-segment:ethernet-segments": {
    "ethernet-segment": [
      {
        "name": "esi1",
        "ethernet-segment-identifier": "00:11:11:11:11:11:11:\
11:11:11",
        "esi-redundancy-mode": "all-active"
      },
      {
        "name": "esi2",
        "ethernet-segment-identifier": "00:22:22:22:22:22:22:\
22:22:22",
        "esi-redundancy-mode": "all-active"
      }
    ]
  }
}</pre>
</div>
<figcaption><a href="#figure-30" class="selfRef">Figure 30</a>:
<a href="#name-example-of-l2nm-message-body-t" class="selfRef">Example of L2NM Message Body to Configure an Ethernet Segment</a>
          </figcaption></figure>
</div>
<p id="appendix-A.4-5"><a href="#vpws-evpn-ex" class="xref">Figure 29</a> shows a simplified
        configuration to illustrate the use of the L2NM to configured
        VPWS-EVPN instance.<a href="#appendix-A.4-5" class="pilcrow">¶</a></p>
<span id="name-example-of-l2nm-message-body-to"></span><div id="l2nm-vpws-evpn">
<figure id="figure-31">
          <div class="alignLeft art-text artwork" id="appendix-A.4-6.1">
<pre>{
  "ietf-l2vpn-ntw:l2vpn-ntw": {
    "vpn-services": {
      "vpn-service": [
        {
          "vpn-id": "vpws15432855",
          "vpn-description": "Sample VPWS-EVPN",
          "customer-name": "customer_15432855",
          "vpn-type": "ietf-vpn-common:vpws-evpn",
          "bgp-ad-enabled": true,
          "signaling-type": "ietf-vpn-common:bgp-signaling",
          "global-parameters-profiles": {
            "global-parameters-profile": [
              {
                "profile-id": "simple-profile",
                "local-autonomous-system": 65535,
                "rd-suffix": 1,
                "vpn-target": [
                  {
                    "id": 1,
                    "route-targets": [
                      {
                        "route-target": "0:65535:1"
                      }
                    ],
                    "route-target-type": "both"
                  }
                ]
              }
            ]
          },
          "vpn-nodes": {
            "vpn-node": [
              {
                "vpn-node-id": "pe1",
                "ne-id": "198.51.100.1",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE1",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      },
                      "vpws-service-instance": {
                        "local-vpws-service-instance": 1111,
                        "remote-vpws-service-instance": 1112
                      },
                      "group": [
                        {
                          "group-id": "gr1",
                          "ethernet-segment-identifier": "esi1"
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe2",
                "ne-id": "198.51.100.2",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE1",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      },
                      "vpws-service-instance": {
                        "local-vpws-service-instance": 1111,
                        "remote-vpws-service-instance": 1112
                      },
                      "group": [
                        {
                          "group-id": "gr1",
                          "ethernet-segment-identifier": "esi1"
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe3",
                "ne-id": "198.51.100.3",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE2",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      },
                      "vpws-service-instance": {
                        "local-vpws-service-instance": 1112,
                        "remote-vpws-service-instance": 1111
                      },
                      "group": [
                        {
                          "group-id": "gr1",
                          "ethernet-segment-identifier": "esi2"
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe4",
                "ne-id": "198.51.100.4",
                "active-global-parameters-profiles": {
                  "global-parameters-profile": [
                    {
                      "profile-id": "simple-profile"
                    }
                  ]
                },
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE2",
                      "global-parameters-profile": "simple-profile",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "encapsulation": {
                          "encap-type": "ietf-vpn-common:dot1q",
                          "dot1q": {
                            "cvlan-id": 1
                          }
                        }
                      },
                      "vpws-service-instance": {
                        "local-vpws-service-instance": 1112,
                        "remote-vpws-service-instance": 1111
                      },
                      "group": [
                        {
                          "group-id": "gr1",
                          "ethernet-segment-identifier": "esi2"
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-31" class="selfRef">Figure 31</a>:
<a href="#name-example-of-l2nm-message-body-to" class="selfRef">Example of L2NM Message Body to Configure a VPWS-EVPN Instance</a>
          </figcaption></figure>
</div>
<p id="appendix-A.4-7"></p>
</section>
</div>
<div id="auto-ex">
<section id="appendix-A.5">
        <h3 id="name-automatic-esi-assignment">
<a href="#appendix-A.5" class="section-number selfRef">A.5. </a><a href="#name-automatic-esi-assignment" class="section-name selfRef">Automatic ESI Assignment</a>
        </h3>
<p id="appendix-A.5-1">This section provides an example to illustrate how the L2NM can be
        used to manage ESI auto-assignment. We consider the sample EVPN
        service delivered using the architecture depicted in <a href="#auto-esi-ex" class="xref">Figure 32</a>.<a href="#appendix-A.5-1" class="pilcrow">¶</a></p>
<span id="name-an-example-of-automatic-esi"></span><div id="auto-esi-ex">
<figure id="figure-32">
          <div class="alignLeft art-text artwork" id="appendix-A.5-2.1">
<pre>
             ES
             |     +-----+      +--------------+   +-----+
      +----+ |     | PE1 |======|              |===| PE3 |       +----+
      |    +-------+     |      |              |   |     +-------+ CE3|
      |    | |     +-----+      |              |   +-----+       +----+
      | CE1| |                  |     Core     |
      |    | |     +-----+      |              |   +-----+       +----+
      |    +-------+     |      |              |   |     +-------+ CE2|
      +----+ |     | PE2 |======|              |===| PE4 |       +----+
           LACP    +-----+      +--------------+   +-----+
</pre>
</div>
<figcaption><a href="#figure-32" class="selfRef">Figure 32</a>:
<a href="#name-an-example-of-automatic-esi" class="selfRef">An Example of Automatic ESI Assignment</a>
          </figcaption></figure>
</div>
<p id="appendix-A.5-3"><a href="#es2" class="xref">Figure 33</a> and <a href="#auto-lacp" class="xref">Figure 34</a>
        show how the L2NM is used to instruct both PE1 and PE2 to auto-assign
        the ESI to identify the ES used with CE1. In this example, we suppose
        that LACP is enabled and that a Type 1 (T=0x01) is used as per Section
        5 of <span>[<a href="#RFC7432" class="xref">RFC7432</a>]</span>. Note that this example does not
        include all the details to configure the EVPN service, but focuses
        only on the ESI management part.<a href="#appendix-A.5-3" class="pilcrow">¶</a></p>
<span id="name-example-of-l2nm-message-body-to-"></span><div id="es2">
<figure id="figure-33">
          <div class="alignLeft art-text artwork" id="appendix-A.5-4.1">
<pre>{
  "ietf-ethernet-segment:ethernet-segments": {
    "ethernet-segment": [
      {
        "name": "esi1",
        "esi-type": "esi-type-1",
        "esi-redundancy-mode": "all-active"
      }
    ]
  }
}</pre>
</div>
<figcaption><a href="#figure-33" class="selfRef">Figure 33</a>:
<a href="#name-example-of-l2nm-message-body-to-" class="selfRef">Example of L2NM Message Body to Auto-Assign Ethernet Segment Identifiers</a>
          </figcaption></figure>
</div>
<span id="name-an-example-of-l2nm-message-"></span><div id="auto-lacp">
<figure id="figure-34">
          <div class="alignLeft art-text artwork" id="appendix-A.5-5.1">
<pre>{
  "ietf-l2vpn-ntw:l2vpn-ntw": {
    "ietf-l2vpn-ntw:vpn-services": {
      "vpn-service": [
        {
          "vpn-id": "auto-esi-lacp",
          "vpn-description": "Sample to illustrate auto-ESI",
          "vpn-type": "ietf-vpn-common:vpws-evpn",
          "vpn-nodes": {
            "vpn-node": [
              {
                "vpn-node-id": "pe1",
                "ne-id": "198.51.100.1",
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "1/1/1.1",
                      "interface-id": "1/1/1",
                      "description": "Interface to CE1",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "lag-interface": {
                          "lag-interface-id": "1",
                          "lacp": {
                            "lacp-state": true,
                            "system-id": "11:00:11:00:11:11",
                            "admin-key": 154
                          }
                        }
                      },
                      "group": [
                        {
                          "group-id": "gr1",
                          "ethernet-segment-identifier": "esi1"
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "vpn-node-id": "pe2",
                "ne-id": "198.51.100.2",
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "2/2/2.5",
                      "interface-id": "2/2/2",
                      "description": "Interface to CE1",
                      "status": {
                        "admin-status": {
                          "status": "ietf-vpn-common:admin-up"
                        }
                      },
                      "connection": {
                        "lag-interface": {
                          "lag-interface-id": "1",
                          "lacp": {
                            "lacp-state": true,
                            "system-id": "11:00:11:00:11:11",
                            "admin-key": 154
                          }
                        }
                      },
                      "group": [
                        {
                          "group-id": "gr1",
                          "ethernet-segment-identifier": "esi1"
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-34" class="selfRef">Figure 34</a>:
<a href="#name-an-example-of-l2nm-message-" class="selfRef">An Example of L2NM Message Body for ESI Auto-Assignment</a>
          </figcaption></figure>
</div>
<p id="appendix-A.5-6">The auto-assigned ESI can be retrieved using, e.g., a GET RESTCONF
        method. The assigned value will be then returned as shown in the
        'esi-auto' data node in <a href="#auto-lacp-response" class="xref">Figure 35</a>.<a href="#appendix-A.5-6" class="pilcrow">¶</a></p>
<span id="name-an-example-of-l2nm-message-b"></span><div id="auto-lacp-response">
<figure id="figure-35">
          <div class="alignLeft art-text artwork" id="appendix-A.5-7.1">
<pre>=============== NOTE: '\' line wrapping per RFC 8792 ================

{
  "ietf-ethernet-segment:ethernet-segments": {
    "ethernet-segment": [
      {
        "name": "esi1",
        "ethernet-segment-identifier": "esi-type-1",
        "esi-auto": {
          "auto-ethernet-segment-identifier": "01:11:00:11:00:11:\
11:9A:00:00"
        },
        "esi-redundancy-mode": "all-active"
      }
    ]
  }
}
</pre>
</div>
<figcaption><a href="#figure-35" class="selfRef">Figure 35</a>:
<a href="#name-an-example-of-l2nm-message-b" class="selfRef">An Example of L2NM Message Body to Retrieve the Assigned ESI</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="prec-example">
<section id="appendix-A.6">
        <h3 id="name-vpn-network-access-preceden">
<a href="#appendix-A.6" class="section-number selfRef">A.6. </a><a href="#name-vpn-network-access-preceden" class="section-name selfRef">VPN Network Access Precedence</a>
        </h3>
<p id="appendix-A.6-1">In reference to the example depicted in <a href="#p1" class="xref">Figure 36</a>,
        an L2VPN service involves two VPN network accesses to sites that
        belong to the same customer.<a href="#appendix-A.6-1" class="pilcrow">¶</a></p>
<span id="name-example-of-multiple-vpn-net"></span><div id="p1">
<figure id="figure-36">
          <div class="alignLeft art-text artwork" id="appendix-A.6-2.1">
<pre>+--------------+
|VPN-NODE      |
|           +--+-------+
|           | NET-ACC-1| Primary
|           |          +------------------
|           +--+-------+
|              |
|           +--+-------+
|           | NET-ACC-2| Secondary
|           |          +------------------
|           +--+-------+
|              |
+--------------+
</pre>
</div>
<figcaption><a href="#figure-36" class="selfRef">Figure 36</a>:
<a href="#name-example-of-multiple-vpn-net" class="selfRef">Example of Multiple VPN Network Accesses</a>
          </figcaption></figure>
</div>
<p id="appendix-A.6-3">In order to tag one of these VPN network accesses as
        "primary" and the other one as "secondary", <a href="#p2" class="xref">Figure 37</a>
        shows an excerpt of the corresponding L2NM configuration. In such as
        configuration, both accesses are bound to the same "group-id" and the
        "precedence" data node set as function of the intended role of each
        access (primary or secondary).<a href="#appendix-A.6-3" class="pilcrow">¶</a></p>
<span id="name-example-of-message-body-to-"></span><div id="p2">
<figure id="figure-37">
          <div class="alignLeft art-text artwork" id="appendix-A.6-4.1">
<pre>{
  "ietf-l2vpn-ntw:l2vpn-ntw": {
    "vpn-services": {
      "vpn-service": [
        {
          "vpn-id": "Sample-Service",
          "vpn-nodes": {
            "vpn-node": [
              {
                "vpn-node-id": "VPN-NODE",
                "vpn-network-accesses": {
                  "vpn-network-access": [
                    {
                      "id": "NET-ACC-1",
                      "connection": {
                        "bearer-reference": "br1"
                      },
                      "group": [
                        {
                          "group-id": "1",
                          "precedence": "primary"
                        }
                      ]
                    },
                    {
                      "id": "NET-ACC-2",
                      "connection": {
                        "bearer-reference": "br2"
                      },
                      "group": [
                        {
                          "group-id": "1",
                          "precedence": "secondary"
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  }
}</pre>
</div>
<figcaption><a href="#figure-37" class="selfRef">Figure 37</a>:
<a href="#name-example-of-message-body-to-" class="selfRef">Example of Message Body to Associate Priority Levels with VPN Network Accesses</a>
          </figcaption></figure>
</div>
<p id="appendix-A.6-5"></p>
</section>
</div>
</section>
</div>
<div id="bet">
<section id="appendix-B">
      <h2 id="name-initial-bgp-layer-2-encapsu">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-initial-bgp-layer-2-encapsu" class="section-name selfRef">Initial BGP Layer 2 Encapsulation Types</a>
      </h2>
<div class="alignCenter art-text artwork" id="appendix-B-1">
<pre>Value Description                       Reference
===== ================================  =========
1     Frame Relay                       [RFC4446]
2     ATM AAL5 SDU VCC transport        [RFC4446]
3     ATM transparent cell transport    [RFC4816]
4     Ethernet (VLAN) Tagged Mode       [RFC4448]
5     Ethernet Raw Mode                 [RFC4448]
6     Cisco HDLC                        [RFC4618]
7     PPP                               [RFC4618]
8     SONET/SDH Circuit Emulation       [RFC4842]
      Service
9     ATM n-to-one VCC cell transport   [RFC4717]
10    ATM n-to-one VPC cell transport   [RFC4717]
11    IP Layer 2 Transport              [RFC3032]
15    Frame Relay Port mode             [RFC4619]
17    Structure-agnostic E1 over packet [RFC4553]
18    Structure-agnostic T1 (DS1) over  [RFC4553]
      packet
19    VPLS                              [RFC4761]
20    Structure-agnostic T3 (DS3) over  [RFC4553]
      packet
21    Nx64kbit/s Basic Service using    [RFC5086]
      Structure-aware
25    Frame Relay DLCI                  [RFC4619]
40    Structure-agnostic E3 over packet [RFC4553]
41    Octet-aligned payload for         [RFC4553]
      Structure-agnostic DS1 circuits
42    E1 Nx64kbit/s with CAS using      [RFC5086]
      Structure-aware
43    DS1 (ESF) Nx64kbit/s with CAS     [RFC5086]
      using Structure-aware
44    DS1 (SF) Nx64kbit/s with CAS      [RFC5086]
      using Structure-aware</pre><a href="#appendix-B-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pwt">
<section id="appendix-C">
      <h2 id="name-initial-pw-types">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-initial-pw-types" class="section-name selfRef">Initial PW Types</a>
      </h2>
<div class="alignCenter art-text artwork" id="appendix-C-1">
<pre>PW Type Description                       Reference
======= ================================  =========
0x0001  Frame Relay DLCI                  [RFC4619]
0x0002  ATM AAL5 SDU VCC transport
0x0003  ATM transparent cell transport    [RFC4717]
0x0004  Ethernet Tagged Mode              [RFC4448]
0x0005  Ethernet                          [RFC4448]
0x0006  HDLC                              [RFC4618]
0x0007  PPP                               [RFC4618]
0x0008  SONET/SDH Circuit Emulation
        Service Over MPLS Encapsulation   [RFC5143]
0x0009  ATM n-to-one VCC cell transport   [RFC4717]
0x000A  ATM n-to-one VPC cell transport   [RFC4717]
0x000B  IP Layer2 Transport               [RFC3032]
0x000C  ATM one-to-one VCC Cell Mode      [RFC4717]
0x000D  ATM one-to-one VPC Cell Mode      [RFC4717]
0x000E  ATM AAL5 PDU VCC transport        [RFC4717]
0x000F  Frame-Relay Port mode             [RFC4619]
0x0010  SONET/SDH Circuit Emulation       [RFC4842]
        Reference Packet
0x0011  Structure-agnostic E1 over        [RFC4553]
        Packet
0x0012  Structure-agnostic T1 (DS1)       [RFC4553]
        over Packet
0x0013  Structure-agnostic E3 over        [RFC4553]
        Packet
0x0014  Structure-agnostic T3 (DS3)       [RFC4553]
        over Packet
0x0015  CESoPSN basic mode                [RFC5086]
0x0016  TDMoIP AAL1 Mode                  [RFC5087]
0x0017  CESoPSN TDM with CAS              [RFC5086]
0x0018  TDMoIP AAL2 Mode                  [RFC5087]
0x0019  Frame Relay DLCI                  [RFC4619]
0x001A  ROHC Transport Header-compressed  [RFC5795][RFC4901]
        Packets
0x001B  ECRTP Transport Header-compressed [RFC3545][RFC4901]
        Packets
0x001C  IPHC Transport Header-compressed  [RFC2507][RFC4901]
        Packets
0x001D  cRTP Transport Header-compressed  [RFC2508][RFC4901]
        Packets
0x001E  ATM VP Virtual Trunk
0x001F  FC Port Mode                      [RFC6307]
0x7FFF  Wildcard                          [RFC4863]</pre><a href="#appendix-C-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="appendix-D">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-D-1">During the discussions of this work, helpful comments, suggestions,
      and reviews were received from: Sergio Belotti, Italo Busi, Miguel Cros
      Cecilia, Joe Clarke, Dhruv Dhody, Adrian Farrel, Roque Gagliano,
      Christian Jacquenet, Kireeti Kompella, Julian Lucek, Moti Morgenstern,
      Erez Segev, and Tom Petch. Many thanks to them.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<p id="appendix-D-2">Luay Jalil, Jichun Ma, Daniel King, and Zhang Guiyu contributed to an
      early version of this document.<a href="#appendix-D-2" class="pilcrow">¶</a></p>
<p id="appendix-D-3">Thanks to Yingzhen Qu for the rtgdir review, Ladislav Lhotka for the
      yangdoctors review, and Chris Lonvick for the secdir review. A YANG module for Ethernet segments was first defined
      in the context of the EVPN device module <span>[<a href="#I-D.ietf-bess-evpn-yang" class="xref">I-D.ietf-bess-evpn-yang</a>]</span>.<a href="#appendix-D-3" class="pilcrow">¶</a></p>
<p id="appendix-D-4">This work is partially supported by the European Commission under
      Horizon 2020 grant agreement number 101015857 Secured autonomic traffic
      management for a Tera of SDN flows (Teraflow).<a href="#appendix-D-4" class="pilcrow">¶</a></p>
</section>
<section id="appendix-E">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<div class="alignLeft art-text artwork" id="appendix-E-1">
<pre>Victor Lopez
Nokia
Email: victor.lopez@nokia.com

Qin Wu
Huawei
Email: bill.wu@huawei.com

Raul Arco
Nokia
Email: raul.arco@nokia.com</pre><a href="#appendix-E-1" class="pilcrow">¶</a>
</div>
<p id="appendix-E-2"></p>
<p id="appendix-E-3"></p>
</section>
<div id="authors-addresses">
<section id="appendix-F">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Samier Barguil</span></div>
<div dir="auto" class="left"><span class="org">Telefonica</span></div>
<div dir="auto" class="left">
<span class="locality">Madrid</span> </div>
<div dir="auto" class="left"><span class="country-name">Spain</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:samier.barguilgiraldo.ext@telefonica.com" class="email">samier.barguilgiraldo.ext@telefonica.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Oscar Gonzalez de Dios (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Telefonica</span></div>
<div dir="auto" class="left">
<span class="locality">Madrid</span> </div>
<div dir="auto" class="left"><span class="country-name">Spain</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:oscar.gonzalezdedios@telefonica.com" class="email">oscar.gonzalezdedios@telefonica.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mohamed Boucadair (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left"><span class="locality">Rennes</span></div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mohamed.boucadair@orange.com" class="email">mohamed.boucadair@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Luis Angel Munoz</span></div>
<div dir="auto" class="left"><span class="org">Vodafone</span></div>
<div dir="auto" class="left"><span class="country-name">Spain</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:luis-angel.munoz@vodafone.com" class="email">luis-angel.munoz@vodafone.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
