<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Flow Aware Transport of Pseudowires over an MPLS Packet Switched Network</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 ECMP in Label Switching Routers">
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Flow Label">
<link href="#rfc.section.2" rel="Chapter" title="2 Native Service Processing Function">
<link href="#rfc.section.3" rel="Chapter" title="3 Pseudowire Forwarder">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Encapsulation ">
<link href="#rfc.section.4" rel="Chapter" title="4 Signaling the Presence of the Flow Label">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Structure of Flow Label Sub-TLV">
<link href="#rfc.section.5" rel="Chapter" title="5 Static Pseudowires">
<link href="#rfc.section.6" rel="Chapter" title="6 Multi-Segment Pseudowires">
<link href="#rfc.section.7" rel="Chapter" title="7 OAM">
<link href="#rfc.section.8" rel="Chapter" title="8 Applicability of PWs using Flow Labels">
<link href="#rfc.section.8.1" rel="Chapter" title="8.1 Equal Cost Multiple Paths">
<link href="#rfc.section.8.2" rel="Chapter" title="8.2 Link Aggregation Groups">
<link href="#rfc.section.8.3" rel="Chapter" title="8.3 Multiple RSVP-TE Paths">
<link href="#rfc.section.8.4" rel="Chapter" title="8.4 The Single Large Flow Case">
<link href="#rfc.section.8.5" rel="Chapter" title="8.5 Applicability to MPLS-TP ">
<link href="#rfc.section.8.6" rel="Chapter" title="8.6 Asymmetric Operation">
<link href="#rfc.section.9" rel="Chapter" title="9 Applicability to MPLS LSPs">
<link href="#rfc.section.10" rel="Chapter" title="10 Security Considerations">
<link href="#rfc.section.11" rel="Chapter" title="11 IANA Considerations">
<link href="#rfc.section.12" rel="Chapter" title="12 Congestion Considerations">
<link href="#rfc.section.13" rel="Chapter" title="13 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="14 References">
<link href="#rfc.references.1" rel="Chapter" title="14.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="14.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Where the payload of a pseudowire comprises a number of distinct flows, it can be desirable to carry those flows over the equal cost multiple paths (ECMPs) that exist in the packet switched network. Most forwarding engines are able to generate a hash of the MPLS label stack and use this mechanism to balance MPLS flows over ECMPs." />
  <meta name="description" content="Where the payload of a pseudowire comprises a number of distinct flows, it can be desirable to carry those flows over the equal cost multiple paths (ECMPs) that exist in the packet switched network. Most forwarding engines are able to generate a hash of the MPLS label stack and use this mechanism to balance MPLS flows over ECMPs." />
  <meta name="keywords" content="pseudowire, MPLS, Internet-Draft" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">PWE3</td>
<td class="right">S. Bryant, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">C. Filsfils</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">Cisco Systems</td>
</tr>
<tr>
<td class="left">Expires: January 07, 2012</td>
<td class="right">U. Drafz</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Deutsche Telekom</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">V. Kompella</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J. Regan</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Alcatel-Lucent</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">S. Amante</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Level 3 Communications</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">July 06, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Flow Aware Transport of Pseudowires over an MPLS Packet Switched Network<br />
  <span class="filename">draft-ietf-pwe3-fat-pw-07</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Where the payload of a pseudowire comprises a number of distinct flows, it can be desirable to carry those flows over the equal cost multiple paths (ECMPs) that exist in the packet switched network. Most forwarding engines are able to generate a hash of the MPLS label stack and use this mechanism to balance MPLS flows over ECMPs.</p>
<p>This document describes a method of identifying the flows, or flow groups, within pseudowires such that Label Switching Routers can balance flows at a finer granularity than individual pseudowires. The mechanism uses an additional label in the MPLS label stack.</p>
<h1><a>Requirements Language</a></h1>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC2119</a> <cite title="NONE">[RFC2119]</cite>.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 07, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>1.1.   <a href="#rfc.section.1.1">ECMP in Label Switching Routers</a>
</li>
<li>1.2.   <a href="#rfc.section.1.2">Flow Label</a>
</li>
<li>2.   <a href="#rfc.section.2">Native Service Processing Function</a>
</li>
<li>3.   <a href="#rfc.section.3">Pseudowire Forwarder</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Encapsulation </a>
</li>
<li>4.   <a href="#rfc.section.4">Signaling the Presence of the Flow Label</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Structure of Flow Label Sub-TLV</a>
</li>
<li>5.   <a href="#rfc.section.5">Static Pseudowires</a>
</li>
<li>6.   <a href="#rfc.section.6">Multi-Segment Pseudowires</a>
</li>
<li>7.   <a href="#rfc.section.7">OAM</a>
</li>
<li>8.   <a href="#rfc.section.8">Applicability of PWs using Flow Labels</a>
</li>
<li>8.1.   <a href="#rfc.section.8.1">Equal Cost Multiple Paths</a>
</li>
<li>8.2.   <a href="#rfc.section.8.2">Link Aggregation Groups</a>
</li>
<li>8.3.   <a href="#rfc.section.8.3">Multiple RSVP-TE Paths</a>
</li>
<li>8.4.   <a href="#rfc.section.8.4">The Single Large Flow Case</a>
</li>
<li>8.5.   <a href="#rfc.section.8.5">Applicability to MPLS-TP </a>
</li>
<li>8.6.   <a href="#rfc.section.8.6">Asymmetric Operation</a>
</li>
<li>9.   <a href="#rfc.section.9">Applicability to MPLS LSPs</a>
</li>
<li>10.   <a href="#rfc.section.10">Security Considerations</a>
</li>
<li>11.   <a href="#rfc.section.11">IANA Considerations</a>
</li>
<li>12.   <a href="#rfc.section.12">Congestion Considerations</a>
</li>
<li>13.   <a href="#rfc.section.13">Acknowledgements</a>
</li>
<li>14.   <a href="#rfc.references">References</a>
</li>
<li>14.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>14.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">A pseudowire (PW) <a href="#RFC3985">[RFC3985]</a> is normally transported over one single network path, even if multiple Equal Cost Multiple Paths (ECMP) exist between the ingress and egress PW provider edge (PE) equipment<a href="#RFC4385">[RFC4385]</a> <a href="#RFC4928">[RFC4928]</a>. This is required to preserve the characteristics of the emulated service (e.g. to avoid misordering SAToP PW packets <a href="#RFC4553">[RFC4553]</a> or subjecting the packets to unusable inter-arrival times). The use of a single path to preserve order remains the default mode of operation of a PW. The new capability proposed in this document is an OPTIONAL mode which may be used when the use of ECMP is known to be beneficial (and not harmful) to the operation of the PW.</p>
<p id="rfc.section.1.p.2">Some PWs are used to transport large volumes of IP traffic between routers. One example of this is the use of an Ethernet PW to create a virtual direct link between a pair of routers. Such PWs may carry from hundreds of Mbps to Gbps of traffic. These PWs only require packet ordering to be preserved within the context of each individual transported IP flow. They do not require packet ordering to be preserved between all packets of all IP flows within the pseudowire.</p>
<p id="rfc.section.1.p.3">The ability to explicitly configure such a PW to leverage the availability of multiple ECMPs allows for better capacity planning as the statistical multiplexing of a larger number of smaller flows is more efficient than with a smaller set of larger flows.</p>
<p></p>
<p id="rfc.section.1.p.5">Typically, forwarding hardware can deduce that an IP payload is being directly carried by an MPLS label stack, and it is capable of looking at some fields in packets to construct hash buckets for conversations or flows. However, when the MPLS payload is a PW, an intermediate node has no information on the type of PW being carried in the packet. This limits the forwarder at the intermediate node to only being able to make an ECMP choice based on a hash of the MPLS label stack. In the case of a PW emulating a high bandwidth trunk, the granularity obtained by hashing the label stack is inadequate for satisfactory load-balancing. The ingress node, however, is in the special position of being able to look at the un-encapsulated packet and spread flows amongst any available ECMPs, or even any Loop-Free Alternates <a href="#RFC5286">[RFC5286]</a>.  This document defines a method to introduce granularity on the hashing of traffic running over PWs by introducing an additional label, chosen by the ingress node, and placed at the bottom of the label stack.</p>
<p id="rfc.section.1.p.6">In addition to providing an indication of the flow structure for use in ECMP forwarding decisions, the mechanism described in the document may also be used to select flows for distribution over an 802.1ad link aggregation group that has been used in an MPLS network.</p>
<p id="rfc.section.1.p.7">NOTE: Although Ethernet is frequently referenced as a use case in this RFC, the mechanisms described in this document are general mechanisms that may be applied to any PW type in which there are identifiable flows, and in which there is no requirement to preserve the order between those flows.</p>
<p></p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> ECMP in Label Switching Routers</h1>
<p id="rfc.section.1.1.p.1">Label switching routers (LSRs) commonly generate a hash of the label stack or some elements of the label stack as a method of discriminating between flows, and use this to distribute those flows over the available ECMPs that exist in the network. Since the label at the bottom of stack is usually the label most closely associated with the flow, this normally provides the greatest entropy, and hence is usually included in the hash. This document describes a method of adding an additional label stack entry (LSE) at the bottom of stack in order to facilitate the load balancing of the flows within a PW over the available ECMPs. A similar design for general MPLS use has also been proposed <a href="#I-D.kompella-mpls-entropy-label">[I-D.kompella-mpls-entropy-label]</a>, <a href="#MPLS">Section 9</a>.</p>
<p id="rfc.section.1.1.p.2">An alternative method of load balancing by creating a number of PWs and distributing the flows amongst them was considered, but was rejected because:</p>

<ul>
<li>It did not introduce as much entropy as can be introduced by adding an additional LSE.</li>
<li>It required additional PWs to be set up and maintained.</li>
</ul>
<h1 id="rfc.section.1.2">
<a href="#rfc.section.1.2">1.2.</a> Flow Label</h1>
<p id="rfc.section.1.2.p.1">An additional LSE <a href="#RFC3032">[RFC3032]</a> is interposed between the PW LSE and the control word, or if the control word is not present, between the PW LSE and the PW payload. This additional LSE is called the flow LSE and the label carried by the flow LSE is called the flow label. Indivisible flows within the PW MUST be mapped to the same flow label by the ingress PE. The flow label stimulates the correct ECMP load balancing behaviour in the packet switched network (PSN). On receipt of the PW packet at the egress PE (which knows a flow LSE is present) the flow LSE is discarded without processing.</p>
<p id="rfc.section.1.2.p.2">Note that the flow label MUST NOT be an MPLS reserved label (values in the range 0..15) <a href="#RFC3032">[RFC3032]</a>, but is otherwise unconstrained by the protocol.</p>
<p id="rfc.section.1.2.p.3">It is useful to give consideration to the choice of TTL value in the flow LSE <a href="#RFC3032">[RFC3032]</a>. The flow LSE is at the bottom of label stack, therefore, even when penultimate hop popping is employed, it will always be will preceded by the PW label on arrival at the PE. If, due to an error condition the flow LSE becomes top of stack it might be examined as if it were a normal LSE, and the packet might then be forwarded. This can be prevented by setting the flow LSE TTL to 1, thereby forcing the packet to be discarded by the forwarder.  Note that this may be a departure from considerations that apply to the general MPLS case.</p>
<p id="rfc.section.1.2.p.4">This document does not define a use for the TC bits (formerly known as the EXP bits) in the flow label. Future documents may define a use for these bits, therefore implementations conforming to this specification MUST set the TC bits to zero at the ingress and MUST ignore them at the egress.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Native Service Processing Function</h1>
<p id="rfc.section.2.p.1">The Native Service Processing (NSP) function <a href="#RFC3985">[RFC3985]</a> is a component of a PE that has knowledge of the structure of the emulated service and is able to take action on the service outside the scope of the PW. In this case it is required that the NSP in the ingress PE identify flows, or groups of flows within the service, and indicate the flow (group) identity of each packet as it is passed to the pseudowire forwarder. As an example, where the PW type is an Ethernet, the NSP might parse the ingress Ethernet traffic and consider all of the IP traffic. This traffic could then be categorised into flows by considering all traffic with the same source and destination address pair to be a single indivisible flow. Since this is an NSP function, by definition, the method used to identify a flow is outside the scope of the PW design. Similarly, since the NSP is internal to the PE, the method of flow indication to the PW forwarder is outside the scope of this document.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Pseudowire Forwarder</h1>
<p id="rfc.section.3.p.1">The PW forwarder must be provided with a method of mapping flows to load balanced paths.</p>
<p id="rfc.section.3.p.2">The forwarder must generate a label for the flow or group of flows.  How the flow label values are determined is outside the scope of this document, however the flow label allocated to a flow MUST NOT be an MPLS reserved label and SHOULD remain constant for the life of the flow. It is RECOMMENDED that the method chosen to generate the load balancing labels introduces a high degree of entropy in their values, to maximise the entropy presented to the ECMP selection mechanism in the LSRs in the PSN, and hence distribute the flows as evenly as possible over the available PSN ECMP. The forwarder at the ingress PE prepends the PW control word (if applicable), and then pushes the flow label, followed by the PW label.</p>
<p id="rfc.section.3.p.3">NOTE: Although this document does not attempt to specify any hash algorithms, it is suggested that any such algorithm should be based on the assumption that there will be a high degree of entropy in the values assigned to the load balancing labels.</p>
<p id="rfc.section.3.p.4">The forwarder at the egress PE uses the pseudowire label to identify the pseudowire. From the context associated with the pseudowire label, the egress PE can determine whether a flow LSE is present. If a flow LSE is present, it MUST be checked to determine whether it carries a reserved label. If it is a reserved label the packet is processed according to the rules associated with that reserved label, otherwise the LSE is discarded.</p>
<p id="rfc.section.3.p.5">All other PW forwarding operations are unmodified by the inclusion of the flow LSE.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Encapsulation </h1>
<p id="rfc.section.3.1.p.1">The PWE3 Protocol Stack Reference Model modified to include flow LSE is shown in <a href="#PStack">Figure 1</a> below</p>
<div id="#rfc.figure.1"></div>
<div id="#PStack"></div>
<pre>
   +-------------+                                +-------------+
   |  Emulated   |                                |  Emulated   |
   |  Ethernet   |                                |  Ethernet   |
   | (including  |         Emulated Service       | (including  |
   |  VLAN)      |&lt;==============================&gt;|  VLAN)      |
   |  Services   |                                |  Services   |
   +-------------+                                +-------------+
   |    Flow     |                                |    Flow     |
   +-------------+            Pseudowire          +-------------+
   |Demultiplexer|&lt;==============================&gt;|Demultiplexer|
   +-------------+                                +-------------+
   |    PSN      |            PSN Tunnel          |    PSN      |
   |   MPLS      |&lt;==============================&gt;|   MPLS      |
   +-------------+                                +-------------+
   |  Physical   |                                |  Physical   |
   +-----+-------+                                +-----+-------+

</pre>
<p></p>
<p></p>
<p id="rfc.section.3.1.p.3">The encapsulation of a PW with a flow LSE is shown in <a href="#Encap">Figure 2</a> below</p>
<div id="#rfc.figure.2"></div>
<div id="#Encap"></div>
<pre>

    +---------------------------+
    |                           |
    |  Payload                  |
    |                           |  n octets
    |                           |
    +---------------------------+
    |  Optional Control Word    |  4 octets   
    +---------------------------+
    |  Flow LSE                 |  4 octets 
    +---------------------------+
    |  PW LSE                   |  4 octets  
    +---------------------------+
    |  MPLS Tunnel LSE (s)      |  n*4 octets (four octets per LSE)
    +---------------------------+
   
    

</pre>
<p></p>
<p></p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Signaling the Presence of the Flow Label</h1>
<p id="rfc.section.4.p.1">When using the signalling procedures in <a href="#RFC4447">[RFC4447]</a>, a new Pseudowire Interface Parameter Sub-TLV, the Flow Label Sub-TLV (FL Sub-TLV), is used to synchronise the flow label states between the ingress and egress PEs.</p>
<p id="rfc.section.4.p.2">The absence of a FL Sub-TLV indicates that the PE is unable to process flow labels. A PE that is using PW signalling and that does not send a FL Sub-TLV MUST NOT include a flow label in the PW packet. A PE that is using PW signalling and which does not receive a FL Sub-TLV from its peer MUST NOT include a flow label in the PW packet. This preserves backwards compatibility with existing PW specifications.</p>
<p id="rfc.section.4.p.3">A PE that wishes to send a flow label in a PW packet MUST include in its label mapping message a FL Sub-TLV with T = 1 (see <a href="#FL-TLV-strut">Section 4.1</a>).</p>
<p id="rfc.section.4.p.4">A PE that is willing to receive a flow label MUST include in its label mapping message a FL Sub-TLV with R = 1 (see <a href="#FL-TLV-strut">Section 4.1</a>).</p>
<p id="rfc.section.4.p.5">A PE that receives a label mapping message a FL Sub-TLV with R = 0 MUST NOT include a flow label in the PW packet.</p>
<p id="rfc.section.4.p.6">Thus a PE sending a FL Sub-TLV with T = 1 and receiving a FL Sub-TLV with R = 1 MUST include a flow label in the PW packet. Under all other combinations of FL Sub-TLV signalling a PE MUST NOT include a flow label in the PW packet.</p>
<p id="rfc.section.4.p.7">The signalling procedures in <a href="#RFC4447">[RFC4447]</a> state that "Processing of the interface parameters should continue when unknown interface parameters are encountered, and they MUST be silently ignored." The signalling procedure described here is therefore backwards compatible with existing implementations.</p>
<p id="rfc.section.4.p.8">Note that what is signalled is the desire to include the flow LSE in the label stack. The value of the flow label is a local matter for the ingress PE, and the label value itself is not signalled.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#FL-TLV-strut" id="FL-TLV-strut">Structure of Flow Label Sub-TLV</a>
</h1>
<p id="rfc.section.4.1.p.1">The structure of the flow label TLV is shown in <a href="#FLSubTLV">Figure 3</a>.</p>
<div id="#rfc.figure.3"></div>
<div id="#FLSubTLV"></div>
<p></p>
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| FL=0x17       |    Length     |T|R|      Reserved             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
<p></p>
<p></p>
<p id="rfc.section.4.1.p.3">Where:</p>
<p></p>

<ul>
<li>FL (value 0x17) is the flow label sub-TLV identifier assigned by IANA (see<a href="#IANAsect">Section 11</a> ).</li>
<li>Length is the length of the TLV in octets and is 4.</li>
<li>When T=1 the PE is requesting the ability to send a PW packet that includes a flow label. When T=0, the PE is indicating that it will not send a PW packet containing a flow label.</li>
<li>When R=1 the PE is able to receive a PW packet with a flow label present. When R=0 the PE is unable to receive a PW packet with the flow label present.</li>
<li>Reserved bits MUST be zero on transmit and MUST be ignored on receive.</li>
</ul>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Static Pseudowires</h1>
<p id="rfc.section.5.p.1">If PWE3 signalling <a href="#RFC4447">[RFC4447]</a> is not in use for a PW, then whether the flow label is used MUST be identically provisioned in both PEs at the PW endpoints. If there is no provisioning support for this option, the default behaviour is not to include the flow label.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Multi-Segment Pseudowires</h1>
<p id="rfc.section.6.p.1">The flow label mechanism described in this document works on multi-segment PWs without requiring modification to the Switching PEs (S-PEs). This is because the flow LSE is transparent to the label swap operation, and because interface parameter Sub-TLV signalling is transitive.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> OAM</h1>
<p id="rfc.section.7.p.1">The following OAM considerations apply to this method of load balancing.</p>
<p id="rfc.section.7.p.2">Where the OAM is only to be used to perform a basic test that the PWs have been configured at the PEs, <a href="#RFC5085">VCCV</a> <cite title="NONE">[RFC5085]</cite> messages may be sent using any load balance PW path, i.e. using any value for the flow label.</p>
<p id="rfc.section.7.p.3">Where it is required to verify that a pseudowire is fully functional for all flows, <a href="#RFC5085">VCCV</a> <cite title="NONE">[RFC5085]</cite> connection verification message MUST be sent over each ECMP path to the pseudowire egress PE. This solution may be difficult to achieve and scales poorly.  Under these circumstances, it may be sufficient to send VCCV messages using any load balance pseudowire path because if a failure occurs within the PSN the failure will normally be detected and repaired by the PSN. That is, the PSN's Interior Gateway protocol (IGP) link/node failure detection mechanism (loss of light, bidirectional forwarding detection <a href="#RFC5880">[RFC5880]</a> or IGP hello detection), and the IGP convergence will naturally modify the ECMP set of network paths between the ingress and egress PE's. Hence the PW is only impacted during the normal IGP convergence time. Note that this period may be reduced if a fast re-route or fast convergence technology is deployed in the network <a href="#RFC4090">[RFC4090]</a>, <a href="#RFC5286">[RFC5286]</a>.</p>
<p id="rfc.section.7.p.4">If the failure is related to the individual corruption of a Label Forwarding Information database (LFIB) entry in a router, then only the network path using that specific entry is impacted. If the PW is load balanced over multiple network paths, then this failure can only be detected if, by chance, the transported OAM flow is mapped onto the impacted network path, or if all paths are tested. Since testing all paths may present problems as noted above, other mechanisms to detect this type of error may need to be developed, such as an LSP self test technology.</p>
<p id="rfc.section.7.p.5">To troubleshoot the MPLS PSN, including multiple paths, the techniques described in <a href="#RFC4378">[RFC4378]</a> and <a href="#RFC4379">[RFC4379]</a> can be used.</p>
<p id="rfc.section.7.p.6">Where the PW OAM is carried out of band (VCCV Type 2) <a href="#RFC5085">[RFC5085]</a> it is necessary to insert an "MPLS Router Alert Label" in the label stack. The resultant label stack is a follows:</p>
<div id="#rfc.figure.4"></div>
<div id="#OBVCCV"></div>
<p></p>

<p></p>
<pre>  
   +-------------------------------+
   |                               |
   |      VCCV Message             |  n octets 
   |                               |
   +-------------------------------+
   |   Optional Control Word       |  4 octets   
   +-------------------------------+
   |      Flow label               |  4 octets 
   +-------------------------------+
   |      PW label                 |  4 octets  
   +-------------------------------+
   |      Router Alert label       |  4 octets 
   +-------------------------------+ 
   |      MPLS Tunnel label(s)     |  n*4 octets (four octets per label)
   +-------------------------------+ 

</pre>
<p></p>
<p id="rfc.section.7.p.8">Note that, depending on the number of labels hashed by the LSR, the inclusion of the Router Alert label may cause the OAM packet to be load balanced to a different path from that taken by the data packets with identical Flow and PW labels.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> Applicability of PWs using Flow Labels</h1>
<p id="rfc.section.8.p.1">A node within the PSN is not able to perform deep-packet-inspection (DPI) of the PW as the PW technology is not self-describing: the structure of the PW payload is only known to the ingress and egress PE devices. The method proposed in this document provides a statistical mitigation of the problem of load balance in those cases where a PE is able to discern flows embedded in the traffic received on the attachment circuit.</p>
<p id="rfc.section.8.p.2">The methods described in this document are transparent to the PSN and as such do not require any new capability from the PSN.</p>
<p id="rfc.section.8.p.3">The requirement to load-balance over multiple PSN paths occurs when the ratio between the PW access speed and the PSN&#8217;s core link bandwidth is large (e.g. &gt;= 10%). ATM and FR are unlikely to meet this property. Ethernet may have this property, and for that reason this document focuses on Ethernet. Applications for other high-access-bandwidth PW&#8217;s (e.g. Fibre Channel) may be defined in the future.</p>
<p id="rfc.section.8.p.4">This design applies to MPLS PWs where it is meaningful to de-construct the packets presented to the ingress PE into flows. The mechanism described in this document promotes the distribution of flows within the PW over different network paths. This in turn means that whilst packets within a flow are delivered in order (subject to normal IP delivery perturbations due to topology variation), order is no longer maintained for all packets sent over the PW. It is not proposed to associate a different sequence number with each flow. If sequence number support is required the flow label mechanism MUST NOT be used.</p>
<p id="rfc.section.8.p.5">Where it is known that the traffic carried by the Ethernet PW is IP the flows can be identified and mapped to an ECMP. Such methods typically include hashing on the source and destination addresses, the protocol ID and higher-layer flow-dependent fields such as TCP/UDP ports, L2TPv3 Session IDs etc.</p>
<p id="rfc.section.8.p.6">Where it is known that the traffic carried by the Ethernet PW is non-IP, techniques used for link bundling between Ethernet switches may be reused. In this case however the latency distribution would be larger than is found in the link bundle case. The acceptability of the increased latency is for further study. Of particular importance the Ethernet control frames SHOULD always be mapped to the same PSN path to ensure in-order delivery.</p>
<h1 id="rfc.section.8.1">
<a href="#rfc.section.8.1">8.1.</a> Equal Cost Multiple Paths</h1>
<p id="rfc.section.8.1.p.1">ECMP in packet switched networks is statistical in nature. The mapping of flows to a particular path does not take into account the bandwidth of the flow being mapped or the current bandwidth usage of the members of the ECMP set. This simplification works well when the distribution of flows is evenly spread over the ECMP set and there are a large number of flows that have low bandwidth relative to the paths.  The random allocation of a flow to a path provides a good approximation to an even spread of flows, provided that polarisation effects are avoided. The method defined in this document has the same statistical properties as an IP PSN.</p>
<p id="rfc.section.8.1.p.2">ECMP is a load-sharing mechanism that is based on sharing the load over a number of layer 3 paths through the PSN. Often however multiple links exist between a pair of LSRs that are considered by the IGP to be a single link. These are known as link bundles. The mechanism described in this document can also be used to distribute the flows within a PW over the members of the link bundle by using the flow label value to identify candidate flows. How that mapping takes place is outside the scope of this specification. Similar considerations apply to link aggregation groups.</p>
<p id="rfc.section.8.1.p.3">There is no mechanism currently defined to indicate the bandwidths in use by specific flows using the fields of the MPLS shim header.  Furthermore, since the semantics of the MPLS shim header are fully defined in <a href="#RFC3032">[RFC3032]</a> and <a href="#RFC5462">[RFC5462]</a>, those fields cannot be assigned semantics to carry this information. This document does not define any semantic for use in the TTL or TC fields of the label entry that carries the flow label, but requires that the flow label itself be selected with a high degree of entropy suggesting that the label value should not be overloaded with additional meaning in any subsequent specification.</p>
<p id="rfc.section.8.1.p.4">A different type of load balancing is the desire to carry a PW over a set of PSN links in which the bandwidth of members of the link set is less than the bandwidth of the PW. Proposals to address this problem have been made in the past<a href="#I-D.stein-pwe3-pwbonding">[I-D.stein-pwe3-pwbonding]</a>. Such a mechanism can be considered complementary to this mechanism.</p>
<h1 id="rfc.section.8.2">
<a href="#rfc.section.8.2">8.2.</a> Link Aggregation Groups</h1>
<p id="rfc.section.8.2.p.1">A Link Aggregation Group (LAG) is used to bond together several physical circuits between two adjacent nodes so they appear to higher-layer protocols as a single, higher bandwidth "virtual" pipe.  These may co-exist in various parts of a given network. An advantage of LAGs is that they reduce the number of routing and signalling protocol adjacencies between devices, reducing control plane processing overhead. As with ECMP, the key problem related to LAGs is that due to inefficiencies in LAG load-distribution algorithms, a particular component of a LAG may experience congestion. The mechanism proposed here may be able to assist in producing a more uniform flow distribution.</p>
<p id="rfc.section.8.2.p.2">The same considerations requiring a flow to go over a single member of an ECMP set apply to a member of a LAG.</p>
<h1 id="rfc.section.8.3">
<a href="#rfc.section.8.3">8.3.</a> Multiple RSVP-TE Paths</h1>
<p id="rfc.section.8.3.p.1">In some networks it is desirable for a Label Edge Router (LER) to be able to load balance a PW across multiple RSVP-TE tunnels. The flow label mechanism described in this document may be used to provide the LER with the required flow information, and necessary entropy to provide this type of load balancing. An example of such a case is the use of the flow label mechanism in networks using a link bundle with the all ones component <a href="#RFC4201">[RFC4201]</a>.</p>
<p id="rfc.section.8.3.p.2">Methods by which the LER is configured to apply this type of ECMP is outside the scope of this document.</p>
<h1 id="rfc.section.8.4">
<a href="#rfc.section.8.4">8.4.</a> The Single Large Flow Case</h1>
<p id="rfc.section.8.4.p.1">Clearly the operator should make sure that the service offered using PW technology and the method described in this document does not exceed the maximum planned link capacity, unless it can be guaranteed that it conforms to the Internet traffic profile of a very large number of small flows.</p>
<p id="rfc.section.8.4.p.2">If the NSP cannot access sufficient information to distinguish flows, perhaps because the protocol stack required parsing further into the packet than it is able, then the functionality described in this document does not give any benefits. The most common case where a single flow dominates the traffic on a PW is when it is used to transport enterprise traffic. Enterprise traffic may well consist of a single, large TCP flow, or encrypted flows that cannot be handled by the methods described in this document.</p>
<p id="rfc.section.8.4.p.3">An operator has four options under these circumstances:</p>
<p></p>

<ol>
<li>The operator can choose to do nothing and the system will work as it does without the flow label.</li>
<li>The operator can make the customer aware that the service offering has a restriction on flow bandwidth and police flows to that restriction. This would allow customers offering multiple flows to use a larger fraction their access bandwidth, whilst preventing a single flow from consuming a fraction of internal link bandwidth that the operator considered excessive.</li>
<li>The operator could configure the ingress PE to assign a constant flow label to all high bandwidth flows so that only one path was affected by these flows.</li>
<li>The operator could configure the ingress PE to assign a random flow label to all high bandwidth flows so as to minimise the disruption to the network as a cost of out of order traffic to the user.</li>
</ol>
<p id="rfc.section.8.4.p.5">The issues described above are mitigated by the following two factors:</p>
<p></p>

<ul>
<li>Firstly, the customer of a high-bandwidth PW service has an incentive to get the best transport service because an inefficient use of the PSN leads to jitter and eventually to loss to the PW&#8217;s payload.</li>
<li>Secondly, the customer is usually able to tailor their applications to generate many flows in the PSN. A well-known example is massive data transport between servers which use many parallel TCP sessions. This same technique can be used by any transport protocol: multiple UDP ports, multiple L2TPv3 Session ID&#8217;s, multiple GRE keys may be used to decompose a large flow into smaller components. This approach may be applied to IPsec <a href="#RFC4301">[RFC4301]</a> where multiple Security Parameters Indexes (SPIs) may be allocated to the same security association.</li>
</ul>
<h1 id="rfc.section.8.5">
<a href="#rfc.section.8.5">8.5.</a> Applicability to MPLS-TP </h1>
<p id="rfc.section.8.5.p.1">The MPLS Transport Profile (MPLS-TP) <a href="#RFC5654">[RFC5654]</a> requirement 44 states that "MPLS-TP MUST support mechanisms that ensure the integrity of the transported customer's service traffic as required by its associated SLA. Loss of integrity may be defined as packet corruption, reordering, or loss during normal network conditions. " In addition MPLS-TP makes extensive use of the fate sharing between OAM and data packets, which is defeated by the flow LSE. The flow aware transport of a PW reorders packets, therefore MUST NOT be deployed in a network conforming to the MPLS-TP unless these integrity requirements specified in the SLA can be satisfied. In a</p>
<p></p>
<h1 id="rfc.section.8.6">
<a href="#rfc.section.8.6">8.6.</a> Asymmetric Operation</h1>
<p id="rfc.section.8.6.p.1">The protocol defined in this document supports the asymmetric inclusion of the flow LSE. Asymmetric operation can be expected when there is asymmetry in the bandwidth requirements making it unprofitable for one PE to perform the flow classification, or when that PE is otherwise unable to perform the classification but is able to receive flow labeled packet from its peer. Asymmetric operation of the PW may also be required when one PE has a high transmission bandwidth requirement, but has a need to receive the entire PW on a single interface in order to perform a processing operation that requires the context of the complete PW (for example policing of the egress traffic).</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#MPLS" id="MPLS">Applicability to MPLS LSPs</a>
</h1>
<p id="rfc.section.9.p.1">An extension of this technique is to create a basis for hash diversity without having to peek below the label stack for IP traffic carried over LDP LSPs. The generalisation of this extension to MPLS has been described in <a href="#I-D.kompella-mpls-entropy-label">[I-D.kompella-mpls-entropy-label]</a>. This generalization can be regarded as a complementary, but distinct, approach from the technique described in this document. While similar consideration may apply to the identification of flows and the allocation of flow label values, the flow labels are imposed by different network components, and the associated signalling mechanisms are different.</p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#SECCON" id="SECCON">Security Considerations</a>
</h1>
<p id="rfc.section.10.p.1">The PW generic security considerations described in <a href="#RFC3985">[RFC3985]</a> and the security considerations applicable to a specific PW type (for example, in the case of an Ethernet PW <a href="#RFC4448">[RFC4448]</a> apply. The security considerations in <a href="#RFC5920">[RFC5920]</a> also apply.</p>
<p id="rfc.section.10.p.2">Section 1.2 describes considerations that apply to the TTL value used in the flow LSE. The use of a TTL value of one prevents the accidental forwarding of a packet based on the label value in the flow LSE.</p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#IANAsect" id="IANAsect">IANA Considerations</a>
</h1>
<p id="rfc.section.11.p.1">IANA is requested to amend the PW Interface Parameters Sub-TLV type Registry value 0x17 (Flow Label indicator) to refer to this RFC.</p>
<div id="#rfc.figure.5"></div>
<pre>
Parameter  Length       Description
ID

0x17         4           Flow Label
</pre>
<p></p>
<h1 id="rfc.section.12">
<a href="#rfc.section.12">12.</a> Congestion Considerations</h1>
<p id="rfc.section.12.p.1">The congestion considerations applicable to PWs as described in <a href="#RFC3985">[RFC3985]</a> and any additional congestion considerations developed at the time of publication apply to this design.</p>
<p id="rfc.section.12.p.2">The ability to explicitly configure a PW to leverage the availability of multiple ECMPs is beneficial to capacity planning as, all other parameters being constant, the statistical multiplexing of a larger number of smaller flows is more efficient than with a smaller number of larger flows.</p>
<p id="rfc.section.12.p.3">Note that if the classification into flows is only performed on IP packets the behaviour of those flows in the face of congestion will be as already defined by the IETF for packets of that type and no additional congestion processing is required.</p>
<p id="rfc.section.12.p.4">Where flows that are not IP are classified PW congestion avoidance must be applied to each non-IP load balance group.</p>
<h1 id="rfc.section.13">
<a href="#rfc.section.13">13.</a> Acknowledgements</h1>
<p id="rfc.section.13.p.1">The authors wish to thank Mary Barns, Eric Grey, Kireeti Kompella, Joerg Kuechemann, Wilfried Maas, Luca Martini, Mark Townsley, Rolf Winter and Lucy Yong for valuable comments on this document.</p>
<h1 id="rfc.references">
<a href="#rfc.references">14.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">14.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4447">[RFC4447]</b></td>
<td class="top">
<a>Martini, L.</a>, <a>Rosen, E.</a>, <a>El-Aawar, N.</a>, <a>Smith, T.</a> and <a>G. Heron</a>, "<a href="http://tools.ietf.org/html/rfc4447">Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP)</a>", RFC 4447, April 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4448">[RFC4448]</b></td>
<td class="top">
<a>Martini, L.</a>, <a>Rosen, E.</a>, <a>El-Aawar, N.</a> and <a>G. Heron</a>, "<a href="http://tools.ietf.org/html/rfc4448">Encapsulation Methods for Transport of Ethernet over MPLS Networks</a>", RFC 4448, April 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4928">[RFC4928]</b></td>
<td class="top">
<a>Swallow, G.</a>, <a>Bryant, S.</a> and <a>L. Andersson</a>, "<a href="http://tools.ietf.org/html/rfc4928">Avoiding Equal Cost Multipath Treatment in MPLS Networks</a>", BCP 128, RFC 4928, June 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4553">[RFC4553]</b></td>
<td class="top">
<a>Vainshtein, A.</a> and <a>YJ. Stein</a>, "<a href="http://tools.ietf.org/html/rfc4553">Structure-Agnostic Time Division Multiplexing (TDM) over Packet (SAToP)</a>", RFC 4553, June 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4385">[RFC4385]</b></td>
<td class="top">
<a>Bryant, S.</a>, <a>Swallow, G.</a>, <a>Martini, L.</a> and <a>D. McPherson</a>, "<a href="http://tools.ietf.org/html/rfc4385">Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN</a>", RFC 4385, February 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4379">[RFC4379]</b></td>
<td class="top">
<a>Kompella, K.</a> and <a>G. Swallow</a>, "<a href="http://tools.ietf.org/html/rfc4379">Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures</a>", RFC 4379, February 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3032">[RFC3032]</b></td>
<td class="top">
<a>Rosen, E.</a>, <a>Tappan, D.</a>, <a>Fedorkow, G.</a>, <a>Rekhter, Y.</a>, <a>Farinacci, D.</a>, <a>Li, T.</a> and <a>A. Conta</a>, "<a href="http://tools.ietf.org/html/rfc3032">MPLS Label Stack Encoding</a>", RFC 3032, January 2001.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5085">[RFC5085]</b></td>
<td class="top">
<a>Nadeau, T.</a> and <a>C. Pignataro</a>, "<a href="http://tools.ietf.org/html/rfc5085">Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires</a>", RFC 5085, December 2007.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">14.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3985">[RFC3985]</b></td>
<td class="top">
<a>Bryant, S.</a> and <a>P. Pate</a>, "<a href="http://tools.ietf.org/html/rfc3985">Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture</a>", RFC 3985, March 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4378">[RFC4378]</b></td>
<td class="top">
<a>Allan, D.</a> and <a>T. Nadeau</a>, "<a href="http://tools.ietf.org/html/rfc4378">A Framework for Multi-Protocol Label Switching (MPLS) Operations and Management (OAM)</a>", RFC 4378, February 2006.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.kompella-mpls-entropy-label">[I-D.kompella-mpls-entropy-label]</b></td>
<td class="top">
<a>Kompella, K</a>, <a>Drake, J</a>, <a>Amante, S</a>, <a>Henderickx, W</a> and <a>L Yong</a>, "<a href="http://tools.ietf.org/html/draft-kompella-mpls-entropy-label-02">The Use of Entropy Labels in MPLS Forwarding</a>", Internet-Draft draft-kompella-mpls-entropy-label-02, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5286">[RFC5286]</b></td>
<td class="top">
<a>Atlas, A.</a> and <a>A. Zinin</a>, "<a href="http://tools.ietf.org/html/rfc5286">Basic Specification for IP Fast Reroute: Loop-Free Alternates</a>", RFC 5286, September 2008.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.stein-pwe3-pwbonding">[I-D.stein-pwe3-pwbonding]</b></td>
<td class="top">
<a>Stein, Y</a>, <a>Mendelsohn, I</a> and <a>R Insler</a>, "<a href="http://tools.ietf.org/html/draft-stein-pwe3-pwbonding-01">PW Bonding</a>", Internet-Draft draft-stein-pwe3-pwbonding-01, November 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5654">[RFC5654]</b></td>
<td class="top">
<a>Niven-Jenkins, B.</a>, <a>Brungard, D.</a>, <a>Betts, M.</a>, <a>Sprecher, N.</a> and <a>S. Ueno</a>, "<a href="http://tools.ietf.org/html/rfc5654">Requirements of an MPLS Transport Profile</a>", RFC 5654, September 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5880">[RFC5880]</b></td>
<td class="top">
<a>Katz, D.</a> and <a>D. Ward</a>, "<a href="http://tools.ietf.org/html/rfc5880">Bidirectional Forwarding Detection (BFD)</a>", RFC 5880, June 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4301">[RFC4301]</b></td>
<td class="top">
<a>Kent, S.</a> and <a>K. Seo</a>, "<a href="http://tools.ietf.org/html/rfc4301">Security Architecture for the Internet Protocol</a>", RFC 4301, December 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4201">[RFC4201]</b></td>
<td class="top">
<a>Kompella, K.</a>, <a>Rekhter, Y.</a> and <a>L. Berger</a>, "<a href="http://tools.ietf.org/html/rfc4201">Link Bundling in MPLS Traffic Engineering (TE)</a>", RFC 4201, October 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4090">[RFC4090]</b></td>
<td class="top">
<a>Pan, P.</a>, <a>Swallow, G.</a> and <a>A. Atlas</a>, "<a href="http://tools.ietf.org/html/rfc4090">Fast Reroute Extensions to RSVP-TE for LSP Tunnels</a>", RFC 4090, May 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5462">[RFC5462]</b></td>
<td class="top">
<a>Andersson, L.</a> and <a>R. Asati</a>, "<a href="http://tools.ietf.org/html/rfc5462">Multiprotocol Label Switching (MPLS) Label Stack Entry: "EXP" Field Renamed to "Traffic Class" Field</a>", RFC 5462, February 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5920">[RFC5920]</b></td>
<td class="top">
<a>Fang, L.</a>, "<a href="http://tools.ietf.org/html/rfc5920">Security Framework for MPLS and GMPLS Networks</a>", RFC 5920, July 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Stewart Bryant</span> editor
	  <span class="n hidden">
		<span class="family-name">Bryant</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems</span>
	<span class="adr">
	  <span>250 Longwater Ave</span>

	  <span class="vcardline">
		<span class="locality">Reading</span>,  
		<span class="region"></span>
		<span class="code">RG2 6GB</span>
	  </span>
	  <span class="country-name vcardline">United Kingdom</span>
	</span>
	<span class="vcardline">Phone: +44-208-824-8828</span>

<span class="vcardline">EMail: <a href="mailto:stbryant@cisco.com">stbryant@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Clarence Filsfils</span> 
	  <span class="n hidden">
		<span class="family-name">Filsfils</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Brussels</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Belgium</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:cfilsfil@cisco.com">cfilsfil@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Ulrich Drafz</span> 
	  <span class="n hidden">
		<span class="family-name">Drafz</span>
	  </span>
	</span>
	<span class="org vcardline">Deutsche Telekom</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Muenster</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:Ulrich.Drafz@t-com.net">Ulrich.Drafz@t-com.net</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Vach Kompella</span> 
	  <span class="n hidden">
		<span class="family-name">Kompella</span>
	  </span>
	</span>
	<span class="org vcardline">Alcatel-Lucent</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:Alcatel-Lucent%20vach.kompella@alcatel-lucent.com">Alcatel-Lucent vach.kompella@alcatel-lucent.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Joe Regan</span> 
	  <span class="n hidden">
		<span class="family-name">Regan</span>
	  </span>
	</span>
	<span class="org vcardline">Alcatel-Lucent</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:joe.regan@alcatel-lucent.comRegan">joe.regan@alcatel-lucent.comRegan</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Shane Amante </span> 
	  <span class="n hidden">
		<span class="family-name">Amante</span>
	  </span>
	</span>
	<span class="org vcardline">Level 3 Communications</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:shane@castlepoint.net">shane@castlepoint.net</a></span>

  </address>
</div>

</body>
</html>