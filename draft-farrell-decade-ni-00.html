<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>The Named Information (ni) URI Scheme: Core Syntax</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Format">
<link href="#rfc.section.3" rel="Chapter" title="3 Processing NI URIs">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Verifying URI/Resource Mappings">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Testing for Equality">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Mapping to HTTP(S) URLs">
<link href="#rfc.section.4" rel="Chapter" title="4 Examples">
<link href="#rfc.section.5" rel="Chapter" title="5 The Named Information URI TYPE">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Encoding Considerations">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Syntax">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Acknowledgements">
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Considerations">
<link href="#rfc.section.8.1" rel="Chapter" title="8.1 Assignment of Network Information (ni) URI Scheme">
<link href="#rfc.section.8.2" rel="Chapter" title="8.2 Assignment of Well Known URI prefix ni">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.references.1" rel="Chapter" title="9.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="9.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document defines a URI-based name form that identifies a named object via hash-based binding. The URI name form defined is intended for use in applications that need to uniquely identify resources in a location-independent way such as accessing in-network storage (DECADE), information-centric networking and more generally.  The format is designed to support a strong link to the referenced object such that the referenced object may be authenticated to the same degree as the reference to it.  " />
  <meta name="description" content="This document defines a URI-based name form that identifies a named object via hash-based binding. The URI name form defined is intended for use in applications that need to uniquely identify resources in a location-independent way such as accessing in-network storage (DECADE), information-centric networking and more generally.  The format is designed to support a strong link to the referenced object such that the referenced object may be authenticated to the same degree as the reference to it.  " />
  <meta name="keywords" content="Cryptography, URI, Information Centric Networking" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Internet Engineering Task Force</td>
<td class="right">S. Farrell</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Trinity College Dublin</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">D. Kutscher</td>
</tr>
<tr>
<td class="left">Expires: April 26, 2012</td>
<td class="right">NEC</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">C. Dannewitz</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">University of Paderborn</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">B. Ohlman</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Ericsson</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">P. M. Hallam-Baker</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Comodo Group Inc.</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 24, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">The Named Information (ni) URI Scheme: Core Syntax<br />
  <span class="filename">draft-farrell-decade-ni-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document defines a URI-based name form that identifies a named object via hash-based binding. The URI name form defined is intended for use in applications that need to uniquely identify resources in a location-independent way such as accessing in-network storage (DECADE), information-centric networking and more generally.  The format is designed to support a strong link to the referenced object such that the referenced object may be authenticated to the same degree as the reference to it.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 26, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Format</a>
</li>
<li>3.   <a href="#rfc.section.3">Processing NI URIs</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Verifying URI/Resource Mappings</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Testing for Equality</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Mapping to HTTP(S) URLs</a>
</li>
<li>4.   <a href="#rfc.section.4">Examples</a>
</li>
<li>5.   <a href="#rfc.section.5">The Named Information URI TYPE</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Encoding Considerations</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Syntax</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Acknowledgements</a>
</li>
<li>8.   <a href="#rfc.section.8">IANA Considerations</a>
</li>
<li>8.1.   <a href="#rfc.section.8.1">Assignment of Network Information (ni) URI Scheme</a>
</li>
<li>8.2.   <a href="#rfc.section.8.2">Assignment of Well Known URI prefix ni</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li>9.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>9.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">URIs <a href="#RFC3986">[RFC3986]</a> are used in various protocols for identifying resources. In many deployments those URIs contain strings that are hash function outputs in order to ensure uniqueness in terms of mapping the URI to a specific resource, or to make URIs hard to guess for security reasons. However, there is no standard way to interpret those strings, and so today in general only the creator of the URI knows how to use the hash function output.  </p>
<p id="rfc.section.1.p.2">For example, protocols for accessing in-network storage servers (as defined in the IETF DECADE WG) need a way to identify the stored resources uniquely and in a location-independent way so that replicas on different servers can be accessed by the same name. Also, such applications may require verifying that a resource that has been obtained actually corresponds to the name that was used to request the resource, i.e., verifying the name-content binding.  </p>
<p id="rfc.section.1.p.3">Similarly, in the context of information-centric networking <a href="#ref.netinf-design">[ref.netinf-design]</a> <a href="#ref.ccn">[ref.ccn]</a> and elsewhere there is value in being able to compare a presented resource against the URI that was de-referenced in order to access that resource. If a cryptographically-strong comparison function can be used then this allows for many forms of in-network storage, without requiring as much trust in the infrastructure used to present the resource. The outputs of hash functions can be used in this manner, if presented in a standard way.  </p>
<p id="rfc.section.1.p.4">Additional applications might include creating references from web pages delivered over HTTP/TLS; DNS resource records signed using DNSSEC or Data values embedded in certificates, CRLs, OCSP tokens and other signed data objects.  </p>
<p id="rfc.section.1.p.5">Accordingly, the "ni" URI scheme allows for checking of the integrity of the URI/resource mapping, but it is OPTIONAL for implementations to do so when sending, receiving or processing "ni" URIs.  </p>
<p id="rfc.section.1.p.6">The URI scheme defined here allows for the use of a query-string, simiilar to how query-strings are used in HTTP URLs. A companion specification <a href="#niexts">[niexts]</a> describes specific values that can be used in such query strings in for various purposese.  That document also specifies additional optional algorithms for truncated hashes and for hashing of dynamic objects.  </p>
<p id="rfc.section.1.p.7">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.  </p>
<p id="rfc.section.1.p.8">Syntax definitions in this memo are specified according to ABNF <a href="#RFC4648">[RFC4648]</a>.  </p>
<p id="rfc.section.1.p.9">[[Comments are included in double-square brackets, like this.]]</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Format</h1>
<p id="rfc.section.2.p.1">In this section we provide an informal description of the ni name syntax.  An ni URI consists of the following components: </p>
<p></p>

<dl>
<dt>Scheme Name [Required]</dt>
<dd style="margin-left: 8">The scheme name is 'ni'.  </dd>
<dt>Colon and Slashes [Required]</dt>
<dd style="margin-left: 8">The literal "://" </dd>
<dt>Authority [Optional]</dt>
<dd style="margin-left: 8">The optional authority component may assist applications in accessing the object named by an ni URI. Note that while the ni names with and without an authority differ syntactically, both names will almost always refer to the same object.  </dd>
<dt>One slash [Required]</dt>
<dd style="margin-left: 8">The literal "/" </dd>
<dt>Digest Algorithm [Required]</dt>
<dd style="margin-left: 8">The name of the digest algorithm, as specified in the IANA registry titled "Data Structure for the Security Suitability of Cryptographic Algorithms registry 'Cryptographic Algorithms'" <a href="#RFC5698">[RFC5698]</a>.  </dd>
<dt>Separator [Required]</dt>
<dd style="margin-left: 8">The literal ";" </dd>
<dt>Digest Value [Required]</dt>
<dd style="margin-left: 8">The digest value encoded in the specified encoding. The digest value MAY be trucated at a 64 byte boundary.  </dd>
<dt>Query Parameter separator [Optional] '?'</dt>
<dd style="margin-left: 8">The query parameter separator acts a separator between the digest value and the query parameters (if specified).  </dd>
<dt>Query Parameters [Optional]</dt>
<dd style="margin-left: 8">A tag=value list of optional query parameters as are used with HTTP URLs.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Processing NI URIs</h1>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Verifying URI/Resource Mappings</h1>
<p id="rfc.section.3.1.p.1">It is OPTIONAL for implementations to check the integrity of the URI/resource mapping when sending, receiving or processing "ni" URIs.  </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Testing for Equality</h1>
<p id="rfc.section.3.2.p.1">When verifying whether two NI URIs refer to same object, an implementation MUST only consider the Digest Algorithm identifier and the Digest Value, i.e., it MUST NOT consider the authority field or any parameters.  </p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> Mapping to HTTP(S) URLs</h1>
<p id="rfc.section.3.3.p.1">We define a bidirectional mapping between the ni URI scheme and a subset of the the HTTP scheme that makes use of the .well-known URI <a href="#RFC5785">[RFC5785]</a> by defining an "ni" suffix (see <a href="#IANACons">Section 8</a>).  </p>
<p id="rfc.section.3.3.p.2">The HTTP(s) mapping MAY be used in any context where legacy clients without support for ni indentifiers is required without loss of interoperability or functionality. A legacy client interprets the ni identifier as an ordinary HTTP(s) URL while a ni aware client can determine the corresponding ni form of the URI and apply ni processing.  </p>
<p id="rfc.section.3.3.p.3">Implementations SHOULD support this mapping, in both directions.  [[Not sure if we really want 2119 language for the mapping, nor if we need to specify both directions, so this is kind of a placeholder.]] </p>
<p id="rfc.section.3.3.p.4">For an ni name of the form "ni://n-authority/alg;val?query-string" the corresponding HTTP URL produced by this algorithm is "http://h-authority/.well-known/ni/alg/val?query-string".  If the ni name has a specified authority then the h-authority MUST have the same value.  If the ni name has no authority specified (i.e. the n-authority string is empty), a h-authority value MAY be derived from the applicaiton context. For example, if the mapping is being done in the context of a web page then the origin <a href="#websec-origin">[websec-origin]</a>  for that web site can be used. Of course, there are in general no guarantees that the object named by the ni name will be available at the corresponding HTTP URL. But in the case that any data is returned, the retreiver can determine if it is the correct content.  </p>
<p id="rfc.section.3.3.p.5">If an application is presented with a HTTP URL with "/.well-known/ni/" as the start of its pathname component, then the reverse mapping to an ni name either including or excluding the authority might produce an ni name that is meaningful depending on the application.  </p>
<p id="rfc.section.3.3.p.6">In all of the above the application MAY use the "https" URI scheme if security considerations warrant use of TLS.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Examples</h1>
<p id="rfc.section.4.p.1">[[Note: check examples and make sure they're correct sometime.]] </p>
<p id="rfc.section.4.p.2">The following digest URI specifies a reference to the text "Hello World !" using the SHA-2 algorithm with 256 bit output and no authority field: </p>
<p id="rfc.section.4.p.3">ni:///sha-256;B_K97zTtFuOhug27fke4_Zgc4Myz4b_lZNgsQjy6fkc</p>
<p id="rfc.section.4.p.4">And the same example shown with an authority would be:</p>
<p id="rfc.section.4.p.5">ni://example.com/sha-256;B_K97zTtFuOhug27fke4_Zgc4Myz4b_lZNgsQjy6fkc</p>
<p id="rfc.section.4.p.6">The following HTTP URL represents a mapping from the previous ni name based on the algorithm outlined above.  </p>
<p id="rfc.section.4.p.7">http://example.com/.well-known/ni/sha-256/B_K97zTtFuOhug27fke4_Zgc4Myz4b_lZNgsQjy6fkc</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> The Named Information URI TYPE</h1>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#encoding" id="encoding">Encoding Considerations</a>
</h1>
<p id="rfc.section.5.1.p.1">[[Note that this section may change. However, the intent is that there be one and only one well defined encoding scheme for ni names. However, getting the right scheme for that, and for the URL mapping may be tricky.]] </p>
<p id="rfc.section.5.1.p.2">The digest value MUST be encoded using base64url <a href="#RFC4648">[RFC4648]</a> encoding.  </p>
<p id="rfc.section.5.1.p.3">The query segment of an URI is NOT hierarchical. Thus escape encoding of slash '/' characters is NOT required. Since application code often attempts to enforce such encoding, decoders MUST recognize the use of URI escape encoding.  Section 3.4 of <a href="#RFC3986">[RFC3986]</a> states that "The characters slash ("/") and question mark ("?") may represent data within the query component." </p>
<p id="rfc.section.5.1.p.4">Consequently no special escaping mechanism is required for the query parameter portion of ni URIs. URI escaping is however frequently imposed automatically by scripting environments. Thus to ensure interoperability, implementations SHOULD NOT generate URIs that employ URI character escaping, and implementations MUST accept any URIs that employ URI character escaping.  [[That might need to be more specific.]] </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> <a href="#syntax" id="syntax">Syntax</a>
</h1>
<p id="rfc.section.5.2.p.1">The Named Information URI has the following syntax: </p>
<div id="#rfc.figure.1"></div>
<div id="#fig_abnf"></div>
<pre>
      niname ="ni://" [ authority ] "/" alg ";" val [ "?" query ] 
      alg = 1*CHAR
      val = 1*CHAR
		</pre>
<p id="rfc.section.5.2.p.2">The "authority" and "query" types are as in the URI specification. <a href="#RFC3986">[RFC3986]</a> </p>
<p id="rfc.section.5.2.p.3">Implementations MUST support the sha-256 algorithm as specified in <a href="#RFC4055">[RFC4055]</a>.  </p>
<p id="rfc.section.5.2.p.4">Implementations MAY support other algorithms specified in the Data Structure for the Security Suitability of Cryptographic Algorithms registry 'Cryptographic Algorithms' <a href="#RFC5698">[RFC5698]</a>.  </p>
<p id="rfc.section.5.2.p.5">Note that additional algorithms are specified in the companion document to this one <a href="#niexts">[niexts]</a> that implementations can choose to support if they wish. Those algorithms use a different IANA registry defined in that document.  </p>
<p id="rfc.section.5.2.p.6">The "val" field MUST contain the output of applying the hash function ("alg") to its defined input, which defaults to the object bytes that are expected to be returned when the URI is de-referenced.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#sec_cons" id="sec_cons">Security Considerations</a>
</h1>
<p id="rfc.section.6.p.1">No secret information is required to generate or verify an ni URI. Therefore an ni URI only provides a proof of integrity for the referenced object and the proof of integrity provided is only as good as the proof of integrity for the ni URI.  In other words, the digest value can provide name-data integrity binding the ni name value to the object bytes returned when the ni name is de-referenced using some protocol.  </p>
<p id="rfc.section.6.p.2">Disclosure of an ni URI value does not necessarily entail disclosure of the referenced object but may enable an attacker to determine the contents of the referenced object by reference to a search engine or other data repository or, for highly formatted object with little variation, by simply guessing the value and checking if the digest value matches.  </p>
<p id="rfc.section.6.p.3">The integrity of the referenced content would be compromised if a weak digest were used.  </p>
<p id="rfc.section.6.p.4">If a truncated digest is used, certain security properties MAY be affected.  In general a digest algorithm is designed to produce sufficient bits to prevent a 'birthday attac' collision occuring. To ensure that the difficulty of discovering two pieces of content that result in the same digest with a work factor O(2^x) by brute force requires a digest length of 2x.  Many security applications only require protection against a 2nd pre-image attack which only requires a digest length of x to achieve the same work factor.  </p>
<p id="rfc.section.6.p.5">[[Don't reduce too much, and don't rely on a digest that has been truncated as being the strength of the original digest alg.]] </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> Acknowledgements</h1>
<p id="rfc.section.7.p.1">This work has been supported by the EU FP7 project SAIL.  The authors would like to thank SAIL participants to our naming discussions, especially Jean-Francois Peltier, for their input.  </p>
<p id="rfc.section.7.p.2">[[Mention folk on the WebSec list who contributed to the discussions]] </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#IANACons" id="IANACons">IANA Considerations</a>
</h1>
<h1 id="rfc.section.8.1">
<a href="#rfc.section.8.1">8.1.</a> Assignment of Network Information (ni) URI Scheme</h1>
<p id="rfc.section.8.1.p.1">The procedures for registration of a URI scheme are specified in <a href="#RFC4395">RFC 4395</a> <cite title="NONE">[RFC4395]</cite>. The following is the proposed assignment template.  </p>
<p id="rfc.section.8.1.p.2">URI scheme name: ni </p>
<p id="rfc.section.8.1.p.3">Status: Permanent </p>
<p id="rfc.section.8.1.p.4">URI scheme syntax. See <a href="#syntax">Section 5.2</a> </p>
<p id="rfc.section.8.1.p.5">URI scheme semantics. See <a href="#syntax">Section 5.2</a> </p>
<p id="rfc.section.8.1.p.6">Encoding considerations. See <a href="#encoding">Section 5.1</a> </p>
<p id="rfc.section.8.1.p.7">Applications/protocols that use this URI scheme name: General applicability with initial use cases provided by WEBSEC and DECADE </p>
<p id="rfc.section.8.1.p.8">Interoperability considerations: TBS </p>
<p id="rfc.section.8.1.p.9">Security considerations: See <a href="#sec_cons">Section 6</a> </p>
<p id="rfc.section.8.1.p.10">Contact: TBD </p>
<p id="rfc.section.8.1.p.11">Author/Change controller: IETF </p>
<p id="rfc.section.8.1.p.12">References: As specified in this document </p>
<h1 id="rfc.section.8.2">
<a href="#rfc.section.8.2">8.2.</a> Assignment of Well Known URI prefix ni</h1>
<p id="rfc.section.8.2.p.1">The procedures for registration of a Well Known URI entry are specified in <a href="#RFC5785">RFC 5785</a> <cite title="NONE">[RFC5785]</cite>.  The following is the proposed assignment template.  </p>
<p id="rfc.section.8.2.p.2">URI suffix:  ni </p>
<p id="rfc.section.8.2.p.3">Change controller: IETF </p>
<p id="rfc.section.8.2.p.4">Specification document(s): This document </p>
<p id="rfc.section.8.2.p.5">Related information:  None </p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">9.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3986">[RFC3986]</b></td>
<td class="top">
<a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com" title="Day Software">Fielding, R.</a> and <a href="mailto:LMM@acm.org" title="Adobe Systems Incorporated">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4055">[RFC4055]</b></td>
<td class="top">
<a>Schaad, J.</a>, <a>Kaliski, B.</a> and <a>R. Housley</a>, "<a href="http://tools.ietf.org/html/rfc4055">Additional Algorithms and Identifiers for RSA Cryptography for use in the Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>", RFC 4055, June 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4395">[RFC4395]</b></td>
<td class="top">
<a>Hansen, T.</a>, <a>Hardie, T.</a> and <a>L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc4395">Guidelines and Registration Procedures for New URI Schemes</a>", BCP 35, RFC 4395, February 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4648">[RFC4648]</b></td>
<td class="top">
<a>Josefsson, S.</a>, "<a href="http://tools.ietf.org/html/rfc4648">The Base16, Base32, and Base64 Data Encodings</a>", RFC 4648, October 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5698">[RFC5698]</b></td>
<td class="top">
<a>Kunz, T.</a>, <a>Okunick, S.</a> and <a>U. Pordesch</a>, "<a href="http://tools.ietf.org/html/rfc5698">Data Structure for the Security Suitability of Cryptographic Algorithms (DSSC)</a>", RFC 5698, November 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5785">[RFC5785]</b></td>
<td class="top">
<a>Nottingham, M.</a> and <a>E. Hammer-Lahav</a>, "<a href="http://tools.ietf.org/html/rfc5785">Defining Well-Known Uniform Resource Identifiers (URIs)</a>", RFC 5785, April 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">9.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="niexts">[niexts]</b></td>
<td class="top">
<a>Hallam-Baker, P</a>, <a>Stradling, R</a>, <a>Farrell, S</a>, <a>Kutscher, C</a> and <a>B Ohlman</a>, "<a href="http://tools.ietf.org/html/draft-hallambaker-decade-ni-params-00">The Network Information (ni) URI Scheme: Parameters</a>", Internet-Draft draft-hallambaker-decade-ni-params-00, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="ref.netinf-design">[ref.netinf-design]</b></td>
<td class="top">
<a>Ahlgren, </a>, <a>D'Ambrosio, </a>, <a>Dannewitz, </a>, <a>Marchisio, </a>, <a>Marsh, </a>, <a>Ohlman, </a>, <a>Pentikousis, </a>, <a>Rembarz, </a>, <a>Strandberg, </a> and <a> Vercellone</a>, "<a>Design Considerations for a Network of Information</a>", Re-Arch 2008 Workshop , December 2008.</td>
</tr>
<tr>
<td class="reference"><b id="ref.ccn">[ref.ccn]</b></td>
<td class="top">
<a>Jacobsen, </a>, <a>K, </a>, <a>D, </a>, <a>F, </a>, <a>H, </a> and <a> L</a>, "<a>Networking Named Content</a>", CoNEXT 2009 , December 2009.</td>
</tr>
<tr>
<td class="reference"><b id="websec-origin">[websec-origin]</b></td>
<td class="top">
<a>Barth, A</a>, "<a href="http://tools.ietf.org/html/draft-ietf-websec-origin-06">The Web Origin Concept</a>", Internet-Draft draft-ietf-websec-origin-06, October 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Stephen Farrell</span> 
	  <span class="n hidden">
		<span class="family-name">Farrell</span>
	  </span>
	</span>
	<span class="org vcardline">Trinity College Dublin</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Dublin</span>,  
		<span class="region"></span>
		<span class="code">2</span>
	  </span>
	  <span class="country-name vcardline">Ireland</span>
	</span>
	<span class="vcardline">Phone: +353-1-896-2354</span>

<span class="vcardline">EMail: <a href="mailto:stephen.farrell@cs.tcd.ie">stephen.farrell@cs.tcd.ie</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Dirk Kutscher</span> 
	  <span class="n hidden">
		<span class="family-name">Kutscher</span>
	  </span>
	</span>
	<span class="org vcardline">NEC</span>
	<span class="adr">
	  <span>Kurfuersten-Anlage 36</span>

	  <span class="vcardline">
		<span class="locality">Heidelberg</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:kutscher@neclab.eu">kutscher@neclab.eu</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Christian Dannewitz</span> 
	  <span class="n hidden">
		<span class="family-name">Dannewitz</span>
	  </span>
	</span>
	<span class="org vcardline">University of Paderborn</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Paderborn</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:cdannewitz@upb.de">cdannewitz@upb.de</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Borje Ohlman</span> 
	  <span class="n hidden">
		<span class="family-name">Ohlman</span>
	  </span>
	</span>
	<span class="org vcardline">Ericsson</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Stockholm</span>,  
		<span class="region"></span>
		<span class="code">S-16480</span>
	  </span>
	  <span class="country-name vcardline">Sweden</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:Borje.Ohlman@ericsson.com">Borje.Ohlman@ericsson.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Phillip Hallam-Baker</span> 
	  <span class="n hidden">
		<span class="family-name">Hallam-Baker</span>
	  </span>
	</span>
	<span class="org vcardline">Comodo Group Inc.</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:philliph@comodo.com">philliph@comodo.com</a></span>

  </address>
</div>

</body>
</html>