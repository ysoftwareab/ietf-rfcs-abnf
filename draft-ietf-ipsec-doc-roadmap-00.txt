

Network  Working Group                                        R. Thayer
Internet Draft                                             N. Doraswamy
Category: Informational                                        R. Glenn
Expire in six months                                          July 1997


                              IP Security
                            Document Roadmap
                 <draft-ietf-ipsec-doc-roadmap-00.txt>




Status of This Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
   Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

   This memo provides information for the Internet community.  This memo
   does not specify an Internet standard.  Distribution of this memo is
   unlimited.

Abstract

   The IPsec protocol suite is used to provide privacy and
   authentication services at the IP layer.  Several documents are used
   to describe this protocol suite.  The interrelationship and
   organization of the various documents covering the IPsec protocol are
   discussed here.  An explanation of what to find in which document,
   and what to include in new Cipher and Authenticator documents are
   described.













Thayer, Doraswamy, Glenn                                        [Page 1]

INTERNET DRAFT                  July 1997           Expires January 1998


Contents

   Status of This Memo .................................................1

   Abstract ............................................................1

   Contents ............................................................2

   1. Introduction .....................................................3

   2. Interrelationship of IPsec Documents .............................3

   3. Keying Material ..................................................5

   4. Recommended Content of Cipher and Authenticator Documents ........5

   4.1 Cipher and Authenticator ........................................5
   4.2 Cipher ..........................................................6
   4.3 Authenticator ...................................................7

   5. Security Considerations ..........................................8

   6. Acknowledgments ..................................................8

   7. References .......................................................9

   8. Author's Addresses ...............................................9






























Thayer, Doraswamy, Glenn                                        [Page 2]

INTERNET DRAFT                  July 1997           Expires January 1998


1. Introduction

   This document is intended to provide guidelines for the development
   of collateral specifications describing the use of new Cipher and
   Authenticator algorithms with the ESP protocol, described in [ESP]
   and new Authenticator algorithms used with the AH protocol, described
   in [AH].  ESP and AH are part of the IP Security architecture
   described in [Arch].  There is a requirement for a well-known
   procedure that can be used to add new cipher algorithms or
   authenticator algorithms to ESP and AH, not only while the initial
   document set is undergoing development but after the base documents
   have achieved RFC status.  Following the guidelines discussed below
   simplifies adding new algorithms and reduces that amount of redundant
   documentation.

   The goal in writing a new ESP or AH algorithm document is to
   concentrate on the application of the specific algorithm.  General
   ESP and AH concepts, definitions, and issues are covered in the ESP
   and AH documents. The algorithms themselves are not described in
   these documents.  This gives us the capability to add new algorithms
   and also specify how any given algorithm might interact with other
   algorithms. The intent is to achieve the goal of avoiding duplication
   of information and excessive numbers of documents, the so-called
   "draft explosion" effect.

2. Interrelationship of IPsec Documents

   The documents describing the set of IPsec protocols are divided into
   seven groups.  This is illustrated in Figure 1.  There is a main
   Architecture document which broadly covers the general concepts,
   security requirements, definitions, and mechanisms defining IPsec
   technology.

   There is an ESP Protocol document and an AH Protocol document which
   covers the packet format and general issues regarding the respective
   protocols.  These protocol documents also contain default values if
   appropriate, such as the default padding contents, and mandatory to
   implement algorithms.  These documents dictate some of the values in
   the Domain Of Interpretation document [DOI].  Note the DOI document
   is itself part of the IANA Assigned Numbers mechanism and so the
   values described in the DOI are well-known.  See [DOI] for more
   information on the mechanism.

   The "Cipher" document set, shown on the left, is the set of documents
   describing how various ciphers are used for ESP.  These documents are
   intended to fit in this roadmap, and should avoid overlap with the
   ESP protocol document and with the Authenticator documents.  Examples
   of this document are the [DES-1829], [DES-Detroit], [3DES], or [CAST]
   documents.  When these or other Ciphers are used for ESP, the DOI
   document has to indicate certain values, such as Cipher type, so
   these documents provide input to the DOI.

   The "Authenticator" document set, shown on the right, is the set of
   documents describing how various authenticator algorithms are used



Thayer, Doraswamy, Glenn                                        [Page 3]

INTERNET DRAFT                  July 1997           Expires January 1998


   for both ESP and AH.  These documents are intended to fit in this
   roadmap, and should avoid overlap with the AH protocol document and
   with the Cipher documents.  Examples of this document are the [HMAC-
   MD5], and [HMAC-SHA-1] documents.  When these or other algorithms are
   used for either ESP or AH, the DOI document has to indicate certain
   values, such as algorithm type, so these documents provide input to
   the DOI.

   The "Key Management Documents", shown at the bottom, are the
   documents describing the IETF standards-track key management schemes.
   These documents provide certain values for the DOI also.  Note that
   issues of key management should be indicated here and not in, for
   example, the ESP and AH protocol documents.  Currently this box
   represents [ISAKMP], [Oakley], and [Resolution].

   The DOI document, shown in the middle, contains values needed for the
   other documents to relate to each other.  This includes for example
   Cipher algorithms, Authenticator algorithms, and operational
   parameters such as key lifetimes.


                      +--------------+
                      | Architecture |
                      +--------------+
                        v          v
               +<-<-<-<-+          +->->->->+
               v                            v
      +----------+                       +----------+
      |   ESP    |                       |    AH    |
      | PROTOCOL |                       | PROTOCOL |
      +----------+                       +----------+
        v      v                           v       v
        v      +->->->->->->->->+          v       v
        v      v                v          v       v
        v      v                v          v       v
        v  +--------+       +---------------+      v
        v  | +--------+     | +---------------+    v
        v  | |        |     | |               |    v
        v  +-| Cipher |     +-| Authenticator |    v
        v    +--------+       +---------------+    v
        v        v                       v         v
        v        v        +-----+        v         v
        +>->->->-+->->->->| DOI |<-<-<-<-+-<-<-<-<-+
                          +-----+
                             ^
                             ^
                       +------------+
                       |    KEY     |
                       | MANAGEMENT |
                       +------------+


              Figure 1. IPsec Document Roadmap.




Thayer, Doraswamy, Glenn                                        [Page 4]

INTERNET DRAFT                  July 1997           Expires January 1998


3. Keying Material

   Describing the cipher and authenticator algorithms in different docu-
   ments raises the issue of how the key management protocols knows the
   required keying material length for the desired algorithms when used
   together with ESP.  It also raises the issue of how to divide the
   keying material.  This is known as the "slicing and dicing" informa-
   tion.

   Each cipher and authenticator document should specify their respec-
   tive key lengths. The key management protocols should use the length
   of the keys specified in the cipher and authenticator documents to
   generate the keying material of required length.

   The ESP protocol document is responsible for specifying how the keys
   are extracted from the keying material (sliced and diced).  For exam-
   ple, it should specify if the cipher or the authenticator algorithm
   uses the first n-bits in the provided keying material.  The AH proto-
   col document has no such requirement.  [Editor's Note: This paragraph
   is still under contention and will be modified once the location of
   the key derivation mechanism is known].

4. Recommended Content of Cipher and Authenticator Documents

   The document describing how a specific cipher or authenticator is
   used should contain information appropriate to that cipher or authen-
   ticator.  This section enumerates what information should be pro-
   vided.  It is the intention of the document roadmap that:

   .  General protocol information goes in the respective ESP or AH protocol
      documents.
   .  Key management information goes in the key management documents.
   .  Assigned values and constants go in the DOI document.

  Cipher and Authenticator algorithms require some set of optional
  parameters or have optional modes of operation (e.g. IVs, authentica-
  tor lengths, and key lengths).  To help eliminate some complexity
  involved with key management having to negotiate large numbers of
  algorithm-specific parameters, Cipher and Authenticator documents will
  select fixed values for these parameters when it is deemed technically
  reasonable and feasible.

  Note, the following information is intended as a general guideline
  only.

4.1 Cipher and Authenticator

   This section describes the information that should be included in
   both Cipher and Authenticator documents.

   Keying Material
   .  Size of keys, including minimum, maximum, recommended and/or
      required sizes.  Note: the security considerations section should
      address any weakness in specific sizes.



Thayer, Doraswamy, Glenn                                        [Page 5]

INTERNET DRAFT                  July 1997           Expires January 1998


   .  Format of keying material.
   .  Known weak keys or references to documentation on known weak keys.
   .  Recommended or required processing of input keying material such as
      parity generation or checking.
   .  Requirements and/or recommendations on how often the keying
      material should be refreshed.

   Performance Considerations
   .  Any available estimates on performance of this algorithm.
   .  Any available comparison data  (e.g., compared against DES or
      MD5).
   .  Input size or other considerations that could improve or degrade
      performance.

   ESP Environmental Considerations
   .  Any known issues regarding interactions between this algorithm and
      other aspects of ESP, such as use of certain authentication
      schemes.  Note:  As new authentication and cipher algorithms are
      applied to ESP, the later documents will be required to address
      interactions with previously specified algorithms.

   Payload Content and Format Description
   .  Specification of size, placement, and content of algorithm-specific
      fields not defined in the ESP or AH protocol documents (e.g., IV).

   Security Considerations
   .  Discuss any known attacks.
   .  Discuss any known common implementation pitfalls, such as use of
      weak random number generators.
   .  Discuss any relevant validation procedures, such as test vectors.

4.2 Cipher

   This section describes the information that should be included in
   Cipher documents.

   Cipher Description
   .  General information how this cipher algorithm is to be used in
      ESP.
   .  Description of background material and formal algorithm
      description.
   .  Features of this cipher to be used by ESP, including encryption
      and/or authentication.
   .  Mention of any availability issues such as Intellectual Property
      considerations.
   .  References, in IETF style, to background material such as FIPS
      documents.

   Algorithm Modes of Operation
   .  Description of how the algorithm is operated, whether it is block
      mode or streaming mode or other.
   .  Requirements for input or output block format.
   .  Padding requirements of this algorithm.  Note: there is a default
      for padding, specified in the base ESP document, so this is only



Thayer, Doraswamy, Glenn                                        [Page 6]

INTERNET DRAFT                  July 1997           Expires January 1998


      needed if the default cannot be used.
   .  Any algorithm-specific operating parameters, such as number of
      rounds.
   .  Identify optional parameters and optional methods of operation and
      pick reasonable fixed values and methods with explicit technical
      explanations.
   .  Identify those optional parameters in which values and methods
      should remain optional with explicit technical explanations on why
      fixed values and methods should not be used.
   .  Defaults and mandatory ranges on algorithm-specific optional
      parameters that could not be fixed.

4.3 Authenticator

   This section describes the information that should be included in
   Authenticator documents.  In most cases, an authenticator algorithm
   will operate the same whether it is used for ESP or AH. This should
   be represented in a single authenticator algorithm document.

   Authenticator Description
   .  General information on how this authenticator algorithm is to be
      used with ESP and AH.
   .  Description of background material and formal algorithm
      description.
   .  Features of this authenticator.
   .  Mention of any availability issues such as Intellectual Property
      considerations.
   .  References, in IETF style, to background material such as
      FIPS documents and definitive descriptions of underlying
      algorithms.

   Algorithm Modes of Operation
   .  Description of how the algorithm is operated.
   .  Algorithm-specific operating parameters, such as number of
      rounds, and input or output block format.
   .  Implicit and explicit padding requirements of this algorithm.  Note:
      There is a default method for padding of the authenticator field
      specified in the AH protocol document.  This is only needed if the
      default cannot be used.
   .  Identify optional parameters and optional methods of operation and
      pick reasonable fixed values and methods with explicit technical
      explanations.
   .  Identify those optional parameters in which values and methods
      should remain optional with explicit technical explanations on why
      fixed values and methods should not be used.
   .  Defaults and mandatory ranges on algorithm-specific optional
      parameters that could not be fixed.
   .  Authenticator comparison criteria for this algorithm.  Note: There
      is a default method for verifying the authenticator specified
      in the AH protocol document.  This is only needed if the default
      cannot be used (e.g. when using a signed hash).






Thayer, Doraswamy, Glenn                                        [Page 7]

INTERNET DRAFT                  July 1997           Expires January 1998


5. Security Considerations

   This document provides a roadmap and guidelines for writing cipher
   and authenticator documents. The reader SHOULD follow all the secu-
   rity procedures and guidelines described in the IPsec Architecture,
   ESP, AH, cipher and authenticator documents.  Note that many cipher
   algorithms are not considered secure if they are not used with some
   sort of authentication mechanism.

6. Acknowledgments

   Several Internet drafts were referenced in writing this document.
   Depending on where the documents are on (or off) the IETF standards
   track these may not be available through the IETF RFC repositories.
   In certain cases the reader may want to know what version of these
   documents were referenced. These documents are:

   .  ARCH: draft-ietf-ipsec-arch-sec-01.txt.
   .  DES-Detroit: this is the ANX Workshop style of ESP, based on the
      Hughes draft as modified by Cheryl Madson and published on the ANX
      mailing list.
   .  DES-1829: this is Bill Simpson's DES-CBC for ESP document, to be
      published as draft-simpson-esp-des1-v2-01.txt.
   .  3DES: this is <the Triple-DES shim document>.
   .  CAST: this is draft-ietf-ipsec-esp-cast-128-cbc-00.txt, as revised
      to relate to this document.
   .  DOI: draft-ietf-ietf-doi-02.txt.
   .  ESP: draft-ietf-ipsec-esp-04.txt, mailed to the IETF mailing list
      in May/June 1997.
   .  AH: draft-ietf-ipsec-auth-05.txt, mailed to the IETF mailing list
      in May/June 1997.
   .  HUGHES: this is draft-ietf-ipsec-esp-des-md5-03.txt
   .  ISAKMP: There are three documents describing ISAKMP.  These are
      draft-ietf-ipsec-isakmp-07.txt, draft-ietf-ipsec-isakmp-oakley-
      03.txt, and draft-ietf-ipsec-ipsec-doi-02.txt.






















Thayer, Doraswamy, Glenn                                        [Page 8]

INTERNET DRAFT                  July 1997           Expires January 1998


7. References

   [3DES]        Triple-DES for ESP, RFC-xxxx.

   [ARCH]        Atkinson, R., "Security Architecture for the Internet
                 Protocol", RFC-1825, Naval Research Laboratory,
                 July 1995.

   [CAST]        CAST for ESP, RFC-xxxx.

   [DES-Detroit] DES for ESP, Detroit dialect, RFC-xxxx.

   [DES-1829]    DES for ESP, 1829-Compatible mode, RFC-xxxx.

   [DOI]         IP Security Domain of Interpretation, RFC-xxxx.

   [ESP]         Karn, P., Metzger, P., and W. Simpson, "The ESP DES-CBC
                 Transform", RFC 1829, Qualcomm, Inc., Piermont,
                 Daydreamer, August 1995.

   [HMAC]        Krawczyk, K., Bellare, M., and Canetti R., "HMAC:
                 Keyed-Hashing for Message Authentication", RFC-2104,
                 February 1997.

   [HMAC-MD5]    Madson, C., Glenn, R., "The Use of HMAC-MD5 within ESP
                 and AH", draft-ietf-ipsec-ff-auth-hmac-sha-1-00.txt,
                 June 1997.

   [HMAC-SHA-1]  Madson, C., Glenn, R., "The Use of HMAC-SHA-1 within
                 ESP and AH", draft-ietf-ipsec-ff-auth-hmac-sha-1-00.txt,
                 June 1997.

8. Author's Addresses

   Rodney Thayer
   Sable Technology Corporation
   246 Walnut Street
   Newton, Massachusetts  02160
   <mailto:rodney@sabletech.com>

   Naganand Doraswamy
   Bay Networks
   e-mail: naganand@baynetworks.com

   Rob Glenn
   NIST
   e-mail: rob.glenn@nist.gov










Thayer, Doraswamy, Glenn                                        [Page 9]

