<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Internationalized Email Headers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Internationalized Email Headers">
<meta name="keywords" content="I18N Email Header, UTF-8 Email Header, internationalization Email Header">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Email Address Internationalization</td><td class="header">Y. Abel</td></tr>
<tr><td class="header">(EAI)</td><td class="header">TWNIC</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">S. Steele</td></tr>
<tr><td class="header">Obsoletes: <a href='http://tools.ietf.org/html/rfc5335'>5335</a> (if&nbsp;approved)</td><td class="header">Microsoft</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc2045'>2045</a>, <a href='http://tools.ietf.org/html/rfc5321'>5321</a>, <a href='http://tools.ietf.org/html/rfc5322'>5322</a></td><td class="header">December 08, 2010</td></tr>
<tr><td class="header">(if&nbsp;approved)</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: June 11, 2011</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Internationalized Email Headers<br />draft-ietf-eai-rfc5335bis-07</h1>

<h3>Abstract</h3>

<p>	
Full internationalization of electronic mail requires not only the
capabilities to transmit non-ASCII content, to encode selected
information in specific header fields, and to use non-ASCII
characters in envelope addresses. It also requires being able to
express those addresses and the information based on them in mail header fields.
This document specifies a variant of Internet mail that 
permits the use of Unicode encoded in UTF-8, rather than ASCII, as the base
form for Internet email header field.  This form is permitted in 
transmission only if authorized by an SMTP extension, as specified in an 
associated specification. This specification updates Section 6.4 of <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>
to conform with the requirements.
   


</p>
<h3>Status of This Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on June 11, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Role of This Specification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#relations">1.2.</a>&nbsp;
Relation to Other Standards<br />
<a href="#anchor3">2.</a>&nbsp;
Background and History<br />
<a href="#anchor4">3.</a>&nbsp;
Terminology<br />
<a href="#anchor5">4.</a>&nbsp;
Changes on Message Header Fields<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.1.</a>&nbsp;
UTF-8 Syntax and Normalization<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#change_on_mime_header">4.2.</a>&nbsp;
Changes on MIME Headers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#syntax_change">4.3.</a>&nbsp;
Syntax Extensions to RFC 5322<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#change_addr_spec">4.4.</a>&nbsp;
Change on addr-spec Syntax<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#TraceFieldLimit">4.5.</a>&nbsp;
Trace Field Syntax<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#utf8smtp">4.6.</a>&nbsp;
message/global<br />
<a href="#security">5.</a>&nbsp;
Security Considerations<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor7">7.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor8">8.</a>&nbsp;
Edit history<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">8.1.</a>&nbsp;
draft-ietf-eai-rfc5335bis-00<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">8.2.</a>&nbsp;
draft-ietf-eai-rfc5335bis-01<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">8.3.</a>&nbsp;
draft-ietf-eai-rfc5335bis-02<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">8.4.</a>&nbsp;
draft-ietf-eai-rfc5335bis-03<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">8.5.</a>&nbsp;
draft-ietf-eai-rfc5335bis-04<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">8.6.</a>&nbsp;
draft-ietf-eai-rfc5335bis-05<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">8.7.</a>&nbsp;
draft-ietf-eai-rfc5335bis-06<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Role of This Specification</h3>

<p>	
Full internationalization of electronic mail requires several
capabilities:

</p>
<p>
</p>
<ul class="text">
<li>The capability to transmit non-ASCII content, provided for as part of 
	the basic MIME specification <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>, <a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>.
</li>
<li>The capability to use international characters in envelope addresses, 
	discussed in <a class='info' href='#I-D.ietf-eai-frmwrk-4952bis'>[I&#8209;D.ietf&#8209;eai&#8209;frmwrk&#8209;4952bis]<span> (</span><span class='info'>Klensin, J. and Y. Ko, &ldquo;Overview and Framework for Internationalized Email,&rdquo; September&nbsp;2010.</span><span>)</span></a> and specified in
	<a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a>.  
</li>
<li>The capability to express those addresses, and information related to 
	them and based on them, in mail header fields, defined in this document.
</li>
</ul><p> 

</p>
<p>This document specifies a variant of Internet mail that
permits the use of Unicode encoded in UTF-8 <a class='info' href='#RFC3629'>[RFC3629]<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a>, 
rather than ASCII, as the base form for Internet email header fields.
This form is permitted in transmission, if authorized by the SMTP extension
specified in <a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a> or by other transport 
mechanisms capable of processing it.

</p>
<a name="relations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Relation to Other Standards</h3>

<p>
This document updates Section 6.4 of <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>. It removes the blanket 
ban on applying a content-transfer-encoding to all subtypes of message/  
and instead specifies that a composite subtype MAY specify whether or 
not a content-transfer-encoding can be used for that subtype, with 
"cannot be used" as the default.

</p>
<p>
This document also updates Section 3.4 of <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>. 
It Extended mailbox address syntax to permit UTF-8 character in <a class='info' href='#syntax_change'>Section&nbsp;4.3<span> (</span><span class='info'>Syntax Extensions to RFC 5322</span><span>)</span></a>.

</p>
<p>
Allowing use of a content-transfer-encoding on subtypes of messages 
is not limited to transmissions that are authorized by the SMTP
extension specified in <a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a>.
message/global (see <a class='info' href='#utf8smtp'>Section&nbsp;4.6<span> (</span><span class='info'>message/global</span><span>)</span></a>) permits use of a content-transfer-encoding. 

</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Background and History</h3>

<p>Mailbox names often represent the names of human users. Many of these
users throughout the world have names that are not normally expressed
with just the ASCII repertoire of characters, and would like to use more
or less their real names in their mailbox names. These users
are also likely to use non-ASCII text in their display names and subjects
of email messages, both received and sent.
This protocol specifies UTF-8 as the encoding to represent email header field bodies.
</p>
<p>The traditional format of email messages

<a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a> allows only ASCII characters in the
header fields of messages. This prevents users from having email addresses
that contain non-ASCII characters. It further forces non-ASCII text in
display  names, comments, and in free text (such as in the "Subject:" field)
to be encoded (as required by MIME format <a class='info' href='#RFC2047'>[RFC2047]<span> (</span><span class='info'>Moore, K., &ldquo;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text,&rdquo; November&nbsp;1996.</span><span>)</span></a>). This 
specification describes a change to the email message format that is related
to the SMTP message transport change described in the  associated documents
<a class='info' href='#I-D.ietf-eai-frmwrk-4952bis'>[I&#8209;D.ietf&#8209;eai&#8209;frmwrk&#8209;4952bis]<span> (</span><span class='info'>Klensin, J. and Y. Ko, &ldquo;Overview and Framework for Internationalized Email,&rdquo; September&nbsp;2010.</span><span>)</span></a> and <a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a>, and that
allows non-ASCII characters in most email header fields. These changes affect 
SMTP clients, SMTP servers, mail user agents (MUAs), list expanders, 
gateways to other media, and all other processes that parse or handle 
email messages.
</p>
<p>As specified in <a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a>,
an SMTP protocol extension "UTF8SMTP" is used to prevent the
transmission of messages with UTF-8 header fields to systems that
cannot handle such messages. 



</p>
<p>
Use of this SMTP extension helps prevent the introduction of such
messages into message stores that might misinterpret, improperly display,
or mangle such messages. It should be noted that using an ESMTP extension
does not prevent transferring email messages with UTF-8 header fields to 
other systems that use the email format for messages and that may not be 
upgraded,  such as unextended POP and IMAP servers. Changes to these 
protocols to handle UTF-8 header fields are addressed in 
<a class='info' href='#I-D.ietf-eai-rfc5721bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5721bis]<span> (</span><span class='info'>Gellens, R., Newman, C., Yao, J., and K. Fujiwara, &ldquo;POP3 Support for UTF-8,&rdquo; September&nbsp;2010.</span><span>)</span></a> and 
<a class='info' href='#I-D.ietf-eai-5378bis'>[I&#8209;D.ietf&#8209;eai&#8209;5378bis]<span> (</span><span class='info'>Resnick, P., Newman, C., and S. Shen, &ldquo;IMAP Support for UTF-8,&rdquo; November&nbsp;2010.</span><span>)</span></a>.



</p>
<p>The objective for this protocol is to allow UTF-8 in email header fields.


</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Terminology</h3>

<p>
A plain ASCII string is full compatible with <a class='info' href='#RFC5321'>[RFC5321]<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; October&nbsp;2008.</span><span>)</span></a> and <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>. 
In this document, non-ASCII strings are UTF-8 strings if they are in header which contain at least one &lt;UTF8-non-ascii&gt;.



</p>
<p>
Unless otherwise noted, all terms used here are defined in
<a class='info' href='#RFC5321'>[RFC5321]<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; October&nbsp;2008.</span><span>)</span></a>, <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>, 
<a class='info' href='#I-D.ietf-eai-frmwrk-4952bis'>[I&#8209;D.ietf&#8209;eai&#8209;frmwrk&#8209;4952bis]<span> (</span><span class='info'>Klensin, J. and Y. Ko, &ldquo;Overview and Framework for Internationalized Email,&rdquo; September&nbsp;2010.</span><span>)</span></a>, or <a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a>.

</p>
<p>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Changes on Message Header Fields</h3>

<p>SMTP clients can send header fields in UTF-8 format, if the 
UTF8SMTP extension is advertised by the SMTP server or is permitted by other 
transport mechanisms. 
</p>
<p>

This protocol does NOT change the <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a> rules for defining header field 
names. The bodies of header fields are allowed to contain UTF-8 characters, 
but the header field names themselves must contain only ASCII characters.

</p>
<p>
To permit UTF-8 characters in field values, the header definition in 
<a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a> is extended to support the new format.
The following ABNF is defined to substitute those definitions in <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>.

</p>
<p>
	The syntax rules not covered in this section remain as defined in <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>.

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
UTF-8 Syntax and Normalization</h3>

<p>UTF-8 characters can be defined in terms of octets using the following 
ABNF <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a>, taken from <a class='info' href='#RFC3629'>[RFC3629]<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a>:
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

UTF8-non-ascii  =   UTF8-2 / UTF8-3 / UTF8-4

UTF8-2          =   &lt;See Section 4 of RFC3629&gt;

UTF8-3          =   &lt;See Section 4 of RFC3629&gt;

UTF8-4          =   &lt;See Section 4 of RFC3629&gt;
</pre></div><p>



</p>
<p>	
See <a class='info' href='#RFC5198'>[RFC5198]<span> (</span><span class='info'>Klensin, J. and M. Padlipsky, &ldquo;Unicode Format for Network Interchange,&rdquo; March&nbsp;2008.</span><span>)</span></a> for a discussion of normalization; the use of normalization form 
<a class='info' href='#NFC'>[NFC]<span> (</span><span class='info'>Davis, M. and K. Whistler, &ldquo;Unicode Standard Annex #15: Unicode Normalization Forms,&rdquo; September&nbsp;2010.</span><span>)</span></a> is RECOMMENDED. Actually, if one is going to do internationalization properly, one of 
the most often-cited goals is to permit people to spell their names correctly. Since many 
mailbox local parts reflect personal names, that principle applies as well. And NFKC is 
not recommended because it may lose information that is needed to correctly spell some names in unusual circumstances.

</p>
<a name="change_on_mime_header"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Changes on MIME Headers</h3>

<p>
   This specification updates Section 6.4 of <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>. 
   <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a> prohibits applying a content-transfer-encoding  
   to any subtypes of "message/".  This specification relaxes the rule -- it allows
   newly defined MIME types to permit content-transfer-encoding, and it allows
   content-transfer-encoding for message/global (see <a class='info' href='#utf8smtp'>Section&nbsp;4.6<span> (</span><span class='info'>message/global</span><span>)</span></a>).

</p>
<p>
   Background: Normally, transfer of message/global will be done in
   8-bit-clean channels, and body parts will have "identity" encodings,
   that is, no decoding is necessary.

   In the case where a message containing a message/global is downgraded
   from 8-bit to 7-bit as described in <a class='info' href='#RFC1652'>[RFC1652]<span> (</span><span class='info'>Klensin, J., Freed, N., Rose, M., Stefferud, E., and D. Crocker, &ldquo;SMTP Service Extension for 8bit-MIMEtransport,&rdquo; July&nbsp;1994.</span><span>)</span></a>, an encoding
   may be applied to the message; if the message travels multiple times 
   between a 7-bit environment and an environment implementing UTF8SMTP,
   multiple levels of encoding may occur. This is expected to be rarely 
   seen in practice, and the potential complexity of other ways of dealing
   with the issue are thought to be larger than the complexity of allowing 
   nested encodings where necessary.

</p>
<a name="syntax_change"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Syntax Extensions to RFC 5322</h3>

<p>The following rules are intended to extend the corresponding rules in 
<a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a> in order to allow UTF-8 characters.
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
FWS     =  &lt;see Section 3.2.2 of RFC 5322&gt;

CFWS    =  &lt;see Section 3.2.2 of RFC 5322&gt;

ctext   =/  UTF8-non-ascii
            ; Extending ctext in RFC 5322, Section 3.2.2
comment =   "(" *([FWS] uCcontent) [FWS] ")"

word    =   uAtom / uQuoted-String

</pre></div><p>

This means that all the <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a> constructs that build upon these will
permit UTF-8 characters, including comments and quoted strings. We do not change the syntax 
of &lt;atext&gt; in order to allow UTF-8 characters in &lt;addr-spec&gt;.  This would 
also allow UTF-8 characters in &lt;message-id&gt;, which is not allowed due to the limitation 
described in <a class='info' href='#TraceFieldLimit'>Section&nbsp;4.5<span> (</span><span class='info'>Trace Field Syntax</span><span>)</span></a>. Instead, &lt;uAtext&gt; is added to meet this requirement.


</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
uText          = %d1-9 /    ; all UTF-8 characters except
                 %d11-12 /  ; US-ASCII NUL, CR, and LF
                 %d14-127 /
                 UTF8-non-ascii

uQuoted-Pair   = ("\" (VCHAR / WSP / UTF8-non-ascii )) / obs-qp

VCHAR          = &lt;See appendix B.1 of RFC 5234&gt;

WSP            = &lt;See appendix B.1 of RFC 5234&gt;

obs-qp         = &lt;See Section 4.1 of RFC 5322&gt;

uQcontent      = uQtext / uQuoted-Pair

DQUOTE         = &lt;See appendix B.1 of RFC 5234&gt;

uCcontent      = ctext / uQuoted-Pair / comment

uQtext         = qtext / UTF8-non-ascii

uAtext         = ALPHA / DIGIT /
                 "!" / "#" /  ; Any character except
                 "$" / "%" /  ; controls, SP, and specials.
                 "&amp;" / "'" /  ; Used for atoms.
                 "*" / "+" /
                 "-" / "/" /
                 "=" / "?" /
                 "^" / "_" /
                 "`" / "{" /
                 "|" / "}" /
                 "~" /
                 UTF8-non-ascii

uAtom          = [CFWS] 1*uAtext [CFWS]

uDot-Atom      = [CFWS] uDot-Atom-text [CFWS]

uDot-Atom-text = 1*uAtext *("." 1*uAtext)

</pre></div><p>



</p>
<p>
To allow the use of UTF-8 in a Content-Description header field 
<a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>, the following syntax is used:

</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

description    = "Content-Description" ":" *uText
                ; Replace description in RFC 2045, Section 8

</pre></div><p>


The &lt;uText&gt;  syntax is extended above to allow UTF-8 in all &lt;description&gt; header fields.
</p>
<p>
Note, however, this does not remove any constraint on the character set of protocol elements;
for instance, all the allowed values for timezone in the "Date:" header fields are still expressed in ASCII. 
And also, none of this revised syntax changes what is allowed in a &lt;msg-id&gt;, which will still remain in pure ASCII.

</p>
<a name="change_addr_spec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Change on addr-spec Syntax</h3>

<p>Internationalized email addresses are represented in UTF-8. Thus,
all header fields containing &lt;mailbox&gt;es are updated from 
<a class='info' href='#RFC5321'>[RFC5321]<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; October&nbsp;2008.</span><span>)</span></a> Section 4.1.2 to permit UTF-8 addresses.

  


</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
mailbox	       = name-addr / addr-spec / uAddr-Spec
                 ; Replace mailbox in RFC 5322, Section 3.4

angle-addr     =/ [CFWS] "&lt;" uAddr-Spec "&gt;" [CFWS]
                 ; Extending angle-addr in RFC 5322, Section 3.4

uAddr-Spec     = uLocal-Part "@" uDomain

uLocal-Part    = uDot-Atom / uQuoted-String / obs-local-part
                 ; Replace Local-Part in RFC 5322, Section 3.4.1

uQuoted-String = [CFWS] DQUOTE *([FWS] uQcontent) [FWS] DQUOTE [CFWS]

obs-local-part = &lt;See Section 4.4 of RFC 5322&gt;
uDomain        = uDot-Atom / domain-literal / obs-domain

domain-literal = &lt;See Section 3.4.1 of RFC 5322&gt;

</pre></div><p>


Below are a few examples of possible &lt;mailbox&gt; representations.
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


   "DISPLAY_NAME" &lt;ASCII@ASCII&gt;
   ; traditional mailbox format

   "DISPLAY_NAME" &lt;non-ASCII@non-ASCII&gt;
   ; message will be rejected if UTF8SMTP extension is not supported

   &lt;non-ASCII@non-ASCII&gt;
   ; without DISPLAY_NAME and quoted string
   ; message will be rejected if UTF8SMTP extension is not supported

</pre></div><p>


</p>
<a name="TraceFieldLimit"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Trace Field Syntax</h3>

<p>
    The 'uFor' clause in "Received:" fields has been allowed the use of internationalized addresses in "For" fields. 
	It described in <a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a>, Section 3.6.3.

	

</p>
<p>
    The "Return-path" designates the address to which messages indicating
    non-delivery or other mail system failures are to be sent.

	Thus, the header is augmented to carry UTF-8 addresses
	(see the revised syntax of &lt;angle-addr&gt; in <a class='info' href='#change_addr_spec'>Section&nbsp;4.4<span> (</span><span class='info'>Change on addr-spec Syntax</span><span>)</span></a> of this document).
	This will not break the rule of trace field integrity, because
	the header field is added at the last MTA and described in <a class='info' href='#RFC5321'>[RFC5321]<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; October&nbsp;2008.</span><span>)</span></a>.

</p>
<p>

	The &lt;received-token&gt; on "Received:" field ( described in Section 3.6.7 of <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>) 
	syntax is augmented to allow UTF-8 email address in the "For" field. &lt;angle-addr&gt; is augmented
	to include UTF-8 email address. In order to allow UTF-8	email addresses in an 
	&lt;addr-spec&gt;, &lt;uAddr-Spec&gt; is added to &lt;received-token&gt;.

</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

received-token =/ uAddr-Spec
</pre></div><p>


</p>
<a name="utf8smtp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
message/global</h3>

<p>
   Internationalized messages MUST only be transmitted as authorized by <a class='info' href='#I-D.ietf-eai-rfc5336bis'>[I&#8209;D.ietf&#8209;eai&#8209;rfc5336bis]<span> (</span><span class='info'>Yao, J. and W. MAO, &ldquo;SMTP Extension for Internationalized Email Address,&rdquo; December&nbsp;2010.</span><span>)</span></a>
   or within a non-SMTP environment which supports these messages.  
   A message is a "message/global message", if
   
   </p>
<ul class="text">
<li>it contains UTF-8 header values as specified	in this document, or
</li>
<li>it contains UTF-8 values in the headers fields of body parts. 
</li>
</ul><p>


</p>
<p>
   The type message/global is similar to message/rfc822, except that it
   specifies that a message can contain UTF-8 characters in the headers
   of the message or body parts.


   If this type is sent to a 7-bit-only system, it
   has to be encoded in MIME <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>.  
   (Note that a system compliant with MIME that doesn't recognize
   message/global SHOULD treat it as "application/octet-stream" as
   described in Section 5.2.4 of <a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>.)


   


</p>
<p></p>
<blockquote class="text"><dl>
<dt>Type name:</dt>
<dd>message
</dd>
<dt>Subtype name:</dt>
<dd>global
</dd>
<dt>Required parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>none
</dd>
<dt>Encoding considerations:</dt>
<dd>Any content-transfer-encoding is permitted.
The 8-bit or binary content-transfer-encodings are recommended where permitted.
</dd>
<dt>Security considerations:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;5<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.
</dd>
<dt>Interoperability considerations:</dt>
<dd>The media type provides 
functionality similar to the message/rfc822 content type for email 
messages with international email headers.  When there is a need to 
embed or return such content in another message, there is generally an 
option to use this media type and leave the content unchanged or 
down-convert the content to message/rfc822.  Both of these choices will 
interoperate with the installed base, but with different properties.  
Systems unaware of internationalized headers will typically treat a 
message/global body part as an unknown attachment, while they will 
understand the structure of a message/rfc822.  However, systems that
understand message/global will provide functionality superior to the 
result of a down-conversion to message/rfc822.  The most interoperable 
choice depends on the deployed software.
</dd>
<dt>Published specification:</dt>
<dd>RFC XXXX
</dd>
<dt>Applications that use this media type:</dt>
<dd>SMTP servers and 
email clients that support multipart/report generation or parsing.  
Email clients which forward messages with international headers as 
attachments.
</dd>
<dt>Additional information:</dt>
<dd>
</dd>
<dt>Magic number(s):</dt>
<dd>none
</dd>
<dt>File extension(s):</dt>
<dd>The extension ".u8msg" is suggested.
</dd>
<dt>Macintosh file type code(s):</dt>
<dd>A uniform type identifier 
(UTI) of "public.utf8-email-message" is suggested.  This conforms to 
"public.message" and "public.composite-content", but does not necessarily 
conform to "public.utf8-plain-text".
</dd>
<dt>Person &amp; email address to contact for further 
information:</dt>
<dd>See the Author's Address section of this document.
</dd>
<dt>Intended usage:</dt>
<dd>COMMON
</dd>
<dt>Restrictions on usage:</dt>
<dd>This is a structured media type 
which embeds other MIME media types.  The 8-bit or binary 
content-transfer-encoding SHOULD be used unless this media type is sent 
over a 7-bit-only transport.
</dd>
<dt>Author:</dt>
<dd>See the Author's Address section of this document.
</dd>
<dt>Change controller:</dt>
<dd>IETF Standards Process
</dd>
</dl></blockquote>

<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
	If a user has a non-ASCII mailbox address and an ASCII mailbox
	address, a digital certificate that identifies that user may have
	both addresses in the identity. Having multiple email addresses as
	identities in a single certificate is already supported in
	PKIX (Public Key Infrastructure for X.509 Certificates) <a class='info' href='#RFC5280'>[RFC5280]<span> (</span><span class='info'>Cooper, D., Santesson, S., Farrell, S., Boeyen, S., Housley, R., and W. Polk, &ldquo;Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile,&rdquo; May&nbsp;2008.</span><span>)</span></a> 
	and OpenPGP <a class='info' href='#RFC3156'>[RFC3156]<span> (</span><span class='info'>Elkins, M., Del Torto, D., Levien, R., and T. Roessler, &ldquo;MIME Security with OpenPGP,&rdquo; August&nbsp;2001.</span><span>)</span></a>.	

</p>
<p>
	Because UTF-8 often requires several octets to encode a single character, 
	internationalized local parts and header value may cause mail addresses to
	become longer. As specified in <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>, each line of 
	characters MUST be no more 998 octets, excluding the CRLF. On the other 
	hand, MDA (Mail Delivery Agent) processes that parse, store, or handle email 
	addresses or local parts must take extra care not to overflow buffers, 
	truncate addresses,	or exceed storage allotments. Also, they must take care, 
	when comparing, to use the entire lengths of the addresses.

</p>
<p>

The security impact of UTF-8 headers on email signature systems such as 
Domain Keys Identified Mail (DKIM), S/MIME, and OpenPGP is discussed in 
<a class='info' href='#I-D.ietf-eai-frmwrk-4952bis'>[I&#8209;D.ietf&#8209;eai&#8209;frmwrk&#8209;4952bis]<span> (</span><span class='info'>Klensin, J. and Y. Ko, &ldquo;Overview and Framework for Internationalized Email,&rdquo; September&nbsp;2010.</span><span>)</span></a>, Section 14.  


</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>
IANA is requested to update the registration of the message/global MIME type using the
  registration form contained in <a class='info' href='#utf8smtp'>Section&nbsp;4.6<span> (</span><span class='info'>message/global</span><span>)</span></a>.

</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgements</h3>

<p>
This document incorporates many ideas first described in 
Internet-Draft form by Paul Hoffman, although many details have
changed from that earlier work.

</p>
<p>
The author especially thanks Jeff Yeh for his efforts and contributions
on editing previous versions. 

</p>
<p>
Most of the content of this document is provided by John C Klensin. 
Also, some significant comments and suggestions were received from Charles H. Lindsey, 
Kari Hurtta, Pete Resnick, Alexey Melnikov, Chris Newman, Yangwoo Ko, Yoshiro Yoneya, 
and other members of the JET team (Joint Engineering Team) and were incorporated into the document.
The editor sincerely thanks them for their contributions. 

</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Edit history</h3>

<p>
[[RFC Editor: please remove this section before publishing.]]

</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
draft-ietf-eai-rfc5335bis-00</h3>

<p>
</p>
<ol class="text">
<li>Applied Errata suggested by Alfred Hoenes.
</li>
<li>Adjust [RFC2821] and [RFC2822] to <a class='info' href='#RFC5321'>[RFC5321]<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; October&nbsp;2008.</span><span>)</span></a> and <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>.
</li>
<li>Abrogate &lt;alt-address&gt; in ABNF of &lt;angle-addr&gt;.
</li>
<li>Revoke [RFC5504] from this document.
</li>
<li>Upgrade some references from I-Ds to RFC.
</li>
</ol><p>

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
draft-ietf-eai-rfc5335bis-01</h3>

<p>
</p>
<ol class="text">
<li>Author name revised.
</li>
</ol><p>

</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3"></a><h3>8.3.&nbsp;
draft-ietf-eai-rfc5335bis-02</h3>

<p>
</p>
<ol class="text">
<li>ABNF revised.
</li>
</ol><p>

</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4"></a><h3>8.4.&nbsp;
draft-ietf-eai-rfc5335bis-03</h3>

<p>
</p>
<ol class="text">
<li>Fix typos 
</li>
<li>ABNF revised 
</li>
<li>Improve sentence
</li>
</ol><p>

</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.5"></a><h3>8.5.&nbsp;
draft-ietf-eai-rfc5335bis-04</h3>

<p>
</p>
<ol class="text">
<li>improve sentences and ABNF revised based on AD and Co-chairs 
</li>
</ol><p>

</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.6"></a><h3>8.6.&nbsp;
draft-ietf-eai-rfc5335bis-05</h3>

<p>
</p>
<ol class="text">
<li>ABNF revised in <a class='info' href='#change_addr_spec'>Section&nbsp;4.4<span> (</span><span class='info'>Change on addr-spec Syntax</span><span>)</span></a> based on AD comments 
</li>
</ol><p>

</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.7"></a><h3>8.7.&nbsp;
draft-ietf-eai-rfc5335bis-06</h3>

<p>
</p>
<ol class="text">
<li>ABNF revised 
</li>
<li>improve <a class='info' href='#IANA'>Section&nbsp;6<span> (</span><span class='info'>IANA Considerations</span><span>)</span></a> 
</li>
</ol><p>

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-eai-5378bis">[I-D.ietf-eai-5378bis]</a></td>
<td class="author-text">Resnick, P., Newman, C., and S. Shen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-5378bis-00.txt">IMAP Support for UTF-8</a>,&rdquo; draft-ietf-eai-5378bis-00 (work in progress), November&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-5378bis-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-eai-frmwrk-4952bis">[I-D.ietf-eai-frmwrk-4952bis]</a></td>
<td class="author-text">Klensin, J. and Y. Ko, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-frmwrk-4952bis-10.txt">Overview and Framework for Internationalized Email</a>,&rdquo; draft-ietf-eai-frmwrk-4952bis-10 (work in progress), September&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-frmwrk-4952bis-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-eai-rfc5336bis">[I-D.ietf-eai-rfc5336bis]</a></td>
<td class="author-text">Yao, J. and W. MAO, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-rfc5336bis-07.txt">SMTP Extension for Internationalized Email Address</a>,&rdquo; draft-ietf-eai-rfc5336bis-07 (work in progress), December&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-rfc5336bis-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-eai-rfc5721bis">[I-D.ietf-eai-rfc5721bis]</a></td>
<td class="author-text">Gellens, R., Newman, C., Yao, J., and K. Fujiwara, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-rfc5721bis-00.txt">POP3 Support for UTF-8</a>,&rdquo; draft-ietf-eai-rfc5721bis-00 (work in progress), September&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-rfc5721bis-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="NFC">[NFC]</a></td>
<td class="author-text">Davis, M. and K. Whistler, &ldquo;<a href="http://www.unicode.org/reports/tr15/">Unicode Standard Annex #15: Unicode Normalization Forms</a>,&rdquo; September&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3629">[RFC3629]</a></td>
<td class="author-text">Yergeau, F., &ldquo;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>,&rdquo; STD&nbsp;63, RFC&nbsp;3629, November&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3629.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5198">[RFC5198]</a></td>
<td class="author-text">Klensin, J. and M. Padlipsky, &ldquo;<a href="http://tools.ietf.org/html/rfc5198">Unicode Format for Network Interchange</a>,&rdquo; RFC&nbsp;5198, March&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5198.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text">Crocker, D. and P. Overell, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5234.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5321">[RFC5321]</a></td>
<td class="author-text">Klensin, J., &ldquo;<a href="http://tools.ietf.org/html/rfc5321">Simple Mail Transfer Protocol</a>,&rdquo; RFC&nbsp;5321, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5321.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5322">[RFC5322]</a></td>
<td class="author-text"><a href="mailto:presnick@qualcomm.com">Resnick, P., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5322">Internet Message Format</a>,&rdquo; RFC&nbsp;5322, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5322.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc5322.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc5322.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1652">[RFC1652]</a></td>
<td class="author-text"><a href="mailto:klensin@mci.net">Klensin, J.</a>, <a href="mailto:ned@innosoft.com">Freed, N.</a>, <a href="mailto:mrose@dbc.mtview.ca.us">Rose, M.</a>, <a href="mailto:stef@nma.com">Stefferud, E.</a>, and <a href="mailto:dcrocker@sgi.com">D. Crocker</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1652">SMTP Service Extension for 8bit-MIMEtransport</a>,&rdquo; RFC&nbsp;1652, July&nbsp;1994 (<a href="http://www.rfc-editor.org/rfc/rfc1652.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2045">[RFC2045]</a></td>
<td class="author-text"><a href="mailto:ned@innosoft.com">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com">N. Borenstein</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2045">Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</a>,&rdquo; RFC&nbsp;2045, November&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2045.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2046">[RFC2046]</a></td>
<td class="author-text"><a href="mailto:ned@innosoft.com">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com">N. Borenstein</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2046">Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</a>,&rdquo; RFC&nbsp;2046, November&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2046.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2047">[RFC2047]</a></td>
<td class="author-text"><a href="mailto:moore@cs.utk.edu">Moore, K.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2047">MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</a>,&rdquo; RFC&nbsp;2047, November&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2047.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2047.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2047.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3156">[RFC3156]</a></td>
<td class="author-text">Elkins, M., Del Torto, D., Levien, R., and T. Roessler, &ldquo;<a href="http://tools.ietf.org/html/rfc3156">MIME Security with OpenPGP</a>,&rdquo; RFC&nbsp;3156, August&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3156.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5280">[RFC5280]</a></td>
<td class="author-text">Cooper, D., Santesson, S., Farrell, S., Boeyen, S., Housley, R., and W. Polk, &ldquo;<a href="http://tools.ietf.org/html/rfc5280">Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>,&rdquo; RFC&nbsp;5280, May&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5280.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Abel Yang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">TWNIC</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">4F-2, No. 9, Sec 2, Roosevelt Rd.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Taipei,   100</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Taiwan</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+886 2 23411313 ext 505</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:abelyang@twnic.net.tw">abelyang@twnic.net.tw</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Shawn Steele</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:Shawn.Steele@microsoft.com">Shawn.Steele@microsoft.com</a></td></tr>
</table>
</body></html>
